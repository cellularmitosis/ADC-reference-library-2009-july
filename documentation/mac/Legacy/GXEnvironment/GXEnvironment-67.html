<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Disposing of a Graphics Client and Graphics Client Heap(IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING67></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-66.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-68.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-59.html"><B>Chapter 2 - QuickDraw GX Memory Management</B></A> / <A HREF="GXEnvironment-64.html"><B>Using Graphics Clients and Graphics Client Heaps</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING67-0></A>
<H2><A NAME=MARKER-9-53></A>Disposing of a Graphics Client and Graphics Client Heap</H2>
 <A NAME=MARKER-2-5></A><A NAME=MARKER-2-281></A><A NAME=MARKER-9-175></A><A NAME=MARKER-2-57></A><A NAME=MARKER-9-6></A>When your application no longer needs a graphics client and its heap, you should <B>dispose</B> of them to free memory blocks. You can use the <CODE>GXExitGraphics</CODE> and <CODE>GXDisposeGraphicsClient</CODE> functions to do this. <P>
 While you are writing and debugging your application, it is a good idea to be meticulous about disposing of all graphics clients and graphics client heaps at the end of your application. As a result, you should use the <CODE>GXExitGraphics</CODE> function to dispose of the currently active graphics client heap and the <CODE>GXDisposeGraphicsClient</CODE> function to dispose of each active graphics client. If your application does not make these calls, QuickDraw GX automatically disposes of all graphics clients and heaps that belong to the exiting application. However, in this case, the graphics clients and heaps are considered aborted instead of being disposed of normally, and therefore QuickDraw GX does not report any errors that occur during the process of disposing of these graphics clients and heaps. <A HREF=#MARKER-9-59>Listing 2-3</A> shows how to properly dispose of a graphics client and its heap.<P>
<B>Listing 2-3  <A NAME=MARKER-9-59></A>Disposing of graphics clients and graphics client heaps</B><P>
<PRE>
.
. /* QuickDraw GX application code */
.
GXExitGraphics(void);
GXDisposeGraphicsClient(client);
}
</PRE>
 Once your application is ready to ship, be sure to remove the terminating <CODE>GXExitGraphics</CODE> and <CODE>GXDisposeGraphicsClient</CODE> function calls and rely on QuickDraw GX to automatically dispose of all of your graphics clients and their heaps for your exiting application. When your application quits, it is much faster for QuickDraw GX to throw away all of the graphics clients and their graphics client heaps, rather than to dispose of each of them sequentially. This approach is analogous to quitting an application rather than taking the extra time to close multiple application windows. <P>
 The <CODE>GXExitGraphics</CODE> function is described on <A HREF=GXEnvironment-84.html#MARKER-9-139>page 2-23</A>. The <CODE>GXDisposeGraphics</CODE> function is described on <A HREF=GXEnvironment-81.html#MARKER-9-129>page 2-21</A>.<A NAME=MARKER-2-53></A><A NAME=MARKER-2-101></A><A NAME=MARKER-2-69></A><A NAME=MARKER-2-18></A><A NAME=MARKER-2-64></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-66.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-68.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
