<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>EODatabaseDataSource</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">EOAccess Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="More/EODatabaseContext_more.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="EODatabaseOperation.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/java/cl/EODatabaseDataSource">EODatabaseDataSource</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
com.apple.yellow.eocontrol.EODataSource : NSObject

<p><B>Inherits From:</B><BR>  
com.apple.yellow.eoaccess

<p><a name="8566">
<hr width=50% align=left>
<h2>Class Description </h2>
</a>EODatabaseDataSource is a concrete subclass of EODataSource (defined in EOControl) that fetches objects based on an EOModel, using an EODatabaseContext that services the data source's EOEditingContext (defined in EOControl). An EODatabaseDataSource can be set up to fetch all objects for its root entity, to fetch objects matching a particular EOFetchSpecification, and to further filter its fetching with an auxiliary qualifier.<p>
EODatabaseDataSource implements all the functionality defined by EODataSource: In addition to fetching objects, it can insert and delete them (provided the entity isn't read-only). See the EODataSource class specification for more information on these topics.<p>
As with other data sources, EODatabaseDataSource can also provide a detail data source. The most significant consequence of using an master-detail configuration is that the detail operates directly on the master's object graph. The EODetailDataSource has a <em>master object</em> and a <em>detail key</em> through which the detail data source accesses the its objects. The master object is simply the object that's selected in the master display group, and the detail key is the name of a relationship property in the master object. When the detail display group asks its data source to fetch, the EODetailDataSource simply gets the value for the relationship property named <em>detail key</em> from its master object and returns it. When you add and remove objects from the detail, you're directly modifying the master's relationship array. In fact, you can think of EODetailDataSource as an interface to its master object's relationship property.<p>
<a name="3326">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Constructors
<dl><dt><a href="EODatabaseDataSource.html#7166">EODatabaseDataSource</a>
</dl><dt>Accessing selection criteria
<dl><dt><a href="EODatabaseDataSource.html#2629">auxiliaryQualifier</a>
<dt><a href="EODatabaseDataSource.html#2797">fetchSpecification</a>
<dt><a href="EODatabaseDataSource.html#243">fetchSpecificationForFetch</a>
<dt><a href="EODatabaseDataSource.html#8151">fetchSpecificationName</a>
<dt><a href="EODatabaseDataSource.html#8481">setAuxiliaryQualifier</a>
<dt><a href="EODatabaseDataSource.html#262">setFetchSpecification</a>
<dt><a href="EODatabaseDataSource.html#8190">setFetchSpecificationByName</a>
</dl><dt>Accessing objects used for fetching
<dl><dt><a href="EODatabaseDataSource.html#8337">entity</a>
<dt><a href="EODatabaseDataSource.html#233">databaseContext</a>
</dl><dt>Enabling fetching
<dl><dt><a href="EODatabaseDataSource.html#258">setFetchEnabled</a>
<dt><a href="EODatabaseDataSource.html#250">isFetchEnabled</a>
</dl><dt>Accessing qualifier bindings
<dl><dt><a href="EODatabaseDataSource.html#8593">qualifierBindingKeys</a>
<dt><a href="EODatabaseDataSource.html#8602">qualifierBindings</a>
<dt><a href="EODatabaseDataSource.html#8639">setQualifierBindings</a>
</dl><dt>Other
<dl><dt><a href="EODatabaseDataSource.html#8042">deleteObject</a>
<dt><a href="EODatabaseDataSource.html#8017">insertObject</a>
<dt><a href="EODatabaseDataSource.html#8075">dataSourceQualifiedByKey</a>
<dt><a href="EODatabaseDataSource.html#8057">qualifyWithRelationshipKey</a>
</dl></dl><a name="7164">
<hr width=50% align=left>
<h2>Constructors </h2>
</a><a name="7166">
<hr width=25% align=left>
<h3> EODatabaseDataSource</h3>
</a>public <code>EODatabaseDataSource</code>()<p>
public <code>EODatabaseDataSource</code>(com.apple.yellow.eocontrol.EOEditingContext <em>anEditingContext</em>, java.lang.String <em>anEntityName</em>)<p>
public <code>EODatabaseDataSource</code>(com.apple.yellow.eocontrol.EOEditingContext <em>anEditingContext</em>, java.lang.String <em>anEntityName</em>, java.lang.String <em>fetchSpecificationName</em>)<p>
Creates and returns a new EODatabaseDataSource object. The new EODatabaseDataSource fetches objects into <em>anEditingContext</em> for the EOEntity named by <em>anEntityName</em>. If <em>anEditingContext</em>'s com.apple.yellow.eocontrol.EOObjectStoreCoordinator doesn't have an EODatabaseChannel that services the EOModel containing the named EOEntity, this method creates one. The <em>fetchSpecificationName</em> argument is used to find the named fetch specification in the entity. If the <em>fetchSpecificationName</em> is not included or is <code>nil</code>, a new fetch specification will be instantiated that will fetch all objects of the entity<p><a name="2627">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="2629">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/auxiliaryQualifier">auxiliaryQualifier</a></h3>
</a>public com.apple.yellow.eocontrol.EOQualifier <code>auxiliaryQualifier</code>()<p>
Returns the EOQualifier used to further filter the objects fetched by the receiver's EOFetchSpecification (in EOControl). <p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8481"><code>setAuxiliaryQualifier</code></a>, <a href="EODatabaseDataSource.html#243"><code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2797"><code>fetchSpecification</code></a>
<p><a name="233">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/databaseContext">databaseContext</a></h3>
</a>public EODatabaseContext <code>databaseContext</code>()<p>
Returns the EODatabaseContext that the receiver uses to access the external database. This is either the root EOObjectStore for the receiver's EOEditingContext, or if the root is an EOCooperatingObjectStore, it's the EODatabaseContext under that EOCooperatingObjectStore that services the EOModel containing the EOEntity for the receiver. (EOObjectStore, EOEditingContext, and EOCooperatingObjectStore are all defined in EOControl.)<p>
<a name="8075">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/dataSourceQualifiedByKey">dataSourceQualifiedByKey</a></h3>
</a>public com.apple.yellow.eocontrol.EODataSource <code>dataSourceQualifiedByKey</code>(java.lang.String <em>key</em>)<p>
Returns a detail data source that provides the destination objects of the relationship named by <em>key</em>. The returned detail data source can be qualified by using <code>qualifierWithKey</code> to set a specific master object or to change the relationship key.<p>
<a name="8042">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/deleteObject">deleteObject</a></h3>
</a>public void <code>deleteObject</code>(java.lang.Object <em>anObject</em>)<p>
Deletes <em>anObject</em> from the data source. This method raises an exception on failure. If the receiver registers undos for the deletion, the receiver may receive a possibly redundant <a href="EODatabaseDataSource.html#8017"><code>insertObject</code></a> call.<p>
<a name="8337">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/entity">entity</a></h3>
</a>public EOEntity <code>entity</code>()<p>
Returns the EOEntity from which the receiver fetches objects.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#7164">"Constructors"</a>
<p><a name="2797">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a></h3>
</a>public com.apple.yellow.eocontrol.EOFetchSpecification <code>fetchSpecification</code>()<p>
Returns the receiver's basic EOFetchSpecification. Its EOQualifier is conjoined with the receiver's auxiliary EOQualifier when the receiver fetches objects. The sender of this message can alter the EOFetchSpecification directly, or replace it using <a href="EODatabaseDataSource.html#262"><code>setFetchSpecification</code></a>.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#243"><code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2629"><code>auxiliaryQualifier</code></a>
<p><a name="243">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a></h3>
</a>public com.apple.yellow.eocontrol.EOFetchSpecification <code>fetchSpecificationForFetch</code>()<p>
Returns a copy of the EOFetchSpecification that the receiver uses to fetch. This is constructed by conjoining the EOQualifier of the receiver's EOFetchSpecification with its auxiliary EOQualifier. Modifying the returned EOFetchSpecification doesn't affect the receiver's fetching behavior; use <a href="EODatabaseDataSource.html#262"><code>setFetchSpecification</code></a> and <a href="EODatabaseDataSource.html#8481"><code>setAuxiliaryQualifier</code></a> for that purpose.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#2797"><code>fetchSpecification</code></a>, <a href="EODatabaseDataSource.html#2629"><code>auxiliaryQualifier</code></a>
<p><a name="8151">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/fetchSpecificationName">fetchSpecificationName</a></h3>
</a>public java.lang.String <code>fetchSpecificationName</code>()<p>
Returns the name of the fetch specification (or <code>null</code> if there is no name).<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8190"><code>setFetchSpecificationByName</code></a>
<p><a name="8017">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/insertObject">insertObject</a></h3>
</a>public void <code>insertObject</code>(java.lang.Object <em>anObject</em>)<p>
Inserts <em>object into the data source</em>.<p>
<a name="250">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/isFetchEnabled">isFetchEnabled</a></h3>
</a>public boolean <code>isFetchEnabled()</code><p>
Returns <code>true</code> if the receiver's <code>fetchObjects</code> method actually fetches objects, <code>false</code> if it returns an empty array without fetching. Fetching is typically disabled in a master-peer configuration when no object is selected in the master.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#258"><code>setFetchEnabled</code></a>
<p><a name="8593">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/qualifierBindingKeys">qualifierBindingKeys</a></h3>
</a>public NSArray <code>qualifierBindingKeys</code>()<p>
Returns an array of strings which is a union of the binding keys from the fetch specification's qualifier and the data source's auxiliary qualifier.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8639"><code>setQualifierBindings</code></a>
<p><a name="8602">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/qualifierBindings">qualifierBindings</a></h3>
</a>public NSDictionary <code>qualifierBindings</code>()<p>
Returns a set of bindings that will be used for variable replacement on the fetch specification's qualifier and the auxiliary qualifier before the fetch is executed.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8639"><code>setQualifierBindings</code></a>
<p><a name="8057">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/qualifyWithRelationshipKey">qualifyWithRelationshipKey</a></h3>
</a>public void <code>qualifyWithRelationshipKey</code>(java.lang.String <em>key</em>, java.lang.Object <em>sourceObject</em>)<p>
Displays destination objects for the relationship named <em>key</em> belonging to <em>sourceObject</em>. <em>key</em> should be the same as the key specified in the <a href="EODatabaseDataSource.html#8075"><code>dataSourceQualifiedByKey</code></a> message that created the receiver. If <em>sourceObject</em> is <code>null</code>, the receiver qualifies itself to provide no objects.<p>
<a name="8481">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/setAuxiliaryQualifier">setAuxiliaryQualifier</a></h3>
</a>public void <code>setAuxiliaryQualifier</code>(com.apple.yellow.eocontrol.EOQualifier <em>aQualifier</em>)<p>
Sets the receiver's auxiliary qualifier to <em>aQualifier</em>. The auxiliary qualifier usually adds conditions to the primary qualifier and is useful for narrowing the scope of a data source without altering its primary qualifier. This is especially useful for setting a qualifier on a qualified peer data source, since a peer's primary qualifiers specifies the matching criteria for the relationship it fetches for. For more information on auxiliary qualifiers, see "Creating a Master-Peer Configuration" in the "WebObjects Programming Topics." <p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#243"><code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2797"><code>fetchSpecification</code></a>, <a href="EODatabaseDataSource.html#2629"><code>auxiliaryQualifier</code></a>
<p><a name="258">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/setFetchEnabled">setFetchEnabled</a></h3>
</a>public void <code>setFetchEnabled</code>(boolean <em>flag</em>)<p>
Controls whether the receiver can fetch. If <em>flag</em> is <code>true</code> the receiver's <code>fetchObjects</code> method actually fetches objects, if <code>false</code> it returns an empty array without fetching. Fetching is typically disabled in a master-peer configuration when no object is selected in the master. For example, EODatabaseDataSource's implementation of <HR WIDTH=50% ALIGN=LEFT>
<h1></h1>  
qualifyWithRelationshipKey:ofObject:
 invokes this method to enable or disable fetching based on whether a master object is provided.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#250"><code>isFetchEnabled</code></a>
<p><a name="262">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecification">setFetchSpecification</a></h3>
</a>public void <code>setFetchSpecification</code>(com.apple.yellow.eocontrol.EOFetchSpecification <em>aFetchSpecification</em>)<p>
Sets the receiver's basic EOFetchSpecification to <em>aFetchSpecification</em>. Its EOQualifier is conjoined with the receiver's auxiliary EOQualifier when the receiver fetches objects. This method also sets the name of the fetch specification to null.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8481"><code>setAuxiliaryQualifier</code></a>, <a href="EODatabaseDataSource.html#243"><code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2797"><code>fetchSpecification</code></a>, 
<a href="EODatabaseDataSource.html#8190"><code>setFetchSpecificationByName</code></a>
<p><a name="8190">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/setFetchSpecificationByName">setFetchSpecificationByName</a></h3>
</a>public void <code>setFetchSpecificationByName</code>(java.lang.String <em>fetchSpecificationName</em>)<p>
Sets the <em>fetchSpecificationName</em> as given, and sets the fetch specification (used when supplying objects) to the named fetch specification of the entity that was used to initialize the data source. This method is an alternative to <a href="EODatabaseDataSource.html#262"><code>setFetchSpecification</code></a>.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8151"><code>fetchSpecificationName</code></a>
<p><a name="8639">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EODatabaseDataSource/setQualifierBindings">setQualifierBindings</a></h3>
</a>public void <code>setQualifierBindings</code>(NSDictionary <em>bindings</em>)<p>
Sets a set of bindings that will be used for variable replacement on the fetch specification's qualifier and the auxiliary qualifier before the fetch is executed.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8593"><code>qualifierBindingKeys</code></a>, <a href="EODatabaseDataSource.html#8602"><code>qualifierBindings</code></a>
<p>
<hr><br>
<a href="More/EODatabaseContext_more.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="EODatabaseOperation.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/15/98 18:14:44 -->

</body>
</html>
