<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Objective-C 1 Runtime Reference (Not Recommended)</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Objective-C 1 Runtime Reference (Not Recommended)"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005354-DontLinkChapterID_1" title="Objective-C 1 Runtime Reference (Not Recommended)"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30001281-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../../reference/LegacyTechnologies/idxCocoa-date.html#//apple_ref/doc/uid/TP30001281-TP30000470-TP30000495" target="_top">Cocoa</a> &gt; <a href="../index.html" target="_top">Objective-C 1 Runtime Reference (Not Recommended)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory/RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP40005354-DontLinkChapterID_1-DontLinkElementID_2" title="Objective-C 1 Runtime Reference (Not Recommended)"></a><h1>Objective-C 1 Runtime Reference (Not Recommended)</h1><a name="//apple_ref/doc/uid/20001426-SW1" title="Overview"></a><div class="importantbox"><a name="//apple_ref/doc/uid/20001426-DontLinkElementID_3" title="Important:"></a><p><strong>Important:</strong>&nbsp;The information in this document is obsolete and should not be used for new development.</p><p></p></div><h2>Overview</h2><p>This document describes the Mac OS X Objective-C runtime library support functions and data structures for version 1 of the language. The functions are implemented in the shared library found at <code>/usr/lib/libobjc.A.dylib</code>. This shared library provides support for the dynamic properties of the Objective-C language, and as such is linked to by all Objective-C applications.</p>
<p>This legacy document is useful primarily for developing bridge layers between Objective-C and other languages, or for low-level debugging for versions of Mac OS X prior to 10.5. You typically do not need to use the Objective-C runtime library directly when programming in Objective-C.</p><p>For the current version of the runtime, see <em><a href="../../ObjCRuntimeRef/index.html#//apple_ref/doc/uid/TP40001418" target="_top">Objective-C 2.0 Runtime Reference</a></em> and <em><a href="../../../Conceptual/ObjCRuntimeGuide/index.html#//apple_ref/doc/uid/TP40008048" target="_top">Objective-C 2.0 Runtime Programming Guide</a></em>.</p>
<p>The Mac OS X implementation of the Objective-C runtime library is unique to the Mac OS X platform. For other platforms, the GNU Compiler Collection provides a different implementation with a similar API. This document covers only the Mac OS X implementation.</p><a name="//apple_ref/doc/uid/TP40005354-DontLinkChapterID_1-DontLinkElementID_1" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-88860" title="Accessing Selectors"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF101" title="Accessing Selectors"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF110" title="Accessing Selectors"></a>Accessing Selectors</h3>
    <p>This section describes the Objective-C runtime functions that you can use to manipulate selectors. These functions are declared in <code>/usr/include/objc/objc.h</code>.</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/sel_getName">sel_getName</a></code> returns the name of the method specified by the selector.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/sel_isMapped">sel_isMapped</a></code> indicates whether a selector is registered.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/sel_registerName">sel_registerName</a></code> registers a method with the Objective-C runtime system, maps the method name to a selector, and returns the selector value.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/sel_getUid">sel_getUid</a></code> registers a method name with the Objective-C runtime system.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/sel_getName">sel_getName</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the name of the method specified by the selector.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/sel_isMapped">sel_isMapped</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Indicates whether a selector is registered.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/sel_registerName">sel_registerName</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Registers a method with the Objective-C runtime system, maps the method name to a selector, and returns the selector value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/sel_getUid">sel_getUid</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Registers a method name with the Objective-C runtime system.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-88778" title="Sending Messages"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF102" title="Sending Messages"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF111" title="Sending Messages"></a>Sending Messages</h3>
    <p>When it encounters a method invocation, the compiler might generate a call to any of several functions to perform the actual message dispatch, depending on the receiver, the return value, and the arguments. You can use these functions to dynamically invoke methods from your own plain C code, or to use argument forms not permitted by NSObject’s <code>perform...</code> methods. These functions are declared in <code>/usr/include/objc/objc-runtime.h</code>.</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSend">objc_msgSend</a></code> sends a message with a simple return value to an instance of a class.</p></li><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSend_fpret">objc_msgSend_fpret</a></code> sends a message with a floating point return value to an instance of a class (i386 only).</p></li><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSend_stret">objc_msgSend_stret</a></code> sends a message with a data-structure return value to an instance of a class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSendSuper">objc_msgSendSuper</a></code> sends a message with a simple return value to the superclass of an instance of a class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSendSuper_stret">objc_msgSendSuper_stret</a></code> sends a message with a data-structure return value to the superclass of an instance of a class.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSend">objc_msgSend</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends a message with a simple return value to an instance of a class.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSend_fpret">objc_msgSend_fpret</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends a message with a floating-point return value to an instance of a class.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSend_stret">objc_msgSend_stret</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends a message with a data-structure return value to an instance of a class.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSendSuper">objc_msgSendSuper</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends a message with a simple return value to the superclass of an instance of a class.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSendSuper_stret">objc_msgSendSuper_stret</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends a message with a data-structure return value to the superclass of an instance of a class.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-125829" title="Forwarding Messages"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCDBJFB" title="Forwarding Messages"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF132" title="Forwarding Messages"></a>Forwarding Messages</h3>
    <p>This section describes the functions used by <code>NSObject</code> and <code>NSInvocation</code> to forward method invocations. The arguments to the method are given as a list of arguments, and as such the nature of the calling convention varies for each CPU architecture. To invoke a method normally or to call a superclass method implementation, use the functions described in <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005354-CH1g-88778">“Sending Messages.”</a></span> These functions are declared in <code>/usr/include/objc/objc-runtime.h</code> and <code>objc-class.h</code>.</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSendv_fpret">objc_msgSendv_fpret</a></code> sends a message with a simple return value.</p></li><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSendv_fpret">objc_msgSendv_fpret</a></code> sends a message with a floating-point return value (i386 only).</p></li><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_msgSendv_stret">objc_msgSendv_stret</a></code> sends a message with a data-structure return value.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/marg_malloc">marg_malloc</a></code> allocates an argument list.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/marg_free">marg_free</a></code> releases an argument list.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/marg_getRef">marg_getRef</a></code> returns a pointer to an argument in an argument list.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/marg_getValue">marg_getValue</a></code> returns the value of an argument in an argument list.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/marg_setValue">marg_setValue</a></code> sets the value of an argument in an argument list.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSendv">objc_msgSendv</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Given an argument list, send a message with a simple return value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSendv_fpret">objc_msgSendv_fpret</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Given an argument list, send a message with a floating point return value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_msgSendv_stret">objc_msgSendv_stret</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Given an argument list, send a message with a data-structure return value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/marg_malloc">marg_malloc</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Macro that allocates an argument list.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/marg_free">marg_free</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Macro that releases an argument list.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/marg_getRef">marg_getRef</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Macro that returns a pointer to an argument in an argument list.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/marg_getValue">marg_getValue</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Macro that returns the value of an argument in an argument list.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/marg_setValue">marg_setValue</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Macro that sets the value of an argument in an argument list.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-211911" title="Adding Classes"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF103" title="Adding Classes"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF112" title="Adding Classes"></a>Adding Classes</h3>
    <p>The function <code><a href="reference.html#//apple_ref/c/func/objc_addClass">objc_addClass</a></code> is used to register a class with the Objective-C runtime. This function is declared in <code>/usr/include/objc/objc-runtime.h</code>.</p>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_addClass">objc_addClass</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Registers a class definition with the Objective-C runtime.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-126286" title="Accessing Methods"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF104" title="Accessing Methods"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF113" title="Accessing Methods"></a>Accessing Methods</h3>
    <p>These functions allow you to access information about methods (they are declared in <code>/usr/include/objc/objc-class.h</code>):</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_getInstanceMethod">class_getInstanceMethod</a></code> returns a pointer to the data structure describing the specified instance method.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_getClassMethod">class_getClassMethod</a></code> returns a pointer to the data structure describing the specified class method.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_nextMethodList">class_nextMethodList</a></code> returns one of the method lists contained in the specified class definition.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_addMethods">class_addMethods</a></code> adds a list of methods to a class definition.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_removeMethods">class_removeMethods</a></code> removes a previously added list of methods from a class definition.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/method_getNumberOfArguments">method_getNumberOfArguments</a></code> returns the number of arguments accepted by a method.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/method_getSizeOfArguments">method_getSizeOfArguments</a></code> returns the total size of the stack frame occupied by a method’s arguments.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/method_getArgumentInfo">method_getArgumentInfo</a></code> returns information about one of a method’s arguments.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_getInstanceMethod">class_getInstanceMethod</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a pointer to the data structure describing the specified instance method.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_getClassMethod">class_getClassMethod</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a pointer to the data structure describing the specified class method.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_nextMethodList">class_nextMethodList</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns one of the method lists contained in the specified class definition.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_addMethods">class_addMethods</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a list of methods to a class definition.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_removeMethods">class_removeMethods</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a previously added list of methods from a class definition.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/method_getNumberOfArguments">method_getNumberOfArguments</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the number of arguments accepted by a method.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/method_getSizeOfArguments">method_getSizeOfArguments</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the total size of the stack frame occupied by a method’s arguments.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/method_getArgumentInfo">method_getArgumentInfo</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns information about one of a method’s arguments.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-188234" title="Accessing Instance Variable Definitions"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF105" title="Accessing Instance Variable Definitions"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF114" title="Accessing Instance Variable Definitions"></a>Accessing Instance Variable Definitions</h3>
    <p>The <code><a href="reference.html#//apple_ref/c/func/class_getInstanceVariable">class_getInstanceVariable</a></code> method allows you to access information about instance variables. It’s declared in <code>/usr/include/objc/objc-class.h</code>.</p>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_getInstanceVariable">class_getInstanceVariable</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains information about the instance variables defined for a particular class.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-130380" title="Accessing the Class Version"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF106" title="Accessing the Class Version"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF115" title="Accessing the Class Version"></a>Accessing the Class Version</h3>
    <p>These functions let you set and get the version of a class definition (they are declared in <code>/usr/include/objc/objc-class.h</code>):</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_setVersion">class_setVersion</a></code> sets the version number of a class definition.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_getVersion">class_getVersion</a></code> returns the version number of a class definition.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_setVersion">class_setVersion</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the version number of a class definition.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_getVersion">class_getVersion</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the version number of a class definition.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-89902" title="Posing As Another Class"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF107" title="Posing As Another Class"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF116" title="Posing As Another Class"></a>Posing As Another Class</h3>
    <p>The <code><a href="reference.html#//apple_ref/c/func/class_poseAs">class_poseAs</a></code> function globally overrides a specified class definition with a different class definition. The method is declared in <code>/usr/include/objc/objc-class.h</code>.</p>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_poseAs">class_poseAs</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Globally override a specified class definition with a different class definition.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-184642" title="Obtaining Class Definitions"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF108" title="Obtaining Class Definitions"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF117" title="Obtaining Class Definitions"></a>Obtaining Class Definitions</h3>
    <p>These functions give you access to class definitions (they are declared in <code>/usr/include/objc/objc-runtime.h</code>):</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_getClassList">objc_getClassList</a></code> obtains the list of registered class definitions.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code> returns a pointer to the class definition of the specified class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_lookUpClass">objc_lookUpClass</a></code> returns a pointer to the class definition of the specified class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_getMetaClass">objc_getMetaClass</a></code> returns a pointer to the metaclass definition of the specified class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/objc_setClassHandler">objc_setClassHandler</a></code> sets a custom error-handling callback function called from <code>getMetaClass</code> and <code>objc_getClass</code> when the desired class is not found.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_getClassList">objc_getClassList</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains the list of registered class definitions.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a pointer to the class definition of the specified class.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_lookUpClass">objc_lookUpClass</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a pointer to the class definition of the specified class.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_getMetaClass">objc_getMetaClass</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a pointer to the metaclass definition of the specified class.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/objc_setClassHandler">objc_setClassHandler</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a custom error-handling callback function called from <code></code><code>objc_getClass</code> and <code>objc_getMetaClass</code> when the desired class is not found.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-119787" title="Instantiating Classes"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF133" title="Instantiating Classes"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF130" title="Instantiating Classes"></a>Instantiating Classes</h3>
    <p>These functions let you create instances of classes (they are declared in <code>/usr/include/objc/objc-class.h</code>):</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_createInstance">class_createInstance</a></code> creates an instance of a class, allocating memory for the class in the default malloc memory zone.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/class_createInstanceFromZone">class_createInstanceFromZone</a></code> creates an instance of a class, allocating memory for the class in a specific malloc memory zone.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_createInstance">class_createInstance</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an instance of a class, allocating memory for the class in the default malloc memory zone.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/class_createInstanceFromZone">class_createInstanceFromZone</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an instance of a class, allocating memory for the class in a specific malloc memory zone.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005354-CH1g-121206" title="Accessing Instance Variables"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF134" title="Accessing Instance Variables"></a>
    
    <h3 class="tasks"><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF131" title="Accessing Instance Variables"></a>Accessing Instance Variables</h3>
    <p>These functions give you access to the instance variables of an object (they are declared in <code>/usr/include/objc/objc-class.h</code>):</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/func/object_setInstanceVariable">object_setInstanceVariable</a></code> changes the value of an instance variable of a class instance.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/func/object_getInstanceVariable">object_getInstanceVariable</a></code> obtains the value of an instance variable of a class instance.</p></li></ul>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/object_setInstanceVariable">object_setInstanceVariable</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Changes the value of an instance variable of a class instance.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/object_getInstanceVariable">object_getInstanceVariable</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains the value of an instance variable of a class instance.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40005354-CH1g-87032" title="Functions"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-TPXREF109" title="Functions"></a><h2>Functions</h2>


























































<a name="//apple_ref/c/func/class_addMethods" title="class_addMethods"></a><a name="//apple_ref/doc/c_ref/class_addMethods" title="class_addMethods"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_addMethods" title="class_addMethods"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_4"></a><h3 class="tight">class_addMethods</h3>
<p class="spaceabove">Adds a list of methods to a class definition.</p>
<p class="spaceabove"><pre>
void class_addMethods(Class aClass, struct <a href="reference.html#//apple_ref/doc/c_ref/objc_method_list">objc_method_list</a>* methodList)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. To add instance methods, pass the class definition to which you wish to add the methods. To add class methods, pass the metaclass (<code>aClass->isa</code> instead of <code>aClass</code>).</p></dd>
<dt><em>methodList</em></dt>
<dd><p>A pointer to an <code>objc_method_list</code> data structure containing an array of methods to add to the specified class definition.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>All the methods in the specified method list must be mapped to valid selectors before they can be added to the class. You can use the <code><a href="reference.html#//apple_ref/c/func/sel_registerName">sel_registerName</a></code> function to perform this operation.</p>
<p>After you call <code>class_addMethods</code>, the class definition contains the pointer to the method list data structure that you passed in. You cannot release the memory occupied by this data structure until you have removed the methods from the class definition using the <code><a href="reference.html#//apple_ref/c/func/class_removeMethods">class_removeMethods</a></code> function.</p><a name="//apple_ref/c/func/class_createInstance" title="class_createInstance"></a><a name="//apple_ref/doc/c_ref/class_createInstance" title="class_createInstance"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCJDEAJ" title="class_createInstance"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_5"></a><h3 class="tight">class_createInstance</h3>
<p class="spaceabove">Creates an instance of a class, allocating memory for the class in the default malloc memory zone.</p>
<p class="spaceabove"><pre>
id class_createInstance(Class theClass, unsigned additionalByteCount);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition that you wish to allocate an instance of.</p></dd>
<dt><em>additionalByteCount</em></dt>
<dd><p>An integer indicating the number of extra bytes to allocate. The additional bytes can be used to store additional instance variables beyond those defined in the class definition.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_object">objc_object</a></code> data structure describing the object instance.</p><a name="//apple_ref/c/func/class_createInstanceFromZone" title="class_createInstanceFromZone"></a><a name="//apple_ref/doc/c_ref/class_createInstanceFromZone" title="class_createInstanceFromZone"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCDIGIC" title="class_createInstanceFromZone"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_6"></a><h3 class="tight">class_createInstanceFromZone</h3>
<p class="spaceabove">Creates an instance of a class, allocating memory for the class in a specific malloc memory zone.</p>
<p class="spaceabove"><pre>
id class_createInstanceFromZone(Class theClass, unsigned additionalByteCount,  void  *zone);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition that you wish to allocate an instance of.</p></dd>
<dt><em>additionalByteCount</em></dt>
<dd><p>An integer indicating the number of extra bytes to allocate. The additional bytes can be used to store additional instance variables beyond those defined in the class definition.</p></dd>
<dt><em>zone</em></dt>
<dd><p>A pointer to a malloc zone data structure.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_object">objc_object</a></code> data structure describing the object instance.</p><a name="//apple_ref/c/func/class_getClassMethod" title="class_getClassMethod"></a><a name="//apple_ref/doc/c_ref/class_getClassMethod" title="class_getClassMethod"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_getClassMethod" title="class_getClassMethod"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_7"></a><h3 class="tight">class_getClassMethod</h3>
<p class="spaceabove">Returns a pointer to the data structure describing the specified class method.</p>
<p class="spaceabove"><pre>
<a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/Method" target="_top">Method</a> class_getClassMethod(Class aClass, SEL aSelector);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClass</em></dt>
<dd><p>A pointer to a class definition. Pass the class that contains the method you want to retrieve.</p></dd>
<dt><em>aSelector</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method you want to retrieve.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structure. <code>NULL</code> if the specified class does not contain a class method with the specified selector.</p>
<h5 class="tight">Discussion</h5>
<p>Returns <code>NULL</code> if the specified class does not contain a class method for the specified selector.</p><a name="//apple_ref/c/func/class_getInstanceMethod" title="class_getInstanceMethod"></a><a name="//apple_ref/doc/c_ref/class_getInstanceMethod" title="class_getInstanceMethod"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_getInstanceMethod" title="class_getInstanceMethod"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_8"></a><h3 class="tight">class_getInstanceMethod</h3>
<p class="spaceabove">Returns a pointer to the data structure describing the specified instance method.</p>
<p class="spaceabove"><pre>
<a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/Method" target="_top">Method</a> class_getInstanceMethod(Class aClass, SEL aSelector);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition whose method you wish to retrieve.</p></dd>
<dt><em>aSelector</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method you want to retrieve.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structure. <code>NULL</code> if the specified class does not contain an instance method with the specified selector.</p>
<h5 class="tight">Discussion</h5>
<p>Returns <code>NULL</code> if the specified class does not contain an instance method for the specified selector.</p><a name="//apple_ref/c/func/class_getInstanceVariable" title="class_getInstanceVariable"></a><a name="//apple_ref/doc/c_ref/class_getInstanceVariable" title="class_getInstanceVariable"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_getInstanceVariable" title="class_getInstanceVariable"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_9"></a><h3 class="tight">class_getInstanceVariable</h3>
<p class="spaceabove">Obtains information about the instance variables defined for a particular class.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/Ivar">Ivar</a> class_getInstanceVariable(Class aClass, const char* aVariableName);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition whose instance variable you wish to obtain.</p></dd>
<dt><em>aVariableName</em></dt>
<dd><p>A pointer to a C string. Pass the name of the instance variable definition to obtain.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to an <code><a href="reference.html#//apple_ref/c/tdef/Ivar">objc_ivar</a></code> data structure containing information about the instance variable specified by <code>aVariableName</code>.</p>
<h5 class="tight">Discussion</h5>
<p>You can use this function to obtain the definition of a single instance variable.</p><a name="//apple_ref/c/func/class_getVersion" title="class_getVersion"></a><a name="//apple_ref/doc/c_ref/class_getVersion" title="class_getVersion"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_getVersion" title="class_getVersion"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_10"></a><h3 class="tight">class_getVersion</h3>
<p class="spaceabove">Returns the version number of a class definition.</p>
<p class="spaceabove"><pre>
int class_getVersion(Class theClass);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition for which you wish to obtain the version.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An integer indicating the version number of the class definition.</p>
<h5 class="tight">Discussion</h5>
<p>You can use the version number of the class definition to provide versioning of the interface that your class represents to other classes. This is especially useful for object serialization (that is, archiving of the object in a flattened form), where it is important to recognize changes to the layout of the instance variables in different class-definition versions.</p>
<p>Classes derived from the Foundation framework <code>NSObject</code> class can obtain the class-definition version number using the <code>getVersion</code> class method, which is implemented using the <code>class_getVersion</code> function.</p><a name="//apple_ref/c/func/class_nextMethodList" title="class_nextMethodList"></a><a name="//apple_ref/doc/c_ref/class_nextMethodList" title="class_nextMethodList"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_nextMethodList" title="class_nextMethodList"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_11"></a><h3 class="tight">class_nextMethodList</h3>
<p class="spaceabove">Returns one of the method lists contained in the specified class definition.</p>
<p class="spaceabove"><pre>
struct objc_method_list* class_nextMethodList(Class theClass, void**  iterator);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition whose method list you wish to obtain.</p></dd>
<dt><em>iterator</em></dt>
<dd><p>On input, a pointer that points to an opaque value. Pass a pointer to a variable with <code>0</code> as its value to return the first method list of the class. On output, points to an iteration value, which can be passed to the next call to this function to get the next method list.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can obtain all the methods in a class definition by calling the <code><a href="reference.html#//apple_ref/doc/c_ref/class_nextMethodList">class_nextMethodList</a></code> function repeatedly, passing the same variable to iterator.</p>
<p><span class="content_text">Listing 1</span> shows how to use the <code><a href="reference.html#//apple_ref/doc/c_ref/class_nextMethodList">class_nextMethodList</a></code> function to obtain all the method definitions from a class.</p>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-125027" title="Listing 1Obtaining class method definitions"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BCIHABFE" title="Listing 1Obtaining class method definitions"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>Obtaining class method definitions</p>
<div class="codesample"><table><tr><td scope="row"><pre>    void *iterator = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>    struct objc_method_list *methodList;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    // Each call to class_nextMethodList returns one methodList<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    methodList = class_nextMethodList( classObject, &amp;iterator  )<span></span></pre></td></tr><tr><td scope="row"><pre>    while( methodList != NULL )<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        // …do something with the method list here…<span></span></pre></td></tr><tr><td scope="row"><pre>        methodList = class_nextMethodList( classObject, &amp;iterator  );<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div><a name="//apple_ref/c/func/class_poseAs" title="class_poseAs"></a><a name="//apple_ref/doc/c_ref/class_poseAs" title="class_poseAs"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_poseAs" title="class_poseAs"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_12"></a><h3 class="tight">class_poseAs</h3>
<p class="spaceabove">Globally override a specified class definition with a different class definition.</p>
<p class="spaceabove"><pre>
Class class_poseAs(Class imposter, Class original);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>imposter</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition that replaces the original. The imposter class definition must be an immediate subclass of the original (that is, <code>(imposter->super_class == original)</code> must be a true statement), and the imposter must not contain instance variables (<code>imposter->ivars</code> must be <code>NULL</code>.)</p></dd>
<dt><em>original</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition you wish to override.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use this function to globally override the definition of a class with an immediate subclass. Whenever a request is made of the original class, the imposter class is substituted as the receiver.</p>
<p>Generally, this function is called by the <code>poseAs:</code> method of the NSObject class, so you should never need to call it yourself.</p><a name="//apple_ref/c/func/class_removeMethods" title="class_removeMethods"></a><a name="//apple_ref/doc/c_ref/class_removeMethods" title="class_removeMethods"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-class_removeMethods" title="class_removeMethods"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_13"></a><h3 class="tight">class_removeMethods</h3>
<p class="spaceabove">Removes a previously added list of methods from a class definition.</p>
<p class="spaceabove"><pre>
void class_removeMethods(Class aClass, struct <a href="reference.html#//apple_ref/doc/c_ref/objc_method_list">objc_method_list</a>*  methodList)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. To remove instance methods, pass the class definition from which you wish to remove the methods. To remove class methods, pass the metaclass definition (<code>aClass->isa</code> instead of <code>aClass</code>).</p></dd>
<dt><em>methodList</em></dt>
<dd><p>A pointer to an <code>objc_method_list</code> data structure containing an array of methods to remove from the specified class definition. This pointer must be identical to a pointer passed to <code>class_addMethods</code> earlier.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use this function to remove a list of methods that you have previously added to a class definition using the <code><a href="reference.html#//apple_ref/c/func/class_addMethods">class_addMethods</a></code> function.</p><a name="//apple_ref/c/func/class_setVersion" title="class_setVersion"></a><a name="//apple_ref/doc/c_ref/class_setVersion" title="class_setVersion"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCCFIEC" title="class_setVersion"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_14"></a><h3 class="tight">class_setVersion</h3>
<p class="spaceabove">Sets the version number of a class definition.</p>
<p class="spaceabove"><pre>
void class_setVersion(Class theClass, int version);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition for which you wish to set the version.</p></dd>
<dt><em>version</em></dt>
<dd><p>An integer. Pass the new version number of the class definition.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use the version number of the class definition to provide versioning of the interface that your class represents to other classes. This is especially useful for object serialization (that is, archiving of the object in a flattened form), where it is important to recognize changes to the layout of the instance variables in different class-definition versions.</p>
<p>Classes derived from the Foundation framework <code>NSObject</code> class can set the class-definition version number using the <code>setVersion:</code> class method, which is implemented using the <code>class_setVersion</code> function.</p><a name="//apple_ref/c/func/marg_free" title="marg_free"></a><a name="//apple_ref/doc/c_ref/marg_free" title="marg_free"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCBBHGE" title="marg_free"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_15"></a><h3 class="tight">marg_free</h3>
<p class="spaceabove">Macro that releases an argument list.</p>
<p class="spaceabove"><pre>
marg_free(margs)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>margs</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>. Pass the argument list to release.</p></dd></dl><a name="//apple_ref/c/func/marg_getRef" title="marg_getRef"></a><a name="//apple_ref/doc/c_ref/marg_getRef" title="marg_getRef"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCBECGG" title="marg_getRef"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_16"></a><h3 class="tight">marg_getRef</h3>
<p class="spaceabove">Macro that returns a pointer to an argument in an argument list.</p>
<p class="spaceabove"><pre>
marg_getRef(<!--a-->margs<!--/a-->, offset, type)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>margs</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>.</p></dd>
<dt><em>offset</em></dt>
<dd><p>A long integer value. Pass the byte offset to the argument in the list whose pointer you wish to obtain.</p></dd>
<dt><em>type</em></dt>
<dd><p>A type name. Pass the type of the argument located at <code>offset</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to the argument specified by the <code>offset</code> parameter.</p>
<h5 class="tight">Discussion</h5>
<p>You can use this macro to manipulate any sort of <code>int</code> or pointer parameter. If you want to handle floats and structs, you should use NSInvocation instead.</p><a name="//apple_ref/c/func/marg_getValue" title="marg_getValue"></a><a name="//apple_ref/doc/c_ref/marg_getValue" title="marg_getValue"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCJFJHG" title="marg_getValue"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_17"></a><h3 class="tight">marg_getValue</h3>
<p class="spaceabove">Macro that returns the value of an argument in an argument list.</p>
<p class="spaceabove"><pre>
marg_getValue(<!--a-->margs<!--/a-->, offset, type)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>margs</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>.</p></dd>
<dt><em>offset</em></dt>
<dd><p>A long integer value. Pass the byte offset to the argument in the list whose value you wish to obtain.</p></dd>
<dt><em>type</em></dt>
<dd><p>A type name. Pass the type of the argument located at <code>offset</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The value of the argument specified by the <code>offset</code> parameter.</p>
<h5 class="tight">Discussion</h5>
<p>You can use this macro to manipulate any sort of <code>int</code> or pointer parameter. If you want to handle floats and structs, you should use NSInvocation instead.</p><a name="//apple_ref/c/func/marg_malloc" title="marg_malloc"></a><a name="//apple_ref/doc/c_ref/marg_malloc" title="marg_malloc"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCFDIBF" title="marg_malloc"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_18"></a><h3 class="tight">marg_malloc</h3>
<p class="spaceabove">Macro that allocates an argument list.</p>
<p class="spaceabove"><pre>
marg_malloc(<!--a-->margs<!--/a-->, method)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>margs</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>. Pass the variable that contains the argument list pointer.</p></dd>
<dt><em>method</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structure. Pass the method for which the argument list is allocated.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use this macro to manipulate any sort of <code>int</code> or pointer parameter. If you want to handle floats and structs, you should use NSInvocation instead.</p><a name="//apple_ref/c/func/marg_setValue" title="marg_setValue"></a><a name="//apple_ref/doc/c_ref/marg_setValue" title="marg_setValue"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCHBDJC" title="marg_setValue"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_19"></a><h3 class="tight">marg_setValue</h3>
<p class="spaceabove">Macro that sets the value of an argument in an argument list.</p>
<p class="spaceabove"><pre>
marg_setValue(<!--a-->margs<!--/a-->, offset, <!--a-->type<!--/a-->, value)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>margs</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>.</p></dd>
<dt><em>offset</em></dt>
<dd><p>A long integer value. Pass the byte offset to the argument in the list whose pointer you wish to obtain.</p></dd>
<dt><em>type</em></dt>
<dd><p>A type name. Pass the type of the argument located at <code>offset</code>.</p></dd>
<dt><em>value</em></dt>
<dd><p>A value. Pass the new value for the argument.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use this macro to manipulate any sort of <code>int</code> or pointer parameter. If you want to handle floats and structs, you should use NSInvocation instead.</p><a name="//apple_ref/c/func/method_getArgumentInfo" title="method_getArgumentInfo"></a><a name="//apple_ref/doc/c_ref/method_getArgumentInfo" title="method_getArgumentInfo"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-method_getArgumentInfo" title="method_getArgumentInfo"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_20"></a><h3 class="tight">method_getArgumentInfo</h3>
<p class="spaceabove">Returns information about one of a method’s arguments.</p>
<p class="spaceabove"><pre>
unsigned method_getArgumentInfo(<a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/Method" target="_top">Method</a> method, int argIndex, const  char** type, int*  offset);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>method</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structure. Pass the method in question.</p></dd>
<dt><em>argIndex</em></dt>
<dd><p>An integer specifying an argument. Pass the zero-based index of the argument in question.</p></dd>
<dt><em>type</em></dt>
<dd><p>On output, a pointer to a C string containing the type encoding for the argument.</p></dd>
<dt><em>offset</em></dt>
<dd><p>On output, a pointer to an integer indicating the location of the argument within the memory allocated for the method implementation. The offset is from the start of the implementation memory to the location of the method.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>Zero-based index of the argument that comes before the argument identified by <code>argIndex</code>.</p>
<h5 class="tight">Discussion</h5>
<p></p><a name="//apple_ref/c/func/method_getNumberOfArguments" title="method_getNumberOfArguments"></a><a name="//apple_ref/doc/c_ref/method_getNumberOfArguments" title="method_getNumberOfArguments"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-method_getNumberOfArguments" title="method_getNumberOfArguments"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_21"></a><h3 class="tight">method_getNumberOfArguments</h3>
<p class="spaceabove">Returns the number of arguments accepted by a method.</p>
<p class="spaceabove"><pre>
unsigned method_getNumberOfArguments(<a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/Method" target="_top">Method</a> method);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>method</em></dt>
<dd><p>A pointer to a <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structure. Pass the method in question.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An integer containing the number of arguments accepted by the given method.</p><a name="//apple_ref/c/func/method_getSizeOfArguments" title="method_getSizeOfArguments"></a><a name="//apple_ref/doc/c_ref/method_getSizeOfArguments" title="method_getSizeOfArguments"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-method_getSizeOfArguments" title="method_getSizeOfArguments"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_22"></a><h3 class="tight">method_getSizeOfArguments</h3>
<p class="spaceabove">Returns the total size of the stack frame occupied by a method’s arguments.</p>
<p class="spaceabove"><pre>
unsigned method_getSizeOfArguments(<a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/Method" target="_top">Method</a> method);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>method</em></dt>
<dd><p>A pointer to a <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structure. Pass the method in question.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An integer containing the size of the section of the stack frame occupied by the given method’s arguments.</p><a name="//apple_ref/c/func/objc_addClass" title="objc_addClass"></a><a name="//apple_ref/doc/c_ref/objc_addClass" title="objc_addClass"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCBJAAE" title="objc_addClass"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_23"></a><h3 class="tight">objc_addClass</h3>
<p class="spaceabove">Registers a class definition with the Objective-C runtime.</p>
<p class="spaceabove"><pre>
void objc_addClass(Class myClass);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>myClass</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Pass the class definition you wish to register.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Be sure that you have already set up the class definition correctly, with appropriate links to its metaclass definition and to the definition of its superclass. <span class="content_text">Listing 2</span> demonstrates how to properly create and add a class to the Objective-C runtime. Once a class is registered, you can get a pointer to the <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure of this class using the Foundation framework function <code>NSClassFromString</code>.</p>
<p>For reasons of thread safety, you cannot remove a registered class from the Objective-C runtime.</p>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-125917" title="Listing 2Creating an Objective-C class definition"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCIBJJB" title="Listing 2Creating an Objective-C class definition"></a><p class="codesample"><strong>Listing 2&nbsp;&nbsp;</strong>Creating an Objective-C class definition</p>
<div class="codesample"><table><tr><td scope="row"><pre>#import &lt;objc/objc-runtime.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>BOOL CreateClassDefinition( const char * name,<span></span></pre></td></tr><tr><td scope="row"><pre>        const char * superclassName )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    struct objc_class * meta_class;<span></span></pre></td></tr><tr><td scope="row"><pre>    struct objc_class * super_class;<span></span></pre></td></tr><tr><td scope="row"><pre>    struct objc_class * new_class;<span></span></pre></td></tr><tr><td scope="row"><pre>    struct objc_class * root_class;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Ensure that the superclass exists and that someone<span></span></pre></td></tr><tr><td scope="row"><pre>    // hasn't already implemented a class with the same name<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    super_class = (struct objc_class *)objc_lookUpClass (superclassName);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (super_class == nil)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        return NO;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if (objc_lookUpClass (name) != nil)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        return NO;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Find the root class<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    root_class = super_class;<span></span></pre></td></tr><tr><td scope="row"><pre>    while( root_class->super_class != nil )<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        root_class = root_class->super_class;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Allocate space for the class and its metaclass<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    new_class = calloc( 2, sizeof(struct objc_class) );<span></span></pre></td></tr><tr><td scope="row"><pre>    meta_class = &amp;new_class[1];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // setup class<span></span></pre></td></tr><tr><td scope="row"><pre>    new_class->isa      = meta_class;<span></span></pre></td></tr><tr><td scope="row"><pre>    new_class->info     = CLS_CLASS;<span></span></pre></td></tr><tr><td scope="row"><pre>    meta_class->info    = CLS_META;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Create a copy of the class name.<span></span></pre></td></tr><tr><td scope="row"><pre>    // For efficiency, we have the metaclass and the class itself<span></span></pre></td></tr><tr><td scope="row"><pre>    // to share this copy of the name, but this is not a requirement<span></span></pre></td></tr><tr><td scope="row"><pre>    // imposed by the runtime.<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    new_class->name = malloc (strlen (name) + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>    strcpy ((char*)new_class->name, name);<span></span></pre></td></tr><tr><td scope="row"><pre>    meta_class->name = new_class->name;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Allocate empty method lists.<span></span></pre></td></tr><tr><td scope="row"><pre>    // We can add methods later.<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    new_class->methodLists = calloc( 1, sizeof(struct objc_method_list  *) );<span></span></pre></td></tr><tr><td scope="row"><pre>    *new_class->methodLists = -1;<span></span></pre></td></tr><tr><td scope="row"><pre>    meta_class->methodLists = calloc( 1, sizeof(struct objc_method_list  *) );<span></span></pre></td></tr><tr><td scope="row"><pre>    *meta_class->methodLists = -1;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Connect the class definition to the class hierarchy:<span></span></pre></td></tr><tr><td scope="row"><pre>    // Connect the class to the superclass.<span></span></pre></td></tr><tr><td scope="row"><pre>    // Connect the metaclass to the metaclass of the superclass.<span></span></pre></td></tr><tr><td scope="row"><pre>    // Connect the metaclass of the metaclass to the metaclass of  the root class.<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    new_class->super_class  = super_class;<span></span></pre></td></tr><tr><td scope="row"><pre>    meta_class->super_class = super_class->isa;<span></span></pre></td></tr><tr><td scope="row"><pre>    meta_class->isa         = (void *)root_class->isa;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Set the sizes of the class and the metaclass.<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    new_class->instance_size = super_class->instance_size;<span></span></pre></td></tr><tr><td scope="row"><pre>    meta_class->instance_size = meta_class->super_class->instance_size;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Finally, register the class with the runtime.<span></span></pre></td></tr><tr><td scope="row"><pre>    //<span></span></pre></td></tr><tr><td scope="row"><pre>    objc_addClass( new_class );<span></span></pre></td></tr><tr><td scope="row"><pre>    return YES;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/c/func/objc_getClass" title="objc_getClass"></a><a name="//apple_ref/doc/c_ref/objc_getClass" title="objc_getClass"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_getClass" title="objc_getClass"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_24"></a><h3 class="tight">objc_getClass</h3>
<p class="spaceabove">Returns a pointer to the class definition of the specified class.</p>
<p class="spaceabove"><pre>
id objc_getClass(const char *aClassName)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClassName</em></dt>
<dd><p>A C string. Pass the name of the class to look up.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An <code>id</code> pointing to the Class object for the named class, or <code><a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/nil" target="_top">nil</a></code> if the class is not registered with the Objective-C runtime.</p>
<h5 class="tight">Discussion</h5>
<p>If the specified class is not registered with the Objective-C runtime, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_getClass">objc_getClass</a></code> returns <code>nil</code>.</p>
<p><code>objc_getClass</code> is different from <code><a href="reference.html#//apple_ref/c/func/objc_lookUpClass">objc_lookUpClass</a></code> in that if the class is not registered, <code>objc_getClass</code> calls the class handler callback and then checks a second time to see whether the class is registered. <code><a href="reference.html#//apple_ref/c/func/objc_lookUpClass">objc_lookUpClass</a></code> does not call the class handler callback.</p>
<h5 class="tight">Special Considerations</h5>
<p>Earlier implementations of this function (prior to Mac OS X v10.0) terminate the program if the class does not exist.</p><a name="//apple_ref/c/func/objc_getClassList" title="objc_getClassList"></a><a name="//apple_ref/doc/c_ref/objc_getClassList" title="objc_getClassList"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_getClassList" title="objc_getClassList"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_25"></a><h3 class="tight">objc_getClassList</h3>
<p class="spaceabove">Obtains the list of registered class definitions.</p>
<p class="spaceabove"><pre>
int objc_getClassList(Class *buffer, int bufferLen);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>buffer</em></dt>
<dd><p>An array of <code>Class</code> values. On output, each <code>Class</code> value points to one class definition, up to either <code>bufferLen</code> or the total number of registered classes, whichever is less. You can pass <code><!--a  -->NULL<!--/a--></code> to obtain the total number of registered class definitions without actually retrieving any class definitions.</p></dd>
<dt><em>bufferLen</em></dt>
<dd><p>An integer value. Pass the number of pointers for which you have allocated space in <code>buffer</code>. On return, this function fills in only this number of elements. If this number is less than the number of registered classes, this function returns an arbitrary subset of the registered classes.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An integer value indicating the total number of registered classes.</p>
<h5 class="tight">Discussion</h5>
<p>The Objective-C runtime library automatically registers all the classes defined in your source code. You can create class definitions at runtime and register them with the <code>objc_addClass</code> function.</p>
<p><span class="content_text">Listing 3</span> demonstrates how to use this function to retrieve all the class definitions that have been registered with the Objective-C runtime in the current process.</p>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-125153" title="Listing 3Using objc_getClassList"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BCIHBEGJ" title="Listing 3Using objc_getClassList"></a><p class="codesample"><strong>Listing 3&nbsp;&nbsp;</strong>Using objc_getClassList</p>
<div class="codesample"><table><tr><td scope="row"><pre>int numClasses;<span></span></pre></td></tr><tr><td scope="row"><pre>Class * classes = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>classes = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>numClasses = objc_getClassList(NULL, 0);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>if( numClasses > 0 )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    classes = malloc( sizeof(Class) * numClasses );<span></span></pre></td></tr><tr><td scope="row"><pre>    (void) objc_getClassList( classes, numClasses );<span></span></pre></td></tr><tr><td scope="row"><pre>    free(classes);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<h5 class="tight">Special Considerations</h5>
<p>Class objects you get from this function cannot be assumed to be classes that inherit from NSObject, so you cannot safely call any methods on such classes without detecting that the method is implemented first.</p><a name="//apple_ref/c/func/objc_getMetaClass" title="objc_getMetaClass"></a><a name="//apple_ref/doc/c_ref/objc_getMetaClass" title="objc_getMetaClass"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_getMetaClass" title="objc_getMetaClass"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_26"></a><h3 class="tight">objc_getMetaClass</h3>
<p class="spaceabove">Returns a pointer to the metaclass definition of the specified class.</p>
<p class="spaceabove"><pre>
id objc_getMetaClass(const char *aClassName)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClassName</em></dt>
<dd><p>A C string. Pass the name of the class to look up.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An <code>id</code> pointing to the <code>Class</code> object for the metaclass of the named class, or <code><a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/nil" target="_top">nil</a></code> if the class is not registered with the Objective-C runtime.</p>
<h5 class="tight">Discussion</h5>
<p>If the specified class is not registered with the Objective-C runtime, this function returns <code><a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/nil" target="_top">nil</a></code>.</p>
<p>If the definition for the named class is not registered, this function calls the class handler callback and then checks a second time to see if the class is registered. However, every class definition must have a valid metaclass definition, and so the metaclass definition is always returned, whether it’s valid or not.</p><a name="//apple_ref/c/func/objc_lookUpClass" title="objc_lookUpClass"></a><a name="//apple_ref/doc/c_ref/objc_lookUpClass" title="objc_lookUpClass"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_lookUpClass" title="objc_lookUpClass"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_27"></a><h3 class="tight">objc_lookUpClass</h3>
<p class="spaceabove">Returns a pointer to the class definition of the specified class.</p>
<p class="spaceabove"><pre>
id objc_lookUpClass(const char *aClassName)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aClassName</em></dt>
<dd><p>A C string. Pass the name of the class to look up.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An <code>id</code> pointing to the Class object for the named class, or <code><a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/nil" target="_top">nil</a></code> if the class is not registered with the Objective-C runtime.</p>
<h5 class="tight">Discussion</h5>
<p>If the specified class is not registered with the Objective-C runtime, this function returns <code><a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/nil" target="_top">nil</a></code>.</p>
<p><code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code> is different from this function in that if the class is not registered, <code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code> calls the class handler callback and then checks a second time to see whether the class is registered. This function does not call the class handler callback.</p><a name="//apple_ref/c/func/objc_msgSend" title="objc_msgSend"></a><a name="//apple_ref/doc/c_ref/objc_msgSend" title="objc_msgSend"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_msgSend" title="objc_msgSend"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_28"></a><h3 class="tight">objc_msgSend</h3>
<p class="spaceabove">Sends a message with a simple return value to an instance of a class.</p>
<p class="spaceabove"><pre>
id objc_msgSend(id theReceiver, SEL theSelector, ...)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theReceiver</em></dt>
<dd><p>A pointer that points to the instance of the class that is to receive the message.</p></dd>
<dt><em>theSelector</em></dt>
<dd><p>The selector of the method that handles the message.</p></dd>
<dt><em>...</em></dt>
<dd><p>A variable argument list containing the arguments to the method.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The return value of the method.</p>
<h5 class="tight">Discussion</h5>
<p>When it encounters a method call, the compiler generates a call to one of the functions <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend">objc_msgSend</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend_stret">objc_msgSend_stret</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper">objc_msgSendSuper</a></code>, or <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper_stret">objc_msgSendSuper_stret</a></code>. Messages sent to an object’s superclass (using the <code>super</code> keyword) are sent using <code>objc_msgSendSuper</code>; other messages are sent using <code>objc_msgSend</code>. Methods that have data structures as return values are sent using <code>objc_msgSendSuper_stret</code> and <code>objc_msgSend_stret</code>.</p><a name="//apple_ref/c/func/objc_msgSendSuper" title="objc_msgSendSuper"></a><a name="//apple_ref/doc/c_ref/objc_msgSendSuper" title="objc_msgSendSuper"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_msgSendSuper" title="objc_msgSendSuper"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_29"></a><h3 class="tight">objc_msgSendSuper</h3>
<p class="spaceabove">Sends a message with a simple return value to the superclass of an instance of a class.</p>
<p class="spaceabove"><pre>
id objc_msgSendSuper(struct <a href="reference.html#//apple_ref/doc/c_ref/objc_super">objc_super</a>* superContext, SEL theSelector,  ...)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>superContext</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_super">objc_super</a></code> data structure. Pass values identifying the context the message was sent to, including the instance of the class that is to receive the message and the superclass at which to start searching for the method implementation.</p></dd>
<dt><em>theSelector</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method that will handle the message.</p></dd>
<dt><em>...</em></dt>
<dd><p>A variable argument list containing the arguments to the method.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The return value of the method.</p>
<h5 class="tight">Discussion</h5>
<p>When it encounters a method call, the compiler generates a call to one of the functions <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend">objc_msgSend</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend_stret">objc_msgSend_stret</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper">objc_msgSendSuper</a></code>, or <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper_stret">objc_msgSendSuper_stret</a></code>. Messages sent to an object’s superclass (using the <code>super</code> keyword) are sent using <code>objc_msgSendSuper</code>; other messages are sent using <code>objc_msgSend</code>. Methods that have data structures as return values are sent using <code>objc_msgSendSuper_stret</code> and <code>objc_msgSend_stret</code>.</p><a name="//apple_ref/c/func/objc_msgSendSuper_stret" title="objc_msgSendSuper_stret"></a><a name="//apple_ref/doc/c_ref/objc_msgSendSuper_stret" title="objc_msgSendSuper_stret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_msgSendSuper_stret" title="objc_msgSendSuper_stret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_30"></a><h3 class="tight">objc_msgSendSuper_stret</h3>
<p class="spaceabove">Sends a message with a data-structure return value to the superclass of an instance of a class.</p>
<p class="spaceabove"><pre>
void objc_msgSendSuper_stret(void* stretAddr, struct <a href="reference.html#//apple_ref/doc/c_ref/objc_super">objc_super</a>*  superContext, SEL  theSelector, ...);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stretAddr</em></dt>
<dd><p>On input, a pointer that points to the address of a block of memory large enough to contain the return value of the method. On output, contains the return value of the method.</p></dd>
<dt><em>superContext</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_super">objc_super</a></code> data structure. Pass values identifying the context the message was sent to, including the instance of the class that is to receive the message and the superclass at which to start searching for the method implementation.</p></dd>
<dt><em>theSelector</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method.</p></dd>
<dt><em>...</em></dt>
<dd><p>A variable argument list containing the arguments to the method.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>When it encounters a method call, the compiler generates a call to one of the functions <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend">objc_msgSend</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend_stret">objc_msgSend_stret</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper">objc_msgSendSuper</a></code>, or <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper_stret">objc_msgSendSuper_stret</a></code>. Messages sent to an object’s superclass (using the <code>super</code> keyword) are sent using <code>objc_msgSendSuper</code>; other messages are sent using <code>objc_msgSend</code>. Methods that have data structures as return values are sent using <code>objc_msgSendSuper_stret</code> and <code>objc_msgSend_stret</code>.</p><a name="//apple_ref/c/func/objc_msgSendv" title="objc_msgSendv"></a><a name="//apple_ref/doc/c_ref/objc_msgSendv" title="objc_msgSendv"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-SW2" title="objc_msgSendv"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_31"></a><h3 class="tight">objc_msgSendv</h3><p class="spaceabove">Given an argument list, send a message with a simple return value.</p><p class="spaceabove"><pre>
id objc_msgSendv(id self, SEL op, unsigned arg_size, <a href="reference.html#//apple_ref/doc/c_ref/marg_list">marg_list</a> arg_frame);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>self</em></dt><dd><p>A pointer to the instance of the class that is to receive the message.</p></dd><dt><em>op</em></dt><dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method.</p></dd><dt><em>arg_size</em></dt><dd><p>The number of elements in <em>arg_frame</em>.</p></dd><dt><em>arg_frame</em></dt><dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>. Pass an argument list containing the values for the arguments of the method being invoked.</p></dd></dl><h5 class="tight">Discussion</h5><p>This method is used by the <code>NSInvocation</code> class.</p><h5 class="tight">Declared In</h5><code>objc-runtime.h</code><a name="//apple_ref/c/func/objc_msgSendv_fpret" title="objc_msgSendv_fpret"></a><a name="//apple_ref/doc/c_ref/objc_msgSendv_fpret" title="objc_msgSendv_fpret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCCECEC" title="objc_msgSendv_fpret"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_32"></a><h3 class="tight">objc_msgSendv_fpret</h3>
<p class="spaceabove">Given an argument list, send a message with a floating point return value.</p>
<p class="spaceabove"><pre>
double objc_msgSendv_fpret(id self, SEL op, unsigned arg_size, <a href="reference.html#//apple_ref/doc/c_ref/marg_list">marg_list</a> arg_frame);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>self</em></dt>
<dd><p>A pointer to the instance of the class that is to receive the message.</p></dd>
<dt><em>op</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method.</p></dd><dt><em>arg_size</em></dt><dd><p>The number of elements in <em>arg_frame</em>.</p></dd>
<dt><em>arg_frame</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>. Pass an argument list containing the values for the arguments of the method being invoked.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This method is used by the <code>NSInvocation</code> class.</p><p>On the i386 platform, the ABI for functions returning a floating-point value is incompatible with that for functions returning an integral type. On the i386 platform, therefore, you <em>must</em> use <code>objc_msgSendv_fpret</code> for functions that for functions returning non-integral type. For <code>float</code> or <code>long double</code> return types, cast the function to an appropriate function pointer type first.</p><p>This function is not used on the PPC or PPC64 platforms.</p><a name="//apple_ref/c/func/objc_msgSendv_stret" title="objc_msgSendv_stret"></a><a name="//apple_ref/doc/c_ref/objc_msgSendv_stret" title="objc_msgSendv_stret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BBCCBJJH" title="objc_msgSendv_stret"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_33"></a><h3 class="tight">objc_msgSendv_stret</h3>
<p class="spaceabove">Given an argument list, send a message with a data-structure return value.</p>
<p class="spaceabove"><pre>
void objc_msgSendv_stret(void* stretAddr, id self, SEL op, unsigned  arg_size,  <a href="reference.html#//apple_ref/doc/c_ref/marg_list">marg_list</a> arg_frame);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stretAddr</em></dt>
<dd><p>On input, a pointer that points to the address of a block of memory large enough to contain the return value of the method. On output, contains the return value of the method.</p></dd>
<dt><em>self</em></dt>
<dd><p>A pointer to the instance of the class that is to receive the message.</p></dd>
<dt><em>op</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method.</p></dd>
<dt><em>arg_frame</em></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code>. Pass an argument list containing the values for the arguments of the method being invoked.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This method is used by the NSInvocation class.</p><a name="//apple_ref/c/func/objc_msgSend_fpret" title="objc_msgSend_fpret"></a><a name="//apple_ref/doc/c_ref/objc_msgSend_fpret" title="objc_msgSend_fpret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-SW1" title="objc_msgSend_fpret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_34"></a><h3 class="tight">objc_msgSend_fpret</h3><p class="spaceabove">Sends a message with a floating-point return value to an instance of a class.</p><p class="spaceabove"><pre>
double objc_msgSend_fpret(id self, SEL op, ...)
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>self</em></dt><dd><p>A pointer that points to the instance of the class that is to receive the message.</p></dd><dt><em>op</em></dt><dd><p>The selector of the method that handles the message.</p></dd><dt><em>...</em></dt><dd><p>A variable argument list containing the arguments to the method.</p></dd></dl><h5 class="tight">Discussion</h5><p>On the i386 platform, the ABI for functions returning a floating-point value is incompatible with that for functions returning an integral type. On the i386 platform, therefore, you <em>must</em> use <code>objc_msgSend_fpret</code> for functions that for functions returning non-integral type. For <code>float</code> or <code>long double</code> return types, cast the function to an appropriate function pointer type first.</p><p>This function is not used on the PPC or PPC64 platforms.</p><h5 class="tight">Declared In</h5><code>objc-runtime.h</code><a name="//apple_ref/c/func/objc_msgSend_stret" title="objc_msgSend_stret"></a><a name="//apple_ref/doc/c_ref/objc_msgSend_stret" title="objc_msgSend_stret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_msgSend_stret" title="objc_msgSend_stret"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_35"></a><h3 class="tight">objc_msgSend_stret</h3>
<p class="spaceabove">Sends a message with a data-structure return value to an instance of a class.</p>
<p class="spaceabove"><pre>
void objc_msgSend_stret(void * stretAddr, id theReceiver, SEL theSelector,  ...);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stretAddr</em></dt>
<dd><p>On input, a pointer that points to a block of memory large enough to contain the return value of the method. On output, contains the return value of the method.</p></dd>
<dt><em>theReceiver</em></dt>
<dd><p>A pointer to the instance of the class that is to receive the message.</p></dd>
<dt><em>theSelector</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector of the method that handles the message.</p></dd>
<dt><em>...</em></dt>
<dd><p>A variable argument list containing the arguments to the method.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>When it encounters a method call, the compiler generates a call to one of the functions <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend">objc_msgSend</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSend_stret">objc_msgSend_stret</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper">objc_msgSendSuper</a></code>, or <code><a href="reference.html#//apple_ref/doc/c_ref/objc_msgSendSuper_stret">objc_msgSendSuper_stret</a></code>. Messages sent to an object’s superclass (using the <code>super</code> keyword) are sent using <code>objc_msgSendSuper</code>; other messages are sent using <code>objc_msgSend</code>. Methods that have data structures as return values are sent using <code>objc_msgSendSuper_stret</code> and <code>objc_msgSend_stret</code>.</p><a name="//apple_ref/c/func/objc_setClassHandler" title="objc_setClassHandler"></a><a name="//apple_ref/doc/c_ref/objc_setClassHandler" title="objc_setClassHandler"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-objc_setClassHandler" title="objc_setClassHandler"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_36"></a><h3 class="tight">objc_setClassHandler</h3>
<p class="spaceabove">Sets a custom error-handling callback function called from <code></code><code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code> and <code><a href="reference.html#//apple_ref/c/func/objc_getMetaClass">objc_getMetaClass</a></code> when the desired class is not found.</p>
<p class="spaceabove"><pre>
void objc_setClassHandler(int (*callback)(const char *));
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>callback</em></dt>
<dd><p>A function pointer. Pass the callback conforming to the prototype described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/ClassHandlerCallback">ClassHandlerCallback</a></span>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If the <code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code> function is unable to find a specified class, it calls the class handler callback that you specify with this function.</p>
<p>The callback can use the <code><a href="reference.html#//apple_ref/c/func/objc_addClass">objc_addClass</a></code> function to register the class definition.</p>
<p>After the callback is invoked, <code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code> and <code><a href="reference.html#//apple_ref/c/func/objc_getMetaClass">objc_getMetaClass</a></code> search for the named class, again.</p><a name="//apple_ref/c/func/object_getInstanceVariable" title="object_getInstanceVariable"></a><a name="//apple_ref/doc/c_ref/object_getInstanceVariable" title="object_getInstanceVariable"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-object_getInstanceVariable" title="object_getInstanceVariable"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_37"></a><h3 class="tight">object_getInstanceVariable</h3>
<p class="spaceabove">Obtains the value of an instance variable of a class instance.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/Ivar">Ivar</a> object_getInstanceVariable(id object, const char *name, void  **value);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>object</em></dt>
<dd><p>A pointer to an instance of a class. Pass the object containing the instance variable whose value you wish to obtain.</p></dd>
<dt><em>name</em></dt>
<dd><p>A C string. Pass the name of the instance variable whose value you wish to obtain.</p></dd>
<dt><em>value</em></dt>
<dd><p>A pointer to a pointer to a value. On output, contains a pointer to the value of the instance variable.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to the <code><a href="reference.html#//apple_ref/c/tdef/Ivar">objc_ivar</a></code> data structure that defines the type and name of the instance variable specified by <code>name</code>.</p><a name="//apple_ref/c/func/object_setInstanceVariable" title="object_setInstanceVariable"></a><a name="//apple_ref/doc/c_ref/object_setInstanceVariable" title="object_setInstanceVariable"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-object_setInstanceVariable" title="object_setInstanceVariable"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_38"></a><h3 class="tight">object_setInstanceVariable</h3>
<p class="spaceabove">Changes the value of an instance variable of a class instance.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/Ivar">Ivar</a> object_setInstanceVariable(id object, const char *name, void  *value);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>object</em></dt>
<dd><p>A pointer to an instance of a class. Pass the object containing the instance variable whose value you wish to modify.</p></dd>
<dt><em>name</em></dt>
<dd><p>A C string. Pass the name of the instance variable whose value you wish to modify.</p></dd>
<dt><em>value</em></dt>
<dd><p>A pointer to a value. Pass a pointer to the new value for the instance variable.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to the <code><a href="reference.html#//apple_ref/c/tdef/Ivar">objc_ivar</a></code> data structure that defines the type and name of the instance variable specified by <code>name</code>.</p><a name="//apple_ref/c/func/sel_getName" title="sel_getName"></a><a name="//apple_ref/doc/c_ref/sel_getName" title="sel_getName"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-sel_getName" title="sel_getName"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_39"></a><h3 class="tight">sel_getName</h3>
<p class="spaceabove">Returns the name of the method specified by the selector.</p>
<p class="spaceabove"><pre>
const char* sel_getName(SEL aSelector)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aSelector</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector whose name you wish to determine.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A C string indicating the name of the selector.</p>
<h5 class="tight">Discussion</h5>
<p>This function is one of two ways to retrieve the name of a selector. You can also cast a selector pointer directly to a C string pointer (<code>const char *</code>), but you cannot use an arbitrary C string as a selector because selectors are C strings that are indexed by pointer. See <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code> for more information.</p><a name="//apple_ref/c/func/sel_getUid" title="sel_getUid"></a><a name="//apple_ref/doc/c_ref/sel_getUid" title="sel_getUid"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-sel_getUid" title="sel_getUid"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_40"></a><h3 class="tight">sel_getUid</h3>
<p class="spaceabove">Registers a method name with the Objective-C runtime system.</p>
<p class="spaceabove"><pre>
SEL sel_getUid(const char *str);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>str</em></dt>
<dd><p>A pointer to a C string. Pass the name of the method you wish to register.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code> specifying the selector for the named method.</p>
<h5 class="tight">Discussion</h5>
<p>The implementation of this method is identical to the implementation of <code><a href="reference.html#//apple_ref/c/func/sel_registerName">sel_registerName</a></code>.</p>
<h5 class="tight">Version Notes</h5>
<p>Prior to Mac OS X version 10.0, this method tried to find the selector mapped to the given name and returned <code>NULL</code> if the selector was not found. This was changed for safety, because it was observed that many of the callers of this function did not check the return value for <code>NULL</code>. You can still use the <code><a href="reference.html#//apple_ref/c/func/sel_isMapped">sel_isMapped</a></code> function to determine whether a method name is mapped to a selector.</p><a name="//apple_ref/c/func/sel_isMapped" title="sel_isMapped"></a><a name="//apple_ref/doc/c_ref/sel_isMapped" title="sel_isMapped"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-sel_isMapped" title="sel_isMapped"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_41"></a><h3 class="tight">sel_isMapped</h3>
<p class="spaceabove">Indicates whether a selector is registered.</p>
<p class="spaceabove"><pre>
BOOL sel_isMapped(SEL aSelector)
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aSelector</em></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Pass the selector whose validity you wish to determine.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A Boolean value indicating whether the selector is valid (<code>YES</code>) or not (<code>NO</code>).</p>
<h5 class="tight">Discussion</h5>
<p>You can use this function to determine whether a given address is a valid selector (that is, one that has been registered). Use of this function may require you to subvert the compiler’s type checking by casting the address value to <code>SEL</code>. See <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code> for more information.</p><a name="//apple_ref/c/func/sel_registerName" title="sel_registerName"></a><a name="//apple_ref/doc/c_ref/sel_registerName" title="sel_registerName"></a><a name="//apple_ref/doc/uid/TP40005354-CH1g-BCIGFJBB" title="sel_registerName"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH1g-DontLinkElementID_42"></a><h3 class="tight">sel_registerName</h3>
<p class="spaceabove">Registers a method with the Objective-C runtime system, maps the method name to a selector, and returns the selector value.</p>
<p class="spaceabove"><pre>
SEL sel_registerName(const char *str);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>str</em></dt>
<dd><p>A pointer to a C string. Pass the name of the method you wish to register.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code> specifying the selector for the named method.</p>
<h5 class="tight">Discussion</h5>
<p>You must register a method name with the Objective-C runtime system to obtain the method’s selector before you can add the method to a class definition. If the method name has already been registered, this function simply returns the selector.</p><a name="//apple_ref/doc/uid/TP40005354-CH2g-184839" title="Callbacks"></a><a name="//apple_ref/doc/uid/TP40005354-CH2g-TPXREF118" title="Callbacks"></a><h2>Callbacks</h2>
<a name="//apple_ref/c/tdef/ClassHandlerCallback" title="ClassHandlerCallback"></a><a name="//apple_ref/doc/c_ref/ClassHandlerCallback" title="ClassHandlerCallback"></a><a name="//apple_ref/doc/uid/TP40005354-CH2g-ClassHandlerCallback" title="ClassHandlerCallback"></a><a name="//apple_ref/doc/uid/TP40005354-CH2g-DontLinkElementID_43"></a><h3 class="tight">ClassHandlerCallback</h3>
<p class="spaceabove">Handles creation and registration of a class when <code><a href="reference.html#//apple_ref/c/func/objc_getClass">objc_getClass</a></code> or <code><a href="reference.html#//apple_ref/c/func/objc_getMetaClass">objc_getMetaClass</a></code> cannot otherwise find the class.</p>
<p class="spaceabove"><pre>
int (*ClassHandlerCallback)(const char* className);
</pre></p>
<p>If you name your function <code>MyClassHandlerCallback</code>, you would declare it like this:</p>
<p><pre>
int MyClassHandlerCallback(const char*
className);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>className</em></dt>
<dd><p>A C string indicating the name of the class that could not be found.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>Return <code>1</code> if your handler registered a class; otherwise, return <code>0</code>.</p><a name="//apple_ref/doc/uid/TP40005354-CH3g-184959" title="Data Types"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-TPXREF119" title="Data Types"></a><h2>Data Types</h2>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-116261" title="Class-Definition Data Structures"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BAJIBBJJ" title="Class-Definition Data Structures"></a><h3><a name="//apple_ref/doc/uid/TP40005354-CH3g-TPXREF120" title="Class-Definition Data Structures"></a>Class-Definition Data Structures</h3>
<p>The compiler records Objective-C class definitions as <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structures. You can create additional <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structures at runtime and add them to the class hierarchy using the Objective-C runtime functions. The compiler places the types and names of the instance variables in the <code><a href="reference.html#//apple_ref/c/tag/objc_ivar_list">objc_ivar_list</a></code> data structure, and the types and names of methods in the <code><a href="reference.html#//apple_ref/c/tag/objc_method_list">objc_method_list</a></code> data structure. Using the current Objective-C support library, you can add methods to any class at runtime, but you cannot add instance variables. The structures described in this section are defined in <code>/usr/include/objc/objc-class.h</code>.</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> defines an Objective-C class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tdef/Ivar">objc_ivar</a></code> specifies the name, type and location of one instance variable.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_ivar_list">objc_ivar_list</a></code> specifies the instance variables of each instance of a class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/IMP">IMP</a></code> pointer to the start of a method implementation.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tdef/marg_list">marg_list</a></code> reference to an argument list.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code> represents a method selector.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> represents a method in a class definition.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_method_list">objc_method_list</a></code> Contains an array of method definitions.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_cache">objc_cache</a></code> pointers to recently used methods.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_protocol_list">objc_protocol_list</a></code> represents a list of formal protocols.</p></li></ul>
<a name="//apple_ref/c/tag/objc_class" title="objc_class"></a><a name="//apple_ref/doc/c_ref/objc_class" title="objc_class"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-objc_class" title="objc_class"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_44"></a><h3 class="tight">objc_class</h3>
<p class="spaceabove">Defines an Objective-C class.</p>
<p class="spaceabove"><pre>
struct objc_class
   {
   struct <a href="reference.html#//apple_ref/doc/c_ref/objc_class">objc_class</a>* isa;
      struct <a href="reference.html#//apple_ref/doc/c_ref/objc_class">objc_class</a>* super_class;
         const char* name;
         long version;
         long info;
         long instance_size;
         struct <a href="reference.html#//apple_ref/doc/c_ref/objc_ivar_list">objc_ivar_list</a>* ivars;
            struct <a href="reference.html#//apple_ref/doc/c_ref/objc_method_list">objc_method_list</a>** methodLists;
               struct <a href="reference.html#//apple_ref/doc/c_ref/objc_cache">objc_cache</a>* cache;
                  struct <a href="reference.html#//apple_ref/doc/c_ref/objc_protocol_list">objc_protocol_list</a>* protocols;
                  };
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>isa</code></dt>
<dd><p>Points to the metaclass of this class. If this class is a metaclass, the <code>isa</code> field points to the root metaclass (usually the metaclass for NSObject, but also possibly the metaclass for NSProxy or a root class of your own—a root class is any class that does not inherit from another class). This also means that the <code>isa</code> field for the metaclass of the root class points to itself.</p></dd>
<dt><code>super_class</code></dt>
<dd><p>Points to the <code>objc_class</code> data structure for the superclass of this class, or <code>NULL</code> if this is a root class.</p></dd>
<dt><code>name</code></dt>
<dd><p>Points to a C string containing the name of the class.</p></dd>
<dt><code>version</code></dt>
<dd><p>An integer indicating the version number of the class, which you can modify at runtime using the <code><a href="reference.html#//apple_ref/c/func/class_setVersion">class_setVersion</a></code> function. The compiler initially defines the <code>version</code> field as <code>0</code>.</p></dd>
<dt><code>info</code></dt>
<dd><p>Contains a set of bit flags used by the Objective-C runtime functions. You can manipulate them using the following masks:</p><ul class="termdef">
<li class="termdef"><p>The <code>CLS_CLASS</code>   (<code>0x1L</code>) flag indicates that this definition represents a class, which contains instance methods and variable definitions that are allocated for each new instance of the class.</p></li>
<li class="termdef"><p>The <code>CLS_META</code>   (<code>0x2L</code>) flag indicates that this class definition represents a metaclass, which contains the list of methods that are not specific to any one instance of the class (class methods).</p></li>
<li class="termdef"><p>The <code>CLS_INITIALIZED</code>   (<code>0x4L</code>) flag indicates that the runtime has initialized this class. This flag should be set only by the <code><a href="reference.html#//apple_ref/c/func/objc_addClass">objc_addClass</a></code> function.</p></li>
<li class="termdef"><p>The <code>CLS_POSING</code>   (<code>0x8L</code>) flag indicates that this class is posing as another class.</p></li>
<li class="termdef"><p>The <code>CLS_MAPPED</code>   (<code>0x10L</code>) flag is used internally by the Objective-C runtime.</p></li>
<li class="termdef"><p>The <code>CLS_FLUSH_CACHE</code>   (<code>0x20L</code>) flag is used internally by the Objective-C runtime.</p></li>
<li class="termdef"><p>The <code>CLS_GROW_CACHE</code>  ( <code>0x40L</code>) flag is used internally by the Objective-C runtime.</p></li>
<li class="termdef"><p>The <code>CLS_NEED_BIND</code>   (<code>0x80L</code>) flag is used internally by the Objective-C runtime.</p></li>
<li class="termdef"><p>The <code>CLS_METHOD_ARRAY</code> (<code>0x100L</code>) flag indicates that the <code>methodLists</code> field is an array of pointers to <code><a href="reference.html#//apple_ref/c/tag/objc_method_list">objc_method_list</a></code> data structures rather than a pointer to a single <code><a href="reference.html#//apple_ref/c/tag/objc_method_list">objc_method_list</a></code> data structure.</p></li></ul></dd>
<dt><code>instance_size</code></dt>
<dd><p>An integer indicating the size of the instance variables used by this class. This value includes the value of the <code>instance_size</code> field of the superclass.</p></dd>
<dt><code>ivars</code></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_ivar_list">objc_ivar_list</a></code> data structure describing the instance variables that are allocated for each instance of this class. This pointer may be <code>NULL</code>, in which case this class has no instance variables.</p></dd>
<dt><code>methodLists</code></dt>
<dd><p>If the <code>CLS_METHOD_ARRAY</code> flag is set, this field is an array of <code><a href="reference.html#//apple_ref/c/tag/objc_method_list">objc_method_list</a></code> data structures that collectively specify all the instance methods that can be sent to objects that are instances of this class. If the <code>CLS_METHOD_ARRAY</code> flag is not set, this field is a pointer to a single <code><a href="reference.html#//apple_ref/c/tag/objc_method_list">objc_method_list</a></code> data structure. If this class is a metaclass definition, this field specifies the class methods of the class.</p></dd>
<dt><code>cache</code></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_cache">objc_cache</a></code> method cache data structure.</p></dd>
<dt><code>protocols</code></dt>
<dd><p>A pointer to a <code><a href="reference.html#//apple_ref/c/tag/objc_protocol_list">objc_protocol_list</a></code> data structure. This is a list of the formal protocols this class claims to implement.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The compiler generates two <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structures for each class defined in your source code: one for the class definition and one for the metaclass definition. You can create class definitions at runtime by creating these data structures and calling the <code><a href="reference.html#//apple_ref/c/func/objc_addClass">objc_addClass</a></code> function.</p>
<a name="//apple_ref/c/tdef/Ivar" title="objc_ivar"></a><a name="//apple_ref/doc/c_ref/Ivar" title="objc_ivar"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-objc_ivar" title="objc_ivar"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_45"></a><h3 class="tight">objc_ivar</h3>
<p class="spaceabove">Specifies the name, type, and location of one instance variable.</p>
<p class="spaceabove"><pre>
typedef struct objc_ivar *Ivar;

struct objc_ivar
   {
   char *ivar_name;
   char *ivar_type;
   int ivar_offset;
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>ivar_name</code></dt>
<dd><p>A pointer to a C string containing the name of the instance variable.</p></dd>
<dt><code>ivar_type</code></dt>
<dd><p>A pointer to a C string containing the type encoding of the variable. See <span class="content_text"><!--a target="_top" -->“Type Encodings”<!--/a--></span> for valid type encodings for instance variables.</p></dd>
<dt><code>ivar_offset</code></dt>
<dd><p>An integer indicating the location of this instance variable within the memory allocated for an instance of the class containing this variable. The offset is from the start of the instance memory to the location of this variable.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code><a href="reference.html#//apple_ref/c/tag/objc_ivar_list">objc_ivar_list</a></code> data structure contains an array of <code>objc_ivar</code> elements, each of which indicates the name, type, and location of one instance variable.</p>
<a name="//apple_ref/c/tag/objc_ivar_list" title="objc_ivar_list"></a><a name="//apple_ref/doc/c_ref/objc_ivar_list" title="objc_ivar_list"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-objc_ivar_list" title="objc_ivar_list"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_46"></a><h3 class="tight">objc_ivar_list</h3>
<p class="spaceabove">Specifies the instance variables of each instance of a class.</p>
<p class="spaceabove"><pre>
struct objc_ivar_list
   {
   int ivar_count;
   struct <!--a-->objc_ivar<!--/a--> ivar_list[1];
   };
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>ivar_count</code></dt>
<dd><p>An integer specifying a the number of elements in the <code>ivar_list</code> array.</p></dd>
<dt><code>ivar_list</code></dt>
<dd><p>An array of <code><a href="reference.html#//apple_ref/c/tdef/Ivar">objc_ivar</a></code> data structures.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This data structure contains an array with of <code><a href="reference.html#//apple_ref/c/tdef/Ivar">objc_ivar</a></code> elements, each of which indicates the name, type, and location of one instance variable.</p>
<a name="//apple_ref/c/tag/IMP" title="IMP"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BAJFGBJF" title="IMP"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_47"></a><h3 class="tight">IMP</h3>
<p class="spaceabove">A pointer to the start of a method implementation.</p>
<p class="spaceabove"><pre>
id (*<!--a-->IMP<!--/a-->)(id, SEL, ...)
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This data type is a pointer to the start of the function that implements the method. This function uses standard C calling conventions as implemented for the current CPU architecture. The first argument is a pointer to <code>self</code> (that is, the memory for the particular instance of this class, or, for a class method, a pointer to the metaclass). The second argument is the method selector. The method arguments follow.</p>
<a name="//apple_ref/c/tdef/marg_list" title="marg_list"></a><a name="//apple_ref/doc/c_ref/marg_list" title="marg_list"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BAJIAEIB" title="marg_list"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_48"></a><h3 class="tight">marg_list</h3>
<p class="spaceabove">A reference to an argument list.</p>
<p class="spaceabove"><pre>
typedef void * marg_list;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This data type is a reference to a list of method arguments. Use it with the functions described in <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005354-CH1g-125829">“Forwarding Messages.”</a></span> </p>
<a name="//apple_ref/c/tdef/objc_selector" title="SEL"></a><a name="//apple_ref/doc/c_ref/objc_selector" title="SEL"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BAJDFBFC" title="SEL"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_49"></a><h3 class="tight">SEL</h3>
<p class="spaceabove">Represents a method selector.</p>
<p class="spaceabove"><pre>
typedef struct objc_selector;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Method selectors are used to represent the name of a method at runtime. A method selector is a C string that has been registered (or “mapped“) with the Objective-C runtime. Selectors generated by the compiler are automatically mapped by the runtime when the class is loaded.</p>
<p>You can add new selectors at runtime and retrieve existing selectors using the function <code><a href="reference.html#//apple_ref/c/func/sel_registerName">sel_registerName</a></code>.</p>
<p>When using selectors, you must use the value returned from <code><a href="reference.html#//apple_ref/c/func/sel_registerName">sel_registerName</a></code> or the Objective-C compiler directive <code>@selector()</code><a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_50"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_51"></a>. You cannot simply cast a C string to <code>SEL</code>.</p>
<a name="//apple_ref/c/tag/objc_method" title="objc_method"></a><a name="//apple_ref/doc/c_ref/objc_method" title="objc_method"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-objc_method" title="objc_method"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_52"></a><h3 class="tight">objc_method</h3>
<p class="spaceabove">Represents a method in a class definition.</p>
<p class="spaceabove"><pre>
struct objc_method
   {
   SEL method_name;
   char * method_types;
   <!--a-->IMP<!--/a--> method_imp;
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>method_name</code></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/objc_selector">SEL</a></code>. Points to the method selector that uniquely identifies the name of this method.</p></dd>
<dt><code>method_types</code></dt>
<dd><p>A pointer to a C string. This string contains the type encodings for the method’s argument. See <span class="content_text"><!--a target="_top" -->“Type Encodings”<!--/a--></span> for information on valid encoding formats.</p></dd>
<dt><code>method_imp</code></dt>
<dd><p>A pointer to the start of the method implementation. In a class definition that represents a formal protocol, this field is <code>NULL</code>.</p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>The compiler generates the method type encodings in a format that includes information on the size of the stack and the size occupied by the arguments. These numbers appear after each encoding in the <code>method_types</code> string. However, because the compiler historically generates them incorrectly, and because they differ depending on the CPU type, the runtime ignores them if they are present. These numbers are not required by the Objective-C runtime in Mac OS X v10.0 or later.</p>
<a name="//apple_ref/c/tag/objc_method_list" title="objc_method_list"></a><a name="//apple_ref/doc/c_ref/objc_method_list" title="objc_method_list"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-objc_method_list" title="objc_method_list"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_53"></a><h3 class="tight">objc_method_list</h3>
<p class="spaceabove">Contains an array of method definitions.</p>
<p class="spaceabove"><pre>
struct objc_method_list
   {
   struct <a href="reference.html#//apple_ref/doc/c_ref/objc_method_list">objc_method_list</a> *obsolete;
      int method_count;
      struct <a href="reference.html#//apple_ref/doc/c_ref/objc_method">objc_method</a> method_list[1];
      }
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>obsolete</code></dt>
<dd><p>Reserved for future use.</p></dd>
<dt><code>method_count</code></dt>
<dd><p>An integer specifying the number of methods in the method list array.</p></dd>
<dt><code>method_list</code></dt>
<dd><p>An array of <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structures.</p></dd></dl>
<a name="//apple_ref/c/tag/objc_cache" title="objc_cache"></a><a name="//apple_ref/doc/c_ref/objc_cache" title="objc_cache"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BBCCHBEI" title="objc_cache"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_54"></a><h3 class="tight">objc_cache</h3>
<p class="spaceabove">Performance optimization for method calls. Contains pointers to recently used methods.</p>
<p class="spaceabove"><pre>
struct objc_cache
   {
   unsigned int mask;
   unsigned int occupied;
   <a href="../../ObjCRuntimeRef/Reference/reference.html#//apple_ref/doc/c_ref/Method" target="_top">Method</a> buckets[1];
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>mask</code></dt>
<dd><p>An integer specifying the total number of allocated cache buckets (minus one). During method lookup, the Objective-C runtime uses this field to determine the index at which to begin a linear search of the <code>buckets</code> array. A pointer to a method’s selector is masked against this field using a logical AND operation (<code>index = (mask &amp; selector))</code>. This serves as a simple hashing algorithm.</p></dd>
<dt><code>occupied</code></dt>
<dd><p>An integer specifying the total number of occupied cache buckets.</p></dd>
<dt><code>buckets</code></dt>
<dd><p>An array of pointers to <code><a href="reference.html#//apple_ref/c/tag/objc_method">objc_method</a></code> data structures. This array may contain no more than <code>mask + 1</code> items. Note that pointers may be <code>NULL</code>, indicating that the cache bucket is unoccupied, and occupied buckets may not be contiguous. This array may grow over time.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>To limit the need to perform linear searches of method lists for the definitions of frequently accessed methods—an operation that can considerably slow down method lookup—the Objective-C runtime functions store pointers to the definitions of the most recently called method of the class in an <code>objc_cache</code> data structure.</p>
<a name="//apple_ref/c/tag/objc_protocol_list" title="objc_protocol_list"></a><a name="//apple_ref/doc/c_ref/objc_protocol_list" title="objc_protocol_list"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BBCEFDIE" title="objc_protocol_list"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_55"></a><h3 class="tight">objc_protocol_list</h3>
<p class="spaceabove">Represents a list of formal protocols.</p>
<p class="spaceabove"><pre>
struct objc_protocol_list
   {
   struct <a href="reference.html#//apple_ref/doc/c_ref/objc_protocol_list">objc_protocol_list</a> *next;
      int count;
      Protocol *list[1];
   };
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>next</code></dt>
<dd><p>A pointer to another <code>objc_protocol_list</code> data structure.</p></dd>
<dt><code>count</code></dt>
<dd><p>The number of protocols in this list.</p></dd>
<dt><code>list</code></dt>
<dd><p>An array of pointers to <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structures that represent protocols.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>A formal protocol is a class definition that declares a set of methods, which a class must implement. Such a class definition contains no instance variables. A class definition may promise to implement any number of formal protocols.</p>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-117253" title="Instance Data Types"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BAJBBBGE" title="Instance Data Types"></a><h3><a name="//apple_ref/doc/uid/TP40005354-CH3g-TPXREF121" title="Instance Data Types"></a>Instance Data Types</h3>
<p>These are the data types that represent objects, classes, and superclasses (they are defined in <code>/usr/include/objc/objc-class.h</code>):</p>
<ul class="ul"><li class="li"><p><code><a href="reference.html#//apple_ref/c/tdef/id">id</a></code> pointer to an instance of a class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_object">objc_object</a></code> represents an instance of a class.</p></li>
<li class="li"><p><code><a href="reference.html#//apple_ref/c/tag/objc_super">objc_super</a></code> specifies the superclass of an instance.</p></li></ul>
<a name="//apple_ref/c/tdef/id" title="id"></a><a name="//apple_ref/doc/c_ref/id" title="id"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BAJFBCCJ" title="id"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_56"></a><h3 class="tight">id</h3>
<p class="spaceabove">A pointer to an instance of a class.</p>
<p class="spaceabove"><pre>
typedef struct <a href="reference.html#//apple_ref/doc/c_ref/objc_object">objc_object</a> *id;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>An <code>id</code> is a pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_object">objc_object</a></code> data structure.</p>
<a name="//apple_ref/c/tag/objc_object" title="objc_object"></a><a name="//apple_ref/doc/c_ref/objc_object" title="objc_object"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-objc_object" title="objc_object"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_57"></a><h3 class="tight">objc_object</h3>
<p class="spaceabove">Represents an instance of a class.</p>
<p class="spaceabove"><pre>
struct objc_object
   {
   struct <a href="reference.html#//apple_ref/doc/c_ref/objc_class">objc_class</a> *isa;
      /* …variable length data containing instance variable values…  */
   };
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>isa</code></dt>
<dd><p>A pointer to the class definition of which this object is an instance.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>When you create an instance of a particular class, the allocated memory contains an <code>objc_object</code> data structure, which is directly followed by the data for the instance variables of the class. </p>
<p>The <code>alloc</code> and <code>allocWithZone:</code> methods of the Foundation framework class NSObject use the functions <code><a href="reference.html#//apple_ref/c/func/class_createInstance">class_createInstance</a></code> and <code><a href="reference.html#//apple_ref/c/func/class_createInstanceFromZone">class_createInstanceFromZone</a></code> to create <code>objc_object</code> data structures.</p>
<a name="//apple_ref/c/tag/objc_super" title="objc_super"></a><a name="//apple_ref/doc/c_ref/objc_super" title="objc_super"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BBCFBBGA" title="objc_super"></a>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_58"></a><h3 class="tight">objc_super</h3>
<p class="spaceabove">Specifies the superclass of an instance.</p>
<p class="spaceabove"><pre>
struct objc_super
   {
   id receiver;
   Class class;
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>receiver</code></dt>
<dd><p>A pointer of type <code><a href="reference.html#//apple_ref/c/tdef/id">id</a></code>. Specifies an instance of a class.</p></dd>
<dt><code>class</code></dt>
<dd><p>A pointer to an <code><a href="reference.html#//apple_ref/c/tag/objc_class">objc_class</a></code> data structure. Specifies the particular superclass of the instance to message.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The compiler generates an <code>objc_super</code> data structure when it encounters the <code>super</code> keyword as the receiver of a message. It specifies the class definition of the particular superclass that should be messaged.</p>
<a name="//apple_ref/doc/uid/TP40005354-CH3g-212046" title="Macros"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-BAJCCHGE" title="Macros"></a><h3>Macros</h3>
<p>These macros improve the readability of Objective-C code. They are defined in <code>/usr/include/objc/objc.h</code>.</p>
<a name="//apple_ref/c/tag/YES" title="YES"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-SW1" title="YES"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_59"></a><h3 class="tight">YES</h3>
<p class="spaceabove">Defines <code>YES</code> as <code>1</code>.</p>
<p class="spaceabove"><pre>
#define YES (BOOL)1
</pre></p>

<a name="//apple_ref/c/tag/NO" title="NO"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-SW2" title="NO"></a><a name="//apple_ref/doc/uid/TP40005354-CH3g-DontLinkElementID_60"></a><h3 class="tight">NO</h3>
<p class="spaceabove">Defines <code>NO</code> as <code>0</code>.</p>
<p class="spaceabove"><pre>
#define NO (BOOL)0
</pre></p>


        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory/RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-01-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Reference/ObjCRuntimeRef1/Reference/reference.html%3Fid%3DTP40005354-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Reference/ObjCRuntimeRef1/Reference/reference.html%3Fid%3DTP40005354-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Reference/ObjCRuntimeRef1/Reference/reference.html%3Fid%3DTP40005354-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>