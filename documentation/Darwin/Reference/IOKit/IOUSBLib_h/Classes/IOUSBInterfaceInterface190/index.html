<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=HTML">
<title>IOUSBInterfaceInterface190</title>
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware & Drivers</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/iokit_fw" target="_top">I/O Kit Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOUSBInterfaceInterface190">IOUSBInterfaceInterface190</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Inherits from:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a --><p>IOUSBInterfaceInterface183<!-- /a --></p>
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOUSBLib.h</a></div></div></td>
</tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>The object you use to access a USB device interface from user space, returned by the IOUSBFamily
version 1.9 and above.
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The functions listed here include all of the functions defined for the IOUSBInterfaceInterface, 
IOUSBInterfaceInterface182, IOUSBInterfaceInterface183, and some new functions that are available 
on Mac OS X version 10.2 and later.
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/ClearPipeStallBothEnds" target="_top">ClearPipeStallBothEnds</a></tt></dt>
<dd><p>Equivalent to <a href="../IOUSBInterfaceInterface/index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface/ClearPipeStall" target="_top">ClearPipeStall</a> .
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/GetBandwidthAvailable" target="_top">GetBandwidthAvailable</a></tt></dt>
<dd><p>Returns the amount of bandwidth available (in bytes per 1ms frame) on the bus for allocation to 
isochronous pipes.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/GetEndpointProperties" target="_top">GetEndpointProperties</a></tt></dt>
<dd><p>Returns the transfer type, max packet size, and interval of a specified endpoint, whether or not 
the endpoint has a pipe currently established.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/SetPipePolicy" target="_top">SetPipePolicy</a></tt></dt>
<dd><p>Changes the size of the reserved bandwidth for an isochronous pipe.
</p></dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/ClearPipeStallBothEnds;  indexgroup=USB ;   name=ClearPipeStallBothEnds --><a name="//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/ClearPipeStallBothEnds"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ClearPipeStallBothEnds">ClearPipeStallBothEnds</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Equivalent to <a href="../IOUSBInterfaceInterface/index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface/ClearPipeStall" target="_top">ClearPipeStall</a>.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">ClearPipeStallBothEnds</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">pipeRef</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to the IOUSBInterfaceInterface.</p></dd>
<dt><code>pipeRef</code></dt>
<dd><p>Index for the desired pipe (1 - <a href="../IOUSBInterfaceInterface/index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface/GetNumEndpoints" target="_top">GetNumEndpoints</a> ).</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if successful, kIOReturnNoDevice if there is no connection to an IOService, or
kIOReturnNotOpen if the interface is not open for exclusive access.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is equivalent to ClearPipeStall except that it also attempts to clear the halt and
toggle bits on the device's endpoint for the pipe by sending a ClearFeature(ENDPOINT_HALT) to the 
default control pipe in the device, specifying the endpoint for the pipe represented by pipeRef. For
most devices, this resynchronizes the data toggle between the two endpoints to ensure that there is 
no loss of data.
<!-- end discussion -->
</p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>This function is only available with IOUSBInterfaceInterface190 and above.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/GetBandwidthAvailable;  indexgroup=USB ;   name=GetBandwidthAvailable --><a name="//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/GetBandwidthAvailable"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetBandwidthAvailable">GetBandwidthAvailable</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the amount of bandwidth available (in bytes per 1ms frame) on the bus for allocation to 
isochronous pipes.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">GetBandwidthAvailable</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">bandwidth</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to the IOUSBInterfaceInterface.</p></dd>
<dt><code>bandwidth</code></dt>
<dd><p>Pointer to UInt32 to hold the amount of bandwidth available (in bytes per 1ms frame).</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if successful, kIOReturnNoDevice if there is no connection to an IOService.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function is useful for determining the correct AltInterface setting as well as for using 
<a href="index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/SetPipePolicy" target="_top">SetPipePolicy</a> .
</p>
<p>The interface does not have to be open to use this function.
<!-- end discussion -->
</p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>This function is only available with IOUSBInterfaceInterface190 and above.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/GetEndpointProperties;  indexgroup=USB ;   name=GetEndpointProperties --><a name="//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/GetEndpointProperties"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="GetEndpointProperties">GetEndpointProperties</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the transfer type, max packet size, and interval of a specified endpoint, whether or not 
the endpoint has a pipe currently established.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">GetEndpointProperties</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">alternateSetting</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">endpointNumber</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">direction</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">transferType</span>,
    <!-- a --><span class="type">UInt16</span><!-- /a --> <span class="type">*</span><span class="param">maxPacketSize</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">interval</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to the IOUSBInterfaceInterface.</p></dd>
<dt><code>alternateSetting</code></dt>
<dd><p>Specifies the alternate setting within the current interface.</p></dd>
<dt><code>endpointNumber</code></dt>
<dd><p>Specifies the desired endpoint number.</p></dd>
<dt><code>direction</code></dt>
<dd><p>Specifies the desired direction.</p></dd>
<dt><code>transferType</code></dt>
<dd><p>Pointer to UInt8 to hold the endpoint's transfer type (kUSBControl, kUSBIsoc, etc).</p></dd>
<dt><code>maxPacketSize</code></dt>
<dd><p>Pointer to UInt16 to hold the maxPacketSize of the endpoint.</p></dd>
<dt><code>interval</code></dt>
<dd><p>Pointer to UInt8 to hold the polling interval for interrupt endpoints.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if successful, kIOReturnNoDevice if there is no connection to an IOService.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function may be useful for determining which alternate interface to select when trying to 
balance bandwidth allocations among isochronous pipes.
</p>
<p>The interface does not have to be open to use this function.
<!-- end discussion -->
</p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>This function is only available with IOUSBInterfaceInterface190 and above.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/SetPipePolicy;  indexgroup=USB ;   name=SetPipePolicy --><a name="//apple_ref/doc/com/intfm/IOUSBInterfaceInterface190/SetPipePolicy"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SetPipePolicy">SetPipePolicy</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Changes the size of the reserved bandwidth for an isochronous pipe.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">SetPipePolicy</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">pipeRef</span>,
    <!-- a --><span class="type">UInt16</span><!-- /a --> <span class="param">maxPacketSize</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">maxInterval</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to the IOUSBInterfaceInterface.</p></dd>
<dt><code>pipeRef</code></dt>
<dd><p>Index for the desired pipe (1 - <a href="../IOUSBInterfaceInterface/index.html#//apple_ref/doc/com/intfm/IOUSBInterfaceInterface/GetNumEndpoints" target="_top">GetNumEndpoints</a> ).</p></dd>
<dt><code>maxPacketSize</code></dt>
<dd><p>The desired size for the isochronous pipe. Valid values are 0 through the maxPacketSize 
defined in the endpoint descriptor.</p></dd>
<dt><code>maxInterval</code></dt>
<dd><p>Currently ignored.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if successful, kIOReturnNoDevice if there is no connection to an IOService, or
kIOReturnNotOpen if the interface is not open for exclusive access.  May also return kIOReturnNoBandwidth 
if there is not enough bandwidth available on the bus, or kIOReturnBadArgument if the desired 
maxPacketSize is outside of the allowed range.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The pipe may be made smaller or larger (up to the maxPacketSize specified in the endpoint descriptor).
When an interface is first opened, all pipes are created with their descriptor-supplied maxPacketSize.
For isochronous pipes, if there is not enough bandwidth on the bus to allocate to the pipe, the pipe
is created with a reserved bandwidth of zero. Any attempts to transfer data on a pipe with zero 
bandwidth will result in a kIOReturnNoBandwidth error. The pipe must first be given some bandwidth 
using this call.
</p>
<p>The interface must be open for the pipe to exist.
<!-- end discussion -->
</p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>This function is only available with IOUSBInterfaceInterface190 and above.
</dd>
</dl>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/IOKit/IOUSBLib_h/Classes/IOUSBInterfaceInterface190/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/IOKit/IOUSBLib_h/Classes/IOUSBInterfaceInterface190/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/IOKit/IOUSBLib_h/Classes/IOUSBInterfaceInterface190/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&nbsp;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2009-02-23
</div>
<!-- headerDoc=cl; uid=//apple_ref/c/cl/IOUSBInterfaceInterface190; indexgroup=USB ; name=IOUSBInterfaceInterface190--><a name="//apple_ref/c/cl/IOUSBInterfaceInterface190"></a>
</body>
</html>
