<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects Java Client Programming Guide (Legacy): Using and Extending Image Views in Nib Files</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Using and Extending Image Views in Nib Files"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001017-CH316" title="Using and Extending Image Views in Nib Files"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../LegacyTechnologies/Tools-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000463" target="_top">Tools</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP30001017-CH297-TP1">WebObjects Java Client Programming Guide (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../T8CustomViews/T8CustomViews.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../T12PopUpMenus/T12PopUpMenus.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30001017-CH316-TP1" title="Using and Extending Image Views in Nib Files"></a><h1>Using and Extending Image Views in Nib Files</h1><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_687"></a><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_688"></a><p>It’s common to want to display images in the user interfaces of Java Client applications. Although you can use Interface Builder to place the view area for an image, you must retrieve and load the image programmatically. This task describes the steps necessary to use an image view in an Interface Builder file.</p><p><strong>Problem:</strong> You want to display an image in an Interface Builder file.</p><p><strong>Solution:</strong> Place an image view in a nib file, add an outlet, and load the image programmatically.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="T11ImageViews.html#//apple_ref/doc/uid/TP30001017-CH316-TPXREF39">Adding Outlets</a>
				
			<br/>
			
        
			
			
				<a href="T11ImageViews.html#//apple_ref/doc/uid/TP30001017-CH316-TPXREF40">Adding the Widget</a>
				
			<br/>
			
        
			
			
				<a href="T11ImageViews.html#//apple_ref/doc/uid/TP30001017-CH316-TPXREF41">Connecting the Outlet</a>
				
			<br/>
			
        
			
			
				<a href="T11ImageViews.html#//apple_ref/doc/uid/TP30001017-CH316-BIHIFADB">Loading the Image</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001017-CH316-TPXREF39" title="Adding Outlets"></a><h2>Adding Outlets</h2><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_689"></a><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_690"></a><p>To set the image in an image view, you need access to the widget in the controller class. This is described in <span class="content_text"><a href="../NonDirectJavaClient/NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-TPXREF27">“Programmatic Access to Interface Components.”</a></span> To review, to get programmatic access to user interface elements, you need to add outlets to File’s Owner, associate user interface widgets with those outlets, and add instance variables for the outlets to which you want programmatic access.</p><p>To add an outlet, switch to the Classes pane in the nib file window and select the class with which File’s Owner is associated. Bring up the Info window and choose Attributes from its pop-up list. Switch to the Outlets pane and click Add to add a new outlet. Name the new outlet <code>imageview</code>. Refer to <span class="content_text">Figure 19-1</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH316-BABFHHJC" title="Figure 19-1Add a new outlet"></a><p><strong>Figure 19-1&nbsp;&nbsp;</strong>Add a new outlet</p><img src = "../Art/add_oulet.gif" alt = "Add a new outlet" width="490" height="236"></div><br/><p>Now you’re ready to add the image view widget to the interface.</p><a name="//apple_ref/doc/uid/TP30001017-CH316-TPXREF40" title="Adding the Widget"></a><h2>Adding the Widget</h2><p>You now need to add a widget to represent the image you want to display. The Other palette<a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_691"></a><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_692"></a> includes an image view widget that works for these purposes. If the palettes window isn’t visible, choose Tools >Palettes > Show Palettes. Click the Other palette button in the toolbar (the one with the slider and the progress bar). The Other palette is shown in <span class="content_text">Figure 19-2</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH316-BABCAIIH" title="Figure 19-2Other palette"></a><p><strong>Figure 19-2&nbsp;&nbsp;</strong>Other palette</p><img src = "../Art/cocoa_other_palette.gif" alt = "Other palette" width="266" height="187"></div><br/><p>Drag the image view widget (the one in the upper-left corner of the Cocoa palette with the picture of a mountain in it) onto the main window. If the main window isn’t visible, switch to the Instances pane of the nib file window and double-click the MainWindow object. Place the widget in the upper-left corner of the window and use the guides Interface Builder provides to size and place it, as shown in <span class="content_text">Figure 19-3</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH316-BABEGAFA" title="Figure 19-3Place widget with guides"></a><p><strong>Figure 19-3&nbsp;&nbsp;</strong>Place widget with guides</p><img src = "../Art/drag_view_with_guides.gif" alt = "Place widget with guides" width="506" height="199"></div><br/><p>Now you need to connect the widget to the outlet you added to File’s Owner.</p><a name="//apple_ref/doc/uid/TP30001017-CH316-TPXREF41" title="Connecting the Outlet"></a><h2>Connecting the Outlet</h2><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_693"></a><p>Interface Builder is the best tool for building Java Client user interfaces as it allows you to visually associate user interface widgets with outlets and actions in the class file. When you associated File’s Owner with the custom subclass of EOInterfaceController, the icon for File’s Owner changed to include an exclamation point, as shown in <span class="content_text">Figure 19-4</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH316-CHDHJHJA" title="Figure 19-4File&acirc;&#128;&#153;s Owner icon with exclamation point"></a><p><strong>Figure 19-4&nbsp;&nbsp;</strong>File’s Owner icon with exclamation point</p><img src = "../Art/filesowner_attention.gif" alt = "File’s Owner icon with exclamation point" width="304" height="191"></div><br/><p>The exclamation point icon indicates that File’s Owner’s connections are broken or incomplete. In this case, the <code>imageview</code> outlet you added is not connected (it is not associated with anything). To make the connection, Control-drag from File’s Owner to the image view widget you placed in the main window as shown in <span class="content_text">Figure 19-5</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH316-BABFAJBA" title="Figure 19-5Connect outlet to widget"></a><p><strong>Figure 19-5&nbsp;&nbsp;</strong>Connect outlet to widget</p><img src = "../Art/connect_outlet_to_widget.gif" alt = "Connect outlet to widget" width="524" height="333"></div><br/><p>In the File’s Owner Info window, select the <code>imageview</code> outlet and click Connect. The File’s Owner Info window should then appear as in <span class="content_text">Figure 19-5</span>.</p><p>Save the interface file. It is now prepared to display an image in the client application.</p><a name="//apple_ref/doc/uid/TP30001017-CH316-BIHIFADB" title="Loading the Image"></a><h2>Loading the Image</h2><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_694"></a><p>The image view widget you placed in the interface file did not specify a particular image. Rather, it specified an area in the window where an image can be displayed. You now need to add some code to retrieve the image and load it in the image view widget.</p><p>In Project Builder, open the Java class for the interface file you just edited. Before modifications, it should look something like this:</p><div class="codesample"><table><tr><td scope="row"><pre>package mycompany.client;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.foundation.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.eocontrol.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.eoapplication.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public class MyInterfaceController extends EOInterfaceController {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public MyInterfaceController() {<span></span></pre></td></tr><tr><td scope="row"><pre>        super();<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public MyInterfaceController(EOEditingContext substitutionEditingContext) {<span></span></pre></td></tr><tr><td scope="row"><pre>        super(substitutionEditingContext);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>To load and place the image, you use the EOInterface Swing package (<code>com.webobjects.eointerface.swing.*</code>). You also need to use the Java Swing and AWT packages, so add these import statements:</p><div class="codesample"><table><tr><td scope="row"><pre>import com.webobjects.eointerface.swing.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import java.awt.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.swing.*;<span></span></pre></td></tr></table></div><p>Next, you need to add an instance variable to get access to the outlet you defined in the interface file. The variable’s type is EOImageView, defined in <code>com.webobjects.eointerface.swing.*</code>. You named the outlet “imageview” so add an instance variable of the same name:</p><div class="codesample"><table><tr><td scope="row"><pre>public EOImageView imageview;<span></span></pre></td></tr></table></div><p>To load an image into the EOImageView object, you need to make sure that the interface controller has finished loading. The method <code>controllerDidLoadArchive</code><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_695"></a> is invoked when the controller is finished loading. You can override it to perform certain initializations, such as loading an image into an image view. Add the method as shown in <span class="content_text">Listing 19-1</span>.</p><a name="//apple_ref/doc/uid/TP30001017-CH316-BABIHDDA" title="Listing 19-1Overriding controllerDidLoadArchive"></a><p class="codesample"><strong>Listing 19-1&nbsp;&nbsp;</strong>Overriding <code>controllerDidLoadArchive</code></p><div class="codesample"><table><tr><td scope="row"><pre>    protected void controllerDidLoadArchive(NSDictionary namedObjects) {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        ImageIcon iIcon =           (ImageIcon)EOUserInterfaceParameters.localizedIcon("iMac");<span>// 1</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        Image newImage = iIcon.getImage();<span>// 2</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        imageview.setImage(newImage);<span>// 3</span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr></table></div><p>Code line 1 attempts to retrieve an image that is associated with the Web Server target. Specify the image name without including the suffix.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_216" title="Note"></a><p><strong>Note:</strong>&nbsp;As of WebObjects<a name="//apple_ref/doc/uid/TP30001017-CH316-DontLinkElementID_696"></a> 5.2, <code>EOUserInterfaceParameters.localizedIcon</code> retrieves images with extensions <code>gif</code>, <code>jpeg</code>, <code>jpg</code>, and <code>png</code> only.</p></div><p>Code line 1 casts the retrieved object into an object of type ImageIcon. <code>localizedIcon</code> returns an object of type Icon, so casting the retrieved object into an ImageIcon allows you to retrieve the image data in the form of an Image object that the <code>setImage</code> method on EOImageView accepts. Code line 2 retrieves the image’s data from the ImageIcon object and code line 3 sets the image in the image view object to the image retrieved in code line 1.</p><p>If successful, your interface file should load and display the specified image as shown in <span class="content_text">Figure 19-6</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH316-BIHDAEFI" title="Figure 19-6Image in image view"></a><p><strong>Figure 19-6&nbsp;&nbsp;</strong>Image in image view</p><img src = "../Art/image_in_client.gif" alt = "Image in image view" width="467" height="185"></div><br/>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../T8CustomViews/T8CustomViews.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../T12PopUpMenus/T12PopUpMenus.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-08-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/DesktopApplications/T11ImageViews/T11ImageViews.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/DesktopApplications/T11ImageViews/T11ImageViews.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/DesktopApplications/T11ImageViews/T11ImageViews.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>