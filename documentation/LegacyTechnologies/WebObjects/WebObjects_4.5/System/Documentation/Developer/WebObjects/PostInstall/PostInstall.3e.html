<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Converting Projects from WebObjects 3.5 to 4.0</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Post Install Guide</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="PostInstall.3b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.3d.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.3f.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><HR></DIV><H1><A NAME="pgfId=47389"> </A><A NAME="73952"> </A>Converting Projects from WebObjects 3.5 to 4.0</H1><A NAME="pgfId=47558"> </A>Prior to conversion, make sure you have the latest patches for WebObjects 4.0. Check the Tech Info Library at http://til.info.apple.com/techinfo.nsf/artnum/n70037 for the most up-to-date list. In particular, on Windows NT systems make sure you've obtained and installed the NSTimeZone bug workaround.</P><A NAME="pgfId=47575"> </A>To convert a project to WebObjects 4 from an earlier version of WebObjects, do the following:</P><OL><LI><A NAME="pgfId=47576"> </A>Make a backup copy of your application, and save that backup copy somewhere other than in the base directory.</p><LI><A NAME="pgfId=47579"> </A>Convert your project's makefiles as described in the document <I>$NEXT_ROOT</I><TT>/Developer/Makefiles/Conversion/DirectoryLayout/ConvertMakefilesReadMe.rtf.</TT><P><A NAME="pgfId=46922"> </A>(<I>$NEXT_ROOT </I>is the root installation directory specified when WebObjects was installed.) The project files must change to point to new locations for the build tools. <TT>ConvertMakefilesReadMe.rtf</TT> tells you how to make those changes.<P><LI><A NAME="pgfId=46924"> </A><A NAME="39965"> </A>If your project contains Java code files, convert them as described in <A HREF="PostInstall.3f.html#36569" CLASS="XRef">Converting Java Code From WebObjects 3.5</A>.<P><P CLASS="Note"><A NAME="pgfId=46928"> </A>The Java APIs changed considerably between WebObjects 3.5 and 4. If you've written Java code, you must convert it before you can compile.</P><LI><A NAME="pgfId=46929"> </A>Open your project in Project Builder, and click &quot;Upgrade Now&quot; when prompted.<P><A NAME="pgfId=46930"> </A>Among other things, upgrading your project in this fashion will:<P><A NAME="pgfId=46931"> </A>- Upgrade your <TT>PB.project</TT> file to the latest version.</P><A NAME="pgfId=46932"> </A>- Upgrade your makefiles to the latest versions.</P><A NAME="pgfId=46933"> </A>- Convert your WebObject project suitcases to the new format.</P><A NAME="pgfId=46934"> </A>- Convert your project so that it conforms to the WebObjects 4 localization scheme. As a result of this, script (<TT>.wos</TT>) and <TT>.api</TT> files are moved outside of their component (<TT>.wo</TT>) directories. Script files now appear in the Classes suitcase.</P><LI><A NAME="pgfId=46938"> </A>Build. If errors occur during the build, fix them and re-build the project.<P><A NAME="pgfId=46939"> </A>The WebObjects Framework contains many optimizations that should greatly improve your application's performance. However, you may find your code relied on some part of the request-response loop or template parsing code that is no longer always performed.<P><LI><A NAME="pgfId=46940"> </A>Run the project. If your application doesn't run as expected, see the following sections:<P>- <A NAME="pgfId=47278"> </A><A HREF="PostInstall.40.html#22678" CLASS="XRef">Troubleshooting WebObjects 4 Template Parsing</A><P>- <A NAME="pgfId=47279"> </A><A HREF="PostInstall.41.html#39759" CLASS="XRef">Troubleshooting WebObjects 4 Request Handling</A><P>- <A NAME="pgfId=47280"> </A><A HREF="PostInstall.42.html#42671" CLASS="XRef">WebScript Changes</A><P><A NAME="pgfId=47281"> </A>Also check the <I>What's New in WebObjects</I> document for a list of differences between the current release and the previous one.<P><LI><A NAME="pgfId=46950"> </A>At this stage, if you want, you can remove all usage of deprecated API. WebObjects has been rewritten to be thread-safe, which required deprecating some of the existing APIs. You can still use deprecated API as long as you do not enable multithreading in your application. You'll receive warnings about deprecated API at run-time. For a complete list of what's deprecated, see the &quot;Deprecated API&quot; file that's included as part of each framework's reference documentation.</p><LI><A NAME="pgfId=47580"> </A>Make the following changes as appropriate for your system:<P>- <A NAME="pgfId=47583"> </A>Convert dynamic elements to use <TT>escapeHTML</TT> and <TT>displayString</TT> (WOBrowser, WOPopUpButton, WOCheckBoxList, WONestedList).<P>- <A NAME="pgfId=47589"> </A>Replace EOFetchSpecification hints with the appropriate new methods (see the EOFetchSpecification class reference).<P></OL><A NAME="pgfId=47442"> </A>Changes in both WebObjects template parsing and request handling may require you to make additional, manual adjustments to your WebObjects 3.5 applications. Refer to <A HREF="PostInstall.40.html#22678" CLASS="XRef">Troubleshooting WebObjects 4 Template Parsing</A> and <A HREF="PostInstall.41.html#39759" CLASS="XRef">Troubleshooting WebObjects 4 Request Handling</A> for details.<P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 19 Oct 99)<P><A HREF="PostInstall.3b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.3d.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PostInstall.3f.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>