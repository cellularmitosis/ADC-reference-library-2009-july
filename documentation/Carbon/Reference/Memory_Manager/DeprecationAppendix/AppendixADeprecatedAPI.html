<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Memory Manager Reference: Deprecated Memory Manager  Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deprecated Memory Manager  Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000202-AppendixA" title="Deprecated Memory Manager  Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxResourceManagement-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000458" target="_top">Resource Management</a> &gt; <a href="../index.html" target="_top">Memory Manager Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../memory_mgr_ref_revhist/memory_mgr_ref_revhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <h1>Deprecated Memory Manager  Functions</h1><p>A function identified as deprecated has been superseded and may become unsupported in the future.</p><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_136" title="Deprecated in Mac OS X v10.4"></a><h2>Deprecated in Mac OS X v10.4</h2><a name="//apple_ref/c/func/CheckAllHeaps" title="CheckAllHeaps"></a><a name="//apple_ref/doc/c_ref/CheckAllHeaps" title="CheckAllHeaps"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F11182" title="CheckAllHeaps"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_15"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_15"></a><h3 class="tight">CheckAllHeaps</h3><p class="spaceabove">Checks all known heaps for validity.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; an application has access only to its own heap in Mac OS X.)</p><p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CheckAllHeaps (
   void
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/CompactMem" title="CompactMem"></a><a name="//apple_ref/doc/c_ref/CompactMem" title="CompactMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F00711" title="CompactMem"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_16"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_16"></a><h3 class="tight">CompactMem</h3><p class="spaceabove">Compacts the heap by moving relocatable blocks as needed.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; memory compaction is never needed and never performed in Mac OS X.)</p><p class="spaceabove"><pre>
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> CompactMem (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> cbNeeded
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>cbNeeded</em></dt><dd><p>The size, in bytes, of the block for which <code>CompactMem</code> should attempt to make room. </p></dd></dl><h5 class="tight">Return Value</h5><p>The size, in bytes, of the largest contiguous free block available after compacting the heap zone. CompactMem does not actually allocate that block. </p><h5 class="tight">Discussion</h5><p>The Memory Manager automatically compacts the heap when a memory request fails. However, you can use the <code>CompactMem</code> function to compact the current heap zone manually.</p><p><code>CompactMem</code> compacts the current heap zone not by purging blocks, but rather by moving unlocked, relocatable blocks down until they encounter nonrelocatable blocks or locked, relocatable blocks. <code>CompactMem</code> continues compacting until it either finds a contiguous block of at least <code>cbNeeded</code> free bytes or compacts the entire zone.</p><p>To compact the entire heap zone, call <code>CompactMem(maxSize)</code>.</p><p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span></p><p>Because <code>CompactMem</code> moves memory, you should not call it at interrupt time. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/DisposeGrowZoneUPP" title="DisposeGrowZoneUPP"></a><a name="//apple_ref/doc/c_ref/DisposeGrowZoneUPP" title="DisposeGrowZoneUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F11286" title="DisposeGrowZoneUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_17"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_17"></a><h3 class="tight">DisposeGrowZoneUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps never grow in Mac OS X, so the grow-zone function is never called.)</p><p class="spaceabove"><pre>
void DisposeGrowZoneUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/GrowZoneUPP">GrowZoneUPP</a> userUPP
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>userUPP</em></dt><dd></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/DisposePurgeUPP" title="DisposePurgeUPP"></a><a name="//apple_ref/doc/c_ref/DisposePurgeUPP" title="DisposePurgeUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F11406" title="DisposePurgeUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_20"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_20"></a><h3 class="tight">DisposePurgeUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps are never purged in Mac OS X, so the purge function is never called.)</p><p class="spaceabove"><pre>
void DisposePurgeUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/PurgeUPP">PurgeUPP</a> userUPP
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>userUPP</em></dt><dd></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/DisposeUserFnUPP" title="DisposeUserFnUPP"></a><a name="//apple_ref/doc/c_ref/DisposeUserFnUPP" title="DisposeUserFnUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F11489" title="DisposeUserFnUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_21"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_21"></a><h3 class="tight">DisposeUserFnUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p><p class="spaceabove"><pre>
void DisposeUserFnUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/UserFnUPP">UserFnUPP</a> userUPP
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>userUPP</em></dt><dd></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/FlushMemory" title="FlushMemory"></a><a name="//apple_ref/doc/c_ref/FlushMemory" title="FlushMemory"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_2" title="FlushMemory"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_23"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_23"></a><h3 class="tight">FlushMemory</h3>
<p class="spaceabove">Makes a portion of the address space clean.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
OSErr FlushMemory (
   void *address,
   unsigned long count
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>This function always returns a value of <code>noErr</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/GetGrowZone" title="GetGrowZone"></a><a name="//apple_ref/doc/c_ref/GetGrowZone" title="GetGrowZone"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F15270" title="GetGrowZone"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_25"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_25"></a><h3 class="tight">GetGrowZone</h3>
<p class="spaceabove">Returns the current heap zone’s grow-zone function.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps never grow in Mac OS X, so the grow-zone function is never used.)</p>
<p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/GrowZoneUPP">GrowZoneUPP</a> GetGrowZone (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>See the description of the <code>GrowZoneUPP</code> data type.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/GZSaveHnd" title="GZSaveHnd"></a><a name="//apple_ref/doc/c_ref/GZSaveHnd" title="GZSaveHnd"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F02829" title="GZSaveHnd"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_28"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_28"></a><h3 class="tight">GZSaveHnd</h3><p class="spaceabove">Returns a relocatable block to be protected during grow-zone operations.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p><p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> GZSaveHnd (
   void
);
</pre></p><h5 class="tight">Return Value</h5><p>A handle to a block of memory that the Memory Manager reserves during grow-zone operations. Your grow-zone function must not move, purge, or delete this block. This function returns <code>NULL</code> if there is no such block. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/HNoPurge" title="HNoPurge"></a><a name="//apple_ref/doc/c_ref/HNoPurge" title="HNoPurge"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F02888" title="HNoPurge"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_35"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_35"></a><h3 class="tight">HNoPurge</h3><p class="spaceabove">Marks a relocatable block as unpurgeable.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps are never purged in Mac OS X.)</p><p class="spaceabove"><pre>
void HNoPurge (
   <!--a-->Handle<!--/a--> h
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>h</em></dt><dd><p>A handle to a relocatable block. </p></dd></dl><h5 class="tight">Discussion</h5><p>The <code>HNoPurge</code> function marks the relocatable block, to which <code>h</code> is a handle, as unpurgeable. If the block is already unpurgeable, <code>HNoPurge</code> does nothing.</p><p>The <code>HNoPurge</code> function does not reallocate memory for a handle if it has already been purged.</p><p>If you want to reallocate memory for a relocatable block that has already been purged, you can use the <code><a href="../Reference/reference.html#//apple_ref/c/func/ReallocateHandle">ReallocateHandle</a></code> function.</p><p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span> </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/HoldMemory" title="HoldMemory"></a><a name="//apple_ref/doc/c_ref/HoldMemory" title="HoldMemory"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F02889" title="HoldMemory"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_36"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_36"></a><h3 class="tight">HoldMemory</h3>
<p class="spaceabove">Makes a portion of the address space resident in physical memory and ineligible for paging.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
OSErr HoldMemory (
   void *address,
   unsigned long count
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>address</em></dt>
<dd><p>A pointer indicating the starting address of the range of memory to be held in RAM. </p></dd>
<dt><em>count</em></dt>
<dd><p>The size, in bytes, of the range of memory to be held in RAM. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>This function always returns a value of <code>noErr</code>.</p>
<h5 class="tight">Discussion</h5>
<p>If the starting address you supply to the <code>HoldMemory</code> function is not on a page boundary, then <code>HoldMemory</code> rounds down to the nearest page boundary. Similarly, if the specified range does not end on a page boundary, <code>HoldMemory</code> rounds up the value you pass in the <code>count</code> parameter so that the entire range of memory is held.</p>
<p>Even though <code>HoldMemory</code> does not move or purge memory, you should not call it at interrupt time. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/HPurge" title="HPurge"></a><a name="//apple_ref/doc/c_ref/HPurge" title="HPurge"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F02895" title="HPurge"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_37"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_37"></a><h3 class="tight">HPurge</h3>
<p class="spaceabove">Marks a relocatable block as purgeable.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps are never purged in Mac OS X.)</p>
<p class="spaceabove"><pre>
void HPurge (
   <!--a-->Handle<!--/a--> h
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>h</em></dt>
<dd><p>A handle to a relocatable block. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>HPurge</code> function marks the relocatable block, to which <code>h</code> is a handle, as purgeable. If the block is already purgeable, <code>HPurge</code> does nothing.</p>
<p>The Memory Manager might purge the block when it needs to purge the heap zone containing the block to satisfy a memory request. A direct call to the <code>MaxMem</code> function would also purge blocks marked as purgeable.</p>
<p>Once you mark a relocatable block as purgeable, you should make sure that handles to the block are not empty before you access the block. If they are empty, you must reallocate space for the block and recopy the block’s data from another source, such as a resource file, before using the information in the block.</p>
<p>If the block to which <code>h</code> is a handle is locked, <code>HPurge</code> does not unlock the block but does mark it as purgeable. If you later call <code>HUnlock</code> on <code>h</code>, the block is subject to purging.</p>
<p>If the Memory Manager has purged a block, you can reallocate space for it by using the <code><a href="../Reference/reference.html#//apple_ref/c/func/ReallocateHandle">ReallocateHandle</a></code> function.</p>
<p>You can immediately free the space taken by a handle without disposing of it by calling the function <code><a href="../Reference/reference.html#//apple_ref/c/func/EmptyHandle">EmptyHandle</a></code>. This function does not require that the block be purgeable.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span> </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/InvokeGrowZoneUPP" title="InvokeGrowZoneUPP"></a><a name="//apple_ref/doc/c_ref/InvokeGrowZoneUPP" title="InvokeGrowZoneUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F11727" title="InvokeGrowZoneUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_41"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_41"></a><h3 class="tight">InvokeGrowZoneUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps never grow in Mac OS X, so the grow-zone function is never called.)</p><p class="spaceabove"><pre>
long InvokeGrowZoneUPP (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> cbNeeded,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/GrowZoneUPP">GrowZoneUPP</a> userUPP
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>cbNeeded</em></dt><dd></dd><dt><em>userUPP</em></dt><dd></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/InvokePurgeUPP" title="InvokePurgeUPP"></a><a name="//apple_ref/doc/c_ref/InvokePurgeUPP" title="InvokePurgeUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F11847" title="InvokePurgeUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_42"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_42"></a><h3 class="tight">InvokePurgeUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps are never purged in Mac OS X, so the purge function is never called.)</p><p class="spaceabove"><pre>
void InvokePurgeUPP (
   <!--a-->Handle<!--/a--> blockToPurge,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/PurgeUPP">PurgeUPP</a> userUPP
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>blockToPurge</em></dt><dd></dd><dt><em>userUPP</em></dt><dd></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/InvokeUserFnUPP" title="InvokeUserFnUPP"></a><a name="//apple_ref/doc/c_ref/InvokeUserFnUPP" title="InvokeUserFnUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F11930" title="InvokeUserFnUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_43"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_43"></a><h3 class="tight">InvokeUserFnUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p><p class="spaceabove"><pre>
void InvokeUserFnUPP (
   void *parameter,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/UserFnUPP">UserFnUPP</a> userUPP
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>parameter</em></dt><dd></dd><dt><em>userUPP</em></dt><dd></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/LMGetApplZone" title="LMGetApplZone"></a><a name="//apple_ref/doc/c_ref/LMGetApplZone" title="LMGetApplZone"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_3" title="LMGetApplZone"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_47"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_47"></a><h3 class="tight">LMGetApplZone</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p><p class="spaceabove"><pre>
<!--a-->THz<!--/a--> LMGetApplZone (
   void
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/LMGetSysZone" title="LMGetSysZone"></a><a name="//apple_ref/doc/c_ref/LMGetSysZone" title="LMGetSysZone"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03475" title="LMGetSysZone"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_49"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_49"></a><h3 class="tight">LMGetSysZone</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p><p class="spaceabove"><pre>
<!--a-->THz<!--/a--> LMGetSysZone (
   void
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/LMSetApplZone" title="LMSetApplZone"></a><a name="//apple_ref/doc/c_ref/LMSetApplZone" title="LMSetApplZone"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_4" title="LMSetApplZone"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_50"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_50"></a><h3 class="tight">LMSetApplZone</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p><p class="spaceabove"><pre>
void LMSetApplZone (
   <!--a-->THz<!--/a--> value
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/LMSetSysZone" title="LMSetSysZone"></a><a name="//apple_ref/doc/c_ref/LMSetSysZone" title="LMSetSysZone"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03669" title="LMSetSysZone"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_52"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_52"></a><h3 class="tight">LMSetSysZone</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p><p class="spaceabove"><pre>
void LMSetSysZone (
   <!--a-->THz<!--/a--> value
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/MakeMemoryNonResident" title="MakeMemoryNonResident"></a><a name="//apple_ref/doc/c_ref/MakeMemoryNonResident" title="MakeMemoryNonResident"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03748" title="MakeMemoryNonResident"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_53"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_53"></a><h3 class="tight">MakeMemoryNonResident</h3>
<p class="spaceabove">Makes pages in the specified range immediately available for reuse.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
OSErr MakeMemoryNonResident (
   void *address,
   unsigned long count
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>This function always returns a value of <code>noErr</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/MakeMemoryResident" title="MakeMemoryResident"></a><a name="//apple_ref/doc/c_ref/MakeMemoryResident" title="MakeMemoryResident"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03749" title="MakeMemoryResident"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_54"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_54"></a><h3 class="tight">MakeMemoryResident</h3>
<p class="spaceabove">Makes a portion of the address space resident in physical memory.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
OSErr MakeMemoryResident (
   void *address,
   unsigned long count
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/MoreMasterPointers" title="MoreMasterPointers"></a><a name="//apple_ref/doc/c_ref/MoreMasterPointers" title="MoreMasterPointers"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F13512" title="MoreMasterPointers"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_58"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_58"></a><h3 class="tight">MoreMasterPointers</h3><p class="spaceabove">Allocates a specified number of master pointers in the current heap zone.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; master pointers do not need to be pre-allocated in Mac OS X.)</p><p class="spaceabove"><pre>
void MoreMasterPointers (
   UInt32 inCount
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inCount</em></dt><dd><p>The number of master pointers you want to allocate in a single nonrelocatable block. </p></dd></dl>
<h5 class="tight">Carbon Porting Notes</h5><p>Carbon applications should use this function instead of <code>MoreMasters</code> to allocate a nonrelocatable block of master pointers in the current heap zone.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/MoreMasters" title="MoreMasters"></a><a name="//apple_ref/doc/c_ref/MoreMasters" title="MoreMasters"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03954" title="MoreMasters"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_59"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_59"></a><h3 class="tight">MoreMasters</h3><p class="spaceabove">Allocates a block of master pointers in the current heap zone.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; master pointers do not need to be pre-allocated in Mac OS X.)</p><p class="spaceabove"><pre>
void MoreMasters (
   void
);
</pre></p><h5 class="tight">Discussion</h5><p>In the application heap, a block of master pointers consists of 64 master pointers, and in the system heap, a block consists of 32 master pointers. (These values are likely to increase in future versions of system software.) When you initialize additional heap zones, you can specify the number of master pointers you want to have in a block of master pointers.</p><p>The Memory Manager automatically calls the <code>MoreMasters</code> function once for every new heap zone, including the application heap zone.</p><p>Call <code>MoreMasters</code> several times at the beginning of your program to prevent the Memory Manager from running out of master pointers in the middle of application execution. If it does run out, it allocates more, possibly causing heap fragmentation.</p><p>You should call <code>MoreMasters</code> at the beginning of your program enough times to ensure that the Memory Manager never needs to call it for you. For example, if your application never allocates more than 300 relocatable blocks in its heap zone, then five calls to the <code>MoreMasters</code> should be enough. It’s better to call <code>MoreMasters</code> too many times than too few. For instance, if your application usually allocates about 100 relocatable blocks but might allocate 1000 in a particularly busy session, call <code>MoreMasters</code> enough times to accommodate the largest amount.</p><p>If you initialize a new zone, you can specify the number of master pointers that a master pointer block should contain.</p><p>Call the <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> function to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span></p><p>Because <code>MoreMasters</code> allocates memory, you should not call it at interrupt time.</p><p>The calls to <code>MoreMasters</code> at the beginning of your application should be in the main code segment of your application or in a segment that the main segment never unloads. </p>
<h5 class="tight">Carbon Porting Notes</h5><p>You should instead use <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/MoreMasterPointers">MoreMasterPointers</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/MoveHHi" title="MoveHHi"></a><a name="//apple_ref/doc/c_ref/MoveHHi" title="MoveHHi"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03958" title="MoveHHi"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_60"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_60"></a><h3 class="tight">MoveHHi</h3>
<p class="spaceabove">Moves a relocatable block as high in memory as possible.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; there is no benefit to moving handles high in memory in Mac OS X.)</p>
<p class="spaceabove"><pre>
void MoveHHi (
   <!--a-->Handle<!--/a--> h
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>h</em></dt>
<dd><p>A handle to a relocatable block. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function moves a relocatable block as high in memory as possible to help prevent heap fragmentation. The <code>MoveHHi</code> function attempts to move the relocatable block referenced by the handle <code>h</code> upward until it reaches a nonrelocatable block, a locked relocatable block, or the top of the heap.</p>
<p>If you plan to lock a relocatable block for a short period of time, use the <code>MoveHHi</code> function, which moves the block to the top of the heap and thus helps prevent heap fragmentation.</p>
<p>If you call <code>MoveHHi</code> to move a handle to a resource that has its <code>resChanged</code> bit set, the Resource Manager updates the resource by using the <code>WriteResource</code> function to write the contents of the block to disk. If you want to avoid this behavior, call the Resource Manager function <code>SetResPurge(FALSE)</code> before you call <code>MoveHHi</code>, and then call <code>SetResPurge(TRUE)</code> to restore the default setting.</p>
<p>By using the <code>MoveHHi</code> function on relocatable blocks you plan to allocate for short periods of time, you help prevent islands of immovable memory from accumulating in (and thus fragmenting) the heap.</p>
<p>Do not use the <code>MoveHHi</code> function to move blocks you plan to lock for long periods of time. The <code>MoveHHi</code> function moves such blocks to the top of the heap, perhaps preventing other blocks already at the top of the heap from moving down once they are unlocked. Instead, use the <code>ReserveMem</code> function before allocating such blocks, thus keeping them in the bottom partition of the heap, where they do not prevent relocatable blocks from moving.</p>
<p>If you frequently lock a block for short periods of time and find that calling <code>MoveHHi</code> each time slows down your application, you might consider leaving the block always locked and calling the <code>ReserveMem</code> function before allocating it.</p>
<p>Once you move a block to the top of the heap, be sure to lock it if you do not want the Memory Manager to move it back to the middle partition as soon as it can. (The <code>MoveHHi</code> function cannot move locked blocks; be sure to lock blocks after, not before, calling <code>MoveHHi</code>.)</p>
<p>Using the <code>MoveHHi</code> function without taking other precautionary measures to prevent heap fragmentation is useless, because even one small nonrelocatable or locked relocatable block in the middle of the heap might prevent <code>MoveHHi</code> from moving blocks to the top of the heap.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/NewGrowZoneUPP" title="NewGrowZoneUPP"></a><a name="//apple_ref/doc/c_ref/NewGrowZoneUPP" title="NewGrowZoneUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F12040" title="NewGrowZoneUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_62"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_62"></a><h3 class="tight">NewGrowZoneUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps never grow in Mac OS X, so the grow-zone function is never called.)</p><p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/GrowZoneUPP">GrowZoneUPP</a> NewGrowZoneUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/GrowZoneProcPtr">GrowZoneProcPtr</a> userRoutine
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>userRoutine</em></dt><dd></dd></dl><h5 class="tight">Return Value</h5><p>See the description of the <code>GrowZoneUPP</code> data type.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/NewPurgeUPP" title="NewPurgeUPP"></a><a name="//apple_ref/doc/c_ref/NewPurgeUPP" title="NewPurgeUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F12160" title="NewPurgeUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_67"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_67"></a><h3 class="tight">NewPurgeUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps are never purged in Mac OS X, so the purge function is never called.)</p><p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/PurgeUPP">PurgeUPP</a> NewPurgeUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/PurgeProcPtr">PurgeProcPtr</a> userRoutine
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>userRoutine</em></dt><dd></dd></dl><h5 class="tight">Return Value</h5><p>See the description of the <code>PurgeUPP</code> data type.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/NewUserFnUPP" title="NewUserFnUPP"></a><a name="//apple_ref/doc/c_ref/NewUserFnUPP" title="NewUserFnUPP"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F12243" title="NewUserFnUPP"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_68"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_68"></a><h3 class="tight">NewUserFnUPP</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p><p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/UserFnUPP">UserFnUPP</a> NewUserFnUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/UserFnProcPtr">UserFnProcPtr</a> userRoutine
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>userRoutine</em></dt><dd></dd></dl><h5 class="tight">Return Value</h5><p>See the description of the <code>UserFnUPP</code> data type.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/PurgeMem" title="PurgeMem"></a><a name="//apple_ref/doc/c_ref/PurgeMem" title="PurgeMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F05108" title="PurgeMem"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_72"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_72"></a><h3 class="tight">PurgeMem</h3>
<p class="spaceabove">Purges the current heap zone until the specified number of bytes are available.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; heaps are never purged in Mac OS X, so this function does nothing.)</p>
<p class="spaceabove"><pre>
void PurgeMem (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> cbNeeded
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>cbNeeded</em></dt>
<dd><p>The size, in bytes, of the block for which <code>PurgeMem</code> should attempt to make room. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The Memory Manager purges the heap automatically when a memory request fails. However, you can use <code>PurgeMem</code> to purge the current heap zone manually.</p>
<p>The <code>PurgeMem</code> function sequentially purges blocks from the current heap zone until it either allocates a contiguous block of the specified size or purges the entire zone. If <code>PurgeMem</code> purges the entire zone without creating a contiguous block of the specified size, <code>PurgeMem</code> generates the result code <code>memFullErr</code>.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span></p>
<p>The <code>PurgeMem</code> function purges only relocatable, unlocked, purgeable blocks. The function does not actually attempt to allocate the memory.</p>
<p>To purge the entire heap zone, call <code>PurgeMem(maxSize)</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/PurgeSpace" title="PurgeSpace"></a><a name="//apple_ref/doc/c_ref/PurgeSpace" title="PurgeSpace"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F05110" title="PurgeSpace"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_73"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_73"></a><h3 class="tight">PurgeSpace</h3>
<p class="spaceabove">Determines the total amount of free memory and the size of the largest allocatable block in the current heap zone if it were purged.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; heaps are never purged in Mac OS X.)</p>
<p class="spaceabove"><pre>
void PurgeSpace (
   long *total,
   long *contig
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>total</em></dt>
<dd><p>On return, the total amount of free memory, in bytes, in the current heap zone if it were purged. This amount includes space that is already free. </p></dd>
<dt><em>contig</em></dt>
<dd><p>On return, the size of the largest contiguous block of free memory in the current heap zone if it were purged.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>PurgeSpace</code> function does not actually purge the current heap zone.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span> </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/PurgeSpaceContiguous" title="PurgeSpaceContiguous"></a><a name="//apple_ref/doc/c_ref/PurgeSpaceContiguous" title="PurgeSpaceContiguous"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F05111" title="PurgeSpaceContiguous"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_74"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_74"></a><h3 class="tight">PurgeSpaceContiguous</h3><p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; heaps are never purged in Mac OS X.)</p><p class="spaceabove"><pre>
long PurgeSpaceContiguous (
   void
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/PurgeSpaceTotal" title="PurgeSpaceTotal"></a><a name="//apple_ref/doc/c_ref/PurgeSpaceTotal" title="PurgeSpaceTotal"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F05114" title="PurgeSpaceTotal"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_75"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_75"></a><h3 class="tight">PurgeSpaceTotal</h3>
<p class="spaceabove">&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; heaps are never purged in Mac OS X.)</p>
<p class="spaceabove"><pre>
long PurgeSpaceTotal (
   void
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/ReleaseMemoryData" title="ReleaseMemoryData"></a><a name="//apple_ref/doc/c_ref/ReleaseMemoryData" title="ReleaseMemoryData"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F06497" title="ReleaseMemoryData"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_78"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_78"></a><h3 class="tight">ReleaseMemoryData</h3>
<p class="spaceabove">Releases the data of a portion of the address space.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
OSErr ReleaseMemoryData (
   void *address,
   unsigned long count
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>This function always returns a value of <code>noErr</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/ReserveMem" title="ReserveMem"></a><a name="//apple_ref/doc/c_ref/ReserveMem" title="ReserveMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F06527" title="ReserveMem"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_79"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_79"></a><h3 class="tight">ReserveMem</h3>
<p class="spaceabove">Reserves space for a block of memory as close to the bottom of the current heap zone as possible.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
void ReserveMem (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> cbNeeded
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>cbNeeded</em></dt>
<dd><p>The number of bytes to reserve near the bottom of the heap. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>ReserveMem</code> function attempts to create free space for the specified number of contiguous logical bytes at the lowest possible position in the current heap zone. It pursues every available means of placing the block as close as possible to the bottom of the zone, including moving other relocatable blocks upward, expanding the zone (if possible), and purging blocks from it.</p>
<p>Use the <code>ReserveMem</code> function when allocating a relocatable block that you intend to lock for long periods of time. This helps prevent heap fragmentation because it reserves space for the block as close to the bottom of the heap as possible. Consistent use of <code>ReserveMem</code> for this purpose ensures that all locked, relocatable blocks and nonrelocatable blocks are together at the bottom of the heap zone and thus do not prevent unlocked relocatable blocks from moving about the zone.</p>
<p>Because <code>ReserveMem</code> does not actually allocate the block, you must combine calls to <code>ReserveMem</code> with calls to the <code>NewHandle</code> function.</p>
<p>Do not use the <code>ReserveMem</code> function for a relocatable block you intend to lock for only a short period of time. If you do so and then allocate a nonrelocatable block above it, the relocatable block becomes trapped under the nonrelocatable block when you unlock that relocatable block.</p>
<p>It isn’t necessary to call <code>ReserveMem</code> to reserve space for a nonrelocatable block, because the <code>NewPtr</code> function calls it automatically.</p>
<p>Also, you do not need to call <code>ReserveMem</code> to reserve memory before you load a locked resource into memory, because the Resource Manager calls <code>ReserveMem</code> automatically.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span></p>
<p>Because the <code>ReserveMem</code> function could move and purge memory, you should not call it at interrupt time. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/SetGrowZone" title="SetGrowZone"></a><a name="//apple_ref/doc/c_ref/SetGrowZone" title="SetGrowZone"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F06853" title="SetGrowZone"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_80"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_80"></a><h3 class="tight">SetGrowZone</h3>
<p class="spaceabove">Specifies the current heap zone’s grow-zone function.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; heaps never grow in Mac OS X, so the grow-zone function is never called.)</p>
<p class="spaceabove"><pre>
void SetGrowZone (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/GrowZoneUPP">GrowZoneUPP</a> growZone
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>growZone</em></dt>
<dd><p>A pointer to the grow-zone function. A <code>NULL</code> value removes any previous grow-zone function from the zone. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>To specify a grow-zone function for the current heap zone, pass a pointer to that function to the <code>SetGrowZone</code> function. Usually you call this function early in the execution of your application.</p>
<p>If you initialize your own heap zones besides the application and system zones, you can alternatively specify a grow-zone function as a parameter to the <code>InitZone</code> function.</p>
<p>The Memory Manager calls the grow-zone function only after exhausting all other avenues of satisfying a memory request, including compacting the zone, increasing its size (if it is the original application zone and is not yet at its maximum size), and purging blocks from it.</p>
<p>See “Grow-Zone Operations” for a complete description of a grow-zone function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/TempFreeMem" title="TempFreeMem"></a><a name="//apple_ref/doc/c_ref/TempFreeMem" title="TempFreeMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07822" title="TempFreeMem"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_85"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_85"></a><h3 class="tight">TempFreeMem</h3><p class="spaceabove">Returns the maximum amount of free memory in the temporary heap.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; Mac OS X does not have a separate temporary memory heap.)</p><p class="spaceabove"><pre>
long TempFreeMem (
   void
);
</pre></p><h5 class="tight">Return Value</h5><p>The total amount of free temporary memory, in bytes, that you could allocate by calling <code>TempNewHandle</code>. Because these bytes might be dispersed throughout memory, it is ordinarily not possible to allocate a single relocatable block of that size. </p><h5 class="tight">Discussion</h5><p>Returns the total amount of memory available for temporary allocation.</p><h5 class="tight">Special Considerations</h5><p>In Mac OS X, there is no separate temporary memory heap. This function always returns a large value, because virtual memory is always available to fulfill any request for memory.  You can assume that any reasonable memory allocation request will succeed.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/TempHLock" title="TempHLock"></a><a name="//apple_ref/doc/c_ref/TempHLock" title="TempHLock"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07823" title="TempHLock"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_86"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_86"></a><h3 class="tight">TempHLock</h3><p class="spaceabove">Locks a relocatable block in the temporary heap.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/HLock">HLock</a></code> instead; Mac OS X does not have a separate temporary memory heap.)</p><p class="spaceabove"><pre>
void TempHLock (
   <!--a-->Handle<!--/a--> h,
   <a href="../../ErrorHandler/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> *resultCode
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/TempHUnlock" title="TempHUnlock"></a><a name="//apple_ref/doc/c_ref/TempHUnlock" title="TempHUnlock"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07824" title="TempHUnlock"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_87"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_87"></a><h3 class="tight">TempHUnlock</h3><p class="spaceabove">Unlocks a relocatable block in the temporary heap.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/HUnlock">HUnlock</a></code> instead; Mac OS X does not have a separate temporary memory heap.)</p><p class="spaceabove"><pre>
void TempHUnlock (
   <!--a-->Handle<!--/a--> h,
   <a href="../../ErrorHandler/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> *resultCode
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/TempMaxMem" title="TempMaxMem"></a><a name="//apple_ref/doc/c_ref/TempMaxMem" title="TempMaxMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07826" title="TempMaxMem"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_88"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_88"></a><h3 class="tight">TempMaxMem</h3><p class="spaceabove">Returns the maximum amount of temporary memory available.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; Mac OS X does not have a separate temporary memory heap.)</p><p class="spaceabove"><pre>
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> TempMaxMem (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> *grow
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>grow</em></dt><dd><p>On return, this parameter always contains 0 after the function call because temporary memory does not come from the application’s heap zone, and only that zone can grow. Ignore this parameter. </p></dd></dl><h5 class="tight">Return Value</h5><p>The size of the largest contiguous block available for temporary allocation. </p><h5 class="tight">Discussion</h5><p>Compacts the current heap zone and returns the size of the largest contiguous block available for temporary allocation.</p><h5 class="tight">Special Considerations</h5><p>In Mac OS X, there is no separate temporary memory heap. This function always returns a large value, because virtual memory is always available to fulfill any request for memory.  You can assume that any reasonable memory allocation request will succeed.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/TempTopMem" title="TempTopMem"></a><a name="//apple_ref/doc/c_ref/TempTopMem" title="TempTopMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07828" title="TempTopMem"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_90"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_90"></a><h3 class="tight">TempTopMem</h3><p class="spaceabove">Returns the location of the top of the temporary heap.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement function; Mac OS X does not have a separate temporary memory heap.)</p><p class="spaceabove"><pre>
<!--a-->Ptr<!--/a--> TempTopMem (
   void
);
</pre></p><h5 class="tight">Discussion</h5><p>In Mac OS X, this function always returns <code>NULL</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/TopMem" title="TopMem"></a><a name="//apple_ref/doc/c_ref/TopMem" title="TopMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07933" title="TopMem"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_91"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_91"></a><h3 class="tight">TopMem</h3>
<p class="spaceabove">Returns a pointer to the byte at the top of an application’s partition.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
<!--a-->Ptr<!--/a--> TopMem (
   void
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Deprecated. Refer to <code>MacMemory.h</code> for information on replacement functions.</p>
<p><code>TopMem</code> obtains a pointer to the byte at the top of an application’s partition, directly above the jump table. <code>TopMem</code> does this to maintain compatibility with programs that check <code>TopMem</code> to find out how much memory is installed in a computer. The preferred method of obtaining this information is with the <code>Gestalt</code> function.</p>
<p>The function exhibits special behavior at startup time, and the value it returns controls the amount by which an extension can lower the value of the global variable <code>BufPtr</code> at startup time. If you are writing a system extension, you should not lower the value of <code>BufPtr</code> by more than <code>MemTop DIV 2 + 1024</code>. If you do lower <code>BufPtr</code> too far, the startup process generates an out-of-memory system error.</p>
<p>You should never need to call <code>TopMem</code> except during the startup process. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/UnholdMemory" title="UnholdMemory"></a><a name="//apple_ref/doc/c_ref/UnholdMemory" title="UnholdMemory"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F08009" title="UnholdMemory"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_92"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_92"></a><h3 class="tight">UnholdMemory</h3>
<p class="spaceabove">Makes a currently held range of memory eligible for paging again.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;There is no replacement; this function does nothing in Mac OS X.)</p>
<p class="spaceabove"><pre>
OSErr UnholdMemory (
   void *address,
   unsigned long count
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>address</em></dt>
<dd><p>A pointer indicating the starting address of the range of memory to be released. </p></dd>
<dt><em>count</em></dt>
<dd><p>The size, in bytes, of the range of memory to be released. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>This function always returns a value of <code>noErr</code>.</p>
<h5 class="tight">Discussion</h5>
<p>If the starting address you supply to the <code>UnholdMemory</code> function is not on a page boundary, then <code>UnholdMemory</code> rounds down to the nearest page boundary. Similarly, if the specified range does not end on a page boundary, <code>UnholdMemory</code> rounds up the value you pass in the <code>count</code> parameter so that the entire range of memory is released. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_137" title="Deprecated in Mac OS X v10.5"></a><h2>Deprecated in Mac OS X v10.5</h2><a name="//apple_ref/c/func/FreeMem" title="FreeMem"></a><a name="//apple_ref/doc/c_ref/FreeMem" title="FreeMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F01567" title="FreeMem"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_24"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_24"></a><h3 class="tight">FreeMem</h3>
<p class="spaceabove">Returns the total amount of free space in the current heap zone.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function; you can assume that any reasonable memory allocation will succeed.)</p>
<p class="spaceabove"><pre>
long FreeMem (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>Returns a fixed value for heap size that is compatible with most applications.</p>
<h5 class="tight">Discussion</h5><p>In Mac OS 8 and 9, this function returns the total amount of free space in the current heap zone. In Mac OS X, this function always returns a large fixed value because applications run in a large, protected memory space.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span> </p><h5 class="tight">Special Considerations</h5><p>Even though <code>FreeMem</code> does not move or purge memory, you should not call it at interrupt time because the heap might be in an inconsistent state.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/MaxBlock" title="MaxBlock"></a><a name="//apple_ref/doc/c_ref/MaxBlock" title="MaxBlock"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03765" title="MaxBlock"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_55"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_55"></a><h3 class="tight">MaxBlock</h3>
<p class="spaceabove">Returns a fixed value for block size that is compatible with most applications.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function; you can assume that any reasonable memory allocation will succeed.)</p>
<p class="spaceabove"><pre>
long MaxBlock (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The maximum contiguous space, in bytes, that you could obtain after compacting the current heap zone. <code>MaxBlock</code> does not actually do the compaction. </p>
<h5 class="tight">Discussion</h5>
<p>In Mac OS X, this function always returns a large value because virtual memory is always available to fulfill any request for memory.</p><p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span> </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/MaxMem" title="MaxMem"></a><a name="//apple_ref/doc/c_ref/MaxMem" title="MaxMem"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F03768" title="MaxMem"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_56"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_56"></a><h3 class="tight">MaxMem</h3>
<p class="spaceabove">Returns the size, in bytes, of the largest contiguous free block in the current heap zone.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement function; you can assume that any reasonable memory allocation will succeed.)</p>
<p class="spaceabove"><pre>
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> MaxMem (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> *grow
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>grow</em></dt>
<dd><p>On return, the maximum number of bytes by which the current heap zone can grow. After a call to <code>MaxApplZone</code>, <code>MaxMem</code> always sets this parameter to 0. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The size, in bytes, of the largest contiguous free block in the zone after the compacting and purging.</p>
<h5 class="tight">Discussion</h5><p>In Mac OS 8 and 9, the <code>MaxMem</code> function compacts the current heap zone and purges all relocatable, unlocked, and purgeable blocks from the zone. If the current zone is the original application zone, the <code>grow</code> parameter is set to the maximum number of bytes by which the zone can grow. For any other heap zone, <code>grow</code> is set to 0. <code>MaxMem</code> does not actually expand the zone or call the zone’s grow-zone function.</p><p>In Mac OS X, the <code>MaxMem</code> function returns a large fixed value because applications run in a large, protected memory space.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span> </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/StackSpace" title="StackSpace"></a><a name="//apple_ref/doc/c_ref/StackSpace" title="StackSpace"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07554" title="StackSpace"></a>
<a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_83"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_83"></a><h3 class="tight">StackSpace</h3>
<p class="spaceabove">Returns the amount of space between the bottom of the stack and the top of the application heap. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;There is no replacement; this function was included to facilitate porting legacy applications to Carbon, but it serves no useful purpose in Mac OS X.)</p>
<p class="spaceabove"><pre>
long StackSpace (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The current amount of stack space, in bytes, between the current stack pointer and the application heap. </p>
<h5 class="tight">Discussion</h5>
<p>Usually you determine the maximum amount of stack space needed before you ship your application. Thus this function is generally useful only during debugging to determine how big to make the stack. However, if your application calls a recursive function that conceivably could call itself many times, that function should keep track of the stack space and take appropriate action if it becomes too low.</p>
<p>Call the function <code><a href="../Reference/reference.html#//apple_ref/c/func/MemError">MemError</a></code> to get the result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000202-CH5g-RCM0055">“Memory Manager Result Codes.”</a></span> </p>
<h5 class="tight">Special Considerations</h5>
<p>StackSpace must not be called at interrupt time, as it may alter location MemErr.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code><a name="//apple_ref/c/func/TempDisposeHandle" title="TempDisposeHandle"></a><a name="//apple_ref/doc/c_ref/TempDisposeHandle" title="TempDisposeHandle"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-F07821" title="TempDisposeHandle"></a><a name="//apple_ref/doc/uid/TP30000202-AppendixA-DontLinkElementID_84"></a><a name="//apple_ref/doc/uid/TP30000202-CH1g-DontLinkElementID_84"></a><h3 class="tight">TempDisposeHandle</h3><p class="spaceabove">Releases a relocatable block in the temporary heap.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>&#032;Use <code><a href="../Reference/reference.html#//apple_ref/c/func/DisposeHandle">DisposeHandle</a></code> instead; Mac OS X does not have a separate temporary memory heap.)</p><p class="spaceabove"><pre>
void TempDisposeHandle (
   <!--a-->Handle<!--/a--> h,
   <a href="../../ErrorHandler/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> *resultCode
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MacMemory.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../memory_mgr_ref_revhist/memory_mgr_ref_revhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-06-27<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Memory_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000202-4.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Memory_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000202-4.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Memory_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000202-4.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>