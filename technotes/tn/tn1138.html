<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 01-05-01 --><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"> <title>Technical Note TN1138: High-Speed SDRAM Design Considerations</title>     <meta name="keywords" content="Mac OS 8 SDRAM DIMM design considerations clock timing">    <meta name="Description" content="Technical Note TN1138: This Technical Note describes someof the design issues that should be considered by developersof high-speed SDRAM DIMM modules for Macintosh computers."><meta name="categories" content="Hardware"><meta name="week-posted" content="Jul 27, 1998 - Aug 7, 1998"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002977" title="High-Speed SDRAM Design Considerations"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/HardwareDrivers/index.html">Hardware & Drivers</a> &gt; <a href="../../technicalnotes/HardwareDrivers/idxAppleHardware-date.html">Apple Hardware</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1138</div>
<div id="pageheadsub">High-Speed SDRAM Design Considerations</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box -->         <table width="600" cellpadding="0" cellspacing="0" border="0">     <tr><td width=300 valign="top" align=left scope="row">    <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>        </tr>        <tr bgcolor="#e6e6e6">   <td background="images/tnmenubody.gif" width=300 align=left>       <span id="menutitle">CONTENTS   <br>  <br>       </span>   </td>        </tr>        <tr bgcolor="#e6e6e6">   <td background="images/tnmenubody.gif" width=300 align=left>       <!-- begin_toc --><p id="menutext"><A HREF = "#Section1">Defining the Problem</A><BR><BR><A HREF = "#Section2">Problem Areas</A><BR><BR><A HREF = "#Section3">Why This Hasn't Been As Much a Problem In the Past</A><BR><BR><A HREF = "#Section4">Design Considerations for Modern RAM Modules</A><BR><BR><A HREF = "#Section5">Additional Notes &amp; Comments</A><BR><BR><A HREF = "#Summary">Summary</A><BR><BR><A HREF = "#References">References</A><BR><BR><A HREF = "#Downloads">Downloadables</A></p><!-- end_toc --></td>        </tr>        <tr>   <td width=300 align=left scope="row">       <img src="images/tnmenubottom.gif" alt="" width=300 height=16>   </td>        </tr>    </table></td><td width=300 valign="top" align=left>            <!-- begin_intro_text --><P id = "introtext">This Technote describes some of thedesign issues that should be considered by developers of high-speed SDRAM DIMMmodules for Macintosh computers.</P><P id = "introtext">With ever-increasing computer speeds, it is more difficult than ever to design reliable memories that remain stable over time &#38; temperature variations. However, following a few high-speed design guidelines and techniques can save time and valuable resources, as well as produce a more stable and reliable product.</p><P id = "introtext">This note is directed at memory developers who are involved in the design and manufacture of high-speed RAM memory modules for Macintosh computers.</p><!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Aug 31 1998]</h3><!-- end_date -->                </TD>             </TR>          </TABLE> <!-- end_header_box --><BR><BR><hr width=500 align=center><BR><BR><!-- begin_content --><A NAME="Section1"></A><H2>Defining the Problem</H2><P>RAM module design is becoming ever more critical. Modules that previously worked in some older, slower Macintosh computers may experience intermittent problems--or may not work at all--in newer, faster machines.  Trace lengths, noise, timing, and bus loading have all become critical concerns in today's high-speed systems.</p><BR><P><A HREF="#top">Back to top</A></P><A NAME="Section2"></A><H2>Problem Areas</H2><P>The following lists some potential problem areas for RAM module designers:</P><OL> <LI TYPE="A">Routing of signal lines;</li><LI>Partial stuffing options;</li><LI>Signal line lengths;</li><LI>Bypass capacitor distribution; and</li><LI>Clock timing.</li></OL><BR><P><A HREF="#top">Back to top</A></P><A NAME="Section3"></A><H2>Why This Hasn't Been As Much a Problem In the Past</H2><P>Designing stable RAM memories has always been difficult, but the relatively slow speed buses of the past have allowed considerable margins in the designs.  Pushing systems faster has generally resulted in pushing CPU speeds to new levels, and this will surely continue as the technology moves forward. However, this is becoming increasing difficult to accomplish. In order to squeeze more performance out of today's systems, memory and I/O speeds are being boosted, which also necessitates keeping the entire system in balance. As a result, we are increasing memory bus speeds in order to improve overall system performance as much as possible. These new higher bus speeds are exposing many limitations in traditional RAM module design.</P><BR><P><A HREF="#top">Back to top</A></P><A NAME="Section4"></A><H2>Design Considerations for Modern RAM Modules</H2><P>There are many techniques that may be applied to RAM memory designs that will help improve their stability. First, plan your design topology with care. Look carefully at signal line lengths and try to match them as closely as possible.  Pay particular attention to the address bus, since this is usually the most heavily loaded.  Furthermore, try to plan the simplest routing of each byte of the data bus.  Give some thought to the placement of the RAMs and clock chips to accomplish these goals.</p><P>If you plan on having stuffing options in your product (i.e., partially stuffed versions), be sure to place the stuffed RAMs at the end of the signal lines to avoid unterminated stubs.  Moreover, make sure the loading of clocks is balanced in all possible stuffing options.</p><P>Design your product for 100Mhz operation.  Also, hand-route your critical signal paths, if possible.  Many autorouters are not capable of doing a very good job with highly constrained signals.  Even the autorouters that are capable might not be very efficient because of all the design constraints involved. Often these critical signals are better being hand-routed anyway, in order to accomplish the job in a reasonable amount of time.  Keep in mind that if this is a new design threshold, it may take a couple of iterations of hand routing to get a feel for the actual design constraints.</p><P>Plan for dedicated power and ground planes with bypass caps placed as closely to the RAMs as possible.  Ensure an adequate number of vias from the connector pads to power and ground, and to the devices.  One via for each power and ground pin per device is recommended.  Twenty-five mil (.025) traces for power and ground pins is highly recommended, but under no circumstances should less than ten mil (.010) be used.</p><P>Finally, use zero-delay buffers for the clocks.  The Cypress CY2305 is a good example, and serves as a excellent solution for both memory and PCI clocking.  This device will always attempt to adjust its CLKOUT signal for zero skew compared to the REF input. Because of this property, there are several design methods that can be used for the device:</p><img src="images/tn1138_001.jpg" align=top alt="Adjustable delay configuration" width=439 height=214><P>In Reference 1, the CLK1..4 outputs can be advanced or delayed by adjusting the <CODE>Cload</CODE> on the <CODE>CLKOUT</CODE> signal.  The more load applied to <CODE>CLKOUT</CODE>, the more advanced the <CODE>CLK1..4</CODE> signals become relative to <CODE>REF</CODE>. By contrast, the less load applied to <CODE>CLKOUT</CODE>, the more delayed the <CODE>CLK1..4</CODE> signals become relative to <CODE>REF</CODE>.  This means that, within reason, the clocks may be adjusted to compensate for the actual loads being presented by the driven devices (in this case, the RAMs).  The ratio of loading to advance/delay timing is roughly 50 ps/pf (see Cypress specification for exact numbers).  Note, it is important to  load all <CODE>CLK1..4</CODE> outputs evenly in order to minimize clock skew between individual outputs themselves.</p><img src="images/tn1138_002.jpg" align=top alt="Adjustable delay configuration" width=435 height=214><P>If there is no specific delay or advance required on the clocks relative to the REF, the Reference 2 design may be employed.  In this case, <CODE>CLKOUT</CODE> is directly used as one of the driving clock signals. Since the device will zero skew the <CODE>REF</CODE> to <CODE>CLKOUT</CODE> signals, then all of the remaining <CODE>CLK2..4</CODE> signals will also stay in phase with the <CODE>REF</CODE> signal regardless of the actual loading involved (again, all loads are assumed equal).</p><P>Lastly, in order to increase memory density, some manufacturers are paralleling memories together.  This technique is known as "stacking" or composite memories. Some designs exist that utilize a version of the stacking technology in which the individual RAM devices are soldered together on the substrate. This is simply a modern version of the composite memory products of several years ago in which multiple SIMM or DIMM modules were plugged into a single combiner substrate, which was then plugged into the host.  Other techniques employ internal RAM device designs in which multiple die are actually wired in parallel inside the chip packaging.  In both cases, bus loading and timing become critical due to the parallel bus nature of the architecture. At the time of this writing, Apple does not endorse either of these techniques, or any other technology based on device-stacking.</p><BR><P><A HREF="#top">Back to top</A></P><A NAME="Section5"></A><H2>Additional Notes &amp; Comments</H2><P>The following are some important items that you may need to consider whenworking through the problem:</P><UL> <LI>Match the number of devices the clocks are driving;</li><LI>Ensure clocks are also balanced in partially stuffed products;</li><LI>Examine signal lengths from CAD/CAM output, both absolute and relative;</li><LI>Hand route critical signals where possible (or at least analyze autorouted signals); and</li><LI>Do not rely on stacked devices in your product designs.</li></UL><BR><P><A HREF="#top">Back to top</A></P><A NAME="Summary"></A><H2>Summary</H2><P>As systems get faster, good stable RAM memory designs are becoming increasingly difficult to accomplish.  However, products can be designed that behave well, provided enough care and thought is put into their design beforehand.</P><BR><P><A HREF="#top">Back to top</A></P><a name="References"></a><H2>References</H2><p><A HREF = "http://www.cypress.com/products/timi/cy2309.html"> Low Cost 3.3V Zero Delay Buffer for PC and SDRAM, Cypress Semiconductor Corporation</A></p><p><A HREF = "http://www.jedec.org">JESD 21 C Configurations for Solid State Memories</A></p><p><A HREF = "http://developer.intel.com/technology/memory/pcsdram/spec/">Intel PC Memory Specifications</A></p><p><A HREF = "tn1055.html"> Technote 1055: SIMMs to DIMMs: Making Sense Out of Memory Expansion for the Power Macintosh</A></p><p><a href="../hw/hw_33.html">Technote HW33: Composite SIMMs Not Supported</A></p><BR><P><A HREF="#top">Back to top</A></P>        <A NAME="Downloads"></A>         <h2>Downloadables</h2>        <center><TABLE BORDER=0 CELLPADDING=3 WIDTH="600">         <TR>             <td width=50 align=left>               <P ALIGN=center><img src="images/acrobatsmall.gif" align=middle alt="Acrobat" height=23 width=22></P>            </TD>            <td align="left">               <p>Acrobat version of this Note (132K).</P>            </TD>            <td width=60 align=left>               <p><A HREF="pdf/tn1138.pdf">Download</A></P>            </TD>          </TR>             </table></center><BR><BR><BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1138.html%3Fid%3DDTS10002977-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1138.html%3Fid%3DDTS10002977-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1138.html%3Fid%3DDTS10002977-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>