<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>ReadEdition(IM:IC)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING70></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="IAC-69.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-71.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="IAC-2.html"><B>Interapplication Communication</B></A> / <BR><DD><A HREF="IAC-23.html"><B>Chapter 2 - Edition Manager</B></A> / <A HREF="IAC-48.html"><B>Edition Manager Reference</B></A><BR><DL><DD><A HREF="IAC-52.html"><B>Edition Manager Routines</B></A> / <A HREF="IAC-67.html"><B>Reading in Edition Data</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING70-0></A>
<H3>ReadEdition</H3>
 Use the <CODE>ReadEdition</CODE> function to read data from an edition. This function reads from the current mark for the specified format.<A NAME=MARKER-2-257></A><P>
<PRE>
FUNCTION ReadEdition (whichEdition: EditionRefNum; 
                      whichFormat: FormatType; buffPtr: UNIV Ptr;
                      VAR buffLen: Size): OSErr;
</PRE>
<DL>
<DT><CODE>whichEdition</CODE>
<DD> The reference number for the edition. 
<DT><CODE>whichFormat</CODE>
<DD> The format type that you want to read. 
<DT><CODE>buffPtr</CODE>
<DD> A pointer to the buffer into which you want to read the data.
<DT><CODE>buffLen</CODE>
<DD> The number of bytes that you want to read into the buffer. The <CODE>ReadEdition</CODE> function returns the actual number of bytes read in the <CODE>buffLen</CODE> parameter. 
</DL>
<A NAME=HEADING70-7></A>
<H5>DESCRIPTION</H5>
 The <CODE>ReadEdition</CODE> function reads data from the edition into the specified buffer. <CODE>ReadEdition</CODE> returns in the <CODE>buffLen</CODE> parameter the total number of bytes read into the buffer. If the <CODE>buffLen</CODE> parameter returns a value smaller than the value you have specified, there is no additional data to read, and the <CODE>ReadEdition</CODE> function returns a <CODE>noErr</CODE> result code. If you use the <CODE>ReadEdition</CODE> function after all data is read in, the <CODE>ReadEdition</CODE> function returns an <CODE>eofErr</CODE> result code.<P>
 You can read data from an edition while a publisher on the same machine is writing data to the same edition. The data that you are reading is the old edition (not the data that the publisher is writing). If the publisher finishes writing data before you are through reading the old edition data, the <CODE>ReadEdition</CODE> function returns an <CODE>abortErr</CODE> result code. If the <CODE>ReadEdition</CODE> function returns an <CODE>abortErr</CODE> result code, you should stop trying to read data and use the <CODE>CloseEdition</CODE> function with the <CODE>successful</CODE> parameter set to <CODE>FALSE</CODE>. <P>
<DL>
<DT><B>Note</B>
<DD><A NAME=MARKER-2-275></A>The Translation Manager (if it is available) attempts implicit translation under certain circumstances. For instance, it does so when your application attempts to read from an edition a format type that is not in the edition. In this case, the Translation Manager attempts to translate the data into the requested format. For more information, see the chapter "Translation Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.<EM></EM> <A NAME=MARKER-2-285></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=HEADING70-11></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>abortErr<TD>-27<TD>Publisher has written a new edition<TR>
<TD>ioErr<TD>-36<TD>I/O error<TR>
<TD>fnOpnErr<TD>-38<TD>File not open<TR>
<TD>eofErr<TD>-39<TD>No more data of that format<TR>
<TD>rfNumErr<TD>-51<TD>Bad edition reference number<TR>
<TD>noTypeErr<TD>-102<TD>Format not available<TR>
<TD>editionMgrInitErr<TD>-450<TD>Manager not initialized</TABLE>
</H5>
<A NAME=HEADING70-12></A>
<H5>SEE ALSO</H5>
 For an example of the use of <CODE>ReadEdition</CODE>, see <A HREF=IAC-33.html#MARKER-9-218>Listing 2-7</A> beginning on <A HREF=IAC-33.html#MARKER-9-218>page 2-42</A>. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="IAC-69.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-71.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="IAC-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
