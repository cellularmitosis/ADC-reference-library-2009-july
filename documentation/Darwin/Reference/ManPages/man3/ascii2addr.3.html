<html><head><title>Mac OS X
 Manual Page For ascii2addr(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/ascii2addr" title="Mac OS X
 Manual Page for ascii2addr(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/ascii2addr"; name=ascii2addr(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ADDR2ASCII(3)            BSD Library Functions Manual            <!-- a -->ADDR2ASCII(3)<!-- /a -->

<b>NAME</b>
     <b>addr2ascii</b>, <b>ascii2addr</b> -- Generic address formatting routines

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;arpa/inet.h&gt;</b>

     <u>char</u> <u>*</u>
     <b>addr2ascii</b>(<u>int</u> <u>af</u>, <u>const</u> <u>void</u> <u>*addrp</u>, <u>int</u> <u>len</u>, <u>char</u> <u>*buf</u>);

     <u>int</u>
     <b>ascii2addr</b>(<u>int</u> <u>af</u>, <u>const</u> <u>char</u> <u>*ascii</u>, <u>void</u> <u>*result</u>);

<b>DESCRIPTION</b>
     The routines <b>addr2ascii</b>() and <b>ascii2addr</b>() are used to convert network addresses between binary form
     and a printable form appropriate to the address family.  Both functions take an <u>af</u> argument, specifying
     the address family to be used in the conversion process.  (Currently, only the AF_INET and AF_LINK
     address families are supported.)

     The <b>addr2ascii</b>() function is used to convert binary, network-format addresses into printable form.  In
     addition to <u>af</u>, there are three other arguments.  The <u>addrp</u> argument is a pointer to the network
     address to be converted.  The <u>len</u> argument is the length of the address.  The <u>buf</u> argument is an
     optional pointer to a caller-allocated buffer to hold the result; if a null pointer is passed,
     <b>addr2ascii</b>() uses a statically-allocated buffer.

     The <b>ascii2addr</b>() function performs the inverse operation to <b>addr2ascii</b>().  In addition to <u>af</u>, it takes
     two arguments, <u>ascii</u> and <u>result</u>.  The <u>ascii</u> argument is a pointer to the string which is to be con-<font color="#ffffff" class="whiteout">verted&nbsp;converted</font>
     verted into binary.  The <u>result</u> argument is a pointer to an appropriate network address structure for
     the specified family.

     The following gives the appropriate structure to use for binary addresses in the specified family:

     AF_INET      struct in_addr (in &lt;<u>arpa/inet.h&gt;</u>)
     AF_LINK      struct sockaddr_dl (in &lt;<u>net/if</u><b>_</b><u>dl.h&gt;</u>)

     AF_INET and AF_LINK constants are defined in &lt;<u>sys/socket.h&gt;</u>

<b>RETURN</b> <b>VALUES</b>
     The <b>addr2ascii</b>() function returns the address of the buffer it was passed, or a static buffer if the a
     null pointer was passed; on failure, it returns a null pointer.  The <b>ascii2addr</b>() function returns the
     length of the binary address in bytes, or -1 on failure.

<b>EXAMPLES</b>
     The <a href="inet.3.html#//apple_ref/doc/man/3/inet">inet(3)</a> functions <b>inet_ntoa</b>() and <b>inet_aton</b>() could be implemented thusly:

           #include &lt;sys/socket.h&gt;
           #include &lt;arpa/inet.h&gt;

           char *
           inet_ntoa(struct in_addr addr)
           {
                   return addr2ascii(AF_INET, &amp;addr, sizeof addr, 0);
           }

           int
           inet_aton(const char *ascii, struct in_addr *addr)
           {
                   return (ascii2addr(AF_INET, ascii, addr)
                       == sizeof(*addr));
           }

     In actuality, this cannot be done because <b>addr2ascii</b>() and <b>ascii2addr</b>() are implemented in terms of the
     <a href="inet.3.html#//apple_ref/doc/man/3/inet">inet(3)</a> functions, rather than the other way around.

<b>ERRORS</b>
     When a failure is returned, errno is set to one of the following values:

     [ENAMETOOLONG]     The <b>addr2ascii</b>() routine was passed a <u>len</u> argument which was inappropriate for the
                        address family given by <u>af</u>.

     [EPROTONOSUPPORT]  Either routine was passed an <u>af</u> argument other than AF_INET or AF_LINK.

     [EINVAL]           The string passed to <b>ascii2addr</b>() was improperly formatted for address family <u>af</u>.

<b>SEE</b> <b>ALSO</b>
     <a href="inet.3.html#//apple_ref/doc/man/3/inet">inet(3)</a>, <a href="linkaddr.3.html#//apple_ref/doc/man/3/linkaddr">linkaddr(3)</a>, <a href="../man4/inet.4.html#//apple_ref/doc/man/4/inet">inet(4)</a>

<b>HISTORY</b>
     An interface close to this one was originally suggested by Craig Partridge.  This particular interface
     originally appeared in the INRIA IPv6 implementation.

<b>AUTHORS</b>
     Code and documentation by Garrett A. Wollman, MIT Laboratory for Computer Science.

<b>BUGS</b>
     The original implementations supported IPv6.  This support should eventually be resurrected.  The NRL
     implementation also included support for the AF_ISO and AF_NS address families.

     The genericity of this interface is somewhat questionable.  A truly generic interface would provide a
     means for determining the length of the buffer to be used so that it could be dynamically allocated,
     and would always require a ``struct sockaddr'' to hold the binary address.  Unfortunately, this is
     incompatible with existing practice.  This limitation means that a routine for printing network
     addresses from arbitrary address families must still have internal knowledge of the maximum buffer
     length needed and the appropriate part of the address to use as the binary address.

BSD                              June 13, 1996                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/ascii2addr.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/ascii2addr.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/ascii2addr.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
