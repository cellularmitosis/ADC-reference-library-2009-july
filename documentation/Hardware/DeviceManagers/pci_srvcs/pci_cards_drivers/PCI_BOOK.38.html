<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Modifying Open Firmware Config Variables From the Mac OS</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.37.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.37.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.39.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H3.Heading3"><A NAME="pgfId=3432"> </A>Modifying Open Firmware Config Variables From the Mac OS</H1><P CLASS="T1.Text1"><A NAME="pgfId=3433"> </A>The Name Registry provides a mechanism to save and restore device tree properties in NVRAM. This mechanism has been fully augmented in the NewWorld architecture. Using the same mechanism, Mac OS and Open Firmware driver software can update Open Firmware config variables in the device tree. The mechanism creates and modifies the device tree properties and the <TT CLASS="cv">RegistryPropertySetMod</TT> function, using the <TT CLASS="cv">kRegPropertyValueIsSavedToNVRAM</TT> modifier bit. When the Name Registry calls are made to the properties in the &quot;device-tree:options&quot; node, the corresponding Open Firmware config variables in NVRAM are modified. </P><P CLASS="T1.Text1"><A NAME="pgfId=3436"> </A>For additional information about Name Registry properties, see <A HREF="PCI_BOOK.122.html#13991" CLASS="XRef">Property Management</A>. For information about the <TT CLASS="cv">kRegPropertyValueIsSavedToNVRAM</TT> modifier bit, see <A HREF="PCI_BOOK.130.html#40051" CLASS="XRef">Data Structures and Constants</A>. For a description of the <TT CLASS="cv">RegistryPropertySetMod</TT> function, see <A HREF="PCI_BOOK.137.html#26051" CLASS="XRef">Property Modifier Retrieval and Assignment</A>.</P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.37.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.37.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.39.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>