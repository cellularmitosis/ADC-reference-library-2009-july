<html><head><title>Mac OS X
 Manual Page For slapd(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/slapd" title="Mac OS X
 Manual Page for slapd(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/slapd"; name=slapd(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SLAPD(8C)                                                                                          SLAPD(8C)



<b>NAME</b>
       slapd - Stand-alone LDAP Daemon

<b>SYNOPSIS</b>
       <b>/usr/libexec/slapd</b>   <b>[-[4|6]]</b>   <b>[-T</b>  <b>{acl|add|auth|cat|dn|index|passwd|test}]</b>  <b>[-d</b>  <b>debug-level]</b>  <b>[-f</b>
       <b>slapd-config-file]</b> <b>[-F</b> <b>slapd-config-directory]</b> <b>[-h</b> <b>URLs]</b> <b>[-n</b> <b>service-name]</b> <b>[-s</b> <b>syslog-level]</b> <b>[-l</b> <b>sys</b>-<font color="#ffffff" class="whiteout">log-local-user]&nbsp;syslog-local-user]</font>
       <b>log-local-user]</b> <b>[-r</b> <b>directory]</b> <b>[-u</b> <b>user]</b> <b>[-g</b> <b>group]</b> <b>[-c</b> <b>cookie]</b>

<b>DESCRIPTION</b>
       <b>Slapd</b> is the stand-alone LDAP daemon. It listens for LDAP connections on any number of ports (default
       389), responding to the LDAP operations it receives  over  these  connections.   <b>slapd</b>  is  typically
       invoked  at boot time, usually out of <b>/etc/rc.local</b>.  Upon startup, <b>slapd</b> normally forks and disasso-<font color="#ffffff" class="whiteout">ciates&nbsp;disassociates</font>
       ciates itself from the invoking tty.  If configured in the config file  (or  config  directory),  the
       <b>slapd</b>  process  will print its process ID (see <a href="../man2/getpid.2.html#//apple_ref/doc/man/2/getpid"><b>getpid</b>(2)</a>) to a <b>.pid</b> file, as well as the command line
       options during invocation to an <b>.args</b> file (see <a href="../man5/slapd.conf.5.html#//apple_ref/doc/man/5/slapd.conf"><b>slapd.conf</b>(5)</a>).  If the <b>-d</b> flag is given, even with a
       zero argument, <b>slapd</b> will not fork and disassociate from the invoking tty.

       <b>Slapd</b>  can  be  configured  to provide replicated service for a database with the help of <b>slurpd</b>, the
       standalone LDAP update replication daemon.  See <a href="slurpd.8.html#//apple_ref/doc/man/8/slurpd"><b>slurpd</b>(8)</a> for details.

       See the "OpenLDAP Administrator's Guide" for more details on <b>slapd</b>.

<b>OPTIONS</b>
       <b>-4</b>     Listen on IPv4 addresses only.

       <b>-6</b>     Listen on IPv6 addresses only.

       <b>-T</b> <b>{a|c|d|i|p|t|acl|auth}</b>
              Run in Tool mode. The additional argument selects whether to run as slapadd, slapcat,  slapdn,
              slapindex,  slappasswd,  or  slaptest  (slapacl  and slapauth need the entire "<u>acl</u>" and "<u>auth</u>"
              option value to be spelled out, as "<u>a</u>" is reserved to <b>slapadd</b>).  This  option  should  be  the
              first  option specified when it is used; any remaining options will be interpreted by the cor-<font color="#ffffff" class="whiteout">responding&nbsp;corresponding</font>
              responding slap tool program, according to the respective man pages.   Note  that  these  tool
              programs  will  usually  be  symbolic  links to slapd.  This option is provided for situations
              where symbolic links are not provided or not usable.

       <b>-d</b> <u>debug-level</u>
              Turn on debugging as defined by <u>debug-level.</u>  If this option is specified, even  with  a  zero
              argument, <b>slapd</b> will not fork or disassociate from the invoking terminal.  Some general opera-<font color="#ffffff" class="whiteout">tion&nbsp;operation</font>
              tion and status messages are printed for any value of <u>debug-level</u>.  <u>debug-level</u> is taken as  a
              bit  string,  with  each  bit corresponding to a different kind of debugging information.  See
              &lt;ldap_log.h&gt; for details.  Remember that if you turn on  packet  logging,  packets  containing
              bind  passwords  will  be output, so if you redirect the log to a logfile, that file should be
              read-protected.

       <b>-s</b> <u>syslog-level</u>
              This option tells <b>slapd</b> at what level debugging statements should be logged to  the  <!-- a --><b>syslog</b>(8)<!-- /a -->
              facility.

       <b>-n</b> <u>service-name</u>
              Specifies  the  service name for logging and other purposes.  Defaults to basename of argv[0],
              i.e.: "slapd".

       <b>-l</b> <u>syslog-local-user</u>
              Selects the local user of the <!-- a --><b>syslog</b>(8)<!-- /a --> facility. Value can be <b>LOCAL0</b>, through <b>LOCAL7</b>, as well
              as <b>USER</b> and <b>DAEMON</b>.  The default is <b>LOCAL4</b>.  However, this option is only permitted on systems
              that support local users with the <!-- a --><b>syslog</b>(8)<!-- /a --> facility.

       <b>-f</b> <u>slapd-config-file</u>
              Specifies the slapd configuration file. The default is <b>/etc/openldap/slapd.conf</b>.

       <b>-F</b> <u>slapd-config-directory</u>
              Specifies the slapd configuration directory. The default is <b>/etc/openldap/slapd.d</b>.  If both <b>-f</b>
              and  <b>-F</b>  are  specified, the config file will be read and converted to config directory format
              and written to the specified directory.  If neither option is specified, slapd will attempt to
              read  the  default  config  directory before trying to use the default config file. If a valid
              config directory exists then the default config file is ignored. All of the  slap  tools  that
              use the config options observe this same behavior.

       <b>-h</b> <u>URLlist</u>
              <b>slapd</b>  will  by default serve <b>ldap:///</b> (LDAP over TCP on all interfaces on default LDAP port).
              That is, it will bind using INADDR_ANY and port 389.  The <b>-h</b> option may  be  used  to  specify
              LDAP   (and   other   scheme)   URLs   to   serve.    For   example,  if  slapd  is  given  <b>-h</b>
              <b>"ldap://127.0.0.1:9009/</b> <b>ldaps:///</b> <b>ldapi:///"</b>, it  will  listen  on  127.0.0.1:9009  for  LDAP,
              0.0.0.0:636  for  LDAP over TLS, and LDAP over IPC (Unix domain sockets).  Host 0.0.0.0 repre-<font color="#ffffff" class="whiteout">sents&nbsp;represents</font>
              sents INADDR_ANY (any interface).  A space separated list  of  URLs  is  expected.   The  URLs
              should  be  of the LDAP, LDAPS, or LDAPI schemes, and generally without a DN or other optional
              parameters (excepting as discussed below).  Support for the  latter  two  schemes  depends  on
              selected  configuration options.  Hosts may be specified by name or IPv4 and IPv6 address for-<font color="#ffffff" class="whiteout">mats.&nbsp;formats.</font>
              mats.  Ports, if specified, must be numeric.  The default ldap:// port is 389 and the  default
              ldaps:// port is 636.

              The  listener  permissions  are  indicated by "x-mod=-rwxrwxrwx", "x-mod=0777" or "x-mod=777",
              where any of the "rwx" can be "-" to suppress the related permission, while any of the "7" can
              be  any legal octal digit, according to <a href="../man1/chmod.1.html#//apple_ref/doc/man/1/chmod">chmod(1)</a>.  The listeners can take advantage of the "x-<font color="#ffffff" class="whiteout">mod"&nbsp;"xmod"</font>
              mod" extension to apply rough limitations to operations,  e.g.  allow  read  operations  ("r",
              which  applies  to  search  and compare), write operations ("w", which applies to add, delete,
              modify and modrdn), and execute operations ("x", which means bind is required).   "User"  per-<font color="#ffffff" class="whiteout">missions&nbsp;permissions</font>
              missions apply to authenticated users, while "other" apply to anonymous users; "group" permis-<font color="#ffffff" class="whiteout">sions&nbsp;permissions</font>
              sions are ignored.  For example, "ldap:///????x-mod=-rw-------" means that read and  write  is
              only  allowed  for  authenticated  connections, and bind is required for all operations.  This
              feature is experimental, and requires to be manually enabled at configure time.

       <b>-r</b> <u>directory</u>
              Specifies a directory to become the root directory.  slapd will  change  the  current  working
              directory  to this directory and then <a href="../man2/chroot.2.html#//apple_ref/doc/man/2/chroot"><b>chroot</b>(2)</a> to this directory.  This is done after opening
              listeners but before reading any configuration file or initializing any backend.  When used as
              a security mechanism, it should be used in conjunction with <b>-u</b> and <b>-g</b> options.

       <b>-u</b> <u>user</u>
              <b>slapd</b>  will  run slapd with the specified user name or id, and that user's supplementary group
              access list as set with <a href="../man3/initgroups.3.html#//apple_ref/doc/man/3/initgroups">initgroups(3)</a>.  The group ID is  also  changed  to  this  user's  gid,
              unless  the  -g  option  is used to override.  Note when used with <b>-r</b>, slapd will use the user
              database in the change root environment.

              Note that on some systems, running as a non-privileged user will prevent passwd back-ends from
              accessing  the encrypted passwords.  Note also that any shell back-ends will run as the speci-<font color="#ffffff" class="whiteout">fied&nbsp;specified</font>
              fied non-privileged user.

       <b>-g</b> <u>group</u>
              <b>slapd</b> will run with the specified group name or id.  Note when used with <b>-r</b>,  slapd  will  use
              the group database in the change root environment.

       <b>-c</b> <u>cookie</u>
              This  option  provides  a cookie for the syncrepl replication consumer.  The cookie is a comma
              separated list of name=value pairs.  Currently supported syncrepl cookie fields  are  <b>rid</b>  and
              <b>csn.</b>   <b>rid</b>  identifies a replication thread within the consumer server and is used to find the
              syncrepl specification in <a href="../man5/slapd.conf.5.html#//apple_ref/doc/man/5/slapd.conf"><b>slapd.conf</b>(5)</a> having the matching replication identifier in its def-<font color="#ffffff" class="whiteout">inition.&nbsp;definition.</font>
              inition.  The <b>rid</b> must be provided in order for any other specified values to be used.  <b>csn</b> is
              the commit sequence number received by a previous synchronization and represents the state  of
              the  consumer  replica  content  which  the  syncrepl  engine  will synchronize to the current
              provider content.

<b>EXAMPLES</b>
       To start <u>slapd</u> and have it fork and detach from the terminal and start  serving  the  LDAP  databases
       defined in the default config file, just type:

            /usr/libexec/slapd

       To  start  <b>slapd</b> with an alternate configuration file, and turn on voluminous debugging which will be
       printed on standard error, type:

            /usr/libexec/slapd -f /var/tmp/slapd.conf -d 255

       To test whether the configuration file is correct or not, type:

            /usr/libexec/slapd -Tt


<b>SEE</b> <b>ALSO</b>
       <a href="../man3/ldap.3.html#//apple_ref/doc/man/3/ldap"><b>ldap</b>(3)</a>, <a href="../man5/slapd.conf.5.html#//apple_ref/doc/man/5/slapd.conf"><b>slapd.conf</b>(5)</a>, <a href="../man5/slapd.access.5.html#//apple_ref/doc/man/5/slapd.access"><b>slapd.access</b>(5)</a>, <a href="slapacl.8.html#//apple_ref/doc/man/8/slapacl"><b>slapacl</b>(8)</a>, <a href="slapadd.8.html#//apple_ref/doc/man/8/slapadd"><b>slapadd</b>(8)</a>, <a href="slapauth.8.html#//apple_ref/doc/man/8/slapauth"><b>slapauth</b>(8)</a>, <a href="slapcat.8.html#//apple_ref/doc/man/8/slapcat"><b>slapcat</b>(8)</a>,  <a href="slapdn.8.html#//apple_ref/doc/man/8/slapdn"><b>slapdn</b>(8)</a>,
       <a href="slapindex.8.html#//apple_ref/doc/man/8/slapindex"><b>slapindex</b>(8)</a>, <a href="slappasswd.8.html#//apple_ref/doc/man/8/slappasswd"><b>slappasswd</b>(8)</a>, <a href="slaptest.8.html#//apple_ref/doc/man/8/slaptest"><b>slaptest</b>(8)</a>, <a href="slurpd.8.html#//apple_ref/doc/man/8/slurpd"><b>slurpd</b>(8)</a>

       "OpenLDAP Administrator's Guide" (<a href="http://www.OpenLDAP.org/doc/admin/)">http://www.OpenLDAP.org/doc/admin/)</a>

<b>BUGS</b>
       See <a href="http://www.openldap.org/its/">http://www.openldap.org/its/</a>

<b>ACKNOWLEDGEMENTS</b>
       <b>OpenLDAP</b> is developed and maintained by The OpenLDAP Project (<a href="http://www.openldap.org/)">http://www.openldap.org/)</a>  <b>OpenLDAP</b> is
       derived from University of Michigan LDAP 3.3 Release.



OpenLDAP 2.3.27                                  2006/08/19                                        SLAPD(8C)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/slapd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/slapd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/slapd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
