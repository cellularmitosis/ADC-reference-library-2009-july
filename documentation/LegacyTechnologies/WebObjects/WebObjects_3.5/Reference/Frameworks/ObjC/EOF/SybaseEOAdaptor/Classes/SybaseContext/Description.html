<html><head><title></title></head>

<body bgcolor="#ffffff">

 

 

<h2><a name="//apple_ref/occ/cl/SybaseContext">SybaseContext</a>

 <BR>

</h2>

<p><B>Inherits From:</B><BR>  

 EOAdaptorContext : NSObject 



<p><B>Declared in:</B>

 SybaseEOAdaptor/SybaseContext.h 



<p><a name="174">

<a name="description"></a>

<h3>Class Description </h3>

</a>A SybaseContext represents a single transaction scope on the database server to which its adaptor object is connected. Since a Sybase server supports multiple concurrent transaction sessions, the adaptor may have several adaptor contexts. A SybaseContext may in turn have a SybaseChannel, which handles actual access to the data on the server. <p>

The features the SybaseContext class adds to EOAdaptorContext are methods for returning Sybase-specific data structures that describe characteristics of the context. The method <code>contextPointer</code> returns the Sybase global context pointer, so that you can make direct calls to the Sybase client library. The method <code>connection</code> returns the SybaseContext's CT library connection (CS_CONNECTION *).<p>

<a name="177">

<h3>Method Types  </h3>

</a><dl><dt>Getting the context pointer 

<dl><dt><a href="#//apple_ref/occ/clm/SybaseContext/contextPointer">+ contextPointer</a>

</dl><dt>Setting the login time out interval

<dl><dt><a href="#//apple_ref/occ/clm/SybaseContext/loginTimeOutInterval">+ loginTimeOutInterval</a>

<dt><a href="#//apple_ref/occ/clm/SybaseContext/setLoginTimeOutInterval:">+ setLoginTimeOutInterval:</a>

</dl><dt>Setting the time out interval

<dl><dt><a href="#//apple_ref/occ/clm/SybaseContext/setTimeOutInterval:">+ setTimeOutInterval:</a>

<dt><a href="#//apple_ref/occ/clm/SybaseContext/timeOutInterval">+ timeOutInterval</a>

</dl><dt>Managing the connection

<dl><dt><a href="#//apple_ref/occ/instm/SybaseContext/connect">- connect</a>

<dt><a href="#//apple_ref/occ/instm/SybaseContext/disconnect">- disconnect</a>

<dt><a href="#//apple_ref/occ/instm/SybaseContext/isConnected">- isConnected</a>

</dl><dt>Setting the max text size default

<dl><dt><a href="#//apple_ref/occ/instm/SybaseContext/maxTextSizeDefault">- maxTextSizeDefault</a>

<dt><a href="#//apple_ref/occ/instm/SybaseContext/setMaxTextSizeDefault:">- setMaxTextSizeDefault:</a>

</dl><dt>Setting the current exception

<dl><dt><a href="#//apple_ref/occ/instm/SybaseContext/raiseCurrentException">- raiseCurrentException</a>

<dt><a href="#//apple_ref/occ/instm/SybaseContext/setCurrentException:">- setCurrentException:</a>

</dl></dl><a name="190">

<a name="clm"></a>

<h3>Class Methods  </h3>

</a><a name="191">

<h4> <a name="//apple_ref/occ/clm/SybaseContext/contextPointer">contextPointer</a></h4>

</a>+ (void *)<code>contextPointer</code> <p>

Returns the Sybase global context pointer (CS_CONTEXT *). You can use this to make direct calls to the Sybase client library.<p>

<a name="194">

<h4> <a name="//apple_ref/occ/clm/SybaseContext/loginTimeOutInterval">loginTimeOutInterval</a></h4>

</a>+ (int)<code>loginTimeOutInterval</code> <p>

Returns the login time out interval used by SybaseContext.    <p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/clm/SybaseContext/setLoginTimeOutInterval:"><B>+ setLoginTimeOutInterval: </a>

 </B><p><a name="198">

<h4> <a name="//apple_ref/occ/clm/SybaseContext/setLoginTimeOutInterval:">setLoginTimeOutInterval:</a></h4>

</a>+ (void)<code>setLoginTimeOutInterval:</code>(int)<em>seconds</em> <p>

Sets the login time out interval value SybaseContext uses during the creation of new channels. The default is 0, which means that there is no time out.<p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/clm/SybaseContext/loginTimeOutInterval"><B>+ loginTimeOutInterval </a>

 </B><p><a name="202">

<h4> <a name="//apple_ref/occ/clm/SybaseContext/setTimeOutInterval:">setTimeOutInterval:</a></h4>

</a>+ (void)<code>setTimeOutInterval:</code>(int)<em>seconds</em> <p>

Sets the time out interval valueSybaseContext uses during the creation of new channels. The default is 0, which means that there is no time out.<p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/clm/SybaseContext/timeOutInterval"><B>+ timeOutInterval </a>

 </B><p><a name="206">

<h4> <a name="//apple_ref/occ/clm/SybaseContext/timeOutInterval">timeOutInterval</a></h4>

</a>+ (int)<code>timeOutInterval</code> <p>

Returns the time out interval used by SybaseContext. <p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/clm/SybaseContext/setTimeOutInterval:">+ setTimeOutInterval: </a>

 </B><p><a name="210">

<a name="instm"></a>

<h3>Instance Methods </h3>

</a><a name="211">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/connect">connect</a></h4>

</a>- (void)<code>connect</code> <p>

Opens a connection to the database server. SybaseChannel sends this message to SybaseContext when it (SybaseChannel) is about to open a channel to the server.<p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/instm/SybaseContext/disconnect"><B>- disconnect </a>

 </B><p><a name="215">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/connection">connection</a></h4>

</a>- (void *)<code>connection</code> <p>

Returns the CT library connection (CS_CONNECTION *) for the receiver. <p>

<a name="218">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/disconnect">disconnect</a></h4>

</a>- (void)<code>disconnect</code> <p>

Closes a connection to the database server. SybaseChannel sends this message to SybaseContext when it (SybaseChannel) has just closed a channel to the server. <p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/instm/SybaseContext/connect"><B>- connect </B><em> </a>

</em><p><a name="222">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/isConnected">isConnected</a></h4>

</a>- (BOOL)<code>isConnected</code> <p>

Returns YES if the receiver has an open connection to the database, NO otherwise.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/SybaseContext/connect">- connect</a> </B>, <a href="#//apple_ref/occ/instm/SybaseContext/disconnect"><B>- disconnect</a>

 </B><p><a name="226">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/maxTextSizeDefault">maxTextSizeDefault</a></h4>

</a>- (int)<code>maxTextSizeDefault</code> <p>

Returns the maximum number of bytes to be returned from a Sybase image to text field. The default is set to INT_MAX, as defined for the host machine. This number can be overwritten on a per-channel basis by sending the appropriate SQL to the channel using the <code>evaluateExpression:</code> method. <p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/SybaseContext/setMaxTextSizeDefault:">- setMaxTextSizeDefault: </B><em> </a>

</em><p><a name="230">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/raiseCurrentException">raiseCurrentException</a></h4>

</a>- (void)<code>raiseCurrentException</code> <p>

If the receiver has an exception, raises it. <p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/SybaseContext/setCurrentException:">- setCurrentException: </a>

 </B><p><a name="234">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/setCurrentException:">setCurrentException:</a></h4>

</a>- (void)<code>setCurrentException:</code>(NSException *)<em>exception</em> <p>

Sets to <em>exception</em> the receiver's current exception.<p>

When the SybaseAdaptor encounters an error, it uses the error message to build an NSException and stores the exception in the SybaseContext using this method. The exception can then be reviewed by other components to determine if the error is fatal.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/SybaseContext/raiseCurrentException">- raiseCurrentException </a>

 </B><p><a name="239">

<h4> <a name="//apple_ref/occ/instm/SybaseContext/setMaxTextSizeDefault:">setMaxTextSizeDefault:</a></h4>

</a>- (void)<code>setMaxTextSizeDefault:</code>(int)<em>textSize</em> <p>

Sets to <em>textSize</em> the receiver's default textsize. Any channels created after this method has been invoked will use the newly specified <em>textSize</em>.<p>

<B>See also: </B>  

 <a href="#//apple_ref/occ/instm/SybaseContext/maxTextSizeDefault"><B>- maxTextSizeDefault </B><em> </a>

</em><p><a name="243">

<h4>Methods Implemented By the Delegate </h4>

</a><a name="244">

<h4> <a name="//apple_ref/occ/instm/NSObject/sybaseContext:shouldReportClientMessage:">sybaseContext:shouldReportClientMessage:</a></h4>

</a>- (BOOL)<code>sybaseContext:</code>(SybaseContext *)<em>context</em> <br><code>shouldReportClientMessage:</code>(NSDictionary *)<em>clientMessage</em><p>

Invoked when an exception results from a callback to the CS_CLIENTMSG_CB (Sybase ClientMessage callback). Gives the delegate the opportunity to substitute <em>clientMessage</em> as the userInfo dictionary.<p>

<a name="247">

<h4> <a name="//apple_ref/occ/instm/NSObject/sybaseContext:shouldReportServerMessage:">sybaseContext:shouldReportServerMessage:</a></h4>

</a>- (BOOL)<code>sybaseContext:</code>(SybaseContext *)<em>context</em> <br><code>shouldReportServerMessage:</code>(NSDictionary *)<em>serverMessage</em><p>

Invoked when an exception results from a callback to the CS_SERVERMSG_CB (Sybase ServerMessage callback). Gives the delegate the opportunity to substitute <em>serverMessage</em> as the userInfo dictionary.<p>



 

 





<i>Copyright &#169; 1997, Apple Computer, Inc.   All rights

reserved.</i>



<!-- Last updated: 10/16/97 16:23:37 -->



</body>

</html>

