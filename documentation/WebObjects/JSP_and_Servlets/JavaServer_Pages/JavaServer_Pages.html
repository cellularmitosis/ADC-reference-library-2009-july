<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects J2EE Programming Guide: JavaServer Pages</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="JavaServer Pages"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000041" title="JavaServer Pages"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../InternetWeb/index.html#//apple_ref/doc/uid/TP30000440-TP30000469" target="_top">Internet &amp; Web</a> &gt; <a href="../../../InternetWeb/WebObjects-date.html#//apple_ref/doc/uid/TP30000440-TP30000469-TP30000592" target="_top">WebObjects</a> &gt; <a href="../About/About.html#//apple_ref/doc/uid/TP30000039-TPXREF101">WebObjects J2EE Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Servlets/Servlets.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SpecialIssues/SpecialIssues.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000041-TPXREF101" title="JavaServer Pages"></a><h1>JavaServer Pages</h1><p>JavaServer Pages (JSP) is a specification that describes what a servlet-based content creation system should do. One of its main purposes is to facilitate the creation of dynamic Web pages.</p><p>You can directly access WebObjects components in your JSP pages. These components can be WOComponents<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_31"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_32"></a> or WODirectActions<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_33"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_34"></a>. This allows you to create JSP-based applications that take advantage of WebObjects technologies, such as Enterprise Objects<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_35"></a>.</p><p>When your servlet container receives a request addressed to a JSP page, the container reads the <code>.jsp</code> file and compiles it into a workhorse servlet that processes the HTTP requests and produces responses to them.</p><p>This chapter addresses the following topics:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="JavaServer_Pages.html#//apple_ref/doc/uid/TP30000041-BBCHIEDH">“JSP Page Writing Guidelines”</a></span> introduces the custom tag library that your JSP pages must include to be able to access WebObjects components. </p></li><li class="li"><p><span class="content_text"><a href="JavaServer_Pages.html#//apple_ref/doc/uid/TP30000041-BBCJAEHF">“Developing a JavaServer Pages–Based Application”</a></span> walks you through the steps needed to create a simple JSP-based application.</p></li><li class="li"><p><span class="content_text"><a href="JavaServer_Pages.html#//apple_ref/doc/uid/TP30000041-TPXREF107">“Passing Data From a JSP Page to a Component”</a></span> explains what you need to do in order to pass data from a JSP page to a WebObjects component or direct action.</p></li><li class="li"><p><span class="content_text"><a href="JavaServer_Pages.html#//apple_ref/doc/uid/TP30000041-TPXREF108">“Using WebObjects Classes in a JSP Page”</a></span> shows you how to write JSP pages that use WebObjects classes.</p></li><li class="li"><p><span class="content_text"><a href="JavaServer_Pages.html#//apple_ref/doc/uid/TP30000041-TPXREF109">“Using Direct Actions in JSP Pages”</a></span> explains how to use a direct action in a JSP page.</p></li><li class="li"><p><span class="content_text"><a href="JavaServer_Pages.html#//apple_ref/doc/uid/TP30000041-BBCBJGID">“Custom-Tag Reference”</a></span> provides a detailed explanation for each of the tags defined in the custom tag library.</p></li></ul><a name="//apple_ref/doc/uid/TP30000041-BBCHIEDH" title="JSP Page Writing Guidelines"></a><h2>JSP Page Writing Guidelines</h2><p>To be able to use WebObjects components in your JSP pages, you have to include the <code>WOtaglib_1_0.tld</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_36"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_37"></a> custom tag library. It’s located in <code>/System/Library/Frameworks/JavaWOJSPServlet.framework/Resources</code>.  This custom tag library uses the tag library descriptor format defined in a DTD (Document Type Definition) from Sun. This DTD is available at <span class="content_text"><a href="http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_1.dtd" target="_blank">http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_1.dtd</a></span>.</p><p>The elements you use in your JSP pages have the form <code>&lt;wo:</code><em>elementName</em><code>></code>. <em>elementName</em> indicates the type of element you want to use. For example, to use a <code>component</code> element within a JSP page, you add code like the following to the <code>.jsp</code> file:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;wo:component ...><span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/wo:component><span></span></pre></td></tr></table></div><p>Version 1.0 of the custom tag library defines five tags as described in <span class="content_text">Table 2-1</span>.</p><a name="//apple_ref/doc/uid/TP30000041-BBCIIBHA" title="Table 2-1Custom elements defined in WOtaglib_1_0.tld"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-1&nbsp;&nbsp;</strong>Custom elements defined in <code>WOtaglib_1_0.tld</code></caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Element</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Children</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>wo:component</code></p></td><td ><p><code>binding</code><code>extraHeader</code></p></td><td ><p>Top-level element. Specifies the component that is used in the JSP page.</p></td></tr><tr><td  scope="row"><p><code>wo:directAction</code></p></td><td ><p><code>formValue</code><code>extraHeader</code></p></td><td ><p>Top-level element. Specifies the direct action that is used in the JSP page.</p></td></tr><tr><td  scope="row"><p><code>wo:extraHeader</code></p></td><td ><p>None</p></td><td ><p>Specifies the extra HTTP headers to be passed to the component or direct action.</p></td></tr><tr><td  scope="row"><p><code>wo:binding</code></p></td><td ><p>None</p></td><td ><p>Specifies the key-value pair to be passed to the containing <code>wo:component</code> for binding.</p></td></tr><tr><td  scope="row"><p><code>wo:formValue</code></p></td><td ><p>None</p></td><td ><p>Specifies the form value to be passed to the containing <code>wo:directAction</code>.</p></td></tr></table></div><p>For detailed information on the WebObjects custom tag library, see <span class="content_text"><a href="JavaServer_Pages.html#//apple_ref/doc/uid/TP30000041-BBCBJGID">“Custom-Tag Reference.”</a></span></p><p>To use the <code>wo:component</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_38"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_39"></a> or <code>wo:directAction</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_40"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_41"></a> elements on a JSP page, you must add the following directive to the page:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;%@ taglib uri="/WOtaglib_1_0.tld" prefix="wo" %><span></span></pre></td></tr></table></div><p>When you need to access WebObjects classes or objects from your JSP page, you need to copy all the framework and application JAR files<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_42"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_43"></a> necessary into the WAR file or single deployment directory. You accomplish this by calling the <code>initStatics</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_44"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_45"></a> method of the WOServletAdaptor class<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_46"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_47"></a>:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;% WOServletAdaptor.initStatics(application); %><span></span></pre></td></tr></table></div><p>Note that you need to invoke the <code>initStatics</code> method only once during the lifetime of an application. Furthermore, the method is invoked automatically anytime <code>wo:component</code> or <code>wo:directAction</code> elements are used in a JSP page.</p><p>You also need to import the appropriate packages before using the classes with the <code>import</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_48"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_49"></a> attribute of the page directive in your JSP page:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;%@ page import = "com.webobjects.jspservlet.*" %><span></span></pre></td></tr></table></div><p>These directives need to be performed only once per page. However, additional invocations have no ill effect. Referencing classes directly is useful when using components that require binding values. For example, a WORepetition whose <code>list</code> attribute is bound to an array of enterprise-object instances.</p><p>This is an example of a <code>directAction</code> definition:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;wo:directAction actionName="random" className="DirectAction"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:formValue key = "formKey" value = '&lt;%= "formValue" %>'/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:extraHeader key = "headerKey" value = '&lt;%= "headerValue" %>'/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/wo:directAction><span></span></pre></td></tr></table></div><p>This is an example of a <code>component</code> definition:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;wo:component className="MyImageComponent"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:binding key="filename" value='&lt;%= "start.gif" %>' /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/wo:component><span></span></pre></td></tr></table></div><p>To embed dynamic elements in a JSP page, such WOConditional<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_50"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_51"></a> and WORepetition<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_52"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_53"></a>, you have to wrap them in a WebObjects component, which you then use in your JSP page.</p><a name="//apple_ref/doc/uid/TP30000041-BBCJAEHF" title="Developing a JavaServer Pages&acirc;&#128;&#147;Based Application"></a><h2>Developing a JavaServer Pages–Based Application</h2><p>This section shows you how to create a simple JSP-based WebObjects application<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_54"></a>. In it you learn how to use <code>wo:component</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_55"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_56"></a> elements in a JSP page.</p><ol class="ol"><li class="li"><p>Launch Project Builder<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_57"></a> and create a WebObjects application project<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_58"></a> called <code>JSP_Example</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_59"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_60"></a>.</p></li><li class="li"><p>In the J2EE Integration pane of the Project Builder Assistant, select “Deploy in a servlet container.”</p></li><li class="li"><p>In Project Builder, create a component called <code>Hello</code> (make sure you assign it to the Application Server target). Edit the component using WebObjects Builder so that it looks like <span class="content_text">Figure 2-1</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000041-BBCIEIFA" title="Figure 2-1JSP_Example project&acirc;&#128;&#148;the Hello component"></a><p><strong>Figure 2-1&nbsp;&nbsp;</strong>JSP_Example project—the Hello component</p><img src = "../art/wobhello.gif" alt = "JSP_Example project—the Hello component" width="471" height="340"></div></li><li class="li"><p>Set the servlet application directory. (See <span class="content_text"><a href="../Servlets/Servlets.html#//apple_ref/doc/uid/TP30000040-CJBHBABD">“Deploying a Servlet”</a></span> for details.)</p></li><li class="li"><p>In the Finder, navigate to the Servlet Resources<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_61"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_62"></a> folder, located in the JSP_Example<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_63"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_64"></a> folder, and create a folder called <code>jsp</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_65"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_66"></a>.</p></li><li class="li"><p>Using a text editor, create a file with the following contents:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;%-- Welcome.jsp --%><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%@ taglib uri="/WOtaglib" prefix="wo" %><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;HTML><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;HEAD><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TITLE>Welcome to JavaServer Pages in WebObjects&lt;/TITLE><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HEAD><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;BODY><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:component className="Hello"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/wo:component><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/BODY><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HTML><span></span></pre></td></tr></table></div></li><li class="li"><p>Save the file as <code>Welcome.jsp</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_67"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_68"></a> in the <code>jsp</code> directory.</p></li><li class="li"><p>Build the JSP_Example project (if necessary, restart your servlet container).</p></li></ol><p>You should now be able to connect to your application. In Tomcat<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_69"></a>, you use the following URL:</p><div class="codesample"><table><tr><td scope="row"><pre>http://localhost:8080/JSP_Example/jsp/Welcome.jsp<span></span></pre></td></tr></table></div><p>A page similar to the one in <span class="content_text">Figure 2-2</span> should appear in your browser. (Otherwise, consult your servlet container’s documentation to make sure that it’s configured properly.)</p><br/><div><a name="//apple_ref/doc/uid/TP30000041-BBCIBJBF" title="Figure 2-2JSP_Example project&acirc;&#128;&#148;the output of Welcome.jsp"></a><p><strong>Figure 2-2&nbsp;&nbsp;</strong>JSP_Example project—the output of <code>Welcome.jsp</code></p><img src = "../art/webhellojsp.gif" alt = "JSP_Example project—the output of Welcome.jsp" width="402" height="230"></div><br/><a name="//apple_ref/doc/uid/TP30000041-TPXREF107" title="Passing Data From a JSP Page to a Component"></a><h2>Passing Data From a JSP Page to a Component</h2><p>In this section, you expand the JSP_Example project<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_70"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_71"></a> to include</p><ul class="ul"><li class="li"><p>a new component called FavoriteFood<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_72"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_73"></a></p></li><li class="li"><p>a JSP page, called DiningWell, that uses the Hello and FavoriteFood components to generate its output</p></li></ul><p>The FavoriteFood component contains two attributes: <code>visitorName</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_74"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_75"></a> and <code>favoriteFood</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_76"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_77"></a>. When the DiningWell workhorse servlet receives a request, it passes two strings to the FavoriteFood component. The FavoriteFood component then uses those strings to render its HTML code.</p><ol class="ol"><li class="li"><p>Using a text editor, create a file with the following contents:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;%-- DiningWell.jsp --%><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%@ taglib uri="/WOtaglib" prefix="wo" %><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;HTML><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;HEAD><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TITLE>What to eat?&lt;/TITLE><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HEAD><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;BODY><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:component className="Hello" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;P>&lt;P><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:component className="FavoriteFood" bodyContentOnly="true"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;wo:binding key="visitorName" value='&lt;%= "Worf" %>' /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;wo:binding key="favoriteFood" value='&lt;%= "gagh" %>' /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/wo:component><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/BODY><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HTML><span></span></pre></td></tr></table></div><p>Note that in this case the <code>bodyContentOnly</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_78"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_79"></a> attribute of the <code>wo:component</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_80"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_81"></a> element is set to <code>true</code> (this is the default, so you don’t need to specify a value for it). This allows you to define the FavoriteFood component as “Full document” (the default setting in WebObjects Builder<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_82"></a>) instead of “Partial document.” This way, the component can be viewed as a Web page on its own and as a component within a JSP page.</p><p>For faster processing, you can set the <code>bodyContentOnly</code> attribute to <code>false</code> if you are certain that the component includes only the <code>BODY</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_83"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_84"></a> element and not the <code>HTML</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_85"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_86"></a> element.</p></li><li class="li"><p>Save the file as <code>DiningWell.jsp</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_87"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_88"></a> in <code>JSP_Example/Servlet Resources/jsp</code>.</p></li><li class="li"><p>In Project Builder<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_89"></a>, create a component called <code>FavoriteFood</code> (make sure you assign it to the Application Server target).</p></li><li class="li"><p>Edit the component using WebObjects Builder so that it looks like <span class="content_text">Figure 2-3</span>. Make sure to add accessor methods to the <code>visitorName</code> and <code>favoriteFood</code> String keys. Also, ensure that the FavoriteFood component is set to “Full document”.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000041-BBCIDCEB" title="Figure 2-3JSP_Example project&acirc;&#128;&#148;the DiningWell component"></a><p><strong>Figure 2-3&nbsp;&nbsp;</strong>JSP_Example project—the DiningWell component</p><img src = "../art/wobfavoritefood.gif" alt = "JSP_Example project—the DiningWell component" width="471" height="339"></div><p>When you’re done <code>FavoriteFood.java</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_90"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_91"></a> should look like <span class="content_text">Listing 2-1</span>.</p><a name="//apple_ref/doc/uid/TP30000041-BBCFDJEF" title="Listing 2-1FavoriteFood.java"></a><br/><br/><p class="codesample"><strong>Listing 2-1&nbsp;&nbsp;</strong><code>FavoriteFood.java</code></p><div class="codesample"><table><tr><td scope="row"><pre>import com.webobjects.foundation.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.appserver.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.eocontrol.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.eoaccess.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public class FavoriteFood extends WOComponent {<span></span></pre></td></tr><tr><td scope="row"><pre>    protected String visitorName;<span></span></pre></td></tr><tr><td scope="row"><pre>    protected String favoriteFood;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public FavoriteFood(WOContext context) {<span></span></pre></td></tr><tr><td scope="row"><pre>        super(context);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public String visitorName() {<span></span></pre></td></tr><tr><td scope="row"><pre>        return visitorName;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    public void setVisitorName(String newVisitorName) {<span></span></pre></td></tr><tr><td scope="row"><pre>        visitorName = newVisitorName;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public String favoriteFood() {<span></span></pre></td></tr><tr><td scope="row"><pre>        return favoriteFood;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    public void setFavoriteFood(String newFavoriteFood) {<span></span></pre></td></tr><tr><td scope="row"><pre>        favoriteFood = newFavoriteFood;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Build the project and restart your servlet container, if necessary.</p></li></ol><p>If you’re using Tomcat, you can view the new page in your browser with this URL</p><div class="codesample"><table><tr><td scope="row"><pre>http://localhost:8080/JSP_Example/jsp/DiningWell.jsp<span></span></pre></td></tr></table></div><p>The Web page should look like <span class="content_text">Figure 2-4</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000041-BBCJGGBA" title="Figure 2-4JSP_Example project&acirc;&#128;&#148;the output of DiningWell.jsp"></a><p><strong>Figure 2-4&nbsp;&nbsp;</strong>JSP_Example project—the output of <code>DiningWell.jsp</code></p><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_92"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_93"></a><img src = "../art/webdiningwell.gif" alt = "JSP_Example project—the output of DiningWell.jsp" width="406" height="228"></div><br/><p>This is the HTML code your Web browser receives (the listing is indented for easy reading):</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;HTML><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;HEAD><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;TITLE>What to eat?&lt;/TITLE><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/HEAD><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;BODY><span></span></pre></td></tr><tr><td scope="row"><pre>        Hello, World!<span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;P>&lt;P><span></span></pre></td></tr><tr><td scope="row"><pre>        Worf's favorite food is gagh.<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/BODY><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HTML><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000041-TPXREF108" title="Using WebObjects Classes in a JSP Page"></a><h2>Using WebObjects Classes in a JSP Page</h2><p>This section continues work on the JSP_Example project. It explains how to write a JSP page that makes use of two WebObjects classes, NSArray<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_94"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_95"></a> and NSMutableArray<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_96"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_97"></a>, to pass information to a component called MusicGenres.</p><ol class="ol"><li class="li"><p>Using a text editor, create a file with the contents of <span class="content_text">Listing 2-2</span>.</p><a name="//apple_ref/doc/uid/TP30000041-BBCIEAEC" title="Listing 2-2InternetRadio.jsp file"></a><br/><br/><p class="codesample"><strong>Listing 2-2&nbsp;&nbsp;</strong><code>InternetRadio.jsp</code> file</p><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_98"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_99"></a><div class="codesample"><table><tr><td scope="row"><pre>&lt;%-- InternetRadio.jsp --%><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%@ taglib uri="/WOtaglib" prefix="wo" %><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%-- Import statements --%><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%@ page import="com.webobjects.foundation.*" %><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%@ page import="com.webobjects.jspservlet.*" %><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%-- Initialize WebObjects–to–servlet-container integration system --%><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%<span></span></pre></td></tr><tr><td scope="row"><pre>    WOServletAdaptor.initStatics(application);<span></span></pre></td></tr><tr><td scope="row"><pre>%><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%-- Create musical-genre list --%><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%<span></span></pre></td></tr><tr><td scope="row"><pre>    NSMutableArray genres = new NSMutableArray();<span></span></pre></td></tr><tr><td scope="row"><pre>    genres.addObject(new String("Classical"));<span></span></pre></td></tr><tr><td scope="row"><pre>    genres.addObject(new String("Country"));<span></span></pre></td></tr><tr><td scope="row"><pre>    genres.addObject(new String("Eclectic"));<span></span></pre></td></tr><tr><td scope="row"><pre>    genres.addObject(new String("Electronica"));<span></span></pre></td></tr><tr><td scope="row"><pre>    genres.addObject(new String("Hard Rock/Metal"));<span></span></pre></td></tr><tr><td scope="row"><pre>    genres.addObject(new String("Hip-Hop/Rap"));<span></span></pre></td></tr><tr><td scope="row"><pre>    genres.addObject(new String("Jazz"));<span></span></pre></td></tr><tr><td scope="row"><pre>%><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;HTML><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;HEAD><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TITLE>Music Available on Internet Radio Stations&lt;/TITLE><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HEAD><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;BODY><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:component className="MusicGenres" bodyContentOnly="true"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;wo:binding key="genres" value='&lt;%= genres %>' /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/wo:component><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/BODY><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HTML><span></span></pre></td></tr></table></div><p>Note the invocation of the <code>initStatics</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_100"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_101"></a> method of the WOServletAdaptor class<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_102"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_103"></a>. It performs the initialization of objects needed to integrate WebObjects with your servlet container (for example, adding a WOSession object<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_104"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_105"></a> to the JSPSession<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_106"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_107"></a> object).</p></li><li class="li"><p>Save the file as <code>InternetRadio.jsp</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_108"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_109"></a> in the <code>JSP_Example/Servlet Resources/jsp</code> directory.</p></li><li class="li"><p>In Project Builder<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_110"></a>, create a component called <code>MusicGenres</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_111"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_112"></a> (make sure you assign it to the Application Server target).</p></li><li class="li"><p>Add the <code>genres</code> and <code>genre</code> keys to MusicGenres using WebObjects Builder<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_113"></a>. <code>genres</code> is an array of Strings and <code>genre</code> is a String. Add a setter method for <code>genres</code>.</p><p>Alternatively, you can add the following code to <code>MusicGenres.java</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_114"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_115"></a>:</p><div class="codesample"><table><tr><td scope="row"><pre>protected String genre;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/** @TypeInfo java.lang.String */<span></span></pre></td></tr><tr><td scope="row"><pre>protected NSArray genres;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public void setGenres(NSArray newGenres) {<span></span></pre></td></tr><tr><td scope="row"><pre>    genres = newGenres;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Edit the component using WebObjects Builder so that it looks like <span class="content_text">Figure 2-5</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000041-BBCDAJFB" title="Figure 2-5JSP_Example project&acirc;&#128;&#148;the MusicGenres component"></a><p><strong>Figure 2-5&nbsp;&nbsp;</strong>JSP_Example project—the MusicGenres component</p><img src = "../art/wobmusicgenres.gif" alt = "JSP_Example project—the MusicGenres component" width="471" height="339"></div></li><li class="li"><p>Tell Project Builder to copy the necessary WebObjects classes to the WAR file or single deployment directory by setting the <code>SERVLET_COPY_JARS</code> build setting to <code>YES</code>.</p></li><li class="li"><p>Build the application and restart your servlet container, if necessary.</p></li></ol><p>To view the output of the InternetRadio JSP page in Tomcat use the following URL:</p><div class="codesample"><table><tr><td scope="row"><pre>http://localhost:8080/JSP_Example/jsp/InternetRadio.jsp<span></span></pre></td></tr></table></div><p>You should see a page like the one in <span class="content_text">Figure 2-6</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000041-BBCEFJHD" title="Figure 2-6JSP_Example project&acirc;&#128;&#148;the output of InternetRadio.jsp"></a><p><strong>Figure 2-6&nbsp;&nbsp;</strong>JSP_Example project—the output of <code>InternetRadio.jsp</code></p><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_116"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_117"></a><img src = "../art/webinternetradio.gif" alt = "JSP_Example project—the output of InternetRadio.jsp" width="404" height="228"></div><br/><a name="//apple_ref/doc/uid/TP30000041-TPXREF109" title="Using Direct Actions in JSP Pages"></a><h2>Using Direct Actions in JSP Pages</h2><p>This section shows you how to create a WebObjects component called FoodInquiry that contains a WOForm element with two WOTextFields and a WOSubmitButton. The FoodInquiry page is displayed by a direct action, which itself is invoked by a JSP page that provides the FoodInquiry component with initial values for its form elements using <code>wo:formValue</code> elements.</p><ol class="ol"><li class="li"><p>Using a text editor, create a file with the following contents:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;%-- LogIn.jsp --%><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;%@ taglib uri="/WOtaglib" prefix="wo" %><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;wo:directAction actionName="login" className="DirectAction" bodyContentOnly="false"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:formValue key="VisitorName" value='&lt;%= "enter name" %>' /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;wo:formValue key="FavoriteFood" value='&lt;%= "enter food" %>' /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/wo:directAction><span></span></pre></td></tr></table></div></li><li class="li"><p>Save the file as <code>LogIn.jsp</code> in <code>JSP_Example/Servlet Resources/jsp</code>.</p></li><li class="li"><p>In Project Builder, create a component called <code>FoodInquiry</code> (make sure you assign it to the Application Server target).</p></li><li class="li"><p>Add the <code>visitorName</code> and <code>favoriteFood</code> String keys to the component (create accessor methods). Also add the <code>showFavoriteFood</code> action returning the FavoriteFood component.</p><p>When you’re done, <code>FoodInquiry.java</code> should look like <span class="content_text">Listing 2-3</span>. (Note that if you use WebObjects Builder to add the keys and the action, you need to add a couple of lines of code to the <code>showFavoriteFood</code> method.</p><a name="//apple_ref/doc/uid/TP30000041-BBCBJGBD" title="Listing 2-3FoodInquiry.java"></a><br/><br/><p class="codesample"><strong>Listing 2-3&nbsp;&nbsp;</strong><code>FoodInquiry.java</code></p><div class="codesample"><table><tr><td scope="row"><pre>import com.webobjects.foundation.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.appserver.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.eocontrol.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.eoaccess.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public class FoodInquiry extends WOComponent {<span></span></pre></td></tr><tr><td scope="row"><pre>    protected String visitorName;<span></span></pre></td></tr><tr><td scope="row"><pre>    protected String favoriteFood;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public FoodInquiry(WOContext context) {<span></span></pre></td></tr><tr><td scope="row"><pre>        super(context);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public FavoriteFood showFavoriteFood() {<span></span></pre></td></tr><tr><td scope="row"><pre>        FavoriteFood nextPage = (FavoriteFood)pageWithName("FavoriteFood");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        // Set the properties of the FavoriteFood component.<span></span></pre></td></tr><tr><td scope="row"><pre>        nextPage.setVisitorName(visitorName);<span></span></pre></td></tr><tr><td scope="row"><pre>        nextPage.setFavoriteFood(favoriteFood);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        return nextPage;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public String visitorName() {<span></span></pre></td></tr><tr><td scope="row"><pre>        return visitorName;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    public void setVisitorName(String newVisitorName) {<span></span></pre></td></tr><tr><td scope="row"><pre>        visitorName = newVisitorName;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public String favoriteFood() {<span></span></pre></td></tr><tr><td scope="row"><pre>        return favoriteFood;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    public void setFavoriteFood(String newFavoriteFood) {<span></span></pre></td></tr><tr><td scope="row"><pre>        favoriteFood = newFavoriteFood;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Edit the component using WebObjects Builder so that it looks like <span class="content_text">Figure 2-7</span>.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000041-BBCHHJEE" title="Figure 2-7JSP_Example project&acirc;&#128;&#148;the FoodInquiry component"></a><p><strong>Figure 2-7&nbsp;&nbsp;</strong>JSP_Example project—the FoodInquiry component</p><img src = "../art/wobfoodinquiry.gif" alt = "JSP_Example project—the FoodInquiry component" width="471" height="338"></div><ol class="ol"><li class="ol ol"><p>Bind the Submit button to the <code>showFavoriteFood</code> action.</p></li><li class="ol ol"><p>Enter <code>Food Inquiry</code> as the component’s title.</p></li><li class="ol ol"><p>Enter "<code>VisitorName</code>" as the value for the <code>name</code> attribute of the WOTextField that corresponds to the Visitor Name label.</p><div class="item_figure"><img src = "../art/wobinfovisitorname.gif" alt = "WOTextFiled Inspector" width="495" height="167"></div></li><li class="ol ol"><p>Enter "<code>FavoriteFood</code>" as the value for the <code>name</code> attribute of the WOTextField that corresponds to the Favorite Food label.</p></li></ol></li><li class="li"><p>Add the <code>loginAction</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_118"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_119"></a> method (listed below) to the DirectAction class<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_120"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_121"></a>.</p><div class="codesample"><table><tr><td scope="row"><pre>public WOActionResults loginAction() {<span></span></pre></td></tr><tr><td scope="row"><pre>    FoodInquiry result = (FoodInquiry)pageWithName("FoodInquiry");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Get form values.<span></span></pre></td></tr><tr><td scope="row"><pre>    String visitorName = request().stringFormValueForKey("VisitorName");<span></span></pre></td></tr><tr><td scope="row"><pre>    String favoriteFood= request().stringFormValueForKey("FavoriteFood");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Set the component’s instance variables.<span></span></pre></td></tr><tr><td scope="row"><pre>    result.setVisitorName(visitorName);<span></span></pre></td></tr><tr><td scope="row"><pre>    result.setFavoriteFood(favoriteFood);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li></ol><p>To view the output of the LogIn JSP page, use the following URL (restart your servlet container, if necessary):</p><div class="codesample"><table><tr><td scope="row"><pre>http://localhost:8080/JSP_Example/jsp/LogIn.jsp<span></span></pre></td></tr></table></div><p>You should see a page like the one in <span class="content_text">Figure 2-8</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000041-BBCIDHFE" title="Figure 2-8JSP_Example project&acirc;&#128;&#148;the output of LogIn.jsp"></a><p><strong>Figure 2-8&nbsp;&nbsp;</strong>JSP_Example project—the output of <code>LogIn.jsp</code></p><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_122"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_123"></a><img src = "../art/weblogin.gif" alt = "JSP_Example project—the output of LogIn.jsp" width="405" height="228"></div><br/><a name="//apple_ref/doc/uid/TP30000041-BBCBJGID" title="Custom-Tag Reference"></a><h2>Custom-Tag Reference</h2><p><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_124"></a>The following sections provide details about the custom WebObjects JSP tags that <code>WOtaglib_1_0.tld</code> defines.</p><a name="//apple_ref/doc/uid/TP30000041-TPXREF102" title="wo:component"></a><h3>wo:component</h3><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_125"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_126"></a><p>You use this element to embed a WebObjects component within a JSP page. <span class="content_text">Table 2-2</span> describes its attributes.</p><a name="//apple_ref/doc/uid/TP30000041-CJBDABCC" title="Table 2-2Attributes of the wo:component element"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-2&nbsp;&nbsp;</strong>Attributes of the <code>wo:component</code> element</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Required</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>className</code></p></td><td ><p>Yes</p></td><td ><p>Class name of the WebObjects component.</p></td></tr><tr><td  scope="row"><p><code>bodyContentOnly</code></p></td><td ><p>No</p></td><td ><p>Indicates whether the JSP page requires only the body content of the response (without <code>&lt;HTML></code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_127"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_128"></a> and <code>&lt;/HTML></code> tags). Values: <code>true</code> or <code>false</code>. Default: <code>true</code>.</p></td></tr><tr><td  scope="row"><p><code>mergeResponseHeaders</code></p></td><td ><p>No</p></td><td ><p>Indicates whether the WOResponse headers<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_129"></a> are to be merged with the ServletResponse headers<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_130"></a>. Values: <code>true</code> or <code>false</code>. Default: <code>false</code>.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000041-TPXREF103" title="wo:directAction"></a><h3>wo:directAction</h3><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_131"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_132"></a><p>You use this element to embed a direct action within a JSP page. <span class="content_text">Table 2-3</span> describes its attributes.</p><a name="//apple_ref/doc/uid/TP30000041-BBCFJDEC" title="Table 2-3Attributes of the wo:directAction element"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-3&nbsp;&nbsp;</strong>Attributes of the <code>wo:directAction</code> element</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Required</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>actionName</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_133"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_134"></a></p></td><td ><p>Yes</p></td><td ><p>Specifies the direct action<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_135"></a> name.</p></td></tr><tr><td  scope="row"><p><code>className</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_136"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_137"></a></p></td><td ><p>No</p></td><td ><p>Specifies the direct action class name. Default: <code>DirectAction</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_138"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_139"></a>.</p></td></tr><tr><td  scope="row"><p><code>contentStream</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_140"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_141"></a></p></td><td ><p>No</p></td><td ><p>Specifies the source of the request’s content; it must be an InputStream<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_142"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_143"></a> (or a subclass).</p></td></tr><tr><td  scope="row"><p><code>bodyContentOnly</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_144"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_145"></a></p></td><td ><p>No</p></td><td ><p>Indicates whether the JSP page requires only the body content of the response (without <code>&lt;HTML></code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_146"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_147"></a> and <code>&lt;/HTML></code> tags). Values: <code>true</code> or <code>false</code>. Default: <code>true</code>.</p></td></tr><tr><td  scope="row"><p><code>mergeResponseHeaders</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_148"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_149"></a></p></td><td ><p>No</p></td><td ><p>Indicates whether the WOResponse headers<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_150"></a> are to be merged with the ServletResponse headers<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_151"></a>. Values: <code>true</code> or <code>false</code>. Default: <code>false</code>.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000041-TPXREF104" title="wo:extraHeader"></a><h3>wo:extraHeader</h3><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_152"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_153"></a><p>The <code>wo:extraHeader</code> element specifies a key-value pair to be passed to the component or direct action as an HTTP header<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_154"></a>. A <code>wo:extraHeader</code> element has to be used for each header value; you can pass multiple values for one header by using the same value for the <code>key</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_155"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_156"></a> attribute in multiple <code>wo:extraHeader</code> elements. If the value is not <code>null</code>, it must be a String. Otherwise, the corresponding header is removed from the request before it’s passed to the component or direct action. <span class="content_text">Table 2-4</span> describes the attributes of this element.</p><a name="//apple_ref/doc/uid/TP30000041-BBCDFEEI" title="Table 2-4Attributes of the wo:extraHeader element"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-4&nbsp;&nbsp;</strong>Attributes of the <code>wo:extraHeader</code> element</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Required</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>key</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_157"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_158"></a></p></td><td ><p>Yes</p></td><td ><p>Specifies the HTTP header.</p></td></tr><tr><td  scope="row"><p><code>value</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_159"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_160"></a></p></td><td ><p>Yes</p></td><td ><p>Specifies the value for the HTTP header.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000041-TPXREF105" title="wo:binding"></a><h3>wo:binding</h3><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_161"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_162"></a><p>This element specifies a key-value pair to be passed to the component to satisfy one of its bindings. You need a <code>wo:binding</code> element for each of the component’s bindings. <span class="content_text">Table 2-5</span> describes its attributes.</p><a name="//apple_ref/doc/uid/TP30000041-BBCCCGCB" title="Table 2-5Attributes of the binding element"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-5&nbsp;&nbsp;</strong>Attributes of the <code>binding</code> element</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Required</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>key</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_163"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_164"></a></p></td><td ><p>Yes</p></td><td ><p>Specifies the component’s binding.</p></td></tr><tr><td  scope="row"><p><code>value</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_165"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_166"></a></p></td><td ><p>Yes</p></td><td ><p>Specifies the value for the binding.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000041-TPXREF106" title="wo:formValue"></a><h3>wo:formValue</h3><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_167"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_168"></a><p>This element specifies a key-value pair to be passed to the direct action in a query string; it must be a String. You need a <code>wo:formValue</code> for each item in the form. <span class="content_text">Table 2-6</span> describes the attributes of this element.<a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_169"></a></p><a name="//apple_ref/doc/uid/TP30000041-BBCFCFEG" title="Table 2-6Attributes of the formValue element"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-6&nbsp;&nbsp;</strong>Attributes of the <code>formValue</code> element</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Required</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>key</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_170"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_171"></a></p></td><td ><p>Yes</p></td><td ><p>Specifies the form element.</p></td></tr><tr><td  scope="row"><p><code>value</code><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_172"></a><a name="//apple_ref/doc/uid/TP30000041-DontLinkElementID_173"></a></p></td><td ><p>Yes</p></td><td ><p>Specifies the value for the form element.</p></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Servlets/Servlets.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SpecialIssues/SpecialIssues.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-08-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/JSP_and_Servlets/JavaServer_Pages/JavaServer_Pages.html%3Fid%3DTP30001013-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/JSP_and_Servlets/JavaServer_Pages/JavaServer_Pages.html%3Fid%3DTP30001013-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/JSP_and_Servlets/JavaServer_Pages/JavaServer_Pages.html%3Fid%3DTP30001013-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>