<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Blending Operations</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=33537"> </A><A NAME="22734"> </A>Blending Operations</H1><P CLASS="T1.Text1"><A NAME="pgfId=37268"> </A>A drawing engine may support a <B CLASS="bold">transparency blending function </B>that determines the kind of transparency blending applied to a drawing context when combining new (&quot;source&quot;) pixels with the pixels already in a frame buffer (&quot;destination&quot;). You specify an engine's transparency blending function by assigning a value to its <TT CLASS="cv">kQATag_Blend</TT> state variable. The default value of this variable for a draw context that supports transparency blending is <TT CLASS="cv">kQABlend_PreMultiply</TT>.<A NAME="marker=52054"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=37362"> </A>In the equations below, the factors <EM CLASS="Subscript">s</EM>, <EM CLASS="Subscript">s</EM>, <EM CLASS="Subscript">s</EM>, and <EM CLASS="Subscript">s</EM> represent the alpha, red, green and blue components of a source pixel; the factors <EM CLASS="Subscript">d</EM>, <EM CLASS="Subscript">d</EM>, <EM CLASS="Subscript">d</EM>, and <EM CLASS="Subscript">d</EM> represent the alpha, red, green and blue components of a destination pixel.</P><CODE CLASS="Cv.Code"><A NAME="pgfId=64831"> </A>#define kQABlend_PreMultiply&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<BR>#define kQABlend_Interpolate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1<BR>#define kQABlend_OpenGL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2<BR></CODE><DIV><H2 CLASS="UH.UserHd"><A NAME="pgfId=35216"> </A>Constant descriptions</H2><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64833"> </A><TT CLASS="cv">kQABlend_PreMultiply</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=52444"> </A> The drawing engine uses a premultiplied blending function. The components of a pixel written to the frame buffer are computed using these equations:</DD></DL COMPACT><DIV><IMG SRC="qd3dravedriver-3.gif"></DIV><DL COMPACT><DD CLASS="DD.DefinitionDefCont"><A NAME="pgfId=52451"> </A>In general, you should use the premultiplied blending function for rendering shaded transparent 3D primitives (such as triangles). The premultiplied function does not scale the source color components by the alpha value <EM CLASS="Subscript">s</EM>; as a result, this function allows a transparent object to have a specular highlight value that is greater than its alpha channel value. For example, a sheet of glass might allow 99% of the light behind it to pass though (indicating an alpha channel value of 0.01). However, that same sheet of glass might have a specular highlight value much greater than 0.01. The premultiplied function allows the drawing engine to render this object correctly.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64846"> </A><TT CLASS="cv">kQABlend_Interpolate</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=37436"> </A> The drawing engine uses an interpolated blending function. The components of a pixel written to the frame buffer are computed using these equations:</DD></DL COMPACT><DIV><IMG SRC="qd3dravedriver-4.gif"></DIV><DL COMPACT><DD CLASS="DD.DefinitionDefCont"><A NAME="pgfId=37448"> </A>The interpolated blending function is not entirely suitable for rendering shaded transparent objects, but it is very effective for compositing bitmap images.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=64859"> </A><TT CLASS="cv">kQABlend_OpenGL</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=37442"> </A>The drawing engine uses the OpenGL blending function determined by the values of the <TT CLASS="cv">kQATagGL_BlendSrc</TT> and <TT CLASS="cv">kQATagGL_BlendDest</TT> state variables. For complete information on OpenGL blending functions, consult the description of the <TT CLASS="cv">glBlendFunc</TT> function in <I CLASS="italics">OpenGL Reference Manual</I>. OpenGL blending functions are supported only by drawing engines that support the <TT CLASS="cv">kQAOptional_OpenGL</TT> feature.</DD></DL COMPACT></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>