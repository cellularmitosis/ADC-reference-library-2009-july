<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SetScriptQDPatchAddress(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING407></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-406.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-408.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-354.html"><B>Chapter 6 - Script Manager</B></A> / <A HREF="Text-365.html"><B>Script Manager Reference</B></A><BR><DL><DD><A HREF="Text-375.html"><B>Routines</B></A> / <A HREF="Text-403.html"><B>Replacing a Script System's Default Routines</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING407-0></A>
<H3>SetScriptQDPatchAddress</H3>
 <A NAME=MARKER-2-1018></A>The <CODE>SetScriptQDPatchAddress</CODE> procedure replaces the WorldScript I specified QuickDraw patch--or the built-in QuickDraw call--for the given script.<P>
<PRE>
PROCEDURE SetScriptQDPatchAddress (trapNum: Integer;
                                   before: Boolean;
                                   forPrinting: Boolean;
                                   routineAddr: Ptr;
                                   script: ScriptCode);
</PRE>
<DL>
<DT><CODE>trapNum</CODE>
<DD> A value that specifies the name of the QuickDraw routine that is to <BR>be replaced.
<DT><CODE>before</CODE>
<DD> A Boolean that specifies which of two routines is to be replaced. If <BR><CODE>TRUE</CODE>, the WorldScript I patch of the QuickDraw routine is replaced. <BR>If <CODE>FALSE</CODE>, the original routine (usually the built-in QuickDraw routine) <BR>is replaced.
<DT><CODE>forPrinting</CODE>
<DD> A Boolean that specifies whether the replacement routine is for printing. If <CODE>TRUE</CODE>, the new QuickDraw patch is specifically for printing; if <CODE>FALSE</CODE>, the new QuickDraw patch is not specifically for printing.
<DT><CODE>routineAddr</CODE>
<DD> A pointer to the routine that is to replace the existing QuickDraw routine.
<DT><CODE>script</CODE>
<DD> The numeric code that specifies the script system whose dispatch table contains the pointers to the QuickDraw routines. Constants for all defined script codes are listed on <A HREF=Text-367.html#MARKER-9-788>page 6-52</A>.
</DL>
<A NAME=HEADING407-8></A>
<H5>DESCRIPTION</H5>
 The <CODE>SetScriptQDPatchAddress</CODE> procedure replaces the pointer to the desired routine in the specified script's dispatch table.<P>
 All of the WorldScript I patches call the original QuickDraw routine after they execute. Each element in the dispatch table consists of a pair of addresses: one for the WorldScript I patch, and another for the original (built-in QuickDraw) version of the routine. With SetQDPatchAddress you can replace either routine. Thus you can insert your patch code either before (or in place of) the WorldScript I QuickDraw patch, or before (or in place of) the original QuickDraw routine.<P>
 Some printers perform their own text layout on text that is passed to them. Therefore, each QuickDraw patch has two entry points: one for screen display and one for printing only. By specifying either <CODE>TRUE</CODE> or <CODE>FALSE</CODE> in the <CODE>forPrinting</CODE> parameter, you specify whether you are passing the "for printing only" or the "not for printing only" entry point. For example, some script systems might use the "for printing only" entry point to perform extra-fine justification of text on a PostScript printer.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>When you patch a script system's QuickDraw call, you alter that script's behavior for as long as it remains enabled. Therefore, be sure to restore the pointer to its original state whenever your application quits or is switched out by the Process Manager.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 Valid values for the <CODE>trapNum</CODE> parameter are listed on <A HREF=Text-403.html#MARKER-9-601>page 6-101</A>.<P>
<A NAME=HEADING407-14></A>
<H5>SEE ALSO</H5>
 WorldScript I is described in the appendix "Built-in Script Support" in this book.<P>
 In order to handle contextual formatting appropriately for each script system, printer drivers should call the Script Manager's print action routine, described in <I><A HREF="../Devices/Devices-2.html">Inside Macintosh: Devices</A></I>.<A NAME=MARKER-2-1019></A>    <A NAME=MARKER-2-1020></A> <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-406.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-408.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
