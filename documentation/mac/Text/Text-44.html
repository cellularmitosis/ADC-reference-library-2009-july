<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Font and Keyboard Script Synchronization(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING44></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-43.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-45.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-40.html"><B>Chapter 2 - TextEdit</B></A> / <A HREF="Text-41.html"><B>About TextEdit</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING44-0></A>
<H2>Font and Keyboard Script Synchronization</H2>
 <A NAME=MARKER-2-206></A>TextEdit handles <A NAME=MARKER-2-202></A>synchronization of the <B>font script,</B> the script system that corresponds to the font of the current graphics port, and the <B>keyboard script,</B> the script system used for keyboard input, for multistyled and monostyled text.<P>
 For monostyled text, th<A NAME=MARKER-2-48></A>e primary script system determines whether or not TextEdit synchronizes the font script and the keyboard script, based on the value of a flag in the script system's international bundle resource (<CODE>'itlb'</CODE>). TextEdit uses this flag, without requiring any action on the part of your application.<P>
 For multistyled text, TextEdit always synchronizes the font script and the keyboard script. (If the font script at the selection range or insertion point is the same as <BR>the keyboard script, then this font is used.) The following sections explain the conditions that determine whether TextEdit matches the keyboard script to the font script or <BR>vice versa. TextEdit synchronizes <I>the keyboard script with the font script</I> under the following conditions:<P>
<UL>
<LI>When your application calls a TextEdit routine to change the font of a text selection or to process a mouse-down event in text as <A NAME=MARKER-2-337></A>either an insertion point or a selection. This means, for example, that if a user types Arabic text followed by Roman text and clicks in the Arabic text, the keyboard adjusts and changes to Arabic without the user's needing to change the keyboard manually. Similarly, if a user clicks in the Roman text, the keyboard changes to Roman without the user's altering the keyboard.
<LI>If the selection range encompasses text--if it is not an insertion point--then TextEdit uses the font corresponding to the first character of the selected text to determine the keyboard script. When an insertion point falls on a script boundary, the keyboard is synchronized to the font of the character preceding the boundary (in storage order). (A<B> selection range</B> is a series of characters, selected by the user or the application, where the next editing operation is to occur. Although the character representations are contiguous in memory, they can be discontinuous on the display screen when the text is bidirectional. For more information, see <A HREF=Text-46.html#MARKER-9-56>"The Selection Range, the Insertion Point, and Highlighting in TextEdit" on page 2-9</A>.)<P>
</UL>
 TextEdit synchronizes <I>the font script with the keyboard script</I> under the following condition:<P>
<UL>
<LI>When your application calls a TextEdit routine to input a character and if the keyboard script is different from the font script at the selection range (or insertion point). If a font was selected and never used, thus remaining in the scrap that TextEdit uses for character attributes (null scrap) and if the font script coincides with the keyboard script, then this font is used. Otherwise, TextEdit searches through the preceding fonts in the style run table until it locates a font that corresponds to the keyboard. If one does not exist, then it uses the <A NAME=MARKER-2-50></A>application font. For more information about the null scrap, see <A HREF=Text-47.html#MARKER-9-95>"The TextEdit Private, Null, and Style Scraps" on page 2-13</A>.<A NAME=MARKER-2-86></A><P>
</UL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-43.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-45.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
