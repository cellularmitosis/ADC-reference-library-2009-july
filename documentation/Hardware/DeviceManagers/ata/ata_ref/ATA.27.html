<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Setting Data Transfer Timing</TITLE></HEAD><BODY BGCOLOR="#ffffff"><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b>	<a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> <a href="../../devicemgrs.html">Device Managers and Drivers</a>	<b>&gt;</b> <a href="../ata.html" target="_top">ATA Devices</a>	<b>&gt;</b> ATA Device Software Guide		</font></td>	</tr>	</table><br><!-- end of path --><DIV><!-- top navigation --><P><A HREF="ATA.25.html"><img src="images/up.gif" border="0"></A> <A HREF="ATA.26.html"><img src="images/previous.gif" border="0"></A> <A HREF="ATA.28.html"><img src="images/next.gif" border="0"></A> <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></a></div><!-- end top navigation --><hr><H1 CLASS="H1.Heading1"><A NAME="pgfId=537"> </A><A NAME="37315"> </A>Setting Data Transfer Timing</H1><P CLASS="T0.Text0"><A NAME="pgfId=538"> </A>This section defines the mechanism used by version 3.0 and later of the ATA Manager to setup and adjust the system hardware and software for optimized data transfers from and to the ATA devices. </P><P CLASS="T1.Text1"><A NAME="pgfId=539"> </A>Beginning with version 3.0 of the ATA Manager, all cycle timing for data transfer is accomplished through the <A HREF="ATA.38.html#27045" CLASS="XRef"><TT CLASS="cv">ATA_SetDevConfig</TT></A> function. The timing values in the <TT CLASS="cv">ataPIOSpeedMode</TT> field (used by ATA Manager version 2.0 to set cycle timing) in the parameter block header are ignored, and PIO, singleword DMA, and multiword DMA data transfer times are specified separately in the <TT CLASS="cv">ATA_SetDevConfig</TT> function parameter block. In addition, minimum cycle times are determined for PIO and multiword DMA transfers with the <TT CLASS="cv">ATA_SetDevConfig</TT> function. <A NAME="marker=543"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=544"> </A>The ATA-2 specification requires that ATA devices report cycle timing requirements and transfer mode information through the ATA Identify Device command. In order to synchronize the system ATA controller speed to the device speed, the Identify Device information must be interpreted by the ATA Manager. The ATA Manager receives the necessary information from the client in the <TT CLASS="cv">ATA_SetDevConfig</TT> function. Five fields in the <TT CLASS="cv">ATA_SetDevConfig</TT> parameter block are used in various combinations to specify the timing and transfer mode values for PIO, multiword DMA, and singleword DMA data transfers. </P><H2 CLASS="H2.Heading2TOC"><A HREF="ATA.28.html#pgfId=545" CLASS="Hypertext">Setting Up PIO Data Transfers</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="ATA.29.html#pgfId=547" CLASS="Hypertext">Setting Up Multiword and Singleword DMA Data Transfers</A></H2><HR>&#169 1999 Apple Computer, Inc. &#151; (Last Updated 9 Mar 99) <P><A HREF="ATA.25.html"><img src="images/up.gif" border="0"></A> <A HREF="ATA.26.html"><img src="images/previous.gif" border="0"></A> <A HREF="ATA.28.html"><img src="images/next.gif" border="0"></A>  <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!-- document.write(frameLink);//--></script></a><!-- end Show/Hide frames --></P><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>