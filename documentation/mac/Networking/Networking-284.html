<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Multinode Architecture(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING284></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-283.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-285.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING284-0></A>
<H1>Chapter 12 - Multinode Architecture</H1>
 This chapter describes how you can use AppleTalk's multinode architecture to acquire one or more node IDs, called <B>multinodes,</B> in addition to the standard user node ID.<B> Multinode architecture</B> is an AppleTalk feature that is provided to meet the needs of special-purpose applications that receive and process AppleTalk packets in a custom manner instead of passing them directly on to a higher-level AppleTalk protocol for processing. A multinode ID allows the system that is running your application to appear as multiple nodes on the network. The prime example of a <A NAME=MARKER-2-1></A>multinode application is Apple Remote Access (ARA). <P>
 A multinode ID is distinct from the user node ID. AppleTalk separates packets addressed to a multinode from those addressed to the user node sockets on the same machine, <BR>and it passes the multinode packets on to a <A NAME=MARKER-21-163></A>receive routine that you must supply for <BR>the multinode.<P>
 Multinode architecture is implemented in the .MPP driver and exists at the same level of the AppleTalk protocol stack as does the Datagram Delivery Protocol (DDP), but unlike DDP, multinode does not use DDP sockets, nor is it connected to the AppleTalk protocol stack above the data-link level. <P>
 This chapter describes the fundamental tasks that you perform to<P>
<UL>
<LI>add a multinode for your application's use
<LI>write a required routine that receives packets addressed to the multinode
<LI>prepare and send data from the multinode 
<LI>remove a multinode when you are finished with it<P>
</UL>
 Bec<A NAME=MARKER-2-190></A>ause multinode is not connected to the AppleTalk protocol stack above the data-link level, if you want your multinode application to be compatible with AppleTalk, you must implement the higher-level AppleTalk protocols. Multinode also requires that you code <BR>a receive routine in assembly language. For these reasons, you should consider using multinode only if your application requires that you process AppleTalk packets in a custom manner. You do not need to use the multinode architecture for other application requirements. <P>
 <A NAME=MARKER-2-159></A>The receive routine that you must provide to handle packets addressed to your multinode ID is similar to the DDP socket-listener code that an application must include to receive packets addressed to its DDP socket. The chapter "Datagram Delivery Protocol (DDP)" in this book describes how to write a socket listener, which provides useful background information on how to write a multinode receive routine. <P>
 At the data-link level, multinode architecture relies on the AppleTalk connection file <BR>of type <CODE>'adev'</CODE> <A NAME=MARKER-2-5></A>that is implemented for a particular link type. For more informa-<BR>tion about AppleTalk connection files, see the <I>Macintosh AppleTalk Connections Programmer's Guide</I>. <P>
 For information describing how to implement the higher-level AppleTalk protocols, see <I>Inside AppleTalk,</I> second edition.<A NAME=MARKER-2-6></A><P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Networking-285.html#HEADING285-0">About Multinode Architecture</A>
<DD>
<DT><A HREF="Networking-286.html#HEADING286-0">Using Multinode Architecture</A>
<DD>
<DL>
<DT><A HREF="Networking-287.html#HEADING287-0">Acquiring and Removing Multinodes </A>
<DD>
<DT><A HREF="Networking-288.html#HEADING288-0">Handling an AppleTalk Cable-Range-Change Transition Event</A>
<DD>
<DT><A HREF="Networking-289.html#HEADING289-0">Receiving Packets Addressed to Your Multinode</A>
<DD>
<DL>
<DT><A HREF="Networking-289.html#HEADING289-20">Calling ReadPacket to Read in the Packet Contents</A>
<DD>
<DT><A HREF="Networking-289.html#HEADING289-23">Calling ReadRest to Complete Reading in the Packet Contents</A>
<DD>
</DL>
<DT><A HREF="Networking-290.html#HEADING290-0">Sending Packets Using a Multinode</A>
<DD>
<DL>
<DT><A HREF="Networking-290.html#HEADING290-8">Preparing a Write-Data Structure</A>
<DD>
<DT><A HREF="Networking-290.html#HEADING290-29">Using a Checksum</A>
<DD>
</DL>
</DL>
<DT><A HREF="Networking-291.html#HEADING291-0">Multinode Architecture Reference</A>
<DD>
<DL>
<DT><A HREF="Networking-292.html#HEADING292-0">Data Structures</A>
<DD>
<DL>
<DT><A HREF="Networking-293.html#HEADING293-0">The Write-Data Structure</A>
<DD>
<DT><A HREF="Networking-294.html#HEADING294-0">The Address Block Record</A>
<DD>
<DT><A HREF="Networking-295.html#HEADING295-0">The Multinode Parameter Block</A>
<DD>
</DL>
<DT><A HREF="Networking-296.html#HEADING296-0">Routines</A>
<DD>
<DL>
<DT><A HREF="Networking-296.html#HEADING296-15"><B></B>DESCRIPTION </A>
<DD>
<DT><A HREF="Networking-297.html#HEADING297-0">Adding and Removing Multinode Addresses</A>
<DD>
<DT><A HREF="Networking-300.html#HEADING300-0">Sending Datagrams Through Multinodes</A>
<DD>
</DL>
</DL>
<DT><A HREF="Networking-302.html#HEADING302-0">Summary of Multinode Architecture</A>
<DD>
<DL>
<DT><A HREF="Networking-302.html#HEADING302-4">Pascal Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-302.html#HEADING302-5">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-8">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-9"><B></B>The Write-Data Structure</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-11"><B></B>The Address Block Record </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-13"><B></B>The Multinode Parameter Block </A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-302.html#HEADING302-17">C Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-302.html#HEADING302-18">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-21">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-22"><B></B>The Write-Data Structure</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-24"><B></B>The Address Block Record </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-26"><B></B>The MPP Parameter Block for Multinode</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-302.html#HEADING302-30">Assembly-Language Summary </A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-302.html#HEADING302-31"><B></B>MPP Parameter Block Common Fields for Multinode Routines</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-32"><B></B>AddNode Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-34"><B></B>RemoveNode Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-302.html#HEADING302-35"><B></B>NetWrite Parameter Variant</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-302.html#HEADING302-36">Result Codes</A>
<DD>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-283.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-285.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
