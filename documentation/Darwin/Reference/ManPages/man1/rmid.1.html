<html><head><title>Mac OS X Developer Tools
 Manual Page For rmid(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/rmid" title="Mac OS X Developer Tools
 Manual Page for rmid(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/rmid"; name=rmid(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
rmid(1)                                                                                              rmid(1)



<b>NAME</b>
       rmid - RMI activation system daemon

<b>SYNOPSIS</b>
       <b>rmid</b> [ <u>options</u> ]

<b>DESCRIPTION</b>
       The  <b>rmid</b>  tool  starts the activation system daemon. Before activatable objects can be either regis-<font color="#ffffff" class="whiteout">tered&nbsp;registered</font>
       tered with the activation system or activated in a Java VM, the  activation  system  daemon  must  be
       started.   See  the  <u>RMI</u>  <u>Specification</u> and <u>Activation</u> <u>Tutorials</u> for details on how to write programs
       that use activatable remote objects.

       The daemon can be started by executing the <b>rmid</b> command, and specifying a security  policy  file,  as
       follows:

            <b>example%</b> <b>rmid</b> <b>-J-Djava.security.policy=rmid.policy</b>

       Note:  When running Sun's implementation of <b>rmid</b>, by default you will need to specify a security pol-<font color="#ffffff" class="whiteout">icy&nbsp;policy</font>
       icy file so that <b>rmid</b> <b>can</b> <b>verify</b> <b>whether</b> <b>or</b>  <b>not</b>  <b>the</b>  <b>information</b>  <b>in</b>  <b>each</b>  <b>ActivationGroupDesc</b>  is
       allowed  to  be  used to launch a JVM for an activation group.  Specifically, the command and options
       specified by the <b>CommandEnvironment</b> and any <b>Properties</b> passed to an <b>ActivationGroupDesc</b>'s constructor
       must  now be explicitly allowed in the security policy file for <b>rmid</b>.  The value of the <b>sun.rmi.acti</b>-<font color="#ffffff" class="whiteout">vation.execPolicy&nbsp;sun.rmi.activation.execPolicy</font>
       <b>vation.execPolicy</b> property dictates the policy that <b>rmid</b> uses to determine whether or not the  infor-<font color="#ffffff" class="whiteout">mation&nbsp;information</font>
       mation in an <b>ActivationGroupDesc</b> may be used to launch a JVM for an activation group.

       Executing <b>rmid</b> by default

               starts the Activator and an internal registry on the default port, <b>1098</b>, and
               binds  an <b>ActivationSystem</b> to the name <b>java.rmi.activation.ActivationSystem</b> in this internal
                registry.

       To specify an alternate port for the registry, you must specify the <b>-port</b>  option  when  starting  up
       <b>rmid</b>.  For example,

            <b>rmid</b> <b>-J-Djava.security.policy=rmid.policy</b> <b>-port</b> <b>1099</b>

       starts the activation system daemon and a registry on the registry's default port, <b>1099</b>.

   <b>Starting</b> <b>rmid</b> <b>from</b> <b>inetd/xinetd</b>
       An  alternative  to  starting  rmid  from  the command line is to configure inetd (Solaris) or xinetd
       (Linux) to start rmid on demand.

       When rmid starts up, it attempts to obtain an inherited  channel  (inherited  from  inetd/xinetd)  by
       invoking the System.inheritedChannel method.  If the inherited channel is null, then rmid was started
       from the command line, and it starts up as described above.

       If the inherited channel is not an instance of java.io.channels.ServerSocketChannel, rmid exits.

       If the inherited channel is a ServerSocketChannel instance, then rmid uses the  java.net.ServerSocket
       obtained  from  the  ServerSocketChannel  as  the  server socket that accepts requests for the remote
       objects it exports, namely the registry in which the  java.rmi.activation.ActivationSystem  is  bound
       and the java.rmi.activation.Activator remote object.

       The  rmid  tool, when started from inetd/xinetd, behaves the same as when it is started from the com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
       mand line, except:

        Output printed to System.err is redirected
         to a file. This file is located in the directory specified by the  java.io.tmpdir  system  property
         (typically /var/tmp or /tmp) with the prefix "rmid-err" and the suffix "tmp".

        The -port option is disallowed. If this
         option is specified, rmid will exit with an error message.

        The -log option is required. If this option
         is not specified, rmid will exit with an error message.

       See  the  man pages for inetd (Solaris) or xinetd (Linux) for details on how to configure services to
       be started on demand.

<b>OPTIONS</b>
       <b>-C</b><u>someCommandLineOption</u>
              Specifies an option that is passed as a command-line argument to each child  process  (activa-<font color="#ffffff" class="whiteout">tion&nbsp;(activation</font>
              tion  group)  of <b>rmid</b> when that process is created.  For example, you could pass a property to
              each Java virtual machine spawned by the activation system daemon:

                   <b>rmid</b> <b>-C-Dsome.property=value</b>

              This ability to pass command-line arguments o child processes can  be  useful  for  debugging.
              For example, the following command:

                   <b>rmid</b> <b>-C-Djava.rmi.server.logCalls=true</b>

              will enable server-call logging in all child JVMs.

       <b>-J</b><u>someCommandLineOption</u>
              Specifies  an  option  that  is  passed to the java interpreter running <b>rmid</b>.  For example, to
              specify that <b>rmid</b> use a policy file named <b>rmid.policy</b>, the <b>-J</b> option can be used to define the
              <b>java.security.policy</b> property on <b>rmid</b>'s command line.  For example:

                   <b>rmid</b> <b>-J-Djava.security.policy=rmid.policy</b>

       <b>-J-Dsun.rmi.activation.execPolicy=</b><u>policy</u>
              Specifies  the  policy  that  <b>rmid</b>  employs to check commands and command-line options used to
              launch the JVM in which an activation group runs.  Please note that this option exists only in
              Sun's  implementation  of the RMI activation daemon.  If this property is not specified on the
              command line, the result is the  same  as  if  <b>-J-Dsun.rmi.activation.execPolicy=default</b>  were
              specified.  The possible values of <u>policy</u> can be <b>default</b>, <u>policyClassName</u>, or <b>none</b>:

               default  (or  if this property is <u>unspecified</u>) The default <b>execPolicy</b> allows <b>rmid</b> to execute
                commands with specific command-line options only if <b>rmid</b> has been granted permission to exe-<font color="#ffffff" class="whiteout">cute&nbsp;execute</font>
                cute  those  commands  and  options  in  the  security policy file that <b>rmid</b> uses.  Only the
                default activation group implementation can be used with the <u>default</u> execution policy.

                <b>rmid</b> launches a JVM for an activation group using the information in the group's  registered
                activation  group  descriptor,  an  <b>ActivationGroupDesc</b>.   The group descriptor specifies an
                optional <b>ActivationGroupDesc.CommandEnvironment</b> which includes the  <u>command</u>  to  execute  to
                start  the  activation  group as well as any command line <u>options</u> to be added to the command
                line.  By default, <b>rmid</b> uses the <b>java</b> command found in <b>java.home</b>.  The group descriptor also
                contains <u>properties</u> overrides that are added to the command line as options defined as:

                     <b>-D</b><u>property</u><b>=</b><u>value</u>

                The permission <b>com.sun.rmi.rmid.ExecPermission</b> is used to grant <b>rmid</b> permission to execute a
                command, specified in the group descriptor's  <b>CommandEnvironment</b>  to  launch  an  activation
                group.   The  permission  <b>com.sun.rmi.rmid.ExecOptionPermission</b> is used to allow <b>rmid</b> to use
                command-line options, specified as properties  overrides  in  the  group  descriptor  or  as
                options in the <b>CommandEnvironment</b>, when launching the activation group.

                When  granting  <b>rmid</b>  permission  to  execute  various commands and options, the permissions
                <b>ExecPermission</b> and <b>ExecOptionPermission</b> need to be granted universally (that is, granted  to
                all code sources).

                <b>ExecPermission</b>
                       The <b>ExecPermission</b> class represents permission for <b>rmid</b> to execute a specific command
                       to launch an activation group.

                       <b>Syntax</b>
                       The name of an <b>ExecPermission</b> is the path name of a command to grant <b>rmid</b>  permission
                       to  execute.  A path name that ends in "/*" indicates all the files contained in that
                       directory (where "/" is the file-separator character,  <b>File.separatorChar</b>).   A  path
                       name  that  ends  with  "/-" indicates all files and subdirectories contained in that
                       directory (recursively).  A path name consisting of the special token "&lt;&lt;ALL FILES&gt;&gt;"
                       matches <u>any</u> file.

                       <b>Note:</b>  A  path name consisting of a single "*" indicates all the files in the current
                       directory, while a path name consisting of a single "-" indicates all  the  files  in
                       the current directory and (recursively) all files and subdirectories contained in the
                       current directory.

                <b>ExecOptionPermission</b>
                       The <b>ExecOptionPermission</b> class represents permission for <b>rmid</b> to use a specific  com-<font color="#ffffff" class="whiteout">mand-line&nbsp;command-line</font>
                       mand-line  option  when launching an activation group.  The name of an <b>ExecOptionPer</b>-<font color="#ffffff" class="whiteout">mission&nbsp;ExecOptionPermission</font>
                       <b>mission</b> is the value of a command line option.

                       <b>Syntax</b>
                       Options support a limited wildcard scheme.  An asterisk signifies a  wildcard  match,
                       and  it  may appear as the option name itself (that is, it matches any option), or an
                       asterisk may appear at the end of the option name only if the asterisk follows either
                       a "." or "=".

                       For  example: "*" or "-Dfoo.*" or "-Da.b.c=*" is valid; "*foo" or "-Da*b" or "ab*" is
                       not.

              <b>Policy</b> <b>file</b> <b>for</b> <b>rmid</b>
                When granting <b>rmid</b> permission to execute  various  commands  and  options,  the  permissions
                <b>ExecPermission</b>  and <b>ExecOptionPermission</b> need to be granted universally (that is, granted to
                all code sources).  It is safe to grant these  permissions  universally  because  only  <b>rmid</b>
                checks these permissions.

                An example policy file that grants various execute permissions to <b>rmid</b> is:

                <b>grant</b> <b>{</b>
                    <b>permission</b> <b>com.sun.rmi.rmid.ExecPermission</b>
                        <b>"/files/apps/java/jdk1.2.2/bin/java";</b>

                    <b>permission</b> <b>com.sun.rmi.rmid.ExecPermission</b>
                        <b>"/files/apps/rmidcmds/*";</b>

                    <b>permission</b> <b>com.sun.rmi.rmid.ExecOptionPermission</b>
                        <b>"-Djava.security.policy=/files/policies/group.policy";</b>

                    <b>permission</b> <b>com.sun.rmi.rmid.ExecOptionPermission</b>
                        <b>"-Djava.security.debug=*";</b>

                    <b>permission</b> <b>com.sun.rmi.rmid.ExecOptionPermission</b>
                        <b>"-Dsun.rmi.*";</b>
                <b>};</b>

                The  first  permission  granted allow <b>rmid</b> to execute the 1.2.2 version of the <b>java</b> command,
                specified by its explicit path names.  Note that by default, the version of the <b>java</b> command
                found  in <b>java.home</b> is used (the same one that <b>rmid</b> uses), and does not need to be specified
                in the policy file.  The third permission allows <b>rmid</b> to execute any command in  the  direc-<font color="#ffffff" class="whiteout">tory&nbsp;directory</font>
                tory <b>/files/apps/rmidcmds</b>.

                The  fourth permission granted, an <b>ExecOptionPermission</b>, allows <b>rmid</b> to launch an activation
                group that defines the security policy file to be  <b>/files/policies/group.policy</b>.   The  next
                permission  allows  the <b>java.security.debug</b> property to be used by an activation group.  The
                last permission allows any property in the <b>sun.rmi</b> property name hierarchy  to  be  used  by
                activation groups.

                To start <b>rmid</b> with a policy file, the <b>java.security.policy</b> property needs to be specified on
                <b>rmid</b>'s command line.  For example:

                     <b>rmid</b> <b>-J-Djava.security.policy=rmid.policy</b>

               <u>policyClassName</u>

                If the default behavior is not flexible enough, an administrator can provide, when  starting
                <b>rmid</b>,  the  name of a class whose <b>checkExecCommand</b> method is executed in order to check com-<font color="#ffffff" class="whiteout">mands&nbsp;commands</font>
                mands to be executed by <b>rmid</b>.

                The <b>policyClassName</b> specifies a public class with a public, no-argument constructor  and  an
                implementation of the following <b>checkExecCommand</b> method:

                     <b>public</b> <b>void</b> <b>checkExecCommand(ActivationGroupDesc</b> <b>desc,</b>
                                                              <b>String[]</b> <b>command)</b>
                                     <b>throws</b> <b>SecurityException;</b>

                Before launching an activation group, <b>rmid</b> calls the policy's <b>checkExecCommand</b> method, pass-<font color="#ffffff" class="whiteout">ing&nbsp;passing</font>
                ing it the activation group descriptor and an  array  containing  the  complete  command  to
                launch  the activation group.  If the <b>checkExecCommand</b> throws a <b>SecurityException</b>, <b>rmid</b> will
                not launch the activation group and an <b>ActivationException</b> will  be  thrown  to  the  caller
                attempting to activate the object.

               <b>none</b>

                If  the  <b>sun.rmi.activation.execPolicy</b>  property value is "none", then <b>rmid</b> will not perform
                any validation of commands to launch activation groups.

       <b>-log</b> <u>dir</u>
              Specifies the name of the directory the activation system daemon uses to  write  its  database
              and  associated  information.  The log directory defaults to creating a directory, <b>log</b>, in the
              directory in which the <b>rmid</b> command was executed.

       <b>-port</b> <u>port</u>
              Specifies the port <b>rmid</b>'s registry uses.  The activation system daemon binds  the  <b>Activation</b>-<font color="#ffffff" class="whiteout">System,&nbsp;ActivationSystem,</font>
              <b>System</b>, with the name <b>java.rmi.activation.ActivationSystem</b>, in this registry.  Thus, the <b>Acti</b>-<font color="#ffffff" class="whiteout">vationSystem&nbsp;ActivationSystem</font>
              <b>vationSystem</b> on the local machine can be obtained using  the  following  <b>Naming.lookup</b>  method
              call:

              <b>import</b> <b>java.rmi.*;</b>
              <b>import</b> <b>java.rmi.activation.*;</b>

              <b>ActivationSystem</b> <b>system;</b>
              <b>system</b> <b>=</b> <b>(ActivationSystem)</b>
              <b>Naming.lookup("//:port/java.rmi.activation.ActivationSystem");</b>

       <b>-stop</b>  Stops the current invocation of <b>rmid</b>, for a port specified by the <b>-port</b> option.  If no <u>port</u> is
              specified, it will stop the <b>rmid</b> running on port <b>1098</b>.

<b>ENVIRONMENT</b> <b>VARIABLES</b>
       <b>CLASSPATH</b>           Used to provide the system a path to user-defined classes.  Directories are sepa-<font color="#ffffff" class="whiteout">rated&nbsp;separated</font>
                           rated by colons.  For example,

                           <b>example%</b> <b>.:/usr/local/java/classes</b>

<b>SEE</b> <b>ALSO</b>
       <a href="rmic.1.html#//apple_ref/doc/man/1/rmic"><b>rmic</b>(1)</a>

       See (or search <b>java.sun.com</b>) for the following:

       <b>RMI</b> <b>Specification</b> <b>@</b>
         <a href="http://java.sun.com/j2se/1.5/docs/guide/rmi/spec/rmiTOC.doc.html">http://java.sun.com/j2se/1.5/docs/guide/rmi/spec/rmiTOC.doc.html</a>



                                                10 March 2001                                        rmid(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/rmid.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/rmid.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/rmid.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
