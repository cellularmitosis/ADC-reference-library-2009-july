<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Creating Customized Document Icons(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING449></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-448.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-450.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-443.html"><B>Chapter 7 - Finder Interface</B></A> / <A HREF="Toolbox-446.html"><B>Using the Finder Interface</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING449-0></A>
<H2><A NAME=MARKER-9-213></A><A NAME=MARKER-21-214></A>Creating Customized Document Icons</H2>
 <A NAME=MARKER-2-215></A>You can create customized icons for your documents. Users can also create customized icons. When an icon list resource is stored with a resource ID of -16455 in the resource fork of a file, the Finder uses the large, small, 4-bit and 8-bit color, and black-and-white icons defined in resources with that resource ID as <B>customized icons</B> in place of the Finder's default icon and in place of any icons listed in the file's bundle resource.<A NAME=MARKER-2-216></A><P>
<DL>
<DT><B>Note</B>
<DD>Although an application can assign icons to it all of its documents by associating their icons with the documents' file types in a bundle resource (as explained in <A HREF=Toolbox-450.html#MARKER-9-233>"Creating File Reference Resources" beginning on page 7-17</A> and <A HREF=Toolbox-451.html#MARKER-9-262>"Creating a Bundle Resource" beginning on page 7-19</A>), a customized icon can represent only one specific file--that file that has an icon list resource with a resource ID of -16455 in its resource fork.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 Users of System 7 are able to customize individual icons. By selecting a file and choosing Get Info from the File menu, the user sees the information window for that file. The <BR>user can then select the icon displayed in the upper-left corner of the information window and use the Paste command in the Edit menu to replace it with a picture from the Clipboard. The Finder creates a family of icons based on the user's customized <BR>icon, assigns a resource ID number of -16455 to each resource in the icon family, stores these resources in the resource fork of the file that the icon represents, and sets the <CODE>hasCustomIcon</CODE> bit in the file's Finder flags field. (Finder flags are described in detail <BR>in <A HREF=Toolbox-464.html#MARKER-9-493>"File Information Record" beginning on page 7-44</A>.)<A NAME=MARKER-2-217></A><A NAME=MARKER-2-218></A><A NAME=MARKER-2-219></A><A NAME=MARKER-2-220></A><A NAME=MARKER-2-221></A><A NAME=MARKER-2-222></A><P>
 Your application can use the same strategy to provide customized icons for the documents that it creates. For example, a drawing application might create miniature versions of the illustrations contained within its documents and use those for the documents' icons.<P>
 If you are a database developer who creates and distributes query documents that support the Data Access Manager, you can also use this strategy to create icons that identify your database's query documents. Similarly, if instead of producing an application you produce and distribute information (such as database files, stationery pads, clip art libraries, or dictionaries) to be used by other applications, you might want to provide icons that distinguish your documents.<A NAME=MARKER-2-223></A><P>
 To make the Finder display customized icons for a document, you must create--at least--an icon list resource with resource ID -16455 and store it in the document's resource <BR>fork. (To create this while your application is running, your application can call the <CODE>AddResource</CODE> procedure, described in the chapter "Resource Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.) You can use the following constant in place of <BR>the ID number:<P>
<PRE>
CONST kCustomIconResource = -16455; {res ID for custom icon}
</PRE>
 If you provide only an icon list resource, the Finder uses a black-and-white icon on all screen displays and automatically reduces it when a small version of the icon is required. To create color versions and to define a small version of the icon, create an entire icon family as described in <A HREF=Toolbox-448.html#MARKER-9-139>"Creating Icons for the Finder" beginning on page 7-10</A>.<P>
 After creating resources for icons using the <CODE>kCustomIconResource</CODE> constant as their IDs, you must set the <CODE>hasCustomIcon</CODE> bit in the file's Finder flags field. To prevent users from changing these icons, set the <CODE>nameLocked</CODE> bit in the file's Finder flags field. (Most development environments provide tools for setting these bits. <A HREF=Toolbox-455.html#MARKER-9-356>"Using Finder Information in the Catalog File" beginning on page 7-30</A> describes how to determine <BR>and set these Finder flags.)<A NAME=MARKER-2-224></A><A NAME=MARKER-2-225></A><A NAME=MARKER-2-226></A><A NAME=MARKER-2-227></A><A NAME=MARKER-2-228></A><A NAME=MARKER-2-229></A><A NAME=MARKER-21-298></A><A NAME=MARKER-2-231></A><A NAME=MARKER-2-232></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-448.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-450.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
