<HTML>
<HEAD>

<TITLE>Preventing Hijacking</TITLE>
<script language=javascript> window.parent.focus(); </script>


</HEAD>

<BODY bgcolor="#ffffff">

<TABLE WIDTH=512 >
<TR><TD>

<H1>Preventing Hijacking with SRC and QTSRC</H1>

<P>
Other plugins can hijack the .mov file type, preventing people from
viewing QuickTime movies, even when QuickTime is installed. 

<HR><H2>The Old Solution</H2>


<P>In the book, I
recommend correcting this by setting the <TT>SRC</TT> parameter to a QuickTime Image File 
(<TT>.qti</TT> or <TT>.qtif</TT> file extension, MIME type "image/x-quicktime"), 
then passing the actual movie url in the <TT>QTSRC</TT> parameter.
</P>

<P>
The HTML looks like this: <br>
<TT>
                           &lt;EMBED QTSRC="Actual.mov" HEIGHT="yyy" WIDTH="xxx" <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       SRC="UNeedQT4.qtif" TYPE="image/x-quicktime" <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       PLUGINSPAGE="http://www.apple.com/quicktime/download/" &gt;
</TT>
</P>

<P>
This does prevent hijacking, because other plugins don't take over <TT>.qtif</TT> files.
People with QuickTime 4 or later see the movie, not the image.
</P>

<P>
BUT, your Web server must have the <TT>.qti</TT> and <TT>.qtif</TT> file extensions
mapped to the MIME type "image/x-quicktime" for this to work.
</P>

<P>
AND, unfortunately, people with earler versions of QuickTime see a broken plugin icon
instead of the QTIF image. QuickTime 3 (and 2.5) can display QTIF files, but
prior to QuickTime 4 the plugin didn't advertise the MIME type. If you have
QuickTime 3, your browser is configured to use PictureViewer for <TT>.qtif</TT> files,
not the QuickTime plugin. The EMBED tag is not compatible with helper apps,
only with plugins, so the <TT>.qtif</TT> image does not display.
</P>

<P>
Again, this technique does prevent hijacking, 
and with QuickTime 4 or later all is well, but people
with earlier versions of QuickTime see a broken plugin icon, not a nice
image telling them where to get the latest version of QuickTime.
</P>

<HR><H2>The New Solution</H2>

<P>
There is an alternate approach you can take that works with older versions of QuickTime.
Instead of passing a QTIF file in the SRC parameter, pass a MacPaint image
(file extension <TT>.pntg</TT>, MIME type "image/x-macpaing"). Don't laugh, this actually works.
</P>

<P>
The HTML looks like this: <br>
<TT>
                           &lt;EMBED QTSRC="Actual.mov" HEIGHT="yyy" WIDTH="xxx" <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       SRC="UNeedQT4.pntg" TYPE="image/x-macpaint" <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       PLUGINSPAGE="http://www.apple.com/quicktime/download/" >
</TT>
</P>
       
<P>
This approach also prevents hijacking, and people with QuickTime 3 see an image
telling them they need to upgrade, rather than a broken plugin icon.
</P>

<P>
<B>Important:</B> Your Web server MUST be configured to associate the <TT>.pntg</TT> file extension with
the MIME type "image/x-macpaint" or it won't work.
</P>

<P>
Yes, it works on Windows. No, the viewer doesn't need MacPaint (and neither do you).
</P>

<P>
Here are three images you can use:
640x480,
320x240,
180x120
</P>

<P>
Use the largest image that fits inside the height and width you allocate for your movie.
</P>

<P>
All the images are 5 kbytes in size.
</P>

<P>
Bear in mind that only people with QuickTime 3 will see the image.
People with QuickTime 4 or later will never see it -- they see the movie instead.
</P>

<P>
<B>Note:</B> If you want to make your own image, start with a program such as Photoshop.
The image size must be exactly 576 x 720 pixels (W x H). It must be black and white
(not grayscale). The part of the image you want people to see must be centered. If
your desired image size is 180 x 120 pixels, for example, put an image that size
in the center of a 576 x 720 field. Save it as a bitmap image. Convert it to MacPaint format 
using PictureViewer (included with QuickTime Pro).
</P>

</TD></TR></TABLE>

</BODY>
</HTML>
