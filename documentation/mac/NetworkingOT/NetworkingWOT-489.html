<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Retrieving Option Values</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING489></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-488.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-490.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-485.html"><B>Appendix D - XTI Option Summary</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING489-0></A>
<H1>Retrieving Option Values</H1>
 The following sections describe how you retrieve option values for different kinds of endpoints.<P>
<A NAME=HEADING489-2></A>
<H2><A NAME=MARKER-9-29></A>Retrieving Values for Connection-Oriented Endpoints</H2>
 When you are establishing a connection, it is possible to negotiate association-related option values at every point in the connection process, as illustrated in <A HREF=NetworkingWOT-486.html#MARKER-9-9>Figure D-1 </A>. Both the active and passive peers might want to retrieve option values during this process. <A NAME=MARKER-13-30></A><P>
 The passive peer might want to know the proposed option values under negotiation. It can retrieve these by calling the <CODE>OTListen</CODE> function. After examining the option values returned by the <CODE>OTListen</CODE> function, the passive peer can negotiate option values by specifying the desired option values with the <CODE>OTAccept</CODE> call used to accept the connection. Using this method, the passive peer can examine the requested option values before proposing alternate values.<P>
 The passive peer can also negotiate alternate values by using the <CODE>OTOptionManagement</CODE> function to preset option values for the endpoint accepting the connection. This sets the current option values for the endpoint so that when the passive peer calls the <CODE>OTAccept</CODE> function, these are the option values that are negotiated with the requested values. <P>
 The passive peer can try to negotiate option values that are higher than the proposed values. The outcome depends on the protocol. If the protocol rejects the new option values, the connection fails, and the endpoint provider issues a <CODE>T_DISCONNECT</CODE> event. Depending on timing and the implementation, the <CODE>OTAccept</CODE> function either succeeds or fails with the <CODE>kOTLookErr</CODE> result.<P>
 The association-related options retrieved by the passive peer are related to the incoming connection, identified by a sequence number, and are not related to the listening endpoint. Option values currently effective for the listening endpoint might affect the values retrieved by the <CODE>OTListen</CODE> function because the endpoint is involved in the negotiation process, but these values are not the same as the option values related to the connection request. That is to say, calling the <CODE>OTOptionManagement</CODE> function to retrieve the option values that were currently effective for the listening endpoint is likely to yield a different set of values than you would find by examining the values of options passed in the <CODE>call</CODE> parameter to the <CODE>OTListen</CODE> function.<P>
 When you establish the connection--that is, when a synchronous call to the <CODE>OTConnect</CODE> function returns or when the active peer calls the <CODE>OTRcvConnect</CODE> function-- all final negotiated values effective for the connection are returned in the buffer passed in the <CODE>rcvCall</CODE> or <CODE>call</CODE> parameter, respectively. These option values include all association-related options that were received with the connection response and the negotiated values of those non-association-related options that had been specified on input. Options specified on input to the <CODE>OTConnect</CODE> call that are not supported or that refer to an unknown protocol are ignored and not returned by the <CODE>OTConnect</CODE> or <CODE>OTRcvConnect</CODE> function when it returns.<P>
<A NAME=HEADING489-9></A>
<H2>Retrieving Values for Connectionless Transactionless Endpoints</H2>
 You can retrieve association-related options set for connectionless transactionless endpoints by examining the buffer passed in the <CODE>udata</CODE> parameter to the <CODE>OTRcvUData</CODE> function. These options relate to the incoming datagram, not to the endpoint receiving it. <P>
 Because the options you retrieve are related to the datagram and not to the listening endpoint, their number and values can change with every transmission.<P>
<A NAME=HEADING489-12></A>
<H2>Retrieving Values for Connectionless Transaction-Based Endpoints</H2>
 You can retrieve association-related options set for connectionless transaction-based endpoints by examining the buffer passed in the <CODE>req</CODE> parameter to the <CODE>OTRcvURequest</CODE> function. These options relate to the current transaction, not to the endpoint receiving the request. Consequently, options and their values can change with each transaction.<P>
 <P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DT><A HREF="NetworkingWOT-489.html#HEADING489-2">Retrieving Values for Connection-Oriented Endpoints</A>
<DD>
<DT><A HREF="NetworkingWOT-489.html#HEADING489-9">Retrieving Values for Connectionless Transactionless Endpoints</A>
<DD>
<DT><A HREF="NetworkingWOT-489.html#HEADING489-12">Retrieving Values for Connectionless Transaction-Based Endpoints</A>
<DD>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-488.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-490.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
