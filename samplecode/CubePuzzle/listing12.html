<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>CubePuzzle - /ReadMe.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/GraphicsImaging/index.html">Graphics & Imaging</a> &gt; <a href="../../samplecode/GraphicsImaging/idxOpenGL-date.html">OpenGL</a> &gt; <A HREF="javascript:location.replace('index.html');">CubePuzzle</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">CubePuzzle</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/ReadMe.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/Cube.h</option>
<option value="listing2.html">/Cube.m</option>
<option value="listing3.html">/CubeController.h</option>
<option value="listing4.html">/CubeController.m</option>
<option value="listing5.html">/CubeGLView.h</option>
<option value="listing6.html">/CubeGLView.m</option>
<option value="listing7.html">/CubePuzzle_main.m</option>
<option value="listing8.html">/CubeRendering.m</option>
<option value="listing9.html">/CubeSolving.m</option>
<option value="listing10.html">/CubeWindowController.h</option>
<option value="listing11.html">/CubeWindowController.m</option>
<option value="listing12.html">/ReadMe.txt</option></select>
				</p>
				</form>
				<p><strong><a href="CubePuzzle.zip">Download Sample</a></strong> (&#147;CubePuzzle.zip&#148;, 48.2K)<BR>
<strong><a href="CubePuzzle.dmg">Download Sample</a></strong> (&#147;CubePuzzle.dmg&#148;, 97.3K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">ReadMe: CubePuzzle

This application models a Rubik's Cube(tm) using Cocoa and OpenGL.

Features:

+ Keyboard manipulation of each cube face and of each cube axis.
+ Mouse manipulation of the camera.
+ Undo/Redo support.
+ Built in cube solver.
+ Asynchronous animation via NSTimers.
+ Multiple windows can be opened to view the cube from different angles.

Details:

Keyboard manipulation of the cube is as follows:

l:  Rotate left face clockwise
L:  Rotate left face counter-clockwise
r:  Rotate right face clockwise
R:  Rotate right face counter-clockwise
f:  Rotate front face clockwise
F:  Rotate front face counter-clockwise
p:  Rotate posterior face clockwise
P:  Rotate posterior face counter-clockwise
t:  Rotate top face clockwise
T:  Rotate top face counter-clockwise
b:  Rotate bottom face clockwise
B:  Rotate bottom face counter-clockwise
x:  Rotate cube on it's x axis clockwise
X:  Rotate cube on it's x axis counter-clockwise
y:  Rotate cube on it's y axis clockwise
Y:  Rotate cube on it's y axis counter-clockwise
z:  Rotate cube on it's z axis clockwise
Z:  Rotate cube on it's Z axis counter-clockwise
s:  Solve the cube.

The cube can be rotated around via the mouse with a simple x,y mapping of
heading/pitch.   Sorry, no trackball  manipulation yet. ;)

The cube solver is based on the book &quot;The Simple Solution to Rubik's Cube(tm)&quot;
by James G. Nourse.  It's the same book I used to learn to solve the cube back
in 5th grade or so, and was pretty straightforward to implement.  Internally I
use a textual representation of the moves (which mirror those used in the book)
since it was very compact and makes the code easier to read.  Note that the
solution generated by the book is supposed to be easy to memorize.  It does not
generate anything even close to an optimal solution.   That being said, there is
a solution &quot;optimizer&quot; in the code that just tries to eliminate redundant moves
in a very simplistic way, mainly to make the solution animation look a little
less silly.

The current cube state is always updated immediately, while there is an
&quot;asynchronous&quot; state that works it's way towards the current cube state.   This
was done in order to simplify the undo/redo logic.  Originally all user input
and solution movies were queued up and there was only one cube state struct,
but this really made it hard to use the standard undo/redo stuff in Cocoa.

The Cube class is broken up into three categories.  The main class handles all
of the cube manipulation primitives and is where the undo/redo code is handled.
  The CubeRendering category implements all of the drawing code via OpenGL,
including the animation.   The CubeSolving category implements the solver
logic.

The cube is drawn using standard OpenGL immediate mode primitives.   This is
not the most efficient way it could be done, but it made the code simpler to
write as the cube's geometry is generated by code rather than from a static
model.   Implementing faster rendering is left as an exercise for the reader.

Other random notes:

There is one &quot;master&quot; OpenGL context created by the Controller object in order
to facilitate texture sharing.  Note that this context is never attached to a
drawable and has no rendering surface of it's own.

Contact Info:

If you have any questions about the code, you may contact me at
kdyke@apple.com.

-Ken
</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/CubePuzzle/listing12.html%3Fid%3DDTS10000521-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/CubePuzzle/listing12.html%3Fid%3DDTS10000521-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/CubePuzzle/listing12.html%3Fid%3DDTS10000521-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>