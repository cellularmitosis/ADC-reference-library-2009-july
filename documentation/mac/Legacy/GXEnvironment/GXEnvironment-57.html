<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>MyShapeSpooler(IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING57></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-56.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-58.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-15.html"><B>Chapter 1 - QuickDraw GX and the Macintosh Environment</B></A> / <A HREF="GXEnvironment-26.html"><B>QuickDraw GX and the Macintosh Environment Reference</B></A><BR><DL><DD><A HREF="GXEnvironment-53.html"><B>Application-Defined Functions</B></A> / <A HREF="GXEnvironment-56.html"><B>Handling Translated QuickDraw Data</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING57-0></A>
<H3><CODE><A NAME=MARKER-9-161></A>MyShapeSpooler</CODE></H3>
 <A NAME=MARKER-2-14></A>You can create a shape-spooling function that handles QuickDraw drawing commands that have been translated into QuickDraw GX shapes. The shape-spooling function must have a prototype of this form:<P>
<PRE>
OSErr MyShapeSpooler(gxShape toSpool, void *refCon);
</PRE>
<DL>
<DT><CODE>toSpool</CODE>
<DD> A reference to the shape just translated by the translator.
<DT><CODE>refCon</CODE>
<DD> A pointer to a reference constant, passed to your spool function by the translator, that you can use for any purpose.
<DT>
<DD>
<DT><I>function result<EM></EM></I>
<DD> An result code of type <CODE>OSErr<EM>. You should pass 0 if no error occurs.</EM></CODE>
</DL>
<A NAME=HEADING57-7></A>
<H5>DESCRIPTION</H5>
 When you install the QuickDraw-to-QuickDraw GX translator with the <CODE>GXInstallQDTranslator</CODE> function, the translator intercepts all subsequent QuickDraw drawing commands, converts them to QuickDraw GX shapes, and passes those shapes to this shape-spooling function. Your shape-spooling function can draw each shape, add it to a picture, or perform any other action you wish.<P>
 You install this function by providing a pointer to it when you call the <CODE>GXInstallQDTranslator</CODE> function. When you call <CODE>GXInstallQDTranslator</CODE>, you also provide the <CODE>refCon</CODE> value that will be passed to this filter function. The <CODE>refCon</CODE> value can be used for any purpose; for example, it might contain a view port reference for drawing, a pointer to a buffer for collecting spooled data, or anything else useful to the shape-spooling function.<P>
 After your application has finished intercepting and converting QuickDraw calls and passing them to this shape-spooling function, your application must remove the translator by calling the <CODE>GXRemoveQDTranslator</CODE> function.<P>
 If your shape-spooling function encounters an error during processing, it should return a nonzero value (usually the error code). If the shape-spooling function returns a nonzero value, the translator ceases translating QuickDraw commands. If an error occurs, your application must still call the <CODE>GXRemoveQDTranslator</CODE> function to remove the translator.<P>
<A NAME=HEADING57-12></A>
<H5>SEE ALSO</H5>
 The <CODE>GXInstallQDTranslator</CODE> function is described on <A HREF=GXEnvironment-51.html#MARKER-9-146>page 1-36</A>. The <CODE>GXRemoveQDTranslator</CODE> function is described on <A HREF=GXEnvironment-52.html#MARKER-9-150>page 1-39</A>.<P>
 For a general description of the QuickDraw-to-QuickDraw GX translator, see the section <A HREF=GXEnvironment-22.html#MARKER-9-57>"Using the QuickDraw-to-QuickDraw GX Translator" beginning on page 1-10</A>. <A NAME=MARKER-9-266></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-56.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-58.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
