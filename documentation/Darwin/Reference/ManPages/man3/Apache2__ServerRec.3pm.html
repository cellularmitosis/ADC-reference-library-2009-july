<html><head><title>Mac OS X
 Manual Page For Apache2::ServerRec(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/Apache2::ServerRec" title="Mac OS X
 Manual Page for Apache2::ServerRec(3pm)"><a name="//apple_ref/doc/man/3/Apache2::ServerRec" title="Mac OS X
 Manual Page for Apache2::ServerRec(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/Apache2::ServerRec"; name=Apache2::ServerRec(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
apache_mod_perl-101~38::mod_perl-2.0<b></b><b><u>mod_</u></b><b></b><b><u>prl-2.0</u></b>.2::docs::api::Apache2::ServerRec(3)



<b>NAME</b>
       Apache2::ServerRec - Perl API for Apache server record accessors

<b>Synopsis</b>
         use Apache2::ServerRec ();

         $error_fname = $s-&gt;error_fname();

         $is_virtual = $s-&gt;is_virtual();

         $keep_alive         = $s-&gt;keep_alive();
         $keep_alive_max     = $s-&gt;keep_alive_max();
         $keep_alive_timeout = $s-&gt;keep_alive_timeout();

         $limit_req_fields    = $s-&gt;limit_req_fields();
         $limit_req_fieldsize = $s-&gt;limit_req_fieldsize();
         $limit_req_line      = $s-&gt;limit_req_line();

         $path = $s-&gt;path();

         $hostname = $s-&gt;server_hostname();
         $port     = $s-&gt;port();

         $server_admin = $s-&gt;server_admin();

         $proc = $s-&gt;process();

         $timeout  = $s-&gt;timeout();
         $loglevel = $s-&gt;loglevel();

         my $server = Apache2::ServerUtil-&gt;server;
         my $vhosts = 0;
         for (my $s = $server-&gt;next; $s; $s = $s-&gt;next) {
             $vhosts++;
         }
         print "There are $vhosts virtual hosts";

<b>Description</b>
       "Apache2::ServerRec" provides the Perl API for Apache server_rec object.

       "Apache2::ServerUtil" provides an extra functionality.

<b>API</b>
       "Apache2::ServerRec" provides the following functions and/or methods:

       <b>"error_fname"</b>

       Get/set the "ErrorLog" file value (e.g. <u>logs/error</u><b>_</b><u>log</u>)

         $error_fname      = $s-&gt;error_fname();
         $prev_error_fname = $s-&gt;error_fname($new_error_fname);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_error_fname ( string )
           If passed, sets the new value for "ErrorLog"

           Note the limited functionality under threaded MPMs.

       ret: $error_fname ( string )
           Returns the "ErrorLog" value setting.

           If $new_error_fname is passed returns the setting before the change.

       since: 2.0.00

       <b>"is_virtual"</b>

       Test whether $s is a virtual host object

         $is_virtual = $s-&gt;is_virtual();

       obj: $s ( "Apache2::ServerRec object" )
       ret: $is_virtual ( boolean )
           Returns the is_virtual setting.

           If $new_is_virtual is passed, returns the setting before the change.

       since: 2.0.00

       Example:

         print "This is a virtual host" if $s-&gt;is_virtual();

       <b>"keep_alive"</b>

       Get/set the "KeepAlive" setting, which specifies whether Apache should accept more than one request
       over the same connection from the same client.

         $keep_alive      = $s-&gt;keep_alive();
         $prev_keep_alive = $s-&gt;keep_alive($new_keep_alive);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_keep_alive ( boolean )
           If passed, sets the new keep_alive.

           Note the limited functionality under threaded MPMs.

       ret: $keep_alive ( boolean )
           Returns the "KeepAlive" setting.

           If $new_keep_alive is passed, returns the setting before the change.

       since: 2.0.00

       <b>"keep_alive_max"</b>

       Get/set the "MaxKeepAliveRequest" setting, which specifies the maximum number of requests Apache will
       serve over a "KeepAlive" connection.

         $keep_alive_max      = $s-&gt;keep_alive_max();
         $prev_keep_alive_max = $s-&gt;keep_alive_max($new_keep_alive_max);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_keep_alive_max ( integer )
           If passed, sets the new keep_alive_max.

           Note the limited functionality under threaded MPMs.

       ret: $keep_alive_max ( integer )
           Returns the keep_alive_max setting.

           If $new_keep_alive_max is passed, returns the setting before the change.

       since: 2.0.00

       <b>"keep_alive_timeout"</b>

       Get/set the "KeepAliveTimeout" setting (in microsecs), which specifies how long Apache will wait for
       another request before breaking a "KeepAlive" connection.

         $keep_alive_timeout      = $s-&gt;keep_alive_timeout();
         $prev_keep_alive_timeout = $s-&gt;keep_alive_timeout($new_timeout);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_keep_alive_timeout ( integer )
           The expected value is in microsecs.

           If passed, sets the new "KeepAlive" timeout.

           Note the limited functionality under threaded MPMs.

       ret: $keep_alive_timeout ( integer )
           Returns the "KeepAlive" timeout value (in microsecs).

           If $new_timeout is passed, returns the setting before the change.

       since: 2.0.00

       <b>"limit_req_fields"</b>

       Get/set limit on number of request header fields

         $limit_req_fields      = $s-&gt;limit_req_fields();
         $prev_limit_req_fields = $s-&gt;limit_req_fields($new_limit_req_fields);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_limit_req_fields ( integer )
           If passed, sets the new request headers number limit.

           Note the limited functionality under threaded MPMs.

       ret: $limit_req_fields ( integer )
           Returns the request headers number limit.

           If $new_limit_req_fields is passed, returns the setting before the change.

       since: 2.0.00

       <b>"limit_req_fieldsize"</b>

       Get/set limit on size of any request header field

         $limit_req_fieldsize = $s-&gt;limit_req_fieldsize();
         $prev_limit          = $s-&gt;limit_req_fieldsize($new_limit);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_limit_req_fieldsize ( integer )
           If passed, sets the new request header size limit.

           Note the limited functionality under threaded MPMs.

       ret: $limit_req_fieldsize ( integer )
           Returns the request header size limit.

           If $new_limit is passed, returns the setting before the change.

       since: 2.0.00

       <b>"limit_req_line"</b>

       Get/set limit on size of the HTTP request line

         $limit_req_line      = $s-&gt;limit_req_line();
         $prev_limit_req_line = $s-&gt;limit_req_line($new_limit_req_line);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_limit_req_line ( integer )
           If passed, sets the new request line limit value.

           Note the limited functionality under threaded MPMs.

       ret: $limit_req_line ( integer )
           Returns the request line limit value

           If $new_limit_req_line is passed, returns the setting before the change.

       since: 2.0.00

       <b>"loglevel"</b>

       Get/set the "LogLevel" directive value

         $loglevel      = $s-&gt;loglevel();
         $prev_loglevel = $s-&gt;loglevel($new_loglevel);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_loglevel ( "Apache2::Const :log constant" )
           If passed, sets a new "LogLevel" value

           Note the limited functionality under threaded MPMs.

       ret: $loglevel ( "Apache2::Const :log constant" )
           Returns the "LogLevel" value as a constant.

           If $new_loglevel is passed, returns the setting before the change.

       since: 2.0.00

       For example, to set the "LogLevel" value to "info":

         use Apache2::Const -compile =&gt; qw(LOG_INFO);
         $s-&gt;loglevel(Apache2::Const::LOG_INFO);

       <b>"next"</b>

       The next server record in the list (if there are vhosts)

         $s_next = $s-&gt;next();

       obj: $s ( "Apache2::ServerRec object" )
       ret: $s_next ( "Apache2::ServerRec object" )
       since: 2.0.00

       For example the following code traverses all the servers, starting from the base server and
       continuing to vhost servers, counting all available vhosts:

         use Apache2::ServerRec ();
         use Apache2::ServerUtil ();
         my $server = Apache2::ServerUtil-&gt;server;
         my $vhosts = 0;
         for (my $s = $server-&gt;next; $s; $s = $s-&gt;next) {
             $vhosts++;
         }
         print "There are $vhosts virtual hosts";

       <b>"path"</b>

       Get/set pathname for the "ServerPath" setting

         $path      = $s-&gt;path();
         $prev_path = $s-&gt;path($new_path);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_path ( string )
           If passed, sets the new path.

           Note the limited functionality under threaded MPMs.

       ret: $path ( string )
           Returns the path setting.

           If $new_path is passed, returns the setting before the change.

       since: 2.0.00

       <b>"port"</b>

       Get/set the port value

         $port      = $s-&gt;port();
         $prev_port = $s-&gt;port($new_port);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_port ( integer )
           If passed, sets the new port.

           Note the limited functionality under threaded MPMs.

           META: I don't think one should be allowed to change port number after the server has started.

       ret: $port ( integer )
           Returns the port setting.

           If $new_port is passed returns the setting before the change.

       since: 2.0.00

       <b>"process"</b>

       The process this server is running in

         $proc = $s-&gt;process();

       obj: $s ( "Apache2::ServerRec object" )
       ret: $proc ( "Apache2::Process object" )
       since: 2.0.00

       <b>"server_admin"</b>

       Get/set the "ServerAdmin" value

         $server_admin      = $s-&gt;server_admin();
         $prev_server_admin = $s-&gt;server_admin($new_server_admin);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_server_admin ( string )
           If passed, sets the new "ServerAdmin" value.

           Note the limited functionality under threaded MPMs.

       ret: $server_admin ( string )
           Returns the "ServerAdmin" value.

           If $new_server_admin is passed, returns the setting before the change.

       since: 2.0.00

       <b>"server_hostname"</b>

       Get/set the "ServerName" value

         $server_hostname      = $s-&gt;server_hostname();
         $prev_server_hostname = $s-&gt;server_hostname($new_server_hostname);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_server_hostname ( string )
           If passed, sets the "ServerName" value

           Note the limited functionality under threaded MPMs.

       ret: $server_hostname ( string )
           Returns the "ServerName" value

           If $new_server_hostname is passed, returns the setting before the change.

       since: 2.0.00

       <b>"timeout"</b>

       Get/set the timeout ("TimeOut") (in microsecs), which Apache will wait for before it gives up doing
       something

         $timeout      = $s-&gt;timeout();
         $prev_timeout = $s-&gt;timeout($new_timeout);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_timeout ( integer )
           If passed, sets the new timeout (the value should be in microseconds).

           Note the limited functionality under threaded MPMs.

       ret: $timeout ( integer )
           Returns the timeout setting in microseconds.

           If $new_timeout is passed, returns the setting before the change.

       since: 2.0.00

       Let us repeat again: the timeout values is microseconds. For example to set the timeout to 20 secs:

         $s-&gt;timeout(20_000_000);

<b>Notes</b>
       <b>Limited</b> <b>Functionality</b> <b>under</b> <b>Threaded</b> <b>MPMs</b>

       Note that under threaded MPMs, some of the read/write accessors, will be able to set values only
       before threads are spawned (i.e. before the "ChildInit phase").  Therefore if you are developing your
       application on the non-threaded MPM, but planning to have it run under threaded mpm, you should not
       use those methods to set values after the ChildInit phase.

       The affected accessor methods are marked as such in their respective documentation entries.

<b>Unsupported</b> <b>API</b>
       "Apache2::ServerRec" also provides auto-generated Perl interface for a few other methods which aren't
       tested at the moment and therefore their API is a subject to change. These methods will be finalized
       later as a need arises. If you want to rely on any of the following methods please contact the the
       mod_perl development mailing list so we can help each other take the steps necessary to shift the
       method to an officially supported API.

       <b>"addrs"</b>

       Get the addrs value

         $addrs = $s-&gt;addrs();

       obj: $s ( "Apache2::ServerRec object" )
       ret: $addrs ( "Apache2::ServerAddr" )
           Returns the addrs setting.

       since: subject to change

       META: this methods returns a vhost-specific Apache2::ServerAddr object, which is not implemented at
       the moment. See the struct server_addr_rec entry in httpd-2.0/include/httpd.h for more information.
       It seems that most (all?) of the information in that record is available through other APIs.

       <b>"lookup_defaults"</b>

       Get the lookup_defaults value.  MIME type info, etc., before we start checking per-directory info.

         $lookup_defaults = $s-&gt;lookup_defaults();

       obj: $s ( "Apache2::ServerRec object" )
       ret: $lookup_defaults ( "Apache2::ConfVector" )
           Returns the lookup_defaults setting.

       since: subject to change

       <b>"module_config"</b>

       Get config vector containing pointers to modules' per-server config structures.

         $module_config = $s-&gt;module_config();

       obj: $s ( "Apache2::ServerRec object" )
       ret: $module_config ( "Apache2::ConfVector" )
           Returns the module_config setting.

       since: subject to change

       <b>"names"</b>

       Get/set the <!-- a -->value(s)<!-- /a --> for the "ServerAlias" setting

         $names      = $s-&gt;names();
         $prev_names = $s-&gt;names($new_names);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_names ( "APR::ArrayHeader" )
           If passed, sets the new names.

           Note the limited functionality under threaded MPMs.

       ret: $names ( "APR::ArrayHeader" )
           Returns the names setting.

           If $new_names is passed, returns the setting before the change.

       since: 2.0.00

       META: we don't have "APR::ArrayHeader" yet

       <b>"wild_names"</b>

       Wildcarded names for ServerAlias servers

         $wild_names      = $s-&gt;wild_names();
         $prev_wild_names = $s-&gt;wild_names($new_wild_names);

       obj: $s ( "Apache2::ServerRec object" )
       opt arg1: $new_wild_names ( "APR::ArrayHeader" )
           If passed, sets the new wild_names.

           Note the limited functionality under threaded MPMs.

       ret: $wild_names ( "APR::ArrayHeader" )
           Returns the wild_names setting.

           If $new_wild_names is passed, returns the setting before the change.

       since: 2.0.00

       META: we don't have "APR::ArrayHeader" yet

<b>See</b> <b>Also</b>
       mod_perl 2.0 documentation.

<b>Copyright</b>
       mod_perl 2.0 and its core modules are copyrighted under The Apache Software License, Version 2.0.

<b>Authors</b>
       The mod_perl development team and numerous contributors.



perl v5.8.8                         <!-- a -->apache_mod_pe<b>1</b>:mod_perl-2.0.2::docs::api::Apache2::ServerRec(3)<!-- /a -->
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Apache2__ServerRec.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Apache2__ServerRec.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Apache2__ServerRec.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
