<HTML>		<HEAD>		<TITLE>			EOQualifier		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a><a name = "BBIDFIHI"></a><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/java/cl/EOQualifier">EOQualifier</a></FONT></h1><br><blockquote><dl><dt><b>Inherits from: </b></dt><dd> (com.apple.client.eocontrol) Object<br>(com.apple.yellow.eocontrol) NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Package: </b></dt><dd>com.apple.client.eocontrol</dd><dd>com.apple.yellow.eocontrol</dd></dl></blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>EOQualifier is an abstract class for objects that hold informationused to restrict selections on objects or database rows accordingto specified criteria. With the exception of EOSQLQualifier (EOAccess), qualifiersaren't based on SQL and they don't rely upon an EOModel (EOAccess).Thus, the same qualifier can be used both to perform in-memory searchesand to fetch from the database. </p><p>You never instantiate an instance of EOQualifier. Rather,you use one of its subclasses-one of the following or your owncustom EOQualifier subclass:</p><br><table border = "1"><tr><td scope="row"><b>Subclass</b></td><td><b>Purpose</b></td></tr><tr><td scope="row"> <a href="EOKeyValueQualifier.html#KeyValueQualifier">EOKeyValueQualifier</a></td><td>Compares the named property of an object to a supplied value,for example, "weight &gt; 150". </td></tr><tr><td scope="row"> <a href="EOKeyComparisonQualifier.html#KeyComparisonQualifier">EOKeyComparisonQualifier</a></td><td>Compares the named property of one object with the namedproperty of another, for example "name = wife.name".</td></tr><tr><td scope="row"> <a href="EOAndQualifier.html#AndQualifier">EOAndQualifier</a> </td><td>Contains multiple qualifiers, which it conjoins. For example,"name = 'Fred' AND age &lt; 20".</td></tr><tr><td scope="row"> <a href="EOOrQualifier.html#EOOrQualifier">EOOrQualifier</a></td><td>Contains multiple qualifiers, which it disjoins. For example,"name = 'Fred' OR name = 'Ethel'".</td></tr><tr><td scope="row"> <a href="EONotQualifier.html#EONotQualifier">EONotQualifier</a></td><td>Contains a single qualifier, which it negates. For example, "NOT(name = 'Fred')".</td></tr><tr><td scope="row">EOSQLQualifier</td><td>Contains unstructured text that can be transformed intoa SQL expression. EOSQLQualifier provides a way to create SQL expressionswith any arbitrary SQL. Because EOSQLQualifiers can't be evaluatedagainst objects in memory and because they contain database and SQL-specificcontent, you should use EOQualifier wherever possible.</td></tr></table><br><p>The interface EOQualifierEvaluation defines how qualifiersare evaluated in memory. To evaluate qualifiers in a database, methodsin EOSQLExpression (EOAccess) and EOEntity (EOAccess) are used togenerate SQL for qualifiers. Note that all of the SQL generationfunctionality is contained in the access layer.</p><p>For more information on using EOQualifiers, see the sections</p><ul><li> <a href="More/EOQualifier.html#BCCBFIFH">"Creating a Qualifier"</a></li><li> <a href="More/EOQualifier.html#BBICFCJF">"Constructing Format Strings"</a></li><li> <a href="More/EOQualifier.html#BCCDHDCI">"Checking for NULL Values"</a></li><li> <a href="More/EOQualifier.html#BBIBIBAB">"Using Wildcards and the like Operator"</a></li><li> <a href="More/EOQualifier.html#BCCDDGCJ">"Using Selectors in Qualifier Expressions"</a></li><li> <a href="More/EOQualifier.html#BCCBHHGC">"Using EOQualifier's Subclasses"</a></li><li> <a href="More/EOQualifier.html#BCCDDGCH">"Creating Subclasses"</a></li></ul><br><br><br><h2>Constants</h2><hr><p>EOQualifier defines the following NSSelector constants torepresent the qualifier operators:</p><br><table border = "1"><tr><td scope="row"><a name = "BBIBDHCA"></a><tt>QualifierOperatorEqual</tt></td><td><a name = "BBIDJEGE"></a><tt>QualifierOperatorGreaterThanOrEqualTo</tt></td></tr><tr><td scope="row"><a name = "BBICBFCH"></a><tt>QualifierOperatorNotEqual</tt></td><td><a name = "BBIDFJGF"></a><tt>QualifierOperatorContains</tt></td></tr><tr><td scope="row"><a name = "BBICEDDI"></a><tt>QualifierOperatorLessThan</tt></td><td><a name = "BBICCEAA"></a><tt>QualifierOperatorLike</tt></td></tr><tr><td scope="row"><a name = "BBICDDBJ"></a><tt>QualifierOperatorGreaterThan</tt></td><td><a name = "BBICJCBE"></a><tt>QualifierOperatorCaseInsensitiveLike</tt></td></tr><tr><td scope="row"><a name = "BBIDDGEB"></a><tt>QualifierOperatorLessThanOrEqualTo</tt></td><td>&nbsp;</td></tr></table><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creating a qualifier</dt><dd> <a href="#//apple_ref/java/clm/EOQualifier/qualifierWithQualifierFormat">qualifierWithQualifierFormat</a> (com.apple.yellow.eocontrol only)</dd><dd> <a href="#//apple_ref/java/clm/EOQualifier/qualifierToMatchAllValues">qualifierToMatchAllValues</a></dd><dd> <a href="#//apple_ref/java/clm/EOQualifier/qualifierToMatchAnyValue">qualifierToMatchAnyValue</a></dd><dd> <a href="#//apple_ref/java/instm/EOQualifier/qualifierWithBindings">qualifierWithBindings</a></dd></dl><dl><dt>In-memory filtering</dt><dd> <a href="#//apple_ref/java/clm/EOQualifier/filterArrayWithQualifier">filterArrayWithQualifier</a></dd><dd> <a href="#//apple_ref/java/clm/EOQualifier/filteredArrayWithQualifier">filteredArrayWithQualifier</a></dd><dd> <a href="#//apple_ref/java/instm/EOQualifier/evaluateWithObject">evaluateWithObject</a></dd></dl><dl><dt>Converting strings andoperators</dt><dd> <a href="#//apple_ref/java/clm/EOQualifier/operatorSelectorForString">operatorSelectorForString</a></dd><dd> <a href="#//apple_ref/java/clm/EOQualifier/stringForOperatorSelector">stringForOperatorSelector</a></dd></dl><dl><dt>Get EOQualifier operators</dt><dd> <a href="#//apple_ref/java/clm/EOQualifier/allQualifierOperators">allQualifierOperators</a></dd><dd> <a href="#//apple_ref/java/clm/EOQualifier/relationalQualifierOperators">relationalQualifierOperators</a></dd></dl><dl><dt>Accessing a qualifierskeys</dt><dd> <a href="#//apple_ref/java/instm/EOQualifier/allQualifierKeys">allQualifierKeys</a></dd><dd> <a href="#//apple_ref/java/instm/EOQualifier/addQualifierKeysToSet:">addQualifierKeysToSet:</a></dd></dl><dl><dt>Accessing a qualifier'sbinding keys</dt><dd> <a href="#//apple_ref/java/instm/EOQualifier/bindingKeys">bindingKeys</a></dd><dd> <a href="#//apple_ref/java/instm/EOQualifier/keyPathForBindingKey">keyPathForBindingKey</a></dd></dl><dl><dt>Validating a qualifier'skeys</dt><dd> <a href="#//apple_ref/java/instm/EOQualifier/validateKeysWithRootClassDescription">validateKeysWithRootClassDescription</a></dd></dl></blockquote><br><br><h2>Static Methods</h2><hr><a name = "BFCCIIHI"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/allQualifierOperators">allQualifierOperators</a></h3><p><code>public static NSArray <code>allQualifierOperators</code>()</code></p>Returns an NSArray containing all of the operatorssupported by EOQualifier: =, !=, &lt;, &lt;=, &gt;, &gt;=, "like", and"caseInsensitiveLike".<p><b>See Also: </b>  <a href="#//apple_ref/java/clm/EOQualifier/relationalQualifierOperators">relationalQualifierOperators</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCBGFAG"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/filterArrayWithQualifier">filterArrayWithQualifier</a></h3><p><code>public static void <code>filterArrayWithQualifier</code>(NSMutableArray <em>objects,</em> EOQualifier <em>aQualifier</em>)</code></p>Filters <em>objects</em>  inplace so that it contains only objects matching <em>aQualifier.</em> <hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCDDBGB"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/filteredArrayWithQualifier">filteredArrayWithQualifier</a></h3><p><code>public static NSArray <code>filteredArrayWithQualifier</code>(NSArray <em>objects,</em> EOQualifier <em>aQualifier</em>)</code></p>Returns a new array that contains only the objectsfrom <em>objects</em>  matching <em>aQualifier.</em> <hr WIDTH="25%" ALIGN="LEFT"><a name = "operatorSelectorForString_"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/operatorSelectorForString">operatorSelectorForString</a></h3><p><code>public static NSSelector <code>operatorSelectorForString</code>(String <em>aString</em>)</code></p>Returns an operator selector based on the string <em>aString.</em> This method is used in parsing a qualifier. For example, the followingstatement returns the selector QualifierOperatorNotEqual<code></code>.<blockquote><pre>Selector selector = Qualifier.operatorSelectorForString("!=");</pre></blockquote><br><p>Thepossible values of <em>aString</em>  are  =,==, !=, &lt;, &gt;, &lt;=, &gt;=, "like", and "caseInsensitiveLike".</p><p>You'dprobably only use this method if you were writing your own qualifierparser.</p><p><b>See Also: </b>  <a href="#//apple_ref/java/clm/EOQualifier/stringForOperatorSelector">stringForOperatorSelector</a> </p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCBEABA"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/qualifierToMatchAllValues">qualifierToMatchAllValues</a></h3><p><code>public static EOQualifier <code>qualifierToMatchAllValues</code>(NSDictionary <em>dictionary</em>)</code></p>Takes a dictionary of search criteria, fromwhich the method creates EOKeyValueQualifiers (one for each dictionaryentry). The method ANDs these qualifiers together, and returns theresulting EOAndQualifier.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCDHHJF"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/qualifierToMatchAnyValue">qualifierToMatchAnyValue</a></h3><p><code>public static EOQualifier <code>qualifierToMatchAnyValue</code>(NSDictionary <em>dictionary</em>)</code></p>Takes a dictionary of search criteria, fromwhich the method creates EOKeyValueQualifiers (one for each dictionaryentry). The method ORs these qualifiers together, and returns theresulting EOOrQualifier.<hr WIDTH="25%" ALIGN="LEFT"><a name = "qualifierWithQualifierFormat_"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/qualifierWithQualifierFormat">qualifierWithQualifierFormat</a></h3><p><code>public static EOQualifier <code>qualifierWithQualifierFormat</code>(String <em>qualifierFormat,</em> NSArray <em>arguments</em>)</code></p>(com.apple.yellow.eocontrol only) Parses theformat string <em>qualifierFormat</em>  andthe specified arguments, uses them to create an EOQualifier, andreturns the EOQualifier. Conversion specifications (occurrencesof %@) in qualifierFormat are replaced using the value objects inarguments.<p>Based on the content of <em>qualifierFormat,</em> this method generates a tree of the basic qualifier types. For example,the format string "firstName = 'Joe' AND department = 'Facilities'"generates an EOAndQualifier that contains two "sub" EOKeyValueQualifiers.The following code excerpt shows a typical way to use the <code>qualifierWithQualifierFormat</code> method.The excerpt constructs an EOFetchSpecification, which includes anentity name and a qualifier. It then applies the EOFetchSpecificationto the EODisplayGroup's data source and tells the EODisplayGroupto fetch.</p><blockquote><pre>EODisplayGroup displayGroup;     /* Assume this exists.*/EOQualifier qualifier;EOFetchSpecification fetchSpec;EODatabaseDataSource dataSource;dataSource = (EODatabaseDataSource)displayGroup.dataSource();qualifier =    EOQualifier.qualifierWithQualifierFormat("cardType = 'Visa'", null);fetchSpec = new EOFetchSpecification("Member", qualifier, null), null);dataSource.setFetchSpecification(fetchSpec);displayGroup.fetch();</pre></blockquote><br><p><code>qualifierWithQualifierFormat</code> performsno verification to ensure that keys referred to by the format string <em>qualifierFormat</em>  exist.It throws an exception if <em>qualifierFormat</em>  containsany syntax errors.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCEADAB"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/relationalQualifierOperators">relationalQualifierOperators</a></h3><p><code>public static NSArray <code>relationalQualifierOperators</code>()</code></p>Returns an NSArray containing all of the relationaloperators supported by EOQualifier: =, !=, &lt;, &lt;=, &gt;, and&gt;=. In other words, returns all of the EOQualifier operatorsexcept for the ones that work exclusively on strings: "like"and "caseInsensitiveLike".<p><b>See Also: </b>  <a href="#//apple_ref/java/clm/EOQualifier/allQualifierOperators">allQualifierOperators</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "stringForOperatorSelector_"></a><BR><h3><a name="//apple_ref/java/clm/EOQualifier/stringForOperatorSelector">stringForOperatorSelector</a></h3><p><code>public static String <code>stringForOperatorSelector</code>(NSSelector <em>aSelector</em>)</code></p>Returns a string representation of the selector <em>aSelector.</em> For example, the following statement returns the string "!=":<blockquote><pre>String operator =    EOQualifier.stringForOperatorSelector(EOQualifier.QualifierOperatorNotEqual);</pre></blockquote><br><p>Thepossible values for <em>selector</em>  areas follows:</p><ul><li> <a href="#BBIBDHCA">QualifierOperatorEqual</a></li><li> <a href="#BBICBFCH">QualifierOperatorNotEqual</a></li><li> <a href="#BBICEDDI">QualifierOperatorLessThan</a></li><li> <a href="#BBICDDBJ">QualifierOperatorGreaterThan</a></li><li> <a href="#BBIDDGEB">QualifierOperatorLessThanOrEqualTo</a></li><li> <a href="#BBIDJEGE">QualifierOperatorGreaterThanOrEqualTo</a></li><li> <a href="#BBIDFJGF">QualifierOperatorContains</a></li><li> <a href="#BBICCEAA">QualifierOperatorLike</a></li><li> <a href="#BBICJCBE">QualifierOperatorCaseInsensitiveLike</a></li></ul><p>You'dprobably use this method only if you were writing your own parser.</p><p><b>SeeAlso: </b>  <a href="#//apple_ref/java/clm/EOQualifier/operatorSelectorForString">operatorSelectorForString</a> </p><hr WIDTH="25%" ALIGN="LEFT"><BR><BR><h2>Instance Methods</h2><hr><a name = "BCCBCJDB"></a><BR><h3><a name="//apple_ref/java/instm/EOQualifier/addQualifierKeysToSet:">addQualifierKeysToSet:</a></h3><p><code>public void <code>addQualifierKeysToSet</code>(NSMutableSet <em>qualKeys</em>)</code></p>Adds the receiver's qualifier keys to <em>qualKeys.</em> The subclasses in the EOControl framework do this by traversingthe tree of qualifiers. Node qualifiers (such as EOAndQualifier)recursively invoke this method until they reach a leaf qualifier(such as EOKeyValueQualifier) which adds its key to the set. <p>Subclassesof EOQualifier must implement this method.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BCCBCIEG"></a><BR><h3><a name="//apple_ref/java/instm/EOQualifier/allQualifierKeys">allQualifierKeys</a></h3><p><code>public NSSet <code>allQualifierKeys</code>()</code></p>Returns an NSSet of strings, which are the left-handsides of all the qualifiers in the receiver. For example, if youhave a qualifier<p> salary &gt; 10000 AND manager.lastName ='smith'</p><p><code>allQualifierKeys</code> returnsan array containing the strings "salary" and "manager.lastName".</p><p>Subclassesshould not override this method, instead they should override  <a href="#//apple_ref/java/instm/EOQualifier/addQualifierKeysToSet:">addQualifierKeysToSet:</a>.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCBHGIH"></a><BR><h3><a name="//apple_ref/java/instm/EOQualifier/bindingKeys">bindingKeys</a></h3><p><code>NSArray <code>bindingKeys</code>()</code></p>Returns an array of strings which are the namesof the known variables. Multiple occurrences of the same variablewill only appear once in this list.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BCCDCHEC"></a><BR><h3><a name="//apple_ref/java/instm/EOQualifier/evaluateWithObject">evaluateWithObject</a></h3><p><code>(com.apple.client.eocontrol) public boolean <code>evaluateWithObject</code>(EOKeyValueCodingAdditions <em>object</em>)</code></p><p><code>(com.apple.yellow.eocontrol) public boolean <code>evaluateWithObject</code>(Object <em>object</em>)</code></p>Implemented by subclasses to return <code>YES</code> if <em>object</em>  matchesthe criteria specified in the receiver, <code>NO</code> otherwise.The argument, object, should be an enterprise object, a snapshotdictionary, or something that implements key-value coding.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCCAAHE"></a><BR><h3><a name="//apple_ref/java/instm/EOQualifier/keyPathForBindingKey">keyPathForBindingKey</a></h3><p><code>public String <code>keyPathForBindingKey</code>(String <em>key</em>)</code></p>Returns a string which is the "left-hand-side"of the variable in the qualifier. e.g. If you have a qualifier "salary&gt; $amount and manager.lastName = $manager", then calling bindingKeyswould return the array ("amount", "manager"). Calling <code>keyPathForBindingKey</code> wouldreturn salary for amount, and manager.lastname for manager.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BFCEAGDH"></a><BR><h3><a name="//apple_ref/java/instm/EOQualifier/qualifierWithBindings">qualifierWithBindings</a></h3><p><code>public abstract EOQualifier <code>qualifierWithBindings</code>(NSDictionary <em>bindings,</em> boolean <em>requiresAll</em>)</code></p>Returns a new qualifier substituting all variableswith values found in <em>bindings.</em>  If <em>requiresAll</em>  is true, anyvariable not found in <em>bindings</em>  throwsan exception. If <em>requiresAll</em>  is false,missing variable values cause the qualifier node to be pruned fromthe tree.<hr WIDTH="25%" ALIGN="LEFT"><a name = "validateKeysWithRootClassDescription_"></a><BR><h3><a name="//apple_ref/java/instm/EOQualifier/validateKeysWithRootClassDescription">validateKeysWithRootClassDescription</a></h3><p><code>(com.apple.client.eocontrol) public abstract void<code>validateKeysWithRootClassDescription</code>(EOClassDescription <em>classDesc</em>)</code></p>Ensures that the receiver contains keys andkey paths that belong to or originate from <em>classDesc.</em> This method raises an exception if an unknown key is found, otherwiseit returns <code>null</code> to indicatethat the keys contained by the qualifier are valid.<p><code>(com.apple.yellow.eocontrol) public abstract Throwable <code>validateKeysWithRootClassDescription</code>(EOClassDescription <em>classDesc</em>)</code></p>Ensures that the receiver contains keys andkey paths that belong to or originate from <em>classDesc.</em> This method returns an exception if an unknown key is found, otherwiseit returns <code>null</code> to indicatethat the keys contained by the qualifier are valid.<hr WIDTH="25%" ALIGN="LEFT"><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a></BODY></HTML>