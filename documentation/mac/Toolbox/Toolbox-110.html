<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Menu List(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING110></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-109.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-111.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-89.html"><B>Chapter 3 - Menu Manager</B></A> / <A HREF="Toolbox-107.html"><B>Menu Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-108.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING110-0></A>
<H3>The Menu List</H3>
 The menu list contains information about the menus in a menu bar, about submenus, and about pop-up menus. A menu list contains handles to the menu records of zero, <BR>one, or more menus and contains other information that the Menu Manager uses to manage menus. <A NAME=MARKER-2-469></A> <P>
 The <CODE>InitMenus</CODE> procedure creates the current menu list of an application. The current menu list contains handles to the menu records of all menus currently in the menu bar and handles to the menu records of any submenus or pop-up menus inserted into the menu list by your application. The menu bar shows the titles, in order, of all menus (other than submenus or pop-up menus) in the menu list.<P>
 The initial menu list created by <CODE>InitMenus</CODE> does not contain handles to any menus. The Menu Manager dynamically allocates storage in a menu list as menus are added to and deleted from the menu list.<P>
 Your application should not directly change or access the information in a menu list. You should use Menu Manager routines to create a menu list and to add menus to or remove menus from the current menu list.<P>
 You typically define your application's menu bar in an <CODE>'MBAR'</CODE> resource and create a menu list using the <CODE>GetNewMBar</CODE> function. The <CODE>GetNewMBar</CODE> function returns a handle to a menu list. You can set the current menu list to the menu list returned by <CODE>GetNewMBar</CODE> using the <CODE>SetMenuBar</CODE> procedure.<P>
 The structure of the menu list is private to the Menu Manager. For conceptual purposes, however, its general structure is defined here. <P>
<PRE>
TYPE  DynamicMenuList = 
      RECORD
         lastMenu:   Integer;    {offset to last pull-down menu}
         lastRight:  Integer;    {pixel location of right edge }
                                 { of rightmost menu in menu bar}
         mbResID:    Integer;    {upper 13 bits are the resource ID of menu }
                                 { bar defn function, low 3 bits the variant}
         menu:       ARRAY[1..X] {variable array with one record for }
                     OF MenuRec; { each menu}
         lastHMenu:  Integer;    {offset to last submenu or pop-up menu}
         menuTitleSave:          {handle to bits behind inverted menu title}
                     pixMapHandle;                
         hMenu:      ARRAY[1..Y] {variable array with one record for }
                     OF HMenuRec;{ each submenu or pop-up menu}
      END;
</PRE>
 The Menu Manager dynamically allocates the records that contain handles to the menu records of menus in the menu bar, submenus, and pop-up menus. These records can be defined conceptually as the <CODE>MenuRec</CODE> and <CODE>HMenuRec</CODE> data types. The Menu Manager uses a data structure similar to that of the <CODE>MenuRec</CODE> data type to store information about pull-down menus in the menu list.<P>
<PRE>
TYPE  MenuRec = 
      RECORD
         menuOH:     MenuHandle; {handle to menu's menu record}
         menuLeft:   Integer;    {pixel location of left edge }
                                 { of this menu}
      END;
</PRE>
 The Menu Manager stores information about submenus and pop-up menus at the end of a menu list in a data structure similar to that of the <CODE>HMenuRec</CODE> data type.<P>
<PRE>
TYPE  HMenuRec = 
      RECORD
         menuHOH:    MenuHandle; {handle to menu's menu record}
         reserved:   Integer;    {reserved}
      END;  
</PRE>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-109.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-111.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
