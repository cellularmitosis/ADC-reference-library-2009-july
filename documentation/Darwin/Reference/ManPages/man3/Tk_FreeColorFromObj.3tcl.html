<html><head><title>Mac OS X
 Manual Page For Tk_FreeColorFromObj(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tk_FreeColorFromObj" title="Mac OS X
 Manual Page for Tk_FreeColorFromObj(3tcl)"><a name="//apple_ref/doc/man/3/Tk_FreeColorFromObj" title="Mac OS X
 Manual Page for Tk_FreeColorFromObj(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tk_FreeColorFromObj"; name=Tk_FreeColorFromObj(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tk_AllocColorFromObj(3)                     Tk Library Procedures                    <a href="Tk_AllocColorFromObj.3tcl.html#//apple_ref/doc/man/3/Tk_AllocColorFromObj">Tk_AllocColorFromObj(3)</a>



____________________________________________________________________________________________________________

<b>NAME</b>
       Tk_AllocColorFromObj,  Tk_GetColor,  Tk_GetColorFromObj, Tk_GetColorByValue, Tk_NameOfColor, Tk_Free-<font color="#ffffff" class="whiteout">ColorFromObj,&nbsp;Tk_FreeColorFromObj,</font>
       ColorFromObj, Tk_FreeColor - maintain database of colors

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       XColor *                                                                                              |
       <b>Tk_AllocColorFromObj(</b><u>interp,</u> <u>tkwin,</u> <u>objPtr</u><b>)</b>                                                           |

       XColor *                                                                                              |
       <b>Tk_GetColor(</b><u>interp,</u> <u>tkwin,</u> <u>name</u><b>)</b>                                                                      |

       XColor *                                                                                              |
       <b>Tk_GetColorFromObj(</b><u>tkwin,</u> <u>objPtr</u><b>)</b>                                                                     |

       XColor *
       <b>Tk_GetColorByValue(</b><u>tkwin,</u> <u>prefPtr</u><b>)</b>

       CONST char *
       <b>Tk_NameOfColor(</b><u>colorPtr</u><b>)</b>

       GC
       <b>Tk_GCForColor(</b><u>colorPtr,</u> <u>drawable</u><b>)</b>

       <b>Tk_FreeColorFromObj(</b><u>tkwin,</u> <u>objPtr</u><b>)</b>                                                                    |

       <b>Tk_FreeColor(</b><u>colorPtr</u><b>)</b>

<b>ARGUMENTS</b>
       Tcl_Interp   <u>*interp</u>     (in)      Interpreter to use for error reporting.

       Tk_Window    <u>tkwin</u>       (in)      Token for window in which color will be used.

       Tcl_Obj      <u>*objPtr</u>     (in/out)                                                                     ||
                                          String  value  describes desired color; internal rep will be modi- |
                                          fied to cache pointer to corresponding (XColor *).                 |

       char         <u>*name</u>       (in)                                                                         ||
                                          Same  as  <u>objPtr</u> except description of color is passed as a string |
                                          and resulting (XColor *) isn't cached.

       XColor       <u>*prefPtr</u>    (in)      Indicates red, green, and blue intensities of desired color.

       XColor       <u>*colorPtr</u>   (in)      Pointer to X color information.  Must have been allocated by  pre-<font color="#ffffff" class="whiteout">vious&nbsp;previous</font>
                                          vious  call to <b>Tk_AllocColorFromObj</b>, <b>Tk_GetColor</b> or <b>Tk_GetColorBy</b>-<font color="#ffffff" class="whiteout">Value,&nbsp;Tk_GetColorByValue,</font>
                                          <b>Value</b>, except when passed to <b>Tk_NameOfColor</b>.

       Drawable     <u>drawable</u>    (in)      Drawable in which the result graphics context will be used.   Must
                                          have  same  screen and depth as the window for which the color was
                                          allocated.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       These procedures manage the colors being used by a Tk application.  They allow colors  to  be  shared |
       whenever  possible,  so that colormap space is preserved, and they pick closest available colors when |
       colormap space is exhausted.                                                                          |

       Given a textual description of a color, <b>Tk_AllocColorFromObj</b> locates a pixel value that may  be  used |
       to  render  the  color  in  a particular window.  The desired color is specified with an object whose |
       string value must have one of the following forms:

       <u>colorname</u>           Any of the valid textual names for a color defined in the server's color database
                           file, such as <b>red</b> or <b>PeachPuff</b>.

       <b>#</b><u>RGB</u>

       <b>#</b><u>RRGGBB</u>

       <b>#</b><u>RRRGGGBBB</u>

       <b>#</b><u>RRRRGGGGBBBB</u>       A numeric specification of the red, green, and blue intensities to use to display
                           the color.  Each <u>R</u>, <u>G</u>, or <u>B</u> represents a  single  hexadecimal  digit.   The  four
                           forms  permit  colors to be specified with 4-bit, 8-bit, 12-bit or 16-bit values.
                           When fewer than 16 bits are provided for each color, they represent the most sig-<font color="#ffffff" class="whiteout">nificant&nbsp;significant</font>
                           nificant bits of the color.  For example, #3a7 is the same as #3000a0007000.

       <b>Tk_AllocColorFromObj</b>  returns  a  pointer  to an XColor structure;  the structure indicates the exact |
       intensities of the allocated color (which may differ slightly from those requested, depending on  the |
       limitations of the screen) and a pixel value that may be used to draw with the color in <u>tkwin</u>.  If an |
       error occurs in <b>Tk_AllocColorFromObj</b> (such as an unknown color name) then NULL  is  returned  and  an |
       error  message is stored in <u>interp</u>'s result if <u>interp</u> isn't NULL.  If the colormap for <u>tkwin</u> is full, |
       <b>Tk_AllocColorFromObj</b> will use the closest  existing  color  in  the  colormap.   <b>Tk_AllocColorFromObj</b> |
       caches  information about the return value in <u>objPtr</u>, which speeds up future calls to procedures such |
       as <b>Tk_AllocColorFromObj</b> and <b>Tk_GetColorFromObj</b>.                                                       |

       <b>Tk_GetColor</b> is identical to <b>Tk_AllocColorFromObj</b> except that the description of the color  is  speci- |
       fied with a string instead of an object.  This prevents <b>Tk_GetColor</b> from caching the return value, so |
       <b>Tk_GetColor</b> is less efficient than <b>Tk_AllocColorFromObj</b>.                                              |

       <b>Tk_GetColorFromObj</b> returns the token for an existing color, given the window and description used  to |
       create  the color.  <b>Tk_GetColorFromObj</b> doesn't actually create the color; the color must already have |
       been created with a previous call to <b>Tk_AllocColorFromObj</b> or <b>Tk_GetColor</b>.  The return value is cached |
       in <u>objPtr</u>, which speeds up future calls to <b>Tk_GetColorFromObj</b> with the same <u>objPtr</u> and <u>tkwin</u>.

       <b>Tk_GetColorByValue</b> is similar to <b>Tk_GetColor</b> except that the desired color is indicated with the <u>red</u>,
       <u>green</u>, and <u>blue</u> fields of the structure pointed to by <u>colorPtr</u>.

       This package maintains a database of all the colors currently in use.  If the same color is requested
       multiple  times  from <b>Tk_GetColor</b> or <b>Tk_AllocColorFromObj</b> (e.g. by different windows), or if the same
       intensities are requested multiple times from <b>Tk_GetColorByValue</b>, then existing pixel values will  be
       re-used.   Re-using  an existing pixel avoids any interaction with the window server, which makes the
       allocation much more efficient.  These procedures also provide a portable interface that works across
       all  platforms.   For  this  reason,  you  should generally use <b>Tk_AllocColorFromObj</b>, <b>Tk_GetColor</b>, or
       <b>Tk_GetColorByValue</b> instead of lower level procedures like <b>XAllocColor</b>.

       Since different calls to this package may return the same shared pixel value,  callers  should  never
       change  the color of a pixel returned by the procedures.  If you need to change a color value dynami-<font color="#ffffff" class="whiteout">cally,&nbsp;dynamically,</font>
       cally, you should use <b>XAllocColorCells</b> to allocate the pixel value for the color.

       The procedure <b>Tk_NameOfColor</b> is roughly the inverse of <b>Tk_GetColor</b>.  If  its  <u>colorPtr</u>  argument  was
       created  by  <b>Tk_AllocColorFromObj</b> or <b>Tk_GetColor</b> then the return value is the string that was used to
       create the color.  If <u>colorPtr</u> was created by a call to <b>Tk_GetColorByValue</b>, or by  any  other  mecha-<font color="#ffffff" class="whiteout">nism,&nbsp;mechanism,</font>
       nism, then the return value is a string that could be passed to <b>Tk_GetColor</b> to return the same color.
       Note:  the string returned by <b>Tk_NameOfColor</b> is only guaranteed to persist until  the  next  call  to
       <b>Tk_NameOfColor</b>.

       <b>Tk_GCForColor</b>  returns  a graphics context whose <b>foreground</b> field is the pixel allocated for <u>colorPtr</u>
       and whose other fields all have default values.  This provides an easy way to do basic drawing with a
       color.  The graphics context is cached with the color and will exist only as long as <u>colorPtr</u> exists;
       it is freed when the last reference to <u>colorPtr</u> is freed by calling <b>Tk_FreeColor</b>.

       When a color is no longer needed <b>Tk_FreeColorFromObj</b> or <b>Tk_FreeColor</b> should be called to release  it. |
       For  <b>Tk_FreeColorFromObj</b>  the  color to release is specified with the same information used to create |
       it; for <b>Tk_FreeColor</b> the color to release is specified with a pointer to its XColor structure.  There |
       should  be exactly one call to <b>Tk_FreeColorFromObj</b> or <b>Tk_FreeColor</b> for each call to <b>Tk_AllocColorFro-</b> |
       <b>mObj</b>, <b>Tk_GetColor</b>, or <b>Tk_GetColorByValue</b>.

<b>KEYWORDS</b>
       color, intensity, object, pixel value



Tk                                                   8.1                             <a href="Tk_AllocColorFromObj.3tcl.html#//apple_ref/doc/man/3/Tk_AllocColorFromObj">Tk_AllocColorFromObj(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tk_FreeColorFromObj.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tk_FreeColorFromObj.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tk_FreeColorFromObj.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
