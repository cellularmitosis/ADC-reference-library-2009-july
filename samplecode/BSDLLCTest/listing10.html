<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>BSDLLCTest - /MoreAuthSample/MoreCFQ/MoreCFQ.h</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/Networking/index.html">Networking</a> &gt; <a href="../../samplecode/Networking/idxHardwareDrivers-date.html">Hardware & Drivers</a> &gt; <A HREF="javascript:location.replace('index.html');">BSDLLCTest</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">BSDLLCTest</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/MoreAuthSample/MoreCFQ/MoreCFQ.h</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/BSDLLCTest.c</option>
<option value="listing2.html">/BSDLLCTest.h</option>
<option value="listing3.html">/BSDLLCTestCommon.h</option>
<option value="listing4.html">/EthernetSocketStuff.c</option>
<option value="listing5.html">/EthernetSocketStuff.h</option>
<option value="listing6.html">/EthernetSocketTool.c</option>
<option value="listing7.html">/GetEthernetAddrSample.c</option>
<option value="listing8.html">/GetEthernetAddrSample.h</option>
<option value="listing9.html">/MoreAuthSample/MoreCFQ/MoreCFQ.c</option>
<option value="listing10.html">/MoreAuthSample/MoreCFQ/MoreCFQ.h</option>
<option value="listing11.html">/MoreAuthSample/MoreSecurity/MoreSecurity.c</option>
<option value="listing12.html">/MoreAuthSample/MoreSecurity/MoreSecurity.h</option>
<option value="listing13.html">/MoreAuthSample/MoreSecurity/MoreSecurityTest/MoreSecurityTest.c</option>
<option value="listing14.html">/MoreAuthSample/MoreSecurity/MoreSecurityTest/MoreSecurityTestCommon.h</option>
<option value="listing15.html">/MoreAuthSample/MoreSecurity/MoreSecurityTest/MoreSecurityTestTool.c</option>
<option value="listing16.html">/MoreAuthSample/MoreSecurity/ReadMeAboutMoreAuthSample.html</option>
<option value="listing17.html">/MoreAuthSample/MoreSetup.h</option>
<option value="listing18.html">/MoreAuthSample/MoreUNIX/MoreUNIX.c</option>
<option value="listing19.html">/MoreAuthSample/MoreUNIX/MoreUNIX.h</option>
<option value="listing20.html">/ReadMe-BSDLLCTest.html</option></select>
				</p>
				</form>
				<p><strong><a href="BSDLLCTest.zip">Download Sample</a></strong> (&#147;BSDLLCTest.zip&#148;, 442.6K)<BR>
<strong><a href="BSDLLCTest.dmg">Download Sample</a></strong> (&#147;BSDLLCTest.dmg&#148;, 760.8K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">/*  File:    MoreCFQ.h  Contains:  Core Foundation utility Routines.  Written by:  Quinn  Copyright:  Copyright (c) 2001 by Apple Computer, Inc., All Rights Reserved.  Disclaimer:  IMPORTANT:  This Apple software is supplied to you by Apple Computer, Inc.        (&quot;Apple&quot;) in consideration of your agreement to the following terms, and your        use, installation, modification or redistribution of this Apple software        constitutes acceptance of these terms.  If you do not agree with these terms,        please do not use, install, modify or redistribute this Apple software.        In consideration of your agreement to abide by the following terms, and subject        to these terms, Apple grants you a personal, non-exclusive license, under Apple's        copyrights in this original Apple software (the &quot;Apple Software&quot;), to use,        reproduce, modify and redistribute the Apple Software, with or without        modifications, in source and/or binary forms; provided that if you redistribute        the Apple Software in its entirety and without modifications, you must retain        this notice and the following text and disclaimers in all such redistributions of        the Apple Software.  Neither the name, trademarks, service marks or logos of        Apple Computer, Inc. may be used to endorse or promote products derived from the        Apple Software without specific prior written permission from Apple.  Except as        expressly stated in this notice, no other rights or licenses, express or implied,        are granted by Apple herein, including but not limited to any patent rights that        may be infringed by your derivative works or by other works in which the Apple        Software may be incorporated.        The Apple Software is provided by Apple on an &quot;AS IS&quot; basis.  APPLE MAKES NO        WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION THE IMPLIED        WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS FOR A PARTICULAR        PURPOSE, REGARDING THE APPLE SOFTWARE OR ITS USE AND OPERATION ALONE OR IN        COMBINATION WITH YOUR PRODUCTS.        IN NO EVENT SHALL APPLE BE LIABLE FOR ANY SPECIAL, INDIRECT, INCIDENTAL OR        CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE        GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)        ARISING IN ANY WAY OUT OF THE USE, REPRODUCTION, MODIFICATION AND/OR DISTRIBUTION        OF THE APPLE SOFTWARE, HOWEVER CAUSED AND WHETHER UNDER THEORY OF CONTRACT, TORT        (INCLUDING NEGLIGENCE), STRICT LIABILITY OR OTHERWISE, EVEN IF APPLE HAS BEEN        ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.  Change History (most recent first):$Log: MoreCFQ.h,v $Revision 1.8  2003/04/04 15:01:49  eskimo1Added CFQCreateBundleFromFrameworkName.Revision 1.7  2003/02/26 20:49:25  eskimo1The GetValueAtPath APIs are &quot;Get&quot; and not &quot;Copy&quot; APIs, so they don't need *result == NULL as a precondition.Revision 1.6  2002/12/12 15:22:29  eskimo1Added CFQDictionaryMerge.Revision 1.5  2002/11/25 18:08:31  eskimo1Allow non-Carbon builds.Revision 1.4  2002/11/08 23:07:22  eskimo1When using framework includes, explicitly include the frameworks we need. Convert nil to NULL. Added CFQStringCopyCString.Revision 1.3  2002/10/24 11:46:27  eskimo1Added CFQError routines. Fixed non-framework includes build.Revision 1.2  2002/01/22 06:14:21  eskimo1Change CFQDictionaryAddNumber to CFQDictionarySetNumber.Revision 1.1  2002/01/16 22:51:32  eskimo1First checked in.*/#pragma once/////////////////////////////////////////////////////////////////// MoreIsBetter Setup#include &quot;MoreSetup.h&quot;// System Interfaces#if MORE_FRAMEWORK_INCLUDES  #include &lt;CoreServices/CoreServices.h&gt;#else  #include &lt;CFBase.h&gt;  #include &lt;CFURL.h&gt;  #include &lt;CFPropertyList.h&gt;  #include &lt;CFBundle.h&gt;  #include &lt;Files.h&gt;#endif/////////////////////////////////////////////////////////////////#ifdef __cplusplusextern &quot;C&quot; {#endif/////////////////////////////////////////////////////////////////#pragma mark ***** Trivial Utilitiesenum {  kCFQKeyNotFoundErr = 5400,  kCFQDataErr = 5401};extern pascal OSStatus CFQErrorBoolean(Boolean shouldBeTrue);extern pascal OSStatus CFQError(const void *shouldBeNotNULL);// Two wrappers around CFRelease/Retain that allow you to pass in NULL.extern pascal CFTypeRef CFQRetain(CFTypeRef cf);  // CFRetain if cf is not NULL.  Returns cf.  extern pascal void CFQRelease(CFTypeRef cf);  // CFRelease if cf is not NULL.extern pascal OSStatus CFQArrayCreateMutable(CFMutableArrayRef *result);  // Creates an empty CFMutableArray that holds other CFTypes.  //  // result must not be NULL.  // On input, *result must be NULL.  // On error, *result will be NULL.  // On success, *result will be an empty mutable array.extern pascal OSStatus CFQArrayCreateWithDictionaryKeys(CFDictionaryRef dict, CFArrayRef *result);extern pascal OSStatus CFQArrayCreateWithDictionaryValues(CFDictionaryRef dict, CFArrayRef *result);  // Creates an array that holds all of the keys (or values) of dict.  //  // dict must not be NULL.  // result must not be NULL.  // On input, *result must be NULL.  // On error, *result will be NULL.  // On success, *result will be an array.extern pascal OSStatus CFQDictionaryCreateMutable(CFMutableDictionaryRef *result);  // Creates an empty CFMutableDictionary that holds other CFTypes.  //  // result must not be NULL.  // On input, *result must be NULL.  // On error, *result will be NULL.  // On success, *result will be an empty mutable dictionary.extern pascal OSStatus CFQDictionaryCreateWithArrayOfKeysAndValues(CFArrayRef keys,                                    CFArrayRef values,                                    CFDictionaryRef *result);  // Creates a dictionary with the specified keys and values.  //  // keys must not be NULL.  // values must not be NULL.  // The length of keys and values must be the same.  // result must not be NULL.  // On input, *result must be NULL.  // On error, *result will be NULL.  // On success, *result will be an empty mutable dictionary.extern pascal OSStatus CFQDictionarySetNumber(CFMutableDictionaryRef dict, const void *key, long value);  // Set a CFNumber (created using kCFNumberLongType) in the   // dictionary with the specified key.  If an error is returned   // the dictionary will be unmodified.extern pascal OSStatus CFQStringCopyCString(CFStringRef str, CFStringEncoding encoding, char **cStrPtr);  // Extracts a C string from an arbitrary length CFString.   // The caller must free the resulting string using &quot;free&quot;.  // Returns kCFQDataErr if the CFString contains characters   // that can't be encoded in encoding.  //   // str must not be NULL  // On input,  cStrPtr must not be NULL  // On input, *cStrPtr must be NULL  // On error, *cStrPtr will be NULL  // On success, *cStrPtr will be a C string that you must free/////////////////////////////////////////////////////////////////#pragma mark ***** Bundle Routinesextern pascal OSStatus CFQBundleCreateFromFrameworkName(CFStringRef frameworkName,                             CFBundleRef *bundlePtr);  // This routine finds a the named framework and creates a CFBundle   // object for it.  It looks for the framework in the frameworks folder,   // as defined by the Folder Manager.  Currently this is   // &quot;/System/Library/Frameworks&quot;, but we recommend that you avoid hard coded   // paths to ensure future compatibility.  //  // You might think that you could use CFBundleGetBundleWithIdentifier but   // that only finds bundles that are already loaded into your context.   //  // frameworkName must not be NULL  // On input,    bundlePtr must not be NULL  // On input,   *bundlePtr must be NULL  // On error,   *bundlePtr will be NULL  // On success, *bundlePtr will be a bundle reference that you must free/////////////////////////////////////////////////////////////////#pragma mark ***** Dictionary Path Routinesextern pascal OSStatus CFQDictionaryGetValueAtPath(CFDictionaryRef dict,                            const void *path[], CFIndex pathElementCount,                            const void **result);  // Given a dictionary possibly containing nested dictionaries,   // this routine returns the value specified by path.  path is   // unbounded array of dictionary keys.  The first element of   // path must be the key of a property in dict.  If path has   // more than one element then the value of the property must   // be a dictionary and the next element of path must be a   // key in that dictionary.  And so on.  The routine returns   // the value of the dictionary property found at the end   // of the path.  //  // For example, if path is &quot;A&quot;/&quot;B&quot;/&quot;C&quot;, then dict must contain   // a property whose key is &quot;A&quot; and whose value is a dictionary.   // That dictionary must contain a property whose key is &quot;B&quot; and   // whose value is a dictionary.  That dictionary must contain   // a property whose key is &quot;C&quot; and whose value this routine   // returns.  //  // dict must not be NULL.  // path must not be NULL.  // pathElementCount must be greater than 0.  // result must not be NULL.  // On success, *result is the value from the dictionary.extern pascal OSStatus CFQDictionaryGetValueAtPathArray(CFDictionaryRef dict,                            CFArrayRef path,                            const void **result);  // This routine is identical to CFQDictionaryGetValueAtPath except   // that you supply path as a CFArray instead of a C array.  //  // dict must not be NULL.  // path must not be NULL.  // path must have at least one element.  // result must not be NULL.  // On success, *result is the value from the dictionary.  extern pascal OSStatus CFQDictionarySetValueAtPath(CFMutableDictionaryRef dict,                            const void *path[], CFIndex pathElementCount,                            const void *value);  // This routines works much like CFQDictionaryGetValueAtPath   // except that it sets the value at the end of the path   // instead of returning it.  For the set to work,   // dict must be mutable.  However, the dictionaries   // nested inside dict may not be mutable.  To make this   // work this routine makes a mutable copy of any nested   // dictionaries it traverses and replaces the (possibly)   // immutable nested dictionaries with these mutable versions.   //  // The path need not necessarily denote an existing node   // in the nested dictionary tree.  However, this routine   // will only create a leaf node.  It won't create any   // parent nodes required to holf that leaf.  //  // dict must not be NULL.  // path must not be NULL.  // pathElementCount must be greater than 0.extern pascal OSStatus CFQDictionarySetValueAtPathArray(CFMutableDictionaryRef dict,                            CFArrayRef path,                            const void *value);  // This routine is identical to CFQDictionarySetValueAtPath except   // that you supply path as a CFArray instead of a C array.  //   // dict must not be NULL.  // path must not be NULL.  // path must have at least one element.extern pascal OSStatus CFQDictionaryRemoveValueAtPath(CFMutableDictionaryRef dict,                            const void *path[], CFIndex pathElementCount);  // This routines works much like CFQDictionarySetValueAtPath   // except that it removes the value at the end of the path.   //  // Unlike CFQDictionarySetValueAtPath, this routine requires   // that path denote an existing node in the nested dictionary   // tree.  Removing a non-existant node, even a leaf node,   // results in an error.  //   // dict must not be NULL.  // path must not be NULL.  // pathElementCount must be greater than 0.  extern pascal OSStatus CFQDictionaryRemoveValueAtPathArray(CFMutableDictionaryRef dict,                            CFArrayRef path);  // This routine is identical to CFQDictionaryRemoveValueAtPathArray   // except that you supply path as a CFArray instead of a C array.  //   // dict must not be NULL.  // path must not be NULL.  // path must have at least one element./////////////////////////////////////////////////////////////////#pragma mark ***** Property List Traversal Routinestypedef pascal void (*CFQPropertyListDeepApplierFunction)(CFTypeRef node, void *context);  // A callback function for CFQPropertyListDeepApplyFunction.extern pascal void CFQPropertyListDeepApplyFunction(CFPropertyListRef propList,                           CFQPropertyListDeepApplierFunction func,                          void *context);  // Calls &quot;func&quot; for every node in the property list.  //   // propList must not be NULL.  // func must not be NULL.extern pascal Boolean CFQPropertyListIsLeaf(CFTypeRef node);  // Given a node in a property list, this routine returns   // true if the node is a leaf (ie not a dictionary or an   // array).typedef pascal void (*CFQPropertyListShallowApplierFunction)(CFTypeRef key, CFTypeRef node, void *context);  // A callback function for CFQPropertyListShallowApplyFunction.   //   // node must be an element of either a dictionary or an array.   // If node is an element of a dictionary, key is its key within   // the dictionary.  If node is an element of an array, key   // is a CFNumber of its index in the array.extern pascal void CFQPropertyListShallowApplyFunction(CFPropertyListRef propList,                              CFQPropertyListShallowApplierFunction func,                             void *context);  // Calls &quot;func&quot; for every node in the first level of the   // property list.  propList must be either a dictionary   // or an array.  To continue to lower levels, &quot;func&quot; should   // call CFQPropertyListApplyFunctionShallow again (only if   // CFQPropertyListIsLeaf is false).  //   // propList must not be NULL.  // func must not be NULL.extern pascal OSStatus CFQPropertyListCreateFromXMLFSRef(const FSRef *xmlFile, CFPropertyListMutabilityOptions options, CFPropertyListRef *result);  // Creates a property list based on the XML in the file.  //  // xmlFile must not be NULL  // result must not be NULL  // *result must be NULL  // on success, *result will be a valid property list  // on error, *result will be NULL  extern pascal OSStatus CFQPropertyListCreateFromXMLCFURL(CFURLRef xmlFile, CFPropertyListMutabilityOptions options, CFPropertyListRef *result);  // Creates a property list based on the XML in the file.  //  // xmlFile must not be NULL  // result must not be NULL  // *result must be NULL  // on success, *result will be a valid property list  // on error, *result will be NULLextern pascal OSStatus CFQDictionaryMerge(CFMutableDictionaryRef dst, CFDictionaryRef src);  // Adds every key/value pair from src into dst, overwriting any   // current value for the key.  //  // dst must not be NULL  // src must not be NULL  #ifdef __cplusplus}#endif</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/BSDLLCTest/listing10.html%3Fid%3DDTS10000692-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/BSDLLCTest/listing10.html%3Fid%3DDTS10000692-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/BSDLLCTest/listing10.html%3Fid%3DDTS10000692-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>