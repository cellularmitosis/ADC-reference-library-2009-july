<html><head><title>Mac OS X
 Manual Page For ipmitool(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/ipmitool" title="Mac OS X
 Manual Page for ipmitool(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/ipmitool"; name=ipmitool(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ipmitool(1)                                                                                      ipmitool(1)



<b>NAME</b>
       ipmitool - utility for controlling IPMI-enabled devices

<b>SYNOPSIS</b>
       ipmitool [<b>-c</b>|<b>-h</b>|<b>-v</b>|<b>-V</b>] <b>-I</b> <u>open</u> &lt;<u>command&gt;</u>

       ipmitool [<b>-c</b>|<b>-h</b>|<b>-v</b>|<b>-V</b>] <b>-I</b> <u>lan</u> <b>-H</b> &lt;<u>hostname&gt;</u>
                [<b>-p</b> &lt;<u>port&gt;</u>]
                [<b>-U</b> &lt;<u>username&gt;</u>]
                [<b>-A</b> &lt;<u>authtype&gt;</u>]
                [<b>-L</b> &lt;<u>privlvl&gt;</u>]
                [<b>-a</b>|<b>-E</b>|<b>-P</b>|<b>-f</b> &lt;<u>password&gt;</u>]
                [<b>-o</b> &lt;<u>oemtype&gt;</u>]
                [<b>-O</b> &lt;<u>sel</u> <u>oem&gt;</u>]
                [<b>-e</b> &lt;<u>esc</u><b>_</b><u>char&gt;</u>]
                &lt;<u>command&gt;</u>

       ipmitool [<b>-c</b>|<b>-h</b>|<b>-v</b>|<b>-V</b>] <b>-I</b> <u>lanplus</u> <b>-H</b> &lt;<u>hostname&gt;</u>
                [<b>-p</b> &lt;<u>port&gt;</u>]
                [<b>-U</b> &lt;<u>username&gt;</u>]
                [<b>-L</b> &lt;<u>privlvl&gt;</u>]
                [<b>-a</b>|<b>-E</b>|<b>-P</b>|<b>-f</b> &lt;<u>password&gt;</u>]
                [<b>-o</b> &lt;<u>oemtype&gt;</u>]
                [<b>-O</b> &lt;<u>sel</u> <u>oem&gt;</u>]
                [<b>-C</b> &lt;<u>ciphersuite&gt;</u>]
                [<b>-k</b> &lt;<u>kg</u><b>_</b><u>key&gt;</u>]
                [<b>-e</b> &lt;<u>esc</u><b>_</b><u>char&gt;</u>]
                &lt;<u>command&gt;</u>

<b>DESCRIPTION</b>
       This program lets you manage Intelligent Platform Management Interface (IPMI) functions of either the
       local system, via a kernel device driver, or a remote system, using IPMI V1.5 and  IPMI  v2.0.  These
       functions  include  printing  FRU information, LAN configuration, sensor readings, and remote chassis
       power control.

       IPMI management of a local system interface requires a compatible IPMI kernel driver to be  installed
       and  configured.   On  Linux  this driver is called <u>OpenIPMI</u> and it is included in standard distribu-<font color="#ffffff" class="whiteout">tions.&nbsp;distributions.</font>
       tions.  On Solaris this driver is called <u>BMC</u> and is inclued in Solaris 10.  Management  of  a  remote
       station requires the IPMI-over-LAN interface to be enabled and configured.  Depending on the particu-<font color="#ffffff" class="whiteout">lar&nbsp;particular</font>
       lar requirements of each system it may be possible to enable the LAN interface  using  ipmitool  over
       the system interface.

<b>OPTIONS</b>
       <b>-a</b>     Prompt for the remote server password.

       <b>-A</b> &lt;<u>authtype&gt;</u>
              Specify an authentication type to use during IPMIv1.5 <u>lan</u> session activation.  Supported types
              are NONE, PASSWORD, MD2, MD5, or OEM.

       <b>-c</b>     Present output in CSV (comma separated variable) format.  This is not available with all  com-<font color="#ffffff" class="whiteout">mands.&nbsp;commands.</font>
              mands.

       <b>-e</b> &lt;<u>sol</u><b>_</b><u>escape</u><b>_</b><u>char&gt;</u>
              Use supplied character for SOL session escape character.  The default is to use <u>~</u> but this can
              conflict with ssh sessions.

       <b>-k</b> &lt;<u>key&gt;</u>
              Use supplied Kg key for IPMIv2 authentication.  The default is not to use any Kg key.

       <b>-C</b> &lt;<u>ciphersuite&gt;</u>
              The remote server authentication, integrity, and encryption algorithms to use for IPMIv2  <u>lan</u>-<font color="#ffffff" class="whiteout">plus&nbsp;lanplus</font>
              <u>plus</u> connections.  See table 22-19 in the IPMIv2 specification.  The default is 3 which speci-<font color="#ffffff" class="whiteout">fies&nbsp;specifies</font>
              fies RAKP-HMAC-SHA1 authentication, HMAC-SHA1-96 integrity, and AES-CBC-128  encryption  algo-<font color="#ffffff" class="whiteout">rightms.&nbsp;algorightms.</font>
              rightms.

       <b>-E</b>     The remote server password is specified by the environment variable <u>IPMI</u><b>_</b><u>PASSWORD</u>.

       <b>-f</b> &lt;<u>password</u><b>_</b><u>file&gt;</u>
              Specifies  a file containing the remote server password. If this option is absent, or if pass-<font color="#ffffff" class="whiteout">word_file&nbsp;password_file</font>
              word_file is empty, the password will default to NULL.

       <b>-h</b>     Get basic usage help from the command line.

       <b>-H</b> &lt;<u>address&gt;</u>
              Remote server address, can be IP address or hostname.  This option is  required  for  <u>lan</u>  and
              <u>lanplus</u> interfaces.

       <b>-I</b> &lt;<u>interface&gt;</u>
              Selects  IPMI  interface to use.  Supported interfaces that are compiled in are visible in the
              usage help output.

       <b>-L</b> &lt;<u>privlvl&gt;</u>
              Force session privilege level.  Can be CALLBACK, USER,  OPERATOR,  ADMINISTRATOR.  Default  is
              ADMINISTRATOR.

       <b>-m</b> &lt;<u>local</u><b>_</b><u>address&gt;</u>
              Set  the local IPMB address.  The default is 0x20 and there should be no need to change it for
              normal operation.

       <b>-o</b> &lt;<u>oemtype&gt;</u>
              Select OEM type to support.  This usually involves minor hacks in place in the  code  to  work
              around  quirks  in various BMCs from various manufacturers.  Use <u>-o</u> <u>list</u> to see a list of cur-<font color="#ffffff" class="whiteout">rent&nbsp;current</font>
              rent supported OEM types.

       <b>-O</b> &lt;<u>sel</u> <u>oem&gt;</u>
              Open selected file and read OEM SEL event descriptions to be used during  SEL  listings.   See
              examples in contrib dir for file format.

       <b>-p</b> &lt;<u>port&gt;</u>
              Remote server UDP port to connect to.  Default is 623.

       <b>-P</b> &lt;<u>password&gt;</u>
              Remote  server password is specified on the command line.  If supported it will be obscured in
              the process list.  <b>Note!</b> Specifying the password as a command line option is not  recommended.

       <b>-S</b> &lt;<u>sdr</u><b>_</b><u>cache</u><b>_</b><u>file&gt;</u>
              Use local file for remote SDR cache.  Using a local SDR cache can drastically increase perfor-<font color="#ffffff" class="whiteout">mance&nbsp;performance</font>
              mance for commands that require knowledge of the entire SDR to perform their function.   Local
              SDR cache from a remote system can be created with the <u>sdr</u> <u>dump</u> command.

       <b>-t</b> &lt;<u>target</u><b>_</b><u>address&gt;</u>
              Bridge IPMI requests to the remote target address.

       <b>-U</b> &lt;<u>username&gt;</u>
              Remote server username, default is NULL user.

       <b>-v</b>     Increase  verbose  output  level.  This option may be specified multiple times to increase the
              level of debug output.  If given three times you will get hexdumps of all incoming and  outgo-<font color="#ffffff" class="whiteout">ing&nbsp;outgoing</font>
              ing packets.

       <b>-V</b>     Display version information.


       If  no password method is specified then ipmitool will prompt the user for a password. If no password
       is entered at the prompt, the remote server password will default to NULL.

<b>SECURITY</b>
       There are several security issues be be considered before enabling the IPMI LAN interface.  A  remote
       station  has  the  ability  to control a system's power state as well as being able to gather certain
       platform information. To reduce vulnerability it is strongly advised that the IPMI LAN interface only
       be  enabled in 'trusted' environments where system security is not an issue or where there is a dedi-<font color="#ffffff" class="whiteout">cated&nbsp;dedicated</font>
       cated secure 'management network'.

       Further it is strongly advised that you should not enable IPMI for remote access  without  setting  a
       password, and that that password should not be the same as any other password on that system.

       When an IPMI password is changed on a remote machine with the IPMIv1.5 <u>lan</u> interface the new password
       is sent across the network as clear text.  This could be observed and then used to attack the  remote
       system.   It  is  thus  recommended  that IPMI password management only be done over IPMIv2.0 <u>lanplus</u>
       interface or the system interface on the local station.

       For IPMI v1.5, the maximum password length is 16 characters.  Passwords  longer  than  16  characters
       will be truncated.

       For IPMI v2.0, the maximum password length is 20 characters; longer passwords are truncated.

<b>COMMANDS</b>
       <u>help</u>   This  can  be  used to get command-line help  on  ipmitool commands.  It may also be placed at
              the end of commands to get option usage help.

              ipmitool help
              Commands:
                      raw          Send a RAW IPMI request and print response
                      lan          Configure LAN Channels
                      chassis      Get chassis status and set power state
                      event        Send events to MC
                      mc           Management Controller status and global enables
                      sdr          Print Sensor Data Repository entries and readings
                      sensor       Print detailed sensor information
                      fru          Print built-in FRU and scan for FRU locators
                      sel          Print System Event Log (SEL)
                      pef          Configure Platform Event Filtering (PEF)
                      sol          Configure and connect IPMIv2.0 Serial-over-LAN
                      tsol         Configure and connect Tyan IPMIv1.5 Serial-over-LAN
                      isol         Configure Intel IPMIv1.5 Serial-over-LAN
                      user         Configure Management Controller users
                      channel      Configure Management Controller channels
                      session      Print session information
                      sunoem       Manage Sun OEM Extensions
                      exec         Run list of commands from file
                      set          Set runtime variable for shell and exec

              ipmitool chassis help
              Chassis Commands:  status, power, identify, policy, restart_cause, poh, bootdev

              ipmitool chassis power help
              chassis power Commands: status, on, off, cycle, reset, diag, soft

       <u>bmc|mc</u>

              <u>reset</u> &lt;<b>warm</b>|<b>cold&gt;</b>

                     Instructs the BMC to perform a warm or cold reset.

              <u>guid</u>    Display the Management Controller Globally Unique IDentifier.

              <u>info</u>

                     Displays information about the BMC hardware, including device revision, firmware  revi-<font color="#ffffff" class="whiteout">sion,&nbsp;revision,</font>
                     sion,  IPMI  version  supported,  manufacturer ID, and information on additional device
                     support.

              <u>getenables</u>

                     Displays a list of the currently enabled options for the BMC.

              <u>setenables</u> &lt;<b>option&gt;</b>=[<b>on</b>|<b>off</b>]

                     Enables or disables the given <u>option</u>.  This command is only supported over  the  system
                     interface  according  to the IPMI specification.  Currently supported values for <u>option</u>
                     include:

                     <u>recv</u><b>_</b><u>msg</u><b>_</b><u>intr</u>

                            Receive Message Queue Interrupt

                     <u>event</u><b>_</b><u>msg</u><b>_</b><u>intr</u>

                            Event Message Buffer Full Interrupt

                     <u>event</u><b>_</b><u>msg</u>

                            Event Message Buffer

                     <u>system</u><b>_</b><u>event</u><b>_</b><u>log</u>

                            System Event Logging

                     <u>oem0</u>

                            OEM-Defined option #0

                     <u>oem1</u>

                            OEM-Defined option #1

                     <u>oem2</u>

                            OEM-Defined option #2

       <u>channel</u>

              <u>authcap</u> &lt;<b>channel</b> <b>number&gt;</b> &lt;<b>max</b> <b>priv&gt;</b>

                     Displays information about the authentication capabilities of the selected  channel  at
                     the specified privilege level.

                     Possible privilege levels are:
                            <u>1</u>   Callback level
                            <u>2</u>   User level
                            <u>3</u>   Operator level
                            <u>4</u>   Administrator level
                            <u>5</u>   OEM Proprietary level

              <u>info</u> [<b>channel</b> <b>number</b>]

                     Displays   information   about   the selected  channel.  If no channel is given it will
                     display information about the currently used channel:

                     &gt; ipmitool channel info
                     Channel 0xf info:
                       Channel Medium Type   : System Interface
                       Channel Protocol Type : KCS
                       Session Support       : session-less
                       Active Session Count  : 0
                       Protocol Vendor ID    : 7154

              <u>getaccess</u> &lt;<b>channel</b> <b>number&gt;</b> [&lt;<b>userid&gt;</b>]

                     Configure the given userid as the default on the given channel number.  When the  given
                     channel is subsequently used, the user is identified implicitly by the given userid.

              <u>setaccess</u> &lt;<b>channel</b> <b>number&gt;</b> &lt;<b>userid&gt;</b> [&lt;<b>callin</b>=<b>on</b>|<b>off&gt;</b>]
                     [&lt;<b>ipmi</b>=<b>on</b>|<b>off&gt;</b>] [&lt;<b>link</b>=<b>on</b>|<b>off&gt;</b>] [&lt;<b>privilege</b>=<b>level&gt;</b>]

                     Configure user access information on the given channel for the given userid.

              <u>getciphers</u> &lt;<b>ipmi</b>|<b>sol&gt;</b> [&lt;<b>channel&gt;</b>]

                     Displays the list of cipher suites supported for the given application (ipmi or sol) on
                     the given channel.

       <u>chassis</u>

              <u>status</u>

                     Displays information regarding the high-level status of the  system  chassis  and  main
                     power subsystem.

              <u>poh</u>

                     This command will return the Power-On Hours counter.

              <u>identify</u> &lt;<b>interval&gt;</b>

                     Control the front panel identify  light.   Default is 15.  Use 0 to turn off.

              <u>restart</u><b>_</b><u>cause</u>

                     Query the chassis for the cause of the last system restart.

              <u>policy</u>

                     Set the chassis power policy in  the  event  power failure.

                     <u>list</u>

                            Return supported policies.

                     <u>always-on</u>

                            Turn on when power is restored.

                     <u>previous</u>

                            Returned to  previous  state  when  power  is restored.

                     <u>always-off</u>

                            Stay off after power is restored.

              <u>power</u>

                     Performs a chassis control  command  to  view  and change the power state.

                     <u>status</u>

                            Show current chassis power status.

                     <u>on</u>

                            Power up chassis.

                     <u>off</u>

                            Power  down chassis into soft off (S4/S5 state).  <b>WARNING</b>: This command does not
                            initiate a clean shutdown of the operating system prior  to  powering  down  the
                            system.

                     <u>cycle</u>

                            Provides  a  power off interval of at least 1 second.  No action should occur if
                            chassis power is in S4/S5 state, but it is  recommended  to  check  power  state
                            first  and  only  issue  a power cycle command if the  system  power is on or in
                            lower sleep state than S4/S5.

                     <u>reset</u>

                            This command will perform a hard reset.

                     <u>diag</u>

                            Pulse a diagnostic interrupt (NMI) directly to the <!-- a -->processor(s)<!-- /a -->.

                     <u>soft</u>

                            Initiate a soft-shutdown of OS via ACPI.  This can be done in a number of  ways,
                            commonly  by simulating an overtemperture or by simulating a power button press.
                            It is necessary for there to be Operating System support for ACPI and some  sort
                            of daemon watching for events for this soft power to work.

              <u>bootdev</u> &lt;<b>device&gt;</b> [&lt;<b>clear-cmos</b>=<b>yes</b>|<b>no&gt;</b>]

                     Request  the  system  to  boot  from  an  alternate  boot  device  on next reboot.  The
                     <u>clear-cmos</u> option, if supplied, will instruct the BIOS to clear its CMOS  on  the  next
                     reboot.

                     Currently supported values for &lt;device&gt; are:

                     <u>none</u>

                            Do not change boot device

                     <u>pxe</u>

                            Force PXE boot

                     <u>disk</u>

                            Force boot from BIOS default boot device

                     <u>safe</u>

                            Force boot from BIOS default boot device, request Safe Mode

                     <u>diag</u>

                            Force boot from diagnostic partition

                     <u>cdrom</u>

                            Force boot from CD/DVD

                     <u>bios</u>

                            Force boot into BIOS setup

       <u>event</u>

              &lt;<b>predefined</b> <b>event</b> <b>number&gt;</b>

                     Send a pre-defined event to the System Event Log.  The following events are included as
                     a means to test the functionality of the System Event Log  component  of  the  BMC  (an
                     entry will be added each time the event <u>n</u> command is executed).

                     Currently supported values for <u>n</u> are:
                     <u>1</u>    Temperature: Upper Critical: Going High
                     <u>2</u>    Voltage Threshold: Lower Critical: Going Low
                     <u>3</u>    Memory: Correctable ECC Error Detected

                     <b>NOTE</b>:  These  pre-defined  events  will likely not produce "accurate" SEL records for a
                     particular system because they will not be correctly tied to a valid sensor number, but
                     they are sufficient to verify correct operation of the SEL.


              <u>file</u> &lt;<b>filename&gt;</b>

                     Event log records specified in <u>filename</u> will be added to the System Event Log.

                     The format of each line in the file is as follows:

                     &lt;{<u>EvM</u>  <u>Revision</u>} {<u>Sensor</u> <u>Type</u>} {<u>Sensor</u> <u>Num</u>} {<u>Event</u> <u>Dir/Type</u>} {<u>Event</u> <u>Data</u> <u>0</u>} {<u>Event</u> <u>Data</u>
                     <u>1</u>} {<u>Event</u> <u>Data</u> <u>2</u>}&gt;[<u>#</u> <u>COMMENT</u>]

                     Note: The Event Dir/Type field is encoded with the event direction as the high bit (bit
                     7) and the event type as the low 7 bits.

                     e.g.:
                     0x4 0x2 0x60 0x1 0x52 0x0 0x0 # Voltage threshold: Lower Critical: Going Low


              &lt;<b>sensorid&gt;</b> &lt;<b>state&gt;</b> [&lt;<b>eventdir&gt;</b>]

                     Generate  a  custom  event  based  on  existing sensor information.  The optional event
                     direction can be either <u>assert</u> or <u>deassert</u> and defaults to assert.  To get  a  list  of
                     possible  states  for a sensor supply a state of <b>list</b> on the command line.  Each sensor
                     may be different but some states will have pre-defined shortcuts.  For example:

                     &gt; ipmitool -I open event p0.t_core
                     Finding sensor p0.t_core... ok
                     Sensor States:
                       lnr : Lower Non-Recoverable
                       lcr : Lower Critical
                       lnc : Lower Non-Critical
                       unc : Upper Non-Critical
                       ucr : Upper Critical
                       unr : Upper Non-Recoverable

                     &gt; ipmitool -I open event ps0.prsnt
                     Finding sensor ps0.prsnt... ok
                     Sensor States:
                       Device Absent
                       Device Present
                     State State Shortcuts:
                       present    absent
                       assert     deassert
                       limit      nolimit
                       fail       nofail
                       yes        no
                       on         off
                       up         down


       <u>exec</u> &lt;<b>filename&gt;</b>

              Execute ipmitool commands from <u>filename</u>.  Each line is a complete command.  The syntax of  the
              commands  are defined by the COMMANDS section in this manpage.  Each line may have an optional
              comment at the end of the line, delimited with a `#' symbol.

              e.g., a command file with two lines:

              sdr list # get a list of sdr records
              sel list # get a list of sel records

       <u>fru</u>

              <u>print</u>

                     This command will read all Field  Replaceable  Unit (FRU) inventory  data  and  extract
                     such  information as serial number, part number, asset tags, and short strings describ-<font color="#ffffff" class="whiteout">ing&nbsp;describing</font>
                     ing the chassis, board, or product.

       <u>i2c</u> &lt;<b>i2caddr&gt;</b> &lt;<b>read</b> <b>bytes&gt;</b> [&lt;<b>write</b> <b>data&gt;</b>]

              This will allow you to execute raw I2C commands with the Master Write-Read IPMI command.


       <u>isol</u>

              <u>setup</u> &lt;<b>baud</b> <b>rate&gt;</b>

                     Setup baud rate for Intel IPMI v1.5 Serial-over-LAN.

       <u>lan</u>

              These commands will allow you to configure IPMI LAN channels with network information so  they
              can be used with the ipmitool <u>lan</u> and <u>lanplus</u> interfaces.  <u>NOTE</u>: To determine on which channel
              the LAN interface is located, issue the `channel info <u>number</u>' command until you come across  a
              valid 802.3 LAN channel.  For example:

              &gt; ipmitool -I open channel info 1
              Channel 0x1 info:
                Channel Medium Type   : 802.3 LAN
                Channel Protocol Type : IPMB-1.0
                Session Support       : session-based
                Active Session Count  : 8
                Protocol Vendor ID    : 7154


              <u>print</u> &lt;<b>channel&gt;</b>

                     Print the  current  configuration  for  the  given channel.

              <u>set</u> &lt;<b>channel&gt;</b> &lt;<b>parameter&gt;</b>

                     Set the given  parameter  on  the  given  channel.  Valid parameters are:

                     <u>ipaddr</u> &lt;<b>x.x.x.x&gt;</b>

                            Set the IP address for this channel.

                     <u>netmask</u> &lt;<b>x.x.x.x&gt;</b>

                            Set the netmask for this channel.

                     <u>macaddr</u> &lt;<a href="xx:xx:xx:xx:xx:xx"><b>xx:xx:xx:xx:xx:xx</b></a><b></b>

                            Set the MAC address for this channel.

                     <u>defgw</u> <u>ipaddr</u> &lt;<b>x.x.x.x&gt;</b>

                            Set the default gateway IP address.

                     <u>defgw</u> <u>macaddr</u> &lt;<a href="xx:xx:xx:xx:xx:xx"><b>xx:xx:xx:xx:xx:xx</b></a><b></b>

                            Set the default gateway MAC address.

                     <u>bakgw</u> <u>ipaddr</u> &lt;<b>x.x.x.x&gt;</b>

                            Set the backup gateway IP address.

                     <u>bakgw</u> <u>macaddr</u> &lt;<a href="xx:xx:xx:xx:xx:xx"><b>xx:xx:xx:xx:xx:xx</b></a><b></b>

                            Set the backup gateway MAC address.

                     <u>password</u> &lt;<b>pass&gt;</b>

                            Set the null user password.

                     <u>snmp</u> &lt;<b>community</b> <b>string&gt;</b>

                            Set the SNMP community string.

                     <u>user</u>

                            Enable user access mode for userid 1 (issue the `user' command to display infor-<font color="#ffffff" class="whiteout">mation&nbsp;information</font>
                            mation about userids for a given channel).

                     <u>access</u> &lt;<b>on|off&gt;</b>

                            Set LAN channel access mode.

                     <u>ipsrc</u> &lt;<b>source&gt;</b>

                            Set the IP address source:
                            <u>none</u> unspecified
                            <u>static</u>    manually configured static IP address
                            <u>dhcp</u> address obtained by BMC running DHCP
                            <u>bios</u> address loaded by BIOS or system software

                     <u>arp</u> <u>respond</u> &lt;<b>on</b>|<b>off&gt;</b>

                            Set BMC generated ARP responses.

                     <u>arp</u> <u>generate</u> &lt;<b>on</b>|<b>off&gt;</b>

                            Set BMC generated gratuitous ARPs.

                     <u>arp</u> <u>interval</u> &lt;<b>seconds&gt;</b>

                            Set BMC generated gratuitous ARP interval.

                     <u>vlan</u> <u>id</u> &lt;<b>off</b>|<b>id&gt;</b>

                            Disable VLAN operation or enable VLAN and set the ID.
                            ID: value of the virtual lan identifier between 1 and 4094 inclusive.

                     <u>vlan</u> <u>priority</u> &lt;<b>priority&gt;</b>

                            Set the priority associated with VLAN frames.
                            ID: priority of the virtual lan frames between 0 and 7 inclusive.

                     <u>auth</u> &lt;<b>level</b>,<b>...&gt;</b> &lt;<b>type</b>,<b>...&gt;</b>

                            Set the valid  authtypes  for  a  given  auth level.
                            Levels: callback, user, operator, admin
                            Types: none, md2, md5, password, oem

                     <u>cipher</u><b>_</b><u>privs</u> &lt;<b>privlist&gt;</b>

                            Correlates cipher suite numbers with the maximum privilege level that is allowed
                            to  use  it.   In  this  way, cipher suites can restricted to users with a given
                            privilege level, so that, for example, administrators  are  required  to  use  a
                            stronger cipher suite than normal users.

                            The  format  of  <u>privlist</u>  is as follows.  Each character represents a privilege
                            level and the character position identifies the cipher suite number.  For  exam-<font color="#ffffff" class="whiteout">ple,&nbsp;example,</font>
                            ple, the first character represents cipher suite 1 (cipher suite 0 is reserved),
                            the second represents cipher suite 2, and so on.  <u>privlist</u> must be 15 characters
                            in length.

                            Characters used in <u>privlist</u> and their associated privilege levels are:

                            <u>X</u>    Cipher Suite Unused
                            <u>c</u>    CALLBACK
                            <u>u</u>    USER
                            <u>o</u>    OPERATOR
                            <u>a</u>    ADMIN
                            <u>O</u>    OEM

                            So,  to  set  the  maximum  privilege  for cipher suite 1 to USER and suite 2 to
                            ADMIN, issue the following command:

                            &gt; ipmitool -I <u>interface</u> lan set <u>channel</u> cipher_privs uaXXXXXXXXXXXXX


       <u>pef</u>

              <u>info</u>

                     This command will query the BMC and print information about the PEF supported features.

              <u>status</u>

                     This  command  prints  the current PEF status (the last SEL entry processed by the BMC,
                     etc).

              <u>policy</u>

                     This command lists the PEF policy table entries.  Each policy entry describes an  alert
                     destination.   A policy set is a collection of table entries.  PEF alert actions refer-<font color="#ffffff" class="whiteout">ence&nbsp;reference</font>
                     ence policy sets.

              <u>list</u>

                     This command lists the PEF table entries.  Each PEF entry relates a sensor event to  an
                     action.   When PEF is active, each platform event causes the BMC to scan this table for
                     entries matching the event, and possible actions to be taken.  Actions are performed in
                     priority order (higher criticality first).

       <u>raw</u> &lt;<b>netfn&gt;</b> &lt;<b>cmd&gt;</b> [&lt;<b>data&gt;</b>]

              This  will allow you to execute raw IPMI commands.   For example to query the POH counter with
              a raw command:

              &gt; ipmitool -v raw 0x0 0xf
              RAW REQ (netfn=0x0 cmd=0xf data_len=0)
              RAW RSP (5 bytes)
              3c 72 0c 00 00

       <u>sdr</u>

              <u>get</u> &lt;<b>id&gt;</b> ... [&lt;<b>id&gt;</b>]

                     Prints information for sensor data records specified by sensor id.

              <u>info</u>

                     This command will query the BMC for SDR information.

              <u>type</u> &lt;<b>sensor</b> <b>type&gt;</b>

                     This command will display all records from the SDR of a specific type.  Run  with  type
                     <u>list</u> to see the list of available types.  For example to query for all Temperature sen-<font color="#ffffff" class="whiteout">sors:&nbsp;sensors:</font>
                     sors:

                     &gt; ipmitool sdr type Temperature
                     Baseboard Temp   | 30h | ok  |  7.1 | 28 degrees C
                     FntPnl Amb Temp  | 32h | ok  | 12.1 | 24 degrees C
                     Processor1 Temp  | 98h | ok  |  3.1 | 57 degrees C
                     Processor2 Temp  | 99h | ok  |  3.2 | 53 degrees C


              <u>list</u> | <u>elist</u> [&lt;<b>all</b>|<b>full</b>|<b>compact</b>|<b>event</b>|<b>mcloc</b>|<b>fru</b>|<b>generic&gt;</b>]

                     This command will read the Sensor Data Records (SDR) and extract sensor information  of
                     a  given  type,   then  query  each sensor and print its name, reading, and status.  If
                     invoked as <u>elist</u> then it will also print sensor number, entity  id  and  instance,  and
                     asserted discrete states.

                     The  default output will only display <u>full</u> and <u>compact</u> sensor types, to see all sensors
                     use the <u>all</u> type with this command.

                     Valid types are:

                            <u>all</u>

                                   All SDR records (Sensor and Locator)

                            <u>full</u>

                                   Full Sensor Record

                            <u>compact</u>

                                   Compact Sensor Record

                            <u>event</u>

                                   Event-Only Sensor Record

                            <u>mcloc</u>

                                   Management Controller Locator Record

                            <u>fru</u>

                                   FRU Locator Record

                            <u>generic</u>

                                   Generic SDR records

              <u>entity</u> &lt;<b>id&gt;</b>[.&lt;<b>instance&gt;</b>]

                     Displays all sensors associated with an entity.  Get a list of valid entity ids on  the
                     target  system by issuing the <u>sdr</u> <u>elist</u> command.  A list of all entity ids can be found
                     in the IPMI specifications.

              <u>dump</u> &lt;<b>file&gt;</b>

                     Dumps raw SDR data to a file.  This data file can then be used as a local SDR cache  of
                     the remote managed system with the <u>-S</u> <u>&lt;file&gt;</u> option on the ipmitool command line.  This
                     can greatly improve performance over system interface or remote LAN.

       <u>sel</u>

              NOTE: SEL entry-times are displayed as `Pre-Init Time-stamp' if the SEL clock needs to be set.
              Ensure  that  the  SEL  clock  is accurate by invoking the <u>sel</u> <u>time</u> <u>get</u> and <u>sel</u> <u>time</u> <u>set</u> <u>&lt;time</u>
              <u>string&gt;</u> commands.

              <u>info</u>

                     This command will query the BMC for information about the System Event  Log  (SEL)  and
                     its contents.

              <u>clear</u>

                     This  command will clear the contents of  the  SEL.  It cannot be undone so be careful.

              <u>list</u> | <u>elist</u>

                     When this command is invoked without arguments, the entire contents of the System Event
                     Log are displayed.  If invoked as <u>elist</u> it will also use the Sensor Data Record entries
                     to display the sensor ID for the sensor that caused each event.  <b>Note</b> this can  take  a
                     long time over the system interface.


                     &lt;<b>count&gt;</b>|<u>first</u> &lt;<b>count&gt;</b>

                            Displays  the  first <u>count</u> (least-recent) entries in the SEL.  If <u>count</u> is zero,
                            all entries are displayed.

                     <u>last</u> &lt;<b>count&gt;</b>

                            Displays the last <u>count</u> (most-recent) entries in the SEL.  If <u>count</u> is zero, all
                            entries are displayed.

              <u>delete</u> &lt;<b>number&gt;</b>

                     Delete a single event.

              <u>save</u> &lt;<b>file&gt;</b>

                     Save  SEL  records  to text file that can be fed back into the <u>event</u> <u>file</u> ipmitool com-<font color="#ffffff" class="whiteout">mand.&nbsp;command.</font>
                     mand.  This can be useful for testing Event generation by building an appropriate Plat-<font color="#ffffff" class="whiteout">form&nbsp;Platform</font>
                     form Event Message file based on existing events.  Please see the help for that command
                     to view the format of this file.

              <u>writeraw</u> &lt;<b>file&gt;</b>

                     Save SEL records to a file in raw, binary format.  This file can be fed back to the <u>sel</u>
                     <u>readraw</u> ipmitool command for viewing.

              <u>readraw</u> &lt;<b>file&gt;</b>

                     Read  and display SEL records from a binary file.  Such a file can be created using the
                     <u>sel</u> <u>writeraw</u> ipmitool command.

              <u>time</u>

                     <u>get</u>
                            Displays the SEL clock's current time.

                     <u>set</u> &lt;<b>time</b> <b>string&gt;</b>

                            Sets the SEL clock.  Future SEL entries will use the time set by  this  command.
                            &lt;time  string&gt;  is  of  the  form "MM/DD/YYYY HH:MM:SS".  Note that hours are in
                            24-hour form.  It is recommended that the SEL  be  cleared  before  setting  the
                            time.

       <u>sensor</u>

              <u>list</u>

                     Lists sensors and thresholds in a wide table format.

              <u>get</u> &lt;<b>id&gt;</b> ... [&lt;<b>id&gt;</b>]

                     Prints information for sensors specified by name.

              <u>thresh</u> &lt;<b>id&gt;</b> &lt;<b>threshold&gt;</b> &lt;<b>setting&gt;</b>

                     This  allows  you to set a particular sensor  threshold value.  The sensor is specified
                     by name.

                     Valid <u>thresholds</u> are:
                            <u>unr</u>  Upper Non-Recoverable
                            <u>ucr</u>  Upper Critical
                            <u>unc</u>  Upper Non-Critical
                            <u>lnc</u>  Lower Non-Critical
                            <u>lcr</u>  Lower Critical
                            <u>lnr</u>  Lower Non-Recoverable

              <u>thresh</u> &lt;<b>id&gt;</b> <u>lower</u> &lt;<b>lnr&gt;</b> &lt;<b>lcr&gt;</b> &lt;<b>lnc&gt;</b>

                     This allows you to set all lower thresholds for a sensor at the same time.  The  sensor
                     is  specified  by name and the thresholds are listed in order of Lower Non-Recoverable,
                     Lower Critical, and Lower Non-Critical.

              <u>thresh</u> &lt;<b>id&gt;</b> <u>upper</u> &lt;<b>unc&gt;</b> &lt;<b>ucr&gt;</b> &lt;<b>unr&gt;</b>

                     This allows you to set all upper thresholds for a sensor at the same time.  The  sensor
                     is  specified  by  name  and  the thresholds are listed in order of Upper Non-Critical,
                     Upper Critical, and Upper Non-Recoverable.


       <u>session</u>

              <u>info</u> &lt;<b>active</b>|<b>all</b>|<b>id</b> <b>0xnnnnnnnn</b>|<b>handle</b> <b>0xnn&gt;</b>

                     Get information about the specified <!-- a -->session(s)<!-- /a -->.  You may identify sessions by their id,
                     by  their handle number, by their active status, or by using the keyword `all' to spec-<font color="#ffffff" class="whiteout">ify&nbsp;specify</font>
                     ify all sessions.

       <u>shell</u>
              This command will launch an interactive shell which you can use to send multiple ipmitool com-<font color="#ffffff" class="whiteout">mands&nbsp;commands</font>
              mands to a BMC and see the responses.  This can be useful instead of running the full ipmitool
              command each time.  Some commands will make use of a Sensor Data Record cache and you will see
              marked improvement in speed if these commands are able to reuse the same cache in a shell ses-<font color="#ffffff" class="whiteout">sion.&nbsp;session.</font>
              sion.  LAN sessions will send a periodic keepalive command to keep the IPMI session from  tim-<font color="#ffffff" class="whiteout">ing&nbsp;timing</font>
              ing out.

       <u>sol</u>

              <u>info</u> [&lt;<b>channel</b> <b>number&gt;</b>]

                     Retrieve  information about the Serial-Over-LAN configuration on the specified channel.
                     If no channel is given, it will display SOL configuration data for the  currently  used
                     channel.

              <u>set</u> &lt;<b>parameter&gt;</b> &lt;<b>value&gt;</b> [&lt;<b>channel&gt;</b>]

                     Configure  parameters for Serial Over Lan.  If no channel is given, it will display SOL
                     configuration data for the currently used channel.  Configuration parameter updates are
                     automatically guarded with the updates to the set-in-progress parameter.

                     Valid parameters and values are:

                     <u>set-in-progress</u>
                            set-complete set-in-progress commit-write

                     <u>enabled</u>
                            true false

                     <u>force-encryption</u>
                            true false

                     <u>force-authentication</u>
                            true false

                     <u>privilege-level</u>
                            user operator admin oem

                     <u>character-accumulate-level</u>
                            Decimal number given in 5 milliseconds increments

                     <u>character-send-threshold</u>
                            Decimal number

                     <u>retry-count</u>
                            Decimal number.  0 indicates no retries after packet is transmitted.

                     <u>retry-interval</u>
                            Decimal  number  in 10 millisend increments.  0 indicates that retries should be
                            sent back to back.

                     <u>non-volatile-bit-rate</u>
                            serial, 19.2, 38.4, 57.6, 115.2.  Setting this value to  serial  indicates  that
                            the BMC should use the setting used by the IPMI over serial channel.

                     <u>volatile-bit-rate</u>
                            serial, 19.2, 38.4, 57.6, 115.2.  Setting this value to serial indiates that the
                            BMC should use the setting used by the IPMI over serial channel.

              <u>activate</u>

                     Causes ipmitool to enter Serial Over LAN mode, and is only  available  when  using  the
                     lanplus  interface.  An RMCP+ connection is made to the BMC, the terminal is set to raw
                     mode, and user input is sent to the serial console on the remote server.   On  exit,the
                     the SOL payload mode is deactivated and the terminal is reset to its original settings.

                     Special escape sequences are provided to control the SOL session:

                            <u>~.</u>   Terminate connection

                            <u>~^Z</u>  Suspend ipmitool

                            <u>~B</u>   Send break

                            <u>~~</u>   Send the escape character by typing it twice

                            <u>~?</u>   Print the supported escape sequences

              <u>deactivate</u>

                     Deactivates Serial Over LAN mode on the BMC.  Exiting Serial Over LAN mode should auto-<font color="#ffffff" class="whiteout">matically&nbsp;automatically</font>
                     matically cause this command to be sent to the BMC, but in the case of an unintentional
                     exit from SOL mode, this command may be necessary to reset the state of the BMC.

       <u>sunoem</u>

              <u>led</u>

                     These commands provide a way to get and set the status of LEDs on  a  Sun  Microsystems
                     server.   Use  'sdr  list generic' to get a list of devices that are controllable LEDs.
                     The <u>ledtype</u> parameter is optional and not necessary to  provide  on  the  command  line
                     unless it is required by hardware.

                     <u>get</u> &lt;<b>sensorid&gt;</b> [&lt;<b>ledtype&gt;</b>]

                            Get  status  of a particular LED described by a Generic Device Locator record in
                            the SDR.  A sensorid of <u>all</u> will get the status of all available LEDS.

                     <u>set</u> &lt;<b>sensorid&gt;</b> &lt;<b>ledmode&gt;</b> [&lt;<b>ledtype&gt;</b>]

                            Set status of a particular LED described by a Generic Device Locator  record  in
                            the  SDR.   A  sensorid  of <u>all</u> will set the status of all available LEDS to the
                            specified <u>ledmode</u> and <u>ledtype</u>.

                     LED Mode is required for set operations:
                            <u>OFF</u>         Off
                            <u>ON</u>          Steady On
                            <u>STANDBY</u>     100ms on 2900ms off blink rate
                            <u>SLOW</u>        1HZ blink rate
                            <u>FAST</u>        4HZ blink rate

                     LED Type is optional:
                            <u>OK2RM</u>       Ok to Remove
                            <u>SERVICE</u>     Service Required
                            <u>ACT</u>         Activity
                            <u>LOCATE</u>      Locate


              <u>sshkey</u>

                     <u>set</u> &lt;<b>userid&gt;</b> &lt;<b>keyfile&gt;</b>

                            This command will allow you to specify an SSH key to use for a  particular  user
                            on  the  Service  Processor.  This key will be used for CLI logins to the SP and
                            not for IPMI sessions.  View available users and their userids  with  the  'user
                            list' command.

                     <u>del</u> &lt;<b>userid&gt;</b>

                            This command will delete the SSH key for a specified userid.



       <u>tsol</u>

              This command allows Serial-over-LAN sessions to be established with Tyan IPMIv1.5 SMDC such as
              the M3289 or M3290.  The default command run with no arguments will establish default SOL ses-<font color="#ffffff" class="whiteout">sion&nbsp;session</font>
              sion back to local IP address.  Optional arguments may be supplied in any order.


              <u>&lt;ipaddr&gt;</u>

                     Send  receiver  IP  address  to  SMDC  which it will use to send serial traffic to.  By
                     default this detects the local IP address and establishes two-way session.


              <u>port=NUM</u>

                     Configure UDP port to receive serial traffic on.  By default this is 6230.


              <u>ro|rw</u>

                     Confiure SOL session as read-only or read-write.  Sessions are read-write by default.



       <u>user</u>

              <u>summary</u>

                     Displays a summary of userid information, including maximum number of userids, the num-<font color="#ffffff" class="whiteout">ber&nbsp;number</font>
                     ber of enabled users, and the number of fixed names defined.

              <u>list</u>

                     Displays a list of user information for all defined userids.

              <u>set</u>

                     <u>name</u> &lt;<b>userid&gt;</b> &lt;<b>username&gt;</b>

                            Sets the username associated with the given userid.

                     <u>password</u> &lt;<b>userid&gt;</b> [&lt;<b>password&gt;</b>]

                            Sets  the  password for the given userid.  If no password is given, the password
                            is cleared (set to the NULL password).  Be careful when removing passwords  from
                            administrator-level accounts.

              <u>disable</u> &lt;<b>userid&gt;</b>

                     Disables access to the BMC by the given userid.

              <u>enable</u> &lt;<b>userid&gt;</b>

                     Enables access to the BMC by the given userid.

              <u>test</u> &lt;<b>userid&gt;</b> &lt;<b>16</b>|<b>20&gt;</b> [&lt;<b>password&gt;</b>]

                     Determine whether a password has been stored as 16 or 20 bytes.


<b>OPEN</b> <b>INTERFACE</b>
       The  ipmitool  <u>open</u>  interface utilizes the OpenIPMI kernel device driver.  This driver is present in
       all modern 2.4 and all 2.6 kernels and it should be present in  recent  Linux  distribution  kernels.
       There  are  also IPMI driver kernel patches for different kernel versions available from the OpenIPMI
       homepage.

       The required kernel modules is different for 2.4 and 2.6 kernels.  The following kernel modules  must
       be loaded on a 2.4-based kernel in order for ipmitool to work:

       <b>ipmi_msghandler</b>
              Incoming and outgoing message handler for IPMI interfaces.

       <b>ipmi_kcs_drv</b>
              An IPMI Keyboard Controler Style (KCS) interface driver for the message handler.

       <b>ipmi_devintf</b>
              Linux character device interface for the message handler.

       The following kernel modules must be loaded on a 2.6-based kernel in order for ipmitool to work:

       <b>ipmi_msghandler</b>
              Incoming and outgoing message handler for IPMI interfaces.

       <b>ipmi_si</b>
              An  IPMI  system  interface driver for the message handler.  This module supports various IPMI
              system interfaces such as KCS, BT, SMIC, and even SMBus in 2.6 kernels.

       <b>ipmi_devintf</b>
              Linux character device interface for the message handler.

       Once the required modules are loaded there will be a dynamic character device entry that  must  exist
       at <b>/dev/ipmi0</b>.  For systems that use devfs or udev this will appear at <b>/dev/ipmi/0</b>.

       To  create the device node first determine what dynamic major number it was assigned by the kernel by
       looking in <b>/proc/devices</b> and checking for the <u>ipmidev</u> entry.  Usually if this is  the  first  dynamic
       device  it  will  be major number <b>254</b> and the minor number for the first system interface is <b>0</b> so you
       would create the device entry with:

       <u>mknod</u> <u>/dev/ipmi0</u> <u>c</u> <u>254</u> <u>0</u>

       ipmitool includes some sample initialization scripts that can  perform  this  task  automatically  at
       start-up.

       In order to have ipmitool use the OpenIPMI device interface you can specifiy it on the command line:

       ipmitool <b>-I</b> <u>open</u> &lt;<u>command&gt;</u>

<b>BMC</b> <b>INTERFACE</b>
       The  ipmitool  bmc interface utilizes the <u>bmc</u> device driver as provided by Solaris 10 and higher.  In
       order to force ipmitool to make use of this interface you can specify it on the command line:

       ipmitool <b>-I</b> <u>bmc</u> &lt;<u>command&gt;</u>

       The following files are associated with the bmc driver:


       <b>/platform/i86pc/kernel/drv/bmc</b>
              32-bit <b>ELF</b> kernel module for the bmc driver.

       <b>/platform/i86pc/kernel/drv/amd64/bmc</b>
              64-bit <b>ELF</b> kernel module for the bmc driver.

       <b>/dev/bmc</b>
              Character device node used to communicate with the bmc driver.

<b>LIPMI</b> <b>INTERFACE</b>
       The ipmitool <u>lipmi</u> interface uses the Solaris 9 IPMI kernel device driver.  It has  been  superceeded
       by  the <u>bmc</u> interface on Solaris 10.  You can tell ipmitool to use this interface by specifying it on
       the command line.

       ipmitool <b>-I</b> <u>lipmi</u> &lt;<u>expression&gt;</u>

<b>LAN</b> <b>INTERFACE</b>
       The ipmitool <u>lan</u> interface communicates with the BMC over an Ethernet LAN connection using UDP  under
       IPv4.   UDP  datagrams  are  formatted  to contain IPMI request/response messages with a IPMI session
       headers and RMCP headers.

       IPMI-over-LAN uses version 1 of the Remote Management Control Protocol (RMCP) to support  pre-OS  and
       OS-absent management.  RMCP is a request-response protocol delivered using UDP datagrams to port 623.

       The LAN interface is an authenticatiod multi-session connection; messages delivered to  the  BMC  can
       (and should) be authenticated with a challenge/response protocol with either straight password/key or
       MD5 message-digest algorithm.  ipmitool will attempt to connect with administrator privilege level as
       this is required to perform chassis power functions.

       You can tell ipmitool to use the lan interface with the <b>-I</b> <u>lan</u> option:


       ipmitool <b>-I</b> <u>lan</u> <b>-H</b> &lt;<u>hostname&gt;</u> [<b>-U</b> &lt;<u>username&gt;</u>] [<b>-P</b> &lt;<u>password&gt;</u>] &lt;<u>command&gt;</u>

       A  hostname  must  be given on the command line in order to use the lan interface with ipmitool.  The
       password field is optional; if you do not provide a password  on  the  command  line,  ipmitool  will
       attempt  to connect without authentication.  If you specify a password it will use MD5 authentication
       if supported by the BMC and straight password/key otherwise, unless overridden with  a  command  line
       option.

<b>LANPLUS</b> <b>INTERFACE</b>
       Like  the <u>lan</u> interface, the <u>lanplus</u> interface communicates with the BMC over an Ethernet LAN connec-<font color="#ffffff" class="whiteout">tion&nbsp;connection</font>
       tion using UDP under IPv4.  The difference is that the <u>lanplus</u> interface uses the RMCP+  protocol  as
       described  in  the  IMPI  v2.0  specification.   RMCP+  allows  for  improved authentication and data
       integrity checks, as well as encryption and the ability to carry multiple types of payloads.  Generic
       Serial  Over LAN support requires RMCP+, so the ipmitool <u>sol</u> <u>activate</u> command requires the use of the
       <u>lanplus</u> interface.

       RMCP+ session establishment uses a symmetric challenge-response protocol called RAKP (<b>Remote</b>  <b>Authen</b>-<font color="#ffffff" class="whiteout">ticated&nbsp;Authenticated</font>
       <b>ticated</b>  <b>Key-Exchange</b>  <b>Protocol</b>) which allows the negotiation of many options.  ipmitool does not yet
       allow the user to specify the value of every option, defaulting to the most obvious  settings  marked
       as  required  in  the v2.0 specification.  Authentication and integrity HMACS are produced with SHA1,
       and encryption is performed with AES-CBC-128.  Role-level logins are not yet supported.

       ipmitool must be linked with the <u>OpenSSL</u> library in order to perform  the  encryption  functions  and
       support the <u>lanplus</u> interface.  If the required packages are not found it will not be compiled in and
       supported.

       You can tell ipmitool to use the lanplus interface with the <b>-I</b> <u>lanplus</u> option:


       ipmitool <b>-I</b> <u>lanplus</u> <b>-H</b> &lt;<u>hostname&gt;</u> [<b>-U</b> &lt;<u>username&gt;</u>] [<b>-P</b> &lt;<u>password&gt;</u>] &lt;<u>command&gt;</u>

       A hostname must be given on the command line in order to use the lan interface with  ipmitool.   With
       the  exception  of  the <b>-A</b> and <b>-C</b> options the rest of the command line options are identical to those
       available for the <u>lan</u> interface.

       The <b>-C</b> option allows you specify the authentication, integrity, and encryption algorithms to use  for
       for  <u>lanplus</u> session based on the cipher suite ID found in the IPMIv2.0 specification in table 22-19.
       The default cipher suite is <u>3</u> which specifies RAKP-HMAC-SHA1 authentication, HMAC-SHA1-96  integrity,
       and AES-CBC-128 encryption algorightms.

<b>EXAMPLES</b>
       <u>Example</u> <u>1</u>: Listing remote sensors

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile sdr list
              Baseboard 1.25V  | 1.24 Volts        | ok
              Baseboard 2.5V   | 2.49 Volts        | ok
              Baseboard 3.3V   | 3.32 Volts        | ok

       <u>Example</u> <u>2</u>: Displaying status of a remote sensor

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile sensor get "Baseboard 1.25V"
              Locating sensor record...
              Sensor ID              : Baseboard 1.25V (0x10)
              Sensor Type (Analog)   : Voltage
              Sensor Reading         : 1.245 (+/- 0.039) Volts
              Status                 : ok
              Lower Non-Recoverable  : na
              Lower Critical         : 1.078
              Lower Non-Critical     : 1.107
              Upper Non-Critical     : 1.382
              Upper Critical         : 1.431
              Upper Non-Recoverable  : na

       <u>Example</u> <u>3</u>: Displaying the power status of a remote chassis

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile chassis power status
              Chassis Power is on

       <u>Example</u> <u>4</u>: Controlling the power on a remote chassis

              &gt; ipmitool -I lan -H 1.2.3.4 -f passfile chassis power on
              Chassis Power Control: Up/On

<b>AUTHOR</b>
       Duncan Laurie &lt;duncan@iceblink.org&gt;

<b>SEE</b> <b>ALSO</b>
       IPMItool Homepage
              <a href="http://ipmitool.sourceforge.net">http://ipmitool.sourceforge.net</b></a><b>

       Intelligent Platform Management Interface Specification
              <a href="http://www.intel.com/design/servers/ipmi">http://www.intel.com/design/servers/ipmi</b></a><b>

       OpenIPMI Homepage
              <a href="http://openipmi.sourceforge.net">http://openipmi.sourceforge.net</b></a><b>




Duncan Laurie                                                                                    ipmitool(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/ipmitool.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/ipmitool.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/ipmitool.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
