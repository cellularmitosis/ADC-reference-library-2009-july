<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>TextMode(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING151></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-126.html"><B>Chapter 3 - QuickDraw Text</B></A> / <A HREF="Text-143.html"><B>QuickDraw Text Reference</B></A><BR><DL><DD><A HREF="Text-147.html"><B>Routines</B></A> / <A HREF="Text-148.html"><B>Setting Text Characteristics</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING151-0></A>
<H3>TextMode</H3>
 The <A NAME=MARKER-2-92></A><CODE>TextMode</CODE> procedure sets the <A NAME=MARKER-9-12></A>transfer mode for drawing text in the current <BR>graphics port.<P>
<PRE>
PROCEDURE TextMode (mode: Integer);
</PRE>
<DL>
<DT><CODE>mode</CODE>
<DD> The transfer mode to be used to draw the text.
</DL>
<A NAME=HEADING151-4></A>
<H5>DESCRIPTION</H5>
 The TextMode procedure sets the transfer mode in the graphics port <A NAME=MARKER-2-67></A><CODE>txMode</CODE> field. The transfer mode determines the interplay between what an application is drawing (the source) and what already exists on the display device (the destination), resulting in the text display.<P>
 There are two basic kinds of modes: pattern (<CODE>pat</CODE>) and source (<A NAME=MARKER-2-151></A><CODE>src</CODE>). Source is the kind that you use for drawing text. There are four basic Boolean operations: <CODE><A NAME=MARKER-2-49></A>Copy</CODE>, <CODE>Or</CODE>, <CODE>Xor</CODE>, and <CODE>Bic</CODE> (bit clear), each of which has an inverse variant in which the source is inverted before the transfer, yielding eight operations in all. Original QuickDraw supports these eight transfer modes. Color QuickDraw enables your application to achieve color effects within those basic transfer modes, and offers an additional set of transfer modes that perform arithmetic operations on the RGB values of the source and destination pixels. See the chapter "Color QuickDraw" in <I><A HREF="../QuickDraw/QuickDraw-2.html">Inside Macintosh: Imaging</A></I> for a complete discussion of the arithmetic transfer modes. Other transfer modes are <CODE>grayishTextOr</CODE>, <CODE>transparent</CODE> mode, and text mask mode.<P>
 <A HREF=#MARKER-9-6>Table 3-1</A> shows the eight basic transfer modes and their effects on the destination pixels.
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-6></A><B>Table 3-1 Effects of the basic transfer modes</B></CAPTION>
<TH>Source<TH colspan=2>Action on the destination pixel<TR>
<TH>&nbsp;<TH>If black source<TH>If white source<TR>
<TD>srcCopy<TD>Force black<TD>Force white<TR>
<TD>srcOr<TD>Force black<TD>Leave alone<TR>
<TD>srcXOr<TD>Invert<TD>Leave alone<TR>
<TD>srcBic<TD>Force white<TD>Leave alone<TR>
<TD>NotSrcCopy<TD>Force white<TD>Force black<TR>
<TD>NotSrcOr<TD>Leave alone<TD>Force black<TR>
<TD>NotSrcXOr<TD>Leave alone<TD>Invert<TR>
<TD>NotSrcBic<TD>Leave alone<TD>Force white</TABLE>
 <P>
 This is how color affects these transfer modes when the source pixels are either all black (all 1's) or white (all 0's).<P>
<A NAME=HEADING151-9></A>
<H4>Copy</H4>
 The <CODE>Copy</CODE> mode applies the foreground color to the black part of the source (the part containing 1's) and the background color to the white part of the source (the part containing 0's), and replaces the destination with the colored source.<P>
<A NAME=HEADING151-11></A>
<H4>Or</H4>
 The<A NAME=MARKER-2-270></A> <CODE>Or</CODE> mode applies the foreground color to the black part of the source and replaces the destination with the colored source. The white part of the source isn't transferred <BR>to the destination. If the foreground is black, the drawing will be faster. Copying to a white background always reproduces the source image, regardless of the pixel depth.<P>
<A NAME=HEADING151-13></A>
<H4>Xor</H4>
 The <A NAME=MARKER-2-144></A><CODE>Xor</CODE> mode complements the bits in the destination corresponding to the bits equal to 1 in the source. When used on a colored destination, the color of the inverted destination isn't defined.<P>
<A NAME=HEADING151-15></A>
<H4>Bic</H4>
 The <A NAME=MARKER-2-899></A><CODE>Bic</CODE> mode applies the background color to the black part of the source and<BR>replaces the destination with the colored source. The white part of the source isn't transferred to the destination. The black part of the source is erased, resulting in white <BR>in the destination.<P>
<A NAME=HEADING151-17></A>
<H4>NotCopy</H4>
 The <A NAME=MARKER-2-343></A><CODE>NotCopy</CODE> mode applies the foreground color to the white part of the source and the background color to the black part of the source, and replaces the destination with the colored source. It thus has the effect of reversing the foreground and background colors.<P>
<A NAME=HEADING151-19></A>
<H4>NotOr</H4>
 The <A NAME=MARKER-2-896></A><CODE>NotOr</CODE> mode applies the foreground color to the white part of the source and replaces the destination with the colored source. The black part of the source isn't transferred to the destination. If the foreground is black, the drawing will be faster.<P>
<A NAME=HEADING151-21></A>
<H4>NotXor</H4>
 The <A NAME=MARKER-2-897></A><CODE>NotXor</CODE> mode inverts the bits that are 0 in the source. When used on a colored destination, the color of the inverted destination isn't defined.<P>
<A NAME=HEADING151-23></A>
<H4>NotBic</H4>
 The <A NAME=MARKER-2-330></A><CODE>NotBic</CODE> mode applies the background color to the white part of the source and replaces the destination with the colored source. The black part of the source isn't transferred to the destination.<P>
 The <A NAME=MARKER-2-348></A>arithmetic transfer modes are <CODE>addOver</CODE>, <CODE>addPin</CODE>, <CODE>subOver</CODE>, <CODE>subPin</CODE>, <CODE>adMax</CODE>, <CODE>adMin</CODE>, and <CODE>blend</CODE>. For color, the arithmetic modes change the destination pixels by performing arithmetic operations on the source and destination pixels. Arithmetic transfer modes calculate pixel values by adding, subtracting, or averaging the RGB components of the source and destination pixels. They are most useful for 8-bit color, but they work on 4-bit and 2-bit color also. When the destination bitmap is one bit deep, the mode reverts to the basic transfer mode that best approximates the arithmetic mode requested.<P>
 The <A NAME=MARKER-2-349></A><CODE>grayishTextOr</CODE> transfer mode draws dimmed text on the screen. You can use it for black-and-white or color graphics ports. The <CODE>grayishTextOr</CODE> transfer mode is not considered a standard transfer mode because currently it is not stored in pictures, and printing with it is undefined. (It does not pass through the QuickDraw bottleneck routines.)<P>
 The <A NAME=MARKER-2-350></A>transparent mode replaces the destination pixel with the source pixel if the source pixel isn't equal to the background color. This mode is most useful in 8-bit, 4-bit, or 2-bit color modes.<P>
<DL>
<DT><B>Note</B>
<DD>Multibit fonts may have a specific color. Some transfer modes may not produce the desired results with a multibit font. However, the arithmetic modes, transparent mode, and hilite mode work equally well with single bit and multibit fonts. Multibit fonts draw quickly in <CODE>srcOr</CODE> mode only if the foreground is white. Single bit fonts draw quickly in <CODE>srcOr</CODE> mode only if the foreground is black. Grayscale fonts produce a spectrum of colors, rather than just the foreground and background colors. The following table shows transfer mode constants and <BR>their selectors.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=MARKER-9-347><B>Table 3-2  Transfer mode constants and selectors
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Transfer mode<TH>Selector<TH>Transfer mode<TH>Selector<TR>
<TD>srcCopy<TD>0<TD>addPin<TD>33<TR>
<TD>srcOr<TD>1<TD>addOver<TD>34<TR>
<TD>srcXor<TD>2<TD>subPin<TD>35<TR>
<TD>srcBic<TD>3<TD>transparent<TD>36<TR>
<TD>notSrcCopy<TD>4<TD>adMax<TD>37<TR>
<TD>notSrcOr<TD>5<TD>subOver<TD>38<TR>
<TD>notSrcXor<TD>6<TD>adMin<TD>39<TR>
<TD>notSrcBic<TD><CODE>7</CODE><TD>grayishTextOr<TD>49<TR>
<TD>blend<TD><CODE>32</CODE><TD>mask<TD>64</TABLE>
</B><P>
 For more information about transfer modes, see the chapters "QuickDraw Drawing" and "Color Qu<A NAME=MARKER-2-18></A>ickDraw" in <I><A HREF="../QuickDraw/QuickDraw-2.html">Inside Macintosh: Imaging</A></I>.<A NAME=MARKER-2-373></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-150.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-152.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
