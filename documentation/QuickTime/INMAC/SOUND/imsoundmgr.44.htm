<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE>Extended Sound Header Records (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.43.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.3d.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.45.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=2693"> </A>Extended Sound Header Records<A NAME="marker=296"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=2828"> </A><A NAME="marker=298"> </A><A NAME="marker=403"> </A>For sampled-sound data that is more complex than a standard sound header can describe, the Sound Manager uses an extended sound header record. Sound data described by such a header can be monophonic or stereo, but it cannot be compressed.</P><P CLASS="T1.Text1"><A NAME="pgfId=2047"> </A>Most of the fields of the extended sound header correspond to fields of the sampled sound header. However, the extended sound header allows the encoding of stereo sound. The <TT CLASS="cv">numChannels</TT> field contains the number of channels of sound recorded, and the <TT CLASS="cv">numFrames</TT> field contains the number of frames of sound recorded in each channel. For more information on the format of sampled sound frames, see <A target="doc" HREF="imsoundmgr.30.htm#29256" CLASS="XRef">&quot;Sound Files&quot;</A>.</P><P CLASS="Note"><A NAME="pgfId=2897"> </A>The word &quot;channel&quot; can be confusing in this context, because a sound resource containing polyphonic sound (that is, multichannel sound) can be played on a single Sound Manager sound channel. <B CLASS="bold">Channel</B> is a general term for the portion of sound data that can be described by a single sound wave. Monophonic sound is composed of a single channel. <B CLASS="bold">Stereo sound</B> (also called <B CLASS="bold">polyphonic sound</B>) is composed of several channels of sound played simultaneously. &quot;Sound channel&quot; is a term specific to the Sound Manager. <A NAME="marker=302"> </A></P><CODE CLASS="CvF.CodeFull"><A NAME="pgfId=11380"> </A>TYPE ExtSoundHeader =<BR>PACKED RECORD<BR>&nbsp;&nbsp;&nbsp;&nbsp;samplePtr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{if NIL, samples in sampleArea}<BR>&nbsp;&nbsp;&nbsp;&nbsp;numChannels:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{number of channels in sample}<BR>&nbsp;&nbsp;&nbsp;&nbsp;sampleRate:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fixed;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{rate of original sample}<BR>&nbsp;&nbsp;&nbsp;&nbsp;loopStart:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{loop point beginning}<BR>&nbsp;&nbsp;&nbsp;&nbsp;loopEnd:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{loop point ending}<BR>&nbsp;&nbsp;&nbsp;&nbsp;encode:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Byte;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{sample's encoding option}<BR>&nbsp;&nbsp;&nbsp;&nbsp;baseFrequency:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Byte;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{base freq. of original sample}<BR>&nbsp;&nbsp;&nbsp;&nbsp;numFrames:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{total number of frames}<BR>&nbsp;&nbsp;&nbsp;&nbsp;AIFFSampleRate:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extended80;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{rate of original sample}<BR>&nbsp;&nbsp;&nbsp;&nbsp;markerChunk:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{reserved}<BR>&nbsp;&nbsp;&nbsp;&nbsp;instrumentChunks:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pointer to instrument info}<BR>&nbsp;&nbsp;&nbsp;&nbsp;AESRecording:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ptr;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pointer to audio info}<BR>&nbsp;&nbsp;&nbsp;&nbsp;sampleSize:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{number of bits per sample}<BR>&nbsp;&nbsp;&nbsp;&nbsp;futureUse1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{reserved}<BR>&nbsp;&nbsp;&nbsp;&nbsp;futureUse2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{reserved}<BR>&nbsp;&nbsp;&nbsp;&nbsp;futureUse3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{reserved}<BR>&nbsp;&nbsp;&nbsp;&nbsp;futureUse4:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{reserved}<BR>&nbsp;&nbsp;&nbsp;&nbsp;sampleArea:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PACKED ARRAY[0..0] OF Byte;<BR>END;<BR></CODE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11384"> </A><TT CLASS="cv">samplePtr</TT><A NAME="marker=11388"> </A></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2784"> </A>A pointer to the sampled-sound data. If the sampled sound is located in memory immediately after the <TT CLASS="cv">futureUse4</TT> field, then this field should be set to <TT CLASS="cv">NIL</TT>. Otherwise, this field is a pointer to the memory location of the sampled-sound data.<A NAME="marker=1245"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11394"> </A><TT CLASS="cv">numChannels</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2785"> </A>The number of channels in the sampled-sound data.<A NAME="marker=1246"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11403"> </A><TT CLASS="cv">sampleRate</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2786"> </A>The rate at which the sample was originally recorded. The approximate sample rates are shown in <A target="doc" HREF="imsoundmgr.9.htm#41736" CLASS="XRef">Table 1-2</A>. Note that the sample rate is declared as a <TT CLASS="cv">Fixed</TT> data type, but the most significant bit is not treated as a sign bit; instead, that bit is interpreted as having the value 32,768.<A NAME="marker=1251"> </A><A NAME="marker=503"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11412"> </A><TT CLASS="cv">loopStart</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2787"> </A>The starting point of the portion of the extended sampled sound header that is to be used by the Sound Manager when determining the duration of <TT CLASS="cv">freqDurationCmd</TT>. These loop points specify the byte numbers in the sampled data to be used as the beginning and end points to cycle through when playing the sound. The loop starting and ending points are 0-based.<A NAME="marker=1257"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11421"> </A><TT CLASS="cv">loopEnd</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2788"> </A>The end point of the portion of the extended sampled sound header that is to be used by the Sound Manager when determining the duration of <TT CLASS="cv">freqDurationCmd</TT>.<A NAME="marker=1262"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11430"> </A><TT CLASS="cv">encode</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2789"> </A>The method of encoding used to generate the sampled-sound data. For an extended sound header, you should specify the constant <TT CLASS="cv">extSH</TT>. Encode option values in the ranges 0 through 63 and 128 to 255 are reserved for use by Apple. You are free to use numbers in the range 64 through 127 for your own encode options.<A NAME="marker=1265"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11439"> </A><TT CLASS="cv">baseFrequency</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2790"> </A>The pitch at which the original sample was taken. This value must be in the range 1 through 127. <A target="doc" HREF="imsoundmgr.1b.htm#17380" CLASS="XRef">Table 1-3</A> lists the possible <TT CLASS="cv">baseFrequency</TT> values. The <TT CLASS="cv">baseFrequency</TT> value allows the Sound Manager to calculate the proper playback rate of the sample when an application uses the <TT CLASS="cv">freqDurationCmd</TT> command. Applications should not alter the <TT CLASS="cv">baseFrequency</TT> field of a sampled sound; to play the sample at different pitches, use <TT CLASS="cv">freqDurationCmd</TT> or <TT CLASS="cv">freqCmd</TT>.<A NAME="marker=1293"> </A><A NAME="marker=1521"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11448"> </A><TT CLASS="cv">numFrames</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2791"> </A>The number of frames in the sampled-sound data. Each frame contains <TT CLASS="cv">numChannels</TT> bytes for 8-bit sound data.<A NAME="marker=1295"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11457"> </A><TT CLASS="cv">AIFFSampleRate</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2792"> </A>The sample rate at which the frames were sampled before compression, as expressed in the 80-bit extended data type representation.<A NAME="marker=1299"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11466"> </A><TT CLASS="cv">markerChunk</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2793"> </A>Synchronization information. The <TT CLASS="cv">markerChunk</TT> field is not presently used and should be set to <TT CLASS="cv">NIL</TT>.<A NAME="marker=1304"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11475"> </A><TT CLASS="cv">instrumentChunks</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2794"> </A> Instrument information.<A NAME="marker=1306"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11485"> </A><TT CLASS="cv">AESRecording</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2795"> </A>Information related to audio recording devices.<A NAME="marker=1328"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11494"> </A><TT CLASS="cv">sampleSize</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2796"> </A>The number of bits in each sample frame.<A NAME="marker=1335"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11503"> </A><TT CLASS="cv">futureUse1</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2797"> </A>Reserved.<A NAME="marker=1336"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11512"> </A><TT CLASS="cv">futureUse2</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2798"> </A>Reserved.<A NAME="marker=1344"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11521"> </A><TT CLASS="cv">futureUse3</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2799"> </A>Reserved.<A NAME="marker=1345"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11530"> </A><TT CLASS="cv">futureUse4</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2800"> </A>The four <TT CLASS="cv">futureUse</TT> fields are reserved for use by Apple. To maintain compatibility with future releases of system software, you should always set these fields to 0.<A NAME="marker=1346"> </A></BLOCKQUOTE><P CLASS="DT.DefinitionTerm"><A NAME="pgfId=11539"> </A><TT CLASS="cv">sampleArea</TT></P><BLOCKQUOTE CLASS="DD.DefinitionDef"><A NAME="pgfId=2801"> </A>An array of interleaved sample points, each of which contains a value similar to the values in a wave-table description. For 8-bit sampled-sound data, these values are interpreted as offset values, where $80 represents an amplitude of 0. The value $00 is the largest negative amplitude, and $FF is the largest positive amplitude.<A NAME="marker=1347"> </A><A NAME="marker=1349"> </A></BLOCKQUOTE><P CLASS="T1.Text1"><A NAME="pgfId=2899"> </A>To compute the total number of bytes of a sample, multiply the values in the <TT CLASS="cv">numChannels</TT>, <TT CLASS="cv">numFrames</TT>, and <TT CLASS="cv">sampleSize</TT> fields and divide by the number of bytes per sample (typically 8 or 16).<A NAME="marker=422"> </A></P><P CLASS="Note"><A NAME="pgfId=2900"> </A>Although extended sound headers (and compressed sound headers, described next) support the storage of 16-bit sound, only versions 3.0 and later of the Sound Manager can play 16-bit sounds. If your application uses 16-bit sound, you must convert it to 8-bit sound before earlier versions of the Sound Manager can play it. <A NAME="marker=1209"> </A></P><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.43.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.3d.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.45.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>