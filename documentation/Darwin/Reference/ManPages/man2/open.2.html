<html><head><title>Mac OS X Developer Tools
 Manual Page For open(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/open" title="Mac OS X Developer Tools
 Manual Page for open(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/open"; name=open(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
OPEN(2)                     BSD System Calls Manual                    OPEN(2)

<b>NAME</b>
     <b>open</b> -- open or create a file for reading or writing

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;fcntl.h&gt;</b>

     <u>int</u>
     <b>open</b>(<u>const</u> <u>char</u> <u>*path</u>, <u>int</u> <u>oflag</u>, <u>...</u>);

<b>DESCRIPTION</b>
     The file name specified by <u>path</u> is opened for reading and/or writing, as specified by the argument
     <u>oflag</u>; the file descriptor is returned to the calling process.

     The <u>oflag</u> argument may indicate that the file is to be created if it does not exist (by specifying the
     O_CREAT flag).  In this case, <b>open</b> requires a third argument <u>mode</u><b>_</b><u>t</u> <u>mode</u>; the file is created with mode
     <u>mode</u> as described in <a href="chmod.2.html#//apple_ref/doc/man/2/chmod">chmod(2)</a> and modified by the process' umask value (see <a href="umask.2.html#//apple_ref/doc/man/2/umask">umask(2)</a>).

     The flags specified are formed by <u>or</u>'ing the following values:

           O_RDONLY        open for reading only
           O_WRONLY        open for writing only
           O_RDWR          open for reading and writing
           O_NONBLOCK      do not block on open or for data to become available
           O_APPEND        append on each write
           O_CREAT         create file if it does not exist
           O_TRUNC         truncate size to 0
           O_EXCL          error if O_CREAT and the file exists
           O_SHLOCK        atomically obtain a shared lock
           O_EXLOCK        atomically obtain an exclusive lock
           O_NOFOLLOW      do not follow symlinks
           O_SYMLINK       allow open of symlinks

     Opening a file with O_APPEND set causes each write on the file to be appended to the end.  If O_TRUNC
     is specified and the file exists, the file is truncated to zero length.  If O_EXCL is set with O_CREAT
     and the file already exists, <b>open</b>() returns an error.  This may be used to implement a simple exclu-<font color="#ffffff" class="whiteout">sive-access&nbsp;exclusive-access</font>
     sive-access locking mechanism.  If O_EXCL is set and the last component of the pathname is a symbolic
     link, <b>open</b>() will fail even if the symbolic link points to a non-existent name.

     If the O_NONBLOCK flag is specified, do not wait for the device or file to be ready or available.  If
     the <b>open</b>() call would result in the process being blocked for some reason (e.g., waiting for carrier on
     a dialup line), <b>open</b>() returns immediately.  This flag also has the effect of making all subsequent I/O
     on the open file non-blocking.

     When opening a file, a lock with <a href="flock.2.html#//apple_ref/doc/man/2/flock">flock(2)</a> semantics can be obtained by setting O_SHLOCK for a shared
     lock, or O_EXLOCK for an exclusive lock.  If creating a file with O_CREAT, the request for the lock
     will never fail (provided that the underlying filesystem supports locking).

     If O_NOFOLLOW is used in the mask and the target file passed to <b>open</b>() is a symbolic link then the
     <b>open</b>() will fail.

     If O_SYMLINK is used in the mask and the target file passed to <b>open</b>() is a symbolic link then the
     <b>open</b>() will be for the symbolic link itself, not what it links to.

     If successful, <b>open</b>() returns a non-negative integer, termed a file descriptor.  It returns -1 on fail-<font color="#ffffff" class="whiteout">ure.&nbsp;failure.</font>
     ure.  The file pointer (used to mark the current position within the file) is set to the beginning of
     the file.

     When a new file is created, it is given the group of the directory which contains it.

     The new descriptor is set to remain open across execve system calls; see <a href="close.2.html#//apple_ref/doc/man/2/close">close(2)</a> and <a href="fcntl.2.html#//apple_ref/doc/man/2/fcntl">fcntl(2)</a>.

     The system imposes a limit on the number of file descriptors that can be held open simultaneously by
     one process.  <!-- a -->Getdtablesize(2)<!-- /a --> returns the current system limit.

<b>RETURN</b> <b>VALUES</b>
     If successful, <b>open</b>() returns a non-negative integer, termed a file descriptor.  It returns -1 on fail-<font color="#ffffff" class="whiteout">ure,&nbsp;failure,</font>
     ure, and sets <u>errno</u> to indicate the error.

<b>ERRORS</b>
     The named file is opened unless:

     [EACCES]           Search permission is denied for a component of the path prefix.

     [EACCES]           The required permissions (for reading and/or writing) are denied for the given
                        flags.

     [EACCES]           O_CREAT is specified, the file does not exist, and the directory in which it is to
                        be created does not permit writing.

     [EACCES]           O_TRUNC is specified and write permission is denied.

     [EAGAIN]           <u>path</u> specifies the slave side of a locked pseudo-terminal device.

     [EDQUOT]           O_CREAT is specified, the file does not exist, and the directory in which the entry
                        for the new file is being placed cannot be extended because the user's quota of disk
                        blocks on the file system containing the directory has been exhausted.

     [EDQUOT]           O_CREAT is specified, the file does not exist, and the user's quota of inodes on the
                        file system on which the file is being created has been exhausted.

     [EEXIST]           O_CREAT and O_EXCL are specified and the file exists.

     [EFAULT]           <u>Path</u> points outside the process's allocated address space.

     [EINTR]            The <b>open</b>() operation is interrupted by a signal.

     [EINVAL]           The value of <u>oflag</u> is not valid.

     [EIO]              An I/O error occurs while making the directory entry or allocating the inode for
                        O_CREAT.

     [EISDIR]           The named file is a directory, and the arguments specify that it is to be opened for
                        writing.

     [ELOOP]            Too many symbolic links are encountered in translating the pathname.  This is taken
                        to be indicative of a looping symbolic link.

     [EMFILE]           The process has already reached its limit for open file descriptors.

     [ENAMETOOLONG]     A component of a pathname exceeds {NAME_MAX} characters, or an entire path name
                        exceeded {PATH_MAX} characters.

     [ENFILE]           The system file table is full.

     [ELOOP]            O_NOFOLLOW was specified and the target is a symbolic link.

     [ENOENT]           O_CREAT is not set and the named file does not exist.

     [ENOENT]           A component of the path name that must exist does not exist.

     [ENOSPC]           O_CREAT is specified, the file does not exist, and the directory in which the entry
                        for the new file is being placed cannot be extended because there is no space left
                        on the file system containing the directory.

     [ENOSPC]           O_CREAT is specified, the file does not exist, and there are no free inodes on the
                        file system on which the file is being created.

     [ENOTDIR]          A component of the path prefix is not a directory.

     [ENXIO]            The named file is a character-special or block-special file and the device associ-<font color="#ffffff" class="whiteout">ated&nbsp;associated</font>
                        ated with this special file does not exist.

     [ENXIO]            O_NONBLOCK and O_WRONLY are set, the file is a FIFO, and no process has it open for
                        reading.

     [EOPNOTSUPP]       O_SHLOCK or O_EXLOCK is specified, but the underlying filesystem does not support
                        locking.

     [EOPNOTSUPP]       An attempt is made to open a socket (not currently implemented).

     [EOVERFLOW]        The named file is a regular file and its size does not fit in an object of type
                        off_t.

     [EROFS]            The named file resides on a read-only file system, and the file is to be modified.

     [ETXTBSY]          The file is a pure procedure (shared text) file that is being executed and the
                        <b>open</b>() call requests write access.

<b>COMPATIBILITY</b>
     <b>open</b>() on a terminal device (i.e., /dev/console) will now make that device a controlling terminal for
     the process.  Use the O_NOCTTY flag to open a terminal device without changing your controlling termi-<font color="#ffffff" class="whiteout">nal.&nbsp;terminal.</font>
     nal.

<b>SEE</b> <b>ALSO</b>
     <a href="chmod.2.html#//apple_ref/doc/man/2/chmod">chmod(2)</a>, <a href="close.2.html#//apple_ref/doc/man/2/close">close(2)</a>, <a href="dup.2.html#//apple_ref/doc/man/2/dup">dup(2)</a>, <a href="getdtablesize.2.html#//apple_ref/doc/man/2/getdtablesize">getdtablesize(2)</a>, <a href="lseek.2.html#//apple_ref/doc/man/2/lseek">lseek(2)</a>, <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a>, <a href="umask.2.html#//apple_ref/doc/man/2/umask">umask(2)</a>, <a href="write.2.html#//apple_ref/doc/man/2/write">write(2)</a>

<b>HISTORY</b>
     An <b>open</b>() function call appeared in Version 6 AT&amp;T UNIX.

4th Berkeley Distribution      November 16, 1993     4th Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/open.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/open.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/open.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
