<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html><head>
    <title>ExtendedAudioFile.h</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta name="generator" content="HeaderDoc">
<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox { 	border-top: 1px solid #919699; 	border-left: 1px solid #919699; 	margin-bottom: 10px; 	} 	 .graybox th { 	padding: 4px 8px 4px 8px; 	background: #E2E2E2; 	font-size: 12px; 	font-weight: bold; 	border-bottom: 1px solid #919699; 	border-right: 1px solid #919699; 	} 	 .graybox td { 	padding: 8px; 	font-size: 12px; 	text-align: left; 	vertical-align: top; 	border-bottom: 1px solid #919699; 	border-right: 1px solid #919699; 	}  --></style></head><body bgcolor="#ffffff">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/MusicAudio/index.html#//apple_ref/doc/uid/TP30001281-TP30000428" target="_top">Audio</a> <b>&gt;</b> <a href="../../../../../reference/MusicAudio/idxCoreAudio-date.html#//apple_ref/doc/uid/TP30001281-TP30000428-TP30000500" target="_top">Core Audio</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/CAAudioToolboxRef" target="_top">Audio Toolbox Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>


<!-- end of header -->
<a name="top"></a>
<a name="//apple_ref/doc/header/ExtendedAudioFile.h" title="ExtendedAudioFile.h"></a>
<hr><table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h1><a name="ExtendedAudioFile.h">ExtendedAudioFile.h</a></h1>
</td></tr></table><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr><td scope="row"><b>Includes:</b></td><td><div style="margin-bottom:1px"><div class="content_text"><!-- a -->&lt;AvailabilityMacros.h&gt;<!-- /a --><br>
<!-- a -->&lt;AudioToolbox/AudioFile.h&gt;<!-- /a --><br>
<!-- a -->&lt;AudioFile.h&gt;<!-- /a --></div></div></td></tr>
</table></div>
<h2>Introduction</h2>
<p><!-- begin abstract -->ExtendedAudioFile APIs.
<br><br>
The ExtendedAudioFile provides high-level audio file access, building
on top of the AudioFile and AudioConverter API sets. It provides a single
unified interface to reading and writing both encoded and unencoded files.
<!-- end abstract --></p>
<hr><br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileCreateNew" target="doc">ExtAudioFileCreateNew</a></tt></dt>
<dd>Create a new audio file.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileDispose" target="doc">ExtAudioFileDispose</a></tt></dt>
<dd>Close the file and dispose the object.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileGetProperty" target="doc">ExtAudioFileGetProperty</a></tt></dt>
<dd>Get a property value.</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileGetPropertyInfo" target="doc">ExtAudioFileGetPropertyInfo</a></tt></dt>
<dd>Get information about a property</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileOpen" target="doc">ExtAudioFileOpen</a></tt></dt>
<dd>Opens an audio file.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileRead" target="doc">ExtAudioFileRead</a></tt></dt>
<dd>Perform a synchronous sequential read.</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileSeek" target="doc">ExtAudioFileSeek</a></tt></dt>
<dd>Seek to a specific frame position.</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileSetProperty" target="doc">ExtAudioFileSetProperty</a></tt></dt>
<dd>Set a property value.</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileTell" target="doc">ExtAudioFileTell</a></tt></dt>
<dd>Return the file's read/write position.</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileWrapAudioFileID" target="doc">ExtAudioFileWrapAudioFileID</a></tt></dt>
<dd>Wrap an AudioFileID in an ExtAudioFileRef.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileWrite" target="doc">ExtAudioFileWrite</a></tt></dt>
<dd>Perform a synchronous sequential write.</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileWriteAsync" target="doc">ExtAudioFileWriteAsync</a></tt></dt>
<dd>Perform an asynchronous sequential write.</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileCreateNew;  name=ExtAudioFileCreateNew -->
<a name="//apple_ref/c/func/ExtAudioFileCreateNew"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileCreateNew">ExtAudioFileCreateNew</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Create a new audio file.
<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileCreateNew" class="function"><span class="function">ExtAudioFileCreateNew</span></a>(
    <span class="keyword">const</span> <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/c/tdef/FSRef" target="_top" class="type"><span class="type">FSRef</span></a> *<span class="param">inParentDir</span>, 
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">inFileName</span>, 
    <a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/c/tdef/AudioFileTypeID" target="_top" class="type"><span class="type">AudioFileTypeID</span></a> <span class="param">inFileType</span>, 
    <span class="keyword">const</span> <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioStreamBasicDescription" target="_top" class="type"><span class="type">AudioStreamBasicDescription</span></a> *<span class="param">inStreamDesc</span>, 
    <span class="keyword">const</span> <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioChannelLayout" target="_top" class="type"><span class="type">AudioChannelLayout</span></a> *<span class="param">inChannelLayout</span>, 
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> *<span class="param">outExtAudioFile</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inParentDir</code></dt><dd>The directory in which to create the new file.</dd>
<dt><code>inFileName</code></dt><dd>The name of the new file.</dd>
<dt><code>inFileType</code></dt><dd>The type of file to create. This is a constant from AudioToolbox/AudioFile.h, e.g.
kAudioFileAIFFType. Note that this is not an HFSTypeCode.</dd>
<dt><code>inStreamDesc</code></dt><dd>The format of the audio data to be written to the file.</dd>
<dt><code>inChannelLayout</code></dt><dd>The channel layout of the audio data. If non-null, this must be consistent
with the number of channels specified by inStreamDesc.</dd>
<dt><code>outExtAudioFile</code></dt><dd>On exit, a newly-allocated ExtAudioAudioFileRef.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Creates a new audio file.
<br><br>
If the file to be created is in an encoded format, it is permissible for the
sample rate in inStreamDesc to be 0, since in all cases, the file's encoding
AudioConverter may produce audio at a different sample rate than the source. The
file will be created with the audio format actually produced by the encoder.
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileDispose;  name=ExtAudioFileDispose -->
<a name="//apple_ref/c/func/ExtAudioFileDispose"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileDispose">ExtAudioFileDispose</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Close the file and dispose the object.
<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileDispose" class="function"><span class="function">ExtAudioFileDispose</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Closes the file and deletes the object. If no frames were written to an
ExtAudioFile allocated by ExtAudioFileCreateNew, the output file is deleted.
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileGetProperty;  name=ExtAudioFileGetProperty -->
<a name="//apple_ref/c/func/ExtAudioFileGetProperty"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileGetProperty">ExtAudioFileGetProperty</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Get a property value.<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileGetProperty" class="function"><span class="function">ExtAudioFileGetProperty</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <a href="../../ExtendedAudioFileServicesReference/Reference/reference.html#//apple_ref/c/tdef/ExtAudioFilePropertyID" target="_top" class="type"><span class="type">ExtAudioFilePropertyID</span></a> <span class="param">inPropertyID</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> *<span class="param">ioPropertyDataSize</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="param">outPropertyData</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>inPropertyID</code></dt><dd>The property being fetched.</dd>
<dt><code>ioPropertyDataSize</code></dt><dd>On entry, the size (in bytes) of the memory pointed to by outPropertyData.
On exit, the actual size of the property data returned.</dd>
<dt><code>outPropertyData</code></dt><dd>The value of the property is copied to the memory this points to.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileGetPropertyInfo;  name=ExtAudioFileGetPropertyInfo -->
<a name="//apple_ref/c/func/ExtAudioFileGetPropertyInfo"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileGetPropertyInfo">ExtAudioFileGetPropertyInfo</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Get information about a property<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileGetPropertyInfo" class="function"><span class="function">ExtAudioFileGetPropertyInfo</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <a href="../../ExtendedAudioFileServicesReference/Reference/reference.html#//apple_ref/c/tdef/ExtAudioFilePropertyID" target="_top" class="type"><span class="type">ExtAudioFilePropertyID</span></a> <span class="param">inPropertyID</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> *<span class="param">outSize</span>, 
    <!-- a --><span class="type">Boolean</span><!-- /a --> *<span class="param">outWritable</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>inPropertyID</code></dt><dd>The property being queried.</dd>
<dt><code>outSize</code></dt><dd>If non-null, on exit, this is set to the size of the property's value.</dd>
<dt><code>outWritable</code></dt><dd>If non-null, on exit, this indicates whether the property value is settable.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileOpen;  name=ExtAudioFileOpen -->
<a name="//apple_ref/c/func/ExtAudioFileOpen"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileOpen">ExtAudioFileOpen</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Opens an audio file.
<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileOpen" class="function"><span class="function">ExtAudioFileOpen</span></a>(
    <span class="keyword">const</span> <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/c/tdef/FSRef" target="_top" class="type"><span class="type">FSRef</span></a> *<span class="param">inFSRef</span>, 
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> *<span class="param">outExtAudioFile</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inFSRef</code></dt><dd>The audio file to read.</dd>
<dt><code>outExtAudioFile</code></dt><dd>On exit, a newly-allocated ExtAudioAudioFileRef.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Allocates a new ExtAudioFileRef, for reading an existing audio file.
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileRead;  name=ExtAudioFileRead -->
<a name="//apple_ref/c/func/ExtAudioFileRead"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileRead">ExtAudioFileRead</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Perform a synchronous sequential read.<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileRead" class="function"><span class="function">ExtAudioFileRead</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> *<span class="param">ioNumberFrames</span>, 
    <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioBufferList" target="_top" class="type"><span class="type">AudioBufferList</span></a> *<span class="param">ioData</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>ioNumberFrames</code></dt><dd>On entry, ioNumberFrames is the number of frames to be read from the file.
On exit, it is the number of frames actually read. A number of factors may
cause a fewer number of frames to be read, including the supplied buffers
not being large enough, and internal optimizations. If 0 frames are
returned, however, this indicates that end-of-file was reached.</dd>
<dt><code>ioData</code></dt><dd>Buffer(s) into which the audio data is read.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->If the file has a client data format, then the audio data from the file is
translated from the file data format to the client format, via the
ExtAudioFile's internal AudioConverter.
<br><br>
(Note that the use of sequential reads/writes means that an ExtAudioFile must
not be read on multiple threads; clients wishing to do this should use the
lower-level AudioFile API set).
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileSeek;  name=ExtAudioFileSeek -->
<a name="//apple_ref/c/func/ExtAudioFileSeek"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileSeek">ExtAudioFileSeek</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Seek to a specific frame position.<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileSeek" class="function"><span class="function">ExtAudioFileSeek</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <!-- a --><span class="type">SInt64</span><!-- /a --> <span class="param">inFrameOffset</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>inFrameOffset</code></dt><dd>The desired seek position, in sample frames, relative to the beginning of
the file.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Sets the file's read position to the specified sample frame number. The next call
to ExtAudioFileRead will return samples from precisely this location, even if it
is located in the middle of a packet.
<br><br>
This function's behavior with files open for writing is currently undefined.
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileSetProperty;  name=ExtAudioFileSetProperty -->
<a name="//apple_ref/c/func/ExtAudioFileSetProperty"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileSetProperty">ExtAudioFileSetProperty</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Set a property value.<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileSetProperty" class="function"><span class="function">ExtAudioFileSetProperty</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <a href="../../ExtendedAudioFileServicesReference/Reference/reference.html#//apple_ref/c/tdef/ExtAudioFilePropertyID" target="_top" class="type"><span class="type">ExtAudioFilePropertyID</span></a> <span class="param">inPropertyID</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">inPropertyDataSize</span>, 
    <span class="keyword">const</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="param">inPropertyData</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>inPropertyID</code></dt><dd>The property being set.</dd>
<dt><code>inPropertyDataSize</code></dt><dd>The size of the property data, in bytes.</dd>
<dt><code>inPropertyData</code></dt><dd>Points to the property's new value.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileTell;  name=ExtAudioFileTell -->
<a name="//apple_ref/c/func/ExtAudioFileTell"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileTell">ExtAudioFileTell</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Return the file's read/write position.<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileTell" class="function"><span class="function">ExtAudioFileTell</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <!-- a --><span class="type">SInt64</span><!-- /a --> *<span class="param">outFrameOffset</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>outFrameOffset</code></dt><dd>On exit, the file's current read/write position in sample frames.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileWrapAudioFileID;  name=ExtAudioFileWrapAudioFileID -->
<a name="//apple_ref/c/func/ExtAudioFileWrapAudioFileID"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileWrapAudioFileID">ExtAudioFileWrapAudioFileID</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Wrap an AudioFileID in an ExtAudioFileRef.
<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileWrapAudioFileID" class="function"><span class="function">ExtAudioFileWrapAudioFileID</span></a>(
    <a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/c/tdef/AudioFileID" target="_top" class="type"><span class="type">AudioFileID</span></a> <span class="param">inFileID</span>, 
    <!-- a --><span class="type">Boolean</span><!-- /a --> <span class="param">inForWriting</span>, 
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> *<span class="param">outExtAudioFile</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inFileID</code></dt><dd>The AudioFileID to wrap.</dd>
<dt><code>inForWriting</code></dt><dd>True if the AudioFileID is a new file opened for writing.</dd>
<dt><code>outExtAudioFile</code></dt><dd>On exit, a newly-allocated ExtAudioAudioFileRef.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Allocates a new ExtAudioFileRef which wraps an existing AudioFileID. The
client is responsible for keeping the AudioFileID open until the
ExtAudioFileRef is disposed.
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileWrite;  name=ExtAudioFileWrite -->
<a name="//apple_ref/c/func/ExtAudioFileWrite"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileWrite">ExtAudioFileWrite</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Perform a synchronous sequential write.<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileWrite" class="function"><span class="function">ExtAudioFileWrite</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">inNumberFrames</span>, 
    <span class="keyword">const</span> <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioBufferList" target="_top" class="type"><span class="type">AudioBufferList</span></a> *<span class="param">ioData</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>inNumberFrames</code></dt><dd>The number of frames to write.</dd>
<dt><code>ioData</code></dt><dd>The buffer(s) from which audio data is written to the file.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->If the file has a client data format, then the audio data in ioData is
translated from the client format to the file data format, via the
ExtAudioFile's internal AudioConverter.
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/ExtAudioFileWriteAsync;  name=ExtAudioFileWriteAsync -->
<a name="//apple_ref/c/func/ExtAudioFileWriteAsync"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileWriteAsync">ExtAudioFileWriteAsync</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Perform an asynchronous sequential write.<!-- end abstract --></p>
<pre><span class="keyword">extern</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> <a href="CompositePage.html#//apple_ref/c/func/ExtAudioFileWriteAsync" class="function"><span class="function">ExtAudioFileWriteAsync</span></a>(
    <a href="CompositePage.html#//apple_ref/c/tdef/ExtAudioFileRef" class="type"><span class="type">ExtAudioFileRef</span></a> <span class="param">inExtAudioFile</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">inNumberFrames</span>, 
    <span class="keyword">const</span> <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioBufferList" target="_top" class="type"><span class="type">AudioBufferList</span></a> *<span class="param">ioData</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>inExtAudioFile</code></dt><dd>The extended audio file object.</dd>
<dt><code>inNumberFrames</code></dt><dd>The number of frames to write.</dd>
<dt><code>ioData</code></dt><dd>The buffer(s) from which audio data is written to the file.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->An OSStatus error code.
<br><br>

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Writes the provided buffer list to an internal ring buffer and notifies an
internal thread to perform the write at a later time. The first time this is
called, allocations may be performed. You can call this with 0 frames and null
buffer in a non-time-critical context to initialize the asynchronous mechanism.
Once initialized, subsequent calls are very efficient and do not take locks;
thus this may be used to write to a file from a realtime thread.
<br><br>
The client must not mix synchronous and asynchronous writes to the same file.
<br><br>
Pending writes are not guaranteed to be flushed to disk until
ExtAudioFileDispose is called.
<br><br>
N.B. Errors may occur after this call has returned. Such errors may be returned
from subsequent calls to this function.
<!-- end discussion --></p>
<dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.4.
</dd>
</dl>
<h2>Typedefs</h2>
<hr><!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/ExtAudioFileRef;  name=ExtAudioFileRef -->
<a name="//apple_ref/c/tdef/ExtAudioFileRef"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFileRef">ExtAudioFileRef</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->An extended audio file object.
<!-- end abstract --></p>
<pre><span class="keyword">typedef</span> <span class="keyword">struct</span> <!-- a --><span class="type">OpaqueExtAudioFile</span><!-- /a --> <span class="type">*</span> <span class="var">ExtAudioFileRef</span>;  </pre>
<h2>Enumerations</h2>
<hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/ExtAudioFilePropertyID;  name=ExtAudioFilePropertyID -->
<a name="//apple_ref/c/tag/ExtAudioFilePropertyID"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="ExtAudioFilePropertyID">ExtAudioFilePropertyID</a></h3>
</td></tr></table><hr><pre><span class="keyword">enum</span> { <span class="comment">// ExtAudioFilePropertyID</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_FileDataFormat" class="type"><span class="type">kExtAudioFileProperty_FileDataFormat</span></a> = '<span class="char">ffmt</span>', <span class="comment">// AudioStreamBasicDescription</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_FileChannelLayout" class="type"><span class="type">kExtAudioFileProperty_FileChannelLayout</span></a> = '<span class="char">fclo</span>', <span class="comment">// AudioChannelLayout</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_ClientDataFormat" class="type"><span class="type">kExtAudioFileProperty_ClientDataFormat</span></a> = '<span class="char">cfmt</span>', <span class="comment">// AudioStreamBasicDescription</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_ClientChannelLayout" class="type"><span class="type">kExtAudioFileProperty_ClientChannelLayout</span></a> = '<span class="char">cclo</span>', <span class="comment">// AudioChannelLayout</span>  
    <span class="comment">// read-only:</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_AudioConverter" class="type"><span class="type">kExtAudioFileProperty_AudioConverter</span></a> = '<span class="char">acnv</span>', <span class="comment">// AudioConverterRef</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_FileMaxPacketSize" class="type"><span class="type">kExtAudioFileProperty_FileMaxPacketSize</span></a> = '<span class="char">fmps</span>', <span class="comment">// UInt32</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_ClientMaxPacketSize" class="type"><span class="type">kExtAudioFileProperty_ClientMaxPacketSize</span></a> = '<span class="char">cmps</span>', <span class="comment">// UInt32</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_FileLengthFrames" class="type"><span class="type">kExtAudioFileProperty_FileLengthFrames</span></a> = '#<span class="char">frm</span>', <span class="comment">// SInt64</span>  
    <span class="comment">// writable:</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_ConverterConfig" class="type"><span class="type">kExtAudioFileProperty_ConverterConfig</span></a> = '<span class="char">accf</span>', <span class="comment">// CFPropertyListRef</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_IOBufferSizeBytes" class="type"><span class="type">kExtAudioFileProperty_IOBufferSizeBytes</span></a> = '<span class="char">iobs</span>', <span class="comment">// UInt32</span> 
    <a href="CompositePage.html#//apple_ref/c/econst/kExtAudioFileProperty_IOBuffer" class="type"><span class="type">kExtAudioFileProperty_IOBuffer</span></a> = '<span class="char">iobf</span>' <span class="comment">// void *</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_FileDataFormat"><code>kExtAudioFileProperty_FileDataFormat</code></a></dt><dd>An AudioStreamBasicDescription. Represents the file's actual
data format. Read-only.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_FileChannelLayout"><code>kExtAudioFileProperty_FileChannelLayout</code></a></dt><dd>An AudioChannelLayout.
<br><br>
If writing: the channel layout is written to the file, if the format
supports the layout. If the format does not support the layout, the channel
layout is still interpreted as the destination layout when performing
conversion from the client channel layout, if any.
<br><br>
If reading: the specified layout overrides the one read from the file, if
any.
<br><br>
When setting this, it must be set before the client format or channel
layout.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_ClientDataFormat"><code>kExtAudioFileProperty_ClientDataFormat</code></a></dt><dd>An AudioStreamBasicDescription.
<br><br>
The format must be linear PCM (kAudioFormatLinearPCM).
<br><br>
You must set this in order to encode or decode a non-PCM file data format.
You may set this on PCM files to specify the data format used in your calls
to read/write.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_ClientChannelLayout"><code>kExtAudioFileProperty_ClientChannelLayout</code></a></dt><dd>An AudioChannelLayout. Specifies the channel layout of the
AudioBufferList's passed to ExtAudioFileReadFrames() and
ExtAudioFileWriteFrames(). The layout may be different from the file's
channel layout, in which the ExtAudioFileRef's underlying AudioConverter
performs the remapping. This must be set after ClientDataFormat, and the
number of channels in the layout must match.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_AudioConverter"><code>kExtAudioFileProperty_AudioConverter</code></a></dt><dd>AudioConverterRef. The underlying AudioConverterRef, if any. Read-only.
<br><br>
N.B. If you alter any properties of the AudioConverterRef, for example,
an encoder's bit rate, you must set the kExtAudioFileProperty_ConverterConfig
property on the ExtAudioFileRef afterwards. A NULL configuration is 
sufficient. This will ensure that the output file's data format is consistent
with the format being produced by the converter.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_FileMaxPacketSize"><code>kExtAudioFileProperty_FileMaxPacketSize</code></a></dt><dd>UInt32 representing the file data format's maximum packet size in bytes.
Read-only.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_ClientMaxPacketSize"><code>kExtAudioFileProperty_ClientMaxPacketSize</code></a></dt><dd>UInt32 representing the client data format's maximum packet size in bytes.
Read-only.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_FileLengthFrames"><code>kExtAudioFileProperty_FileLengthFrames</code></a></dt><dd>SInt64 representing the file's length in sample frames. Read-only on 
non-PCM formats; writable for files in PCM formats.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_ConverterConfig"><code>kExtAudioFileProperty_ConverterConfig</code></a></dt><dd>CFArrayRef representing the underlying AudioConverter's configuration, as
specified by kAudioConverterPropertySettings.
<br><br>
This may be NULL to force resynchronization of the converter's output format
with the file's data format.</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_IOBufferSizeBytes"><code>kExtAudioFileProperty_IOBufferSizeBytes</code></a></dt><dd>UInt32 representing the size of the buffer through which the converter
reads/writes the audio file (when there is an AudioConverter).</dd>
<dt><a name="//apple_ref/c/econst/kExtAudioFileProperty_IOBuffer"><code>kExtAudioFileProperty_IOBuffer</code></a></dt><dd>void *. This is the memory buffer which the ExtAudioFileRef will use for
disk I/O when there is a conversion between the client and file data
formats. A client may be able to share buffers between multiple
ExtAudioFileRef instances, in which case, it can set this property to point
to its own buffer. After setting this property, the client must
subsequently set the kExtAudioFileProperty_IOBufferSizeBytes property. Note
that a pointer to a pointer should be passed to ExtAudioFileSetProperty.</dd>
</dl>
</blockquote>
<p><!-- start of footer -->

	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MusicAudio/Reference/CAAudioTooboxRef/ExtendedAudioFile/CompositePage.html%3Fid%3DTP40002089-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MusicAudio/Reference/CAAudioTooboxRef/ExtendedAudioFile/CompositePage.html%3Fid%3DTP40002089-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MusicAudio/Reference/CAAudioTooboxRef/ExtendedAudioFile/CompositePage.html%3Fid%3DTP40002089-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>



<!-- end of footer -->
Last Updated: 2006-09-07
</p></body></html>
