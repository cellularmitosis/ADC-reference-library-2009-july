<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Data Types (IM: M)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING61></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Memory-60.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Memory-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Memory-202.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Memory-62.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Memory-2.html"><B>Memory</B></A> / <BR><DD><A HREF="Memory-56.html"><B>Chapter 2 - Memory Manager</B></A> / <A HREF="Memory-60.html"><B>Memory Manager Reference</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING61-0></A>
<H2><A NAME=MARKER-2-225></A>Data Types</H2>
 This section discusses the general-purpose data types defined by the Memory Manager. Most of these types are used throughout the system software.<P>
 The Memory Manager uses pointers and handles to reference nonrelocatable and relocatable blocks, respectively. The data types <CODE>Ptr</CODE> and <CODE>Handle</CODE> define pointers and handles as follows:<P>
<PRE>
TYPE
   SignedByte     = -128..127;
   Byte           = 0..255;
   Ptr            = ^SignedByte;
   Handle         = ^Ptr;
</PRE>
 The <CODE>SignedByte</CODE> type stands for an arbitrary byte in memory, just to give <CODE>Ptr</CODE> and <CODE>Handle</CODE> something to point to. The <CODE>Byte</CODE> type is an alternative definition that treats byte-length data as an unsigned rather than a signed quantity.<P>
 Many other data types also use the concept of pointers and handles. For example, the Macintosh system software stores strings in arrays of up to 255 characters, with the first byte of the array storing the length of the string. Some Toolbox routines allow you to pass such a string directly; others require that you pass a pointer or handle to a string. The following type definitions define character strings:<P>
<PRE>
TYPE
   Str255         = STRING[255];
   StringPtr      = ^Str255;
   StringHandle   = ^StringPtr;
</PRE>
 <A NAME=MARKER-14-226></A><A NAME=MARKER-2-210></A>Some Toolbox routines allow you to execute code after a certain amount of time elapses or after a certain condition is met. Any such routine requires you to pass the address of the routine containing the code to be executed so that it knows what routine to call when the time has elapsed or the condition has been met. You use the data type <CODE>ProcPtr</CODE> to define a pointer to a procedure or function.<P>
<PRE>
TYPE ProcPtr = Ptr;
</PRE>
 For example, after the declarations<P>
<PRE>
VAR
   aProcPtr: ProcPtr;

PROCEDURE MyProc;
BEGIN
            ...
END;
</PRE>
 you can make <CODE>aProcPtr</CODE> reference the <CODE>MyProc</CODE> procedure by using the <CODE>@</CODE> operator, <BR>as follows:<A NAME=MARKER-2-93></A><P>
<PRE>
aProcPtr := @MyProc;
</PRE>
 With the <CODE>@</CODE> operator, you can assign procedures and functions to variables of type <CODE>ProcPtr</CODE>, embed them in data structures, and pass them as arguments to other routines. Notice, however, that the data type <CODE>ProcPtr</CODE> technically points to an arbitrary byte, not an actual routine. As a result, there's no direct way in Pascal to access the underlying routine via this pointer in order to call it. (See <A HREF=Memory-58.html#MARKER-9-142>Listing 2-4</A> on <A HREF=Memory-58.html#MARKER-9-142>page 2-13</A> for some assembly-language code you can use to do so.) The routines in the Operating System and Toolbox, which are written in assembly language, can however, call routines designated by pointers of type <CODE>ProcPtr</CODE>.<P>
<DL>
<DT><B>Note</B>
<DD>You can't use the <CODE>@</CODE> operator to reference procedures or functions whose declarations are nested within other routines.<EM></EM><A NAME=MARKER-2-16></A>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 <A NAME=MARKER-14-230></A><A NAME=MARKER-2-231></A>The Memory Manager uses the <CODE>Size</CODE> data type to refer to the size, in bytes, of memory blocks. For example, when specifying how large a relocatable block you want to allocate, you pass a parameter of type <CODE>Size</CODE>. The <CODE>Size</CODE> data type is also defined as a long integer.<P>
<PRE>
TYPE Size      = LongInt;
</PRE>

<HR>
<center>
<A HREF="Memory-60.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Memory-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Memory-202.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Memory-62.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Memory-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
