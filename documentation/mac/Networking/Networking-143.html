<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>AppleTalk Transaction Protocol (ATP)(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING143></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-142.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-144.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING143-0></A>
<H1>Chapter 6 - AppleTalk Transaction Protocol (ATP)</H1>
 <A NAME=MARKER-2-68></A>This chapter describes the<A NAME=MARKER-2-149></A> AppleTalk Transaction Protocol (ATP) that you use to send <BR>a request from one application or process to another that can satisfy the request and respond to it. <A NAME=MARKER-2-36></A>Because ATP is <A NAME=MARKER-9-75></A>transaction-based--that is, the response data is bound to the request data and the exchange of information is limited to the transaction--you do not incur the overhead entailed in establishing, maintaining, and breaking a connection that is associated with connection-oriented protocols, such as ADSP. However, you can transfer only a limited amount of data using ATP. <P>
 You should read this chapter if you want to write an application that requires reliable delivery of data while allowing one side of the communication to ask the other side to perform a service and return a small amount of data. <P>
 For an overview of ATP and how it fits within the AppleTalk protocol stack, read the chapter "Introduction to AppleTalk" in this book, which also introduces and defines some of the terminology used in this chapter. For complete explanation of the ATP specification, see <I>Inside AppleTalk,</I> second edition. <P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Networking-144.html#HEADING144-0">About ATP</A>
<DD>
<DL>
<DT><A HREF="Networking-145.html#HEADING145-0">The ATP Packet Format</A>
<DD>
<DL>
<DT><A HREF="Networking-145.html#HEADING145-10">The Control Information Byte</A>
<DD>
<DT><A HREF="Networking-145.html#HEADING145-12">The Bitmap/Sequence Number </A>
<DD>
<DT><A HREF="Networking-145.html#HEADING145-16">The Transaction ID</A>
<DD>
<DT><A HREF="Networking-145.html#HEADING145-18">User Bytes</A>
<DD>
</DL>
<DT><A HREF="Networking-146.html#HEADING146-0">At-Least-Once and Exactly-Once Transactions</A>
<DD>
<DT><A HREF="Networking-147.html#HEADING147-0">The Buffer Data Structure</A>
<DD>
<DT><A HREF="Networking-148.html#HEADING148-0">ATP Flags</A>
<DD>
</DL>
<DT><A HREF="Networking-149.html#HEADING149-0">Using ATP</A>
<DD>
<DL>
<DT><A HREF="Networking-150.html#HEADING150-0">Writing a Requester ATP Application</A>
<DD>
<DL>
<DT><A HREF="Networking-150.html#HEADING150-15">Creating a Buffer Data Structure</A>
<DD>
<DT><A HREF="Networking-150.html#HEADING150-17">Specifying the Parameters for the Send Request Function</A>
<DD>
<DT><A HREF="Networking-150.html#HEADING150-23">Setting the Timeout and Retry Count Parameters</A>
<DD>
<DT><A HREF="Networking-150.html#HEADING150-28">Setting the Release Timer Value</A>
<DD>
</DL>
<DT><A HREF="Networking-151.html#HEADING151-0">Writing a Responder ATP Application</A>
<DD>
<DL>
<DT><A HREF="Networking-151.html#HEADING151-3">Opening and Setting Up a Socket to Receive Requests</A>
<DD>
<DT><A HREF="Networking-151.html#HEADING151-17">Responding to Requests</A>
<DD>
</DL>
<DT><A HREF="Networking-152.html#HEADING152-0">Canceling an ATP Function</A>
<DD>
</DL>
<DT><A HREF="Networking-153.html#HEADING153-0">ATP Reference</A>
<DD>
<DL>
<DT><A HREF="Networking-154.html#HEADING154-0">Data Structures</A>
<DD>
<DL>
<DT><A HREF="Networking-155.html#HEADING155-0">The Buffer Data Structure</A>
<DD>
<DT><A HREF="Networking-156.html#HEADING156-0">The ATP Parameter Block</A>
<DD>
<DT><A HREF="Networking-157.html#HEADING157-0">The Address Block Record</A>
<DD>
</DL>
<DT><A HREF="Networking-158.html#HEADING158-0">Routines</A>
<DD>
<DL>
<DT><A HREF="Networking-159.html#HEADING159-0">Sending an ATP Request</A>
<DD>
<DT><A HREF="Networking-162.html#HEADING162-0">Opening and Closing an ATP Socket</A>
<DD>
<DT><A HREF="Networking-165.html#HEADING165-0">Setting Up a Socket to Listen for Requests</A>
<DD>
<DT><A HREF="Networking-167.html#HEADING167-0">Responding to Requests</A>
<DD>
<DT><A HREF="Networking-170.html#HEADING170-0">Canceling Pending ATP Functions </A>
<DD>
<DT><A HREF="Networking-176.html#HEADING176-0">Building a Buffer Data Structure</A>
<DD>
</DL>
</DL>
<DT><A HREF="Networking-178.html#HEADING178-0">Summary of ATP</A>
<DD>
<DL>
<DT><A HREF="Networking-178.html#HEADING178-1">Pascal Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-178.html#HEADING178-2">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-5">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-6"><B></B>The Buffer Data Structure </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-8"><B></B>The Address Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-10"><B></B>The ATP Parameter Block</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-12">Routines</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-13"><B></B>Sending an ATP Request</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-16"><B></B>Opening and Closing an ATP Socket</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-19"><B></B>Setting Up a Socket to Listen for Requests</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-21"><B></B>Responding to Requests</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-24"><B></B>Canceling Pending ATP Functions </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-30"><B></B>Building a Buffer Data Structure</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-178.html#HEADING178-32">C Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-178.html#HEADING178-33">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-36">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-37"><B></B>The Buffer Data Structure </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-40"><B></B>The Address Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-42"><B></B>The ATP Parameter Block</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-50">Routines</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-51"><B></B>Sending an ATP Request</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-54"><B></B>Opening and Closing an ATP Socket</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-57"><B></B>Setting Up a Socket to Listen for Requests</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-59"><B></B>Responding to Requests</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-62"><B></B>Canceling Pending ATP Functions </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-69"><B></B>Building a Buffer Data Structure</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-178.html#HEADING178-71">Assembly-Language Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-178.html#HEADING178-72">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-73"><B></B>ATP Header</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-75"><B></B>ATP Control Field</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-77"><B></B>ATP Type Code</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-79"><B></B>ATP Limits</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-81"><B></B>ATP Command Codes</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-83"><B></B>ATPQueue Element Standard Structure</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-86"><B></B>ATP Bits</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-88">Data Structures</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-89"><B></B>Buffer Data Structure (BDS)</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-91"><B></B>ATP Parameter Block Common Fields </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-92"><B></B>SendRequest Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-93"><B></B>NSendRequest Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-94"><B></B>OpenATPSkt Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-95"><B></B>CloseATPSkt Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-96"><B></B>GetRequest Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-97"><B></B>SendResponse Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-98"><B></B>AddResponse Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-99"><B></B>KillSendReq Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-100"><B></B>RelTCB Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-101"><B></B>KillGetReq Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-102"><B></B>KillAllGetReq Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-178.html#HEADING178-103"><B></B>RelRspCB Parameter Variant</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-178.html#HEADING178-104">Result Codes</A>
<DD>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-142.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-144.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
