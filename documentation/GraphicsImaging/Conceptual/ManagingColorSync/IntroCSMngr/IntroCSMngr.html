<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Managing Colors With ColorSync in Mac OS 9 (Legacy): Overview of ColorSync</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Overview of ColorSync"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000279" title="Overview of ColorSync"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/MacOS9Earlier-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000540" target="_top">Mac OS 9 &amp; Earlier</a> &gt; <a href="../PrefaceCS/PrefaceCS.html#//apple_ref/doc/uid/TP30000249-DontLinkElementID_94">Managing Colors With ColorSync in Mac OS 9 (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../IntroCSpaces/IntroCSpaces.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DevCSApps/DevCSApps.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30000279-SW1" title="Overview of ColorSync"></a><h1><a name="//apple_ref/doc/uid/TP30000279-BBCFGIBI" title="Overview of ColorSync"></a>Overview of ColorSync</h1><p>This section describes ColorSync and the ColorSync Manager. ColorSync is the platform-independent color management system from Apple Computer, Inc. ColorSync provides essential services for fast, consistent, and accurate color calibration, proofing, and reproduction. The ColorSync Manager is the application programming interface (API) to these services on the Mac OS.</p><p>Read this section if your software product performs color drawing, printing, or calculation or if your peripheral device supports color. You should also read this section if you are creating a color management module (CMM)—a component that implements color-matching, color conversion, and gamut-checking services.</p><p>If you are unfamiliar with terms and concepts such as CMM, profile, color space, and color management, or would like to review these topics, read <span class="content_text"><a href="../IntroCSpaces/IntroCSpaces.html#//apple_ref/doc/uid/TP30000280-BBCBDGDD">Overview of Color and Color Management Systems</a></span> before reading this section.</p><p><span class="content_text"><a href="../WhatsNew/WhatsNew.html#//apple_ref/doc/uid/TP30000274-BABJIDIF">What’s New</a></span> lists the new features available with ColorSync 2.5 and provides links to new and revised material in this document. It also describes where to obtain documentation for other color-related technologies.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-TPXREF101">About ColorSync</a>
				
			<br/>
			
        
			
			
				<a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-TPXREF102">Why You Should Use ColorSync</a>
				
			<br/>
			
        
			
			
				<a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCBJFJG">ColorSync Manager Overview</a>
				
			<br/>
			
        
			
			
				<a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-TPXREF117">What Users Can Do With ColorSync-Supportive Applications</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000279-TPXREF101" title="About ColorSync"></a><h2>About ColorSync</h2><p>ColorSync is the first system-level implementation of an industry-standard color management system. Even in a system in which all input, output, and display devices are new and perfectly calibrated, there will be differences in device gamuts (the ranges of color that can be reproduced by the devices). ColorSync can correct for such differences in device gamuts, as well as for differences caused by aging of filter sets and lamps on scanners, phosphor decay and ambient light on monitors, and differences in pigments and substrates on output devices such as printers and presses. As a result, it is possible to maintain accurate color across many possible input, display, and output devices.</p><p>Developers writing device drivers use the ColorSync Manager to support color matching between devices. Application developers use the ColorSync Manager to communicate with drivers and to present users with color-matching information, such as a device’s color capabilities.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF102" title="Why You Should Use ColorSync"></a><h2>Why You Should Use ColorSync</h2><p>Different imaging devices such as scanners, displays, and printers work in different color spaces, and each can have a different gamut (the range of colors a device can display). Color displays from different manufacturers all use RGB colors but may have different RGB gamuts as a result of the type and age of the phosphors used. Printers and presses work in CMYK space and can vary drastically in their gamuts, especially if they use different printing technologies. Even a single printer’s gamut can vary significantly depending on the ink or type of paper in use. It’s easy to see that conversion from RGB colors on an individual display to CMYK colors on an individual printer using a specific ink and paper type can lead to unpredictable results.</p><p>The ColorSync Manager addresses these problems by providing <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_330"></a>applications and color peripheral device drivers with device-independent color-matching and color conversion services based on the ColorSync color management system. With this ColorSync support, the user can quickly and accurately convert color images for optimal results on a specified device.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF103" title="The ColorSync Advantage"></a><h3>The ColorSync Advantage</h3><p>There are many reasons you should consider adding ColorSync support to your products:</p><ul class="spaceabove"><li class="li"><p>Working with color is more difficult than many people realize, but ColorSync provides a highly effective system to help you perform accurate, industry-standard color management.</p></li><li class="li"><p>Devices age and are subject to continuous inconsistence due to phosphor aging, pigment changes, substrate differences (white point, absorption, reflectivity), filter aging, and change in the life of the luminant.</p></li><li class="li"><p>Artists, designers, and prepress experts need to achieve repeatable, reliable, and consistent color—onscreen, in print, and for electronic delivery to multimedia and the Internet. ColorSync is the tool of choice for meeting these requirements.</p></li><li class="li"><p>There are many color measurement instruments, an array of profiling software, and a wide selection of production tools—page make-up, image editing, illustration, image database, Photo CD applications, and more—that already support ColorSync.</p></li><li class="li"><p>ColorSync is widely available to Macintosh users, who make up the large majority of graphic arts and publishing professionals.</p></li><li class="li"><p>Starting with version 2.5, the ColorSync Manager provides an extensible AppleScript framework that allows users to script many common tasks, such as matching an image or embedding a profile in an image. These AppleScript capabilities, described in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCFBGAJ">Scripting Support</a></span>, make it possible to automate many workflow processes.</p></li></ul><a name="//apple_ref/doc/uid/TP30000279-TPXREF104" title="Color Management in Action"></a><h3>Color Management in Action</h3><p>Firms that sell clothing through mail order catalogs and Web sites report the most common reason a customer returns an item is color: when the product arrived, it didn’t match the color in the catalog or on the monitor. Working with managed color, however, these firms can ensure the original image is scanned accurately, the catalog or monitor displays the color correctly, the output device prints the color correctly, and the customers see the color as accurately as they are able.</p><a name="//apple_ref/doc/uid/TP30000279-BBCBJFJG" title="ColorSync Manager Overview"></a><h2>ColorSync Manager Overview</h2><p>This section provides an overview of the <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_331"></a>ColorSync Manager and how an application or device driver can use it for color conversion, color matching, color gamut checking, profile management, monitor calibration, and creating color management modules (CMMs).</p><p>The ColorSync Manager provides a set of routines contained in a system extension. ColorSync also includes a collection of display device profiles for all Apple color monitors, some default profiles for standard color spaces, and a robust default CMM. In addition, the ColorSync control panel, shown in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCIABIC">Figure 3-1</a></span>, allows a user to specify a preferred CMM and various default profiles. CMMs and profiles are discussed throughout this material.</p><p>To provide its color-matching services, the ColorSync Manager works with color profiles and with one or more color management modules. Your application or driver can supply its own CMM, or you can use the default CMM, a robust CMM that is installed as part of the ColorSync extension and supports all the required and optional functions defined by the ColorSync Manager. The ColorSync Manager relies on the Component Manager to support plug-and-play capability for third-party CMMs. The Component Manager is described in Inside Macintosh: More Macintosh Toolbox. For more information on CMMs, see <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCHFCFA">Color Management Modules</a></span>.</p><p>A profile is a table that contains the color characteristics of a given device in a particular state. ColorSync profiles conform to the format currently defined by the International Color Consortium (ICC). Device driver developers and peripheral manufacturers can provide their own profiles or they can obtain profiles from a number of vendors. For a list of profile vendors, see the ColorSync Web site at &lt;http://colorsync.apple.com/>. Profiles are described in detail in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCGDGHA">Profiles</a></span>.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF105" title="ColorSync Versions"></a><h3>ColorSync Versions</h3><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_332"></a>This document covers the ColorSync Manager through version 2.5. Most existing code written to use version 2.0 or 2.1 of the ColorSync Manager should continue to work with version 2.5 without modification.</p><p>This document uses a specific version number, such as version 2.5 of the ColorSync Manager, only where necessary to identify features associated with a particular version. It may use 2.x to refer inclusively to ColorSync versions 2.0, 2.1, and 2.5, or to refer to the profile format used with these versions—the meaning should be clear from the context. For more information on profile version numbers, see <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCHHHGG">ColorSync and ICC Profile Format Version Numbers</a></span>.</p><p>For a description of the <code>Gestalt</code> information, shared library version numbers, CMM version numbers, and ColorSync header files you use with different versions of the ColorSync Manager, see <span class="content_text"><a href="../VersAndCompat/VersAndCompat.html#//apple_ref/doc/uid/TP30000275-BCIFHIID">ColorSync Version Information</a></span>.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF106" title="Minimum Requirements For Running ColorSync 2.5"></a><h3>Minimum Requirements For Running ColorSync 2.5</h3><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_333"></a>ColorSync version 2.5 requires Mac OS version 7.6.1 or newer, running on a Power Macintosh or on a 68K Macintosh computer with a 68020 or greater processor. For information on system and CPU requirements for previous ColorSync versions, and for related information such as Gestalt, shared library, and CMM versions, see <span class="content_text"><a href="../VersAndCompat/VersAndCompat.html#//apple_ref/doc/uid/TP30000275-BCIFHIID">ColorSync Version Information</a></span>.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF107" title="Programming Interface"></a><h3>Programming Interface</h3><p>The <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_334"></a>ColorSync Manager application programming interface (API) allows your application or device driver to handle such tasks as color matching, color conversion, profile management, and profile searching. You can access and read individual tagged elements within a profile, embed profiles in documents, modify profiles, and transform images through various CMMs to perform color matching and profile data transfer from one format to another.</p><p>The ColorSync API is summarized in <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCJBHEB">Summary of the ColorSync Manager</a></span>. You can find detailed information about individual functions, constants, and data types in <em>ColorSync Manager Reference</em>. For code samples that show how to use the ColorSync API, see <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCJCBHD">Developing ColorSync-Supportive Applications</a></span>. For information on the ColorSync Manager header files, see <span class="content_text"><a href="../VersAndCompat/VersAndCompat.html#//apple_ref/doc/uid/TP30000275-TPXREF102">ColorSync Header Files</a></span>.</p><p>The ColorSync Manager is implemented as a shared library on PowerPC-based computers. For a listing of the shared library version number for each released version of the ColorSync Manager, along with corresponding <code>Gestalt</code> selector codes, see <span class="content_text"><a href="../VersAndCompat/VersAndCompat.html#//apple_ref/doc/uid/TP30000275-BCIGJIIE">Gestalt, Shared Library, and CMM Version Information</a></span>.</p><a name="//apple_ref/doc/uid/TP30000279-BBCGDGHA" title="Profiles"></a><h3>Profiles</h3><p>To perform color matching or color conversion across different color spaces requires the use of a profile for each device involved. <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_335"></a>Profiles provide the information necessary to understand how a particular device reproduces color. A profile may contain such information as lightest and darkest possible tones (referred to as white point and black point), the difference between specific targets and what is actually captured, and maximum densities for red, green, blue, cyan, magenta, and yellow. Together these measurements represent the data which describe a particular color gamut.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF108" title="The International Color Consortium Profile Format"></a><h4>The International Color Consortium Profile Format</h4><p>ColorSync supports the profile format defined by the International Color Consortium (ICC). The ICC format provides a single cross-platform standard for translating color data across devices. The ICC defines several types of profiles, including input, output, and display profiles. Each of these types specifies a different required set of information, but all follow the same format.</p><p>The founding members of the ICC include Adobe Systems Inc.; Agfa-Gevaert N.V.; Apple Computer, Inc.; Eastman Kodak Company; FOGRA (Honorary); Microsoft Corporation; Silicon Graphics, Inc.; and Sun Microsystems, Inc. These companies have committed to full support of this specification in their operating systems, platforms, and applications.</p><p>To obtain a copy of the International Color Consortium Profile Format Specification, or to get other information about the ICC, visit the ICC Web site at &lt;http://www.color.org/>.</p><a name="//apple_ref/doc/uid/TP30000279-BBCHHHGG" title="ColorSync and ICC Profile Format Version Numbers"></a><h4>ColorSync and ICC Profile Format Version Numbers</h4><p>The first version of ColorSync used a 1.0 profile format that preceded the ICC profile format definition. Starting with version 2.0 of the ColorSync Manager, ColorSync uses a 2.x profile format that supports all current ICC profile format versions. As of this writing, that includes ICC versions 2.0 and 2.1. The ICC defines the profile format version as part of the profile header. For more information on the differences between these profile format versions, see <span class="content_text"><a href="../VersAndCompat/VersAndCompat.html#//apple_ref/doc/uid/TP30000275-BCIHDHDB">ColorSync 1.0 Profiles and Version 2.x Profiles</a></span>.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF109" title="Source and Destination Profiles"></a><h4>Source and Destination Profiles</h4><p>When a ColorSync-supportive scanning application creates a scanned image, it embeds a profile for the scanner in the image. The profile that is associated with the image and describes the characteristics of the device on which the image was created is called the <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_336"></a>source profile. <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_337"></a>If the colors in the image are subsequently converted to another color space by the scanning application or by another ColorSync-supportive application, ColorSync can use that source profile to identify the original colors and to match them to colors expressed in the new color space.</p><p>Displaying the image requires using another profile, which is associated with the output device, such as a display. The profile for that device is called the <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_338"></a>destination profile. <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_339"></a>If the image is destined for a display, ColorSync can use the display’s profile (the destination profile) along with the image’s source profile to match the image’s colors to the display’s gamut. If the image is printed, ColorSync can use the printer’s profile to match the image’s colors to the printer, including generating black and removing excessive color densities (known as undercolor removal, or UCR) where appropriate.</p><a name="//apple_ref/doc/uid/TP30000279-BBCIAIDH" title="Profile Classes"></a><h4>Profile Classes</h4><p>The ColorSync Manager supports seven classes, or types, of profiles. These classes are defined below. Three of the profile classes define device profiles for different types of devices: input, output, and display devices. The other four profile classes include definitions for an abstract profile, a color space profile, a named color space profile, and a device link profile. The constants used to specify these classes are described in <em>ColorSync Manager Reference</em>.</p><p>A <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_340"></a>device profile characterizes a particular device: that is, it describes the characteristics of a color space for a physical device in a particular state. A display, for example, might have a single profile, or it might have several, based on differences in gamma value and white point. A printer might have a different profile for each paper type or ink type it uses because each paper type and ink type constitutes a different printer state. When an application calls a ColorSync Manager color-matching function to match colors between devices, such as a display and a printer, it specifies the profile for each device.</p><p>Device profiles are divided into three broad classifications:</p><ul class="spaceabove"><li class="li"><p>input devices, such as scanners and digital cameras</p></li><li class="li"><p>display devices, such as monitors and flat-panel screens</p></li><li class="li"><p>output devices, such as printers, film recorders, and printing presses.</p></li></ul><p>Each device profile class has its own signature. The ColorSync constants for these signatures are described in <em>ColorSync Manager Reference</em>. For related information, see <span class="content_text"><a href="../DevCSSDevDrvrs/DevCSSDevDrvrs.html#//apple_ref/doc/uid/TP30000277-BAJICJDH">Devices and Their Profiles</a></span>.</p><p>A profile connection space (PCS) is a device-independent color space used as an intermediate when converting from one device-dependent color space to another. Profile connection spaces are typically based on spaces derived from the CIE color space, which is described in <span class="content_text"><a href="../IntroCSpaces/IntroCSpaces.html#//apple_ref/doc/uid/TP30000280-BCIGHHEJ">Device-Independent Color Spaces</a></span>. ColorSync supports two of these spaces, XYZ and L*a*b.</p><p>A <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_341"></a>color space profile contains the data necessary to convert color values between a PCS and a non-device color space (such as L*a*b to or from L*u*v, or XYZ to or from Yxy), for color matching. The ColorSync Manager uses color space profiles when mapping colors between different color spaces. Color space profiles also provide a convenient means for CMMs to convert between different non-device profiles.</p><p>L*a*b, L*u*v, XYZ, and Yxy color spaces are described in <span class="content_text"><a href="../IntroCSpaces/IntroCSpaces.html#//apple_ref/doc/uid/TP30000280-BCIDHIII">Color Spaces</a></span>.</p><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_342"></a>Abstract profiles allow applications to perform special color effects independent of the devices on which the effects are rendered. For example, an application may choose to implement an abstract profile that increases yellow hue on all devices. Abstract profiles allow users of the application to make subjective color changes to images or graphics objects.</p><p>A <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_343"></a>device link profile represents a one-way link or connection between devices. It can be created from a set of multiple profiles, such as various device profiles associated with the creation and editing of an image. It does not represent any device model, nor can it be embedded into images.</p><p>For more information on device link profiles, see <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CWNewLinkProfile" target="_top">CWNewLinkProfile</a></code> and <code><a href="../../../Reference/ColorSync_Manager/Reference/reference.html#//apple_ref/doc/c_ref/CMConcatProfileSet" target="_top">CMConcatProfileSet</a></code>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_67" title="Important:"></a><p><strong>Important:</strong>&nbsp;The <code>CMConcatProfileSet</code> structure used to create a device link profile includes a field that identifies the one CMM to use for the entire color-matching session across all profiles. However, you should read <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCBBFJD">How the ColorSync Manager Selects a CMM</a></span>, for a full description of the algorithm ColorSync uses to choose a CMM.</p><p></p></div><p>A <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_344"></a>named color space profile contains data for a list of named colors. The profile specifies a device color value and the corresponding CIE value for each color in the list. Profiles are typically stored as individual files in the ColorSync Profiles folder. For example, device-specific profiles provided by hardware vendors should be stored in the ColorSync Profiles folder. The location and use of the ColorSync Profiles folder has changed beginning in version 2.5. For a description of these changes, see <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCBECGG">Profile Search Locations</a></span>.</p><p>Profiles can also be embedded within images. For example, profiles can be embedded in PICT, EPS, and TIFF files and in the private file formats used by applications. Embedded profiles allow for the automatic interpretation of color information as the color image is transferred from one device to another.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_68" title="Note"></a><p><strong>Note:</strong>&nbsp;The ICC profile format implemented in a ColorSync version 2.x profile is significantly different from the ColorSync 1.0 profile implementation. For more information, see <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCHHHGG">ColorSync and ICC Profile Format Version Numbers</a></span>. &lt;8bat>u</p></div><p>Embedding a profile in an image guarantees that the image can be rendered correctly on a different system. However, profiles can be large—the largest can be several hundred KB or even larger. A profile identifier is an abbreviated data structure that uniquely identifies, and possibly modifies, a profile in memory or on disk, but takes up much less space than a large profile. For example, an application might embed a profile identifier to change just the rendering intent in an image without having to embed an entire new profile. Rendering intents are described in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCHJGFF">Rendering Intents</a></span>. For more information on embedding profile information, see <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCJJGIG">Embedding Profiles and Profile Identifiers</a></span>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_69" title="Important:"></a><p><strong>Important:</strong>&nbsp;A document containing an embedded profile identifier (as opposed to an embedded profile) is not necessarily portable to different systems or platforms.</p><p></p></div><a name="//apple_ref/doc/uid/TP30000279-TPXREF110" title="Profile Properties"></a><h4>Profile Properties</h4><p>Profiles <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_345"></a>can contain different kinds of information. For example, a scanner profile and a printer profile have different sets of minimum required tags and element data. However, all profiles have at least a header followed by a required element tag table. The required tags may represent lookup tables, for example. The required tags for various profile classes are described in the International Color Consortium Profile Format Specification.</p><p>Profiles contain additional information, such as a specification for how to apply matching. For more information, see <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCHFCFA">Color Management Modules</a></span>. Profiles may also have a series of optional and private tagged elements. These private tagged elements may contain custom information used by particular color management modules.</p><a name="//apple_ref/doc/uid/TP30000279-BBCGDJAF" title="Profile Location"></a><h4>Profile Location</h4><p>In most cases, a ColorSync version 2.x profile is stored in a disk file. However, to support special requirements, a profile can also be located in memory or in an arbitrary location that is accessed by a procedure you specify. See <em>ColorSync Manager Reference</em> for a description of ColorSync Manager structures for working with profiles that are stored in each of these locations. See <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCICDIF">Opening a Profile and Obtaining a Reference to It</a></span> for information on working with profile locations in your application.</p><a name="//apple_ref/doc/uid/TP30000279-BBCIEIEE" title="Setting Default Profiles"></a><h4>Setting Default Profiles</h4><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_346"></a>Prior to version 2.5, the default system profile (or simply the system profile) served as the default display profile; it also served as the default profile for color operations for which no profile was specified. The system profile had to be an RGB profile. A user could specify the system profile through the ColorSync control panel (formerly called the ColorSync&lt;Superscript>™ System Profile control panel). If a user did not specify a system profile, then by default ColorSync used the Apple 13-inch color display profile.</p><p>Because the system profile was used for two dissimilar functions (default display profile and default profile for some RGB operations), there were several limitations:</p><ul class="spaceabove"><li class="li"><p>A user could not specify default profiles for color spaces other than RGB.</p></li><li class="li"><p>A user could not specify separate profiles for more than one monitor.</p></li><li class="li"><p>When matching an image without an embedded monitor profile, no matching occurred because the source and destination profiles were the same (system) profile.</p></li></ul><br/><div><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_70" title="Figure 3-1The ColorSync control panel"></a><p><a name="//apple_ref/doc/uid/TP30000279-BBCIABIC" title="Figure 3-1The ColorSync control panel"></a><strong>Figure 3-1&nbsp;&nbsp;</strong>The ColorSync control panel</p><img src = "../art/css01.gif" alt = "The ColorSync control panel" width="281" height="240"></div><br/><p>Starting with ColorSync version 2.5, a user can set default profiles for RGB and CMYK color spaces, as well as for the system profile, using the ColorSync control panel shown in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCIABIC">Figure 3-1</a></span>. In addition, your application can call routines to get and set default profiles for the RGB, CMYK, Lab, and XYZ color spaces. As in previous versions of ColorSync, you can also call routines to get and set the current system profile.</p><p>Also starting with ColorSync version 2.5, a user can specify a separate profile for each monitor using the Monitors &amp; Sound control panel. In addition, your application can call routines to get and set the profile for each display.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_71" title="Important:"></a><p><strong>Important:</strong>&nbsp;When a user sets a profile for a monitor in the Monitors &amp; Sound control panel, ColorSync makes that profile the current system profile. When your application sets a profile for a monitor, it may also wish to make that profile the system profile.</p><p></p></div><p>Because ColorSync version 2.5 provides capabilities for getting and setting default profiles for color spaces and for assigning a profile to each monitor, your application and anyone using it can more precisely specify source and destination profiles. For example, your application can set the destination profile for an operation to be the profile for a specific monitor or the source profile to be the default CMYK profile.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_72" title="Important:"></a><p><strong>Important:</strong>&nbsp;Under certain conditions, functions such as <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/NCMUseProfileComment" target="_top">NCMUseProfileComment</a></code> still use the system profile, so you should set the system profile to an appropriate value, such as a profile for your main display.</p><p></p></div><p>For information on getting and setting profiles in code, see <em>ColorSync Manager Reference</em>. <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCFHBIJ">Monitor Calibration and Profiles</a></span>, describes how a user can specify a separate profile for each available monitor.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_347"></a></p><a name="//apple_ref/doc/uid/TP30000279-BBCBECGG" title="Profile Search Locations"></a><h3>Profile Search Locations</h3><p>ColorSync uses the ColorSync Profiles folder as a common location for profile files. When you install ColorSync, for example, it puts a number of default monitor profiles in the ColorSync Profiles folder. Users should also store custom profiles there, and ColorSync functions that search for profiles begin their search in the profiles folder.</p><p>Starting with ColorSync version 2.5, the ColorSync Profiles folder is located in the System folder; in earlier versions the folder was named ColorSync&lt;Superscript>™ Profiles and was located in the Preferences folder. The new location protects profile files from deletion when the Preferences folder is deleted. More importantly, placement in the System folder will allow the profiles folder to become a magic folder, providing the following benefits:</p><ul class="spaceabove"><li class="li"><p>Starting with version 8.5 of the Mac OS, profiles dragged onto the System folder are automatically routed to the profiles folder.</p></li><li class="li"><p>Starting with version 8.5 of the Mac OS, ColorSync can use the Toolbox <code>FindFolder</code> routine to find the profiles folder, using the Folder Manager constant <code>kColorSyncProfilesFolderType</code>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_73" title="Important:"></a><p><strong>Important:</strong>&nbsp;Your application should continue to call ColorSync’s <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CMGetColorSyncFolderSpec" target="_top">CMGetColorSyncFolderSpec</a></code> function to obtain the location of the profiles folder—it should not use a hard-coded path to a specific folder.</p><p></p></div></li></ul><p>For backward compatibility, ColorSync automatically inserts into the new profiles folder an alias to the old location (inside the Preferences folder), if that folder exists and contains any profiles.</p><a name="//apple_ref/doc/uid/TP30000279-BBCIJCEB" title="Where ColorSync Searches for Profiles"></a><h4>Where ColorSync Searches for Profiles</h4><p>Prior to ColorSync 2.5, profile search routines such as <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CMNewProfileSearch" target="_top">CMNewProfileSearch</a></code> looked for profiles only in the profiles folder (within the Preferences folder). Starting with version 2.5, the search routines look in the following locations:</p><ul class="spaceabove"><li class="li"><p>in the ColorSync Profiles folder (within the System folder)</p></li><li class="li"><p>in first-level subfolders of the ColorSync Profiles folder</p></li><li class="li"><p>in locations specified by aliases in the ColorSync Profiles folder (whether the aliases are to single profiles or to folders containing profiles)</p></li></ul><p>With this searching support, you can group profiles in subfolders within the profiles folder (one level of subfolders is currently allowed). For example, you might store all scanner profiles in one folder and a variety of monitor profiles for your primary monitor in another. You can also store aliases to other profiles and profile folders within the ColorSync Profiles folder. ColorSync search routines will find all profiles in the specified locations.</p><p><span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCBBDGG">The Profile Cache and Optimized Searching</a></span> describes how your application can perform optimized profile searching with ColorSync 2.5.</p><a name="//apple_ref/doc/uid/TP30000279-BBCFAGJG" title="Where ColorSync Does Not Look for Profiles"></a><h4>Where ColorSync Does Not Look for Profiles</h4><p>Because profile searching in ColorSync 2.5 can only go two levels deep, ColorSync search routines will not find a profile in the following cases:</p><ul class="spaceabove"><li class="li"><p>The profile is located in a folder that is within a folder in the profiles folder (requires more than two levels of searching).</p></li><li class="li"><p>The profile is located in a folder that is within a folder specified by an alias in the profiles folder (again, requires more than two levels of searching).</p></li><li class="li"><p>The profile is in a folder whose name starts with a parenthesis.</p></li><li class="li"><p>The profile is specified by an alias to an unmounted volume (only mounted volumes are searched).</p></li></ul><a name="//apple_ref/doc/uid/TP30000279-TPXREF111" title="Temporarily Hiding a Profile Folder"></a><h4>Temporarily Hiding a Profile Folder</h4><p>To temporarily hide a folder from ColorSync’s search path, put parentheses around the name of the folder or the alias to the folder.</p><a name="//apple_ref/doc/uid/TP30000279-BBCBBDGG" title="The Profile Cache and Optimized Searching"></a><h3>The Profile Cache and Optimized Searching</h3><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_348"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_349"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_350"></a>Starting with version 2.5, ColorSync creates a cache file (containing private data) in the Preferences folder to keep track of all currently-installed profiles. The cache stores key information about each profile, using a smart algorithm that avoids rebuilding the cache unless the profile folder has changed.</p><p>ColorSync takes advantage of the profile cache to speed up profile searching. This optimized searching can help your application speed up some operations, such as displaying a pop-up menu of available profiles.</p><p>ColorSync’s intelligent cache scheme provides the following advantages in profile management:</p><ul class="spaceabove"><li class="li"><p>The cache contains information including the name, header, script code, and location for each installed profile, so that once the cache has been built, ColorSync can supply the information your application needs for many tasks without having to reopen any profiles.</p></li><li class="li"><p>When you call a search routine, ColorSync can quickly determine if there has been any change to the currently-installed profiles. If not, ColorSync can supply information from the cache immediately, giving the user a pleasing performance experience.</p></li></ul><p>ColorSync 2.5 provides a flexible new routine, <code><a href="../../../Reference/ColorSync_Manager/Reference/reference.html#//apple_ref/doc/c_ref/CMIterateColorSyncFolder" target="_top">CMIterateColorSyncFolder</a></code>, that takes full advantage of the profile cache to provide truly optimized searching and quick access to profile information. For an example of how to use this routine in your application, see <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCCHEAG">Performing Optimized Profile Searching</a></span>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_74" title="Important:"></a><p><strong>Important:</strong>&nbsp;Your application should use the <code><a href="../../../Reference/ColorSync_Manager/Reference/reference.html#//apple_ref/doc/c_ref/CMIterateColorSyncFolder" target="_top">CMIterateColorSyncFolder</a></code> function, or one of the other ColorSync search functions described in <em>ColorSync Manager Reference</em>, to search for a profile, even if you are only looking for one file. Do not search for a profile by obtaining the location of the profiles folder and searching for the file directly.</p><p></p></div><p>Note that calls to the ColorSync search routines available before version 2.5 cannot take full advantage of the profile cache. For example, with the <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CMNewProfileSearch" target="_top">CMNewProfileSearch</a></code> routine, the caller passes in a search criteria and gets back a list of profiles that match that criteria. Before version 2.5, ColorSync had to open each profile to build the list, and the caller was likely to open each profile again after getting the list back. With version 2.5, ColorSync can at least use the profile cache to narrow down the list (unless the search criteria asks for all profiles!), but it cannot fully optimize the search process.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_351"></a></p><a name="//apple_ref/doc/uid/TP30000279-BBCHFCFA" title="Color Management Modules"></a><h3>Color Management Modules</h3><p>A <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_352"></a>color management module (CMM) is a component that implements color-matching, color conversion, and gamut-checking services. A CMM uses profiles to convert and match a color in a given color space on a given device to or from another color space or device.</p><p>Each profile header includes a field that specifies a CMM to use for performing color matching involving that profile. If two profiles in a color-matching session specify different CMMs, or if a specified CMM is unavailable or unable to perform a requested function, the ColorSync Manager follows an algorithm, described in <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCBBFJD">How the ColorSync Manager Selects a CMM</a></span>, to determine which CMM to use.</p><p>ColorSync ships with a robust CMM that is installed as part of the ColorSync extension. This CMM supports all the required and optional functions defined by the ColorSync Manager, so it can always be used as a default CMM when another CMM is unavailable or unable to perform an operation.</p><p>The ColorSync Manager includes color conversion functions that allow your application or driver to convert colors between color spaces belonging to the same base families without the use of CMMs; CMMs themselves can also call these color conversion functions. However, color conversion and color matching across color spaces belonging to different base families always entail the use of a CMM.</p><p>When colors from one device’s gamut are displayed on a device with a different gamut, as shown in <span class="content_text"><a href="../IntroCSpaces/IntroCSpaces.html#//apple_ref/doc/uid/TP30000280-BCIHDBGG">Figure 2-7</a></span>, ColorSync can minimize the perceived differences in the displayed colors between the two devices by mapping the out-of-gamut colors into the range of colors that can by produced by the destination device.</p><p>A CMM uses lookup tables and algorithms for color matching, previewing color reproduction capabilities of one device on another, and checking for out-of-gamut colors (colors that cannot be reproduced). Although ColorSync provides a default CMM, device manufacturers and peripheral developers can create their own CMMs, tailored to the specific requirements of their device. For information on creating CMMs, see <span class="content_text"><a href="../DevCMMs/DevCMMs.html#//apple_ref/doc/uid/TP30000276-BCIDGEBC">Developing Color Management Modules</a></span> and <em>ColorSync Manager Reference</em>. ColorSync also provides the Kodak CMM as a custom install feature, for users who wish to work with that CMM.</p><a name="//apple_ref/doc/uid/TP30000279-BBCGBFFC" title="Setting a Preferred CMM"></a><h4>Setting a Preferred CMM</h4><p>Starting with version 2.5, the ColorSync control panel, shown in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCIABIC">Figure 3-1</a></span>, lets you choose a <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_353"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_354"></a>preferred CMM from any CMMs that are present (that is, registered with the Component Manager—see <span class="content_text"><a href="../DevCMMs/DevCMMs.html#//apple_ref/doc/uid/TP30000276-BCIJGCBG">Creating a Component Resource for a CMM</a></span> for a description of how to create a CMM the ColorSync Manager can use).</p><p>If you choose a preferred CMM with the ColorSync control panel, and if that CMM is available, ColorSync will attempt to use that CMM for all color conversion and matching operations. If you specify Automatic instead, or if the specified CMM is no longer present or cannot provide the required matching service, or for versions prior to version 2.5, ColorSync follows an algorithm described in <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCBBFJD">How the ColorSync Manager Selects a CMM</a></span> to determine which available CMM to use for matching.</p><p>Note that if you want color conversion and matching operations to use the same CMM-selection algorithm they did in versions prior to ColorSync 2.5, specify Automatic in the ColorSync control panel. &lt;8bat>u</p><p>Starting with ColorSync 2.5, your application can determine the preferred CMM by calling the function <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CMGetPreferredCMM" target="_top">CMGetPreferredCMM</a></code>.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_355"></a></p><a name="//apple_ref/doc/uid/TP30000279-BBCHJGFF" title="Rendering Intents"></a><h4>Rendering Intents</h4><p>Rendering intent refers <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_356"></a>to the approach taken when a CMM maps or translates the colors of an image to the color gamut of a destination device—that is, a rendering intent specifies a gamut-matching strategy. The ICC specification defines a profile tag for each of four rendering intents: perceptual matching, relative colorimetric matching, saturation matching, and absolute colorimetric matching. These rendering intents are described in Table 3-1.</p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_75" title="Table 3-1ICC rendering intents and typical image content "></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP30000279-BBCBGDDB" title="Table 3-1ICC rendering intents and typical image content "></a><strong>Table 3-1&nbsp;&nbsp;</strong>ICC rendering intents and typical image content </caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>ICC term</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Typical content</p></th></tr><tr><td  scope="row"><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_357"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_358"></a>perceptual matching</p></td><td ><p>All the colors of one gamut are scaled to fit within another gamut. Colors maintain their relative positions. Usually produces better results than colorimetric matching for realistic images such as scanned photographs. The eye can compensate for gamuts differences, such as in <span class="content_text"><a href="../IntroCSpaces/IntroCSpaces.html#//apple_ref/doc/uid/TP30000280-BCIHDBGG">Figure 2-7</a></span>, and when printed on a CMYK device, the image may look similar to the original on an RGB device. A side effect is that most of the colors of the original space may be altered to fit in the new space.</p></td><td ><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_359"></a>photographic</p></td></tr><tr><td  scope="row"><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_360"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_361"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_362"></a>relative colorimetric matching</p></td><td ><p>Colors that fall within the overlapping gamuts of both devices are left unchanged. For example, to match an image from the RGB gamut onto the CMYK printer gamut in <span class="content_text"><a href="../IntroCSpaces/IntroCSpaces.html#//apple_ref/doc/uid/TP30000280-BCIHDBGG">Figure 2-7</a></span>, only the colors in the RGB gamut that fall outside the printer gamut are altered. Allows some colors in both images to be exactly the same, which is useful when colors must match quantitatively. A disadvantage is that many colors may map to a single color, resulting in tone compression. All colors outside the printer gamut, for example, would be converted to colors at the edge of its gamut, reducing the number of colors in the image and possibly altering its appearance. Colors outside the gamut are usually converted to colors with the same lightness, but different saturation, at the edge of the gamut. The final may be lighter or darker overall than the original image, but the blank areas will coincide.</p></td><td ><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_363"></a>spot colors</p></td></tr><tr><td  scope="row"><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_364"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_365"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_366"></a>saturation matching</p></td><td ><p>The relative saturation of colors is maintained as well as can be achieved from gamut to gamut. Colors outside the gamut of the to space are usually converted to colors with the same saturation of the from space, but with different lightness, at the edge of the gamut. Can be useful for some graphic images, such as bar graphs and pie charts, when the actual color displayed is less important than its vividness.</p></td><td ><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_367"></a>business graphics</p></td></tr><tr><td  scope="row"><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_368"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_369"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_370"></a>absolute colorimetric matching</p></td><td ><p>Preserves native device white point of source image instead of mapping to D50 relative. Most often using in simulation or proofing operations where a device is trying to simulate the behavior of another device and media. For example, simulating newsprint on a monitor with absolute colorimetric intent would allow white space to be displayed onscreen as yellowish background because of the differences in white points between the two devices.</p></td><td ><p>no typical content (most often used in proofing)</p></td></tr></table></div><p>Color professionals and technically-sophisticated users are likely to be familiar with the ICC terms for rendering intent and the gamut-matching strategies they represent. If your application is aimed at novice users, however, you may prefer to add a simplified terminology based on the typical image content associated with a rendering intent (for example, perceptual matching is commonly used for photographic images). Table 3-1 lists the ICC-specified rendering intents and the corresponding image content term, where applicable. Note that there is no simplified terminology for describing absolute colorimetric matching. However, novice users are not likely to need this rendering intent.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_371"></a></p><p>For information about the actual rendering intent tags, you can obtain the latest ICC profile specification by visiting either the ICC Web site at &lt;http://www.color.org/> or the ColorSync Web site at &lt;http://colorsync.apple.com/>.</p><a name="//apple_ref/doc/uid/TP30000279-BBCGJIJA" title="When Color Matching Occurs"></a><h3>When Color Matching Occurs</h3><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_372"></a>When the color gamut of a source profile is different from the color gamut of a destination profile, ColorSync relies on the CMM and the information stored in both profiles for mapping the colors from the source profile’s gamut to the destination profile’s gamut. The CMM contains the necessary algorithms and lookup tables to enable consistent color mapping among devices.</p><p>When an application or device driver uses the ColorSync Manager functions for color matching, it specifies the source and destination profiles. If it does not specify the source profile or the destination profile for a matching operation, ColorSync substitutes a default profile. See <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCIEIEE">Setting Default Profiles</a></span> for more information.</p><br/><div><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_76" title="Figure 3-2The ColorSync Manager and the Component Manager"></a><p><a name="//apple_ref/doc/uid/TP30000279-BBCEEIHD" title="Figure 3-2The ColorSync Manager and the Component Manager"></a><strong>Figure 3-2&nbsp;&nbsp;</strong>The ColorSync Manager and the Component Manager</p><img src = "../art/csl01.gif" alt = "The ColorSync Manager and the Component Manager" width="271" height="308"></div><br/><p>Color matching between the source and destination color spaces happens inside the color management module (CMM) component. <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCEEIHD">Figure 3-2</a></span> shows the relationship between your application or device driver, the ColorSync Manager, the Component Manager, and one or more available CMM components.</p><p>Your application can call any ColorSync Manager function, whether QuickDraw-specific or general purpose. One of three things then happens:</p><ul class="spaceabove"><li class="li"><p>The ColorSync Manager routine performs the operation directly.</p></li><li class="li"><p>The ColorSync Manager communicates with a CMM through the Component Manager.</p></li><li class="li"><p>The ColorSync Manager calls other ColorSync routines that communicate with a CMM through the Component Manager.</p></li></ul><p>General purpose and QuickDraw-specific functions are described in the following sections.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF112" title="General Purpose Color-Matching Functions"></a><h4>General Purpose Color-Matching Functions</h4><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_373"></a>A general purpose color-matching function is one that uses a color world to characterize how to perform color-matching. General purpose functions depend on the information contained in the profiles that you supply when you set up the color world. You can define a color world for color transformations between a source profile and a destination profile, or define a color world for color transformations between a series of concatenated profiles.</p><p><span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCIAFAE">Creating a Color World to Use With the General Purpose Functions</a></span> provides a code sample for working with general purpose functions. <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCBFBAG">Matching Colors Using the General Purpose Functions</a></span> lists the general purpose functions and provides a description of each function.</p><p>In contrast to the general purpose color-matching functions, the <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCGCGCJ">QuickDraw-Specific Color-Matching Functions</a></span> are tailored for color-matching with QuickDraw. Note, however, that you can also use the general purpose functions when working with QuickDraw—for example, if you need the greater level of control the general purpose functions provide.</p><a name="//apple_ref/doc/uid/TP30000279-BBCGCGCJ" title="QuickDraw-Specific Color-Matching Functions"></a><h4>QuickDraw-Specific Color-Matching Functions</h4><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_374"></a>A QuickDraw-specific color-matching function is one that uses QuickDraw to provide images showing consistent colors across displays. The ColorSync Manager provides two QuickDraw-specific functions that your application can call to draw a color picture to the current display:</p><ul class="spaceabove"><li class="li"><p><code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/NCMBeginMatching" target="_top">NCMBeginMatching</a></code> uses the source and destination profiles you specify to match the colors of the source image to the colors of the device for which it is destined.</p></li><li class="li"><p><code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/NCMDrawMatchedPicture" target="_top">NCMDrawMatchedPicture</a></code> matches a QuickDraw picture’s colors to a destination device’s color gamut as the picture is drawn, using the specified destination profile. Uses the system profile as the initial source profile but switches to any embedded profiles as they are encountered.</p></li></ul><p><span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCGGDII">Matching to Displays Using QuickDraw-Specific Operations</a></span> provides a code sample for working with QuickDraw-specific functions. <em>ColorSync Manager Reference</em> lists the QuickDraw-specific functions and provides a description of each function. Note that the QuickDraw-specific functions call upon the general purpose functions to perform their operations, as shown in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCEEIHD">Figure 3-2</a></span>.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_375"></a></p><a name="//apple_ref/doc/uid/TP30000279-TPXREF113" title="Converting Between Color Spaces"></a><h3>Converting Between Color Spaces</h3><p>Color conversion, which does not require the use of color profiles, is a much simpler process than color matching. The ColorSync Manager provides functions your application can call to convert a list of colors within the same base family—that is, between a base color space and any of its derived color spaces or between two derivatives of the same base family.</p><p>You can convert a list of colors between XYZ and any of its derived color spaces, which include L*a*b*, L*u*v*, and Yxy, or between any two of the derived color spaces. You can also convert colors defined in the XYZ color space between <code>CMXYZColor</code> data types in which the color components are expressed as 16-bit unsigned values and <code>CMFixedXYZColor</code> data types in which the colors are expressed as 32-bit signed values.</p><p>You can convert a list of colors between RGB, which is the base-additive device-dependent color space, and any of its derived color spaces, such as HLS, HSV, and Gray, or between any two of the derived color spaces.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_77" title="Note"></a><p><strong>Note:</strong>&nbsp;The color conversion functions do not support conversion of HiFi colors. &lt;8bat>u</p></div><p>Here are brief descriptions of the XYZ color space and its derivative color spaces:</p><ul class="spaceabove"><li class="li"><p>The XYZ space, referred to as the interchange color space, is the fundamental, or base CIE-based independent color space.</p></li><li class="li"><p>The L*a*b* color space is a CIE-based independent color space used for representing subtractive systems, where light is absorbed by colorants such as inks and dyes. The L*a*b* color space is derived from the XYZ color space. The default white point for the L*a*b* interchange space is the D50 white point.</p></li><li class="li"><p>The L*u*v* color space is a CIE-based color space used for representing additive color systems, including color lights and emissive phosphor displays. The L*u*v* color space is derived from the XYZ color space.</p></li><li class="li"><p>The Yxy color space expresses the XYZ values in terms of x and y chromaticity coordinates, somewhat analogous to the hue and saturation coordinates of HSV space. This allows color variation in Yxy space to be plotted on a two-dimensional diagram.</p></li><li class="li"><p>The XYZ color space includes two XYZ data type formats. The <code>CMFixedXYZColor</code> data type uses the Fixed data type for each of the three components. Fixed is a signed 32-bit value. The <code>CMFixedXYZColor</code> data type is also used in the ColorSync Manager 2.x profile header <code>CM2Header</code>. The <code>CMXYZColor</code> data type uses 16-bit values for each component. </p></li></ul><p>Here are brief descriptions of the RGB color space and its derivative color spaces:</p><ul class="spaceabove"><li class="li"><p>The RGB color space is a three-dimensional color space whose components are the red, green, and blue intensities that make up a given color.</p></li><li class="li"><p>The HLS and HSV color spaces belong to the family of RGB-based color spaces, which are directly supported by most color displays and scanners.</p></li><li class="li"><p>Gray spaces typically have a single component, ranging from black to white. The Gray color space is used for black-and-white and grayscale display and printing.</p></li></ul><p>To convert colors from one color space to one of its derived spaces, you don’t need to specify source and destination profiles. Instead, you just call the appropriate ColorSync Manager function to convert between the desired color spaces. In cases where you’re converting between XYZ and Lab or Luv spaces, a white reference is required to perform the conversion. This reference is expressed in the XYZ color space, and provides a way to specify the theoretical illuminant (for example, D65) under which the colors are viewed.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_78" title="Note"></a><p><strong>Note:</strong>&nbsp;Prior to version 2.1, the ColorSync Manager used a component to implement color conversion. An application had to open a connection to the component with the Component Manager, then pass the component instance as a parameter to the color conversion functions. For example, the <code>CMXYZToLab</code> function performs the same conversion as <code>CMConvertXYZToLab</code>, but takes a first parameter of</p><code>ComponentInstance ci</code></p>For backward compatibility, component-based color conversion functions such as <code>CMXYZToLab</code> are still supported. However, their use is discouraged, and they are not guaranteed to work in future versions (nor are they documented here).</p></div><a name="//apple_ref/doc/uid/TP30000279-BBCFHBIJ" title="Monitor Calibration and Profiles"></a><h3>Monitor Calibration and Profiles</h3><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_376"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_377"></a>Since ColorSync was first introduced, a common question from end users has been Where is the ColorSync profile for my monitor? The answer is that because some monitor manufacturers do not supply ColorSync profiles for their products, purchasers of third-party monitors may not have access to a profile that is specific to their monitor. As a result, they are unable to use ColorSync effectively.</p><p>Even when a user has a factory-supplied profile, switching to a different monitor setup can reduce the profile’s accuracy. For example, if the user changes the monitor’s gamma value and white point, the original profile is no longer useful. The user needs to run a calibration application (if one is available) to generate a new ColorSync profile for the new monitor settings.</p><br/><div><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_79" title="Figure 3-3Monitors &amp;amp; Sound Control Panel for ColorSync 2.5"></a><p><a name="//apple_ref/doc/uid/TP30000279-BBCHEEDD" title="Figure 3-3Monitors &amp;amp; Sound Control Panel for ColorSync 2.5"></a><strong>Figure 3-3&nbsp;&nbsp;</strong>Monitors &amp; Sound Control Panel for ColorSync 2.5</p><img src = "../art/css02.gif" alt = "Monitors &amp; Sound Control Panel for ColorSync 2.5" width="382" height="310"></div><br/><p>Starting with version 2.5, ColorSync uses the Monitors &amp; Sound control panel to provide a monitor calibration framework to help users obtain the monitor profiles they need. <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCHEEDD">Figure 3-3</a></span> shows the new Monitors &amp; Sound control panel. Note that the list of gamma values (Mac Standard Gamma, uncorrected gamma) has been removed because that function is now part of the calibration process.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_80" title="Note"></a><p><strong>Note:</strong>&nbsp;If you develop a utility that adjusts gamma or modifies other calibration values, you should modify your software so that it uses the monitor calibration framework to gain system-level support.</p></div><a name="//apple_ref/doc/uid/TP30000279-BBCCGCHJ" title="Setting a Profile for Each Monitor"></a><h4>Setting a Profile for Each Monitor</h4><p>Because Monitors &amp; Sound displays a panel for each available monitor, a user can also select, for each monitor, a separate profile from the list of available profiles. When a user sets a profile for a monitor in the Monitors &amp; Sound control panel, ColorSync makes that profile the current system profile, as described in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCIEIEE">Setting Default Profiles</a></span>. When your application sets a profile for a monitor, it may also wish to make that profile the system profile. If so, it must set the system profile explicitly by calling <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CMSetSystemProfile" target="_top">CMSetSystemProfile</a></code>. For information on how to set monitor profiles in your code, see <em>ColorSync Manager Reference</em>.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF114" title="Calibration"></a><h4>Calibration</h4><p>Calibration and characterization are related terms, but with important differences. Calibration is the process of setting a device’s parameters according to its factory standards. This is also known as linearizing or linearization. Characterization is the process of learning the color character of a monitor so that a profile can be created to describe it. Unlike input and output devices, whose calibration and characterization steps are not the same, a monitor is calibrated and characterized in one step.</p><p>The Calibrate button on the Monitors &amp; Sound control panel provides the launching point for monitor calibration. A user can calibrate each monitor and create one or more color profiles for each, based on variations in gamma, white point, and so on. For related information on profiles, see <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCGDGHA">Profiles</a></span> and <span class="content_text"><a href="../DevCSSDevDrvrs/DevCSSDevDrvrs.html#//apple_ref/doc/uid/TP30000277-BAJICJDH">Devices and Their Profiles</a></span>.</p><p>AppleVision and Apple ColorSync monitors are self-calibrating, so you will not see a Calibrate button for these monitors, unless there is a third-party calibrator installed in your Extensions folder.</p><p>Calibrating a monitor can be a challenging task for a naive user, but Apple Computer supplies a default calibrator that leads the user through a series of calibration steps. Using the default calibrator, even a novice should have a reasonable chance for success.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_81" title="Note"></a><p><strong>Note:</strong>&nbsp;There are limits to the effectiveness of monitor calibration by users. For example, some monitors, due to age or condition, cannot be calibrated, and a small percentage of the user population is color-blind.</p></div><p>The calibration framework uses a plug-in architecture that is fully accessible to third-party calibration plug-ins. When a user clicks on the Calibrate button, the Monitors &amp; Sound control panel provides a list of all available calibrator plug-ins. To appear in the list, a plug-in must meet the following criteria:</p><ul class="spaceabove"><li class="li"><p>It must be stored in the Extensions folder.</p></li><li class="li"><p>It must be a shared library (file type <code>'shlb'</code>).</p></li><li class="li"><p>Its shared library must export the symbols <code>CanCalibrate</code> and <code>Calibrate.</code></p></li><li class="li"><p>It should have a unique creator type (registered with Apple).</p></li><li class="li"><p>The name of the library’s code fragment (specified in the <code>'cfrg'</code> resource) must be unique (among all currently loaded shared libraries) and begin with <code>'Cali'</code>. For example, you might want to name the library by appending your creator type to <code>'Cali'</code>.</p></li></ul><p>You can find source code for sample monitor calibration plug-ins in the ColorSync 2.5.1 SDK. If you plan to create a monitor calibration plug-in, you should read the next section <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCIIJGB">Video Card Gamma</a></span>.</p><a name="//apple_ref/doc/uid/TP30000279-BBCIIJGB" title="Video Card Gamma"></a><h4>Video Card Gamma</h4><p>Starting with version 2.5, ColorSync supports an optional profile tag for video card gamma, which you specify with the <code>cmVideoCardGammaTag</code> constant. The tag specifies gamma information, stored either as a formula or in table format, to be loaded into the video card when the profile containing the tag is put into use. When you call the function <code><a href="../../../Reference/ColorSync_Manager/Reference/reference.html#//apple_ref/doc/c_ref/CMSetProfileByAVID" target="_top">CMSetProfileByAVID</a></code> and specify a profile that contains a video card gamma tag, ColorSync will extract the tag from the profile and set the video card based on the tag.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_82" title="Important:"></a><p><strong>Important:</strong>&nbsp;The function <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CMSetSystemProfile" target="_top">CMSetSystemProfile</a></code> does not retrieve video card gamma data to set the video card. Only the <code>CMSetProfileByAVID</code> function currently sets video card gamma data.</p><p></p></div><p>If you provide monitor calibration software, you should include the video card gamma tag in the profiles you create. For information on the constants and data types you use to work with video card gamma, see <em>ColorSync Manager Reference</em>. You can get more information about AVID values from the Display Manager SDK.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_378"></a><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_379"></a></p><a name="//apple_ref/doc/uid/TP30000279-BBCFBGAJ" title="Scripting Support"></a><h3>Scripting Support</h3><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_380"></a>Starting with version 2.5, the ColorSync Manager provides AppleScript support that allows users to script many common color-matching tasks. To provide this support, ColorSync now runs as a faceless background application (one with no user interface), rather than as a standard extension. By running as a background application, ColorSync can avoid namespace collisions and time-outs during long operations, and it can have its own AppleScript dictionary.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_83" title="Note"></a><p><strong>Note:</strong>&nbsp;You can examine ColorSync’s full AppleScript dictionary by dragging the file ColorSync Extension from your Extensions folder onto the Script Editor application (usually located in the AppleScript folder within the Apple Extras folder).</p></div><a name="//apple_ref/doc/uid/TP30000279-BBCHIEBA" title="Scriptable Properties"></a><h4>Scriptable Properties</h4><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_381"></a>ColorSync provides scriptable support for getting and setting the following properties:</p><ul class="spaceabove"><li class="li"><p>system profile (the default system profile)</p></li><li class="li"><p>default profiles for RGB, CMYK, Lab, and XYZ color spaces</p></li><li class="li"><p>quit delay (the time in seconds for auto-quit, where 0 = never)</p></li><li class="li"><p>profile location (a file specification)</p></li></ul><p>For the following, you can only get, not set, the property:</p><ul class="spaceabove"><li class="li"><p>profile folder (the ColorSync profile folder)</p></li></ul><p>Location is the only property currently supported for profiles, but future support is planned for additional profile properties.</p><a name="//apple_ref/doc/uid/TP30000279-BBCHCBDI" title="Scriptable Operations"></a><h4>Scriptable Operations</h4><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_382"></a>ColorSync supports the following scriptable operations:</p><ul class="spaceabove"><li class="li"><p>Matching an image.</p></li><li class="li"><p>Matching an image with a device link profile.</p></li><li class="li"><p>Proofing an image or a series of images.</p></li><li class="li"><p>Embedding a profile in an image (very helpful for converting archives of legacy film).</p></li></ul><p>Scriptable image operations currently work only on TIFF files, but support for other formats is planned.</p><a name="//apple_ref/doc/uid/TP30000279-BBCHEBJI" title="Extending the Scripting Framework"></a><h4>Extending the Scripting Framework</h4><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_383"></a>The scripting framework uses a plug-in architecture that is fully accessible to third-party scripting plug-ins. When a user invokes a script to perform a ColorSync operation on an image, ColorSync (operating as a faceless background application) automatically builds a list of all available scripting plug-ins. It then attempts to call each of the plug-ins in the list until one of them successfully executes the desired operation. To appear in the list, a plug-in must meet the following criteria:</p><ul class="spaceabove"><li class="li"><p>It must be stored in the Extensions folder.</p></li><li class="li"><p>It must be a shared library (file type <code>'shlb'</code>).</p></li><li class="li"><p>It should have a unique creator type (registered with Apple).</p></li><li class="li"><p>The name of the library’s code fragment (specified in the <code>'cfrg'</code> resource) must be unique (among all currently loaded shared libraries) and begin with <code>'CSSP'</code>. For example, you might want to name the library by appending your creator type to <code>'CSSP'.</code></p></li></ul><a name="//apple_ref/doc/uid/TP30000279-BBCHDIED" title="Sample Scripts"></a><h4>Sample Scripts</h4><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_384"></a>The ColorSync SDK includes several sample scripts that demonstrate how to perform common operations. You can use the scripts as is, or borrow from them for your own custom scripts. For more information, see the detailed Read Me files that accompany the sample scripts.</p><a name="//apple_ref/doc/uid/TP30000279-BBCFDHEI" title="Multiprocessor Support"></a><h3>Multiprocessor Support</h3><p><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_385"></a>Starting with version 2.5, ColorSync’s default CMM can take advantage of multiple processors. Multiprocessor support is transparent to your code—the CMM invokes it automatically if the required conditions are met.</p><a name="//apple_ref/doc/uid/TP30000279-BBCFADAB" title="When ColorSync Uses Multiple Processors"></a><h4>When ColorSync Uses Multiple Processors</h4><p>The default CMM takes advantage of multiprocessor support only if the following conditions are satisfied:</p><ol class="ol"><li class="li"><p>The MPLibrary was successfully loaded at boot time.</p></li><li class="li"><p>The CMM successfully links against the MPLibrary at runtime.</p></li><li class="li"><p>The number of processors available is greater than one.</p></li><li class="li"><p>The number of rows in the image is greater than the number of processors.</p></li><li class="li"><p>The source and destination buffers have the same number of bytes per row or have different locations in memory.</p></li></ol><p>Unless all of these conditions are met, matching will proceed without acceleration. Multiprocessor support is currently supplied only for the following component request codes:</p><ul class="spaceabove"><li class="li"><p><code>kCMMMatchBitMap</code></p></li><li class="li"><p><code>kCMMMatchPixMap</code></p></li></ul><p>As a result, the default CMM invokes multiprocessor support only in response to the general purpose <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CWMatchPixMap" target="_top">CWMatchPixMap</a></code> and <code><a href="../../../Reference/ColorSync_Manager/Reference/reference.html#//apple_ref/doc/c_ref/CWMatchBitmap" target="_top">CWMatchBitmap</a></code> functions, or when those calls are invoked as a result of a call to the QuickDraw-specific matching routines, such as <code><a href="../../../Reference/ColorSync_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/NCMBeginMatching" target="_top">NCMBeginMatching</a></code>.</p><a name="//apple_ref/doc/uid/TP30000279-BBCFEAFB" title="Efficiency of ColorSync&acirc;&#128;&#153;s Multiprocessor Support"></a><h4>Efficiency of ColorSync’s Multiprocessor Support</h4><p>Depending on the image and other factors, ColorSync’s matching algorithms take advantage of multiple processors with up to 95% efficiency (your mileage may vary). If you have two processors, for example, ColorSync can complete a matching operation in as little 53% of the time required by one processor. Additional processors should provide proportional improvement.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_386"></a></p><a name="//apple_ref/doc/uid/TP30000279-TPXREF115" title="QuickDraw GX and the ColorSync Manager"></a><h3>QuickDraw GX and the ColorSync Manager</h3><p>Unless your application uses <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_387"></a>QuickDraw GX to create and render images, your application must call ColorSync functions, such as <code>NCMBeginMatching</code> and <code>NCMDrawMatchedPicture</code>, to match colors between devices.</p><p>However, if your application uses QuickDraw GX and your application sets the view port attribute <code>gxEnableMatchPort</code>, the ColorSync Manager automatically matches colors when your application draws to the screen.</p><p>QuickDraw GX color profile objects contain ColorSync profiles, and each profile specifies the kind of matching to perform with it. For more information about QuickDraw GX color architecture, see the chapter Colors and Color-Related Objects in Inside Macintosh: QuickDraw GX Objects.</p><p>QuickDraw GX version 1.1.2 or earlier uses ColorSync 1.0. However, because the ColorSync Manager provides robust backward compatibility, including continued support of the ColorSync 1.0 API, you can use the ColorSync Manager with QuickDraw GX. For more information about the ColorSync Manager’s backward compatibility, see <span class="content_text"><a href="../VersAndCompat/VersAndCompat.html#//apple_ref/doc/uid/TP30000275-BCIICCIB">Version and Compatibility Information</a></span>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_84" title="Important:"></a><p><strong>Important:</strong>&nbsp;For information on changes to the printing and graphics architecture in the Mac OS that affect QuickDraw GX, see the technote &lt;http://gemma.apple.com/technotes/gxchange.html>.</p><p></p></div><a name="//apple_ref/doc/uid/TP30000279-TPXREF116" title="How the ColorSync Manager Uses Memory"></a><h3>How the ColorSync Manager Uses Memory</h3><p>The ColorSync Manager attempts to<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_388"></a> allocate the memory it requires from the following sources in this order:</p><ul class="spaceabove"><li class="li"><p>The current heap zone. If the current heap zone is set to the application heap, the ColorSync Manager will attempt to allocate the memory it requires from the application heap.</p></li><li class="li"><p>The system heap. If the current heap zone is set to the system heap, the ColorSync Manager will try the system heap first and never attempt to allocate memory from the application heap.</p></li><li class="li"><p>The Process Manager temporary heap. (If this final source does not satisfy the ColorSync’s Manager’s memory requirements, any attempt to load the ColorSync Manager will fail.)</p></li></ul><p>By default, the current heap zone is set to the application heap. When the ColorSync Manager is used apart from QuickDraw GX, this scenario commonly prevails, making application heap memory available to the ColorSync Manager.</p><p>However, QuickDraw GX holds a covenant with applications committing not to allocate memory from the application heap. QuickDraw GX sets the current heap zone to the system heap. Consequently, when the ColorSync Manager is used by QuickDraw GX, the ColorSync Manager is prohibited from allocating memory it requires from the application heap and must allocate all the memory it requires from the system heap and the Process Manager temporary heap.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF117" title="What Users Can Do With ColorSync-Supportive Applications"></a><h2>What Users Can Do With ColorSync-Supportive Applications</h2><p>ColorSync allows your application or driver to maintain consistent color across devices and across platforms. You can also let users perform quick and inexpensive color proofing and see in advance which colors cannot be printed on their printers. This section provides an overview of these and other color management features you can provide. See <span class="content_text"><a href="../DevCSApps/DevCSApps.html#//apple_ref/doc/uid/TP30000278-BBCJCBHD">Developing ColorSync-Supportive Applications</a></span> and <span class="content_text"><a href="../DevCSSDevDrvrs/DevCSSDevDrvrs.html#//apple_ref/doc/uid/TP30000277-BCIHGGGI">Developing ColorSync-Supportive Device Drivers</a></span> for information on how to implement specific features.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF118" title="Display Matching"></a><h3>Display Matching</h3><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_389"></a><p>When your application displays an image that contains one or more embedded profiles, it can use ColorSync to make sure the user experiences consistent color from one display to another. If a color cannot be reproduced exactly on a particular destination device, the ColorSync Manager can map the color to a similar color that is in the color gamut of the device.</p><p>Your application or driver can allow a user to embed or tag color-matching information and it should be able to use the ColorSync Manager to display a tagged picture. Most importantly, your application or driver must preserve picture comments in documents and allow the information to be passed on to the destination device.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF119" title="Gamut Checking"></a><h3>Gamut Checking</h3><p>Because not <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_390"></a>all colors can be rendered on all devices, you may want your application to warn users when a color they choose is out of gamut for the currently selected destination device. For example, you can use gamut checking to see if a given color is reproducible on a particular printer. If the color is not directly reproducible—that is, if it is out of gamut—you can alert the user to that fact. The ColorSync Manager provides the <code>CWCheckPixMap</code> and <code>CWCheckColors</code> functions for checking a color against a device’s profile to see if it is in or out of gamut for the device. Your application can then display the results of this check to the user.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF120" title="Soft Proofing"></a><h3>Soft Proofing</h3><p>Using the <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_391"></a>destination device’s profile, your application can enable users to preview on a monitor what a color image will look like on a particular device. Further, it enables remote proofing between client and prepress service. This simulation of a device’s output can save the user considerable time and cost.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF121" title="Device Link Profiles"></a><h3>Device Link Profiles</h3><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_392"></a><p>Most users use the same device configuration for scanning, viewing, and printing over a period of time. Your application can allow users to create a device link profile. A device link profile is a means of storing in a single profile a series of linked profiles that correspond to a specific configuration in the order in which the devices in that configuration are normally used. A device link profile represents a one-way link or connection between devices. It does not represent any device model, nor can it be embedded into images.</p><a name="//apple_ref/doc/uid/TP30000279-TPXREF122" title="Calibration"></a><h3>Calibration</h3><p>Your application can provide calibration services. A calibration application offers the option of calibrating <a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_393"></a>a peripheral device based on a standard state or calibrating the device based on its current state.</p><p>If a peripheral device, such as a color printer, has drifted from its original state over time, a calibration application can make use of the characterization data contained in the corresponding profile to bring the color response back into range.</p><p>A user may want to improve the reproduction quality of a device without returning the device to a standard state. Your application can create a profile based on the current state of the device, then use the profile to characterize that device. This approach to calibration maintains the existing dynamic density range while improving the device’s overall quality.<a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_394"></a></p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000279-DontLinkElementID_85" title="Note"></a><p><strong>Note:</strong>&nbsp;You can also provide a monitor calibration plug-in, as described in <span class="content_text"><a href="IntroCSMngr.html#//apple_ref/doc/uid/TP30000279-BBCFHBIJ">Monitor Calibration and Profiles</a></span>.</p></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../IntroCSpaces/IntroCSpaces.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DevCSApps/DevCSApps.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1999, 2003 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2003-02-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Conceptual/ManagingColorSync/IntroCSMngr/IntroCSMngr.html%3Fid%3DTP40000896-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Conceptual/ManagingColorSync/IntroCSMngr/IntroCSMngr.html%3Fid%3DTP40000896-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Conceptual/ManagingColorSync/IntroCSMngr/IntroCSMngr.html%3Fid%3DTP40000896-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>