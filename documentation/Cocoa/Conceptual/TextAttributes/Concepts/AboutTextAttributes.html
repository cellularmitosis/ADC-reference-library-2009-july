<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Text Attributes: About Text Attributes</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="About Text Attributes"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001804" title="About Text Attributes"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../TextFonts-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Text Attributes</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TextAttributes.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SetTextAttributes.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20001804-DontLinkElementID_5" title="About Text Attributes"></a><hr /><H1><a name="//apple_ref/doc/uid/20001804-BBCFEBHA" title="About Text Attributes"></a>About Text Attributes</H1><p>The Cocoa text system handles five kinds of text attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_40"></a>: character attributes, temporary attributes, paragraph attributes, glyph attributes, and document attributes. Character attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_41"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_42"></a> include traits such as font, color, and subscript, which can be associated with an individual character or a range of characters. Temporary attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_43"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_44"></a> are character attributes that apply only to a particular layout and are not persistent. Paragraph attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_45"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_46"></a> are traits such as indentation, tabs, and line spacing. Glyph attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_47"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_48"></a> affect the way the layout manager renders glyphs and include traits such as overstriking the previous glyph. Document attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_49"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_50"></a> include document-wide traits such as paper size, margins, and view zoom percentage.</p><p>This article provides a brief introduction to the various types of text attributes with cross references to more detailed documentation.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="AboutTextAttributes.html#//apple_ref/doc/uid/20001804-53160">Character Attributes</a>
				
			<br/>
			
        
			
			
				<!--a  -->Temporary Attributes<!--/a-->
				
			<br/>
			
        
			
			
				<!--a  -->Paragraph Attributes<!--/a-->
				
			<br/>
			
        
			
			
				<a href="AboutTextAttributes.html#//apple_ref/doc/uid/20001804-61036">Glyph Attributes</a>
				
			<br/>
			
        
			
			
				<a href="AboutTextAttributes.html#//apple_ref/doc/uid/20001804-51033">Document Attributes</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001804-53160" title="Character Attributes"></a><h2>Character Attributes</h2><p>The text system stores character attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_51"></a> persistently in attributed strings along with the characters to which they apply. The text system’s predefined character attributes control the appearance of characters (font, foreground color, background color, and ligature handling) and their placement (superscript, baseline offset, and kerning).</p><p>Two special character attributes pertain to links and attachments. A link attribute<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_52"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_53"></a> points to a URL (encapsulated in an NSURL object<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_54"></a>) or any other object of your choice. An attachment attribute<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_55"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_56"></a> is associated with a special attachment character and points to an NSFileWrapper<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_57"></a> object containing the attached file or in-memory data.</p><p>Two of the predefined character attributes, <code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSCharacterShapeAttributeName" target="_top">NSCharacterShapeAttributeName</a></code><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_58"></a>and <code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSGlyphInfoAttributeName" target="_top">NSGlyphInfoAttributeName</a></code>,<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_59"></a> are rarely used but described here for completeness. <code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSCharacterShapeAttributeName" target="_top">NSCharacterShapeAttributeName</a></code><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_60"></a>enables you to set a value for the character shape feature used in font rendering by Apple Type Services<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_61"></a>. This feature is currently used to specify traditional shapes in Chinese and Japanese scripts, but font developers could use it for other scripts as well.</p><p>In Mac OS X version 10.2 and later, the predefined character attribute <code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSGlyphInfoAttributeName" target="_top">NSGlyphInfoAttributeName</a></code><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_62"></a>points to an NSGlyphInfo<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_63"></a> object that provides a means to override the standard glyph generation process and substitute a specified glyph over the attribute’s range.</p><a name="//apple_ref/doc/uid/20001804-53196" title="Storing Character Attributes"></a><h3>Storing Character Attributes</h3><p><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_64"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_65"></a>An attributed string<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_66"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_67"></a> stores character attributes as key-value pairs in NSDictionary<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_68"></a> objects. The key is an attribute name, represented by an identifier (an NSString constant) such as <a name="//apple_ref/doc/uid/20001804-DontLinkElementID_69"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSFontAttributeName" target="_top">NSFontAttributeName</a></code>. <span class="content_text">Figure 1</span> shows an attributed string with an attribute dictionary<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_70"></a> applied to a range within the string.</p><br/><div><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_6" title="Figure 1Composition of an NSAttributedString including its attributes dictionary"></a><p><a name="//apple_ref/doc/uid/20001804-53217" title="Figure 1Composition of an NSAttributedString including its attributes dictionary"></a><strong>Figure 1&nbsp;&nbsp;</strong>Composition of an NSAttributedString including its attributes dictionary</p><img src = "Art/ns_attributed_string.gif" alt = "Composition of an NSAttributedString including its attributes dictionary" width="349" height="161"></div><br/><p>Conceptually, each character in an attributed string has an associated dictionary of attributes. Typically, however, an attribute dictionary applies to a longer range of characters. The NSAttributedString class<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_71"></a> provides methods that take a character index and return the associated attribute dictionary and the range to which its attribute values apply. See <span class="content_text"><a href="../AccessingAttrs.html#//apple_ref/doc/uid/20000161-BAJBBCBI" target="_self">“Accessing Attributes”</a></span> for more information about using these methods.</p><p>In addition to the predefined attributes, you can assign any attribute key-value pair<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_72"></a> you wish to a range of characters. You add the attributes to the appropriate character range in the NSTextStorage<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_73"></a> object using the NSMutableAttributedString<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_74"></a><code>addAttribute:value:range:<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_75"></a></code> method. You can also create an NSDictionary containing the names and values of a set of custom attributes and add them to the character range in a single step using the <code>addAttributes:range:<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_76"></a></code> method. To make use of your custom attributes, you need a custom subclass of NSLayoutManager<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_77"></a> that understands what to do with them. Your subclass should override the <code>drawGlyphsForGlyphRange:atPoint:<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_78"></a></code> method first to call the superclass to draw the glyph range, then draw your own attributes on top, or else draw the glyphs entirely your own way.</p><a name="//apple_ref/doc/uid/20001804-53253" title="Attribute Fixing"></a><h3>Attribute Fixing</h3><p><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_79"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_80"></a>Editing attributed strings can cause inconsistencies that must be cleaned up by <strong>attribute fixing</strong>. The Application Kit extensions to NSMutableAttributedString define <code>fix...</code> methods to fix inconsistencies among attachment, font, and paragraph attributes. These methods ensure that attachments don’t remain after their attachment characters are deleted, that font attributes apply only to characters available in that font, and that paragraph attributes are consistent throughout paragraphs.</p><p>See <em><a href="../../AttributedStrings/index.html#//apple_ref/doc/uid/10000036i" target="_top">Attributed Strings Programming Guide</a></em> for more details about character attributes and attribute fixing. </p><a name="//apple_ref/doc/uid/20001804-53307" title="Temporary Attributes"></a><h2>Temporary Attributes</h2><p>Temporary attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_81"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_82"></a> are character attributes that are not stored with an attributed string. Rather, the layout manager<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_83"></a> assigns temporary attributes during the layout process and uses them only when drawing the text. For example, you can use temporary attributes to underline misspelled words or color key words in a programming language.</p><p>Temporary attributes affect only the appearance of text, not the way in which it is laid out. You store temporary attributes in an NSDictionary using the same keys as regular character attributes, or using custom attribute names (if you have an NSLayoutManager subclass that can handle them). Then you add the attributes using an NSLayoutManager method such as <code>addTemporaryAttributes:forCharacterRange:<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_84"></a></code>. By default, the only temporary attributes recognized are those affecting color and underlines. During layout, temporary attributes supersede regular character attributes. So, for example, if a character has a stored <code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSForegroundColorAttributeName" target="_top">NSForegroundColorAttributeName</a></code><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_85"></a>value specifying blue and a temporary attribute of the same identifier specifying red, then the character is rendered in red.</p><p>For more information on temporary attributes, see the NSLayoutManager reference documentation.</p><a name="//apple_ref/doc/uid/20001804-53347" title="Paragraph Attributes"></a><h2>Paragraph Attributes</h2><p>Paragraph attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_86"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_87"></a> affect the way the layout manager arranges lines of text into paragraphs on a page. The text system encapsulates paragraph attributes in objects of the NSParagraphStyle class<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_88"></a>. The value of one of the predefined character attributes, <code><a href="../../../Reference/ApplicationKit/Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/c_ref/NSParagraphStyleAttributeName" target="_top">NSParagraphStyleAttributeName</a></code>, <a name="//apple_ref/doc/uid/20001804-DontLinkElementID_89"></a>points to an NSParagraphStyle object containing the paragraph attributes for that character range. Attribute fixing ensures that only one NSParagraphStyle object pertains to the characters throughout each paragraph.</p><p>Paragraph attributes include traits such as alignment, tab stops, line-breaking mode, and line spacing (also known as leading). Users of text applications control paragraph attributes through ruler views<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_90"></a>, defined by the NSRulerView class<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_91"></a>.</p><p>See <em><a href="../../Rulers/index.html#//apple_ref/doc/uid/10000089i" target="_top">Rulers and Paragraph Styles</a></em> for more details about paragraph attributes.</p><a name="//apple_ref/doc/uid/20001804-61036" title="Glyph Attributes"></a><h2>Glyph Attributes</h2><p><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_92"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_93"></a>Glyphs are the concrete representations of characters that the text system actually draws on a display. Glyph attributes are not complex data structures like character attributes but are simply integer values that the layout manager<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_94"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_95"></a> uses to denote special handling for particular glyphs during rendering. </p><p>The text system uses glyph attributes rarely, and applications should have little reason to be concerned with them. Nonetheless, NSLayoutManager<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_96"></a> provides public methods that handle glyph attributes, so you can use subclasses to extend the mechanism to handle custom glyph attributes if necessary.</p><p>The glyph generator sets built-in glyph attributes as required on glyphs during typesetting. They are maintained in the layout manager’s glyph cache during that process, but they are not stored persistently. Two examples of glyph attributes are the elastic attribute for spaces, used to lay out fully justified text, and the attribute <code>NSGlyphAttributeInscribe</code>, which is used for situations such as drawing an umlaut over a character when the font does not include a built-in character-with-umlaut. </p><p>For more information about glyph attributes, see the NSLayoutManager reference documentation describing the <code>setIntAttribute:value:forGlyphAtIndex:<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_97"></a></code> method.</p><a name="//apple_ref/doc/uid/20001804-51033" title="Document Attributes"></a><h2>Document Attributes</h2><p>Document attributes<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_98"></a><a name="//apple_ref/doc/uid/20001804-DontLinkElementID_99"></a> pertain to a document as a whole. Document attributes include traits such as paper size, margins, and view zoom percentage. Although the text system has no built-in mechanism to store document attributes, initialization methods such as <code>initWithRTF:documentAttributes:<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_100"></a></code> can populate an NSDictionary<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_101"></a> object that you provide with document attributes derived from a stream of RTF or HTML data. Conversely, methods that write RTF data, such as <code>RTFFromRange:documentAttributes:<a name="//apple_ref/doc/uid/20001804-DontLinkElementID_102"></a></code>, write document attributes if you pass a reference to an NSDictionary object containing them with the message.</p><p>See <span class="content_text"><a href="../RTFAndAttrStrings.html#//apple_ref/doc/uid/20000164-BBCBJIBC" target="_self">“RTF Files and Attributed Strings”</a></span> and the NSAttributedString Additions reference documentation for more information.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TextAttributes.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SetTextAttributes.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1997, 2004 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2004-02-16<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/TextAttributes/Concepts/AboutTextAttributes.html%3Fid%3D10000088i-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/TextAttributes/Concepts/AboutTextAttributes.html%3Fid%3D10000088i-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/TextAttributes/Concepts/AboutTextAttributes.html%3Fid%3D10000088i-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
