<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Creating a Managed Object Model with Xcode: Adding Properties</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Adding Properties"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006311-CH8" title="Adding Properties"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../DeveloperTools/index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../../DeveloperTools/Xcode-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000557" target="_top">Xcode</a> &gt; <a href="00_Introduction.html#//apple_ref/doc/uid/TP40006311-CH1-DontLinkElementID_7">Creating a Managed Object Model with Xcode</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="01_momxCreating.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40006311-CH8-SW1" title="Adding Properties"></a><h1>Adding Properties</h1><p>The next task is to add properties to the entities. There are two sorts of property—attributes and relationships. They share a number of features in common (in their implementation, <code><a href="../../../Reference/CoreDataFramework/Classes/NSAttributeDescription_Class/Reference/Reference.html#//apple_ref/occ/cl/NSAttributeDescription" target="_top">NSAttributeDescription</a></code> and <code><a href="../../../Reference/CoreDataFramework/Classes/NSRelationshipDescription_Class/Reference/Reference.html#//apple_ref/occ/cl/NSRelationshipDescription" target="_top">NSRelationshipDescription</a></code> both inherit from <code><a href="../../../Reference/CoreDataFramework/Classes/NSPropertyDescription_Class/Reference/NSPropertyDescription.html#//apple_ref/occ/cl/NSPropertyDescription" target="_top">NSPropertyDescription</a></code>), but there are differences in the way you configure them in the tool.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="02_momxProperties.html#//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_5">Adding Attributes</a>
				
			<br/>
			
        
			
			
				<a href="02_momxProperties.html#//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_6">Adding Relationships</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_5" title="Adding Attributes"></a><h2>Adding Attributes</h2><p>When you add an attribute you must specify name and its type—for example, string, number, date, and so on. In addition, you can specify a default value and constraints on values that a property can have—for example the maximum or minimum values of a numeric value, a regular expression that a string value must match, or the cardinality of a relationship. You can specify all these sorts of constraint in the model, and they will be automatically applied when you try to save an instance at runtime. If you want to specify other constraints on property values, or to enforce inter-property constraints, you must implement validation methods in the custom class for the entity. For more details, see <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/cl/NSManagedObject" target="_top">NSManagedObject</a></code>. </p><p>You can now add attributes to the entities, as described by the following steps.</p><ol class="ol"><li class="li"><p>In the entity list, select the Employee entity.</p></li><li class="li"><p>Add a new attribute. In the properties pane, ensure that either the Show All Properties or the Show Attributes item is selected from the “v” pop-up menu. Click the plus button to the lower left of the table view, as illustrated in <span class="content_text">“Adding a property,”</span> and choose Add Attribute from the pop-up menu. Alternatively, in the Design menu choose Data Model > Add Attribute.</p></li><li class="li"><p>Select the new attribute in the table view. Use the detail pane to set the attributes of the employee’s <code>firstName</code> attribute as follows: the attribute is neither optional nor transient; its type is String; there are no constraints specified for Max Length or Reg. Ex; Min Length is 2; and there is no default value. When you have finished the pane should look like that shown in <span class="content_text">“Editing an attribute.”</span></p></li><li class="li"><p>Follow steps 1-3 to add a <code>lastName</code> attribute to the Employee entity, and then a <code>name</code> attribute to the Department entity.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_8" title="Figure 2-1Adding a property"></a><p><a name="//apple_ref/doc/uid/TP30001197-154401" title="Figure 2-1Adding a property"></a><strong>Figure 2-1&nbsp;&nbsp;</strong>Adding a property</p><img src = "../Art/add_attribute_grab.gif" alt = "Adding an attribute" width="233" height="113"></div><br/><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_9" title="Figure 2-2Editing an attribute"></a><p><a name="//apple_ref/doc/uid/TP30001197-154414" title="Figure 2-2Editing an attribute"></a><strong>Figure 2-2&nbsp;&nbsp;</strong>Editing an attribute</p><img src = "../Art/attribute_inspector_grab.gif" alt = "Editing an attribute" width="283" height="243"></div><br/><p>Follow similar steps to add a <code>salary</code> attribute to the Employee entity and a <code>budget</code> attribute to the Department entity. These differ from the name attributes in that they are numeric values. Set the type to Decimal, and impose suitable constraints. Both have a minimum value of <code>0</code>. Set for each whatever maximum value you think is reasonable.</p><a name="//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_6" title="Adding Relationships"></a><h2>Adding Relationships</h2><p>In Core Data, you should almost always model both sides of a relationship. Core Data relies on this information so that it can ensure referential integrity. If you do not model both sides of a relationship, you must do additional work yourself to ensure that your data is not corrupted. Modeling just one side of a relationship is strongly discouraged.</p><p>For the current example, start by adding a “department” relationship from Employee to Department, as described by the following steps.</p><ol class="ol"><li class="li"><p>In the entity list, select the Employee entity.</p></li><li class="li"><p>Add a new relationship. In the properties pane, ensure that either the Show All Properties or the Show Relationships item is selected from the “v” pop-up menu. Click the plus button to the lower left of the table view, as illustrated in <span class="content_text">“Adding a property,”</span> and choose Add Relationship from the pop-up menu. (Alternatively, either in the Design menu choose Data Model > Add Relationship, or—in the diagram view—select the line tool, drag from the Employee node to the Department node.)</p></li><li class="li"><p>Select the new relationship in the table view. Use the Property view in the inspector to describe Employee’s <code>department</code> relationship, as shown in <span class="content_text">“The Employee entity’s department relationship.”</span> Note the following:</p><ul class="ul"><li class="li"><p>The relationship name is <code>department</code>.</p></li><li class="li"><p>The destination is Department.</p></li><li class="li"><p>Max and Min Count are 1 (and not editable).</p></li><li class="li"><p>The relationship is not Optional, and not Transient.</p></li><li class="li"><p>The Inverse relationship is currently No Inverse Relationship—it has not yet been created.</p></li><li class="li"><p>The Delete Rule is Nullify—this means that if an Employee instance is deleted, it is removed from the backwards relationship (once it is specified) from its Department instance.</p></li></ul></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_10" title="Figure 2-3The Employee entity&acirc;&#128;&#153;s department relationship"></a><p><a name="//apple_ref/doc/uid/TP30001197-154539" title="Figure 2-3The Employee entity&acirc;&#128;&#153;s department relationship"></a><strong>Figure 2-3&nbsp;&nbsp;</strong>The Employee entity’s department relationship</p><img src = "../Art/add_dept_rel_grab.gif" alt = "The Employee entity’s department relationship" width="281" height="241"></div><br/><p>Also note that in the diagram view, an arrow is added that points from the Employee entity to the Department entity.</p><p>Now follow these steps to add an <code>employees</code> relationship to the Department entity.</p><ol class="ol"><li class="li"><p>In the entity list, select the Department entity.</p></li><li class="li"><p>Add a new relationship. In the properties section, ensure that button is selected in the segmented control. Click the plus button to the lower left of the table view, as illustrated in <span class="content_text">“Adding a property,”</span> and choose Add Relationship from the pop-up menu. Alternatively, in the Design menu choose Data Model > Add Relationship.</p></li><li class="li"><p>Select the new relationship in the table view. Use the Property view in the inspector to describe the department’s <code>employees</code> relationship, as shown in <span class="content_text">“Department entity’s employees relationship.”</span> Note the following:</p><ul class="ul"><li class="li"><p>The relationship name is <code>employees</code>.</p></li><li class="li"><p>The destination is Employee.</p></li><li class="li"><p>Min Count is <code>0</code> and Max Count is <code>999</code>.</p></li><li class="li"><p>The relationship is Optional and not Transient.</p></li><li class="li"><p>The Inverse relationship is department.</p></li><li class="li"><p>The Delete Rule is Deny—this means that a Department cannot be deleted if it still has employees.</p></li></ul></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_11" title="Figure 2-4Department entity&acirc;&#128;&#153;s employees relationship"></a><p><a name="//apple_ref/doc/uid/TP30001197-155177" title="Figure 2-4Department entity&acirc;&#128;&#153;s employees relationship"></a><strong>Figure 2-4&nbsp;&nbsp;</strong>Department entity’s employees relationship</p><img src = "../Art/employees_rel_grab.gif" alt = "Department entity’s employees relationship" width="582" height="244"></div><br/><p>Now that you have added the Department to Employee relationship, you can specify the inverse relationship for the Employee to Department relationship.</p><ol class="ol"><li class="li"><p>In the entity list, select the Employee entity.</p></li><li class="li"><p>In the properties table view, select the <code>department</code> relationship. Use the Property view in the inspector to set the Inverse relationship to <code>employees</code></p></li></ol><p>You have fully specified the relationship between the Department and Employee entities. You can now specify the reflexive relationship in the Employee entity to describe the relationship between a manager and direct reports.</p><p>Follow the same steps as before to create two relationships from the Employee entity to itself—that is, the destination entity is Employee. The <code>manager</code> relationship is a to-one relationship, the <code>directReports</code> relationship is a to-many relationship. Both are optional, and the delete rule for both is Nullify. Remember to specify the inverse relationship for both. When you have finished, the <code>directReports</code> relationship should look like the image shown in <span class="content_text">“Employee’s directReports relationship.”</span></p><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH8-DontLinkElementID_12" title="Figure 2-5Employee&acirc;&#128;&#153;s directReports relationship"></a><p><a name="//apple_ref/doc/uid/TP30001197-155537" title="Figure 2-5Employee&acirc;&#128;&#153;s directReports relationship"></a><strong>Figure 2-5&nbsp;&nbsp;</strong>Employee’s directReports relationship</p><img src = "../Art/direct_reports_grab.gif" alt = "Employee’s directReports relationship" width="584" height="244"></div><br/>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="01_momxCreating.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-08-07<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CreatingMOMWithXcode/Articles/02_momxProperties.html%3Fid%3DTP40006311-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CreatingMOMWithXcode/Articles/02_momxProperties.html%3Fid%3DTP40006311-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CreatingMOMWithXcode/Articles/02_momxProperties.html%3Fid%3DTP40006311-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>