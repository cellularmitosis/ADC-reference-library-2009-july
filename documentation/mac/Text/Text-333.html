<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>FindScriptRun(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING333></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-332.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-334.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-279.html"><B>Chapter 5 - Text Utilities</B></A> / <A HREF="Text-292.html"><B>Text Utilities Reference</B></A><BR><DL><DD><A HREF="Text-299.html"><B>Routines</B></A> / <A HREF="Text-330.html"><B>Working With Word, Script, and Line Boundaries</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING333-0></A>
<H3><A NAME=MARKER-9-386></A><A NAME=MARKER-2-833></A>FindScriptRun</H3>
 The <CODE>FindScriptRun</CODE> function finds the next block of subscript text within a script run.<A NAME=MARKER-2-241></A><P>
<PRE>
FUNCTION FindScriptRun (textPtr: Ptr;
                        textLen: LongInt;
                        VAR lenUsed: LongInt): ScriptRunStatus;
</PRE>
<DL>
<DT><CODE>textPtr</CODE>
<DD> A pointer to the text string to be analyzed.
<DT><CODE>textLen</CODE>
<DD> The number of bytes in the text string.
<DT><CODE>lenUsed</CODE>
<DD> On output, contains the length, in bytes, of the script run that begins with the first character in the string; this length is always greater than or equal to 1, unless the string passed in is of length 0.
</DL>
<A NAME=HEADING333-6></A>
<H5>DESCRIPTION</H5>
 The <CODE>FindScriptRun</CODE> function is used to identify blocks of subscript text in a string. Some script systems include subscripts, which are character sets that are subsidiary to the main character set. One useful subscript is the set of all character codes that have the same meaning in Roman as they do in a non-Roman script. For other scripts such as Japanese, there are additional useful subscripts. For example, a Japanese script system might include some Hiragana characters that are useful for input methods.<P>
 <CODE>FindScriptRun</CODE> computes the length of the current run of subscript text in the text string specified by <CODE>textPtr</CODE> and <CODE>textLen</CODE>. It assigns the length, in bytes, to the <CODE>lenUsed</CODE> parameter and returns a status code. You can advance the text pointer by the value of <CODE>lenUsed</CODE> to make subsequent calls to this function. You can use this function to identify runs of subscript characters so that you can treat them separately.<P>
 The function result identifies the run as either native text, Roman, or one of the defined subscripts of the script system and returns a record of type <CODE>ScriptRunStatus</CODE>. This record is described in the section <A HREF=Text-298.html#MARKER-9-276>"The Script Run Status Record" on page 5-46</A>.<P>
 Word processors and other applications can call <CODE>FindScriptRun</CODE> to separate style runs of native text from non-native text. You can use this capability to extract those characters and apply a different font to them. <A HREF=Text-289.html#MARKER-9-181>Figure 5-11 on page 5-28</A> provides an example of using the <CODE>FindScriptRun</CODE> routine.<A NAME=MARKER-2-394></A><P>
<A NAME=HEADING333-11></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for the <CODE>FindScriptRun</CODE> function are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_ScriptUtil<TD>$820C 0026<A NAME=MARKER-2-48></A></TABLE>
<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-332.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-334.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
