<html><head><title>Mac OS X
 Manual Page For pwpolicy(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/pwpolicy" title="Mac OS X
 Manual Page for pwpolicy(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/pwpolicy"; name=pwpolicy(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>

pwpolicy(8)               BSD System Manager's Manual              pwpolicy(8)

<b>NAME</b>
     <b>pwpolicy</b> -- gets and sets password policies

<b>SYNOPSIS</b>
     <b>pwpolicy</b> [<b>-h</b>]
     <b>pwpolicy</b> [<b>-v</b>] [<b>-a</b> <u>authenticator</u>] [<b>-p</b> <u>password</u>] [<b>-u</b> <u>username</u> | <b>-c</b> <u>computername</u>] [<b>-n</b> <u>nodename</u>] command
              command-arg
     <b>pwpolicy</b> [<b>-v</b>] [<b>-a</b> <u>authenticator</u>] [<b>-p</b> <u>password</u>] [<b>-u</b> <u>username</u> | <b>-c</b> <u>computername</u>] [<b>-n</b> <u>nodename</u>] command
              "policy1=value1 policy2=value2 ..."


<b>DESCRIPTION</b>
     <b>pwpolicy</b> manipulates password policies.

   <b>Options</b>
     <b>-a</b>    name of the authenticator

     <b>-c</b>    name of the computer account to modify

     <b>-p</b>    password (omit this option for a secure prompt)

     <b>-u</b>    name of the user account to modify

     <b>-n</b>    use a specific directory node; the search node is used by default.

     <b>-v</b>    verbose

     <b>-h</b>    help

   <b>Commands</b>
     <b>-getglobalpolicy</b>             Get global policies
     <b>-setglobalpolicy</b>             Set global policies
     <b>-getpolicy</b>                   Get policies for a user
     <b>--get-effective-policy</b>       Gets the combination of global and user policies that apply to the user.
     <b>-setpolicy</b>                   Set policies for a user
     <b>-setpolicyglobal</b>             Set a user account to use global policies
     <b>-setpassword</b>                 Set a new password for a user. Non-administrators can use this command to
                                  change their own passwords.
     <b>-enableuser</b>                  Enable a <b>shadowhash</b> user account that was disabled by a password policy
                                  event.
     <b>-getglobalhashtypes</b>          Returns the default list of password hashes stored on disk for this sys-<font color="#ffffff" class="whiteout">tem.&nbsp;system.</font>
                                  tem.
     <b>-setglobalhashtypes</b>          Edits the default list of password hashes stored on disk for this system.
     <b>-gethashtypes</b>                Returns a list of password hashes stored on disk for a user account.
     <b>-sethashtypes</b>                Edits the list of password hashes stored on disk for a user account.
     <b>-0</b> through <b>-7</b>                Shortcuts for the above commands (in order).

   <b>Global</b> <b>Policies</b>
     usingHistory                      0 = user can reuse the current password, 1 = user cannot reuse the
                                       current password, 2-15 = user cannot reuse the last n passwords.
     usingExpirationDate               If 1, user is required to change password on the date in expira-<font color="#ffffff" class="whiteout">tionDateGMT&nbsp;expirationDateGMT</font>
                                       tionDateGMT
     usingHardExpirationDate           If 1, user's account is disabled on the date in hardExpireDateGMT
     requiresAlpha                     If 1, user's password is required to have a character in [A-Z][a-z].
     requiresNumeric                   If 1, user's password is required to have a character in [0-9].
     expirationDateGMT                 Date for the password to expire, format must be: mm/dd/yy
     hardExpireDateGMT                 Date for the user's account to be disabled, format must be: mm/dd/yy
     maxMinutesUntilChangePassword     user is required to change the password at this interval
     maxMinutesUntilDisabled           user's account is disabled after this interval
     maxMinutesOfNonUse                user's account is disabled if it is not accessed by this interval
     maxFailedLoginAttempts            user's account is disabled if the failed login count exceeds this
                                       number
     minChars                          passwords must contain at least minChars
     maxChars                          passwords are limited to maxChars

   <b>Additional</b> <b>User</b> <b>Policies</b>
     isDisabled                   If 1, user account is not allowed to authenticate, ever.
     isAdminUser                  If 1, this user can administer accounts on the password server.
     newPasswordRequired          If 1, the user will be prompted for a new password at the next authentica-<font color="#ffffff" class="whiteout">tion.&nbsp;authentication.</font>
                                  tion. Applications that do not support change password will not authenti-<font color="#ffffff" class="whiteout">cate.&nbsp;authenticate.</font>
                                  cate.
     canModifyPasswordforSelf     If 1, the user can change the password.

   <b>Stored</b> <b>Hash</b> <b>Types</b>
     CRAM-MD5         Required for IMAP.
     RECOVERABLE      Required for APOP and WebDAV. Only available on Mac OS X Server edition.
     SALTED-SHA1      The default for login window.
     SMB-LAN-MANAGER  Required for compatibility with Windows 9.x file sharing.
     SMB-NT           Required for compatibility with Windows NT/XP file sharing.


<b>EXAMPLES</b>
     To get global policies:

           <b>pwpolicy</b> -getglobalpolicy

     To set global policies:

           <b>pwpolicy</b> -a authenticator -setglobalpolicy "minChars=4 maxFailedLoginAttempts=3"

     To get policies for a specific user account:

           <b>pwpolicy</b> -u user -getpolicy
           <b>pwpolicy</b> -u user -n /NetInfo/DefaultLocalNode -getpolicy

     To set policies for a specific user account:

           <b>pwpolicy</b> -a authenticator -u user -setpolicy "minChars=4 maxFailedLoginAttempts=3"

     To change the password for a user:

           <b>pwpolicy</b> -a authenticator -u user -setpassword newpassword

     To set the list of hash types for local accounts:

           <b>pwpolicy</b> -a authenticator -setglobalhashtypes SMB-LAN-MANAGER off SMB-NT on


<b>SEE</b> <b>ALSO</b>
     <a href="PasswordService.8.html#//apple_ref/doc/man/8/PasswordService">PasswordService(8)</a>

Mac OS X Server                13 November 2002                Mac OS X Server
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/pwpolicy.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/pwpolicy.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/pwpolicy.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
