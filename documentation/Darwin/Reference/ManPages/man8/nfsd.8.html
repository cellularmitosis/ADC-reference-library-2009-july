<html><head><title>Mac OS X
 Manual Page For nfsd(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/nfsd" title="Mac OS X
 Manual Page for nfsd(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/nfsd"; name=nfsd(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
NFSD(8)                   BSD System Manager's Manual                  NFSD(8)

<b>NAME</b>
     <b>nfsd</b> -- NFS server daemon

<b>SYNOPSIS</b>
     <b>nfsd</b> [<b>command</b>]
     <b>nfsd</b> [<b>-F</b> <u>exports</u><b>_</b><u>file</u>] <b>checkexports</b>
     <b>nfsd</b> [<b>-NRrtuv</b>] [<b>-F</b> <u>exports</u><b>_</b><u>file</u>] [<b>-n</b> <u>num</u><b>_</b><u>servers</u>] [<b>-p</b> <u>nfsport</u>] [<b>-P</b> <u>mountport</u>] [<b>command</b>]

<b>DESCRIPTION</b>
     <b>nfsd</b> runs on an NFS server machine to service NFS and MOUNT protocol requests from NFS client machines.
     In order for a machine to act as an NFS server an NFS exports file, <u>/etc/exports</u>, must exist and the
     <b>nfsd</b> service must be enabled.

     <b>nfsd</b> listens for NFS service requests at the port indicated in the NFS server specification (2049) and
     the mountd thread listens for MOUNT service requests at an available port registered with <a href="portmap.8.html#//apple_ref/doc/man/8/portmap">portmap(8)</a>.

     For more information on the NFS and MOUNT protocols see <u>Network</u> <u>File</u> <u>System</u> <u>Protocol</u> <u>Specification</u>,
     RFC1094 and <u>NFS:</u> <u>Network</u> <u>File</u> <u>System</u> <u>Version</u> <u>3</u> <u>Protocol</u> <u>Specification</u>.

     The <b>nfsd</b> daemon is a multi-threaded process that includes a number of threads processing NFS requests,
     a thread to accept new socket connections and a thread that processes NFS MOUNT protocol requests.

     When <b>nfsd</b> is started, it loads the export host addresses and options into the kernel using the
     <a href="../man2/nfssvc.2.html#//apple_ref/doc/man/2/nfssvc">nfssvc(2)</a> system call.  After changing the list of exports (either directly or indirectly via a change
     in netgroup membership), a hangup signal should be sent to the daemon to get it to reload the export
     information.  This can be accomplished with the <b>update</b> command described below.

     Any errors encountered while processing the export entries will be logged via <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>.

     <b>nfsd</b> is normally launched by <a href="launchd.8.html#//apple_ref/doc/man/8/launchd">launchd(8)</a>; however, the <b>nfsd</b> command may also be used to manipulate the
     service using the following commands:

     <b>enable</b>   Enables the <b>nfsd</b> service.

     <b>disable</b>  Disables the <b>nfsd</b> service.

     <b>start</b>    Starts the <b>nfsd</b> service.  Note: if the service is disabled it will not be restarted on reboot.
              Use the <b>enable</b> command to make the change permanent.

     <b>stop</b>     Stops the <b>nfsd</b> service.  Note: if the service is enabled it will be restarted on reboot.  Use
              the <b>disable</b> command to make the change permanent.

     <b>restart</b>  Restarts the <b>nfsd</b> service (by stopping the service - it will restart automatically if the
              <u>/etc/exports</u> file exists).

     <b>update</b>   Sends a SIGHUP to the running <b>nfsd</b> daemon to cause it to update its configuration.

     <b>status</b>   Displays whether the <b>nfsd</b> service is enabled and whether the <b>nfsd</b> daemon is currently running.

     <b>checkexports</b>
              Checks the exports file and reports any errors (to stderr).  Note that this can be useful to
              verify the validity of an alternate exports file (using the <b>-F</b> option below) prior to putting
              the changes in place and updating <b>nfsd</b>.

     <b>verbose</b> <b>[up|down]+</b>
              Sends USR1 and/or USR2 <!-- a -->signal(s)<!-- /a --> to the running <b>nfsd</b> daemon to cause it to increase and/or
              decrease its logging level.  (See below for details about <b>nfsd</b>'s logging).

     Logging is performed via <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> using the LOG_DAEMON facility.  By default, only messages up to pri-<font color="#ffffff" class="whiteout">ority&nbsp;priority</font>
     ority LOG_WARNING are logged.  Setting the verbose level to one will add LOG_NOTICE messages which
     includes logging failed mount attempts.  A verbose level of two will increase the log level to LOG_INFO
     which includes logging successful mount attempts.  A log level of three or more will add LOG_DEBUG mes-<font color="#ffffff" class="whiteout">sages&nbsp;messages</font>
     sages and cause increasing amounts of debug information to be logged.  The debug information exposes
     lots of information about <b>nfsd</b>'s inner workings which is typically only useful to developers.  Note:
     the <!-- a -->syslog(8)<!-- /a --> configuration may need to be adjusted in order to see the increased verbosity.

     The <b>nfsd</b> utility exits 0 on success, and &gt;0 if an error occurs.  When given the <b>status</b> command, it
     exits 0 if the service is enabled, and 1 if the service is disabled.

     The following is a list of command line options that are available.  However, since <b>nfsd</b> is normally
     started by <a href="launchd.8.html#//apple_ref/doc/man/8/launchd">launchd(8)</a>, configuration of these options should be controlled using the equivalent set-<font color="#ffffff" class="whiteout">tings&nbsp;settings</font>
     tings in the NFS configuration file (see <a href="../man5/nfs.conf.5.html#//apple_ref/doc/man/5/nfs.conf">nfs.conf(5)</a>).

     <b>-F</b> <u>exports</u><b>_</b><u>file</u>
             The <u>exports</u><b>_</b><u>file</u> argument specifies an alternate location for the exports file (useful with the
             <b>checkexports</b> command).

     <b>-N</b>      Allow non-root mount requests to be served.  This should only be specified if there are clients
             that require it.

     <b>-P</b> <u>#</u>    Specifies which port to use for the MOUNT service.

     <b>-R</b>      Allow mount RPCs requests for regular files to be served.  Although this seems to violate the
             mount protocol specification, some diskless workstations do mount requests for their swapfiles
             and expect them to be regular files.  Since a regular file cannot be specified in <u>/etc/exports</u>,
             the <b>-alldirs</b> option will need to be used on the export in which the swap files reside.

     <b>-n</b> <u>#</u>    Specifies how many NFS server threads to create.

     <b>-p</b> <u>#</u>    Specifies which port to use for the NFS service (instead of the default of 2049).

     <b>-r</b>      Register the NFS service with <a href="portmap.8.html#//apple_ref/doc/man/8/portmap">portmap(8)</a>.  This option can be used to re-register the NFS ser-<font color="#ffffff" class="whiteout">vices&nbsp;services</font>
             vices if the portmap server is restarted.  This option is equivalent to the <b>update</b> command.

     <b>-t</b>      Serve TCP NFS clients.  Note: only TCP will be used if no other options are specified.

     <b>-u</b>      Serve UDP NFS clients.  Note: only UDP will be used if no other options are specified.

     <b>-v</b>      Increase <b>nfsd</b>'s logging level by one (may be used multiple times).

<b>CONFIGURATION</b>
     Unless otherwise specified, eight NFS server threads are started and both UDP and TCP transports are
     supported.

     A server should run enough threads to handle the maximum level of concurrency from its clients.

     See <a href="../man5/nfs.conf.5.html#//apple_ref/doc/man/5/nfs.conf">nfs.conf(5)</a> for a list of tunable parameters.

<b>FILES</b>
     /etc/exports           The list of exported filesystems.
     /var/run/nfsd.pid      The pid of the currently running nfsd.
     /var/run/mountd.pid    The pid of the currently running mountd (provided for backwards compatibility
                            with scripts that may HUP mountd to update exports).
     /var/run/mountdtab     The current list of outstanding mounts served.
     /var/run/mountdexptab  Information about exported file systems and directories (UUIDs, handles, ...).
     /System/Library/LaunchDaemons/com.apple.nfsd.plist
                            The <b>nfsd</b> service's property list file for <a href="launchd.8.html#//apple_ref/doc/man/8/launchd">launchd(8)</a>.

<b>SEE</b> <b>ALSO</b>
     <a href="../man5/exports.5.html#//apple_ref/doc/man/5/exports">exports(5)</a>, <a href="../man5/nfs.conf.5.html#//apple_ref/doc/man/5/nfs.conf">nfs.conf(5)</a>, <a href="showmount.8.html#//apple_ref/doc/man/8/showmount">showmount(8)</a>, <a href="../man1/nfsstat.1.html#//apple_ref/doc/man/1/nfsstat">nfsstat(1)</a>, <a href="../man2/nfssvc.2.html#//apple_ref/doc/man/2/nfssvc">nfssvc(2)</a>, <a href="portmap.8.html#//apple_ref/doc/man/8/portmap">portmap(8)</a>, <a href="rpc.rquotad.8.html#//apple_ref/doc/man/8/rpc.rquotad">rpc.rquotad(8)</a>, <a href="launchd.8.html#//apple_ref/doc/man/8/launchd">launchd(8)</a>

<b>HISTORY</b>
     The <b>nfsd</b> and <b>mountd</b> utilities first appeared in 4.4BSD.  <b>mountd</b> functionality was merged into <b>nfsd</b> in
     Darwin 9.

BSD                            November 10, 2006                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/nfsd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/nfsd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/nfsd.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
