<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>How and When the Finder Launches Your Application(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING452></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-451.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-453.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-443.html"><B>Chapter 7 - Finder Interface</B></A> / <A HREF="Toolbox-446.html"><B>Using the Finder Interface</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING452-0></A>
<H2><A NAME=MARKER-21-292></A>How and When the Finder Launches Your Application</H2>
 <A NAME=MARKER-2-293></A><A NAME=MARKER-2-294></A><A NAME=MARKER-2-295></A><A NAME=MARKER-2-296></A><A NAME=MARKER-2-297></A><A NAME=MARKER-2-298></A>The previous sections in this chapter explain the resources that the Finder uses to display and launch your application. This section provides a brief summary of how the Finder--using the previously described resources--starts up your application whenever the user requests the Finder to launch your application or to open or print a document supported by your application.<P>
 The simplest scenarios under which the Finder launches your application occur when the user double-clicks your application icon or selects it and chooses Open from the Finder's File menu. In these cases, the Finder calls the Process Manager to start your application. As explained in <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I>, the Process Manager creates a partition of memory for your application, loads your code into this partition, and sets up the stack, heap, and A5 world for your application. The Process Manager returns control to the Finder. <P>
 If your application supports the required Apple events (as explained in <I><A HREF="../IAC/IAC-2.html">Inside Macintosh: Interapplication Communication</A></I>), the Finder sends your application an Open <BR>Application event and then relinquishes control to your application. Your application then performs the tasks necessary to open itself--displaying an untitled document window, for example. <A NAME=MARKER-2-299></A><A NAME=MARKER-2-300></A><P>
 <A NAME=MARKER-2-301></A>When the user requests the Finder to open or print a document supported by your application, the Finder calls the Process Manager and launches your application in the same way, except that the Finder sets up the information your application needs to open or print the document and passes this information to your application. This information includes a list of files to open or print. In System 7, applications receive this information through Apple events, which are described in <I><A HREF="../IAC/IAC-2.html">Inside Macintosh: Interapplication Communication</A></I>.<P>
 The user can request the Finder to open documents created by your application by double-clicking one of their icons, and the user can request the Finder to open or print documents by selecting one or more icons and choosing Open or Print from the Finder's File menu. The Finder reads the creator field of each selected file to find the document's creator. Typically (as described in <A HREF=Toolbox-455.html#MARKER-9-356>"Using Finder Information in the Catalog File" beginning on page 7-30</A>), your application sets the four-character string specified in its signature resource as the creator of its documents. The Finder searches for the applica- tion whose signature matches each document's creator. If the document's creator matches your application's signature, the Finder calls the Process Manager, launches your application, and then passes your application the name of the selected document <BR>or selected multiple documents in an Open Documents or a Print Documents event. <BR>Your application should then open the documents in titled windows or print them, as appropriate. (See <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I> for detailed information about opening documents; see <I>Inside Macintosh: Imaging</I> for detailed information about printing them.)<P>
 If the user tries to open documents created by your application and your application is missing, the Finder displays an alert box telling the user that your application is missing. The Finder displays the name of your application in this alert box if you provide your documents with a missing-application name string resource, as described in <A HREF=Toolbox-453.html#MARKER-9-309>"Displaying Messages When the Finder Can't Find Your Application" beginning on page 7-25</A>.<P>
 Sometimes when your application is already running, the user might double-click a document created by your application. In this case, the Finder sends your application <BR>the Open Documents event.<P>
 The user can also request the Finder to launch your application by dragging one icon or several icons to your application's icon. The Finder determines whether to launch your application by comparing the document's file type (which is stored in the catalog file) against the list of your application's supported file types. The Finder compiles this list from the file reference resources you create for your application; the Finder stores this <BR>list in the desktop database. If the document's file type appears in the file reference resource list for your application, the Finder calls the Process Manager, launches your application, and passes it the name of the selected document or selected multiple documents in an Open Documents event. Your application should then open the documents in titled windows.<P>
 You can also specify disks, folders, and a wildcard file type for all other files in your file reference resources so that users can launch your application by dragging their icons to your application icon, in which case the Finder launches your application and sends it an Open Documents event. An Open Documents event includes a list of alias records for objects that the application should open. It is up to your application to open disks, folders, or all possible file types in a manner appropriate to the needs of the user. (Alias records are described in <A HREF=Toolbox-459.html#MARKER-9-427>"Using Aliases" beginning on page 7-37</A>.)<A NAME=MARKER-2-302></A><P>
 To support stationery, your application should specify the <CODE>isStationeryAware</CODE> constant in its <CODE>'SIZE'</CODE> resource and always check the <CODE>isStationery</CODE> bit of a document passed to it by the Finder. If the <CODE>isStationery</CODE> bit is set for a file that the user wants to open, your application should copy the stationery pad's contents into a new document and open the document in an untitled window. This is described in <A HREF=Toolbox-456.html#MARKER-9-383>"Supporting Stationery Pads" beginning on page 7-32</A>.<P>
 In System 7, users can create aliases, which are objects that represent other files, directories, or volumes. If the user opens an alias that represents a document created by your application, the Finder resolves the alias for you; that is, it passes your application the name and location of the document itself, not the alias. <A NAME=MARKER-2-303></A><A NAME=MARKER-2-304></A><A NAME=MARKER-2-305></A><A NAME=MARKER-2-306></A><A NAME=MARKER-2-307></A><A NAME=MARKER-2-308></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-451.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-453.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
