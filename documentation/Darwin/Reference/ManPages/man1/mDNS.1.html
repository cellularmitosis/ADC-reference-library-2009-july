<html><head><title>Mac OS X
 Manual Page For mDNS(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/mDNS" title="Mac OS X
 Manual Page for mDNS(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/mDNS"; name=mDNS(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
mDNS(1)                   BSD General Commands Manual                  mDNS(1)

<b>NAME</b>
     <b>mDNS</b> -- Multicast DNS (mDNS) &amp; DNS Service Discovery (DNS-SD) Test Tool

<b>SYNOPSIS</b>
     <b>mDNS</b> <b>-R</b> <u>name</u> <u>type</u> <u>domain</u> <u>port</u> [<u>key=value</u> <u>...</u>]

     <b>mDNS</b> <b>-B</b> <u>type</u> <u>domain</u>

     <b>mDNS</b> <b>-L</b> <u>name</u> <u>type</u> <u>domain</u>

<b>DESCRIPTION</b>
     The <b>mDNS</b> command is a network diagnostic tool, much like <a href="../man8/ping.8.html#//apple_ref/doc/man/8/ping">ping(8)</a> or <a href="../man8/traceroute.8.html#//apple_ref/doc/man/8/traceroute">traceroute(8)</a>.  However, unlike
     those tools, most of its functionality is not implemented in the <b>mDNS</b> executable itself, but in library
     code that is available to any application.  The library API that <b>mDNS</b> uses is documented in
     <u>/usr/include/DNSServiceDiscovery/DNSServiceDiscovery.h</u>.  Note that this Mach-based API, first intro-<font color="#ffffff" class="whiteout">duced&nbsp;introduced</font>
     duced in Mac OS X 10.2, is now deprecated in favour of the newer <u>/usr/include/dns</u><b>_</b><u>sd.h</u> API, which is
     built on Unix Domain Sockets and is supported on multiple platforms.  The command-line tool to exercise
     the cross-platform <u>dns</u><b>_</b><u>sd.h</u> API is <a href="dns-sd.1.html#//apple_ref/doc/man/1/dns-sd">dns-sd(1)</a>.

     The <b>mDNS</b> command is primarily intended for interactive use.  Because its command-line arguments and
     output format are subject to change, invoking it from a shell script will generally be fragile. Addi-<font color="#ffffff" class="whiteout">tionally,&nbsp;Additionally,</font>
     tionally, the asynchronous nature of DNS Service Discovery does not lend itself easily to script-ori-<font color="#ffffff" class="whiteout">ented&nbsp;script-oriented</font>
     ented programming. For example, calls like "browse" never complete; the action of performing a "browse"
     sets in motion machinery to notify the client whenever instances of that service type appear or disap-<font color="#ffffff" class="whiteout">pear&nbsp;disappear</font>
     pear from the network. These notifications continue to be delivered indefinitely, for minutes, hours,
     or even days, as services come and go, until the client explicitly terminates the call. This style of
     asynchronous interaction works best with applications that are either multi-threaded, or use a main
     event-handling loop to receive keystrokes, network data, and other asynchronous event notifications as
     they happen.
     If you wish to perform DNS Service Discovery operations from a scripting language, then the best way to
     do this is not to execute the <b>mDNS</b> command and then attempt to decipher the textual output, but instead
     to directly call the DNS-SD APIs using a binding for your chosen language.
     For example, if you are programming in Ruby, then you can directly call DNS-SD APIs using the dnssd
     package documented at <u>&lt;<a href="http://rubyforge.org/projects/dnssd/">http://rubyforge.org/projects/dnssd/</a></u>.
     Similar bindings for other languages are also in development.

     <b>mDNS</b> <b>-R</b> <u>name</u> <u>type</u> <u>domain</u> <u>port</u> [<u>key=value</u> <u>...</u>]
        register (advertise) a service in the specified <u>domain</u> with the given <u>name</u> and <u>type</u> as listening (on
        the current machine) on <u>port.</u>

        <u>name</u> can be arbitrary unicode text, containing any legal unicode characters (including dots, spaces,
        slashes, colons, etc. without restriction), up to 63 UTF-8 bytes long.  <u>type</u> must be of the form
        "_app-proto._tcp" or "_app-proto._udp", where "app-proto" is an application protocol name registered
        at <a href="http://www.dns-sd.org/ServiceTypes.html"><u>http://www.dns-sd.org/ServiceTypes.html</u></a>

        <u>domain</u> is the domain in which to register the service.  In current implementations, only the local
        multicast domain "local" is supported. In the future, registering will be supported in any arbitrary
        domain that has a working DNS Update server [RFC 2136]. The <u>domain</u> "." is a synonym for "pick a sen-
        sible default" which today means "local".

        <u>port</u> is a number from 0 to 65535, and is the TCP or UDP port number upon which the service is lis-
        tening.

        Additional attributes of the service may optionally be described by key/value pairs, which are
        stored in the advertised service's DNS TXT record. Allowable keys and values are listed with the
        service registration at <a href="http://www.dns-sd.org/ServiceTypes.html"><u>http://www.dns-sd.org/ServiceTypes.html</u></a>

     <b>mDNS</b> <b>-B</b> <u>type</u> <u>domain</u>
        browse for instances of service <u>type</u> in <u>domain</u>.

        For valid <u>type</u>s see <a href="http://www.dns-sd.org/ServiceTypes.html"><u>http://www.dns-sd.org/ServiceTypes.html</u></a> as described above. Omitting the <u>domain</u>
        or using "." means "pick a sensible default."

     <b>mDNS</b> <b>-L</b> <u>name</u> <u>type</u> <u>domain</u>
        look up and display the information necessary to contact and use the named service: the hostname of
        the machine where that service is available, the port number on which the service is listening, and
        (if present) TXT record attributes describing properties of the service.

        Note that in a typical application, browsing happens rarely, while lookup (or "resolving") happens
        every time the service is used. For example, a user browses the network to pick a default printer
        fairly rarely, but once a default printer has been picked, that named service is resolved to its
        current IP address and port number every time the user presses Cmd-P to print.

<b>EXAMPLES</b>
     To advertise the existence of LPR printing service on port 515 on this machine, such that it will be
     discovered by the Mac OS X printing software and other DNS-SD compatible printing clients, use:

           <b>mDNS</b> <b>-R</b> "My Test" _printer._tcp. . 515 pdl=application/postscript

     For this registration to be useful, you need to actually have LPR service available on port 515. Adver-
     tising a service that does not exist is not very useful, and will be confusing and annoying to other
     people on the network.

     Similarly, to advertise a web page being served by an HTTP server on port 80 on this machine, such that
     it will show up in the Bonjour list in Safari and other DNS-SD compatible Web clients, use:

           <b>mDNS</b> <b>-R</b> "My Test" _http._tcp . 80 path=/path-to-page.html

     To find the advertised web pages on the local network (the same list that Safari shows), use:

           <b>mDNS</b> <b>-B</b> _http._tcp

     While that command is running, in another window, try the <b>mDNS</b> <b>-R</b> example given above to advertise a
     web page, and you should see the "Add" event reported to the <b>mDNS</b> <b>-B</b> window. Now press Ctrl-C in the
     <b>mDNS</b> <b>-R</b> window and you should see the "Remove" event reported to the <b>mDNS</b> <b>-B</b> window.

<b>FILES</b>
     <u>/usr/bin/mDNS</u>

<b>SEE</b> <b>ALSO</b>
     <a href="dns-sd.1.html#//apple_ref/doc/man/1/dns-sd">dns-sd(1)</a> <a href="../man8/mDNSResponder.8.html#//apple_ref/doc/man/8/mDNSResponder">mDNSResponder(8)</a>

<b>BUGS</b>
     <b>mDNS</b> bugs are tracked in Apple Radar component "mDNSResponder".

<b>HISTORY</b>
     The <b>mDNS</b> command first appeared in Mac OS X 10.3 (Panther).

Darwin                           April 2, 2008                          Darwin
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/mDNS.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/mDNS.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/mDNS.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
