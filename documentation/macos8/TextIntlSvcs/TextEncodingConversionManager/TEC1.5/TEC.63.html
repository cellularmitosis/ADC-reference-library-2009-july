<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<script language="JavaScript" src="frametest.js"></script>
<TITLE> TECFlushText</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a>
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --><A HREF="TEC.61.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.62.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.64.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A><br>
<font face="Geneva,Helvetica,Arial" size="1"><b><br>
		PATH<spacer type="horizontal" size="5">&nbsp;</b></font><a href="../../../mac8.html"><font face="Geneva,Helvetica,Arial" size="1">Mac OS 8 and 9 Developer Documentation</a>  <b>&gt;</b> Text Encoding Conversion Manager<br>
		<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">Programming With the Text Encoding Conversion Manager</font><br>
		<br>
		<hr>

</DIV>
<H1>
<A NAME="pgfId=24342">
 </A>
<A NAME="19853">
 </A>
TECFlushText</H1>
<P>
<A NAME="pgfId=13678">
 </A>
Flushes out any data that may be stored in a converter object's temporary buffers and returns the converter object to its default state.</P>
<TT>
<A NAME="pgfId=31957">
 </A>
pascal OSStatus TECFlushText( <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TECObjectRef encodingConverter, <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextPtr outputBuffer, <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteCount outputBufferLength, <BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteCount *actualOutputLength);</TT>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=31961">
 </A>
<TT>encodingConverter</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=13649">
 </A>
 A reference to the text converter object, whose contents are to be flushed. This can be a reference returned by the function <A HREF="TEC.5b.html" CLASS="XRef"><TT>TECCreateConverter</A> or <A HREF="TEC.5c.html" CLASS="XRef">TECCreateConverterFromPath</TT></A>. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=31972">
 </A>
<TT>outputBuffer</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=13657">
 </A>
A pointer to a buffer for a byte stream. On output, this buffer holds the converted text. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=31981">
 </A>
<TT>outputBufferLength</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=13658">
 </A>
 The length in bytes of the buffer provided by the <TT>outputBuffer</TT> parameter. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=31991">
 </A>
<TT>actualOutputLength</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=13659">
 </A>
 A pointer to a value of type <TT>ByteCount</TT>. On output this value is the number of bytes of converted text returned in the buffer specified by the <TT>outputBuffer</TT> parameter.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=32001">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=13660">
 </A>
 A result code. See <A HREF="TEC.20.html" CLASS="XRef">
Text Encoding Conversion Manager Result Codes</A>
 for a list of possible values. </DD><P>

</DL COMPACT>
<DIV>
<H5 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=13670">
 </A>
DISCUSSION</H5>
<P>
<A NAME="pgfId=22804">
 </A>
The <TT>TECFlushText</TT> function flushes out any data that may be stored in the temporary buffers in the specified text encoding converter object. Always call <TT>TECFlushText</TT> when you finish converting a text stream. If you are converting a single stream in multiple chunks using multiple calls to <TT>TECConvertText</TT>, you need call <TT>TECFlushText</TT> only after the last call to <TT>TECConvertText</TT> for that stream. The function relies on the specified converter object for information identifying the source encoding, the destination encoding, and any intermediate encodings required for conversion. <P>


<A NAME="pgfId=19801">
 </A>
In allocating an output buffer, a good rule of thumb is larger is better, basing your estimate on the byte requirements of the destination encoding. You should always allocate a buffer at least 32 bytes long. For the function to return successfully, the output buffer you allocate must be large enough to accommodate the flushed text. If the output buffer you allocate is too small to accommodate <I CLASS="italics">
any</I>
 flushed text, the function will fail. For example, if the destination encoding requires additional bytes in addition to the actual text (for instance, an escape sequence preceding the converted text), your buffer must be large enough to accommodate both.<P>


<A NAME="pgfId=13723">
 </A>
Encodings such as ISO-2022 that need to shift back to a certain default state at the end of a conversion can do so when this function is called.</P>
</DIV>
<HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 13 Dec 99)<P><A HREF="TEC.61.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.62.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.64.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A>

<!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY>
</HTML>
