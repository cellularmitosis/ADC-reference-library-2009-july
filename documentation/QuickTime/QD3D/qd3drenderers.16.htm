<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Using Renderer Attribute Set Tools</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=6788"> </A>Using Renderer Attribute Set Tools</H1><P CLASS="T1.Text1"><A NAME="pgfId=6794"> </A>QuickDraw&nbsp;3D supports two tools, which you can call only from a renderer plug-in module, that provide fast access to geometry attribute sets.</P><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=6939"> </A>Q3XAttributeSet_GetPointer</H2><P CLASS="T1.Text1"><A NAME="pgfId=6940"> </A>You can use the Q3XAttributeSet_GetPointer function to obtain a pointer to QuickDraw&nbsp;3D's internal data structure for elements and attributes in an attribute set.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=20015"> </A>void *Q3XAttributeSet_GetPointer (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3AttributeSet     attributeSet,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3AttributeType    attributeType);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20017"> </A>attributeSet</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6942"> </A>An attribute set.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20026"> </A>attributeType</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6943"> </A>An attribute type.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20035"> </A><I CLASS="italics">return value</I></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6944"> </A>Pointer to an attribute set data structure.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6945"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=6946"> </A>The Q3XAttributeSet_GetPointer function returns a pointer to internal data structure for elements and attributes in the attribute set designated by attributeSet, of the type designated by attributeType. It returns null if no such attribute set data structure exists. Q3XAttributeSet_GetPointer uses the same internal data structure as <TT CLASS="cv">Q3AttributeSet_Add</TT>, described on <A HREF="qd3dattributes.e.htm#41695" CLASS="XRef">[link]</A>.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=6948"> </A>Q3XAttributeSet_GetMask</H2><P CLASS="T1.Text1"><A NAME="pgfId=6949"> </A>A renderer can use the Q3XAttributeSet_GetMask function to obtain a set of masks for the internal data structure returned by Q3XAttributeSet_GetPointer.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=20046"> </A>TQ3XAttributeMask Q3XAttributeSet_GetMask (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3AttributeSet&nbsp;&nbsp;&nbsp;&nbsp;attributeSet);<BR></CODE><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=20050"> </A>typedef unsigned long TQ3XAttributeMask;<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20052"> </A>attributeSet</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=7219"> </A>An attribute set.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20061"> </A><I CLASS="italics">return value</I></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=7221"> </A>A set of masks of type TQ3XAttributeMask.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6954"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=6955"> </A>To determine which attributes are present in an attribute set, a renderer can obtain a set of the masks by calling Q3XAttributeSet_GetMask. It returns the masks for the attribute set designated by attributeSet as an <TT CLASS="cv">unsigned long</TT> value.</P><P CLASS="T1.Text1"><A NAME="pgfId=6805"> </A>The returned mask values are as follows:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=20072"> </A>#define kQ3XAttributeMaskNone 0L<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20078"> </A>#define kQ3XAttributeMaskSurfaceUV (1 &lt;&lt; (kQ3AttributeTypeSurfaceUV - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20084"> </A>#define kQ3XAttributeMaskShadingUV (1 &lt;&lt; (kQ3AttributeTypeShadingUV - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20090"> </A>#define kQ3XAttributeMaskNormal (1 &lt;&lt; (kQ3AttributeTypeNormal - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20096"> </A>#define kQ3XAttributeMaskAmbientCoefficient<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeAmbientCoefficient - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20102"> </A>#define kQ3XAttributeMaskDiffuseColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeDiffuseColor - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20108"> </A>#define kQ3XAttributeMaskSpecularColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeSpecularColor - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20114"> </A>#define kQ3XAttributeMaskSpecularControl<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeSpecularControl - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20120"> </A>#define kQ3XAttributeMaskTransparencyColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeTransparencyColor - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20126"> </A>#define kQ3XAttributeMaskSurfaceTangent<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeSurfaceTangent - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20132"> </A>#define kQ3XAttributeMaskHighlightState<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeHighlightState - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20138"> </A>#define kQ3XAttributeMaskSurfaceShader<BR>&nbsp;&nbsp;&nbsp;&nbsp;(1 &lt;&lt; (kQ3AttributeTypeSurfaceShader - 1))<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20144"> </A>#define kQ3XAttributeMaskCustomAttribute 0x80000000<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20150"> </A>#define kQ3XAttributeMaskAll<BR>&nbsp;&nbsp;&nbsp;&nbsp;(  kQ3XAttributeMaskSurfaceUV<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskShadingUV<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskNormal<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskAmbientCoefficient<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskDiffuseColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSpecularColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSpecularControl<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskTransparencyColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSurfaceTangent<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskHighlightState<BR>&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;kQ3XAttributeMaskSurfaceShader<BR>&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;kQ3XAttributeMaskCustomAttribute )<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20156"> </A>#define kQ3XAttributeMaskInherited<BR>&nbsp;&nbsp;&nbsp;&nbsp;(  kQ3XAttributeMaskSurfaceUV<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskShadingUV<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskNormal<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskAmbientCoefficient<BR>&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;kQ3XAttributeMaskDiffuseColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSpecularColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSpecularControl<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskTransparencyColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSurfaceTangent<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskHighlightState<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSurfaceShader<BR>&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;kQ3XAttributeMaskCustomAttribute )<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=20162"> </A>#define kQ3XAttributeMaskInterpolated<BR>&nbsp;&nbsp;&nbsp;&nbsp;(  kQ3XAttributeMaskSurfaceUV<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskShadingUV<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskNormal<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskAmbientCoefficient<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskDiffuseColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSpecularColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSpecularControl<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskTransparencyColor<BR>&nbsp;&nbsp;&nbsp;&nbsp;|  kQ3XAttributeMaskSurfaceTangent )<BR></CODE></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>