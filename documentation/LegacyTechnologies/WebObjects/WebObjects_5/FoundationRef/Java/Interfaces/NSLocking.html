<html>	<head>		<title>NSLocking (Java) </title>	</head>	<body bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="CHCJAGIE"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/intf/NSLocking">NSLocking</a></font></h1>		<br>		<blockquote>			<dl>				<dt><b>Package: </b>				<dd>com.webobjects.foundation 			</dl>		</blockquote>		<hr size="4">		<h2>Interface Description</h2>		<hr alt="">		<p>The NSLocking protocol declares the elementary methods adopted by classes that define lock objects. A lock object is used to coordinate the actions of multiple threads of execution within a single application. By using a lock object, an application can protect critical sections of code from being executed simultaneously by separate threads, thus protecting shared data and other shared resources from corruption.</p>		<p>For example, consider a multithreaded application in which each thread updates a shared counter. If two threads simultaneously fetch the current value into local storage, increment it, and then write the value back, the counter will be incremented only once, losing one thread's contribution. However, if the code that manipulates the shared data (the critical section of code) must be locked before being executed, only one thread at a time can perform the updating operation, and collisions are prevented.</p>		<p>A lock object is either locked or unlocked. You acquire a lock by sending the object a lock message, thus putting the object in the locked state. You relinquish a lock by sending an unlock message, and thus putting the object in the unlocked state. (The Foundation classes that adopt this protocol define additional ways to acquire and relinquish locks.)</p>		<p>The lock method as declared in this protocol is blocking. That is, the thread that sends a lock message is blocked from further execution until the lock is acquired (presumably because some other thread relinquishes its lock). Classes that adopt this protocol typically add methods that offer nonblocking alternatives.</p>		<p>These Foundation classes conform to the NSLocking protocol: </p>		<br>		<table border="1">			<tr>				<td scope="row"><b>Class</b></td>				<td><b>Adds these features to the basic protocol</b></td>			</tr>			<tr>				<td scope="row">NSLock</td>				<td>A nonblocking lock method; the ability to limit the duration of a locking attempt.</td>			</tr>			<tr>				<td scope="row">NSMultiReaderLock</td>				<td>The ability for multiple threads to acquire the lock for reading while allowing only a single thread to acquire the lock for writing.</td>			</tr>			<tr>				<td scope="row">NSRecursiveLock</td>				<td>The ability for a single thread to acquire a lock more than once without deadlocking.</td>			</tr>		</table><br>		<p>These classes use a locking mechanism that causes a thread to sleep while waiting to acquire a lock rather than to poll the system constantly. Thus, lock objects can be used to lock time-consuming operations without causing system performance to degrade. See the class specifications for these classes for further information on their behavior and usage.</p>		<p>Java also has a locking mechanism, which is based on the <code>synchronized</code> keyword. In certain cases, you may want to use the Foundation locking classes instead:</p>		<ul>			<li>The Foundation classes have extra features that are not supported by the <code>synchronized</code> locking mechanism like nonblocking lock methods. 			<li>Foundation locking objects can coordinate the locking of many objects at the same time, unlike the <code>synchronized</code> locking mechanism, which can lock only a single method, class, or instance at a time. 			<li>These locking classes were available in previous versions of WebObjects. You may encounter these classes if you are porting older applications to this version of WebObjects. 		</ul>		<br>		<h2>Constants</h2>		<p>NSLocking defines the following constants to simplify locking method invocations that take time intervals as parameters.</p>		<br>		<table border="1">			<tr>				<td scope="row"><b>Constant</b></td>				<td><b>Type</b></td>				<td><b>Description</b></td>			</tr>			<tr>				<td scope="row"><tt>OneSecond</tt></td>				<td><code>long</code></td>				<td>Number of milliseconds in one second</td>			</tr>			<tr>				<td scope="row"><tt>OneMinute</tt></td>				<td><code>long</code></td>				<td>Number of milliseconds in one minute</td>			</tr>			<tr>				<td scope="row"><tt>OneHour</tt></td>				<td><code>long</code></td>				<td>Number of milliseconds in one hour</td>			</tr>			<tr>				<td scope="row"><tt>OneDay</tt></td>				<td><code>long</code></td>				<td>Number of milliseconds in one day</td>			</tr>			<tr>				<td scope="row"><tt>OneWeek</tt></td>				<td><code>long</code></td>				<td>Number of milliseconds in one week</td>			</tr>			<tr>				<td scope="row"><tt>OneYear</tt></td>				<td><code>long</code></td>				<td>Number of milliseconds in one year (defined as 365.2425 days)</td>			</tr>			<tr>				<td scope="row"><tt>OneCentury</tt></td>				<td><code>long</code></td>				<td>Number of milliseconds in one century</td>			</tr>		</table><br>		<br>		<br>		<h2>Method Types</h2>		<hr alt="">		<blockquote>			<dl>				<dt>All methods 				<dl>					<dd><a href="#//apple_ref/java/intfm/NSLocking/lock">lock</a> 					<dd><a href="#//apple_ref/java/intfm/NSLocking/unlock">unlock</a> 				</dl>			</dl>		</blockquote>		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="lock_NSLocking"></a><br>		<h3><a name="//apple_ref/java/intfm/NSLocking/lock">lock</a></h3>		<p><code>public void <b>lock</b>()</code></p>		Attempts to acquire a lock. This method blocks a thread's execution until the lock can be acquired. 		<p>An application protects a critical section of code by requiring a thread to acquire a lock before executing the code. Once the critical section is past, the thread relinquishes the lock by invoking unlock.</p>		<hr width="25%" align="LEFT">		<a name="unlock_NSLocking"></a><br>		<h3><a name="//apple_ref/java/intfm/NSLocking/unlock">unlock</a></h3>		<p><code>public void <b>unlock</b>()</code></p>		Relinquishes a previously acquired lock. 		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 17, 2001)</p>		<br>		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>