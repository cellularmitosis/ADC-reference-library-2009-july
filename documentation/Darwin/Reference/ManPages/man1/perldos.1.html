<html><head><title>Mac OS X
 Manual Page For perldos(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/perldos" title="Mac OS X
 Manual Page for perldos(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/perldos"; name=perldos(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PERLDOS(1)                            Perl Programmers Reference Guide                            PERLDOS(1)



<b>NAME</b>
       perldos - Perl under DOS, W31, W95.

<b>SYNOPSIS</b>
       These are instructions for building Perl under DOS (or w??), using DJGPP v2.03 or later.  Under w95
       long filenames are supported.

<b>DESCRIPTION</b>
       Before you start, you should glance through the README file found in the top-level directory where
       the Perl distribution was extracted.  Make sure you read and understand the terms under which this
       software is being distributed.

       This port currently supports MakeMaker (the set of modules that is used to build extensions to perl).
       Therefore, you should be able to build and install most extensions found in the CPAN sites.

       Detailed instructions on how to build and install perl extension modules, including XS-type modules,
       is included.  See 'BUILDING AND INSTALLING MODULES'.

       <b>Prerequisites</b> <b>for</b> <b>Compiling</b> <b>Perl</b> <b>on</b> <b>DOS</b>


       DJGPP
           DJGPP is a port of GNU C/C++ compiler and development tools to 32-bit, protected-mode environment
           on Intel 32-bit CPUs running MS-DOS and compatible operating systems, by DJ Delorie &lt;dj@delo-
           rie.com&gt; and friends.

           For more details (FAQ), check out the home of DJGPP at:

                   <a href="http://www.delorie.com/djgpp/">http://www.delorie.com/djgpp/</a>

           If you have questions about DJGPP, try posting to the DJGPP newsgroup: comp.os.msdos.djgpp, or
           use the email gateway djgpp@delorie.com.

           You can find the full DJGPP distribution on any SimTel.Net mirror all over the world. Like:

                   <a href="ftp://ftp.simtel.net/pub/simtelnet/gnu/djgpp/v2*">ftp://ftp.simtel.net/pub/simtelnet/gnu/djgpp/v2*</a>

           You need the following files to build perl (or add new modules):

                   v2/djdev203.zip
                   v2gnu/bnu2112b.zip
                   v2gnu/gcc2953b.zip
                   v2gnu/bsh204b.zip
                   v2gnu/mak3791b.zip
                   v2gnu/fil40b.zip
                   v2gnu/sed3028b.zip
                   v2gnu/txt20b.zip
                   v2gnu/dif272b.zip
                   v2gnu/grep24b.zip
                   v2gnu/shl20jb.zip
                   v2gnu/gwk306b.zip
                   v2misc/csdpmi5b.zip

           or possibly any newer version.

       Pthreads
           Thread support is not tested in this version of the djgpp perl.

       <b>Shortcomings</b> <b>of</b> <b>Perl</b> <b>under</b> <b>DOS</b>

       Perl under DOS lacks some features of perl under UNIX because of deficiencies in the UNIX-emulation,
       most notably:

          <u>fork()</u> and <u>pipe()</u>

          some features of the UNIX filesystem regarding link count and file dates

          in-place operation is a little bit broken with short filenames

          sockets

       <b>Building</b> <b>Perl</b> <b>on</b> <b>DOS</b>


          Unpack the source package <u>perl5.8*.tar.gz</u> with djtarx. If you want to use long file names under
           w95 and also to get Perl to pass all its tests, don't forget to use

                   set LFN=y
                   set FNCASE=y

           before unpacking the archive.

          Create a "symlink" or copy your bash.exe to sh.exe in your "($DJDIR)/bin" directory.

                   ln -s bash.exe sh.exe

           [If you have the recommended version of bash for DJGPP, this is already done for you.]

           And make the "SHELL" environment variable point to this <u>sh.exe</u>:

                   set SHELL=c:/djgpp/bin/sh.exe (use full path name!)

           You can do this in <u>djgpp.env</u> too. Add this line BEFORE any section definition:

                   +SHELL=%DJDIR%/bin/sh.exe

          If you have <u>split.exe</u> and <u>gsplit.exe</u> in your path, then rename <u>split.exe</u> to <u>djsplit.exe</u>, and
           <u>gsplit.exe</u> to <u>split.exe</u>.  Copy or link <u>gecho.exe</u> to <u>echo.exe</u> if you don't have <u>echo.exe</u>.  Copy or
           link <u>gawk.exe</u> to <u>awk.exe</u> if you don't have <u>awk.exe</u>.

           [If you have the recommended versions of djdev, shell utilities and gawk, all these are already
           done for you, and you will not need to do anything.]

          Chdir to the djgpp subdirectory of perl toplevel and type the following commands:

                   set FNCASE=y
                   configure.bat

           This will do some preprocessing then run the Configure script for you.  The Configure script is
           interactive, but in most cases you just need to press ENTER.  The "set" command ensures that
           DJGPP preserves the letter case of file names when reading directories.  If you already issued
           this set command when unpacking the archive, and you are in the same DOS session as when you
           unpacked the archive, you don't have to issue the set command again.  This command is necessary
           *before* you start to (re)configure or (re)build perl in order to ensure both that perl builds
           correctly and that building XS-type modules can succeed.  See the DJGPP info entry for "_pre-
           serve_fncase" for more information:

                   info libc alphabetical _preserve_fncase

           If the script says that your package is incomplete, and asks whether to continue, just answer
           with Y (this can only happen if you don't use long filenames or forget to issue "set FNCASE=y"
           first).

           When Configure asks about the extensions, I suggest IO and Fcntl, and if you want database han-
           dling then SDBM_File or GDBM_File (you need to install gdbm for this one). If you want to use the
           POSIX extension (this is the default), make sure that the stack size of your <u>cc1.exe</u> is at least
           512kbyte (you can check this with: "stubedit cc1.exe").

           You can use the Configure script in non-interactive mode too.  When I built my <u>perl.exe</u>, I used
           something like this:

                   configure.bat -des

           You can find more info about Configure's command line switches in the <u>INSTALL</u> file.

           When the script ends, and you want to change some values in the generated <u>config.sh</u> file, then
           run

                   sh Configure -S

           after you made your modifications.

           IMPORTANT: if you use this "-S" switch, be sure to delete the CONFIG environment variable before
           running the script:

                   set CONFIG=

          Now you can compile Perl. Type:

                   make

       <b>Testing</b> <b>Perl</b> <b>on</b> <b>DOS</b>

       Type:

               make test

       If you're lucky you should see "All tests successful". But there can be a few failed subtests (less
       than 5 hopefully) depending on some external conditions (e.g. some subtests fail under linux/dosemu
       or plain dos with short filenames only).

       <b>Installation</b> <b>of</b> <b>Perl</b> <b>on</b> <b>DOS</b>

       Type:

               make install

       This will copy the newly compiled perl and libraries into your DJGPP directory structure. Perl.exe
       and the utilities go into "($DJDIR)/bin", and the library goes under "($DJDIR)/lib/perl5". The pod
       documentation goes under "($DJDIR)/lib/perl5/pod".

<b>BUILDING</b> <b>AND</b> <b>INSTALLING</b> <b>MODULES</b> <b>ON</b> <b>DOS</b>
       <b>Building</b> <b>Prerequisites</b> <b>for</b> <b>Perl</b> <b>on</b> <b>DOS</b>

       For building and installing non-XS modules, all you need is a working perl under DJGPP.  Non-XS mod-
       ules do not require re-linking the perl binary, and so are simpler to build and install.

       XS-type modules do require re-linking the perl binary, because part of an XS module is written in
       "C", and has to be linked together with the perl binary to be executed.  This is required because
       perl under DJGPP is built with the "static link" option, due to the lack of "dynamic linking" in the
       DJGPP environment.

       Because XS modules require re-linking of the perl binary, you need both the perl binary distribution
       and the perl source distribution to build an XS extension module.  In addition, you will have to have
       built your perl binary from the source distribution so that all of the components of the perl binary
       are available for the required link step.

       <b>Unpacking</b> <b>CPAN</b> <b>Modules</b> <b>on</b> <b>DOS</b>

       First, download the module package from CPAN (e.g., the "Comma Separated Value" text package,
       Text-CSV-0.01.tar.gz).  Then expand the contents of the package into some location on your disk.
       Most CPAN modules are built with an internal directory structure, so it is usually safe to expand it
       in the root of your DJGPP installation.  Some people prefer to locate source trees under /usr/src
       (i.e., "($DJDIR)/usr/src"), but you may put it wherever seems most logical to you, *EXCEPT* under the
       same directory as your perl source code.  There are special rules that apply to modules which live in
       the perl source tree that do not apply to most of the modules in CPAN.

       Unlike other DJGPP packages, which are normal "zip" files, most CPAN module packages are "gzipped
       tarballs".  Recent versions of WinZip will safely unpack and expand them, *UNLESS* they have zero-
       length files.  It is a known WinZip bug (as of v7.0) that it will not extract zero-length files.

       From the command line, you can use the djtar utility provided with DJGPP to unpack and expand these
       files.  For example:

               C:\djgpp&gt;djtarx -v Text-CSV-0.01.tar.gz

       This will create the new directory "($DJDIR)/Text-CSV-0.01", filling it with the source for this mod-
       ule.

       <b>Building</b> <b>Non-XS</b> <b>Modules</b> <b>on</b> <b>DOS</b>

       To build a non-XS module, you can use the standard module-building instructions distributed with perl
       modules.

           perl Makefile.PL
           make
           make test
           make install

       This is sufficient because non-XS modules install only ".pm" files and (sometimes) pod and/or man
       documentation.  No re-linking of the perl binary is needed to build, install or use non-XS modules.

       <b>Building</b> <b>XS</b> <b>Modules</b> <b>on</b> <b>DOS</b>

       To build an XS module, you must use the standard module-building instructions distributed with perl
       modules *PLUS* three extra instructions specific to the DJGPP "static link" build environment.

           set FNCASE=y
           perl Makefile.PL
           make
           make perl
           make test
           make -f Makefile.aperl inst_perl MAP_TARGET=perl.exe
           make install

       The first extra instruction sets DJGPP's FNCASE environment variable so that the new perl binary
       which you must build for an XS-type module will build correctly.  The second extra instruction re-
       builds the perl binary in your module directory before you run "make test", so that you are testing
       with the new module code you built with "make".  The third extra instruction installs the perl binary
       from your module directory into the standard DJGPP binary directory, "($DJDIR)/bin", replacing your
       previous perl binary.

       Note that the MAP_TARGET value *must* have the ".exe" extension or you will not create a "perl.exe"
       to replace the one in "($DJDIR)/bin".

       When you are done, the XS-module install process will have added information to your "perllocal"
       information telling that the perl binary has been replaced, and what module was installed.  You can
       view this information at any time by using the command:

               perl -S perldoc perllocal

<b>AUTHOR</b>
       Laszlo Molnar, <u>laszlo.molnar@eth.ericsson.se</u> [Installing/building perl]

       Peter J. Farley III <u>pjfarley@banet.net</u> [Building/installing modules]

<b>SEE</b> <b>ALSO</b>
       <a href="perl.1.html#//apple_ref/doc/man/1/perl"><u>perl</u>(1)</a>.



perl v5.8.8                                      2006-01-07                                       PERLDOS(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/perldos.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/perldos.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/perldos.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
