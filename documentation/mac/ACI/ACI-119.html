<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Using ColorSync 1.0 Profiles With the ColorSync Manager</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING119></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACI-118.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-120.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACI-2.html"><B>Advanced Color Imaging on the Mac OS</B></A> / <BR><DD><A HREF="ACI-109.html"><B>Appendix A - ColorSync Manager Backward Compatibility</B></A> / <A HREF="ACI-117.html"><B>Using the ColorSync Manager With ColorSync 1.0 Profiles</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING119-0></A>
<H2>Using ColorSync 1.0 Profiles With the ColorSync Manager</H2>
 <A NAME=MARKER-2-20></A>To match an image contained in a document that includes the image's embedded ColorSync 1.0 source profile to the color gamut of a printer defined by a version 2.x profile, you must use the ColorSync Manager. The ColorSync Manager is equipped to contend with both profile formats. <P>
 The sections that follow explain how to obtain a reference to the ColorSync 1.0 profile, get the profile's header, and get its synthesized tags.<P>
<A NAME=HEADING119-3></A>
<H3>Opening a ColorSync 1.0 Profile</H3>
 To use a ColorSync 1.0 profile, you must obtain a reference to the profile. Obtaining a reference to the profile is synonymous with opening the profile for your program's use. If the profile is embedded in a document, you must extract the profile before you can open it.<P>
 You can use the ColorSync Manager<A NAME=MARKER-2-21></A> <CODE>CMOpenProfileFile</CODE> function to obtain a reference to a ColorSync 1.0 profile. Other ColorSync Manager functions that you use to gain access to the profile's contents or perform color matching based on the profile require the profile reference as a parameter. <P>
<A NAME=HEADING119-6></A>
<H3>Obtaining a ColorSync 1.0 Profile Header </H3>
 After you obtain a reference to a profile, you can gain access to the profile's contents. To gain access to the contents of any of the fields of a profile header, you must get the entire header. The ColorSync Manager allows you to do this using the <CODE><A NAME=MARKER-2-22></A>CMGetProfileHeader</CODE> function. You pass this function the profile reference and a data structure to hold the returned header. The ColorSync Manager defines the following union of type <CODE>CMAppleProfileHeader,</CODE> containing variants for ColorSync 1.0 and version 2.x ColorSync profile headers for this purpose:<P>
<PRE>
union CMAppleProfileHeader {
   CMHeader    cm1;
   CM2Header   cm2;
};
</PRE>
 You use the <CODE>cm1</CODE>  variant for a ColorSync 1.0 profile header. You can easily test for the version of a profile header to determine which variant to use because the offset of the header version is at the same place for both ColorSync 1.0 profiles and version 2.x profiles.<P>
<A NAME=HEADING119-10></A>
<H3>Obtaining ColorSync 1.0 Profile Elements</H3>
 The ColorSync Manager provides four tags to allow you to obtain four <A NAME=MARKER-2-23></A>ColorSync 1.0 profile elements pointed to from the profile header or contained outside the header. To obtain the profile element, you specify its associated tag signature as a parameter to the <CODE>CMGetProfileElement</CODE> function along with the profile reference. The ColorSync Manager provides the following enumeration that defines these tags:<P>
<PRE>
enum {
      cmCS1ChromTag= 'chrm',
      cmCS1TRCTag = 'trc ',
      cmCS1NameTag= 'name',
      cmCS1CustTag= 'cust'
};
</PRE>
<table>
<tr><td width="100" valign=top scope="row"><pre>'chrm'</pre> <td><b>Profile chromaticities</b> tag signature. Element data for this tag specifies the XYZ chromaticities for the six primary and secondary colors (red, green, blue, cyan, magenta, and yellow).
</td></tr>


<tr><td width="100"valign=top scope="row"><pre>'trc'</pre> <td><b>Profile response data</b> tag signature. Element data for this tag specifies the profile response data for the associated device.
</td></tr>



<tr><td width="100"valign=top scope="row"><pre>'name'</pre> <td><b>Profile name string</b> tag signature. Element data for this tag specifies the profile name string. This is an international string consisting of a Macintosh script code followed by a length byte and up to 63 additional bytes composing a text string that identifies the profile.
</td></tr>



<tr><td width="100"valign=top scope="row"><pre>'cust'</pre> <td><b>Custom</b> tag signature. Element data for this tag specifies the private data for a custom CMM.

</td></tr>
</table>



<A NAME=HEADING119-13></A>
<H3>Embedding ColorSync 1.0 Profiles</H3>
 In ColorSync 1.0, picture comment types <CODE>cmBeginProfile </CODE>and <CODE>cmEndProfile </CODE>are used to begin and end a picture comment.<P>
 The <CODE>cmEnableMatching</CODE> and <CODE>cmDisableMatching</CODE> picture comments are used to begin and end color matching in <A NAME=MARKER-2-24></A>ColorSync 1.0 and the ColorSync Manager.<A NAME=MARKER-2-25></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACI-118.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-120.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACI-3.html">&copy; Apple Computer, Inc.</A><br>13 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
