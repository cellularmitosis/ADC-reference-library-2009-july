<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Asynchronous Parameter Block(IM:IC)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING489></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="IAC-488.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-490.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="IAC-2.html"><B>Interapplication Communication</B></A> / <BR><DD><A HREF="IAC-469.html"><B>Chapter 12 - Data Access Manager</B></A> / <A HREF="IAC-487.html"><B>Data Access Manager Reference</B></A><BR><DL><DD><A HREF="IAC-488.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING489-0></A>
<H3><A NAME=MARKER-9-246></A>The Asynchronous Parameter Block</H3>
 <A NAME=MARKER-2-247></A><A NAME=MARKER-2-248></A>Each Data Access Manager routine that can be called asynchronously (that is, that can return control to your application before it has completed execution) takes as a parameter a pointer to a parameter block known as the <I>asynchronous parameter block.</I> If you specify <CODE>NIL</CODE> for this parameter, the routine does not return control to your application until it has completed execution. <P>
<DL>
<DT><B>Note</B>
<DD>The asynchronous parameter block is passed on to the database extension, which is responsible for implementing the asynchronous routine. If the database extension does not support asynchronous routines, the Data Access Manager returns the <CODE>rcDBAsyncNotSupp</CODE> result code and terminates execution of the routine.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 The <CODE>DBAsyncParamBlockRec</CODE> data type defines the asynchronous parameter block.<P>
<PRE>
TYPE DBAsyncParamBlockRec = 
   RECORD
      completionProc:   ProcPtr; {pointer to completion routine}
      result:           OSErr;   {result of call}
      userRef:          LongInt; {reserved for use by application}
      ddevRef:          LongInt; {reserved for use by database }
                                 { extension}
      reserved:         LongInt; {reserved for use by Data }
                                 { Access Manager}
   END;

   DBAsyncParmBlkPtr = ^DBAsyncParamBlockRec;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><A NAME=MARKER-2-249></A><CODE>completionProc</CODE>
<DD> Points to a completion routine that the database extension calls when it has completed executing the asynchronous function. Before calling the completion routine, the Data Access Manager places a pointer to the asynchronous parameter block in the A0 register. If you do not want to use a completion routine, set this parameter to <CODE>NIL</CODE>.
<DT><A NAME=MARKER-2-250></A><CODE>result</CODE> 
<DD> Returns the result code for the called routine. The database extension sets this field to 1 while the routine is executing and places the result code in it when the routine completes. Your application can poll this field to determine when an asynchronous routine has completed execution. 
<DT><A NAME=MARKER-2-251></A><CODE>userRef</CODE>
<DD> Reserved for the application's use. Because the Data Access Manager passes a pointer to the parameter block to the completion routine, you can use this field to pass information to the completion routine.
<DT><A NAME=MARKER-2-252></A><CODE>ddevRef</CODE>
<DD> Reserved for use by the database extension.
<DT><CODE><A NAME=MARKER-2-253></A>reserved</CODE>
<DD> Reserved for use by the Data Access Manager.<A NAME=MARKER-2-254></A><A NAME=MARKER-2-255></A>
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="IAC-488.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-490.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="IAC-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
