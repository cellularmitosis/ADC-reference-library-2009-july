<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Compression and Decompression Guide: ICM Functions, Data Types, and Constants</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="ICM Functions, Data Types, and Constants"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants" title="ICM Functions, Data Types, and Constants"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../CompressionDecompression-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000498" target="_top">Compression &amp; Decompression</a> &gt; <a href="../A-Intro/1Introduction.html#//apple_ref/doc/uid/TP40000878-IntroductiontoQuickTimeCompressionandDecompressionGuide-DontLinkElementID_145">QuickTime Compression and Decompression Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../G-Chapter/7HowtoCompressandDec.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../I-Chapter/9AboutImageCompresso.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-SW1" title="ICM Functions, Data Types, and Constants"></a>
<h1>ICM Functions, Data Types, and Constants</h1>

<p>This chapter describes the various functions, data types, and constants your application can take advantage of in working with the Image Compression Manager.</p>



<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_54">Making Thumbnail Pictures</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_55">Constraining Compressed Data</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_56">The Compressor Information Structure</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_57">The Compressor Name Structure</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_58">Controlling Hardware Scaling</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_59">Working With the StdPix Function</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_60">Aligning Windows</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_61">Alignment Functions</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_62">Working With Graphics Devices and Graphics Worlds</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_63">Data-Loading Functions</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_64">Data-Unloading Functions</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_65">Progress Functions</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_66">Completion Functions</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_67">Constants</a>
				
			<br/>
			
        
			
			
				<a href="8ICMFunctionsDataTyp.html#//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_68">Image Compression Manager Function Control Flags</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_54" title="Making Thumbnail Pictures"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-MakingThumbnailPictures" title="Making Thumbnail Pictures"></a>Making Thumbnail Pictures</h2>
<p>Thumbnail pictures are useful for creating small, representative images of a source image. You can use thumbnails when you create previews for files that contain image data (for more information about file previews, see the chapter &#8220;Movie Toolbox&#8221; in this book).</p>
<p>You can create thumbnails from pictures, picture files, or pixel maps; use the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/MakeThumbnailFromPicture" target="_top">MakeThumbnailFromPicture</a></code>, <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/MakeThumbnailFromPictureFile" target="_top">MakeThumbnailFromPictureFile</a></code>, or <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/MakeThumbnailFromPixMap" target="_top">MakeThumbnailFromPixMap</a></code> function, as appropriate.</p>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_55" title="Constraining Compressed Data"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-ConstrainingCompressedData" title="Constraining Compressed Data"></a>Constraining Compressed Data</h2>
<p>The Image Compression Manager provides two functions and a data structure that allow your application to communicate information to compressors that can constrain compressed data to a specific data rate. Compressors indicate that they can constrain the data rate by setting the following flag in their compressor information structure:</p>

<div class="codesample"><table><tr><td scope="row"><pre>#define codecInfoDoesRateConstrain(1L&#60;&#60;23)<span></span></pre></td></tr></table></div>

<p>For details, see <span class="content_text">The Compressor Information Structure</span>.</p>
<p>The <code><!--a target="_top" -->DataRateParams<!--/a--></code> data type defines the data rate parameters structure.</p>

<div class="codesample"><table><tr><td scope="row"><pre>typedef struct {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataRate;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* bytes per second */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataOverrun;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* number of bytes outside <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;rate */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;frameDuration;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* in milliseconds */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;keyFrameRate;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* frequency of key frames */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;CodecQ&#160;&#160;&#160;&#160;&#160;&#160;minSpatialQuality;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* minimum spatial quality */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;CodecQ&#160;&#160;&#160;&#160;&#160;&#160;minTemporalQuality;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* minimum temporal quality */<span></span></pre></td></tr><tr><td scope="row"><pre>} DataRateParams;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef DataRateParams *DataRateParamsPtr;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>dataRate</code></p></td>
<td ><p>Specifies the bytes per second to which the data rate must be constrained.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>dataOverrun</code></p></td>
<td ><p>Indicates the current number of bytes above or below the desired data rate. A value of 0 means that the data rate is being met exactly. If your application doesn't know the data overrun, it should set this field to 0.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>frameDuration</code></p></td>
<td ><p>Specifies the duration of the current frame in milliseconds.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>keyFrameRate</code></p></td>
<td ><p>Indicates the frequency of key frames. This frequency is normally identical to the key frame rate passed to the <code>CompressSequenceBegin</code> function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>minSpatialQuality</code></p></td>
<td ><p>Specifies the minimum spatial quality the compressor should use to meet the requested data rate.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>minTemporalQuality</code></p></td>
<td ><p>Indicates the minimum temporal quality the compressor should use to meet the requested data rate.</p></td>
</tr>

</table></div>
<p>See <span class="content_text"><a href="../F-Chapter/6WorkingwiththeImage.html#//apple_ref/doc/uid/TP40000878-WorkingwiththeImageCompressionManager-CompressionQualityConstants">Compression Quality Constants</a></span> for available values of the <code>minSpatialQuality</code> and <code>minTemporalQuality</code> fields.</p>
<p>The <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/SetCSequenceDataRateParams" target="_top">SetCSequenceDataRateParams</a></code> function allows you to specify the parameters in this structure and the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/GetCSequenceDataRateParams" target="_top">GetCSequenceDataRateParams</a></code> function allows you to retrieve the parameters.</p>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_56" title="The Compressor Information Structure"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-TheCompressorInformationStructure" title="The Compressor Information Structure"></a>The Compressor Information Structure</h2>
<p>Your application can retrieve information describing the capabilities of compressors with the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/GetCodecInfo" target="_top">GetCodecInfo</a></code> function. The <code><!--a target="_top" -->CodecInfo<!--/a--></code> data type defines the format of the compressor information structure.</p>

<div class="codesample"><table><tr><td scope="row"><pre>/* compressor information structure */<span></span></pre></td></tr><tr><td scope="row"><pre>struct CodecInfo {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Str31 typeName;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* compression algorithm (codec type) */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;short version;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* version supported by component */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;short revisionLevel;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* version assigned by developer */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long vendor;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* developer of component */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long decompressFlags; /* decompression capability flags */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long compressFlags;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* compression capability flags */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long formatFlags;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* compression format flags */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;unsigned char compressionAccuracy;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* relative accuracy of this algorithm */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;unsigned char decompressionAccuracy;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* relative accuracy of this algorithm */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;unsigned short compressionSpeed;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* relative compression speed */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;unsigned short decompressionSpeed;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* relative decompression speed */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;unsigned char compressionLevel;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* relative compression of component */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;char resvd;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* reserved--set to 0 */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;short minimumHeight;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* minimum image height for component */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;short minimumWidth;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* minimum image width for component */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;short decompressPipelineLatency;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* in milliseconds (asynchronous) */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;short compressPipelineLatency;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* in milliseconds (asynchronous) */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long privateData;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* reserved for use by Apple */<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct CodecInfo CodecInfo;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>typeName</code></p></td>
<td ><p>Indicates the compression algorithm used by the component; for example, <code>'Animation'</code>. This Pascal string may be used to identify the compression algorithm to the user. The string always takes up 32 bytes no matter how long it is. The 32 bytes consist of 31 bytes plus one length byte. Apple Computer's Developer Technical Support group assigns these type names. The value of this field should correspond to the value of the <code>typeName</code> field in the appropriate compressor name structure returned by the <code>GetCodecNameList</code> function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>version</code></p></td>
<td ><p>Indicates the version of compressed data this component supports. The contents of this field should indicate the most recent version of the compression algorithm that the component can understand.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>revisionLevel</code></p></td>
<td ><p>Indicates the version of the component; for example, <code>0x00010001</code> <code>(1.0.1)</code>. Developers of compressors assign these version numbers.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>vendor</code></p></td>
<td ><p>Identifies the developer of the component; for example, <code>'appl'</code>. The value of this field corresponds to the manufacturer code or application signature assigned to the developer.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>decompressFlags</code></p></td>
<td ><p>Contains flags that specify the decompression capabilities of the component. Typically, these flags are of interest only to developers of image decompressors.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>compressFlags</code></p></td>
<td ><p>Contains flags that specify the compression capabilities of the component. Typically, these flags are of interest only to developers of image compressors.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>formatFlags</code></p></td>
<td ><p>Contains flags that describe the possible format for compressed data produced by this component and the format of compressed files that the component can handle during decompression. Typically, these flags are of interest only to developers of compressor components.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>compressionAccuracy</code></p></td>
<td ><p>Indicates the relative accuracy of the compression algorithm employed by the component. Valid values for this field range from 0 to 255. A value of 0 means that the accuracy is unknown. Values from 1 to 255 provide a gauge for the relative accuracy of the compression algorithm; higher values indicate better accuracy. The Image Compression Manager examines this field to determine which compressor component can most accurately compress a given image. The <code>compressionAccuracy</code> field can only approximate the accuracy of a compression algorithm. Typically, compression algorithms produce results of varying quality based on a variety of parameters, including image size and content. Since this information is not available until a compression request is issued, a precise measure of accuracy is not possible. However, the value of this field should still give a rough idea of the accuracy of the supported algorithm.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>decompressionAccuracy</code></p></td>
<td ><p>Indicates the relative accuracy of the decompression algorithm employed by the component. Valid values for this field range from 0 to 255. A value of 0 means that the accuracy is unknown. Values from 1 to 255 indicate the relative accuracy of the decompression technique; higher values mean better accuracy. The Image Compression Manager examines this field to determine which decompressor component can most accurately decompress a given image. The <code>decompressionAccuracy</code> field can only approximate the accuracy of a decompression algorithm. Typically, decompression algorithms produce results of varying quality based on a variety of parameters, including image size and content. Since this information is not available until a decompression request is issued, a precise measure of accuracy is not possible. However, the value of this field should still give a rough idea of the accuracy of the supported algorithm.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>compressionSpeed</code></p></td>
<td ><p>Indicates the relative speed of the component for compression operations. Valid values for this field lie in the range from 0 to 65,535. A value of 0 means that the speed is unknown. Values from 1 to 65,535 correspond to the number of milliseconds the component requires to compress a 320-by-240 pixel image on a Macintosh II computer. The Image Compression Manager examines this field to determine which compressor component can most quickly compress a given image.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>decompressionSpeed</code></p></td>
<td ><p>Indicates the relative speed of the component for decompression operations. Valid values for this field lie in the range from 0 to 65,535. A value of 0 means that the speed is unknown. Values from 1 to 65,535 correspond to the number of milliseconds the component requires to decompress a 320-by-240 pixel image on a Macintosh II computer. The Image Compression Manager examines this field to determine which compressor component can most quickly decompress a given image.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>compressionLevel</code></p></td>
<td ><p>Indicates the relative compression achieved by this component. Valid values for this field lie in the range from 0 to 255. A value of 0 means that the compression level is unknown. Values from 1 to 255 map to percentage values of relative compression; lower values mean lesser compression. A value of 1 means no compression (0 percent); a value of 255 means maximum compression (100 percent). The Image Compression Manager examines this field to determine which available compressor component will yield the smallest resulting data for a given image. The <code>compressionLevel</code> field can only approximate the effectiveness of a compression algorithm. Typically, compression algorithms produce results of varying quality based on a variety of parameters, including image size and content. Since this information is not available until a compression request is issued, a precise measure of compression is not possible. However, the value of this field should still give a rough idea of the effectiveness of the supported algorithm.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>resvd</code></p></td>
<td ><p>Reserved for Apple. This field must be set to 0.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>minimumHeight</code></p></td>
<td ><p>Specifies the height in pixels of the smallest image the component can handle. Together with the <code>minimumWidth</code> field, this field defines the block size for the component. The Image Compression Manager does not issue compression or decompression requests for images smaller than the block size.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>minimumWidth</code></p></td>
<td ><p>Specifies the width in pixels of the smallest image the component can handle. Together with the <code>minimumHeight</code> field, this field defines the block size for the component. The Image Compression Manager does not issue compression or decompression requests for images smaller than the block size.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>decompressPipelineLatency</code></p></td>
<td ><p>Reserved for future use. This field must be set to 0.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>compressPipelineLatency</code></p></td>
<td ><p>Reserved for future use. This field must be set to 0.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>privateData</code></p></td>
<td ><p>Reserved for use by Apple. This field must be set to 0.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_57" title="The Compressor Name Structure"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-TheCompressorNameStructure" title="The Compressor Name Structure"></a>The Compressor Name Structure</h2>
<p>The <code><!--a target="_top" -->CodecNameSpec<!--/a--></code> data type defines a compressor name structure.</p>

<div class="codesample"><table><tr><td scope="row"><pre>/* compressor name structure from GetCodecNameList function */<span></span></pre></td></tr><tr><td scope="row"><pre>struct CodecNameSpec<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;CodecComponent codec;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* component ID for compressor */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;CodecType cType;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* type identifier for compressor */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Str31 typeName;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* string identifier of algorithm */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;Handle name;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* name of compressor component */<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct CodecNameSpec CodecNameSpec;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>codec</code></p></td>
<td ><p>Uniquely identifies the component or, in some cases, contains a special value that selects all components. If your application requests a list of components, the <code>codec</code> field in each compressor name structure contains the component ID for that compressor. If your application requests a list of component types, the <code>codec</code> field is set to 0 in each compressor name structure.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>cType</code></p></td>
<td ><p>Contains the type identifier for the compressor. The value of this field indicates the compression algorithm supported by the component. See the documentation for <code>GetCodecNameList</code> for a list of valid values.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>typeName</code></p></td>
<td ><p>Contains a text string in Pascal format that identifies the compression algorithm supported by the component. This string may be used to identify the compression algorithm to the user. The value of this field should correspond to the value of the <code>typeName</code> field in the appropriate compressor information structure returned by the component in response to a <code>GetCodecInfo</code> function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>name</code></p></td>
<td ><p>Specifies the name of the compressor component. Developers assign these names to uniquely identify their products. This name may be used to identify the component to the user.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_58" title="Controlling Hardware Scaling"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-ControllingHardwareScaling" title="Controlling Hardware Scaling"></a>Controlling Hardware Scaling</h2>
<p>QuickTime provides three functions that allow applications to zoom a monitor (<code>GDHasScale</code>, <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/GDGetScale" target="_top">GDGetScale</a></code>, and <code>GDSetScale)</code>. These three functions are considered low-level calls (comparable to <code>SetEntries</code> ) that you should use only when playing back QuickTime movies in a controlled environment with no user interaction. Also, because this capability is not present on all computers, applications should not depend on its availability.</p>
<p>These functions provide a standard way for you to access the resizing abilities of a user&#8217;s monitor for playback. Effectively, this allows you to have full screen Cinepak playback on low-end Macintosh computers.</p>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_59" title="Working With the StdPix Function"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-WorkingWiththeStdPixFunction" title="Working With the StdPix Function"></a>Working With the StdPix Function</h2>
<p>To allow applications to have access to compressed image data as it is displayed, a graphics function has been added to the <code>grafProcs</code> field of the color graphics port structure (defined by the <code><!--a target="_top" -->CGrafPort<!--/a--></code> data type).</p>
<p>The <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/StdPix" target="_top">StdPix</a></code> function extends the current <code>grafProcs</code> field to support compressed data, mattes, and matrices. The new function supports pixel maps and allows you to intercept image data in compressed form before it is decompressed and displayed. For example, you can use the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/StdPix" target="_top">StdPix</a></code> function to collect compressed image data that is to be processed and printed. In addition, your application can call the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/StdPix" target="_top">StdPix</a></code> function directly.</p>
<p>The replaced <code>grafProcs</code> field is referred to in the original QuickDraw documentation as the <code>newProc1</code> field. The standard handler is called <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/StdPix" target="_top">StdPix</a></code>, and you obtain its address by calling QuickDraw&#8217;s <code>SetStdCProcs</code> routine. Alternatively, your application can call the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/StdPix" target="_top">StdPix</a></code> function directly, using the interface described here. Your application can intercept the low-level <code>grafProcs</code> drawing routines just as it would any of the other routines, except that you must call <code>SetStdCProcs</code> to gain access to the standard <code>grafProcs</code> handler.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_168" title="Note"></a>
<p><strong>Note:</strong>&nbsp;
QuickDraw&#8217;s <code>CopyDeepMask</code> function uses the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/StdPix" target="_top">StdPix</a></code> function if QuickTime is present. </p>
</div>
<p>To work with the control information associated with a compressed image, you can use the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/SetCompressedPixMapInfo" target="_top">SetCompressedPixMapInfo</a></code> and <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/GetCompressedPixMapInfo" target="_top">GetCompressedPixMapInfo</a></code> functions.</p>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_60" title="Aligning Windows"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-AligningWindows" title="Aligning Windows"></a>Aligning Windows</h2>
<p>This section describes the functions that allow your application to position and drag windows to optimal screen positions based on the depth of the screen. These functions are useful for movie playback performance considerations that depend on where you draw on the screen.</p>
<p>The Image Compression Manager places the windows at an optimal position on the screen by aligning rectangles horizontally on 1-bit and 2-bit screens to multiples of 16 pixels, aligning 4-bit screens to multiples of 8, aligning 8-bit screens to multiples of 4, and aligning 16-bit screens to multiples of 2. (Alignment on 32-bit screens is to multiples of 4 pixels and only occurs on Macintosh computers of class 68040 or greater.) When the alignment rectangle crosses more than one screen, the Image Compression Manager uses the alignment of the strictest screen.</p>
<p>Decompression to non-optimally aligned destinations can reduce performance by as much as 50 percent, so you should use these functions whenever possible.</p>
<p>The alignment behavior provided by these functions is adequate in the vast majority of situations. However, if you need customized alignment behavior (for example, justification specifications geared to particular video hardware), you can use the application-defined function described in <span class="content_text">Alignment Functions</span> to override the standard alignment. All the alignment functions provide a parameter in which you can specify a function with customized alignment behavior.</p>
<p>The <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/AlignWindow" target="_top">AlignWindow</a></code> function enables you to transport a specified window to the nearest optimal alignment position. The <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/DragAlignedWindow" target="_top">DragAlignedWindow</a></code> function drags the specified window along an optimal alignment grid. The <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/DragAlignedGrayRgn" target="_top">DragAlignedGrayRgn</a></code> function drags a specified gray region along an optimal alignment grid. The <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/AlignScreenRect" target="_top">AlignScreenRect</a></code> function aligns a specified rectangle to the strictest screen that the rectangle intersects.</p>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_61" title="Alignment Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-AlignmentFunctions" title="Alignment Functions"></a>Alignment Functions</h2>
<p>Your application can use alignment functions to specify the alignment in any of the Image Compression Manager&#8217;s alignment functions (described in <span class="content_text">Aligning Windows</span> ). You call the alignment function with a rectangle (defined in global screen coordinates) that has already been aligned using the default behavior. The alignment function then has the option of applying some additional alignment criteria to the rectangle, such as vertical alignment of some form. In the case of supporting hardware alignment, it is the function&#8217;s responsibility to determine if the rectangle applies to the relevant device.</p>
<p>The <code>AlignmentProcPtr</code> data type defines a pointer to an alignment function. You assign an alignment function by passing a pointer to the alignment function structure, which identifies the alignment function to the appropriate function.</p>

<div class="codesample"><table><tr><td scope="row"><pre>/* alignment function structure */<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;ICMAlignmentUPP&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alignmentProc;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* pointer to your<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alignment function */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;alignmentRefCon;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* reference constant */ <span></span></pre></td></tr><tr><td scope="row"><pre>} ICMAlignmentProcRecord, *ICMAlignmentProcRecordPtr;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>alignmentProc</code></p></td>
<td ><p>Points to your alignment function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>alignmentRefCon</code></p></td>
<td ><p>Contains a reference constant for use by your alignment function.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_62" title="Working With Graphics Devices and Graphics Worlds"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-WorkingWithGraphicsDevicesandGraphicsWorlds" title="Working With Graphics Devices and Graphics Worlds"></a>Working With Graphics Devices and Graphics Worlds</h2>
<p>This section describes two Image Compression Manager functions that enable you to select graphics devices and create graphics worlds. You can use the <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/GetBestDeviceRect" target="_top">GetBestDeviceRect</a></code> function to select the best available graphics device. The <code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/NewImageGWorld" target="_top">NewImageGWorld</a></code> function allows you to create a graphics world based on the width, height, depth, and color table of a specified image description structure.</p>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_63" title="Data-Loading Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DataLoadingFunctions" title="Data-Loading Functions"></a>Data-Loading Functions</h2>
<p>Compressors use the data-loading and data-unloading functions when working with images that do not fit into memory. The data-loading function supplies compressed data during a decompression operation.</p>
<p>The <code>DataProcPtr</code> data type defines a pointer to a data-loading function. You assign a data-loading function to an image or a sequence by passing a pointer to a structure that identifies the function to the appropriate decompress function.</p>

<div class="codesample"><table><tr><td scope="row"><pre>/* data-loading function structure */<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct ICMDataProcRecord ICMDataProcRecord;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef ICMDataProcRecord *ICMDataProcRecordPtr;<span></span></pre></td></tr></table></div>

<p>The data-loading function structure contains the following fields:</p>

<div class="codesample"><table><tr><td scope="row"><pre>struct ICMDataProcRecord<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;ICMDataUPP&#160;&#160;&#160;&#160;&#160;&#160;dataProc;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* pointer to data-loading function */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dataRefCon;&#160;&#160;&#160;&#160;&#160;/* reference constant */<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>dataProc</code></p></td>
<td ><p>Contains a pointer to your data-loading function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>dataRefCon</code></p></td>
<td ><p>Contains a reference constant for use by your data-loading function.</p></td>
</tr>

</table></div>
<p>If your data-loading function returns a nonzero result code, the Image Compression Manager terminates the current operation.</p>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_64" title="Data-Unloading Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DataUnloadingFunctions" title="Data-Unloading Functions"></a>Data-Unloading Functions</h2>
<p>Compressors use the data-loading and data-unloading functions when working with images that do not fit into the computer&#8217;s memory. The data-unloading function writes compressed data to a storage device during a compression operation.</p>
<p>The <code>FlushProcPtr</code> data type defines a pointer to a data-unloading function.</p>

<div class="codesample"><table><tr><td scope="row"><pre>/* data-unloading structure */<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct ICMFlushProcRecord ICMFlushProcRecord;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef ICMFlushProcRecord *ICMFlushProcRecordPtr;<span></span></pre></td></tr></table></div>

<p>You assign a data-unloading function to an image or a sequence by passing a pointer to a structure that identifies the function to the appropriate compression function.</p>
<p>The data-unloading function structure contains the following fields:</p>

<div class="codesample"><table><tr><td scope="row"><pre>struct ICMFlushProcRecord<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;ICMFlushUPP flushProc;&#160;&#160;&#160;&#160;&#160;&#160;/* pointer to data-unloading function */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;flushRefCon;/* reference constant */<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>flushProc</code></p></td>
<td ><p>Contains a pointer to your data-unloading function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>flushRefCon</code></p></td>
<td ><p>Contains a reference constant for use by your data-unloading function.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_65" title="Progress Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-ProgressFunctions" title="Progress Functions"></a>Progress Functions</h2>
<p>Compressors and decompressors call progress functions to report on their progress in the current operation. When a component calls your progress function, it supplies you with a number that indicates the completion percentage. This fixed-point value may range from 0.0 through 1.0. Your program can cause the component to terminate the current operation by returning a result code of <code>codecAbortErr</code>.</p>
<p>The Image Compression Manager calls your progress function only during long operations, and it does not call your function more than 30 times per second.</p>
<p>The <code>ProgressProcPtr</code> data type defines a pointer to a progress function. You assign a progress function to an image or a sequence by passing a pointer to a structure that identifies the progress function to the appropriate function.</p>

<div class="codesample"><table><tr><td scope="row"><pre>/* progress function structure */<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct ICMProgressProcRecord ICMProgressProcRecord;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef ICMProgressProcRecord *ICMProgressProcRecordPtr;<span></span></pre></td></tr></table></div>

<p>The progress function structure contains the following fields:</p>

<div class="codesample"><table><tr><td scope="row"><pre>struct ICMProgressProcRecord<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;ICMProgressUPP progressProc;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* ptr to progress function */<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;progressRefCon;/* reference constant */<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>progressProc</code></p></td>
<td ><p>Contains a pointer to your progress function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>progressRefCon</code></p></td>
<td ><p>Contains a reference constant for use by your progress function.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_66" title="Completion Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-CompletionFunctions" title="Completion Functions"></a>Completion Functions</h2>
<p>Compressor components call completion functions when they have finished an asynchronous operation. The component supplies a result code to your completion function. This result code indicates the success or failure of the asynchronous operation. Note that any other result data that may be produced by the asynchronous operation is not valid until the component calls your completion function.</p>
<p>The <code>CompletionProcPtr</code> data type defines a pointer to a completion function. You assign a completion function to an image or a sequence by passing a pointer to a structure that identifies the function to the appropriate function.</p>

<div class="codesample"><table><tr><td scope="row"><pre>typedef struct CompletionProcRecord CompletionProcRecord;<span></span></pre></td></tr></table></div>

<p>The completion function structure contains the following fields:</p>

<div class="codesample"><table><tr><td scope="row"><pre>typedef ICMCompletionProcRecord *ICMCompletionProcRecordPtr;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>struct ICMCompletionProcRecord<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;ICMCompletionUPP&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;completionProc;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* pointer to completion function */ <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;long &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;completionRefCon;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* reference constant */ <span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Field</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>completionProc</code></p></td>
<td ><p>Contains a pointer to your completion function. Your completion function may be called at interrupt time. Therefore your function may not use Memory Manager functions or other functions that move memory.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>completionRefCon</code></p></td>
<td ><p>Contains a reference constant for use by your completion function.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_67" title="Constants"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-Constants" title="Constants"></a>Constants</h2>
<p>This section describes constants provided by the Image Compression Manager.</p>

<div class="codesample"><table><tr><td scope="row"><pre>/* alpha channel graphics modes */<span></span></pre></td></tr><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;graphicsModeStraightAlpha&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 256,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;graphicsModePreWhiteAlpha&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 257,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;graphicsModePreBlackAlpha&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 258,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;graphicsModeStraightAlphaBlend&#160;&#160;= 260<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* fieldFlags for the ImageFieldSequenceExtractCombine function */<span></span></pre></td></tr><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;evenField1ToEvenFieldOut&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;0,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;evenField1ToOddFieldOut &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;1,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;oddField1ToEvenFieldOut &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;2,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;oddField1ToOddFieldOut &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;3,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;evenField2ToEvenFieldOut &#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;4,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;evenField2ToOddFieldOut &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;5,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;oddField2ToEvenFieldOut &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;6,<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;oddField2ToOddFieldOut &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= 1&#60;&#60;7<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>


<a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-DontLinkElementID_68" title="Image Compression Manager Function Control Flags"></a>
<h2><a name="//apple_ref/doc/uid/TP40000878-ICMFunctionsDataTypesandConstants-ImageCompressionManagerFunctionControlFlags" title="Image Compression Manager Function Control Flags"></a>Image Compression Manager Function Control Flags</h2>
<p>A number of Image Compression Manager functions take control flags that allow your application to exert greater control over the operation. In some cases, the Image Compression Manager returns status information about the results of the function in the same flags field. In general, you need to use only a few of these flags. The function descriptions in the reference section of this chapter indicate the flags that are valid for individual functions.</p>
<p>The <code>CodecFlags</code> data type defines these flag fields.</p>

<div class="codesample"><table><tr><td scope="row"><pre>typedef unsigned short CodecFlags;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Image Compression Manager function control flags */<span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagUseImageBuffer (1L&#60;&#60;0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (input) use image buffer */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagUseScreenBuffer (1L&#60;&#60;1)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (input) use screen buffer */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagUpdatePrevious &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(1L&#60;&#60;2)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (input) update previous buffer */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagNoScreenUpdate &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(1L&#60;&#60;3)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (input) don't update screen */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagWasCompressed &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(1L&#60;&#60;4)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/*(input) image was compressed */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagDontOffscreen &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(1L&#60;&#60;5)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* don't go offscreen */ <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagUpdatePreviousComp (1L&#60;&#60;6)<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (input) update previous buffer */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagForceKeyFrame (1L&#60;&#60;7)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* force key frame from image */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagOnlyScreenUpdate<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(1L&#60;&#60;8)&#160;&#160;&#160;&#160;&#160; <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (input) only update screen */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define&#160;&#160;&#160;&#160;&#160;codecFlagLiveGrab (1L&#60;&#60;9)<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (input) grab live video */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define&#160;&#160;&#160;&#160;&#160;codecFlagUsedNewImageBuffer<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(1L&#60;&#60;14) <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (output) new image buffer used */ <span></span></pre></td></tr><tr><td scope="row"><pre>#define codecFlagUsedImageBuffer<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;(1L&#60;&#60;15) <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;/* (output) decompressor used <span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; offscreen buffer */ <span></span></pre></td></tr><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;codecFlagDontUseNewImageBuffer &#160;&#160;&#160;&#160;&#160;= (1L &#60;&#60; 10),<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;codecFlagInterlaceUpdate &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= (1L &#60;&#60; 11),<span></span></pre></td></tr><tr><td scope="row"><pre>&#160;&#160;&#160;&#160;codecFlagCatchUpDiff &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= (1L &#60;&#60; 12)<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Constant</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>codecFlagUseImageBuffer</code></p></td>
<td ><p>Controls whether the decompressor allocates an offscreen buffer for decompression. If your application sets this flag to 1, the decompressor allocates an offscreen buffer the size of the compressed image. If you set this flag to 0, the decompressor does not use an offscreen image buffer. These image buffers are useful when decompressing sequences that were created using temporal compression.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagUseScreenBuffer</code></p></td>
<td ><p>Controls whether the decompressor allocates an offscreen destination buffer during decompression. If you set this flag to 1, the decompressor allocates an offscreen buffer the size of the destination screen. If you set this flag to 0, the decompressor does not use an offscreen screen buffer. Using a screen buffer helps to reduce tearing that may result when decompressing directly to the screen.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagUpdatePrevious</code></p></td>
<td ><p>Controls whether the compressor updates the previous image buffer during compression. This flag is only used with sequences that are being temporally compressed. If you set this flag to 1, the compressor copies the current source image into the previous frame buffer at the end of the frame compression.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagNoScreenUpdate</code></p></td>
<td ><p>Controls whether the decompressor updates the screen image. If you set this flag to 1, the decompressor does not write the current frame to the screen, but does write the frame to its offscreen image buffer (if one was allocated). If you set this flag to 0, the decompressor writes the frame to the screen.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagWasCompressed</code></p></td>
<td ><p>Indicates to the compressor that the image to be compressed has been compressed before. This information may be useful to compressors that can compensate for the image degradation that may otherwise result from repeated compression and decompression of the same image. Set this flag to 1 to indicate that the image was previously compressed. Set this flag to 0 if the image was not previously compressed.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagDontOffscreen</code></p></td>
<td ><p>Controls whether the decompressor uses the offscreen buffer during sequence decompression. This flag is only used with sequences that have been temporally compressed. If this flag is set to 1, the decompressor does not use the offscreen buffer during decompression. Instead, the decompressor returns an error. This allows your application to refill the offscreen buffer. If this flag is set to 0, the decompressor uses the offscreen buffer if appropriate.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagUpdatePreviousComp</code></p></td>
<td ><p>Controls whether the compressor updates the previous image buffer with the decompressed image data. This flag is only used with temporal compression and is similar to the <code>codecFlagUpdatePrevious</code> flag. As with the <code>codecFlagUpdatePrevious</code> flag, if you set this flag to 1, the compressor updates the previous frame buffer at the end of the frame compression. However, this flag causes the Image Compression Manager to update the frame buffer using an image obtained by decompressing the results of the most recent compression operation, rather than the source image.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagForceKeyFrame</code></p></td>
<td ><p>Controls whether the compressor creates a key frame from the current image. This flag is only used with temporal compression. If you set this flag to 1, the compressor makes the current image a key frame. If you set this flag to 0, the compressor decides based on other criteria, such as the key frame rate, whether to create a key frame from the current image.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagOnlyScreenUpdate</code></p></td>
<td ><p>Controls whether the decompressor decompresses the current frame. If you set this flag to 1, the decompressor writes the contents of its offscreen image buffer to the screen, but does decompress the current frame. If you set this flag to 0, the decompressor decompresses the current frame and writes it to the screen. You can set this flag to 1 only if you have allocated an offscreen image buffer for use by the decompressor.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagLiveGrab</code></p></td>
<td ><p>Indicates to the compressor whether the current sequence results from grabbing live video. When working with live video, compressors operate as quickly as possible and disable some additional processing, such as compensation for previously compressed data. Set this flag to 1 when you are compressing from a live video source; the compressor then operates as quickly as it can.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagUsedNewImageBuffer</code></p></td>
<td ><p>Indicates to your application that the decompressor used the offscreen image buffer for the first time when it processed this frame. If this flag is set to 1, the decompressor used the image buffer for this frame and this is the first time the decompressor used the image buffer in this sequence. If this flag is set to 0, the decompressor did not use the image buffer.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagUsedImageBuffer</code></p></td>
<td ><p>Indicates to your application that the decompressor used the offscreen image buffer for this frame. If this flag is set to 1, the decompressor used the image buffer. If this flag is set to 0, the decompressor did not use the image buffer.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagDontUseNewImageBuffer</code></p></td>
<td ><p>Forces an error to be returned when a new image buffer would have to be allocated instead of allocating the new buffer.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagInterlaceUpdate</code></p></td>
<td ><p>Updates the screen interlacing even and odd scan lines to reduce tearing artifacts (if the decompressor supports this mode).</p></td>
</tr>
<tr>
<td  scope="row"><p><code>codecFlagCatchUpDiff</code></p></td>
<td ><p>Notifies the codec that the currently displayed frame is being displayed late in an attempt to "catch up" to the current frame, which only happens with compression formats that support frame differencing, You can pass this flag to any of the <code>DecompressSequenceFrame</code> calls.</p></td>
</tr>

</table></div>




        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../G-Chapter/7HowtoCompressandDec.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../I-Chapter/9AboutImageCompresso.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-01-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/RM/CompressDecompress/ImageComprMgr/H-Chapter/8ICMFunctionsDataTyp.html%3Fid%3DTP40000878-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/RM/CompressDecompress/ImageComprMgr/H-Chapter/8ICMFunctionsDataTyp.html%3Fid%3DTP40000878-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/RM/CompressDecompress/ImageComprMgr/H-Chapter/8ICMFunctionsDataTyp.html%3Fid%3DTP40000878-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>