<html><head><title>Mac OS X
 Manual Page For Sys::Syslog(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/Sys::Syslog" title="Mac OS X
 Manual Page for Sys::Syslog(3pm)"><a name="//apple_ref/doc/man/3/Sys::Syslog" title="Mac OS X
 Manual Page for Sys::Syslog(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/Sys::Syslog"; name=Sys::Syslog(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Sys::Syslog(3pm)                      Perl Programmers Reference Guide                      Sys::Syslog(3pm)



<b>NAME</b>
       Sys::Syslog - Perl interface to the UNIX <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> calls

<b>VERSION</b>
       Version 0.13

<b>SYNOPSIS</b>
           use Sys::Syslog;                          # all except setlogsock(), or:
           use Sys::Syslog qw(:DEFAULT setlogsock);  # default set, plus setlogsock()
           use Sys::Syslog qw(:standard :macros);    # standard functions, plus macros

           setlogsock $sock_type;
           openlog $ident, $logopt, $facility;       # don't forget this
           syslog $priority, $format, @args;
           $oldmask = setlogmask $mask_priority;
           closelog;

<b>DESCRIPTION</b>
       "Sys::Syslog" is an interface to the UNIX <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> program.  Call "syslog()" with a string priority
       and a list of "printf()" args just like <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>.

<b>EXPORTS</b>
       "Sys::Syslog" exports the following "Exporter" tags:

          ":standard" exports the standard <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> functions:

               openlog closelog setlogmask syslog

          ":extended" exports the Perl specific functions for <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>:

               setlogsock

          ":macros" exports the symbols corresponding to most of your <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> macros. See "CONSTANTS" for
           the supported constants and their meaning.

       By default, "Sys::Syslog" exports the symbols from the ":standard" tag.

<b>FUNCTIONS</b>
       <b>openlog($ident,</b> <b>$logopt,</b> <u></u><b><u>$</u></b><u></u><b><u>a</u></b><u></u><b><u>i</u></b><u></u><b><u>i</u></b><u></u><b><u>y</u></b><b>)</b>
           Opens the syslog.  $ident is prepended to every message.  $logopt contains zero or more of the
           words "pid", "ndelay", "nowait".  The "cons" option is ignored, since the failover mechanism will
           drop down to the console automatically if all other media fail.  $facility specifies the part of
           the system to report about, for example "LOG_USER" or "LOG_LOCAL0": see your <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> documenta-<font color="#ffffff" class="whiteout">tion&nbsp;documentation</font>
           tion for the facilities available in your system. Facility can be given as a string or a numeric
           macro.

           This function will croak if it can't connect to the syslog daemon.

           Note that "openlog()" now takes three arguments, just like <a href="openlog.3.html#//apple_ref/doc/man/3/openlog">openlog(3)</a>.

           <b>You</b> <b>should</b> <b>use</b> <u></u><b><u>o</u></b><u></u><b><u>e</u></b><u></u><b><u>l</u></b><u></u><b><u>g</u></b><u></u><b><u>)</u></b> <b>before</b> <b>calling</b> <u></u><b><u>s</u></b><u></u><b><u>s</u></b><u></u><b><u>o</u></b><u></u><b><u>(</u></b><b>.</b>

           <b>Options</b>

           *   "ndelay" - Open the connection immediately (normally, the connection is opened when the first
               message is logged).

           *   "nowait" - Don't wait for child processes that may have been created while logging the mes-<font color="#ffffff" class="whiteout">sage.&nbsp;message.</font>
               sage.  (The GNU C library does not create a child process, so this option has no effect on
               Linux.)

           *   "pid" - Include PID with each message.

           <b>Examples</b>

           Open the syslog with options "ndelay" and "pid", and with facility "LOCAL0":

               openlog($name, "ndelay,pid", "local0");

           Same thing, but this time using the macro corresponding to "LOCAL0":

               openlog($name, "ndelay,pid", LOG_LOCAL0);

       <b>syslog($priority,</b> <b>$message)</b>
       <b>syslog($priority,</b> <b>$format,</b> <u></u><b><u>@</u></b><u></u><b><u>r</u></b><u></u><b><u>s</u></b><b>)</b>
           If $priority permits, logs $message or "sprintf($format, @args)" with the addition that %m in
           $message or $format is replaced with "$!" (the latest error message).

           $priority can specify a level, or a level and a facility.  Levels and facilities can be given as
           strings or as macros.

           If you didn't use "openlog()" before using "syslog()", "syslog()" will try to guess the $ident by
           extracting the shortest prefix of $format that ends in a ":".

           <b>Examples</b>

               syslog("info", $message);           # informational level
               syslog(LOG_INFO, $message);         # informational level

               syslog("info|local0", $message);        # information level, Local0 facility
               syslog(LOG_INFO|LOG_LOCAL0, $message);  # information level, Local0 facility

           <b>Note</b>
               "Sys::Syslog" version v0.07 and older passed the $message as the formatting string to
               "sprintf()" even when no formatting arguments were provided.  If the code calling "syslog()"
               might execute with older versions of this module, make sure to call the function as "sys-<font color="#ffffff" class="whiteout">log($priority,&nbsp;"syslog($priority,</font>
               log($priority, "%s", $message)" instead of "syslog($priority, $message)".  This protects
               against hostile formatting sequences that might show up if $message contains tainted data.

       <b>setlogmask($mask_priority)</b>
           Sets the log mask for the current process to $mask_priority and returns the old mask.  If the
           mask argument is 0, the current log mask is not modified.  See "Levels" for the list of available
           levels.

           <b>Examples</b>

           Only log errors:

               setlogmask(LOG_ERR);

           Log critical messages, errors and warnings:

               setlogmask(LOG_CRIT|LOG_ERR|LOG_WARNING);

       <b>setlogsock($sock_type)</b>
       <b>setlogsock($sock_type,</b> <b>$stream_location)</b> (added in 5.004_02)
           Sets the socket type to be used for the next call to "openlog()" or "syslog()" and returns true
           on success, "undef" on failure.

           A value of "unix" will connect to the UNIX domain socket (in some systems a character special
           device) returned by the "_PATH_LOG" macro (if your system defines it), or <u>/dev/log</u> or <u>/dev/con</u>-<font color="#ffffff" class="whiteout">slog,&nbsp;/dev/conslog,</font>
           <u>slog</u>, whatever is writable.  A value of 'stream' will connect to the stream indicated by the
           pathname provided as the optional second parameter.  (For example Solaris and IRIX require
           "stream" instead of "unix".)  A value of "inet" will connect to an INET socket (either "tcp" or
           "udp", tried in that order) returned by "getservbyname()". "tcp" and "udp" can also be given as
           values. The value "console" will send messages directly to the console, as for the "cons" option
           in the logopts in "openlog()".

           A reference to an array can also be passed as the first parameter.  When this calling method is
           used, the array should contain a list of sock_types which are attempted in order.

           The default is to try "tcp", "udp", "unix", "stream", "console".

           Giving an invalid value for $sock_type will croak.

       <u></u><b><u>c</u></b><u></u><b><u>o</u></b><u></u><b><u>e</u></b><u></u><b><u>o</u></b><u></u><b><u>(</u></b>
           Closes the log file and return true on success.

<b>EXAMPLES</b>
           openlog($program, 'cons,pid', 'user');
           syslog('info', '%s', 'this is another test');
           syslog('mail|warning', 'this is a better test: %d', time);
           closelog();

           syslog('debug', 'this is the last test');

           setlogsock('unix');
           openlog("$program $$", 'ndelay', 'user');
           syslog('notice', 'fooprogram: this is really done');

           setlogsock('inet');
           $! = 55;
           syslog('info', 'problem was %m'); # %m == $! in <a href="syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>

           # Log to UDP port on $remotehost instead of logging locally
           setlogsock('udp');
           $Sys::Syslog::host = $remotehost;
           openlog($program, 'ndelay', 'user');
           syslog('info', 'something happened over here');

<b>CONSTANTS</b>
       <b>Facilities</b>


          "LOG_AUTH" - security/authorization messages

          "LOG_AUTHPRIV" - security/authorization messages (private)

          "LOG_CRON" - clock daemon (<b>cron</b> and <b>at</b>)

          "LOG_DAEMON" - system daemons without separate facility value

          "LOG_FTP" - ftp daemon

          "LOG_KERN" - kernel messages

          "LOG_LOCAL0" through "LOG_LOCAL7" - reserved for local use

          "LOG_LPR" - line printer subsystem

          "LOG_MAIL" - mail subsystem

          "LOG_NEWS" - USENET news subsystem

          "LOG_SYSLOG" - messages generated internally by <b>syslogd</b>

          "LOG_USER" (default) - generic user-level messages

          "LOG_UUCP" - UUCP subsystem

       <b>Levels</b>


          "LOG_EMERG" - system is unusable

          "LOG_ALERT" - action must be taken immediately

          "LOG_CRIT" - critical conditions

          "LOG_ERR" - error conditions

          "LOG_WARNING" - warning conditions

          "LOG_NOTICE" - normal, but significant, condition

          "LOG_INFO" - informational message

          "LOG_DEBUG" - debug-level message

<b>DIAGNOSTICS</b>
       Invalid argument passed to setlogsock
           <b>(F)</b> You gave "setlogsock()" an invalid value for $sock_type.

       no connection to syslog available
           <b>(F)</b> "syslog()" failed to connect to the specified socket.

       stream passed to setlogsock, but %s is not writable
           <b>(W)</b> You asked "setlogsock()" to use a stream socket, but the given path is not writable.

       stream passed to setlogsock, but could not find any device
           <b>(W)</b> You asked "setlogsock()" to use a stream socket, but didn't provide a path, and "Sys::Syslog"
           was unable to find an appropriate one.

       tcp passed to setlogsock, but tcp service unavailable
           <b>(W)</b> You asked "setlogsock()" to use a TCP socket, but the service is not available on the system.

       syslog: expecting argument %s
           <b>(F)</b> You forgot to give "syslog()" the indicated argument.

       syslog: invalid level/facility: %s
           <b>(F)</b> You specified an invalid level or facility, like "LOG_KERN" (which is reserved to the ker-<font color="#ffffff" class="whiteout">nel).&nbsp;kernel).</font>
           nel).

       syslog: too many levels given: %s
           <b>(F)</b> You specified too many levels.

       syslog: too many facilities given: %s
           <b>(F)</b> You specified too many facilities.

       syslog: level must be given
           <b>(F)</b> You forgot to specify a level.

       udp passed to setlogsock, but udp service unavailable
           <b>(W)</b> You asked "setlogsock()" to use a UDP socket, but the service is not available on the system.

       unix passed to setlogsock, but path not available
           <b>(W)</b> You asked "setlogsock()" to use a UNIX socket, but "Sys::Syslog" was unable to find an appro-<font color="#ffffff" class="whiteout">priate&nbsp;appropriate</font>
           priate an appropriate device.

<b>SEE</b> <b>ALSO</b>
       <a href="syslog.3.html#//apple_ref/doc/man/3/syslog"><u>syslog</u>(3)</a>

       <u>Syslogging</u> <u>with</u> <u>Perl</u>, &lt;<a href="http://lexington.pm.org/meetings/022001.html">http://lexington.pm.org/meetings/022001.html</a>

<b>AUTHOR</b>
       Tom Christiansen &lt;<u>tchrist@perl.com&gt;</u> and Larry Wall &lt;<u>larry@wall.org&gt;</u>.

       UNIX domain sockets added by Sean Robinson &lt;<u>robinson</u><b>_</b><u>s@sc.maricopa.edu&gt;</u> with support from Tim Bunce
       &lt;<u>Tim.Bunce@ig.co.uk&gt;</u> and the "perl5-porters" mailing list.

       Dependency on <u>syslog.ph</u> replaced with XS code by Tom Hughes &lt;<u>tom@compton.nu&gt;</u>.

       Code for "constant()"s regenerated by Nicholas Clark &lt;<u>nick@ccl4.org&gt;</u>.

       Failover to different communication modes by Nick Williams &lt;<u>Nick.Williams@morganstanley.com&gt;</u>.

       Extracted from core distribution for publishing on the CPAN by Sebastien Aperghis-Tramoni
       &lt;sebastien@aperghis.net&gt;.

<b>BUGS</b>
       Please report any bugs or feature requests to "bug-sys-syslog at rt.cpan.org", or through the web
       interface at &lt;<a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Sys-Syslog">http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Sys-Syslog</a>.  I will be notified, and
       then you'll automatically be notified of progress on your bug as I make changes.

<b>SUPPORT</b>
       You can find documentation for this module with the perldoc command.

           perldoc Sys::Syslog

       You can also look for information at:

       * AnnoCPAN: Annotated CPAN documentation
           &lt;<a href="http://annocpan.org/dist/Sys-Syslog">http://annocpan.org/dist/Sys-Syslog</a>

       * CPAN Ratings
           &lt;<a href="http://cpanratings.perl.org/d/Sys-Syslog">http://cpanratings.perl.org/d/Sys-Syslog</a>

       * RT: CPAN's request tracker
           &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Sys-Syslog">http://rt.cpan.org/NoAuth/Bugs.html?Dist=Sys-Syslog</a>

       * Search CPAN
           &lt;<a href="http://search.cpan.org/dist/Sys-Syslog">http://search.cpan.org/dist/Sys-Syslog</a>

<b>LICENSE</b>
       This program is free software; you can redistribute it and/or modify it under the same terms as Perl
       itself.



perl v5.8.8                                      2001-09-21                                 Sys::Syslog(3pm)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Sys__Syslog.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Sys__Syslog.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Sys__Syslog.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
