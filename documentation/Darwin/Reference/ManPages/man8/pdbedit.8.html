<html><head><title>Mac OS X
 Manual Page For pdbedit(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/pdbedit" title="Mac OS X
 Manual Page for pdbedit(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/pdbedit"; name=pdbedit(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PDBEDIT(8)                                                                                        PDBEDIT(8)



<b>NAME</b>
       pdbedit - manage the SAM database (Database of Samba Users)

<b>SYNOPSIS</b>
       pdbedit  [-L]  [-v] [-w] [-u username] [-f fullname] [-h homedir] [-D drive] [-S script] [-p profile]
        [-a] [-t, --password-from-stdin] [-m] [-r] [-x] [-i passdb-backend] [-e passdb-backend]  [-b passdb-<font color="#ffffff" class="whiteout">backend]&nbsp;passdbbackend]</font>
        backend]  [-g]  [-d debuglevel]  [-s configfile] [-P account-policy] [-C value] [-c account-control]
        [-y]

<b>DESCRIPTION</b>
       This tool is part of the <a href="../man7/samba.7.html#//apple_ref/doc/man/7/samba"><b>samba</b>(7)</a> suite.

       The pdbedit program is used to manage the users accounts stored in the sam database and can  only  be
       run by root.

       The pdbedit tool uses the passdb modular interface and is independent from the kind of users database
       used (currently there are smbpasswd, ldap, nis+ and tdb based and more can be added without  changing
       the tool).

       There  are  five main ways to use pdbedit: adding a user account, removing a user account, modifing a
       user account, listing user accounts, importing users accounts.

<b>OPTIONS</b>
       -L
          This option lists all the user accounts present in the users database. This option prints  a  list
          of user/uid pairs separated by the ':' character.

          Example: pdbedit -L





          sorce:500:Simo Sorce
          samba:45:Test User



       -v
          This  option  enables the verbose listing format. It causes pdbedit to list the users in the data-<font color="#ffffff" class="whiteout">base,&nbsp;database,</font>
          base, printing out the account fields in a descriptive format.

          Example: pdbedit -L -v





          ---------------<font color="#ffffff" class="whiteout">username:&nbsp;--------------username:</font>
          username:       sorce
          user ID/Group:  500/500
          user RID/GRID:  2000/2001
          Full Name:      Simo Sorce
          Home Directory: \BERSERKERce
          HomeDir Drive:  H:
          Logon Script:   \BERSERKER0tlogonce.bat
          Profile Path:   \BERSERKERrofile
          ---------------<font color="#ffffff" class="whiteout">username:&nbsp;--------------username:</font>
          username:       samba
          user ID/Group:  45/45
          user RID/GRID:  1090/1091
          Full Name:      Test User
          Home Directory: \BERSERKERba
          HomeDir Drive:
          Logon Script:
          Profile Path:   \BERSERKERrofile



       -w
          This  option sets the "smbpasswd" listing format. It will make pdbedit list the users in the data-<font color="#ffffff" class="whiteout">base,&nbsp;database,</font>
          base, printing out the account fields in a format compatible with the <u>smbpasswd</u> file format.  (see
          the <a href="../man5/smbpasswd.5.html#//apple_ref/doc/man/5/smbpasswd"><b>smbpasswd</b>(5)</a> for details)

          Example: pdbedit -L -w


          sorce:500:508818B733CE64BEAAD3B435B51404EE:
                    D2A2418EFC466A8A0F6B1DBB5C3DB80C:
                    [UX         ]:LCT-00000000:
          samba:45:0F2B255F7B67A7A9AAD3B435B51404EE:
                    BC281CE3F53B6A5146629CD4751D3490:
                    [UX         ]:LCT-3BFA1E8D:


       -u username
          This option specifies the username to be used for the operation requested (listing, adding, remov-<font color="#ffffff" class="whiteout">ing).&nbsp;removing).</font>
          ing). It is <b>required</b> in add, remove and modify operations and <b>optional</b> in list operations.

       -f fullname
          This option can be used while adding or modifing a user account. It will specify the  user's  full
          name.

          Example: -f "Simo Sorce"

       -h homedir
          This  option  can be used while adding or modifing a user account. It will specify the user's home
          directory network path.

          Example: -h "\\\\BERSERKER\\sorce"

       -D drive
          This option can be used while adding or modifing a user account. It will specify the windows drive
          letter to be used to map the home directory.

          Example: -D "H:"

       -S script
          This  option can be used while adding or modifing a user account. It will specify the user's logon
          script path.

          Example: -S "\\\\BERSERKER\\netlogon\\sorce.bat"

       -p profile
          This option can be used while adding or modifing a user account. It will specify the  user's  pro-<font color="#ffffff" class="whiteout">file&nbsp;profile</font>
          file directory.

          Example: -p "\\\\BERSERKER\\netlogon"

       -G SID|rid
          This  option  can be used while adding or modifying a user account. It will specify the users' new
          primary group SID (Security Identifier) or rid.

          Example: -G S-1-5-21-2447931902-1787058256-3961074038-1201

       -U SID|rid
          This option can be used while adding or modifying a user account. It will specify the  users'  new
          SID (Security Identifier) or rid.

          Example: -U S-1-5-21-2447931902-1787058256-3961074038-5004

       -c account-control
          This  option  can  be  used  while  adding or modifying a user account. It will specify the users'
          account control property. Possible flags are listed below.



               N: No password required

               D: Account disabled

               H: Home directory required

               T: Temporary duplicate of other account

               U: Regular user account

               M: MNS logon user account

               W: Workstation Trust Account

               S: Server Trust Account

               L: Automatic Locking

               X: Password does not expire

               I: Domain Trust Account



             Example: -c "[X ]"

       -a
          This option is used to add a user into the database. This command needs a user name specified with
          the -u switch. When adding a new user, pdbedit will also ask for the password to be used.

          Example: pdbedit -a -u sorce



          new password:
          retype new password



          <b>Note</b>
          pdbedit  does not call the unix password syncronisation script if unix password sync has been set.
          It only updates the data in the Samba user database.

          If you wish to add a user and synchronise  the  password  that  immediately,  use  smbpasswd's  <b>-a</b>
          option.

       -t, --password-from-stdin
          This  option  causes  pdbedit  to read the password from standard input, rather than from /dev/tty
          (like the <a href="../man1/passwd.1ssl.html#//apple_ref/doc/man/1/passwd">passwd(1)</a> program does). The password has to be submitted twice and terminated by a new-<font color="#ffffff" class="whiteout">line&nbsp;newline</font>
          line each.

       -r
          This  option  is  used  to modify an existing user in the database. This command needs a user name
          specified with the -u switch. Other options can be specified to modify the properties of the spec-<font color="#ffffff" class="whiteout">ified&nbsp;specified</font>
          ified  user. This flag is kept for backwards compatibility, but it is no longer necessary to spec-<font color="#ffffff" class="whiteout">ify&nbsp;specify</font>
          ify it.

       -m
          This option may only be used in conjunction with the <u>-a</u> option. It will  make  pdbedit  to  add  a
          machine trust account instead of a user account (-u username will provide the machine name).

          Example: pdbedit -a -m -u w2k-wks

       -x
          This  option  causes pdbedit to delete an account from the database. It needs a username specified
          with the -u switch.

          Example: pdbedit -x -u bob

       -i passdb-backend
          Use a different passdb backend to retrieve users than the one specified in smb.conf. Can  be  used
          to import data into your local user database.

          This option will ease migration from one passdb backend to another.

          Example: pdbedit -i smbpasswd:/etc/smbpasswd.old

       -e passdb-backend
          Exports all currently available users to the specified password database backend.

          This option will ease migration from one passdb backend to another and will ease backing up.

          Example: pdbedit -e smbpasswd:/root/samba-users.backup

       -g
          If  you  specify <u>-g</u>, then <u>-i</u> <u>in-backend</u> <u>-e</u> <u>out-backend</u> applies to the group mapping instead of the
          user database.

          This option will ease migration from one passdb backend to another and will ease backing up.

       -b passdb-backend
          Use a different default passdb backend.

          Example: pdbedit -b xml:/root/pdb-backup.xml -l

       -P account-policy
          Display an account policy

          Valid policies are: minimum password age, reset count minutes, disconnect time, user must logon to
          change password, password history, lockout duration, min password length, maximum password age and
          bad lockout attempt.

          Example: pdbedit -P "bad lockout attempt"





          account policy value for bad lockout attempt is 0



       -C account-policy-value
          Sets an account policy to a specified value. This option may only be used in conjunction with  the
          <u>-P</u> option.

          Example: pdbedit -P "bad lockout attempt" -C 3





          account policy value for bad lockout attempt was 0
          account policy value for bad lockout attempt is now 3



       -y
          If  you  specify  <u>-y</u>, then <u>-i</u> <u>in-backend</u> <u>-e</u> <u>out-backend</u> applies to the account policies instead of
          the user database.

          This option will allow to migrate account policies from their  default  tdb-store  into  a  passdb
          backend, e.g. an LDAP directory server.

          Example: pdbedit -y -i tdbsam: -e ldapsam:ldap://my.ldap.host

       -h|--help
          Print a summary of command line options.

       -V
          Prints the program version number.

       -s &lt;configuration file&gt;
          The  file  specified contains the configuration details required by the server. The information in
          this file includes server-specific information such as what printcap  file  to  use,  as  well  as
          descriptions of all the services that the server is to provide. See <u>smb.conf</u> for more information.
          The default configuration file name is determined at compile time.

       -d|--debuglevel=level
          <u>level</u> is an integer from 0 to 10. The default value if this parameter is not specified is zero.

          The higher this value, the more detail will be logged to the log files about the activities of the
          server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reason-<font color="#ffffff" class="whiteout">able&nbsp;reasonable</font>
          able level for day-to-day running - it generates a small amount of  information  about  operations
          carried out.

          Levels above 1 will generate considerable amounts of log data, and should only be used when inves-<font color="#ffffff" class="whiteout">tigating&nbsp;investigating</font>
          tigating a problem. Levels above 3 are designed for use  only  by  developers  and  generate  HUGE
          amounts of log data, most of which is extremely cryptic.

          Note that specifying this parameter here will override the

          parameter in the <u>smb.conf</u> file.

       -l|--logfile=logdirectory
          Base directory name for log/debug files. The extension <b>".progname"</b> will be appended (e.g. log.smb-<font color="#ffffff" class="whiteout">client,&nbsp;log.smbclient,</font>
          client, log.smbd, etc...). The log file is never removed by the client.

<b>NOTES</b>
       This command may be used only by root.

<b>VERSION</b>
       This man page is correct for version 3.0 of the Samba suite.

<b>SEE</b> <b>ALSO</b>
       <a href="../man5/smbpasswd.5.html#//apple_ref/doc/man/5/smbpasswd"><b>smbpasswd</b>(5)</a>, <a href="../man7/samba.7.html#//apple_ref/doc/man/7/samba"><b>samba</b>(7)</a>

<b>AUTHOR</b>
       The original Samba software and related utilities were created  by  Andrew  Tridgell.  Samba  is  now
       developed  by  the Samba Team as an Open Source project similar to the way the Linux kernel is devel-<font color="#ffffff" class="whiteout">oped.&nbsp;developed.</font>
       oped.

       The pdbedit manpage was written by Simo Sorce and Jelmer Vernooij.




                                                                                                  PDBEDIT(8)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/pdbedit.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/pdbedit.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/pdbedit.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
