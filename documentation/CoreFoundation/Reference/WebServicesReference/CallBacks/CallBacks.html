<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Web Services Core Framework Reference: Web Services Core Foundation CallBacks</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Web Services Core Foundation CallBacks"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40008090-CH102" title="Web Services Core Foundation CallBacks"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/CoreFoundation/index.html#//apple_ref/doc/uid/TP30001281-TP30000421" target="_top">Core Foundation</a> &gt; <a href="../../../../../reference/CoreFoundation/idxInternetWeb-date.html#//apple_ref/doc/uid/TP30001281-TP30000421-TP30000526" target="_top">Internet &amp; Web</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><!-- Next button --></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_46" title="Web Services Core Foundation CallBacks"></a><h1>Web Services Core Foundation CallBacks</h1><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_42" title="Callbacks by Task"></a><h2>Callbacks by Task</h2>
<a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_1" title="Context Callbacks"></a>
    
    <h3 class="tasks">Context Callbacks</h3>
    <p>Several calls in Web Services Core take a callback with an optional context pointer.  The context is copied and the info pointer is retained.  When the callback is made, the info pointer is passed to the callback.</p>    
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSClientContextRetainCallBackProcPtr">WSClientContextRetainCallBackProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is the callback that retains the information.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSClientContextReleaseCallBackProcPtr">WSClientContextReleaseCallBackProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is the callback that releases the information.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSClientContextCopyDescriptionCallBackProcPtr">WSClientContextCopyDescriptionCallBackProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is the callback that copies the information.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_5" title="Method Invocation Callbacks"></a>
    
    <h3 class="tasks">Method Invocation Callbacks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSMethodInvocationCallBackProcPtr">WSMethodInvocationCallBackProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is the callback that handles method invocation completion when the method is invoked asynchronously.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSMethodInvocationSerializationProcPtr">WSMethodInvocationSerializationProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is an optional callback that handles custom serialization of a particular data type for method invocation.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSMethodInvocationDeserializationProcPtr">WSMethodInvocationDeserializationProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is an optional callback that handles custom deserialization of a particular data type for a method response.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_9" title="Protocol Handler Callbacks"></a>
    
    <h3 class="tasks">Protocol Handler Callbacks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSProtocolHandlerSerializationProcPtr">WSProtocolHandlerSerializationProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is an optional callback that handles custom serialization of a particular data type for a protocol handler.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="CallBacks.html#//apple_ref/c/tdef/WSProtocolHandlerDeserializationProcPtr">WSProtocolHandlerDeserializationProcPtr</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='This is an optional callback that handles custom deserialization of a particular data type for a protocol handler.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_43" title="Callbacks"></a><h2>Callbacks</h2><a name="//apple_ref/c/tdef/WSClientContextCopyDescriptionCallBackProcPtr" title="WSClientContextCopyDescriptionCallBackProcPtr"></a><a name="//apple_ref/doc/c_ref/WSClientContextCopyDescriptionCallBackProcPtr" title="WSClientContextCopyDescriptionCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_4" title="WSClientContextCopyDescriptionCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_54"></a><h3 class="tight">WSClientContextCopyDescriptionCallBackProcPtr</h3><p class="spaceabove">This is the callback that copies the information.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> *, WSClientContextCopyDescriptionCallBackProcPtr )
   (void * info);
</pre></p><p>If your callback is named MyInfoCopyCallback, declare it like this:</p><p><pre>
   CFStringRef MyInfoCopyCallback (
   void *info);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>info</em></dt><dd><p>Private callback data to be coped.</p></dd></dl><h5 class="tight">Return Value</h5><p>A CFStringRef containing the client context information.</p><h5 class="tight">Discussion</h5><p>Your callback is passed a  a pointer to private data for you to copy.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSTypes.h</code><a name="//apple_ref/c/tdef/WSClientContextReleaseCallBackProcPtr" title="WSClientContextReleaseCallBackProcPtr"></a><a name="//apple_ref/doc/c_ref/WSClientContextReleaseCallBackProcPtr" title="WSClientContextReleaseCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_3" title="WSClientContextReleaseCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_55"></a><h3 class="tight">WSClientContextReleaseCallBackProcPtr</h3><p class="spaceabove">This is the callback that releases the information.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( void *, WSClientContextReleaseCallBackProcPtr )
   (void * info);
</pre></p><p>If your callback is named MyInfoReleaseCallback, declare it like this:</p><p><pre>
   void MyInfoReleaseCallback (
   void *info);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>info</em></dt><dd><p>Private callback data to be released.</p></dd></dl><h5 class="tight">Discussion</h5><p>Your callback is passed a  a pointer to private data for you to release.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSTypes.h</code><a name="//apple_ref/c/tdef/WSClientContextRetainCallBackProcPtr" title="WSClientContextRetainCallBackProcPtr"></a><a name="//apple_ref/doc/c_ref/WSClientContextRetainCallBackProcPtr" title="WSClientContextRetainCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_2" title="WSClientContextRetainCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_56"></a><h3 class="tight">WSClientContextRetainCallBackProcPtr</h3><p class="spaceabove">This is the callback that retains the information.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( void *, WSClientContextRetainCallBackProcPtr )
   (void * info);
</pre></p><p>If your callback is named MyInfoRetainCallback, declare it like this:</p><p><pre>
   void MyInfoRetainCallback (
   void *info);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>info</em></dt><dd><p>Private callback data to be retained.</p></dd></dl><h5 class="tight">Discussion</h5><p>Your callback is passed a  a pointer to private data for you to retain.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSTypes.h</code><a name="//apple_ref/c/tdef/WSMethodInvocationCallBackProcPtr" title="WSMethodInvocationCallBackProcPtr"></a><a name="//apple_ref/doc/c_ref/WSMethodInvocationCallBackProcPtr" title="WSMethodInvocationCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_6" title="WSMethodInvocationCallBackProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_57"></a><h3 class="tight">WSMethodInvocationCallBackProcPtr</h3><p class="spaceabove">This is the callback that handles method invocation completion when the method is invoked asynchronously.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( void , WSMethodInvocationCallBackProcPtr )
   (<a href="../Types/Types.html#//apple_ref/doc/c_ref/WSMethodInvocationRef">WSMethodInvocationRef</a> invocation,
   void *info,
   <a href="../../CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> outRef);
</pre></p><p>If your callback is named MyCompletionCallback, declare it like this:</p><p><pre>
   void MyCompletionCallback (
   <a href="../Types/Types.html#//apple_ref/doc/c_ref/WSMethodInvocationRef">WSMethodInvocationRef</a> invocation,
   void *info,
   <a href="../../CFDictionaryRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDictionaryRef" target="_top">CFDictionaryRef</a> outRef);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>invocation</em></dt><dd><p>The method invocation for which this callback handles completion.</p></dd><dt><em>info</em></dt><dd><p>Private callback data.</p></dd><dt><em>outRef</em></dt><dd><p>A <code>CFDictionaryRef</code> containing the method invocation result or a fault structure, and optional debug information.</p></dd></dl><h5 class="tight">Discussion</h5><p>Your callback is passed a reference to the invocation just completed, a pointer to private data, and a dictionary that contains the return value or falut for this invocation.  The  callback is responsible for releasing the dictionary when it is  no longer used.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSMethodInvocation.h</code><a name="//apple_ref/c/tdef/WSMethodInvocationDeserializationProcPtr" title="WSMethodInvocationDeserializationProcPtr"></a><a name="//apple_ref/doc/c_ref/WSMethodInvocationDeserializationProcPtr" title="WSMethodInvocationDeserializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_8" title="WSMethodInvocationDeserializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_58"></a><h3 class="tight">WSMethodInvocationDeserializationProcPtr</h3><p class="spaceabove">This is an optional callback that handles custom deserialization of a particular data type for a method response.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( <a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> ,
   WSMethodInvocationDeserializationProcPtr )
   (<a href="../Types/Types.html#//apple_ref/doc/c_ref/WSMethodInvocationRef">WSMethodInvocationRef</a> invocation,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> msgRoot,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> deserializeRoot,
   void *info);
</pre></p><p>If your callback is named MyDeserilaizerCallback, declare it like this:</p><p><pre>
   CFTypeRef MyDeserilaizerCallback (
   <a href="../Types/Types.html#//apple_ref/doc/c_ref/WSMethodInvocationRef">WSMethodInvocationRef</a> invocation,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> msgRoot,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> deserializeRoot,
   void *info);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>invocation</em></dt><dd><p>The method invocation for which this callback handles deserialization.</p></dd><dt><em>msgRoot</em></dt><dd><p>The root element of the XML to be deserialized.</p></dd><dt><em>deserializeRoot</em></dt><dd><p>The tree element of the XML to be deserialized.</p></dd><dt><em>info</em></dt><dd><p>Private callback data.</p></dd></dl><h5 class="tight">Return Value</h5><p>A <code>CFTypeRef</code> representing the deserialized data. The caller will release this data. If you return <code>NULL</code>, the default deserializer is used.</p><h5 class="tight">Discussion</h5><p>This callback is passed a reference to the invocation currently being executed, the root of the response parse tree, the current node being deserialized, and a pointer to private data. The return result should be a valid <code>CFTypeRef</code> object (which will be released  by the caller) or <code>NULL</code> to allow the default deserializer to act. Unlike the serialization callback, which is called only for a specified data type, the deserialization callback is called for every element to be deserialized.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSMethodInvocation.h</code><a name="//apple_ref/c/tdef/WSMethodInvocationSerializationProcPtr" title="WSMethodInvocationSerializationProcPtr"></a><a name="//apple_ref/doc/c_ref/WSMethodInvocationSerializationProcPtr" title="WSMethodInvocationSerializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_7" title="WSMethodInvocationSerializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_59"></a><h3 class="tight">WSMethodInvocationSerializationProcPtr</h3><p class="spaceabove">This is an optional callback that handles custom serialization of a particular data type for method invocation.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> , WSMethodInvocationSerializationProcPtr )
   (<a href="../Types/Types.html#//apple_ref/doc/c_ref/WSMethodInvocationRef">WSMethodInvocationRef</a> invocation,
   <a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> obj,
   void *info);
</pre></p><p>If your callback is named MySerilaizerCallback, declare it like this:</p><p><pre>
   CFStringREf MySerilaizerCallback (
   <a href="../Types/Types.html#//apple_ref/doc/c_ref/WSMethodInvocationRef">WSMethodInvocationRef</a> invocation,
   <a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> obj,
   void *info);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>invocation</em></dt><dd><p>The method invocation for which this callback handles serialization.</p></dd><dt><em>obj</em></dt><dd><p>The CFTypeRef for which this callback produces serialized XML.</p></dd><dt><em>info</em></dt><dd><p>Private callback data.</p></dd></dl><h5 class="tight">Return Value</h5><p>A <code>CFStringRef</code> containing valid XML.  The caller of this callback will release the string. If you return <code>NULL</code>, the default serializer is used.</p><h5 class="tight">Discussion</h5><p>This callback is called whenever a type to be serialized by the method invocation has the given CFTypeID. The callback should return an XML snippet that will be understood by the server as a correct serialization for a given type.  If the callback returns <code>NULL</code>, the default serializer is used.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSMethodInvocation.h</code><a name="//apple_ref/c/tdef/WSProtocolHandlerDeserializationProcPtr" title="WSProtocolHandlerDeserializationProcPtr"></a><a name="//apple_ref/doc/c_ref/WSProtocolHandlerDeserializationProcPtr" title="WSProtocolHandlerDeserializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_11" title="WSProtocolHandlerDeserializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_60"></a><h3 class="tight">WSProtocolHandlerDeserializationProcPtr</h3><p class="spaceabove">This is an optional callback that handles custom deserialization of a particular data type for a protocol handler.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( <a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> ,
   WSProtocolHandlerDeserializationProcPtr )
   (<a href="../Types/Types.html#//apple_ref/doc/c_ref/WSProtocolHandlerRef">WSProtocolHandlerRef</a> protocol,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> msgRoot,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> deserializeRoot,
   void *info);
</pre></p><p>If your callback is named MyDeserilaizerCallback, declare it like this:</p><p><pre>
   CFTypeRef MyDeserilaizerCallback (
   <a href="../Types/Types.html#//apple_ref/doc/c_ref/WSProtocolHandlerRef">WSProtocolHandlerRef</a> protocol,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> msgRoot,
   <a href="../../CFXMLTreeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFXMLTreeRef" target="_top">CFXMLTreeRef</a> deserializeRoot,
   void *info);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>protocol</em></dt><dd><p>The protocol handler for which this callback handles deserialization.</p></dd><dt><em>msgRoot</em></dt><dd><p>The root element of the XML to be deserialized.</p></dd><dt><em>deserializeRoot</em></dt><dd><p>The tree element of the XML to be deserialized.</p></dd><dt><em>info</em></dt><dd><p>Private callback data.</p></dd></dl><h5 class="tight">Return Value</h5><p>A <code>CFTypeRef</code> representing the deserialized data. The caller will release this data. If you return <code>NULL</code>, the default deserializer is used.</p><h5 class="tight">Discussion</h5><p>This callback is passed a reference to the invocation currently being executed, the root of the response parse tree, the current node being deserialized, and a pointer to private data. The return result should be a valid <code>CFTypeRef</code> object (which will be released  by the caller) or <code>NULL</code> to allow the default deserializer to act. Unlike the serialization callback, which is called only for a specified data type, the deserialization callback is called for every element to be deserialized.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSProtocolHandler.h</code><a name="//apple_ref/c/tdef/WSProtocolHandlerSerializationProcPtr" title="WSProtocolHandlerSerializationProcPtr"></a><a name="//apple_ref/doc/c_ref/WSProtocolHandlerSerializationProcPtr" title="WSProtocolHandlerSerializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_10" title="WSProtocolHandlerSerializationProcPtr"></a><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_61"></a><h3 class="tight">WSProtocolHandlerSerializationProcPtr</h3><p class="spaceabove">This is an optional callback that handles custom serialization of a particular data type for a protocol handler.</p><p class="spaceabove"><pre>
typedef CALLBACK_API( <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> , WSProtocolHandlerSerializationProcPtr )
   (<a href="../Types/Types.html#//apple_ref/doc/c_ref/WSProtocolHandlerRef">WSProtocolHandlerRef</a> protocol,
   <a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> obj,
   void *info);
</pre></p><p>If your callback is named MySerilaizerCallback, declare it like this:</p><p><pre>
   CFStringREf MySerilaizerCallback (
   <a href="../Types/Types.html#//apple_ref/doc/c_ref/WSProtocolHandlerRef">WSProtocolHandlerRef</a> protocol,
   <a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> obj,
   void *info);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>protocol</em></dt><dd><p>The protocol handler for which this callback handles serialization.</p></dd><dt><em>obj</em></dt><dd><p>The CFTypeRef for which this callback produces serialized XML.</p></dd><dt><em>info</em></dt><dd><p>Private callback data.</p></dd></dl><h5 class="tight">Return Value</h5><p>A <code>CFStringRef</code> containing valid XML.  The caller of this callback will release the string. If you return <code>NULL</code>, the default serializer is used.</p><h5 class="tight">Discussion</h5><p>This callback is called whenever a type to be serialized by the protocol handler has the given CFTypeID. The callback should return an XML snippet that will be understood by the server as a correct serialization for a given type.  If the callback returns <code>NULL</code>, the default serializer is used.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40008090-CH102-DontLinkElementID_47" title="Important:"></a><p><strong>Important:</strong>&nbsp;For SOAP serializations, the parameter key (element name) is not part of the callback; it will be substituded for all occurances of "%@" in the returned string.</p><p></p></div><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>WSProtocolHandler.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><!-- Next button --></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-01-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/CoreFoundation/Reference/WebServicesReference/CallBacks/CallBacks.html%3Fid%3DTP40008090-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/CoreFoundation/Reference/WebServicesReference/CallBacks/CallBacks.html%3Fid%3DTP40008090-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/CoreFoundation/Reference/WebServicesReference/CallBacks/CallBacks.html%3Fid%3DTP40008090-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>