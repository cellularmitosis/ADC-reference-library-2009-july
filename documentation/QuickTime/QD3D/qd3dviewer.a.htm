<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Attaching Data to a Viewer</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3175"> </A>Attaching Data to a Viewer</H1><P CLASS="T1.Text1"><A NAME="pgfId=3176"> </A><A NAME="marker=2153"> </A>You specify the 3D model to be displayed in a viewer pane's picture area by calling either the <TT CLASS="cv">Q3ViewerUseFile</TT> or <TT CLASS="cv">Q3ViewerUseData</TT> function. <TT CLASS="cv">Q3ViewerUseFile</TT> takes a reference to an existing viewer object and a file reference number of an open metafile, as follows:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=11417"> </A>myErr = Q3ViewerUseFile(myViewer, myFsRefNum);<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3178"> </A>You use the <TT CLASS="cv">Q3ViewerUseData</TT> function to specify a 3D model whose data is already in memory (either on the Clipboard or elsewhere in RAM). <TT CLASS="cv">Q3ViewerUseData</TT> takes a reference to an existing viewer object, a pointer to the metafile data in RAM, and the number of bytes occupied by that data. Here's an example of calling <TT CLASS="cv">Q3ViewerUseData</TT>:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=11421"> </A>myErr = Q3ViewerUseData(myViewer, myDataPtr, myDataSize);<BR></CODE><P CLASS="I.Important"><A NAME="pgfId=3180"> </A>The data in the buffer whose address and size you pass to <TT CLASS="cv">Q3ViewerUseData</TT> must be in the QuickDraw&nbsp;3D Object Metafile format. </P><P CLASS="T1.Text1"><A NAME="pgfId=1923"> </A>Once you attach the metafile data to a visible viewer object, the user is able to see the 3D model in the viewer pane. If, however, the viewer pane was invisible when it was created, you need to call the <TT CLASS="cv">Q3ViewerDraw</TT> function to make it visible.</P><P CLASS="T1.Text1"><A NAME="pgfId=1961"> </A>The 3D&nbsp;Viewer treats the model data as a single group. You can get a reference to the model data currently displayed in the viewer's picture area by calling the <TT CLASS="cv">Q3ViewerGetGroup</TT> function. You can change that model data by calling the <TT CLASS="cv">Q3ViewerUseGroup</TT> function.</P><P CLASS="T1.Text1"><A NAME="pgfId=1962"> </A>You can also retrieve the view object associated with a viewer object by calling the <TT CLASS="cv">Q3ViewerGetView</TT> function. You can then modify some of the view settings, such as the lights or the camera. If you wish, you can also restore the view settings to their original values by calling the <TT CLASS="cv">Q3ViewerRestoreView</TT> function.<A NAME="marker=2154"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3148"> </A>In versions 1.1 and later, your application can also set the viewer to display one of several predefined points of view by calling the <TT CLASS="cv">Q3ViewerSetCameraByView</TT> and <TT CLASS="cv">Q3ViewerSetCameraByNumber</TT> functions.</P><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>