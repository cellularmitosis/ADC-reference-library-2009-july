<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The TextEdit Private, Null, and Style Scraps(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING47></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-46.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-48.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-40.html"><B>Chapter 2 - TextEdit</B></A> / <A HREF="Text-41.html"><B>About TextEdit</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING47-0></A>
<H2><A NAME=MARKER-9-95></A>The TextEdit Private, Null, and Style Scraps</H2>
 There are three scrap areas that TextEdit uses exclusively: the TextEdit private scrap, the Tex<A NAME=MARKER-9-9></A>tEdit null<A NAME=MARKER-2-404></A> scrap, and th<A NAME=MARKER-2-255></A>e TextEdit style scrap. The TextEdit routines use all of these scraps to hold transient information.<P>
 TextEdit uses the<B> private scrap</B> for all cut, copy, and paste activity whether the text is multist<A NAME=MARKER-2-275></A>yled or monostyled. The private scrap belongs to the application. When the text is multistyled, TextEdit also copies the text to the Scrap Manager's <A NAME=MARKER-2-11></A>desk scrap.<P>
 TextEdit uses the <B>null scrap</B> to store character attribute information associated with a null selection (an insertion point) or text that is deleted when the user backspaces over it. The null scrap belongs to the multistyled edit record. Character attribute information stored in the null scrap is retained until it is used, for example, when applied to newly inserted text, or until some other editing action renders it unnecessary, such as when TextEdit sets a new selection range. A number of routines that deal with multistyled text check the null scrap for character attribute information and, if there is any, apply it to newly inserted text when character attributes for that text are not available.<A NAME=MARKER-2-319></A><P>
 When you cut or copy multistyled text, memory is allocated dynamically for the <B>style scrap</B> and the character attribute information is copied to it. Your application can also use the style scrap for other purposes. For example, to save and restore multistyled text both the text and the associated character attribute information must be preserved; you can save character attributes associated with a range of text in the style scrap. Also, you can create a style scrap record and store character attribute information in it to be applied to inserted text. Your application can create as many style scraps as it needs. For more information, see the discussion of the style scrap record under <A HREF=Text-57.html#MARKER-9-349>"Data Structures" on page 2-60</A>.<P>
 As part of TextEdit initialization, <A NAME=MARKER-2-207></A><CODE>TEInit</CODE> creates the private scrap and allocates a handle to it.<A NAME=MARKER-2-853></A> TextEdit creates and initializes a null scrap for a multistyled edit record when an application calls <CODE>TEStyle<A NAME=MARKER-2-73></A>New</CODE> to create the edit record. (The null scrap remains throughout the life of the edit record: it is disposed of when the application calls <A NAME=MARKER-2-219></A><CODE>TEDispose</CODE> to destroy the edit record and release the memory allocated for it.) TextEdit allocates memory used for the style scrap dynamically when your application calls a routine that uses it.<P>
<DL>
<DT><B>Note</B>
<DD>Because these scraps are in RAM, they are volatile, and a power failure can cause the data in a scrap to be lost.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-46.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-48.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
