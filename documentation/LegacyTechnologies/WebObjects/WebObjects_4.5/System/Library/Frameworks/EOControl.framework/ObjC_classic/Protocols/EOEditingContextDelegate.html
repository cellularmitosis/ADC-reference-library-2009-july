<HTML>		<HEAD>		<TITLE>			EOEditingContext Delegate		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "CBAIDIFA"><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/occ/intf/EOEditingContext Delegate">EOEditingContext Delegate</a></FONT></h1><br></a><blockquote><b>(informal protocol)</b></blockquote><blockquote><dl><b>Declared in: </b><dd>EOControl/EOEditingContext.h</dd></dl></blockquote><br><br><HR SIZE=4><h2>Protocol Description</h2><hr><p>The  <a frame= "conv" href="#CBAIDIFA">EOEditingContext Delegate</a> informalprotocol defines methods that an EOEditingContext can invoke inits delegate. Delegates are not required to provide implementationsfor all of the methods in the informal protocol. Instead, declareand implement any subset of the methods declared in the informalprotocol that you need, and use the EOEditingContext method  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/setDelegate:">setDelegate:</a> method to assign yourobject as the delegate. An editing context can determine if thedelegate doesn't implement a delegate method and only attemptsto invoke the methods the delegate actually implements.</p><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Fetching objects</dt><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldFetchObjectsDescribedByFetchSpecification:">- editingContext:shouldFetchObjectsDescribedByFetchSpecification:</a></dd></dl><dl><dt>Invalidating objects</dt><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldInvalidateObject:globalID:">- editingContext:shouldInvalidateObject:globalID:</a></dd></dl><dl><dt>Saving changes</dt><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextWillSaveChanges:">- editingContextWillSaveChanges:</a></dd></dl><dl><dt>Handling failures</dt><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextShouldValidateChanges:">- editingContextShouldValidateChanges:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldPresentException:">- editingContext:shouldPresentException:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextShouldUndoUserActionsAfterFailure:">- editingContextShouldUndoUserActionsAfterFailure:</a></dd></dl><dl><dt>Merging changes</dt><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldMergeChangesForObject:">- editingContext:shouldMergeChangesForObject:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextDidMergeChanges:">- editingContextDidMergeChanges:</a></dd></dl></blockquote><BR><BR><h2>Instance Methods</h2><hr><a name = "CJDBCCIJ"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextDidMergeChanges:">editingContextDidMergeChanges:</a></h3></a><p><code>- (void)<b>editingContextDidMergeChanges:</b>(EOEditingContext*)<em>anEditingContext</em></code></p><p>Invoked once after a batch of objectshas been updated in <em>anEditingContext</em>'sparent object store (in response to an  <a frame= "conv" href="../Classes/EOEditingContext.html#BIDDDACJ">EOObjectsChangedInStoreNotification</a>).A delegate might implement this method to define custom mergingbehavior, most likely in conjunction with  <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldMergeChangesForObject:">editingContext:shouldMergeChangesForObject:</a>.It is safe for this method to make changes to the objects in theediting context.</p><hr WIDTH=25% ALIGN=LEFT><a name = "CJDCEGEJ"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldFetchObjectsDescribedByFetchSpecification:">editingContext:shouldFetchObjectsDescribedByFetchSpecification:</a></h3></a><p><code>- (NSArray *)<b>editingContext:</b>(EOEditingContext*)<em>editingContext</em><b>shouldFetchObjectsDescribedByFetchSpecification:</b>(EOFetchSpecification*)<em>fetchSpecification</em></code></p>Invoked from  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/objectsWithFetchSpecification:editingContext:">objectsWithFetchSpecification:editingContext:</a>.If the delegate has appropriate results cached it can return themand the fetch will be bypassed. Returning nil causes the fetch tobe propagated to the parent object store.<hr WIDTH=25% ALIGN=LEFT><a name = "CJDCIAEG"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldInvalidateObject:globalID:">editingContext:shouldInvalidateObject:globalID:</a></h3></a><p><code>- (BOOL)<b>editingContext:</b>(EOEditingContext*)<em>anEditingContext</em><b>shouldInvalidateObject:</b>(id)<em>object</em><b>globalID:</b>(EOGlobalID *)<em>globalID</em></code></p><p>Sent when an <em>object</em> identifiedby <em>globalID</em> has been explicitly invalidated.If the delegate returns NO, the invalidation is refused. This allowsthe delegate to selectively override object invalidations. </p><p><b>See Also: </b>  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/invalidateAllObjects">- invalidateAllObjects</a>,  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/revert">- revert</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CJDCBGGD"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldMergeChangesForObject:">editingContext:shouldMergeChangesForObject:</a></h3></a><p><code>- (BOOL)<b>editingContext:</b>(EOEditingContext*)<em>anEditingContext</em><b>shouldMergeChangesForObject:</b>(id)<em>object</em></code></p><p>When an  <a frame= "conv" href="../Classes/EOObjectStore.html#CJDDGBEC">EOObjectsChangedInStoreNotification</a> isreceived, <em>anEditingContext</em> invokesthis method in its delegate once for each of the objects that hasboth uncommitted changes and an update from the EOObjectStore. Thismethod is invoked before any updates actually occur.</p><p>If this method returns YES, all of the uncommitted changesshould be merged into the object after the update is applied, ineffect preserving the uncommitted changes (the default behavior).The delegate method  <a frame= "conv" href="#//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldInvalidateObject:globalID:">editingContext:shouldInvalidateObject:globalID:</a> willnot be sent for the object in question.</p><p>If this method returns NO, no uncommitted changes are applied.Thus, the object is updated to reflect the values from the databaseexactly. This method should not make any changes to the object sinceit is about to be invalidated.</p><p>If you want to provide custom merging behavior, you need toimplement both this method and <b>editingContextDidMergeChanges:</b>.You use <b>editingContext:shouldMergeChangesForObject:</b> tosave information about each changed object and return YES to allowmerging to continue. After the default merging behavior occurs, <b>editingContextDidMergeChanges:</b> isinvoked, at which point you implement your custom behavior.</p><hr WIDTH=25% ALIGN=LEFT><a name = "editingContextShouldPresentExceptioneditingContext_shouldPresentException_"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContext:shouldPresentException:">editingContext:shouldPresentException:</a></h3></a><p><code>- (BOOL)<b>editingContext:</b>(EOEditingContext*)<em>anEditingContext</em><b>shouldPresentException:</b>(NSException*)<em>exception</em></code></p>Sent whenever an exception is caught by an EOEditingContext.If the delegate returns NO, <em>exception</em> is ignored.Otherwise (if the delegate returns YES, if the editing context doesn'thave a delegate, or if the delegate doesn't implement this method) <em>exception</em> ispassed to the message handler for further processing, <p><b>See Also: </b>  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/messageHandler">- messageHandler</a> </p><hr WIDTH=25% ALIGN=LEFT><a name = "CJDCIEGH"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextShouldUndoUserActionsAfterFailure:">editingContextShouldUndoUserActionsAfterFailure:</a></h3></a><p><code>- (BOOL)<b>editingContextShouldUndoUserActionsAfterFailure:</b>(EOEditingContext*)<em>anEditingContext</em></code></p><p>Sent when a validation error occurs whileprocessing a  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/processRecentChanges">processRecentChanges</a> message.If the delegate returns NO, it disables the automatic undoing ofuser actions after validation has resulted in an error. </p><p>By default, if a user attempts to perform an action that resultsin a validation failure (such as deleting a department object thathas a delete rule stating that the department can't be deletedif it contains employees), the user's action is immediately rolledback. However, if this delegate method returns NO, the user actionis allowed to stand (though attempting to save the changes to thedatabase without solving the validation error will still resultin a failure). Returning NO gives the user an opportunity to correctthe validation problem so that the operation can proceed (for example,the user might delete all of the department's employees so thatthe department itself can be deleted).</p><hr WIDTH=25% ALIGN=LEFT><a name = "editingContextShouldValidateChanges_"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextShouldValidateChanges:">editingContextShouldValidateChanges:</a></h3></a><p><code>- (BOOL)<b>editingContextShouldValidateChanges:</b>(EOEditingContext*)<em>anEditingContext</em></code></p>Sent when an EOEditingContext receives a  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/saveChanges">saveChanges</a> message. If the delegatereturns NO, changes are saved without first performing validation.This method can be useful if the delegate wants to provide its ownvalidation mechanism. <hr WIDTH=25% ALIGN=LEFT><a name = "editingContextWillSaveChanges_"><BR><h3><a name="//apple_ref/occ/intfm/EOEditingContext Delegate/editingContextWillSaveChanges:">editingContextWillSaveChanges:</a></h3></a><p><code>- (void)<b>editingContextWillSaveChanges:</b>(EOEditingContext*)<em>editingContext</em></code></p>Sent when an EOEditingContext receives a  <a frame= "conv" href="../Classes/EOEditingContext.html#//apple_ref/occ/instm/EOEditingContext/saveChanges">saveChanges</a> message. The delegatecan raise an exception to abort the save operation. <hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>