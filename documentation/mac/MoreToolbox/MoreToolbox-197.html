<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Rectangle Help Resource (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING197></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-196.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-198.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-138.html"><B>Chapter 3 - Help Manager</B></A> / <A HREF="MoreToolbox-157.html"><B>Help Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-194.html"><B>Resources</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING197-0></A>
<H3>The Rectangle Help Resource</H3>
 <A NAME=MARKER-2-541></A>You can use a rectangle help resource to define hot rectangles for displaying help balloons within a static window, and to specify the help messages for those balloons. A rectangle help resource is a resource of type <CODE>'hrct'</CODE>. All <CODE>'hrct'</CODE> resources must have resource IDs greater than 128.<P>
 To associate the hot rectangles and help messages defined in an <CODE>'hrct'</CODE> resource with a particular window, you must also create a window help (<CODE>'hwin'</CODE>) resource, which is described in <A HREF=MoreToolbox-151.html#MARKER-9-291>"Associating Help Resources With Static Windows" on page 3-63</A>.<P>
 The format of a Rez input file for an <CODE>'hrct'</CODE> resource differs from its compiled output form. This section describes the structure of a Rez-compiled <CODE>'hrct'</CODE> resource. If you are concerned only with creating <CODE>'hrct'</CODE> resources, see <A HREF=MoreToolbox-150.html#MARKER-9-288>"Specifying Help for Rectangles in Windows" on page 3-62</A> for a detailed description of how to use Rez input files to create <CODE>'hrct'</CODE> resources.<P>
 An <CODE>'hrct'</CODE> resource consists of a header component and a variable number of hot-rectangle components. <A HREF=#MARKER-9-542>Figure 3-35</A> shows the general structure of a compiled <CODE>'hrct'</CODE> resource.<P>
<B>Figure 3-35  <A NAME=MARKER-9-542></A>Structure of a compiled rectangle help (<CODE>'hrct'</CODE>) resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-L-35.jpg">
 If you examine a compiled version of an <CODE>'hrct'</CODE> resource, you find that the header component consists of the following elements:<P>
<UL>
<LI>Help Manager version. The version of the Help Manager to use. This is usually specified in a Rez input file with the <CODE>HelpMgrVersion</CODE> constant.
<LI>Options. The sum of the values of available options, described in <A HREF=MoreToolbox-146.html#MARKER-9-146>"Specifying Options in Help Resources" beginning on page 3-22</A>.
<LI>Balloon definition function. The resource ID of the window definition function used for drawing the help balloon. The standard balloon definition function is of type <CODE>'WDEF'</CODE> with resource ID 126; this can be specified by 0 in the Rez input file.
<LI>Variation code. A number signifying the preferred position of the help balloon relative to the hot rectangle. The balloon definition function draws the frame of the help balloon based on the variation code specified here. The eight variation codes and how they affect the standard balloon definition function are illustrated in <A HREF=MoreToolbox-140.html#MARKER-9-48>Figure 3-4 on page 3-9</A>.
<LI>Hot-rectangle component count. The number of hot-rectangle components defined in the rest of this resource.<P>
</UL>
 The Help Manager determines the end of the <CODE>'hrct'</CODE> resource by using the component count information in the header component.<P>
 The structures of the hot-rectangle components depend on identifiers specified inside the components. The identifiers used in a Rez input file are described in <A HREF=MoreToolbox-145.html#MARKER-9-122>"Specifying the Format for Help Messages" on page 3-21</A>.<P>
 <A HREF=#MARKER-9-543>Figure 3-36</A> shows the structure of a component that stores its help message as a Pascal string within the <CODE>'hrct'</CODE> resource itself. <P>
<B>Figure 3-36  <A NAME=MARKER-9-543></A>Structure of an <CODE>'hrct'</CODE> component compiled with the <CODE>HMStringItem</CODE> identifier</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-L-36.jpg">
 If you examine a compiled version of an <CODE>'hrct'</CODE> resource, you find that a component identified in a Rez input file by the <CODE>HMStringItem</CODE> identifier consists of the following elements:<P>
<UL>
<LI>Size. The number of bytes contained in this component.
<LI>Type of data. The value 1 is specified here when the help message is stored as a Pascal string within this component.
<LI>Tip's coordinates. The coordinates of the help balloon's tip. The tip's coordinates are local to the window.
<LI>Hot rectangle. The coordinates (local to the window) of a rectangle. The Help Manager displays a help message when the user moves the cursor over this rectangle.
<LI>Text string. The help message that the Help Manager displays when the user moves the cursor over the hot rectangle.
<LI>Alignment bytes. Zero or one bytes used to make the previous text strings end on a word boundary.<P>
</UL>
 <A HREF=#MARKER-9-544>Figure 3-37</A> shows the structure of a hot-rectangle component that specifies its help message as a text string stored in a string list (<CODE>'STR#'</CODE>) resource. <P>
<B>Figure 3-37  <A NAME=MARKER-9-544></A>Structure of an <CODE>'hrct'</CODE> component compiled with the <CODE>HMStringResItem</CODE> identifier</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-L-37.jpg">
 If you examine a compiled version of an <CODE>'hrct'</CODE> resource, you find that a component identified in a Rez input file by the <CODE>HMStringResItem</CODE> identifier consists of the following elements:<P>
<UL>
<LI>Size. The number of bytes contained in this component.
<LI>Type of data. The value 3 is specified here when the help message for this component is stored in an <CODE>'STR#'</CODE> resource.
<LI>Tip's coordinates. The coordinates of the help balloon's tip. The tip's coordinates are local to the window.
<LI>Hot rectangle. The coordinates (local to the window) of a rectangle. The Help Manager displays a help message when the user moves the cursor over this rectangle.
<LI>Resource ID. The resource ID of an <CODE>'STR#'</CODE> resource. 
<LI>Index into the string list resource. A number used as an index to a particular text string within the <CODE>'STR#'</CODE> resource. When the user moves the cursor over the hot rectangle, the Help Manager displays this text string for the help message.<P>
</UL>
 <A HREF=#MARKER-9-545>Figure 3-38</A> shows the structure of a hot-rectangle component that specifies its help message in a picture (<CODE>'PICT'</CODE>) resource, in styled text (<CODE>'TEXT'</CODE> and <CODE>'styl'</CODE>) resources, or in a string (<CODE>'STR '</CODE>) resource. <P>
<B>Figure 3-38  <A NAME=MARKER-9-545></A>Structure of an <CODE>'hrct'</CODE> component compiled with the <CODE>HMPictItem</CODE>, <CODE>HMTEResItem</CODE>, or <CODE>HMSTRResItem</CODE> identifier</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-L-38.jpg">
 If you examine a compiled version of an <CODE>'hrct'</CODE> resource, you find that a component identified in a Rez input file by either the <CODE>HMPictItem</CODE>, <CODE>HMTEResItem</CODE>, or <CODE>HMSTRResItem</CODE> identifier consists of the following elements:<P>
<UL>
<LI>Size. The number of bytes contained in this component.
<LI>Type of data.<P>
<UL>
<LI>The value 2 is specified here when the help message for this component is stored in a <CODE>'PICT'</CODE> resource.
<LI>The value 6 is specified here when the help message for this component is stored as styled text--that is, in both <CODE>'TEXT'</CODE> and <CODE>'styl'</CODE> resources.
<LI>The value 7 is specified here when the help message for this component is stored in an <CODE>'STR '</CODE> resource.<P>
</UL>
<LI>Tip's coordinates. The coordinates of the help balloon's tip. The tip's coordinates are local to the window.
<LI>Hot rectangle. The coordinates (local to the window) of a rectangle. The Help Manager displays a help message when the user moves the cursor over this rectangle.
<LI>Resource ID.<P>
<UL>
<LI>The resource ID of a <CODE>'PICT'</CODE> resource when the value 2 is specified as the type of data. When the user moves the cursor over the hot rectangle, the Help Manager displays the picture stored in this resource for the help message.
<LI>The resource ID common to both a <CODE>'TEXT'</CODE> and an <CODE>'styl'</CODE> resource when the value 6 is specified as the type of data. When the user moves the cursor over the hot rectangle, the Help Manager displays the styled text specified in these resources for the help message.
<LI>The resource ID of an <CODE>'STR '</CODE> resource when the value 7 is specified as the type of data. When the user moves the cursor over the hot rectangle, the Help Manager uses the text string stored in this resource for the help message.<P>
</UL>
</UL>
 <A HREF=#MARKER-9-546>Figure 3-39</A> shows the structure of a hot-rectangle component that doesn't specify a help message. <P>
<B>Figure 3-39  <A NAME=MARKER-9-546></A>Structure of an <CODE>'hrct'</CODE> component compiled with the <CODE>HMSkipItem</CODE> identifier</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/HM-L-39.jpg">
 If you examine a compiled version of an <CODE>'hrct'</CODE> resource, you find that a component identified by the <CODE>HMSkipItem</CODE> identifier consists of the following elements:<P>
<UL>
<LI>Size. The value 4, for the number of bytes contained in this component.
<LI>Type of data. The value 256.
<LI>Tip's coordinates. In this instance, the Help Manager does not use this information because it does not display a help balloon.
<LI>Hot rectangle. The coordinates (local to the window) of a rectangle that is to be skipped. When the user moves the cursor over this rectangle, the Help Manager does <I>not</I> display any help messages.<A NAME=MARKER-2-547></A><P>
</UL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-196.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-198.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
