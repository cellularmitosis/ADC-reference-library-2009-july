<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Writing Data to a File Object</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3171"> </A><A NAME="marker=11652"> </A><A NAME="27256"> </A>Writing Data to a File Object</H1><P CLASS="T1.Text1"><A NAME="pgfId=3176"> </A><A NAME="marker=3172"> </A>To write a model or other 3D data into a file conforming to the QuickDraw&nbsp;3D Object Metafile format, you can use submit calls (such as <TT CLASS="cv">Q3Object_Submit</TT>) with an open file object that is attached to a storage object. Depending on the complexity of the model and the amount of available memory, QuickDraw&nbsp;3D might need to traverse the model more than once to write the data to the target physical storage device. Accordingly, you should perform all write operations within a <B CLASS="bold">writing loop,</B> bracketed by calls to <TT CLASS="cv">Q3View_StartWriting</TT> and <TT CLASS="cv">Q3View_EndWriting</TT>. <A HREF="qd3dfileobj.9.htm#29804" CLASS="XRef">Listing&nbsp;6</A> illustrates a simple writing loop.<A NAME="marker=3183"> </A></P><P CLASS="L.Listing"><A NAME="pgfId=3185"> </A>Listing&nbsp;6<A NAME="29804"> </A>Writing 3D data to a file object</P><CODE CLASS="Cv.Code"><A NAME="pgfId=11656"> </A>Q3View_StartWriting(myView, myFileObj);<BR>do {<BR>&nbsp;&nbsp;&nbsp;&nbsp;Q3Object_Submit(myModel, myView);<BR>&nbsp;&nbsp;&nbsp;&nbsp;Q3Polyline_Submit(&amp;myAnimatedData, myView);<BR>&nbsp;&nbsp;&nbsp;&nbsp;Q3TriGrid_Submit(&amp;myBumpExtrapolationGrid, myView);<BR>} while (Q3View_EndWriting(myView) == kQ3ViewStatusRetraverse);<BR></CODE><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>