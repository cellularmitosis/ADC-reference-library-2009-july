<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>MyEventHandler(IM:IC)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING191></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="IAC-190.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-192.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="IAC-2.html"><B>Interapplication Communication</B></A> / <BR><DD><A HREF="IAC-115.html"><B>Chapter 4 - Responding to Apple Events</B></A> / <A HREF="IAC-130.html"><B>Reference to Responding to Apple Events</B></A><BR><DL><DD><A HREF="IAC-190.html"><B>Application-Defined Routines</B></A> / <A HREF="IAC-188.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING191-0></A>
<H3><A NAME=MARKER-9-619></A>MyEventHandler</H3>
 An Apple event handler has the following syntax:<A NAME=MARKER-9-155></A><P>
<PRE>
FUNCTION MyEventHandler (theAppleEvent: AppleEvent; 
                         reply: AppleEvent; 
                         handlerRefcon: LongInt): OSErr;
</PRE>
<DL>
<DT><CODE>theAppleEvent</CODE>
<DD> The Apple event to handle.
<DT><CODE>reply</CODE>
<DD> The default reply Apple event provided by the Apple Event Manager.
<DT><CODE>handlerRefcon</CODE>
<DD> The reference constant stored in the Apple event dispatch table for the Apple event.
</DL>
<A NAME=HEADING191-6></A>
<H5>DESCRIPTION</H5>
 An Apple event handler should extract any parameters and attributes from the Apple event, perform the requested action, and add parameters to the reply Apple event if appropriate. <P>
 Your handler should always set its function result to <CODE>noErr</CODE> if it successfully handles the Apple event. If an error occurs, your handler should return either <CODE>errAEEventNotHandled</CODE> or some other nonzero result code. If the error occurs because your application cannot understand the event, return <CODE>errAEEventNotHandled</CODE>, in case a handler in the system special handler or system Apple event dispatch tables might be able to handle the event. If the error occurs because the event is impossible to handle as specified, return the result code returned by whatever function caused the failure, or whatever other result code is appropriate.<P>
 For example, suppose your application receives a Get Data event that requests the name of the current printer, and your application cannot handle such an event. In this situation, you should return <CODE>errAEEventNotHandled</CODE> in case another handler available to the Apple Event Manager can handle the event. This strategy allows users to take advantage of system capabilities from within your application via system handlers. <P>
 However, if your application cannot handle a Get Data event that requests the fifth paragraph in a document because the document contains only four paragraphs, you should return some other nonzero error, because further attempts to handle the event are pointless.<P>
 If your Apple event handler calls the <CODE>AEResolve</CODE> function and <CODE>AEResolve</CODE> calls an object accessor function in the system object accessor dispatch table, your Apple event handler may not recognize the descriptor type of the token returned by the function. In this case, your handler should return the result code <CODE>errAEUnknownObjectType</CODE>. When your handler returns this result code, the Apple Event Manager attempts to locate a system Apple event handler that can recognize the token. <P>
<A NAME=HEADING191-12></A>
<H5>SEE ALSO</H5>
 For more information about Apple event handlers, see <A HREF=IAC-122.html#MARKER-9-341>"Writing Apple Event Handlers" on page 4-33</A>.<P>
 For a discussion of the dispatching of object accessor functions and the use of the result code <CODE>errAEUnknownObjectType</CODE>, see <A HREF=IAC-239.html#MARKER-9-132>"Installing Entries in the Object Accessor Dispatch Tables,"</A> which begins on <A HREF=IAC-239.html#MARKER-9-132>page 6-21</A>. <A NAME=MARKER-2-62></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="IAC-190.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-192.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="IAC-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
