<HTML>		<HEAD>		<TITLE>			EOKeyValueCoding		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a><a name = "CIACHFGJ"></a><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/java/intf/EOKeyValueCoding">EOKeyValueCoding</a></FONT></h1><br><blockquote><dl><b>Implemented by: </b><dd>EOKeyValueCodingAdditions</dd><dd>EOEnterpriseObject</dd><dd>EOCustomObject</dd><dd>EOGenericRecord</dd></dl></blockquote><blockquote><dl><dt><b>Implements: </b></dt><dd>(com.apple.client.eocontrol only) NSKeyValueCoding</dd></dl></blockquote><blockquote><dl><dt><b>Package: </b></dt><dd>com.apple.client.eocontrol</dd><dd>com.apple.yellow.eocontrol</dd></dl></blockquote><HR SIZE=4><h2>Interface Description</h2><hr><p>The EOKeyValueCoding interface defines Enterprise ObjectsFramework's main data transport mechanism, in which the propertiesof an object are accessed indirectly by name (or <em>key</em>),rather than directly through invocation of an accessor method oras instance variables. Thus, all of an object's properties canbe accessed in a consistent manner. EOCustomObject and EOGenericRecord provide defaultimplementations of EOKeyValueCoding, which are sufficient for mostpurposes.</p><p>The basic methods for accessing an object's values are  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a>,which sets the value for the property identified by the specifiedkey, and  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/valueForKey">valueForKey</a>,which returns the value for the property identified by the specifiedkey. The default implementations provided by EOCustomObject usethe accessor methods normally implemented by objects (or to accessinstance variables directly if need be), so that you don't haveto write special code simply to integrate your objects into theEnterprise Objects Framework.</p><p>The corresponding methods  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeStoredValueForKey">takeStoredValueForKey</a> and  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/storedValueForKey">storedValueForKey</a> aresimilar, but they're considered to be a private API, for use bythe Framework for transporting data to and from <em>trusted</em>  sources.For example, <code>takeStoredValueForKey</code> is usedto initialize an object's properties with values fetched fromthe database, whereas <code>takeValueForKey</code> isused to modify an object's properties to values provided by auser or other business logic. How these methods work and how they'reused by the framework is discussed in more detail in the section  <a href="More/EOKeyValueCoding.html#BADCCAHA">"Stored Value Methods"</a>.</p><p>The remaining methods,  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleQueryWithUnboundKey">handleQueryWithUnboundKey</a>,  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a>,and  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/unableToSetNullForKey">unableToSetNullForKey</a>,are provided to handle error conditions. The default versions of  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleQueryWithUnboundKey">handleQueryWithUnboundKey</a> and  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a> throw anexception.</p><p>For more information on EOKeyValueCoding, see the sections:</p><ul><li> <a href="More/EOKeyValueCoding.html#BADCCAHA">"Stored Value Methods"</a></li><li> <a href="More/EOKeyValueCoding.html#BADCJJIH">"Type Checking and Type Conversion"</a></li></ul><br><br><h2>Constants</h2><hr><p>EOKeyValueCoding defines the following <code>int</code> constants tobe used as possible arguments for the  <a href="EOKeyBindingCreation.html#//apple_ref/java/intfm/EOKeyValueCoding.KeyBindingCreation/createKeyValueBindingForKey">createKeyValueBindingForKey</a> and  <a href="EOKeyBindingCreation.html#//apple_ref/java/intfm/EOKeyValueCoding.KeyBindingCreation/keyValueBindingForKey">keyValueBindingForKey</a> methods. Theargument indicates whether the return value, a  <a href="../Classes/EOKeyBinding.html#CHCBGIID">EOKeyValueCoding.KeyBinding</a> object,binds a class/key pair to a mechanism to set the value for a keyor to retrieve it.</p><br><table border = "1"><tr><td scope="row"><b>Constant</b></td><td><b>Description</b></td></tr><tr><td scope="row"><a name = "BADEADGD"></a><tt>SetKeyBindingMask</tt></td><td>Designatesa binding as one responsible for setting an object's value.</td></tr><tr><td scope="row"><a name = "BADCCJBJ"></a><tt>StoredKeyBindingMask</tt></td><td>Designatesa binding as one responsible for retrieving an object's value.</td></tr></table><br><br><br><h2>Interfaces Implemented</h2><hr><blockquote><dl>NSKeyValueCoding(com.apple.client.eocontrol only)<dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a></dd><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/valueForKey">valueForKey</a></dd></dl></blockquote><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Accessing values</dt><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/storedValueForKey">storedValueForKey</a></dd><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeStoredValueForKey">takeStoredValueForKey</a></dd><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a></dd><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/valueForKey">valueForKey</a></dd></dl><dl><dt>Handling error conditions</dt><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleQueryWithUnboundKey">handleQueryWithUnboundKey</a></dd><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a></dd><dd> <a href="#//apple_ref/java/intfm/EOKeyValueCoding/unableToSetNullForKey">unableToSetNullForKey</a></dd></dl></blockquote><BR><BR><h2>Instance Methods</h2><hr><a name = "BEDCGBIA"></a><BR><h3><a name="//apple_ref/java/intfm/EOKeyValueCoding/handleQueryWithUnboundKey">handleQueryWithUnboundKey</a></h3><p><code>public abstract Object <code>handleQueryWithUnboundKey</code>(String <em>key</em>)</code></p>Invoked from  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/valueForKey">valueForKey</a> when it finds no propertybinding for <em>key.</em>  EOCustomObject's implementation throws an exception.Subclasses can override this method to handle the query in some otherway.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BEDCFBCC"></a><BR><h3><a name="//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a></h3><p><code>public abstract void <code>handleTakeValueForUnboundKey</code>(Object <em>value,</em> String <em>key</em>)</code></p>Invoked from  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a> when it finds noproperty binding for <em>key.</em>  EOCustomObject's implementation throwsan exception. Subclasses can override it to handle the request insome other way.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BEDDFCAG"></a><BR><h3><a name="//apple_ref/java/intfm/EOKeyValueCoding/storedValueForKey">storedValueForKey</a></h3><p><code>public abstract Object <code>storedValueForKey</code>(String <em>key</em>)</code></p>Returns the property identified by <em>key.</em> This method is used when the value is retrieved for storage in anobject store (generally, this is ultimately in a database) or forinclusion in a snapshot. The default implementation provided by EOCustomObject issimilar to the implementation of  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/valueForKey">valueForKey</a>, but it resolves <em>key</em>  witha different method-instance variable search order:<ol><li>Searches for a private accessor method basedon <em>key</em>  (a method preceded by an underbar).For example, with a key of "lastName", <code>storedValueForKey</code> looksfor a method named _getLastName or _lastName.</li><li>If a private accessor isn't found, searches for an instancevariable based on <em>key</em>  and returnsits value directly. For example, with a key of "lastName", <code>storedValueForKey</code> looksfor an instance variable named <code>_lastName</code> or <code>lastName</code>.</li><li>If neither a private accessor or an instance variable is found, <code>storedValueForKey</code> searchesfor a public accessor method based on <em>key.</em> For the key "lastName", this would be getLastName or lastName.</li><li>If <em>key</em>  is unknown, <code>storedValueForKey</code> calls  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a>.</li></ol><p>This different search order allows an object to bypass processingthat is performed before returning a value through public API. However,if you always want to use the search order in <code>valueForKey</code>,you can implement the static method  <a href="../Classes/EOCustomObject.html#//apple_ref/java/clm/EOCustomObject/useStoredAccessor">useStoredAccessor</a> to return false.And as with <code>valueForKey</code>, you can preventdirect access of an instance variable with the method the static method  <a href="../Classes/EOCustomObject.html#//apple_ref/java/clm/EOCustomObject/accessInstanceVariablesDirectly">accessInstanceVariablesDirectly</a>.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BEDCHICF"></a><BR><h3><a name="//apple_ref/java/intfm/EOKeyValueCoding/takeStoredValueForKey">takeStoredValueForKey</a></h3><p><code>public abstract void <code>takeStoredValueForKey</code>(Object <em>value,</em> String <em>key</em>)</code></p>Sets the property identified by <em>key</em>  to <em>value.</em> This method is used to initialize the receiver with values froman object store (generally, this is ultimately from a database)or to restore a value from a snapshot. The default implementationprovided by EOCustomObject is similar to the implementation of  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a>,but it resolves <em>key</em>  with a differentmethod-instance variable search order:<ol><li>Searches for a private accessor method basedon <em>key</em>  (a method preceded by an underbar).For example, with a key of "lastName", <code>takeStoredValueForKey</code> looksfor a method named _setLastName.</li><li>If a private accessor isn't found, searches for an instancevariable based on <em>key</em>  and sets itsvalue directly. For example, with a key of "lastName", <code>takeStoredValueForKey</code> looksfor an instance variable named <code>_lastName</code> or <code>lastName</code>.</li><li>If neither a private accessor or an instance variable is found, <code>takeStoredValueForKey</code> searchesfor a public accessor method based on <em>key.</em> For the key "lastName", this would be setLastName.</li><li>If <em>key</em>  is unknown, <code>takeStoredValueForKey</code> calls  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a>.</li></ol><p>This different search order allows an object to bypass processingthat is performed before setting a value through public API. However,if you always want to use the search order in <code>takeValueForKey</code>,you can implement the static method  <a href="../Classes/EOCustomObject.html#//apple_ref/java/clm/EOCustomObject/useStoredAccessor">useStoredAccessor</a> to return false.And as with <code>valueForKey</code>, you can preventdirect access of an instance variable with the method the static method  <a href="../Classes/EOCustomObject.html#//apple_ref/java/clm/EOCustomObject/accessInstanceVariablesDirectly">accessInstanceVariablesDirectly</a>. </p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BEDDDFHB"></a><BR><h3><a name="//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a></h3><p><code>public abstract void <code>takeValueForKey</code>(Object <em>value,</em> String <em>key</em>)</code></p>Sets the value for the property identified by <em>key</em>  to <em>value,</em> invoking  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a> ifthe receiver doesn't recognize <em>key</em>  and  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/unableToSetNullForKey">unableToSetNullForKey</a> if <em>value</em>  is null and <em>key</em>  identifiesa scalar property.<p>The default implementation provided by EOCustomObject worksas follows:</p><ol><li>Searches for a public accessor method of theform <code>set</code><em> Key</em> <code></code>,invoking it if there is one.</li><li>If a public accessor method isn't found, searches for aprivate accessor method of the form <code>_set</code><em> Key</em> <code></code>, invokingit if there is one.</li><li>If an accessor method isn't found and the static method  <a href="../Classes/EOCustomObject.html#//apple_ref/java/clm/EOCustomObject/accessInstanceVariablesDirectly">accessInstanceVariablesDirectly</a> returns true, <code>takeValueForKey</code> searchesfor an instance variable based on <em>key</em>  andsets the value directly. For the key "lastName", this wouldbe <code>_lastName</code> or <code>lastName</code>.</li><li>If neither an accessor method nor an instance variable isfound, the default implementation invokes  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleTakeValueForUnboundKey">handleTakeValueForUnboundKey</a>.</li></ol><hr WIDTH="25%" ALIGN="LEFT"><a name = "BEDDAGBD"></a><BR><h3><a name="//apple_ref/java/intfm/EOKeyValueCoding/unableToSetNullForKey">unableToSetNullForKey</a></h3><p><code>public abstract void <code>unableToSetNullForKey</code>(String <em>key</em>)</code></p>Invoked from  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a> (and  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeStoredValueForKey">takeStoredValueForKey</a>)when it's given a null value for a scalar property (such as an <code>int</code> ora <code>float</code>). EOCustomObject's implementation throwsan exception. Subclasses can override it to handle the request insome other way, such as by substituting zero or a sentinel valueand invoking  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/takeValueForKey">takeValueForKey</a> again.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BEDCFEGI"></a><BR><h3><a name="//apple_ref/java/intfm/EOKeyValueCoding/valueForKey">valueForKey</a></h3><p><code>public abstract Object <code>valueForKey</code>(String <em>key</em>)</code></p>Returns the value for the property identifiedby <em>key,</em>  invoking  <a href="#//apple_ref/java/intfm/EOKeyValueCoding/handleQueryWithUnboundKey">handleQueryWithUnboundKey</a> if thereceiver doesn't recognize <em>key.</em> <p>The default implementation provided by EOCustomObject worksas follows:</p><ol><li>Searches for a public accessor method based on <em>key.</em> For example, with a key of "lastName", <code>valueForKey</code><code> </code>looksfor a method named getLastName or lastName.</li><li>If a public accessor method isn't found, searches for aprivate accessor method based on <em>key</em>  (a methodpreceded by an underbar). For example, with a key of "lastName", <code>valueForKey</code> looksfor a method named _getLastName or _lastName.</li><li>If an accessor method isn't found and the static method  <a href="../Classes/EOCustomObject.html#//apple_ref/java/clm/EOCustomObject/accessInstanceVariablesDirectly">accessInstanceVariablesDirectly</a> returns true, <code>valueForKey</code> searchesfor an instance variable based on <em>key</em> andreturns its value directly. For the key "lastName", this wouldbe _lastName or lastName.</li><li>If neither an accessor method nor an instance variable isfound, the default implementation invokes <code>handleQueryWithUnboundKey</code>.</li></ol><hr WIDTH="25%" ALIGN="LEFT"><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a></BODY></HTML>