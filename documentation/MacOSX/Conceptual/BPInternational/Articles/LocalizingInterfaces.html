<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Internationalization Programming Topics: Preparing Your Nib Files for Localization</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Preparing Your Nib Files for Localization"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002138" title="Preparing Your Nib Files for Localization"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Internationalization/index.html#//apple_ref/doc/uid/TP30000440-TP30001073" target="_top">Internationalization</a> &gt; <a href="../../../../Internationalization/Localization-date.html#//apple_ref/doc/uid/TP30000440-TP30001073-TP30000536" target="_top">Localization</a> &gt; <a href="../index.html" target="_top">Internationalization Programming Topics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="ChoosingLocalizations.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="StringsFiles.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002138-BBCBFFDF" title="Preparing Your Nib Files for Localization"></a><hr /><H1>Preparing Your Nib Files for Localization</H1><p>The native <a name="//apple_ref/doc/uid/20002138-DontLinkElementID_91"></a>integrated development environment (IDE<a name="//apple_ref/doc/uid/20002138-DontLinkElementID_92"></a>) for Mac OS X consists of <a name="//apple_ref/doc/uid/20002138-DontLinkElementID_93"></a>Xcode, <a name="//apple_ref/doc/uid/20002138-DontLinkElementID_94"></a>Interface Builder, and a suite of build, debugging, and performance tools. Developers use Interface Builder to create user interfaces for their applications. Interface Builder saves these interfaces as XML archives called <a name="//apple_ref/doc/uid/20002138-DontLinkElementID_95"></a>nib files. You can localize nib files just as you can localize image and sound files. </p><p>Nib files store the user interface of your application, including windows, dialogs, and user-interface elements such as buttons, sliders, text objects, and help tags for these elements. A nib file also holds the connections between these objects that cause actions to be performed when the user activates controls. </p><div class="notebox"><a name="//apple_ref/doc/uid/20002138-SW1" title="Note"></a><p><strong>Note:</strong>&nbsp;This section talks about Interface Builder and its nib files. However, much of the discussion is applicable to localized user-interface archives created by other tools.</p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="LocalizingInterfaces.html#//apple_ref/doc/uid/20002138-97561">Using Nib Files Effectively</a>
				
			<br/>
			
        
			
			
				<a href="LocalizingInterfaces.html#//apple_ref/doc/uid/20002138-SW2">Using ibtool</a>
				
			<br/>
			
        
			
			
				<a href="LocalizingInterfaces.html#//apple_ref/doc/uid/20002138-97292">Generating Localized Nib Files</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002138-97561" title="Using Nib Files Effectively"></a><h2>Using Nib Files Effectively</h2><p>Translators typically localize the pieces of the user interface all at once, adjusting graphic elements to account for changes in string lengths. In any medium-size or large application, it’s usually a good idea to put each window or panel (that is, dialog) in its own nib file. This practice not only makes it possible to load the user interface lazily (that is, to load pieces as they’re used), but it also permits localization to progress in more incremental steps. It’s also a good idea to put the menus of the application in a separate nib file.</p><p>Translators can use a combination of Interface Builder, AppleGlot, and <code>ibtool</code> to localize nib files. Using these tools, the translator would open the nib files in a given <em>language</em><code>.lproj</code><a name="//apple_ref/doc/uid/20002138-DontLinkElementID_96"></a>directory, localize the strings, change the sizes of the user-interface elements to accommodate the new strings, and save the changes back to the nib files. There are a few other things to watch out for:</p><ul class="ul"><li class="li"><p>Objects in a nib file typically have connections between them that should not be broken. Make sure you lock all connections (an option in Interface Builder preferences) before handing your nibs off to translation.</p></li><li class="li"><p>Dialogs and windows usually have minimum or maximum sizes that are specified through the inspector. If a dialog or window must be made wider for a given language, the translator should check to make sure that the minimum size is also updated to an appropriate value.</p></li><li class="li"><p>Some user-interface objects support help tags—explanatory text that appears when the user moves the mouse over the object for a short period. You can define the help tags for an object in Interface Builder’s inspector, where the translator can also localize those strings.</p></li></ul><p>In your nib files, it is also important to remember that localization will likely change the size of visible text in your windows. If text labels do not have room to expand, the localizers may have to adjust the size of your window or the positions of the label or other controls. In general, you should expect text labels in English to expand by up to 40% in length during translation. </p><a name="//apple_ref/doc/uid/20002138-SW2" title="Using ibtool"></a><h2>Using ibtool</h2><p>It can be tedious to translate nib files manually and even more tedious to propagate subsequent design changes to the already localized nib files in your project. Fortunately, the <code><a name="//apple_ref/doc/uid/20002138-DontLinkElementID_97"></a>ibtool</code> command-line utility makes propagating changes to other nib files much easier. This tool operates on a dictionary of all the strings in your nib file. Using it, you can extract the strings from the nib file, translate them, and then inject them back into the nib file. Alternatively, if you already have valid translations, you can inject the already-translated strings into a master nib file containing any recent design changes to update the localized nib files.</p><div class="notebox"><a name="//apple_ref/doc/uid/20002138-DontLinkElementID_10" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code>ibtool</code> command-line utility replaces the <code>nibtool</code> utility that was present prior to Mac OS X v10.5. </p></div><p>The following example shows you how to extract the English strings from the main nib of a project into a new strings file. You can store a copy of the resulting file for use later or give the file to the translation team.</p><div class="codesample"><table><tr><td scope="row"><pre>ibtool --generate-strings-file MainMenu.strings en.lproj/MainMenu.nib<span></span></pre></td></tr></table></div><p>The following example takes the original English-based nib file and merges it with the translated strings to create a localized version of the nib:</p><div class="codesample"><table><tr><td scope="row"><pre>// The translated strings are in the de.lproj directory<span></span></pre></td></tr><tr><td scope="row"><pre>//  with the same name as the original file.<span></span></pre></td></tr><tr><td scope="row"><pre>ibtool --strings-file de.lproj/MainMenu.strings --write de.lproj/MainMenu.nib en.lproj/MainMenu.nib<span></span></pre></td></tr></table></div><p>If you already have a localized nib file and want to update it incrementally, <code>ibtool</code> provides several options. You can use the -I option to inject a new set of translations into the existing nib file. For more information see the <code>ibtool</code> man page.</p><div class="importantbox"><a name="//apple_ref/doc/uid/20002138-DontLinkElementID_11" title="Important:"></a><p><strong>Important:</strong>&nbsp;Remember that translating the strings in your nib file is only one step of the localization process. The localizer may need to adjust the layout of views and controls to account for changes in string length. Also, <code>ibtool</code> does not automatically update date and time formats associated with formatter objects. </p><p></p></div><a name="//apple_ref/doc/uid/20002138-97292" title="Generating Localized Nib Files"></a><h2>Generating Localized Nib Files</h2><p>Internationalizing <a name="//apple_ref/doc/uid/20002138-DontLinkElementID_98"></a>applications for Mac OS X involves, in part, putting the resources localized for a particular language or region in the proper bundle location. In some situations, you might have to do this task by hand, such as with Code Fragment Manager (CFM) applications. Fortunately, for most occasions there are tools to help you.</p><p><a name="//apple_ref/doc/uid/20002138-DontLinkElementID_99"></a>Xcode provides the <a name="//apple_ref/doc/uid/20002138-DontLinkElementID_100"></a>File Reference Inspector to assist you with internationalization. To internationalize a resource file in Xcode 3.1, do the following:</p><ol class="ol"><li class="li"><p>Add the resource file to Xcode.</p><ol class="ol"><li class="ol ol"><p>Expand your project in the Groups &amp; Files pane.</p></li><li class="ol ol"><p>Select the Resources folder. </p></li><li class="ol ol"><p>Choose Project > Add to Project….</p></li><li class="ol ol"><p>Use the file browser to navigate to the resource, select it, and click Open.</p></li><li class="ol ol"><p>In the dialog that Xcode displays, select “Copy items into destination group’s folder”, choose one of the “relative” reference styles (for example, “Relative to Project”), and select the desired target. Click Add.</p></li></ol></li><li class="li"><p>Select the resource file and open the Inspector window (File > Get Info).</p></li><li class="li"><p>If the file is not already localizable, click the Make File Localizable button in the General pane of the Inspector window. </p></li><li class="li"><p>In the General pane again, click the Add Localization button. In the sheet that appears, select or type the locale you want to add. Xcode copies the resource to the other <code>.lproj</code> directory.</p></li></ol><p>If your resource file is a plain text file, you should be sure to set the File Encoding for each localized copy. You can set the default localization of the file before you make the file localizable. You can use different encodings for different localized versions of the file. To set the encoding for a specific localization, choose that localization in the Groups and Files pane and change the setting in the Inspector window. </p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="ChoosingLocalizations.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="StringsFiles.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-01-06<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MacOSX/Conceptual/BPInternational/Articles/LocalizingInterfaces.html%3Fid%3D10000171i-2.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MacOSX/Conceptual/BPInternational/Articles/LocalizingInterfaces.html%3Fid%3D10000171i-2.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MacOSX/Conceptual/BPInternational/Articles/LocalizingInterfaces.html%3Fid%3D10000171i-2.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
