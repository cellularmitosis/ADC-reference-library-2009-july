<html><head><title>Mac OS X
 Manual Page For ldap_syntax_free(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/ldap_syntax_free" title="Mac OS X
 Manual Page for ldap_syntax_free(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/ldap_syntax_free"; name=ldap_syntax_free(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
LDAP_SCHEMA(3)                                                                                <!-- a -->LDAP_SCHEMA(3)<!-- /a -->



<b>NAME</b>
       ldap_str2syntax,    ldap_syntax2str,   ldap_syntax2name,   ldap_syntax_free,   ldap_str2matchingrule,
       ldap_matchingrule2str,   ldap_matchingrule2name,   ldap_matchingrule_free,    ldap_str2attributetype,
       ldap_attributetype2str,   ldap_attributetype2name,   ldap_attributetype_free,   ldap_str2objectclass,
       ldap_objectclass2str, ldap_objectclass2name, ldap_objectclass_free, ldap_scherr2str - Schema  defini-<font color="#ffffff" class="whiteout">tion&nbsp;definition</font>
       tion handling routines

<b>LIBRARY</b>
       OpenLDAP LDAP (libldap, -lldap)

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;ldap.h&gt;</b>
       <b>#include</b> <b>&lt;ldap_schema.h&gt;</b>

       <b>LDAPSyntax</b> <b>*</b> <b>ldap_str2syntax(s,</b> <b>code,</b> <b>errp,</b> <b>flags)</b>
       const char * s;
       int * code;
       const char ** errp;
       const int flags;

       <b>char</b> <b>*</b> <b>ldap_syntax2str(syn)</b>
       const LDAPSyntax * syn;

       <b>const</b> <b>char</b> <b>*</b> <b>ldap_syntax2name(syn)</b>
       LDAPSyntax * syn;

       <b>ldap_syntax_free(syn)</b>
       LDAPSyntax * syn;

       <b>LDAPMatchingRule</b> <b>*</b> <b>ldap_str2matchingrule(s,</b> <b>code,</b> <b>errp,</b> <b>flags)</b>
       const char * s;
       int * code;
       const char ** errp;
       const int flags;

       <b>char</b> <b>*</b> <b>ldap_matchingrule2str(mr);</b>
       const LDAPMatchingRule * mr;

       <b>const</b> <b>char</b> <b>*</b> <b>ldap_matchingrule2name(mr)</b>
       LDAPMatchingRule * mr;

       <b>ldap_matchingrule_free(mr)</b>
       LDAPMatchingRule * mr;

       <b>LDAPAttributeType</b> <b>*</b> <b>ldap_str2attributetype(s,</b> <b>code,</b> <b>errp,</b> <b>flags)</b>
       const char * s;
       int * code;
       const char ** errp;
       const int flags;

       <b>char</b> <b>*</b> <b>ldap_attributetype2str(at)</b>
       const LDAPAttributeType * at;

       <b>const</b> <b>char</b> <b>*</b> <b>ldap_attributetype2name(at)</b>
       LDAPAttributeType * at;

       <b>ldap_attributetype_free(at)</b>
       LDAPAttributeType * at;

       <b>LDAPObjectClass</b> <b>*</b> <b>ldap_str2objectclass(s,</b> <b>code,</b> <b>errp,</b> <b>flags)</b>
       const char * s;
       int * code;
       const char ** errp;
       const int flags;

       <b>char</b> <b>*</b> <b>ldap_objectclass2str(oc)</b>
       const LDAPObjectClass * oc;

       <b>const</b> <b>char</b> <b>*</b> <b>ldap_objectclass2name(oc)</b>
       LDAPObjectClass * oc;

       <b>ldap_objectclass_free(oc)</b>
       LDAPObjectClass * oc;

       <b>char</b> <b>*</b> <b>ldap_scherr2str(code)</b>
       int code;

<b>DESCRIPTION</b>
       These  routines  are  used to parse schema definitions in the syntax defined in RFC 2252 into structs
       and handle these structs.  These routines handle four kinds of definitions: syntaxes, matching rules,
       attribute types and object classes.  For each definition kind, four routines are provided.

       <b>ldap_str2xxx()</b>  takes  a  definition  in RFC 2252 format in argument <u>s</u> as a NUL-terminated string and
       returns, if possible, a pointer to a newly allocated struct of the appropriate kind.  The  caller  is
       responsible  for  freeing the struct by calling <b>ldap_xxx_free()</b> when not needed any longer.  The rou-<font color="#ffffff" class="whiteout">tine&nbsp;routine</font>
       tine returns NULL if some problem happened.  In this case, the integer pointed at  by  argument  <u>code</u>
       will  receive an error code (see below the description of <b>ldap_scherr2str()</b> for an explanation of the
       values) and a pointer to a NUL-terminated string will be placed where requested by  argument  <u>errp</u>  ,
       indicating  where  in argument <u>s</u> the error happened, so it must not be freed by the caller.  Argument
       <u>flags</u> is a bit mask of parsing options controlling the relaxation of the syntax recognized.  The fol-<font color="#ffffff" class="whiteout">lowing&nbsp;following</font>
       lowing values are defined:

       <b>LDAP_SCHEMA_ALLOW_NONE</b>
              strict parsing according to RFC 2252.

       <b>LDAP_SCHEMA_ALLOW_NO_OID</b>
              permit definitions that do not contain an initial OID.

       <b>LDAP_SCHEMA_ALLOW_QUOTED</b>
              permit quotes around some items that should not have them.

       <b>LDAP_SCHEMA_ALLOW_DESCR</b>
              permit a <b>descr</b> instead of a numeric OID in places where the syntax expect the latter.

       <b>LDAP_SCHEMA_ALLOW_DESCR_PREFIX</b>
              permit that the initial numeric OID contains a prefix in <b>descr</b> format.

       <b>LDAP_SCHEMA_ALLOW_ALL</b>
              be very liberal, include all options.

       The structures returned are as follows:

              typedef struct ldap_schema_extension_item {
                      char *lsei_name;        /* Extension name */
                      char **lsei_values;     /* Extension values */
              } LDAPSchemaExtensionItem;

              typedef struct ldap_syntax {
                      char *syn_oid;          /* OID */
                      char **syn_names;       /* Names */
                      char *syn_desc;         /* Description */
                      LDAPSchemaExtensionItem **syn_extensions; /* Extension */
              } LDAPSyntax;

              typedef struct ldap_matchingrule {
                      char *mr_oid;           /* OID */
                      char **mr_names;        /* Names */
                      char *mr_desc;          /* Description */
                      int  mr_obsolete;       /* Is obsolete? */
                      char *mr_syntax_oid;    /* Syntax of asserted values */
                      LDAPSchemaExtensionItem **mr_extensions; /* Extensions */
              } LDAPMatchingRule;

              typedef struct ldap_attributetype {
                      char *at_oid;           /* OID */
                      char **at_names;        /* Names */
                      char *at_desc;          /* Description */
                      int  at_obsolete;       /* Is obsolete? */
                      char *at_sup_oid;       /* OID of superior type */
                      char *at_equality_oid;  /* OID of equality matching rule */
                      char *at_ordering_oid;  /* OID of ordering matching rule */
                      char *at_substr_oid;    /* OID of substrings matching rule */
                      char *at_syntax_oid;    /* OID of syntax of values */
                      int  at_syntax_len;     /* Suggested minimum maximum length */
                      int  at_single_value;   /* Is single-valued?  */
                      int  at_collective;     /* Is collective? */
                      int  at_no_user_mod;    /* Are changes forbidden through LDAP? */
                      int  at_usage;          /* Usage, see below */
                      LDAPSchemaExtensionItem **at_extensions; /* Extensions */
              } LDAPAttributeType;

              typedef struct ldap_objectclass {
                      char *oc_oid;           /* OID */
                      char **oc_names;        /* Names */
                      char *oc_desc;          /* Description */
                      int  oc_obsolete;       /* Is obsolete? */
                      char **oc_sup_oids;     /* OIDs of superior classes */
                      int  oc_kind;           /* Kind, see below */
                      char **oc_at_oids_must; /* OIDs of required attribute types */
                      char **oc_at_oids_may;  /* OIDs of optional attribute types */
                      LDAPSchemaExtensionItem **oc_extensions; /* Extensions */
              } LDAPObjectClass;

       Some  integer  fields (those described with a question mark) have a truth value, for these fields the
       possible values are:

       <b>LDAP_SCHEMA_NO</b>
              The answer to the question is no.

       <b>LDAP_SCHEMA_YES</b>
              The answer to the question is yes.

       For attribute types, the following usages are possible:

       <b>LDAP_SCHEMA_USER_APPLICATIONS</b>
              the attribute type is non-operational.

       <b>LDAP_SCHEMA_DIRECTORY_OPERATION</b>
              the attribute type is operational and is pertinent to the directory itself, i.e.  it  has  the
              same value on all servers that master the entry containing this attribute type.

       <b>LDAP_SCHEMA_DISTRIBUTED_OPERATION</b>
              the attribute type is operational and is pertinent to replication, shadowing or other distrib-<font color="#ffffff" class="whiteout">uted&nbsp;distributed</font>
              uted directory aspect.  TBC.

       <b>LDAP_SCHEMA_DSA_OPERATION</b>
              the attribute type is operational and is pertinent to the directory server itself, i.e. it may
              have different values for the same entry when retrieved from different servers that master the
              entry.

       Object classes can be of three kinds:

       <b>LDAP_SCHEMA_ABSTRACT</b>
              the object class is abstract, i.e. there cannot be entries of this class alone.

       <b>LDAP_SCHEMA_STRUCTURAL</b>
              the object class is structural, i.e. it describes  the  main  role  of  the  entry.   On  some
              servers,  once  the  entry  is created the set of structural object classes assigned cannot be
              changed: none of those present can be removed and none other can be added.

       <b>LDAP_SCHEMA_AUXILIARY</b>
              the object class is auxiliary, i.e. it is  intended  to  go  with  other,  structural,  object
              classes.  These can be added or removed at any time if attribute types are added or removed at
              the same time as needed by the set of object classes resulting from the operation.

       Routines <b>ldap_xxx2name()</b> return a canonical name for the definition.

       Routines <b>ldap_xxx2str()</b> return a string representation in the format described by  RFC  2252  of  the
       struct  passed  in  the  argument.   The string is a newly allocated string that must be freed by the
       caller.  These routines may return NULL if no memory can be allocated for the string.

       <b>ldap_scherr2str()</b> returns a NUL-terminated string with a text description of the error  found.   This
       is  a  pointer to a static area, so it must not be freed by the caller.  The argument <u>code</u> comes from
       one of the parsing routines and can adopt the following values:

       <b>LDAP_SCHERR_OUTOFMEM</b>
              Out of memory.

       <b>LDAP_SCHERR_UNEXPTOKEN</b>
              Unexpected token.

       <b>LDAP_SCHERR_NOLEFTPAREN</b>
              Missing opening parenthesis.

       <b>LDAP_SCHERR_NORIGHTPAREN</b>
              Missing closing parenthesis.

       <b>LDAP_SCHERR_NODIGIT</b>
              Expecting digit.

       <b>LDAP_SCHERR_BADNAME</b>
              Expecting a name.

       <b>LDAP_SCHERR_BADDESC</b>
              Bad description.

       <b>LDAP_SCHERR_BADSUP</b>
              Bad superiors.

       <b>LDAP_SCHERR_DUPOPT</b>
              Duplicate option.

       <b>LDAP_SCHERR_EMPTY</b>
              Unexpected end of data.


<b>SEE</b> <b>ALSO</b>
       <a href="ldap.3.html#//apple_ref/doc/man/3/ldap"><b>ldap</b>(3)</a>

<b>ACKNOWLEDGEMENTS</b>
       <b>OpenLDAP</b> is developed and maintained by The OpenLDAP Project (<a href="http://www.openldap.org/)">http://www.openldap.org/)</a>  <b>OpenLDAP</b> is
       derived from University of Michigan LDAP 3.3 Release.




OpenLDAP 2.3.27                                  2006/08/19                                   <!-- a -->LDAP_SCHEMA(3)<!-- /a -->
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/ldap_syntax_free.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/ldap_syntax_free.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/ldap_syntax_free.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
