<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Introduction to PowerPC System Software (IM: PS)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING11></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCSoftware-10.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-12.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCSoftware-2.html"><B>PowerPC System Software</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING11-0></A>
<H1>Chapter 1 - <A NAME=MARKER-9-1></A>Introduction to PowerPC System Software</H1>
 This chapter is a general introduction to the system software provided on PowerPC processor-based Macintosh computers. It describes the mixed environment provided by the 68LC040 Emulator and the Mixed Mode Manager. These two new system software services work together to allow existing 680x0 applications, extensions, drivers, and other software to execute without modification on PowerPC processor-based Macintosh computers. The 68LC040 Emulator and the Mixed Mode Manager also make it possible for parts of the system software to remain as 680x0 code, while other parts of the system software are reimplemented (primarily for reasons of speed) as native PowerPC code.<A NAME=MARKER-2-2></A><A NAME=MARKER-2-36></A><P>
 This chapter also describes the native PowerPC execution environment. Although the process-scheduling mechanism used for both native and emulated applications has not changed, the run-time environment for PowerPC applications is significantly different from the run-time environment used for 680x0-based Macintosh applications. In cases where your application (or other software) relies on features of the 680x0 run-time environment, you'll need to modify your application before recompiling it as a PowerPC application. For example, if your application directly accesses information stored in low memory (such as system global variables) or in its A5 world, you might need to rewrite parts of your application to remove the dependence on that information. See <A HREF=PPCSoftware-15.html#MARKER-9-121>"The PowerPC Native Environment" beginning on page 1-19</A> for complete instructions on doing this.<P>
 You should read this chapter if you want your application to run on PowerPC processor-based Macintosh computers, either under the 68LC040 Emulator or in the PowerPC native environment. If you choose not to rebuild your application for the PowerPC environment, you should at least make certain that it doesn't violate any of the known restrictions on the emulator. See <A HREF=PPCSoftware-13.html#MARKER-9-29>"Emulator Limitations" on page 1-8</A> for specific information about the known operational differences between the 68LC040 Emulator and a 680x0 microprocessor.<P>
 You should also read this chapter for information about the PowerPC execution environment. Although the existing software development tools build your source code into executable PowerPC code that conforms to the requirements of this new environment, you might need to know about the native run-time environment for debugging purposes or if your application uses external code modules. Otherwise, the new execution environment should be completely transparent to your application.<P>
 You should be able to accomplish much of the work involved in porting your application from the 680x0 platform to the PowerPC platform using the information in this chapter. If your application installs callback routines with nonstandard calling conventions, however, you might need to read the chapter "Mixed Mode Manager" in this book. In addition, if your application explicitly loads external code modules (such as file translators or custom definition procedures), you might need to read the chapter "Code Fragment Manager" in this book. Read the chapter "Exception Manager" if you want your native application to handle any exceptions that arise while it is executing.<P>
 To use this chapter, you should already be generally familiar with the Macintosh Operating System. See the books <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I> and <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I> for information about the run-time environment of 680x0-based Macintosh computers.<P>
 This chapter begins with a description of the mixed environment provided by the PowerPC system software. Then it gives information about the native PowerPC run-time environment. This chapter ends by explaining how to perform a number of specific <BR>tasks in the PowerPC environment, such as patching system software traps.<P>
<DL>
<DT><B>Note</B>
<DD>For ease of exposition, this book occasionally focuses on porting applications from the 680x0 environment to the PowerPC environment. In general, however, any changes required for applications are required also for all other kinds of software.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="PPCSoftware-12.html#HEADING12-0">Overview of the PowerPC System Software</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-0">The 68LC040 Emulator</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-13.html#HEADING13-4">Emulator Operation</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-15">Emulator Limitations</A>
<DD>
<DL><DT><A HREF="PPCSoftware-13.html#HEADING13-26">Coprocessors</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-30">Instruction Timings</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-32">Deleted Instructions</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-34">Unsupported Instruction Features</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-36">Instruction Caches</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-42">Address Error Exceptions</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-44">Bus Error Exceptions</A>
<DD>
<DT><A HREF="PPCSoftware-13.html#HEADING13-49">Memory-Mapped I/O Locations</A>
<DD>
</DL></DL>
<DT><A HREF="PPCSoftware-14.html#HEADING14-0">Mixed Mode</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-14.html#HEADING14-7">Cross-Mode Calls</A>
<DD>
<DT><A HREF="PPCSoftware-14.html#HEADING14-13">Routine Descriptors</A>
<DD>
<DT><A HREF="PPCSoftware-14.html#HEADING14-48">Memory Considerations</A>
<DD>
</DL>
<DT><A HREF="PPCSoftware-15.html#HEADING15-0">The PowerPC Native Environment</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-15.html#HEADING15-15">Fragments</A>
<DD>
<DT><DL><A HREF="PPCSoftware-15.html#HEADING15-27">The Structure of Fragments</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-34">Imports and Exports</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-47">The Table of Contents</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-79">Special Routines</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-87">Fragment Storage</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-110">Executable Resources</A>
</DL><DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-151">Calling Conventions</A>
<DD>
<DT><DL><A HREF="PPCSoftware-15.html#HEADING15-158">The 680x0 Calling Conventions</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-170">The PowerPC Calling Conventions</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-198">Parameter Passing</A>
<DD></DL>
<DT><A HREF="PPCSoftware-15.html#HEADING15-229">Import Libraries</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-241">The Organization of Memory</A>
<DD>
<DT><DL><A HREF="PPCSoftware-15.html#HEADING15-246">File Mapping</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-261">The System Partition</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-269">Application Partitions</A>
<DD>
<DT><A HREF="PPCSoftware-15.html#HEADING15-303">Data Alignment</A>
<DD></DL>
</DL>
<DT><A HREF="PPCSoftware-16.html#HEADING16-0">Compatibility and Performance</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-16.html#HEADING16-8">Patches</A>
<DD>
<DT><A HREF="PPCSoftware-16.html#HEADING16-22">The Memory Manager</A>
<DD>
<DT><A HREF="PPCSoftware-16.html#HEADING16-38">Performance Tuning</A>
<DD>
<DT><DL><A HREF="PPCSoftware-16.html#HEADING16-45">Mode Switches</A>
<DD>
<DT><A HREF="PPCSoftware-16.html#HEADING16-54">Routine Parameters</A>
<DD></DL>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="PPCSoftware-10.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-12.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="PPCSoftware-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
