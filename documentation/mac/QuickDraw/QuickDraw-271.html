<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>About Graphics Devices (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING271></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-270.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-272.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-270.html"><B>Chapter 5 - Graphics Devices</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING271-0></A>
<H1>About Graphics Devices</H1>
 A <B>graphics device</B> is anything into which QuickDraw can draw. There are three types of graphics devices: video devices (such as plug-in video cards and built-in video interfaces) that control screens, offscreen graphics worlds (which allow your application to build complex images off the screen before displaying them), and printing graphics ports for printers. The chapter "Offscreen Graphics Worlds" in this book describes how to use QuickDraw to draw into an offscreen graphics world; the chapter "Printing Manager" in this book describes how to use QuickDraw to draw into a printing graphics port.<P>
 For a video device or an offscreen graphics world, Color QuickDraw stores state information in a <CODE>GDevice<B> record.</B></CODE> Note that printers do not have <CODE>GDevice</CODE> records. Color QuickDraw automatically creates <CODE>GDevice</CODE> records. (Basic QuickDraw does not create <CODE>GDevice</CODE> records, nor does basic QuickDraw support multiple screens.)<P>
 When the system starts up, it allocates and initializes a handle to a <CODE>GDevice</CODE> record for each video device it finds. When you use the <CODE>NewGWorld</CODE> function (described in the chapter "Offscreen Graphics Worlds" in this book), Color QuickDraw automatically creates a <CODE>GDevice</CODE> record for the new offscreen graphics world. <P>
 All existing <CODE>GDevice</CODE> records are linked together in a list, called the <B>device list;</B> the global variable <CODE>DeviceList</CODE> holds a handle to the first record in the list. At any given time, exactly one graphics device is the <B>current device</B> (also called the <I>active device</I>)--the one on which drawing is actually taking place. A handle to its <CODE>GDevice</CODE> record is stored in the global variable <CODE>TheGDevice</CODE>. By default, the <CODE>GDevice</CODE> record corresponding to the first video device found is marked as the current device; all other graphics devices in the list are initially marked as inactive.<A NAME=MARKER-2-16></A><A NAME=MARKER-2-17></A><P>
 When the user moves a window or creates a window on another screen, and your application draws into that window, QuickDraw automatically makes the video device for that screen the current device. Color QuickDraw stores that information in the global variable <CODE>TheGDevice</CODE>. As Color QuickDraw draws across a user's video devices, it keeps switching to the <CODE>GDevice</CODE> record for the video device on which Color QuickDraw is actively drawing.<P>
 The user can use the Monitors control panel to set the desired pixel depth of each video device; to set the display to color, grayscale, or black and white; and to set the position of each screen relative to the <B>main screen</B> (that is, the one that contains the menu bar). The Monitors control panel stores all configuration information for a multiscreen system in the System file in a resource of type <CODE>'scrn'</CODE> that has a resource ID of 0. Your application should never create this resource, and should never alter or examine it. The <CODE>'scrn'</CODE> resource consists of an array of data structures that are analogous to <CODE>GDevice</CODE> records. Each element of this array contains information about a different video device.<P>
 When the <CODE>InitGraf</CODE> procedure (described in the chapter "Basic QuickDraw" in this book) initializes QuickDraw, it checks the System file for the <CODE>'scrn'</CODE> resource. If the <CODE>'scrn'</CODE> resource is found and it matches the hardware, <CODE>InitGraf</CODE> organizes the video devices according to the contents of this resource; if not, then QuickDraw uses only the video device for the startup screen. <P>
 The <CODE>GDevice</CODE> record is diagrammed in <A HREF=#MARKER-9-18>Figure 5-1</A>. Some aspects of its contents are discussed after the figure; see <A HREF=QuickDraw-275.html#MARKER-9-39>page 5-14</A> for a complete description of the fields. Your application can use the routines described in this chapter to manipulate values for the fields in this record.<P>
<B>Figure 5-1  <A NAME=MARKER-9-18></A>The <CODE>GDevice</CODE> record</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/GD-L-01.jpg"><BR>
 <A NAME=MARKER-2-139></A>The <CODE>gdITable</CODE> field points to an inverse table, which the Color Manager creates and maintains. An <B>inverse table</B> is a special Color Manager data structure arranged in such a manner that, given an arbitrary RGB color, its pixel value (that is, its index number in the CLUT) can be found quickly. The process is very fast once the table is built, but, if a color is changed in the video device's CLUT, the Color Manager must rebuild the inverse table the next time it has to find a color. The Color Manager is described in the chapter "Color Manager" in <I><A HREF="../ACI/ACI-2.html">Advanced Color Imaging on the Mac OS</A></I>.<P>
 The <CODE>gdPMap</CODE> field contains a handle to the pixel map that reflects the imaging capabilities of the graphics device. The pixel map's <CODE>PixelType</CODE> and <CODE>PixelSize</CODE> fields indicate whether the graphics device is direct or indexed and what pixel depth it displays. Color QuickDraw automatically synchronizes this pixel map's color table with the CLUT on the video device. <P>
 The <CODE>gdRect</CODE> field describes the graphics device's boundary rectangle in global coordinates. Color QuickDraw maps the (0,0) origin point of the global coordinate plane to the main screen's upper-left corner, and other screens are positioned adjacent to the main screen according to the settings made by the user with the Monitors control panel. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-270.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-272.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
