<HTML>	<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="XML_Publisher">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Uni-N Bridge and MemoryController</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --> <!-- insert Show/Hide frames --><script type="text/javascript" language="JavaScript"><!--function loadFrames(){if (top == self || (parent.frames[1].name != content))    top.location.href = 'index.html?' + location.href;}if (self != top) {  // loaded in frames  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');  }else {  // not loaded frames	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');}//--></script><!-- end Show/Hide frames --><a href="Microprocessor_and_Cache.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="KeyLargo_I_O_Controller.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerTop -->  <!-- apple_doc: pageHeadingStart --><a name = "TPXREF118"></a><h2><font face="Lucida Grande,Helvetica,Arial">Uni-N Bridge and MemoryController</font></h2><!-- apple_doc: pageHeadingEnd --><p>The Uni-N custom IC is at the heart of the computer. It providesthe bridging functionality between the processor, the memory system,the PCI-based I/O system, the AGP graphics slot, and the FireWireand Ethernet interfaces. </p><br><a name = "TPXREF119"></a><h3><font face="Lucida Grande,Helvetica,Arial">Processor Bus</font></h3><p>The processor bus is a 100-MHz, 64-bit bus connecting theprocessor module to the Uni-N IC. In addition to the increased busclock speed, the bus uses MaxBus protocols, supported by the Uni-NIC, for improved performance. </p><p>The MaxBus protocol includes enhancements that improve busefficiency and throughput over the 60x bus. The enhancements include </p><ul><li>out of ordercompletion </font></li><li>address bus streaming</font></li><li>intervention</font></li></ul><p>Out of order completion allows the memory controller to optimizethe data bus efficiency by transferring whichever data is ready,rather than having to pass data across the bus in the order thetransactions were posted on the bus. This means that a fast DRAMread can pass a slow PCI read, potentially enabling the processorto do more before it has to wait on the PCI data. </p><p>Address bus streaming allows a single master on the bus toissue multiple address transactions back-to-back. This means thata single master can post addresses at the rate of one every twoclocks, as opposed to one every three clocks, as it is in the 60xbus protocol.</p><p>Intervention is a cache coherency optimization that improvesperformance for dual processor systems. If one processor modifiessome data, that data first gets stored only in that processor'scache. If the other processor then wants that data, it needs toget the new modified values. In previous systems, the first processormust write the modified data to memory and then the second processorcan read the correct values from memory. With intervention, thefirst processor sends the data directly to the second processor,reducing latency by a factor of ten or more. </p><br><a name = "TPXREF120"></a><h3><font face="Lucida Grande,Helvetica,Arial">Main Memory Bus</font></h3><p>The main memory bus is a 100-MHz, 64-bit bus connecting themain memory to the Uni-N IC. The memory interface is synchronizedto the 60x bus interface at 100 MHz.</p><p>Main memory is provided by one or two PC-133 DIMMs (dual inlinememory modules). For more information about memory DIMMs, see  <a href="../4Expansion/iRAM_Expansi_BCJJHCG.html" target="_top">"RAM Expansion"</a>. </p><br><a name = "TPXREF221"></a><h3><font face="Lucida Grande,Helvetica,Arial">Accelerated Graphics Port Bus</font></h3><p>The accelerated graphics port (AGP) bus is a 66-MHz, 32-bitbus connecting the AGP graphics IC to the Uni-N IC. The AGP busprovides faster access to main memory than previous designs usingthe PCI bus. </p><p>The AGP bus is a superset of the PCI bus, with the additionof separate address lines so it does not multiplex address and datawhen running in AGP mode. Having a separate address bus allows theAGP bus to pipeline addresses, thereby improving performance. </p><p>To further improve the performance of the AGP bus, the Uni-NIC supports a graphics address remapping table (GART). Because thevirtual memory system organizes main memory as randomly distributed4 KB pages, DMA transactions for more than 4 KB of data must performscatter-gather operations. To avoid this necessity for AGP transactions, theGART is used by the AGP bridge in the Uni-N to translate a linearaddress space for AGP transactions into physical addresses in mainmemory. </p><br><a name = "TPXREF111"></a><h3><font face="Lucida Grande,Helvetica,Arial">Video Display Subsystem </font></h3><p>The display subsystem consists of a graphics controller ICand 32 MB of DDR on the main logic board. The graphics controllerIC is an Nvidia GeForce2 MX. It contains 2D and 3D accelerationengines, front-end and back-end scalers, a CRT controller, and anAGP bus interface with bus master capability. </p><p>The interface between the graphics IC and the rest of thesystem is an AGP (accelerated graphics port) bus on the Uni-N IC.To give the graphics IC fast access to system memory, the AGP bushas separate address and data lines and supports deeply pipelinedread and write operations. The AGP bus has 32 data lines and a clockspeed of 66 MHz. </p><p>The graphics IC uses a graphics address remapping table (GART)to translate AGP logical addresses into physical addresses. Thegraphics driver software can allocate memory in both the dedicatedSDRAM and the main memory. </p><p>For information about the display and supported resolutions,see  <a href="../3Input-Output/iVideo_Displ_XREF115.html" target="_top">"Video Display"</a>. </p><br><a name = "TPXREF122"></a><h3><font face="Lucida Grande,Helvetica,Arial">PCI Bus</font></h3><p>The PCI bus connects the Uni-N IC to the boot ROM and theKeyLargo I/O controller. The PCI bus is a 33-MHz, 64-bit bus. </p><p>The Uni-N 1.5 IC used in the eMac computer supports a newPCI feature called Write Combining. This feature allows sequentialwrite transactions involving the Memory Write or Memory Write andInvalidate commands to be combined into a single PCI transaction. Thememory write transactions being combined must be to sequential,ascending, and non-overlapping PCI addresses. Placing an eieio orsync command between the write commands will prevent any write combining. </p><br><a name = "TPXREF123"></a><h3><font face="Lucida Grande,Helvetica,Arial">Boot ROM</font></h3><p>The boot ROM consists of 1 MB of on-board flash EPROM. Theboot ROM includes the hardware-specific code and tables needed tostart up the computer, to load an operating system, and to providecommon hardware access services. </p><br><a name = "TPXREF124"></a><h3><font face="Lucida Grande,Helvetica,Arial">Ethernet Controller </font></h3><p>The Uni-N IC includes an Ethernet media access controller(MAC). As a separate I/O channel on the Uni-N IC, it can operate at its full capacitywithout degrading the performance of other peripheral devices. TheMAC also provides DMA support for the Ethernet interface.</p><p>The MAC implements the link layer. It is connected to a PHYinterface IC that provides 10-BaseT or 100-BaseT operation overa standard twisted-pair interface. The operating speed of the linkis automatically negotiated by the PHY and the bridge or routerto which the Ethernet port is connected. For information about theport, see  <a href="../3Input-Output/iEthernet_Po_XREF1_7.html" target="_top">"Ethernet Port"</a>. </p><br><a name = "TPXREF125"></a><h3><font face="Lucida Grande,Helvetica,Arial">FireWire Controller</font></h3><p>The Uni-N IC includes an IEEE 1394 FireWire controller thatimplements the FireWire link layer. The controller supports a maximumdata rate of 400 Mbits (50 MBytes) per second. </p><p>The controller IC implements the FireWire link layer. A physicallayer IC, called a PHY, implements the electrical signalling protocolof the FireWire interface. The PHY supports two FireWire ports byway of external connectors in the I/O bay. </p><p>The PHY is powered as long as the computer is connected toAC power. While the PHY is operating, it acts as a repeater fromone port to another so that the FireWire bus remains connected.For more information, see  <a href="../3Input-Output/iFireWire_Po_XREF1_4.html" target="_top">"FireWire Ports"</a>. </p><br>    <!-- insert Show/Hide frames --><script type="text/javascript" language="JavaScript"><!--function loadFrames(){if (top == self || (parent.frames[1].name != content))    top.location.href = 'index.html?' + location.href;}if (self != top) {  // loaded in frames  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');  }else {  // not loaded frames	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');}//--></script><!-- end Show/Hide frames --><a href="Microprocessor_and_Cache.html" target="content"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="KeyLargo_I_O_Controller.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerBottom --> <br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated June 5, 2002)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter-front" --><!-- end of footer --></body></html>