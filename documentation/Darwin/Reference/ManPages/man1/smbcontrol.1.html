<html><head><title>Mac OS X
 Manual Page For smbcontrol(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/smbcontrol" title="Mac OS X
 Manual Page for smbcontrol(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/smbcontrol"; name=smbcontrol(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SMBCONTROL(1)                                                                                  SMBCONTROL(1)



<b>NAME</b>
       smbcontrol - send messages to smbd, nmbd or winbindd processes

<b>SYNOPSIS</b>
       smbcontrol [-i] [-s]

       smbcontrol [destination] [message-type] [parameter]

<b>DESCRIPTION</b>
       This tool is part of the <a href="../man7/samba.7.html#//apple_ref/doc/man/7/samba"><b>samba</b>(7)</a> suite.

       smbcontrol  is  a  very small program, which sends messages to a <a href="../man8/smbd.8.html#//apple_ref/doc/man/8/smbd"><b>smbd</b>(8)</a>, a <a href="../man8/nmbd.8.html#//apple_ref/doc/man/8/nmbd"><b>nmbd</b>(8)</a>, or a <a href="../man8/winbindd.8.html#//apple_ref/doc/man/8/winbindd"><b>winbindd</b>(8)</a>
       daemon running on the system.

<b>OPTIONS</b>
       -h|--help
          Print a summary of command line options.

       -s &lt;configuration file&gt;
          The file specified contains the configuration details required by the server. The  information  in
          this  file  includes  server-specific  information  such  as what printcap file to use, as well as
          descriptions of all the services that the server is to provide. See <u>smb.conf</u> for more information.
          The default configuration file name is determined at compile time.

       -i
          Run  interactively.  Individual  commands  of  the form destination message-type parameters can be
          entered on STDIN. An empty command line or a "q" will quit the program.

       destination
          One of <u>nmbd</u>, <u>smbd</u> or a process ID.

          The <u>smbd</u> destination causes the message to "broadcast" to all smbd daemons.

          The <u>nmbd</u> destination causes the message to be sent to the nmbd daemon specified  in  the  <u>nmbd.pid</u>
          file.

          If a single process ID is given, the message is sent to only that process.

       message-type
          Type of message to send. See the section <b>MESSAGE-TYPES</b> for details.

       parameters
          any parameters required for the message-type

<b>MESSAGE-TYPES</b>
       Available message types are:

       close-share
          Order  smbd  to  close  the  client  connections to the named share. Note that this doesn't affect
          client connections to any other shares. This message-type takes an argument of the share name  for
          which  client connections will be closed, or the "*" character which will close all currently open
          shares. This may be useful if you made changes to the access controls on the share.  This  message
          can only be sent to <b>smbd</b>.

       debug
          Set  debug  level to the value specified by the parameter. This can be sent to any of the destina-<font color="#ffffff" class="whiteout">tions.&nbsp;destinations.</font>
          tions.

       force-election
          This message causes the nmbd daemon to force a new browse master election.

       ping
          Send specified number of "ping" messages and wait for the same number of  reply  "pong"  messages.
          This can be sent to any of the destinations.

       profile
          Change  profile settings of a daemon, based on the parameter. The parameter can be "on" to turn on
          profile stats collection, "off" to turn off profile stats collection, "count" to enable only  col-<font color="#ffffff" class="whiteout">lection&nbsp;collection</font>
          lection  of  count stats (time stats are disabled), and "flush" to zero the current profile stats.
          This can be sent to any smbd or nmbd destinations.

       debuglevel
          Request debuglevel of a certain daemon and write it to stdout. This can be sent to any of the des-<font color="#ffffff" class="whiteout">tinations.&nbsp;destinations.</font>
          tinations.

       profilelevel
          Request  profilelevel  of a certain daemon and write it to stdout. This can be sent to any smbd or
          nmbd destinations.

       printnotify
          Order smbd to send a printer notify message to any Windows NT clients connected to a printer. This
          message-type takes the following arguments:


             queuepause printername
                Send a queue pause change notify message to the printer specified.

             queueresume printername
                Send a queue resume change notify message for the printer specified.

             jobpause printername unixjobid
                Send a job pause change notify message for the printer and unix jobid specified.

             jobresume printername unixjobid
                Send a job resume change notify message for the printer and unix jobid specified.

             jobdelete printername unixjobid
                Send a job delete change notify message for the printer and unix jobid specified.

             Note  that  this message only sends notification that an event has occured. It doesn't actually
             cause the event to happen.

             This message can only be sent to <b>smbd</b>.

       samsync
          Order smbd to synchronise sam database from PDC (being BDC). Can only be sent to <b>smbd</b>.

          <b>Note</b>
          Not working at the moment

       samrepl
          Send sam replication message, with specified serial. Can only be sent to <b>smbd</b>. Should not be  used
          manually.

       dmalloc-mark
          Set  a  mark for dmalloc. Can be sent to both smbd and nmbd. Only available if samba is built with
          dmalloc support.

       dmalloc-log-changed
          Dump the pointers that have changed since the mark set by dmalloc-mark. Can be sent to  both  smbd
          and nmbd. Only available if samba is built with dmalloc support.

       shutdown
          Shut down specified daemon. Can be sent to both smbd and nmbd.

       pool-usage
          Print  a  human-readable  description  of  all  talloc(pool)  memory  usage  by the specified dae-<font color="#ffffff" class="whiteout">mon/process.&nbsp;daemon/process.</font>
          mon/process. Available for both smbd and nmbd.

       drvupgrade
          Force clients of printers using specified driver to update their local version of the driver.  Can
          only be sent to smbd.

       reload-config
          Force daemon to reload smb.conf configuration file. Can be sent to <b>smbd</b>, <b>nmbd</b>, or <b>winbindd</b>.

<b>VERSION</b>
       This man page is correct for version 3.0 of the Samba suite.

<b>SEE</b> <b>ALSO</b>
       <a href="../man8/nmbd.8.html#//apple_ref/doc/man/8/nmbd"><b>nmbd</b>(8)</a> and <a href="../man8/smbd.8.html#//apple_ref/doc/man/8/smbd"><b>smbd</b>(8)</a>.

<b>AUTHOR</b>
       The  original  Samba  software  and  related  utilities were created by Andrew Tridgell. Samba is now
       developed by the Samba Team as an Open Source project similar to the way the Linux kernel  is  devel-<font color="#ffffff" class="whiteout">oped.&nbsp;developed.</font>
       oped.

       The  original  Samba man pages were written by Karl Auer. The man page sources were converted to YODL
       format    (another    excellent    piece    of     Open     Source     software,     available     at
       <a href="ftp://ftp.icce.rug.nl/pub/unix/)">ftp://ftp.icce.rug.nl/pub/unix/)</a> and updated for the Samba 2.0 release by Jeremy Allison. The conver-
       sion to DocBook for Samba 2.2 was done by Gerald Carter. The conversion to DocBook XML 4.2 for  Samba
       3.0 was done by Alexander Bokovoy.




                                                                                               SMBCONTROL(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/smbcontrol.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/smbcontrol.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/smbcontrol.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
