<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Using ASDSP(IM:N)</Title>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING113></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-112.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-114.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-98.html"><B>Chapter 5 - AppleTalk Data Stream Protocol (ADSP) </B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING113-0></A>
<H1>Using ASDSP </H1>
 You can write an application that uses the AppleTalk Secure Data Stream Protocol (ASDSP) to<P>
<UL>
<LI>open a secure ASDSP connection (<CODE>sdspOpen</CODE>)
<LI>transmit encrypted data across a secure session (<CODE>dspWrite</CODE> using the encrypt flag)
<LI>read data decrypted by ASDSP that was sent as encrypted across a secure session (<CODE>dspRead</CODE>)<P>
</UL>
 The initiator end of your ASDSP client application must call the AOCE Authentication Manager to obtain credentials to pass on to ASDSP. ASDSP passes these credentials to the recipient end of the client application and uses them to establish a secure session in which the users of the client applications at both ends of the connection are positively identified. See <A HREF=Networking-104.html#MARKER-9-112>"About ASDSP" beginning on page 5-9</A> for more information about this process. ASDSP client applications at either end of a connection can send data to each other that ASDSP encrypts for transmission and then decrypts before delivering it to the client at the receiving end.<P>
 An application that currently uses ADSP needs little modification to use ASDSP. To open an ASDSP connection, the client application at each end must issue the secure data stream protocol open routine (<CODE>sdspOpen</CODE>) instead of the standard open routine (<CODE>dspOpen</CODE>). <BR>The <CODE>sdspOpen</CODE> routine uses a parameter block that, in addition to the standard ADSP parameters required to open a connection, contains the identity and credentials used in the challenge process; only the initiator end of the connection passes the credentials to ASDSP as input parameter values. The initiator and the recipient ends of a session each open the connection in a different manner:<P>
<UL>
<LI>The <A NAME=MARKER-2-233></A>initiator end of a session calls the <CODE>sdspOpen</CODE> routine using the request mode to direct ASDSP to open a connection with a specific socket. 
<LI>The <A NAME=MARKER-2-202></A>recipient end of a session calls the <CODE>sdspOpen</CODE> routine in either passive mode or accept mode. A recipient end of a connection can be either of the following:<P>
<UL>
<LI>a specific socket that waits passively to receive an ASDSP connection request (the connection end associated with the socket calls the <CODE>sdspOpen</CODE> routine with a value of <CODE>ocPassive</CODE> for the <CODE>ocMode</CODE> parameter)
<LI>a connection listener that listens for connection requests and passes them on to a connection server (the connection listener calls the <CODE>sdspOpen</CODE> routine with a value of <CODE>ocAccept</CODE> for the <CODE>ocMode</CODE> parameter, and the connection server accepts and acknowledges receipt of a connection request)<P>
</UL>
</UL>
 You issue the <CODE>sdspOpen</CODE> routine by calling the Device Manager's <CODE>PBControl</CODE> function and passing it a pointer to the DSP parameter block for ASDSP that holds all of the input and output parameters for the call. The parameters that the <CODE>sdspOpen</CODE> call requires differ for the initiator and recipient ends of a connection. The next section describes how to open an ASDSP connection and how to send encrypted data across it. <P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Networking-114.html#HEADING114-0">Opening a Secure Connection</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-112.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-114.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
