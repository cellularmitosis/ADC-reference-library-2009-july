<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>MyExceptionHandler (IM: PS)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING83></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCSoftware-82.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-84.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCSoftware-2.html"><B>PowerPC System Software</B></A> / <BR><DD><A HREF="PPCSoftware-67.html"><B>Chapter 4 - Exception Manager</B></A> / <A HREF="PPCSoftware-70.html"><B>Exception Manager Reference</B></A><BR><DL><DD><A HREF="PPCSoftware-82.html"><B>Application-Defined Routines</B></A> / <A HREF="PPCSoftware-79.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING83-0></A>
<H3>MyExceptionHandler</H3>
 An exception handler should have this prototype:<P>
<PRE>
OSStatus MyExceptionHandler (ExceptionInformation *theException);
</PRE>
<DL>
<DT>theException
<DD> The address of an exception information block describing the exception that triggered the exception handler.
</DL>
<A NAME=HEADING83-4></A>
<H5>DESCRIPTION</H5>
 You pass the address of your <CODE>MyExceptionHandler</CODE> routine to the Exception Manager's <CODE>InstallExceptionHandler</CODE> function. The Exception Manager subsequently calls your exception handler for all exceptions that arise in your application's context that are not intercepted by the Operating System.<P>
 Your exception handler can take whatever steps are necessary to handle the exception or to correct the error or special condition that caused the exception. If your handler is successful, it should return the <CODE>noErr</CODE> result code. If you pass back <CODE>noErr</CODE>, the Exception Manager restores the machine state to the state contained in the exception information record pointed to by the <CODE>theException</CODE> parameter and resumes execution.<P>
 If your handler is not able to handle the exception, it should return some other result code. However, if your handler returns a nonzero result code, the current application is likely to be terminated by the Process Manager.<P>
 An exception handler uses the same stack that is active at the time an exception occurs. To ensure that no stack data is destroyed, the Exception Manager advances the stack pointer prior to calling the exception handler.<P>
<A NAME=HEADING83-9></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 An exception handler must follow the same general guidelines as other kinds of asynchronous software. For instance, it cannot cause memory to be purged or compacted, and it should not use any handles that are not locked. See <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I> for a description of the restrictions applying to interrupt tasks and other asynchronous software.<P>
 An exception handler must be reentrant if it can itself generate exceptions.<P>
<A NAME=HEADING83-12></A>
<H5>SEE ALSO</H5>
 See <A HREF=PPCSoftware-69.html#MARKER-9-17>"Writing an Exception Handler" on page 4-7</A> for more information about writing an exception handler.<A NAME=MARKER-2-167></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="PPCSoftware-82.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-84.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="PPCSoftware-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
