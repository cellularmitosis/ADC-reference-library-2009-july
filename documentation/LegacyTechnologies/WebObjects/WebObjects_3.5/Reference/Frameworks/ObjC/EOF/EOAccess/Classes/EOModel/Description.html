<html><head><title></title></head>

<body bgcolor="#ffffff">

 

 

<h2><a name="//apple_ref/occ/cl/EOModel">EOModel</a>

 <BR>

</h2>

<p><B>Inherits From:</B><BR>  

NSObject



<p><B>Conforms To:</B>

NSObject (NSObject)



<p><B>Declared in:</B>

EOAccess/EOModel.h



<p><a name="364">

<a name="description"></a>

<h3>Class Description  </h3>

</a>An EOModel represents a mapping between a database model and a set of classes based on the entity-relationship model. The model contains a number of EOEntity objects representing the entities (tables) of the database model. Each EOEntity object has a number of EOAttribute and EORelationship objects representing the properties (columns or fields) of the entity in the database model. See EOAttribute.h and EORelationship.h for more information on attributes and relationships.<p>

An EOModel maintains a mapping between each of its EOEntity objects and a corresponding enterprise object class for use with the database level of the Enterprise Objects Framework. You can determine the EOEntity for a particular enterprise object with the <B>entityForObject: </B> method.<p>

An EOModel is specific to a particular database server, and stores information needed to connect to that server. This includes the name of an adaptor framework to load so that the Enterprise Objects Framework can communicate with the database. Models are stored in the file system in a manner similar to adaptor framework; see "Loading a Model File" below for more information.<p>

Models can have relationships that reference other models in the same model group. The other models may map to different databases and types of servers.<p>

Models are organized into model groups; see the EOModelGroup class specification for more information.<p>

<a name="370">

<h3> Loading a Model File</h3>

</a>EOModels are usually loaded from model files built with the EOModeler application rather than built programmatically. EOModel files are typically stored in a project or a framework.<p>

You use <B>initWithContentsOfFile: </B> to load an EOModel. However, loading an EOModel doesn't have the effect of loading all of its entities. EOModel files can be quite large, so to reduce start-up time, entity definitions are only loaded as needed. This incremental model loading is possible because an EOModel actually consists of one global file, with a separate file for each entity. Models have an <B>.eomodeld </B> file wrapper (which is actually a directory), and the individual entity files within the model are in ASCII format. The global file has the name<code> index.eomodeld</code>, and it contains the connection dictionary, the adaptor name, and a list of all of the entities in the model. It is this file that gets loaded when you use <B>initWithContentsOfFile: </B>. Thereafter, when an entity is loaded, EOModel posts an EOEntityLoadedNotification.<p>

Some of the EOModel methods contain the string "TableOfContents". An EOModel's "table of contents" corresponds to its global <code>index.eomodeld</code> file, which is used to access the model's entities. <code>index.eomodeld</code> is just the ASCII representation of a model's table of contents.<p>

<a name="374">

<h3> Creating an EOModel Programmatically</h3>

</a>The EOAdaptorChannel class declares methods for reading basic schema information from a relational database. You can use this information to build up an EOModel programmatically, and then enhance that model by defining extra relationships, flattening attributes, and so on. See the class description in the EOAdaptorChannel class specification for information on reading basic schema information, and see the other modeling classes' specifications for information on creating additional attributes and relationships.<p>

<dl><dt>Initializing an EOModel instance

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/initWithContentsOfFile:">- initWithContentsOfFile:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/initWithTableOfContentsPropertyList:path:">- initWithTableOfContentsPropertyList:path:</a>

</dl><dt>Saving an EOModel

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/encodeTableOfContentsIntoPropertyList:">- encodeTableOfContentsIntoPropertyList:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/writeToFile:">- writeToFile:</a>

</dl><dt>Loading a model's objects

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/loadAllModelObjects">- loadAllModelObjects</a>

</dl><dt>Getting a model's entities

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/addEntity:">- addEntity:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/entities">- entities</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/entityNamed:">- entityNamed:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/entityNames">- entityNames</a>

</dl><dt>Removing entities

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/removeEntity:">- removeEntity:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/removeEntityAndReferences:">- removeEntityAndReferences:</a>

</dl><dt>Getting the name

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/beautifyNames">- beautifyNames</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/name">- name</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/path">- path</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/setName:">- setName:</a>

</dl><dt>Checking references

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/referencesToProperty:">- referencesToProperty:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/externalModelsReferenced">- externalModelsReferenced</a>

</dl><dt>Getting an object's entity

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/entityForObject:">- entityForObject:</a>

</dl><dt>Setting the adaptor bundle

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/adaptorName">- adaptorName</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/setAdaptorName:">- setAdaptorName:</a>

</dl><dt>Setting the connection dictionary

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/connectionDictionary">- connectionDictionary</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/setConnectionDictionary:">- setConnectionDictionary:</a>

</dl><dt>Setting the user dictionary

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/userInfo">- userInfo</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/setUserInfo:">- setUserInfo:</a>

</dl><dt>Working with stored procedures

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/addStoredProcedure:">- addStoredProcedure:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/removeStoredProcedure:">- removeStoredProcedure:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/storedProcedureNames">- storedProcedureNames</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/storedProcedureNamed:">- storedProcedureNamed:</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/storedProcedures">- storedProcedures</a>

</dl><dt>Getting the model's group

<dl><dt><a href="#//apple_ref/occ/instm/EOModel/modelGroup">- modelGroup</a>

<dt><a href="#//apple_ref/occ/instm/EOModel/setModelGroup:">- setModelGroup:</a>

</dl></dl><a name="410">

<a name="instm"></a>

<h3>Instance Methods </h3>

</a><a name="411">

<h4> <a name="//apple_ref/occ/instm/EOModel/adaptorName">adaptorName</a></h4>

</a>- (NSString *)<code>adaptorName</code> <p>

Returns the name of the adaptor for the receiver. This name can be used with EOAdaptor's <B>adaptorWithName: </B> class method to create an adaptor.<p>

<a name="414">

<h4> <a name="//apple_ref/occ/instm/EOModel/addEntity:">addEntity:</a></h4>

</a>- (void)<code>addEntity:</code>(EOEntity *)<em>anEntity</em> <p>

Adds <em>anEntity</em> to the receiver. Raises an NSInvalidArgumentException if an error occurs (for example, if <em>anEntity</em> doesn't exist, if the entity belongs to another model, or if an entity of the same name is already in the receiver).<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/entities">- entities</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/removeEntity:"><B>- removeEntity:</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/removeEntityAndReferences:"><B>- removeEntityAndReferences:</a>

 </B><p><a name="418">

<h4> <a name="//apple_ref/occ/instm/EOModel/addStoredProcedure:">addStoredProcedure:</a></h4>

</a>- (void)<code>addStoredProcedure:</code>(EOStoredProcedure *)<em>storedProcedure</em> <p>

Adds <em>storedProcedure</em> to the receiver. Raises an NSInvalidArgumentException if an error occurs (for example, if a stored procedure of the same name is already in the receiver).<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/removeStoredProcedure:">- removeStoredProcedure:</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/storedProcedures"><B>- storedProcedures</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/storedProcedureNamed:"><B>- storedProcedureNamed:</a> </B>, 

<B><a href="#//apple_ref/occ/instm/EOModel/storedProcedureNames">- storedProcedureNames</a>

 </B><p><a name="422">

<h4> <a name="//apple_ref/occ/instm/EOModel/beautifyNames">beautifyNames</a></h4>

</a>- (void)<code>beautifyNames</code> <p>

Makes all of the receiver's named components conform to a standard convention. Names that conform to this style are all lower-case except for the initial letter of each embedded word other than the first, which is upper case. Thus, "NAME" becomes "name", and "FIRST_NAME" becomes "firstName".<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/name">- name</a>

 </B><p><a name="426">

<h4> <a name="//apple_ref/occ/instm/EOModel/connectionDictionary">connectionDictionary</a></h4>

</a>- (NSDictionary *)<code>connectionDictionary</code> <p>

Returns a dictionary containing information used to connect to the database server. The connection dictionary is the place to specify default login information for applications using the model. See the EOAdaptor class specification for more information.<p>

<a name="429">

<h4> <a name="//apple_ref/occ/instm/EOModel/encodeTableOfContentsIntoPropertyList:">encodeTableOfContentsIntoPropertyList:</a></h4>

</a>- (void)<code>encodeTableOfContentsIntoPropertyList:</code>(NSMutableDictionary *)<em>propertyList</em> <p>

Encodes the receiver into a <em>propertyList</em> representation. This method is used to get an ASCII representation of an EOModel in property list format.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/initWithTableOfContentsPropertyList:path:">- initWithTableOfContentsPropertyList:path:</a>

 </B><p><a name="433">

<h4> <a name="//apple_ref/occ/instm/EOModel/entities">entities</a></h4>

</a>- (NSArray *)<code>entities</code> <p>

Returns an array containing the receiver's entities. Note that this method loads every entity, and thus defeats the benefits of incremental model loading.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/entityNames">- entityNames</a>

 </B><p><a name="437">

<h4> <a name="//apple_ref/occ/instm/EOModel/entityForObject:">entityForObject:</a></h4>

</a>- (EOEntity *)<code>entityForObject:</code>(id)<em>anEO</em> <p>

Returns the entity associated with <em>anEO</em>, whether <em>anEO</em> is an instance of an enterprise object class, an instance of EOGenericRecord, or a fault object (see the EOFault class specification for information on faults). Returns <B>nil </B> if <em>anEO</em> has no associated entity.<p>

<a name="440">

<h4> <a name="//apple_ref/occ/instm/EOModel/entityNamed:">entityNamed:</a></h4>

</a>- (EOEntity *)<code>entityNamed:</code>(NSString *)<em>name</em> <p>

Returns the entity named <em>name</em>, or <B>nil </B> if no such entity exists. Posts an EOEntityLoadedNotification when the entity is loaded.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/entityNames">- entityNames</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/entities"><B>- entities</a>

 </B><p><a name="444">

<h4> <a name="//apple_ref/occ/instm/EOModel/entityNames">entityNames</a></h4>

</a>- (NSArray *)<code>entityNames</code> <p>

Returns an array containing the names of the EOModel's entities.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/entities">- entities</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/entityNamed:"><B>- entityNamed:</a>

 </B><p><a name="448">

<h4> <a name="//apple_ref/occ/instm/EOModel/externalModelsReferenced">externalModelsReferenced</a></h4>

</a>- (NSArray *)<code>externalModelsReferenced</code> <p>

Returns an array containing those models that are referenced by this model.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/referencesToProperty:">- referencesToProperty:</a>

 </B><p><a name="452">

<h4> <a name="//apple_ref/occ/instm/EOModel/initWithContentsOfFile:">initWithContentsOfFile:</a></h4>

</a>- <code>initWithContentsOfFile:</code>(NSString *)<em>path</em> <p>

Initializes a newly-allocated EOModel by reading the contents of the file named <em>path</em> as a model archive. The file specified by path can either be an old-style (<B>.eomodel </B>) or new-style (<B>.eomodeld </B>) model file. Sets the EOModel's name and path. <B>initWithContentsOfFile: </B> raises an NSInvalidArgumentException if for any reason it cannot initialize the model from the file specified by <em>path</em>.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/name">- name</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/path"><B>- path</a>

 </B><p><a name="456">

<h4> <a name="//apple_ref/occ/instm/EOModel/initWithTableOfContentsPropertyList:path:">initWithTableOfContentsPropertyList:path:</a></h4>

</a>- <code>initWithTableOfContentsPropertyList:</code>(NSDictionary *)<em>tableOfContents </em><code>path:</code>(NSString *)<em>path</em> <p>

Uses <em>tableOfContents</em> (which is the property list representation of an EOModel) with the file name <em>path</em> to initialize the receiver.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/encodeTableOfContentsIntoPropertyList:">- encodeTableOfContentsIntoPropertyList:</a>

 </B><p><a name="460">

<h4> <a name="//apple_ref/occ/instm/EOModel/loadAllModelObjects">loadAllModelObjects</a></h4>

</a>- (void)<code>loadAllModelObjects</code> <p>

Loads any of the receiver's entities, stored procedures, attributes, and relationships that have not yet been loaded.<p>

<B>See also: </B>  

<B><a href="../EOEntity.html#//apple_ref/occ/instm/EOEntity/attributes" target="_top">- attributes </B> (EOEntity)</a>, <a href="#//apple_ref/occ/instm/EOModel/entities"><B>- entities</a> </B>, <B><a href="../EOEntity/EOEntity.html#//apple_ref/occ/instm/EOEntity/relationships" target="_top">- relationships </B> (EOEntity)</a>, <a href="#//apple_ref/occ/instm/EOModel/storedProcedures"><B>- storedProcedures</a>

 </B><p><a name="464">

<h4> <a name="//apple_ref/occ/instm/EOModel/modelGroup">modelGroup</a></h4>

</a>- (EOModelGroup *)<code>modelGroup</code> <p>

Returns the model group of which the receiver is a part.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/setModelGroup:">- setModelGroup:</a>

 </B><p><a name="468">

<h4> <a name="//apple_ref/occ/instm/EOModel/name">name</a></h4>

</a>- (NSString *)<code>name</code> <p>

Returns the receiver's name.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/path">- path</a>

 </B><p><a name="472">

<h4> <a name="//apple_ref/occ/instm/EOModel/path">path</a></h4>

</a>- (NSString *)<code>path</code> <p>

Returns the name of the EOModel file used to create the receiver, or <B>nil </B> if the model wasn't initialized from a file.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/name">- name</a>

 </B><p><a name="476">

<h4> <a name="//apple_ref/occ/instm/EOModel/referencesToProperty:">referencesToProperty:</a></h4>

</a>- (NSArray *)<code>referencesToProperty:</code>(id)<em>aProperty</em> <p>

Returns an array of all properties in the receiver that reference <em>aProperty</em>, whether derived attributes, relationships that reference <em>aProperty</em>, and so on. Returns <B>nil </B> if <em>aProperty</em> isn't referenced by any of the properties in the model.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/externalModelsReferenced">- externalModelsReferenced</a>

 </B><p><a name="480">

<h4> <a name="//apple_ref/occ/instm/EOModel/removeEntity:">removeEntity:</a></h4>

</a>- (void)<code>removeEntity:</code>(EOEntity *)<em>name</em> <p>

Removes the entity with the given <em>name</em> without performing any referential integrity checking.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/addEntity:">- addEntity:</a>, <a href="#//apple_ref/occ/instm/EOModel/removeEntityAndReferences:">- removeEntityAndReferences:</a>

 </B><p><a name="553">

<h4> <a name="//apple_ref/occ/instm/EOModel/removeEntityAndReferences:">removeEntityAndReferences:</a></h4>

</a>- <B>(void)removeEntityAndReferences:(EOEntity *) </B><em>entity</em><p>

<B>Removes  </B><em>entity</em><B> and any attributes or relationships in other entities that reference  </B><em>entity</em><B>. </B><p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/removeEntity:">- removeEntity:</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/addEntity:"><B>- addEntity:</a>

 </B><p><a name="345">

<h4> <a name="//apple_ref/occ/instm/EOModel/removeStoredProcedure:">removeStoredProcedure:</a></h4>

</a>- (void)<code>removeStoredProcedure:</code>(EOStoredProcedure *)<em>storedProcedure</em> <p>

Removes the specified stored procedure without checking to see if an entity uses it.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/addStoredProcedure:">- addStoredProcedure:</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/storedProcedures"><B>- storedProcedures</a>

 </B><p><a name="487">

<h4> <a name="//apple_ref/occ/instm/EOModel/setAdaptorName:">setAdaptorName:</a></h4>

</a>- (void)<code>setAdaptorName:</code>(NSString *)<em>adaptorName</em> <p>

Sets the name of the receiver's adaptor to <em>adaptorName</em>.<p>

<a name="490">

<h4> <a name="//apple_ref/occ/instm/EOModel/setConnectionDictionary:">setConnectionDictionary:</a></h4>

</a>- (void)<code>setConnectionDictionary:</code>(NSDictionary *)<em>connectionDictionary</em> <p>

Sets the dictionary containing information used to connect to the database to <em>connectionDictionary</em>. See the EOAdaptor class specification for more information on working with <B>setConnectionDictionary: </B>.<p>

<a name="493">

<h4> <a name="//apple_ref/occ/instm/EOModel/setModelGroup:">setModelGroup:</a></h4>

</a>- (void)<code>setModelGroup:</code>(EOModelGroup *)<em>group</em> <p>

Sets the model group of which the receiver should be a part. <p>

<B>Note:	</B>

You shouldn't change an EOModel's model group after it has been bound to other models in its 

group.

<p><B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/modelGroup">- modelGroup</a>

 </B><p><a name="498">

<h4> <a name="//apple_ref/occ/instm/EOModel/setName:">setName:</a></h4>

</a>- (void)<code>setName:</code>(NSString *)<em>name</em> <p>

Sets the name of the receiver to <em>name</em>.<p>

<a name="501">

<h4> <a name="//apple_ref/occ/instm/EOModel/setUserInfo:">setUserInfo:</a></h4>

</a>- (void)<code>setUserInfo:</code>(NSDictionary *)<em>dictionary</em> <p>

Sets the <em>dictionary</em> of auxiliary data, which your application can use for whatever it needs. <em>dictionary</em> can only contain property list data types (that is, NSDictionaries, NSStrings, NSArrays, and NSDatas).<p>

<a name="504">

<h4> <a name="//apple_ref/occ/instm/EOModel/storedProcedureNamed:">storedProcedureNamed:</a></h4>

</a>- (EOStoredProcedure *)<code>storedProcedureNamed:</code>(NSString *)<em>name</em> <p>

Returns the stored procedure named <em>name</em>, or <B>nil </B> if the model doesn't contain a stored procedure with the given name.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/storedProcedureNames">- storedProcedureNames</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/storedProcedures"><B>- storedProcedures</a>

 </B><p><a name="508">

<h4> <a name="//apple_ref/occ/instm/EOModel/storedProcedureNames">storedProcedureNames</a></h4>

</a>- (NSArray *)<code>storedProcedureNames</code> <p>

Returns an array containing the names of all of the model's stored procedures.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/storedProcedureNamed:">- storedProcedureNamed:</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/storedProcedures"><B>- storedProcedures</a>

 </B><p><a name="512">

<h4> <a name="//apple_ref/occ/instm/EOModel/storedProcedures">storedProcedures</a></h4>

</a>- (NSArray *)<code>storedProcedures</code> <p>

Returns an array containing all of the model's stored procedures. Note that this method loads each of the model's stored procedures, thus defeating the benefits of incremental model loading.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/storedProcedureNames">- storedProcedureNames</a> </B>, <a href="#//apple_ref/occ/instm/EOModel/storedProcedureNamed:"><B>- storedProcedureNamed:</a>

 </B><p><a name="516">

<h4> <a name="//apple_ref/occ/instm/EOModel/userInfo">userInfo</a></h4>

</a>- (NSDictionary *)<code>userInfo</code> <p>

Returns a dictionary of user data. You can use this to store any auxiliary information it needs.<p>

<a name="519">

<h4> <a name="//apple_ref/occ/instm/EOModel/writeToFile:">writeToFile:</a></h4>

</a>- (void)<code>writeToFile:</code>(NSString *)<em>path</em> <p>

Saves the receiver in the directory specified by <em>path</em>. If the file specified by path already exists, a backup copy is first created (using path with a "~" character appended). As a side-effect, this method resets the current path. <p>

<B>writeToFile: </B> raises an NSInvalidArgumentException on any error which prevents the file from being written.<p>

<B>See also: </B>  

<B><a href="#//apple_ref/occ/instm/EOModel/path">- path</a>

 </B><p> <p>

EOModel declares and posts the following notification.<p>

<a name="//apple_ref/c/data/EOEntityLoadedNotification">EOEntityLoadedNotification</a><p>

Posted after an EOEntity is loaded into memory.<p>

The notification contains:<p>

<B>Notification Object </B>	The entity that was loaded.

<dl><dt>

</dl>

 

 





<i>Copyright &#169; 1997, Apple Computer, Inc.   All rights

reserved.</i>



<!-- Last updated: 10/16/97 11:25:04 -->



</body>

</html>

