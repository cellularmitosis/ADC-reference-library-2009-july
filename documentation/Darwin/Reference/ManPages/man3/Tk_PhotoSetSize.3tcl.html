<html><head><title>Mac OS X
 Manual Page For Tk_PhotoSetSize(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tk_PhotoSetSize" title="Mac OS X
 Manual Page for Tk_PhotoSetSize(3tcl)"><a name="//apple_ref/doc/man/3/Tk_PhotoSetSize" title="Mac OS X
 Manual Page for Tk_PhotoSetSize(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tk_PhotoSetSize"; name=Tk_PhotoSetSize(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tk_FindPhoto(3)                             Tk Library Procedures                            <a href="Tk_FindPhoto.3tcl.html#//apple_ref/doc/man/3/Tk_FindPhoto">Tk_FindPhoto(3)</a>



____________________________________________________________________________________________________________

<b>NAME</b>
       Tk_FindPhoto,  Tk_PhotoPutBlock, Tk_PhotoPutZoomedBlock, Tk_PhotoGetImage, Tk_PhotoBlank, Tk_PhotoEx-<font color="#ffffff" class="whiteout">pand,&nbsp;Tk_PhotoExpand,</font>
       pand, Tk_PhotoGetSize, Tk_PhotoSetSize - manipulate the image data stored in a photo image.

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       Tk_PhotoHandle
       <b>Tk_FindPhoto</b>(<u>interp,</u> <u>imageName</u>)                                                                       |

       void
       <b>Tk_PhotoPutBlock</b>(<u>handle,</u> <u>blockPtr,</u> <u>x,</u> <u>y,</u> <u>width,</u> <u>height,</u> <u>compRule</u>)

       void
       <b>Tk_PhotoPutZoomedBlock</b>(<u>handle,</u> <u>blockPtr,</u> <u>x,</u> <u>y,</u> <u>width,</u> <u>height,zoomX,</u> <u>zoomY,</u> <u>subsampleX,</u> <u>subsampleY,</u> <u>compRule</u>)

       int
       <b>Tk_PhotoGetImage</b>(<u>handle,</u> <u>blockPtr</u>)

       void
       <b>Tk_PhotoBlank</b>(<u>handle</u>)

       void
       <b>Tk_PhotoExpand</b>(<u>handle,</u> <u>width,</u> <u>height</u>)

       void
       <b>Tk_PhotoGetSize</b>(<u>handle,</u> <u>widthPtr,</u> <u>heightPtr</u>)

       void
       <b>Tk_PhotoSetSize</b>(<u>handle,</u> <u>width,</u> <u>height</u>)

<b>ARGUMENTS</b>
       Tcl_Interp           <u>*interp</u>       (in)      Interpreter in which image was created.                  |

       CONST char           <u>*imageName</u>    (in)      Name of the photo image.

       Tk_PhotoHandle       <u>handle</u>        (in)      Opaque  handle  identifying  the  photo  image   to   be
                                                    affected.

       Tk_PhotoImageBlock   <u>*blockPtr</u>     (in)      Specifies  the address and storage layout of image data.

       int                  <u>x</u>             (in)      Specifies the X coordinate where the top-left corner  of
                                                    the block is to be placed within the image.

       int                  <u>y</u>             (in)      Specifies  the Y coordinate where the top-left corner of
                                                    the block is to be placed within the image.

       int                  <u>width</u>         (in)      Specifies the width of the image  area  to  be  affected
                                                    (for  <b>Tk_PhotoPutBlock</b>)  or the desired image width (for
                                                    <b>Tk_PhotoExpand</b> and <b>Tk_PhotoSetSize</b>).                     |

       int                  <u>com-</u>                                                                             |
       <u>pRule</u>      (in)                                                               |                       |
                                                    Specifies  the  compositing  rule  used  when  combining |
                                                    transparent pixels in a  block  of  data  with  a  photo |
                                                    image.  Must be one of TK_PHOTO_COMPOSITE_OVERLAY (which |
                                                    puts the block of data over  the  top  of  the  existing |
                                                    photo  image, with the previous contents showing through |
                                                    in  the  transparent  bits)  or   TK_PHOTO_COMPOSITE_SET |
                                                    (which discards the existing photo image contents in the |
                                                    rectangle covered by the data block.)

       int                  <u>height</u>        (in)      Specifies the height of the image area  to  be  affected
                                                    (for  <b>Tk_PhotoPutBlock</b>) or the desired image height (for
                                                    <b>Tk_PhotoExpand</b> and <b>Tk_PhotoSetSize</b>).

       int                  <u>*widthPtr</u>     (out)     Pointer to location in which to store the image width.

       int                  <u>*heightPtr</u>    (out)     Pointer to location in which to store the image  height.

       int                  <u>subsampleX</u>    (in)      Specifies  the subsampling factor in the X direction for
                                                    input image data.

       int                  <u>subsampleY</u>    (in)      Specifies the subsampling factor in the Y direction  for
                                                    input image data.

       int                  <u>zoomX</u>         (in)      Specifies  the zoom factor to be applied in the X direc-<font color="#ffffff" class="whiteout">tion&nbsp;direction</font>
                                                    tion to pixels being written to the photo image.

       int                  <u>zoomY</u>         (in)      Specifies the zoom factor to be applied in the Y  direc-<font color="#ffffff" class="whiteout">tion&nbsp;direction</font>
                                                    tion to pixels being written to the photo image.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       <b>Tk_FindPhoto</b>  returns an opaque handle that is used to identify a particular photo image to the other
       procedures.  The parameter is the name of the image, that is, the name specified to the <b>image</b>  <b>create</b>
       <b>photo</b> command, or assigned by that command if no name was specified.

       <b>Tk_PhotoPutBlock</b> is used to supply blocks of image data to be displayed.  The call affects an area of
       the image of size <u>width</u> x <u>height</u> pixels, with its top-left  corner  at  coordinates  (<u>x</u>,<u>y</u>).   All  of
       <u>width</u>,  <u>height</u>,  <u>x</u>, and <u>y</u> must be non-negative.  If part of this area lies outside the current bounds
       of the image, the image will be expanded to include the  area,  unless  the  user  has  specified  an
       explicit  image  size  with the <b>-width</b> and/or <b>-height</b> widget configuration options (see <a href="../mann/photo.ntcl.html#//apple_ref/doc/man/n/photo">photo(n)</a>); in
       that case the area is silently clipped to the image boundaries.

       The <u>block</u> parameter is a pointer to a <b>Tk_PhotoImageBlock</b> structure, defined as follows:
              typedef struct {
                unsigned char *<u>pixelPtr</u>;
                int <u>width</u>;
                int <u>height</u>;
                int <u>pitch</u>;
                int <u>pixelSize</u>;
                int <u>offset[4]</u>;
              } Tk_PhotoImageBlock;
       The <u>pixelPtr</u> field points to the first pixel, that is, the top-left pixel in the  block.   The  <u>width</u>
       and  <u>height</u>  fields specify the dimensions of the block of pixels.  The <u>pixelSize</u> field specifies the
       address difference between two horizontally adjacent pixels.  Often it is 3 or 4, but it can have any
       value.  The <u>pitch</u> field specifies the address difference between two vertically adjacent pixels.  The
       <u>offset</u> array contains the offsets from the address of a pixel to the addresses of the bytes  contain-<font color="#ffffff" class="whiteout">ing&nbsp;containing</font>
       ing  the red, green, blue and alpha (transparency) components.  These are normally 0, 1, 2 and 3, but
       can have other values, e.g., for images that are stored as separate red, green and blue planes.

       The <u>compRule</u> parameter to <b>Tk_PhotoPutBlock</b> specifies a compositing rule that says  what  to  do  with |
       transparent  pixels.   The  value  TK_PHOTO_COMPOSITE_OVERLAY  says that the previous contents of the |
       photo image should show through, and the value TK_PHOTO_COMPOSITE_SET says that the previous contents |
       of  the  photo  image  should be completely ignored, and the values from the block be copied directly |
       across.  The behavior in Tk8.3 and earlier was equivalent to having TK_PHOTO_COMPOSITE_OVERLAY  as  a |
       compositing rule.

       The  value given for the <u>width</u> and <u>height</u> parameters to <b>Tk_PhotoPutBlock</b> do not have to correspond to
       the values specified in <u>block</u>.  If they are smaller, <b>Tk_PhotoPutBlock</b> extracts a sub-block  from  the
       image  data supplied.  If they are larger, the data given are replicated (in a tiled fashion) to fill
       the specified area.  These rules operate independently in the horizontal and vertical directions.

       <b>Tk_PhotoPutZoomedBlock</b> works like <b>Tk_PhotoPutBlock</b> except that the image can be reduced  or  enlarged
       for  display.   The <u>subsampleX</u> and <u>subsampleY</u> parameters allow the size of the image to be reduced by
       subsampling.  <b>Tk_PhotoPutZoomedBlock</b> will use only pixels from the input image  whose  X  coordinates
       are  multiples  of  <u>subsampleX</u>, and whose Y coordinates are multiples of <u>subsampleY</u>.  For example, an
       image of 512x512 pixels can be reduced to 256x256 by setting <u>subsampleX</u> and <u>subsampleY</u> to 2.

       The <u>zoomX</u> and <u>zoomY</u> parameters allow the image to be enlarged by pixel replication.   Each  pixel  of
       the  (possibly  subsampled) input image will be written to a block <u>zoomX</u> pixels wide and <u>zoomY</u> pixels
       high of the displayed image.  Subsampling and zooming can be used together for special effects.

       <b>Tk_PhotoGetImage</b> can be used to retrieve image data from a photo image.   <b>Tk_PhotoGetImage</b>  fills  in
       the  structure  pointed to by the <u>blockPtr</u> parameter with values that describe the address and layout
       of the image data that the photo image has stored internally.  The values are valid until  the  image
       is  destroyed  or  its size is changed.  <b>Tk_PhotoGetImage</b> returns 1 for compatibility with the corre-<font color="#ffffff" class="whiteout">sponding&nbsp;corresponding</font>
       sponding procedure in the old photo widget.

       <b>Tk_PhotoBlank</b> blanks the entire area of the photo image.  Blank areas of a photo image are  transpar-<font color="#ffffff" class="whiteout">ent.&nbsp;transparent.</font>
       ent.

       <b>Tk_PhotoExpand</b>  requests  that the widget's image be expanded to be at least <u>width</u> x <u>height</u> pixels in
       size.  The width and/or height are unchanged if the user has specified an  explicit  image  width  or
       height  with  the  <b>-width</b>  and/or <b>-height</b> configuration options, respectively.  If the image data are
       being supplied in many small blocks, it is more efficient to use <b>Tk_PhotoExpand</b> or <b>Tk_PhotoSetSize</b> at
       the  beginning  rather than allowing the image to expand in many small increments as image blocks are
       supplied.

       <b>Tk_PhotoSetSize</b> specifies the size of the image, as if the user had specified  the  given  <u>width</u>  and
       <u>height</u>  values  to the <b>-width</b> and <b>-height</b> configuration options.  A value of zero for <u>width</u> or <u>height</u>
       does not change the image's width or height, but allows the width or height to be changed  by  subse-<font color="#ffffff" class="whiteout">quent&nbsp;subsequent</font>
       quent calls to <b>Tk_PhotoPutBlock</b>, <b>Tk_PhotoPutZoomedBlock</b> or <b>Tk_PhotoExpand</b>.

       <b>Tk_PhotoGetSize</b> returns the dimensions of the image in *<u>widthPtr</u> and *<u>heightPtr</u>.


<b>PORTABILITY</b>
       In  Tk  8.3 and earlier, <b>Tk_PhotoPutBlock</b> and <b>Tk_PhotoPutZoomedBlock</b> had different signatures. If you |
       want to compile code that uses the old interface against 8.4 without updating your code,  compile  it |
       with the flag -DUSE_COMPOSITELESS_PHOTO_PUT_BLOCK.  Code linked using Stubs against older versions of |
       Tk will continue to work.


<b>CREDITS</b>
       The code for the photo image type was developed by Paul Mackerras, based on his earlier photo  widget
       code.


<b>KEYWORDS</b>
       photo, image



Tk                                                   8.0                                     <a href="Tk_FindPhoto.3tcl.html#//apple_ref/doc/man/3/Tk_FindPhoto">Tk_FindPhoto(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tk_PhotoSetSize.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tk_PhotoSetSize.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tk_PhotoSetSize.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
