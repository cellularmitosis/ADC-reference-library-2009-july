<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Movie Basics: Overview of Application-Defined Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Overview of Application-Defined Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions" title="Overview of Application-Defined Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../MovieBasics-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000545" target="_top">Movie Basics</a> &gt; <a href="../A-Intro/1Introduction.html#//apple_ref/doc/uid/TP40000908-IntroductiontoQuickTimeMovieBasics-DontLinkElementID_83">QuickTime Movie Basics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../C-Chapter/3SavingMovies.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../E-Chapter/5WorkingWithApplicat.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-SW1" title="Overview of Application-Defined Functions"></a>
<h1>Overview of Application-Defined Functions</h1>

<p>This section describes the functions your application can provide when interacting with the Movie Toolbox, including some functions that your application must provide to make use of certain services. These functions allow you to monitor, customize, and extend the behavior of the Movie Toolbox by executing functions you create at various points in the operation of the Movie Toolbox.</p>



<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_19">Progress Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_20">Cover Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_21">Error-Notification Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_22">Movie Callout Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_23">File Filter Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_24">Custom Dialog Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_25">Modal-Dialog Filter Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_26">Standard File Activation Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_27">Callback Event Functions</a>
				
			<br/>
			
        
			
			
				<a href="4OverviewofApplicati.html#//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_28">Text Functions</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_19" title="Progress Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-ProgressFunctions" title="Progress Functions"></a>Progress Functions</h2>
<p>Some Movie Toolbox functions can take a long time to execute. For example, creating a movie file that contains all of its data may be quite an involved process for a movie that has many large media structures. During these operations, your application should give the user some indication of the progress of the task. The Movie Toolbox allows you to monitor its progress on long operations with a progress function.</p>
<p>The Movie Toolbox calls your progress function at regular intervals during long operations. The Movie Toolbox determines whether to call your function based on the duration of the operation; your function will not be called unnecessarily. When it calls your function, the Movie Toolbox provides information about the operation that is underway and its relative completion. You can use this information to display an informational dialog box to the user.</p>
<p>You assign a progress function to a movie by calling the <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/SetMovieProgressProc" target="_top">SetMovieProgressProc</a></code> function. You should assign your progress function when you open the movie; the Movie Toolbox will call your function when it is appropriate to do so. One progress function may support more than one movie. When the Movie Toolbox calls your function, it provides you with the movie identifier so that you can discriminate between various movies.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_20" title="Cover Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-CoverFunctions" title="Cover Functions"></a>Cover Functions</h2>
<p>The Movie Toolbox allows your application to perform custom processing whenever one of your movies covers a screen region or reveals a region that was previously covered. You perform this processing using cover functions.</p>
<p>There are two types of cover functions: those that are called when your movie covers a screen region, and those that are called when your movie uncovers a screen region, revealing a region that was previously covered. You can use a cover function to detect when a movie changes size.</p>
<p>Cover functions that are called when your movie covers a screen region are responsible for erasing the region; you may choose to save the hidden region in an offscreen buffer. Cover functions that are called when your movie reveals a hidden screen region must redisplay the hidden region.</p>
<p>The Movie Toolbox sets the graphics world before it calls your cover function. Your function must not change the graphics world.</p>
<p>The Movie Toolbox provides default cover functions. When your movie uncovers a region, the default function that is called erases the movie&#8217;s image by displaying the graphics port&#8217;s background color and pattern. You can set the port&#8217;s characteristics by calling the <code><a href="../../../../Reference/QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/SetMovieGWorld" target="_top">SetMovieGWorld</a></code> function. When your movie covers a region, the default function that is called does nothing.</p>
<p>Use the <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/SetMovieCoverProcs" target="_top">SetMovieCoverProcs</a></code> function to set both types of cover functions.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_21" title="Error-Notification Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-ErrorNotificationFunctions" title="Error-Notification Functions"></a>Error-Notification Functions</h2>
<p>The Movie Toolbox lets your application perform custom error notification. Your application must identify its custom error-notification function to the Movie Toolbox. Error-notification functions are particularly helpful when you are debugging your program.</p>
<p>The <code><a href="../../../../Reference/QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/SetMoviesErrorProc" target="_top">SetMoviesErrorProc</a></code> function allows you to identify your application&#8217;s error-notification function in the <code>errProc</code> parameter.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_22" title="Movie Callout Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-MovieCalloutFunctions" title="Movie Callout Functions"></a>Movie Callout Functions</h2>
<p>The <code><a href="../../../../Reference/QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/PlayMoviePreview" target="_top">PlayMoviePreview</a></code> function plays a movie&#8217;s preview. You provide a pointer to a movie callout function in the callOutProc parameter.</p>
<p>The Movie Toolbox calls your movie callout function repeatedly while the movie preview is playing. You can use this function to stop the preview. If you do not want to assign a function, set the callOutProc parameter to <code>nil</code>.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_23" title="File Filter Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-FileFilterFunctions" title="File Filter Functions"></a>File Filter Functions</h2>
<p>A file filter function filters the files that are displayed to the user in a dialog box. You specify this function in the <code>fileFilter</code> parameter of the <code><!--a target="_top" -->SFGetFilePreview<!--/a--></code>, <code><!--a target="_top" -->StandardGetFilePreview<!--/a--></code>, and <code><!--a target="_top" -->CustomGetFilePreview<!--/a--></code> routines. If this parameter is not <code>nil</code>, <code><!--a target="_top" -->SFGetFilePreview<!--/a--></code> calls the function for each file to determine whether to display the file to the user. The <code><!--a target="_top" -->SFGetFilePreview<!--/a--></code> function supplies you with the information it receives from the File Manager&#8217;s GetFileInfo routine.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_24" title="Custom Dialog Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-CustomDialogFunctions" title="Custom Dialog Functions"></a>Custom Dialog Functions</h2>
<p>A dialog hook function handles user selections in a dialog box. A custom dialog function lets you support the template in the custom dialog template that you specified with the&#160;CustomGetFilePreview routine. This function corresponds to the File Manager&#8217;s <code>CustomGetFile</code> routine.</p>
<p>You specify your dialog function in the dlgHook parameter of <code><!--a target="_top" -->CustomGetFilePreview<!--/a--></code>. You can use this parameter to support a custom dialog box function you have supplied by specifying a dialog template resource in your resource file. You specify the dialog template&#8217;s resource ID with the <code>dlgID</code> parameter. If you are not supplying a custom dialog function, set this parameter to <code>nil</code>.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_25" title="Modal-Dialog Filter Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-ModalDialogFilterFunctions" title="Modal-Dialog Filter Functions"></a>Modal-Dialog Filter Functions</h2>
<p>The <code><!--a target="_top" -->CustomGetFilePreview<!--/a--></code> routine presents an Open dialog box to the user and allows the user to view file previews. This function differs from <code><!--a target="_top" -->StandardGetFilePreview<!--/a--></code> in that you can provide a custom dialog template and functions to support your template. This function corresponds to the existing <code>CustomGetFile</code> routine.</p>
<p>You specify your modal-dialog filter function in the <code>filterProc</code> parameter. Your modal-dialog filter function gives you greater control over the interface presented to the user.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_87" title="Note"></a>
<p><strong>Note:</strong>&nbsp;
A modal-dialog filter function controls events closer to their source by filtering the events received from the Event Manager. The Standard File Package itself contains an internal modal-dialog filter function that maps keypresses and other user input onto the equivalent dialog box items. If you also want to process events at this level, you can supply your own filter function.  </p>
</div>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_26" title="Standard File Activation Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-StandardFileActivationFunctions" title="Standard File Activation Functions"></a>Standard File Activation Functions</h2>
<p>The <code><!--a target="_top" -->CustomGetFilePreview<!--/a--></code> function presents an Open dialog box to the user and allows the user to view file previews. This function differs from the <code><!--a target="_top" -->StandardGetFilePreview<!--/a--></code> function in that you can provide a custom dialog template and functions to support your template. The <code><!--a target="_top" -->CustomGetFilePreview<!--/a--></code> function corresponds to the File Manager&#8217;s <code>CustomGetFile</code> routine.</p>
<p>You specify your activation function in the <code>activateProc</code> parameter. An activation function controls the highlighting of any items whose shape is known only by your application.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_27" title="Callback Event Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-CallbackEventFunctions" title="Callback Event Functions"></a>Callback Event Functions</h2>
<p>The <code><a href="../../../../Reference/QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/CallMeWhen" target="_top">CallMeWhen</a></code> function schedules a callback event. You specify the callback event in the <code>callBackProc</code> parameter.</p>

<a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-DontLinkElementID_28" title="Text Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000908-OverviewofApplicationDefinedFunctions-TextFunctions" title="Text Functions"></a>Text Functions</h2>
<p>You can use the MyTextProc function described in this section to pass a handle to a specified sample containing formatted text, along with the movie in which the text is being displayed, a pointer to a flag variable, and your reference constant. You specify the desired operations on the text and return an indication of whether you want to display the text in the <code>displayFlag</code> parameter.</p>




        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../C-Chapter/3SavingMovies.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../E-Chapter/5WorkingWithApplicat.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-01-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/RM/MovieBasics/MTEditing/D-Chapter/4OverviewofApplicati.html%3Fid%3DTP40000908-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/RM/MovieBasics/MTEditing/D-Chapter/4OverviewofApplicati.html%3Fid%3DTP40000908-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/RM/MovieBasics/MTEditing/D-Chapter/4OverviewofApplicati.html%3Fid%3DTP40000908-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>