<HTML>		<HEAD>		<TITLE>			EOEvent		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "CIAJIBIA"><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/occ/cl/EOEvent">EOEvent</a></FONT></h1><br></a><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> NSObject</dd></dl></blockquote><blockquote><dl><b>Declared in: </b><dd>EOControl/EOEvent.h</dd></dl></blockquote><br><br><HR SIZE=4><br><h2>Class Description</h2><hr><p>EOEvent is an abstract class that providesconcrete subclasses with a structure for storing information (suchas duration) about a logged event.</p><p>Subclasses of EOEvent don't need to override any inheritedmethods or implement any methods at all. You can customize the behaviorif you want, but the EOEvent implementations are sufficient formost cases. Generally, to create a subclass of EOEvent, you merelydeclare it and create a description file that defines the eventsyour subclass logs. The class itself usually declares no instancevariables and implements no methods. The abstract implementationgets all the information it needs from the description file. Formore information on the description file, see the  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> method description. </p><p>Most of the work involved in logging custom events is instrumentingyour code. For more information on that and on the event loggingsystem itself, see the  <a frame= "conv" href="../Classes/EOEventCenter.html#CAHBICFD">EOEventCenter</a> class specification.</p><br><br><br><h2>Constants</h2><hr><p>In <tt>EOEvent.h</tt>, EOControl defines the <code>int</code> type <code>EOEventSignatureType</code> whichis the argument type for the methods  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/signatureOfType:">signatureOfType:</a>,  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/aggregateEvents:bySignatureOfType:">aggregateEvents:bySignatureOfType:</a>,and  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/groupEvents:bySignatureOfType:">groupEvents:bySignatureOfType:</a>. <tt>EOEvent.h</tt> alsodefines the following enumeration constant as a possible signature typeto be used as the argument to these methods.</p><ul><li><a name = "CIAHDADB"><tt>EOBasicEventSignature</tt></a></li></ul><p>Additionally, <tt>EOEvent.h</tt> definesthe following NSString constant to be used as a key into the dictionary returnedby  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a>.The <code>EOEventGroupName</code> entryprovides the description of the family of events represented bythe event class.</p><ul><li><a name = "CIAFDEHF"><tt>EOEventGroupName</tt></a></li></ul><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Defining an event type</dt><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">+ eventTypeDescriptions</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/description">+ description</a></dd></dl><dl><dt>Accessing informationabout the event</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/description">- description</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/title">- title</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/startDate">- startDate</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/duration">- duration</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/durationWithoutSubevents">- durationWithoutSubevents</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/setType:">- setType:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/type">- type</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/setInfo:">- setInfo:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/info">- info</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/comment">- comment</a></dd></dl><dl><dt>Grouping and AggregatingEvents</dt><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/aggregateEvents:bySignatureOfType:">+ aggregateEvents:bySignatureOfType:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/groupEvents:bySignatureOfType:">+ groupEvents:bySignatureOfType:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/signatureOfType:">- signatureOfType:</a></dd></dl><dl><dt>Displaying event information</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/displayComponentName">- displayComponentName</a></dd></dl><dl><dt>Traversing the eventhierarchy</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/parentEvent">- parentEvent</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/subevents">- subevents</a></dd></dl><dl><dt>Logging events</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/markAtomicWithInfo:">- markAtomicWithInfo:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/markEnd">- markEnd</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/markStartWithInfo:">- markStartWithInfo:</a></dd></dl></blockquote><br><br><h2>Class Methods</h2><hr><a name = "CIACBGJG"><BR><h3><a name="//apple_ref/occ/clm/EOEvent/aggregateEvents:bySignatureOfType:">aggregateEvents:bySignatureOfType:</a></h3></a><p><code>+ (NSArray *)<b>aggregateEvents:</b>(NSArray*)<em>events</em><b>bySignatureOfType:</b>(EOEventSignatureType)<em>tag</em></code></p>Returns an array of aggregatedevents. Gets the signature of type <em>tag</em> fromeach event in <em>events</em> and aggregatesevents with the same signature into a special, single event. Theresulting array has an event for each different signature. The eventsin this array have a duration equal to the sum of the durations ofits aggregated events. The  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/subevents">subevents</a> ofthese special events are the union of the subevents of its aggregatedevents.<p>This method is for use by the WOEventDisplay page.For more information, see  <a frame= "conv" href="../Classes/More/EOEventCenter.html#CAHGDEGG">"WOEventDisplay page" </a>.</p><hr WIDTH=25% ALIGN=LEFT><a name = "CIADHIFC"><BR><h3><a name="//apple_ref/occ/clm/EOEvent/description">description</a></h3></a><p><code>+ (NSString *)<b>description</b></code></p>Returns a description of thefamily of events represented by the class. EOEvent'simplementation returns the event description for the  <a frame= "conv" href="#CIAFDEHF">EOEventGroupName</a> key.For more information, see the  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> method description.<hr WIDTH=25% ALIGN=LEFT><a name = "CIACFGID"><BR><h3><a name="//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a></h3></a><p><code>+ (NSDictionary *)<b>eventTypeDescriptions</b></code></p>Returns a dictionary of eventtypes and descriptions for the family of events represented by theevent class. The keys of this dictionary are eventtypes and the corresponding values are descriptions of events ofthe types. Subclasses don't need to override this method; EOEvent'simplementation is generally sufficient for subclasses.<p>EOEvent'simplementation reads the event types and their descriptions froma file. To define the types your event class represents, createa description file for your event and add it to your project's Resourcesfolder. An event's description file defines the event <b>categories</b> and <b>subcategories</b> usedin the WOEventDisplay page. The file's contents is a dictionaryin plist format.</p><p>For example, consider the ODBCAdaptorEventthat logs events for the ODBC adaptor. ODBCAdaptorEvent is a subclassof EOEvent. It uses EOEvent's implementation of <b>eventTypeDescriptions</b>.The name of its description file is <tt>ODBCAdaptorEvent.description</tt>,and it looks like this:</p><blockquote><pre>{    EOEventGroupName = "ODBC Adaptor Event";    connect = "Connect";    openChannel = "Open Channel";    evaluateExpression = "Evaluate Expression";    fetchRow = "Fetch Row";    commitTransaction = "Commit Transaction";}</pre></blockquote><br><p>Using the EOEventimplementation, the  <a frame= "conv" href="#CIAFDEHF">EOEventGroupName</a> entryis mandatory; it describes the family of events logged by the eventclass. Any other keys are defined by the event class itself. Inthe ODBCAdaptorEvent class, the other keys (<code>connect</code>, <code>openChannel</code>,and so on) are the <b>types</b> of the events ODBCAdaptorEventlogs.</p><p>If the file doesn't exist or if there's anerror reading the file, EOEvent creates a dictionary with a single entry;the entry's key is <code>EOEventGroupName</code> andthe value is the name of the event class (such as ODBCAdaptorEvent).</p><hr WIDTH=25% ALIGN=LEFT><a name = "CIABDCJC"><BR><h3><a name="//apple_ref/occ/clm/EOEvent/groupEvents:bySignatureOfType:">groupEvents:bySignatureOfType:</a></h3></a><p><code>+ (NSArray *)<b>groupEvents:</b>(NSArray*)<em>events</em><b>bySignatureOfType:</b>(EOEventSignatureType)<em>tag</em></code></p>Returns an array of groupedevents. Gets the signature of type <em>tag</em> fromeach event in <em>events</em> and groups eventswith the same signature into a special, single event. The resultingarray has an event for each different signature. The  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/subevents">subevents</a> of thesespecial events are the grouped events.<p>This method is for useby the WOEventDisplay page. For more information, see  <a frame= "conv" href="../Classes/More/EOEventCenter.html#CAHGDEGG">"WOEventDisplay page" </a>.</p><hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "CIACAHEE"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/comment">comment</a></h3></a><p><code>- (NSString *)<b>comment</b></code></p>Returns type specific informationabout the event. EOEvent's implementation returnsa string representation of the receiver's  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/info">info</a>.<hr WIDTH=25% ALIGN=LEFT><a name = "CIADEFCH"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/description">description</a></h3></a><p><code>- (NSString *)<b>description</b></code></p>Returns adescription of the receiver. EOEvent's implementation returnsa string that includes the receiver's  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/title">title</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/comment">comment</a>, and  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/duration">duration</a> or  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/startDate">startDate</a>.<hr WIDTH=25% ALIGN=LEFT><a name = "CIABJFAE"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/displayComponentName">displayComponentName</a></h3></a><p><code>- (NSString *)<b>displayComponentName</b></code></p>Returns the name of a WebObjectscomponent to use to display the receiver's logging information. EOEvent'simplementation uses the WOEventRow component, which is generallysufficient for subclasses.<hr WIDTH=25% ALIGN=LEFT><a name = "CIACCBBC"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/duration">duration</a></h3></a><p><code>- (int)<b>duration</b></code></p>Returns the duration of thereceiver, in milliseconds; returns 0 if the event is atomic (nota branch event) or if the branch is not yet closed.<hr WIDTH=25% ALIGN=LEFT><a name = "CIADHABJ"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/durationWithoutSubevents">durationWithoutSubevents</a></h3></a><p><code>- (int)<b>durationWithoutSubevents</b></code></p>Returns the duration of receiver,in milliseconds, not including the time spent in its subevents (ifany).<hr WIDTH=25% ALIGN=LEFT><a name = "CIADJFJB"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/info">info</a></h3></a><p><code>- (id)<b>info</b></code></p>Returns thecustom info for the receiver.<hr WIDTH=25% ALIGN=LEFT><a name = "CIADFHII"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/markAtomicWithInfo:">markAtomicWithInfo:</a></h3></a><p><code>- (void)<b>markAtomicWithInfo:</b>(id)<em>info</em></code></p>Initializesthe receiver, a newly allocated event, as an atomic event that hasan absolute  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/startDate">startDate</a> (and nota  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/duration">duration</a>), and assignsthe event's  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/info">info</a>.The newly allocated event is usually created with the EOEventCentermethod  <a frame= "conv" href="../Classes/EOEventCenter.html#//apple_ref/occ/clm/EOEventCenter/newEventOfClass:eventType:">newEventOfClass:eventType:</a>.<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Don'tinvoke this method directly. Use the corresponding function definedin <tt>EOEventCenter.h</tt> instead.</td></tr></table><br><hr WIDTH=25% ALIGN=LEFT><a name = "CIADJBEH"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/markEnd">markEnd</a></h3></a><p><code>- (void)<b>markEnd</b></code></p>Marks the end of a branch event,which has the side-effect of setting the  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/duration">duration</a>.<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Don'tinvoke this method directly. Use the corresponding function definedin <tt>EOEventCenter.h</tt> instead.</td></tr></table><br><hr WIDTH=25% ALIGN=LEFT><a name = "CIACJDFJ"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/markStartWithInfo:">markStartWithInfo:</a></h3></a><p><code>- (void)<b>markStartWithInfo:</b>(id)<em>info</em></code></p>Initializes the receiver, anewly allocated event, to be a branch event (that possibly has nested subevents),and assigns it's  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/info">info</a> to <em>info</em>. Thenewly allocated event is usually created with the EOEventCentermethod  <a frame= "conv" href="../Classes/EOEventCenter.html#//apple_ref/occ/clm/EOEventCenter/newEventOfClass:eventType:">newEventOfClass:eventType:</a>.<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Don'tinvoke this method directly. Use the corresponding function definedin <tt>EOEventCenter.h</tt> instead.</td></tr></table><br><hr WIDTH=25% ALIGN=LEFT><a name = "CIACECCA"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/parentEvent">parentEvent</a></h3></a><p><code>- (EOEvent *)<b>parentEvent</b></code></p>Returns theparent event, if any, or nil otherwise. Events logged at the rootlevel do not have a parent. Other events return the event that wasopen at the time that they were started.<hr WIDTH=25% ALIGN=LEFT><a name = "CIACCGEH"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/setInfo:">setInfo:</a></h3></a><p><code>- (void)<b>setInfo:</b>(id)<em>info</em></code></p>Sets the custom event informationfor the receiver. This information is used todisplay event logging information in the WOEventDisplay page. The <em>info</em> argumentcan be any kind of object that responds to <b>isEqual:</b>, <b>description</b>, <b>retain</b>,and <b>release</b>.<hr WIDTH=25% ALIGN=LEFT><a name = "CIABEAII"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/setType:">setType:</a></h3></a><p><code>- (void)<b>setType:</b>(NSString*)<em>type</em></code></p>Sets the receiver's typeto <em>type</em>. EOEvent's implementationgets the set of available types from a description file. For moreinformation, see the  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> methoddescription.<hr WIDTH=25% ALIGN=LEFT><a name = "CIABDFDJ"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/signatureOfType:">signatureOfType:</a></h3></a><p><code>- (id)<b>signatureOfType:</b>(EOEventSignatureType)<em>tag</em></code></p>Returns the requested receiver'ssignature, which can be used to group and aggregate the receiverwith other events that have the same signature. EOEventdefines one signature type,  <a frame= "conv" href="#CIAHDADB">EOBasicEventSignature</a>, whichhas the corresponding signature of the form "title - comment".If the specified type is unknown, EOEvent's implementation returns nil otherwise.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/aggregateEvents:bySignatureOfType:">+ aggregateEvents:bySignatureOfType:</a>,  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/groupEvents:bySignatureOfType:">+ groupEvents:bySignatureOfType:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CIACIFIH"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/startDate">startDate</a></h3></a><p><code>- (NSCalendarDate *)<b>startDate</b></code></p>Returns thedate at which the receiver was logged. For a non-atomic event, thereturn value is the time at which the event logging began, not whenit ended.<hr WIDTH=25% ALIGN=LEFT><a name = "CIABHDHE"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/subevents">subevents</a></h3></a><p><code>- (NSArray *)<b>subevents</b></code></p>Returns thereceiver's immediate subevents; that is, the events that werelogged with this event as their parent.<hr WIDTH=25% ALIGN=LEFT><a name = "CIADGGDH"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/title">title</a></h3></a><p><code>- (NSString *)<b>title</b></code></p>Returns the event type descriptioncorresponding with the receiver's  <a frame= "conv" href="#//apple_ref/occ/instm/EOEvent/type">type</a>. The titleis used by the WOEventDisplay. EOEvent's implementation returnsthe value from the  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> dictionaryfor the receiver's type. If there isn't an entry in the <b>eventTypeDescriptions</b> dictionaryfor the receiver's type, EOEvent's implementation returns thename of the receiver's class.<hr WIDTH=25% ALIGN=LEFT><a name = "CIABAGGD"><BR><h3><a name="//apple_ref/occ/instm/EOEvent/type">type</a></h3></a><p><code>- (NSString *)<b>type</b></code></p>Returns the receiver's type. Usingthe event type definition scheme implemented by EOEvent, the types aredefined in a description file as described in the  <a frame= "conv" href="#//apple_ref/occ/clm/EOEvent/eventTypeDescriptions">eventTypeDescriptions</a> methoddescription.<hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>