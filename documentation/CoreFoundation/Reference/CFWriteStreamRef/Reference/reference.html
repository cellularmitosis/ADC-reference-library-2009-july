<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CFWriteStream Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CFWriteStream Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001447-DontLinkChapterID_1" title="CFWriteStream Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/CoreFoundation/index.html#//apple_ref/doc/uid/TP30001281-TP30000421" target="_top">Core Foundation</a> &gt; <a href="../index.html" target="_top">CFWriteStream Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFWriteStream.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/20001447-DontLinkChapterID_1-DontLinkElementID_11" title="CFWriteStream Reference"></a><h1>CFWriteStream Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Derived from</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">
<span class="content_text"><a href="../../CFTypeRef/index.html#//apple_ref/doc/uid/20001203" target="_top">CFType</a></span></span></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../CoreFoundation_Collection/index.html#//apple_ref/doc/uid/TP40003849" target="_top">CoreFoundation</a>/CoreFoundation.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CFStream.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/20001447-CH203-DontLinkElementID_9" title="Overview"></a><h2>Overview</h2><p><code>CFWriteStream</code> provides an interface for writing a byte stream either synchronously or asynchronously. You can create streams that write bytes to a block of memory, a file, or a generic socket. All streams need to be opened, using <span class="content_text"><a href="reference.html#//apple_ref/c/func/CFWriteStreamOpen">CFWriteStreamOpen</a></span>, before writing.</p>
<p>Use <span class="content_text"><a href="../../CFReadStreamRef/index.html#//apple_ref/doc/uid/20001440" target="_top">CFReadStream</a></span> for reading byte streams, and for the functions, such as <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/func/CFStreamCreatePairWithSocketToHost" target="_top">CFStreamCreatePairWithSocketToHost</a></code>, that create socket streams). </p>
<p><code>CFWriteStream</code> is “toll-free bridged” with its Cocoa Foundation counterpart, <span class="content_text"><a href="../../../../Cocoa/Reference/Foundation/Classes/NSOutputStream_Class/Reference/Reference.html#//apple_ref/occ/cl/NSOutputStream" target="_top">NSOutputStream</a></span>. This means that the Core Foundation type is interchangeable in function or method calls with the bridged Foundation object. Therefore, in a method where you see an <code>NSOutputStream *</code> parameter, you can pass in a <code>CFWriteStreamRef</code>, and in a function where you see a <code>CFWriteStreamRef</code> parameter, you can pass in an <code>NSOutputStream</code> instance. Note, however, that you may have either a delegate or callbacks but not both. See <span class="content_text"><a href="../../../../Cocoa/Conceptual/CarbonCocoaDoc/Articles/InterchangeableDataTypes.html#//apple_ref/doc/uid/20002401" target="_top">Interchangeable Data Types</a></span> for more information on toll-free bridging.</p>



<a name="//apple_ref/doc/uid/20001447-DontLinkChapterID_1-DontLinkElementID_10" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_2" title="Creating a Write Stream"></a>
    
    <h3 class="tasks">Creating a Write Stream</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCreateWithAllocatedBuffers">CFWriteStreamCreateWithAllocatedBuffers</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a writable stream for a growable block of memory.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCreateWithBuffer">CFWriteStreamCreateWithBuffer</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a writable stream for a fixed-size block of memory.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCreateWithFile">CFWriteStreamCreateWithFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a writable stream for a file.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_3" title="Opening and Closing a Stream"></a>
    
    <h3 class="tasks">Opening and Closing a Stream</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamClose">CFWriteStreamClose</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Closes a writable stream.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamOpen">CFWriteStreamOpen</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a stream for writing.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_4" title="Writing to a Stream"></a>
    
    <h3 class="tasks">Writing to a Stream</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamWrite">CFWriteStreamWrite</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Writes data to a writable stream.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_5" title="Scheduling a Write Stream"></a>
    
    <h3 class="tasks">Scheduling a Write Stream</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamScheduleWithRunLoop">CFWriteStreamScheduleWithRunLoop</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Schedules a stream into a run loop.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamUnscheduleFromRunLoop">CFWriteStreamUnscheduleFromRunLoop</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a stream from a particular run loop.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_6" title="Examining Stream Properties"></a>
    
    <h3 class="tasks">Examining Stream Properties</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCanAcceptBytes">CFWriteStreamCanAcceptBytes</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns whether a writable stream can accept new data without blocking.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCopyProperty">CFWriteStreamCopyProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the value of a property for a stream.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCopyError">CFWriteStreamCopyError</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the error associated with a stream.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamGetError">CFWriteStreamGetError</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the error status of a stream.&#032;(<font color="red">Deprecated.</font>&#032;Use <code>CFWriteStreamCopyError</code> instead.)'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamGetStatus">CFWriteStreamGetStatus</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the current state of a stream.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_7" title="Setting Stream Properties"></a>
    
    <h3 class="tasks">Setting Stream Properties</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetClient">CFWriteStreamSetClient</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Assigns a client to a stream, which receives callbacks when certain events occur.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetProperty">CFWriteStreamSetProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the value of a property for a stream.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_8" title="Getting the CFWriteStream Type ID"></a>
    
    <h3 class="tasks">Getting the CFWriteStream Type ID</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamGetTypeID">CFWriteStreamGetTypeID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the type identifier of all CFWriteStream objects.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/20001447-CH1g-85766" title="Functions"></a><a name="//apple_ref/doc/uid/20001447-CH1g-TPXREF102" title="Functions"></a><h2>Functions</h2>














<a name="//apple_ref/c/func/CFWriteStreamCanAcceptBytes" title="CFWriteStreamCanAcceptBytes"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamCanAcceptBytes" title="CFWriteStreamCanAcceptBytes"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17785" title="CFWriteStreamCanAcceptBytes"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_13"></a><h3 class="tight">CFWriteStreamCanAcceptBytes</h3>
<p class="spaceabove">Returns whether a writable stream can accept new data without blocking.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFWriteStreamCanAcceptBytes (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to examine.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if data can be written to <em>stream</em> without blocking, <code><!--a  -->false<!--/a--></code> otherwise. If <em>stream</em> cannot tell if data can be written without actually trying to write the data, this function returns <code><!--a  -->true<!--/a--></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamClose" title="CFWriteStreamClose"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamClose" title="CFWriteStreamClose"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17781" title="CFWriteStreamClose"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_14"></a><h3 class="tight">CFWriteStreamClose</h3>
<p class="spaceabove">Closes a writable stream.</p>
<p class="spaceabove"><pre>
void CFWriteStreamClose (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to close.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function terminates the flow of bytes and releases any system resources required by the stream. The stream is removed from any run loops in which it was scheduled. Once closed, the stream cannot be reopened.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamCopyError" title="CFWriteStreamCopyError"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamCopyError" title="CFWriteStreamCopyError"></a><a name="//apple_ref/doc/uid/20001447-CH1g-SW1" title="CFWriteStreamCopyError"></a><a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_15"></a><h3 class="tight">CFWriteStreamCopyError</h3><p class="spaceabove">Returns the error associated with a stream.</p><p class="spaceabove"><pre>
<a href="../../CFErrorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFErrorRef" target="_top">CFErrorRef</a> CFWriteStreamCopyError (
   <a href="../../CFReadStreamRef/Reference/reference.html#//apple_ref/doc/c_ref/CFReadStreamRef" target="_top">CFReadStreamRef</a> stream
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>stream</em></dt><dd><p>The stream to examine.</p></dd></dl><h5 class="tight">Return Value</h5><p>A CFError object that describes the current problem with stream, or <code>NULL</code> if there is no error. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamCopyProperty" title="CFWriteStreamCopyProperty"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamCopyProperty" title="CFWriteStreamCopyProperty"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17788" title="CFWriteStreamCopyProperty"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_16"></a><h3 class="tight">CFWriteStreamCopyProperty</h3>
<p class="spaceabove">Returns the value of a property for a stream.</p>
<p class="spaceabove"><pre>
<a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> CFWriteStreamCopyProperty (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> propertyName
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to examine.</p></dd>
<dt><em>propertyName</em></dt>
<dd><p>The name of the stream property to obtain. The available properties for standard Core Foundation streams are listed in <span class="content_text"><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/doc/constant_group/Stream_Properties" target="_top">“Stream Properties.”</a></span></p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The value of the property <em>propertyName</em>. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>Each type of stream can define a set of properties that either describe or configure individual streams. A property can be any interesting information about a stream. Examples include the headers from an HTTP transmission, the expected number of bytes, file permission information, and so on. Use <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetProperty">CFWriteStreamSetProperty</a></code> to modify the value of a property, although some properties are read-only.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamCreateWithAllocatedBuffers" title="CFWriteStreamCreateWithAllocatedBuffers"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamCreateWithAllocatedBuffers" title="CFWriteStreamCreateWithAllocatedBuffers"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17769" title="CFWriteStreamCreateWithAllocatedBuffers"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_17"></a><h3 class="tight">CFWriteStreamCreateWithAllocatedBuffers</h3>
<p class="spaceabove">Creates a writable stream for a growable block of memory.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> CFWriteStreamCreateWithAllocatedBuffers (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> alloc,
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> bufferAllocator
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>alloc</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator.</p></dd>
<dt><em>bufferAllocator</em></dt>
<dd><p>The allocator to use to allocate memory for the stream’s memory buffers. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A new write stream. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>New buffers are allocated using <em>bufferAllocator</em> as bytes are written to the stream. At any point, you can recover the bytes thus far written by asking for the property <code><!--a target="_top" -->kCFStreamPropertyDataWritten<!--/a--></code> with <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCopyProperty">CFWriteStreamCopyProperty</a></code>.</p><p>You must open the stream, using <span class="content_text"><a href="reference.html#//apple_ref/c/func/CFWriteStreamOpen">CFWriteStreamOpen</a></span>, before writing to it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamCreateWithBuffer" title="CFWriteStreamCreateWithBuffer"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamCreateWithBuffer" title="CFWriteStreamCreateWithBuffer"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17768" title="CFWriteStreamCreateWithBuffer"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_18"></a><h3 class="tight">CFWriteStreamCreateWithBuffer</h3>
<p class="spaceabove">Creates a writable stream for a fixed-size block of memory.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> CFWriteStreamCreateWithBuffer (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> alloc,
   UInt8 *buffer,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> bufferCapacity
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>alloc</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator.</p></dd>
<dt><em>buffer</em></dt>
<dd><p>The memory buffer into which to write data. This buffer must exist for the lifetime of the stream.</p></dd>
<dt><em>bufferCapacity</em></dt>
<dd><p>The size of <em>buffer</em> and the maximum number of bytes that can be written.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A new write stream, or <code><!--a  -->NULL<!--/a--></code> on failure. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>When <em>buffer</em> is filled after writing <em>bufferCapacity</em> bytes, the stream is exhausted and its status becomes <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/econst/kCFStreamStatusAtEnd" target="_top">kCFStreamStatusAtEnd</a></code>.</p><p>You must open the stream, using <span class="content_text"><a href="reference.html#//apple_ref/c/func/CFWriteStreamOpen">CFWriteStreamOpen</a></span>, before writing to it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamCreateWithFile" title="CFWriteStreamCreateWithFile"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamCreateWithFile" title="CFWriteStreamCreateWithFile"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17771" title="CFWriteStreamCreateWithFile"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_19"></a><h3 class="tight">CFWriteStreamCreateWithFile</h3>
<p class="spaceabove">Creates a writable stream for a file.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> CFWriteStreamCreateWithFile (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> alloc,
   <a href="../../CFURLRef/Reference/reference.html#//apple_ref/doc/c_ref/CFURLRef" target="_top">CFURLRef</a> fileURL
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>alloc</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator.</p></dd>
<dt><em>fileURL</em></dt>
<dd><p>The URL of the file to which to write. The URL must use a file scheme.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new write stream, or <code><!--a  -->NULL<!--/a--></code> on failure. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>The stream overwrites an existing file unless you set the <code><!--a target="_top" -->kCFStreamPropertyAppendToFile<!--/a--></code> to <code><!--a target="_top" -->kCFBooleanTrue<!--/a--></code> with <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetProperty">CFWriteStreamSetProperty</a></code>, in which case the stream appends data to the file.</p><p>You must open the stream, using <span class="content_text"><a href="reference.html#//apple_ref/c/func/CFWriteStreamOpen">CFWriteStreamOpen</a></span>, before writing to it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamGetError" title="CFWriteStreamGetError"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamGetError" title="CFWriteStreamGetError"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17777" title="CFWriteStreamGetError"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_20"></a><h3 class="tight">CFWriteStreamGetError</h3>
<p class="spaceabove">Returns the error status of a stream.&#032;(<strong>Deprecated.</strong>&#032;Use <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCopyError">CFWriteStreamCopyError</a></code> instead.)</p>
<p class="spaceabove"><pre>
<a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/doc/c_ref/CFStreamError" target="_top">CFStreamError</a> CFWriteStreamGetError (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to examine.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The error status of <em>stream</em> returned in a <code><!--a target="_top" -->CFStreamError<!--/a--></code> structure.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamGetStatus" title="CFWriteStreamGetStatus"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamGetStatus" title="CFWriteStreamGetStatus"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17775" title="CFWriteStreamGetStatus"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_21"></a><h3 class="tight">CFWriteStreamGetStatus</h3>
<p class="spaceabove">Returns the current state of a stream.</p>
<p class="spaceabove"><pre>
<a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/doc/c_ref/CFStreamStatus" target="_top">CFStreamStatus</a> CFWriteStreamGetStatus (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to examine.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The current state of <em>stream</em>. See <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/tdef/CFStreamStatus" target="_top">CFStreamStatus</a></code> for the list of possible states.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamGetTypeID" title="CFWriteStreamGetTypeID"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamGetTypeID" title="CFWriteStreamGetTypeID"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17766" title="CFWriteStreamGetTypeID"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_22"></a><h3 class="tight">CFWriteStreamGetTypeID</h3>
<p class="spaceabove">Returns the type identifier of all CFWriteStream objects.</p>
<p class="spaceabove"><pre>
<a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeID" target="_top">CFTypeID</a> CFWriteStreamGetTypeID (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The type identifier for the CFWriteStream opaque type.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamOpen" title="CFWriteStreamOpen"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamOpen" title="CFWriteStreamOpen"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17779" title="CFWriteStreamOpen"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_23"></a><h3 class="tight">CFWriteStreamOpen</h3>
<p class="spaceabove">Opens a stream for writing.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFWriteStreamOpen (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to open.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if <em>stream</em> was successfully opened, <code><!--a  -->false<!--/a--></code> otherwise. If <em>stream</em> is not in the <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/econst/kCFStreamStatusNotOpen" target="_top">kCFStreamStatusNotOpen</a></code> state, this function returns <code><!--a  -->false<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Opening a stream causes it to reserve all the system resources it requires. If the stream can open in the background without blocking, this function always returns <code><!--a  -->true<!--/a--></code>. To learn when a background open operation completes, you can either schedule the stream into a run loop with <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamScheduleWithRunLoop">CFWriteStreamScheduleWithRunLoop</a></code> and wait for the stream’s client (set with <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetClient">CFWriteStreamSetClient</a></code>) to be notified or you can poll the stream using <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamGetStatus">CFWriteStreamGetStatus</a></code>, waiting for a status of <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/econst/kCFStreamStatusOpen" target="_top">kCFStreamStatusOpen</a></code> or <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/econst/kCFStreamStatusError" target="_top">kCFStreamStatusError</a></code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamScheduleWithRunLoop" title="CFWriteStreamScheduleWithRunLoop"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamScheduleWithRunLoop" title="CFWriteStreamScheduleWithRunLoop"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17792" title="CFWriteStreamScheduleWithRunLoop"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_24"></a><h3 class="tight">CFWriteStreamScheduleWithRunLoop</h3>
<p class="spaceabove">Schedules a stream into a run loop.</p>
<p class="spaceabove"><pre>
void CFWriteStreamScheduleWithRunLoop (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   <a href="../../CFRunLoopRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRunLoopRef" target="_top">CFRunLoopRef</a> runLoop,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> runLoopMode
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to schedule.</p></dd>
<dt><em>runLoop</em></dt>
<dd><p>The run loop in which to schedule <em>stream</em>.</p></dd>
<dt><em>runLoopMode</em></dt>
<dd><p>The run loop mode of <em>runLoop</em> in which to schedule <em>stream</em>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>After scheduling <em>stream</em> into a run loop, its client (set with <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetClient">CFWriteStreamSetClient</a></code>) is notified when various events happen with the stream, such as when it finishes opening, when it can accept new bytes, and when an error occurs. A stream can be scheduled into multiple run loops and run loop modes. Use <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamUnscheduleFromRunLoop">CFWriteStreamUnscheduleFromRunLoop</a></code> to later remove <em>stream</em> from the run loop.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamSetClient" title="CFWriteStreamSetClient"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamSetClient" title="CFWriteStreamSetClient"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17790" title="CFWriteStreamSetClient"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_25"></a><h3 class="tight">CFWriteStreamSetClient</h3>
<p class="spaceabove">Assigns a client to a stream, which receives callbacks when certain events occur.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFWriteStreamSetClient (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> streamEvents,
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamClientCallBack">CFWriteStreamClientCallBack</a> clientCB,
   <a href="../../CFReadStreamRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStreamClientContext" target="_top">CFStreamClientContext</a> *clientContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to modify.</p></dd>
<dt><em>streamEvents</em></dt>
<dd><p>The set of events for which the client should receive callbacks. The events are listed in <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/tdef/CFStreamEventType" target="_top">CFStreamEventType</a></code>. If you pass <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/econst/kCFStreamEventNone" target="_top">kCFStreamEventNone</a></code>, the current client for <em>stream</em> is removed.</p></dd>
<dt><em>clientCB</em></dt>
<dd><p>The client callback function to call when one of the events requested in <em>streamEvents</em> occurs. If <code><!--a  -->NULL<!--/a--></code>, the current client for <em>stream</em> is removed.</p></dd>
<dt><em>clientContext</em></dt>
<dd><p>A structure holding contextual information for the stream client. The function copies the information out of the structure, so the memory pointed to by <em>clientContext</em> does not need to persist beyond the function call. If <code><!--a  -->NULL<!--/a--></code>, the current client for <em>stream</em> is removed.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if the stream supports asynchronous notification, <code><!--a  -->false<!--/a--></code> otherwise.</p>
<h5 class="tight">Discussion</h5>
<p>To avoid polling and blocking, you can register a client to hear about interesting events that occur on a stream. Only one client per stream is allowed; registering a new client replaces the previous one.</p>
<p>Once you have set a client, you need to schedule the stream in a run loop using <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamScheduleWithRunLoop">CFWriteStreamScheduleWithRunLoop</a></code> so that the client can receive the asynchronous notifications. You can schedule each stream in multiple run loops (for example, if you are using a thread pool). It is the caller's responsibility to ensure that at least one of the scheduled run loops is being run, otherwise the callback cannot be called.</p>
<p>Although all Core Foundation streams currently support asynchronous notification, future stream types may not. If a stream does not support asynchronous notification, this function returns <code><!--a  -->false<!--/a--></code>. Typically, such streams never block for device I/O (for example, a stream writing to memory) and don’t benefit from asynchronous notification.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamSetProperty" title="CFWriteStreamSetProperty"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamSetProperty" title="CFWriteStreamSetProperty"></a><a name="//apple_ref/doc/uid/20001447-CH1g-CFWriteStreamSetProperty" title="CFWriteStreamSetProperty"></a><a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_26"></a><h3 class="tight">CFWriteStreamSetProperty</h3>
<p class="spaceabove">Sets the value of a property for a stream.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFWriteStreamSetProperty (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> propertyName,
   <a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeRef" target="_top">CFTypeRef</a> propertyValue
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to modify.</p></dd>
<dt><em>propertyName</em></dt>
<dd><p>The name of the property to set. The available properties for standard Core Foundation streams are listed in <span class="content_text"><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/doc/constant_group/Stream_Properties" target="_top">“Stream Properties.”</a></span></p></dd>
<dt><em>propertyValue</em></dt>
<dd><p>The value to which to set the property <em>propertyName</em> for <em>stream</em>. The allowed data type of the value depends on the property being set.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if <em>stream</em> recognizes and accepts the given property-value pair, <code><!--a  -->false<!--/a--></code> otherwise.</p>
<h5 class="tight">Discussion</h5>
<p>Each type of stream can define a set of properties that either describe or configure individual streams. A property can be any interesting information about a stream. Examples include the headers from an HTTP transmission, the expected number of bytes, file permission information, and so on. Properties that can be set configure the behavior of the stream and may be modifiable only at particular times, such as before the stream has been opened. (In fact, you should assume that you can set properties only before opening the stream, unless otherwise noted.) To read the value of a property use <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCopyProperty">CFWriteStreamCopyProperty</a></code>, although some properties are write-only.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaEcho/index.html#//apple_ref/doc/uid/DTS10003603" target="_top">CocoaEcho</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaHTTPServer/index.html#//apple_ref/doc/uid/DTS10003604" target="_top">CocoaHTTPServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaSOAP/index.html#//apple_ref/doc/uid/DTS10003715" target="_top">CocoaSOAP</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamUnscheduleFromRunLoop" title="CFWriteStreamUnscheduleFromRunLoop"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamUnscheduleFromRunLoop" title="CFWriteStreamUnscheduleFromRunLoop"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17794" title="CFWriteStreamUnscheduleFromRunLoop"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_27"></a><h3 class="tight">CFWriteStreamUnscheduleFromRunLoop</h3>
<p class="spaceabove">Removes a stream from a particular run loop.</p>
<p class="spaceabove"><pre>
void CFWriteStreamUnscheduleFromRunLoop (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   <a href="../../CFRunLoopRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRunLoopRef" target="_top">CFRunLoopRef</a> runLoop,
   <a href="../../CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> runLoopMode
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to remove.</p></dd>
<dt><em>runLoop</em></dt>
<dd><p>The run loop from which to remove <em>stream</em>.</p></dd>
<dt><em>runLoopMode</em></dt>
<dd><p>The run loop mode of <em>runLoop</em> from which to remove <em>stream</em>.</p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/c/func/CFWriteStreamWrite" title="CFWriteStreamWrite"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamWrite" title="CFWriteStreamWrite"></a><a name="//apple_ref/doc/uid/20001447-CH1g-F17786" title="CFWriteStreamWrite"></a>
<a name="//apple_ref/doc/uid/20001447-CH1g-DontLinkElementID_28"></a><h3 class="tight">CFWriteStreamWrite</h3>
<p class="spaceabove">Writes data to a writable stream.</p>
<p class="spaceabove"><pre>
<a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> CFWriteStreamWrite (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   const UInt8 *buffer,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> bufferLength
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream to which to write.</p></dd>
<dt><em>buffer</em></dt>
<dd><p>The buffer holding the data to write.</p></dd>
<dt><em>bufferLength</em></dt>
<dd><p>The number of bytes from <em>buffer</em> to write.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The number of bytes successfully written, <code>0</code> if the stream has been filled to capacity (for fixed-length streams), or <code>-1</code> if either the stream is not open or an error occurs.</p>
<h5 class="tight">Discussion</h5>
<p>If <em>stream</em> is in the process of opening, this function waits until it has completed. If the stream is not full, this call blocks until at least one byte is written; it does not block until all the bytes in <em>buffer</em> is written. To avoid blocking, call this function only if <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamCanAcceptBytes">CFWriteStreamCanAcceptBytes</a></code> returns <code><!--a  -->true<!--/a--></code> or after the stream’s client (set with <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetClient">CFWriteStreamSetClient</a></code>) is notified of a <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/econst/kCFStreamEventCanAcceptBytes" target="_top">kCFStreamEventCanAcceptBytes</a></code> event.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFFTPSample/index.html#//apple_ref/doc/uid/DTS10003223" target="_top">CFFTPSample</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/doc/uid/20001447-CH2g-86871" title="Callbacks"></a><a name="//apple_ref/doc/uid/20001447-CH2g-TPXREF103" title="Callbacks"></a><h2>Callbacks</h2>
<a name="//apple_ref/c/tdef/CFWriteStreamClientCallBack" title="CFWriteStreamClientCallBack"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamClientCallBack" title="CFWriteStreamClientCallBack"></a><a name="//apple_ref/doc/uid/20001447-CH2g-F17635" title="CFWriteStreamClientCallBack"></a><a name="//apple_ref/doc/uid/20001447-CH2g-DontLinkElementID_29"></a><h3 class="tight">CFWriteStreamClientCallBack</h3>
<p class="spaceabove">Callback invoked when certain types of activity takes place on a writable stream.</p>
<p class="spaceabove"><pre>
typedef void (*CFWriteStreamClientCallBack) (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   <a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/doc/c_ref/CFStreamEventType" target="_top">CFStreamEventType</a> eventType,
   void *clientCallBackInfo
);
</pre></p>
<p>If you name your function <code>MyCallBack</code>, you would declare it like this:</p>
<p><pre>
void MyCallBack (
   <a href="reference.html#//apple_ref/doc/c_ref/CFWriteStreamRef">CFWriteStreamRef</a> stream,
   <a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/doc/c_ref/CFStreamEventType" target="_top">CFStreamEventType</a> eventType,
   void *clientCallBackInfo
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>stream</em></dt>
<dd><p>The stream that experienced the event <em>eventType</em>.</p></dd>
<dt><em>eventType</em></dt>
<dd><p>The event that caused the callback to be called. The possible events are listed in <span class="content_text"><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/tdef/CFStreamEventType" target="_top">“Stream Events.”</a></span>.</p></dd>
<dt><em>clientCallBackInfo</em></dt>
<dd><p>The <code>info</code> member of the <code><a href="../../CFStreamConstants/Reference/reference.html#//apple_ref/c/tag/CFStreamClientContext" target="_top">CFStreamClientContext</a></code> structure that was used when setting the client for <em>stream</em>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This callback is called only for the events requested when setting the client with <code><a href="reference.html#//apple_ref/c/func/CFWriteStreamSetClient">CFWriteStreamSetClient</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code><a name="//apple_ref/doc/uid/20001447-CH3g-87024" title="Data Types"></a><a name="//apple_ref/doc/uid/20001447-CH3g-TPXREF104" title="Data Types"></a><h2>Data Types</h2>

<a name="//apple_ref/c/tdef/CFWriteStreamRef" title="CFWriteStreamRef"></a><a name="//apple_ref/doc/c_ref/CFWriteStreamRef" title="CFWriteStreamRef"></a><a name="//apple_ref/doc/uid/20001447-CH3g-C017600" title="CFWriteStreamRef"></a><a name="//apple_ref/doc/uid/20001447-CH3g-DontLinkElementID_30"></a><h3 class="tight">CFWriteStreamRef</h3>
<p class="spaceabove">A reference to a writable stream object.</p>
<p class="spaceabove"><pre>
typedef struct __CFWriteStream *CFWriteStreamRef;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFStream.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFWriteStream.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-05-03<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/CoreFoundation/Reference/CFWriteStreamRef/Reference/reference.html%3Fid%3D20001447-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/CoreFoundation/Reference/CFWriteStreamRef/Reference/reference.html%3Fid%3D20001447-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/CoreFoundation/Reference/CFWriteStreamRef/Reference/reference.html%3Fid%3D20001447-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>