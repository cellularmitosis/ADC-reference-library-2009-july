<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>iBook Computer: Architecture</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Architecture"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000872-CH206" title="Architecture"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../../HardwareDrivers/index.html#//apple_ref/doc/uid/TP30000440-TP40003576" target="_top">Hardware &amp; Drivers</a> &gt; <a href="../../../../../HardwareDrivers/AppleHardware-date.html#//apple_ref/doc/uid/TP30000440-TP40003576-TP30000519" target="_top">Apple Hardware</a> &gt; <a href="../0_Preface/bub_pref.html#//apple_ref/doc/uid/TP40000872-CH204-DontLinkElementID_3">iBook Computer</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../1_Introduction/bub_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../3_Input-Output/bub_inout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000872-CH206-DontLinkElementID_6" title="Architecture"></a><h1><a name="//apple_ref/doc/uid/TP40000872-CH206-BCICBHBA" title="Architecture"></a>Architecture</h1><p>This chapter describes the architecture of the iBook computer. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="bub_archi.html#//apple_ref/doc/uid/TP40000872-CH206-TPXREF101">Block Diagram and Buses</a>
				
			<br/>
			
        
			
			
				<a href="bub_archi.html#//apple_ref/doc/uid/TP40000872-CH206-TPXREF104">Microprocessor and Cache</a>
				
			<br/>
			
        
			
			
				<a href="bub_archi.html#//apple_ref/doc/uid/TP40000872-CH206-BCIFCDCA">Memory and I/O Device Controller</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF101" title="Block Diagram and Buses"></a><h2>Block Diagram and Buses</h2><p>This section is an overview of the major ICs and buses on the computer’s main logic board. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF102" title="Block Diagram"></a><h3>Block Diagram</h3><p><span class="content_text"><a href="bub_archi.html#//apple_ref/doc/uid/TP40000872-CH206-BCICFABE">Figure 2-1</a></span> is a simplified block diagram of the main logic board. The diagram shows the input and output connectors, the main ICs, and the buses that connect them together. </p><br/><div><a name="//apple_ref/doc/uid/TP40000872-CH206-DontLinkElementID_7" title="Figure 2-1Block diagram "></a><p><a name="//apple_ref/doc/uid/TP40000872-CH206-BCICFABE" title="Figure 2-1Block diagram "></a><strong>Figure 2-1&nbsp;&nbsp;</strong>Block diagram </p><img src = "../Art/bub01.gif" alt = "Block diagram" width="444" height="495"></div><br/><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF103" title="Main ICs and Buses"></a><h3>Main ICs and Buses</h3><p>The architecture of the iBook computer is designed around the PowerPC G3 microprocessor and the custom Pangea memory and I/O controller. The Pangea IC occupies the center of the block diagram.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000872-CH206-DontLinkElementID_8" title="Note"></a><p><strong>Note:</strong>&nbsp;The Pangea IC combines the functions of the Uni-N and KeyLargo ICs used in earlier models. </p></div><p>The microprocessor is connected to the Pangea IC by a 60x bus with 64 data lines and a bus clock speed of 100 MHz. The Pangea IC has other buses that connect with the Boot ROM, the main system RAM, the graphics IC, and the Ethernet and FireWire PHY ICs. Each of the components listed here is described in one of the following sections. The buses implemented by the Pangea IC are summarized in Table 2-1, which is in the section <span class="content_text"><a href="bub_archi.html#//apple_ref/doc/uid/TP40000872-CH206-BCIFCDCA">“Memory and I/O Device Controller.”</a></span></p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF104" title="Microprocessor and Cache "></a><h2>Microprocessor and Cache </h2><p>The microprocessor communicates with the rest of the system by way of a 100-MHz, 64-bit 60x bus to the Pangea IC. The backside cache is built into the microprocessor. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-BCIBJAIF" title="Power PC G3 Microprocessor"></a><h3>Power PC G3 Microprocessor</h3><p>The microprocessor used in the iBook computer is a PowerPC G3. It has several features that contribute to superior performance, including: </p><ul class="spaceabove"><li class="li"><p>on-chip level 1 (L1) caches, 32 KB each for instruction cache and data cache</p></li><li class="li"><p>an on-chip second level (L2) cache consisting of 512 KB with a clock speed ratio of 1:1 </p></li><li class="li"><p>a microprocessor core optimized for Mac OS applications</p></li></ul><p>The G3 microprocessor in the iBook computer normally runs at a clock speed of 700 or 800 MHz. The Power Stepping feature slows the clock speed to save power when the computer is idle. See <span class="content_text"><a href="../1_Introduction/bub_intro.html#//apple_ref/doc/uid/TP40000872-CH205-BCIHHIDF">“Power Stepping.”</a></span> </p><a name="//apple_ref/doc/uid/TP40000872-CH206-BCIIHIGH" title="L2 Cache "></a><h3>L2 Cache </h3><p>The data storage for the L2 cache consists of 512 KB of fast static RAM that is built into the microprocessor chip along with the cache controller. The built-in L2 cache runs at the same clock speed as the microprocessor.</p><a name="//apple_ref/doc/uid/TP40000872-CH206-BCIFCDCA" title="Memory and I/O Device Controller"></a><h2>Memory and I/O Device Controller</h2><p>The Pangea memory controller and I/O device controller IC provides cost and performance benefits by combining many functions into a single IC. It contains the memory controller, the PCI bus bridge, the Ethernet and FireWire interfaces, and the AGP port. </p><p>In addition to the buses listed in Table 2-1, the Pangea IC also has separate interfaces to the physical layer (PHY) ICs for Ethernet and FireWire and an I2C interface that is used for configuring the memory subsystem. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-DontLinkElementID_9" title="Table 2-1Buses supported by the Pangea IC "></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF114" title="Table 2-1Buses supported by the Pangea IC "></a><strong>Table 2-1&nbsp;&nbsp;</strong>Buses supported by the Pangea IC </caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Name of bus</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Destinations</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Width of data path</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Bus clock speed </p></th></tr><tr><td  scope="row"><p>60x bus</p></td><td ><p>Microprocessor</p></td><td ><p>64 bits </p></td><td ><p>100 MHz </p></td></tr><tr><td  scope="row"><p>Memory bus</p></td><td ><p>System RAM</p></td><td ><p>64 bits </p></td><td ><p>100 MHz </p></td></tr><tr><td  scope="row"><p>AGP 2X bus</p></td><td ><p>Graphics IC</p></td><td ><p>32 bits </p></td><td ><p>66 MHz </p></td></tr><tr><td  scope="row"><p>Ultra DMA IDE bus</p></td><td ><p>Hard drive and  CD or DVD drive</p></td><td ><p>16 bits</p></td><td ><p>33 MHz </p></td></tr></table></div><p>The Pangea IC provides DB-DMA (descriptor-based direct memory access) support for the I/O channels. The DB-DMA system provides a scatter-gather process based on memory resident data structures that describe the data transfers. The DMA engine is enhanced to allow bursting of data files for improved performance. </p><p>The microprocessor is described in its own section. The following sections describe the other subsystems that are connected to the Pangea IC. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF105" title="System RAM"></a><h3>System RAM</h3><p>The memory subsystem in the iBook computer consists of 128 MB of SDRAM soldered on the main logic board and one expansion slot for an SO-DIMM. In some models, the expansion slot is occupied by a 128-MB SO-DIMM for a total of 256 MB of system RAM. </p><p>The data bus to the RAM and DIMM is 64 bits wide, and the memory interface is synchronized to the 60x bus interface at 100 MHz. See also <span class="content_text"><a href="../4_Expansion/bub_exp.html#//apple_ref/doc/uid/TP40000872-CH208-BBCJCAHJ">“RAM Expansion.”</a></span> </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF106" title="Boot ROM"></a><h3>Boot ROM</h3><p>The boot ROM includes the hardware-specific code and tables needed to start up the computer, to load an operating system, and to provide common hardware access services.</p><p>The boot ROM is connected to the card slot interface of the Pangea IC. The boot ROM is a 1 M by 8 bit flash device and can be updated in the field. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF107" title="Ethernet Controller "></a><h3>Ethernet Controller </h3><p>The Pangea IC includes an Ethernet media access controller (MAC) that implements the link layer. As a separate channel connected directly to the Pangea logic, it can operate at its full capacity without degrading the performance of other peripheral devices. The Pangea IC provides DB-DMA support for the Ethernet interface. </p><p>The controller is connected to a PHY interface IC that is capable of operating in either 10-BaseT or 100-BaseT mode. The actual speed of the link is automatically negotiated by the PHY and the bridge or router to which it is connected. For information about the connector and the operation of the port, see <span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIDHEAJ">“Ethernet Port.”</a></span> </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF108" title="FireWire Controller"></a><h3>FireWire Controller</h3><p>The Pangea IC includes an IEEE 1394 FireWire controller with a maximum data rate of 400 Mbits (50MBytes) per second. The Pangea IC provides DMA (direct memory access) support for the FireWire interface. The FireWire controller complies with the Open Host Controller Interface (OHCI) specification. </p><p>The controller IC implements the FireWire link layer. A physical layer IC, called a PHY, implements the electrical signalling protocol of the FireWire interface. The PHY is the interface to the external connector. For information about the connector and the operation of the port, see <span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIDGCJC">“FireWire Port.”</a></span> </p><a name="//apple_ref/doc/uid/TP40000872-CH206-BCIIEBGI" title="Graphics IC"></a><h3>Graphics IC</h3><p>The graphics IC is an ATI Mobility Radeon 7500. It provides video for both the internal flat panel display and an external video display. The signals to the external display can be either VGA, composite video, or S-video; for more information, see<span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIDGCAJ">“External Display Port.”</a></span> </p><p>The Mobility Radeon IC includes either 16 MB of DDR SDRAM on the CD-ROM model or 32 MB of DDR SDRAM on the Combo drive models. The graphics IC supports a display size of 1024 by 768 pixels and also has a scaling mode that displays a 640-by-480 or 800-by-600 pixel image on the full screen. </p><p>The Mobility Radeon 7500 IC also has a 3D graphics engine for fast rendering of 3D objects. </p><p>The signal generated for the flat panel display is simultaneously available for an external display. The external display mirrors the built-in display. For more information, see <span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIDGCAJ">“External Display Port.”</a></span> </p><p>Because the graphics IC uses the AGP bus, it can use part of main memory as additional graphics storage. The computer’s virtual memory system organizes main memory as randomly-distributed 4 KB pages, so DMA transactions for more than 4 KB of data would have to perform scatter-gather operations. To avoid this necessity for graphics storage, the AGP logic in the Pangea IC uses a graphics address remapping table (GART) to translate a linear address space for AGP transactions into physical addresses in main memory. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF109" title="Ultra DMA IDE Bus "></a><h3>Ultra DMA IDE Bus </h3><p>The Pangea IC provides an Ultra DMA IDE (integrated drive electronics) channel that is connected to the internal hard disk drive and the CD or DVD drive. The Ultra DMA IDE interface, also called Ultra-DMA/33 and ATA-5, is an improved version of the EIDE interface. The Pangea IC provides DB-DMA (descriptor-based direct memory access) support for the Ultra DMA interface.</p><p>The internal hard disk drive is connected as device 0 (master) in an ATA Device 0/1 configuration. The CD or DVD drive is connected as device 1 (slave). Digital audio data from the CD or DVD drive is processed by the Sound Manager and then sent out through the Pangea IC to the sound IC. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF110" title="USB Interface"></a><h3>USB Interface</h3><p>The Pangea IC implements two independent USB controllers (root hubs), each of which is connected to one of the ports on the side panel of the computer. The use of two independent controllers allows both USB ports to support high data rate devices at the same time with no degradation of their performance. If a user connects a high-speed (12 Mbps) device to one port and another high-speed device to the other, both devices can operate at their full data rates.</p><p>The external USB connectors support USB devices with data transfer rates of 1.5 Mbps and 12 Mbps. For more information, see <span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIJBFIG">“USB Ports.”</a></span> </p><p>USB devices connected to the iBook computer are required to support USB-suspend mode as defined in the USB specification. Information about the operation of USB-suspend mode on Macintosh computers is included in the Mac OS USB DDK API Reference. To obtain that document, please see the references at <span class="content_text"><a href="../A_References/bub_ref.html#//apple_ref/doc/uid/TP40000872-CH209-BAJECHIB">“USB Interface.”</a></span> </p><p>The USB ports on the iBook computer comply with the Universal Serial Bus Specification 1.1 Final Draft Revision. The USB controllers comply with the Open Host Controller Interface (OHCI) specification. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF111" title="Modem Support "></a><h3>Modem Support </h3><p>The internal modem is connected to an internal USB port. The Pangea IC provides DB-DMA support for the modem interface. The modem provides digital call progress signals to the Tumbler sound circuitry. </p><p>The internal modem is a separate module that contains the datapump IC and the interface to the telephone line (DAA). The controller functions are performed by the main processor. See <span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIEAJEI">“Internal Modem”</a></span></p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF112" title="Sound Circuitry "></a><h3>Sound Circuitry </h3><p>The iBook computer has sound circuitry, called Tumbler, that is connected to the Pangea IC by a standard I2S bus. The Pangea IC provides DB-DMA (descriptor-based direct memory access) support for the I2S port. </p><p>The sound circuitry includes a signal processing IC that handles the equalization and volume control functions and a codec IC that performs A-to-D and D-to-A conversion. </p><p>All audio is handled digitally inside the computer. The Tumbler circuitry performs digital-to-analog conversion for the audio signals to the internal speakers and the headphone mini-jack. The Tumbler circuitry also provides parametric equalization for the internal speakers. </p><p>Modem progress audio is connected as a digital input to the sound circuitry so that it can be mixed into the sound output stream. The modem progress audio is processed as play-through only, not as a digital sound source. </p><p>The iBook computer has no dedicated sound input jack. The sound system supports the built-in microphone and other sound input by way of a USB microphone or other USB audio device. For information about sound system operation, see <span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIIIHFG">“Sound System.”</a></span> </p><a name="//apple_ref/doc/uid/TP40000872-CH206-BCIBBDBH" title="Power Control IC "></a><h3>Power Control IC </h3><p>The power manager IC in the iBook computer is a Mitsubishi M16C/62F microprocessor, also called the PMU99. It operates with its own RAM and ROM. The functions of the PMU99 include: </p><ul class="spaceabove"><li class="li"><p>controlling the sleep and power on and off sequences</p></li><li class="li"><p>controlling power to the other ICs</p></li><li class="li"><p>monitoring the battery charge level </p></li><li class="li"><p>controlling battery charging</p></li><li class="li"><p>supporting the interface to the built-in keyboard and trackpad</p></li></ul><p>The iBook computer can operate from a 15-volt power outlet on an airliner, however for safety reasons the computer will not allow battery charging. In order for the computer to detect the connection to airline power, the airline power cable should have a sense resistor of 24.3K ohms connected between the power plug's shell and ground. </p><p>The PMU99 also provides the hardware interface to the keyboard and trackpad. Software in the PMU99 IC scans the keyboard and receives data from the trackpad, then sends the data to the system in packets like those from the ADB. To the system, the keyboard and trackpad behave as if they were ADB devices. </p><a name="//apple_ref/doc/uid/TP40000872-CH206-TPXREF113" title="AirPort Card"></a><h3>AirPort Card</h3><p>The AirPort Card shares the card slot interface to the Pangea IC with the boot ROM. </p><p>The AirPort Card contains a media access controller (MAC), a digital signal processor (DSP), and a radio-frequency (RF) section. The card has a connector for the cable to the antennas, which are built into the computer’s case. </p><p>The AirPort Card is based on the IEEE 802.11b standard. The card transmits and receives data at up to 11 Mbps and is compatible with older 802.11-standard systems that operate at 2 or 1 Mbps. For information about its operation, see <span class="content_text"><a href="../3_Input-Output/bub_inout.html#//apple_ref/doc/uid/TP40000872-CH207-BCIIIHHE">“AirPort Card.”</a></span> </p><p></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../1_Introduction/bub_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../3_Input-Output/bub_inout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-05-03<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G3/iBookNov02/2_Architecture/bub_archi.html%3Fid%3DTP40000872-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G3/iBookNov02/2_Architecture/bub_archi.html%3Fid%3DTP40000872-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G3/iBookNov02/2_Architecture/bub_archi.html%3Fid%3DTP40000872-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>