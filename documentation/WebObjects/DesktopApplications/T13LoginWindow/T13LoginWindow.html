<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects Java Client Programming Guide (Legacy): Building a Login Window</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Building a Login Window"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001017-CH321" title="Building a Login Window"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../LegacyTechnologies/Tools-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000463" target="_top">Tools</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP30001017-CH297-TP1">WebObjects Java Client Programming Guide (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../HTMLOnClient/HTMLOnClient.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DocumentHistory/DocumentHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30001017-CH321-TP1" title="Building a Login Window"></a><h1>Building a Login Window</h1><p>Most of the tasks you need to perform to implement a login window in a Direct to Java Client application are explained in earlier task chapters. This task provides a road map and some helpful hints to successfully implement a login window in your application.</p><p>The WebObjects Java Client examples use the JCAuthentication framework<a name="//apple_ref/doc/uid/TP30001017-CH321-DontLinkElementID_707"></a> to provide a sophisticated login window for Java Client applications that includes logout, password change, and registration capabilities. It is considerably more complex than the simple login window this chapter describes and you’ll probably want to use it to implement authentication functionality in your applications.</p><p>However, the JCAuthentication framework is rather complex and is difficult to understand for those new to Java Client development. This chapter is provided to help you understand the basic concepts in implementing access controls in a Java Client application. After you grasp the concepts in this chapter, you should seriously consider using the JCAuthentication framework in your application rather than an authentication framework you build from start to finish without the benefit of any pre-built components.</p><p>First, you’ll build the login window’s user interface. Then, you’ll provide logic for authenticating users to a data store. Finally, you’ll intercept the default startup sequence for Direct to Java Client applications to disable certain menu items and windows.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-TPXREF38">Building the User Interface</a>
				
			<br/>
			
        
			
			
				<a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-TPXREF40">Adding Logic to Authenticate Users</a>
				
			<br/>
			
        
			
			
				<a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-TPXREF41">Restricting Access</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001017-CH321-TPXREF38" title="Building the User Interface"></a><h2>Building the User Interface</h2><a name="//apple_ref/doc/uid/TP30001017-CH321-DontLinkElementID_708"></a><p>The first step in building a login window is to build the user interface for it. Add a nib file to your project and open it in Interface Builder. Add two text fields with labels and two buttons. A suggestion appears in <span class="content_text">Figure 24-1</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH321-BACHFDCB" title="Figure 24-1Login window user interface"></a><p><strong>Figure 24-1&nbsp;&nbsp;</strong>Login window user interface</p><img src = "../Art/loginnib.gif" alt = "Login window user interface" width="248" height="138"></div><br/><p>If you want to make the password text field secure (so that typing in it produces asterisks rather than characters), see <span class="content_text"><a href="../T8CustomViews/T8CustomViews.html#//apple_ref/doc/uid/TP30001017-CH315-CEGEDJJH">“Custom Views”</a></span> to learn how to add custom view widgets to a nib file. Substitute <code>javax.swing.JPasswordField</code> in place of the custom view widget used in that section.</p><p>Then, add outlets to File’s Owner for each text field, naming them <code>username</code> and <code>password</code>. See <span class="content_text"><a href="../T8CustomViews/T8CustomViews.html#//apple_ref/doc/uid/TP30001017-CH315-CEGEDJJH">“Custom Views”</a></span> or <span class="content_text"><a href="../NonDirectJavaClient/NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-TPXREF27">“Programmatic Access to Interface Components”</a></span> to learn how to add outlets. The outlets pane should then appear as shown in <span class="content_text">Figure 24-2</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH321-BACBCFDC" title="Figure 24-2Add outlets named username and password"></a><p><strong>Figure 24-2&nbsp;&nbsp;</strong>Add outlets named <code>username</code> and <code>password</code></p><img src = "../Art/newoutlets.gif" alt = "Add outlets named username and password" width="304" height="339"></div><br/><p>Also add two new actions called <code>login</code> and <code>clear</code>. You add actions the same way as you add outlets except you add them in the Actions pane rather than in the Outlets pane. The Actions pane should then appear as in <span class="content_text">Figure 24-3</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH321-BACEJBEA" title="Figure 24-3Add actions"></a><p><strong>Figure 24-3&nbsp;&nbsp;</strong>Add actions</p><img src = "../Art/newactions.gif" alt = "Add actions" width="300" height="339"></div><br/><p>Finally, connect the outlets and the actions to the widgets you added. Control-drag from File’s Owner to the User Name text field and bind it to the <code>username</code> outlet. Control-drag from File’s Owner to the Password text field and bind it to the <code>password</code> outlet. Control-drag from the Log In button to File’s Owner and bind its target aspect to the <code>login</code> action. Control-drag from the Clear button to File’s Owner and bind its target aspect to the <code>clear</code> action. Also make sure that File’s Owner <code>component</code> outlet is bound to the nib file’s Window object. The File’s Owner connections should then appear as shown in <span class="content_text">Figure 24-4</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH321-BACFIEDI" title="Figure 24-4File&acirc;&#128;&#153;s Owner with new connections"></a><p><strong>Figure 24-4&nbsp;&nbsp;</strong>File’s Owner with new connections</p><img src = "../Art/filesownerwithnewoutlets.gif" alt = "File’s Owner with new connections" width="251" height="339"></div><br/><p>Save the nib file.</p><p>To load this interface<a name="//apple_ref/doc/uid/TP30001017-CH321-DontLinkElementID_709"></a> when the application launches, you use a binding provided on the JavaClient component. Open <code>JavaClient.wo</code> in WebObjects Builder and select the WOJavaClientComponent dynamic element, as shown in <span class="content_text">Figure 24-5</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH321-BACIBIGB" title="Figure 24-5Select the WOJavaClientComponent dynamic element"></a><p><strong>Figure 24-5&nbsp;&nbsp;</strong>Select the WOJavaClientComponent dynamic element</p><img src = "../Art/selectwojcapplet.gif" alt = "Select the WOJavaClientComponent dynamic element" width="506" height="401"></div><br/><p>Then, open the WOJavaClientComponent Binding Inspector by choosing Inspector from the Window menu. This shows you all the possible bindings for the WOJavaClientComponent dynamic element. For the <code>interfaceControllerClassName</code> binding, enter the fully qualified name of the login nib file you created in this chapter, making sure to put it in quotation marks. An example appears in <span class="content_text">Figure 24-5</span>.</p><p>Save the JavaClientcomponent.</p><p>The nib file specified as the value for this binding is loaded when the application starts up. Before you can use the nib file, you need to add instance variables in its controller class that correspond to the outlets you added to the nib. You’ll do this in the next section.</p><a name="//apple_ref/doc/uid/TP30001017-CH321-TPXREF40" title="Adding Logic to Authenticate Users"></a><h2>Adding Logic to Authenticate Users</h2><a name="//apple_ref/doc/uid/TP30001017-CH321-DontLinkElementID_710"></a><p>Now that you have a user interface for the login window, you need to add logic to authenticate users. The first step is to add an entity called Person to your application’s EOModel and generate a table for it in the database. This is the table against which your users will be authenticated. The entity needs three attributes: a primary key, an attribute named "username," and an attribute named "password." (The sample code in this section assumes these names but there is no reason you can’t use an entity named "User" and attributes with different names).</p><p>You also need to generate client and server Java class files for the Person entity. See <span class="content_text"><a href="../AdvancedTutorial/AdvancedTutorial.html#//apple_ref/doc/uid/TP30001017-CH303-TPXREF106">“Add Custom Business Logic”</a></span> for a reminder of how to do this using EOModeler.</p><p>The second step is to extract the values of the two text fields in the nib file. To do this, you need access to the text fields in the nib file’s controller class, as described in <span class="content_text"><a href="../NonDirectJavaClient/NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-TPXREF27">“Programmatic Access to Interface Components.”</a></span> Add an instance variable of type EOTextField for both of the text fields in the nib file. The instance variable’s names must correspond to the name of the outlets with which the text fields are connected. If you made the password field a JPasswordField, make its type JPasswordField.</p><a name="//apple_ref/doc/uid/TP30001017-CH321-TPXREF45" title="Listing 24-1Outlets using plain-text fields"></a><p class="codesample"><strong>Listing 24-1&nbsp;&nbsp;</strong>Outlets using plain-text fields</p><div class="codesample"><table><tr><td scope="row"><pre>public EOTextField username, password;<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001017-CH321-TPXREF46" title="Listing 24-2Outlets using one password field"></a><p class="codesample"><strong>Listing 24-2&nbsp;&nbsp;</strong>Outlets using one password field</p><div class="codesample"><table><tr><td scope="row"><pre>public EOTextField username;<span></span></pre></td></tr><tr><td scope="row"><pre>public JPasswordField password;<span></span></pre></td></tr></table></div><p>EOTextField is defined in the EOInterface Swing package and JPasswordField in the standard Swing package, so add import statements for both packages:</p><div class="codesample"><table><tr><td scope="row"><pre>import com.webobjects.eointerface.swing.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.swing.*;<span></span></pre></td></tr></table></div><p>The client part of the application needs a reference to an authenticated user. Since you added a Person entity to your model, a user is an object of type Person. Add another instance variable for a user:</p><div class="codesample"><table><tr><td scope="row"><pre>private Person _user;<span></span></pre></td></tr></table></div><p>Now, add methods for the actions you added to the nib file. You added two actions, <code>clear</code> and <code>login</code>, so add two methods with those names to the nib file’s controller class:</p><div class="codesample"><table><tr><td scope="row"><pre>public void login() {}<span></span></pre></td></tr><tr><td scope="row"><pre>public void clear() {}<span></span></pre></td></tr></table></div><p>The <code>clear</code> method simply clears the values of the text fields. Add this code to the class:</p><div class="codesample"><table><tr><td scope="row"><pre>username.setText("");<span></span></pre></td></tr><tr><td scope="row"><pre>password.setText("");<span></span></pre></td></tr></table></div><p>The <code>login</code> method authenticates users by sending the user-entered values from the User Name and Password text fields to remote methods on the server-side application, which query a data store to perform the authentication. If a user successfully authenticates, the client-side method that invoked the server-side method receives an object (an EOGlobalID) representing the user who authenticated.</p><p>Add the method in <span class="content_text"><a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-BACICFFA">Listing 24-3</a></span> to the nib file’s controller class to perform the remote method invocation. If the user successfully authenticates, the method returns <code>true</code> and sets the <code>_user</code> instance variable to the enterprise object representing the user who successfully authenticated.</p><a name="//apple_ref/doc/uid/TP30001017-CH321-BACICFFA" title="Listing 24-3Client-side login method"></a><p class="codesample"><strong>Listing 24-3&nbsp;&nbsp;</strong>Client-side login method</p><div class="codesample"><table><tr><td scope="row"><pre>public boolean clientSideRequestLogin() {<span></span></pre></td></tr><tr><td scope="row"><pre>    EOGlobalID person =<span></span></pre></td></tr><tr><td scope="row"><pre>          (EOGlobalID)(_distributedObjectStore().invokeStatelessRemoteMethodWithKeyPath(<span></span></pre></td></tr><tr><td scope="row"><pre>         "session", "clientSideRequestLogin", new Class[] {String.class, String.class},<span></span></pre></td></tr><tr><td scope="row"><pre>           new Object[] {username.getText(), new String(password.getPassword())}));<span></span></pre></td></tr><tr><td scope="row"><pre>    if (person != null) {<span></span></pre></td></tr><tr><td scope="row"><pre>        EOEditingContext ec = new EOEditingContext();<span></span></pre></td></tr><tr><td scope="row"><pre>        _user = (Person)(ec.faultForGlobalID(person, ec));<span></span></pre></td></tr><tr><td scope="row"><pre>        return true;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    else<span></span></pre></td></tr><tr><td scope="row"><pre>        return false;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>	<p>Remember to also add the method that returns the client’s parent object store, as described in <span class="content_text"><a href="../DistributionLayer/DistributionLayer.html#//apple_ref/doc/uid/TP30001017-CH302-TPXREF43">“Distributed Object Store”</a></span> since the remote method invocation is invoked on the client’s parent object store. Remember to also add the import statement for the distributed object store’s package:</p><div class="codesample"><table><tr><td scope="row"><pre>import com.webobjects.eodistribution.client.*;<span></span></pre></td></tr></table></div><p>Now, invoke the client-side method <code>clientSideRequestLogin</code> in the <code>login</code> method, adding a conditional based on the response, as shown in <span class="content_text">Listing 24-4</span>.</p><a name="//apple_ref/doc/uid/TP30001017-CH321-BACICHHE" title="Listing 24-4The login method"></a><p class="codesample"><strong>Listing 24-4&nbsp;&nbsp;</strong>The <code>login</code> method</p><div class="codesample"><table><tr><td scope="row"><pre>public void login() {<span></span></pre></td></tr><tr><td scope="row"><pre>     if (this.clientSideRequestLogin()) {<span></span></pre></td></tr><tr><td scope="row"><pre>        //allow user into application<span></span></pre></td></tr><tr><td scope="row"><pre>     }<span></span></pre></td></tr><tr><td scope="row"><pre>     else {<span></span></pre></td></tr><tr><td scope="row"><pre>        EODialogs.runErrorDialog("Login failed", "Login failed. Please try<span></span></pre></td></tr><tr><td scope="row"><pre>           again.");<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr></table></div><p>This is all you need to do on the client side. Now, you need to add the method on the server-side that actually performs the authentication. The remote method invocation specifies the key path <code>session</code> and the method <code>clientSideRequestLogin</code>, so add a method in <code>Session.java</code> with that name, as shown in <span class="content_text"><a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-BACIIICC">Listing 24-5</a></span>. The <code>clientSideRequestLogin</code> method uses the EOUtilities class which is defined in the access layer, so also add the import statement for <code>com.webobjects.eoaccess</code> in <code>Session.java</code>.</p><a name="//apple_ref/doc/uid/TP30001017-CH321-BACIIICC" title="Listing 24-5Authentication in Session.java"></a><p class="codesample"><strong>Listing 24-5&nbsp;&nbsp;</strong>Authentication in <code>Session.java</code></p><div class="codesample"><table><tr><td scope="row"><pre>public EOGlobalID clientSideRequestLogin(String username, String password) {<span></span></pre></td></tr><tr><td scope="row"><pre>        EOGenericRecord user;<span></span></pre></td></tr><tr><td scope="row"><pre>        EOEditingContext editingContext = new EOEditingContext();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        NSMutableDictionary userCredentials = new NSMutableDictionary();<span></span></pre></td></tr><tr><td scope="row"><pre>        userCredentials.setObjectForKey(username, "username");<span></span></pre></td></tr><tr><td scope="row"><pre>        userCredentials.setObjectForKey(password, "password");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        NSArray foundObjects = EOUtilities.objectsMatchingValues(editingContext, "Person",<span></span></pre></td></tr><tr><td scope="row"><pre>         userCredentials);<span></span></pre></td></tr><tr><td scope="row"><pre>        if (foundObjects.count() == 1) {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            user = (EOGenericRecord)foundObjects.objectAtIndex(0);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            return(editingContext.globalIDForObject(user));<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        else {<span></span></pre></td></tr><tr><td scope="row"><pre>            return null;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr></table></div>	<p>This method constructs a dictionary based on the values passed in from the client side (the user-entered name and password). Then, using the class <code>com.webobjects.eoaccess.EOUtilities</code>, the method performs a fetch against the data store in the Person entity. If a record matching the user’s credentials is found, the method returns the EOGlobalID for that user. </p><p>The client-side method <code>clientSideRequestLogin</code> receives the result of this method, and if it is not <code>null</code>, allows the user into the application. If it receives <code>null</code>, however, it displays a dialog with an error message, as shown in <span class="content_text">Figure 24-6</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH321-TPXREF43" title="Figure 24-6Login failed"></a><p><strong>Figure 24-6&nbsp;&nbsp;</strong>Login failed</p><img src = "../Art/loginfailed.gif" alt = "Login failed" width="278" height="192"></div><br/><p>Of course, authentication fails if you don’t add users to the entity in the data store on which you perform the fetch specification, so remember to add users.</p><a name="//apple_ref/doc/uid/TP30001017-CH321-TPXREF41" title="Restricting Access"></a><h2>Restricting Access</h2><a name="//apple_ref/doc/uid/TP30001017-CH321-DontLinkElementID_711"></a><a name="//apple_ref/doc/uid/TP30001017-CH321-DontLinkElementID_712"></a><p>The login window you added won’t be of much use until you change the default startup sequence to remove the Documents menu and the default query window. Otherwise, users can simply ignore the login window and start using the application.</p><p>To learn how to remove the Documents menu, see <span class="content_text"><a href="../T1RestrictingAccess/T1RestrictingAccess.html#//apple_ref/doc/uid/TP30001017-CH308-TPXREF38">“The Documents Menu.”</a></span> To learn how to suppress the default query window, see <span class="content_text"><a href="../T1RestrictingAccess/T1RestrictingAccess.html#//apple_ref/doc/uid/TP30001017-CH308-TPXREF40">“The Default Query Window.”</a></span></p><p>Finally, now that you’ve disabled all the default mechanisms for users to use the application, you need to provide custom access. In <span class="content_text"><a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-BACICHHE">Listing 24-4</a></span>, currently nothing happens if the user successfully authenticates—except that they don’t see the error dialog stating that authentication failed. </p><p>However, there are many things you can do, such as using the controller factory programmatically (<span class="content_text"><a href="../T2UsingFactory/T2UsingFactory.html#//apple_ref/doc/uid/TP30001017-CH309-TP1">“Generating Controllers With the Controller Factory”</a></span>) or loading another nib file that provides a menu of the application’s primary tasks. You can display the default query window after the user authenticates by adding this code in the <code>if</code> part of the conditional in the <code>login</code> method in <span class="content_text"><a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-BACICHHE">Listing 24-4</a></span>:</p><div class="codesample"><table><tr><td scope="row"><pre>EOControllerFactory.sharedControllerFactory().queryControllerWithEntity<span></span></pre></td></tr><tr><td scope="row"><pre>("entityName")<span></span></pre></td></tr></table></div><p>Make sure to add the import statement for the<code> com.webobjects.eogeneration</code> package to the nib file.</p><p>To load a nib file programmatically, change the <code>login</code> method in <span class="content_text"><a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-BACICHHE">Listing 24-4</a></span> to <span class="content_text"><a href="T13LoginWindow.html#//apple_ref/doc/uid/TP30001017-CH321-TPXREF44">Listing 24-6</a></span>.</p><a name="//apple_ref/doc/uid/TP30001017-CH321-TPXREF44" title="Listing 24-6Load a nib file programmatically"></a><p class="codesample"><strong>Listing 24-6&nbsp;&nbsp;</strong>Load a nib file programmatically</p><div class="codesample"><table><tr><td scope="row"><pre>public void login() {<span></span></pre></td></tr><tr><td scope="row"><pre>     if (this.clientSideRequestLogin()) {<span></span></pre></td></tr><tr><td scope="row"><pre>        MainMenuInterfaceController mainMenu = new<span>// 1</span></pre></td></tr><tr><td scope="row"><pre>             MainMenuInterfaceController();<span>// 2</span></pre></td></tr><tr><td scope="row"><pre>        EOFrameController.runControllerInNewFrame(mainMenu, null);<span>// 3</span></pre></td></tr><tr><td scope="row"><pre>     }<span></span></pre></td></tr><tr><td scope="row"><pre>     else {<span></span></pre></td></tr><tr><td scope="row"><pre>        EODialogs.runErrorDialog("Login failed", "Login failed. Please try          again.");<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Code line 1 instantiates a new instance of the nib file named <code>MainMenuInterfaceController</code> and code line 2 displays the nib file.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../HTMLOnClient/HTMLOnClient.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../DocumentHistory/DocumentHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-08-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/DesktopApplications/T13LoginWindow/T13LoginWindow.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/DesktopApplications/T13LoginWindow/T13LoginWindow.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/DesktopApplications/T13LoginWindow/T13LoginWindow.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>