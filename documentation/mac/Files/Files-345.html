<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Creating Alias Records (IM: F)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING345></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Files-344.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-346.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Files-2.html"><B>Files</B></A> / <BR><DD><A HREF="Files-340.html"><B>Chapter 4 - Alias Manager</B></A> / <A HREF="Files-344.html"><B>Using the Alias Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING345-0></A>
<H2>Creating Alias Records</H2>
 You create a new alias record by calling one of three functions: <CODE>NewAlias</CODE>, <CODE>NewAliasMinimal</CODE>, or <CODE>NewAliasMinimalFromFullPath</CODE>. The <CODE>NewAlias</CODE> function creates a complete alias record that can make full use of the alias-resolution a gorithms. The other two functions are streamlined variations designed for circumstances when speed is more important than robust resolution services. All three functions allocate the memory for the record, fill it in, and return a handle to it.<P>
 The <CODE>NewAlias</CODE> function always records the name and the file or directory ID of the target, its creation date, the parent directory name and ID, and the volume name and creation date. It also records the full pathname of the target and a collection of other information. You can have <CODE>NewAlias</CODE> store relative path information as well by supplying a starting point for a relative path (see <A HREF=Files-343.html#MARKER-9-25>"Relative Searches" on page 4-5</A> for a description of relative paths).<P>
 Call <CODE>NewAlias</CODE> when you want to create an alias record to store for later use. For example, suppose you are writing a word-processing application that allows the user to customize a dictionary for use with a single text file. Your application stores the custom data in a separate dictionary file in the same directory as the document. As soon as you create the dictionary file, you can call <CODE>NewAlias</CODE> to create an alias record for that file, including path information relative to the user's text file. <A HREF=#MARKER-9-64>Listing 4-1</A> shows how to use <CODE>NewAlias</CODE> to create a new alias.<A NAME=MARKER-9-120></A><P>
<B>Listing 4-1  <A NAME=MARKER-9-64></A>Creating an alias record</B><P>
<PRE>
FUNCTION DoCreateAlias (myDoc, myDict: FSSpec): OSErr;
VAR
   myAliasHdl: AliasHandle;                        {handle to created alias}
   myErr:      OSErr;
BEGIN
   myErr := NewAlias(@myDoc, myDict, myAliasHdl);  {create alias record}
   IF myAliasHdl &lt;&gt; NIL THEN
      myErr := DoSaveAlias(myDoc, myAliasHdl);     {save it as a resource}
   DoCreateAlias := myErr;                         {return result code}
END;
</PRE>
 The function <CODE>DoCreateAlias</CODE> defined in <A HREF=#MARKER-9-64>Listing 4-1</A> takes two <CODE>FSSpec</CODE> records as parameters. The first specifies the document that is to serve as the starting point for a relative search, in this case the user's text file. The second <CODE>FSSpec</CODE> record specifies the target of the alias to be created, in this example the dictionary file. The <CODE>DoCreateAlias</CODE> function calls <CODE>NewAlias</CODE> to create the alias record; if successful, it calls the application- defined function <CODE>DoSaveAlias</CODE> to save the alias record as a resource in the document file's resource fork. See <A HREF=Files-347.html#MARKER-9-82>Listing 4-2</A> on <A HREF=Files-347.html#MARKER-9-82>page 4-12</A> for a definition of <CODE>DoSaveAlias</CODE>.<P>
 The two variations on the <CODE>NewAlias</CODE> function, <CODE>NewAliasMinimal</CODE> and <CODE>NewAliasMinimalFromFullPath</CODE>, record only a minimum of information about <BR>the target. The <CODE>NewAliasMinimal</CODE> function records only the target's name, parent directory ID, volume name and creation date, and volume mounting information. The <CODE>NewAliasMinimalFromFullPath</CODE> function records only the full pathname of the target, including the volume name.<A NAME=MARKER-8-13></A><P>
 Use <CODE>NewAliasMinimal</CODE> or <CODE>NewAliasMinimalFromFullPath</CODE> when you are willing to give up robust alias-resolution service in return for speed. The Finder, for example, stores minimal aliases in the Apple events that tell your application to open or print a document. Because the alias record is resolved almost immediately, the description is likely to remain valid, and the shorter record is probably safe.<P>
 You can use <CODE>NewAliasMinimalFromFullPath</CODE> to create an alias record for a target that doesn't exist or that resides on an unmounted volume.<A NAME=MARKER-2-67></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Files-344.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-346.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Files-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
