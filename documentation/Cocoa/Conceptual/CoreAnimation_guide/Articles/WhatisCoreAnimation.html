<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Core Animation Programming Guide: What Is Core Animation?</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="What Is Core Animation?"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004689" title="What Is Core Animation?"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../GraphicsImaging/index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../../GraphicsImaging/Quartz-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../index.html" target="_top">Core Animation Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CoreAnimationArchitecture.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40004689-SW1" title="What Is Core Animation?"></a><hr /><H1>What Is Core Animation?</H1><p>Core Animation is a collection of Objective-C classes for graphics rendering, projection, and animation. It provides fluid animations using advanced compositing effects while retaining a hierarchical layer abstraction that is familiar to developers using the Application Kit and Cocoa Touch view architectures. </p><p>Dynamic, animated user interfaces are hard to create, but Core Animation makes creating these interfaces easier by providing:</p><ul class="ul"><li class="li"><p>High performance compositing with a simple approachable programming model.</p></li><li class="li"><p>A familiar view-like abstraction that allows you to create complex user interfaces using a hierarchy of layer objects.</p></li><li class="li"><p>A lightweight data structure. You can display and animate hundreds of layers simultaneously.</p></li><li class="li"><p>An abstract animation interface that allows animations to run on a separate thread, independent of your application's run loop. Once an animation is configured and starts, Core Animation assumes full responsibility for running it at frame rate.</p></li><li class="li"><p>Improved application performance. Applications need only redraw content when it changes. Minimal application interaction is required for resizing and providing layout services  layers. Core Animation also eliminates application code that runs at the animation frame-rate.</p></li><li class="li"><p>A flexible layout manager model, including a manager that allows the position and size of a layer to be set relative to attributes of sibling layers.</p></li></ul><p>Using Core Animation, developers can create dynamic user interfaces for their applications without having to use low-level graphics APIs such as OpenGL to get respectable animation performance. </p><p></p><a name="//apple_ref/doc/uid/TP40004689-SW2" title="Core Animation Classes"></a><h2>Core Animation Classes</h2><p>Core Animation classes can be grouped into several categories:</p><ul class="ul"><li class="li"><p>Layer classes that provide content for display</p></li><li class="li"><p>Animation and timing classes</p></li><li class="li"><p>Layout and constraint classes</p></li><li class="li"><p>A transaction class that groups multiple layer changes into an atomic update</p></li></ul><p>The basic Core Animation classes are contained in the Quartz Core framework, although additional layer classes can be defined in other frameworks.  <span class="content_text">“Core Animation Classes”</span> shows the class hierarchy of Core Animation.</p><br/><div><a name="//apple_ref/doc/uid/TP40004689-SW3" title="Figure 1Core Animation class hierarchy"></a><p><strong>Figure 1&nbsp;&nbsp;</strong>Core Animation class hierarchy</p><img src = "../Art/lk_class_hierarchy.jpg" alt = "Core Animation class hierarchy" ></div><br/><a name="//apple_ref/doc/uid/TP40004689-SW4" title="Layer Classes"></a><h3>Layer Classes</h3><p>The layer classes are the foundation of Core Animation and provide an abstraction that should be familiar to developers who have used <code>NSView</code> or <code>UIView</code>. Basic layer functionality is provided by the <code>CALayer</code> class, which is the parent class for all types of Core Animation layers.</p><p>As with an instance of a view class, a <code>CALayer</code> instance has a single parent layer (the superlayer) and a collection of sublayers, creating a hierarchy of layers that is referred to as the layer tree. Layers are drawn from back to front just like views and specify their geometry relative to their superlayer, creating a local coordinate system. However, layers allow a more complex visual display by incorporating transform matrices that allow you to rotate, skew, scale, and project the layer content. <span class="content_text"><a href="Layers.html#//apple_ref/doc/uid/TP40006082-SW1">“Layer Geometry and Transforms”</a></span> discusses layer geometry and transforms in more detail.</p><p><code>CALayer</code> diverges from the Application Kit and Cocoa Touch view classes in that it is not necessary to subclass <code>CALayer</code> in order to display content. The content displayed by a <code>CALayer</code> instance can be provided by:</p><ul class="spaceabove"><li class="li"><p>Setting the layer’s content property to a Core Graphics image representation directly, or through delegation.</p></li><li class="li"><p>Providing a delegate that draws directly into a Core Graphics image context.</p></li><li class="li"><p>Setting any of the number of visual style properties that all layer types have in common, for example, background colors, opacity, and masking. Mac OS X applications also have access to visual properties that make use of Core Image filters.</p></li><li class="li"><p>Subclassing CALayer and implementing any of the above techniques in a more encapsulated manner.</p></li></ul><p><span class="content_text"><a href="ProvidingCALayerContent.html#//apple_ref/doc/uid/TP40006642-SW1">“Providing Layer Content”</a></span> describes the available techniques for providing the content for a layer. The visual style properties and the order in which they are applied to the content of a layer is discussed in <span class="content_text"><a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW1">“Layer Style Properties.”</a></span></p><p>In addition to the <code>CALayer</code> class, the Core Animation class collection provides additional classes that allow applications to display other types of content. The available classes differ slightly between Mac OS X and iPhone OS. The following classes are available on both Mac OS X and iPhone OS:</p><ul class="spaceabove"><li class="li"><p><code>CAScrollLayer</code> class is a subclass of <code>CALayer</code> that simplifies displaying a portion of a layer. The extent of the scrollable area of a <code>CAScrollLayer</code> object is defined by the layout of its sublayers. <code>CAScrollLayer</code> does not provide keyboard or mouse event-handling, nor does it provide visible scrollers.</p></li><li class="li"><p><code>CATiledLayer</code> allows the display of large and complex images in incremental stages.</p></li></ul><p>Mac OS X provides these additional classes:</p><ul class="spaceabove"><li class="li"><p><code>CATextLayer</code> is a convenience class that creates a layer's content from a string or attributed string. </p></li><li class="li"><p><code>CAOpenGLLayer</code> provides an OpenGL rendering environment. You must subclass this class to provide content using OpenGL. The content can be static or can be updated over time.</p></li><li class="li"><p><code>QCCompositionLayer</code> (provided by the Quartz Composer framework) animates a Quartz Composer composition as its content.</p></li><li class="li"><p><code>QTMovieLayer</code> and <code>QTCaptureLayer</code> (provided by the QTKit framework) provides playback of QuickTime movies and live video.</p></li></ul><p>iPhone OS adds the following class:</p><ul class="spaceabove"><li class="li"><p><code>CAEAGLLayer</code> provides an OpenGLES rendering environment.</p></li></ul><p>The <code>CALayer</code> class introduces the concept of a <strong>key-value coding compliant container class</strong>–that is, a class that can store arbitrary values, using key-value coding compliant methods, without having to create a subclass. <code>CALayer</code> also extends the <code>NSKeyValueCoding</code> informal protocol, adding support for default key values and  automatic object wrapping for the additional structure types (<code>CGPoint</code>, <code>CGSize</code>, <code>CGRect</code>, <code>CGAffineTransform</code> and <code>CATransform3D</code>) and provides access to many of the fields of those structures by key path.</p><p><code>CALayer</code> also manages the animations and actions that are associated with a layer. Layers receive action triggers in response to layers being inserted and removed from the layer tree, modifications being made to layer properties, or explicit developer requests. These actions typically result in an animation occurring. See <span class="content_text"><a href="AnimatingLayers.html#//apple_ref/doc/uid/TP40006085-SW1">“Animation”</a></span> and <span class="content_text"><a href="Actions.html#//apple_ref/doc/uid/TP40006095-SW1">“Actions”</a></span> for more information.</p><a name="//apple_ref/doc/uid/TP40004689-SW5" title="Animation and Timing Classes"></a><h3>Animation and Timing Classes</h3><p>Many of the visual properties of a layer are implicitly animatable. By simply changing the value of an animatable property the layer will automatically animate from the current value to the new value. For example, setting a layer's hidden property to <code>YES</code> triggers an animation that causes the layer to gradually fade away. Most animatable properties have an associated default animation which you can easily customize and replace. A complete list of the animatable properties and their default animations are listed in <span class="content_text"><a href="AnimProps.html#//apple_ref/doc/uid/TP40005942-SW1">“Animatable Properties.”</a></span></p><p>Animatable properties can also be explicitly animated. To explicitly animate a property you create an instance of one of Core Animation’s animation classes and specify the required visual effects. An explicit animation doesn’t change the value of the property in the layer, it simply animates it in the display.</p><p>Core Animation provides animation classes that can animate the entire contents of a layer or selected attributes using both basic animation and key-frame animation. All Core Animation's animation classes descend from the abstract class <code>CAAnimation</code>. <code>CAAnimation</code> adopts the <code>CAMediaTiming</code> protocol which provides the simple duration, speed, and repeat count for an animation. <code>CAAnimation</code> also adopts the <code>CAAction</code> protocol. This protocol provides a standardized means for starting an animation in response to an action triggered by a layer.</p><p>The animation classes also define a timing function that describes the pacing of the animation as a simple Bezier curve. For example, a linear timing function specifies that the animation's pace is even across its duration, while an ease-in timing function causes an animation to slow down as it nears its duration.</p><p>Core Animation provides a number of additional abstract and concrete animation classes:</p><ul class="spaceabove"><li class="li"><p><code>CATransition</code> provides a transition effect that affects the entire layer's content. It fades, pushes, or reveals layer content when animating. The stock transition effects can be extended by providing your own custom Core Image filters.</p></li><li class="li"><p><code>CAAnimation</code> allows an array of animation objects to be grouped together and run concurrently.</p></li><li class="li"><p><code>CAPropertyAnimation</code> is an abstract subclass that provides support for animating a layer property specified by a key path.</p></li><li class="li"><p><code>CABasicAnimation</code> provides simple interpolation for a layer property.</p></li><li class="li"><p><code>CAKeyframeAnimation</code> provides support for key frame animation. You specify the key path of the layer property to be animated, an array of values that represent the value at each stage of the animation, as well as arrays of key frame times and timing functions. As the animation runs, each value is set in turn using the specified interpolation.</p></li></ul><p>These animation classes are used by both Core Animation and Cocoa Animation proxies. <span class="content_text"><a href="AnimatingLayers.html#//apple_ref/doc/uid/TP40006085-SW1">“Animation”</a></span> describes the classes as they pertain to Core Animation, <em><a href="../../Animation_Types_Timing/index.html#//apple_ref/doc/uid/TP40006166" target="_top">Animation Types and Timing Programming Guide</a></em> contains a more in-depth exploration of their capabilities.</p><a name="//apple_ref/doc/uid/TP40004689-SW6" title="Layout Manager Classes"></a><h3>Layout Manager Classes</h3><p>Application Kit view classes provide the classic "struts and springs" model of positioning layers relative to their superlayer. While layers support this model, Core Animation on Mac OS X also provides a more flexible layout manager mechanism that allows developers to write their own layout managers.</p><p>Core Animation’s <code>CAConstraint</code> class is a layout manager that arranges sublayers using a set of constraints that you specify. Each constraint (encapsulated by instances of the <code>CAConstraint</code> class) describes the relationship of one geometric attribute of a layer (the left, right, top, or bottom edge or the horizontal or vertical center) in relation to a geometric attribute of one of its sibling layers or its superlayer.</p><p>Layout managers in general, and the constraint layout manager are discussed in <span class="content_text"><a href="Layout.html#//apple_ref/doc/uid/TP40006084-SW1">“Laying Out Core Animation Layers”</a></span></p><a name="//apple_ref/doc/uid/TP40004689-SW7" title="Transaction Management Classes"></a><h3>Transaction Management Classes</h3><p>Every modification to an animatable property of a layer must be part of a transaction. <code>CATransaction</code> is the Core Animation class responsible for batching multiple animation operations into atomic updates to the display. Nested transactions are supported.</p><p>Core Animation supports two types of transactions: implicit transactions and explicit transactions. Implicit transactions are created automatically when an animatable property of a layer is modified by a thread without an active transaction and are committed automatically when the thread's run-loop next iterates. Explicit transactions occur when the application sends the <code>CATransaction</code> class a begin message before modifying the layer, and a commit message afterwards.</p><p>Transaction management is discussed in <span class="content_text"><a href="Transactions.html#//apple_ref/doc/uid/TP40006096-SW1">“Transactions.”</a></span></p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CoreAnimationArchitecture.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-11-13<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/WhatisCoreAnimation.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/WhatisCoreAnimation.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/WhatisCoreAnimation.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
