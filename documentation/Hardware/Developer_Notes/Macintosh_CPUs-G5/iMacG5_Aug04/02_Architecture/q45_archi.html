<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>iMac G5 Developer Note: Architecture</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Architecture"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001433-CH206" title="Architecture"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../../HardwareDrivers/index.html#//apple_ref/doc/uid/TP30000440-TP40003576" target="_top">Hardware &amp; Drivers</a> &gt; <a href="../../../../../HardwareDrivers/AppleHardware-date.html#//apple_ref/doc/uid/TP30000440-TP40003576-TP30000519" target="_top">Apple Hardware</a> &gt; <a href="../00_Preface/q45_pref.html#//apple_ref/doc/uid/TP40001433-CH204-DontLinkElementID_12">iMac G5 Developer Note</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../01_Overview/q45_overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../03_Input-Output/q45_inout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_17" title="Architecture"></a><h1><a name="//apple_ref/doc/uid/TP40001433-CH206-BBCGCJCF" title="Architecture"></a>Architecture</h1><p>This chapter describes the architecture of the iMac G5. It includes information about the major components on the main logic board: the microprocessor, the other main ICs, and the buses that connect them to each other and to the I/O interfaces. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-TPXREF101">Block Diagram and Buses</a>
				
			<br/>
			
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_5">PowerPC G5 Processor</a>
				
			<br/>
			
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-TPXREF105">Memory Controller</a>
				
			<br/>
			
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-TPXREF132">HyperTransport Technology</a>
				
			<br/>
			
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-BAJEEHBJ">PCI USB Controller</a>
				
			<br/>
			
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-TPXREF115">Shasta I/O Controller</a>
				
			<br/>
			
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-BCIFHIBD">Graphics ICs</a>
				
			<br/>
			
        
			
			
				<a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-TPXREF133">System Management Unit</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF101" title="Block Diagram and Buses"></a><h2>Block Diagram and Buses</h2><p>The architecture of the iMac G5 is based on the PowerPC G5 microprocessor, and two custom ICs: the U3L memory controller and the <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_67"></a>Shasta I/O controller.</p><p><span class="content_text"><a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-BCIGAACJ">Figure 2-1</a></span> provides a simplified block diagram of the U3L and Shasta ICs and the buses that connect them together. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_68"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_69"></a></p><br/><div><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_18" title="Figure 2-1Block diagram"></a><p><a name="//apple_ref/doc/uid/TP40001433-CH206-BCIGAACJ" title="Figure 2-1Block diagram"></a><strong>Figure 2-1&nbsp;&nbsp;</strong>Block diagram</p><img src = "../art/040654001701_01.gif" alt = "Block diagram" width="561" height="652"></div><br/><p>The iMac G5 has the following data buses, not counting the processor’s dedicated interface to the backside cache. </p><ul class="ul"><li class="li"><p>Processor bus: up to 600 MHz (running at one-third the speed of the processor), 2 unidirectional buses that deliver 64-bit data throughput connecting the processor to the U3L IC<a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_70"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_71"></a></p></li><li class="li"><p>Memory bus: 400 MHz, bus connecting the main DDR SDRAM memory to the U3L IC<a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_72"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_73"></a> is 64-bit if only one DIMM is installed, two 64-bit buses if two non-identical DIMMs are installed, or 128-bit if two identical DIMMs are installed (for additional information, refer to <span class="content_text"><a href="../04_Expansion/q45_expan.html#//apple_ref/doc/uid/TP40001433-CH208-TPXREF101">“RAM Expansion”</a></span>)</p></li><li class="li"><p>8x AGP bus: 533 MHz, 32-bit bus connecting the AGP graphics IC to the U3L IC<a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_74"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_75"></a></p></li><li class="li"><p>Internal PCI bus: 33 MHz, 32-bit bus supports the <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_76"></a>Shasta I/O controller, the boot ROM, the AirPort Extreme Card slot, and the USB controller<a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_77"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_78"></a></p></li><li class="li"><p> Serial ATA (SATA) buses: non-education configurations support 1.5 Gbps internal hard drive connector</p></li><li class="li"><p>Ultra ATA/133 bus: supports internal optical drive or hard drive. The education configuration has a factory-installed Ultra ATA/100 hard drive and no optical drive.</p></li><li class="li"><p>HyperTransport: high-speed, bidirectional, point-to-point link for integrated circuits supports bidirectional data rates up to 800 MBps</p></li></ul><p>The remainder of this chapter describes the architecture of the U3L memory controller, the Shasta I/O controller IC, and the USB controller. </p><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_5" title="PowerPC G5 Processor"></a><h2>PowerPC G5 Processor</h2><p>The PowerPC G5 used in the iMac G5 has the following features:<a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_79"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_80"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_81"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_82"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_83"></a></p><ul class="ul"><li class="li"><p>64-bit PowerPC implementation with 42-bit physical memory addressing</p></li><li class="li"><p>core runs at three times the bus speed </p></li><li class="li"><p>superscalar execution core supporting more than 200 in-flight instructions</p></li><li class="li"><p>two independent double-precision floating point units </p></li><li class="li"><p>Velocity Engine: 128-bit-wide vector execution unit </p></li><li class="li"><p>64K L1 instruction cache, 32K L1 data cache </p></li><li class="li"><p>built-in 512 KB backside L2 cache </p></li><li class="li"><p>two independent, unidirectional up to 600 MHz frontside buses supporting 4.8 GBps data throughput</p></li></ul><p>For more information, see the reference at <span class="content_text"><a href="../A_References/q45_refs.html#//apple_ref/doc/uid/TP40001433-CH209-TPXREF102">“PowerPC G5 Microprocessor.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF105" title="Memory Controller"></a><h2>Memory Controller</h2><p>The U3L custom IC provides the bridging functionality among the processor, the memory system, HyperTransport bus, and the AGP bus. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_84"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_85"></a></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF108" title="Processor Bus"></a><h3>Processor Bus</h3><p>The processor bus is an up to 600 MHz bus connecting the processor to the U3L IC. The bus has 32-bit wide data running in both directions. The processor has 42-bit wide addresses. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_86"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_87"></a></p><p>The iMac G5 system controller is built with 90-nanometer SOI technology. This point-to-point architecture provides each subsystem with dedicated bandwidth to main memory. The U3L I/O implements an independent processor interface. The processor clock rate is either 900 MHz or 1.8 GHz for the 1.8 GHz processor or 800 MHz or 1.6 GHz for the 1.6 GHz processor and connects to the I/O through the processor interface. The processor clock is derived from a PLL which multiplies the reference clock by preset intervals of 12 times.</p><p>Out-of-order completion allows the memory controller to optimize the data bus efficiency by transferring whichever data is ready, rather than having to pass data across the bus in the order the transactions were posted on the bus. This means that a fast DDR SDRAM read can pass a slow PCI read, potentially enabling the processor to do more before it has to wait on the PCI data. </p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF109" title="Main Memory Bus"></a><h3>Main Memory Bus</h3><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_88"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_89"></a><p>The iMac G5 main memory bus connects the main memory to the U3L IC via the 128-bit data bus. The memory modules are 400 MHz (PC3200) DDR SDRAM DIMMs. Maximum system memory is 2 GB.</p><p>Standard supported DIMM sizes are 128, 256, 512 MB, and 1 GB. The DIMMs must be unbuffered. </p><p>For more information about memory DIMMs and installation, see <span class="content_text"><a href="../04_Expansion/q45_expan.html#//apple_ref/doc/uid/TP40001433-CH208-TPXREF101">“RAM Expansion.”</a></span></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF110" title="Accelerated Graphics Port Bus"></a><h3>Accelerated Graphics Port Bus</h3><p>The accelerated graphics port (AGP 8x) bus is a 533 MHz, 32-bit bus connecting the AGP IC to the U3L IC. DDR data is transmitted at both edges of the clock for peak transfers of 2.1 GBps. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_90"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_91"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_92"></a></p><p>The AGP bus is an enhanced PCI bus with extra functionality to burst texture data and other graphics across the port up to 8 times faster than a 66 MHz PCI port. The iMac G5 computer’s AGP implementation is compatible with version 3 of the AGP specification and with the Pro version of AGP. AGP 3.0 enables deeply pipelined memory read and write operations and demultiplexing of address and data on the bus.</p><p>To further improve the performance of the AGP bus, the U3L IC supports a graphics address remapping table (GART). Because the virtual memory system organizes main memory as randomly distributed 4 KB pages, DMA transactions for more than 4 KB of data must perform scatter-gather operations. To avoid this necessity for AGP transactions, the GART is used by the AGP bridge in the U3L to translate a linear address space for AGP transactions into physical addresses in main memory. </p><p>The U3L IC also supports a DMA Address Relocation Table (DART) that provides the same functions for AGP as does the GART, except that the functions are for devices attached to HyperTransport. Most device drivers do not require special knowledge of the DART because IOKit will configure it automatically if the driver uses IOMemoryDescriptors. </p><p>For more information on the graphics IC installed in the AGP bus, refer to <span class="content_text"><a href="q45_archi.html#//apple_ref/doc/uid/TP40001433-CH206-BCIFHIBD">“Graphics ICs.”</a></span></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF111" title="Internal PCI Bus "></a><h3>Internal PCI Bus </h3><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_93"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_94"></a><p>An internal 33 MHz PCI bus connects the Shasta I/O controller to the boot ROM, the AirPort Extreme Card slot, and the USB controller. The U3L IC used in the iMac G5 supports the PCI write combining feature. This feature allows sequential write transactions involving the Memory Write or Memory Write and Invalidate commands to be combined into a single PCI transaction. For memory write transactions to be combined, they must be sequential, ascending, and non-overlapping PCI addresses. Placing an <code>eieio</code> or <code>sync</code> command between the write commands prevents any write combining. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_95"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_96"></a></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF132" title="HyperTransport Technology"></a><h2>HyperTransport Technology</h2><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_97"></a><p>The DDR HyperTransport is an advanced chip-to-chip communications technology that provides a high-speed, high-performance, point-to-point link for integrated circuits. HyperTransport provides a universal connection that reduces the number of buses within a system.</p><p>The HyperTransport bus between the U3L IC and the Shasta IC is 400 MHz DDR, 8 bits wide in both directions, supporting total of 800 MBps bidirectional throughput.</p><p>For more information on the HyperTransport technology, go to the World Wide Web at</p><p><span class="content_text"><a href="http://www.hypertransport.org" target="_blank">http://www.hypertransport.org</a></span></p><a name="//apple_ref/doc/uid/TP40001433-CH206-BAJEEHBJ" title="PCI USB Controller"></a><h2>PCI USB Controller</h2><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_98"></a><p>The iMac G5 CPU uses a PCI USB controller ASIC with one Enhanced Host Controller Interface (EHCI) function and two Open Host Controller Interface (OHCI) functions. The controller has a total of four ports available to support three external USB ports and the Bluetooth module. </p><p>The four USB ports comply with the Universal Serial Bus Specification 2.0. The USB register set complies with the EHCI and OHCI specifications. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_99"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_100"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_101"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_102"></a>For more information, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCBIFIC">“USB Ports.”</a></span></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF115" title="Shasta I/O Controller"></a><h2>Shasta I/O Controller</h2><p><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_103"></a> The functions of the Shasta I/O controller are described in the following sections.</p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF116" title="DMA Support"></a><h3>DMA Support</h3><p>The Shasta ICs provide DB-DMA (descriptor-based direct memory access) support for the following I/O channels: <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_104"></a></p><ul class="spaceabove"><li class="li"><p>Ultra ATA/133 bus</p></li><li class="li"><p>Ethernet interface</p></li><li class="li"><p>FireWire interface</p></li><li class="li"><p>I2S channel to the sound subsystem</p></li><li class="li"><p>Serial ATA</p></li></ul><p>The DB-DMA system provides a scatter-gather process based on memory-resident data structures that describe the data transfers. The DMA engine is enhanced to allow bursting of data files for improved performance. </p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF122" title="Wireless LAN Module "></a><h3>Wireless LAN Module </h3><p>The optional AirPort Extreme wireless LAN module connects via the PCI interface. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_105"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_106"></a></p><p>The AirPort Extreme Card wireless LAN module contains a media access controller (MAC), a digital signal processor (DSP), and a radio-frequency (RF) section. The module connects to an internal antenna. </p><p>The AirPort Extreme Card is compliant with the IEEE 802.11g standard. The card transmits and receives data at up to 54 Mbps and is compatible with Apple AirPort systems as well as other 802.11b and 802.11g Wi-Fi certified products. For information about its operation, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BCIIIHHE">“AirPort Extreme Card.”</a></span> </p><p>The build-to-order Bluetooth connectivity comes off the USB controller. See <span class="content_text"><a href="../A_References/q45_refs.html#//apple_ref/doc/uid/TP40001433-CH209-BAJGIJCC">“Bluetooth”</a></span> for more information.</p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF121" title="Modem Slot Support "></a><h3>Modem Slot Support </h3><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_107"></a><p>The Shasta IC supports the modem and provides DB-DMA (descriptor-based direct memory access) support for the modem slot interface. The modem is connected via an I2S interface.</p><p>The internal hardware modem is a separate module that contains a modem controller IC, a data pump, and the interface to the telephone line (DAA). For more information about the modem, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCIJJDI">“Internal Modem.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_6" title="Boot ROM"></a><h3>Boot ROM</h3><p>The boot ROM consists of 1 MB of on-board flash EEPROM. The boot ROM includes the hardware-specific code and tables needed to start up the computer using Open Firmware, to load an operating system, and to provide common hardware access services. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_108"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_109"></a></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF113" title="Ethernet Controller "></a><h3>Ethernet Controller </h3><p><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_110"></a>The Shasta IC provides the Ethernet functions and includes an Ethernet media access controller (MAC) and PHY. </p><p>The MAC implements the link layer. It is connected to a PHY that is internal to Shasta and provides 10Base-T/UTP or 100Base-TX operation over a standard twisted-pair interface. The Ethernet port is auto-sensing and self-configuring to allow use of either a cross-over or straight-through cable. The operating speed of the link is automatically negotiated by the PHY and the bridge, router, hub, switch, or other Mac or PC to which the Ethernet port is connected. </p><p>For information about the Ethernet port, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCCHEED">“Ethernet Port.”</a></span></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF114" title="FireWire Controllers"></a><h3>FireWire Controllers</h3><p><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_111"></a>The Shasta IC provides the FireWire functions and includes a FireWire controller that supports IEEE 1394a (FireWire 400) with a maximum data rate of 400 Mbps (50 MBps). The Shasta IC provides DMA (direct memory access) support for the FireWire interface. </p><p>The controller in the Shasta IC implements the FireWire link layer. Vesta is a PHY that implements the electrical signaling protocol of the FireWire interface and provides the electrical signals to the ports. </p><p>For more information, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCFHCEI">“FireWire 400 Ports.”</a></span></p><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_7" title="Interrupt Support"></a><h3>Interrupt Support</h3><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_112"></a><p>The interrupt controller for the iMac G5 system is an MPIC cell in the Shasta IC. In addition to accepting internal interrupt sources from the I/O, the MPIC controller accepts internal interrupts from U3L and dedicated interrupt pins. </p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF129" title="Serial ATA Interface"></a><h3>Serial ATA Interface</h3><p>Based on the Serial ATA 1.0 specification, Serial ATA (SATA) is a disk-interface technology that delivers up to 1.5 Gbps of performance to an independent drive bus on the iMac G5. It provides a scalable, point-to-point connection that allows multiple ports to be aggregated into a single controller. Serial ATA uses a thin, point-to-point cable connection that enables easy routing within a system, avoiding master/slave, daisy-chaining, and termination issues and enabling better airflow within a system. </p><p><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_113"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_114"></a>For information about the drive bay, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCHIEAC">“Hard Disk Drive.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF120" title="Ultra ATA/133 Interface "></a><h3>Ultra ATA/133 Interface </h3><p>In the iMac G5 computer, the Shasta IC provides an Ultra ATA/133 interface to support an optical drive or hard drive. For information about specific drives, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCHIEAC">“Hard Disk Drive.”</a></span><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_115"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_116"></a></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF123" title="Sound System Overview"></a><h3>Sound System Overview</h3><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_117"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_118"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_119"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_120"></a><p>The sound circuitry is connected to the Shasta IC by a standard I2S (inter-IC sound) bus. The Shasta IC provides DB-DMA (descriptor-based direct memory access) support for the I2S port.</p><p>The iMac G5 circuitry is implemented with an analog/digital audio CODEC IC (CODEC) and supporting input/output circuitry. The CODEC includes a microphone preamp, an A/D converter, a D/A converter, and a S/PDIF (Sony/Phillips Digital Interface) digital audio transmitter.<a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_121"></a></p><p>The CODEC connects to Shasta over the I2S bus. Stereo signals from the audio input jack are routed to an analog line input amplifier that drives the internal A/D converter in the CODEC. The output of the A/D converter in the CODEC is routed to the Shasta IC over the I2S bus. Digital audio data from the Shasta IC is routed to the D/A converter in the analog CODEC over the I2S bus. The analog audio output from the D/A converter in the CODEC is routed to separate amplifiers that drive the headphones output and internal speakers.</p><p>The iMac G5 has a built-in microphone located at the bottom of the display. The analog signal from the microphone is routed to the microphone preamp in the CODEC, which is then routed to the A/D converter in the CODEC.</p><p>For more detail on the audio, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-TPXREF134">“Audio.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001433-CH206-BCIFHIBD" title="Graphics ICs"></a><h2>Graphics ICs</h2><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_122"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_123"></a><p>The iMac G5 the graphics IC is an NVIDIA GeForce4 MX with 32 MB DDR RAM in the education configuration or an NVIDIA GeForce FX 5200 Ultra with 64 MB DDR RAM in the retail configurations. <a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_124"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_125"></a>Both graphics controllers contain 2D and 3D acceleration engines, front-end and back-end scalers, a display controller, and an AGP 3.0 8x bus interface with bus master capability.</p><p>The NVIDIA GeForce4 MX supports a display size of 1440x900 pixels, with lesser resolutions scaled accordingly. The NVIDIA GeForce FX 5200 Ultra supports a display size of 1440x900 pixels for the 17” model and 1680x1050 pixels for the 20” model, with lesser resolutions scaled accordingly. </p><p>The display generated for the flat panel display is simultaneously available for an external monitor in mirror mode; see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCHFDAB">“Video Monitor Port.”</a></span> For information about the display and supported resolutions, see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-BBCBAJJG">“Flat Panel Display.”</a></span> Composite video and S-video signals can be displayed on either an NTSC display or a PAL display; see <span class="content_text"><a href="../03_Input-Output/q45_inout.html#//apple_ref/doc/uid/TP40001433-CH207-TPXREF124">“Video Display Adapter.”</a></span></p><a name="//apple_ref/doc/uid/TP40001433-CH206-TPXREF133" title="System Management Unit"></a><h2>System Management Unit</h2><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_126"></a><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_127"></a><p>The iMac G5 uses an advanced system management unit (SMU) to manage the thermal and power conditions, while keeping the acoustic noise to a minimum. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_19" title="Note"></a><p><strong>Note:</strong>&nbsp; There is a separate real time clock that has 56 bytes of battery backed up RAM.</p></div><p>The iMac G5 system employs advanced thermal and power management to keep acoustic noise to a minimum. The system brings in cool air from the bottom of the enclosure, directing it over system components and exhausting it out the top. Temperature and power consumption are monitored by the operating system which communicates with the SMU, which in turn controls and monitors fan operation. If Mac OS X is not booted, thermal management must be provided by the alternate development operating system.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001433-CH206-DontLinkElementID_20" title="Note"></a><p><strong>Note:</strong>&nbsp;If Mac OS X is not booted and the alternate development operating system does not manage the fans, the fans go into an unmanaged state and run at full speed.</p></div><p>The SMU controls the fans in the iMac G5 and regulates the speeds to run each fan.   The SMU derives fan speed from sensors, some of which monitor thermal only, while others monitor both thermal and power. </p><p>If the SMU does not receive an update from the operating system within two minutes, it begins to ramp up the speed of the fans to full speed. </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../01_Overview/q45_overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../03_Input-Output/q45_inout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2000, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-04-03<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G5/iMacG5_Aug04/02_Architecture/q45_archi.html%3Fid%3DTP40001433-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G5/iMacG5_Aug04/02_Architecture/q45_archi.html%3Fid%3DTP40001433-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G5/iMacG5_Aug04/02_Architecture/q45_archi.html%3Fid%3DTP40001433-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>