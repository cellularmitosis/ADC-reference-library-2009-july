<html><head><title>Mac OS X
 Manual Page For sasl_auxprop(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/sasl_auxprop" title="Mac OS X
 Manual Page for sasl_auxprop(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/sasl_auxprop"; name=sasl_auxprop(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
sasl_auxprop(10 July 2001)                                                        sasl_auxprop(10 July 2001)



<b>NAME</b>
       sasl_auxprop - How to work with SASL auxilliary properties


<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;sasl/prop.h&gt;</b>

       <b>struct</b> <b>propctx</b> <b>*prop_new(unsigned</b> <u>estimate</u><b>)</b>

       <b>int</b> <b>prop_dup(struct</b> <b>propctx</b> <u>*src</u><b>_</b><u>ctx</u><b>,</b>
                    <b>struct</b> <b>propctx</b> <u>*dst</u><b>_</b><u>ctx</u><b>)</b>

       <b>int</b> <b>prop_request(struct</b> <b>propctx</b> <u>*ctx</u><b>,</b>
                        <b>const</b> <b>char</b> <u>**names</u><b>)</b>

       <b>const</b> <b>struct</b> <b>propval</b> <b>*prop_get(struct</b> <b>propctx</b> <u>*ctx</u><b>)</b>

       <b>int</b> <b>prop_getnames(struct</b> <b>propctx</b> <u>*ctx</u><b>,</b> <b>const</b> <b>char</b> <u>**names</u><b>,</b>
                         <b>struct</b> <b>porpval</b> <u>*vals</u><b>)</b>

       <b>void</b> <b>prop_clear(struct</b> <b>propctx</b> <u>*ctx</u><b>,</b> <b>int</b> <u>requests</u><b>)</b>

       <b>void</b> <b>prop_erase(struct</b> <b>propctx</b> <u>*ctx</u><b>,</b> <b>const</b> <b>char</b> <u>*name</u><b>)</b>

       <b>void</b> <b>prop_dispose(struct</b> <b>propctx</b> <u>**ctx</u><b>)</b>

       <b>int</b> <b>prop_format(struct</b> <b>propctx</b> <u>*ctx</u><b>,</b> <b>const</b> <b>char</b> <u>*sep</u><b>,</b> <b>int</b> <u>seplen</u><b>,</b>
                       <b>char</b> <u>*outbuf</u><b>,</b> <b>unsigned</b> <u>outmax</u><b>,</b> <b>unsigned</b> <u>*outlen</u><b>)</b>

       <b>int</b> <b>prop_set(struct</b> <b>propctx</b> <u>*ctx</u><b>,</b> <b>const</b> <b>char</b> <u>*name</u><b>,</b>
                    <b>const</b> <b>char</b> <u>*value</u><b>,</b> <b>int</b> <u>vallen</u><b>)</b>

       <b>int</b> <b>prop_setvals(struct</b> <b>propctx</b> <u>*ctx</u><b>,</b> <b>const</b> <b>char</b> <u>*name</u><b>,</b>
                        <b>const</b> <b>char</b> <u>**values</u><b>)</b>

<b>DESCRIPTION</b>
       <b>SASL</b> <b>auxilliary</b> <b>properties</b> are used to obtain properties from external sources during the authentica-<font color="#ffffff" class="whiteout">tion&nbsp;authentication</font>
       tion process.  For example, a mechanism might need to query an LDAP server to obtain the  authentica-<font color="#ffffff" class="whiteout">tion&nbsp;authentication</font>
       tion  secret.   The  application  probabally needs other information from there as well, such as home
       directory or UID.  The auxilliary property interface allows the two to cooperate, and only results in
       a single query agains the LDAP server (or other property sources).

       Property  lookups  take  place  directly after user canonicalization occurs.  Therefore, all requests
       should be registered witht he context before that time.  Note that requests can  also  be  registered
       using  the  <a href="sasl_auxprop_request.3.html#//apple_ref/doc/man/3/sasl_auxprop_request">sasl_auxprop_request(3)</a> function.  Most of the functions listed below, however, require a
       property context whch can be obtained by calling <a href="sasl_auxprop_getctx.3.html#//apple_ref/doc/man/3/sasl_auxprop_getctx">sasl_auxprop_getctx(3)</a>.


<b>API</b> <b>Description</b>
       struct propctx *prop_new(unsigned estimate)
               Create a new property context.  Probabally unnecessary for appplication  developers  to  call
               this at any point.

               <u>estimate</u> is the estimate of storage needed total for requests &amp; responses.  A value of 0 will
               imply the library default.


       int prop_dup(struct propctx *src_ctx, struct propctx *dst_ctx)

               Duplicate a given property context.


       int prop_request(struct propctx *ctx, const char **names)

               Add properties to the request list of a given context.

               <u>names</u> is the NULL-terminated array of property names, and must persist until the requests are
               cleared or the context is disposed of with a call to prop_dispose.


       const struct propval *prop_get(struct propctx *ctx)

               Returns a NULL-terminated array of struct propval from the given context.


       int prop_getnames(struct propctx *ctx, const char **names,
                                 struct porpval *vals)

               Fill in a (provided) array of struct propval based on a list of property names.  This implies
               that the vals array is at least as long as the names array. The values that are filled in  by
               this  call  persist  until next call to prop_request, prop_clear, or prop_dispose on context.
               If a name secified here was never requested, that its associated values entry will be set  to
               NULL.

               Returns number of matching properties that were found, or a SASL error code.


       void prop_clear(struct propctx *ctx, int requests)

               Clear values and optionally requests from a property context.

               <u>requests</u> is 1 if the requests should be cleared, 0 otherwise.


       void prop_erase(struct propctx *ctx, const char *name)

               Securely erase the value of a property.

               <u>name</u> is the name of the property to erase.


       void prop_dispose(struct propctx **ctx)

               Disposes of a property context and NULLifys the pointer.


       int prop_format(struct propctx *ctx, const char *sep, int seplen,
                               char *outbuf, unsigned outmax, unsigned *outlen)

               Format the requested property names into a string.  This not intended for use by the applica-<font color="#ffffff" class="whiteout">tion&nbsp;application</font>
               tion (only by auxprop plugins).

               <u>sep</u> Is the seperator to use for the string

               <u>outbuf</u> Is the caller-allocated buffer of length <u>outmax</u> that  the  resulting  string  will  be
               placed in (including NUL terminator).

               <u>outlen</u>  if  non-NULL, will contain the length of the resulting string (excluding NUL termina-<font color="#ffffff" class="whiteout">tor).&nbsp;terminator).</font>
               tor).


       int prop_set(struct propctx *ctx, const char *name, const char *value,
                            int vallen)

               Adds a property vaue to the context.  This is intended for use by auxprop plugins only.

               <u>name</u> is the name of the property to recieve the new value, or NULL, which  implies  that  the
               value will be added to the same property as the last call to either prop_set or prop_setvals.

               <u>value</u> is a value for the property of length <u>vallen</u>


       int prop_setvals(struct propctx *ctx, const char *name, const char **values)

               Adds multiple values to a single property.  This is intended for use by auxprop plugins only.

               <u>name</u> has the same meaning as in <b>prop_set</b>

               <u>values</u> are a NULL-terminated array of values to be added the property.


<b>RETURN</b> <b>VALUE</b>
       The  property  functions that return an int return SASL error codes.  See <a href="sasl_errors.3.html#//apple_ref/doc/man/3/sasl_errors">sasl_errors(3)</a>.  Those that
       return pointers will return a valid pointer on success, or NULL on any error.


<b>CONFORMING</b> <b>TO</b>
       RFC 2222


<b>SEE</b> <b>ALSO</b>
       <a href="sasl.3.html#//apple_ref/doc/man/3/sasl">sasl(3)</a>, <a href="sasl_errors.3.html#//apple_ref/doc/man/3/sasl_errors">sasl_errors(3)</a>, <a href="sasl_auxprop_request.3.html#//apple_ref/doc/man/3/sasl_auxprop_request">sasl_auxprop_request(3)</a>, <a href="sasl_auxprop_getctx.3.html#//apple_ref/doc/man/3/sasl_auxprop_getctx">sasl_auxprop_getctx(3)</a>



SASL man pages                                      SASL                          sasl_auxprop(10 July 2001)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/sasl_auxprop.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/sasl_auxprop.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/sasl_auxprop.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
