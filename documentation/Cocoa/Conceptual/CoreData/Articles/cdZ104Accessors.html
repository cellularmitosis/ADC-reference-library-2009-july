<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Core Data Programming Guide: Mac OS X v10.4: Managed Object Accessor Methods</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Mac OS X v10.4: Managed Object Accessor Methods"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006645" title="Mac OS X v10.4: Managed Object Accessor Methods"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../DesignGuidelines-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000556" target="_top">Design Guidelines</a> &gt; <a href="../index.html" target="_top">Core Data Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="cdZ104UsingMOs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="cdZ104NSAttributes.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40006645-SW1" title="Mac OS X v10.4: Managed Object Accessor Methods"></a><hr /><H1>Mac OS X v10.4: Managed Object Accessor Methods</H1><p>On Mac OS X v10.5, Core Data dynamically generates accessor methods for you. For the benefit of developers who need to develop for earlier releases, this article describes how to write accessor methods on Mac OS X v10.4.</p><p>This article explains why you might want to implement custom accessor methods for managed objects, and how to implement them for attributes and for relationships. It also illustrates how to implement primitive accessor methods.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="cdZ104Accessors.html#//apple_ref/doc/uid/TP40006645-SW2">Introduction</a>
				
			<br/>
			
        
			
			
				<a href="cdZ104Accessors.html#//apple_ref/doc/uid/TP40006645-SW5">Attribute Accessor Methods</a>
				
			<br/>
			
        
			
			
				<a href="cdZ104Accessors.html#//apple_ref/doc/uid/TP40006645-SW8">Relationship Accessor Methods</a>
				
			<br/>
			
        
			
			
				<a href="cdZ104Accessors.html#//apple_ref/doc/uid/TP40006645-SW10">Primitive Accessor Methods</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006645-SW2" title="Introduction"></a><h2>Introduction</h2><p>There is in general no <em>need</em> to write custom accessor methods for properties that are defined in the entity of a managed object’s corresponding managed object model. You can access properties using standard key-value coding methods such as <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueCoding_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/valueForKey:" target="_top">valueForKey:</a></code>. It may be convenient to implement custom accessors to benefit from compile-time type checking and to avoid errors with misspelled key names. You do need custom accessor methods if you use transient properties to support non-standard data types (see <span class="content_text"><a href="cdNSAttributes.html#//apple_ref/doc/uid/TP40001919-SW1">“Non-Standard Persistent Attributes”</a></span>) or if you use scalar instance variables to represent an attribute.</p><a name="//apple_ref/doc/uid/TP40006645-SW3" title="Key-value Coding Access Pattern"></a><h3>Key-value Coding Access Pattern</h3><p>The access pattern key-value coding uses for managed objects is largely the same as that used for subclasses of <code>NSObject</code>—see <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueCoding_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/valueForKey:" target="_top">valueForKey:</a></code>. The difference is that, if after checking the normal resolutions <code>valueForKey:</code> would throw an unbound key exception, the key-value coding mechanism for <code>NSManagedObject</code> checks whether the key is a modeled property. If the key matches an entity's property, the mechanism looks first for an accessor method of the form <code>primitive</code><em>Key</em>, and if that is not found then looks for a value for <em>key</em> in the managed object's internal storage. If these fail, <code>NSManagedObject</code> throws an unbound key exception (just like <code>valueForKey:</code>). </p><a name="//apple_ref/doc/uid/TP40006645-SW4" title="Custom Accessors"></a><h3>Custom Accessors</h3><p>The implementation of accessor methods you write for subclasses of <code>NSManagedObject</code> is typically different from those you write for other classes.</p><ul class="spaceabove"><li class="li"><p>If you do not provide custom instance variables, you retrieve property values from and save values into the internal store using primitive accessor methods (you usually use <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/instm/NSManagedObject/primitiveValueForKey:" target="_top">primitiveValueForKey:</a></code> and <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/instm/NSManagedObject/setPrimitiveValue:forKey:" target="_top">setPrimitiveValue:forKey:</a></code>, however you can also implement your own custom primitive accessor methods).</p></li><li class="li"><p>You must ensure that you invoke the relevant access and change notification methods. <code>NSManagedObject</code> disables automatic notifications for key-value observing (KVO, see <em><a href="../../KeyValueObserving/index.html#//apple_ref/doc/uid/10000177i" target="_top">Key-Value Observing Programming Guide</a></em>), and the primitive accessor methods do not invoke the access and change notification methods (<code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/instm/NSManagedObject/willAccessValueForKey:" target="_top">willAccessValueForKey:</a></code>, <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/instm/NSManagedObject/didAccessValueForKey:" target="_top">didAccessValueForKey:</a></code>, <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueObserving_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/willChangeValueForKey:" target="_top">willChangeValueForKey:</a></code>, and <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueObserving_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/didChangeValueForKey:" target="_top">didChangeValueForKey:</a></code>).</p></li><li class="li"><p>In accessor methods for properties that are <em>not</em> defined in the entity model, you can either enable automatic change notifications or invoke the appropriate change notification methods.</p></li></ul><p>You can use the Xcode data modeling tool to generate the code for accessor methods for any modeled property.</p><a name="//apple_ref/doc/uid/TP40006645-SW5" title="Attribute Accessor Methods"></a><h2>Attribute Accessor Methods</h2><p>Attribute accessors use the primitive accessor methods to get and set values from and to the managed object's private internal store. You must invoke the relevant access and change notification methods, as illustrated in <span class="content_text"><a href="cdAccessorMethods.html#//apple_ref/doc/uid/TP40002154-SW2">Listing 1</a></span>. <code>NSManagedObject</code>'s implementation of the primitive set accessor method handles memory management for you. </p><a name="//apple_ref/doc/uid/TP40006645-SW6" title="Listing 1Implementation of a custom managed object class illustrating attribute accessor methods"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>Implementation of a custom managed object class illustrating attribute accessor methods</p><div class="codesample"><table><tr><td scope="row"><pre>@interface Department : NSManagedObject<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>- (NSString *)name;<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)setName:(NSString *)newName<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@implementation Department<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (NSString *)name<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willAccessValueForKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *n = [self primitiveValueForKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didAccessValueForKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>    return n;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (void)setName:(NSString *)newName<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self setPrimitiveValue:newName forKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div><p>Note, however, that the default implementation does not copy attribute values. If the attribute value may be mutable and implements the <code>NSCopying</code> protocol (as is the case with <code>NSString</code>, for example), it is typically useful to copy the value in a custom accessor to help preserve encapsulation (for example, in the case where an instance of <code>NSMutableString</code> is passed as a value). The <code>setName:</code> method shown in <span class="content_text"><a href="cdAccessorMethods.html#//apple_ref/doc/uid/TP40002154-SW2">Listing 1</a></span> would be implemented as follows: </p><div class="codesample"><table><tr><td scope="row"><pre>- (void)setName:(NSString *)newName<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>    // NSString implements NSCopying, so copy the attribute value<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *nameCopy = [newName copy];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self setPrimitiveValue:nameCopy forKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>    [nameCopy release];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"name"];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div><p>If you choose to represent an attribute using a scalar type (such as <code>int</code> or <code>float</code>), or as one of the structures supported by <code>NSKeyValueCoding</code> (<code>NSRect</code>, <code>NSPoint</code>, <code>NSSize</code>, <code>NSRange</code>), then you should implement accessor methods as illustrated in <span class="content_text"><a href="cdAccessorMethods.html#//apple_ref/doc/uid/TP40002154-SW3">Listing 3</a></span>. If you want to use any other attribute type, then you should use a different pattern, described in <span class="content_text"><a href="cdNSAttributes.html#//apple_ref/doc/uid/TP40001919-SW1" target="_self">Non-Standard Persistent Attributes</a></span>.</p><a name="//apple_ref/doc/uid/TP40006645-SW7" title="Listing 2Implementation of a custom managed object class illustrating a scalar attribute value"></a><p class="codesample"><strong>Listing 2&nbsp;&nbsp;</strong>Implementation of a custom managed object class illustrating a scalar attribute value</p><div class="codesample"><table><tr><td scope="row"><pre>@interface Circle : NSManagedObject<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    float radius;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>- (float)radius;<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)setRadius:(float)newRadius<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@implementation Circle<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (float)radius<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willAccessValueForKey:@"radius"];<span></span></pre></td></tr><tr><td scope="row"><pre>    float f = radius;<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didAccessValueForKey:@"radius"];<span></span></pre></td></tr><tr><td scope="row"><pre>    return f;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (void)setRadius:(float)newRadius<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"radius"];<span></span></pre></td></tr><tr><td scope="row"><pre>    radius = newRadius;<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"radius"];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40006645-SW8" title="Relationship Accessor Methods"></a><h2>Relationship Accessor Methods</h2><p>You usually access to-many relationships using <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueCoding_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/mutableSetValueForKey:" target="_top">mutableSetValueForKey:</a></code>, which returns a proxy object that both mutates the relationship and sends appropriate key-value observing notifications for you. There should typically be little reason to implement your own collection accessor methods for to-many relationships. If they are present, however, the framework calls the mutator methods (such as <code>add&lt;Key>Object:</code> and <code>remove&lt;Key>Object:</code>) when modifying a collection that represents a persistent relationship. (Note that fetched properties do not support the mutable collection accessor methods.) In order for this to work correctly, you must implement an <code>add&lt;Key>Object:</code>/<code>remove&lt;Key>Object:</code> pair, an <code>add&lt;Key>:</code>/<code>remove&lt;Key>:</code> pair, or both pairs. You may also implement other get accessors (such as <code>countOf&lt;Key>:</code>, <code>enumeratorOf&lt;Key>:</code>, and <code>memberOf&lt;Key>:</code>) and use these in your own code, however these are not guaranteed to be called by the framework.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40006645-DontLinkElementID_14" title="Important:"></a><p><strong>Important:</strong>&nbsp;For performance reasons, the proxy object returned by managed objects for <code>mutableSetValueForKey:</code> does not support <code>set&lt;Key>:</code> style setters for relationships. For example, if you have a to-many relationship <code>employees</code> of a Department class and implement accessor methods <code>employees</code> and <code>setEmployees:</code>, then manipulate the relationship using the proxy object returned by <code>mutableSetValueForKey:@"employees"</code>,  <code>setEmployees:</code> is <em>not</em> invoked. You should implement the other mutable proxy accessor overrides instead.</p><p></p></div><p>If you do implement collection accessors for model properties, they must again call the relevant KVO notification methods. <span class="content_text"><a href="cdAccessorMethods.html#//apple_ref/doc/uid/TP40002154-SW4">Listing 4</a></span> illustrates the implementation of accessor methods for a to-many relationship—<code>employees</code>—of a Department class.</p><a name="//apple_ref/doc/uid/TP40006645-SW9" title="Listing 3Implementation of a custom managed object class illustrating a to-many relationship"></a><p class="codesample"><strong>Listing 3&nbsp;&nbsp;</strong>Implementation of a custom managed object class illustrating a to-many relationship</p><div class="codesample"><table><tr><td scope="row"><pre>@interface Department : NSManagedObject<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)addEmployeesObject:(Employee *)anEmployee;<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)addEmployees:(NSSet *)employeesToAdd;<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)removeEmployeesObject:(Employee *)anEmployee;<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)removeEmployees:(NSSet *)employeesToRemove;<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)intersectEmployees:(NSSet *)employeesToIntersect;<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@implementation Department<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// add the given Employee instance to the employees relationship<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)addEmployeesObject:(Employee *)anEmployee<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSSet *changedObjects = [[NSSet alloc] initWithObjects:&amp;anEmployee count:1];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueUnionSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:changedObjects];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self primitiveValueForKey: @"employees"] addObject: anEmployee];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueUnionSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:changedObjects];<span></span></pre></td></tr><tr><td scope="row"><pre>    [changedObjects release];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// add the given Employee instances to the employees relationship<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)addEmployees:(NSSet *)employeesToAdd<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueUnionSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:employeesToAdd];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self primitiveValueForKey:@"employees"] unionSet:employeesToAdd];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueUnionSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:employeesToAdd];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// remove the given Employee instance from the employees relationship<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)removeEmployeesObject:(Employee *)anEmployee<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSSet *changedObjects = [[NSSet alloc] initWithObjects:&amp;anEmployee count:1];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueMinusSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:changedObjects];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self primitiveValueForKey: @"employees"] removeObject: anEmployee];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueMinusSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:changedObjects];<span></span></pre></td></tr><tr><td scope="row"><pre>    [changedObjects release];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// remove the given Employee instances from the employees relationship<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)removeEmployees:(NSSet *)employeesToRemove<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueMinusSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:employeesToRemove];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self primitiveValueForKey:@"employees"] minusSet:employeesToRemove];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueMinusSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:employeesToRemove];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// trim the employees relationship to only those Employee instances in employeesToIntersect<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)intersectEmployees:(NSSet *)employeesToIntersect<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueIntersectSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:employeesToIntersect];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[self primitiveValueForKey:@"employees"] intersectSet:employeesToIntersect];<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"employees"<span></span></pre></td></tr><tr><td scope="row"><pre>            withSetMutation:NSKeyValueIntersectSetMutation<span></span></pre></td></tr><tr><td scope="row"><pre>            usingObjects:employeesToIntersect];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40006645-SW10" title="Primitive Accessor Methods"></a><h2>Primitive Accessor Methods</h2><p>Primitive accessor methods are similar to "normal" or public key-value coding compliant accessor methods, except that Core Data uses them as the most basic data methods to access data, consequently they do <em>not</em> issue key-value access or observing notifications. Put another way, they are to <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/instm/NSManagedObject/primitiveValueForKey:" target="_top">primitiveValueForKey:</a></code> and <code><a href="../../../Reference/CoreDataFramework/Classes/NSManagedObject_Class/Reference/NSManagedObject.html#//apple_ref/occ/instm/NSManagedObject/setPrimitiveValue:forKey:" target="_top">setPrimitiveValue:forKey:</a></code> what public accessor methods are to <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueCoding_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/valueForKey:" target="_top">valueForKey:</a></code> and <code><a href="../../../Reference/Foundation/Protocols/NSKeyValueCoding_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/setValue:forKey:" target="_top">setValue:forKey:</a></code>. If for an attribute <code>attributeName</code> you implement <code>primitiveAttributeName</code> and <code>setPrimitiveAttributeName:</code>, then Core Data will use these methods in place of <code>primitiveValueForKey:@"attributeName"</code> and <code>setPrimitiveValueForKey:@"attributeName"</code>.</p><p>Primitive accessor methods are useful if you want custom methods to provide direct access to instance variables for persistent Core Data properties, although typically there should be little reason to implement them. The example below contrasts public and primitive accessor methods for an attribute, <code>int16</code>, of type <code>Integer 16</code>, stored in a custom instance variable, <code>nonCompliantKVCivar</code>.</p><div class="codesample"><table><tr><td scope="row"><pre>// primitive get accessor<span></span></pre></td></tr><tr><td scope="row"><pre>- (short)primitiveInt16 {<span></span></pre></td></tr><tr><td scope="row"><pre>    return nonCompliantKVCivar;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// primitive set accessor<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)setPrimitiveInt16:(short)newInt16 {<span></span></pre></td></tr><tr><td scope="row"><pre>    nonCompliantKVCivar = newInt16;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// public get accessor<span></span></pre></td></tr><tr><td scope="row"><pre>- (short)int16 {<span></span></pre></td></tr><tr><td scope="row"><pre>    short tmpValue;<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willAccessValueForKey: @"int16"];<span></span></pre></td></tr><tr><td scope="row"><pre>    tmpValue = nonCompliantKVCivar;<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didAccessValueForKey: @"int16"];<span></span></pre></td></tr><tr><td scope="row"><pre>    return tmpValue;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// public set accessor<span></span></pre></td></tr><tr><td scope="row"><pre>- (void)setInt16:(short)int16 {<span></span></pre></td></tr><tr><td scope="row"><pre>    [self willChangeValueForKey: @"int16"];<span></span></pre></td></tr><tr><td scope="row"><pre>    nonCompliantKVCivar = int16;<span></span></pre></td></tr><tr><td scope="row"><pre>    [self didChangeValueForKey:@"int16"];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>	

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="cdZ104UsingMOs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="cdZ104NSAttributes.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-03-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CoreData/Articles/cdZ104Accessors.html%3Fid%3DTP40001075-5.6&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CoreData/Articles/cdZ104Accessors.html%3Fid%3DTP40001075-5.6&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CoreData/Articles/cdZ104Accessors.html%3Fid%3DTP40001075-5.6&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
