<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Native Driver Imports</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.a6.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.a9.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.ab.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3335"> </A>Native Driver Imports</H1><P CLASS="T1.Text1"><A NAME="pgfId=3336"> </A>The CFM requires that a fragment import any libraries that it is dependent on. Generic drivers link to the Driver Services Library; family drivers may also be linked to family libraries. The linking lets the fragment's symbols be bound at load time. The Driver Services Library or a family library should be used instead of a Toolbox-based library when linking a device driver.</P><DIV><blockquote><p CLASS="ImportantHead"><b><A NAME="pgfId=16585"> </A>IMPORTANT</b></p><P CLASS="I.Important"><A NAME="pgfId=3337"> </A>Native device drivers should use the CFM's import library mechanism to share code or data. With this technique, the CFM creates an import library fragment when the first driver is loaded. When another driver is loaded, it establishes a connection to the existing library, letting the two drivers share code or data. For further information about the CFM, see <I CLASS="italics">Inside Macintosh: PowerPC System Software.</I> This book is listed in <A HREF="PCI_BOOK.25d.html#21666" CLASS="XRef">Apple Publications</A>. </P></blockquote><P CLASS="T1.Text1"><A NAME="pgfId=3344"> </A>In the past, driver imports have not always been rigidly characterized. The reason for now explicitly specifying the system entry points available to native drivers is to guarantee compatibility of drivers with future releases of Mac&nbsp;OS. For a further discussion, see <A HREF="PCI_BOOK.7c.html#29192" CLASS="XRef">Driver Services Library</A>. See also the family-specific information in Chapters <A HREF="PCI_BOOK.1d4.html#12320" CLASS="XRef">13</A>, <A HREF="PCI_BOOK.219.html#12320" CLASS="XRef">14</A>, and <A HREF="PCI_BOOK.23d.html#12320" CLASS="XRef">15</A>.</P></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.a6.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.a9.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.ab.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>