<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>IOCatalogue</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/class/IOCatalogue" title="IOCatalogue"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOCatalogue">IOCatalogue</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Inherits from:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<a href="../../../OSObject_h/Classes/OSObject/index.html#//apple_ref/cpp/cl/OSObject" target="_top">OSObject</a>
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOCatalogue.h</a></div></div></td>
</tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>In-kernel database for IOKit driver personalities.
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IOCatalogue is a database which contains all IOKit driver personalities.  IOService uses this resource when matching devices to their associated drivers.
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/addDrivers/bool/(OSArray*,bool)" target="_top">addDrivers</a></tt></dt>
<dd><p>Adds an array of driver personalities to the database.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/addExtensionsFromArchive/bool/(OSData*)" target="_top">addExtensionsFromArchive</a></tt></dt>
<dd>
<p>Records an archive of extensions, as from device ROM.
</p>
<p>
This function is currently for internal use.
Kernel extensions should never call it.
</p>
</dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/findDrivers/OSOrderedSet*/(IOService*,SInt32*)" target="_top">findDrivers(IOService *, SInt32 *)</a></tt></dt>
<dd><p>This is the primary entry point for IOService.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/findDrivers/OSOrderedSet*/(OSDictionary*,SInt32*)" target="_top">findDrivers(OSDictionary *, SInt32 *)</a></tt></dt>
<dd><p>A more general purpose interface which allows one to retreive driver personalities based the intersection of the 'matching' dictionary and the personality's own property list.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/free/void/()" target="_top">free</a></tt></dt>
<dd><p>Cleans up the database and deallocates memory allocated at initialization.  This is never called in normal operation of the system.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/getGenerationCount/SInt32/()" target="_top">getGenerationCount</a></tt></dt>
<dd><p>Get the current generation count of the database.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/init/bool/(OSArray*)" target="_top">init</a></tt></dt>
<dd><p>Initializes the database object.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IOCatalogue/initialize/void/()" target="_top">initialize</a></tt></dt>
<dd><p>Creates and initializes the database object and poputates it with in-kernel driver personalities.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(OSDictionary*)" target="_top">isModuleLoaded</a></tt></dt>
<dd><p>Reports if a kernel module has been loaded for a particular personality.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(constchar*)" target="_top">isModuleLoaded(const char *)</a></tt></dt>
<dd><p>Reports if a kernel module has been loaded.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(OSString*)" target="_top">isModuleLoaded(OSString *)</a></tt></dt>
<dd><p>Reports if a kernel module has been loaded.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/moduleHasLoaded/void/(constchar*)" target="_top">moduleHasLoaded(const char *)</a></tt></dt>
<dd><p>Callback function called after a IOKit dependent kernel module is loaded.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/moduleHasLoaded/void/(OSString*)" target="_top">moduleHasLoaded(OSString *)</a></tt></dt>
<dd><p>Callback function called after a IOKit dependent kernel module is loaded.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/recordStartupExtensions/bool/()" target="_top">recordStartupExtensions</a></tt></dt>
<dd>
<p>Records extensions made available by the primary booter.
</p>
<p>
This function is for internal use by the kernel startup linker.
Kernel extensions should never call it.
</p>
</dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/removeDrivers/bool/(OSDictionary*,bool)" target="_top">removeDrivers</a></tt></dt>
<dd><p>Remove driver personalities from the database based on matching information provided.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/removeKernelLinker/kern_return_t/()" target="_top">removeKernelLinker</a></tt></dt>
<dd><p>Removes from memory all code and data related to
boot-time loading of kernel extensions. kextd triggers
this when it first starts in order to pass responsibility
for loading extensions from the kernel itself to kextd.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/reset/void/()" target="_top">reset</a></tt></dt>
<dd><p>Return the Catalogue to its initial state.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/serialize/bool/(OSSerialize*)" target="_top">serialize</a></tt></dt>
<dd><p>Serializes the catalog for transport to the user.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/startMatching/bool/(OSDictionary*)" target="_top">startMatching</a></tt></dt>
<dd><p>Starts an IOService matching thread where matching keys and values are provided by the matching dictionary.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/terminateDrivers/IOReturn/(OSDictionary*)" target="_top">terminateDrivers</a></tt></dt>
<dd><p>Terminates all instances of a driver which match the contents of the matching dictionary. Does not unload module.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/terminateDriversForModule/IOReturn/(constchar*,bool)" target="_top">terminateDriversForModule(const char *, bool)</a></tt></dt>
<dd><p>Terminates all instances of a driver which depends on a particular module and unloads the module.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/terminateDriversForModule/IOReturn/(OSString*,bool)" target="_top">terminateDriversForModule(OSString *, bool)</a></tt></dt>
<dd><p>Terminates all instances of a driver which depends on a particular module and unloads the module.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOCatalogue/unloadModule/IOReturn/(OSString*)" target="_top">unloadModule</a></tt></dt>
<dd><p>Unloads the reqested module if no driver instances are currently depending on it.
</p></dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/addDrivers/bool/(OSArray*,bool);   name=IOCatalogue::addDrivers --><a name="//apple_ref/cpp/instm/IOCatalogue/addDrivers/bool/(OSArray*,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="addDrivers">addDrivers</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Adds an array of driver personalities to the database.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">addDrivers</span><!-- /a -->(
    <a href="../../../OSArray_h/Classes/OSArray/index.html#//apple_ref/cpp/cl/OSArray" target="_top" class="type"><span class="type">OSArray</span></a> <span class="type">*</span><span class="param">array</span>,
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">doNubMatching</span><!-- /a --> = <span class="keyword">true</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>array</code></dt>
<dd><p>Array of driver personalities to be added to the database.</p></dd>
<dt><code>doNubMatchng</code></dt>
<dd><p>Start matching process after personalities have been added.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if driver personality was added to the database successfully. Failure is due to a memory allocation failure.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/addExtensionsFromArchive/bool/(OSData*);   name=IOCatalogue::addExtensionsFromArchive --><a name="//apple_ref/cpp/instm/IOCatalogue/addExtensionsFromArchive/bool/(OSData*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="addExtensionsFromArchive">addExtensionsFromArchive</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Records an archive of extensions, as from device ROM.
</p>
<p>
This function is currently for internal use.
Kernel extensions should never call it.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">addExtensionsFromArchive</span><!-- /a -->(
    <a href="../../../OSData_h/Classes/OSData/index.html#//apple_ref/cpp/cl/OSData" target="_top" class="type"><span class="type">OSData</span></a> <span class="type">*</span><span class="param">mkext</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mkext</code></dt>
<dd><p>An OSData object containing a multikext archive.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if mkext was properly unserialized and its
contents recorded, false if not.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/findDrivers/OSOrderedSet*/(IOService*,SInt32*);   name=IOCatalogue::findDrivers --><a name="//apple_ref/cpp/instm/IOCatalogue/findDrivers/OSOrderedSet*/(IOService*,SInt32*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="findDrivers(IOService*,SInt32*)">findDrivers(IOService *, SInt32 *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>This is the primary entry point for IOService.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../OSOrderedSet_h/Classes/OSOrderedSet/index.html#//apple_ref/cpp/cl/OSOrderedSet" target="_top" class="type"><span class="type">OSOrderedSet</span></a> <span class="type">*</span> <!-- a --><span class="function">findDrivers</span><!-- /a -->(
    <a href="../../../IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">service</span>,
    <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="type">*</span><span class="param">generationCount</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>service</code></dt>
<dd> </dd>
<dt><code>generationCount</code></dt>
<dd><p>Returns a reference to the generation count of the database. The generation count increases only when personalities are added to the database *and* IOService matching has been initiated.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns an ordered set of driver personalities ranked on probe-scores.  The ordered set must be released by the receiver.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/findDrivers/OSOrderedSet*/(OSDictionary*,SInt32*);   name=IOCatalogue::findDrivers --><a name="//apple_ref/cpp/instm/IOCatalogue/findDrivers/OSOrderedSet*/(OSDictionary*,SInt32*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="findDrivers(OSDictionary*,SInt32*)">findDrivers(OSDictionary *, SInt32 *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>A more general purpose interface which allows one to retreive driver personalities based the intersection of the 'matching' dictionary and the personality's own property list.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../OSOrderedSet_h/Classes/OSOrderedSet/index.html#//apple_ref/cpp/cl/OSOrderedSet" target="_top" class="type"><span class="type">OSOrderedSet</span></a> <span class="type">*</span> <!-- a --><span class="function">findDrivers</span><!-- /a -->(
    <a href="../../../OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><span class="param">matching</span>,
    <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="type">*</span><span class="param">generationCount</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>matching</code></dt>
<dd><p>A dictionary containing only keys and values which are to be used for matching. For example, a matching dictionary containing 'IOProviderClass'='IOPCIDevice' will return all personalities with an IOProviderClass key and a value of IOPCIDevice.</p></dd>
<dt><code>generationCount</code></dt>
<dd><p>Returns a reference to the current generation of the database. The generation count increases only when personalities are added to the database *and* IOService matching has been initiated.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns an ordered set of driver personalities ranked on probe-scores. The ordered set must be released by the receiver.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/free/void/();   name=IOCatalogue::free --><a name="//apple_ref/cpp/instm/IOCatalogue/free/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="free">free</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Cleans up the database and deallocates memory allocated at initialization.  This is never called in normal operation of the system.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">free</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/getGenerationCount/SInt32/();   name=IOCatalogue::getGenerationCount --><a name="//apple_ref/cpp/instm/IOCatalogue/getGenerationCount/SInt32/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getGenerationCount">getGenerationCount</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the current generation count of the database.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">SInt32</span><!-- /a --> <!-- a --><span class="function">getGenerationCount</span><!-- /a -->(
    <span class="param">void</span> ) <span class="keyword">const</span>; </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/init/bool/(OSArray*);   name=IOCatalogue::init --><a name="//apple_ref/cpp/instm/IOCatalogue/init/bool/(OSArray*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="init">init</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Initializes the database object.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <a href="../../../IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/init" target="_top" class="function"><span class="function">init</span></a>(
    <a href="../../../OSArray_h/Classes/OSArray/index.html#//apple_ref/cpp/cl/OSArray" target="_top" class="type"><span class="type">OSArray</span></a> <span class="type">*</span><span class="param">initArray</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>initArray</code></dt>
<dd><p>The initial array of driver personalities to populate the database.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IOCatalogue/initialize/void/();   name=IOCatalogue::initialize --><a name="//apple_ref/cpp/clm/IOCatalogue/initialize/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="initialize">initialize</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates and initializes the database object and poputates it with in-kernel driver personalities.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">initialize</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(OSDictionary*);   name=IOCatalogue::isModuleLoaded --><a name="//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(OSDictionary*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isModuleLoaded">isModuleLoaded</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Reports if a kernel module has been loaded for a particular personality.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">isModuleLoaded</span><!-- /a -->(
    <a href="../../../OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><span class="param">driver</span> ) <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>driver</code></dt>
<dd><p>A driver personality's property list.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the associated kernel module has been loaded into the kernel for a particular driver personality on which it depends.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(constchar*);   name=IOCatalogue::isModuleLoaded --><a name="//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(constchar*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isModuleLoaded(constchar*)">isModuleLoaded(const char *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Reports if a kernel module has been loaded.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">isModuleLoaded</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">moduleName</span><!-- /a --> ) <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>moduleName</code></dt>
<dd><p>Name of the module.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the associated kernel module has been loaded into the kernel.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(OSString*);   name=IOCatalogue::isModuleLoaded --><a name="//apple_ref/cpp/instm/IOCatalogue/isModuleLoaded/bool/(OSString*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isModuleLoaded(OSString*)">isModuleLoaded(OSString *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Reports if a kernel module has been loaded.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">isModuleLoaded</span><!-- /a -->(
    <a href="../../../OSString_h/Classes/OSString/index.html#//apple_ref/cpp/cl/OSString" target="_top" class="type"><span class="type">OSString</span></a> <span class="type">*</span><span class="param">moduleName</span> ) <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>moduleName</code></dt>
<dd><p>Name of the module.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the associated kernel module has been loaded into the kernel.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/moduleHasLoaded/void/(constchar*);   name=IOCatalogue::moduleHasLoaded --><a name="//apple_ref/cpp/instm/IOCatalogue/moduleHasLoaded/void/(constchar*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="moduleHasLoaded(constchar*)">moduleHasLoaded(const char *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Callback function called after a IOKit dependent kernel module is loaded.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">moduleHasLoaded</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">name</span><!-- /a --> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>name</code></dt>
<dd><p>Name of the kernel module.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/moduleHasLoaded/void/(OSString*);   name=IOCatalogue::moduleHasLoaded --><a name="//apple_ref/cpp/instm/IOCatalogue/moduleHasLoaded/void/(OSString*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="moduleHasLoaded(OSString*)">moduleHasLoaded(OSString *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Callback function called after a IOKit dependent kernel module is loaded.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">moduleHasLoaded</span><!-- /a -->(
    <a href="../../../OSString_h/Classes/OSString/index.html#//apple_ref/cpp/cl/OSString" target="_top" class="type"><span class="type">OSString</span></a> <span class="type">*</span><span class="param">name</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>name</code></dt>
<dd><p>Name of the kernel module.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/recordStartupExtensions/bool/();   name=IOCatalogue::recordStartupExtensions --><a name="//apple_ref/cpp/instm/IOCatalogue/recordStartupExtensions/bool/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="recordStartupExtensions">recordStartupExtensions</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Records extensions made available by the primary booter.
</p>
<p>
This function is for internal use by the kernel startup linker.
Kernel extensions should never call it.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">recordStartupExtensions</span><!-- /a -->(
    <span class="param">void</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if startup extensions were successfully recorded,
false if not.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/removeDrivers/bool/(OSDictionary*,bool);   name=IOCatalogue::removeDrivers --><a name="//apple_ref/cpp/instm/IOCatalogue/removeDrivers/bool/(OSDictionary*,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="removeDrivers">removeDrivers</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Remove driver personalities from the database based on matching information provided.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">removeDrivers</span><!-- /a -->(
    <a href="../../../OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><span class="param">matching</span>,
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">doNubMatching</span><!-- /a --> = <span class="keyword">true</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>matching</code></dt>
<dd><p>A dictionary whose keys and values are used for matching personalities in the database.  For example, a matching dictionary containing a 'IOProviderClass' key with the value 'IOPCIDevice' will remove all personalities which have the key 'IOProviderClass' equal to 'IOPCIDevice'.</p></dd>
<dt><code>doNubMatchng</code></dt>
<dd><p>Start matching process after personalities have been removed.  Matching criteria is based on IOProviderClass of those personalities which were removed.  This is to allow drivers which haven't been matched to match against NUB's which were blocked by the previous personalities.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if personality was removed successfully. Failure is due to a memory allocation failure.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/removeKernelLinker/kern_return_t/();   name=IOCatalogue::removeKernelLinker --><a name="//apple_ref/cpp/instm/IOCatalogue/removeKernelLinker/kern_return_t/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="removeKernelLinker">removeKernelLinker</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Removes from memory all code and data related to
boot-time loading of kernel extensions. kextd triggers
this when it first starts in order to pass responsibility
for loading extensions from the kernel itself to kextd.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">kern_return_t</span><!-- /a --> <!-- a --><span class="function">removeKernelLinker</span><!-- /a -->(
    <span class="param">void</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KERN_SUCCESS if the kernel linker is successfully
removed or wasn't present, KERN_FAILURE otherwise.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/reset/void/();   name=IOCatalogue::reset --><a name="//apple_ref/cpp/instm/IOCatalogue/reset/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="reset">reset</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Return the Catalogue to its initial state.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">reset</span><!-- /a -->(
    <span class="param">void</span>); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/serialize/bool/(OSSerialize*);   name=IOCatalogue::serialize --><a name="//apple_ref/cpp/instm/IOCatalogue/serialize/bool/(OSSerialize*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="serialize">serialize</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Serializes the catalog for transport to the user.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">serialize</span><!-- /a -->(
    <a href="../../../OSSerialize_h/Classes/OSSerialize/index.html#//apple_ref/cpp/cl/OSSerialize" target="_top" class="type"><span class="type">OSSerialize</span></a> <span class="type">*</span><span class="param">s</span>) <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>s</code></dt>
<dd><p>The serializer object.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns false if unable to serialize database, most likely due to memory shortage.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/startMatching/bool/(OSDictionary*);   name=IOCatalogue::startMatching --><a name="//apple_ref/cpp/instm/IOCatalogue/startMatching/bool/(OSDictionary*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="startMatching">startMatching</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Starts an IOService matching thread where matching keys and values are provided by the matching dictionary.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">startMatching</span><!-- /a -->(
    <a href="../../../OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><span class="param">matching</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>matching</code></dt>
<dd><p>A dictionary whose keys and values are used for matching personalities in the database.  For example, a matching dictionary containing a 'IOProviderClass' key with the value 'IOPCIDevice' will start matching for all personalities which have the key 'IOProviderClass' equal to 'IOPCIDevice'.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/terminateDrivers/IOReturn/(OSDictionary*);   name=IOCatalogue::terminateDrivers --><a name="//apple_ref/cpp/instm/IOCatalogue/terminateDrivers/IOReturn/(OSDictionary*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="terminateDrivers">terminateDrivers</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Terminates all instances of a driver which match the contents of the matching dictionary. Does not unload module.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">terminateDrivers</span><!-- /a -->(
    <a href="../../../OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><span class="param">matching</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>matching</code></dt>
<dd><p>A dictionary whose keys and values are used for matching personalities in the database.  For example, a matching dictionary containing a 'IOProviderClass' key with the value 'IOPCIDevice' will cause termination for all instances whose personalities have the key 'IOProviderClass' equal to 'IOPCIDevice'.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/terminateDriversForModule/IOReturn/(constchar*,bool);   name=IOCatalogue::terminateDriversForModule --><a name="//apple_ref/cpp/instm/IOCatalogue/terminateDriversForModule/IOReturn/(constchar*,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="terminateDriversForModule(constchar*,bool)">terminateDriversForModule(const char *, bool)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Terminates all instances of a driver which depends on a particular module and unloads the module.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">terminateDriversForModule</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">moduleName</span><!-- /a -->,
    <!-- a --><span class="var">bool</span><!-- /a --> <!-- a --><span class="var">unload</span><!-- /a --> = <!-- a --><span class="var">true</span><!-- /a -->); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>moduleName</code></dt>
<dd><p>Name of the module which is used to determine which driver instances to terminate and unload.</p></dd>
<dt><code>unload</code></dt>
<dd><p>Flag to cause the actual unloading of the module.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/terminateDriversForModule/IOReturn/(OSString*,bool);   name=IOCatalogue::terminateDriversForModule --><a name="//apple_ref/cpp/instm/IOCatalogue/terminateDriversForModule/IOReturn/(OSString*,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="terminateDriversForModule(OSString*,bool)">terminateDriversForModule(OSString *, bool)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Terminates all instances of a driver which depends on a particular module and unloads the module.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">terminateDriversForModule</span><!-- /a -->(
    <a href="../../../OSString_h/Classes/OSString/index.html#//apple_ref/cpp/cl/OSString" target="_top" class="type"><span class="type">OSString</span></a> <span class="type">*</span><span class="param">moduleName</span>,
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">unload</span><!-- /a --> = <span class="keyword">true</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>moduleName</code></dt>
<dd><p>Name of the module which is used to determine which driver instances to terminate and unload.</p></dd>
<dt><code>unload</code></dt>
<dd><p>Flag to cause the actual unloading of the module.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOCatalogue/unloadModule/IOReturn/(OSString*);   name=IOCatalogue::unloadModule --><a name="//apple_ref/cpp/instm/IOCatalogue/unloadModule/IOReturn/(OSString*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="unloadModule">unloadModule</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Unloads the reqested module if no driver instances are currently depending on it.
<!-- end abstract --></p>
<p></p>
<pre><tt>private</tt>
<br><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">unloadModule</span><!-- /a -->(
    <a href="../../../OSString_h/Classes/OSString/index.html#//apple_ref/cpp/cl/OSString" target="_top" class="type"><span class="type">OSString</span></a> <span class="type">*</span><span class="param">moduleName</span> ) <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>moduleName</code></dt>
<dd><p>An OSString containing the name of the module to unload.</p></dd>
</dl>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOCatalogue_h/Classes/IOCatalogue/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOCatalogue_h/Classes/IOCatalogue/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOCatalogue_h/Classes/IOCatalogue/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=cl; uid=//apple_ref/cpp/cl/IOCatalogue;  name=IOCatalogue--><a name="//apple_ref/cpp/cl/IOCatalogue"></a>
</body>
</html>
