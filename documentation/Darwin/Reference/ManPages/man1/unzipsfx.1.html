<html><head><title>Mac OS X
 Manual Page For unzipsfx(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/unzipsfx" title="Mac OS X
 Manual Page for unzipsfx(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/unzipsfx"; name=unzipsfx(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
UNZIPSFX(1L)                                                                                    UNZIPSFX(1L)



<b>NAME</b>
       unzipsfx - self-extracting stub for prepending to ZIP archives

<b>SYNOPSIS</b>
       <b>&lt;name</b> <b>of</b> <b>unzipsfx+archive</b> <b>combo&gt;</b> [<b>-cfptuz</b>[<b>ajnoqsCLV$</b>]] <!-- a -->[<u>file(s)</u><!-- /a --><u></u> ... [<b>-x</b> <!-- a --><u>xfile(s)</u><!-- /a --><u></u> ...]]

<b>DESCRIPTION</b>
       <u>unzipsfx</u>  is  a  modified  version  of <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> designed to be prepended to existing ZIP archives in
       order to form self-extracting archives.  Instead of taking its first non-flag argument to be the <!-- a -->zip<!-- /a -->-<font color="#ffffff" class="whiteout">file(s)&nbsp;zipfile(s)</font>
       <!-- a -->file(s)<!-- /a -->  to  be  extracted, <u>unzipsfx</u> seeks itself under the name by which it was invoked and tests or
       extracts the contents of the appended archive.  Because the executable stub adds bulk to the  archive
       (the  whole  purpose of which is to be as small as possible), a number of the less-vital capabilities
       in regular <u>unzip</u> have been removed.  Among these are the usage (or  help)  screen,  the  listing  and
       diagnostic  functions  (<b>-l</b>  and  <b>-v</b>),  the  ability  to  decompress  older  compression  formats (the
       ``reduce,'' ``shrink'' and ``implode'' methods).  The ability to extract to a  directory  other  than
       the  current  one  can  be  selected  as a compile-time option, which is now enabled by default since
       UnZipSFX version 5.5.  Similary, decryption is supported as  a  compile-time  option  but  should  be
       avoided unless the attached archive contains encrypted files. Starting with release 5.5, another com-<font color="#ffffff" class="whiteout">pile-time&nbsp;compile-time</font>
       pile-time option adds a simple ``run command after extraction'' feature.  This feature  is  currently
       incompatible with the ``extract to different directory'' feature and remains disabled by default.

       <b>Note</b> <b>that</b> <b>self-extracting</b> <b>archives</b> <b>made</b> <b>with</b> <u>unzipsfx</u> <b>are</b> <b>no</b> <b>more</b> <b>(or</b> <b>less)</b> <b>portable</b> <b>across</b> <b>different</b>
       <b>operating</b> <b>systems</b> <b>than</b> <b>is</b> <b>the</b> <u>unzip</u> <b>executable</b> <b>itself.</b>  In general a self-extracting archive made  on
       a particular Unix system, for example, will only self-extract under the same flavor of Unix.  Regular
       <u>unzip</u> may still be used to extract the embedded archive as with any normal zipfile, although it  will
       generate  a  harmless  warning about extra bytes at the beginning of the zipfile.  <u>Despite</u> <u>this</u>, how-<font color="#ffffff" class="whiteout">ever,&nbsp;however,</font>
       ever, the self-extracting archive is technically <u>not</u> a valid ZIP archive, and PKUNZIP may  be  unable
       to  test or extract it.  This limitation is due to the simplistic manner in which the archive is cre-<font color="#ffffff" class="whiteout">ated;&nbsp;created;</font>
       ated; the internal directory structure is not updated to reflect the extra  bytes  prepended  to  the
       original zipfile.

<b>ARGUMENTS</b>
       <!-- a -->[<u>file(s)</u><!-- /a --><u></u>]
              An  optional list of archive members to be processed.  Regular expressions (wildcards) similar
              to those in Unix <a href="egrep.1.html#//apple_ref/doc/man/1/egrep"><u>egrep</u>(1)</a> may be used to match multiple members.  These wildcards may contain:

              *      matches a sequence of 0 or more characters

              ?      matches exactly 1 character

              [...]  matches  any  single  character  found  inside  the brackets; ranges are specified by a
                     beginning character, a hyphen, and an ending character.  If an exclamation point  or  a
                     caret  (`!'  or  `^') follows the left bracket, then the range of characters within the
                     brackets is complemented (that is, anything <u>except</u> the characters inside  the  brackets
                     is considered a match).

              (Be sure to quote any character that might otherwise be interpreted or modified by the operat-<font color="#ffffff" class="whiteout">ing&nbsp;operating</font>
              ing system, particularly under Unix and VMS.)

       [<b>-x</b> <!-- a --><u>xfile(s)</u><!-- /a --><u></u>]
              An optional list of archive members to be excluded from processing.  Since wildcard characters
              match  directory  separators  (`/'),  this option may be used to exclude any files that are in
              subdirectories.  For example, ``foosfx *.[ch] -x */*'' would extract all C source files in the
              main  directory, but none in any subdirectories.  Without the <b>-x</b> option, all C source files in
              all directories within the zipfile would be extracted.

       If <u>unzipsfx</u> is compiled with SFX_EXDIR defined, the following option is also enabled:

       [<b>-d</b> <u>exdir</u>]
              An optional directory to which to extract files.  By default, all files and subdirectories are
              recreated  in the current directory; the <b>-d</b> option allows extraction in an arbitrary directory
              (always assuming one has permission to write to the directory).  The option and directory  may
              be  concatenated  without  any  white  space between them, but note that this may cause normal
              shell behavior to be suppressed.  In particular, ``-d ~'' (tilde) is expanded by Unix C shells
              into  the  name of the user's home directory, but ``-d~'' is treated as a literal subdirectory
              ``<b>~</b>'' of the current directory.

<b>OPTIONS</b>
       <u>unzipsfx</u> supports the following <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> options:  <b>-c</b> and <b>-p</b> (extract to standard output/screen), <b>-f</b>
       and  <b>-u</b>  (freshen and update existing files upon extraction), <b>-t</b> (test archive) and <b>-z</b> (print archive
       comment).  All normal listing options (<b>-l</b>, <b>-v</b> and <b>-Z</b>) have been removed, but the testing option  (<b>-t</b>)
       may  be used as a ``poor man's'' listing.  Alternatively, those creating self-extracting archives may
       wish to include a short listing in the zipfile comment.

       See <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> for a more complete description of these options.

<b>MODIFIERS</b>
       <u>unzipsfx</u> currently supports all <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> modifiers:  <b>-a</b> (convert text files), <b>-n</b> (never  overwrite),
       <b>-o</b> (overwrite without prompting), <b>-q</b> (operate quietly), <b>-C</b> (match names case-insensitively), <b>-L</b> (con-<font color="#ffffff" class="whiteout">vert&nbsp;(convert</font>
       vert uppercase-OS names to lowercase), <b>-j</b> (junk paths) and <b>-V</b> (retain version numbers); plus the fol-<font color="#ffffff" class="whiteout">lowing&nbsp;following</font>
       lowing operating-system specific options:  <b>-X</b> (restore VMS owner/protection info), <b>-s</b> (convert spaces
       in filenames to underscores [DOS, OS/2, NT]) and <b>-$</b> (restore volume label [DOS, OS/2, NT, Amiga]).

       (Support for regular ASCII text-conversion may be removed in future  versions,  since  it  is  simple
       enough  for the archive's creator to ensure that text files have the appropriate format for the local
       OS.  EBCDIC conversion will of course continue to be supported since the zipfile format implies ASCII
       storage of text files.)

       See <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> for a more complete description of these modifiers.

<b>ENVIRONMENT</b> <b>OPTIONS</b>
       <u>unzipsfx</u>  uses  the  same  environment  variables as <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> does, although this is likely to be an
       issue only for the person creating and  testing  the  self-extracting  archive.   See  <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a>  for
       details.

<b>DECRYPTION</b>
       Decryption is supported exactly as in <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a>; that is, interactively with a non-echoing prompt for
       the <!-- a -->password(s)<!-- /a -->.  See <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> for details.  Once again, note that if the archive has  no  encrypted
       files  there is no reason to use a version of <u>unzipsfx</u> with decryption support; that only adds to the
       size of the archive.

<b>AUTORUN</b> <b>COMMAND</b>
       When <u>unzipsfx</u> was compiled with CHEAP_SFX_AUTORUN defined, a simple ``command  autorun''  feature  is
       supported. You may enter a command into the Zip archive comment, using the following format:

           $AUTORUN$&gt;[command line string]

       When  <u>unzipsfxP</u>  <u>recognizes</u> <u>the</u> <u>``$AUTORUN$&gt;''</u> <u>token</u> <u>at</u> <u>the</u> <u>beginning</u> <u>of</u> <u>the</u> <u>Zip</u> <u>archive</u> <u>comment,</u> <u>the</u>
       <u>remainder</u> <u>of</u> <u>the</u> <u>first</u> <u>line</u> <u>of</u> <u>the</u> <u>comment</u> <u>(until</u> <u>the</u> <u>first</u> <u>newline</u> <u>character)</u> <u>is</u> <u>passed</u> <u>as</u>  <u>a</u>  <u>shell</u>
       <u>command</u>  <u>to</u>  <u>the</u>  <u>operating</u> <u>system</u> <u>using</u> <u>the</u> <u>C</u> <u>rtl</u> <u>``system''</u> <u>function.</u> <u>Before</u> <u>executing</u> <u>the</u> <u>command,</u>
       <u>unzipsfxP</u> <u>displays</u> <u>the</u> <u>command</u> <u>on</u> <u>the</u> <u>console</u> <u>and</u> <u>prompts</u> <u>the</u> <u>user</u> <u>for</u> <u>confirmation.</u>  <u>When</u>  <u>the</u>  <u>user</u>
       <u>has</u> <u>switched</u> <u>off</u> <u>prompting</u> <u>by</u> <u>specifying</u> <u>the</u> <b>-q</b> <u>option,</u> <u>autorun</u> <u>commands</u> <u>are</u> <u>never</u> <u>executed.</u>

       In  case  the  archive comment contains additonal lines of text, the remainder of the archive comment
       following the first line is displayed normally, unless quiet operation was requested by  supplying  a
       <b>-q</b> option.

<b>EXAMPLES</b>
       To create a self-extracting archive <u>letters</u> from a regular zipfile <u>letters.zip</u> and change the new ar-<font color="#ffffff" class="whiteout">chive's&nbsp;archive's</font>
       chive's permissions to be world-executable under Unix:

           cat unzipsfx letters.zip &gt; letters
           chmod 755 letters
           zip -A letters

       To create the same archive under MS-DOS, OS/2 or NT (note the use of the <b>/b</b> [binary]  option  to  the
       <u>copy</u> command):

           copy /b unzipsfx.exe+letters.zip letters.exe
           zip -A letters.exe

       Under VMS:

           copy unzipsfx.exe,letters.zip letters.exe
           letters == "$currentdisk:[currentdir]letters.exe"
           zip -A letters.exe

       (The VMS <u>append</u> command may also be used.  The second command installs the new program as a ``foreign
       command'' capable of taking arguments.  The third line assumes that Zip is  already  installed  as  a
       foreign command.)  Under AmigaDOS:

           MakeSFX letters letters.zip UnZipSFX

       (MakeSFX  is  included with the UnZip source distribution and with Amiga binary distributions.  ``zip
       -A'' doesn't work on Amiga self-extracting archives.)  To test (or  list)  the  newly  created  self-<font color="#ffffff" class="whiteout">extracting&nbsp;selfextracting</font>
       extracting archive:

           letters -t

       To test <u>letters</u> quietly, printing only a summary message indicating whether the archive is OK or not:

           letters -tqq

       To extract the complete contents into the current directory, recreating all files and  subdirectories
       as necessary:

           letters

       To extract all *.txt files (in Unix quote the `*'):

           letters *.txt

       To extract everything <u>except</u> the *.txt files:

           letters -x *.txt

       To extract only the README file to standard output (the screen):

           letters -c README

       To print only the zipfile comment:

           letters -z

<b>LIMITATIONS</b>
       The  principle and fundamental limitation of <u>unzipsfx</u> is that it is not portable across architectures
       or operating systems, and therefore neither are the resulting archives.  For some architectures there
       is limited portability, however (e.g., between some flavors of Intel-based Unix).

       Another  problem  with  the current implementation is that any archive with ``junk'' prepended to the
       beginning technically is no longer a zipfile (unless <a href="zip.1.html#//apple_ref/doc/man/1/zip"><u>zip</u>(1)</a> is used to  adjust  the  zipfile  offsets
       appropriately,  as  noted  above).  <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1)</a> takes note of the prepended bytes and ignores them since
       some file-transfer protocols, notably MacBinary, are  also  known  to  prepend  junk.   But  PKWARE's
       archiver  suite  may  not  be  able  to  deal  with the modified archive unless its offsets have been
       adjusted.

       <u>unzipsfx</u> has no knowledge of the user's PATH, so in general an archive must either be in the  current
       directory  when  it is invoked, or else a full or relative path must be given.  If a user attempts to
       extract the archive from a directory in the PATH other than the current one, <u>unzipsfx</u>  will  print  a
       warning to the effect, ``can't find myself.''  This is always true under Unix and may be true in some
       cases under MS-DOS, depending on the compiler used (Microsoft C fully qualifies the program name, but
       other  compilers may not).  Under OS/2 and NT there are operating-system calls available that provide
       the full path name, so the archive may be invoked from anywhere in the user's path.  The situation is
       not known for AmigaDOS, Atari TOS, MacOS, etc.

       As  noted  above,  a  number  of  the  normal  <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> functions have been removed in order to make
       <u>unzipsfx</u> smaller:  usage and diagnostic info, listing functions and extraction to other  directories.
       Also,  only  stored  and  deflated  files are supported.  The latter limitation is mainly relevant to
       those who create SFX archives, however.

       VMS users must know how to set up self-extracting archives as foreign commands in order to use any of
       <u>unzipsfx</u>'s  options.   This  is  not  necessary  for simple extraction, but the command to do so then
       becomes, e.g., ``run letters'' (to continue the examples given above).

       <u>unzipsfx</u> on the Amiga requires the use of a special program, MakeSFX,  in  order  to  create  working
       self-extracting  archives;  simple concatenation does not work.  (For technically oriented users, the
       attached archive is defined as a ``debug hunk.'')  There may be compatibility  problems  between  the
       ROM levels of older Amigas and newer ones.

       All current bugs in <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a> exist in <u>unzipsfx</u> as well.

<b>DIAGNOSTICS</b>
       <u>unzipsfx</u>'s  exit  status  (error  level) is identical to that of <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a>; see the corresponding man
       page.

<b>SEE</b> <b>ALSO</b>
       <a href="funzip.1.html#//apple_ref/doc/man/1/funzip"><u>funzip</u>(1L)</a>, <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a>, <a href="zip.1.html#//apple_ref/doc/man/1/zip"><u>zip</u>(1L)</a>, <a href="zipcloak.1.html#//apple_ref/doc/man/1/zipcloak"><u>zipcloak</u>(1L)</a>, <a href="zipgrep.1.html#//apple_ref/doc/man/1/zipgrep"><u>zipgrep</u>(1L)</a>, <a href="zipinfo.1.html#//apple_ref/doc/man/1/zipinfo"><u>zipinfo</u>(1L)</a>, <a href="zipnote.1.html#//apple_ref/doc/man/1/zipnote"><u>zipnote</u>(1L)</a>, <a href="zipsplit.1.html#//apple_ref/doc/man/1/zipsplit"><u>zipsplit</u>(1L)</a>

<b>URL</b>
       The Info-ZIP home page is currently at
           <a href="http://www.info-zip.org/pub/infozip/">http://www.info-zip.org/pub/infozip/</a>
       or
           <a href="ftp://ftp.info-zip.org/pub/infozip/">ftp://ftp.info-zip.org/pub/infozip/</a> .

<b>AUTHORS</b>
       Greg Roelofs was responsible for the basic modifications to UnZip necessary to create UnZipSFX.   See
       <a href="unzip.1.html#//apple_ref/doc/man/1/unzip"><u>unzip</u>(1L)</a>  for the current list of Zip-Bugs authors, or the file CONTRIBS in the UnZip source distri-
       bution for the full list of Info-ZIP contributors.



Info-ZIP                                  28 February 2005 (v5.52)                              UNZIPSFX(1L)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/unzipsfx.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/unzipsfx.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/unzipsfx.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
