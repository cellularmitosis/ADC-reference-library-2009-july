<html><head><title>Mac OS X
 Manual Page For sed(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/sed" title="Mac OS X
 Manual Page for sed(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/sed"; name=sed(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SED(1)                    BSD General Commands Manual                   SED(1)

<b>NAME</b>
     <b>sed</b> -- stream editor

<b>SYNOPSIS</b>
     <b>sed</b> [<b>-Ealn</b>] <u>command</u> [<u>file</u> <u>...</u>]
     <b>sed</b> [<b>-Ealn</b>] [<b>-e</b> <u>command</u>] [<b>-f</b> <u>command</u><b>_</b><u>file</u>] [<b>-i</b> <u>extension</u>] [<u>file</u> <u>...</u>]

<b>DESCRIPTION</b>
     The <b>sed</b> utility reads the specified files, or the standard input if no files are specified, modifying
     the input as specified by a list of commands.  The input is then written to the standard output.

     A single command may be specified as the first argument to <b>sed</b>.  Multiple commands may be specified by
     using the <b>-e</b> or <b>-f</b> options.  All commands are applied to the input in the order they are specified
     regardless of their origin.

     The following options are available:

     <b>-E</b>      Interpret regular expressions as extended (modern) regular expressions rather than basic regu-<font color="#ffffff" class="whiteout">lar&nbsp;regular</font>
             lar expressions (BRE's).  The <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format">re_format(7)</a> manual page fully describes both formats.

     <b>-a</b>      The files listed as parameters for the ``w'' functions are created (or truncated) before any
             processing begins, by default.  The <b>-a</b> option causes <b>sed</b> to delay opening each file until a
             command containing the related ``w'' function is applied to a line of input.

     <b>-e</b> <u>command</u>
             Append the editing commands specified by the <u>command</u> argument to the list of commands.

     <b>-f</b> <u>command</u><b>_</b><u>file</u>
             Append the editing commands found in the file <u>command</u><b>_</b><u>file</u> to the list of commands.  The edit-<font color="#ffffff" class="whiteout">ing&nbsp;editing</font>
             ing commands should each be listed on a separate line.

     <b>-i</b> <u>extension</u>
             Edit files in-place, saving backups with the specified <u>extension</u>.  If a zero-length <u>extension</u>
             is given, no backup will be saved.  It is not recommended to give a zero-length <u>extension</u> when
             in-place editing files, as you risk corruption or partial content in situations where disk
             space is exhausted, etc.

     <b>-l</b>      Make output line buffered.

     <b>-n</b>      By default, each line of input is echoed to the standard output after all of the commands have
             been applied to it.  The <b>-n</b> option suppresses this behavior.

     The form of a <b>sed</b> command is as follows:

           [address[,address]]function[arguments]

     Whitespace may be inserted before the first address and the function portions of the command.

     Normally, <b>sed</b> cyclically copies a line of input, not including its terminating newline character, into
     a <u>pattern</u> <u>space</u>, (unless there is something left after a ``D'' function), applies all of the commands
     with addresses that select that pattern space, copies the pattern space to the standard output, append-<font color="#ffffff" class="whiteout">ing&nbsp;appending</font>
     ing a newline, and deletes the pattern space.

     Some of the functions use a <u>hold</u> <u>space</u> to save all or part of the pattern space for subsequent
     retrieval.

<b>Sed</b> <b>Addresses</b>
     An address is not required, but if specified must be a number (that counts input lines cumulatively
     across input files), a dollar (``$'') character that addresses the last line of input, or a context
     address (which consists of a regular expression preceded and followed by a delimiter).

     A command line with no addresses selects every pattern space.

     A command line with one address selects all of the pattern spaces that match the address.

     A command line with two addresses selects an inclusive range.  This range starts with the first pattern
     space that matches the first address.  The end of the range is the next following pattern space that
     matches the second address.  If the second address is a number less than or equal to the line number
     first selected, only that line is selected.  In the case when the second address is a context address,
     <b>sed</b> does not re-match the second address against the pattern space that matched the first address.
     Starting at the first line following the selected range, <b>sed</b> starts looking again for the first
     address.

     Editing commands can be applied to non-selected pattern spaces by use of the exclamation character
     (``!'') function.

<b>Sed</b> <b>Regular</b> <b>Expressions</b>
     The regular expressions used in <b>sed</b>, by default, are basic regular expressions (BREs, see <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format">re_format(7)</a>
     for more information), but extended (modern) regular expressions can be used instead if the <b>-E</b> flag is
     given.  In addition, <b>sed</b> has the following two additions to regular expressions:

     1.   In a context address, any character other than a backslash (``\'') or newline character may be
          used to delimit the regular expression.  Also, putting a backslash character before the delimiting
          character causes the character to be treated literally.  For example, in the context address
          \xabc\xdefx, the RE delimiter is an ``x'' and the second ``x'' stands for itself, so that the reg-<font color="#ffffff" class="whiteout">ular&nbsp;regular</font>
          ular expression is ``abcxdef''.

     2.   The escape sequence \n matches a newline character embedded in the pattern space.  You cannot,
          however, use a literal newline character in an address or in the substitute command.

     One special feature of <b>sed</b> regular expressions is that they can default to the last regular expression
     used.  If a regular expression is empty, i.e., just the delimiter characters are specified, the last
     regular expression encountered is used instead.  The last regular expression is defined as the last
     regular expression used as part of an address or substitute command, and at run-time, not compile-time.
     For example, the command ``/abc/s//XXX/'' will substitute ``XXX'' for the pattern ``abc''.

<b>Sed</b> <b>Functions</b>
     In the following list of commands, the maximum number of permissible addresses for each command is
     indicated by [0addr], [1addr], or [2addr], representing zero, one, or two addresses.

     The argument <u>text</u> consists of one or more lines.  To embed a newline in the text, precede it with a
     backslash.  Other backslashes in text are deleted and the following character taken literally.

     The ``r'' and ``w'' functions take an optional file parameter, which should be separated from the func-<font color="#ffffff" class="whiteout">tion&nbsp;function</font>
     tion letter by white space.  Each file given as an argument to <b>sed</b> is created (or its contents trun-<font color="#ffffff" class="whiteout">cated)&nbsp;truncated)</font>
     cated) before any input processing begins.

     The ``b'', ``r'', ``s'', ``t'', ``w'', ``y'', ``!'', and ``:'' functions all accept additional argu-<font color="#ffffff" class="whiteout">ments.&nbsp;arguments.</font>
     ments.  The following synopses indicate which arguments have to be separated from the function letters
     by white space characters.

     Two of the functions take a function-list.  This is a list of <b>sed</b> functions separated by newlines, as
     follows:

           { function
             function
             ...
             function
           }

     The ``{'' can be preceded by white space and can be followed by white space.  The function can be pre-<font color="#ffffff" class="whiteout">ceded&nbsp;preceded</font>
     ceded by white space.  The terminating ``}'' must be preceded by a newline or optional white space.

     [2addr] function-list
             Execute function-list only when the pattern space is selected.

     [1addr]a\
     text    Write <u>text</u> to standard output immediately before each attempt to read a line of input, whether
             by executing the ``N'' function or by beginning a new cycle.

     [2addr]b[label]
             Branch to the ``:'' function with the specified label.  If the label is not specified, branch
             to the end of the script.

     [2addr]c\
     text    Delete the pattern space.  With 0 or 1 address or at the end of a 2-address range, <u>text</u> is
             written to the standard output.

     [2addr]d
             Delete the pattern space and start the next cycle.

     [2addr]D
             Delete the initial segment of the pattern space through the first newline character and start
             the next cycle.

     [2addr]g
             Replace the contents of the pattern space with the contents of the hold space.

     [2addr]G
             Append a newline character followed by the contents of the hold space to the pattern space.

     [2addr]h
             Replace the contents of the hold space with the contents of the pattern space.

     [2addr]H
             Append a newline character followed by the contents of the pattern space to the hold space.

     [1addr]i\
     text    Write <u>text</u> to the standard output.

     [2addr]l
             (The letter ell.)  Write the pattern space to the standard output in a visually unambiguous
             form.  This form is as follows:

                   backslash          \\
                   alert              \a
                   form-feed          \f
                   carriage-return    \r
                   tab                \t
                   vertical tab       \v

             Nonprintable characters are written as three-digit octal numbers (with a preceding backslash)
             for each byte in the character (most significant byte first).  Long lines are folded, with the
             point of folding indicated by displaying a backslash followed by a newline.  The end of each
             line is marked with a ``$''.

     [2addr]n
             Write the pattern space to the standard output if the default output has not been suppressed,
             and replace the pattern space with the next line of input.

     [2addr]N
             Append the next line of input to the pattern space, using an embedded newline character to sep-<font color="#ffffff" class="whiteout">arate&nbsp;separate</font>
             arate the appended material from the original contents.  Note that the current line number
             changes.

     [2addr]p
             Write the pattern space to standard output.

     [2addr]P
             Write the pattern space, up to the first newline character to the standard output.

     [1addr]q
             Branch to the end of the script and quit without starting a new cycle.

     [1addr]r file
             Copy the contents of <u>file</u> to the standard output immediately before the next attempt to read a
             line of input.  If <u>file</u> cannot be read for any reason, it is silently ignored and no error con-<font color="#ffffff" class="whiteout">dition&nbsp;condition</font>
             dition is set.

     [2addr]s/regular expression/replacement/flags
             Substitute the replacement string for the first instance of the regular expression in the pat-<font color="#ffffff" class="whiteout">tern&nbsp;pattern</font>
             tern space.  Any character other than backslash or newline can be used instead of a slash to
             delimit the RE and the replacement.  Within the RE and the replacement, the RE delimiter itself
             can be used as a literal character if it is preceded by a backslash.

             An ampersand (``&amp;'') appearing in the replacement is replaced by the string matching the RE.
             The special meaning of ``&amp;'' in this context can be suppressed by preceding it by a backslash.
             The string ``\#'', where ``#'' is a digit, is replaced by the text matched by the corresponding
             backreference expression (see <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format">re_format(7)</a>).

             A line can be split by substituting a newline character into it.  To specify a newline charac-<font color="#ffffff" class="whiteout">ter&nbsp;character</font>
             ter in the replacement string, precede it with a backslash.

             The value of <u>flags</u> in the substitute function is zero or more of the following:

                   <u>N</u>       Make the substitution only for the <u>N</u>'th occurrence of the regular expression in
                           the pattern space.

                   g       Make the substitution for all non-overlapping matches of the regular expression,
                           not just the first one.

                   p       Write the pattern space to standard output if a replacement was made.  If the
                           replacement string is identical to that which it replaces, it is still considered
                           to have been a replacement.

                   w <u>file</u>  Append the pattern space to <u>file</u> if a replacement was made.  If the replacement
                           string is identical to that which it replaces, it is still considered to have
                           been a replacement.

     [2addr]t [label]
             Branch to the ``:'' function bearing the label if any substitutions have been made since the
             most recent reading of an input line or execution of a ``t'' function.  If no label is speci-<font color="#ffffff" class="whiteout">fied,&nbsp;specified,</font>
             fied, branch to the end of the script.

     [2addr]w <u>file</u>
             Append the pattern space to the <u>file</u>.

     [2addr]x
             Swap the contents of the pattern and hold spaces.

     [2addr]y/string1/string2/
             Replace all occurrences of characters in <u>string1</u> in the pattern space with the corresponding
             characters from <u>string2</u>.  Any character other than a backslash or newline can be used instead
             of a slash to delimit the strings.  Within <u>string1</u> and <u>string2</u>, a backslash followed by an
             ``n'' is replaced by a newline character.  A pair of backslashes is replaced by a literal back-<font color="#ffffff" class="whiteout">slash.&nbsp;backslash.</font>
             slash.  Finally, a backslash followed by any other character (except a newline) is that literal
             character.

     [2addr]!function
     [2addr]!function-list
             Apply the function or function-list only to the lines that are <u>not</u> selected by the address(es).

     [0addr]:label
             This function does nothing; it bears a label to which the ``b'' and ``t'' commands may branch.

     [1addr]=
             Write the line number to the standard output followed by a newline character.

     [0addr]
             Empty lines are ignored.

     [0addr]#
             The ``#'' and the remainder of the line are ignored (treated as a comment), with the single
             exception that if the first two characters in the file are ``#n'', the default output is sup-<font color="#ffffff" class="whiteout">pressed.&nbsp;suppressed.</font>
             pressed.  This is the same as specifying the <b>-n</b> option on the command line.

<b>ENVIRONMENT</b>
     The COLUMNS, LANG, LC_ALL, LC_CTYPE and LC_COLLATE environment variables affect the execution of <b>sed</b> as
     described in <a href="../man7/environ.7.html#//apple_ref/doc/man/7/environ">environ(7)</a>.

<b>EXIT</b> <b>STATUS</b>
     The <b>sed</b> utility exits 0 on success, and &gt;0 if an error occurs.

<b>LEGACY</b> <b>DESCRIPTION</b>
     Warnings are not generated for unused labels.  In legacy mode, they are.

     In the <b>-y</b> function, doubled backslashes are not converted to single ones.  In legacy mode, they are.

     For more information about legacy mode, see <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>.

<b>SEE</b> <b>ALSO</b>
     <a href="awk.1.html#//apple_ref/doc/man/1/awk">awk(1)</a>, <a href="ed.1.html#//apple_ref/doc/man/1/ed">ed(1)</a>, <a href="grep.1.html#//apple_ref/doc/man/1/grep">grep(1)</a>, <a href="../man3/regex.3.html#//apple_ref/doc/man/3/regex">regex(3)</a>, <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>, <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format">re_format(7)</a>

<b>STANDARDS</b>
     The <b>sed</b> utility is expected to be a superset of the IEEE Std 1003.2 (``POSIX.2'') specification.

     The <b>-E</b>, <b>-a</b> and <b>-i</b> options are non-standard FreeBSD extensions and may not be available on other operat-<font color="#ffffff" class="whiteout">ing&nbsp;operating</font>
     ing systems.

<b>HISTORY</b>
     A <b>sed</b> command, written by L. E. McMahon, appeared in Version 7 AT&amp;T UNIX.

<b>AUTHORS</b>
     Diomidis D. Spinellis &lt;dds@FreeBSD.org&gt;

<b>BUGS</b>
     Multibyte characters containing a byte with value 0x5C (ASCII `\') may be incorrectly treated as line
     continuation characters in arguments to the ``a'', ``c'' and ``i'' commands.  Multibyte characters can-<font color="#ffffff" class="whiteout">not&nbsp;cannot</font>
     not be used as delimiters with the ``s'' and ``y'' commands.

BSD                              May 10, 2005                              BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/sed.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/sed.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/sed.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
