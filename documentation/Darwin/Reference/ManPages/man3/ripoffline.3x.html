<html><head><title>Mac OS X
 Manual Page For ripoffline(3x)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3x/ripoffline" title="Mac OS X
 Manual Page for ripoffline(3x)"><a name="//apple_ref/doc/man/3/ripoffline" title="Mac OS X
 Manual Page for ripoffline(3x)"><!-- headerDoc=man; indexgroup=Section 3x; uid="//apple_ref/doc/man/3x/ripoffline"; name=ripoffline(3x) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
curs_kernel(3X)                                                                              <a href="curs_kernel.3x.html#//apple_ref/doc/man/3/curs_kernel">curs_kernel(3X)</a>



<b>NAME</b>
       <b>def_prog_mode</b>, <b>def_shell_mode</b>, <b>reset_prog_mode</b>, <b>reset_shell_mode</b>, <b>resetty</b>, <b>savetty</b>, <b>getsyx</b>, <b>setsyx</b>,
       <b>ripoffline</b>, <b>curs_set</b>, <b>napms</b> - low-level <b>curses</b> routines

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;curses.h&gt;</b>

       <b>int</b> <b>def_prog_mode(void);</b>
       <b>int</b> <b>def_shell_mode(void);</b>
       <b>int</b> <b>reset_prog_mode(void);</b>
       <b>int</b> <b>reset_shell_mode(void);</b>
       <b>int</b> <b>resetty(void);</b>
       <b>int</b> <b>savetty(void);</b>
       <b>void</b> <b>getsyx(int</b> <b>y,</b> <b>int</b> <b>x);</b>
       <b>void</b> <b>setsyx(int</b> <b>y,</b> <b>int</b> <b>x);</b>
       <b>int</b> <b>ripoffline(int</b> <b>line,</b> <b>int</b> <b>(*init)(WINDOW</b> <b>*,</b> <b>int));</b>
       <b>int</b> <b>curs_set(int</b> <b>visibility);</b>
       <b>int</b> <b>napms(int</b> <b>ms);</b>

<b>DESCRIPTION</b>
       The following routines give low-level access to various <b>curses</b> capabilities.  Theses  routines  typi-<font color="#ffffff" class="whiteout">cally&nbsp;typically</font>
       cally are used inside library routines.

       The  <b>def_prog_mode</b>  and  <b>def_shell_mode</b> routines save the current terminal modes as the "program" (in
       <b>curses</b>) or "shell" (not in <b>curses</b>) state for use by the  <b>reset_prog_mode</b>  and  <b>reset_shell_mode</b>  rou-<font color="#ffffff" class="whiteout">tines.&nbsp;routines.</font>
       tines.   This  is done automatically by <b>initscr</b>.  There is one such save area for each screen context
       allocated by <b>newterm()</b>.

       The <b>reset_prog_mode</b> and <b>reset_shell_mode</b> routines restore the terminal to "program"  (in  <b>curses</b>)  or
       "shell" (out of <b>curses</b>) state.  These are done automatically by <b>endwin</b> and, after an <b>endwin</b>, by <b>doup</b>-<font color="#ffffff" class="whiteout">date,&nbsp;doupdate,</font>
       <b>date</b>, so they normally are not called.

       The <b>resetty</b> and <b>savetty</b> routines save and restore the state of the terminal modes.  <b>savetty</b> saves the
       current  state in a buffer and <b>resetty</b> restores the state to what it was at the last call to <b>savetty</b>.

       The <b>getsyx</b> routine returns the current coordinates of the virtual screen  cursor  in  <u>y</u>  and  <u>x</u>.   If
       <b>leaveok</b>  is  currently  <b>TRUE</b>, then <b>-1</b>,<b>-1</b> is returned.  If lines have been removed from the top of the
       screen, using <b>ripoffline</b>, <u>y</u> and <u>x</u> include these lines; therefore, <u>y</u> and <u>x</u> should be used only as  ar-<font color="#ffffff" class="whiteout">guments&nbsp;arguments</font>
       guments for <b>setsyx</b>.

       The  <b>setsyx</b>  routine sets the virtual screen cursor to <u>y</u>, <u>x</u>.  If <u>y</u> and <u>x</u> are both <b>-1</b>, then <b>leaveok</b> is
       set.  The two routines <b>getsyx</b> and <b>setsyx</b> are designed to be used by a library routine, which  manipu-<font color="#ffffff" class="whiteout">lates&nbsp;manipulates</font>
       lates  <b>curses</b>  windows but does not want to change the current position of the program's cursor.  The
       library routine would call <b>getsyx</b> at the beginning, do its manipulation of  its  own  windows,  do  a
       <b>wnoutrefresh</b> on its windows, call <b>setsyx</b>, and then call <b>doupdate</b>.

       The  <b>ripoffline</b> routine provides access to the same facility that <b>slk_init</b> [see <a href="curs_slk.3x.html#//apple_ref/doc/man/3/curs_slk"><b>curs_slk</b>(3X)</a>] uses to
       reduce the size of the screen.  <b>ripoffline</b> must be called before <b>initscr</b> or <b>newterm</b>  is  called.   If
       <u>line</u>  is  positive,  a line is removed from the top of <b>stdscr</b>; if <u>line</u> is negative, a line is removed
       from the bottom.  When this is done inside <b>initscr</b>, the routine <b>init</b> (supplied by the user) is called
       with  two  arguments:  a window pointer to the one-line window that has been allocated and an integer
       with the number of columns in the window.  Inside this initialization routine, the integer  variables
       <b>LINES</b>  and  <b>COLS</b>  (defined  in <b>&lt;curses.h&gt;</b>) are not guaranteed to be accurate and <b>wrefresh</b> or <b>doupdate</b>
       must not be called.  It is allowable to call <b>wnoutrefresh</b> during the initialization routine.

       <b>ripoffline</b> can be called up to five times before calling <b>initscr</b> or <b>newterm</b>.

       The <b>curs_set</b> routine sets the cursor state is set to invisible, normal, or very visible for <b>visibili</b>-<font color="#ffffff" class="whiteout">ty&nbsp;visibility</font>
       <b>ty</b> equal to <b>0</b>, <b>1</b>, or <b>2</b> respectively.  If the terminal supports the <u>visibility</u> requested, the previous
       <u>cursor</u> state is returned; otherwise, <b>ERR</b> is returned.

       The <b>napms</b> routine is used to sleep for <u>ms</u> milliseconds.

<b>RETURN</b> <b>VALUE</b>
       Except for <b>curs_set</b>, these routines always return <b>OK</b>.

       <b>curs_set</b> returns the previous cursor state, or <b>ERR</b> if the requested <u>visibility</u> is not supported.

       X/Open defines no error conditions.  In this implementation

              <b>def_prog_mode</b>, <b>def_shell_mode</b>, <b>reset_prog_mode</b>, <b>reset_shell_mode</b>
                   return an error if the terminal was not initialized, or if the I/O  call  to  obtain  the
                   terminal settings fails.

              <b>ripoffline</b>
                   returns  an  error if the maximum number of ripped-off lines exceeds the maximum (NRIPS =
                   5).

<b>NOTES</b>
       Note that <b>getsyx</b> is a macro, so <b>&amp;</b> is not necessary before the variables <u>y</u> and <u>x</u>.

       Older SVr4 man pages warn that the return value of <b>curs_set</b> "is currently incorrect".  This implemen-<font color="#ffffff" class="whiteout">tation&nbsp;implementation</font>
       tation  gets  it right, but it may be unwise to count on the correctness of the return value anywhere
       else.

       Both ncurses and SVr4 will call <b>curs_set</b> in <b>endwin</b> if <b>curs_set</b> has been called  to  make  the  cursor
       other  than normal, i.e., either invisible or very visible.  There is no way for ncurses to determine
       the initial cursor state to restore that.

<b>PORTABILITY</b>
       The functions <b>setsyx</b> and <b>getsyx</b> are not described in the XSI Curses standard,  Issue  4.   All  other
       functions are as described in XSI Curses.

       The  SVr4 documentation describes <b>setsyx</b> and <b>getsyx</b> as having return type int. This is misleading, as
       they are macros with no documented semantics for the return value.

<b>SEE</b> <b>ALSO</b>
       <!-- a --><b>curses</b>(3X)<!-- /a -->, <a href="curs_initscr.3x.html#//apple_ref/doc/man/3/curs_initscr"><b>curs_initscr</b>(3X)</a>, <a href="curs_outopts.3x.html#//apple_ref/doc/man/3/curs_outopts"><b>curs_outopts</b>(3X)</a>, <a href="curs_refresh.3x.html#//apple_ref/doc/man/3/curs_refresh"><b>curs_refresh</b>(3X)</a>, <a href="curs_scr_dump.3x.html#//apple_ref/doc/man/3/curs_scr_dump"><b>curs_scr_dump</b>(3X)</a>, <a href="curs_slk.3x.html#//apple_ref/doc/man/3/curs_slk"><b>curs_slk</b>(3X)</a>



                                                                                             <a href="curs_kernel.3x.html#//apple_ref/doc/man/3/curs_kernel">curs_kernel(3X)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/ripoffline.3x.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/ripoffline.3x.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/ripoffline.3x.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
