<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SndRecord (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING38></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-37.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-39.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-13.html"><B>Chapter 1 - Introduction to Sound on the Macintosh</B></A> / <A HREF="Sound-31.html"><B>Sound Reference</B></A><BR><DL><DD><A HREF="Sound-32.html"><B>Routines</B></A> / <A HREF="Sound-37.html"><B>Recording Sounds</B></A></DL></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING38-0></A>
<H3>SndRecord<A NAME=MARKER-2-195></A></H3>
 <A NAME=MARKER-2-241></A>You can use the <CODE>SndRecord</CODE> function to record sound resources into memory.<P>
<PRE>
FUNCTION SndRecord (filterProc: ProcPtr; corner: Point; 
                     quality: OSType; VAR sndHandle: Handle): 
                     OSErr;
</PRE>
<DL>
<DT><CODE>filterProc</CODE>
<DD> A pointer to an event filter function that determines how user actions in the sound recording dialog box are filtered (similar to the <CODE>filterProc</CODE> parameter specified in a call to the <CODE>ModalDialog</CODE> procedure). By specifying your own filter function, you can override or add to the default actions of the items in the dialog box. If <CODE>filterProc</CODE> isn't <CODE>NIL</CODE>, <CODE>SndRecord</CODE> filters events by calling the function that <CODE>filterProc</CODE> points to.
<DT><CODE>corner</CODE>
<DD> The horizontal and vertical coordinates of the upper-left corner of the sound recording dialog box (in global coordinates).
<DT><CODE>quality</CODE>
<DD> The desired quality of the recorded sound.
<DT><CODE>sndHandle</CODE>
<DD> On entry, a handle to some storage space or <CODE>NIL</CODE>. On exit, a handle to a valid sound resource (or unchanged, if the call did not execute successfully).
</DL>
<A NAME=HEADING38-7></A>
<H5>DESCRIPTION</H5>
 The <CODE>SndRecord</CODE> function records sound into memory. The recorded data has the structure of a format 1 <CODE>'snd '</CODE> resource and can later be played using the <CODE>SndPlay</CODE> function or can be stored as a resource. <CODE>SndRecord</CODE> displays a sound recording dialog box and is always called synchronously. Controls in the dialog box allow the user to start, stop, pause, and resume sound recording, as well as to play back the recorded sound. The dialog box also lists the remaining recording time and the current microphone sound level.<P>
 The <CODE>quality</CODE> parameter defines the desired quality of the recorded sound. Currently, three values are recognized for the <CODE>quality</CODE> parameter:<P>
<PRE>
CONST
   siBestQuality        = 'best';   {the best quality available}
   siBetterQuality      = 'betr';   {a quality better than good}
   siGoodQuality        = 'good';   {a good quality}
</PRE>
 The precise meanings of these parameters are defined by the sound input device driver. For Apple-supplied drivers, this parameter determines whether the recorded sound is to be compressed, and if so, whether at a 6:1 or a 3:1 ratio. The quality <CODE>siBestQuality</CODE> does not compress the sound and provides the best quality output, but at the expense of increased memory use. The quality <CODE>siBetterQuality</CODE> is suitable for most nonvoice recording, and <CODE>siGoodQuality</CODE> is suitable for voice recording.<P>
 The <CODE>sndHandle</CODE> parameter is a handle to some storage space. If the handle is <CODE>NIL</CODE>, the Sound Input Manager allocates a handle of the largest amount of space that it can find in your application's heap and returns this handle in the <CODE>sndHandle</CODE> parameter. The Sound Input Manager resizes the handle when the user clicks the Save button in the sound recording dialog box. If the <CODE>sndHandle</CODE> parameter passed to <CODE>SndRecord</CODE> is not <CODE>NIL</CODE>, the Sound Input Manager simply stores the recorded data in the location specified by that handle.<P>
<A NAME=HEADING38-13></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Because the <CODE>SndRecord</CODE> function moves memory, you should not call it at interrupt time.<P>
<A NAME=HEADING38-15></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for the <CODE>SndRecord</CODE> function are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_SoundDispatch<TD>$08040014</TABLE>
<P>
<A NAME=HEADING38-17></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>userCanceledErr<TD>-128<TD>User canceled the operation<TR>
<TD>siBadSoundInDevice<TD>-221<TD>Invalid sound input device<TR>
<TD>siUnknownQuality<TD>-232<TD>Unknown quality<A NAME=MARKER-9-10></A></TABLE>
</H5>
<A NAME=HEADING38-18></A>
<H5>SEE ALSO</H5>
 For an example of how to record a sound resource using the <CODE>SndRecord</CODE> function, see <A HREF=Sound-27.html#MARKER-9-193>"Recording a Sound Resource" on page 1-28</A>. See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for a complete description of event filter functions.<A NAME=MARKER-2-242></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-37.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-39.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
