<html><head><title>Mac OS X
 Manual Page For setkey(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/setkey" title="Mac OS X
 Manual Page for setkey(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/setkey"; name=setkey(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SETKEY(8)                 BSD System Manager's Manual                SETKEY(8)

<b>NAME</b>
     <b>setkey</b> -- manually manipulate the IPsec SA/SP database

<b>SYNOPSIS</b>
     <b>setkey</b> [<b>-knrv</b>] <u>file</u> <u>...</u>
     <b>setkey</b> [<b>-knrv</b>] <b>-c</b>
     <b>setkey</b> [<b>-krv</b>] <b>-f</b> <u>filename</u>
     <b>setkey</b> [<b>-aklPrv</b>] <b>-D</b>
     <b>setkey</b> [<b>-Pvp</b>] <b>-F</b>
     <b>setkey</b> [<b>-H</b>] <b>-x</b>
     <b>setkey</b> [<b>-?V</b>]

<b>DESCRIPTION</b>
     <b>setkey</b> adds, updates, dumps, or flushes Security Association Database (SAD) entries as well as Security
     Policy Database (SPD) entries in the kernel.

     <b>setkey</b> takes a series of operations from standard input (if invoked with <b>-c</b>) or the file named <u>filename</u>
     (if invoked with <b>-f</b> <u>filename</u>).

     (no flag)
             Dump the SAD entries or SPD entries contained in the specified <u>file</u>.

     <b>-</b>?      Print short help.

     <b>-a</b>      <b>setkey</b> usually does not display dead SAD entries with <b>-D</b>.  If <b>-a</b> is also specified, the dead
             SAD entries will be displayed as well.  A dead SAD entry is one that has expired but remains in
             the system because it is referenced by some SPD entries.

     <b>-D</b>      Dump the SAD entries.  If <b>-P</b> is also specified, the SPD entries are dumped.  If <b>-p</b> is speci-<font color="#ffffff" class="whiteout">fied,&nbsp;specified,</font>
             fied, the ports are displayed.

     <b>-F</b>      Flush the SAD entries.  If <b>-P</b> is also specified, the SPD entries are flushed.

     <b>-H</b>      Add hexadecimal dump in <b>-x</b> mode.

     <b>-h</b>      On NetBSD, synonym for <b>-H</b>.  On other systems, synonym for <b>-</b>?.

     <b>-k</b>      Use semantics used in kernel.  Available only in Linux.  See also <b>-r</b>.

     <b>-l</b>      Loop forever with short output on <b>-D</b>.

     <b>-n</b>      No action.  The program will check validity of the input, but no changes to the SPD will be
             made.

     <b>-r</b>      Use semantics described in IPsec RFCs.  This mode is default.  For details see section <u>RFC</u> <u>vs</u>
             <u>Linux</u> <u>kernel</u> <u>semantics</u>.  Available only in Linux.  See also <b>-k</b>.

     <b>-x</b>      Loop forever and dump all the messages transmitted to the PF_KEY socket.  <b>-xx</b> prints the unfor-<font color="#ffffff" class="whiteout">matted&nbsp;unformatted</font>
             matted timestamps.

     <b>-V</b>      Print version string.

     <b>-v</b>      Be verbose.  The program will dump messages exchanged on the PF_KEY socket, including messages
             sent from other processes to the kernel.

   <b>Configuration</b> <b>syntax</b>
     With <b>-c</b> or <b>-f</b> on the command line, <b>setkey</b> accepts the following configuration syntax.  Lines starting
     with hash signs (`#') are treated as comment lines.

     add [<b>-46n</b>] <u>src</u> <u>dst</u> <u>protocol</u> <u>spi</u> [<u>extensions</u>] <u>algorithm</u> <u>...</u> ;
             Add an SAD entry.  add can fail for multiple reasons, including when the key length does not
             match the specified algorithm.

     get [<b>-46n</b>] <u>src</u> <u>dst</u> <u>protocol</u> <u>spi</u> ;
             Show an SAD entry.

     delete [<b>-46n</b>] <u>src</u> <u>dst</u> <u>protocol</u> <u>spi</u> ;
             Remove an SAD entry.

     deleteall [<b>-46n</b>] <u>src</u> <u>dst</u> <u>protocol</u> ;
             Remove all SAD entries that match the specification.

     flush [<u>protocol</u>] ;
             Clear all SAD entries matched by the options.  <b>-F</b> on the command line achieves the same func-<font color="#ffffff" class="whiteout">tionality.&nbsp;functionality.</font>
             tionality.

     dump [<u>protocol</u>] ;
             Dumps all SAD entries matched by the options.  <b>-D</b> on the command line achieves the same func-<font color="#ffffff" class="whiteout">tionality.&nbsp;functionality.</font>
             tionality.

     spdadd [<b>-46n</b>] <u>src</u><b>_</b><u>range</u> <u>dst</u><b>_</b><u>range</u> <u>upperspec</u> <u>policy</u> ;
             Add an SPD entry.

     spdadd tagged <u>tag</u> <u>policy</u> ;
             Add an SPD entry based on a PF tag.  <u>tag</u> must be a string surrounded by double quotes.

     spddelete [<b>-46n</b>] <u>src</u><b>_</b><u>range</u> <u>dst</u><b>_</b><u>range</u> <u>upperspec</u> <b>-P</b> <u>direction</u> ;
             Delete an SPD entry.

     spdflush ;
             Clear all SPD entries.  <b>-FP</b> on the command line achieves the same functionality.

     spddump ;
             Dumps all SPD entries.  <b>-DP</b> on the command line achieves the same functionality.

     Meta-arguments are as follows:

     <u>src</u>
     <u>dst</u>     Source/destination of the secure communication is specified as an IPv4/v6 address, and an
             optional port number between square brackets.  <b>setkey</b> can resolve a FQDN into numeric
             addresses.  If the FQDN resolves into multiple addresses, <b>setkey</b> will install multiple SAD/SPD
             entries into the kernel by trying all possible combinations.  <b>-4</b>, <b>-6</b>, and <b>-n</b> restrict the
             address resolution of FQDN in certain ways.  <b>-4</b> and <b>-6</b> restrict results into IPv4/v6 addresses
             only, respectively.  <b>-n</b> avoids FQDN resolution and requires addresses to be numeric addresses.

     <u>protocol</u>
             <u>protocol</u> is one of following:
             esp         ESP based on rfc2406
             esp-old     ESP based on rfc1827
             ah          AH based on rfc2402
             ah-old      AH based on rfc1826
             ipcomp      IPComp
             tcp         TCP-MD5 based on rfc2385

     <u>spi</u>     Security Parameter Index (SPI) for the SAD and the SPD.  <u>spi</u> must be a decimal number, or a
             hexadecimal number with a ``0x'' prefix.  SPI values between 0 and 255 are reserved for future
             use by IANA and cannot be used.  TCP-MD5 associations must use 0x1000 and therefore only have
             per-host granularity at this time.

     <u>extensions</u>
             take some of the following:
             <b>-m</b> <u>mode</u>     Specify a security protocol mode for use.  <u>mode</u> is one of following: transport,
                         tunnel, or any.  The default value is any.
             <b>-r</b> <u>size</u>     Specify window size of bytes for replay prevention.  <u>size</u> must be decimal number in
                         32-bit word.  If <u>size</u> is zero or not specified, replay checks don't take place.
             <b>-u</b> <u>id</u>       Specify the identifier of the policy entry in the SPD.  See <u>policy</u>.
             <b>-f</b> <u>pad</u><b>_</b><u>option</u>
                         defines the content of the ESP padding.  <u>pad</u><b>_</b><u>option</u> is one of following:
                         zero-pad    All the paddings are zero.
                         random-pad  A series of randomized values are used.
                         seq-pad     A series of sequential increasing numbers started from 1 are used.
             <b>-f</b> nocyclic-seq
                         Don't allow cyclic sequence numbers.
             <b>-lh</b> <u>time</u>
             <b>-ls</b> <u>time</u>    Specify hard/soft life time duration of the SA measured in seconds.
             <b>-bh</b> <u>bytes</u>
             <b>-bs</b> <u>bytes</u>   Specify hard/soft life time duration of the SA measured in bytes transported.

     <u>algorithm</u>
             <b>-E</b> <u>ealgo</u> <u>key</u>
                         Specify an encryption algorithm <u>ealgo</u> for ESP.
             <b>-E</b> <u>ealgo</u> <u>key</u> <b>-A</b> <u>aalgo</u> <u>key</u>
                         Specify an encryption algorithm <u>ealgo</u>, as well as a payload authentication algo-<font color="#ffffff" class="whiteout">rithm&nbsp;algorithm</font>
                         rithm <u>aalgo</u>, for ESP.
             <b>-A</b> <u>aalgo</u> <u>key</u>
                         Specify an authentication algorithm for AH.
             <b>-C</b> <u>calgo</u> [<b>-R</b>]
                         Specify a compression algorithm for IPComp.  If <b>-R</b> is specified, the <u>spi</u> field
                         value will be used as the IPComp CPI (compression parameter index) on wire as-is.
                         If <b>-R</b> is not specified, the kernel will use well-known CPI on wire, and <u>spi</u> field
                         will be used only as an index for kernel internal usage.

             <u>key</u> must be a double-quoted character string, or a series of hexadecimal digits preceded by
             ``0x''.

             Possible values for <u>ealgo</u>, <u>aalgo</u>, and <u>calgo</u> are specified in the <u>Algorithms</u> sections.

     <u>src</u><b>_</b><u>range</u>
     <u>dst</u><b>_</b><u>range</u>
             These select the communications that should be secured by IPsec.  They can be an IPv4/v6
             address or an IPv4/v6 address range, and may be accompanied by a TCP/UDP port specification.
             This takes the following form:

             <u>address</u>
             <u>address/prefixlen</u>
             <u>address[port]</u>
             <u>address/prefixlen[port]</u>

             <u>prefixlen</u> and <u>port</u> must be decimal numbers.  The square brackets around <u>port</u> are really neces-<font color="#ffffff" class="whiteout">sary,&nbsp;necessary,</font>
             sary, they are not man page meta-characters.  For FQDN resolution, the rules applicable to <u>src</u>
             and <u>dst</u> apply here as well.

     <u>upperspec</u>
             Upper-layer protocol to be used.  You can use one of the words in <u>/etc/protocols</u> as <u>upperspec</u>,
             or icmp6, ip4, or any.  any stands for ``any protocol''.  You can also use the protocol number.
             You can specify a type and/or a code of ICMPv6 when the upper-layer protocol is ICMPv6.  The
             specification can be placed after icmp6.  A type is separated from a code by single comma.  A
             code must always be specified.  When a zero is specified, the kernel deals with it as a wild-<font color="#ffffff" class="whiteout">card.&nbsp;wildcard.</font>
             card.  Note that the kernel can not distinguish a wildcard from an ICPMv6 type of zero.  For
             example, the following means that the policy doesn't require IPsec for any inbound Neighbor
             Solicitation.
                   spdadd ::/0 ::/0 icmp6 135,0 -P in none;

             <u>Note</u>: <u>upperspec</u> does not work against forwarding case at this moment, as it requires extra
             reassembly at the forwarding node (not implemented at this moment).  There are many protocols
             in <u>/etc/protocols</u>, but all protocols except of TCP, UDP, and ICMP may not be suitable to use
             with IPsec.  You have to consider carefully what to use.

     <u>policy</u>  <u>policy</u> is in one of the following three formats:

           <b>-P</b> <u>direction</u> <u>[priority</u> <u>specification]</u> discard
           <b>-P</b> <u>direction</u> <u>[priority</u> <u>specification]</u> none
           <b>-P</b> <u>direction</u> <u>[priority</u> <u>specification]</u> ipsec
                   <u>protocol/mode/src-dst/level</u> [...]

             You must specify the direction of its policy as <u>direction</u>.  Either <u>out</u>, <u>in</u>, or <u>fwd</u> can be used.

             <u>priority</u> <u>specification</u> is used to control the placement of the policy within the SPD.  Policy
             position is determined by a signed integer where higher priorities indicate the policy is
             placed closer to the beginning of the list and lower priorities indicate the policy is placed
             closer to the end of the list.  Policies with equal priorities are added at the end of groups
             of such policies.

             Priority can only be specified when setkey has been compiled against kernel headers that sup-<font color="#ffffff" class="whiteout">port&nbsp;support</font>
             port policy priorities (Linux &gt;= 2.6.6).  If the kernel does not support priorities, a warning
             message will be printed the first time a priority specification is used.  Policy priority takes
             one of the following formats:

             <u>{priority,prio}</u> <u>offset</u>
                      <u>offset</u> is an integer in the range from -2147483647 to 214783648.

             <u>{priority,prio}</u> <u>base</u> <u>{+,-}</u> <u>offset</u>
                      <u>base</u> is either low (-1073741824), def (0), or high (1073741824)

                      <u>offset</u> is an unsigned integer.  It can be up to 1073741824 for positive offsets, and
                      up to 1073741823 for negative offsets.

             discard means the packet matching indexes will be discarded.  none means that IPsec operation
             will not take place onto the packet.  ipsec means that IPsec operation will take place onto the
             packet.

             The <u>protocol/mode/src-dst/level</u> part specifies the rule how to process the packet.  Either ah,
             esp, or ipcomp must be used as <u>protocol</u>.  <u>mode</u> is either transport or tunnel.  If <u>mode</u> is
             tunnel, you must specify the end-point addresses of the SA as <u>src</u> and <u>dst</u> with `-' between
             these addresses, which is used to specify the SA to use.  If <u>mode</u> is transport, both <u>src</u> and
             <u>dst</u> can be omitted.  <u>level</u> is to be one of the following: default, use, require, or unique.  If
             the SA is not available in every level, the kernel will ask the key exchange daemon to estab-<font color="#ffffff" class="whiteout">lish&nbsp;establish</font>
             lish a suitable SA.  default means the kernel consults the system wide default for the protocol
             you specified, e.g. the esp_trans_deflev sysctl variable, when the kernel processes the packet.
             use means that the kernel uses an SA if it's available, otherwise the kernel keeps normal oper-<font color="#ffffff" class="whiteout">ation.&nbsp;operation.</font>
             ation.  require means SA is required whenever the kernel sends a packet matched with the pol-<font color="#ffffff" class="whiteout">icy.&nbsp;policy.</font>
             icy.  unique is the same as require; in addition, it allows the policy to match the unique out-<font color="#ffffff" class="whiteout">bound&nbsp;outbound</font>
             bound SA.  You just specify the policy level unique, <a href="racoon.8.html#//apple_ref/doc/man/8/racoon">racoon(8)</a> will configure the SA for the
             policy.  If you configure the SA by manual keying for that policy, you can put a decimal number
             as the policy identifier after unique separated by a colon `:' like: unique:number in order to
             bind this policy to the SA.  number must be between 1 and 32767.  It corresponds to <u>extensions</u>
             <b>-u</b> of the manual SA configuration.  When you want to use SA bundle, you can define multiple
             rules.  For example, if an IP header was followed by an AH header followed by an ESP header
             followed by an upper layer protocol header, the rule would be:
                   esp/transport//require ah/transport//require;
             The rule order is very important.

             When NAT-T is enabled in the kernel, policy matching for ESP over UDP packets may be done on
             endpoint addresses and port (this depends on the system.  System that do not perform the port
             check cannot support multiple endpoints behind the same NAT).  When using ESP over UDP, you can
             specify port numbers in the endpoint addresses to get the correct matching.  Here is an exam-<font color="#ffffff" class="whiteout">ple:&nbsp;example:</font>
             ple:

             spdadd 10.0.11.0/24[any] 10.0.11.33/32[any] any -P out ipsec
                 esp/tunnel/192.168.0.1[4500]-192.168.1.2[30000]/require ;

             These ports must be left unspecified (which defaults to 0) for anything other than ESP over
             UDP.  They can be displayed in SPD dump using <b>setkey</b> <b>-DPp</b>.

             Note that ``discard'' and ``none'' are not in the syntax described in <a href="../man3/ipsec_set_policy.3.html#//apple_ref/doc/man/3/ipsec_set_policy">ipsec_set_policy(3)</a>.
             There are a few differences in the syntax.  See <a href="../man3/ipsec_set_policy.3.html#//apple_ref/doc/man/3/ipsec_set_policy">ipsec_set_policy(3)</a> for detail.

   <b>Algorithms</b>
     The following list shows the supported algorithms.  <b>protocol</b> and <b>algorithm</b> are almost orthogonal.
     These authentication algorithms can be used as <u>aalgo</u> in <b>-A</b> <u>aalgo</u> of the <u>protocol</u> parameter:

           algorithm       keylen (bits)
           hmac-md5        128             ah: rfc2403
                           128             ah-old: rfc2085
           hmac-sha1       160             ah: rfc2404
                           160             ah-old: 128bit ICV (no document)
           keyed-md5       128             ah: 96bit ICV (no document)
                           128             ah-old: rfc1828
           keyed-sha1      160             ah: 96bit ICV (no document)
                           160             ah-old: 128bit ICV (no document)
           null            0 to 2048       for debugging
           hmac-sha256     256             ah: 96bit ICV
                                           (draft-ietf-ipsec-ciph-sha-256-00)
                           256             ah-old: 128bit ICV (no document)
           hmac-sha384     384             ah: 96bit ICV (no document)
                           384             ah-old: 128bit ICV (no document)
           hmac-sha512     512             ah: 96bit ICV (no document)
                           512             ah-old: 128bit ICV (no document)
           hmac-ripemd160  160             ah: 96bit ICV (RFC2857)
                                           ah-old: 128bit ICV (no document)
           aes-xcbc-mac    128             ah: 96bit ICV (RFC3566)
                           128             ah-old: 128bit ICV (no document)
           tcp-md5         8 to 640        tcp: rfc2385

     These encryption algorithms can be used as <u>ealgo</u> in <b>-E</b> <u>ealgo</u> of the <u>protocol</u> parameter:

           algorithm       keylen (bits)
           des-cbc         64              esp-old: rfc1829, esp: rfc2405
           3des-cbc        192             rfc2451
           null            0 to 2048       rfc2410
           blowfish-cbc    40 to 448       rfc2451
           cast128-cbc     40 to 128       rfc2451
           des-deriv       64              ipsec-ciph-des-derived-01
           3des-deriv      192             no document
           rijndael-cbc    128/192/256     rfc3602
           twofish-cbc     0 to 256        draft-ietf-ipsec-ciph-aes-cbc-01
           aes-ctr         160/224/288     draft-ietf-ipsec-ciph-aes-ctr-03

     Note that the first 128 bits of a key for aes-ctr will be used as AES key, and the remaining 32 bits
     will be used as nonce.

     These compression algorithms can be used as <u>calgo</u> in <b>-C</b> <u>calgo</u> of the <u>protocol</u> parameter:

           algorithm
           deflate         rfc2394

   <b>RFC</b> <b>vs</b> <b>Linux</b> <b>kernel</b> <b>semantics</b>
     The Linux kernel uses the <u>fwd</u> policy instead of the <u>in</u> policy for packets what are forwarded through
     that particular box.

     In <u>kernel</u> mode, <b>setkey</b> manages and shows policies and SAs exactly as they are stored in the kernel.

     In <u>RFC</u> mode, <b>setkey</b>

     creates <u>fwd</u> policies for every <u>in</u> policy inserted

     (not implemented yet) filters out all <u>fwd</u> policies

<b>RETURN</b> <b>VALUES</b>
     The command exits with 0 on success, and non-zero on errors.

<b>EXAMPLES</b>
     add 3ffe:501:4819::1 3ffe:501:481d::1 esp 123457
             -E des-cbc 0x3ffe05014819ffff ;

     add -6 myhost.example.com yourhost.example.com ah 123456
             -A hmac-sha1 "AH SA configuration!" ;

     add 10.0.11.41 10.0.11.33 esp 0x10001
             -E des-cbc 0x3ffe05014819ffff
             -A hmac-md5 "authentication!!" ;

     get 3ffe:501:4819::1 3ffe:501:481d::1 ah 123456 ;

     flush ;

     dump esp ;

     spdadd 10.0.11.41/32[21] 10.0.11.33/32[any] any
             -P out ipsec esp/tunnel/192.168.0.1-192.168.1.2/require ;

     add 10.1.10.34 10.1.10.36 tcp 0x1000 -A tcp-md5 "TCP-MD5 BGP secret" ;

<b>SEE</b> <b>ALSO</b>
     <a href="../man3/ipsec_set_policy.3.html#//apple_ref/doc/man/3/ipsec_set_policy">ipsec_set_policy(3)</a>, <a href="racoon.8.html#//apple_ref/doc/man/8/racoon">racoon(8)</a>, <a href="sysctl.8.html#//apple_ref/doc/man/8/sysctl">sysctl(8)</a>

     <u>Changed</u> <u>manual</u> <u>key</u> <u>configuration</u> <u>for</u> <u>IPsec</u>, October 1999, <a href="http://www.kame.net/newsletter/19991007/">http://www.kame.net/newsletter/19991007/</a>

<b>HISTORY</b>
     The <b>setkey</b> command first appeared in the WIDE Hydrangea IPv6 protocol stack kit.  The command was com-
     pletely re-designed in June 1998.

<b>BUGS</b>
     <b>setkey</b> should report and handle syntax errors better.

     For IPsec gateway configuration, <u>src</u><b>_</b><u>range</u> and <u>dst</u><b>_</b><u>range</u> with TCP/UDP port numbers does not work, as
     the gateway does not reassemble packets (it cannot inspect upper-layer headers).

BSD                             March 19, 2004                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/setkey.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/setkey.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/setkey.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
