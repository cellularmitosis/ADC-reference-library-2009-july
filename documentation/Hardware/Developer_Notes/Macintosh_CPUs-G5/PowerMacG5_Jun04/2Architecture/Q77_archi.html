<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Power Mac G5 Developer Note: Architecture</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Architecture"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001397-CH206" title="Architecture"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware &amp; Drivers</a> &gt; <!--a  -->Apple Hardware<!--/a--> &gt; <a href="../0Preface/Q77_pref.html#//apple_ref/doc/uid/TP40001397-CH204-DontLinkElementID_3">Power Mac G5 Developer Note</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../1Overview/Q77_overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../3Input-Output/Q77_innout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_12" title="Architecture"></a><h1><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF101" title="Architecture"></a>Architecture</h1><p>This chapter describes the architecture of the Power Mac G5. It includes information about the major components on the logic boards: the microprocessor, the other main ICs, and the buses that connect them to each other and to the I/O interfaces. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF102">Block Diagram and Buses</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF103">Processor Module</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF107">Bridge and Memory Controller</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF132">HyperTransport Technology</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-BAJEEHBJ">PCI USB Controller</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF115">K2 I/O Controller</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF125">Graphics Cards</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF133">Fan Controller</a>
				
			<br/>
			
        
			
			
				<a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF135">Liquid Cooling System</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF102" title="Block Diagram and Buses"></a><h2>Block Diagram and Buses</h2><p>The architecture of the Power Mac G5 is based on the PowerPC G5 microprocessor, and two custom ICs: the U3 or U3H memory controller and bus bridge and the K2 I/O controller. </p><p><span class="content_text"><a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-BCIDGEEE">Figure 2-1</a></span> is a simplified block diagram of the dual processor 1.8 GHz Power Mac G5. The diagram shows the U3 and K2 ICs and the buses that connect them together.<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_100"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_101"></a></p><p><span class="content_text"><a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-BCIHCCCI">Figure 2-2</a></span> is a simplified block diagram of the dual processor 2.0 and 2.5 GHz Power Mac G5. The diagram shows the U3H and K2 ICs and the buses that connect them together.<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_102"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_103"></a></p><br/><div><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_13" title="Figure 2-1block diagram for dual 1.8 GHz configuration"></a><p><a name="//apple_ref/doc/uid/TP40001397-CH206-BCIDGEEE" title="Figure 2-1block diagram for dual 1.8 GHz configuration"></a><strong>Figure 2-1&nbsp;&nbsp;</strong>block diagram for dual 1.8 GHz configuration</p><img src = "../art/040177001721_01b.gif" alt = "block diagram for dual 1.8 GHz configuration" width="619" height="672"></div><br/><br/><div><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_14" title="Figure 2-2block diagram for dual 2.0 and 2.5 GHz configurations"></a><p><a name="//apple_ref/doc/uid/TP40001397-CH206-BCIHCCCI" title="Figure 2-2block diagram for dual 2.0 and 2.5 GHz configurations"></a><strong>Figure 2-2&nbsp;&nbsp;</strong>block diagram for dual 2.0 and 2.5 GHz configurations</p><img src = "../art/040177001721_01c.gif" alt = "block diagram for dual 2.0 and 2.5 GHz configurations" width="619" height="672"></div><br/><p>The Power Mac G5 computer has the following data buses, not counting the processor’s dedicated interface to the backside cache. </p><ul class="ul"><li class="li"><p>Dual processor bus: 900/1000/1250 MHz (running at half the speed of the processor), 64-bit data throughput per processor connecting the processor module to the U3 or U3H IC<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_104"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_105"></a></p></li><li class="li"><p>Dual processor systems have two independent 64-bit processor buses</p></li><li class="li"><p>Memory bus: 400 MHz, 128-bit bus connecting the main DDR SDRAM memory to the U3 or U3H IC<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_106"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_107"></a></p></li><li class="li"><p>8x AGP Pro bus: 266/533 MHz, 32-bit bus connecting the AGP graphics card to the U3 or U3H IC<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_108"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_109"></a></p></li><li class="li"><p>PCI bus: some configurations support three 64-bit 33 MHz PCI slots<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_110"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_111"></a></p></li><li class="li"><p>PCI-X bridge bus: some configurations support three 64-bit PCI-X slots: two 100 MHz and one 133 MHz<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_112"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_113"></a></p></li><li class="li"><p>Internal PCI bus: 33 MHz, 64-bit bus supports the K2 I/O controller, the boot ROM, the AirPort Extreme Card slot, the USB controller, and in some configurations the Bluetooth module<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_114"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_115"></a></p></li><li class="li"><p> Serial ATA (SATA) buses: support 1.5 Gbps internal hard drive connectors</p></li><li class="li"><p>Ultra DMA ATA/100 bus: supports internal optical drive</p></li><li class="li"><p>HyperTransport: high-speed, bidirectional, point-to-point link for integrated circuits supports bidirectional data rates up to 4.8 GBps, on applicable configurations</p></li></ul><p>The remainder of this chapter describes the architecture of the processor module, the U3 or U3H memory controller and bridge IC, the K2 I/O controller IC, and the USB controllers. </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF103" title="Processor Module"></a><h2>Processor Module</h2><p>The dual processor Power Mac G5 contains two identical PowerPC G5 processor modules. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_116"></a>Each processor module is connected to the main logic board by a 300-pin connector. To achieve the required level of performance, the signal lines that connect the processor module and the main logic board are carefully matched in length, loading, and impedance. </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF104" title="PowerPC G5 Microprocessor"></a><h3>PowerPC G5 Microprocessor</h3><p>The PowerPC G5 used in the Power Mac G5 computer has the following features:<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_117"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_118"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_119"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_120"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_121"></a></p><ul class="spaceabove"><li class="li"><p>64-bit PowerPC implementation with 42-bit physical memory addressing</p></li><li class="li"><p>core runs at twice the bus speed</p></li><li class="li"><p>superscalar execution core supporting more than 200 in-flight instructions</p></li><li class="li"><p>two independent double-precision floating point units </p></li><li class="li"><p>Velocity Engine: 128-bit-wide vector execution unit </p></li><li class="li"><p>64K L1 instruction cache, 32K L1 data cache per processor</p></li><li class="li"><p>fully symmetric multiprocessing capability </p></li><li class="li"><p>built-in 512 KB backside L2 cache per processor</p></li><li class="li"><p>two independent, unidirectional 900 MHz to 1.25 GHz frontside buses each supporting up to 8 GBps data throughput per processor</p></li></ul><p>For more information, see the reference at <span class="content_text"><a href="../aReferences/Q77_refs.html#//apple_ref/doc/uid/TP40001397-CH209-TPXREF102">“PowerPC G5 Microprocessor.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF107" title="Bridge and Memory Controller"></a><h2>Bridge and Memory Controller</h2><p>The U3 or U3H custom IC is at the heart of the Power Mac G5 computer. It provides the bridging functionality among the processors, the memory system, HyperTransport bus to the PCI-based I/O system, and the AGP slot. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_122"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_123"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_124"></a></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF108" title="Processor Bus"></a><h3>Processor Bus</h3><p>The processor bus is a 900 MHz, 1 GHz, or 1.25 GHz bus connecting the processor module to the U3 or U3H IC. The bus has 64-bit wide data and 36-bit wide addresses. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_125"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_126"></a></p><p>The Power Mac G5 system controller is built with 130-nanometer, SOI technology. This super-efficient point-to-point architecture provides each subsystem with dedicated bandwidth to main memory. The Power Mac G5 uses separate processor boards with each PowerPC G5 processor; two processor boards are used for the Power Mac G5’s dual processor design.  The U3 and U3H I/Os implement two independent processor interfaces. The processor’s speed is 1.8 GHz on the U3 and 2.0 GHz and 2.5 GHz on the U3H, and the processors connect to the I/O through the processor interface. The processor clock is derived from a PLL which multiplies the reference clock by preset intervals of 6 or 8 times.</p><p>Out-of-order completion allows the memory controller to optimize the data bus efficiency by transferring whichever data is ready, rather than having to pass data across the bus in the order the transactions were posted on the bus. This means that a fast DDR SDRAM read can pass a slow PCI read, potentially enabling the processor to do more before it has to wait on the PCI data. </p><p>Intervention is a cache-coherency optimization that improves performance for dual-processor systems. If one processor modifies some data, that data first gets stored only in that processor’s cache. If the other processor then wants that data, it needs to get the new modified values. </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF109" title="Main Memory Bus"></a><h3>Main Memory Bus</h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_127"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_128"></a><p>The Power Mac G5 computer main memory bus connects the main memory to the U3 or U3H IC via the 128-bit data bus. The memory modules are 400 MHz (PC3200) DDR SDRAM DIMMs with a per system maximum of 4 GB or 8 GB, depending on the configuration.</p><p>Standard supported DIMM sizes are 128, 256, 512 MB, and 1 GB. The DIMMs must be unbuffered and installed in pairs of the same size. </p><p>For more information about memory DIMMs and installation, see <span class="content_text"><a href="../4Expansion/Q77_expan.html#//apple_ref/doc/uid/TP40001397-CH208-TPXREF102">“RAM Expansion.”</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF110" title="Accelerated Graphics Port Bus"></a><h3>Accelerated Graphics Port Bus</h3><p>The accelerated graphics port (AGP 8x Pro) bus is a 266/533 MHz, 32-bit bus connecting the AGP card to the U3 or U3H IC. DDR data is transmitted at both edges of the clock for peak transfers of 2.1 GBps. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_129"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_130"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_131"></a></p><p>The AGP bus is an enhanced PCI bus with extra functionality to burst texture data and other graphics across the port up to 8 times faster than a 66 MHz PCI port. The Power Mac G5 computer’s AGP implementation is compatible with version 3 of the AGP specification and with the Pro version of AGP. AGP 3.0 enables deeply pipelined memory read and write operations and demultiplexing of address and data on the bus.</p><p>To further improve the performance of the AGP bus, the U3 or U3H IC supports a graphics address remapping table (GART). Because the virtual memory system organizes main memory as randomly distributed 4 KB pages, DMA transactions for more than 4 KB of data must perform scatter-gather operations. To avoid this necessity for AGP transactions, the GART is used by the AGP bridge in the U3 or U3H to translate a linear address space for AGP transactions into physical addresses in main memory. </p><p>The U3 or U3H IC also supports a DMA Address Relocation Table (DART) that provides the same functions for AGP as does the GART, except that the functions are for devices attached to HyperTransport.  Most device drivers do not require special knowledge of the DART because IOKit will configure it automatically if the driver uses IOMemoryDescriptors. </p><p>For more information on the graphics cards installed in the AGP slot, refer to <span class="content_text"><a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF125">“Graphics Cards.”</a></span></p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_15" title="Note"></a><p><strong>Note:</strong>&nbsp;The AGP bus is 1.5 V only and is not backward compatible. Older AGP cards will not work in the Power Mac G5 computer.</p></div><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF111" title="Internal PCI Bus "></a><h3>Internal PCI Bus </h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_132"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_133"></a><p>An internal 33 MHz, 64-bit PCI bus connects the K2 I/O controller to the boot ROM, the AirPort Extreme Card slot, and the USB controller. The U3 or U3H IC used in the Power Mac G5 computer supports the PCI write combining feature. This feature allows sequential write transactions involving the Memory Write or Memory Write and Invalidate commands to be combined into a single PCI transaction. For memory write transactions to be combined, they must be sequential, ascending, and non-overlapping PCI addresses. Placing an <code>eieio</code> or <code>sync</code> command between the write commands prevents any write combining. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_134"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_135"></a></p><p>For more information on the PCI bus, refer to <span class="content_text"><a href="../4Expansion/Q77_expan.html#//apple_ref/doc/uid/TP40001397-CH208-TPXREF108">“PCI or PCI-X Expansion Slots.”</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-BCIBABJE" title="PCI or PCI-X Expansion Slots "></a><h3>PCI or PCI-X Expansion Slots </h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_136"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_137"></a><p>In some configurations, the Power Mac G5 computer provides three 64-bit 33 MHz PCI slots that interface to the K2 I/O and share the bus with the USB controller.</p><p>In some configurations, the Power Mac G5 computer provides three PCI-X slots that interface to the HyperTransport bus via the PCI-X bridge. One slot runs at a maximum of 133 MHz and two slots run at a maximum of 100 MHz. The 133 MHz slot can support a maximum burst bandwidth of 1064 MBps, based on 64 bits times 133 MHz.  The two 100 MHz slots can support a combined bandwidth of 800 MBps. It is recommended that the highest bandwidth card be inserted in slot 4. </p><p>Each slot has room for a full size 12.335-inch or short 6.926-inch card. The slots are numbered from 2 to 4 on back panel, on the PCB, and in the Apple System Profiler. Slot one is the AGP. A total of 90 W is allocated to the three PCI or PCI-X slots and the AGP Pro slot. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_16" title="Note"></a><p><strong>Note:</strong>&nbsp;The Power Mac G5’s build-to-order ATI Radeon 9800 XT graphics card occupies both the AGP slot and the adjacent PCI slot. As a result, you can install PCI expansion cards in the slots labeled 3 and 4 but not in slot 2. To learn more about installing PCI cards, refer to “Chapter 3, Working Inside Your Computer” in the <em>Power Mac G5 User’s Guide</em> that came with your computer.</p></div><p>The connectors to the PCI or PCI-X slots are 3.3 V keyed and support 32-bit and 64-bit buses. The connectors include a PME signal which allows a PCI card to wake the computer from sleep.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_17" title="Note"></a><p><strong>Note:</strong>&nbsp;5 V keyed or signalling cards do not work in the Power Mac G5 computer.</p></div><p>The slots (12.335 inch) have a capture feature which is at the end of the slot.  If a card exceeds the short length it is recommended that the long length be used rather than an intermediate length, to assure the card stays secure if and when the system is in shipment.</p><p>For more information, refer to <span class="content_text"><a href="../4Expansion/Q77_expan.html#//apple_ref/doc/uid/TP40001397-CH208-TPXREF108">“PCI or PCI-X Expansion Slots.”</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF132" title="HyperTransport Technology"></a><h2>HyperTransport Technology</h2><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_138"></a><p>The DDR HyperTransport is an advanced chip-to-chip communications technology that provides a high-speed, high-performance, point-to-point link for integrated circuits. HyperTransport provides a universal connection that reduces the number of buses within a system.</p><p>The HyperTransport bus between the U3 and the K2 IC is 8 bits wide, supporting a total of 1.6 GBps bidirectional throughput. The HyperTransport bus between the U3H IC and the PCI-X bridge is 16 bits wide, supporting total of 4.8 GBps bidirectional throughput. Between the PCI-X bridge and the K2 IC, the bus width is 8 bits, supporting total of 1.6 GBps bidirectional throughput.</p><p>For more information on the HyperTransport technology, go to the World Wide Web at</p><p><span class="content_text"><a href="http://www.hypertransport.org" target="_blank">http://www.hypertransport.org</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-BAJEEHBJ" title="PCI USB Controller"></a><h2>PCI USB Controller</h2><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_139"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_140"></a><p>The Power Mac G5 CPU uses a PCI USB controller ASIC with one Enhanced Host Controller Interface (EHCI) function and two Open Host Controller Interface (OHCI) functions. The controller has a total of five ports available to support three external USB ports and the internal AGP slot, which goes through the AGP to support the USB hub on the Apple display. In some configurations, the USB controller also supports the Bluetooth interface. If connected to classic-speed USB devices, the two rear panel ports are connected to separate OHCI controllers.</p><p>The five USB ports comply with the Universal Serial Bus Specification 2.0. The USB register set complies with the EHCI and OHCI specifications. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_141"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_142"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_143"></a>For more information, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF102">“USB Ports.”</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF115" title="K2 I/O Controller"></a><h2>K2 I/O Controller</h2><p>The K2 custom IC provides all the I/O functions. These functions are described in the following sections.<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_144"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_145"></a></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF116" title="DMA Support"></a><h3>DMA Support</h3><p>The K2 IC provides DB-DMA (descriptor-based direct memory access) support for the following I/O channels: <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_146"></a></p><ul class="spaceabove"><li class="li"><p>Ultra ATA/100 </p></li><li class="li"><p>Ethernet interface</p></li><li class="li"><p>FireWire interface</p></li><li class="li"><p>I2S channel to the sound subsystem</p></li><li class="li"><p>Serial ATA</p></li></ul><p>The DB-DMA system provides a scatter-gather process based on memory-resident data structures that describe the data transfers. The DMA engine is enhanced to allow bursting of data files for improved performance. </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF122" title="Wireless LAN Module "></a><h3>Wireless LAN Module </h3><p>The optional AirPort Extreme wireless LAN module connects via the PCI interface. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_147"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_148"></a></p><p>The AirPort Extreme Card wireless LAN module contains a media access controller (MAC), a digital signal processor (DSP), and a radio-frequency (RF) section. The module is wired to an antenna port on the rear of the computer. </p><p>The AirPort Extreme Card is compliant with the IEEE 802.11g standard. The card transmits and receives data at up to 54 Mbps and is compatible with Apple AirPort systems as well as other 802.11b and 802.11g Wi-Fi certified products. For information about its operation, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-BCIIIHHE">“AirPort Extreme Card.”</a></span> </p><p>The build-to-order Bluetooth connectivity comes off the K2 IC in the 1.8 GHz configuration and off the PCI bus in the 2.0 and 2.5 GHz configurations. See <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF182">“Bluetooth Technology”</a></span> for more information.</p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF121" title="Modem Slot Support "></a><h3>Modem Slot Support </h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_149"></a><p>The K2 IC supports the modem and provides DB-DMA (descriptor-based direct memory access) support for the modem slot interface. In some configurations, the modem is connected via an I2S interface. In other configurations, the modem is supported via a USB interface.</p><p>The internal hardware modem is a separate module that contains a modem controller IC, a data pump, and the interface to the telephone line (DAA). For more information about the modem, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF121">“Internal Modem.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF112" title="Boot ROM"></a><h3>Boot ROM</h3><p>The boot ROM consists of 1 MB of on-board flash EEPROM. The boot ROM includes the hardware-specific code and tables needed to start up the computer using Open Firmware, to load an operating system, and to provide common hardware access services. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_150"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_151"></a></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF113" title="Ethernet Controller "></a><h3>Ethernet Controller </h3><p><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_152"></a>The K2 IC includes an Ethernet media access controller (MAC) and PHY. As a separate I/O channel on the K2 IC, it can operate at its full capacity without degrading the performance of other peripheral devices. </p><p>The MAC implements the link layer. It is connected to a PHY that is internal to K2 and provides 10Base-T/UTP, 100Base-TX, or 1000Base-TX operation over a standard twisted-pair interface. The Ethernet port is auto-sensing and self-configuring to allow use of either a cross-over or straight-through cable. The operating speed of the link is automatically negotiated by the PHY and the bridge, router, hub, switch, or other Mac or PC to which the Ethernet port is connected. </p><p>For information about the Ethernet port, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF111">“Ethernet Port.”</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF114" title="FireWire Controllers"></a><h3>FireWire Controllers</h3><p><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_153"></a>The K2 IC includes a FireWire controller that supports both IEEE 1394b (FireWire 800) with a maximum data rate of 800 Mbps (100 MBps) and IEEE 1394a (FireWire 400) with a maximum data rate of 400 Mbps (50 MBps). The IC is backwards-compatible with 1394a (FireWire 400). The K2 IC provides DMA (direct memory access) support for the FireWire interface. </p><p>The controller in the K2 IC implements the FireWire link layer. A physical layer IC, called a PHY, implements the electrical signaling protocol of the FireWire interface and provides the electrical signals to the ports. </p><p>For more information, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF106">“FireWire Ports.”</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF117" title="Interrupt Support"></a><h3>Interrupt Support</h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_154"></a><p>The interrupt controller is an MPIC cell in the K2 IC. In addition to accepting internal interrupt sources from the I/O, the MPIC controller accepts internal interrupts from U3 or U3H and dedicated interrupt pins. </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF118" title="USB Interface "></a><h3>USB Interface </h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_155"></a><p>The K2 IC has two independent USB OHCI controllers. In some configurations, one is used for the optional modem module and one is used for the build-to-order Bluetooth interface.</p><p>The external USB interface is via the PCI USB controller; see <span class="content_text"><a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-BAJEEHBJ">“PCI USB Controller.”</a></span></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF129" title="Serial ATA Interface"></a><h3>Serial ATA Interface</h3><p>Based on the Serial ATA 1.0 specification, Serial ATA (SATA) is a disk-interface technology that delivers up to 1.5 Gbps of performance to each independent drive bus on the Power Mac G5 computer. It provides a scalable, point-to-point connection that allows multiple ports to be aggregated into a single controller. Serial ATA uses a thin, point-to-point cable connection that enables easy routing within a system, avoiding master/slave, daisy-chaining, and termination issues and enabling better airflow within a system. </p><p>The K2 IC implements two Serial ATA revision one ports, each of which accommodates one independent internal hard drive.</p><p><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_156"></a>For information about the drive bays, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF118">“Hard Disk Drives.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF120" title="Ultra DMA ATA/100 Interface "></a><h3>Ultra DMA ATA/100 Interface </h3><p>The K2 IC provides an Ultra DMA ATA/100 interface to support the optical drive. For information about specific drives, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF112">“Disk Drives.”</a></span><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_157"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_158"></a></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF123" title="Sound System Overview"></a><h3>Sound System Overview</h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_159"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_160"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_161"></a><p>The sound circuitry is connected to the K2 IC by a standard I2S (inter-IC sound) bus. The K2 IC provides DB-DMA (descriptor-based direct memory access) support for the I2S port. <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_162"></a></p><p>The Power Mac G5 circuitry consists of two main components: an analog audio CODEC IC and a digital audio CODEC IC. The analog audio CODEC IC includes an A/D converter, a D/A converter, and digital audio processing functions. The digital audio processing functions include output equalization, dynamic range compression, and volume control. The equalization and dynamic range control functions are set to fixed values to equalize the internal speaker. Those functions are bypassed for signals sent to the audio output jacks. </p><p>Stereo signals from the audio input jack are routed to an analog line input buffer that drives the internal A/D converter in the analog CODEC. The output of the A/D converter is routed to the K2 IC over the I2S bus.</p><p>Digital audio data from the K2 IC is routed to the D/A converter on the analog audio CODEC over the I2S bus. The analog audio output from the D/A converter is routed to separate amplifiers that drive the line output, headphone output, and internal speaker.</p><p>The digital audio CODEC IC includes an S/PDIF (Sony/Phillips Digital Interface) digital audio receiver, a sample rate converter (SRC), a phase-locked loop (PLL), and an S/PDIF digital audio transmitter.</p><p>The S/PDIF input can operate in synchronous and asynchronous modes. In synchronous mode, the PLL in the digital audio CODEC locks on to the incoming S/PDIF data rate and drives the audio system clocks in the Power Mac G5, allowing bit-accurate data processing of the S/PDIF input data. In asynchronous mode, the incoming S/PDIF data passes through the SRC, where it is converted to the output sample rate of the Power Mac G5, allowing the Power Mac G5 to play audio at a fixed output sample rate while accepting S/PDIF input data over a wide frequency range. The audio data from the S/PDIF receiver is routed to the K2 IC over the I2S bus.</p><p>Digital audio data from the K2 chip is routed to the S/PDIF output transmitter in the digital audio CODEC over the I2S bus. The Power Mac G5 sends and receives S/PDIF audio data over TOSLink optical connectors.</p><p>Analog audio I/O is not independent of digital audio I/O on the Power Mac G5. Audio input can come from either the line input or the S/PDIF input, but not both at the same time. Audio output can be played simultaneously on the line out, headphones output, and S/PDIF output. However, these audio streams are not independent.</p><p>The speaker output is mutually exclusive from the line out, headphones out and S/PDIF outputs. If the speaker output is selected, the line output, the headphones output and the S/PDIF output are disabled. If any of the line output, the headphones output, or the S/PDIF output are selected, the speaker output is disabled.</p><p>When the speaker output is active, the digital audio processing functions in the analog CODEC are used to implement output equalization for the internal speaker, resulting in improved sound quality from the internal speaker.</p><p>For more detail on the audio, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF134">“Audio.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF124" title="Power Controller"></a><h3>Power Controller</h3><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_163"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_164"></a><p>The power management controller in the Power Mac G5 computer is a microcontroller called the PMU99. It supports new modes of power management that provide significantly lower power consumption than earlier systems. The Power Mac G5 also utilizes a service processor unit and a fan controller unit (refer to <span class="content_text"><a href="Q77_archi.html#//apple_ref/doc/uid/TP40001397-CH206-TPXREF133">“Fan Controller”</a></span>).</p><p>For more information on power management strategy, see <span class="content_text"><a href="../1Overview/Q77_overview.html#//apple_ref/doc/uid/TP40001397-CH205-TPXREF110">“Power Management.”</a></span> <a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_165"></a></p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF125" title="Graphics Cards"></a><h2>Graphics Cards</h2><p>The Power Mac G5 has a high-performance AGP graphics card installed. The supported graphics cards are shown below. All cards support ADC and DVI connectors.<a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_166"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_167"></a></p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Graphics IC</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Video SDRAM</p></th></tr><tr><td  scope="row"><p>Nvidia GeForce FX 5200 Ultra</p></td><td ><p>64 MB DDR </p></td></tr><tr><td  scope="row"><p>ATI Radeon 9600 XT</p></td><td ><p>128 MB DDR </p></td></tr><tr><td  scope="row"><p>ATI Radeon 9800 XT (build-to-order)</p></td><td ><p>256 MB DDR</p></td></tr></table></div><p>The build-to-order 256 MB ATI Radeon 9800 XT card is 75 W. This card occupies both the AGP slot and the adjacent PCI slot. For information on PCI expansion, refer to <span class="content_text"><a href="../4Expansion/Q77_expan.html#//apple_ref/doc/uid/TP40001397-CH208-TPXREF108">“PCI or PCI-X Expansion Slots.”</a></span></p><p>All graphics cards support dual displays in either extended desktop or video mirroring mode, and support digital resolutions up to 1920x1200 pixels and analog resolutions up to 1600x1200 pixels. </p><p>The display memory on the AGP card is separate from the main memory. The display memory consists of 64 or 128 MB (or 256 MB CTO) of DDR devices configured to make a 128-bit data bus. The display memory cannot be expanded by the user. </p><p>For more information about the features of the graphics cards and the monitors they support, see <span class="content_text"><a href="../3Input-Output/Q77_innout.html#//apple_ref/doc/uid/TP40001397-CH207-TPXREF137">“Video Monitor Ports.”</a></span> </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF133" title="Fan Controller"></a><h2>Fan Controller</h2><p>The Power Mac G5 system employs advanced thermal and wattage management to keep acoustic noise to a minimum.  The enclosure is divided into discrete zones, each with independently controlled fans bringing in cool air from the front of the enclosure, directing it over system components and exhausting it out the rear.  Temperature and power consumption are monitored by the operating system which communicates with the Fan Control Unit, which in turn controls and monitors fan operation.  Note that if Mac OS X is not booted, thermal management must be provided by the alternate development operating system.</p><p>Fan Control Unit (FCU) controls the fans and pumps in the Power Mac G5 and regulates the speeds to run each fan.   The FCU derives fan speed from sensors in each thermal zone. Some of these sensors are thermal while others monitor power/wattage used in a particular area. It is important to note that there are fixed limits to fan speed in those areas where power sensors are used.  At the upper limits, a fan could be fixed at a particular speed, based on power consumption, even though that zone continues to generate more heat.</p><p>If the FCU does not receive an update from the operating system within two minutes, it begins to ramp up the speed of the fans to full speed. </p><a name="//apple_ref/doc/uid/TP40001397-CH206-TPXREF135" title="Liquid Cooling System "></a><h2>Liquid Cooling System </h2><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_168"></a><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_169"></a><p>The 2.5 GHz configuration of the Power Mac G5 uses a liquid cooling system controlled by Mac OS X to manage the temperature of the processors in the computer. The liquid cooling system works in conjunction with the air cooling system and is designed to to optimally cool internal components as quietly as possible. The liquid cooling system is sealed and is not designed to be opened.</p><div class="warningbox"><img src="../../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40001397-CH206-DontLinkElementID_18" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;Do not attempt to open or service the liquid cooling system. Opening the liquid cooling system may damage your equipment, and such damage may not be covered by the limited warranty on your computer.</p><p></p><div class="clear"></div></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../1Overview/Q77_overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../3Input-Output/Q77_innout.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2004 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2004-06-29<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G5/PowerMacG5_Jun04/2Architecture/Q77_archi.html%3Fid%3DTP40001397-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G5/PowerMacG5_Jun04/2Architecture/Q77_archi.html%3Fid%3DTP40001397-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Hardware/Developer_Notes/Macintosh_CPUs-G5/PowerMacG5_Jun04/2Architecture/Q77_archi.html%3Fid%3DTP40001397-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>