<html><head><title>Mac OS X
 Manual Page For slapd.access(5)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/5/slapd.access" title="Mac OS X
 Manual Page for slapd.access(5)"><!-- headerDoc=man; indexgroup=Section 5; uid="//apple_ref/doc/man/5/slapd.access"; name=slapd.access(5) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SLAPD.ACCESS(5)                                                                              SLAPD.ACCESS(5)



<b>NAME</b>
       slapd.access - access configuration for slapd, the stand-alone LDAP daemon

<b>SYNOPSIS</b>
       /etc/openldap/slapd.conf

<b>DESCRIPTION</b>
       The <a href="slapd.conf.5.html#//apple_ref/doc/man/5/slapd.conf"><b>slapd.conf</b>(5)</a> file contains configuration information for the <a href="../man8/slapd.8.html#//apple_ref/doc/man/8/slapd"><b>slapd</b>(8)</a> daemon. This configuration
       file is also used by the <a href="../man8/slurpd.8.html#//apple_ref/doc/man/8/slurpd"><b>slurpd</b>(8)</a> replication daemon and by the SLAPD tools <a href="../man8/slapacl.8.html#//apple_ref/doc/man/8/slapacl"><b>slapacl</b>(8)</a>,  <a href="../man8/slapadd.8.html#//apple_ref/doc/man/8/slapadd"><b>slapadd</b>(8)</a>,
       <a href="../man8/slapauth.8.html#//apple_ref/doc/man/8/slapauth"><b>slapauth</b>(8)</a>, <a href="../man8/slapcat.8.html#//apple_ref/doc/man/8/slapcat"><b>slapcat</b>(8)</a>, <a href="../man8/slapdn.8.html#//apple_ref/doc/man/8/slapdn"><b>slapdn</b>(8)</a>, <a href="../man8/slapindex.8.html#//apple_ref/doc/man/8/slapindex"><b>slapindex</b>(8)</a>, and <a href="../man8/slaptest.8.html#//apple_ref/doc/man/8/slaptest"><b>slaptest</b>(8)</a>.

       The  <b>slapd.conf</b>  file  consists  of a series of global configuration options that apply to <b>slapd</b> as a
       whole (including all backends), followed by zero or more database backend  definitions  that  contain
       information specific to a backend instance.

       The general format of <b>slapd.conf</b> is as follows:

           # comment - these options apply to every database
           &lt;global configuration options&gt;
           # first database definition &amp; configuration options
           database    &lt;backend 1 type&gt;
           &lt;configuration options specific to backend 1&gt;
           # subsequent database definitions &amp; configuration options
           ...

       Both  the  global  configuration  and  each  backend-specific section can contain access information.
       Backend-specific access control directives are used for those entries that  belong  to  the  backend,
       according to their naming context.  In case no access control directives are defined for a backend or
       those which are defined are not applicable, the directives from the global configuration section  are
       then used.

       If no access controls are present, the default policy allows anyone and everyone to read anything but
       restricts updates to rootdn.  (e.g., "access to * by * read").  The rootdn can always read and  write
       EVERYTHING!

       For  entries  not  held in any backend (such as a root DSE), the directives of the first backend (and
       any global directives) are used.

       Arguments that should be replaced by actual text are shown in brackets &lt;&gt;.

<b>THE</b> <b>ACCESS</b> <b>DIRECTIVE</b>
       The structure of the access control directives is

       <b>access</b> <b>to</b> <b>&lt;what&gt;</b> <b>[</b> <b>by</b> <b>&lt;who&gt;</b> <b>&lt;access&gt;</b> <b>[</b> <b>&lt;control&gt;</b> <b>]</b> <b>]+</b>
              Grant access (specified by <b>&lt;access&gt;</b>) to a set  of  entries  and/or  attributes  (specified  by
              <b>&lt;what&gt;</b>) by one or more requestors (specified by <b>&lt;who&gt;</b>).

<b>THE</b> <b>&lt;WHAT&gt;</b> <b>FIELD</b>
       The field <b>&lt;what&gt;</b> specifies the entity the access control directive applies to.  It can have the forms

            [dn[.&lt;dnstyle&gt;]=]&lt;dnpattern&gt;
            filter=&lt;ldapfilter&gt;
            attrs=&lt;attrlist&gt;[ val[/matchingRule][.&lt;attrstyle&gt;]=&lt;attrval&gt;]

       with

            &lt;dnstyle&gt;={{exact|base(object)}|regex
                 |one(level)|sub(tree)|children}
            &lt;attrlist&gt;={&lt;attr&gt;|[{!|@}]&lt;objectClass&gt;}[,&lt;attrlist&gt;]
            &lt;attrstyle&gt;={{exact|base(object)}|regex
                 |one(level)|sub(tree)|children}

       The statement <b>dn=&lt;dnpattern&gt;</b> selects the entries based on their naming  context.   The  <b>dn=</b>  part  is
       optional.   The  <b>&lt;dnpattern&gt;</b> is a string representation of the entry's DN.  The wildcard <b>*</b> stands for
       all the entries, and it is implied if no <b>dn</b> form is given.

       The <b>&lt;dnstyle&gt;</b> is also optional; however, it is recommended to specify both the <b>dn=</b> and the  <b>&lt;dnstyle&gt;</b>
       to  avoid  ambiguities.  <b>Base</b> (synonym of <b>baseObject</b>), the default, or <b>exact</b> (an alias of <b>base</b>) indi-<font color="#ffffff" class="whiteout">cates&nbsp;indicates</font>
       cates the entry whose DN is equal to the <b>&lt;dnpattern&gt;</b>; <b>one</b> (synonym of  <b>onelevel</b>)  indicates  all  the
       entries immediately below the <b>&lt;dnpattern&gt;</b>, <b>sub</b> (synonym of <b>subtree</b>) indicates all entries in the sub-<font color="#ffffff" class="whiteout">tree&nbsp;subtree</font>
       tree at the <b>&lt;dnpattern&gt;</b>, <b>children</b> indicates all the entries below (subordinate to) the <b>&lt;dnpattern&gt;</b>.

       If the <b>&lt;dnstyle&gt;</b> qualifier is <b>regex</b>, then <b>&lt;dnpattern&gt;</b> is a POSIX  (''extended'')  regular  expression
       pattern,  as detailed in <!-- a --><b>regex</b>(7)<!-- /a --> and/or <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format"><b>re_format</b>(7)</a>, matching a normalized string representation of
       the entry's DN.  The regex form of the pattern does not (yet) support UTF-8.

       The statement <b>filter=&lt;ldapfilter&gt;</b> selects the entries based on a valid LDAP filter  as  described  in
       RFC 2254.  A filter of <b>(objectClass=*)</b> is implied if no <b>filter</b> form is given.

       The  statement  <b>attrs=&lt;attrlist&gt;</b>  selects the attributes the access control rule applies to.  It is a
       comma-separated list of attribute types, plus the special names <b>entry</b>, indicating access to the entry
       itself, and <b>children</b>, indicating access to the entry's children. ObjectClass names may also be speci-<font color="#ffffff" class="whiteout">fied&nbsp;specified</font>
       fied in this list, which will affect all the attributes that are  required  and/or  allowed  by  that
       objectClass.   Actually,  names  in <b>&lt;attrlist&gt;</b> that are prefixed by <b>@</b> are directly treated as object-<font color="#ffffff" class="whiteout">Class&nbsp;objectClass</font>
       Class names.  A name prefixed by <b>!</b>  is also treated as an objectClass, but in this  case  the  access
       rule  affects the attributes that are not required nor allowed by that objectClass.  If no <b>attrs</b> form
       is given, <b>attrs=@extensibleObject</b> is implied, i.e. all attributes are addressed.

       Using the form <b>attrs=&lt;attr&gt;</b> <b>val[/matchingRule][.&lt;attrstyle&gt;]=&lt;attrval&gt;</b> specifies access to a particu-<font color="#ffffff" class="whiteout">lar&nbsp;particular</font>
       lar  value  of  a  single  attribute.   In  this case, only a single attribute type may be given. The
       <b>&lt;attrstyle&gt;</b> <b>exact</b> (the default) uses the attribute's equality matching rule  to  compare  the  value,
       unless a different (and compatible) matching rule is specified. If the <b>&lt;attrstyle&gt;</b> is <b>regex</b>, the pro-<font color="#ffffff" class="whiteout">vided&nbsp;provided</font>
       vided value is used as a POSIX (''extended'') regular expression pattern.  If the  attribute  has  DN
       syntax,  the  <b>&lt;attrstyle&gt;</b>  can  be  any  of  <b>base</b>,  <b>onelevel</b>, <b>subtree</b> or <b>children</b>, resulting in base,
       onelevel, subtree or children match, respectively.

       The dn, filter, and attrs statements are additive; they can be used in sequence  to  select  entities
       the access rule applies to based on naming context, value and attribute type simultaneously.

<b>THE</b> <b>&lt;WHO&gt;</b> <b>FIELD</b>
       The field <b>&lt;who&gt;</b> indicates whom the access rules apply to.  Multiple <b>&lt;who&gt;</b> statements can appear in an
       access control statement, indicating the different access privileges to the same resource that  apply
       to different accessee.  It can have the forms

            *
            anonymous
            users
            self[.&lt;selfstyle&gt;]

            dn[.&lt;dnstyle&gt;[,&lt;modifier&gt;]]=&lt;DN&gt;
            dnattr=&lt;attrname&gt;

            realanonymous
            realusers
            realself[.&lt;selfstyle&gt;]

            realdn[.&lt;dnstyle&gt;[,&lt;modifier&gt;]]=&lt;DN&gt;
            realdnattr=&lt;attrname&gt;

            group[/&lt;objectclass&gt;[/&lt;attrname&gt;]]
                 [.&lt;groupstyle&gt;]=&lt;group&gt;
            peername[.&lt;peernamestyle&gt;]=&lt;peername&gt;
            sockname[.&lt;style&gt;]=&lt;sockname&gt;
            domain[.&lt;domainstyle&gt;[,&lt;modifier&gt;]]=&lt;domain&gt;
            sockurl[.&lt;style&gt;]=&lt;sockurl&gt;
            set[.&lt;setstyle&gt;]=&lt;pattern&gt;

            ssf=&lt;n&gt;
            transport_ssf=&lt;n&gt;
            tls_ssf=&lt;n&gt;
            sasl_ssf=&lt;n&gt;

            aci[=&lt;attrname&gt;]
            dynacl/name[/&lt;options&gt;][.&lt;dynstyle&gt;][=&lt;pattern&gt;]

       with

            &lt;style&gt;={exact|regex|expand}
            &lt;selfstyle&gt;={level{&lt;n&gt;}}
            &lt;dnstyle&gt;={{exact|base(object)}|regex
                 |one(level)|sub(tree)|children|level{&lt;n&gt;}}
            &lt;groupstyle&gt;={exact|expand}
            &lt;peernamestyle&gt;={&lt;style&gt;|ip|path}
            &lt;domainstyle&gt;={exact|regex|sub(tree)}
            &lt;setstyle&gt;={exact|regex}
            &lt;modifier&gt;={expand}

       They may be specified in combination.


       The wildcard <b>*</b> refers to everybody.

       The  keywords  prefixed  by  <b>real</b> act as their counterparts without prefix; the checking respectively
       occurs with the <u>authentication</u> DN and the <u>authorization</u> DN.

       The keyword <b>anonymous</b> means access is granted to unauthenticated clients; it is mostly used to  limit
       access  to  authentication resources (e.g. the <b>userPassword</b> attribute) to unauthenticated clients for
       authentication purposes.

       The keyword <b>users</b> means access is granted to authenticated clients.

       The keyword <b>self</b> means access to an entry is allowed to  the  entry  itself  (e.g.  the  entry  being
       accessed and the requesting entry must be the same).  It allows the <b>level{&lt;n&gt;}</b> style, where <u>&lt;n&gt;</u> indi-<font color="#ffffff" class="whiteout">cates&nbsp;indicates</font>
       cates what ancestor of the DN is to be used in matches.  A positive value indicates that  the  &lt;n&gt;-th
       ancestor of the user's DN is to be considered; a negative value indicates that the &lt;n&gt;-th ancestor of
       the target is to be considered.  For example, a "<u>by</u> <u>self.level{1}</u> <u>...</u>" clause would  match  when  the
       object  "<u>dc=example,dc=com</u>"  is  accessed  by "<u>cn=User,dc=example,dc=com</u>".  A "<u>by</u> <u>self.level{-1}</u> <u>...</u>"
       clause would  match  when  the  same  user  accesses  the  object  "<u>ou=Address</u>  <u>Book,cn=User,dc=exam</u>-<font color="#ffffff" class="whiteout">ple,dc=com".&nbsp;Book,cn=User,dc=example,dc=com".</font>
       <u>ple,dc=com</u>".

       The  statement <b>dn=&lt;DN&gt;</b> means that access is granted to the matching DN.  The optional style qualifier
       <b>dnstyle</b> allows the same choices of the dn form of the <b>&lt;what&gt;</b> field.  In addition, the <b>regex</b> style can
       exploit  substring  substitution  of  submatches  in  the  <b>&lt;what&gt;</b>  dn.regex  clause by using the form
       <b>$&lt;digit&gt;</b>, with <b>digit</b> ranging from  0  to  9  (where  0  matches  the  entire  string),  or  the  form
       <b>${&lt;digit&gt;+}</b>,  for  submatches  higher  than 9.  Since the dollar character is used to indicate a sub-<font color="#ffffff" class="whiteout">string&nbsp;substring</font>
       string replacement, the dollar character that is used to indicate match up to the end of  the  string
       must be escaped by a second dollar character, e.g.

           access to dn.regex="^(.+,)?uid=([^,]+),dc=[^,]+,dc=com$"
               by dn.regex="^uid=$2,dc=[^,]+,dc=com$$" write

       The  style qualifier allows an optional <b>modifier</b>.  At present, the only type allowed is <b>expand</b>, which
       causes substring substitution of submatches to take place even if <b>dnstyle</b> is not  <b>regex</b>.   Note  that
       the  <b>regex</b>  dnstyle  in  the above example may be of use only if the <b>&lt;by&gt;</b> clause needs to be a regex;
       otherwise, if the value of the second (from the right) <b>dc=</b> portion of the DN  in  the  above  example
       were fixed, the form

           access to dn.regex="^(.+,)?uid=([^,]+),dc=example,dc=com$"
               by dn.exact,expand="uid=$2,dc=example,dc=com" write

       could be used; if it had to match the value in the <b>&lt;what&gt;</b> clause, the form

           access to dn.regex="^(.+,)?uid=([^,]+),dc=([^,]+),dc=com$"
               by dn.exact,expand="uid=$2,dc=$3,dc=com" write

       could be used.

       Forms  of  the  <b>&lt;what&gt;</b> clause other than regex may provide submatches as well.  The <b>base(object)</b>, the
       <b>sub(tree)</b>, the <b>one(level)</b>, and the <b>children</b> forms provide <b>$0</b> as the match of the entire string.   The
       <b>sub(tree)</b>,  the <b>one(level)</b>, and the <b>children</b> forms also provide <b>$1</b> as the match of the rightmost part
       of the DN as defined in the <b>&lt;what&gt;</b> clause.  This may be useful, for instance, to  provide  access  to
       all the ancestors of a user by defining

           access to dn.subtree="dc=com"
               by dn.subtree,expand="$1" read

       which means that only access to entries that appear in the DN of the <b>&lt;by&gt;</b> clause is allowed.

       The  <b>level{&lt;n&gt;}</b> form is an extension and a generalization of the <b>onelevel</b> form, which matches all DNs
       whose &lt;n&gt;-th ancestor is the pattern.  So, <u>level{1}</u> is equivalent to <u>onelevel</u>, and <u>level{0}</u> is equiv-<font color="#ffffff" class="whiteout">alent&nbsp;equivalent</font>
       alent to <u>base</u>.

       It  is perfectly useless to give any access privileges to a DN that exactly matches the <b>rootdn</b> of the
       database the ACLs apply to, because it implicitly possesses write privileges for the entire  tree  of
       that  database.  Actually, access control is bypassed for the <b>rootdn</b>, to solve the intrinsic chicken-<font color="#ffffff" class="whiteout">and-egg&nbsp;chickenand-egg</font>
       and-egg problem.

       The statement <b>dnattr=&lt;attrname&gt;</b> means that access is granted to requests whose DN is  listed  in  the
       entry being accessed under the <b>&lt;attrname&gt;</b> attribute.

       The  statement <b>group=&lt;group&gt;</b> means that access is granted to requests whose DN is listed in the group
       entry whose DN is given by <b>&lt;group&gt;</b>.  The optional parameters <b>&lt;objectclass&gt;</b> and <b>&lt;attrname&gt;</b> define  the
       objectClass  and the member attributeType of the group entry.  The defaults are <b>groupOfNames</b> and <b>mem</b>-<font color="#ffffff" class="whiteout">ber,&nbsp;member,</font>
       <b>ber</b>, respectively.  The optional style qualifier <b>&lt;style&gt;</b> can be <b>expand</b>, which means that <b>&lt;group&gt;</b> will
       be  expanded  as  a replacement string (but not as a regular expression) according to <!-- a --><b>regex</b>(7)<!-- /a --> and/or
       <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format"><b>re_format</b>(7)</a>, and <b>exact</b>, which means that exact match will be used.  If the style of the  DN  portion
       of the <b>&lt;what&gt;</b> clause is regex, the submatches are made available according to <!-- a --><b>regex</b>(7)<!-- /a --> and/or <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format"><b>re_for</b></a>-<font color="#ffffff" class="whiteout">mat(7);&nbsp;re_format(7);</font>
       <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format"><b>mat</b>(7)</a>; other styles provide limited submatches as discussed above about the  DN  form  of  the  <b>&lt;by&gt;</b>
       clause.

       For static groups, the specified attributeType must have <b>DistinguishedName</b> or <b>NameAndOptionalUID</b> syn-<font color="#ffffff" class="whiteout">tax.&nbsp;syntax.</font>
       tax. For dynamic groups the attributeType must be a subtype of  the  <b>labeledURI</b>  attributeType.  Only
       LDAP  URIs  of  the  form  <b>ldap:///&lt;base&gt;??&lt;scope&gt;?&lt;filter&gt;</b>  will be evaluated in a dynamic group, by
       searching the local server only.

       The statements <b>peername=&lt;peername&gt;</b>, <b>sockname=&lt;sockname&gt;</b>, <b>domain=&lt;domain&gt;</b>, and <b>sockurl=&lt;sockurl&gt;</b>  mean
       that  the contacting host IP (in the form <b>IP=&lt;ip&gt;:&lt;port&gt;</b>) or the contacting host named pipe file name
       (in the form <b>PATH=&lt;path&gt;</b> if connecting through a named pipe) for <b>peername</b>, the named pipe  file  name
       for  <b>sockname</b>,  the  contacting host name for <b>domain</b>, and the contacting URL for <b>sockurl</b> are compared
       against <b>pattern</b> to determine access.  The same <b>style</b> rules for pattern match described for the  <b>group</b>
       case  apply, plus the <b>regex</b> style, which implies submatch <b>expand</b> and regex match of the corresponding
       connection parameters.  The <b>exact</b> style of the <b>&lt;peername&gt;</b> clause (the default) implies  a  case-exact
       match  on  the  client's <b>IP</b>, including the <b>IP=</b> prefix and the trailing <b>:&lt;port&gt;</b>, or the client's <b>path</b>,
       including the <b>PATH=</b> prefix if connecting through a named pipe.  The special <b>ip</b> style  interprets  the
       pattern as <b>&lt;peername&gt;=&lt;ip&gt;[%&lt;mask&gt;][{&lt;n&gt;}]</b>, where <b>&lt;ip&gt;</b> and <b>&lt;mask&gt;</b> are dotted digit representations of
       the IP and the mask, while <b>&lt;n&gt;</b>, delimited by curly brackets, is  an  optional  port.   When  checking
       access  privileges,  the  IP portion of the <b>peername</b> is extracted, eliminating the <b>IP=</b> prefix and the
       <b>:&lt;port&gt;</b> part, and it is compared against the <b>&lt;ip&gt;</b> portion of the pattern after masking  with  <b>&lt;mask&gt;</b>.
       As    an   example,   <b>peername.ip=127.0.0.1</b>   allows   connections   only   from   localhost,   <b>peer</b>-<font color="#ffffff" class="whiteout">name.ip=192.168.1.0%255.255.255.0&nbsp;peername.ip=192.168.1.0%255.255.255.0</font>
       <b>name.ip=192.168.1.0%255.255.255.0</b> allows connections from any IP in the 192.168.1 class C domain, and
       <b>peername.ip=192.168.1.16%255.255.255.240{9009}</b>    allows    connections    from   any   IP   in   the
       192.168.1.[16-31] range of the same domain, only if port 9009 is used.  The special <b>path</b> style elimi-<font color="#ffffff" class="whiteout">nates&nbsp;eliminates</font>
       nates  the <b>PATH=</b> prefix from the <b>peername</b> when connecting through a named pipe, and performs an exact
       match on the given pattern.  The <b>&lt;domain&gt;</b> clause also allows the <b>subtree</b> style, which succeeds when a
       fully  qualified  name exactly matches the <b>domain</b> pattern, or its trailing part, after a <b>dot</b>, exactly
       matches the <b>domain</b> pattern.  The <b>expand</b> style is allowed,  implying  an  <b>exact</b>  match  with  submatch
       expansion;  the  use  of  <b>expand</b>  as a style modifier is considered more appropriate.  As an example,
       <b>domain.subtree=example.com</b> will match www.example.com, but  will  not  match  www.anotherexample.com.
       The  <b>domain</b>  of the contacting host is determined by performing a DNS reverse lookup.  As this lookup
       can easily be spoofed, use of the <b>domain</b> statement is  strongly  discouraged.   By  default,  reverse
       lookups  are  disabled.   The optional <b>domainstyle</b> qualifier of the <b>&lt;domain&gt;</b> clause allows a <b>modifier</b>
       option; the only value currently supported is <b>expand</b>, which causes  substring  substitution  of  sub-<font color="#ffffff" class="whiteout">matches&nbsp;submatches</font>
       matches  to  take  place  even if the <b>domainstyle</b> is not <b>regex</b>, much like the analogous usage in <b>&lt;dn&gt;</b>
       clause.

       The statement <b>set=&lt;pattern&gt;</b> is undocumented yet.

       The statement <b>aci[=&lt;attrname&gt;]</b> means that the access control is determined by the values in the <b>attr</b>-<font color="#ffffff" class="whiteout">name&nbsp;attrname</font>
       <b>name</b>  of the entry itself.  The optional <b>&lt;attrname&gt;</b> indicates what attributeType holds the ACI infor-<font color="#ffffff" class="whiteout">mation&nbsp;information</font>
       mation in the entry.  By default, the <b>OpenLDAPaci</b> operational attribute is used.  ACIs are experimen-<font color="#ffffff" class="whiteout">tal;&nbsp;experimental;</font>
       tal; they must be enabled at compile time.

       The  statement <b>dynacl/&lt;name&gt;[/&lt;options&gt;][.&lt;dynstyle&gt;][=&lt;pattern&gt;]</b> means that access checking is dele-<font color="#ffffff" class="whiteout">gated&nbsp;delegated</font>
       gated to the admin-defined method indicated by <b>&lt;name&gt;</b>, which can be registered at run-time  by  means
       of  the  <b>moduleload</b>  statement.  The fields <b>&lt;options&gt;</b>, <b>&lt;dynstyle&gt;</b> and <b>&lt;pattern&gt;</b> are optional, and are
       directly passed to the registered parsing routine.  Dynacl is experimental; it  must  be  enabled  at
       compile  time.   If  dynacl  and  ACIs  are both enabled, ACIs are cast into the dynacl scheme, where
       <b>&lt;name&gt;=aci</b> and, optionally, <b>&lt;patten&gt;=&lt;attrname&gt;</b>.  However, the original ACI syntax is  preserved  for
       backward compatibility.

       The  statements  <b>ssf=&lt;n&gt;</b>,  <b>transport_ssf=&lt;n&gt;</b>,  <b>tls_ssf=&lt;n&gt;</b>, and <b>sasl_ssf=&lt;n&gt;</b> set the minimum required
       Security Strength Factor (ssf) needed to grant access.  The value should be positive integer.

<b>THE</b> <b>&lt;ACCESS&gt;</b> <b>FIELD</b>
       The field <b>&lt;access&gt;</b> <b>::=</b> <b>[[real]self]{&lt;level&gt;|&lt;priv&gt;}</b> determines  the  access  level  or  the  specific
       access privileges the <b>who</b> field will have.  Its component are defined as

            &lt;level&gt; ::= none|disclose|auth|compare|search|read|write
            &lt;priv&gt; ::= {=|+|-}{w|r|s|c|x|d|0}+

       The  modifier  <b>self</b> allows special operations like having a certain access level or privilege only in
       case the operation involves the name of the user that's requesting the access.  It implies  the  user
       that  requests access is authorized.  The modifier <b>realself</b> refers to the authenticated DN as opposed
       to the authorized DN of the <b>self</b> modifier.   An  example  is  the  <b>selfwrite</b>  access  to  the  member
       attribute  of  a  group,  which  allows one to add/delete its own DN from the member list of a group,
       without affecting other members.

       The <b>level</b> access model relies on an incremental interpretation of the access privileges.  The  possi-<font color="#ffffff" class="whiteout">ble&nbsp;possible</font>
       ble levels are <b>none</b>, <b>disclose</b>, <b>auth</b>, <b>compare</b>, <b>search</b>, <b>read</b>, and <b>write</b>.  Each access level implies all
       the preceding ones, thus <b>write</b> access will imply all accesses.

       The <b>none</b> access level disallows all access including disclosure on error.

       The <b>disclose</b> access level allows disclosure of information on error.

       The <b>auth</b> access level means that one is  allowed  access  to  an  attribute  to  perform  authentica-<font color="#ffffff" class="whiteout">tion/authorization&nbsp;authentication/authorization</font>
       tion/authorization operations (e.g.  <b>bind</b>) with no other access.  This is useful to grant unauthenti-<font color="#ffffff" class="whiteout">cated&nbsp;unauthenticated</font>
       cated clients the least possible access level to critical resources, like passwords.

       The <b>priv</b> access model relies on the explicit setting of access privileges for  each  clause.   The  <b>=</b>
       sign  resets  previously defined accesses; as a consequence, the final access privileges will be only
       those defined by the clause.  The <b>+</b> and <b>-</b> signs add/remove access privileges to  the  existing  ones.
       The  privileges are <b>w</b> for write, <b>r</b> for read, <b>s</b> for search, <b>c</b> for compare, <b>x</b> for authentication, and <b>d</b>
       for disclose.  More than one of the above privileges can be added in one statement.  <b>0</b>  indicates  no
       privileges and is used only by itself (e.g., +0).  If no access is given, it defaults to <b>+0</b>.

<b>THE</b> <b>&lt;CONTROL&gt;</b> <b>FIELD</b>
       The optional field <b>&lt;control&gt;</b> controls the flow of access rule application.  It can have the forms

            stop
            continue
            break

       where  <b>stop</b>, the default, means access checking stops in case of match.  The other two forms are used
       to keep on processing access clauses.  In detail, the <b>continue</b> form allows for other <b>&lt;who&gt;</b> clauses in
       the  same  <b>&lt;access&gt;</b>  clause  to  be considered, so that they may result in incrementally altering the
       privileges, while the <b>break</b> form allows for other <b>&lt;access&gt;</b> clauses that match the same target  to  be
       processed.  Consider the (silly) example

            access to dn.subtree="dc=example,dc=com" attrs=cn
                 by * =cs break

            access to dn.subtree="ou=People,dc=example,dc=com"
                 by * +r

       which  allows search and compare privileges to everybody under the "dc=example,dc=com" tree, with the
       second rule allowing also read in the "ou=People" subtree, or the (even more silly) example

            access to dn.subtree="dc=example,dc=com" attrs=cn
                 by * =cs continue
                 by users +r

       which grants everybody search and compare privileges,  and  adds  read  privileges  to  authenticated
       clients.

       One  useful application is to easily grant write privileges to an <b>updatedn</b> that is different from the
       <b>rootdn</b>.  In this case, since the <b>updatedn</b> needs write access to (almost) all data, one can use

            access to *
                 by dn.exact="cn=The Update DN,dc=example,dc=com" write
                 by * break

       as the first access rule.  As a consequence, unless the operation  is  performed  with  the  <b>updatedn</b>
       identity, control is passed straight to the subsequent rules.


<b>OPERATION</b> <b>REQUIREMENTS</b>
       Operations  require  different  privileges  on  different portions of entries.  The following summary
       applies to primary database backends such as the BDB and HDB backends.   Requirements for other back-<font color="#ffffff" class="whiteout">ends&nbsp;backends</font>
       ends may (and often do) differ.


       The  <b>add</b>  operation  requires  <b>write</b> <b>(=w)</b> privileges on the pseudo-attribute <b>entry</b> of the entry being
       added, and <b>write</b> <b>(=w)</b> privileges on the pseudo-attribute <b>children</b> of the entry's parent.  When adding
       the suffix entry of a database, write access to <b>children</b> of the empty DN ("") is required.


       The  <b>bind</b>  operation,  when credentials are stored in the directory, requires <b>auth</b> <b>(=x)</b> privileges on
       the attribute the credentials are stored in (usually <b>userPassword</b>).


       The <b>compare</b> operation requires <b>compare</b> <b>(=c)</b> privileges on the attribute that is being compared.


       The <b>delete</b> operation requires <b>write</b> <b>(=w)</b> privileges on the pseudo-attribute <b>entry</b> of the entry  being
       deleted, and <b>write</b> <b>(=w)</b> privileges on the <b>children</b> pseudo-attribute of the entry's parent.


       The <b>modify</b> operation requires <b>write</b> <b>(=w)</b> privileges on the attributes being modified.


       The  <b>modrdn</b> operation requires <b>write</b> <b>(=w)</b> privileges on the pseudo-attribute <b>entry</b> of the entry whose
       relative DN is being modified, <b>write</b> <b>(=w)</b> privileges on the pseudo-attribute <b>children</b> of the old  and
       new entry's parents, and <b>write</b> <b>(=w)</b> privileges on the attributes that are present in the new relative
       DN.  <b>Write</b> <b>(=w)</b> privileges are also required on the attributes that are present in the  old  relative
       DN if <b>deleteoldrdn</b> is set to 1.


       The <b>search</b> operation, requires <b>search</b> <b>(=s)</b> privileges on the <b>entry</b> pseudo-attribute of the searchBase
       (NOTE: this was introduced with 2.3).  Then, for each entry, it requires <b>search</b>  <b>(=s)</b>  privileges  on
       the  attributes  that  are  defined in the filter.  The resulting entries are finally tested for <b>read</b>
       <b>(=r)</b> privileges on the pseudo-attribute <b>entry</b> (for read access to the entry itself) and for <b>read</b> <b>(=r)</b>
       access  on  each  value  of each attribute that is requested.  Also, for each <b>referral</b> object used in
       generating continuation references, the operation requires <b>read</b> <b>(=r)</b> access on  the  pseudo-attribute
       <b>entry</b>  (for  read access to the referral object itself), as well as <b>read</b> <b>(=r)</b> access to the attribute
       holding the referral information (generally the <b>ref</b> attribute).


       Some internal operations and some <b>controls</b> require specific access privileges.  The  <b>authzID</b>  mapping
       and the <b>proxyAuthz</b> control require <b>auth</b> <b>(=x)</b> privileges on all the attributes that are present in the
       search filter of the URI regexp maps (the right-hand side of the <b>authz-regexp</b> directives).  <b>Auth</b> <b>(=x)</b>
       privileges  are  also  required  on  the  <b>authzTo</b> attribute of the authorizing identity and/or on the
       <b>authzFrom</b> attribute of the authorized identity.


       Access control to search entries is checked by the frontend, so it is fully honored by all  backends;
       for  all  other operations and for the discovery phase of the search operation, full ACL semantics is
       only supported by the primary backends, i.e.  <!-- a --><b>back-bdb</b>(5)<!-- /a -->, and <!-- a --><b>back-hdb</b>(5)<!-- /a -->.

       Some other backend, like <!-- a --><b>back-sql</b>(5)<!-- /a -->, may fully support them; others may only support  a  portion  of
       the  described  semantics, or even differ in some aspects.  The relevant details are described in the
       backend-specific man pages.


<b>CAVEATS</b>
       It is strongly recommended to explicitly use the most  appropriate  <b>&lt;dnstyle&gt;</b>  in  <b>&lt;what&gt;</b>  and  <b>&lt;who&gt;</b>
       clauses,  to  avoid  possible incorrect specifications of the access rules as well as for performance
       (avoid unnecessary regex matching when an exact match suffices) reasons.

       An administrator might create a rule of the form:

            access to dn.regex="dc=example,dc=com"
                 by ...

       expecting it to match all entries in the subtree "dc=example,dc=com".  However,  this  rule  actually
       matches  any DN which contains anywhere the substring "dc=example,dc=com".  That is, the rule matches
       both "uid=joe,dc=example,dc=com" and "dc=example,dc=com,uid=joe".

       To match the desired subtree, the rule would be more precisely written:

            access to dn.regex="^(.+,)?dc=example,dc=com$"
                 by ...

       For performance reasons, it would be better to use the subtree style.

            access to dn.subtree="dc=example,dc=com"
                 by ...

       When writing submatch rules, it may be convenient to  avoid  unnecessary  <b>regex</b>  <b>&lt;dnstyle&gt;</b>  use;  for
       instance, to allow access to the subtree of the user that matches the <b>&lt;what&gt;</b> clause, one could use

            access to dn.regex="^(.+,)?uid=([^,]+),dc=example,dc=com$"
                 by dn.regex="^uid=$2,dc=example,dc=com$$" write
                 by ...

       However, since all that is required in the <b>&lt;by&gt;</b> clause is substring expansion, a more efficient solu-<font color="#ffffff" class="whiteout">tion&nbsp;solution</font>
       tion is

            access to dn.regex="^(.+,)?uid=([^,]+),dc=example,dc=com$"
                 by dn.exact,expand="uid=$2,dc=example,dc=com" write
                 by ...

       In fact, while a <b>&lt;dnstyle&gt;</b> of <b>regex</b> implies substring expansion, <b>exact</b>, as well as all the  other  DN
       specific <b>&lt;dnstyle&gt;</b> values, does not, so it must be explicitly requested.


<b>FILES</b>
       /etc/openldap/slapd.conf
              default slapd configuration file

<b>SEE</b> <b>ALSO</b>
       <a href="../man8/slapd.8.html#//apple_ref/doc/man/8/slapd"><b>slapd</b>(8)</a>, <b>slapd-*</b>(5), <a href="../man8/slapacl.8.html#//apple_ref/doc/man/8/slapacl"><b>slapacl</b>(8)</a>, <!-- a --><b>regex</b>(7)<!-- /a -->, <a href="../man7/re_format.7.html#//apple_ref/doc/man/7/re_format"><b>re_format</b>(7)</a>

       "OpenLDAP Administrator's Guide" (<a href="http://www.OpenLDAP.org/doc/admin/)">http://www.OpenLDAP.org/doc/admin/)</a>

<b>ACKNOWLEDGEMENTS</b>
       <b>OpenLDAP</b> is developed and maintained by The OpenLDAP Project (<a href="http://www.openldap.org/)">http://www.openldap.org/)</a>  <b>OpenLDAP</b> is
       derived from University of Michigan LDAP 3.3 Release.



OpenLDAP 2.3.27                                  2006/08/19                                  SLAPD.ACCESS(5)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man5/slapd.access.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man5/slapd.access.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man5/slapd.access.5.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
