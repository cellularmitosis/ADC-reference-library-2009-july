<html><head><title>Mac OS X
 Manual Page For Mac::Carbon(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/Mac::Carbon" title="Mac OS X
 Manual Page for Mac::Carbon(3pm)"><a name="//apple_ref/doc/man/3/Mac::Carbon" title="Mac OS X
 Manual Page for Mac::Carbon(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/Mac::Carbon"; name=Mac::Carbon(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Carbon(3)                            User Contributed Perl Documentation                           <!-- a -->Carbon(3)<!-- /a -->



<b>NAME</b>
       Mac::Carbon - Access to Mac OS Carbon API

<b>SYNOPSIS</b>
               use Mac::Carbon;
               use Mac::Carbon qw(:files :morefiles);

<b>DESCRIPTION</b>
       This module provides documentation of the Mac::Carbon modules, and acts as a frontend to them.

       Mac::Carbon is a collection of perl modules for accessing the Carbon API under Mac OS X.  It is a
       port of the Toolbox modules written by Matthias Neeracher for MacPerl.

       This module will load in all the Carbon modules, and export all of the functions, constants, and
       other variables.  An export tag is set up for each module, so they may be selected individually.

       This module exists primarily because in Mac OS X, all the Carbon functions are imported into a C
       program with a single header, Carbon.h, so Mac OS X users may prefer to load in the entire Carbon API
       with a single module.

       For detailed information on the Carbon API (highly recommended, as a familiarity with Carbon is
       assumed in the POD), see apple.com.

               <a href="http://developer.apple.com/techpubs/macosx/Carbon/">http://developer.apple.com/techpubs/macosx/Carbon/</a>

       The documentation is also located on your system, if you have the Developer Tools installed, at
       /Developer/Documentation/Carbon/.

       Also of significant use are the related header files on your system.  Use the `locate` command to
       find them.  They contain current documentation and notes for the API.

       The modules were written for Mac OS originally, and are in part being ported to Carbon.  You may also
       be interested in the original documentation.

               <a href="http://developer.apple.com/techpubs/macos8/">http://developer.apple.com/techpubs/macos8/</a>

<b>TOOLBOX</b> <b>MAPPINGS</b>
       Swiped from Mac/Toolbox.pod in the MacPerl distribution.

       The Macintosh Operating System provides a rich API with thousands of <u>toolbox</u> calls. The MacPerl
       toolbox modules aim to make as much as possible of this functionality available to MacPerl
       programmers. The mapping of the toolbox interfaces into MacPerl is intended to be

       1.  Convenient to use for Perl programmers.

       2.  As close as possible to the C interfaces.

       This translates into a mapping strategy which is discussed in the following sections.

       <b>Function</b> <b>mappings</b>

       MacPerl toolbox calls take their input arguments in the same order as the corresponding toolbox
       functions. Output arguments are never passed by reference, but returned from the calls. If there are
       several output arguments, a list is returned. If an error occurs, the function returns "undef" or
       "()" and the error code is available in the $^E variable.

               $port = GetPort();
               SetPort($port);
               $desc = AECreateDesc("TEXT", "Hello, World") or die $^E;

       <b>Data</b> <b>structure</b> <b>mappings</b>

       Complex data structures are mapped into blessed references. Data fields are available through member
       functions which return the value of a field if called without an argument and change the value if
       called with an argument.

               $rect = Rect-&gt;new(10, 20, 110, 220);
               $rect-&gt;top;
               $rect-&gt;right(250);

<b>MAC</b> <b>OS</b> <b>X</b> <b>DIFFERENCES</b>
       The modules follow the same API under Mac OS X as Mac OS, except that the non-Carbon API is not
       supported (for example, "NewHandle" is supported, but "NewHandleSys" is not).  Calling a function not
       supported by Carbon will generate an exception.

       In each module's documentation, functions that work only under Mac OS (non-Carbon) are marked with
       <b>Mac</b> <b>OS</b> <b>only.</b>  Those that work only under Mac OS X (Carbon) are marked with <b>Mac</b> <b>OS</b> <b>X</b> <b>only.</b>  A complete
       list is at the end of this document.

       The MacPerl package is automatically bootstrapped in MacPerl; it is included here, though the app-
       specific functions (Reply, Quit) are not supported, and the MacPerl package must be loaded explicitly
       (e.g., "use MacPerl;").  Also, Ask/Answer/Pick are provided via AppleScript, talking to the
       SystemUIServer process.

       The Mac-specific error codes are put in $^E as in MacPerl, but $^E does not automatically convert the
       numeric error into a string in string context.  See brian d foy's Mac::Errors module on the CPAN for
       this:

               use Mac::Errors '$MacError';
               my $info1 = FSpGetCatInfo($file1) or die $^E + 0;    # error number
               my $info2 = FSpGetCatInfo($file2) or die $MacError;  # error string

       Mac::Errors is not included with or required by Mac::Carbon, but it is highly recommended.

       $! is set at the same time $^E is set.  This is different behavior from MacPerl, but similar to other
       platforms.  On MacPerl, $^E is signed, and on Unix it is unsigned, so to get the numeric value from
       $^E, just add 0, as above.  Could be worse.

       Files are passed back and forth using Unix/POSIX filespecs (if you care about the gory details, a
       portion of the GUSI API has been reimplemented here, and it handles the conversions).  Similarly,
       times are converted back and forth from the Mac OS epoch to the Unix epoch.

       The support functions are in <u>Carbon.h</u>.  See that file for descriptions of the issues, including bugs
       and possibilities for bugs, involved.

<b>INTEL</b> <b>ISSUES</b>
       There are very few issues on Intel.  They mostly center around the fact that a Mac four-char-code is
       often treated as a string in Perl-space, but in C-space is an integer.  The conversion process
       results in various errors.

       Four-char-code types include typeType, typeEnumerated, typeProperty, typeKeyword, and
       typeApplSignature.

       There are a few Don't Do Thats to keep in mind.

          Don't change the type of an existing AEDesc; coerce it to a new desc instead, with
           <u>AECoerceDesc()</u>.  This is generally good advice anyway.

          Don't pass four-char-codes as arguments to AEBuild*; there's no easy way for the called function
           to know what type the argument is going to be passed as, and to fix the data before it is passed.
           Four-char-codes can be literals in AEBuild formats; this is a better method to use, when
           possible.  For example:

                   AEBuild(q{'----':type(@)}, typeProperty);  # don't
                   AEBuild(q{'----':type(prop)});             # do

          Similarly, when using AEStream, don't pass a four-char-code to <u>WriteData()</u>, if you can avoid it.
           Use one of the methods that allow type specification (such as WriteDesc and WriteKeyDesc).

          Don't try to parse binary data when you don't have to; use the API.  For example, one of the
           example files for Mac::Speech parsed the creator ID out of the binary data structure instead of
           calling the API, and got the string reversed.

<b>PACKAGES</b> <b>AND</b> <b>EXPORT</b> <b>TAGS</b>
       See each individual module for more information on use.  See <u>README</u> for more information about
       modules not included here.

               Mac::AppleEvents        appleevents
               Mac::Components         components
               Mac::Files              files
               Mac::Gestalt            gestalt
               Mac::InternetConfig     internetconfig
               Mac::Memory             memory
               Mac::MoreFiles          morefiles
               Mac::Notification       notification
               Mac::OSA                osa
               Mac::Processes          processes
               Mac::Resources          resources
               Mac::Sound              sound
               Mac::Speech             speech
               Mac::Types              types
               MacPerl                 macperl

<b>UNSUPPORTED</b> <b>FUNCTIONS</b>
       <b>Functions</b> <b>supported</b> <b>only</b> <b>in</b> <b>Mac</b> <b>OS</b>

       The functions below are supported only in Mac OS, and not in Mac OS X, either because they are not
       supported by Carbon, or make no sense on Mac OS X.

       Mac::AppleEvents
           AECountSubDescItems
           AEDescToSubDesc
           AEGetKeySubDesc
           AEGetNthSubDesc
           AEGetSubDescBasicType
           AEGetSubDescData
           AEGetSubDescType
           AESubDescIsListOrRecord
           AESubDescToDesc
       Mac::Files
           Eject
       Mac::InternetConfig
           ICChooseConfig
           ICChooseNewConfig
           ICGeneralFindConfigFile
           ICGetConfigReference
           ICGetComponentInstance
           ICSetConfigReference
       Mac::Memory
           CompactMemSys
           FreeMemSys
           GetApplLimit
           MaxBlockSys
           MaxBlockSysClear
           MaxMemSys
           NewEmptyHandleSys
           NewHandleSys
           NewHandleSysClear
           NewPtrSys
           NewPtrSysClear
           PurgeMemSys
           ReserveMemSys
       Mac::Processes
           LaunchDeskAccessory
       Mac::Resources
           CreateResFile
           OpenResFile
           RGetResource
       Mac::Sound
           Comp3to1
           Comp6to1
           Exp1to3
           Exp1to6
           MACEVersion
           SndControl
           SndPauseFilePlay
           SndRecordToFile
           SndStartFilePlay
           SndStopFilePlay
           SPBRecordToFile
       MacPerl
           Choose
           ErrorFormat
           FAccess
           LoadExternals
           Quit
           Reply

       <b>Functions</b> <b>supported</b> <b>only</b> <b>in</b> <b>Mac</b> <b>OS</b> <b>X</b>

       The functions below are supported only in Mac OS X, and not in Mac OS, either because they are newer
       APIs, or make no sense on Mac OS.

       Mac::Processes
           GetProcessForPID
           GetProcessPID
           LSFindApplicationForInfo
       Mac::Resources
           FSCreateResourceFile
           FSOpenResourceFile

<b>KNOWN</b> <b>BUGS</b>
       See &lt;<a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Mac-Carbon">http://rt.cpan.org/NoAuth/Bugs.html?Dist=Mac-Carbon</a> for more information.

          [GS]<u>etFileInfo()</u> fails on UFS.

          <u>GetAliasInfo()</u> fails on UFS and Intel.

          Need more tests for:

           Mac::Memory
               Should be more comprehensive for very little-used functions; main functionality is tested OK.

           Mac::Sound
               Same.

           Mac::Resources
               Tested really only in other test suites, like Mac::Sound.  Should be more comprehensive.

           Mac::Components
               Same.

           Mac::Files
               Very good, but could do more exhausative <u>FindFolder()</u> tests.

           Mac::Processes
               Tests not very good, but tested pretty extensively by Mac::Glue and friends.

           Mac::MoreFiles
               Same.

           Mac::OSA
               Same.

           Mac::InternetConfig
               No real testing done.

          In a few places, we need to know a text encoding, and assume it (such as in
           <u>LSFindApplicationForInfo()</u>, where Latin-1 is assumed).  This is likely incorrect.

          FSSpecs are limited to 31 characters.  Ugh.  Provide access to newer FSRef-based APIs.

          Not specific to the Carbon versions: the Mac:: modules define classes such as "Handle" which
           probably should be something else, like "Mac::Handle" or "Mac::Carbon::Handle" or
           "Mac::Memory::Handle" (other examples include "AEDesc", "Point", "Rect").  No one has really
           complained before except on principle, but still ...

          Can we support XCMDs etc. via XL?  Do we want to?

<b>AUTHOR</b>
       The Mac Toolbox modules were written by Matthias Neeracher &lt;neeracher@mac.com&gt;.  They were ported to
       Mac OS X and are currently maintained by Chris Nandor &lt;pudge@pobox.com&gt;.

<b>THANKS</b>
       Michael Blakeley, Emmanuel. M. Decarie, Matthew Drayton, brian d foy, David Hand, Gero Herrmann,
       Peter N Lewis, Paul McCann, Sherm Pendley, Randal Schwartz, Michael Schwern, John Siracusa, Dan
       Sugalksi, Ken Williams, Steve Zellers.

<b>SEE</b> <b>ALSO</b>
       <a href="../man1/perl.1.html#//apple_ref/doc/man/1/perl"><u>perl</u>(1)</a>.



perl v5.8.8                                      2006-07-06                                        <!-- a -->Carbon(3)<!-- /a -->
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Mac__Carbon.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Mac__Carbon.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Mac__Carbon.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
