<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Introduction to Memory Management (IM: M)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING9></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Memory-8.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Memory-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Memory-202.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Memory-10.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Memory-2.html"><B>Memory</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING9-0></A>
<H1>Chapter 1 - Introduction to Memory Management</H1>
 This chapter is a general introduction to memory management on Macintosh computers. It describes how the Operating System organizes and manages the available memory, and it shows how you can use the services provided by the Memory Manager and other system software components to manage the memory in your application partition effectively.<P>
 You should read this chapter if your application or other software allocates memory dynamically during its execution. This chapter describes how to<P>
<UL>
<LI>set up your application partition at launch time
<LI>determine the amount of free memory in your application heap
<LI>allocate and dispose of blocks of memory in your application heap
<LI>minimize fragmentation in your application heap caused by blocks of memory that cannot move
<LI>implement a scheme to avoid low-memory conditions<P>
</UL>
 You should be able to accomplish most of your application's memory allocation and management by following the instructions given in this chapter. If, however, your application needs to allocate memory outside its own partition (for instance, in the system heap), you need to read the chapter "Memory Manager" in this book. If your application has timing-critical requirements or installs procedures that execute at interrupt time, you need to read the chapter "Virtual Memory Manager" in this book. If your application's executable code is divided into multiple segments, you might also want to look at the chapter "Segment Manager" in <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I> for guidelines on how to divide your code into segments. If your application uses resources, you need to read the chapter "Resource Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I> for information on managing memory allocated to resources.<P>
 This chapter begins with a description of how the Macintosh Operating System organizes the available physical random-access memory (RAM) in a Macintosh computer and how it allocates memory to open applications. Then this chapter describes in detail how the Memory Manager allocates blocks of memory in your application's heap and how to use the routines provided by the Memory Manager to perform the memory-management tasks listed above.<P>
 This chapter ends with descriptions of the routines used to perform these tasks. The <A HREF=Memory-13.html#MARKER-9-302>"Memory Management Reference"</A> and <A HREF=Memory-150.html#MARKER-9-533>"Summary of Memory Management"</A> sections <BR>in this chapter are subsets of the corresponding sections in the remaining chapters in <BR>this book.<P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Memory-10.html#HEADING10-0">About Memory</A>
<DD>
<DL>
<DT><A HREF="Memory-10.html#HEADING10-6">Organization of Memory by the Operating System</A>
<DD>
<DL>
	<DT><A HREF="Memory-10.html#HEADING10-13">The System Heap</A>
		<DD>
	<DT><A HREF="Memory-10.html#HEADING10-17">The System Global Variables</A>
		<DD>
</DL>
<DT><A HREF="Memory-10.html#HEADING10-22">Organization of Memory in an Application Partition</A>
<DD>
<DL>
	<DT><A HREF="Memory-10.html#HEADING10-35">The Application Stack</A>
		<DD>
	<DT><A HREF="Memory-10.html#HEADING10-42">The Application Heap</A>
		<DD>
</DL>
<DT><A HREF="Memory-10.html#HEADING10-52">The Application Global Variables and A5 World</A>
<DD>
<DT><A HREF="Memory-10.html#HEADING10-66">Temporary Memory</A>
<DD>
<DT><A HREF="Memory-10.html#HEADING10-74">Virtual Memory</A>
<DD>
<DT><A HREF="Memory-10.html#HEADING10-78">Addressing Modes</A>
<DD>
</DL>
<DT><A HREF="Memory-11.html#HEADING11-0">Heap Management</A>
<DD>
<DL>
<DT><A HREF="Memory-11.html#HEADING11-10">Relocatable and Nonrelocatable Blocks</A>
<DD>
<DT><A HREF="Memory-11.html#HEADING11-29">Properties of Relocatable Blocks</A>
<DD>
<DL>
	<DT><A HREF="Memory-11.html#HEADING11-31">Locking and Unlocking Relocatable Blocks</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-37">Purging and Reallocating Relocatable Blocks</A>
		<DD>
</DL>
<DT><A HREF="Memory-11.html#HEADING11-43">Memory Reservation</A>
<DD>
<DT><A HREF="Memory-11.html#HEADING11-49">Heap Purging and Compaction</A>
<DD>
<DT><A HREF="Memory-11.html#HEADING11-55">Heap Fragmentation</A>
<DD>
<DL>
	<DT><A HREF="Memory-11.html#HEADING11-63">Deallocating Nonrelocatable Blocks</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-67">Reserving Memory</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-71">Locking Relocatable Blocks</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-82">Allocating Nonrelocatable Blocks</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-85">Summary of Preventing Fragmentation</A>
		<DD>
</DL>
<DT><A HREF="Memory-11.html#HEADING11-95">Dangling Pointers</A>
<DD>
<DL>
	<DT><A HREF="Memory-11.html#HEADING11-99">Compiler Dereferencing</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-115">Loading Code Segments</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-120">Callback Routines</A>
		<DD>
</DL>
<DT><A HREF="Memory-11.html#HEADING11-129">Invalid Handles</A>
<DD>
<DL>
	<DT><A HREF="Memory-11.html#HEADING11-131">Disposed Handles</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-137">Empty Handles</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-148">Fake Handles</A>
		<DD>
</DL>
<DT><A HREF="Memory-11.html#HEADING11-162">Low-Memory Conditions</A>
<DD>
<DL>
	<DT><A HREF="Memory-11.html#HEADING11-165">Memory Cushions</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-170">Memory Reserves</A>
		<DD>
	<DT><A HREF="Memory-11.html#HEADING11-174">Grow-Zone Functions</A>
		<DD>
	<DT></DL>
		<DD>

</DL>
<DT><A HREF="Memory-12.html#HEADING12-0">Using Memory</A>
<DD>
<DL>
<DT><A HREF="Memory-12.html#HEADING12-8">Setting Up the Application Heap</A>
<DD>
<DL>
	<DT><A HREF="Memory-12.html#HEADING12-15">Changing the Size of the Stack</A>
		<DD>
	<DT><A HREF="Memory-12.html#HEADING12-27">Expanding the Heap</A>
		<DD>
	<DT><A HREF="Memory-12.html#HEADING12-31">Allocating Master Pointer Blocks</A>
		<DD>
</DL>
<DT><A HREF="Memory-12.html#HEADING12-40">Determining the Amount of Free Memory</A>
<DD>
<DT><A HREF="Memory-12.html#HEADING12-53">Allocating Blocks of Memory</A>
<DD>
<DT><A HREF="Memory-12.html#HEADING12-67">Maintaining a Memory Reserve</A>
<DD>
<DT><A HREF="Memory-12.html#HEADING12-93">Defining a Grow-Zone Function</A>
<DD>
</DL>
<DT><A HREF="Memory-13.html#HEADING13-0">Memory Management Reference</A>
<DD>
<DL>
<DT><A HREF="Memory-14.html#HEADING14-0">Memory Management Routines</A>
<DD>

<DL>
	<DT><A HREF="Memory-15.html#HEADING15-0">Setting Up the Application Heap</A>
		<DD>
	<DT><A HREF="Memory-20.html#HEADING20-0">Allocating and Releasing Relocatable Blocks of Memory</A>
		<DD>
	<DT><A HREF="Memory-24.html#HEADING24-0">Allocating and Releasing Nonrelocatable Blocks of Memory</A>
		<DD>
	<DT><A HREF="Memory-28.html#HEADING28-0">Setting the Properties of Relocatable Blocks</A>
		<DD>
	<DT><A HREF="Memory-35.html#HEADING35-0">Managing Relocatable Blocks</A>
		<DD>
	<DT><A HREF="Memory-41.html#HEADING41-0">Manipulating Blocks of Memory</A>
		<DD>
	<DT><A HREF="Memory-43.html#HEADING43-0">Assessing Memory Conditions</A>
		<DD>
	<DT><A HREF="Memory-46.html#HEADING46-0">Grow-Zone Operations</A>
		<DD>
	<DT><A HREF="Memory-49.html#HEADING49-0">Setting and Restoring the A5 Register</A>
		<DD>
</DL>

<DT><A HREF="Memory-52.html#HEADING52-0">Application-Defined Routines</A>
<DD>

<DL>
	<DT><A HREF="Memory-53.html#HEADING53-0">Grow-Zone Functions</A>
		<DD>

</DL>
</DL>
<DT><A HREF="Memory-55.html#HEADING55-0">Summary of Memory Management</A>
<DD>
<DL>
<DT><A HREF="Memory-55.html#HEADING55-1">Pascal Summary</A>
<DD>
<DL>
	<DT><A HREF="Memory-55.html#HEADING55-2">Data Types</A>
		<DD>
	<DT><A HREF="Memory-55.html#HEADING55-4">Memory Management Routines</A>
		<DD>

	<DT><A HREF="Memory-55.html#HEADING55-42">Application-Defined Routines</A>
		<DD>
</DL>
<DT><A HREF="Memory-55.html#HEADING55-45">C Summary</A>
<DD>
<DL>
<DT><A HREF="Memory-55.html#HEADING55-46">Data Types</A>
<DD>
<DT><A HREF="Memory-55.html#HEADING55-49">Memory Management Routines</A>
<DD>
<DT><A HREF="Memory-55.html#HEADING55-87">Application-Defined Routines</A>
<DD>
</DL>
<DT><A HREF="Memory-55.html#HEADING55-90">Assembly-Language Summary</A>
<DD>
<DL>
	<DT><A HREF="Memory-55.html#HEADING55-91">Global Variables</A>
		<DD>
</DL>
<DT><A HREF="Memory-55.html#HEADING55-92">Result Codes</A>
<DD>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Memory-8.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Memory-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Memory-202.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Memory-10.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Memory-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
