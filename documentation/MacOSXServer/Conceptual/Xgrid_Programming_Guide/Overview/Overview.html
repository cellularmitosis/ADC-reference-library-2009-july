<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Xgrid Programming Guide: Xgrid Overview</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Xgrid Overview"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006246-CH2" title="Xgrid Overview"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000426" target="_top">Mac OS X Server</a> &gt; <a href="../../../HighPerformanceComputing-date.html#//apple_ref/doc/uid/TP30000440-TP30000426-TP40001893" target="_top">High Performance Computing</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40006246-CH1-DontLinkElementID_36">Xgrid Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../GettingStarted/GettingStarted.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40006246-CH2-SW1" title="Xgrid Overview"></a><h1>Xgrid Overview</h1><p>Xgrid allows you to execute programs using multiple computers—and multiple processors on a single computer—to perform multiple calculations in parallel. </p><p>Xgrid is a generalized system, capable of assembling clusters of processors on demand, detecting and correcting failures, and parceling out parallel tasks as needed for general-purpose parallel computing on multiple systems.</p><p>The Xgrid controller is a feature of Mac OS X Server, but any computer with Mac OS X (version 10.4 and later) can submit jobs to Xgrid or act as an agent to carry out Xgrid computations.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_13">How It Works</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_14">Client Software</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_15">Controller Software</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_16">Agent Software</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_17">Setting Up Xgrid</a>
				
			<br/>
			
        
			
			
				<a href="Overview.html#//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_18">Submitting Jobs to Xgrid</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_13" title="How It Works"></a><h2>How It Works</h2><p>The main components of Xgrid are the <em>client</em>, the <em>controller</em>, and one or more <em>agents</em>. As illustrated in <span class="content_text">Figure 1-1</span>, the client submits <em>jobs</em> to the controller, which assigns <em>tasks</em> to the agents. The agents carry out the tasks and return data to the controller. The controller supervises the agents, collects the data, and notifies the client when the job terminates.</p><br/><div><a name="//apple_ref/doc/uid/TP40006246-CH2-SW3" title="Figure 1-1Xgrid architecture"></a><p><strong>Figure 1-1&nbsp;&nbsp;</strong>Xgrid architecture</p><img src = "../Art/xgridworkflow.jpg" alt = "Diagram of Xgrid client, controller, and agents" ></div><br/><p>A <em>job</em>, as defined for Xgrid, is a collection of one or more executable <em>tasks</em> that can be run in parallel. Each individual task consists of an executable file and any necessary input parameters, data files, and directories. </p><p>If enough agents are available, each task is assigned to an agent for simultaneous execution. If necessary, agents with multiple CPUs or multiple cores will have a separate task assigned to each CPU or core. </p><p>If there are not enough agents, CPUs, or cores to execute all the tasks simultaneously, the controller assigns tasks to each agent, then waits and assigns the remaining tasks to agents as they finish their current task or otherwise become available.</p><p>The controller passes or copies the executable files to the agents, along with any necessary working directories for input and output. The controller supervises and coordinates the agents, detects individual failures, and reassigns tasks as necessary. The agents complete the tasks and return any data, and the controller notifies the client when the job is done or aborts due to an error. </p><p>Since jobs typically take a long time to execute, the process is asynchronous. The client submits the job and is notified when it completes.</p><p>The client can register to be notified by the controller when the job completes or when events such as errors occur.  Notifications by email are also supported. </p><p>The client may also monitor the job state at any time by querying the controller. The client may disconnect from the network and return to check the status of the job later.</p><p>Xgrid provides notification of errors, task completion, and job completion. Ongoing progress of individual tasks is not reported, even for very long tasks.</p><a name="//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_14" title="Client Software"></a><h2>Client Software</h2><p>Mac OS X includes a command-line client, <code>xgrid</code>, and a sample client application, GridSample.</p><p>The <code>xgrid</code> command-line client is installed on all computers with Mac OS X, versions 10.4 and later. </p><p>When you install the Developer Tools for Mac OS X version 10.4, or the Xcode Tools for Mac OS X version 10.5, a directory named <code>Developer/Examples/Xgrid</code> is created. Inside this directory is an Xcode project named GridSample. This project contains a complete client application. You can build and run this application as a graphical alternative to the <code>xgrid</code> command-line tool. You can also modify the GridSample code to create your own client applications with minimal programming. To an extent, you can treat the GridSample project as an application framework.</p><p>You can also write your own Xgrid client software from scratch, using the Xgrid Foundation framework—a collection of Objective-C classes. </p><p>Client software that you write, either from scratch or by modifying the GridSample code, can be run on any computer with Mac OS X version 10.4 or later.</p><a name="//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_15" title="Controller Software"></a><h2>Controller Software</h2><p>The controller software is included on Mac OS X Server version 10.4 or later.</p><p>You do not normally need to interact with the controller software directly. After a controller is configured, it waits for job submissions from clients and performs its work without human intervention. On Mac OS X Server, the Xgrid controller can be configured using the Server Admin tool (found in the <code>Applications/Server/</code> directory). From within Server Admin, choose Computers and Services, then select Xgrid. Tabs are available for configuring controller software and agent software. </p><p>Mac OS X Server also includes the XgridAdmin application (also found in the <code>Applications/Server</code> directory), which can be used to monitor and administer Xgrid, to cancel or delete jobs, for example.</p><a name="//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_16" title="Agent Software"></a><h2>Agent Software</h2><p>Any computer with Mac OS X version 10.3 or later can act as an agent. The agent software is included in version 10.4 and later, and can be downloaded for version 10.3. </p><p>The agent software can be controlled from the System Preferences window, as shown in <span class="content_text">Figure 1-2</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40006246-CH2-SW2" title="Figure 1-2Agent configuration"></a><p><strong>Figure 1-2&nbsp;&nbsp;</strong>Agent configuration</p><img src = "../Art/xgridagentprefs.jpg" alt = "System preferences, sharing panel, agent pane" ></div><br/><p>By default, agent software is off. When turned on, by default it accepts tasks only when the host computer is idle (has had no activity for 15 minutes or is running the screen saver). The agent software can be set to accept jobs at any time, however, making the host computer a <em>dedicated</em> agent (the host computer can still run other software, but is available for parallel computing tasks at all times).</p><p>On Mac OS X Server, the agent softwarer can be configured using the Server Admin tool (found in the <code>Applications/Server/</code> directory). From within Server Admin, choose Computers and Services, then select Xgrid. Tabs are available for configuring controller software and agent software. </p><a name="//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_17" title="Setting Up Xgrid"></a><h2>Setting Up Xgrid</h2><p>Setting up Xgrid is fairly simple. </p><ul class="ul"><li class="li"><p>Choose a Mac OS X Server computer to act as a controller. Enable the controller and set the password using the Server Admin application (choose Xgrid from the list of Computers and Services; there are tabs for configuring the Agent and Controller services).</p></li><li class="li"><p>Choose the computers you will use as agents and enable the Xgrid function (in the Sharing pane of the System Preferences window) for each agent computer.</p></li><li class="li"><p>Make sure that all of the agents can be accessed over the network by the controller.</p></li><li class="li"><p>If your agents are sharing access to a common pool of data, rather than receiving copies of all necessary data from the controller, make sure that all the agents have network access to the data and verify that they have the necessary permissions to read and write.</p></li></ul><p>While simple in concept, ensuring network access to all agents in a large organization can be tricky to implement. Similarly, setting permissions correctly so that a data set can be shared by multiple agents can involve a great deal of housekeeping. Where doing so is practical, you can eliminate most of the complexity by taking two simplifying steps: put the controller and all the agents on the same IP subnet; and have the controller copy all necessary data to the agents.</p><p>Setting up the controller and agents is described in more detail in <span class="content_text"><a href="http://images.apple.com/server/docs/Xgrid_Admin_v10.4.pdf" target="_blank">[Xgrid Administration Guide]</a></span>. The administrator’s guide also provides a more detailed overview of the Xgrid architecture and setup considerations.</p><a name="//apple_ref/doc/uid/TP40006246-CH2-DontLinkElementID_18" title="Submitting Jobs to Xgrid"></a><h2>Submitting Jobs to Xgrid</h2><p>Mac OS X includes two client applications for submitting jobs to Xgrid: a command-line tool named <code>xgrid</code>, and an application named GridSample, which is provided as build-able source code. Mac OS X (version 10.4 and later) also contains an Objective-C framework, Xgrid Foundation, which includes a client API for Xgrid.  Consequently, there are four ways to submit jobs to Xgrid:</p><ul class="ul"><li class="li"><p>You can use the <code>xgrid</code> command-line client with a headless application, such as a shell script, to submit jobs to Xgrid. This is a utilitarian approach that allows you to use Xgrid in a UNIX-like way without writing any Xgrid-specific code at all.</p></li><li class="li"><p>You can use the GridSample application in much the way that you use the <code>xgrid</code> command-line tool. GridSample has a user interface that is more flexible and approachable than the <code>xgrid</code> command, allowing your software to be run by users who may not be comfortable or familiar with the UNIX command line or Terminal interface, without requiring you to write any UI code. </p></li><li class="li"><p>You can modify the GridSample source code, overriding the job specification function and adding your own nib file to create a customized user interface. Modifying GridSample enables you to quickly create a customized client with its own user interface without writing any unnecessary code. All the details of job submission, monitoring, and I/O handling are built in. This is the recommended approach for university environments or in-house computing projects that do not require an extensively “branded” client application. If you are planning to write a stand-alone application, you should probably modify GridSample as a first step to test the functional part of your code prior to debugging the UI and housekeeping parts.</p></li><li class="li"><p>You can write a stand-alone Objective-C application that acts as an Xgrid client and submits jobs to Xgrid, using the Xgrid Foundation framework. This is the recommended approach when you need complete control over the look and feel of the Xgrid client application.</p></li></ul><p>This document describes all four methods of submitting jobs to Xgrid. </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../GettingStarted/GettingStarted.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MacOSXServer/Conceptual/Xgrid_Programming_Guide/Overview/Overview.html%3Fid%3DTP40006246-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MacOSXServer/Conceptual/Xgrid_Programming_Guide/Overview/Overview.html%3Fid%3DTP40006246-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MacOSXServer/Conceptual/Xgrid_Programming_Guide/Overview/Overview.html%3Fid%3DTP40006246-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>