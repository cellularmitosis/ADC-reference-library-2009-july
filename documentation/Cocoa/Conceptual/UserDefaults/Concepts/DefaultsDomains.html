<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>User Defaults Programming Topics for Cocoa: Defaults Domains</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Defaults Domains"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000718" title="Defaults Domains"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../UserExperience-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000465" target="_top">User Experience</a> &gt; <a href="../index.html" target="_top">User Defaults Programming Topics for Cocoa</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../UserDefaults.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/UsingDefaults.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000718-BBCFDGFC" title="Defaults Domains"></a><hr /><H1>Defaults Domains</H1>

<p>Defaults are grouped in domains. For example, there’s a domain for application-specific defaults and another for system-wide defaults that apply to all applications. All defaults are stored and accessed per user. Defaults that affect all users are not provided for.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="DefaultsDomains.html#//apple_ref/doc/uid/20000718-DontLinkElementID_1">Domains</a>
				
			<br/>
			
        
			
			
				<a href="DefaultsDomains.html#//apple_ref/doc/uid/20000718-96930">Argument Domain</a>
				
			<br/>
			
        
			
			
				<a href="DefaultsDomains.html#//apple_ref/doc/uid/20000718-96980">Application Domain</a>
				
			<br/>
			
        
			
			
				<a href="DefaultsDomains.html#//apple_ref/doc/uid/20000718-96994">Global Domain</a>
				
			<br/>
			
        
			
			
				<a href="DefaultsDomains.html#//apple_ref/doc/uid/20000718-97028-BAJFFGHD">Languages Domain</a>
				
			<br/>
			
        
			
			
				<a href="DefaultsDomains.html#//apple_ref/doc/uid/20000718-97046">Registration Domain</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20000718-DontLinkElementID_1" title="Domains"></a><h2>Domains</h2>
<p>Defaults are grouped in domains. Each domain has a name by which it’s identified and stores defaults as key-value pairs in an <code>NSDictionary</code> object. Each default is made up of three components:</p>
<ul class="ul"><li class="li"><p>The domain in which the default is stored</p></li>
<li class="li"><p>The name by which the default is identified (an <code>NSString</code> object)</p></li>
<li class="li"><p>The default’s value, which can be any property-list object (<code>NSData</code>, <code>NSString</code>, <code>NSNumber</code>, <code>NSDate</code>, <code>NSArray</code>, or <code>NSDictionary</code>)</p></li></ul>
<p>A domain is either persistent or volatile. Persistent domains are permanent and last past the life of the user defaults object. Persistent domains are stored in a user’s defaults database. If you use a user defaults object (an instance of <code>NSUserDefaults</code> or <code>NSUserDefaultsController</code>) to make a change to a default in a persistent domain, the changes are saved in the user’s defaults database automatically. On the other hand, volatile domains last only as long as the user defaults object exists; they aren’t saved in the user’s defaults database. The standard domains are:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Domain</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>State</p></th>
</tr>


<tr>
<td  scope="row"><p><code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArgumentDomain" target="_top">NSArgumentDomain</a></code></p></td>
<td ><p>volatile</p></td>
</tr>
<tr>
<td  scope="row"><p>Application (Identified by the application’s identifier)</p></td>
<td ><p>persistent</p></td>
</tr>
<tr>
<td  scope="row"><p><code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSGlobalDomain" target="_top">NSGlobalDomain</a></code></p></td>
<td ><p>persistent</p></td>
</tr>
<tr>
<td  scope="row"><p>Languages (Identified by the language names)</p></td>
<td ><p>volatile</p></td>
</tr>
<tr>
<td  scope="row"><p><code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSRegistrationDomain" target="_top">NSRegistrationDomain</a></code></p></td>
<td ><p>volatile</p></td>
</tr>

</table></div>
<p>A search for the value of a given default proceeds through the domains in an <code>NSUserDefaults</code> object’s search list. Only domains in the search list are searched. The standard search list contains the domains from the table above, in the order listed. A search ends when the default is found. Thus, if multiple domains contain the same default, only the domain nearest the beginning of the search list provides the default’s value.</p>
<p>The following sections describe the purpose of each of the domains.</p>
<a name="//apple_ref/doc/uid/20000718-96930" title="Argument Domain"></a><h2>Argument Domain</h2>
<p>Default values can be set from command line arguments (if you start the application from the command line) as well as from a user's defaults database. Default values set from the command line go in the <code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArgumentDomain" target="_top">NSArgumentDomain</a></code>. They are set on the command line by preceding the default name with a hyphen and following it with a value. For example, the following command launches Xcode and sets Xcode’s <code>IndexOnOpen</code> default to <code>NO</code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre>localhost> Xcode.app/Contents/MacOS/Xcode -IndexOnOpen NO<span></span></pre></td></tr></table></div>
<p>Defaults set from the command line temporarily override values from a user’s defaults database. In the example above, Xcode won’t automatically index projects even if the user’s <code>IndexOnOpen</code> preference is set to <code>YES</code> in the defaults database.</p>
<a name="//apple_ref/doc/uid/20000718-96980" title="Application Domain"></a><h2>Application Domain</h2>
<p>The application domain contains application-specific defaults that are read from a user’s defaults database. The application domain is identified by the bundle identifier of the application. When you save a user’s defaults in your application, this is typically the domain to which the values are saved. Values themselves are stored in a file managed by the system. Currently, they are stored in <code>$HOME/Library/Preferences/&lt;ApplicationIdentifier>.plist</code>; it may be useful to inspect this file for debugging purposes, but you should not modify this file directly—instead you should use the appropriate API provided by the user defaults objects.</p>
<a name="//apple_ref/doc/uid/20000718-96994" title="Global Domain"></a><h2>Global Domain</h2>
<p>The global domain contains defaults that are read from a user’s defaults database and are applicable to all applications that a user runs. Many Application Kit and Foundation objects use default values from the <code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSGlobalDomain" target="_top">NSGlobalDomain</a></code>. For example, <code>NSRulerView</code> objects automatically use a user’s preferred measurement units, as stored in the user’s defaults database under the key <code><!--a  -->AppleMeasurementUnits<!--/a--></code>. Consequently, ruler views in all applications use the user’s preferred measurement units—unless an application overrides the default by creating an <code><!--a  -->AppleMeasurementUnits<!--/a--></code> default in its application domain. Another <code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSGlobalDomain" target="_top">NSGlobalDomain</a></code> default, under the key <code><!--a  -->AppleLanguages<!--/a--></code>, allows users to specify a preference of languages as an array of strings. For example, a user could specify English as the preferred language, followed by Spanish, French, German, Italian, and Swedish.</p>
<a name="//apple_ref/doc/uid/20000718-97028" title="Languages Domain"></a><a name="//apple_ref/doc/uid/20000718-97028-BAJFFGHD" title="Languages Domain"></a><h2>Languages Domain</h2>
<p>If a user has a value for the <code><!--a  -->AppleLanguages<!--/a--></code> default, then <code>NSUserDefaults</code> records language-specific default values in domains identified by the language name. The language specific domains contain defaults for a locale. Certain classes from the Foundation Framework (such as <code>NSCalendarDate</code>, <code>NSDate</code>, and <code>NSTimeZone</code>, <code>NSString</code>, and <code>NSScanner</code>) use locale defaults to modify their behavior. For example, when you request an <code>NSString</code> representation of an <code>NSCalendarDate</code>, the <code>NSCalendarDate</code> object looks at the locale to determine what the months and the days of the week are named in your preferred language.</p>
<a name="//apple_ref/doc/uid/20000718-97046" title="Registration Domain"></a><h2>Registration Domain</h2>
<p>The registration domain is a set of application-provided defaults that are used unless a user overrides them (the “default defaults” or “factory settings”). For example, the first time you run Xcode, there isn’t an <code><!--a  -->IndexOnOpen<!--/a--></code> value saved in your defaults database. Consequently, Xcode registers a default value for <code><!--a  -->IndexOnOpen<!--/a--></code> in the <code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSRegistrationDomain" target="_top">NSRegistrationDomain</a></code> as a “catch all” value. Xcode can thereafter assume that an <code>NSUserDefaults</code> object always has a value to return for the default, simplifying the use of user defaults.</p>
<p>You set <code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSRegistrationDomain" target="_top">NSRegistrationDomain</a></code> defaults programmatically with the method <code><a href="../../../Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html#//apple_ref/occ/instm/NSUserDefaults/registerDefaults:" target="_top">registerDefaults:</a></code>.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../UserDefaults.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/UsingDefaults.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/UserDefaults/Concepts/DefaultsDomains.html%3Fid%3D10000059i-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/UserDefaults/Concepts/DefaultsDomains.html%3Fid%3D10000059i-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/UserDefaults/Concepts/DefaultsDomains.html%3Fid%3D10000059i-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
