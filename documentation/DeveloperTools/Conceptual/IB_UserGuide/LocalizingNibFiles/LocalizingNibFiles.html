<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Interface Builder User Guide: Localization</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Localization"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005344-CH13" title="Localization"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../InterfaceBuilder-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000525" target="_top">Interface Builder</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40005344-CH1-SW1">Interface Builder User Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TestingandValidation/TestingandValidation.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../CustomizingInterfaceBuilder/CustomizingInterfaceBuilder.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005344-CH13-SW1" title="Localization"></a><h1>Localization</h1><p>After you finish your application’s user interface, you can hand off completed nib files to your localization team for translation into other languages. The localization team can use the <code>ibtool</code> command-line program to extract any localizable strings from your nib files and create matching nib files in your product’s target languages. The team can also use Interface Builder to lock nib files to prevent engineers from making further changes that might impact in-progress localizations. The following sections discuss how to use these features in Interface Builder.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="LocalizingNibFiles.html#//apple_ref/doc/uid/TP40005344-CH13-SW4">Locking Down Your Nib File</a>
				
			<br/>
			
        
			
			
				<a href="LocalizingNibFiles.html#//apple_ref/doc/uid/TP40005344-CH13-SW5">Localizing Your Nib File’s Content</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40005344-CH13-SW4" title="Locking Down Your Nib File"></a><h2>Locking Down Your Nib File</h2><p>When you finalize the contents of a nib file in your development language, you can tell Interface Builder to lock the contents of that nib file. Locking a nib file prevents users from making accidental changes that might impact localization efforts. When locked, the inspector window displays all relevant properties of the object as read-only. For properties that can be changed by direct manipulation, Interface Builder also prevents the user from editing those properties directly. </p><p>Interface Builder supports several different levels of locking to give you flexibility on what can and cannot be edited in your nib file. <span class="content_text">Table 9-1</span> lists the available locking options and what impact they have on your objects.</p><a name="//apple_ref/doc/uid/TP40005344-CH13-SW3" title="Table 9-1Locking options for nib-file objects"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 9-1&nbsp;&nbsp;</strong>Locking options for nib-file objects</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Locking option</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p>Nothing</p></td><td ><p>All properties of the object are modifiable.</p></td></tr><tr><td  scope="row"><p>All properties</p></td><td ><p>All properties of the object are locked.</p></td></tr><tr><td  scope="row"><p>Localizable properties</p></td><td ><p>The user may not change any user-visible strings and may not change a limited set of other attributes, such as the object’s size. The user may make other changes, though. For example, the user could change the enabled state of a control or cell. </p></td></tr><tr><td  scope="row"><p>Non-localizable properties</p></td><td ><p>The user may change user-visible strings and attributes such as the size of the object, but may not change any other attributes of the object. The localization team can use this mode to incorporate translations without accidentally changing other object attributes.</p></td></tr></table></div><p>You can apply lock attributes to your entire nib file or on an object-by-object basis. By default, nib-file objects are configured to inherit their lock attribute from their parent object, with top-level objects inheriting their lock attribute from the nib file itself. Changing the lock attribute for a given object affects the selected object and all of its children. Thus, you can use this behavior to lock specific portions of your user interface while still allowing you to work on other portions. </p><p>To change the lock attribute for a single object, do the following:</p><ol class="ol"><li class="li"><p>Select the object.</p></li><li class="li"><p>Open the inspector window and select the identity pane.</p></li><li class="li"><p>In the Interface Builder Identity section, select the desired locking option from the Lock pop-up menu.</p></li></ol><p>To change the lock attributes for your entire nib file, do the following:</p><ol class="ol"><li class="li"><p>Select the nib document window. </p></li><li class="li"><p>Select Window > Document Info to open the information panel.</p></li><li class="li"><p>Select the desired locking option from the Document Locking pop-up menu.</p></li></ol><p>If you want to remove any custom lock attributes from the objects in your nib file, you can do so manually by modifying the individual objects, or you can use the Reset All Objects button in the nib information window. Clicking this button returns all nib-file objects to their default state, whereby they inherit their lock attribute from their parent object. You can use this button to ensure that all nib-file objects are set to a known state. </p><a name="//apple_ref/doc/uid/TP40005344-CH13-SW5" title="Localizing Your Nib File&acirc;&#128;&#153;s Content"></a><h2>Localizing Your Nib File’s Content</h2><p>Because the contents of nib files are seen by end users, you must localize them along with your other project resources. The localization process for nib files involves the following steps: </p><ol class="ol"><li class="li"><p>From the original nib file, extract the set of localizable strings in that nib file.</p></li><li class="li"><p>Translate a copy of the strings file into the target language.</p></li><li class="li"><p>Merge the translated strings file back into a new language-specific version of the nib file.</p></li><li class="li"><p>Go back through each language-specific nib file and make any needed layout adjustments to account for changes in string length.</p></li></ol><p>The following sections describe the steps for extracting the localizable strings from your nib file and for reincorporating them later. This process is accomplished using <code>ibtool</code>, which is a command-line program used to manipulate nib files. This tool is included with Xcode 3.0 and is located in the <code>&lt;Xcode>/usr/bin</code> directory.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40005344-CH13-SW6" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code>ibtool</code> program is a reworked version of the <code>nibtool</code> command-line program, which is included with earlier versions of Xcode. The <code>ibtool</code> program is capable of parsing Interface Builder 3.0 documents as well as earlier nib file formats. The <code>nibtool</code> program can only parse nib files created by Interface Builder 2.5.x and earlier. If you’re using Interface Builder 3.0 or later, you should convert your 2.x format nib files to one of the 3.x formats before you localize them. </p></div><p>Each time you run it, <code>ibtool</code> outputs a status report to the Terminal window. The status report contains any information you requested about the nib file along with any errors that were encountered. The output is formatted as an XML-based property list file, which you can copy and paste into a text file with a <code>.plist</code> file and then open using the Property List Editor application (located in <code>&lt;Xcode>/Applications/Utilities</code>). For more about the types of information you can include in this property list, see the <code>ibtool</code> man page. </p><a name="//apple_ref/doc/uid/TP40005344-CH13-SW7" title="Performing the Initial Localization of a Nib File"></a><h3>Performing the Initial Localization of a Nib File</h3><p>To extract the set of localizable strings from your nib file, you use a command similar to the following in Terminal:</p><div class="codesample"><table><tr><td scope="row"><pre>ibtool --generate-stringsfile MyNib.strings MyNib.nib<span></span></pre></td></tr></table></div><p>The <code>--generate-stringsfile</code> option causes <code>ibtool</code> to parse the specified nib file and generate a strings file containing all of the strings that should be localized, including things such as control titles, tool tips, placeholder text, and accessibility information. The strings file is written out using the UTF-16 encoding, which is the recommended encoding for strings files. For each entry, the file includes comments indicating the object that contains the string, the object’s ID, and the current string if one is set.</p><p>After the exported strings in have been translated, you use <code>ibtool</code> to merge the translations back into your nib file. In Terminal, you should invoke <code>ibtool</code> using a command similar to the following: </p><div class="codesample"><table><tr><td scope="row"><pre>ibtool --strings-file MyNib.strings --write MyNewNib.nib MyNib.nib<span></span></pre></td></tr></table></div><p>Using these parameters, <code>ibtool</code> copies the specified nib file, merges in the contents of the strings file, and writes out a new nib with the changes. When using the <code>--strings-file</code> option, <code>ibtool</code> updates only those strings that are listed in the specified strings file. If you added any strings to your nib file after extracting the initial strings file, those new strings are not touched during the merge. The <code>--write</code> option specifies the name of the new nib file to write out with the localized strings. </p><a name="//apple_ref/doc/uid/TP40005344-CH13-SW8" title="Performing Incremental Localization Updates"></a><h3>Performing Incremental Localization Updates</h3><p>Localization is a time-consuming and potentially expensive process. A way to save both time and money during localization is to reuse your previously localized content as much as possible. If you make changes to one of your program’s master nib files, you can use <code>ibtool</code> to merge your changes into the localized versions of the same nib file. This technique is particularly effective for incorporating minor changes to your layout because it saves having to modify each of your translated nib files by hand. If the updated nib file includes new content (including new strings or new localizations of old strings), you can also merge any new translations into the nib files at the same time you make your other layout changes. </p><p><span class="content_text">Figure 9-1</span> shows the files involved in an incremental localization update. In this example, changes were made to the English nib file in version 2.0 of the program. The updated English nib file also contains a handful of new controls, the strings for which have been translated into French and incorporated into an updated version of the French strings file. </p><br/><div><a name="//apple_ref/doc/uid/TP40005344-CH13-SW2" title="Figure 9-1Merging changes into a localized nib file"></a><p><strong>Figure 9-1&nbsp;&nbsp;</strong>Merging changes into a localized nib file</p><img src = "../Art/localization.jpg" alt = "Merging changes into a localized nib file" ></div><br/><p>During the merge, <code>ibtool</code> pulls information from both the original and the new versions of the English nib file, plus the original French nib file and updated strings file, to create the new French nib file. The command you would use in Terminal to perform this merge would look similar to the following (without the extra formatting): </p><div class="codesample"><table><tr><td scope="row"><pre>ibtool --previous-file ./old/Resources/en.lproj/MyNib.nib<span></span></pre></td></tr><tr><td scope="row"><pre>       --incremental-file ./old/Resources/fr.lproj/MyNib.nib<span></span></pre></td></tr><tr><td scope="row"><pre>       --strings-file ./new/Resources/fr.lproj/French_2.0.strings<span></span></pre></td></tr><tr><td scope="row"><pre>       --localize-incremental<span></span></pre></td></tr><tr><td scope="row"><pre>       --write ./new/Resources/fr.lproj/MyNib.nib<span></span></pre></td></tr><tr><td scope="row"><pre>       ./new/Resources/en.lproj/MyNib.nib<span></span></pre></td></tr></table></div><p>The <code>--previous-file</code> and <code>--incremental-file</code> options specify the master and translated nib files from the previous release. In this case, these are the original English nib file and its French counterpart. The input file for <code>ibtool</code> is the updated master nib file containing the new content for the new version of your application. The <code>--strings-file</code> parameter is optional and only necessary when you want to incorporate updated or new translations into the merged nib file. The <code>--write</code> option specifies the name of the file you want to create based on these inputs.</p><p>As it performs the merge, <code>ibtool</code> starts with a copy of the new master nib file and then migrates changes from the older translated nib file based on a fixed set of rules. Using the English and French nib files from <span class="content_text"><a href="LocalizingNibFiles.html#//apple_ref/doc/uid/TP40005344-CH13-SW2">Figure 9-1</a></span> to provide context, these rules are as follows: </p><ol class="ol"><li class="li"><p>The <code>ibtool</code> program copies version 2.0 of the English nib file and uses that as the starting point for the new version 2.0 French nib file.</p></li><li class="li"><p>The <code>ibtool</code> program compares the objects in versions 1.0 and 2.0 of the English nib files.</p><ul class="ul"><li class="li"><p>If the properties of an object are the same in both versions of the English nib file, <code>ibtool</code> copies the corresponding object from version 1.0 of the French nib file into version 2.0 of the French nib file (replacing the English version of that object). The assumption here is that if nothing changed between the English versions, the object from the older French nib file can be used as is. </p></li><li class="li"><p>If version 2.0 contains an object that is not present in version 1.0, <code>ibtool</code> does nothing. (This means that the version 2.0 of the French nib file contains the new object but with English content.) </p></li><li class="li"><p>If version 1.0 contains an object that is not present in version 2.0, <code>ibtool</code> does nothing. (The object was removed, so it does not need to be merged into the new nib file.)</p></li></ul></li><li class="li"><p>If a strings file was specified, <code>ibtool</code> merges the strings into version 2.0 of the French nib file.</p></li></ol><p>When the merge is complete, what you receive is a new nib file that contains all of your new views and controls but also contains as much translated content as possible. Any new objects you added to your interface must still be translated, assuming you did not provide translations in a strings file during the merge, but at least the number of objects requiring translation is reduced. </p><div class="warningbox"><img src="../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40005344-CH13-DontLinkElementID_9" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;Because  <code>ibtool</code> operates only on the objects found in your master nib files, you should limit the changes you make to localized nib files to changes in strings and geometry only. You should never add objects to, or remove objects from, your localized nib files. You should also not change the type of an object. Such changes are lost when performing an incremental update.</p><p></p><div class="clear"></div></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TestingandValidation/TestingandValidation.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../CustomizingInterfaceBuilder/CustomizingInterfaceBuilder.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-11-19<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/IB_UserGuide/LocalizingNibFiles/LocalizingNibFiles.html%3Fid%3DTP40005344-1.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/IB_UserGuide/LocalizingNibFiles/LocalizingNibFiles.html%3Fid%3DTP40005344-1.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/IB_UserGuide/LocalizingNibFiles/LocalizingNibFiles.html%3Fid%3DTP40005344-1.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>