<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>ATSUI Programming Guide: Introduction to ATSUI Programming Guide</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Introduction to ATSUI Programming Guide"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000027" title="Introduction to ATSUI Programming Guide"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../TextFonts-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="atsui_intro.html#//apple_ref/doc/uid/TP30000027-TP1">ATSUI Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../atsui_chap2/atsui_concepts.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000027-TP1" title="Introduction to ATSUI Programming Guide"></a><h1>Introduction to ATSUI Programming Guide</h1>
<!-- This template is being used for both PDF and HTML. -->
<!-- TopicBook.pm currently relies on the element name bmini_toc. -->

    <h4>Contents:</h4>
    
    <p class="blockquote">

        
			
        
			
        
			
            
                <a href="atsui_intro.html#//apple_ref/doc/uid/TP30000027-DontLinkElementID_2">Organization of This Document</a>
                
            <br/>
            
        
			
            
                <a href="atsui_intro.html#//apple_ref/doc/uid/TP30000027-TPXREF134">Overview of ATSUI</a>
                
            <br/>
            
        
			
            
                <a href="atsui_intro.html#//apple_ref/doc/uid/TP30000027-TPXREF138">See Also</a>
                
            <br/>
            
        

    </p><br/>

<div class="notebox"><a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_6" title="Note"></a><p><strong>Note:</strong>&nbsp;This document was previously titled <em>Rendering Unicode Text With ATSUI</em>.</p></div><p>Apple Type Services for Unicode Imaging<a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_439"></a> (ATSUI<a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_440"></a>) is the technology behind all text drawing in Mac OS X. This document gives an overview of ATSUI, provides an introduction to the concepts and terms you need to understand ATSUI, discusses the core data types you use to control text layout and styles, and shows you how to use ATSUI in your application.</p><a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_1"></a><p>You should read this document if you plan to write an application that </p><ul class="ul"><li class="li"><p>allows fine control over layout features—for example, you can precisely position individual glyphs and lines of text as well as draw Unicode text at any angle of rotation, including vertically</p></li><li class="li"><p>provides text-processing services when Multilingual Text Engine (MLTE) isn’t sufficient</p></li><li class="li"><p>accesses Quartz text effects from Carbon in Mac OS X</p></li><li class="li"><p>supports high-end typography</p></li></ul><p>You might also find parts of this document useful if you are using an API (such as MLTE) that calls into ATSUI, as this document discusses typographical concepts and terms that are relevant to the APIs that call ATSUI.</p><a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_2" title="Organization of This Document"></a><h2>Organization of This Document</h2><p>The chapters in the rest of this document cover the following topics:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="../atsui_chap2/atsui_concepts.html#//apple_ref/doc/uid/TP30000028-TP1">“Typography Concepts”</a></span> provides an overview of how text is laid out and displayed and defines the typographical concepts you need to know to understand how ATSUI implements typography.</p></li><li class="li"><p><span class="content_text"><a href="../atsui_chap3/atsui_concepts2.html#//apple_ref/doc/uid/TP30000029-TP1">“ATSUI Style and Text Layout Objects”</a></span> describes the style and text layout objects used by ATSUI and outlines many of the style, line, and layout features you can control with ATSUI.</p></li><li class="li"><p><span class="content_text"><a href="../atsui_chap4/atsui_tasks.html#//apple_ref/doc/uid/TP30000030-TP1">“Basic Tasks: Working With Objects and Drawing Text”</a></span> discusses general guidelines for using ATSUI, provides step-by-step instructions for getting and setting line, layout, and style attributes, and shows you how to do the most common tasks with ATSUI, such as measuring and drawing text.</p></li><li class="li"><p><span class="content_text"><a href="../atsui_chap5/atsui_interact_tasks.html#//apple_ref/doc/uid/TP30000031-TP1">“Interactive Tasks: Supporting Carets and Highlighting Text”</a></span> describes how to support user interaction with the text your application draws onscreen.</p></li><li class="li"><p><span class="content_text"><a href="../atsui_chap6/atsui_adv_tasks.html#//apple_ref/doc/uid/TP30000032-TP1">“Advanced Tasks: Substituting Fonts and Modifying Layouts”</a></span> provides detailed instructions for doing such advanced tasks as using font fallbacks and kerning text.</p></li><li class="li"><p><span class="content_text"><a href="../atsui_chap7/atsui_direct_tasks.html#//apple_ref/doc/uid/TP30000033-TP1">“Direct-Access Tasks: Working With Glyph Data”</a></span> shows how you can use direct-access functions to control the internal layout processes of ATSUI to affect how glyphs are drawn. </p></li><li class="li"><p><span class="content_text"><a href="../atsui_app_unicode/atsui_appendixA.html#//apple_ref/doc/uid/TP30000034-TP1">“ATSUI Implementation of the Unicode Specification”</a></span> gives additional details on how ATSUI implements Unicode.</p></li><li class="li"><p><span class="content_text"><a href="../atsui_app_features/atsui_appendixB.html#//apple_ref/doc/uid/TP30000035-TP1">“Font Features”</a></span> lists font feature types and the selectors available for each feature type.</p></li></ul><a name="//apple_ref/doc/uid/TP30000027-TPXREF134" title="Overview of ATSUI"></a><h2>Overview of ATSUI</h2><a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_441"></a><p>Mac OS X is an international operating system. It fully supports Unicode and comes with high-quality fonts capable of displaying many languages, including Japanese and Chinese. Mac OS X supports input of non-phonetic characters used by Chinese, Japanese, and Korean through the use of input methods. Because Mac OS X uses Unicode for all onscreen text display, ASTUI is at the heart of all text drawing in Mac OS X, as shown in <span class="content_text">Figure I-1</span>. From the Mac OS X Human Interface Toolbox to the Menu Manager, all Mac OS X text drawing at some point uses ATSUI to render Unicode text. For example, the Finder uses ATSUI to display menu items and create text editing fields:</p><ul class="ul"><li class="li"><p>Menu items are static text displayed by calling the Menu Manager function <code><a href="../../../Reference/Appearance_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/DrawThemeTextBox" target="_top">DrawThemeTextBox</a></code>, which in turn uses ATSUI to render the Unicode text.</p></li><li class="li"><p>Editable text fields are created using MLTE (Multilingual Text Engine) text objects, but MLTE relies on ATSUI to render the Unicode text in the editable text fields.</p></li></ul><p>TextEdit is another application among the many Mac OS X applications that use ATSUI to lay out and render Unicode text. The Unicode text rendering of ATSUI includes support for accents and ligatures, bidirectional text, contextual forms and vowel reordering, vertical text, and surrogates.</p><p>ATSUI is not just a technology that works behind the scenes; you can call directly into the ATSUI API from your application to render Unicode-encoded text. With ATSUI, you can control many aspects of text layout, including justification, alignment (flushness), kerning, tracking, shifting, and ligature formation. Using ATSUI  direct-access functions, you can, if necessary, control how individual segments of glyphs are drawn.</p><br/><div><a name="//apple_ref/doc/uid/TP30000027-BCIIDDEE" title="Figure I-1ATSUI and text drawing in Mac OS X "></a><p><strong>Figure I-1&nbsp;&nbsp;</strong>ATSUI and text drawing in Mac OS X </p><a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_442"></a><img src = "../art/atsuihierarchy.gif" alt = "ATSUI and text drawing in Mac OS X" width="289" height="232"></div><br/><p>ATSUI uses opaque objects to keep track of style and layout information that specify how you want text displayed. Using the information in these objects, ATSUI can support high-end typographic control of</p><ul class="ul"><li class="li"><p>bidirectional text</p></li><li class="li"><p>vertical text with variants, kanji variants, and proportional Chinese-Japanese-Korean (CJK)</p></li><li class="li"><p>kashida justification, rearrangement, ligatures, and contextual forms</p></li><li class="li"><p>combined characters that require ligation, morphing, and other advanced effects</p></li><li class="li"><p>optical alignment</p></li><li class="li"><p>stylistic sophistication of font design such as swash variants and arbitrary ligatures</p></li></ul><p>ATSUI has a number of functions that support text editing, including highlighting, hit-testing, caret movement, and caret positioning functions. For developers who need to manipulate glyphs directly, ATSUI also provides a set of functions that allows access to glyph outlines and details of the glyph array. </p><p>ATSUI provides full Unicode 3.2 layout support and supports text rendering support for all the features required by scripts included with version 2.1 of the Unicode standard or later. The ability of ATSUI to render Unicode text is limited only by the available fonts the user has installed. (ATSUI does not provide other Unicode-related text processing services such as formatting the date and time.)</p><a name="//apple_ref/doc/uid/TP30000027-TPXREF136" title="ATSUI and Font Data"></a><h3>ATSUI and Font Data</h3><p>ATSUI takes advantage of all data included in a font<a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_443"></a>. This means if a font designer includes ligatures, swashes, alternate forms, or any data that describes the font, ATSUI can use the data. For example, the Zapfino font provides several forms for a ligature. Using ATSUI, you can access the Zapfino font data to automatically form the appropriate ligature. When ATSUI changes glyphs to provide an alternate form, ligature, or other modification, the text doesn’t change. This ensures that such services as spelling checking and text searching work properly even when the text is redrawn. If you don’t want to use the data provided with a font, you can set up ATSUI to override the data with the settings you provide.</p><a name="//apple_ref/doc/uid/TP30000027-TPXREF137" title="ATSUI and Quartz"></a><h3>ATSUI and Quartz</h3><p>ATSUI renders text with Quartz<a name="//apple_ref/doc/uid/TP30000027-DontLinkElementID_444"></a>, Apple’s 2D rendering engine, giving your text the look and feel that makes Mac OS X unique. ATSUI is fully integrated with Quartz in Mac OS X. You can use the two technologies together to get superior anti-aliasing and to take advantage of the attributes associated with a Quartz context (<code><!--a-->CGContext<!--/a--></code>). For example, some features, such as line rotation, are supported by both ATSUI and Quartz. By using ATSUI and Quartz together, you have the option to choose which technology does the rotation. You’ll see how to do this later in <span class="content_text"><a href="../atsui_chap4/atsui_tasks.html#//apple_ref/doc/uid/TP30000030-TPXREF183">“Drawing Text Using a Quartz Context.”</a></span> </p><p>Quartz provides a number of other features that you may want to take advantage of, such as transparency. You can set a transparency level for a Quartz context, then when you use ATSUI to draw text into the context, the text is drawn with the transparency level specified for the Quartz context.</p><a name="//apple_ref/doc/uid/TP30000027-TPXREF138" title="See Also"></a><h2>See Also</h2><p><em><a href="../../../Reference/ATSUI_Reference/index.html#//apple_ref/doc/uid/TP30000309" target="_top">ATSUI Reference</a></em>, a complete reference to the ATSUI programming interface</p><p>To download ATSUI-related sample code and to obtain documentation about other programming interfaces related to text and international services, see the Apple developer website:</p><p><span class="content_text"><a href="http://developer.apple.com/" target="_top">http://developer.apple.com/</a></span></p><p>For detailed information about Unicode:</p><p><span class="content_text"><a href="http://www.unicode.org" target="_blank">http://www.unicode.org</a></span></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../atsui_chap2/atsui_concepts.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/ATSUI_Concepts/atsui_chap1/atsui_intro.html%3Fid%3DTP30000984-2.6&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/ATSUI_Concepts/atsui_chap1/atsui_intro.html%3Fid%3DTP30000984-2.6&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/ATSUI_Concepts/atsui_chap1/atsui_intro.html%3Fid%3DTP30000984-2.6&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>