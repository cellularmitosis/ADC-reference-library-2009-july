<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Creating a Managed Object Model with Xcode: Creating the Model File and the Entities</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating the Model File and the Entities"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006311-CH3" title="Creating the Model File and the Entities"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../DeveloperTools/index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../../DeveloperTools/Xcode-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000557" target="_top">Xcode</a> &gt; <a href="00_Introduction.html#//apple_ref/doc/uid/TP40006311-CH1-DontLinkElementID_7">Creating a Managed Object Model with Xcode</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="00_Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="02_momxProperties.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40006311-CH3-SW1" title="Creating the Model File and the Entities"></a><h1>Creating the Model File and the Entities</h1><p>In this tutorial you create a new data model that models two entities—Employee and Department—and the relationships between them. The model includes a number of constraints on the possible values that the entities’ attributes and relationships can have. These constraints are automatically checked before any data is saved to a persistent store.</p><p>The first task is to create the model file itself in Xcode; the second is to add the entities.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="01_momxCreating.html#//apple_ref/doc/uid/TP40006311-CH3-171428">Creating the Model File</a>
				
			<br/>
			
        
			
			
				<a href="01_momxCreating.html#//apple_ref/doc/uid/TP40006311-CH3-DontLinkElementID_4">Adding Entities</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006311-CH3-171428" title="Creating the Model File"></a><h2>Creating the Model File</h2><p>First create a new Cocoa-based project. If you create a Core Data based project, a data model is automatically created for you and added to the project. If you choose a Cocoa Application or a Cocoa Document-based Application, or if you have an existing project, then follow the next steps to add a data model to your project.</p><p>From the File menu choose New File and add a file of type Data Model (from the Design) list. Give the file a suitable name and ensure that the file is added to your application target, as illustrated in <span class="content_text">Figure 1-1</span>, and press Next.</p><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH3-171450-CJBDAJJH" title="Figure 1-1Creating a new persistence model file"></a><p><a name="//apple_ref/doc/uid/TP30001197-171450" title="Figure 1-1Creating a new persistence model file"></a><strong>Figure 1-1&nbsp;&nbsp;</strong>Creating a new persistence model file</p><img src = "../Art/new_modelpanel_grab.gif" alt = "Creating a new persistence model file" width="538" height="408"></div><br/><p>On the following panel, do not select any groups or files, simply click Finish. You should now see a new data model window like that shown in <span class="content_text">Figure 1-2</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH3-171472-CJBIDHAE" title="Figure 1-2Empty persistence model file"></a><p><a name="//apple_ref/doc/uid/TP30001197-171472" title="Figure 1-2Empty persistence model file"></a><strong>Figure 1-2&nbsp;&nbsp;</strong>Empty persistence model file</p><img src = "../Art/empty_model_grab.gif" alt = "Empty persistence model file" width="601" height="470"></div><br/><p>The window is split into a number of sections with different functions. The table views and buttons in the top section allow you to add, delete, and edit entities and properties of entities. The area on the top right serves as an inspector to allow you to examine and edit a selection in more detail. The bottom section presents a graphical representation of the model. The features are described in more detail in <span class="content_text"><!--a target="_top" -->Data Modeling for Core Data<!--/a--></span> in <em><!--a target="_top" -->Xcode User Guide<!--/a--></em>.</p><p>You can edit the model graphically if you prefer—this task illustrates use of the table views.</p><a name="//apple_ref/doc/uid/TP40006311-CH3-DontLinkElementID_4" title="Adding Entities"></a><h2>Adding Entities</h2><p>The schema for the model to create is shown in <span class="content_text"><a href="01_momxCreating.html#//apple_ref/doc/uid/TP40006311-CH3-SW2">Figure 1-3</a></span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH3-SW2" title="Figure 1-3Schema for task model"></a><p><strong>Figure 1-3&nbsp;&nbsp;</strong>Schema for task model</p><img src = "../Art/relationship_cardinality.gif" alt = "Schema for Department and Employee entities." width="468" height="88"></div><br/><p>You typically add and edit entities using the entities table view on the left of the browser pane, as illustrated in <span class="content_text">Figure 1-4</span>. Add a new entity called “Employee” as follows:</p><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH3-SW3" title="Figure 1-4Adding an entity to a data model"></a><p><a name="//apple_ref/doc/uid/TP30001197-171076" title="Figure 1-4Adding an entity to a data model"></a><strong>Figure 1-4&nbsp;&nbsp;</strong>Adding an entity to a data model</p><img src = "../Art/new_entity.gif" alt = "Adding an entity to a data model" width="266" height="246"></div><br/><ol class="ol"><li class="li"><p>Add a new entity to the model. In the entities table view, click the button with the plus sign. Alternatively, in the Design menu choose Data Model > Add Entity. (When you have completed this step, you should also notice that an node representing the Employee entity is added to the diagram view.)</p></li><li class="li"><p>In the table view, double click in the Entity cell in the newly-added row to select the entity name and change it from “Entity” to “Employee.”</p></li><li class="li"><p>Tab to the Class cell and enter the text “Employee.”</p></li><li class="li"><p>Do not check the “Abstract” switch. </p></li></ol><p>Add a Department entity by repeating steps 1-4, but using “Department” in place of “Employee.” Alternatively, add a Department entity using the contextual menu in the diagram view. Note that you will still have to set the class name in the browser. When you have finished, the entities table should look like that shown in <span class="content_text">Figure 1-5</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH3-SW4" title="Figure 1-5Model with Employee and Department entities"></a><p><a name="//apple_ref/doc/uid/TP30001197-153871" title="Figure 1-5Model with Employee and Department entities"></a><strong>Figure 1-5&nbsp;&nbsp;</strong>Model with Employee and Department entities</p><img src = "../Art/dept_and_employee_grab.gif" alt = "Model with Employee and Department entities" width="256" height="244"></div><br/><p>You have now defined two entities—Employee and Department—and importantly you have specified that in your application these entities are represented by the Employee and Department classes respectively. (If you want to test your model without creating custom classes for these entities, you must specify that the entities are represented by <code>NSManagedObject</code>.) The entities are not specified as abstract—you want to create instances of the corresponding classes in your application. To see more details about each entity, look at the detail pane. Ensure that you have selected the General button in the segmented control to the top right of the pane. This displays the entity detail pane, as illustrated in <span class="content_text">Figure 1-6</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40006311-CH3-SW5" title="Figure 1-6Entity detail pane"></a><p><a name="//apple_ref/doc/uid/TP30001197-154004" title="Figure 1-6Entity detail pane"></a><strong>Figure 1-6&nbsp;&nbsp;</strong>Entity detail pane</p><img src = "../Art/entity_inspector_grab.gif" alt = "Entity detail pane" width="284" height="243"></div><br/><p>Leave the remaining values at their default settings. There is no parent entity—the entities do not inherit from any other entity. There is no need to add any user info keys, or to set up any configurations.</p><p>You can now add properties (attributes and relationships) to the entities. Note that the name of a property must not be the same as any no-parameter method name of <code>NSObject</code> or <code>NSManagedObject</code>. </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="00_Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="02_momxProperties.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-08-07<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CreatingMOMWithXcode/Articles/01_momxCreating.html%3Fid%3DTP40006311-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CreatingMOMWithXcode/Articles/01_momxCreating.html%3Fid%3DTP40006311-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CreatingMOMWithXcode/Articles/01_momxCreating.html%3Fid%3DTP40006311-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>