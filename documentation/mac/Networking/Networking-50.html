<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PSetSelfSend(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING50></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-49.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-51.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-35.html"><B>Chapter 2 - AppleTalk Utilities</B></A> / <A HREF="Networking-43.html"><B>AppleTalk Utilities Reference</B></A><BR><DL><DD><A HREF="Networking-46.html"><B>Routines</B></A> / <A HREF="Networking-49.html"><B>Enabling Intranode Delivery of DDP Packets</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING50-0></A>
<H3><A NAME=MARKER-9-115></A>PSetSelfSend</H3>
 The <A NAME=MARKER-2-108></A><CODE>PSetSelfSend</CODE> function enables or disables the AppleTalk intranode <BR>delivery service.<P>
<PRE>
FUNCTION PSetSelfSend (thePBptr: MPPPBPtr; async: Boolean): OSErr;
</PRE>
<DL>
<DT><CODE>thePBptr</CODE>
<DD> A pointer to an MPP parameter block.
<DT><CODE>async</CODE>
<DD> A Boolean that specifies whether the function should be executed asynchronously. Specify <CODE>TRUE</CODE> for asynchronous execution.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD>--><TD>ioCompletion<TD>ProcPtr<TD>A pointer to a completion routine.<TR>
<TD><--<TD>ioResult<TD>OSErr<TD>The function result.<TR>
<TD>--><TD>ioRefNum<TD>Integer<TD>The .MPP driver reference number.<TR>
<TD>--><TD>csCode<TD>Integer<TD>Always <CODE>setSelfSend</CODE>.<TR>
<TD><EM>--></EM><TD>newSelfFlag<TD>Byte<TD>A flag that turns intranode delivery on or off.<TR>
<TD><--<TD>oldSelfFlag<TD>Byte<TD>A flag that reports the previous state of intranode delivery, whether it was on or off.</TABLE>
</B><P>
<DL>
<H5>Field Description</H5>
<DT><CODE><A NAME=MARKER-9-198></A>newSelfFlag</CODE>
<DD> A flag that enables or disables the intranode delivery feature. Set this field to a nonzero number to enable the feature; set it to zero to turn off the feature. 
<DT><CODE><A NAME=MARKER-2-59></A>oldSelfFlag</CODE>
<DD> A flag indicating the previous state of the intranode delivery feature. The <CODE>PSetSelfSend</CODE> function returns this value. A nonzero value indicates that intranode delivery was enabled; a value of <BR>zero indicates it was disabled.<B></B>
</DL>
<A NAME=HEADING50-8></A>
<H5>DESCRIPTION</H5>
 The <CODE>PSetSelfSend</CODE> function turns on or off the intranode delivery feature that allows you to send a packet to another socket on the same node. You can use this feature, for example, to send data from an application to a print spooler that is running in the background on the same node. <P>
 When <CODE>PSetSelfSend</CODE> is enabled, you can send packets to socket clients on your node from all levels of the AppleTalk protocol stack for which there are programming interfaces. The <CODE>PSetSelfSend</CODE> function returns in the <CODE>oldSelfFlag</CODE> field the previous setting for the intranode delivery feature so that you can restore it later, if you want to. Because intranode delivery is enabled on most systems running AppleTalk, you should assume that it is turned on and take this into account when you write your code. <P>
 Note that intranode delivery applies to the user node applications. Sending packets between a multinode application and user node applications on the same machine is independent of the intranode delivery feature. A <A NAME=MARKER-2-60></A>multinode is treated as a virtual node distinct from the user node; both the user node and the multinode have their own <BR>node IDs. <P>
<A NAME=HEADING50-12></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Enabling or disabling the intranode delivery feature affects the entire node. For example, an application that uses NBP to look up names and then display them to a user might not expect to receive names of other network-visible entities within its own node; when intranode delivery is enabled, this will occur.<A NAME=MARKER-2-61></A> <P>
<A NAME=HEADING50-14></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 To execute the <CODE>PSetSelfSend</CODE> function from assembly language, call the <CODE>_Control</CODE> trap macro with a value of <CODE>setSelfSend</CODE> in the <CODE>csCode</CODE> field of the parameter<A NAME=MARKER-2-94></A> block.<P>
<A NAME=HEADING50-16></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error</TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-49.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-51.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
