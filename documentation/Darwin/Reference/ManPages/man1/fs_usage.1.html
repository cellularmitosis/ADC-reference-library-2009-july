<html><head><title>Mac OS X
 Manual Page For fs_usage(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/fs_usage" title="Mac OS X
 Manual Page for fs_usage(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/fs_usage"; name=fs_usage(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
FS_USAGE(1)               BSD General Commands Manual              FS_USAGE(1)

<b>NAME</b>
     <b>fs_usage</b> -- report system calls and page faults related to filesystem activity in real-time

<b>SYNOPSIS</b>
     <b>fs_usage</b> <b>[-e]</b> <b>[-w]</b> <b>[-f</b> <b>mode</b> <b>[-f</b> <b>mode]</b> <b>...]</b> [<b>pid|cmd</b> <b>[pid|cmd]</b> <b>...]</b>

<b>DESCRIPTION</b>
     The <b>fs_usage</b> utility presents an ongoing display of system call usage information pertaining to
     filesystem activity.  It requires root privileges due to the kernel tracing facility it uses to oper-<font color="#ffffff" class="whiteout">ate.&nbsp;operate.</font>
     ate.  By default the activity monitored includes all system processes except the running <b>fs_usage</b>
     process, Terminal, telnetd, sshd, rlogind, tcsh, csh and sh.  These defaults can be overridden such
     that output is limited to include or exclude a list of processes specified by the user.

     The output presented by <b>fs_usage</b> is formatted according to the size of your window.  A narrow window
     will display fewer columns of data.  Use a wide window for maximum data display.  You may override the
     window formatting restrictions by forcing a wide display with the <b>-w</b> option.  In this case, the data
     displayed will wrap when the window is not wide enough.

     The options are as follows:

     <b>-e</b>      Specifying the <b>-e</b> option generates output that excludes sampling of the running fs_usage tool.
             If a list of process ids or commands is also given, then those processes are also excluded from
             the sampled output.

     <b>-f</b>      Specifying the <b>-f</b> option turns on output filtering based on the <u>mode</u> provided.  Multiple fil-<font color="#ffffff" class="whiteout">tering&nbsp;filtering</font>
             tering options can be specified.  By default no output filtering occurs.  The supported modes
             are:

             <u>network</u>    Only network related output is displayed.

             <u>filesys</u>    Only file system related output is displayed.

             <u>cachehit</u>   In addition, display CACHE_HIT output.

     <b>-w</b>      Specifying the <b>-w</b> option forces a wider, more detailed output, regardless of the window size.

     pid | cmd
             The sampled data can be limited to a list of process ids or commands.  When a command name is
             given, all processes with that name will be sampled.  Using the <b>-e</b> option has the opposite
             effect, excluding sampled data relating to the given list of process ids or commands.

     If you set the DYLD_IMAGE_SUFFIX environment variable to ``_debug'', then an application will use the
     debug version of all libraries, including the Carbon FileManager.  See <a href="dyld.1.html#//apple_ref/doc/man/1/dyld">dyld(1)</a>.  When <b>fs_usage</b> is run
     against a Carbon Application launched in this environment, then the high-level Carbon FileManager calls
     will be displayed bracketing the system calls that they are built on.

     The data columns displayed are as follows:

     TIMESTAMP
             TOD when call occurred.  Wide mode will have millisecond granularity.

     CALL    The name of the network or filesystem related call, page-in, page-out, or physical disk access.

     FILE DESCRIPTOR
             Of the form F=x, x is a file descriptor.  Depending on the type of system call, this will be
             either an input value or a return value.

     BYTE COUNT
             Of the form B=x, x is the number of bytes requested by the call.

     [ERRNO]
             On error, the errno is displayed in brackets.

     PATHNAME
             Pathname of the file accessed (up to the last 28 bytes).

     FAULT ADDRESS
             Of the form A=0xnnnnnnnn, where 0xnnnnnnnn is the address being faulted.

     DISK BLOCK NUMBER
             Of the form D=0xnnnnnnnn, where 0xnnnnnnnn is the block number of the physical disk block being
             read or written.

     OFFSET  Of the form O=0xnnnnnnnn, where 0xnnnnnnnn is a file offset.

     SELECT RETURN
             Of the form S=x, x is the number of ready descriptors returned by the select() system call.  If
             S=0, the time limit expired.

     TIME <!-- a -->INTERVAL(W)<!-- /a -->
             The elapsed time spent in the system call.  A `W' after the elapsed time indicates the process
             was scheduled out during this file activity.  In this case, the elapsed time includes the wait
             time.

     PROCESS NAME
             The process that made the system call.

<b>SAMPLE</b> <b>USAGE</b>
     fs_usage -w -f filesys Mail

     <b>fs_usage</b> will display file system related data for all instances of processes named Mail.  Maximum data
     output will be displayed in the window.

<b>SEE</b> <b>ALSO</b>
     <a href="dyld.1.html#//apple_ref/doc/man/1/dyld">dyld(1)</a>, <a href="latency.1.html#//apple_ref/doc/man/1/latency">latency(1)</a>, <a href="sc_usage.1.html#//apple_ref/doc/man/1/sc_usage">sc_usage(1)</a>, <a href="top.1.html#//apple_ref/doc/man/1/top">top(1)</a>

Mac OS X                       November 7, 2002                       Mac OS X
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/fs_usage.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/fs_usage.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/fs_usage.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
