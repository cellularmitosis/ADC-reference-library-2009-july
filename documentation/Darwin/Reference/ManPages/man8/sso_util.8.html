<html><head><title>Mac OS X
 Manual Page For sso_util(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/sso_util" title="Mac OS X
 Manual Page for sso_util(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/sso_util"; name=sso_util(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
sso_util(8)               BSD System Manager's Manual              sso_util(8)

<b>NAME</b>
     <b>sso_util</b> -- Kerberos -- Open Directory Single Sign On

<b>SYNOPSIS</b>
     <b>sso_util</b> command [<b>-args</b>]

<b>DESCRIPTION</b>
     <b>sso_util</b> is a tool for setting up, interrogating and removing Kerberos configurations within the Apple
     Single Sign On environment. This tool can configure services, create and consume encrypted config
     records and tear down Kerberos installations

     Commands for <b>sso_util</b> :

     info [-p] [-g | -l | -L | -r dir_node_path | -s [-R record_name] [-a] [dir_node_path]]
              Returns information about the current Single Sign On environment

              info command arguments:

              <b>-p</b>       Returns the data in XML format

              <b>-g</b>       Returns the default Kerberos realm name

              <b>-l</b>       Returns a list of the services sso_util knows how to Kerberize

              <b>-L</b>       Returns the default Kerberos log file paths

              <b>-r</b> <u>dir</u><b>_</b><u>node</u><b>_</b><u>path</u>
                       Returns whether or not the given node has a Kerberos record associated with it. If it
                       does, it returns the default realm name.  If dir_node_path is '.' (default) it also
                       returns all the realm names available on the search path

              <b>-s</b>       Returns information relating to the secure config record attached to a given computer
                       record in the directory

              <b>-R</b>       Provides the name of the computer record that contains the secure config record
                       information

              <b>-a</b>       Requests all available information on the secure config record

              <u>dir</u><b>_</b><u>node</u><b>_</b><u>path</u>
                       specifies the directory node in which to search for the computer record

     remove [-k [-a admin_name [-p password]] [-d] -r REALM
              Tears down a Kerberos KDC

              remove command arguments:

              <b>-k</b>       removes both the <u>krb5kdc</u> and <u>kadmind</u> processes, and their attendant data and config
                       information

              <b>-a</b>       If the admin name is present, <b>sso_util</b> will attempt to remove the kdc from the list
                       of KDCs in the KerberosClient config record in the default directory node

              <b>-d</b>       Removes the <u>kadmind</u> process. It does not alter any other data

              <b>-r</b>       Kerberos realm name to remove

     configure -r REALM -a admin_name [-p password] service
              Configures Kerberized services on the local machine for the given realm

              configure command arguments:

              <b>-r</b> <u>REALM</u>
                       Kerberos realm for the service principals

              <b>-a</b> <u>admin</u><b>_</b><u>name</u>
                       Account name of an administrator authorized to make changes in the Kerberos database

              <b>-p</b> <u>password</u>
                       Password for the above administrator

              <u>service</u>  Service can be any number of afp, ftp, imap, pop, smtp, ssh, or all

     generateconfig -r REALM -R record_name -f dir_node_path -U user_list -a admin_name [-p password]
              service
              Creates a secure config record and attaches it to a computer record in the given directory

              configure command arguments:

              <b>-r</b> <u>REALM</u>
                       Kerberos realm for the service principals

              <b>-R</b> <u>record</u><b>_</b><u>name</u>
                       Name of the Computer record to attach the secure config record to

              <b>-f</b> <u>dir</u><b>_</b><u>node</u><b>_</b><u>path</u>
                       specifies the directory node in which to find the given computer record

              <b>-U</b> <u>user</u><b>_</b><u>list</u>
                       Comma separated list of users authorized to use the secure config record. The users
                       must be in the same password server as the administrator.

              <b>-a</b> <u>admin</u><b>_</b><u>name</u>
                       Account name of an administrator authorized to make changes in the Kerberos database
                       and also authorized to make changes in the directory node specified by -f

              <b>-p</b> <u>password</u>
                       Password for the above administrator

              <u>service</u>  Service can be any number of afp, ftp, imap, pop, smtp, ssh, or all

     useconfig [-u] [-R record_name] [-f dir_node_path] -a admin_name [-p password]
              Uses a secure config record to configure a server for Kerberos

              configure command arguments:

              <b>-u</b>       Forces the update, ignoring that the update may already have been installed

              <b>-R</b> <u>record</u><b>_</b><u>name</u>
                       Name of the Computer record containing the secure config record

              <b>-f</b> <u>dir</u><b>_</b><u>node</u><b>_</b><u>path</u>
                       Specifies the directory node in which to find the given computer record

              <b>-a</b> <u>admin</u><b>_</b><u>name</u>
                       Account name of an user authorized to use the secure config record (see
                       <u>generateconfig</u>)

              <b>-p</b> <u>password</u>
                       Password for the above user

<b>EXAMPLES</b>
     To configure a server in realm FOO.COM when you have the Kerberos administrator's password

     sso_util configure -r FOO.COM -a kerberos_admin -p password all

     To create a secure config record to allow the delegated administrators, Fred and Barney, to configure a
     server named fred.foo.com in realm FOO.COM (using an existing computer record). The Open Directory Mas-<font color="#ffffff" class="whiteout">ter&nbsp;Master</font>
     ter for foo.com is odmaster.foo.com. This can be run on any server and neither Fred nor Barney need to
     have the Kerberos administrator's password

     sso_util generateconfig -r FOO.COM -R fred.foo.com -f /LDAPv3/odmaster.foo.com  -U Fred,Barney -a ker-<font color="#ffffff" class="whiteout">beros_admin&nbsp;kerberos_admin</font>
     beros_admin -p password all

     To use the secure config record to allow Barney to configure the server named fred.foo.com

     sso_util useconfig -R fred.foo.com -f /LDAPv3/odmaster.foo.com -a Barney -p barneys_password

<b>FILES</b>
     /etc/krb5.keytab  The configure and useconfig commands create or modify the <u>krb5.keytab</u> file.

<b>DIAGNOSTICS</b>
     You can add -v debug_level to any of the <b>sso_util</b> commands. Debug level 1 provides status information,
     higher levels add progressively more levels of detail. The maximum is level 7.

<b>NOTES</b>
     The <b>sso_util</b> tool is used by the Apple Single Sign On system to set up Kerberized services integrated
     with the rest of the Single Sign On components.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/kerberos.1.html#//apple_ref/doc/man/1/kerberos">kerberos(1)</a>, <a href="kerberosautoconfig.8.html#//apple_ref/doc/man/8/kerberosautoconfig">kerberosautoconfig(8)</a>, <a href="kdcsetup.8.html#//apple_ref/doc/man/8/kdcsetup">kdcsetup(8)</a>, <a href="krbservicesetup.8.html#//apple_ref/doc/man/8/krbservicesetup">krbservicesetup(8)</a>, <a href="krb5kdc.8.html#//apple_ref/doc/man/8/krb5kdc">krb5kdc(8)</a>,

Darwin                           April 2, 2008                          Darwin
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/sso_util.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/sso_util.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/sso_util.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
