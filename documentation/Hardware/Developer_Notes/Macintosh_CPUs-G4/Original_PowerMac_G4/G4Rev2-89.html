<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Power Manager</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><TABLE border="0" cellpadding="0" cellspacing="2" width="432">          <TR>        <TD><FONT face="Geneva,Helvetica,Arial" size="1">        <B>PATH<IMG src="images/space.gif" width="6" height="12"></B><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->         <B>></B> Original Power Mac G4 Developer Note                </FONT></TD>        </TR></TABLE><!-- end of path --><A HREF="G4Rev2-87.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="G4Rev2-88.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="G4Rev2-90.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//	--></script><!-- end Show/Hide frames --></A><BR><HR></DIV></DIV><H1><A NAME="pgfId-3414"></A><A NAME="20578"></A>Power Manager<A NAME="marker-3413"></A></H1><A NAME="pgfId-3415"></A>The Power Manager has been redesigned to reduce power consumption in Sleep mode. The new version, Power Manager 2.0, is a native Mac OS manager designed to implement common power management policy across all Macintosh models by means of the new Power Plugin component. </P><A NAME="pgfId-3972"></A>With the Power Manager 2.0, the secondary PCI bus can be completely powered down, including the PCI bridge. To support this feature, power management support has been added to allow the Expansion Manager to install sleep/wake routines that save and restore configuration header information for PCI devices. Developers of PCI drivers should update their software to include power management sleep/wake callbacks to save and restore their PCI card state on sleep/wake. Those new drivers need to set a new driver description bit to indicate that they can operate with the new power management architecture.</P><A NAME="pgfId-4226"></A><BLOCKQUOTE><B>Important:</B>&nbsp;&nbsp;Because the power is turned off in Sleep mode, any PCI card that does not support the new power management architecture will prevent the computer from entering Sleep mode. </P></BLOCKQUOTE><A NAME="pgfId-3860"></A>With new power management architecture the following states are defined:</P><UL><LI><A NAME="pgfId-3774"></A><B>Run Single: </B>One processor is running at maximum processing capacity. <P><LI><A NAME="pgfId-3777"></A><B>Idle One: </B>The system is idling. All clocks are running and the system can return to running code within a few nanoseconds. The processor is stopped in Doze mode. Cache coherency is maintained in this level of idle. <P><LI><A NAME="pgfId-3783"></A><B>Idle Two: </B>The system is in power-saving mode. This mode is entered only when a system has been in Idle One state for a substantial period of time (a half second or so) with no activity. The main processor cache is ?ushed, and the processor is put into Sleep mode--the external processor bus clock is stopped. The delay in coming out of this state is on the order of a millisecond. Cache coherency is maintained by the ?ush on entry. <P><LI><A NAME="pgfId-4230"></A><B>Doze: </B>The power to the disk drive motors and the display is turned off, but the power supply and fan are still on. The computer can still respond to network activity. <P><LI><A NAME="pgfId-3790"></A><B>Sleep: </B>The system is completely shut down, with only the DRAM state preserved for quick recovery. The processor is powered off with its state preserved in DRAM. All clocks in the system are suspended except for the 32.768 Khz timebase crystal on the PMU99 IC. This mode allows desktop systems to meet 5W sleep requirements while providing the ability to start up without rebooting. <P></UL><A NAME="pgfId-4191"></A>Although the current public Power Manager interfaces will be maintained for application compatibility, this is a major revision that may affect developers. Information about the API changes for Power Manager 2.0 is available in a technote, which can be obtained from the website at</P><A NAME="pgfId-4193"></A><A href="../../../../../technotes/tn/tn1121.html" CLASS="URL" target="_top">http://developer.apple.com/technotes/</A></P><HR>&#169 2000 Apple Computer, Inc. &#150 (Last Updated 13 Jan 00)<P><A HREF="G4Rev2-87.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="G4Rev2-88.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="G4Rev2-90.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//	--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>