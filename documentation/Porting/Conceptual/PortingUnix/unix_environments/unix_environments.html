<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Porting UNIX/Linux Applications to Mac OS X: Using Traditional UNIX Graphical Environments</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Using Traditional UNIX Graphical Environments"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002853" title="Using Traditional UNIX Graphical Environments"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Darwin/index.html#//apple_ref/doc/uid/TP30000440-TP30000422" target="_top">Darwin</a> &gt; <a href="../../../../Darwin/Porting-date.html#//apple_ref/doc/uid/TP30000440-TP30000422-TP30000553" target="_top">Porting</a> &gt; <a href="../intro/intro.html#//apple_ref/doc/uid/TP40002847-TPXREF101">Porting UNIX/Linux Applications to Mac OS X</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../graphicalports/graphicalports.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../io_porting/io_porting.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40002853-TPXREF106" title="Using Traditional UNIX Graphical Environments"></a><h1>Using Traditional UNIX Graphical Environments</h1><p>UNIX-based operating systems have grown to include many environments for providing a graphical interface to users. The X Window System, also known as X11, is probably the most well known. As more specific needs have arisen, other architectures have been developed that assume an X11 implementation.</p><p>Mac OS X does not use the X Window System by default, but implementations of X11 are available from Apple and from third-party developers. This means that X Window System–based applications can be run, as can many of the alternative UNIX-style graphical environments. This section gives more details on some of these environments.</p><p>If your application uses the X Window System you need to either port the user interface to a native Mac OS X environment, provide an X Window System implementation with your application, or require that your users install the Apple X11 package (an installation option in the Mac OS X installer beginning in Mac OS X version 10.3). </p><p>If you are a commercial software developer or if your software will be used by traditional end users (including word processors, web browsers, and so on), you may want to consider porting to a native graphical environment instead of requiring X11. However, for internal tools or for tools with a specialized user base, it may be more reasonable to continue using X11. The sections in this chapter will help you decide how to choose an appropriate X11-based environment for your application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="unix_environments.html#//apple_ref/doc/uid/TP40002853-TPXREF103">Choosing a UNIX Graphical Environment</a>
				
			<br/>
			
        
			
			
				<a href="unix_environments.html#//apple_ref/doc/uid/TP40002853-TPXREF109">X11R6</a>
				
			<br/>
			
        
			
			
				<a href="unix_environments.html#//apple_ref/doc/uid/TP40002853-TPXREF107">Tcl/Tk</a>
				
			<br/>
			
        
			
			
				<a href="unix_environments.html#//apple_ref/doc/uid/TP40002853-TPXREF108">Qt</a>
				
			<br/>
			
        
			
			
				<a href="unix_environments.html#//apple_ref/doc/uid/TP40002853-TPXREF135">GTK+/GTKmm</a>
				
			<br/>
			
        
			
			
				<a href="unix_environments.html#//apple_ref/doc/uid/TP40002853-SW1">wxWidgets</a>
				
			<br/>
			
        
			
			
				<a href="unix_environments.html#//apple_ref/doc/uid/TP40002853-SW2">Wrapping a Command Line Application with a GUI Interface</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40002853-TPXREF103" title="Choosing a UNIX Graphical Environment"></a><h2>Choosing a UNIX Graphical Environment</h2><p>Many UNIX applications are designed using high-level widget toolkits such as Tcl/Tk, Motif (or OpenMotif or Lesstif), and Qt. These environments work well across many platforms. However, that cross-platform nature comes with a price in flexibility. In essence, to be cross-platform, they can only support capabilities that are generic to all of the potential operating environments, and as such, they tend to provide only the lowest common denominator in terms of functionality.</p><p>Such toolkits are often weak in areas such as performance and flexibility, and many do not allow precise control over how GUI elements are laid out.</p><p>If they provide everything you need, then they are good choices. Otherwise, a more flexible alternative such as raw Xlib programming, or a more Mac-tuned alternative such as Carbon or Cocoa may be more appropriate.</p><p>Other UNIX solutions exist for more extreme cross-platform environments. One example is MicroWindows, which is designed to allow ease of code sharing between X11 and Windows by implementing a subset of the Win32 graphics APIs on X11. Because this is really just an X11 application, it should be possible to use it on Mac OS X. However, due to the amount of abstraction involved, such a solution will not perform as well as a native application.</p><p>If you are trying to design an application for such an environment, it is generally better to rearchitect your code to have multiple front-ends—one for Windows, one for Mac OS X, and one for UNIX (X11). See <span class="content_text"><a href="../portability/portability.html#//apple_ref/doc/uid/TP40002857-TPXREF101">“(Re)designing for Portability”</a></span> for more information on creating a graphics abstraction layer.</p><a name="//apple_ref/doc/uid/TP40002853-TPXREF109" title="X11R6"></a><h2>X11R6</h2><a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_166"></a><a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_167"></a><p>Mac OS X does not include an X11R6 implementation by default. If you are intent on only porting your application without adding any Mac OS X functionality, you can still run X11 on Mac OS X. Along with your application, you should instruct your users on how to install one.</p><p>The easiest way to get an X11 implementation is to install the Apple X11 implementation. Beginning in Mac OS X v10.3, the X11 package is an optional installation that comes on the install DVD or CD.</p><p>For <em>older versions</em> of Mac OS X (before v10.4), you can download X11 from <span class="content_text"><a href="http://www.apple.com/downloads/macosx/apple/macosx_updates/x11formacosx.html" target="_blank">http://www.apple.com/downloads/macosx/apple/macosx_updates/x11formacosx.html</a></span>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_39" title="Important:"></a><p><strong>Important:</strong>&nbsp;Do <em>not</em> install the downloadable version of X11 on Mac OS X v10.4. It will not work. The Apple X11 version compatible with v10.4 is available <em>only</em> on the Mac OS X install DVD.</p><p></p></div><p>In addition, several other commercial and free alternatives exist.</p><p>XTools by Tenon Intersystems (<span class="content_text"><a href="http://www.tenon.com" target="_blank">http://www.tenon.com</a></span>) and eXodus from Powerlan USA both provide X11 servers that coexist with Aqua.</p><p>If you do not need a commercial implementation of X11, XFree86 offers a very robust free X11R6 implementation. The Mac OS X version of XFree86 is an active project with integral support from the XDarwin<a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_168"></a><a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_169"></a> project. More information on the XDarwin project including tips for installing X11 is available at <span class="content_text"><a href="http://www.xdarwin.org" target="_blank">http://www.xdarwin.org</a></span>. XFree86 itself can be downloaded from <span class="content_text"><a href="http://xfree86.org/" target="_blank">http://xfree86.org/</a></span>.</p><p>With an X Window System implementation, you are now free to use toolkits that you are already familiar with—for example, GTK+ or KDE.<a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_170"></a></p><a name="//apple_ref/doc/uid/TP40002853-TPXREF124" title="Benefits of X11R6 Development"></a><h3>Benefits of X11R6 Development</h3><ul class="spaceabove"><li class="li"><p>The de facto standard in display technology for UNIX-based operating systems</p></li><li class="li"><p>Open source implementation is available</p></li><li class="li"><p>Somewhat portable to certain embedded systems</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-TPXREF125" title="Drawbacks of X11R6 Development"></a><h3>Drawbacks of X11R6 Development</h3><ul class="spaceabove"><li class="li"><p>Complicated development environment</p></li><li class="li"><p>Requires substantial disk space for a full installation</p></li><li class="li"><p>Is not native to Mac OS X. This means your application is treated as a second-class citizen to some extent, particularly in the areas of drag-and-drop and system services.</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-TPXREF107" title="Tcl/Tk"></a><h2>Tcl/Tk</h2><a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_171"></a><p>There is a native Aqua version of Tk available at <span class="content_text"><a href="http://tcl.sourceforge.net" target="_blank">http://tcl.sourceforge.net</a></span>. With this you can easily add graphical elements to your existing Perl, Python, or Tcl scripts.</p><a name="//apple_ref/doc/uid/TP40002853-TPXREF126" title="Benefits of Tk Development"></a><h3>Benefits of Tk Development</h3><ul class="spaceabove"><li class="li"><p>Cross-platform development environment</p></li><li class="li"><p>Easily integrates with Tcl, Perl, and Python scripts</p></li><li class="li"><p>Open source implementation is available</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-TPXREF127" title="Drawbacks of Tk Development"></a><h3>Drawbacks of Tk Development</h3><ul class="spaceabove"><li class="li"><p>Not supported by default in Mac OS X</p></li><li class="li"><p>As with most high-level toolkits, flexibility is limited</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-TPXREF108" title="Qt"></a><h2>Qt</h2><a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_172"></a><p>Qt is a C++ toolkit for building graphical user interfaces. It is very popular in the UNIX world, as it is used by the very popular K Desktop Environment, KDE. Trolltech has a native version of Qt, Qt/Mac, available for Mac OS X. If you already have a C++ application or are considering building one, Qt lets you build applications that run natively in Mac OS X as well as Linux and Windows. Information about Qt/Mac is available at <span class="content_text"><a href="http://www.trolltech.com" target="_blank">http://www.trolltech.com</a></span>. Qt/Mac does not run on top of X11 in Mac OS X, but the source code is compatible with Qt’s X11 implementation.</p><a name="//apple_ref/doc/uid/TP40002853-TPXREF128" title="Benefits of Qt Development"></a><h3>Benefits of Qt Development</h3><ul class="spaceabove"><li class="li"><p>Cross-platform development environment</p></li><li class="li"><p>Integrates easily with C++ code</p></li><li class="li"><p>Robust feature set</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-TPXREF129" title="Drawbacks in Qt Development"></a><h3>Drawbacks in Qt Development</h3><ul class="spaceabove"><li class="li"><p>Requires licensing for commercial development</p></li><li class="li"><p>As with most high-level toolkits, flexibility is limited</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-TPXREF135" title="GTK+/GTKmm"></a><h2>GTK+/GTKmm</h2><a name="//apple_ref/doc/uid/TP40002853-DontLinkElementID_173"></a><p>GTK+ and GTKmm are the C and C++ interfaces (respectively) to another toolkit for building graphical user interfaces. It is popular in the Gimp and Gnome development communities. There is a beta native version of the GTK+ 2.x toolkits available for Mac OS X. If you already have a C or C++ application or are considering building one, GTK+ lets you build applications that run natively in Mac OS X as well as Linux and Windows.</p><p>Information about Gtk-MacOSX (an implementation of the GTK+ 2.x toolkit) is available at <span class="content_text"><a href="http://developer.imendio.com/projects/gtk-macosx" target="_blank">http://developer.imendio.com/projects/gtk-macosx</a></span>.</p><p>These toolkits do not run on top of X11 in Mac OS X, but are source-code–compatible with the equivalent X11 implementations.</p><a name="//apple_ref/doc/uid/TP40002853-TPXREF136" title="Benefits of GTK+/GTKmm Development"></a><h3>Benefits of GTK+/GTKmm Development</h3><ul class="spaceabove"><li class="li"><p>Cross-platform development environment</p></li><li class="li"><p>Integrates easily with C/C++ code</p></li><li class="li"><p>Robust feature set</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-TPXREF137" title="Drawbacks in GTK+/GTKmm Development"></a><h3>Drawbacks in GTK+/GTKmm Development</h3><ul class="spaceabove"><li class="li"><p>LGPL license reverse engineering clause may raise concerns for some commercial developers</p></li><li class="li"><p>As with most high-level toolkits, flexibility is limited</p></li></ul><a name="//apple_ref/doc/uid/TP40002853-SW1" title="wxWidgets"></a><h2>wxWidgets</h2><p>The wxWidgets toolkit is another toolkit for building graphical user interfaces. It is a C++ framework for building native look-and-feel applications in a cross-platform way. It currently supports UNIX/Linux (X11), Windows, and Mac OS X. Support for other platforms is in development.</p><p>More information about wxWidgets can be found at <span class="content_text"><a href="http://www.wxwidgets.org" target="_blank">http://www.wxwidgets.org</a></span>.</p><a name="//apple_ref/doc/uid/TP40002853-SW2" title="Wrapping a Command Line Application with a GUI Interface"></a><h2>Wrapping a Command Line Application with a GUI Interface</h2><p>Command line applications are a good first step in writing software for Mac OS X. However, most Mac OS X users tend to shy away from the command line (former UNIX and Linux users notwithstanding). For this reason, if you want your command line application to have mass appeal, you should consider wrapping it in a GUI interface.</p><p>Mac OS X provides a number of methods for wrapping a command line application with a GUI interface. These include:</p><ul class="ul"><li class="li"><p><code><!--a-->Do Shell Script<!--/a--></code> (AppleScript Studio)</p></li><li class="li"><p><code><a href="../../../../Cocoa/Reference/Foundation/Classes/NSTask_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSTask" target="_top">NSTask</a></code> (Cocoa)</p></li></ul><p>Each provides different capabilities for different purposes. This section points you to existing documentation on the topic and describes common issues that arise when wrapping a command line application with a GUI interface.</p><p>This section is primarily intended for open source developers, shareware/freeware developers, and in-house UNIX application developers, as these techniques do not offer the same level of functionality that you can get through tighter integration between the GUI and the underlying application.</p><a name="//apple_ref/doc/uid/TP40002853-TPXREF123" title="Choosing a Wrapping Method"></a><h3>Choosing a Wrapping Method</h3><p>If you just need to run a shell script by double-clicking it, and have no need for a GUI, you can simply rename the shell script to end with <code>.command</code> and it will open in Terminal automatically.</p><p>If you need more control over arguments but the command-line tool is non-interactive—that is, the GUI wrapper will merely start it and display the results—then either <code><a href="../../../../Cocoa/Reference/Foundation/Classes/NSTask_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSTask" target="_top">NSTask</a></code> or <code>"Do Shell Script"</code> is acceptable, and you should use whichever one is most comfortable.</p><p>If the application needs to interact with the tool in any way, you should use the function <code><a href="../../../../Cocoa/Reference/Foundation/Classes/NSTask_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSTask" target="_top">NSTask</a></code>. With it, you can chain arbitrary numbers of tasks using the <code><a href="../../../../Cocoa/Reference/Foundation/Classes/NSPipe_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPipe" target="_top">NSPipe</a></code> function.</p><a name="//apple_ref/doc/uid/TP40002853-SW3" title="File Access Considerations"></a><h3>File Access Considerations</h3><p>Carbon, Cocoa, AppleScript, and other Mac OS X development environments deal with files by using file references rather than referring to them by their path. As a result, you can move files anywhere on the disk and the file reference will still be valid even though the path has changed.</p><p>Using file references presents two problems for the developer. First, you have to explicitly convert them to POSIX paths to use them as the argument to a shell script. Second, the POSIX paths can contain spaces, so you must construct the command line carefully to prevent the script from failing if a directory name (or the name of your hard drive) contains a space.</p><p>Because of the potential side effects, you should always use the quoted form of the POSIX path when passing the path to a shell script. This is described in detail in <em>Technote #2065: Issuing Commands</em>.</p><p>The issue of spaces in pathnames is also a slight issue for Cocoa developers using the <code><a href="../../../../Cocoa/Reference/Foundation/Classes/NSTask_Class/Reference/Reference.html#//apple_ref/occ/cl/NSTask" target="_top">NSTask</a></code> API, usually because of bugs in the shell script itself. (You do not need to escape strings passed as arguments using <code>NSTask</code>.)</p><p>You should always test any GUI-wrapped command-line application with filenames that contain spaces and other strange characters such as double quotes (“) and trademark (™) to make sure that there are no unexpected failures.</p><a name="//apple_ref/doc/uid/TP40002853-TPXREF102" title="For More Information"></a><h3>For More Information</h3><p>For more information on AppleScript’s <code><!--a-->Do Shell Script<!--/a--></code> command, see <em>Technote #2065: Issuing Commands</em>, at <span class="content_text"><a href="http://developer.apple.com/technotes/tn2002/tn2065.html" target="_top">http://developer.apple.com/technotes/tn2002/tn2065.html</a></span> or the “simple sheet” example in AppleScript Studio.</p><p>For more information on Cocoa’s <code><a href="../../../../Cocoa/Reference/Foundation/Classes/NSTask_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSTask" target="_top">NSTask</a></code> API, see <em><a href="../../../../Cocoa/Conceptual/OperatingSystem/index.html#//apple_ref/doc/uid/10000058i" target="_top">Interacting with the Operating System</a></em>.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../graphicalports/graphicalports.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../io_porting/io_porting.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-04-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Porting/Conceptual/PortingUnix/unix_environments/unix_environments.html%3Fid%3DTP30001003-2.13&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Porting/Conceptual/PortingUnix/unix_environments/unix_environments.html%3Fid%3DTP30001003-2.13&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Porting/Conceptual/PortingUnix/unix_environments/unix_environments.html%3Fid%3DTP30001003-2.13&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>