<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>High Level Toolbox Release Notes (10.4.3): High Level Toolbox and Navigation Services Release Notes for Mac OS X v10.4.3</title>
	<meta name="Generator" content="Gutenberg"/>
	<meta name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta name = "Copyright" content="Copyright 2009 AppleInc. All Rights Reserved."/>
	<meta name="IndexTitle" content="High Level Toolbox and Navigation Services Release Notes for Mac OS X v10.4.3"/>
	<meta name="xcode-display" content="render"/>
	<meta id="RESOURCES" content="../../../documentation/Resources" />
	<link rel="stylesheet" type="text/css" href="../../../documentation/Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/pedia.js"></script>
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40003381" title="High Level Toolbox and Navigation Services Release Notes for Mac OS X v10.4.3"></a>
        <a name="top"></a>
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000872" target="_top">Release Notes</a> &gt; <a href="../index.html#//apple_ref/doc/uid/TP30000872-TP30000420" target="_top">Carbon</a> &gt; <a href="../idxHumanInterfaceToolbox-date.html#//apple_ref/doc/uid/TP30000872-TP30000420-TP30000516">Human Interface Toolbox</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
                
        
        <a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_15" title="High Level Toolbox and Navigation Services Release Notes for Mac OS X v10.4.3"></a><h1>High Level Toolbox and Navigation Services Release Notes for Mac OS X v10.4.3</h1><p>The High Level Toolbox is a subsystem of the Carbon framework for Mac OS X. It is composed of three frameworks: HIToolbox, HIServices, and NavigationServices. This document discusses bug fixes in the HIToolbox and NavigationServices frameworks for Mac OS X 10.4.3.</p>
<!-- This template is being used for both PDF and HTML. -->
<!-- TopicBook.pm currently relies on the element name bmini_toc. -->

    <h4>Contents:</h4>
    
    <p class="blockquote">

        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40003381-DontLinkElementID_1" target="_top">Version Checking</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40003381-DontLinkElementID_2" target="_top">HIToolbox Framework</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40003381-DontLinkElementID_14" target="_top">NavigationServices Framework</a>
                
            <br/>
            
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_1" title="Version Checking"></a><h2>Version Checking</h2><p>If you need to check for a specific version of the HIToolbox framework, you can use either the kHIToolboxVersionNumber global variable (on 10.3 and later) or the CFBundleShortVersionString in the HIToolbox Info.plist dictionary. kHIToolboxVersionNumber contains the HIToolbox build number, which is incremented each time that HIToolbox is rebuilt during the course of a Mac OS X release; CFBundleShortVersionString contains a separate non-incrementing HIToolbox version for a given Mac OS X release. To test for the HIToolbox included in Mac OS X 10.4.3, check that kHIToolboxVersionNumber is at least 222, or that CFBundleShortVersionString is at least 1.4.4.</p><p>To check for the presence of bug fixes to the NavigationServices framework, you can use the CFBundleShortVersionString in the NavigationServices Info.plist dictionary. To test for the NavigationServices included in Mac OS X 10.4.3, check that CFBundleShortVersionString is at least 3.4.2.</p><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_2" title="HIToolbox Framework"></a><h2>HIToolbox Framework</h2><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_3" title="Appearance Manager"></a><h3>Appearance Manager</h3><ul class="spaceabove"><li class="li"><p>HIThemeDrawGenericWell now draws a filled center when the kThemeAdornmentDefault bit of the HIThemeButtonDrawInfo.adornment field is set (2605918). This fixes a Tiger regression.</p></li><li class="li"><p>Fixed a drawing glitch in the background of a scrollbar thumb (3814094).</p></li><li class="li"><p>DrawThemeFocusRect no longer draws any part of the focus ring inside the specified rectangle (4086442). This fixes a Tiger regression.</p></li><li class="li"><p>DrawThemeTrack now calls its ThemeEraseProc callback parameter (4107525). This fixes a Tiger regression.</p></li><li class="li"><p>DrawThemeButton now sets the Quickdraw clip appropriately before calling its ThemeButtonDrawProc callback parameter (4138393). This fixes a Tiger regression.</p></li><li class="li"><p>A rounded-corner bevel button that is less than 16 pixels high now draws the same way as it did in Panther (4138662). This fixes a Tiger regression.</p></li><li class="li"><p>The Appearance Manager is now more careful to avoid crashing when the current port is invalid (4166700).</p></li><li class="li"><p>DrawThemeButton now sets the current port's foreground color appropriately before calling its ThemeButtonDrawProc callback parameter (4193478). This fixes a Tiger regression.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_4" title="DataBrowser"></a><h3>DataBrowser</h3><ul class="simple"><li><p>The DataBrowser's support for auto-scrolling in list view during a drag operation has been greatly improved (2794191). It is no longer necessary to continually move the mouse to force auto-scrolling, and the hot area in which scrolling occurs has been expanded.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_5" title="Dialog Manager"></a><h3>Dialog Manager</h3><ul class="simple"><li><p>GetDialogWindow now provides improved compatibility with the Brother DeviceSelector application and the Palm Desktop application (4163044, 4163706). Note that we have found that many applications incorrectly pass a WindowRef to the GetDialogWindow API; this causes GetDialogWindow to return NULL. Make sure that when calling GetDialogWindow, you pass a DialogRef, not a WindowRef.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_6" title="HIArchive"></a><h3>HIArchive</h3><ul class="spaceabove"><li class="li"><p>The HIObject base class now archives its accessibility-ignored and archiving-ignored attributes (4118879).</p></li><li class="li"><p>HIScrollView now marks its scrollbars as archiving-ignored, and the HIView base class now skips over archiving-ignored views when archiving a view's subviews (4123803). Prior to this fix, it was not possible to correctly archive and unarchive an HIScrollView containing another view, such as an HITextView.</p></li><li class="li"><p>When an error occurs during unarchiving of an HIObject, the HIArchive implementation now recovers correctly (4195259). Prior to this fix, an error during unarchiving would cause a crash when the decoding HIArchiveRef was released.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_7" title="HIView Manager"></a><h3>HIView Manager</h3><ul class="spaceabove"><li class="li"><p>Scaling-based HILayouts were incorrectly positioning the view one pixel too far to the right or bottom (3948022). This fixes a Tiger regression.</p></li><li class="li"><p>Fixed a common source of crashes in the Finder during view drawing (4166700).</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_8" title="HIWebView"></a><h3>HIWebView</h3><ul class="simple"><li><p>HIWebViews now redraw properly when displayed in composited windows (4141161). This fixes a Tiger regression. The fix for this problem was actually in WebKit, not HIToolbox.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_9" title="IBCarbonRuntime"></a><h3>IBCarbonRuntime</h3><ul class="simple"><li><p>When creating a segmented view from a nib, the IBCarbonRuntime view creation code was incorrectly releasing some of its segment data after creating an instance of the segmented view. Therefore, if you tried to create more than one segmented view from the same nib, you would crash. The IB runtime now keeps the segment data in existence until the nib is closed, so it's possible to create more than one segmented view from the same nib reference (4180858). If you need to work around this problem on earlier versions of Mac OS X 10.4, you should release your IBNibRef after creating a window containing a segmented view, and recreate the IBNibRef each time you need to create a new window.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_10" title="Menu Manager"></a><h3>Menu Manager</h3><ul class="spaceabove"><li class="li"><p>Fixed a crash that commonly occurred in the Dock and other applications when an empty submenu was opened (4062476).</p></li><li class="li"><p>Improved compatibility with the Cmd-Q and Cmd-, keyboard shortcuts in Palm Desktop (4078419).</p></li><li class="li"><p>Fixed a window resizing problem visible in the StarMenu sample application that occurred when a window used a custom HIView for its window frame and the HIView did not implement the kEventControlGetFrameMetrics event (4086478). If you are implementing a custom HIView to draw a custom window frame, be sure to implement kEventControlGetFrameMetrics.</p></li><li class="li"><p>Sending the AXPress accessibility action to an AXMenuBarItem now causes the menu to open, rather than highlighting the Apple menu (4099617). This change also enables Speech Recognition to open a menu by speaking the menu title. This fixes a Tiger regression.</p></li><li class="li"><p>While the user is using the keyboard to navigate through menus, it is now possible to press Return or Enter to select a menu item that is a parent of a submenu but that also has the kMenuItemAttrSubmenuParentChoosable attribute (4115501). This fixes a Tiger regression.</p></li><li class="li"><p>Fixed a problem that caused menu items in the BBEdit, Mailsmith, and TextWrangler applications to become disabled when a UIElement application became frontmost (4129011).</p></li><li class="li"><p>Iconic menu titles are no longer drawn with a disabled appearance when the menu itself is disabled (4126917). This change makes iconic menu title behavior match the behavior of text menu titles in Tiger.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_11" title="MLTE"></a><h3>MLTE</h3><ul class="spaceabove"><li class="li"><p>Fixed a problem that could cause an HITextView in a composited window to ignore mouse clicks (4137938). A workaround for this problem is to install a kEventControlTrack handler on your HITextView. In your Track handler, do the following:</p><ul class="nested"><li class="nested li"><p>call GetPort to get the current port, and then SetPort( NULL )</p></li><li class="nested li"><p>call CallNextEventHandler</p></li><li class="nested li"><p>call SetPort with the saved port</p></li></ul></li><li class="li"><p>Selecting text containing a mix of scripts and styles could sometimes overwrite memory not owned by MLTE and cause a crash (4060100).</p></li><li class="li"><p>Fixed scrollbar behavior when scrolling large amounts of text (extending past 32K vertical coordinate units) in an HITextView (4070933).</p></li><li class="li"><p>Fixed an error in TXNPaste that was causing frequent crashes in the Finder when showing the clipboard window (4120568).</p></li><li class="li"><p>Fixed handling of the Page Up/Down, End, and Home keys to provide more reliable behavior when scrolling in an HITextView (4130275).</p></li><li class="li"><p>Ensured that the correct port is used during click handling and text selection (4161301). This fixes errors during text selection that were commonly seen in Final Cut Pro.</p></li><li class="li"><p>When a text field is being used for password input, MLTE no longer reports the text field contents in response to requests for the kAXValueAttribute, kAXSelectedTextAttribute, or kAXStringForRangeParameterizedAttribute accessible attributes (4162943). This prevents the screen reader from reading the password. This fix was originally provided in Security Update 2005-007.</p></li><li class="li"><p>Fixed some drawing issues with edit fields in Final Cut Pro (4161301).</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_12" title="Text Services Manager"></a><h3>Text Services Manager</h3><ul class="spaceabove"><li class="li"><p>Improved app startup performance when the user has an input method or palette selected (4172676, 4186011)</p></li><li class="li"><p>Reduced memory requirements for tracking the active set of input methods (4173363).</p></li><li class="li"><p>Fixed problems with using input methods in the Spotlight search results window (4173428).</p></li><li class="li"><p>Fixed problems with using input methods in the Spotlight search results window (4173428).</p></li><li class="li"><p>Improved performance when opening the Format Text Box dialog in Microsoft Word if an input method is selected (4191919).</p></li><li class="li"><p>Fixed problems in detection of new input methods that sometimes prevented a newly installed input method from being visible in the Input menu after reboot (4053979).</p></li><li class="li"><p>Fixed problems that sometimes prevented the palette windows of the current input method from hiding when switching to another input method (4062065).</p></li><li class="li"><p>The active input method is now used for typing in the Spotlight search results window (4173428).</p></li><li class="li"><p>Improved performance of NewTSMDocument (4191919).</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_13" title="Window Manager"></a><h3>Window Manager</h3><ul class="spaceabove"><li class="li"><p>When a Cocoa application containing Carbon windows is activated, the Window Manager no longer orders the Carbon windows to the front of the window list, since AppKit will do this for all windows in the process (3992462). This fixes a common window ordering issue in Safari when a page with a Flash or Quicktime plugin is open.</p></li><li class="li"><p>When the user clicks on a window in an inactive application, now verify that the window still exists before attempting to select it once the process has become active (4078291). This fixes some common crashes in Adobe Reader, Adobe Illustrator CS, and iTunes.</p></li><li class="li"><p>Improved compatibility with the Smudge and Shadow color-picker windows in Macromedia Freehand (4095397). The color-picker window is no longer ordered behind the application's tool configuration window. This fixes a Tiger regression.</p></li><li class="li"><p>Improved compatibility with the Piranesi application when its Tools Manager window is resized  (4119915). This fixes a Tiger regression.</p></li><li class="li"><p>Fixed window dragging errors when dragging a window that uses a custom WDEF that has negative structure widths, such as the CustomWindow sample application (4151906). This fixes a Tiger regression.</p></li><li class="li"><p>Fixed a regression in Mac OS X 10.4.2 that prevented windows in the DragThing application from being ordered in front of other application windows when DragThing's Dock icon was clicked (4178935).</p></li><li class="li"><p>When called from a non-foreground application, FindWindow now returns inNoWindow instead of inMenuBar if the specified point is in the menubar area (4218591). This fixes a Tiger regression seen by Cocoa-based applications that use GetEventMonitorTarget to track mouse-down events in other applications; on Tiger, using GetEventMonitorTarget in this way would prevent menu tracking in the active application from working properly.</p></li></ul><a name="//apple_ref/doc/uid/TP40003381-DontLinkElementID_14" title="NavigationServices Framework"></a><h2>NavigationServices Framework</h2><ul class="simple"><li><p>Improved compatibility with the Mailsmith and TextWrangler applications when attempting to save a file with a '/' in the filename (4149596).</p></li></ul>

        <br/><br/> 
        
        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-01-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/releasenotes/Carbon/RN-HIToolbox10-4-3/index.html%3Fid%3DTP40003381-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/releasenotes/Carbon/RN-HIToolbox10-4-3/index.html%3Fid%3DTP40003381-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/releasenotes/Carbon/RN-HIToolbox10-4-3/index.html%3Fid%3DTP40003381-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
</body>
</html>