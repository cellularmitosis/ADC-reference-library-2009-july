<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>AppleTalk Data Stream Protocol (ADSP)(IM:N)</Title>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING98></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-97.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-99.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING98-0></A>
<H1>Chapter 5 - AppleTalk Data Stream Protocol (ADSP) </H1>
 <A NAME=MARKER-2-248></A>This<A NAME=MARKER-2-12></A> chapter <A NAME=MARKER-9-16></A>describes the AppleTalk Data Stream Protocol (ADSP) that you use to establish a session to exchange data between two network processes or applications in which both parties have equal control over the communication. You should read this <A NAME=MARKER-2-76></A>chapter if you want to write an application that supports the exchange of more than a small amount of data between two parties who each can both send and receive streams of data. <P>
 This chapter also describes the AppleTalk Secure Data Stream Protocol (ASDSP), a secure version of ADSP, that allows users of your application to communicate over an ADSP session after the users' identities have been authenticated. Users can then exchange encrypted data over the session. For your application to use ASDSP, the system on which it runs must have the AppleTalk Open Collaboration Environment (AOCE) software installed and must have access to an AOCE server. To use ASDSP, you must also use the Authentication Manager, which is a component of the AOCE software. For information on the Authentication Manager, refer to <I>Inside Macintosh: AOCE Application Programming Interfaces.</I><P>
 ASDSP enhances ADSP with authentication and encryption features. When this chapter discusses components of ADSP, such as connection ends and connection listeners, you can assume that the information also applies to ASDSP. The sections in this chapter that discuss ASDSP describe any specific differences between it and the standard version of ADSP. To use ASDSP, you should be familiar with ADSP. <P>
 For an overview of ADSP and how it fits within the AppleTalk protocol stack, read the chapter "Introduction to AppleTalk" in this book, which also introduces and defines some of the terminology used in this chapter. For a complete explanation of the ADSP specification, see <I>Inside AppleTalk,</I> second edition. <P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Networking-99.html#HEADING99-0">About ADSP</A>
<DD>
<DL>
<DT><A HREF="Networking-100.html#HEADING100-0">Connections, Connection Ends, and Connection States</A>
<DD>
<DT><A HREF="Networking-101.html#HEADING101-0">Connection Listeners</A>
<DD>
<DT><A HREF="Networking-102.html#HEADING102-0">Reliable Delivery of Data</A>
<DD>
<DT><A HREF="Networking-103.html#HEADING103-0">Unsolicited ADSP Events</A>
<DD>
</DL>
<DT><A HREF="Networking-104.html#HEADING104-0">About ASDSP</A>
<DD>
<DL>
<DT><A HREF="Networking-105.html#HEADING105-0">The Authentication Process</A>
<DD>
<DT><A HREF="Networking-106.html#HEADING106-0">The Data Encryption Feature</A>
<DD>
</DL>
<DT><A HREF="Networking-107.html#HEADING107-0">Using ADSP</A>
<DD>
<DL>
<DT><A HREF="Networking-108.html#HEADING108-0">Allocating Memory for ADSP</A>
<DD>
<DT><A HREF="Networking-109.html#HEADING109-0">Creating and Using a Connection Control Block</A>
<DD>
<DT><A HREF="Networking-110.html#HEADING110-0">Opening and Maintaining an ADSP Connection</A>
<DD>
<DT><A HREF="Networking-111.html#HEADING111-0">Creating and Using a Connection Listener</A>
<DD>
<DT><A HREF="Networking-112.html#HEADING112-0">Writing a User Routine for Connection Events</A>
<DD>
</DL>
<DT><A HREF="Networking-113.html#HEADING113-0">Using ASDSP </A>
<DD>
<DL>
<DT><A HREF="Networking-114.html#HEADING114-0">Opening a Secure Connection</A>
<DD>
<DL>
<DT><A HREF="Networking-114.html#HEADING114-2">From the Initiator's End </A>
<DD>
<DT><A HREF="Networking-114.html#HEADING114-28">From the Recipient End</A>
<DD>
<DT><A HREF="Networking-114.html#HEADING114-43">Sending Encrypted Data Across a Secure Connection</A>
<DD>
</DL>
</DL>
<DT><A HREF="Networking-115.html#HEADING115-0">ADSP Reference</A>
<DD>
<DL>
<DT><A HREF="Networking-116.html#HEADING116-0">Data Structures</A>
<DD>
<DL>
<DT><A HREF="Networking-117.html#HEADING117-0">The ADSP Connection Control Block Record</A>
<DD>
<DT><A HREF="Networking-118.html#HEADING118-0">The Address Block Record</A>
<DD>
<DT><A HREF="Networking-119.html#HEADING119-0">The DSP Parameter Block</A>
<DD>
<DT><A HREF="Networking-120.html#HEADING120-0">The ASDSP Parameter Block</A>
<DD>
<DT><A HREF="Networking-121.html#HEADING121-0">The TRSecureParams Record</A>
<DD>
</DL>
<DT><A HREF="Networking-122.html#HEADING122-0">Routines</A>
<DD>
<DL>
<DT><A HREF="Networking-122.html#HEADING122-10"><B></B>DESCRIPTION </A>
<DD>
<DT><A HREF="Networking-123.html#HEADING123-0">Establishing and Terminating an ADSP Connection</A>
<DD>
<DT><A HREF="Networking-131.html#HEADING131-0">Establishing and Terminating an ADSP Connection Listener</A>
<DD>
<DT><A HREF="Networking-136.html#HEADING136-0">Maintaining an ADSP Connection and Using It to Exchange Data</A>
<DD>
</DL>
</DL>
<DT><A HREF="Networking-142.html#HEADING142-0">Summary of ADSP</A>
<DD>
<DL>
<DT><A HREF="Networking-142.html#HEADING142-1">Pascal Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-142.html#HEADING142-2">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-5">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-6"><B></B>The ADSP Connection Control Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-8"><B></B>The Address Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-10"><B></B>The DSP Parameter Block</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-13"><B></B>The ASDSP Parameter Block</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-15"><B></B>The TRSecureParams Record</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-142.html#HEADING142-17">C Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-142.html#HEADING142-18">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-21">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-22"><B></B>The ADSP Connection Control Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-25"><B></B>The Address Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-28"><B></B>Parameter Block for dspInit and dspCLInit</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-31"><B></B>Parameter Block for dspOpen, dspCLListen, and dspCLDeny</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-34"><B></B>Parameter Block for dspClose and dspRemove</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-37"><B></B>Parameter Block for dspStatus</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-40"><B></B>Parameter Block for dspRead and dspWrite</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-43"><B></B>Parameter Block for dspAttention</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-46"><B></B>Parameter Block for dspOptions</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-49"><B></B>Parameter Block for dspNewCID</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-52"><B></B>The DSP Parameter Block</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-55"><B></B>The ASDSP Parameter Block</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-142.html#HEADING142-59">Assembly-Language Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-142.html#HEADING142-60">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-61"><B></B>ADSP Queue Element Equates and Sizes</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-63"><B></B>Command Codes</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-65"><B></B>Open Connection Modes</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-67"><B></B>Connection States</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-69"><B></B>Client Event Flags (Bit-Mask)</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-71"><B></B>Miscellaneous Equates</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-73"><B></B>ASDSP Encrypt and End-of-Message Flags and Masks</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-75">Data Structures</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-76"><B></B>ADSP Connection Control Block Data Structure</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-77"><B></B>DPS Parameter Block Common Fields for ADSP and ASDSP</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-78"><B></B>dspInit and dspCLInit Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-79"><B></B>dspOptions Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-80"><B></B>dspOpen, dspCLListen, and dspCLDeny Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-81"><B></B>sdspOpen Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-82"><B></B>dspNewCID Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-83"><B></B>dspClose, dspRemove, and dspCLRemove Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-84"><B></B>dspStatus Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-85"><B></B>dspRead and dspWrite Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-142.html#HEADING142-86"><B></B>dspAttention and dspReset Parameter Variant</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-142.html#HEADING142-87">Result Codes</A>
<DD>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-97.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-99.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
