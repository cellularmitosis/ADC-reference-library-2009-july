<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Control Color Table Record(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING320></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-319.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-321.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-297.html"><B>Chapter 5 - Control Manager</B></A> / <A HREF="Toolbox-315.html"><B>Control Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-316.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING320-0></A>
<H3><A NAME=MARKER-9-358></A>The Control Color Table Record</H3>
 <A NAME=MARKER-14-359></A><A NAME=MARKER-2-360></A>By creating a control color table record and using the <CODE>SetControlColor<DFN> procedure</DFN></CODE> (described on <A HREF=Toolbox-344.html#MARKER-9-479>page 5-94</A>), your application can draw a control that uses colors other than the system default. (Alternatively, <DFN>you </DFN>can use nonstandard colors for a control you define in a control<DFN> resource by creating a control color table</DFN> resource--described on <A HREF=Toolbox-367.html#MARKER-9-628>page 5-114</A>--with the same resource ID as the control resource.) Be aware that controls in nonstandard colors may initially confuse your users.<P>
 A control color table record is a data structure of type <CODE>CtlCTab<DFN>; it is </DFN></CODE>defined as follows:<P>
<PRE>
TYPE CtlCTab = 
RECORD
   ccSeed:     LongInt;    {reserved; set to 0}
   ccRider:    Integer;    {reserved; set to 0}

   ctSize:     Integer;    {number of ColorSpec records in next }
                           { field; 3 for standard controls}
   ctTable:    ARRAY[0..3] OF ColorSpec;
END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>ccSeed</CODE>
<DD> <A NAME=MARKER-2-361></A>Reserved in control color tables; set to 0.
<DT><CODE>ccRider</CODE>
<DD> <A NAME=MARKER-2-362></A>Reserved in control color tables; set to 0.
<DT><CODE>ctSize</CODE>
<DD> <A NAME=MARKER-2-363></A>The number of <CODE>ColorSpec</CODE> records in the next field. For controls drawn with the standard definition procedure, this field is always 3, because a standard control has three parts: frame, control body, and scroll box for scroll bars, and frame, control body, and text for other controls. If you want to supply <CODE>ColorSpec</CODE> records for additional parts, you must define your own controls, as described in <A HREF=Toolbox-360.html#MARKER-9-553>"Defining Your Own Control Definition Function" beginning on page 5-102</A>.
<DT><CODE><A NAME=MARKER-14-364></A>ctTable</CODE>
<DD> <A NAME=MARKER-2-365></A>An array of <CODE>ColorSpec</CODE> records. Each <CODE>ColorSpec</CODE> record describes the color of a different control part. Here is how a <CODE>ColorSpec</CODE> record is defined:<A NAME=MARKER-2-366></A>
</DL>
<PRE>
               TYPE ColorSpec = 
               RECORD
                  partIdentifier:   Integer;    {control part}
                  partRGB:          RGBColor;   {color of part}
               END;
</PRE>
<DL>
<DT>
<DD> <A NAME=MARKER-2-367></A>The <CODE>partIdentifier</CODE> field of the <CODE>ColorSpec</CODE> record holds an integer that associates an <CODE>RGBColor</CODE> record with a particular part of the control.
<DT>
<DD> Three <CODE>ColorSpec</CODE> records are used to describe the parts of buttons, checkboxes, and radio buttons. Here are the constants that are used in the <CODE>partIdentifier</CODE> fields of the three <CODE>ColorSpec</CODE> records used to describe these controls:
</DL>
<PRE>
                           {for buttons, checkboxes, and radio buttons}
                           CONST cFrameColor = 0;  {frame color}
                                 cBodyColor = 1;   {fill color for body of }
                                                   { control}
                                 cTextColor = 2;   {text color}
</PRE>
<DL>
<DT>
<DD> When highlighted, buttons exchange their body and text colors; checkboxes and radio buttons change their appearance without changing colors. All three types indicate deactivation by dimming their text with no change in colors.
<DT>
<DD> A number of <CODE>ColorSpec</CODE> records are used to describe the parts <BR>of scroll bars. Here are the constants that are used in the <CODE>partIdentifier</CODE> fields of the <CODE>ColorSpec</CODE> records used to describe the colors in scroll bars:
</DL>
<PRE>
CONST
cFrameColor       = 0;  {Used to produce foreground color for scroll arrows }
                        { &amp; gray area}
cBodyColor        = 1;  {Used to produce colors in the scroll box}
cArrowsColorLight = 5;  {Used to produce colors in arrows &amp; scroll bar }
                        { background color}
cArrowsColorDark  = 6;  {Used to produce colors in arrows &amp; scroll bar }
                        { background color}
cThumbLight       = 7;  {Used to produce colors in scroll box}
cThumbDark        = 8;  {Used to produce colors in scroll box}
cHiliteLight      = 9;  {Use same value as wHiliteColorLight in 'wctb'}
cHiliteDark       = 10; {Use same value as wHiliteColorDark in 'wctb'}
cTitleBarLight    = 11; {Use same value as wTitleBarLight in 'wctb'}
cTitleBarDark     = 12; {Use same value as wTitleBarDark in 'wctb'}
cTingeLight       = 13; {Use same value as wTingeLight in 'wctb'}
cTingeDark        = 14; {Use same value as wTingeDark in 'wctb'}
</PRE>
<DL>
<DT>
<DD> When highlighted, scroll arrows are filled with the foreground color. A deactivated scroll bar shows no scroll box and displays its gray areas in a solid background color with no pattern.
<DT>
<DD> The <CODE>ColorSpec</CODE> records for a control can appear in any order. If you include a part identifier that is not found, the Control Manager uses the first <CODE>ColorSpec</CODE> record with an identifiable part. If you do not specify a part identifier, the Control Manager uses the default color for that part.<A NAME=MARKER-2-368></A><A NAME=MARKER-2-369></A><A NAME=MARKER-2-370></A>
<DT><A NAME=MARKER-14-371></A>
<DD> <A NAME=MARKER-2-372></A>The <CODE>partRGB</CODE> field of the <CODE>ColorSpec<DFN> record</DFN></CODE> specifies<DFN> an</DFN> <CODE>RGBColor<DFN> record, which in turn specifies</DFN></CODE> the red, green, and blue values for the part's color. Use three 16-bit unsigned integers to give the intensity values for the three additive primary colors. Here is how the <CODE>RGBColor<DFN> record</DFN></CODE> is defined:
</DL>
<PRE>
               TYPE RGBColor = 
               RECORD
                  red:     Integer; {red value for control part}
                  green:   Integer; {green value for control part}
                  blue:    Integer; {blue value for control part}
               END;
</PRE>
 When you create a control color table record, your application should not deallocate it if another control is still using it. <P>
 When drawing a control, the standard control definition functions search the linked list of auxiliary control records for the record whose <CODE>acOwner</CODE> field points to that control. <BR>If a standard control definition function finds such a record, it uses the color table designated by that record; otherwise, it uses the default system colors. Each control using colors other than the system default has its own auxiliary control record, even if that control uses the same control color table record as another control; two or more auxiliary records can share the same control color table record. (Auxiliary control records are described on <A HREF=Toolbox-318.html#MARKER-9-343>page 5-69</A>.)<P>
 If you create a control definition function (as explained in <A HREF=Toolbox-360.html#MARKER-9-553>"Defining Your Own Control Definition Function"</A> beginning <A HREF=Toolbox-360.html#MARKER-9-553>page 5-102</A>), you can use color tables of any desired size and define their contents in any way you wish, except that part indices 1 through 127 are reserved for system definition. Any such nonstandard control definition function should bypass the defaulting mechanism by allocating an explicit auxiliary record for every control it creates.<A NAME=MARKER-2-373></A><A NAME=MARKER-2-374></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-319.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-321.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
