<html><head><title>Mac OS X
 Manual Page For File::Copy(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/File::Copy" title="Mac OS X
 Manual Page for File::Copy(3pm)"><a name="//apple_ref/doc/man/3/File::Copy" title="Mac OS X
 Manual Page for File::Copy(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/File::Copy"; name=File::Copy(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
File::Copy(3pm)                       Perl Programmers Reference Guide                       File::Copy(3pm)



<b>NAME</b>
       File::Copy - Copy files or filehandles

<b>SYNOPSIS</b>
               use File::Copy;

               copy("file1","file2") or die "Copy failed: $!";
               copy("Copy.pm",\*STDOUT);
               move("/dev1/fileA","/dev2/fileB");

               use File::Copy "cp";

               $n = FileHandle-&gt;new("/a/file","r");
               cp($n,"x");

<b>DESCRIPTION</b>
       The File::Copy module provides two basic functions, "copy" and "move", which are useful for getting
       the contents of a file from one place to another.

          The "copy" function takes two parameters: a file to copy from and a file to copy to. Either argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
           ment may be a string, a FileHandle reference or a FileHandle glob. Obviously, if the first argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
           ment is a filehandle of some sort, it will be read from, and if it is a file <u>name</u> it will be
           opened for reading. Likewise, the second argument will be written to (and created if need be).
           Trying to copy a file on top of itself is a fatal error.

           <b>Note</b> <b>that</b> <b>passing</b> <b>in</b> <b>files</b> <b>as</b> <b>handles</b> <b>instead</b> <b>of</b> <b>names</b> <b>may</b> <b>lead</b> <b>to</b> <b>loss</b> <b>of</b> <b>information</b> <b>on</b> <b>some</b>
           <b>operating</b> <b>systems;</b> <b>it</b> <b>is</b> <b>recommended</b> <b>that</b> <b>you</b> <b>use</b> <b>file</b> <b>names</b> <b>whenever</b> <b>possible.</b>  Files are opened
           in binary mode where applicable.  To get a consistent behaviour when copying from a filehandle to
           a file, use "binmode" on the filehandle.

           An optional third parameter can be used to specify the buffer size used for copying. This is the
           number of bytes from the first file, that wil be held in memory at any given time, before being
           written to the second file. The default buffer size depends upon the file, but will generally be
           the whole file (up to 2Mb), or 1k for filehandles that do not reference files (eg. sockets).

           You may use the syntax "use File::Copy "cp"" to get at the "cp" alias for this function. The syn-<font color="#ffffff" class="whiteout">tax&nbsp;syntax</font>
           tax is <u>exactly</u> the same.

          The "move" function also takes two parameters: the current name and the intended name of the file
           to be moved.  If the destination already exists and is a directory, and the source is not a
           directory, then the source file will be renamed into the directory specified by the destination.

           If possible, <u>move()</u> will simply rename the file.  Otherwise, it copies the file to the new loca-<font color="#ffffff" class="whiteout">tion&nbsp;location</font>
           tion and deletes the original.  If an error occurs during this copy-and-delete process, you may
           be left with a (possibly partial) copy of the file under the destination name.

           You may use the "mv" alias for this function in the same way that you may use the "cp" alias for
           "copy".

       File::Copy also provides the "syscopy" routine, which copies the file specified in the first parame-<font color="#ffffff" class="whiteout">ter&nbsp;parameter</font>
       ter to the file specified in the second parameter, preserving OS-specific attributes and file struc-<font color="#ffffff" class="whiteout">ture.&nbsp;structure.</font>
       ture.  For Unix systems, this is equivalent to the simple "copy" routine, which doesn't preserve OS-<font color="#ffffff" class="whiteout">specific&nbsp;OSspecific</font>
       specific attributes.  For VMS systems, this calls the "rmscopy" routine (see below).  For OS/2 sys-<font color="#ffffff" class="whiteout">tems,&nbsp;systems,</font>
       tems, this calls the "syscopy" XSUB directly. For Win32 systems, this calls "Win32::CopyFile".

       On Mac OS (Classic), "syscopy" calls "Mac::MoreFiles::FSpFileCopy", if available.

       <b>Special</b> <b>behaviour</b> <b>if</b> <b>"syscopy"</b> <b>is</b> <b>defined</b> <b>(OS/2,</b> <b>VMS</b> <b>and</b> <b>Win32)</b>

       If both arguments to "copy" are not file handles, then "copy" will perform a "system copy" of the
       input file to a new output file, in order to preserve file attributes, indexed file structure, <u>etc.</u>
       The buffer size parameter is ignored.  If either argument to "copy" is a handle to an opened file,
       then data is copied using Perl operators, and no effort is made to preserve file attributes or record
       structure.

       The system copy routine may also be called directly under VMS and OS/2 as "File::Copy::syscopy" (or
       under VMS as "File::Copy::rmscopy", which is the routine that does the actual work for syscopy).

       rmscopy($from,$to[,$date_flag])
           The first and second arguments may be strings, typeglobs, typeglob references, or objects inher-<font color="#ffffff" class="whiteout">iting&nbsp;inheriting</font>
           iting from IO::Handle; they are used in all cases to obtain the <u>filespec</u> of the input and output
           files, respectively.  The name and type of the input file are used as defaults for the output
           file, if necessary.

           A new version of the output file is always created, which inherits the structure and RMS
           attributes of the input file, except for owner and protections (and possibly timestamps; see
           below).  All data from the input file is copied to the output file; if either of the first two
           parameters to "rmscopy" is a file handle, its position is unchanged.  (Note that this means a
           file handle pointing to the output file will be associated with an old version of that file after
           "rmscopy" returns, not the newly created version.)

           The third parameter is an integer flag, which tells "rmscopy" how to handle timestamps.  If it is
           &lt; 0, none of the input file's timestamps are propagated to the output file.  If it is &gt; 0, then
           it is interpreted as a bitmask: if bit 0 (the LSB) is set, then timestamps other than the revi-<font color="#ffffff" class="whiteout">sion&nbsp;revision</font>
           sion date are propagated; if bit 1 is set, the revision date is propagated.  If the third parame-<font color="#ffffff" class="whiteout">ter&nbsp;parameter</font>
           ter to "rmscopy" is 0, then it behaves much like the DCL COPY command: if the name or type of the
           output file was explicitly specified, then no timestamps are propagated, but if they were taken
           implicitly from the input filespec, then all timestamps other than the revision date are propa-<font color="#ffffff" class="whiteout">gated.&nbsp;propagated.</font>
           gated.  If this parameter is not supplied, it defaults to 0.

           Like "copy", "rmscopy" returns 1 on success.  If an error occurs, it sets $!, deletes the output
           file, and returns 0.

<b>RETURN</b>
       All functions return 1 on success, 0 on failure.  $! will be set if an error was encountered.

<b>NOTES</b>
          On Mac OS (Classic), the path separator is ':', not '/', and the current directory is denoted as
           ':', not '.'. You should be careful about specifying relative pathnames. While a full path always
           begins with a volume name, a relative pathname should always begin with a ':'.  If specifying a
           volume name only, a trailing ':' is required.

           E.g.

             copy("file1", "tmp");        # creates the file 'tmp' in the current directory
             copy("file1", ":tmp:");      # creates :tmp:file1
             copy("file1", ":tmp");       # same as above
             copy("file1", "tmp");        # same as above, if 'tmp' is a directory (but don't do
                                          # that, since it may cause confusion, see example #1)
             copy("file1", "tmp:file1");  # error, since 'tmp:' is not a volume
             copy("file1", ":tmp:file1"); # ok, partial path
             copy("file1", "DataHD:");    # creates DataHD:file1

             move("MacintoshHD:fileA", "DataHD:fileB"); # moves (don't copies) files from one
                                                        # volume to another

<b>AUTHOR</b>
       File::Copy was written by Aaron Sherman <u>&lt;ajs@ajs.com&gt;</u> in 1995, and updated by Charles Bailey <u>&lt;bai-</u>
       <u>ley@newman.upenn.edu&gt;</u> in 1996.



perl v5.8.8                                      2001-09-21                                  File::Copy(3pm)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/File__Copy.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/File__Copy.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/File__Copy.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
