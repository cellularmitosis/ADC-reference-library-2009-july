<html><head><title>Mac OS X
 Manual Page For fstatvfs(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/fstatvfs" title="Mac OS X
 Manual Page for fstatvfs(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/fstatvfs"; name=fstatvfs(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
STATVFS(3)               BSD Library Functions Manual               <!-- a -->STATVFS(3)<!-- /a -->

<b>NAME</b>
     <b>fstatvfs</b>, <b>statvfs</b> -- retrieve file system information

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/statvfs.h&gt;</b>

     <u>int</u>
     <b>fstatvfs</b>(<u>int</u> <u>fildes</u>, <u>struct</u> <u>statvfs</u> <u>*buf</u>);

     <u>int</u>
     <b>statvfs</b>(<u>const</u> <u>char</u> <u>*restrict</u> <u>path</u>, <u>struct</u> <u>statvfs</u> <u>*restrict</u> <u>buf</u>);

<b>DESCRIPTION</b>
     The <b>statvfs</b>() and <b>fstatvfs</b>() functions attempt to fill the structure pointed to by <u>buf</u> with file system
     statistics, but portable applications must not depend on this.  Applications must pass a pathname or
     file descriptor which refers to a file on the file system in which they are interested.

     The <u>statvfs</u> structure contains the following members:

           <u>f</u><b>_</b><u>namemax</u>  The maximum length in bytes of a file name on this file system.  Applications should
                      use <a href="../man2/pathconf.2.html#//apple_ref/doc/man/2/pathconf">pathconf(2)</a> instead.

           <u>f</u><b>_</b><u>fsid</u>     Not meaningful in this implementation.

           <u>f</u><b>_</b><u>frsize</u>   The size in bytes of the minimum unit of allocation on this file system.  (This corre-<font color="#ffffff" class="whiteout">sponds&nbsp;corresponds</font>
                      sponds to the <u>f</u><b>_</b><u>bsize</u> member of <u>struct</u> <u>statfs</u>.)

           <u>f</u><b>_</b><u>bsize</u>    The preferred length of I/O requests for files on this file system.  (Corresponds to
                      the <u>f</u><b>_</b><u>iosize</u> member of <u>struct</u> <u>statfs</u>.)

           <u>f</u><b>_</b><u>flag</u>     Flags describing mount options for this file system; see below.

     In addition, there are three members of type <u>fsfilcnt</u><b>_</b><u>t</u>, which represent counts of file serial numbers
     (<u>i.e.</u>, inodes); these are named <u>f</u><b>_</b><u>files</u>, <u>f</u><b>_</b><u>favail</u>, and <u>f</u><b>_</b><u>ffree</u>, and represent the number of file serial
     numbers which exist in total, are available to unprivileged processes, and are available to privileged
     processes, respectively.  Likewise, the members <u>f</u><b>_</b><u>blocks</u>, <u>f</u><b>_</b><u>bavail</u>, and <u>f</u><b>_</b><u>bfree</u> (all of type
     <u>fsblkcnt</u><b>_</b><u>t</u>) represent the respective allocation-block counts.

     There are two flags defined for the <u>f</u><b>_</b><u>flag</u> member:

           ST_RDONLY  The file system is mounted read-only.

           ST_NOSUID  The semantics of the S_ISUID and S_ISGID file mode bits are not supported by, or are
                      disabled on, this file system.

<b>IMPLEMENTATION</b> <b>NOTES</b>
     The <b>statvfs</b>() and <b>fstatvfs</b>() functions are implemented as wrappers around the <b>statfs</b>() and <b>fstatfs</b>()
     functions, respectively.  Not all the information provided by those functions is made available through
     this interface.

<b>RETURN</b> <b>VALUES</b>
     The <b>statvfs</b>() and <b>fstatvfs</b>() functions return the value 0 if successful; otherwise the value -1 is
     returned and the global variable <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     The <b>statvfs</b>() function fails if one or more of the following are true:

     [EACCES]           Search permission is denied for a component of the path prefix of <u>path</u>.

     [EFAULT]           <u>Buf</u> or <u>path</u> points to an invalid address.

     [EIO]              An I/O error occurred while reading from or writing to the file system.

     [ELOOP]            Too many symbolic links were encountered in translating <u>path</u>.

     [ENAMETOOLONG]     The length of a component of <u>path</u> exceeds {NAME_MAX} characters, or the length of
                        <u>path</u> exceeds {PATH_MAX} characters.

     [ENOENT]           The file referred to by <u>path</u> does not exist.

     [ENOTDIR]          A component of the path prefix of <u>Path</u> is not a directory.

     The <b>fstatvfs</b>() functions fails if one or more of the following are true:

     [EBADF]            <u>fildes</u> is not a valid open file descriptor.

     [EFAULT]           <u>Buf</u> points to an invalid address.

     [EIO]              An I/O error occurred while reading from or writing to the file system.

<b>SEE</b> <b>ALSO</b>
     <a href="../man2/statfs.2.html#//apple_ref/doc/man/2/statfs">statfs(2)</a>

<b>STANDARDS</b>
     The <b>statvfs</b>() and <b>fstatvfs</b>() functions conform to IEEE Std 1003.1-2001 (``POSIX.1'').  As standardized,
     portable applications cannot depend on these functions returning any valid information at all.  This
     implementation attempts to provide as much useful information as is provided by the underlying file
     system, subject to the limitations of the specified data types.

<b>AUTHORS</b>
     The <b>statvfs</b>() and <b>fstatvfs</b>() manual page was originally written by Garrett Wollman
     &lt;wollman@FreeBSD.org&gt;.

BSD                              July 13, 2002                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/fstatvfs.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/fstatvfs.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/fstatvfs.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
