<html><head><title>Mac OS X
 Manual Page For ip6config(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/ip6config" title="Mac OS X
 Manual Page for ip6config(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/ip6config"; name=ip6config(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ip6config(8)              BSD System Manager's Manual             ip6config(8)

<b>NAME</b>
     <b>ip6config</b> -- Configure IPv6 and 6to4 IPv6 tunnelling

<b>SYNOPSIS</b>
     <b>ip6config</b> [<b>-h</b>] <u>command</u> <u>interface</u>

<b>DESCRIPTION</b>
     The <b>ip6config</b> script can be used to start up or shut down IPv6 on active interfaces. It can also be
     used to configure a 6to4 tunnel and start or stop router advertisement.

     When IPv6 is enabled on an interface the protocol is attached to the interface, at which point the
     default settings in the kernel allow it to acquire a link-local address and listen for router adver-<font color="#ffffff" class="whiteout">tisements.&nbsp;advertisements.</font>
     tisements.

     6to4 is a mechanism by which your IPv6 address(es) are derived from an assigned IPv4 address, and which
     involves automatic tunnelling to one or more remove 6to4 hubs, which will then forward your v6 packets
     on the 6bone etc. Replies are routed back to you over IPv4 via (possibly) other 6to4 capable remote
     gateways. As such, IPv6-in-IPv4-encapsulated packets are accepted from all v4-hosts.

     From your (single) IPv4 address, you get a whole IPv6 /48 network, which allows you to split your net-<font color="#ffffff" class="whiteout">work&nbsp;network</font>
     work in 2^16 subnets, with 2^64 hosts each. You need to setup routing for your internal network prop-<font color="#ffffff" class="whiteout">erly,&nbsp;properly,</font>
     erly, help is provided for setting up the border router here.

     This script takes the burden to calculate your IPv6 address from existing IPv4 address and runs the
     commands to setup (and tear down) automatic 6to4 IPv6 tunnelling.

     Finally, router advertisement for an internal network can be started and stopped. This uses sysctl to
     set net.inet6.ip6.forwarding and net.inet6.ip6.accept_rtadv to the proper values for routing.

     Possible options are:

     <b>-h</b>   Show usage.

     Possible commands are:

     <b>start-v6</b>      Start IPv6 on given interface using default kernel settings. Attaches protocol to the
                   interface. If interface is "all", all valid interfaces will be configured.

     <b>stop-v6</b>       Stop IPv6 on given interface. Detaches protocol from the interface. If interface is
                   "all", all valid interfaces will be configured.

     <b>start-stf</b>     Configure 6to4 IPv6. The <a href="../man4/stf.4.html#//apple_ref/doc/man/4/stf">stf(4)</a> interface is configured, and a default route to a remote
                   6to4 gateway is established. In addition, the internal network interface is assigned an
                   address.

     <b>stop-stf</b>      Stops 6to4 IPv6. All addresses are removed from the <a href="../man4/stf.4.html#//apple_ref/doc/man/4/stf">stf(4)</a> device, and the default route
                   is removed.

     <b>start-rtadvd</b>  Starts router advertizement and IPv6 packet forwarding, turning the machine into a IPv6
                   router.  <a href="rtadvd.8.html#//apple_ref/doc/man/8/rtadvd">rtadvd(8)</a> is invoked with a custom config file created under <u>/var/run</u>.  Clients
                   just need to be told to accept router advertizements, i.e.  the
                   `net.inet6.ip6.accept_rtadv' sysctl needs to be set to `1'.  You can arrange that by set-<font color="#ffffff" class="whiteout">ting&nbsp;setting</font>
                   ting ``ip6mode=autohost'' in <u>/etc/rc.conf</u>.

     <b>stop-rtadvd</b>   Stops router advertizement and IPv6 packet forwarding.  <a href="rtadvd.8.html#//apple_ref/doc/man/8/rtadvd">rtadvd(8)</a> is stopped, and the
                   <a href="../man5/rtadvd.conf.5.html#//apple_ref/doc/man/5/rtadvd.conf">rtadvd.conf(5)</a> config file is removed from <u>/var/run</u>.

<b>REQUIREMENTS</b>
     Besides IPv4 connectivity, you need support for IPv6 and the <a href="../man4/stf.4.html#//apple_ref/doc/man/4/stf">stf(4)</a> device in your kernel. This is pro-<font color="#ffffff" class="whiteout">vided&nbsp;provided</font>
     vided beginning with Darwin Kernel Version 6.0.

     No special values are needed in <u>/etc/rc.conf</u> to run this script, but see comment on setting up
     IPv6-clients `behind' your 6to4 router for the <b>rtadvd-start</b> command!

<b>CONFIGURATION</b>
     The default IPv6 configuration for an interface assigns a link-local address to it and sets the inter-<font color="#ffffff" class="whiteout">face&nbsp;interface</font>
     face to receive router advertisements.  No further configuration is necessary for basic functionality.
     However, various settings can be modified by using sysctl.

     The <b>ip6config</b> script reads its 6to4 configuration from a config file named <u>6to4.conf</u>.  The <u>6to4.conf</u>
     file is in <a href="../man1/perl.1.html#//apple_ref/doc/man/1/perl">perl(1)</a> syntax, and contains several variables that can be tuned to adjust your setup.

     <b>in_if</b>         The inside interface. If non-empty, this interface is assigned the IPv6 address
                   2002:x:x:v6_innernet:hostbits6, see below.  This is only useful on machines that have
                   more than one network interface, e.g. with a modem and a local ethernet.

     <b>v6_net</b>        The subnet address you want to use on the address of your outbound interface. Defaults to
                   ``1''.

     <b>v6_innernet</b>   The subnet address you want to use on the address of your inbound interface. Defaults to
                   ``2''.

     <b>hostbits6</b>     The lower 64 bits of both the inbound and outbound interface's addresses.

     <b>peer</b>          Name of the remote 6to4 server that'll take our IPv6-in-IPv4 encapsulated packets and
                   route them on via IPv6. A special value of ``6to4-anycast'' can be used for the anycast
                   service defined in RFC 3068.  Other possible values are given in the example config file.

<b>SEE</b> <b>ALSO</b>
     <a href="../man4/stf.4.html#//apple_ref/doc/man/4/stf">stf(4)</a>, ``6to4 IPv6 Explained'' at <a href="http://www.feyrer.de/NetBSD/6to4.html"><u>http://www.feyrer.de/NetBSD/6to4.html</u></a> NetBSD IPv6 Documentation at
     <a href="http://www.netbsd.org/Documentation/network/ipv6/"><u>http://www.netbsd.org/Documentation/network/ipv6/</u></a> RFC 3068.

<b>HISTORY</b>
     The <b>ip6config</b> 6to4 utility and manpage portions were written by Hubert Feyrer &lt;hubert@feyrer.de&gt; for
     NetBSD.

BSD                              May 21, 2002                              BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/ip6config.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/ip6config.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/ip6config.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
