<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Cocoa Scripting Guide: Evolution of Cocoa Scriptability Information</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Evolution of Cocoa Scriptability Information"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002164-CH19" title="Evolution of Cocoa Scriptability Information"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../Scripting-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000569" target="_top">Scripting &amp; Automation</a> &gt; <a href="../SApps_intro/SAppsIntro.html#//apple_ref/doc/uid/TP40001982-BCICHGIE">Cocoa Scripting Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../SApps_handle_AEs/SAppsHandleAEs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SApps_suites/SAppsSuites.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40002164-CH19-SW1" title="Evolution of Cocoa Scriptability Information"></a><h1>Evolution of Cocoa Scriptability Information</h1><p>Mac OS X and Cocoa provide various tools and formats for working with scriptability information. This appendix describes the history of those tools and shows how to convert between various scriptability formats and versions.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="SAppsEvolution.html#//apple_ref/doc/uid/TP40002164-CH19-SW3">Scriptability Terms</a>
				
			<br/>
			
        
			
			
				<a href="SAppsEvolution.html#//apple_ref/doc/uid/TP40002164-CH19-SW5">Changes in Scriptability Information Versions</a>
				
			<br/>
			
        
			
			
				<a href="SAppsEvolution.html#//apple_ref/doc/uid/TP40002164-CH19-SW2">Converting and Updating Scriptability Information</a>
				
			<br/>
			
        
			
			
				<a href="SAppsEvolution.html#//apple_ref/doc/uid/TP40002164-CH19-SW6">Editing Scriptability Information</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40002164-CH19-SW3" title="Scriptability Terms"></a><h2>Scriptability Terms</h2><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_180"></a>AppleScript is a mature technology that was first introduced in the early 1990’s. When scripting support was added to the Cocoa application framework, a significant part of its ease of use depended on its adoption of key-value coding (KVC), a mechanism for accessing an object’s properties indirectly.</p><p>When terms from KVC (some of which come from entity-relationship modeling) were used with Cocoa scripting, some terms overlapped or conflicted with terms already in use by AppleScript. For example, the term <em>property</em> has more than one distinct meaning. For definitions of these terms, see the <span class="content_text"><a href="../SApps_glossary/SAppsGlossary.html#//apple_ref/doc/uid/TP40002164-CH20-SW12">“Glossary.”</a></span></p><p>Additionally, there are some differences in how you use the original format for Cocoa scriptability information (provided in script suite and script terminology files) and the current format (based on the sdef file format). These differences are described throughout this chapter.</p><a name="//apple_ref/doc/uid/TP40002164-CH19-SW5" title="Changes in Scriptability Information Versions"></a><h2>Changes in Scriptability Information Versions</h2><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_181"></a>You provide scriptability information for your application in one of the two formats described in <span class="content_text"><a href="../SApps_about_apps/SAppsAboutApps.html#//apple_ref/doc/uid/TP40001976-1155419">“Scriptability Information Formats”</a></span>:</p><ul class="ul"><li class="li"><p>The scripting definition (or sdef) format first became available in Mac OS X version 10.2. Cocoa scripting can interpret sdef files natively starting in Mac OS X version 10.4.</p><p>For Mac OS X version 10.3, an sdef file can be converted to a corresponding script suite and script terminology file pair.</p></li><li class="li"><p>The script suite format, consisting of a script suite file and a corresponding script terminology file, has been in use since scriptability support first became available in Cocoa and works in any version. This is the only format Cocoa scripting can interpret natively prior to Mac OS X version 10.4.</p></li></ul><p>The traditional Carbon mechanism for supplying scriptability information is the <code>'aete'</code> resource file. Cocoa scripting doesn't use <code>'aete'</code> resources, but you can add one to your application to control how your scriptability information is displayed by Script Editor or other dictionary viewers. Starting in Mac OS version 10.4, however, the preferred mechanism for controlling how your scriptability information is displayed is to use an sdef file.</p><a name="//apple_ref/doc/uid/TP40002164-CH19-SW7" title="Advantages of the Scripting Definition Format"></a><h3>Advantages of the Scripting Definition Format</h3><div class="importantbox"><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_12" title="Important:"></a><p><strong>Important:</strong>&nbsp;You can read about additional refinements to sdef usage in Cocoa applications for Mac OS X v10.5 in the Scripting section of <em><a href="../../../../../releasenotes/Cocoa/Foundation.html#//apple_ref/doc/uid/TP30000742" target="_top">Foundation Release Notes</a></em>.</p><p></p></div><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_182"></a>There are a number of advantages to using the native sdef format in Mac OS X version 10.4, including:</p><ul class="spaceabove"><li class="li"><p>You can assemble information describing the terminology and implementation details for your application all in one file, so there is no need to synchronize separate files.</p></li><li class="li"><p>You have more options for specifying scriptability information. For example, you can control the order in which information is displayed (without having to add an <code>'aete'</code> resource to your application). You can also use the <code>hidden</code> attribute to hide deprecated terms while still keeping them available for backward compatibility. Or you can hide terms that are not yet ready for release.</p></li><li class="li"><p>With an sdef, only the parts of Cocoa’s default scriptability information that you specifically include are used by Cocoa scripting and are visible when your dictionary is displayed.</p><p>By comparison, applications that use only script suite and script terminology files will include the terminology from all such files defined in any framework the application links to or bundles that it loads (including the files for the full Standard and Text suites defined in the Cocoa framework).</p></li><li class="li"><p>Script Editor can display your application’s dictionary without launching the application. However, through Mac OS X version 10.4, it does still need to open your application to compile a script that targets the application.<a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_183"></a></p></li></ul><a name="//apple_ref/doc/uid/TP40002164-CH19-SW8" title="Advantages of the Script Suite Format"></a><h3>Advantages of the Script Suite Format</h3><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_184"></a>The main advantage of the script suite format is that it can be used in any scriptable version of Cocoa. If your scriptable application will run in versions of the Mac OS prior to version 10.4, it must include script suite and script terminology files. However, it can also contain an sdef file, so that it can gain the advantages that sdef files provide when running in Mac OS X version 10.4.</p><p>Script suite and script terminology files do not allow detailed control of how your scriptability information is displayed in a dictionary viewer. But if you need finer control of the look of your dictionary, you can add an <a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_185"></a><code>'aete'</code> resource to your application bundle. You can generate the <code>'aete'</code> by creating an sdef file for your application, then using the <code>sdp</code> tool to create an <code>'aete'</code> resource. Or you can create an <code>'aete'</code> resource directly (some third party tools can aid in doing so).</p><p>Suite information is described in detail in <span class="content_text"><a href="../SApps_suites/SAppsSuites.html#//apple_ref/doc/uid/20001241-BBCBCIJE">“Script Suite and Script Terminology Files.”</a></span></p><a name="//apple_ref/doc/uid/TP40002164-CH19-SW2" title="Converting and Updating Scriptability Information"></a><h2>Converting and Updating Scriptability Information</h2><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_186"></a><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_187"></a>There are several options available for converting between scriptability formats and updating scriptability information. Remember that after making any changes to your scriptability information, you should run your full suite of test scripts to make sure your scriptability support is working as expected.</p><a name="//apple_ref/doc/uid/TP40002164-CH19-SW4" title="Creating Suite Files or &#39;aete&#39; Files from a Scripting Definition"></a><h3>Creating Suite Files or 'aete' Files from a Scripting Definition</h3><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_188"></a><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_189"></a><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_190"></a>You can use the <code>sdp</code> tool to convert an sdef file into a pair of script suite and script terminology files that Cocoa can work with in current or earlier versions of the operating system. However, the script suite files may require some modification, particularly if you use <code>sdp</code> in Mac OS X version 10.4 to create script suite files you will use with earlier OS versions.</p><p>You can also use <code>sdp</code> to create an <code>'aete'</code> file from an sdef file. A Cocoa application that provides its scriptability information in the script suite format may want to also include an <code>'aete'</code> resource to provide more control over how its scriptability information is displayed. That comes in handy in the following situation:</p><ol class="ol"><li class="li"><p>A user tries to display your application's scripting dictionary with Script Editor (or another dictionary viewer). Script Editor sends your application an Apple event asking for its scriptability information.</p></li><li class="li"><p>If your application has an <code>'aete'</code> resource, Cocoa returns that. Only the information you choose to put in the <code>'aete'</code> resource is displayed.</p></li><li class="li"><p>If your application does not have an <code>'aete'</code> resource, Cocoa scripting creates one from the information in any script suites available to the application. The information that gets displayed may include terminology that you do not wish to expose.</p></li></ol><p>However, you do not need an <code>'aete'</code> for this purpose in Mac OS X version 10.4 if your application uses an sdef file, because the sdef format gives you full control over what gets displayed.</p><p>You can execute a statement like the following in the Terminal application to create both script suite files and an <code>'aete'</code> resource from an sdef file:</p><div class="codesample"><table><tr><td scope="row"><pre>sdp -fast -o ~myHome MyApplication.sdef<span></span></pre></td></tr></table></div><p>By specifying <code>"ast"</code> with the <code>-f</code> parameter, this command tells <code>sdp</code> to create <code>'aete'</code>, script suite, and script terminology files. It actually creates a pair of script suite files for each <code>suite</code> element defined in the sdef, placing them in the directory specified by the <code>-o</code> argument.</p><p>You can invoke <code>sdp</code> in a shell script build phase in Xcode if you want to  make it part of your build process. If you do so, your command invocation should include the build style as part of the target directory. Here is an example of such a command:</p><div class="codesample"><table><tr><td scope="row"><pre>/usr/bin/sdp -fast -o "$BUILD_DIR/$BUILD_STYLE/$FULL_PRODUCT_NAME/Contents/Resources" "$SOURCE_ROOT/MyApplication.sdef"<span></span></pre></td></tr></table></div><p>For more information, see the <code>sdp</code> man page and the Xcode documentation.<a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_191"></a></p><a name="//apple_ref/doc/uid/TP40002164-CH19-SW9" title="Creating Scripting Definitions from Suite Files or &#39;aete&#39; Files"></a><h3>Creating Scripting Definitions from Suite Files or 'aete' Files</h3><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_192"></a><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_193"></a>In Mac OS X version 10.4, if you have existing script suite and script terminology files or a resource file containing an <code>'aete'</code> resource, you can use the <a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_194"></a><code>desdp</code> tool to convert them to the sdef format. The resulting sdef will contain all the information in the original dictionary, but is likely to require some changes, because the sdef format is more expressive than the older formats. For example, in the older format you cannot specify the ordering of terms. For more information on the <code>desdp</code> tool, see its man page.</p><a name="//apple_ref/doc/uid/TP40002164-CH19-SW10" title="Updating Older Scripting Definition Files for Mac OS X Version 10.4"></a><h3>Updating Older Scripting Definition Files for Mac OS X Version 10.4</h3><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_195"></a><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_196"></a>The scripting definition format experienced a number of changes for Mac OS X version 10.4. (For a complete listing, see the History section of the <code>sdef</code> man page.) If you have an existing sdef file created for an earlier version of the Mac OS, you can use the <code>xsltproc</code> tool to upgrade it for Mac OS X version 10.4.  You use this command line tool to apply XSLT stylesheets (such as the Mac OS X file <code>/usr/share/sdef/upgrade.xsl</code> referred to in the example that follows) to XML documents (in this case, the sdef file to be upgraded).</p><p>You can use a line like the following in the Terminal application to upgrade an sdef file named <code>MyApplication.sdef</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>xsltproc --novalid -o MyNewApplication.sdef /usr/share/sdef/upgrade.xsl MyApplication.sdef<span></span></pre></td></tr></table></div><p>In this invocation:</p><ul class="spaceabove"><li class="li"><p>The <code>--novalid</code> argument causes the tool to skip loading the document's DTD file.</p></li><li class="li"><p>The <code>-o</code> argument specifies the name of the new file to create.</p></li><li class="li"><p>The <code>/usr/share/sdef/upgrade.xsl</code> argument specifies the file from which to obtain the upgrade information.</p></li><li class="li"><p>The final argument, <code>MyApplication.sdef</code>, specifies the existing sdef file to upgrade.</p></li></ul><p>For more information, see the <code>xsltproc</code> man page.<a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_197"></a></p><a name="//apple_ref/doc/uid/TP40002164-CH19-SW6" title="Editing Scriptability Information"></a><h2>Editing Scriptability Information</h2><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_198"></a>In Mac OS X version 10.4, both Xcode and <a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_199"></a>Script Editor understand the sdef format. Double-clicking an sdef file in the Finder will launch Script Editor and display the scripting terminology in a dictionary viewer, while double-clicking an sdef file in an Xcode project will open it in a dictionary viewer in Xcode. <span class="content_text"><a href="../SApps_about_apps/SAppsAboutApps.html#//apple_ref/doc/uid/TP40001976-SW10">Figure 1-4</a></span> shows an sdef displayed in a dictionary viewer.</p><p><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_200"></a>To edit an sdef file in Xcode, select the sdef file and choose File > Open As > Plain Text File.  You can also view and edit the XML for an sdef file by opening it with any plain text editor or XML editor.</p><p>You can use File > Open Dictionary in Script Editor or Xcode to choose any scriptable application and display its dictionary.</p><p>In Mac OS X version 10.3 and earlier, Cocoa scripting cannot directly parse sdef files, and neither Xcode nor Script Editor can display native sdef files in a dictionary viewer.</p><p>For all scriptable versions of Cocoa, you can supply scriptability information in script suite files and script terminology files. Dragging a scriptable Cocoa application that contains these files onto Script Editor will display its dictionary. However, neither Script Editor nor Xcode can interpret script suite and script terminology files natively to display a dictionary.</p><p>Double-clicking a script suite or script terminology file will typically open it in Property List Editor (if you have not changed the Finder default). After opening a file in <a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_201"></a>Property List Editor, you can save it in XML format, or in a plain ASCII format that may be somewhat easier to read and work with. You can edit suite files in any of these formats, though editing property lists with Property List Editor has some limitations.</p><p>For information on creating a new sdef file, see <span class="content_text"><a href="../SApps_creating_sdef/SAppsCreateSdef.html#//apple_ref/doc/uid/TP40001979-SW2">“Create a Scripting Definition File.”</a></span> For information on creating a new script suite, see <span class="content_text"><a href="../SApps_suites/SAppsSuites.html#//apple_ref/doc/uid/20001241-SW2">“Creating Your Own Script Suite Files.”</a></span> If you already have existing scriptability information, see <span class="content_text"><a href="SAppsEvolution.html#//apple_ref/doc/uid/TP40002164-CH19-SW2">“Converting and Updating Scriptability Information.”</a></span><a name="//apple_ref/doc/uid/TP40002164-CH19-DontLinkElementID_202"></a></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../SApps_handle_AEs/SAppsHandleAEs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SApps_suites/SAppsSuites.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-03-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/ScriptableCocoaApplications/SApps_evolution/SAppsEvolution.html%3Fid%3DTP40002164-2.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/ScriptableCocoaApplications/SApps_evolution/SAppsEvolution.html%3Fid%3DTP40002164-2.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/ScriptableCocoaApplications/SApps_evolution/SAppsEvolution.html%3Fid%3DTP40002164-2.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>