<HTML>		<HEAD>		<TITLE>			EOSharedEditingContext		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/java/cl/EOSharedEditingContext">EOSharedEditingContext</a></FONT></h1><br><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> <a href="EOEditingContext.html#//apple_ref/java/cl/EOEditingContext">EOEditingContext </a> : <a href="EOObjectStore.html#//apple_ref/java/cl/EOObjectStore"> EOObjectStore </a> : NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Implements: </b></dt><dd>EOObserving</dd></dl></blockquote><blockquote><dl><dt><b>Package: </b></dt><dd>com.apple.yellow.eocontrol</dd></dl></blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>The EOSharedEditingContext class defines amechanism that allows EOEditingContexts to share enterprise objectsfor reading. This mechanism can reduce redundant data and the numberof fetches an application requires.</p><br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Thisclass doesn't exist in the com.apple.client.eocontrol package.Shared editing contexts aren't available for Java Client.</td></tr></table><br><p>Shared enterprise objects are read-only and persist for thelife of the application; they can't be modified or deleted. Theymust be unique in the shared context and across all other editingcontexts that share objects from the shared context.</p><p>Objects can be fetched into a shared context using objectsWithFetchSpecification: and  <a href="#//apple_ref/java/instm/EOSharedEditingContext/bindObjectsWithFetchSpecification">bindObjectsWithFetchSpecification</a>.The latter method makes it easier to access result sets, using  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityNameAndFetchSpecificationName">objectsByEntityNameAndFetchSpecificationName</a>.</p><p>In multithreaded applications, shared objects can be usedsafely by many threads at once. Shared editing contexts use EOMultiReaderLocksto maintain thread safety. The methods  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsWithFetchSpecification">objectsWithFetchSpecification</a>,  <a href="#//apple_ref/java/instm/EOSharedEditingContext/bindObjectsWithFetchSpecification">bindObjectsWithFetchSpecification</a>,  <a href="#//apple_ref/java/instm/EOSharedEditingContext/faultForGlobalID">faultForGlobalID</a>,and  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectForGlobalID">objectForGlobalID</a> arethread-safe, but you must lock the context before using any othershared context API.</p><p>It is possible to modify shared objects while an applicationis running, but only indirectly. You can create a regular editingcontext that doesn't share objects by setting it's  <a href="EOEditingContext.html#//apple_ref/java/instm/EOEditingContext/sharedEditingContext">sharedEditingContext</a> to null. Fetchthe object that you want to change into the regular context, modifyor delete it, and save. Since shared editing contexts listen for  <a href="EOEditingContext.html#BIDDDACJ">ObjectsChangedInStoreNotification</a>s,the shared editing context updates when it learns that an objectwas modified. The shared context removes from its  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityName">objectsByEntityName</a> and  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityNameAndFetchSpecificationName">objectsByEntityNameAndFetchSpecificationName</a> dictionariesany objects that have been deleted, and it refaults any objectsthat have been updated. However, to register newly inserted objectsin the shared editing context, you should refetch.</p><br><br><br><h2>Constants</h2><hr><p>EOSharedEditingContext defines constants for the notifications it post.For more information, see  <a href="#BIDGHHAH">"Notifications"</a>.</p><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Accessing a shared editingcontext</dt><dd> <a href="#//apple_ref/java/clm/EOSharedEditingContext/defaultSharedEditingContext">defaultSharedEditingContext</a></dd><dd> <a href="#//apple_ref/java/clm/EOSharedEditingContext/setDefaultSharedEditingContext">setDefaultSharedEditingContext</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/sharedEditingContext">sharedEditingContext</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/setSharedEditingContext">setSharedEditingContext</a></dd></dl><dl><dt>Accessing shared objects</dt><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/bindObjectsWithFetchSpecification">bindObjectsWithFetchSpecification</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityName">objectsByEntityName</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityNameAndFetchSpecificationName">objectsByEntityNameAndFetchSpecificationName</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsWithFetchSpecification">objectsWithFetchSpecification</a></dd></dl><dl><dt>Locking a shared editingcontext</dt><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/lockForReading">lockForReading</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/tryLockForReading">tryLockForReading</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/unlockForReading">unlockForReading</a></dd></dl><dl><dt>Overridden EOEditingContextmethods</dt><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/deleteObject">deleteObject</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/deletedObjects">deletedObjects</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/faultForGlobalID">faultForGlobalID</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/hasChanges">hasChanges</a> <a href="#//apple_ref/java/instm/EOSharedEditingContext/insertedObjects">insertedObjects</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/insertObject">insertObject</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectForGlobalID">objectForGlobalID</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectWillChange">objectWillChange</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/refaultObject">refaultObject</a> <a href="#//apple_ref/java/instm/EOSharedEditingContext/registeredObjects">registeredObjects</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/reset">reset</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/saveChanges">saveChanges</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/setUndoManager">setUndoManager</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/updatedObjects">updatedObjects</a></dd><dd> <a href="#//apple_ref/java/instm/EOSharedEditingContext/validateChangesForSave">validateChangesForSave</a></dd></dl></blockquote><br><br><h2>Constructors</h2><hr><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/EOSharedEditingContext">EOSharedEditingContext</a></h3><p><code>public <code>EOSharedEditingContext</code>(EOObjectStore <em>anObjectStore</em>)</code></p>Creates a new EOSharedEditingContextobject with the  <a href="EOEditingContext.html#//apple_ref/java/clm/EOEditingContext/defaultParentObjectStore">defaultParentObjectStore</a> asits parent object store. <em>anObjectStore</em>  isignored.<hr WIDTH="25%" ALIGN="LEFT"><br><br><h2>Static Methods</h2><hr><a name = "BIDEJGGG"></a><BR><h3><a name="//apple_ref/java/clm/EOSharedEditingContext/defaultSharedEditingContext">defaultSharedEditingContext</a></h3><p><code>public static EOSharedEditingContext <code>defaultSharedEditingContext</code>()</code></p>Returns the default EOSharedEditingContext. Ifa shared context hasn't yet been created, this method createsone and posts a  <a href="#BIDEAHGA">DefaultSharedEditingContextWasInitializedNotification</a>.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDEJDJA"></a><BR><h3><a name="//apple_ref/java/clm/EOSharedEditingContext/setDefaultSharedEditingContext">setDefaultSharedEditingContext</a></h3><p><code>public static void <code>setDefaultSharedEditingContext</code>(EOSharedEditingContext <em>context</em>)</code></p>Sets the default shared editingcontext. If <em>context</em>  is null,object sharing is disabled in subsequently created EOEditingContexts.<hr WIDTH="25%" ALIGN="LEFT"><BR><BR><h2>Instance Methods</h2><hr><a name = "BIDHIHEH"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/bindObjectsWithFetchSpecification">bindObjectsWithFetchSpecification</a></h3><p><code>public void <code>bindObjectsWithFetchSpecification</code>(EOFetchSpecification <em>fetchSpecification,</em> String <em>name</em>)</code></p>Fetches objects with <em>fetchSpecification</em>  andbinds the results to <em>fetchSpecification</em>'sentity and <em>fetchSpecification</em>'sname, which is provided with the <em>name</em>  argument. Youcan later retrieve the resulting shared objects using the methods  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityName">objectsByEntityName</a> and  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityNameAndFetchSpecificationName">objectsByEntityNameAndFetchSpecificationName</a>.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDHGEHG"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/deleteObject">deleteObject</a></h3><p><code>public void <code>deleteObject</code>(EOEnterpriseObject <em>object</em>)</code></p>Raises an exception. Youcan't modify or delete the shared objects in a shared editingcontext.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDDJJCA"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/deletedObjects">deletedObjects</a></h3><p><code>public NSArray <code>deletedObjects</code>()</code></p>Returns an empty array. Theshared objects in a shared editing context can't be deleted.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDCIGBH"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/faultForGlobalID">faultForGlobalID</a></h3><p><code>public EOEnterpriseObject <code>faultForGlobalID</code>(EOGlobalID <em>gid,</em> EOEditingContext <em>context</em>)</code></p>A thread-safe version of thesuperclass implementation.<p><b>SeeAlso: </b>  <a href="EOEditingContext.html#//apple_ref/java/instm/EOEditingContext/faultForGlobalID">faultForGlobalID</a> ( <a href="EOEditingContext.html#EOEditingContext">EOEditingContext</a>)</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDGCIFG"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/hasChanges">hasChanges</a></h3><p><code>public boolean <code>hasChanges</code>()</code></p>Returns false. Youcan't modify or delete the shared objects in a shared editingcontext.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDJDAFI"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/insertedObjects">insertedObjects</a></h3><p><code>public NSArray <code>insertedObjects</code>()</code></p>Returns an empty array. Youcan't insert objects into a shared editing context.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDEJADJ"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/insertObject">insertObject</a></h3><p><code>public void <code>insertObject</code>(EOEnterpriseObject <em>object</em>)</code></p>Raises an exception. Youcan't insert objects into a shared editing context. Instead, insertan enterprise object into a regular editing context and then fetchit into the shared context.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDJFHCD"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/lockForReading">lockForReading</a></h3><p><code>public void <code>lockForReading</code>()</code></p>Locks the receiver for reading.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/instm/EOSharedEditingContext/tryLockForReading">tryLockForReading</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDJHBHI"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/objectForGlobalID">objectForGlobalID</a></h3><p><code>public EOEnterpriseObject <code>objectForGlobalID</code>(EOGlobalID <em>gid</em>)</code></p>A thread-safe version of thesuperclass implementation.<p><b>SeeAlso: </b>  <a href="EOEditingContext.html#//apple_ref/java/instm/EOEditingContext/objectForGlobalID">objectForGlobalID</a> ( <a href="EOEditingContext.html#EOEditingContext">EOEditingContext</a>)</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDJFAHD"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityName">objectsByEntityName</a></h3><p><code>public NSDictionary <code>objectsByEntityName</code>()</code></p>Returns a dictionary of allthe objects fetched into the shared context. Thedictionary keys are entity names and the corresponding values areNSArrays of enterprise objects for that entity.<p><b>SeeAlso: </b>  <a href="#//apple_ref/java/instm/EOSharedEditingContext/bindObjectsWithFetchSpecification">bindObjectsWithFetchSpecification</a></p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDDECBI"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityNameAndFetchSpecificationName">objectsByEntityNameAndFetchSpecificationName</a></h3><p><code>public NSDictionary <code>objectsByEntityNameAndFetchSpecificationName</code>()</code></p>Returns the objects fetchedinto the receiver with  <a href="#//apple_ref/java/instm/EOSharedEditingContext/bindObjectsWithFetchSpecification">bindObjectsWithFetchSpecification</a>.The return value is a dictionary whose keys are entity names andwhose values are subdictionaries. The keys of the subdictionariesare fetch specification names, and the values are NSArrays of theenterprise objects fetched with the corresponding fetch specification.The fetch specification names are the names specified in <code>bindObjectsWithFetchSpecification</code>.Generally these names are the same names used to identify storedfetch specifications in EOModeler.<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><b>Note: </b>Thedictionary returned from this method might not contain all the receiver'sshared objects. It only contains objects fetched with a named fetchspecification using  <a href="#//apple_ref/java/instm/EOSharedEditingContext/bindObjectsWithFetchSpecification">bindObjectsWithFetchSpecification</a>.Shared objects fetched into the receiver with other methods arenot returned from this method.</td></tr></table><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "objectsWithFetchSpecification_editingContext_"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/objectsWithFetchSpecification">objectsWithFetchSpecification</a></h3><p><code>public NSArray <code>objectsWithFetchSpecification</code>(EOFetchSpecification <em>fetchSpecification,</em> EOEditingContext <em>anEditingContext</em>)</code></p>A thread-safe version of thesuperclass implementation that binds the results to <em>fetchSpecification</em>'s entity. Youcan later retrieve the resulting shared objects using the method  <a href="#//apple_ref/java/instm/EOSharedEditingContext/objectsByEntityName">objectsByEntityName</a>.<p><b>SeeAlso: </b>  <a href="EOEditingContext.html#//apple_ref/java/instm/EOEditingContext/objectsWithFetchSpecification">objectsWithFetchSpecification</a> ( <a href="EOEditingContext.html#EOEditingContext">EOEditingContext</a>)</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDFIIDD"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/objectWillChange">objectWillChange</a></h3><p><code>public void <code>objectWillChange</code>(Object <em>object</em>)</code></p>Raises an exception. Youcan't modify the shared objects in a shared editing context.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDGECDI"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/refaultObject">refaultObject</a></h3><p><code>public void <code>refaultObject</code>(EOEnterpriseObject <em>object,</em> EOGlobalID <em>gid,</em> EOEditingContext <em>context</em>)</code></p>See the  <a href="EOEditingContext.html#//apple_ref/java/instm/EOEditingContext/refaultObject">refaultObject</a> method descriptionin the  <a href="EOEditingContext.html#EOEditingContext">EOEditingContext</a> class specification. Notethat this method is not thread safe.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDBJDEA"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/registeredObjects">registeredObjects</a></h3><p><code>public NSArray <code>registeredObjects</code>()</code></p>A thread-safe version of thesuperclass implementation.<p><b>SeeAlso: </b>  <a href="EOEditingContext.html#//apple_ref/java/instm/EOEditingContext/registeredObjects">registeredObjects</a> ( <a href="EOEditingContext.html#EOEditingContext">EOEditingContext</a>)</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDFABHB"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/reset">reset</a></h3><p><code>public void <code>reset</code>()</code></p>Overrides the superclass implementationto do nothing.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDHGADI"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/saveChanges">saveChanges</a></h3><p><code>public void <code>saveChanges</code>()</code></p>Raises an exception. Youcan't modify the shared objects in a shared editing context.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDHFGGD"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/setSharedEditingContext">setSharedEditingContext</a></h3><p><code>public void <code>setSharedEditingContext</code>(EOSharedEditingContext <em>sharedEC</em>)</code></p>Raises an exception unless <em>sharedEC</em>  is null.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDFIDBA"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/setUndoManager">setUndoManager</a></h3><p><code>public void <code>setUndoManager</code>(NSUndoManager <em>undoManager</em>)</code></p>Raises an exception unless <em>undoManager</em>  is null.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDFFJIB"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/sharedEditingContext">sharedEditingContext</a></h3><p><code>public EOSharedEditingContext <code>sharedEditingContext</code>()</code></p>Returns null.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDIIHBA"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/tryLockForReading">tryLockForReading</a></h3><p><code>public boolean <code>tryLockForReading</code>()</code></p>Tries to lock the receiverfor reading. Returns true if the receiver is successfully locked, false otherwise.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDCAIGE"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/unlockForReading">unlockForReading</a></h3><p><code>public void <code>unlockForReading</code>()</code></p>Unlocks the receiver for reading.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDGJFHD"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/updatedObjects">updatedObjects</a></h3><p><code>public NSArray <code>updatedObjects</code>()</code></p>Returns an empty array. Youcan't modify objects that are in a shared editing context.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDJBBHH"></a><BR><h3><a name="//apple_ref/java/instm/EOSharedEditingContext/validateChangesForSave">validateChangesForSave</a></h3><p><code>public void <code>validateChangesForSave</code>()</code></p>Overrides the superclass implementationto do nothing.<hr WIDTH="25%" ALIGN="LEFT"><a name = "BIDGHHAH"></a><BR><BR><h2>Notifications</h2><hr><a name = "BIDEAHGA"></a><h3>DefaultSharedEditingContextWasInitializedNotification</h3><p><code>public static final String DefaultSharedEditingContextWasInitializedNotification</code></p>Posted when anEOSharedEditingContext is created and assigned as the  <a href="#//apple_ref/java/clm/EOSharedEditingContext/defaultSharedEditingContext">defaultSharedEditingContext</a>.<br><table border = "1"><tr><td scope="row">Notification Object</td><td>None</td></tr><tr><td scope="row">userInfo Dictionary</td><td>None</td></tr></table><br><h3>SharedEditingContextInitializedObjectsNotification</h3><p><code>public static final String SharedEditingContextInitializedObjectsNotification</code></p>Posted when newobjects are added to a shared editing context (by fetching or faultfiring).<br><table border = "1"><tr><td scope="row">Notification Object</td><td>The shared editing context</td></tr><tr><td scope="row">userInfo Dictionary</td><td>NSArray of global IDs of the initialized objects</td></tr></table><br><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a></BODY></HTML>