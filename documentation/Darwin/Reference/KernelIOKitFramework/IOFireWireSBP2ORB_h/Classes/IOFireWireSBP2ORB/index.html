<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>IOFireWireSBP2ORB</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/class/IOFireWireSBP2ORB" title="IOFireWireSBP2ORB"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOFireWireSBP2ORB">IOFireWireSBP2ORB</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Inherits from:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<a href="../../../IOCommand_h/Classes/IOCommand/index.html#//apple_ref/cpp/cl/IOCommand" target="_top">IOCommand</a>
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOFireWireSBP2ORB.h</a></div></div></td>
</tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>Represents an SBP2 normal command ORB.  
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This class supplies the APIs for configuring normal
command ORBs.  This includes setting the command block and writing the page tables for I/O.
The ORBs are executed using the submitORB method in IOFireWireSBP2Login.
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/allocatePageTable/IOReturn/(UInt32)" target="_top">allocatePageTable</a></tt></dt>
<dd><p>Allocates memory for the page table.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/deallocatePageTable/void/()" target="_top">deallocatePageTable</a></tt></dt>
<dd><p>Frees up memory allocated for the page table.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandBufferDescriptor/IOMemoryDescriptor*/()" target="_top">getCommandBufferDescriptor</a></tt></dt>
<dd><p>Returns the memory descriptor representing the command buffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandFlags/UInt32/()" target="_top">getCommandFlags</a></tt></dt>
<dd><p>Gets configuration flags for the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandGeneration/UInt32/()" target="_top">getCommandGeneration</a></tt></dt>
<dd><p>Gets the command generation.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandTimeout/UInt32/()" target="_top">getCommandTimeout</a></tt></dt>
<dd><p>Gets the timeout of the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getLogin/IOFireWireSBP2Login*/()" target="_top">getLogin</a></tt></dt>
<dd><p>Gets the login associated with this ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getMaxPayloadSize/UInt32/()" target="_top">getMaxPayloadSize</a></tt></dt>
<dd><p>Gets max payload size for the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getORBAddress/void/(FWAddress*)" target="_top">getORBAddress</a></tt></dt>
<dd><p>Returns the FireWire address of this ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getRefCon/void*/()" target="_top">getRefCon</a></tt></dt>
<dd><p>Returns the refCon set with setRefCon.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/getRefCon64/UInt64/()" target="_top">getRefCon64</a></tt></dt>
<dd><p>Returns the 64 bit refCon set with setRefCon64.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/release/void/()" target="_top">release</a></tt></dt>
<dd><p>Primary implementation of the release mechanism.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/releaseCommandBuffers/IOReturn/()" target="_top">releaseCommandBuffers</a></tt></dt>
<dd><p>Releases SBP2's reference to the command buffers.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setBufferConstraints/IOReturn/(UInt64,UInt32,UInt32)" target="_top">setBufferConstraints</a></tt></dt>
<dd><p>Configures page table generation parameters
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/IOReturn/(IOMemoryDescriptor*)" target="_top">setCommandBlock(IOMemoryDescriptor *)</a></tt></dt>
<dd><p>Sets the command block portion of the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/IOReturn/(void*,UInt32)" target="_top">setCommandBlock(void *, UInt32)</a></tt></dt>
<dd><p>Sets the command block portion of the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffers/IOReturn/(IOMemoryDescriptor*,UInt32,UInt32)" target="_top">setCommandBuffers</a></tt></dt>
<dd><p>Creates a page table from a list of ranges.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/title:instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/IOReturn/(IOMemoryDescriptor*,UInt32,UInt32)" target="_top">setCommandBuffersAsRanges(IOMemoryDescriptor *, UInt32, UInt32)</a></tt></dt>
<dd><p>Creates a page table from a list of ranges.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/IOReturn/(IOVirtualRange*,UInt32,IODirection,task_t,UInt32,UInt32)" target="_top">setCommandBuffersAsRanges(IOVirtualRange *, UInt32, IODirection, task_t, UInt32, UInt32)</a></tt></dt>
<dd><p>Creates a page table from a list of ranges.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges64/IOReturn/(IOAddressRange*,uint64_t,IODirection,task_t,uint64_t,uint64_t)" target="_top">setCommandBuffersAsRanges64</a></tt></dt>
<dd><p>Creates a page table from a list of 64 bit ranges.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandFlags/void/(UInt32)" target="_top">setCommandFlags</a></tt></dt>
<dd><p>Sets configuration flags for the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandGeneration/void/(UInt32)" target="_top">setCommandGeneration</a></tt></dt>
<dd><p>Sets the command generation.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandTimeout/void/(UInt32)" target="_top">setCommandTimeout</a></tt></dt>
<dd><p>Sets the timeout of the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setMaxPayloadSize/void/(UInt32)" target="_top">setMaxPayloadSize</a></tt></dt>
<dd><p>Sets max payload size for the ORB.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setRefCon/void/(void*)" target="_top">setRefCon</a></tt></dt>
<dd><p>Sets the ORB refCon.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOFireWireSBP2ORB/setRefCon64/void/(UInt64)" target="_top">setRefCon64</a></tt></dt>
<dd><p>Sets the ORB refCon as a 64 bit value.
</p></dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/allocatePageTable/IOReturn/(UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::allocatePageTable --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/allocatePageTable/IOReturn/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="allocatePageTable">allocatePageTable</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Allocates memory for the page table.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">allocatePageTable</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">entryCount</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>entryCount</code></dt>
<dd><p>number of entries of page table to be allocated.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Page table allocation is handle automatically by the ORB, except if the 
kFWSBP2CommandFixedSize flags is set.  In this case we will fail to write a page table if we 
need more page table space than we have already.  This method is exposed so these drivers 
can preallocate as much page table as they need.  This is useful if your driver is part of 
the paging path and cannot allow allocations to occur.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/deallocatePageTable/void/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::deallocatePageTable --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/deallocatePageTable/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="deallocatePageTable">deallocatePageTable</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Frees up memory allocated for the page table.
<!-- end abstract --></p>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">deallocatePageTable</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Frees all memory associated with the page table.  Undoes what allocatePageTable does. 
Calling allocatePageTable again will automatically deallocate the existing page table before 
allocating a new one, so this method is not used in most cases.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandBufferDescriptor/IOMemoryDescriptor*/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getCommandBufferDescriptor --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandBufferDescriptor/IOMemoryDescriptor*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getCommandBufferDescriptor">getCommandBufferDescriptor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the memory descriptor representing the command buffer.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOMemoryDescriptor_h/Classes/IOMemoryDescriptor/index.html#//apple_ref/cpp/cl/IOMemoryDescriptor" target="_top" class="type"><span class="type">IOMemoryDescriptor</span></a> <span class="type">*</span> <!-- a --><span class="function">getCommandBufferDescriptor</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns memory descriptor representing mapped data buffers. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the IOMemoryDescriptor for the data mapped by setCommandBuffer variants.  
Works for setCommandBuffersAsRanges too.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandFlags/UInt32/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getCommandFlags --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandFlags/UInt32/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getCommandFlags">getCommandFlags</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets configuration flags for the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="function">getCommandFlags</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Return The current ORB flags.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the current configuration flags set on this ORB.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandGeneration/UInt32/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getCommandGeneration --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandGeneration/UInt32/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getCommandGeneration">getCommandGeneration</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets the command generation.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="function">getCommandGeneration</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the bus generation for command execution.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This gets the bus generation this ORB should be appended in.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandTimeout/UInt32/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getCommandTimeout --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getCommandTimeout/UInt32/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getCommandTimeout">getCommandTimeout</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets the timeout of the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="function">getCommandTimeout</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the timeout for the orb in milliseconds.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method gets the timeout for this ORB in milliseconds.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getLogin/IOFireWireSBP2Login*/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getLogin --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getLogin/IOFireWireSBP2Login*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getLogin">getLogin</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets the login associated with this ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOFireWireSBP2Login_h/Classes/IOFireWireSBP2Login/index.html#//apple_ref/cpp/cl/IOFireWireSBP2Login" target="_top" class="type"><span class="type">IOFireWireSBP2Login</span></a> <span class="type">*</span> <!-- a --><span class="function">getLogin</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a pointer to an IOFireWireSBP2Login. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the IOFireWireSBP2Login object associated with this ORB.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getMaxPayloadSize/UInt32/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getMaxPayloadSize --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getMaxPayloadSize/UInt32/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getMaxPayloadSize">getMaxPayloadSize</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets max payload size for the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="function">getMaxPayloadSize</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the maximum payload size in bytes.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This gets the maximum payload size for this ORB only.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getORBAddress/void/(FWAddress*);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getORBAddress --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getORBAddress/void/(FWAddress*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getORBAddress">getORBAddress</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the FireWire address of this ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">getORBAddress</span><!-- /a -->(
    <!-- a --><span class="type">FWAddress</span><!-- /a --> <span class="type">*</span><span class="param">address</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the FireWire address of this ORB.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the FireWire bus address of this ORB.  This is not the same as the Macintosh 
address for the IOFireWireSBP2ORB.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getRefCon/void*/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getRefCon --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getRefCon/void*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getRefCon">getRefCon</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the refCon set with setRefCon.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span> <!-- a --><span class="function">getRefCon</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the previously stored user defined value.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the user defined value previously stored in the ORB with setRefCon.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/getRefCon64/UInt64/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::getRefCon64 --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/getRefCon64/UInt64/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getRefCon64">getRefCon64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns the 64 bit refCon set with setRefCon64.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="function">getRefCon64</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the previously stored user defined value.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns the user defined value previously stored in the ORB with setRefCon.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/release/void/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::release --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/release/void/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="release">release</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Primary implementation of the release mechanism.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">release</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>when</code></dt>
<dd><p>When retainCount == when then call free().</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>See OSObject.h for more information. 
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/releaseCommandBuffers/IOReturn/();  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::releaseCommandBuffers --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/releaseCommandBuffers/IOReturn/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="releaseCommandBuffers">releaseCommandBuffers</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Releases SBP2's reference to the command buffers.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">releaseCommandBuffers</span><!-- /a -->(
    <span class="param">void</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KIOReturnSuccess if the page table was cleared successfully. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>When you create a page table with one of the variants of setCommandBuffers.  
SBP2 holds on to a reference to the buffers until this method is called.  This means that 
if a command completed and you manipulated the memory descriptor or released the buffers 
without calling this method you could leave FW in an inconsistent state.  
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setBufferConstraints/IOReturn/(UInt64,UInt32,UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setBufferConstraints --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setBufferConstraints/IOReturn/(UInt64,UInt32,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setBufferConstraints">setBufferConstraints</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Configures page table generation parameters
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">setBufferConstraints</span><!-- /a -->(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">maxSegmentSize</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">alignment</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">options</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->May return an error if there is a problem allocating the underlying resources or if buffers are currently attached.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the maximums size of any page table segment and the required alignemnt.  Double buffering
may be used to satisfy these constraints. The only supported option is kFWSBP2ConstraintForceDoubleBuffer which
forces a page aligned double buffering of the entire descriptor.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/IOReturn/(IOMemoryDescriptor*);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandBlock --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/IOReturn/(IOMemoryDescriptor*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandBlock(IOMemoryDescriptor*)">setCommandBlock(IOMemoryDescriptor *)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the command block portion of the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">setCommandBlock</span><!-- /a -->(
    <a href="../../../IOMemoryDescriptor_h/Classes/IOMemoryDescriptor/index.html#//apple_ref/cpp/cl/IOMemoryDescriptor" target="_top" class="type"><span class="type">IOMemoryDescriptor</span></a> <span class="type">*</span><span class="param">memory</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>memory</code></dt>
<dd><p>IOMemoryDescriptor representing the command block buffer.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KIOReturnSuccess if the command block was updated successfully. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Copys the data provided in the buffer to the command block portion of the ORB.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/IOReturn/(void*,UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandBlock --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBlock/IOReturn/(void*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandBlock(void*,UInt32)">setCommandBlock(void *, UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the command block portion of the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">setCommandBlock</span><!-- /a -->(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">buffer</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">length</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>buffer</code></dt>
<dd><p>Pointer to buffer to copy command block from.</p></dd>
<dt><code>length</code></dt>
<dd><p>Number of bytes of data to copy.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KIOReturnSuccess if the command block was updated successfully. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Copys the data provided in the buffer to the command block portion of the ORB.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffers/IOReturn/(IOMemoryDescriptor*,UInt32,UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandBuffers --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffers/IOReturn/(IOMemoryDescriptor*,UInt32,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandBuffers">setCommandBuffers</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates a page table from a list of ranges.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">setCommandBuffers</span><!-- /a -->(
    <a href="../../../IOMemoryDescriptor_h/Classes/IOMemoryDescriptor/index.html#//apple_ref/cpp/cl/IOMemoryDescriptor" target="_top" class="type"><span class="type">IOMemoryDescriptor</span></a> <span class="type">*</span><span class="param">memoryDescriptor</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">offset</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">length</span><!-- /a --> = <span class="number">0</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>memoryDescriptor</code></dt>
<dd><p>IOMemoryDescriptor describe ranges to be written to a page table.</p></dd>
<dt><code>offset</code></dt>
<dd><p>Offset in bytes into data to begin writing table at.</p></dd>
<dt><code>length</code></dt>
<dd><p>Number of bytes of data to map from offset.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KIOReturnSuccess if the page table was written successfully. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Creates a page table with the given parameters. Any addresses mapped by this method 
must remain valid until setCommandBuffers is called again or releaseCommandBuffers is called.  
The SBP2 services do not release references to the command buffers just because the command 
has completed.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=title:instm;  uid=//apple_ref/doc/title:instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/IOReturn/(IOMemoryDescriptor*,UInt32,UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandBuffersAsRanges --><a name="//apple_ref/doc/title:instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/IOReturn/(IOMemoryDescriptor*,UInt32,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandBuffersAsRanges(IOMemoryDescriptor*,UInt32,UInt32)">setCommandBuffersAsRanges(IOMemoryDescriptor *, UInt32, UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates a page table from a list of ranges.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">setCommandBuffers</span><!-- /a -->(
    <a href="../../../IOMemoryDescriptor_h/Classes/IOMemoryDescriptor/index.html#//apple_ref/cpp/cl/IOMemoryDescriptor" target="_top" class="type"><span class="type">IOMemoryDescriptor</span></a> <span class="type">*</span><span class="param">memoryDescriptor</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">offset</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">length</span><!-- /a --> = <span class="number">0</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>memoryDescriptor</code></dt>
<dd><p>IOMemoryDescriptor describe ranges to be written to a page table.</p></dd>
<dt><code>offset</code></dt>
<dd><p>Offset in bytes into data to begin writing table at.</p></dd>
<dt><code>length</code></dt>
<dd><p>Number of bytes of data to map from offset.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KIOReturnSuccess if the page table was written successfully. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Creates a page table with the given parameters. Any addresses mapped by this method 
must remain valid until setCommandBuffers is called again or releaseCommandBuffers is called.  
The SBP2 services do not release references to the command buffers just because the command 
has completed.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/IOReturn/(IOVirtualRange*,UInt32,IODirection,task_t,UInt32,UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandBuffersAsRanges --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges/IOReturn/(IOVirtualRange*,UInt32,IODirection,task_t,UInt32,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandBuffersAsRanges(IOVirtualRange*,UInt32,IODirection,task_t,UInt32,UInt32)">setCommandBuffersAsRanges(IOVirtualRange *, UInt32, IODirection, task_t, UInt32, UInt32)</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates a page table from a list of ranges.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">setCommandBuffersAsRanges</span><!-- /a -->(
    <!-- a --><span class="type">IOVirtualRange</span><!-- /a --> <span class="type">*</span><span class="param">ranges</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">withCount</span>, 
    <!-- a --><span class="type">IODirection</span><!-- /a --> <span class="param">withDirection</span>, 
    <!-- a --><span class="type">task_t</span><!-- /a --> <span class="param">withTask</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">offset</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">length</span><!-- /a --> = <span class="number">0</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>ranges</code></dt>
<dd><p>An array of ranges representing the data to be transfered.</p></dd>
<dt><code>withCount</code></dt>
<dd><p>The number of ranges in the ranges array.</p></dd>
<dt><code>withDirection</code></dt>
<dd><p>An IODirection indicating the direction of data transfer.</p></dd>
<dt><code>withTask</code></dt>
<dd><p>The task that these adressses reside in.</p></dd>
<dt><code>offset</code></dt>
<dd><p>Offset in bytes into data to begin writing table at.</p></dd>
<dt><code>length</code></dt>
<dd><p>Number of bytes of data to map from offset.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KIOReturnSuccess if the page table was written successfully. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Creates a page table with the given parameters. Any addresses mapped by this method 
must remain valid until setCommandBuffers is called again or releaseCommandBuffers is called.  
The SBP2 services do not release references to the command buffers just because the command 
has completed.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges64/IOReturn/(IOAddressRange*,uint64_t,IODirection,task_t,uint64_t,uint64_t);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandBuffersAsRanges64 --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandBuffersAsRanges64/IOReturn/(IOAddressRange*,uint64_t,IODirection,task_t,uint64_t,uint64_t)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandBuffersAsRanges64">setCommandBuffersAsRanges64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates a page table from a list of 64 bit ranges.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">setCommandBuffersAsRanges64</span><!-- /a -->(
    <!-- a --><span class="type">IOAddressRange</span><!-- /a --> <span class="type">*</span><span class="param">ranges</span>, 
    <!-- a --><span class="type">uint64_t</span><!-- /a --> <span class="param">withCount</span>, 
    <!-- a --><span class="type">IODirection</span><!-- /a --> <span class="param">withDirection</span>, 
    <!-- a --><span class="type">task_t</span><!-- /a --> <span class="param">withTask</span>, 
    <!-- a --><span class="type">uint64_t</span><!-- /a --> <!-- a --><span class="type">offset</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">uint64_t</span><!-- /a --> <!-- a --><span class="type">length</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>ranges</code></dt>
<dd><p>An array of ranges representing the data to be transfered.</p></dd>
<dt><code>withCount</code></dt>
<dd><p>The number of ranges in the ranges array.</p></dd>
<dt><code>withDirection</code></dt>
<dd><p>An IODirection indicating the direction of data transfer.</p></dd>
<dt><code>withTask</code></dt>
<dd><p>The task that these adressses reside in.</p></dd>
<dt><code>offset</code></dt>
<dd><p>Offset in bytes into data to begin writing table at.</p></dd>
<dt><code>length</code></dt>
<dd><p>Number of bytes of data to map from offset.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns KIOReturnSuccess if the page table was written successfully. 

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Creates a page table with the given parameters. Any addresses mapped by this method 
must remain valid until setCommandBuffers is called again or releaseCommandBuffers is called.  
The SBP2 services do not release references to the command buffers just because the command 
has completed. This is a 64 bit compatible version of setCommandBuffersAsRanges.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandFlags/void/(UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandFlags --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandFlags/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandFlags">setCommandFlags</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets configuration flags for the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setCommandFlags</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">flags</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>flags</code></dt>
<dd><p>The flags to be set.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets the configuration flags for the ORB.  These can be any of the following:
</p>
<p>kFWSBP2CommandCompleteNotify - Set the notify bit as specified in SBP2 standard. Set to receive completion/timeout notification on this ORB.  You almost always want to set this.</p>
<p>kFWSBP2CommandTransferDataFromTarget - Transfer direction as specified in SBP2 standard.  Set if data is to be written by the device into the host's memory.</p>
<p>kFWSBP2CommandImmediate - Immediate Append.  ORB address will be written to fetch agent and not chained.  It is only legal to have one immediate ORB in progress at a time.</p>
<p>kFWSBP2CommandNormalORB - ORB format 0 - Format specified by SBP2 standard.  Set this for most ORBs.</p>
<p>kFWSBP2CommandReservedORB - ORB format 1 - Format reserved by SBP2 standard for future standardization.</p>
<p>kFWSBP2CommandVendorORB - ORB format 2 - Format specified by SBP2 standard for vendor dependent ORBs.</p>
<p>kFWSBP2CommandDummyORB - ORB format 3 - Format specified by SBP2 standard for dummy ORBs.</p>
<p>kFWSBP2CommandCheckGeneration - If set upon submitORB, the ORB will only be appended if generation set with setCommandGeneration() matches the current generation.  Pretty much all SBP2 drivers need sophisticated logic to track login state, so this is generally not used. </p>
<p>kFWSBP2CommandFixedSize - Do not allocate more memory for page table if needed.  If there is not enough space in the currently allocated page table, the setCommandBuffers call will fail.  This is important to set if your device is the backing store, as we don't want to cause memory allocations on the paging path. </p>
<p>kFWSBP2CommandVirtualORBs - Normally ORBs are backed by physical address spaces.  Setting this flag makes this ORB backed by a pseudo address space.  This can make ORBs easier to see in a bus trace.  Virtual ORBs will have an address in the form of ffcX.XXXX.0000.0000.  Pseudo address space backed ORBs are slower, so you won't want to set for deployment builds.</p>
<!-- end discussion -->
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandGeneration/void/(UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandGeneration --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandGeneration/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandGeneration">setCommandGeneration</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the command generation.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setCommandGeneration</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">gen</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>gen</code></dt>
<dd><p>The bus generation for command execution.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This sets the bus generation this ORB should be appended in.  It is only meaningful 
when combined with the kFWSBP2CommandCheckGeneration flags above.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandTimeout/void/(UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setCommandTimeout --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setCommandTimeout/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setCommandTimeout">setCommandTimeout</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the timeout of the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setCommandTimeout</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">timeout</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>timeout</code></dt>
<dd><p>The timeout duration in milliseconds.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This sets the timeout for the ORB in milliseconds. Note that ORBs without timeouts 
can be "lost."  You will obviously not recieve timeout notification for timeouts of zero.  But 
perhaps less obviously you will not recieve orb reset notification, which is really a sort of
accelerated timeout notification for bus reset situations.  
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setMaxPayloadSize/void/(UInt32);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setMaxPayloadSize --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setMaxPayloadSize/void/(UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setMaxPayloadSize">setMaxPayloadSize</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets max payload size for the ORB.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setMaxPayloadSize</span><!-- /a -->(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">maxPayloadSize</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>maxPayloadSize</code></dt>
<dd><p>The maximum payload size in bytes.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This sets the maximum payload size for this ORB only.  This size is clipped by 
the global max payload size set in the login object.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setRefCon/void/(void*);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setRefCon --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setRefCon/void/(void*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setRefCon">setRefCon</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the ORB refCon.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setRefCon</span><!-- /a -->(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">refCon</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>refCon</code></dt>
<dd><p>a user defined value.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets a user defined value on the ORB that can be retrieved later with the 
method getRefCon.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOFireWireSBP2ORB/setRefCon64/void/(UInt64);  indexgroup=SBP-2 ;   name=IOFireWireSBP2ORB::setRefCon64 --><a name="//apple_ref/cpp/instm/IOFireWireSBP2ORB/setRefCon64/void/(UInt64)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setRefCon64">setRefCon64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets the ORB refCon as a 64 bit value.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">setRefCon64</span><!-- /a -->(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">refCon</span> ); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>refCon</code></dt>
<dd><p>a user defined value.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sets a user defined value on the ORB that can be retrieved later with the 
method getRefCon.
<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOFireWireSBP2ORB_h/Classes/IOFireWireSBP2ORB/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOFireWireSBP2ORB_h/Classes/IOFireWireSBP2ORB/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOFireWireSBP2ORB_h/Classes/IOFireWireSBP2ORB/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=cl; uid=//apple_ref/cpp/cl/IOFireWireSBP2ORB; indexgroup=SBP-2 ; name=IOFireWireSBP2ORB--><a name="//apple_ref/cpp/cl/IOFireWireSBP2ORB"></a>
</body>
</html>
