<html><head><title>Mac OS X
 Manual Page For perlmacosx(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/perlmacosx" title="Mac OS X
 Manual Page for perlmacosx(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/perlmacosx"; name=perlmacosx(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PERLMACOSX(1)                         Perl Programmers Reference Guide                         PERLMACOSX(1)



<b>NAME</b>
       README.macosx - Perl under Mac OS X

<b>SYNOPSIS</b>
       This document briefly describes perl under Mac OS X.

<b>DESCRIPTION</b>
       The latest Perl release (5.8.8 as of this writing) builds without changes under Mac OS X. Under 10.3
       "Panther" and newer OS versions, all self-tests pass, and all standard features are supported.

       Earlier Mac OS X releases (10.2 "Jaguar" and older) did not include a completely thread-safe libc, so
       threading is not fully supported. Also, earlier releases included a buggy libdb, so some of the
       DB_File tests are known to fail on those releases.

       <b>Installation</b> <b>Prefix</b>

       The default installation location for this release uses the traditional UNIX directory layout under
       /usr/local. This is the recommended location for most users, and will leave the Apple-supplied Perl
       and its modules undisturbed.

       Using an installation prefix of '/usr' will result in a directory layout that mirrors that of Apple's
       default Perl, with core modules stored in '/System/Library/Perl/${version}', CPAN modules stored in
       '/Library/Perl/${version}', and the addition of '/Network/Library/Perl/${version}' to @INC for mod-<font color="#ffffff" class="whiteout">ules&nbsp;modules</font>
       ules that are stored on a file server and used by many Macs.

       <b>SDK</b> <b>support</b>

       First, export the path to the SDK into the build environment:

           export SDK=/Developer/SDKs/MacOSX10.3.9.sdk

       Use an SDK by exporting some additions to Perl's 'ccflags' and '..flags' config variables:

           ./Configure -Accflags="-nostdinc -B$SDK/usr/include/gcc \
                                  -B$SDK/usr/lib/gcc -isystem$SDK/usr/include \
                                  -F$SDK/System/Library/Frameworks" \
                       -Aldflags="-Wl,-syslibroot,$SDK" \
                       -de

       <b>Universal</b> <b>Binary</b> <b>support</b>

       To compile perl as a universal binary (built for both ppc and intel), export the SDK variable as
       above, selecting the 10.4u SDK:

           export SDK=/Developer/SDKs/MacOSX10.4u.sdk

       In addition to the compiler flags used to select the SDK, also add the flags for creating a universal
       binary:

           ./Configure -Accflags="-arch i686 -arch ppc -nostdinc -B$SDK/usr/include/gcc \
                                  -B$SDK/usr/lib/gcc -isystem$SDK/usr/include \
                                  -F$SDK/System/Library/Frameworks" \
                       -Aldflags="-arch i686 -arch ppc -Wl,-syslibroot,$SDK" \
                       -de

       Keep in mind that these compiler and linker settings will also be used when building CPAN modules.
       For XS modules to be compiled as a universal binary, any libraries it links to must also be universal
       binaries. The system libraries that Apple includes with the 10.4u SDK are all universal, but user-<font color="#ffffff" class="whiteout">installed&nbsp;userinstalled</font>
       installed libraries may need to be re-installed as universal binaries.

       <b>libperl</b> <b>and</b> <b>Prebinding</b>

       Mac OS X ships with a dynamically-loaded libperl, but the default for this release is to compile a
       static libperl. The reason for this is pre-binding. Dynamic libraries can be pre-bound to a specific
       address in memory in order to decrease load time. To do this, one needs to be aware of the location
       and size of all previously-loaded libraries. Apple collects this information as part of their overall
       OS build process, and thus has easy access to it when building Perl, but ordinary users would need to
       go to a great deal of effort to obtain the information needed for pre-binding.

       You can override the default and build a shared libperl if you wish (Configure ... -Duseshrlib), but
       the load time on pre-10.4 OS releases will be greater than either the static library, or Apple's pre-<font color="#ffffff" class="whiteout">bound&nbsp;prebound</font>
       bound dynamic library.

       With 10.4 "Tiger" and newer, Apple has all but eliminated the performance penalty for non-prebound
       libraries.

       <b>Updating</b> <b>Apple's</b> <b>Perl</b>

       In a word - don't, at least without a *very* good reason. Your scripts can just as easily begin with
       "#!/usr/local/bin/perl" as with "#!/usr/bin/perl". Scripts supplied by Apple and other third parties
       as part of installation packages and such have generally only been tested with the /usr/bin/perl
       that's installed by Apple.

       If you find that you do need to update the system Perl, one issue worth keeping in mind is the ques-<font color="#ffffff" class="whiteout">tion&nbsp;question</font>
       tion of static vs. dynamic libraries. If you upgrade using the default static libperl, you will find
       that the dynamic libperl supplied by Apple will not be deleted. If both libraries are present when an
       application that links against libperl is built, ld will link against the dynamic library by default.
       So, if you need to replace Apple's dynamic libperl with a static libperl, you need to be sure to
       delete the older dynamic library after you've installed the update.

       <b>Known</b> <b>problems</b>

       If you have installed extra libraries such as GDBM through Fink (in other words, you have libraries
       under <u>/sw/lib</u>), or libdlcompat to <u>/usr/local/lib</u>, you may need to be extra careful when running Con-<font color="#ffffff" class="whiteout">figure&nbsp;Configure</font>
       figure to not to confuse Configure and Perl about which libraries to use.  Being confused will show
       up for example as "dyld" errors about symbol problems, for example during "make test". The safest bet
       is to run Configure as

           Configure ... -Uloclibpth -Dlibpth=/usr/lib

       to make Configure look only into the system libraries.  If you have some extra library directories
       that you really want to use (such as newer Berkeley DB libraries in pre-Panther systems), add those
       to the libpth:

           Configure ... -Uloclibpth -Dlibpth='/usr/lib /opt/lib'

       The default of building Perl statically may cause problems with complex applications like Tk: in that
       case consider building shared Perl

           Configure ... -Duseshrplib

       but remember that there's a startup cost to pay in that case (see above "libperl and Prebinding").

       Starting with Tiger (Mac OS X 10.4), Apple shipped broken locale files for the eu_ES locale
       (Basque-Spain).  In previous releases of Perl, this resulted in failures in the "lib/locale" test.
       These failures have been supressed in the current release of Perl by making the test ignore the bro-<font color="#ffffff" class="whiteout">ken&nbsp;broken</font>
       ken locale.  If you need to use the eu_ES locale, you should contact Apple support.

       <b>MacPerl</b>

       Quite a bit has been written about MacPerl, the Perl distribution for "Classic MacOS" - that is, ver-<font color="#ffffff" class="whiteout">sions&nbsp;versions</font>
       sions 9 and earlier of MacOS. Because it runs in environment that's very different from that of UNIX,
       many things are done differently in MacPerl. Modules are installed using a different procedure, Perl
       itself is built differently, path names are different, etc.

       From the perspective of a Perl programmer, Mac OS X is more like a traditional UNIX than Classic
       MacOS. If you find documentation that refers to a special procedure that's needed for MacOS that's
       drastically different from the instructions provided for UNIX, the MacOS instructions are quite often
       intended for MacPerl on Classic MacOS. In that case, the correct procedure on Mac OS X is usually to
       follow the UNIX instructions, rather than the MacPerl instructions.

       <b>Carbon</b>

       MacPerl ships with a number of modules that are used to access the classic MacOS toolbox. Many of
       these modules have been updated to use Mac OS X's newer "Carbon" toolbox, and are available from CPAN
       in the "Mac::Carbon" module.

       <b>Cocoa</b>

       There are two ways to use Cocoa from Perl. Apple's PerlObjCBridge module, included with Mac OS X, can
       be used by standalone scripts to access Foundation (i.e. non-GUI) classes and objects.

       An alternative is CamelBones, a framework that allows access to both Foundation and AppKit classes
       and objects, so that full GUI applications can be built in Perl. CamelBones can be found on Source-<font color="#ffffff" class="whiteout">Forge,&nbsp;SourceForge,</font>
       Forge, at &lt;<a href="http://www.sourceforge.net/projects/camelbones/">http://www.sourceforge.net/projects/camelbones/</a>.

<b>Starting</b> <b>From</b> <b>Scratch</b>
       Unfortunately it is not that difficult somehow manage to break one's Mac OS X Perl rather severely.
       If all else fails and you want to really, <b>REALLY</b>, start from scratch and remove even your Apple Perl
       installation (which has become corrupted somehow), the following instructions should do it.  <b>Please</b>
       <b>think</b> <b>twice</b> <b>before</b> <b>following</b> <b>these</b> <b>instructions:</b> <b>they</b> <b>are</b> <b>much</b> <b>like</b> <b>conducting</b> <b>brain</b> <b>surgery</b> <b>to</b> <b>your</b>-<font color="#ffffff" class="whiteout">self.&nbsp;yourself.</font>
       <b>self.</b>  <b>Without</b> <b>anesthesia.</b>  We will <b>not</b> come to fix your system if you do this.

       First, get rid of the libperl.dylib:

           # cd /System/Library/Perl/darwin/CORE
           # rm libperl.dylib

       Then delete every .bundle file found anywhere in the folders:

           /System/Library/Perl
           /Library/Perl

       You can find them for example by

           # find /System/Library/Perl /Library/Perl -name '*.bundle' -print

       After this you can either copy Perl from your operating system media (you will need at least the
       /System/Library/Perl and /usr/bin/perl), or rebuild Perl from the source code with "Configure -Dpre-<font color="#ffffff" class="whiteout">fix=/usr&nbsp;-Dprefix=/usr</font>
       fix=/usr -Dusershrplib" NOTE: the "-Dprefix=/usr" to replace the system Perl works much better with
       Perl 5.8.1 and later, in Perl 5.8.0 the settings were not quite right.

       "Pacifist" from CharlesSoft (&lt;<a href="http://www.charlessoft.com/">http://www.charlessoft.com/</a>) is a nice way to extract the Perl bina-<font color="#ffffff" class="whiteout">ries&nbsp;binaries</font>
       ries from the OS media, without having to reinstall the entire OS.

<b>AUTHOR</b>
       This README was written by Sherm Pendley &lt;sherm@dot-app.org&gt;, and subsequently updated by Dominic
       Dunlop &lt;domo@computer.org&gt;.  The "Starting From Scratch" recipe was contributed by John Montbriand
       &lt;montbriand@apple.com&gt;.

<b>DATE</b>
       Last modified 2005-11-07.



perl v5.8.8                                      2006-01-07                                    PERLMACOSX(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/perlmacosx.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/perlmacosx.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/perlmacosx.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
