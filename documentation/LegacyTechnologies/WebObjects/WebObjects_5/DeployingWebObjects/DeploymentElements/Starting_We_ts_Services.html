<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Starting WebObjects Services</title>		</HEAD>	<body bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><a href="wotaskd_Processes.html" target="_right"><img src="../images/previous.gif" border="0"></a><a href="../Deployment/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "BCIGDGEF"></a><h2><font face="Lucida Grande,Helvetica,Arial">Starting WebObjects Services</font></h2><!-- apple_doc: pageHeadingEnd --><p>You use Monitor and wotaskd to build and troubleshoot yoursite. WebObjects provides scripts that allow you to control someof the behavior of Monitor and wotaskd. Specifically, you can determinewhether they are started automatically when a machine starts up.That way, you'll have one less item to worry about if a machinegoes down. On the other hand, if you prefer a more hands-on approachto site management, you can start and stop WebObjects services manually.</p><br><a name = "TPXREF106"></a><h3><font face="Lucida Grande,Helvetica,Arial">Starting WebObjects ServicesAutomatically</font></h3><p>The default installation of WebObjects Deployment in Mac OSX Server adds a startup script that automatically starts a wotaskdprocess during system startup. In addition, if the wotaskd processdies, it's automatically restarted.</p><p>You can configure a machine to keep wotaskd and Monitor processesactive at all times. To accomplish that, you have to edit the <code>WebObjects</code> scriptfile. In Mac OS X Server, it's located in the <code>/System/Library/StartupItems/WebObjects</code> directory;in Solaris, you'll find it in the <code>/etc/init.d</code> directory.For example, to always have a Monitor process running on port <code>8888</code> inyour site-administration computer, you add the following line afterthe line that starts wotaskd in the <code>WebObjects</code> scriptfile:</p><pre>"$WOSERVICE" -appPath /System/Library/WebObjects/JavaApplications/JavaMonitor.woa/ JavaMonitor -WOPort 8888 &gt;&gt;/var/log/webobjects.log 2&gt;&1 &</pre><p>For more on the command-line arguments available, see  <a sector="mod" href="../Reference/iCommand_Line_Arguments.html" target="_top">"Command-Line Arguments" </a>.</p><br><a name = "TPXREF107"></a><h3><font face="Lucida Grande,Helvetica,Arial">Starting Monitor Manually</font></h3><p>To start Monitor, enter the following commands in your commandshell editor:</p><pre>cd ($NEXT_ROOT)/System/Library/WebObjects/JavaApplications/JavaMonitor.woa./JavaMonitor</pre><p>You should see output similar to that in  <a href="#BCIHEGJI">Listing 5-1</a>.</p><a name = "BCIHEGJI"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Listing5-1 Starting Monitor</font></b></p><pre>Reading MacOSClassPath.txt ...Launching JavaMonitor.woa ......Creating LifebeatThread now with: JavaMonitor 49490 ebruce.apple.com/17.203.33.19  1085 30000Opening application's URL in browser:http://ebruce.apple.com:49490/cgi-bin/WebObjects/JavaMonitorWaiting for requests...</pre><p>A page like the one in  <a href="#BCIECBJF">Figure 5-2</a> should display in yourWeb browser. If your browser is not launched automatically, youcan copy the URL from your shell and paste it into your browser'saddress field.</p><br><a name = "BCIECBJF"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure5-2 Monitor&#151;empty Applications page</font></b></p> <img src = "../Art/monitor.gif" alt = "[image: ../Art/monitor.gif]"><br><a name = "TPXREF108"></a><h3><font face="Lucida Grande,Helvetica,Arial">Controlling WebObjects Servicesin Solaris</font></h3><p>The <code>WOServices</code> script,located in the <code>$NEXT_ROOT/Library/WebObjects/Executables</code> directory,provides you with four options to manage WebObjects services (suchas wotaskd and Monitor) from the command line: start, stop, enable,and disable.</p><ul><li><code>WOServicesstart</code><p>Starts WebObjects services.</p></font></li><li><code>WOServices stop</code><p>StopsWebObjects services.</p></font></li><li><code>WOServices enable [-altJVMPath</code> <em>path</em><code>]</code><p>StartsWebObjects services every time the computer is restarted. The <code>altJVMPath</code> argumentspecifies a Java executable different from the one present duringinstallation. It is used to set the <code>PATH</code> variableused when starting wotaskd. If you use the <code>altJVMPath</code> argument,make sure to specify a full path.</p></font></li><li><code>WOServices disable</code><p>Disableswotaskd processes from starting automatically during system startup.</p></font></li></ul><br><a name = "TPXREF109"></a><h3><font face="Lucida Grande,Helvetica,Arial">Windows 2000</font></h3><p>During installation on Windows 2000, wotaskd is configuredto start automatically at boot time (in the Services control panel,it's listed as Apple WebObjects Task Daemon). If it doesn'tstart, check the Services control panel to ensure that wotaskd'sstartup mode is set to <code>Automatic</code>.</p><p>Monitor is also configured as a service (listed as Apple WebObjectsMonitor in the Services control panel) and you can configure itto start automatically during the boot process by changing its startupmode to <code>Automatic</code>. Notethat although this causes Monitor to start automatically, you haveto manually start your Web browser and connect to the Monitor processmanually (or by putting a shortcut to your Web browser in your Startupprogram group). The URL for Monitor can be verified by checkingthe Windows 2000 Event Viewer (choose Start &gt; Programs &gt; AdministrativeTools &gt; Event Viewer) and is similar to the following:</p><pre>http://localhost:1027/cgi-bin/WebObjects.exe/JavaMonitor</pre><p>If you don't have Monitor configured to start automatically,you can launch it by choosing Start &gt; Programs &gt; WebObjects&gt; Monitor. In that case, it runs on port <code>56789</code>.</p><br><a href="wotaskd_Processes.html" target="_right"><img src="../images/previous.gif" border="0"></a><a href="../Deployment/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<br><hr><p><font face="Geneva,Helvetica,Arial" size="2">&#169; 2001 Apple Computer, Inc. (Last Updated August 25, 2001)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>