<html><head><title>Mac OS X
 Manual Page For opensnoop(1m)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1m/opensnoop" title="Mac OS X
 Manual Page for opensnoop(1m)"><a name="//apple_ref/doc/man/1/opensnoop" title="Mac OS X
 Manual Page for opensnoop(1m)"><!-- headerDoc=man; indexgroup=Section 1m; uid="//apple_ref/doc/man/1m/opensnoop"; name=opensnoop(1m) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
opensnoop(1m)                                   USER COMMANDS                                  opensnoop(1m)



<b>NAME</b>
       opensnoop - snoop file opens as they occur. Uses DTrace.

<b>SYNOPSIS</b>
       <b>opensnoop</b> [-a|-A|-ceghsvxZ] [-f pathname] [-n name] [-p PID]

<b>DESCRIPTION</b>
       opensnoop  tracks  file opens. As a process issues a file open, details such as UID, PID and pathname
       are printed out.

       The returned file descriptor is printed, a value of -1 indicates an error. This  can  be  useful  for
       troubleshooting to determine if appliacions are attempting to open files that do not exist.

       Since  this  uses  DTrace,  only the root user or users with the dtrace_kernel privilege can run this
       command.

<b>OPTIONS</b>
       -a     print all data

       -A     dump all data, space delimited

       -c     print current working directory of process

       -e     print errno value

       -g     print full command arguments

       -s     print start time, us

       -v     print start time, string

       -x     only print failed opens

       -Z     print zonename

       -f pathname
              file pathname to snoop

       -n name
              process name to snoop

       -p PID process ID to snoop


<b>EXAMPLES</b>
       Default output, print file opens by process as they occur,
              # <b>opensnoop</b>


       Print human readable timestamps,
              # <b>opensnoop</b> -v


       See error codes,
              # <b>opensnoop</b> -e


       Snoop this file only,
              # <b>opensnoop</b> -f /etc/passwd


<b>FIELDS</b>
       ZONE   Zone name

       UID    User ID

       PID    Process ID

       PPID   Parent Process ID

       FD     File Descriptor (-1 is error)

       ERR    errno value (see /usr/include/sys/errno.h)

       CWD    current working directory of process

       PATH   pathname for file open

       COMM   command name for the process

       ARGS   argument listing for the process

       TIME   timestamp for the open event, us

       STRTIME
              timestamp for the open event, string

<b>DOCUMENTATION</b>
       See the DTraceToolkit for further documentation under the Docs directory. The DTraceToolkit docs  may
       include full worked examples with verbose descriptions explaining the output.

<b>EXIT</b>
       opensnoop will run forever until Ctrl-C is hit.

<b>BUGS</b>
       occasionally the pathname for the file open cannot be read and the following error will be seen,

       dtrace: error on enabled probe ID 6 (...): invalid address

       this is normal behaviour.

<b>AUTHOR</b>
       Brendan Gregg [Sydney, Australia]

<b>SEE</b> <b>ALSO</b>
       <a href="dtrace.1.html#//apple_ref/doc/man/1/dtrace">dtrace(1M)</a>, <!-- a -->truss(1)<!-- /a -->




version 1.60                                    Jan 12, 2006                                   opensnoop(1m)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/opensnoop.1m.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/opensnoop.1m.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/opensnoop.1m.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
