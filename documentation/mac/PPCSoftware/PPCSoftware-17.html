<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Mixed Mode Manager (IM: PS)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING17></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCSoftware-16.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-18.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCSoftware-2.html"><B>PowerPC System Software</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING17-0></A>
<H1>Chapter 2 - Mixed Mode Manager<A NAME=MARKER-2-2></A></H1>
 This chapter describes the Mixed Mode Manager, the part of the Macintosh system software that manages the mixed-mode architecture of PowerPC processor-based computers running 680x0-based code (including system software, applications, and stand-alone code modules). The Mixed Mode Manager cooperates with the 68LC040 Emulator to provide a fast, efficient, and virtually transparent method for code in <BR>one instruction set architecture to call code in another architecture. The Mixed Mode Manager handles all the details of switching between architectures.<A NAME=MARKER-2-3></A><P>
 The Mixed Mode Manager is intended to operate transparently to most applications and other software. You need the information in this chapter only if<P>
<UL>
<LI>you want to recompile your application into PowerPC code and your application passes the address of some routine to the system software using a reference of <BR>type <CODE>ProcPtr</CODE>
<LI>your application--written in either PowerPC or 680x0 code--supports installable code modules that might be written in a different architecture
<LI>you are writing stand-alone code (for example, a VBL task or a component) that could be called from either the PowerPC native environment or the 680x0 emulated environment
<LI><A NAME=MARKER-10-4></A>you are writing a debugger or other software that needs to know about the structure of the stack at any time (for example, during a mode switch)<P>
</UL>
 You do not need to read this chapter if you're simply writing 680x0 code that doesn't call external code modules of unknown type, or if you are writing PowerPC code that calls other PowerPC code using a procedure pointer. In these cases, any environment switching that might occur is handled completely transparently by the Mixed Mode Manager.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>This chapter describes the operation and features of the Mixed <BR>Mode Manager and the 68LC040 Emulator as they exist in the <BR>first version of the system software for PowerPC processor-based <BR>Macintosh computers.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 To use this chapter, you should already be generally familiar with the Macintosh Operating System. See the books <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I> and <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I> for information about the run-time architecture of the 680x0 environment. You also need to be familiar with the run-time architecture of PowerPC processor-based Macintosh computers, as explained in the chapter <A HREF=PPCSoftware-11.html#MARKER-9-1>"Introduction to PowerPC System Software."</A><P>
 This chapter begins by describing the mixed-mode architecture of PowerPC processor-<BR>based Macintosh computers and the operations of the Mixed Mode Manager. Then it shows how to use the Mixed Mode Manager to call external code.<A NAME=MARKER-10-5></A><P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="PPCSoftware-18.html#HEADING18-0">About the Mixed Mode Manager</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-18.html#HEADING18-12">External Code</A>
<DD>
<DT><A HREF="PPCSoftware-18.html#HEADING18-21">Procedure Pointers</A>
<DD>
<DT><A HREF="PPCSoftware-18.html#HEADING18-47">Mode Switches</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-18.html#HEADING18-57">Calling PowerPC Code From 680x0 Code</A>
<DD>
<DT><A HREF="PPCSoftware-18.html#HEADING18-77">Calling 680x0 Code From PowerPC Code</A>
<DD>
</DL>
</DL>
<DT><A HREF="PPCSoftware-19.html#HEADING19-0">Using the Mixed Mode Manager</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-19.html#HEADING19-4">Specifying Procedure Information</A>
<DD>
<DT><A HREF="PPCSoftware-19.html#HEADING19-47">Using Universal Procedure Pointers</A>
<DD>
<DT><A HREF="PPCSoftware-19.html#HEADING19-61">Using Static Routine Descriptors</A>
<DD>
<DT><A HREF="PPCSoftware-19.html#HEADING19-74">Executing Resource-Based Code</A>
<DD>
</DL>
<DT><A HREF="PPCSoftware-20.html#HEADING20-0">Mixed Mode Manager Reference</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-21.html#HEADING21-0">Constants</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-22.html#HEADING22-0">Routine Descriptor Flags</A>
<DD>
<DT><A HREF="PPCSoftware-23.html#HEADING23-0">Procedure Information</A>
<DD>
<DT><A HREF="PPCSoftware-24.html#HEADING24-0">Routine Flags</A>
<DD>
<DT><A HREF="PPCSoftware-25.html#HEADING25-0">Instruction Set Architectures</A>
<DD>
</DL>
<DT><A HREF="PPCSoftware-26.html#HEADING26-0">Data Structures</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-27.html#HEADING27-0">Routine Records</A>
<DD>
<DT><A HREF="PPCSoftware-28.html#HEADING28-0">Routine Descriptors</A>
<DD>
</DL>
<DT><A HREF="PPCSoftware-29.html#HEADING29-0">Mixed Mode Manager Routines</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-30.html#HEADING30-0">Creating and Disposing of Routine Descriptors</A>
<DD>
<DT><A HREF="PPCSoftware-34.html#HEADING34-0">Calling Routines via Universal Procedure Pointers</A>
<DD>
<DT><A HREF="PPCSoftware-37.html#HEADING37-0">Determining Instruction Set Architectures</A>
<DD>
</DL>
</DL>
<DT><A HREF="PPCSoftware-39.html#HEADING39-0">Summary of the Mixed Mode Manager</A>
<DD>
<DL>
<DT><A HREF="PPCSoftware-39.html#HEADING39-1">C Summary</A>
<DD>
<DT><DL><A HREF="PPCSoftware-39.html#HEADING39-2">Constants</A>
<DD>
<DT><A HREF="PPCSoftware-39.html#HEADING39-21">Data Types</A>
<DD>
<DT><A HREF="PPCSoftware-39.html#HEADING39-30">Mixed Mode Manager Routines</A>
<DD>
</DL>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="PPCSoftware-16.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-18.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="PPCSoftware-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
