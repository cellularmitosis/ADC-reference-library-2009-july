<html><head><title>Mac OS X Server
 Manual Page For db_load(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/db_load" title="Mac OS X Server
 Manual Page for db_load(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/db_load"; name=db_load(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
db_load(1)                BSD General Commands Manual               db_load(1)

<b>NAME</b>
     <b>db_load</b>

<b>SYNOPSIS</b>
     <b>db_load</b> [<b>-nTV</b>] [<b>-c</b> <u>name=value</u>] [<b>-f</b> <u>file</u>] [<b>-h</b> <u>home</u>] [<b>-P</b> <u>password</u>] [<b>-t</b> <u>btree</u> | <u>hash</u> | <u>queue</u> | <u>recno</u>] file

<b>DESCRIPTION</b>
     The <b>db_load</b> utility reads from the standard input and loads it into the database file. The database
     file is created if it does not already exist.

     The input to <b>db_load</b> must be in the output format specified by the db_dump utility, utilities, or as
     specified for the -T below.

     The options are as follows:

     <b>-c</b>
        Specify configuration options ignoring any value they may have based on the input. The command-line
        format is name=value. See the Supported Keywords section below for a list of keywords supported by
        the -c option.

     <b>-f</b>
        Read from the specified input file instead of from the standard input.

     <b>-h</b>
        Specify a home directory for the database environment.

        If a home directory is specified, the database environment is opened using the Db.DB_INIT_LOCK,
        Db.DB_INIT_LOG, Db.DB_INIT_MPOOL, Db.DB_INIT_TXN, and Db.DB_USE_ENVIRON flags to DB_ENV-&gt;open. (This
        means that db_load can be used to load data into databases while they are in use by other pro-<font color="#ffffff" class="whiteout">cesses.)&nbsp;processes.)</font>
        cesses.) If the DB_ENV-&gt;open call fails, or if no home directory is specified, the database is still
        updated, but the environment is ignored; for example, no locking is done.

     <b>-n</b>
        Do not overwrite existing keys in the database when loading into an already existing database. If a
        key/data pair cannot be loaded into the database for this reason, a warning message is displayed on
        the standard error output, and the key/data pair are skipped.

     <b>-P</b>
        Specify an environment password. Although Berkeley DB utilities overwrite password strings as soon
        as possible, be aware there may be a window of vulnerability on systems where unprivileged users can
        see command-line arguments or where utilities are not able to overwrite the memory containing the
        command-line arguments.

     <b>-T</b>
        The -T option allows non-Berkeley DB applications to easily load text files into databases.

        If the database to be created is of type Btree or Hash, or the keyword keys is specified as set, the
        input must be paired lines of text, where the first line of the pair is the key item, and the second
        line of the pair is its corresponding data item. If the database to be created is of type Queue or
        Recno and the keyword keys is not set, the input must be lines of text, where each line is a new
        data item for the database.

        A simple escape mechanism, where newline and backslash ( characters are special, is applied to the
        text input. Newline characters are interpreted as record separators. Backslash characters in the
        text will be interpreted in one of two ways: If the backslash character precedes another backslash
        character, the pair will be interpreted as a literal backslash. If the backslash character precedes
        any other character, the two characters following the backslash will be interpreted as a hexadecimal
        specification of a single character; for example,  a is a newline character in the ASCII character
        set.

        For this reason, any backslash or newline characters that naturally occur in the text input must be
        escaped to avoid misinterpretation by db_load.

        If the -T option is specified, the underlying access method type must be specified using the -t
        option.

     <b>-t</b>
        Specify the underlying access method. If no -t option is specified, the database will be loaded into
        a database of the same type as was dumped; for example, a Hash database will be created if a Hash
        database was dumped.

        Btree and Hash databases may be converted from one to the other. Queue and Recno databases may be
        converted from one to the other. If the -k option was specified on the call to db_dump then Queue
        and Recno databases may be converted to Btree or Hash, with the key being the integer record number.

     <b>-V</b>
        Write the library version number to the standard output, and exit.

     The db_load utility may be used with a Berkeley DB environment (as described for the -h option, the
     environment variable DB_HOME, or because the utility was run in a directory containing a Berkeley DB
     environment). In order to avoid environment corruption when using a Berkeley DB environment, db_load
     should always be given the chance to detach from the environment and exit gracefully. To cause db_load
     to release all environment resources and exit cleanly, send it an interrupt signal (SIGINT).

     The db_load utility exits 0 on success, 1 if one or more key/data pairs were not loaded into the data-<font color="#ffffff" class="whiteout">base&nbsp;database</font>
     base because the key already existed, and &gt;1 if an error occurs.

<b>EXAMPLES</b>
     The <b>db_load</b> utility can be used to load text files into databases. For example, the following command
     loads the standard UNIX /etc/passwd file into a database, with the login name as the key item and the
     entire password entry as the data item:

     awk -F: '{print $1; print $0}' &lt; /etc/passwd |
         sed 's/\/\\/g' | db_load -T -t hash passwd.db

     Note that backslash characters naturally occurring in the text are escaped to avoid interpretation as
     escape characters by db_load.

<b>ENVIRONMENT</b>
     DB_HOME  If the -h option is not specified and the environment variable DB_HOME is set, it is used as
              the path of the database home, as described in DB_ENV-&gt;open.

<b>SUPPORTED</b> <b>KEYWORDS</b>
     The following keywords are supported for the -c command-line option to the <b>db_load</b> utility. See
     DB-&gt;open for further discussion of these keywords and what values should be specified.

     The parenthetical listing specifies how the value part of the name=value pair is interpreted. Items
     listed as (boolean) expect value to be 1 (set) or 0 (unset). Items listed as (number) convert value to
     a number. Items listed as (string) use the string value without modification.

     bt_minkey (number)
               The minimum number of keys per page.

     chksum (boolean)
               Enable page checksums.

     database (string)
               The database to load.

     db_lorder (number)
               The byte order for integers in the stored database metadata.

     db_pagesize (number)
               The size of database pages, in bytes.

     duplicates (boolean)
               The value of the Db.DB_DUP flag.

     dupsort (boolean)
               The value of the Db.DB_DUPSORT flag.

     extentsize (number)
               The size of database extents, in pages, for Queue databases configured to use extents.

     h_ffactor (number)
               The density within the Hash database.

     h_nelem (number)
               The size of the Hash database.

     keys (boolean)
               Specify whether keys are present for Queue or Recno databases.

     re_len (number)
               Specify fixed-length records of the specified length.

     re_pad (string)
               Specify the fixed-length record pad character.

     recnum (boolean)
               The value of the Db.DB_RECNUM flag.

     renumber (boolean)
               The value of the Db.DB_RENUMBER flag.

     subdatabase (string)
               The subdatabase to load.

<b>SEE</b> <b>ALSO</b>
     <a href="db_archive.1.html#//apple_ref/doc/man/1/db_archive">db_archive(1)</a>, <a href="db_checkpoint.1.html#//apple_ref/doc/man/1/db_checkpoint">db_checkpoint(1)</a>, <a href="db_deadlock.1.html#//apple_ref/doc/man/1/db_deadlock">db_deadlock(1)</a>, <a href="db_dump.1.html#//apple_ref/doc/man/1/db_dump">db_dump(1)</a>, <a href="db_printlog.1.html#//apple_ref/doc/man/1/db_printlog">db_printlog(1)</a>, <a href="db_recover.1.html#//apple_ref/doc/man/1/db_recover">db_recover(1)</a>, <a href="db_stat.1.html#//apple_ref/doc/man/1/db_stat">db_stat(1)</a>,
     <a href="db_upgrade.1.html#//apple_ref/doc/man/1/db_upgrade">db_upgrade(1)</a>, <a href="db_verify.1.html#//apple_ref/doc/man/1/db_verify">db_verify(1)</a>

Darwin                         December 3, 2003                         Darwin
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/db_load.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/db_load.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/db_load.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
