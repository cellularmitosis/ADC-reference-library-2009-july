<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>EAddMulti(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING281></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-280.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-282.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-257.html"><B>Chapter 11 - Ethernet, Token Ring, and Fiber Distributed Data Interface</B></A> / <A HREF="Networking-265.html"><B>Ethernet, Token Ring, and FDDI Reference</B></A><BR><DL><DD><A HREF="Networking-269.html"><B>Routines</B></A> / <A HREF="Networking-280.html"><B>Adding and Removing Ethernet Multicast Addresses</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING281-0></A>
<H3><A NAME=MARKER-9-198></A>EAddMulti</H3>
 <A NAME=MARKER-2-199></A>The <CODE>EAddMulti</CODE> function adds a multicast address or a functional address to the node that is running your application. <P>
<PRE>
FUNCTION EAddMulti (thePBptr: EParamBlkPtr; 
                     async: Boolean): OSErr;
</PRE>
<DL>
<DT><CODE>thePBptr</CODE>
<DD> A pointer to a parameter block of type <CODE>EParamBlock</CODE>.
<DT><CODE>async</CODE>
<DD> A Boolean value that specifies whether the function should be <BR>executed asynchronously or synchronously. Specify <CODE>TRUE</CODE> for asynchronous execution.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD>--><TD>ioCompletion<TD>ProcPtr<TD>A pointer to completion routine.<TR>
<TD><--<TD>ioResult<TD>OSErr<TD>Result code. <TR>
<TD>--><TD>ioRefNum<TD>Integer<TD>Driver reference number.<TR>
<TD>--><TD>csCode<TD>Integer<TD>Always <CODE>ENetAddMulti</CODE> for <BR>this function.<CODE></CODE><TR>
<TD>--><TD>eMultiAddr<TD>6-byte array<TD>Multicast address.</TABLE>
</B><P>
<DL>
<H5>Field Description</H5>
<DT><CODE>eMultiAddr</CODE>
<DD> The multicast address that you want to add and use. 
</DL>
<A NAME=HEADING281-7></A>
<H5>DESCRIPTION</H5>
 You use the <CODE>EAddMulti</CODE> function to add a multicast address for Ethernet or FDDI to <BR>the node that is running your application so that the hardware device driver for that network type will accept packets delivered to that address. You can also use this function to add a functional address that serves the same purpose for token ring. <P>
 Each time a client of a hardware device driver calls the <CODE>EAddMulti</CODE> function for a particular multicast address, the driver increments a counter for that multicast address. Each time a client of the hardware device driver calls the <CODE>EDelMulti</CODE> function, the driver decrements the counter for that address. As long as the count for a multicast address is equal to or greater than 1, the hardware device driver accepts packets directed to that multicast address. Therefore, if any client of the hardware device driver in the node has called the <CODE>EAddMulti</CODE> function for a particular multicast address, the driver receives packets delivered to that address.<A NAME=MARKER-2-23></A> This process also applies to token ring for functional addresses. For information on how to specify multicast and functional addresses, see <I>Inside AppleTalk,</I> second edition. Be careful not to use the broadcast address, which is also described in <I>Inside AppleTalk,</I> as a functional address. <P>
<A NAME=HEADING281-10></A>
<H5>TOKEN RING AND FDDI CONSIDERATIONS</H5>
 If your token ring application requires a functional address, use the <CODE>EAddMulti</CODE> function to register a functional address. Functional addresses are the token ring equivalent of Ethernet and FDDI multicast addresses. If your FDDI application requires a multicast address, use the <CODE>EAddMulti</CODE> function to register a multicast address.<P>
<A NAME=HEADING281-12></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 To execute the <CODE>EAddMulti</CODE> function from assembly language, call the <CODE>_Control</CODE> <BR>trap macro with a value of <CODE>ENetAddMulti</CODE> in the <CODE>csCode</CODE> field of the parameter <BR>block. To execute the <CODE>_Control</CODE> trap asynchronously, include the value <CODE>,ASYNC</CODE> in <BR>the operand field<A NAME=MARKER-4-7></A>.<P>
<A NAME=HEADING281-14></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>eMultiErr<TD>-91<TD>Invalid address or table is full </TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-280.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-282.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
