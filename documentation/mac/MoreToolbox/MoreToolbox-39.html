<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>CreateResFile (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING39></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-9.html"><B>Chapter 1 - Resource Manager</B></A> / <A HREF="MoreToolbox-24.html"><B>Resource Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-30.html"><B>Resource Manager Routines</B></A> / <A HREF="MoreToolbox-36.html"><B>Creating an Empty Resource Fork</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING39-0></A>
<H3>CreateResFile</H3>
 <A NAME=MARKER-11-236></A><A NAME=MARKER-2-237></A>If the <CODE>FSpCreateResFile</CODE> procedure is not available, you can use the <CODE>CreateResFile</CODE> procedure to create an empty resource fork.<P>
<PRE>
PROCEDURE CreateResFile (fileName: Str255);
</PRE>
<DL>
<DT><CODE>fileName</CODE>
<DD> The name of the file to be created.
</DL>
<A NAME=HEADING39-4></A>
<H5>DESCRIPTION</H5>
 The <CODE>CreateResFile</CODE> procedure creates a file with an empty resource fork in your application's default directory--that is, the directory in which your application is located. <A NAME=MARKER-3-238></A><P>
 If no other file with the given name exists in the default directory or any of the other directories searched by <CODE>PBOpenRF</CODE> (see the following section, "Special Considerations"), <CODE>CreateResFile</CODE> creates a resource file--that is, a resource fork, including a resource map. In this case the file has a zero-length data fork. <P>
 If a file with the specified name already exists and includes a resource fork with a resource map, <CODE>CreateResFile</CODE> does nothing. Call <CODE>ResError</CODE> to determine whether an error occurred. If the data fork of the specified file already exists but the file has a zero-length resource fork, <CODE>CreateResFile</CODE> creates an empty resource fork and resource map for the file.<P>
 Before you can work with the newly created file's resource fork, you must use <CODE>OpenResFile</CODE> or a related function to open it.<P>
<A NAME=HEADING39-9></A>
<H5><A NAME=MARKER-9-239></A>SPECIAL CONSIDERATIONS</H5>
 The <CODE>CreateResFile</CODE> procedure may move or purge memory blocks in the application heap. Your application should not call this procedure at interrupt time.<P>
 The <CODE>CreateResFile</CODE> procedure first checks whether a file with the specified name exists. (If so, <CODE>ResError</CODE> returns the result code <CODE>dupFNErr</CODE>.) To perform this check, <CODE>CreateResFile</CODE> calls <CODE>PBOpenRF</CODE>, which looks first in the default directory for a file with the same name, then in the root directory of the boot volume (if the default directory is on the boot volume), and then in the System Folder (if one exists on the same volume as the default directory). It is thus impossible, for example, to use <CODE>CreateResFile</CODE> to create a file in the default directory if a file with the same name already exists in the System Folder. To avoid this problem, use <CODE>FspCreateResFile</CODE> or <CODE>HCreateResFile</CODE> whenever possible. <P>
<A NAME=HEADING39-12></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>dirFulErr<TD>-33<TD>Directory full<TR>
<TD>dskFulErr<TD>-34<TD>Disk full<TR>
<TD>nsvErr<TD>-35<TD>No such volume<TR>
<TD>ioErr<TD>-36<TD>I/O error<TR>
<TD>bdNamErr<TD>-37<TD>Bad filename or volume name (perhaps zero length)<TR>
<TD>tmfoErr<TD>-42<TD>Too many files open<TR>
<TD>wPrErr<TD>-44<TD>Disk is write-protected<TR>
<TD>fLckdErr<TD>-45<TD>File is locked<TR>
<TD>dupFNErr<TD>-48<TD>Another file with the same name exists in the default directory, the root directory of the boot volume, or the System Folder</TABLE>
</H5>
<A NAME=HEADING39-13></A>
<H5>SEE ALSO</H5>
 To check for errors, call the <CODE>ResError</CODE> function as described on <A HREF=MoreToolbox-35.html#MARKER-9-220>page 1-47</A>.<P>
 For a description of the <CODE>OpenResFile</CODE> function, see <A HREF=MoreToolbox-44.html#MARKER-9-262>page 1-62</A>. <A NAME=MARKER-2-240></A> <A NAME=MARKER-2-241></A> <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
