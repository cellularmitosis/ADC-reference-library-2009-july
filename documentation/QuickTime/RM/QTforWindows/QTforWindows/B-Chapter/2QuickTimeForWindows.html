<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Guide for Windows: QuickTime For Windows</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="QuickTime For Windows"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000940-QuickTimeForWindows" title="QuickTime For Windows"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../QuickTimeforWindows-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000563" target="_top">QuickTime for Windows</a> &gt; <a href="../A-Intro/1Introduction.html#//apple_ref/doc/uid/TP40000940-IntroductiontoQuickTimeGuideForWindows-DontLinkElementID_23">QuickTime Guide for Windows</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../A-Intro/1Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../C-Chapter/3BuildingQuickTimeCa.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-SW1" title="QuickTime For Windows"></a>
<h1>QuickTime For Windows</h1>

<p>If you are a Windows developer, the QuickTime Software Development Kit (SDK) for Windows allows you to incorporate QuickTime capabilities into your applications developed directly for the Windows platform. If you are a Macintosh developer, the SDK provides you with the tools you need to port the QuickTime-based functionality of your application to Windows. This chapter discusses some of the fundamental concepts you need to understand in order to work with both QuickTime and Windows.</p>



<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="2QuickTimeForWindows.html#//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-DontLinkElementID_4">Overview</a>
				
			<br/>
			
        
			
			
				<a href="2QuickTimeForWindows.html#//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-DontLinkElementID_5">Mac OS and Windows Differences</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-DontLinkElementID_4" title="Overview"></a>
<h2><a name="//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-Overview" title="Overview"></a>Overview</h2>
<p>The core of the QuickTime SDK for Windows is a Windows  dynamic link library (DLL) that implements the behavior of QuickTime and a few Macintosh Toolbox routines on the Windows platform. This DLL is intended only for QuickTime cross-platform support, not as a general tool for porting Macintosh code to Windows.</p>
<p>Because the QuickTime routines were originally designed for the Mac OS, they operate on Mac OS data structures and assume certain features of the Mac OS operating environment. For example, QuickTime routines are driven by Mac OS-style  events rather than Windows-style messages, and do their drawing in a Mac OS  graphics port instead of a Windows  device context. To use them in the Windows environment, you have to do a little extra work to mediate between the two platforms.</p>
<p>Table&#160;1-1 lists the basic QuickTime Media Layer (QTML) concepts and their Windows counterparts.</p>
<a name="//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-DontLinkElementID_25" title="Table 1-1Windows and QTML concepts compared"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><strong>Table 1-1&nbsp;&nbsp;</strong>Windows and QTML concepts compared</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Windows concept</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>QTML equivalent</p></th>
</tr>


<tr>
<td  scope="row"><p>Message (<code>MSG</code>)</p></td>
<td ><p>Event (<code>EventRecord</code>)</p></td>
</tr>
<tr>
<td  scope="row"><p>Graphics Device Interface (GDI)</p></td>
<td ><p>QuickDraw</p></td>
</tr>
<tr>
<td  scope="row"><p>Device context (DC)</p></td>
<td ><p>Graphics port (<code>CGrafPort</code>)</p></td>
</tr>
<tr>
<td  scope="row"><p>Window handle (<code>HWND</code>)</p></td>
<td ><p>Window pointer (<code>CWindowPtr</code>)</p></td>
</tr>
<tr>
<td  scope="row"><p>Common Dialog Box Library</p></td>
<td ><p>Standard File Package</p></td>
</tr>

</table></div>
<p>The goal here is simply to show how QuickTime fits into the structure of a typical Windows application and to provide Windows developers with the minimum conceptual foundation needed to read and understand the existing QuickTime documentation.</p>
<p>With those objectives in mind, the programming examples in this document have deliberately been kept simple and straightforward. The code samples are limited to the most basic QuickTime functionality: presenting a movie and allowing the user to manipulate and control its presentation through a standard QuickTime  movie controller.</p>

<a name="//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-DontLinkElementID_5" title="Mac OS and Windows Differences"></a>
<h2><a name="//apple_ref/doc/uid/TP40000940-QuickTimeForWindows-MacOSandWindowsDifferences" title="Mac OS and Windows Differences"></a>Mac OS and Windows Differences</h2>
<p>The event-loop structure of Windows programming is remarkably similar to that of the Macintosh. The differences lie in the implementation details, not in the basic approach. The major differences that affect QuickTime are as follows:</p>
<ul class="ul">
<li class="li"><p>Graphics environments. QuickTime draws to the user&#8217;s screen by using Mac OS QuickDraw, and QuickDraw depends on a data structure called a graphics port to define such characteristics as pen width, background color, clipping boundaries, and current text font. Windows uses the device context for similar purposes, but a device context is specific to a particular device (such as a window or printer), whereas the Mac OS graphics port is global to all drawing operations at a given time.</p></li>
<li class="li"><p>Data containers. Mac OS resources are items of structured data that are stored in files and can be loaded on demand to help determine a program&#8217;s behavior. Resources in application files usually contain descriptions of such user interface items as menus and dialog boxes, but even the executable code of an application is stored as a resource in the application&#8217;s file. Although Windows uses the concept of resources as well, they&#8217;re far less important to the system&#8217;s software architecture.</p></li>
<li class="li"><p>Data type codes. QuickTime uses four-character codes to identify such items as track types, media types, and component types. Internally, such codes are simply 32-bit integers; in source code, they are typically represented by four-character strings in single quotation marks, such as <code>'abcd'</code>.</p></li>
<li class="li"><p>File forks. Every Macintosh file consists of two separate sections, logically joined under a single file name. The data fork consists of a single stream of data bytes intended to be read sequentially; it corresponds to what DOS and Windows generally treat as a file. The Macintosh resource fork contains a heap of individual resources that are accessed by means of four-character resource types and integer resource IDs. Because DOS/Windows files aren&#8217;t forked, information that would normally go into Macintosh files must be restructured to fit them.</p></li>
<li class="li"><p>Messaging. Mac OS events are similar in concept to Windows messages and carry essentially the same information. But a Windows message is directed to a specific window, whereas a Mac OS event is addressed globally to the currently running program.</p></li>
<li class="li"><p>Window registration. QuickTime designates a window by a pointer to a Mac OS window record, which contains its own graphics port. On the Windows platform, however, a window is normally designated by an <code>HWND</code> handle. Before QuickTime for Windows can draw in a window, your code must register the window with QuickTime by calling <code><!--a target="_top" -->CreatePortAssociation<!--/a--></code>. This function creates a graphics port and associates it with the window in a data structure that is internal to QuickTime.</p></li>
<li class="li"><p>File typing. Every Macintosh file is stamped with a four-character file type and a four-character creator signature, which identifies the application program to which the file belongs. This technique achieves many of the same goals as that of three-character file name extensions in DOS/Windows.</p></li>
<li class="li"><p>String formats. DOS/Windows uses C-style strings (terminated by a null character), whereas QuickTime routines use strings in Pascal form (preceded by a 1-byte length count). The QuickTime utility functions <code>c2pstr</code> and <code>p2cstr</code> convert strings from one format to the other.</p></li>
<li class="li"><p>File structures. DOS/Windows files don&#8217;t have a counterpart to the Macintosh resource fork; they have only the equivalent of the data fork. This leads to problems when you store QuickTime movies or applications using the Windows file system.</p></li>
<li class="li"><p>Movie files. To store a QuickTime movie in a Windows file, you need some way to store the media that the movie will present separately from the movie structure.</p></li>
<li class="li"><p>Application files. When porting existing QuickTime applications from Macintosh to Windows, the problem arises of how to transport resources belonging to the application program itself. Such resources are typically stored in a separate <code>'qtr</code> ' file while they are being developed in the Macintosh environment; they ultimately wind up in the resource fork of the Mac application (<code>'APPL')</code> file.</p></li>
</ul>
<p>A utility named RezWack, available in the QuickTime Windows SDK at http://developer.apple.com/sdk/index.html, moves these resources into an executable (<code></code>.exe) or dynamic-link library (<code></code>.dll) file in the Windows environment. QuickTime&#8217;s resource management routines will correctly locate and load movie resources when they are stored this way in a Windows application.</p>




        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../A-Intro/1Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../C-Chapter/3BuildingQuickTimeCa.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-01-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/RM/QTforWindows/QTforWindows/B-Chapter/2QuickTimeForWindows.html%3Fid%3DTP40000940-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/RM/QTforWindows/QTforWindows/B-Chapter/2QuickTimeForWindows.html%3Fid%3DTP40000940-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/RM/QTforWindows/QTforWindows/B-Chapter/2QuickTimeForWindows.html%3Fid%3DTP40000940-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>