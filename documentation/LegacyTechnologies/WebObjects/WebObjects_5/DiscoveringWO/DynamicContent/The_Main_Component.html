<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>The Main Component</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Components_and_Classes.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="HTML_and_WOD_Files.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF102"></a><h2><font face="Lucida Grande,Helvetica,Arial">The Main Component</font></h2><!-- apple_doc: pageHeadingEnd --><p>By default, every WebObjects application includes a Main component.This component, initially empty, is the first page displayed tousers unless you arrange otherwise. It can be used as the loginpage for the rest of your application.</p><p>The initial Main component is entirely empty. In this section,you add a method that calculates the date to the Java class, adda WOElement to the page, and use the WOD file to bind it all together.</p><br><a name = "TPXREF103"></a><h3><font face="Lucida Grande,Helvetica,Arial">Adding Java methods</font></h3><p>First, you add a Java method to the <code>Main.java</code> file.This method simply returns the current date when it is called. </p><ol><li>Create aWebObjects application project and name it DateDisplay.<p>Fordetails on how to create a new project see  <a sector="mod" href="../IntroductionToWO/iHello_WebObjects.html" target="_top">"Hello WebObjects"</a>.</p></font></li><li>Select <code>Main.java</code> fromthe Groups & Files list in Project Builder's main window.<br> <img src = "../Art/pbdatedisplaymainjava.gif" alt = "[image: ../Art/pbdatedisplaymainjava.gif]"></font></li><li>Add the following code to the <tt>Main.java</tt> file.This is a public method that returns the current date using theNSTimestamp class.<pre>public NSTimestamp currentTime() {    // by default, a new NSTimestamp object is initialized     // to the current date and time    return new NSTimestamp();  }</pre><p>Noticethat the Main class inherits from WOComponent.</p><p>The WOComponentclass defines dozens of methods needed by WebObjects. Many of thesemethods are introduced later in this book.</p></font></li><li>Save the <code>Main.java</code> fileby choosing File &gt; Save.</font></li></ol><br><a name = "BBCCFCHC"></a><h3><font face="Lucida Grande,Helvetica,Arial">Adding a WOString</font></h3><p>To display dynamic text, you add a WebObjects element to theMain component. This element is the WOString, which is used to displaydynamic string data in a page. Such strings can be the output ofa Java method that returns a String object or another object that canbe converted to a String object.</p><ol><li>Open theMain component with WebObjects Builder by double-clicking <code>Main.wo</code> in ProjectBuilder.</font></li><li>Add text and a WOString.<p>Enter "<code>Thecurrent time is</code> " in the content editorin WebObjects Builder's main window.</p><p>With the cursorat the end of the new text, press the Space bar and click  <img src = "../Art/wostringbtn.gif" alt = "[image: ../Art/wostringbtn.gif]">.</p><br> <img src = "../Art/wobdatedisplaytext.gif" alt = "[image: ../Art/wobdatedisplaytext.gif]"></font></li><li>Open the WOString Binding Inspector.<p>Select the WOStringelement and click  <img src = "../Art/inspectorbutton.gif" alt = "[image: ../Art/inspectorbutton.gif]">.The WOString Binding Inspector appears.</p><br> <img src = "../Art/dynamicwostringinspector.gif" alt = "[image: ../Art/dynamicwostringinspector.gif]"><p>If the Inspectorappears, but doesn't look like the one shown, click the WOStringyou just inserted. The Inspector displays information about theelement that is currently selected.</p><p>The Inspector displaysthe attributes for WOString elements. Each of them can be set, eitherto static values or by binding them to instance variables or methodsin your code, which provide a value at runtime.</p><p>Noticethat the <code>value</code> attributeis displayed in red. This means that this binding is required. Inthis case, the <code>value</code> attribute'sbinding produces the text that the WOString displays, and the otherattributes affect how the string is displayed. You use this WOStringto display the current time.</p></font></li><li>Bind the WOString's <code>value</code> attributeto the <code>currentTime</code> method.<p>Noticethat the name of the <code>currentTime</code> methodyou entered in <code>Main.java</code> islisted in the Main list, in the bottom-left corner of the <code>Main.wo</code> window.</p><p>Draga connection from the <code>currentTime</code> methodto the WOString element in the content editor.</p><p> <img src = "../Art/wobdatedisplaydragbind.gif" alt = "[image: ../Art/wobdatedisplaydragbind.gif]"></p><p>WhileWOString has several attributes, WebObjects Builder assumes youwant to bind the <code>value</code> attributebecause it's the one most commonly used in WOStrings.</p></font></li><li>Save <code>Main.wo</code>.</font></li></ol><p>The <code>currentTime</code> method is now boundto the WOString on the page. This connection is recorded in theWOD file. See  <a href="HTML_and_WOD_Files.html#BAJEBIDC" target = "_right">Listing 4-1</a>.</p><br>    <br><a href="Components_and_Classes.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="HTML_and_WOD_Files.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<hr alt=""><p><font face="Palatino" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>