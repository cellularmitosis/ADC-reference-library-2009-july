<html><head><title>Mac OS X Server
 Manual Page For myisamchk(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/myisamchk" title="Mac OS X Server
 Manual Page for myisamchk(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/myisamchk"; name=myisamchk(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
<b>MYISAMCHK</b>(1)                                MySQL Database System                               <b>MYISAMCHK</b>(1)



<b>NAME</b>
       myisamchk - MyISAM table-maintenance utility

<b>SYNOPSIS</b>
       <b>myisamchk</b> <b>[</b><u>options</u><b>]</b> <u>tbl</u><b>_</b><u>name</u> <b>...</b>

<b>DESCRIPTION</b>
       The <b>myisamchk</b> utility gets information about your database tables or checks, repairs, or optimizes
       them.  <b>myisamchk</b> works with MyISAM tables (tables that have <u>.MYD</u> and <u>.MYI</u> files for storing data and
       indexes).

       <b>Caution</b>
       It is best to make a backup of a table before performing a table repair operation; under some
       circumstances the operation might cause data loss. Possible causes include but are not limited to
       filesystem errors.

       Invoke <b>myisamchk</b> like this:

          shell&gt; <b>myisamchk</b> <b>[</b><u>options</u><b>]</b> <u>tbl</u><b>_</b><u>name</u> <b>...</b>

       The <u>options</u> specify what you want <b>myisamchk</b> to do. They are described in the following sections. You
       can also get a list of options by invoking <b>myisamchk</b> <b>--help</b>.

       With no options, <b>myisamchk</b> simply checks your table as the default operation. To get more information
       or to tell <b>myisamchk</b> to take corrective action, specify options as described in the following
       discussion.

       <u>tbl</u><b>_</b><u>name</u> is the database table you want to check or repair. If you run <b>myisamchk</b> somewhere other than
       in the database directory, you must specify the path to the database directory, because <b>myisamchk</b> has
       no idea where the database is located. In fact, <b>myisamchk</b> doesn't actually care whether the files you
       are working on are located in a database directory. You can copy the files that correspond to a
       database table into some other location and perform recovery operations on them there.

       You can name several tables on the <b>myisamchk</b> command line if you wish. You can also specify a table
       by naming its index file (the file with the <u>.MYI</u> suffix). This allows you to specify all tables in a
       directory by using the pattern <u>*.MYI</u>. For example, if you are in a database directory, you can check
       all the MyISAM tables in that directory like this:

          shell&gt; <b>myisamchk</b> <b>*.MYI</b>

       If you are not in the database directory, you can check all the tables there by specifying the path
       to the directory:

          shell&gt; <b>myisamchk</b> <u>/path/to/database</u><b>_</b><u>dir/</u><b>*.MYI</b>

       You can even check all tables in all databases by specifying a wildcard with the path to the MySQL
       data directory:

          shell&gt; <b>myisamchk</b> <u>/path/to/datadir/*/*</u><b>.MYI</b>

       The recommended way to quickly check all MyISAM tables is:

          shell&gt; <b>myisamchk</b> <b>--silent</b> <b>--fast</b> <u>/path/to/datadir/*/*</u><b>.MYI</b>
          shell&gt; <b>isamchk</b> <b>--silent</b> <u>/path/to/datadir/*/*</u><b>.ISM</b>

       If you want to check all MyISAM tables and repair any that are corrupted, you can use the following
       command:

          shell&gt; <b>myisamchk</b> <b>--silent</b> <b>--force</b> <b>--fast</b> <b>--update-state</b> <b>\</b>
                    <b>--key_buffer_size=64M</b> <b>--sort_buffer_size=64M</b> <b>\</b>
                    <b>--read_buffer_size=1M</b> <b>--write_buffer_size=1M</b> <b>\</b>
                    <u>/path/to/datadir/*/*</u><b>.MYI</b>
          shell&gt; <b>isamchk</b> <b>--silent</b> <b>--force</b> <b>--key_buffer_size=64M</b> <b>\</b>
                    <b>--sort_buffer_size=64M</b> <b>--read_buffer_size=1M</b> <b>--write_buffer_size=1M</b> <b>\</b>
                    <u>/path/to/datadir/*/*</u><b>.ISM</b>

       This command assumes that you have more than 64MB free. For more information about memory allocation
       with <b>myisamchk</b>, see the section called "<b>MYISAMCHK</b> MEMORY USAGE".

       <b>MySQL</b> <b>Enterprise</b>. For expert advice on checking and repairing tables, subscribe to the MySQL Network
       Monitoring and Advisory Service. For more information see
       <a href="http://www.mysql.com/products/enterprise/advisors.html"><u>http://www.mysql.com/products/enterprise/advisors.html</u></a>

       <b>Important</b>
       <u>You</u> <u>must</u> <u>ensure</u> <u>that</u> <u>no</u> <u>other</u> <u>program</u> <u>is</u> <u>using</u> <u>the</u> <u>tables</u> <u>while</u> <u>you</u> <u>are</u> <u>running</u> <b>myisamchk</b>. The most
       effective means of doing so is to shut down the MySQL server while running <b>myisamchk</b>, or to lock all
       tables that <b>myisamchk</b> is being used on.

       Otherwise, when you run <b>myisamchk</b>, it may display the following error message:

          warning: clients are using or haven't closed the table properly

       This means that you are trying to check a table that has been updated by another program (such as the
       <b>mysqld</b> server) that hasn't yet closed the file or that has died without closing the file properly,
       which can sometimes lead to the corruption of one or more MyISAM tables.

       If <b>mysqld</b> is running, you must force it to flush any table modifications that are still buffered in
       memory by using FLUSH TABLES. You should then ensure that no one is using the tables while you are
       running <b>myisamchk</b>

       However, the easiest way to avoid this problem is to use CHECK TABLE instead of <b>myisamchk</b> to check
       tables. See Section 5.2.3, "CHECK TABLE Syntax".

<b>MYISAMCHK</b> GENERAL OPTIONS
       The options described in this section can be used for any type of table maintenance operation
       performed by <b>myisamchk</b>. The sections following this one describe options that pertain only to
       specific operations, such as table checking or repairing.

         <b>--help</b>, <b>-?</b>

          Display a help message and exit.

         <b>--debug=</b><u>debug</u><b>_</b><u>options</u><b>,</b> <b>-#</b> <u>debug</u><b>_</b><u>options</u>

          Write a debugging log. The <u>debug</u><b>_</b><u>options</u> string often is 'd:t:o,<u>file</u><b>_</b><u>name</u>'.

         <b>--silent</b>, <b>-s</b>

          Silent mode. Write output only when errors occur. You can use <b>-s</b> twice (<b>-ss</b>) to make <b>myisamchk</b>
          very silent.

         <b>--verbose</b>, <b>-v</b>

          Verbose mode. Print more information about what the program does. This can be used with <b>-d</b> and <b>-e</b>.
          Use <b>-v</b> multiple times (<b>-vv</b>, <b>-vvv</b>) for even more output.

         <b>--version</b>, <b>-V</b>

          Display version information and exit.

         <b>--wait</b>, <b>-w</b>

          Instead of terminating with an error if the table is locked, wait until the table is unlocked
          before continuing. If you are running <b>mysqld</b> with external locking disabled, the table can be
          locked only by another <b>myisamchk</b> command.


       You can also set the following variables by using <b>--</b><u>var</u><b>_</b><u>name</u><b>=</b><u>value</u> syntax:

       +------------------+-------------------+
       |<b>Variable</b>          | <b>Default</b> <b>Value</b>     |
       +------------------+-------------------+
       |sort_key_blocks   | 16                |
       +------------------+-------------------+
       |stats_method      | nulls_unequal     |
       +------------------+-------------------+
       |write_buffer_size | 262136            |
       +------------------+-------------------+
       |decode_bits       | 9                 |
       +------------------+-------------------+
       |ft_max_word_len   | version-dependent |
       +------------------+-------------------+
       |ft_min_word_len   | 4                 |
       +------------------+-------------------+
       |ft_stopword_file  | built-in list     |
       +------------------+-------------------+
       |key_buffer_size   | 523264            |
       +------------------+-------------------+
       |myisam_block_size | 1024              |
       +------------------+-------------------+
       |read_buffer_size  | 262136            |
       +------------------+-------------------+
       |sort_buffer_size  | 2097144           |
       +------------------+-------------------+

       It is also possible to set variables by using <b>--set-variable=</b><u>var</u><b>_</b><u>name</u><b>=</b><u>value</u> or <b>-O</b> <u>var</u><b>_</b><u>name</u><b>=</b><u>value</u>
       syntax. However, this syntax is deprecated as of MySQL 4.0.

       The possible <b>myisamchk</b> variables and their default values can be examined with <b>myisamchk</b> <b>--help</b>:

       sort_buffer_size is used when the keys are repaired by sorting keys, which is the normal case when
       you use <b>--recover</b>.

       key_buffer_size is used when you are checking the table with <b>--extend-check</b> or when the keys are
       repaired by inserting keys row by row into the table (like when doing normal inserts). Repairing
       through the key buffer is used in the following cases:

         You use <b>--safe-recover</b>.

         The temporary files needed to sort the keys would be more than twice as big as when creating the
          key file directly. This is often the case when you have large key values for CHAR, VARCHAR, or
          TEXT columns, because the sort operation needs to store the complete key values as it proceeds. If
          you have lots of temporary space and you can force <b>myisamchk</b> to repair by sorting, you can use the
          <b>--sort-recover</b> option.


       Repairing through the key buffer takes much less disk space than using sorting, but is also much
       slower.

       If you want a faster repair, set the key_buffer_size and sort_buffer_size variables to about 25% of
       your available memory. You can set both variables to large values, because only one of them is used
       at a time.

       myisam_block_size is the size used for index blocks.

       stats_method influences how NULL values are treated for index statistics collection when the
       <b>--analyze</b> option is given. It acts like the myisam_stats_method system variable. For more
       information, see the description of myisam_stats_method in the section called "SYSTEM VARIABLES", and
       Section 4.7, "MyISAM Index Statistics Collection". For MySQL 5.0, stats_method was added in MySQL
       5.0.14. For older versions, the statistics collection method is equivalent to nulls_equal.

       The ft_min_word_len and ft_max_word_len variables are available as of MySQL 4.0.0.  ft_stopword_file
       is available as of MySQL 4.0.19.

       ft_min_word_len and ft_max_word_len indicate the minimum and maximum word length for FULLTEXT
       indexes.  ft_stopword_file names the stopword file. These need to be set under the following
       circumstances.

       If you use <b>myisamchk</b> to perform an operation that modifies table indexes (such as repair or analyze),
       the FULLTEXT indexes are rebuilt using the default full-text parameter values for minimum and maximum
       word length and the stopword file unless you specify otherwise. This can result in queries failing.

       The problem occurs because these parameters are known only by the server. They are not stored in
       MyISAM index files. To avoid the problem if you have modified the minimum or maximum word length or
       the stopword file in the server, specify the same ft_min_word_len, ft_max_word_len, and
       ft_stopword_file values to <b>myisamchk</b> that you use for <b>mysqld</b>. For example, if you have set the
       minimum word length to 3, you can repair a table with <b>myisamchk</b> like this:

          shell&gt; <b>myisamchk</b> <b>--recover</b> <b>--ft_min_word_len=3</b> <u>tbl</u><b>_</b><u>name</u><b>.MYI</b>

       To ensure that <b>myisamchk</b> and the server use the same values for full-text parameters, you can place
       each one in both the [mysqld] and [myisamchk] sections of an option file:

          [mysqld]
          ft_min_word_len=3
          [myisamchk]
          ft_min_word_len=3

       An alternative to using <b>myisamchk</b> is to use the REPAIR TABLE, ANALYZE TABLE, OPTIMIZE TABLE, or ALTER
       TABLE. These statements are performed by the server, which knows the proper full-text parameter
       values to use.

<b>MYISAMCHK</b> CHECK OPTIONS
       <b>myisamchk</b> supports the following options for table checking operations:

         <b>--check</b>, <b>-c</b>

          Check the table for errors. This is the default operation if you specify no option that selects an
          operation type explicitly.

         <b>--check-only-changed</b>, <b>-C</b>

          Check only tables that have changed since the last check.

         <b>--extend-check</b>, <b>-e</b>

          Check the table very thoroughly. This is quite slow if the table has many indexes. This option
          should only be used in extreme cases. Normally, <b>myisamchk</b> or <b>myisamchk</b> <b>--medium-check</b> should be
          able to determine whether there are any errors in the table.

          If you are using <b>--extend-check</b> and have plenty of memory, setting the key_buffer_size variable to
          a large value helps the repair operation run faster.

         <b>--fast</b>, <b>-F</b>

          Check only tables that haven't been closed properly.

         <b>--force</b>, <b>-f</b>

          Do a repair operation automatically if <b>myisamchk</b> finds any errors in the table. The repair type is
          the same as that specified with the <b>--recover</b> or <b>-r</b> option.

         <b>--information</b>, <b>-i</b>

          Print informational statistics about the table that is checked.

         <b>--medium-check</b>, <b>-m</b>

          Do a check that is faster than an <b>--extend-check</b> operation. This finds only 99.99% of all errors,
          which should be good enough in most cases.

         <b>--read-only</b>, <b>-T</b>

          Don't mark the table as checked. This is useful if you use <b>myisamchk</b> to check a table that is in
          use by some other application that doesn't use locking, such as <b>mysqld</b> when run with external
          locking disabled.

         <b>--update-state</b>, <b>-U</b>

          Store information in the <u>.MYI</u> file to indicate when the table was checked and whether the table
          crashed. This should be used to get full benefit of the <b>--check-only-changed</b> option, but you
          shouldn't use this option if the <b>mysqld</b> server is using the table and you are running it with
          external locking disabled.

<b>MYISAMCHK</b> REPAIR OPTIONS
       <b>myisamchk</b> supports the following options for table repair operations:

         <b>--backup</b>, <b>-B</b>

          Make a backup of the <u>.MYD</u> file as <u>file</u><b>_</b><u>name-time.BAK</u>

         <b>--character-sets-dir=</b><u>path</u>

          The directory where character sets are installed. See Section 8.1, "The Character Set Used for
          Data and Sorting".

         <b>--correct-checksum</b>

          Correct the checksum information for the table.

         <b>--data-file-length=</b><u>len</u><b>,</b> <b>-D</b> <u>len</u>

          Maximum length of the data file (when re-creating data file when it is "full").

         <b>--extend-check</b>, <b>-e</b>

          Do a repair that tries to recover every possible row from the data file. Normally, this also finds
          a lot of garbage rows. Don't use this option unless you are desperate.

         <b>--force</b>, <b>-f</b>

          Overwrite old intermediate files (files with names like <u>tbl</u><b>_</b><u>name.TMD</u>) instead of aborting.

         <b>--keys-used=</b><u>val</u>, <b>-k</b> <u>val</u>

          For <b>myisamchk</b>, the option value is a bit-value that indicates which indexes to update. Each binary
          bit of the option value corresponds to a table index, where the first index is bit 0. An option
          value of 0 disables updates to all indexes, which can be used to get faster inserts. Deactivated
          indexes can be reactivated by using <b>myisamchk</b> <b>-r</b>.

         <b>--no-symlinks</b>, <b>-l</b>

          Do not follow symbolic links. Normally <b>myisamchk</b> repairs the table that a symlink points to. This
          option does not exist as of MySQL 4.0 because versions from 4.0 on do not remove symlinks during
          repair operations.

         <b>--max-record-length=</b><u>len</u>

          Skip rows larger than the given length if <b>myisamchk</b> cannot allocate memory to hold them.

         <b>--parallel-recover</b>, <b>-p</b>

          Uses the same technique as <b>-r</b> and <b>-n</b>, but creates all the keys in parallel, using different
          threads.  <u>This</u> <u>is</u> <u>beta-quality</u> <u>code.</u> <u>Use</u> <u>at</u> <u>your</u> <u>own</u> <u>risk!</u>

         <b>--quick</b>, <b>-q</b>

          Achieve a faster repair by not modifying the data file. You can specify this option twice to force
          <b>myisamchk</b> to modify the original data file in case of duplicate keys.

         <b>--recover</b>, <b>-r</b>

          Do a repair that can fix almost any problem except unique keys that aren't unique (which is an
          extremely unlikely error with MyISAM tables). If you want to recover a table, this is the option
          to try first. You should try <b>--safe-recover</b> only if <b>myisamchk</b> reports that the table can't be
          recovered using <b>--recover</b>. (In the unlikely case that <b>--recover</b> fails, the data file remains
          intact.)

          If you have lots of memory, you should increase the value of sort_buffer_size.

         <b>--safe-recover</b>, <b>-o</b>

          Do a repair using an old recovery method that reads through all rows in order and updates all
          index trees based on the rows found. This is an order of magnitude slower than <b>--recover</b>, but can
          handle a couple of very unlikely cases that <b>--recover</b> cannot. This recovery method also uses much
          less disk space than <b>--recover</b>. Normally, you should repair first with <b>--recover</b>, and then with
          <b>--safe-recover</b> only if <b>--recover</b> fails.

          If you have lots of memory, you should increase the value of key_buffer_size.

         <b>--set-character-set=</b><u>name</u>

          Change the character set used by the table indexes. This option was replaced by <b>--set-collation</b> in
          MySQL 5.0.3.

         <b>--set-collation=</b><u>name</u>

          Specify the collation to use for sorting table indexes. The character set name is implied by the
          first part of the collation name. This option was added in MySQL 5.0.3.

         <b>--sort-recover</b>, <b>-n</b>

          Force <b>myisamchk</b> to use sorting to resolve the keys even if the temporary files would be very
          large.

         <b>--tmpdir=</b><u>path</u>, <b>-t</b> <u>path</u>

          Path of the directory to be used for storing temporary files. If this is not set, <b>myisamchk</b> uses
          the value of the TMPDIR environment variable.  tmpdir can be set to a list of directory paths that
          are used successively in round-robin fashion for creating temporary files. The separator character
          between directory names is the colon (`:') on Unix and the semicolon (`;') on Windows, NetWare,
          and OS/2.

         <b>--unpack</b>, <b>-u</b>

          Unpack a table that was packed with <b>myisampack</b>.

<b>OTHER</b> <b>MYISAMCHK</b> <b>OPTIONS</b>
       <b>myisamchk</b> supports the following options for actions other than table checks and repairs:

         <b>--analyze</b>, <b>-a</b>

          Analyze the distribution of key values. This improves join performance by enabling the join
          optimizer to better choose the order in which to join the tables and which indexes it should use.
          To obtain information about the key distribution, use a <b>myisamchk</b> <b>--description</b> <b>--verbose</b> <u>tbl</u><b>_</b><u>name</u>
          command or the SHOW INDEX FROM <u>tbl</u><b>_</b><u>name</u> statement.

       <b>MySQL</b> <b>Enterprise</b>. For expert advice on optimizing tables, subscribe to the MySQL Network Monitoring
       and Advisory Service. For more information see
       <a href="http://www.mysql.com/products/enterprise/advisors.html"><u>http://www.mysql.com/products/enterprise/advisors.html</u></a>

         <b>--block-search=</b><u>offset</u>, <b>-b</b> <u>offset</u>

          Find the record that a block at the given offset belongs to.

         <b>--description</b>, <b>-d</b>

          Print some descriptive information about the table.

         <b>--set-auto-increment[=</b><u>value</u><b>]</b>, <b>-A[</b><u>value</u><b>]</b>

          Force AUTO_INCREMENT numbering for new records to start at the given value (or higher, if there
          are existing records with AUTO_INCREMENT values this large). If <u>value</u> is not specified,
          AUTO_INCREMENT numbers for new records begin with the largest value currently in the table, plus
          one.

         <b>--sort-index</b>, <b>-S</b>

          Sort the index tree blocks in high-low order. This optimizes seeks and makes table scans that use
          indexes faster.

         <b>--sort-records=</b><u>N</u>, <b>-R</b> <u>N</u>

          Sort records according to a particular index. This makes your data much more localized and may
          speed up range-based SELECT and ORDER BY operations that use this index. (The first time you use
          this option to sort a table, it may be very slow.) To determine a table's index numbers, use SHOW
          INDEX, which displays a table's indexes in the same order that <b>myisamchk</b> sees them. Indexes are
          numbered beginning with 1.

          If keys are not packed (PACK_KEYS=0), they have the same length, so when <b>myisamchk</b> sorts and moves
          records, it just overwrites record offsets in the index. If keys are packed (PACK_KEYS=1),
          <b>myisamchk</b> must unpack key blocks first, then re-create indexes and pack the key blocks again. (In
          this case, re-creating indexes is faster than updating offsets for each index.)

<b>MYISAMCHK</b> MEMORY USAGE
       Memory allocation is important when you run <b>myisamchk</b>.  <b>myisamchk</b> uses no more memory than its
       memory-related variables are set to. If you are going to use <b>myisamchk</b> on very large tables, you
       should first decide how much memory you want it to use. The default is to use only about 3MB to
       perform repairs. By using larger values, you can get <b>myisamchk</b> to operate faster. For example, if you
       have more than 32MB RAM, you could use options such as these (in addition to any other options you
       might specify):

          shell&gt; <b>myisamchk</b> <b>--sort_buffer_size=16M</b> <b>--key_buffer_size=16M</b> <b>\</b>
                     <b>--read_buffer_size=1M</b> <b>--write_buffer_size=1M</b> <b>...</b>

       Using <b>--sort_buffer_size=16M</b> should probably be enough for most cases.

       Be aware that <b>myisamchk</b> uses temporary files in TMPDIR. If TMPDIR points to a memory filesystem, you
       may easily get out of memory errors. If this happens, run <b>myisamchk</b> with the <b>--tmpdir=</b><u>path</u> option to
       specify some directory located on a filesystem that has more space.

       When repairing, <b>myisamchk</b> also needs a lot of disk space:

         Double the size of the data file (the original file and a copy). This space is not needed if you
          do a repair with <b>--quick</b>; in this case, only the index file is re-created. This space is needed on
          the same filesystem as the original data file! (The copy is created in the same directory as the
          original.)

         Space for the new index file that replaces the old one. The old index file is truncated at the
          start of the repair operation, so you usually ignore this space. This space is needed on the same
          filesystem as the original index file!

         When using <b>--recover</b> or <b>--sort-recover</b> (but not when using <b>--safe-recover</b>), you need space for a
          sort buffer. The following formula yields the amount of space required:

          (<u>largest</u><b>_</b><u>key</u> + <u>row</u><b>_</b><u>pointer</u><b>_</b><u>length</u>) x <u>number</u><b>_</b><u>of</u><b>_</b><u>rows</u> x 2
       You can check the length of the keys and the row_pointer_length with <b>myisamchk</b> <b>-dv</b> <u>tbl</u><b>_</b><u>name</u>. This
       space is allocated in the temporary directory (specified by TMPDIR or <b>--tmpdir=</b><u>path</u>).


       If you have a problem with disk space during repair, you can try <b>--safe-recover</b> instead of <b>--recover</b>.

<b>COPYRIGHT</b>
       Copyright 1997-2007 MySQL AB

       This documentation is NOT distributed under a GPL license. Use of this documentation is subject to
       the following terms: You may create a printed copy of this documentation solely for your own personal
       use. Conversion to other formats is allowed as long as the actual content is not altered or edited in
       any way. You shall not publish or distribute this documentation in any form or on any media, except
       if you distribute the documentation in a manner similar to how MySQL disseminates it (that is,
       electronically for download on a Web site with the software) or on a CD-ROM or similar medium,
       provided however that the documentation is disseminated together with the software on the same
       medium. Any other use, such as any dissemination of printed copies or use of this documentation, in
       whole or in part, in another publication, requires the prior written consent from an authorized
       representative of MySQL AB. MySQL AB reserves any and all rights to this documentation not expressly
       granted above.

       Please email &lt;docs@mysql.com&gt; for more information.

<b>SEE</b> <b>ALSO</b>
       For more information, please refer to the MySQL Reference Manual, which may already be installed
       locally and which is also available online at <a href="http://dev.mysql.com/doc/">http://dev.mysql.com/doc/</a>

<b>AUTHOR</b>
       MySQL AB (<a href="http://www.mysql.com/)">http://www.mysql.com/)</a>  This software comes with no warranty.



MySQL 5.0                                        07/04/2007                                     <b>MYISAMCHK</b>(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/myisamchk.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/myisamchk.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/myisamchk.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
