<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PBVolumeMount (IM: F)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING272></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Files-271.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-273.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Files-2.html"><B>Files</B></A> / <BR><DD><A HREF="Files-72.html"><B>Chapter 2 - File Manager</B></A> / <A HREF="Files-113.html"><B>File Manager Reference</B></A><BR><DL><DD><A HREF="Files-255.html"><B>Shared Environment Routines</B></A> / <A HREF="Files-269.html"><B>Mounting Volumes</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING272-0></A>
<H3>PBVolumeMount</H3>
 <A NAME=MARKER-11-1431></A><A NAME=MARKER-2-1432></A>You can use the <CODE>PBVolumeMount</CODE> function to mount a volume, using either the information returned by the <CODE>PBGetVolMountInfo</CODE> function or a structure filled in by your application.<P>
<PRE>
FUNCTION PBVolumeMount (paramBlock: ParmBlkPtr): OSErr;
</PRE>
<DL>
<DT>paramBlock
<DD> A pointer to a basic File Manager parameter block.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD>--><TD><CODE>ioCompletion</CODE><TD><CODE>LongInt</CODE><TD>A pointer to a completion routine.<TR>
<TD><--<TD><CODE>ioResult</CODE><TD><CODE>OSErr</CODE><TD>The function's result code.<TR>
<TD><--<TD><CODE>ioVRefNum</CODE><TD><CODE>Integer</CODE><TD>A volume reference number.<TR>
<TD>--><TD><CODE>ioBuffer</CODE><TD><CODE>LongInt</CODE><TD>A pointer to mounting information.</TABLE>
</B><P>
<A NAME=HEADING272-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>PBVolumeMount</CODE> function mounts a volume and returns its volume reference number. If you're mounting an AppleShare volume, place the volume's AFP mounting information record in the buffer pointed to by the <CODE>ioBuffer</CODE> field.<P>
 The <CODE>PBGetVolMountInfo</CODE> function does not return the user and volume passwords; they're returned blank. Typically, your application asks the user for any necessary passwords and fills in those fields just before calling <CODE>PBVolumeMount</CODE>. If you want to mount a volume with guest status, pass an empty string as the user password.<P>
 If you have enough information about the volume, you can fill in the mounting record yourself and call <CODE>PBVolumeMount</CODE>, even if you did not save the mounting information while the volume was mounted. To mount an AFP volume, you must fill in the record with at least the zone name, server name, user name, user password, and volume password. You can lay out the fields in any order within the data field, as long as you specify the correct offsets.<P>
<A NAME=HEADING272-9></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The File Sharing workstation software introduced in system software version 7.0 does not currently pass the volume password. The AppleShare 3.0 workstation software does, however, pass the volume password.<A NAME=MARKER-2-1434></A><A NAME=MARKER-2-1435></A><P>
 <A NAME=MARKER-2-1436></A>AFP volumes currently ignore the user authentication method passed in the <CODE>uamType</CODE> field of the volume mounting information record whose address is passed in <CODE>ioBuffer</CODE>. The most secure available method is used by default, except when a user mounts the volume as &lt;Guest&gt; and uses the <CODE>kNoUserAuthentication</CODE> authentication method.<A NAME=MARKER-2-1437></A><P>
<A NAME=HEADING272-12></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for <CODE>PBVolumeMount</CODE> are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_HFSDispatch<TD>$0041</TABLE>
<P>
<A NAME=HEADING272-14></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>notOpenErr<TD>-28<TD>AppleTalk is not open<TR>
<TD>nsvErr<TD>-35<TD>Volume not found<TR>
<TD>paramErr<TD>-50<TD>Parameter error; typically, zone, server, and volume name combination is not valid or not complete, or the user name is not recognized<TR>
<TD>extFSErr<TD>-58<TD>External file system error; typically, file system signature was not recognized, or function is <BR>not available for that volume<TR>
<TD>memFullErr<TD>-108<TD>Not enough memory to create a new volume control block for mounting the volume<TR>
<TD>afpBadUAM<TD>-5002<TD>User authentication method is unknown<TR>
<TD>afpBadVersNum<TD>-5003<TD>Workstation is using an AFP version that the server doesn't recognize<TR>
<TD>afpNoServer<TD>-5016<TD>Server is not responding<TR>
<TD>afpUserNotAuth<TD>-5023<TD>User authentication failed (usually, password <BR>is not correct)<TR>
<TD>afpPwdExpired<TD>-5042<TD>Password has expired on server<TR>
<TD>afpBadDirIDType<TD>-5060<TD>Not a fixed directory ID volume<TR>
<TD>afpCantMountMoreSrvrs<TD>-5061<TD>Maximum number of volumes has <BR>been mounted<TR>
<TD>afpAlreadyMounted<TD>-5062<TD>Volume already mounted<TR>
<TD>afpSameNodeErr<TD>-5063<TD>Attempt to log on to a server running on the same machine<A NAME=MARKER-2-140></A><A NAME=MARKER-2-141></A></TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Files-271.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-273.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Files-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
