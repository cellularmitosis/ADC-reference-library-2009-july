<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Getting Information About Exported Symbols</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING39></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="RTArch-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="RTArch-2.html"><B>Mac OS Runtime Architectures</B></A> / <BR><DD><A HREF="RTArch-35.html"><B>Chapter 3 - Programming for the CFM-Based Runtime Architecture </B></A> / <A HREF="RTArch-36.html"><B>Calling the Code Fragment Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING39-0></A>
<H2>Getting Information About Exported Symbols</H2>
 <A NAME=MARKER-2-28></A>In cases in which you prepare a fragment programmatically (that is, by calling Code Fragment Manager routines), you can get information about the symbols exported by that fragment by calling the <CODE>FindSymbol</CODE>, <CODE>CountSymbols</CODE>, and <CODE>GetIndSymbol</CODE> functions. <P>
 The <CODE>CountSymbols</CODE> function returns the total number of symbols exported by a fragment. <CODE>CountSymbols</CODE> takes as one of its parameters a connection ID; accordingly, you must already have established a connection to a fragment before you can determine how many symbols it exports.<P>
 Given an index ranging from 0 to one less than the total number of exported symbols in a fragment, the <CODE>GetIndSymbol</CODE> function returns the name, address, and class of a symbol in that fragment. You can use <CODE>CountSymbols</CODE> in combination with <CODE>GetIndSymbol</CODE> to get information about all the exported symbols in a fragment. For example, the code in <A HREF=#MARKER-9-31>Listing 3-4</A> prints the names of all the exported symbols in a particular fragment.<P>
<B>Listing 3-4  <A NAME=MARKER-9-31></A>Finding symbol names</B><P>
<PRE>
void MyGetSymbolNames (ConnectionID myConnID);
{
   long           myIndex;
   long           myCount;       /*number of exported */
                                 /*symbols in fragment*/
   OSErr          myErr;
   Str255         myName;        /*symbol name*/
   Ptr            myAddr;        /*symbol address*/
   SymClass       myClass;       /*symbol class*/

   myErr = CountSymbols(myConnID, &amp;myCount);
   if (!myErr)
      for (myIndex = 0; myIndex &lt; myCount; myIndex++)
         {
            myErr = GetIndSymbol(myConnID, myIndex, myName, 
                                    &amp;myAddr, &amp;myClass);
            if (!myErr)
               printf(&quot;%P&quot;, myName);
         }
}
</PRE>
 If you already know the name of a particular symbol whose address and class you want to determine, you can use the <CODE>FindSymbol</CODE> function. See <italics>Inside Macintosh: PowerPC System Software<Default \xE8 Font><I></I> for details. <A NAME=MARKER-9-1></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="RTArch-38.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-40.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="RTArch-3.html">&copy; Apple Computer, Inc.</A><br>11 MARCH 1997<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
