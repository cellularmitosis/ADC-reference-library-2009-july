<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A HW100: Determining Open Firmware version</title><meta name="keywords" content="Open Firmware version openprom"><meta name="Description" content="Technical Q&amp;A HW100: have creator write a brief descriptionhere."><meta name="categories" content="Hardware"><meta name="week-posted" content="Oct 2, 2000 - Oct 6, 2000"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001281" title="Determining Open Firmware version"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/HardwareDrivers/index.html">Hardware & Drivers</a> &gt; <a href="../../technicalqas/HardwareDrivers/idxPCIandPCCard-date.html">PCI and PC Card</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A HW100</div>
<div id="pageheadsub">Determining Open Firmware version</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><!-- begin_content --><CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <td align="left"><hr width=500 align=center>          <P id=p2>Q: How do I determine the version of Open Firmware          in my machine?&nbsp;</P>          <P id=p4>A: The <CODE>"/openprom"</CODE> node describes the          implementation of Open Firmware in the machine. The          <CODE>"model"</CODE> property of this node describes the          manufacturer and revision level of firmware. Note that this          property is a manufacturer-dependant string. See IEEE Std          175-1994, pg. 160, "<CODE>model</CODE>" for details.</P>          <P id=p4>There are several ways to find out the version of          Open Firmware in your machine:&nbsp;</P>          <P id=p4>User visible methods:</P>          <OL id=p4>             <LI>When you enter the OFUI (by holding down             Command-Option-O-F), the version is displayed at the top of the             screen.</LI>             <LI>In the Open Firmware device-tree the node             <code>/openprom</code> describes the implementation of Open             Firmware. Type "<code>dev /openprom .properties</code>" at             the OFUI command prompt. The <code>model</code> property in             this node describes the revision level of firmware. See             IEEE Std 1275-1994, section 3.5 "Standard system nodes"             for a full description.</LI>             <LI>In Mac OS run, Display Name Registry and look at the             <code>model</code> property in the node             <code>Devices:device-tree:openprom</code>.</LI>          </OL>          <P id=p4>Programmatically:</P>          <OL id=p4>             <LI>In a Mac OS application, you can search the Name             Registry for the node named "openprom" using             <CODE>RegistryEntrySearch</CODE>. Once you find this node, use             <CODE>RegistryPropertyGet</CODE> to retrieve the value of the             <code>model</code> property.</LI>             <LI>In an <CODE>FCode</CODE> driver, you can use <code>find-package</code>             to get a <CODE>phandle</CODE> for the <code>openprom</code> package.             Once you have the <CODE>phandle</CODE> you can use             <code>get-package-property</code> to get the value of the             <code>model</code> property:</li>             </ol>            <CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>" /openprom" find-packageif " model" rot get-package-property     0= if    \ here we have the value of the model property on thestack as (addr len)     else cr ." Can't find model property"     thenelse cr ." Can't find openprom node"then</pre>	</TD></TR></TABLE></CENTER> </td></tr></table></center><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[Oct 06 2000]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/hw/hw100.html%3Fid%3DDTS10001281-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/hw/hw100.html%3Fid%3DDTS10001281-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/hw/hw100.html%3Fid%3DDTS10001281-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <hr width=500 align=center> </BODY> </HTML>