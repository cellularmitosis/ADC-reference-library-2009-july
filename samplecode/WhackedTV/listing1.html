<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>WhackedTV - /README-WhackedTV.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/Carbon/index.html">Carbon</a> &gt; <a href="../../samplecode/Carbon/idxQuickTime-date.html">QuickTime</a> &gt; <A HREF="javascript:location.replace('index.html');">WhackedTV</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->


	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">WhackedTV</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/README-WhackedTV.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/README-WhackedTV.txt</option>
<option value="listing2.html">/Sources/Classes/DeviceChannelStrip.h</option>
<option value="listing3.html">/Sources/Classes/DeviceChannelStrip.mm</option>
<option value="listing4.html">/Sources/Classes/HorizontalMeteringView.h</option>
<option value="listing5.html">/Sources/Classes/HorizontalMeteringView.m</option>
<option value="listing6.html">/Sources/Classes/MeteringView.h</option>
<option value="listing7.html">/Sources/Classes/MeteringView.m</option>
<option value="listing8.html">/Sources/Classes/SeqGrab/SampleCIView.h</option>
<option value="listing9.html">/Sources/Classes/SeqGrab/SampleCIView.m</option>
<option value="listing10.html">/Sources/Classes/SeqGrab/SeqGrab.h</option>
<option value="listing11.html">/Sources/Classes/SeqGrab/SeqGrab.mm</option>
<option value="listing12.html">/Sources/Classes/SeqGrab/SGAudio.h</option>
<option value="listing13.html">/Sources/Classes/SeqGrab/SGAudio.mm</option>
<option value="listing14.html">/Sources/Classes/SeqGrab/SGChan.h</option>
<option value="listing15.html">/Sources/Classes/SeqGrab/SGChan.mm</option>
<option value="listing16.html">/Sources/Classes/SeqGrab/SGVideo.h</option>
<option value="listing17.html">/Sources/Classes/SeqGrab/SGVideo.mm</option>
<option value="listing18.html">/Sources/Classes/SGAudioSettings.h</option>
<option value="listing19.html">/Sources/Classes/SGAudioSettings.mm</option>
<option value="listing20.html">/Sources/Classes/Utility/NSOpaqueGrayRulerView.h</option>
<option value="listing21.html">/Sources/Classes/Utility/NSOpaqueGrayRulerView.m</option>
<option value="listing22.html">/Sources/Classes/WhackedTVController.h</option>
<option value="listing23.html">/Sources/Classes/WhackedTVController.m</option>
<option value="listing24.html">/Sources/main.m</option>
<option value="listing25.html">/Sources/WhackedDebugMacros.h</option></select>
				</p>
				</form>
				<p><strong><a href="WhackedTV.zip">Download Sample</a></strong> (&#147;WhackedTV.zip&#148;, 320.0K)<BR>
<strong><a href="WhackedTV.dmg">Download Sample</a></strong> (&#147;WhackedTV.dmg&#148;, 365.5K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">WhackedTV

WhackedTV is a replacement for the venerable Carbon HackTV.  It shows 
how to use the Sequence Grabber API's to capture movies from external 
video and audio sources, just as HackTV, but adds many important new
features, including simultaneous capture from multiple SGChannel's, use
of the new SGAudioChannel, video preview using ICMDecompressionSession's
and OpenGL.


Required: QuickTime 7.  WhackedTV uses the SGAudioChannel instead of the
SoundMediaType SGChannel to record audio.  The SGAudioMediaType channel
became available in QuickTime 7.  The app runs a Gestalt check and will
not run without QuickTime 7.  In order to insert Audio Unit FX into the
audio recording chain, Mac OS X 10.4 (Tiger) is required, though the app
will run on Mac OS X 10.3.9 (where the &quot;Audio FX&quot; button is disabled).
To capture video, a camera with a vdig is required (such as a DV or
iSight camera).  To capture audio, an audio device capable of receiving
input using the CoreAudio interfaces is required (built-in audio on 
most Macintosh computers works fine).


General points of interest:
    * Includes a set of Cocoa wrappers to Sequence Grabber classes
    * The app itself is written in Cocoa
    * Captures movies using Sequence Grabber
    * Performs real-time preview of audio and video
    * Supports arbitrary numbers of source SGChannels
    * Supports saving of Sequence Grabber settings files
    * Supports restoration of previous captures from saved Sequence Grabber 
      settings files
    * Demonstrates proper procedure for ensuring Spotlight doesn't prematurely
      index a file to which Sequence Grabber is still recording.  The file
      path given to Sequence Grabber has an appended &quot;.noindex&quot; extension,
      which is removed as a post-processing step.
      
Video-specific points of interest:
    * Demonstrates video preview outside the Sequence Grabber using
      the SGDataProc -&gt; ICMDecompressionSession -&gt; CIImage -&gt; NSOpenGLView 
      sub-class
    * Supports real-time scaling of video preview (live-resizing)
    * Supports setting video preview codec quality (low, normal, high, etc.)
    * Supports dynamic throttling of video preview fps
    * Shows standard SGSettingsDialog for video channel configuration
    
Audio-specific points of interest:
    * Demonstrates use of the new SGAudioChannel
    * Includes a sample SGSettingsDialog panel UI for the SGAudioChannel
      (The QT 7 SGAudioChannel implementation does not implement the
      SGSettingsDialog interface).
    * Demonstrates getting/setting most SGAudioChannel properties, including:
        ** Listing record devices
        ** Selection of record device
        ** Selection of record device input selection
        ** Selection of record device stream format
        ** Setting of record device master and per-channel gain 
           (in hardware or software)
        ** Enabling/disabling source channels on record device
        ** Assignment of audio channel labels to source channels
        ** Solo'ing and muting of source record channels
        ** Record device per-channel level metering
        ** Listing of preview devices
        ** Selection of preview device
        ** Selection of preview device output selection
        ** Selection of preview device stream format
        ** Setting of preview device master gain
        ** Hardware playthru or software real-time preview
        ** Selection of output format (including VBR formats,
           sample rate conversion, down-mixing, etc.)
    * Demonstrates insertion of FX AudioUnits into the SGAudioChannel record
      chain using the SGAudioChannelCallback mechanism
      
      
      
      
It is important to adopt the new SGAudioChannel over the SoundMediaType 
SGChannel, as the SoundMediaType channel is in maintenance mode (not
deprecated in the headers, but not undergoing any active development either).
The best sources of information about the SGAudioChannel (besides the code
within this sample app) are QuickTimeComponents.h's inline documentation,
&quot;What's New in QuickTime 7&quot; PDF, and the QuickTime 7 developer documentation.</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/WhackedTV/listing1.html%3Fid%3DDTS10003727-3.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/WhackedTV/listing1.html%3Fid%3DDTS10003727-3.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/WhackedTV/listing1.html%3Fid%3DDTS10003727-3.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>