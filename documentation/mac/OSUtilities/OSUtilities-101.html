<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Geographic Location Record (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING101></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-100.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-102.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-93.html"><B>Chapter 4 - Date, Time, and Measurement Utilities</B></A> / <A HREF="OSUtilities-96.html"><B>Date, Time, and Measurement Utilities Reference</B></A><BR><DL><DD><A HREF="OSUtilities-97.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING101-0></A>
<H3><A NAME=MARKER-9-98></A><A NAME=MARKER-9-99></A><A NAME=MARKER-2-100></A><A NAME=MARKER-2-26></A>The Geographic Location Record</H3>
 The geographic location and time-zone information of a Macintosh computer are stored in extended parameter RAM. The <CODE>MachineLocation</CODE> data type defines the format for the geographic location record.<P>
<PRE>
TYPE MachineLocation =  {geographic location record}
RECORD
   latitude:            Fract;         {latitude}
   longitude:           Fract;         {longitude}
   CASE Integer OF
   0:
      (dlsDelta:        SignedByte);   {daylight saving time}
   1:
      (gmtDelta:        LongInt);      {Greenwich mean time}
END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>latitude</CODE>
<DD> <A NAME=MARKER-2-102></A>The location's latitude, in fractions of a great circle. For example, Copenhagen, Denmark is at 55.43 degrees north latitude. When writing the latitude to extended parameter RAM with the <CODE>WriteLocation</CODE> procedure, you must convert this value to a <CODE>Fract</CODE> data type. (For example, a <CODE>Fract</CODE> value of 1.0 equals 90 degrees; -1.0 equals -90 degrees; and -2.0 equals -180 degrees.) For an example that shows this conversion process, see <A HREF=OSUtilities-95.html#MARKER-9-74>Listing 4-8 on page 4-19</A>. For more information on the <CODE>Fract</CODE> data type, see the chapter "Mathematical and Logical Utilities" in this book.
<DT><CODE>longitude</CODE>
<DD> <A NAME=MARKER-2-103></A>The location's longitude, in fractions of a great circle. For example, Copenhagen, Denmark is at 12.34 degrees east longitude. When writing the longitude to extended parameter RAM with the <CODE>WriteLocation</CODE> procedure, you must convert this value to a <CODE>Fract</CODE> data type. (For example, a <CODE>Fract</CODE> value of 1.0 equals 90 degrees; -1.0 equals -90 degrees; and -2.0 equals -180 degrees.) For an example that shows this conversion process, see <A HREF=OSUtilities-95.html#MARKER-9-74>Listing 4-8 on page 4-19</A>. For more information on the <CODE>Fract</CODE> data type, see the chapter "Mathematical and Logical Utilities" in this book.
<DT><CODE>dlsDelta</CODE>
<DD> A signed byte value representing the hour offset for daylight saving time. This field is a 1-byte value contained in a long word. It should be preserved when writing <CODE>gmtDelta</CODE>. See <A HREF=OSUtilities-95.html#MARKER-9-76>Listing 4-10 on page 4-21</A> for an example that writes <CODE>gmtDelta</CODE> while preserving <CODE>dlsDelta</CODE>.
<DT><CODE>gmtDelta</CODE>
<DD> The Greenwich mean time (GMT). For example, Copenhagen, Denmark is at 1 hour west of GMT. This field is a 3-byte value contained in a long word. In addition, the top byte of this field should be masked off when writing because it is reserved. See <A HREF=OSUtilities-95.html#MARKER-9-75>Listing 4-9 on page 4-20</A> and <A HREF=OSUtilities-95.html#MARKER-9-76>Listing 4-10 on page 4-21</A> for code examples that get and set <CODE>gmtDelta</CODE> properly. 
</DL>
 The <CODE>ReadLocation</CODE> and <CODE>WriteLocation</CODE> procedures use the geographic location record to read and store the geographic location and time zone information in extended parameter RAM. If the geographic location record has never been set, all fields contain 0.<A NAME=MARKER-2-104></A><P>



</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-100.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-102.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
