<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><!-- <script language="JavaScript" src="frametest.js"></script> --><TITLE> Enterprise Objects and the Movies Database</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b> Getting Started With WebObjects</font><br><br><!--end of path --><hr><DIV><a name="top"></a><A HREF="GettingStarted.25.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.26.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.28.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><HR></DIV><H1 CLASS="1Head"><A NAME="pgfId=11056"> </A>Enterprise Objects and the Movies Database</H1><A NAME="pgfId=11093"> </A>Enterprise <A NAME="marker=11092"> </A>Objects Framework manages the interaction between the database and objects in the Movies application. Its primary responsibility is to fetch data from relational databases into <I>enterprise objects</I>. An enterprise object, like any other object, couples data with methods for operating on that data. In addition, an enterprise object has properties that map to stored data. Enterprise object classes typically correspond to database tables. An enterprise object instance corresponds to a single row or record in a database table.</P><A NAME="pgfId=11062"> </A>The Movies application centers around three kinds of enterprise objects: Movies, MovieRoles, and Talents. A movie has many roles, and talents (or actors) play those roles.</P><A NAME="pgfId=11072"> </A>The Movie, MovieRole, and Talent enterprise objects in the Movies application correspond to tables in a relational database. For example, the&nbsp;Talent enterprise object corresponds to the TALENT table in the database, which has LAST_NAME and FIRST_NAME columns. The Talent enterprise object class in turn has <B>lastName</B> and <B>firstName</B> instance variables. In an application, Talent objects are instantiated using the data from a corresponding database row, as shown in the following figure:</P><DIV><IMG SRC="images/DbToEO.gif"><P></DIV><DIV><H3 CLASS="2Head"><A NAME="pgfId=345"> </A>Enterprise Objects and Relationships</H3><A NAME="pgfId=23125"> </A>Relational databases model not just individual entities, but entities' relationships to one another. For example, a movie has zero, one, or more roles. This is modeled in the database by both the MOVIE table and MOVIE_ROLE table having a MOVIE_ID column. In the MOVIE table, MOVIE_ID is a <I>primary key,</I> while in MOVIE_ROLE it's a <I>foreign</I> <I>key</I>.</P><A NAME="pgfId=23126"> </A>A primary key is a column or combination of columns whose values are guaranteed to uniquely identify each row in that table. For example, each row in the MOVIE table has a different value in the MOVIE_ID column, which uniquely identifies that row. Two movies could have the same name but still be distinguished from each other by their MOVIE_IDs. </P><A NAME="pgfId=23852"> </A>A foreign key matches the value of a primary key in another table. The purpose of a foreign key is to identify a relationship from a source table to a destination table. In the following diagram, notice that the value in the MOVIE_ID column for both MOVIE_ROLE rows is 501. This matches the value in the MOVIE_ID column of the &quot;Alien&quot; MOVIE row. In other words, &quot;Ripley&quot; and&nbsp;&quot;Ash&quot; are both roles in the movie &quot;Alien.&quot;</P><DIV><IMG SRC="images/DBREL.gif"><P></DIV><A NAME="pgfId=22832"> </A>Suppose you fetch a Movie object. Enterprise Objects Framework takes the value for the movie's MOVIE_ID attribute and looks up movie roles with the corresponding MOVIE_ID foreign key. The framework then assembles a network of enterprise objects that connects a Movie object with its MovieRole objects. As shown below, a Movie object has an array of its MovieRoles, and the MovieRoles each have a Movie.</P><DIV><IMG SRC="images/EOGRPH.gif"><P></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 24 Aug 99)<P><A HREF="GettingStarted.25.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.26.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.28.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>