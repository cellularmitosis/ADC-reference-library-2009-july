<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- BEGIN META TAG INFO --><link rel="home" href="http://developer.apple.com/">
<link rel="find" href="http://developer.apple.com/search/">
<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
<script language="JavaScript" type="text/javascript" src="../../documentation/js/busnav.js"></script><script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script><!-- END META TAG INFO --><!-- BEGIN TITLE --><title>Technical Note TN2013: The 'plst' Resource</title>
<!-- END TITLE -->
</head>
<!-- BEGIN BODY OPEN --><body bgcolor="#ffffff"><a name="//apple_ref/doc/uid/DTS10003052" title="The 'plst' Resource"></a>
<!-- END BODY OPEN --><!-- START CENTER OPEN --><center>
<!-- END CENTER OPEN --><a name="top"></a><!-- BEGIN LOGO AND SEARCH --><!--#include virtual="/includes/adcnavbar" --><!-- END LOGO AND SEARCH --><!-- START BREADCRUMB --><div id="breadcrumb"><table width="680" border="0" cellpadding="0" cellspacing="0">
<tr>
<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
</tr>
<tr valign="middle"><td align="left" colspan="2">
<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/Carbon/index.html">Carbon</a> &gt; <a href="../../technicalnotes/Carbon/idxRuntimeArchitecture-date.html">Runtime Architecture</a> &gt; </td></tr>
<tr><td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td></tr>
</table></div>
<!-- END BREADCRUMB --><!-- START MAIN CONTENT --><!-- START TITLE GRAPHIC AND INTRO --><table width="680" border="0" cellpadding="0" cellspacing="0"><tr align="left" valign="top"><td><h1>
<div id="pagehead">Technical Note TN2013</div>
<div id="pageheadsub">The 'plst' Resource</div>
</h1></td></tr></table>
<!-- END TITLE GRAPHIC AND INTRO --><!-- BEGIN WIDE COLUMN --><table width="680" border="0" cellpadding="0" cellspacing="0"><tr align="left" valign="top"><td align="left" width="680">
<!-- BEGIN CONTENTS --><table width="680" border="0" cellpadding="0" cellspacing="0">
<tr align="left" valign="top"><td>
<p>This Technote describes the <code>'plst'</code> resource for Carbon-based applications.</p>
<p>This note is directed at anyone who is creating a single-binary Carbon CFM application.</p>
</td></tr>
<tr><td scope="row">
<img width="680" height="10" src="images/1dot.gif" alt=""><br><img width="680" height="1" src="images/1dot_919699.gif" alt=""><br><img width="680" height="20" src="images/1dot.gif" alt="">
</td></tr>
</table>
<table width="680" border="0" cellpadding="0" cellspacing="0">
<tr align="left" valign="top"><td width="680"><ul>
<li><a href="#WHAT_IS_A__PLST___PROPERTY_LIST__RESOURCE_">What is a 'plst' (property list) resource?</a></li>
<li><a href="#HOW_DO_I_MAKE_A__PLST__RESOURCE_">How do I make a 'plst' resource?</a></li>
<li><a href="#WHAT_KEYS_SHOULD_I_USE_">What keys should I use?</a></li>
<li><a href="#A_SAMPLE__PLST_">A sample 'plst'</a></li>
<li><a href="#ADDITIONAL_NOTES___COMMENTS">Additional Notes &amp; Comments</a></li>
<ul>
<li><a href="#ADDITIONAL_NOTES___COMMENTS-CFBUNDLEICONFILE_AND_CFBUNDLETYPEICONFILE">CFBundleIconFile and CFBundleTypeIconFile</a></li>
<li><a href="#ADDITIONAL_NOTES___COMMENTS-CFBUNDLETYPEOSTYPES_OF_CFBUNDLEDOCUMENTTYPES">CFBundleTypeOSTypes of CFBundleDocumentTypes</a></li>
<li><a href="#ADDITIONAL_NOTES___COMMENTS-CFBUNDLEINFODICTIONARYVERSION">CFBundleInfoDictionaryVersion</a></li>
<li><a href="#ADDITIONAL_NOTES___COMMENTS-CSRESOURCESFILEMAPPED">CSResourcesFileMapped</a></li>
<li><a href="#ADDITIONAL_NOTES___COMMENTS-THE__CARB__RESOURCE">The 'carb' resource</a></li>
</ul>
<li><a href="#REFERENCES">References</a></li>
<li><a href="#document_revision_summary">Document Revision History</a></li>
</ul></td></tr>
<tr><td colspan="3" scope="row">
<img width="680" height="10" src="images/1dot.gif" alt=""><br><img width="680" height="1" src="images/1dot_919699.gif" alt=""><br><img width="680" height="20" src="images/1dot.gif" alt="">
</td></tr>
</table>
<a name="WHAT_IS_A__PLST___PROPERTY_LIST__RESOURCE_"></a><h2>What is a 'plst' (property list) resource?</h2>
<ol>
<li><p>A <code>'plst'</code> resource provides the information that previously resided in the <code>'vers'</code>, <code>'open'</code>, <code>'FREF'</code>, <code>'BNDL'</code>, and <code>'kind'</code> resources of pre-Mac OS X systems. In fact, on Mac OS X, the information in a <code>'plst'</code> resource supersedes the information in the old-style resources.</p></li>
<li><p>A <code>'plst'</code> resource is only useful to a single binary CFM Carbon application running on Mac OS X. A <code>'plst'</code> resource is ignored on pre-Mac OS X systems. Therefore you need to maintain your <code>'vers'</code>, <code>'open'</code>, <code>'FREF'</code>, <code>'BNDL'</code>, and <code>'kind'</code> resources if you plan to also run on pre-Mac OS X systems.</p></li>
<li><p>A <code>'plst'</code> resource must be of ID 0.</p></li>
<li><p>The <code>'plst'</code> resource is a single executable's equivalent of a bundled application's Info.plist file.</p></li>
</ol>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="HOW_DO_I_MAKE_A__PLST__RESOURCE_"></a><h2>How do I make a 'plst' resource?</h2>
<p>You can easily create a <code>'plst'</code> resource by hand. A <code>'plst'</code> resource is a list of key/value pairs which you can paste into a <code>'plst'</code> resource in your application. For example, you can create a new resource of type <code>'plst'</code> with ResEdit, and paste in the complete XML plist description. We recommend that you use the XML format for your <code>'plst'</code> resource.</p>
<p>Although there is no <code>'plst'</code> resource template, you could also add the contents of your <code>'plst'</code> file to your project by reading it in with the following line in any .r file:</p>
<pre class="sourcecodebox"> read 'plst' (0) "MyFile.plist"</pre>
<p>If the .r and .plist files are not in the same folder make sure that you use a full or relative path.</p>
<p>You can also use the <code>PropertyListEditor</code> application to create and edit a property list. The <code>PropertyListEditor</code> application can be found on Mac OS X in Developer/Applications provided you have installed the Developer Tools. We recommend that you use the <code>PropertyListEditor</code> to create the text for your <code>'plst'</code>. </p>
<p>The utility "pl" is also available on Mac OS X. You can use "pl" to check the construction of your property list. Usage of this tool in the Terminal application would be, for example:</p>
<pre class="sourcecodebox">pl  yourPropertyListFile</pre>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="WHAT_KEYS_SHOULD_I_USE_"></a><h2>What keys should I use?</h2>
<p>Single-file (non-bundled) applications should define the following keys:</p>
<pre class="sourcecodebox"> CFBundleIdentifier

 CFBundleName

 CFBundlePackageType

 CFBundleSignature

 CFBundleVersion

 CFBundleShortVersionString

 CFBundleLongVersionString

 CFBundleIconFile

 NSHumanReadableCopyright

 NSAppleScriptEnabled</pre>
<p>The <code>CFBundlePackageType</code> (file type) and <code>CFBundleSignature</code> (creator) must match the type and creator of your executable binary.</p>
<p>LaunchServices uses the <code>NSAppleScriptEnabled</code> key in the same way it would the presence of an 'aete' resource to determine whether a Classic or single-file CFM app with plst is scriptable.</p>
<p>Optional, but highly recommended keys:</p>
<pre class="sourcecodebox"> LSPrefersCarbon

 LSPrefersClassic

 LSRequiresCarbon

 LSRequiresClassic</pre>
<div class="notebox"><p><strong>Note: </strong>Only one of the above four keys makes sense for a given app. In the absence of any specific declaration in the <code>'plst'</code> for one of these four keys, the <code>LSPrefersCarbon</code> key is "ON" by default if the app has a <code>'carb'</code> 0 resource but the "<code>LSRequiresCarbon</code>" key is "ON" by default if the app does not have a <code>'carb'</code> 0 resource.</p></div>
<p>The <code>LSPrefersCarbon</code> and <code>LSPrefersClassic</code> keys allow the user to override, via the Mac OS X Finder's Show Info "Open in the Classic environment" check-box, the developer-provided default, while the <code>LSRequiresCarbon</code> and <code>LSRequiresClassic</code> keys do not. </p>
<p>If your application supports documents, it can also define an entry per document type that includes the following: </p>
<ul>
<li><p><code>CFBundleTypeExtensions</code> - Extensions for this file type</p></li>
<li><p><code>CFBundleTypeOSTypes</code> - OSTypes for this file type</p></li>
<li><p><code>CFBundleTypeIconFile</code> - Resource ID for the icon for this file type</p></li>
<li><p><code>CFBundleTypeName</code> - User visible name for this file type, i.e., the kind string used by the Finder and others.</p></li>
<li><p><code>CFBundleTypeRole</code> - Role of the application for this file type (Editor/Viewer)</p></li>
<li><p><code>LSTypeIsPackage</code> - This document type is a package, whether defined by a <code>CFBundleOSType</code> or <code>CFBundleFileExtension</code>. "Off" by default. Applications that claim package types for documents (such as .rtfd for TextEdit and .pbproj for Project Builder) should add this key (with Boolean value Yes). </p></li>
</ul>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="A_SAMPLE__PLST_"></a><h2>A sample 'plst'</h2>
<p>Here's a sample <code>'plst'</code> resource that SimpleText might have:</p>
<pre class="sourcecodebox">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist SYSTEM "file://localhost/System/Library/DTDs/PropertyList.dtd"&gt;
&lt;plist version="0.9"&gt;
&lt;dict&gt;
    &lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;
    &lt;string&gt;6.0&lt;/string&gt;
    &lt;key&gt;CFBundleIdentifier&lt;/key&gt;
    &lt;string&gt;com.apple.SimpleText&lt;/string&gt;
    &lt;key&gt;CFBundleName&lt;/key&gt;
    &lt;string&gt;Simple Text&lt;/string&gt;
    &lt;key&gt;CFBundlePackageType&lt;/key&gt;
    &lt;string&gt;APPL&lt;/string&gt;
    &lt;key&gt;CFBundleSignature&lt;/key&gt;
    &lt;string&gt;ttxt&lt;/string&gt;
    &lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;
    &lt;string&gt;English&lt;/string&gt;
    &lt;key&gt;LSPrefersCarbon&lt;/key&gt;
    &lt;true/&gt;
    &lt;key&gt;CFBundleVersion&lt;/key&gt;
    &lt;string&gt;1.4&lt;/string&gt;
    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;
    &lt;string&gt;1.4&lt;/string&gt;
    &lt;key&gt;CFBundleLongVersionString&lt;/key&gt;
    &lt;string&gt;1.4, Copyright 1985-2001 Apple Computer&lt;/string&gt;
    &lt;key&gt;CFBundleIconFile&lt;/key&gt;
    &lt;string&gt;128&lt;/string&gt;
    &lt;key&gt;NSAppleScriptEnabled&lt;/key&gt;
    &lt;string&gt;Yes&lt;/string&gt;
    &lt;key&gt;NSHumanReadableCopyright&lt;/key&gt;
    &lt;string&gt;Copyright (c) 1985-2001 Apple Computer&lt;/string&gt;
    &lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;
    &lt;array&gt;
        &lt;dict&gt;
            &lt;key&gt;CFBundleTypeOSTypes&lt;/key&gt;
            &lt;array&gt;
                &lt;string&gt;TEXT&lt;/string&gt;
            &lt;/array&gt;
            &lt;key&gt;CFBundleTypeIconFile&lt;/key&gt;
            &lt;string&gt;129&lt;/string&gt;
            &lt;key&gt;CFBundleTypeName&lt;/key&gt;
            &lt;string&gt;Text document&lt;/string&gt;
            &lt;key&gt;CFBundleTypeExtensions&lt;/key&gt;
            &lt;array&gt;
                &lt;string&gt;txt&lt;/string&gt;
                &lt;string&gt;text&lt;/string&gt;
            &lt;/array&gt;
            &lt;key&gt;CFBundleTypeRole&lt;/key&gt;
            &lt;string&gt;Editor&lt;/string&gt;
        &lt;/dict&gt;
        &lt;dict&gt;
            &lt;key&gt;CFBundleTypeOSTypes&lt;/key&gt;
            &lt;array&gt;
                &lt;string&gt;ttro&lt;/string&gt;
            &lt;/array&gt;
            &lt;key&gt;CFBundleTypeIconFile&lt;/key&gt;
            &lt;string&gt;130&lt;/string&gt;
            &lt;key&gt;CFBundleTypeName&lt;/key&gt;
            &lt;string&gt;Read Only document&lt;/string&gt;
            &lt;key&gt;CFBundleTypeRole&lt;/key&gt;
            &lt;string&gt;Viewer&lt;/string&gt;
        &lt;/dict&gt;
        &lt;dict&gt;
            &lt;key&gt;CFBundleTypeOSTypes&lt;/key&gt;
            &lt;array&gt;
                &lt;string&gt;PICT&lt;/string&gt;
            &lt;/array&gt;
            &lt;key&gt;CFBundleTypeIconFile&lt;/key&gt;
            &lt;string&gt;131&lt;/string&gt;
            &lt;key&gt;CFBundleTypeName&lt;/key&gt;
            &lt;string&gt;PICT document&lt;/string&gt;
            &lt;key&gt;CFBundleTypeExtensions&lt;/key&gt;
            &lt;array&gt;
                &lt;string&gt;pict&lt;/string&gt;
            &lt;/array&gt;
            &lt;key&gt;CFBundleTypeRole&lt;/key&gt;
            &lt;string&gt;Viewer&lt;/string&gt;
        &lt;/dict&gt;
    &lt;/array&gt;
&lt;/dict&gt;
&lt;/plist&gt;</pre>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="ADDITIONAL_NOTES___COMMENTS"></a><h2>Additional Notes &amp; Comments</h2>
<a name="ADDITIONAL_NOTES___COMMENTS-CFBUNDLEICONFILE_AND_CFBUNDLETYPEICONFILE"></a><h3>CFBundleIconFile and CFBundleTypeIconFile</h3>
<p>The <code>CFBundleIconFile</code> and <code>CFBundleTypeIconFile</code> values refer to <code>'icns'</code> resource ids. If your app were packaged as a bundle, rather than a single binary app, the values would refer to .icns files within your bundle. You may need to log out/log in to Mac OS X to see the result of modifications to these and other keys.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="ADDITIONAL_NOTES___COMMENTS-CFBUNDLETYPEOSTYPES_OF_CFBUNDLEDOCUMENTTYPES"></a><h3>CFBundleTypeOSTypes of CFBundleDocumentTypes</h3>
<p>As stated in <a href="/technotes/tn/tn1085.html">Technical Note TN1085, 'Using the Drag Manager to Interact with and Manipulate File System Entities'</a>, the <code>fileCreator</code> <code>'MACS'</code> and the fileType <code>'fold'</code> and <code>'disk' </code> tell the Finder that your application will accept folders and volumes dropped onto your application's icon. These types are also honored as valid <code>CFBundleTypeOSTypes</code>, however there is no need to specify creator because only type is used to determine whether a file is accepted. This is similar to placing an extension on a document and specifying that extension as a <code>CFBundleTypeExtension</code> value.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="ADDITIONAL_NOTES___COMMENTS-CFBUNDLEINFODICTIONARYVERSION"></a><h3>CFBundleInfoDictionaryVersion</h3>
<p>The CFBundleInfoDictionaryVersionkey is simply the version of the info dictionary format itself, so that in case Apple ever decides to change this format in the future we will be able to distinguish old from new. The value for this key should be 6.0</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="ADDITIONAL_NOTES___COMMENTS-CSRESOURCESFILEMAPPED"></a><h3>CSResourcesFileMapped</h3>
<p>The CSResourcesFileMappedkey causes the CFBundle to open the resource fork as a mapped read-only file; attempts to write to this file would fail with a seg fault. There are two memory footprint advantages to adopting this key. The first is that the resource-map is not copied into memory (the in-file map is just used). The second one is that all handles are special handles that just point to the file mapped data (instead of an allocated copy). This key is a boolean, and by default its value is false.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="ADDITIONAL_NOTES___COMMENTS-THE__CARB__RESOURCE"></a><h3>The 'carb' resource</h3>
<p>An empty (0-byte length) <code>'carb'</code> resource of ID 0 was an early method of informing Mac OS X that the application possessing the <code>'carb'</code> resource was a Carbon application. The <code>'plst'</code> resource supersedes the <code>'carb'</code> resource, except in one case: on Mac OS 9.1, the Process Manager will arrange for increased stack and heap memory for a Carbon application provided the application possesses a <code>'carb'</code> 0 resource.</p>
<p style="margin-top:-10px"><a href="#top">Back to Top </a><a href="#top"><img src="images/arrow_linkup.gif" height="7" width="10" border="0" alt=""></a></p>
<a name="REFERENCES"></a><h2>References</h2>
<p>You can find information related to this topic in the Mac OS X Release Notes for <a href="http://developer.apple.com/documentation/ReleaseNotes/InfoPlist.html">InfoPlists</a> and <a href="http://developer.apple.com/documentation/ReleaseNotes/CFBundleAndCFPlugIn.html">CFBundles</a>, and in the <a href="http://developer.apple.com/documentation/macosx/Essentials/devessentials.html">System Overview</a> book, and in Core Foundation documentation concerning <a href="http://developer.apple.com/documentation/CoreFoundation/BundleServices/Bundle_Services/">CFBundles</a>.</p>
<p>A good place to start for information about XML is the <a href="http://www.xml.com/">www.XML.com</a> website.</p>
<a name="document_revision_summary"></a><h2>Document Revision History</h2>
<table cellspacing="0" class="graybox" width="680">
<tr>
<th width="100">Date</th>
<th width="580">Notes</th>
</tr>
<tr>
<td scope="row">2002-02-07</td>
<td>Describes the 'plst' resource for Carbon-based applications.</td>
</tr>
</table>
<p><b>Posted: </b>2002-02-07</p>
<!-- END CONTENTS -->
</td></tr></table>
<!-- END WIDE COLUMN --><!-- END MAIN CONTENT --><!-- START BOTTOM APPLE NAVIGATION -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn2013.html%3Fid%3DDTS10003052-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn2013.html%3Fid%3DDTS10003052-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn2013.html%3Fid%3DDTS10003052-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer" --><!-- END BOTTOM APPLE NAVIGATION --><!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->
</body>
</html>
