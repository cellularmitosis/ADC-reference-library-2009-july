<html><head><title>Mac OS X
 Manual Page For newsyslog(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/newsyslog" title="Mac OS X
 Manual Page for newsyslog(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/newsyslog"; name=newsyslog(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
NEWSYSLOG(8)              BSD System Manager's Manual             NEWSYSLOG(8)

<b>NAME</b>
     <b>newsyslog</b> -- maintain system log files to manageable sizes

<b>SYNOPSIS</b>
     <b>newsyslog</b> [<b>-CFNnrsv</b>] [<b>-R</b> <u>tagname</u>] [<b>-a</b> <u>directory</u>] [<b>-d</b> <u>directory</u>] [<b>-f</b> <u>config</u><b>_</b><u>file</u>] [<u>file</u> <u>...</u>]

<b>DESCRIPTION</b>
     The <b>newsyslog</b> utility should be scheduled to run periodically by <a href="cron.8.html#//apple_ref/doc/man/8/cron">cron(8)</a>.  When it is executed it ar-<font color="#ffffff" class="whiteout">chives&nbsp;archives</font>
     chives log files if necessary.  If a log file is determined to require archiving, <b>newsyslog</b> rearranges
     the files so that ``<u>logfile</u>'' is empty, ``<u>logfile</u>.0'' has the last period's logs in it, ``<u>logfile</u>.1''
     has the next to last period's logs in it, and so on, up to a user-specified number of archived logs.
     Optionally the archived logs can be compressed to save space.

     A log can be archived for three reasons:

           1.   It is larger than the configured size (in kilobytes).

           2.   A configured number of hours have elapsed since the log was last archived.

           3.   This is the specific configured hour for rotation of the log.

     The granularity of <b>newsyslog</b> is dependent on how often it is scheduled to run by <a href="cron.8.html#//apple_ref/doc/man/8/cron">cron(8)</a>.  Since the
     program is quite fast, it may be scheduled to run every hour without any ill effects, and mode three
     (above) assumes that this is so.

<b>OPTIONS</b>
     The following options can be used with <b>newsyslog</b>:

     <b>-f</b> <u>config</u><b>_</b><u>file</u>
             Instruct <b>newsyslog</b> to use <u>config</u><b>_</b><u>file</u> instead of <u>/etc/newsyslog.conf</u> for its configuration
             file.

     <b>-a</b> <u>directory</u>
             Specify a <u>directory</u> into which archived log files will be written.  If a relative path is
             given, it is appended to the path of each log file and the resulting path is used as the direc-<font color="#ffffff" class="whiteout">tory&nbsp;directory</font>
             tory into which the archived log for that log file will be written.  If an absolute path is
             given, all archived logs are written into the given <u>directory</u>.  If any component of the path
             <u>directory</u> does not exist, it will be created when <b>newsyslog</b> is run.

     <b>-d</b> <u>directory</u>
             Specify a <u>directory</u> which all log files will be relative to.  To allow archiving of logs out-<font color="#ffffff" class="whiteout">side&nbsp;outside</font>
             side the root, the <u>directory</u> passed to the <b>-a</b> option is unaffected.

     <b>-v</b>      Place <b>newsyslog</b> in verbose mode.  In this mode it will print out each log and its reasons for
             either trimming that log or skipping it.

     <b>-n</b>      Cause <b>newsyslog</b> not to trim the logs, but to print out what it would do if this option were not
             specified.

     <b>-r</b>      Remove the restriction that <b>newsyslog</b> must be running as root.  Of course, <b>newsyslog</b> will not
             be able to send a HUP signal to <a href="syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a> so this option should only be used in debugging.

     <b>-s</b>      Specify that <b>newsyslog</b> should not send any signals to any daemon processes that it would nor-<font color="#ffffff" class="whiteout">mally&nbsp;normally</font>
             mally signal when rotating a log file.  For any log file which is rotated, this option will
             usually also mean the rotated log file will not be compressed if there is a daemon which would
             have been signalled without this option.  However, this option is most likely to be useful when
             specified with the <b>-R</b> option, and in that case the compression will be done.

     <b>-C</b>      If specified once, then <b>newsyslog</b> will create any log files which do not exist, and which have
             the <b>C</b> flag specified in their config file entry.  If specified multiple times, then <b>newsyslog</b>
             will create all log files which do not already exist.  If log files are given on the command-<font color="#ffffff" class="whiteout">line,&nbsp;commandline,</font>
             line, then the <b>-C</b> or <b>-CC</b> will only apply to those specific log files.

     <b>-F</b>      Force <b>newsyslog</b> to trim the logs, even if the trim conditions have not been met.  This option
             is useful for diagnosing system problems by providing you with fresh logs that contain only the
             problems.

     <b>-N</b>      Do not perform any rotations.  This option is intended to be used with the <b>-C</b> or <b>-CC</b> options
             when creating log files is the only objective.

     <b>-R</b> <u>tagname</u>
             Specify that <b>newsyslog</b> should rotate a given list of files, even if trim conditions are not met
             for those files.  The <u>tagname</u> is only used in the messages written to the log files which are
             rotated.  This differs from the <b>-F</b> option in that one or more log files must also be specified,
             so that <b>newsyslog</b> will only operate on those specific files.  This option is mainly intended
             for the daemons or programs which write some log files, and want to trigger a rotate based on
             their own criteria.  With this option they can execute <b>newsyslog</b> to trigger the rotate when
             they want it to happen, and still give the system administrator a way to specify the rules of
             rotation (such as how many backup copies are kept, and what kind of compression is done).  When
             a daemon does execute <b>newsyslog</b> with the <b>-R</b> option, it should make sure all of the log files
             are closed before calling <b>newsyslog</b>, and then it should re-open the files after <b>newsyslog</b>
             returns.  Usually the calling process will also want to specify the <b>-s</b> option, so <b>newsyslog</b>
             will not send a signal to the very process which called it to force the rotate.  Skipping the
             signal step will also mean that <b>newsyslog</b> will return faster, since <b>newsyslog</b> normally waits a
             few seconds after any signal that is sent.

     If additional command line arguments are given, <b>newsyslog</b> will only examine log files that match those
     arguments; otherwise, it will examine all files listed in the configuration file.

<b>FILES</b>
     /etc/newsyslog.conf      <b>newsyslog</b> configuration file

<b>COMPATIBILITY</b>
     Previous versions of the <b>newsyslog</b> utility used the dot (``.'') character to distinguish the group
     name.  Beginning with FreeBSD 3.3, this has been changed to a colon (``:'') character so that user and
     group names may contain the dot character.  The dot (``.'') character is still accepted for backwards
     compatibility.

<b>HISTORY</b>
     The <b>newsyslog</b> utility originated from NetBSD and first appeared in FreeBSD 2.2.

<b>AUTHORS</b>
     Theodore Ts'o, MIT Project Athena

     Copyright 1987, Massachusetts Institute of Technology

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/bzip2.1.html#//apple_ref/doc/man/1/bzip2">bzip2(1)</a>, <a href="../man1/gzip.1.html#//apple_ref/doc/man/1/gzip">gzip(1)</a>, <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>, <a href="../man5/newsyslog.conf.5.html#//apple_ref/doc/man/5/newsyslog.conf">newsyslog.conf(5)</a>, <a href="chown.8.html#//apple_ref/doc/man/8/chown">chown(8)</a>, <a href="syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a>

<b>BUGS</b>
     Does not yet automatically read the logs to find security breaches.

BSD                            February 24, 2005                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/newsyslog.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/newsyslog.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/newsyslog.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
