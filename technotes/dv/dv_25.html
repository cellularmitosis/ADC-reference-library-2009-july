<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 01-August-01 --><!-- Includes revisions to graphics tags --><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note DV25: CD Remote Database Format</title><meta name="keywords" content="Mac OS 8 CD Remote Programs database IndX ProG STR# "><meta name="Description" content="Technical Note DV25: This Technical Note describes the formatof the CD Remote Programs database, as used in the CD Remotedesk accessory, the Hypercard CD Audio XCMDs, etc. Providedare the formats of the 'IndX' resource, the 'ProG' resource,and the 'STR#' resource; also included are the ResEdit templatesfor each of these resources."><meta name="categories" content="Devices"><meta name="week-posted" content="Jan 31, 1994 - Feb 4, 1994"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002414" title="CD Remote Database Format"></a><A NAME="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxAppleApplications-date.html">Apple Applications</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/AppleApplications/index.html" target="_blank">Reference Library > Apple Applications</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note DV25</div>
<div id="pageheadsub">CD Remote Database Format</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->					<p id="menutext"><A HREF="#Section1">Introduction</A><BR><BR><A HREF="#Section2">'IndX' Resource Format</A><BR><BR><A HREF="#Section3">'ProG' Resource Format</A><BR><BR><A HREF="#Section4">'STR#' Resource</A><BR><BR><A HREF="#references">References</A><BR><BR><A HREF="#downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">This Technote describes the format of the "CD Remote Programs" database, as used in the "CD Remote" desk accessory, the Hypercard CD Audio XCMDs, etc.</P><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Oct 01 1997]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content --><A NAME=Section1></A><h2>Introduction</h2><P>The file "CD Remote Programs" is used by the CD Remote desk accessory,AppleCD Audio Player, and other applications to retain information aboutan audio CD. This file contains some master data in an <code>`IndX'</code>resource. For each CD that has been entered into the database, a resourceof type <code>`ProG'</code> and a resource of type <code>`STR#'</code> are kept.There is only one <code>`IndX'</code> resource, number 128, in the "CD RemotePrograms" file. There is a <code>`ProG'</code> and <code>`STR#'</code> resourcefor each CD which has been entered into the database. The number of the<code>`ProG'</code> and <code>`STR#' </code>resource are the same number for eachCD. This number is generated by a call to<code> Unique1ID.</code></P><P><A HREF="#top">Back to top</A></P><a name="Section2"></a><h2>'IndX' Resource Format</h2><P>The initial two bytes of the <code>'IndX'</code> resource are a version number.The next two bytes are the number of CDs in the database. The <code>`IndX'</code>resource contains a six byte entry for each CD. The first byte is the numberof tracks on the CD. The next three bytes are the playing length of theCD in minutes, seconds, and blocks (1/75 of a second), in BCD. The lasttwo bytes are the resource number of the <code>ProG</code> and <code>STR#</code>resources for this CD. Whenever a new CD is entered into the database,a new resource number is obtained by calling the Resource Manager routine<code>Unique1ID</code>.</P><P>An example <code>IndX</code> resource:</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>1214 0002 0B50 0240 276B 0C44 1365 1D0C</pre>	</TD></TR></TABLE></CENTER><P>You would interpret this as:</P><P>version number: $1214</P><P>number of discs we know about: 2</P><P>number of tracks on first disc: 11</P><P>CD Identification: $500240; this is 50 minutes, 02 seconds, and40 blocks (1/75 of a second)</P><P>Resource ID for <code>ProG</code> and <code>STR#</code> resources: 10091</P><P>number of tracks on second disc: 12</P><P>CD Identification: $441365; this is 44 minutes, 13 seconds, and65 blocks (1/75 of a second)</P><P>Resource ID for <code>ProG</code> and <code>STR#</code> resources: 7436</P><P>The ResEdit TMPL template for the <code>`IndX'</code> resource is as follows:</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>resource 'TMPL' (128, "IndX", purgeable) {         {         /* array ItemArray: 7 elements */                   /* [1] */                   "Version Number",                   'HWRD',                   /* [2] */                   "Number of CDs",                   'OCNT',                   /* [3] */                   "****",                   'LSTC',                   /* [4] */                   "Number of tracks",                   'DBYT',                   /* [5] */                   "Number of blocks on CD",                   'H003',                   /* [6] */                   "Resource ID of ProG and STR#",                   'DWRD',                   /* [7] */                   "****",                   'LSTE'          }};</pre>	</TD></TR></TABLE></CENTER><P><A HREF="#top">Back to top</A></P><a name="Section3"></a><h2>'ProG' Resource Format</h2><P>The <code>'ProG'</code> resource contains the sequence for playing the audiotracks. By default, it goes from 1 to <I>n</I>, where <I>n</I> is the numberof tracks on the CD. The numbers are stored in Binary Coded Decimal.</P><P>An example <code>ProG</code> resource:</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>000B 0101 0102 0103 0104 0105 0107 0106 0008 0109 0110 0111</pre>	</TD></TR></TABLE></CENTER><P>You would interpret this as:</P><P>11 tracks on this disc.</P><P>Play track 7 before track 6</P><P>Don't play track 8</P><P>The ResEdit TMPL template for the <code>`ProG'</code> resource is as follows:</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>resource 'TMPL' (129, "ProG", purgeable)            {        /* array ItemArray: 5 elements */                     /* [1] */                     "Number of tracks",                     'OCNT',                     /* [2] */                     "****",                     'LSTC',                     /* [3] */                     "Play this track (1 = yes)",                     'DBYT',                     /* [4] */                     "Track number in BCD",                     'HBYT',                     /* [5] */                     "****",                     'LSTE'            }};</pre>	</TD></TR></TABLE></CENTER><P><A HREF="#top">Back to top</A></P><a name="Section4"></a><h2>'STR#' Resource</h2><P>Each <code>`STR#'</code> resource contains a list of strings. The first stringin each resource is the volume title. The next <I>n</I> strings containthe titles of each of the tracks on the CD. This order matches with the<code>`ProG'</code> resource order; the <I>nth+1</I> title is for track <I>n</I>only if the <code>`ProG'</code> resource is in normal, default order. If theuser has changed the track order, the order of the strings in the <code>STR#</code>resource changes as well.</P><P>The <code>STR#</code> resource format is two bytes containing the numberof strings, followed by the strings. Each string is a one-byte length followedby the characters. The ResEdit template for <code>STR#</code> resources ispredefined in ResEdit. If it were not, it would look like this:</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>resource 'TMPL' (258, "STR#", purgeable)             {       /* array ItemArray: 4 elements */                     /* [1] */                     "NumStrings",                     'OCNT',                     /* [2] */                     "*****",                     'LSTC',                     /* [3] */                     "The string",                     'PSTR',                     /* [4] */                     "*****",                     'LSTE'              }};</pre>	</TD></TR></TABLE></CENTER><P><A HREF="#top">Back to top</A></P><a name="references"></a><h2>References</h2><P><a href="http://developer.apple.com/documentation/mac/Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A>, <I>The Resource Manager</I></p><P>DV 22 - <A HREF = "dv_22.html">CD-ROM Driver Calls</A></p><P><A HREF="#top">Back to top</A></P>         <a name="downloads"></a>         <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center>                                    <img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (52K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/dv_25.pdf">Download</A></P>               </TD>            </TR>         </TABLE>         <BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/dv/dv_25.html%3Fid%3DDTS10002414-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/dv/dv_25.html%3Fid%3DDTS10002414-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/dv/dv_25.html%3Fid%3DDTS10002414-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>