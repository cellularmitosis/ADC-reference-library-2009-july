<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>CMFlattenProfile(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING230></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-229.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-231.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-218.html"><B>ColorSync Manager Functions</B></A><BR><DL><DD><A HREF="ACIReference-219.html"><B>Accessing Profiles</B></A> / <A HREF="ACIReference-204.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING230-0></A>
<H3><A NAME=MARKER-11-341></A><A NAME=MARKER-9-342></A>CMFlattenProfile</H3>
 Transfers a profile stored in an independent disk file to an external profile format that can be embedded in a graphics document. <P>
<PRE>
pascal CMError CMFlattenProfile (
CMProfileRef prof, 
unsigned long flags, 
CMFlattenUPP proc,
void *refCon, 
Boolean *preferredCMMnotfound);
</PRE>
<DL>
<DT><CODE>prof</CODE>
<DD> A profile reference <A HREF=ACIReference-210.html#MARKER-9-299>(page 3-63)</A> to the profile to flatten. 
<DT><CODE>flags</CODE>
<DD> Reserved for future use. 
<DT><CODE>proc</CODE>
<DD> A pointer to a function that you provide to perform the low-level data transfer. For a description of the <CODE>MyColorSyncDataTransfer</CODE> function, see page <A HREF=ACIReference-309.html#MARKER-9-471>3-167</A>.
<DT><CODE>refCon</CODE>
<DD> A reference constant for application data which the color management module (CMM) passes to the <CODE>MyColorSyncDataTransfer</CODE> function each time it calls the function. For example, the reference constant may point to a data structure that holds information required by the <CODE>MyColorSyncDataTransfer</CODE> function to perform the data transfer, such as the reference number to a disk file in which the flattened profile is to be stored.
<DT><CODE>preferredCMMnotfound</CODE>
<DD> A pointer to a Boolean value indicating whether the preferred CMM was found. On output, has the value <CODE>true</CODE> if the CMM specified by the profile was not available to perform flattening or does not support this function and the default Apple CMM was used. Has the value <CODE>false</CODE> if the profile's preferred CMM <I>is</I> able to perform flattening.
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-174)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING230-9></A>
<H5>DISCUSSION</H5>
 The ColorSync Manager dispatches the <CODE>CMFlattenProfile</CODE> function to the CMM specified by the profile whose reference you provide. If the preferred CMM is unavailable or it doesn't support this function, then the default Apple CMM is used. <P>
 The ColorSync Manager passes to the CMM the pointer to your profile-flattening function. The CMM calls your <CODE>MyColorSyncDataTransfer</CODE> function <A HREF=ACIReference-309.html#MARKER-9-471>(page 3-167)</A> to perform the actual data transfer. <P>
<A NAME=HEADING230-12></A>
<H5>SEE ALSO</H5>
 To unflatten a profile embedded in a graphics document to an independent disk file, use the <CODE>CMUnflattenProfile</CODE> function <A HREF=ACIReference-231.html#MARKER-9-344>(page 3-84)</A>. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-229.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-231.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
