<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Separation of Application and Driver Services</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.6f.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.71.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3377"> </A><A NAME="20705"> </A>Separation of Application and Driver Services</H1><P CLASS="T1.Text1"><A NAME="pgfId=3378"> </A>Previous versions of Mac&nbsp;OS had only one kind of operating-system interface, an application programming interface (API). This meant that all Mac&nbsp;OS services were available to all varieties of Macintosh software. With the introduction of Power Macintosh computers with the PCI bus, Apple starts distinguishing between APIs and driver services. The distinction must be made because programming contexts are becoming increasingly specialized as Mac&nbsp;OS evolves.</P><P CLASS="T1.Text1"><A NAME="pgfId=3379"> </A>In the native driver model, Toolbox services (for example, the <TT CLASS="cv">ModalDialog</TT> function and Menu Manager calls) are not available to drivers. Drivers operate outside the user interface and the application software environment.</P><DIV><blockquote><p CLASS="NoteHead"><b><A NAME="pgfId=14169"> </A>Note</b></p><P CLASS="Note"><A NAME="pgfId=3380"> </A>The Device Manager presents an API for generic drivers, as described in <A HREF="PCI_BOOK.77.html#30932" CLASS="XRef">Generic and Family Drivers</A>. </P></blockquote><P CLASS="T1.Text1"><A NAME="pgfId=3387"> </A>Family services required by device drivers are provided by family experts, using family libraries. These services are also not available to applications. </P><P CLASS="T1.Text1"><A NAME="pgfId=3388"> </A>The separation of application and driver services in Mac&nbsp;OS is a big change that starts with the Power Macintosh computers with the PCI bus architecture. The difference between the old API model and the new API/driver services model is diagrammed in <A HREF="PCI_BOOK.70.html#24216" CLASS="XRef">Figure&nbsp;6-1</A>.</P><P CLASS="T1.Text1"><A NAME="pgfId=3773"> </A>To help ensure compatibility with future releases of the Mac OS, native drivers should not use Mac OS Toolbox APIs. However, there may be instances where use of such calls is difficult to avoid, but native drivers using Toolbox calls may not work in the future. An example of using the new native driver APIs as opposed to the Toolbox APIs would be to use the Name Registry functions to store device configuration information rather than the Resource Manager. See <A HREF="PCI_BOOK.90.html#32653" CLASS="XRef">Driver Migration</A> and <A HREF="PCI_BOOK.a4.html#30915" CLASS="XRef">Device Configuration</A> for additional information. </P><P CLASS="Fg.Figure"><B><A NAME="pgfId=3396"> </A>Figure&nbsp;6-1	<A NAME="24216"> </A>New system model</B></P><DIV><IMG SRC="PCI-L-21.gif"></DIV></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.6f.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.6f.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.71.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>