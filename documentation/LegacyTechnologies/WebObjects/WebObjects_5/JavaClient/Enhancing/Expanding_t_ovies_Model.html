<HTML>		<HEAD>        <title>Expandingthe Movies Model</title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Adding_Relationships.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Adding_Beha_ise_Objects.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF134"></a><h2><font face="Helvetica,Arial,Lucida Grande">Expandingthe Movies Model</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">You are almost ready to add custom behavior to your enterpriseobjects. But first you need to add additional relationships to theMovies model.</font></p><p><font face="Times">If you used the example Movies model, you can skip most ofthis section. However, you should, review  <a href="#BCIIICDI">Table 3-1</a> to make sure that therelationship names in the your model match the ones defined in thetable.</font></p><p><font face="Times">Movies tell stories using a series of events or <em>plot</em>.In the plot, people or objects interact according to their particularroles in the movie. Those <em>movie roles</em> are portrayedby actors, or <em>talent</em>. To help cast a movie,actors' <em>photos</em> can be examined to determineif they have the appropriate "look" for a role.</font></p><p><font face="Times">In the Movies model, Movie is associated to PlotSummary throughthe <code>plotSummary</code> relationship.There are reciprocal relationships between the Movie and MovieRoleobjects. The Movie entity has a <code>movieRoles</code> relationshipthat associates a Movie with its MovieRoles. In turn, the MovieRoleentity has a <code>movie</code> relationshipthat associates a MovieRole with the Movie that it belongs to.</font></p><p><font face="Times">The Talent entity has relationships that associate it withthe TalentPhoto and MovieRole entities. The <code>movieRoles</code> relationshipdetermines the roles the Talent object (actor) stars in. The <code>photo</code> relationshipassociates Talent objects with the actor's picture, or TalentPhoto object.</font></p><p><font face="Times">You will now add the remaining relationships to the model.</font></p><ol><p><li>Open theMovies model file.<p>In the Groups & Files list of ProjectBuilder's main window, open the Resources group.</p><p>Double-click <code>Movies.eomodeld</code>.</p></li></p><p><li>Add the Movie to MovieRole relationship.<ol><p><li>Create the relationship.<p>Selectthe Movie entity.</p><p>Choose Property &gt; Add Relationship.</p><p>ChooseTools &gt; Inspector.</p><p>Select To Many in the Destinationgroup.</p><p>Select MovieRole as the destination entity.</p><p>SelectmovieId as the source attribute in the Joins group.</p><p>SelectmovieId as the destination attribute.</p><p>Click Connect.</p><p>EOModelernames the relationship <code>movieRoles</code> becausethe relationship's target is MovieRole and it's a to-many relationship.It is strongly recommended that you use the names that EOModelerprovides as they describe both the target of the relationship andits type. However, you are free to use a naming convention that willhelp the users of your model to easily understand it.</p></li></p><p><li>Make the relationship a client-side class property.<p>Inthe Movie Relationships Table, click in the  <img src = "../Art/clientsideclassproperty.gif" alt = "[image: ../Art/clientsideclassproperty.gif]"> column inthe movieRoles relationship information row, to make it a client-sideclass property.</p></li></p></ol></li></p><p><li>Add the MovieRole to Movie relationship.<ol><p><li>Create the relationship.<p>Selectthe MovieRole entity.</p><p>Choose Property &gt; Add Relationship.</p><p>EnsureTo One is selected in the Destination group.</p><p>SelectMovie as the destination entity.</p><p>Ensure movieId is selectedas the source and destination attribute.</p><p>Click Connect.</p><p>EOModelernames the relationship "movie."</p></li></p><p><li>Make the relationship a client-side class property.<p>Inthe MovieRoles Relationships table, click in the  <img src = "../Art/clientsideclassproperty.gif" alt = "[image: ../Art/clientsideclassproperty.gif]"> column in the movie relationshipinformation row, to make it a client-side class property.</p></li></p></ol></li></p><p><li>Add the remaining relationships.<p> <a href="#BCIIICDI">Table 3-1</a> lists all the relationshipsthat the Movies model should contain. Make sure all of them areentered in your model. Also remember to make them client-side class properties(see  <a href="Adding_Relationships.html#BCIEIGHI" target = "_right">"Using EOModeler to Add Relationships"</a> for details).</p><br><table border = "1"><a name = "BCIIICDI"></a><caption><strong>Table3-1 Movies model relationships</strong></caption><font face="Helvetica,Arial,Lucida Grande"><b><tr><td scope="row">Source</td><td>Destination</td><td>Name</td><td>Type</td><td>Attribute</td></tr></b></font><tr><td scope="row">Movie</td><td>MovieRole</td><td><code>movieRoles</code></td><td>to-many</td><td><code>movieId</code></td></tr><tr><td scope="row">Movie</td><td>PlotSummary</td><td><code>plotSummary</code></td><td>to-one</td><td><code>movieId</code></td></tr><tr><td scope="row">Movie</td><td>Studio</td><td><code>studio</code></td><td>to-one</td><td><code>studioId</code></td></tr><tr><td scope="row">MovieRole</td><td>Movie</td><td><code>movie</code></td><td>to-one</td><td><code>movieId</code></td></tr><tr><td scope="row">MovieRole</td><td>Talent</td><td><code>talent</code></td><td>to-one</td><td><code>talentId</code></td></tr><tr><td scope="row">PlotSummary</td><td>Movie</td><td><code>movie</code></td><td>to-one</td><td><code>movieId</code></td></tr><tr><td scope="row">Studio</td><td>Movie</td><td><code>movies</code></td><td>to-many</td><td><code>studioId</code></td></tr><tr><td scope="row">Talent</td><td>MovieRole</td><td><code>movieRoles</code></td><td>to-many</td><td><code>talentId</code></td></tr><tr><td scope="row">Talent</td><td>TalentPhoto</td><td><code>talentPhoto</code></td><td>to-one</td><td><code>talentId</code></td></tr><tr><td scope="row">TalentPhoto</td><td>Talent</td><td><code>talent</code></td><td>to-one</td><td><code>talentId</code></td></tr></table><br></li></p></ol><p><font face="Times">When finished, your model's diagram should look like theone in  <a href="#BCIFBEDC">Figure 3-2</a>.</font></p><a name = "BCIFBEDC"></a><p><font face="Helvetica,Arial,Lucida Grande"><b>Figure3-2 Diagram of the Movies model</b></font></p> <img src = "../Art/largemodel.gif" alt = "[image: ../Art/largemodel.gif]"><p><font face="Times">At this point your model is complete. </font></p><br>    <br><a href="Adding_Relationships.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Adding_Beha_ise_Objects.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>