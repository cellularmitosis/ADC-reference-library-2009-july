<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<LINK REL="STYLESHEET" HREF="PessimisticLockingSyb.css">
<TITLE> </TITLE></HEAD>
<BODY BGCOLOR="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->
<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="TopicsTOC.html" target="_top">WebObjects Programming Topics</a>
</font>
<br><br>
<!--end of path -->


<H1 CLASS="TopictTitleTOC">
Pessimistic Locking in Sybase
</H1>
<DIV>
<H2 CLASS="Synopsis">
<A NAME="pgfId=606101">
 </A>
Synopsis<DIV>
<IMG SRC="PessimisticLockingSyb-1.gif">
</DIV>
</H2>
<P CLASS="Body">
<A NAME="pgfId=606102">
 </A>
Describes how pessimistic locking works in Sybase.</P>
</DIV>
<DIV>
<H2 CLASS="Heading1">
<A NAME="pgfId=606103">
 </A>
Discussion<DIV>
<IMG SRC="PessimisticLockingSyb-1.gif">
</DIV>
</H2>
<P CLASS="Body">
<A NAME="pgfId=606104">
 </A>
All Sybase versions prior to version 11.9 use page-level locking. Unlike a row-level lock, a page-level lock not only locks the row you selected, but also all other rows in the same page. Page sizes can be changed, but doing so may affect overall database performance. </P>
<P CLASS="Body">
<A NAME="pgfId=606105">
 </A>
EOF uses the <EM CLASS="Code">
HOLDLOCK</EM>
 clause when performing a select to enable Sybase's pessimistic locking. Suppose two users place a <EM CLASS="Code">
HOLDLOCK</EM>
 on a record. If user A tries to <EM CLASS="Code">
UPDATE</EM>
 the record before user B, user A blocks until user B either <EM CLASS="Code">
saveChanges</EM>
 or <EM CLASS="Code">
reverts</EM>
. If user B attempts to <EM CLASS="Code">
saveChanges</EM>
, an exception is raised and the <EM CLASS="Code">
UPDATE</EM>
 fails, whereupon user A's <EM CLASS="Code">
UPDATE</EM>
  succeeds.</P>
<P CLASS="Body">
<A NAME="pgfId=612398">
 </A>
Suppose user A locks a record, but user B does not.  If user B attempts to <EM CLASS="Code">
UPDATE</EM>
 that record, he blocks until user A <EM CLASS="Code">
saveChanges</EM>
 or <EM CLASS="Code">
reverts</EM>
. At this point, user B's <EM CLASS="Code">
UPDATE</EM>
 continues, and no exception is raised.</P>
</DIV>
<DIV>
<H2 CLASS="Heading1">
<A NAME="pgfId=606106">
 </A>
See Also<DIV>
<IMG SRC="PessimisticLockingSyb-1.gif">
</DIV>
</H2>
<UL>
<P CLASS="Bulleted">
<A NAME="pgfId=606107">
 </A>
&#183;	Pessimistic Locking</P>
<P CLASS="Bulleted">
<A NAME="pgfId=613304">
 </A>
&#183;	Choosing an Approach For Locking</P>
</UL>
</DIV>
<DIV>
<H2 CLASS="Heading1">
<A NAME="pgfId=606109">
 </A>
Questions<DIV>
<IMG SRC="PessimisticLockingSyb-1.gif">
</DIV>
</H2>
<UL>
<P CLASS="Bulleted">
<A NAME="pgfId=606110">
 </A>
&#183;		What is locking?</P>
<P CLASS="Bulleted">
<A NAME="pgfId=606111">
 </A>
&#183;		How does pessimistic locking work with Sybase?</P>
</UL>
</DIV>
<DIV>
<H2 CLASS="Heading1">
<A NAME="pgfId=606112">
 </A>
Keywords<DIV>
<IMG SRC="PessimisticLockingSyb-1.gif">
</DIV>
</H2>
<UL>
<P CLASS="Bulleted">
<A NAME="pgfId=606113">
 </A>
&#183;	Pessimistic Locking</P>
<P CLASS="Bulleted">
<A NAME="pgfId=606114">
 </A>
&#183;	Sybase</P>
</UL>
</DIV>
<DIV>
<H2 CLASS="Heading1">
<A NAME="pgfId=606115">
 </A>
Revision History<DIV>
<IMG SRC="PessimisticLockingSyb-1.gif">
</DIV>
</H2>
<P CLASS="Body">
<A NAME="pgfId=606116">
 </A>
22 July, 1998. Paul Haddad.  First Draft.</P>
<DIV>
<pre></pre></DIV>
<A NAME="pgfId=602450">
 </A>
</DIV>


<!--start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
