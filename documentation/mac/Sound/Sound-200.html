<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Writing Embedded Speech Commands (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING200></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-199.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-201.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-187.html"><B>Chapter 4 - Speech Manager</B></A> / <A HREF="Sound-193.html"><B>Using the Speech Manager</B></A></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="../../../referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING200-0></A>
<H2><A NAME=MARKER-9-221></A><A NAME=MARKER-2-301></A>Writing Embedded Speech Commands</H2>
 Embedded speech commands allow you to customize the quality of speech output by fine tuning it. You can make speech much easier to understand than the default way in which text is spoken by a synthesizer. An <B>embedded speech command</B> is a command embedded within a text buffer to be spoken by the Speech Manager that causes the Speech Manager to take a certain action. For example, you could use an embedded speech command to emphasize a particular word in a text string to make it stand out to the user.<A NAME=MARKER-2-57></A><P>
 An advantage of this technique is that your application needs to call only the standard functions that generate speech: <CODE>SpeakString</CODE>, <CODE>SpeakText</CODE>, or <CODE>SpeakBuffer</CODE>. To change the way a phrase is generated, you do not need to change any of your application's code; you merely need to change the embedded command text. Your application can also use embedded speech commands even if it speaks text created by the user, as opposed to a limited set of phrases. Before passing text to the Speech Manager, your application could embed various commands within the text. For example, a word-processing application might embed commands that tell the Speech Manager to put extra emphasis around words that the user has boldfaced or underlined.<P>
<A NAME=HEADING200-3></A>
<H3>Embedded Command Delimiters</H3>
 When processing input text data, speech synthesizers look for special sequences of characters called <B>command delimiters.</B> These character sequences are usually defined to be unusual pairings of printable characters that would not normally appear in the text. When a begin command delimiter string is encountered in the text, the following characters are assumed to contain one or more commands. The synthesizer will attempt to parse and process these commands until an end command delimiter string is encountered. By default, the begin command delimiter string is "<CODE>[[</CODE>", and the end command delimiter string is "<CODE>]]</CODE>". You can change the command delimiters if necessary, but you should be sure to use printable characters that are not in common use. Be sure to change the default delimiters back to the assigned characters when you are done with the speech processing for which you changed the delimiters. For example, if your application needs to speak text that naturally contains the default delimiter characters, then it should temporarily change the delimiters to sequences not included in the text. Or, if your application does not wish to support embedded speech commands, then it can disable such processing by setting both the begin command delimiter and the end command delimiter to 2 <CODE>NIL</CODE> bytes.<A NAME=MARKER-2-61></A><P>
<A NAME=HEADING200-5></A>
<H3>Syntax of Embedded Speech Commands<A NAME=MARKER-2-225></A></H3>
 This section describes the syntax of embedded speech commands in detail. All embedded speech commands must be enclosed by the begin command delimiter and the end command delimiter, as follows:<P>
<PRE>
[[emph +]]
</PRE>
 All speech commands require parameters immediately following the speech command. The parameter to the speech emphasis command above is the plus sign. The format of the parameter depends on the command issued. Numeric type parameters include fixed-point numbers, bytes, integers, and 32-bit values. Hexadecimal numbers may be entered using either Pascal or C syntax; $1A22 and 0x1A22 are both acceptable.<A NAME=MARKER-2-226></A><A NAME=MARKER-2-227></A><A NAME=MARKER-2-228></A><P>
 A common type of parameter is an operating-system type parameter, used generally to specify a particular selector. For example,<P>
<PRE>
[[inpt PHON]]
</PRE>
 changes the text-processing mode so that the Speech Manager interprets text to be composed of phonemes.<A NAME=MARKER-2-229></A><P>
 Some commands allow you to specify an absolute value by including just a number as the parameter or to specify a relative value by adding a <CODE>+</CODE> or <CODE>-</CODE> character. For example, the following command raises the speech volume by 0.1: <A NAME=MARKER-2-230></A><P>
<PRE>
[[volm +0.1]]
</PRE>
 Your application can place multiple commands within a single set of delimiters by using semicolons-for example:<P>
<PRE>
[[volm 0.3 ; rate 165]]
</PRE>
 It is suggested that you precede all other embedded speech commands by a format version command. This command indicates to speech synthesizers the format version to be used by all subsequent embedded speech commands. The current format version is 1. You could write a format version command for the current format version like this:<P>
<PRE>
[[vers $00000001]]
</PRE>
 <A HREF=#MARKER-9-231>Table 4-1</A> provides a formalization of the embedded command syntax structure, subject to these conventions:<P>
<UL>
<LI>Items enclosed in angle brackets (<CODE>&lt;</CODE> and <CODE>&gt;</CODE>) represent logical units that either are defined further below in the table or are atomic units that should be self-explanatory, in which case the explanations are provided in <I>italic</I> type. All logical units are listed in the first column.
<LI>Items enclosed in single brackets (<CODE>[</CODE> and <CODE>]</CODE>) are optional.
<LI>Items followed by an ellipsis (<CODE>...</CODE>) may be repeated one or more times.
<LI>For items separated by a vertical bar (<CODE>|</CODE>), any one of the listed items may be used.
<LI>Multiple space characters between tokens may be used if desired.
<LI>Multiple commands within a single set of parameters should be separated by semicolons.<P>
</UL>
<B>Table 4-1  <A NAME=MARKER-9-231></A>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Identifier<TH>Syntax<TR>
<TD><I>CommandBlock</I><TD><CODE>&lt;<I>BeginDelimiter&gt; &lt;CommandList&gt; &lt;EndDelimiter&gt;</I></CODE><TR>
<TD><I>BeginDelimiter</I><TD><CODE>&lt;<I>String1&gt; | &lt;String2&gt;</I></CODE><TR>
<TD><I>EndDelimiter</I><TD><CODE>&lt;<I>String1&gt; | &lt;String2&gt;</I></CODE><TR>
<TD><I>CommandList</I> <TD><CODE>&lt;<I>Command&gt; [; &lt;Command&gt;]...</I></CODE><TR>
<TD><I>Command</I> <TD><CODE>&lt;<I>CommandSelector&gt; [parameter]...</I></CODE><TR>
<TD><I>CommandSelector</I><TD><CODE>&lt;<I>OSType&gt;</I></CODE><TR>
<TD><I>Parameter</I><TD><CODE>&lt;<I>OSType&gt; | &lt;String1&gt; | &lt;String2&gt; | &lt;StringN&gt; | &lt;FixedPointValue&gt; | &lt;32BitValue&gt; | &lt;16BitValue&gt; | &lt;8BitValue&gt;</I></CODE><TR>
<TD><I>String1</I><TD><CODE>&lt;<I>Character&gt;</I> </CODE><TR>
<TD><I>String2</I><TD><CODE>&lt;<I>Character&gt; &lt;Character&gt;</I> </CODE><TR>
<TD><I>StringN</I><TD><CODE>[&lt;<I>Character&gt;...]</I> </CODE><TR>
<TD><I>OSType</I><TD><CODE>&lt;<I>Character&gt; &lt;Character&gt; &lt;Character&gt; &lt;Character&gt;</I></CODE><TR>
<TD><I>32BitValue</I><TD><CODE>&lt;<I>OSType&gt;</I></CODE> <CODE>|</CODE> <EM>&lt;<I>LongInt&gt; <CODE>| &lt;HexLongInt&gt; </CODE></I></EM><TR>
<TD><I>16BitValue</I><TD><CODE>&lt;<I>Integer<EM>&gt; |&lt;HexInteger&gt;</EM></I></CODE><TR>
<TD><I>8BitValue</I><TD><CODE>&lt;<I>Byte<EM>&gt; | &lt;HexByte&gt;</EM></I></CODE><TR>
<TD><I>FixedPointValue</I><TD><CODE>&lt;<I>Decimal number: 0.0000 <EM> N  65,535.9999&gt;</EM></I></CODE><TR>
<TD><I>LongInt</I><TD><CODE>&lt;<I>Decimal number: 0 <EM> N  4,294,967,295&gt;</EM></I></CODE><TR>
<TD><I>HexLongInt</I><TD><CODE>&lt;<I>Hex number: 0x00000000 <EM> N  0xFFFFFFFF&gt;</EM></I></CODE><TR>
<TD><I>Integer</I><TD><CODE>&lt;<I>Decimal number: 0 <EM> N  65,535&gt;</EM></I></CODE><TR>
<TD><I>HexInteger</I><TD><CODE>&lt;<I>Hex number: 0x0000 <EM> N  0xFFFF&gt;</EM></I></CODE><TR>
<TD><I>Character</I><TD><CODE>&lt;<I>Any printable character (for example, A, b, *, #, x)<EM>&gt;</EM></I></CODE><TR>
<TD><I>Byte</I><TD><CODE>&lt;<I>Decimal number: 0 <EM> N  255&gt;</EM></I></CODE><TR>
<TD><I>HexByte</I><TD><CODE>&lt;<I>Hex number: 0x00 <EM> N  0xFF&gt;</EM></I></CODE></TABLE>
The embedded command syntax structure</B><P>
 <A HREF=#MARKER-9-49>Table 4-2</A> outlines the set of currently defined embedded speech commands in alphabetical order and uses the same syntax conventions as <A HREF=#MARKER-9-231>Table 4-1</A>. Note that when writing embedded speech commands, you omit the symbols like angle brackets and ellipses that are used here for explanatory purposes. 
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-49></A><B>Table 4-2 Embedded speech commands</B> </CAPTION>
<TH>Command and selector<TH>Command syntax and description<TR>
<TD>Character mode (<CODE>char</CODE>)<TD><CODE>char NORM | LTRL</CODE><P>The character mode command sets the word-speaking mode of the speech channel. When <CODE>NORM</CODE> mode is selected, the synthesizer attempts to automatically convert words into speech. This is the most basic function of the text-to-speech synthesizer. When <CODE>LTRL</CODE> mode is selected, the synthesizer speaks every word, number, and symbol character by character. Embedded command processing continues to function normally, however.<P>This embedded speech command is analogous to the <CODE>soCharacterMode</CODE> speech information selector.<A NAME=MARKER-2-50></A><TR>
<TD>Comment (<CODE>cmnt</CODE>)<TD><CODE>cmnt [&lt;<I>Character&gt;...]</I></CODE><P>The comment command is ignored by speech synthesizers. It enables a developer to insert a comment that will not be spoken into a text stream for documentation purposes. Note that all characters following the <CODE>cmnt</CODE> selector up to <CODE>&lt;<I>EndDelimiter&gt;</I></CODE> are part of the comment.<A NAME=MARKER-2-51></A> <A NAME=MARKER-2-52></A><A NAME=MARKER-2-53></A><TR>
<TD>Delimiter (<CODE>dlim</CODE>)<TD><CODE>dlim &lt;<I>BeginDelimiter&gt; &lt;EndDelimiter&gt;</I></CODE><P>The delimiter command changes the character sequences that mark the beginning and end of all subsequent commands to the character sequences specified. The new delimiters take effect after the command list containing this command has been completely processed. If the delimiter strings are empty, an error is generated.<A NAME=MARKER-2-54></A><P>This embedded speech command is analogous to the <CODE>soCommandDelimiter</CODE> speech information selector.<A NAME=MARKER-2-55></A><A NAME=MARKER-2-56></A><A NAME=MARKER-2-57></A><TR>
<TD>Emphasis (<CODE>emph</CODE>)<TD><CODE>emph + | -</CODE><P>The emphasis command causes the next word to be spoken with either greater emphasis or less emphasis than would normally be used. Using <CODE>+</CODE> will force added emphasis, while using <CODE>-</CODE> will force reduced emphasis. For an illustration of using the emphasis command, see the section <A HREF=#MARKER-9-234>"Examples of Embedded Speech Commands" beginning on page 4-30</A>. <A NAME=MARKER-2-58></A><TR>
<TD>Input mode (<CODE>inpt</CODE>)<TD><CODE>inpt | TEXT | PHON</CODE><P>The input mode command switches the input-processing mode to either normal text mode or phoneme mode. Passing <CODE>TEXT</CODE> sets the mode to text mode; passing <CODE>PHON</CODE> sets the mode to phoneme mode. Some speech synthesizers might define additional speech input mode selectors. In phoneme mode, characters are interpreted as representing phonemes, as described in <A HREF=Sound-201.html#MARKER-9-240>"Phonemic Representation of Speech" on page 4-32</A>.<P>This embedded speech command is analogous to the <CODE>soInputMode</CODE> speech information selector.<A NAME=MARKER-2-59></A><TR>
<TD>Number mode (<CODE>nmbr</CODE>)<TD><CODE>nmbr NORM | LTRL</CODE><P>The number mode command sets the number-speaking mode of the speech synthesizer. When <CODE>NORM</CODE> mode is selected, the synthesizer attempts to automatically speak numeric strings as intelligently as possible. When <CODE>LTRL</CODE> mode is selected, numeric strings are spoken digit by digit. When the word-speaking mode is set to literal via the character mode command or the <CODE>soCharacterMode</CODE> speech information selector, numbers are spoken digit by digit regardless of the current number-speaking mode.<P>This embedded speech command is analogous to the <CODE>soNumberMode</CODE> speech information selector.<A NAME=MARKER-2-60></A><TR>
<TD>Baseline pitch (<CODE>pbas</CODE>)<TD><CODE>pbas [+ | -] &lt;<I>FixedPointValue&gt;</I></CODE><P>The baseline pitch command changes the current speech pitch for the speech channel to the fixed point value specified. If the pitch number is preceded by a <CODE>+</CODE> or <CODE>-</CODE> character, the speech pitch is adjusted relative to its current value. Base pitch values are always positive numbers in the range from 1.000 to 127.000.<P>This embedded speech command is analogous to the <CODE>soPitchBase</CODE> speech information selector. For a discussion of speech pitch, see the section <A HREF=Sound-190.html#MARKER-9-93>"Speech Attributes" beginning on page 4-6</A>. <A NAME=MARKER-2-61></A><TR>
<TD colspan=2>&nbsp;<TR>
<TD>Pitch modulation (<CODE>pmod</CODE>)<TD><CODE>pmod [+ | -] &lt;<I>FixedPointValue&gt;</I></CODE><P>The pitch modulation command changes the modulation range for the speech channel based on the modulation depth fixed-point value specified. The actual pitch of generated speech might vary from the baseline pitch up or down as much as the modulation depth. If the modulation depth number is preceded by a <CODE>+</CODE> or <CODE>-</CODE> character, the pitch modulation is adjusted relative to its current value. Speech pitches fall in the range of 0.000 to 127.000. <P>This embedded speech command is analogous to the <CODE>soPitchMod</CODE> speech information selector. For a discussion of speech pitch, see the section <A HREF=Sound-190.html#MARKER-9-93>"Speech Attributes" beginning on page 4-6</A>. <A NAME=MARKER-2-62></A><TR>
<TD>Speech rate (<CODE>rate</CODE>)<TD><CODE>rate [+ | -] &lt;<I>FixedPointValue&gt;</I></CODE><P>The speech rate command sets the speech rate in words per minute on the speech channel to the fixed-point value specified. If the rate value is preceded by a <CODE>+</CODE> or <CODE>-</CODE> character, the speech rate is adjusted relative to its current value. Speech rates fall in the range 0.000 to 65535.999, which translate into 50 to 500 words per minute. Normal human speech rates are around 180 to 220 words per minute. <P>This embedded speech command is analogous to the <CODE>soRate</CODE> speech information selector. For a discussion of speech rate, see the section <A HREF=Sound-190.html#MARKER-9-93>"Speech Attributes" beginning on page 4-6</A>. <A NAME=MARKER-2-63></A><TR>
<TD>Reset (<CODE>rset</CODE>)<TD><CODE>rset &lt;<I>32BitValue&gt;</I></CODE><P>The reset command will reset the speech channel's voice and speech attributes back to default values. The parameter has no effect; it should be set to 0.<P>This embedded speech command is analogous to the <CODE>soReset</CODE> speech information selector.<A NAME=MARKER-2-64></A><TR>
<TD>Silence (<CODE>slnc</CODE>)<TD><CODE>slnc &lt;<I>32BitValue&gt;</I></CODE><P>The silence command causes the synthesizer to generate silence for the number of milliseconds specified. The timing of the silence will vary widely between synthesizers. For an illustration of using the silence command, see the section <A HREF=#MARKER-9-234>"Examples of Embedded Speech Commands" beginning on page 4-30</A>. <A NAME=MARKER-2-65></A><TR>
<TD>Synchronization (<CODE>sync</CODE>)<TD><CODE>sync &lt;<I>32BitValue&gt;</I></CODE><P>The synchronization command causes the application's synchronization callback procedure to be executed. The callback is made as the audio corresponding to the next word begins to sound. The callback procedure is passed the 32-bit value specified in the command. Synchronization callback procedures are described in <A HREF=Sound-255.html#MARKER-9-544>"Synchronization Callback Procedure" beginning on page 4-85</A>.<A NAME=MARKER-2-66></A><TR>
<TD>Format version (<CODE>vers</CODE>)<TD><CODE>vers &lt;<I>32BitValue&gt;</I></CODE><P>The format version command informs the speech synthesizer of the format version that subsequent embedded speech commands will use. This command is optional but is recommended to ensure that embedded speech commands are compatible with all versions of the Speech Manager. The current format version is $0001.<A NAME=MARKER-2-67></A><A NAME=MARKER-2-68></A><TR>
<TD>Speech volume (<CODE>volm</CODE>)<TD><CODE>volm [+ | -] &lt;<I>FixedPointValue&gt;</I></CODE><P>The speech volume command changes the speech volume on the speech channel to the fixed-point value specified. If the volume value is preceded by a <CODE>+</CODE> or <CODE>-</CODE> character, the speech volume is adjusted relative to its current value. Volumes are expressed in fixed-point units ranging from 0.000 through 1.000. A value of 0.0 corresponds to silence, and a value of 1.0 corresponds to the maximum possible volume. Volume units lie on a scale that is linear with amplitude or voltage. A doubling of perceived loudness corresponds to a doubling of the volume. <P>This embedded speech command is analogous to the <CODE>soVolume</CODE> speech information selector.<A NAME=MARKER-2-69></A><TR>
<TD>Synthesizer-specific (<CODE>xtnd</CODE>)<TD><CODE>xtnd &lt;<I>OSType&gt; [&lt;Parameter&gt;...]</I></CODE><P>The synthesizer-specific command enables synthesizer-specific commands to be embedded in the input text stream. Synthesizer-specific speech commands are processed by the speech synthesizer whose creator ID is specified in the first parameter and by other speech synthesizers that support commands aimed at the synthesizer with the specified creator ID. The format of the data following the parameter is entirely dependent on the synthesizer being used. <P>This embedded speech command is analogous to the <CODE>soSynthExtension</CODE> speech information selector, described in <A HREF=Sound-205.html#MARKER-9-285>"Speech Information Selectors" beginning on page 4-39</A>.<A NAME=MARKER-2-70></A><A NAME=MARKER-2-71></A></TABLE>
<A NAME=MARKER-2-232></A><P>
 While embedded speech commands are being processed, several types of errors might be detected and reported to your application. If you have enabled error callbacks by using the <CODE>SetSpeechInfo</CODE> function with the <CODE>soErrorCallBack</CODE> selector, the error callback procedure will be executed once for every error that is detected, as described in <A HREF=Sound-257.html#MARKER-9-547>"Error Callback Procedure" beginning on page 4-86</A>. If you have not enabled error callbacks, you can still obtain information about the errors encountered by calling the <CODE>GetSpeechInfo</CODE> function with the <CODE>soErrors</CODE> selector. The following errors might be detected during processing of embedded speech commands:
<TABLE BORDER="0" CELLPADDING=3><TD>badParmVal<TD>-245<TD>Parameter value is invalid<A NAME=MARKER-2-72></A><TR>
<TD>badCmdText<TD>-246<TD>Embedded command syntax or parameter problem<TR>
<TD>unimplCmd<TD>-247<TD>Embedded command is not implemented on synthesizer<TR>
<TD>unimplMsg<TD>-248<TD>Unimplemented message<TR>
<TD>badVoiceID<TD>-250<TD>Specified voice has not been preloaded<TR>
<TD>badParmCount<TD>-252<TD>Incorrect number of embedded command arguments<A NAME=MARKER-2-73></A><A NAME=MARKER-2-74></A></TABLE>
<A NAME=MARKER-2-233></A><P>
<A NAME=HEADING200-28></A>
<H3><A NAME=MARKER-9-234></A>Examples of Embedded Speech Commands</H3>
 <A NAME=MARKER-2-60></A>If you use just a few of the embedded speech commands, you can markedly increase the understandability of text spoken by your application. Your application knows more about the speech being produced than a speech synthesizer does. A synthesizer speaks text according to a predetermined set of rules about language production. Therefore, the voices available on a Macintosh computer with the Speech Manager installed sound very synthetic and sometimes robotic because the pronunciation rules are formalized. You can make the speech produced by the synthesizer sound a lot more human by observing some simple rules of human speech and embedding speech commands in text according to these conventions. The techniques presented in this section could be applied when your application is having a dialog with the user or speaking some error messages or announcements.<P>
 The most common technique humans use in speaking is to emphasizing or deemphasizing words in a sentence. This change in emphasis marks for the listener new and important information by highlighting it vocally, making it easier for the listener to recognize important or different words in a sentence. For example, in a calendar-scheduling program, your application might speak a list of appointments for a day. The following text strings would all be spoken with the same tune and rhythm.<P>
<PRE>
At 4pm you have a meeting with Kim Silver.
At 6pm you have a meeting with Tim Johnson.
At 7pm you have a meeting with Mark Smith.
</PRE>
 The example that follows shows how you use embedded speech commands to deemphasize repeated words in similar sentences and highlight new information in a sentence. The first sentence of the following example sounds fairly acceptable. The second sentence deemphasizes the repeated words <I>have</I> and <I>meeting</I> to point out the new information--with whom the meeting is. The choice of which words to emphasize or deemphasize is based on what was spoken in the preceding sentence.To use the embedded command <CODE>emph</CODE> (emphasis), you insert it followed by a plus or minus sign before the word you want emphasized or deemphasized. The <CODE>emph</CODE> command lasts for a duration of one word.<P>
<PRE>
At 4:15 you have a meeting with Ray Chiang.
At 6:30, you [[emph -]] have a [[emph -]] meeting with 
William Ortiz.
At 7pm, you [[emph -]] have a [[emph -]] meeting with 
Eric Braz Ford.
</PRE>
 As shown in the next example, you can further enhance this text by spelling out the numbers so that you can emphasize changes in increments of time. For example, the following sentences deemphasize the repeated word <I>six</I> to highlight the difference between the meetings; which both occur between six and seven o'clock.<P>
<PRE>
At four fifteen you have a meeting with Lori Kaplan.
At six [[emph -]] fifteen, you [[emph -]] have a [[emph -]] 
meeting with Tim Monroe.
At [[emph -]] six thirty, you [[emph -]] have a [[emph -]] 
meeting with Michael Abrams.
</PRE>
 Another use of the emphasis embedded command is to make confusing, boring, or mechanical sounding text more understandable. One example of this is strings of nouns that refer to one entity (called complex nominals) that when spoken differently have a different meeting.<P>
<PRE>
1a. Steel warehouse.
1b. Steel [[emph -]] warehouse.
2a. French teachers.
2b. French [[emph -]] teachers.
</PRE>
 In the first example, phrase 1a, <I>steel warehouse</I>, refers to a warehouse made of steel, in which anything could be stored. But phrase 1b describes a warehouse of unspecified construction in which steel is stored. In the second example, phrase 2a, <I>French teachers</I>, refers to teachers from France who teach any subject. In the same example, phrase 2b specifies people from anywhere who teach French classes. You can use this technique of deemphasizing words in phrases to help users correctly understand the meaning of text spoken from your application.<P>
 You use the <CODE>emph</CODE> command to emphasize words in order to contrast them. You contrast words that are similar to words found later in a sentence to help distinguish new information.<A NAME=MARKER-2-236></A><P>
<PRE>
You have [[emph +]] 3 text [[emph -]] messages, two fax [[emph 
-]] messages, and [[emph +]] one [[emph +]] voice [[emph -]] 
message.
</PRE>
 This example emphasizes the words related to the number of messages and type of messages to help the listener discern the different kinds of information being presented.<P>
 Another common speaking technique that humans use is to pause before starting to speak about a new idea or before beginning a new paragraph. Adding an <CODE>slnc</CODE> (silence) command before beginning to speak a new idea or paragraph makes the synthetic voice sound like a person does when taking a breath in between ideas. This technique works best if you also raise the pitch range (using the <CODE>pmod</CODE> and <CODE>pbas</CODE> embedded commands) of the first sentence of the new paragraph. You must remember to lower the pitch range to achieve the desired effect.<P>
<PRE>
[[emph -; pmod +1; pbas +1]] Good morning! [[pmod -1; pbas -1]]  
This is a [[emph +]] newer [[emph -]] version of Apple's speech 
synthesis. The previous [[emph -]] version has already been 
[[emph -]] adopted by many developers. Users have sent us many 
positive [[emph +]] reports.

[[slnc 500; pmod +1; pbas +1]]
This newer [[emph -]] version has better signal [[emph -]] 
processing [[pmod -1; pbas -1]], new pitch [[emph -]] contours, 
and a new compression. It still doesn't [[emph -]] sound perfect, 
but people find it easier to understand.
</PRE>
 <A NAME=MARKER-2-237></A>This example deemphasizes the first word of the utterance, but raises the pitch to make the greeting sound more like a human would speak it. Then words are emphasized or deemphasized according to the techniques discussed previously. Silence is introduced before the new paragraph to signal a change in thought process. The pitch is raised and then lowered again after the first phrase. Note that you don't have to wait a full sentence before changing the pitch back to its previous value. It's best to work with these techniques until you find the most human-sounding utterances.<A NAME=MARKER-2-238></A><A NAME=MARKER-2-239></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-199.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-201.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
