<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>SMIL Scripting Guide for QuickTime: SMIL Scripting for QuickTime</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="SMIL Scripting for QuickTime"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/CH203" title="SMIL Scripting for QuickTime"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../Scripting-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000569" target="_top">Scripting &amp; Automation</a> &gt; <a href="../QTScripting_SMIL_AIntroduction/Introduction.html#//apple_ref/doc/uid/TP40001527-CH202-DontLinkElementID_1">SMIL Scripting Guide for QuickTime</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../QTScripting_SMIL_AIntroduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../QTScripting_SMIL_RevHistory/revisionhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/CH203-SMILScriptingforQuickTime" title="SMIL Scripting for QuickTime"></a><h1>SMIL Scripting for QuickTime</h1><p>Using SMIL syntax and a text editor, you can create multimedia presentations that can be played in QuickTime. You do this by writing a SMIL script that describes what media elements to display, where and when to display them, and how they should be layered.</p><p>QuickTime can import many SMIL files and create QuickTime movies from them.  If you direct QuickTime to play an appropriately constructed SMIL file, the import is performed automatically and the SMIL presentation plays as if it were a QuickTime movie. Alternatively, you can save the imported movie as a QuickTime movie file.</p><p><span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-OverviewofSMILandQuickTime">“Overview of SMIL and QuickTime”</a></span> describes the QuickTime SMIL importer and gives general guides for the use of SMIL with QuickTime.</p><p><span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-CreatingSMILScripts">“Creating SMIL Scripts”</a></span> introduces you to SMIL and the features of SMIL that QuickTime supports, and shows you how to write a QuickTime-compatible SMIL script.</p><p><span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-SMILSupportinQuickTime">“SMIL Support in QuickTime”</a></span> provides a tabular reference of the SMIL elements and attributes that QuickTime supports.</p><p><span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-QuickTimeSMILExtensions">“QuickTime SMIL Extensions”</a></span> describes the extensions to SMIL provided by QuickTime.</p><p><span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-PlayingSMILPresentationsinQuickTime">“Playing SMIL Presentations in QuickTime”</a></span> describes methods for making SMIL files play reliably in QuickTime, both on the desktop and over the Internet.</p><a name="//apple_ref/doc/uid/CH203-OverviewofSMILandQuickTime" title="Overview of SMIL and QuickTime"></a><h2>Overview of SMIL and QuickTime</h2><p>SMIL provides a high-level scripting syntax for describing multimedia presentations. SMIL files are text files that use XML-based syntax to specify what media elements to present, and where and when to present them.  Elements can be sequenced and synchronized in time; visual elements can be positioned, scaled, overlapped, and layered.</p><a name="//apple_ref/doc/uid/CH203-QuickTimeSMILImporter" title="QuickTime SMIL Importer"></a><h3>QuickTime SMIL Importer</h3><p>QuickTime 4.1 and later include a SMIL importer that allows many SMIL presentations to be played in the QuickTime Player application and the QuickTime browser plug-in or ActiveX control.</p><p>The QuickTime SMIL importer creates a memory-resident QuickTime movie based on the SMIL file. Each media element listed in the SMIL file becomes a QuickTime movie track; the timing, positioning, and layering specified for each element are imported as track characteristics.</p><p>The import process is generally very fast—QuickTime does not need to actually download all the media files to begin the presentation. If the presentation contains a large number of elements, however, it can take some time simply to locate all the source files and set up the appropriate movie importer for each file format. A SMIL presentation with half a dozen elements typically opens without a perceptible pause, for example, but a presentation with 30 or 50 elements is likely to open after a noticeable lag.</p><p>The QuickTime SMIL importer does not support the full feature set of the SMIL 1.0 or SMIL 2.0 standards, but it does provide a useful way to script a QuickTime presentation using a text file and any media files that QuickTime can display, such as text, still images, audio, digital video, VR panoramas, Flash, and so on.</p><a name="//apple_ref/doc/uid/CH203-SMILMediaandSMILPlayers" title="SMIL Media and SMIL Players"></a><h3>SMIL Media and SMIL Players</h3><p>Media elements in a SMIL document are specified by URLs. Media elements can be files—such as text files, JPEG images, and QuickTime movies—or streams. The URLs that specify the media elements can use any of the common protocols—HTTP, FTP, RTSP, file access, and so on. This allows a SMIL file to specify a presentation that mixes streaming and non-streaming media, as well as local and web-based media.</p><p>The SMIL specification defines basic media types but it does not define specific media formats.  A SMIL file may identify a media element as text, an image, video, or sound, for example, but SMIL itself does not differentiate between AIFF, WAVE, or MP3 audio files, or between DV, AVI, or MPG video formats.</p><p>Consequently, the exact set of media elements that can be played by a given SMIL player varies. Any SMIL player is likely to handle a presentation containing only JPEG images and AIFF audio, for example, but for other media and compression formats you may need to target a specific SMIL interpreter for reliable results.</p><p>QuickTime supports over 200 different media formats. Any media file or stream that QuickTime can play can be used as a SMIL media element in QuickTime.</p><p>However, QuickTime cannot play a SMIL file that specifies media QuickTime cannot play, such as a Real Media stream or a WMV video file compressed with a codec not available in QuickTime. Similarly, a Real or Windows Media SMIL interpreter would probably be unable to play a SMIL file whose media elements include QuickTime-specific media elements, such as a VR panorama, a QuickTime movie compressed using Sorenson video, or a QuickTime movie containing interactive sprites or Flash tracks.</p><a name="//apple_ref/doc/uid/CH203-UsingSMILinQuickTime" title="Using SMIL in QuickTime"></a><h3>Using SMIL in QuickTime</h3><p>By stitching together media elements using a text editor and SMIL syntax, you can build customized presentations from existing media—movies, slides, text, and audio recordings—and play them using QuickTime.</p><p>You can also use SMIL to combine media stored on a web server or a local disk with stored content on a streaming server (video on demand) or with live streams, both unicast and multicast.</p><p>Because SMIL documents are text files, you can generate customized QuickTime movies using another script, such as an AppleScript, Perl, or CGI script—anything that can generate text output.</p><p>For example, a common use of SMIL in QuickTime is to have a CGI or PHP script generate a SMIL file that tells QuickTime to display a programatically chosen advertisement before connecting the user to a live stream such as a radio broadcast.</p><p>Like other non-QuickTime file formats, SMIL files may or may not be associated with QuickTime in the user’s browser or operating system. Consequently, clicking a hypertext link to a <code>.smil</code> file, or double-clicking a SMIL file on the desktop, may launch QuickTime or some other SMIL player. To prevent this, you may want to save your SMIL presentations as QuickTime movies, or use HTML scripting, to ensure that your SMIL presentations play in QuickTime on the user’s system. This is described in detail in the section <span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-PlayingSMILPresentationsinQuickTime">“Playing SMIL Presentations in QuickTime.”</a></span></p><a name="//apple_ref/doc/uid/CH203-CreatingSMILScripts" title="Creating SMIL Scripts"></a><h2>Creating SMIL Scripts</h2><p>This section shows you how to work with SMIL to create a basic layout, define display regions, create a timeline with sequential and parallel media elements, specify media elements and set their durations, and make an element into a clickable link. This section also illustrates a technique to show different elements to different viewers using a switch. It illustrates use of the SMIL elements currently supported by QuickTime.</p><div class="notebox"><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_2" title="Note"></a><p><strong>Note:</strong>&nbsp;QuickTime does not support all the tags and atributes defined for SMIL version 1.0 or 2.0. QuickTime does support all the tags and attributes used in this section. </p></div><a name="//apple_ref/doc/uid/CH203-SMILStructure" title="SMIL Structure"></a><h3>SMIL Structure</h3><p>SMIL is based on XML, which is more rigidly structured than HTML but uses the same familiar <code>&lt;tag></code> and <code>&lt;/tag></code> syntax.</p><p>Because it is XML-based, SMIL tags are case-sensitive (always lowercase) and all tags have to be explicitly ended—either a tag is self-contained and ends with <code>/></code> (<code>&lt;tag</code><code>parameters="values"</code><code>/></code>), or there are a pair of open and close tags that may enclose other elements (<code>&lt;tag</code><code>parameters="values"></code><code>elements</code><code>&lt;/tag></code>).</p><p>Unlike HTML, SMIL does not routinely mix structure and content together in the same document; a SMIL file contains only structure and the URLs of content. Where an HTML document typically contains body text, for example, a SMIL document would contain the URL of a text file instead.</p><p>Like HTML, a SMIL document has a head and a body. The structure of a SMIL file is shown in listing 1-1.</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_3" title="Listing 2-1SMIL structure"></a><p class="codesample"><strong>Listing 2-1&nbsp;&nbsp;</strong>SMIL structure</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;!-- layout tags --><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;!-- body tags --><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><p>All the layout information is specified in the head. This determines where things can be displayed on the screen. Some or all of the screen is divided into any number of rectangular regions, which may partly or completely overlap. The media elements are listed in the body, which is also where the temporal sequencing is specified. Visual elements in the body are assigned to a region (defined in the head) where they are to be displayed.</p><a name="//apple_ref/doc/uid/CH203-Layout" title="Layout"></a><h4>Layout</h4><p>The layout specifies the whole display area for the presentation, then defines regions where individual media elements can be displayed.</p><a name="//apple_ref/doc/uid/CH203-RootLayout" title="Root Layout"></a><h4>Root Layout</h4><p>A SMIL layout always starts with a <code>&lt;root-layout</code><code>/></code> tag that gives the dimensions of the display area in pixels and assigns a background color:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>    background-color="red" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/layout><span></span></pre></td></tr></table></div><p>The <code>id</code> parameter gives the presentation a name; it can be anything you like. The <code>height</code> and <code>width</code> parameters define the display area for the presentation in pixels. You can specify the background color using hexadecimal values (<code>#FF0000</code>) or names (<code>red</code>). Listing 1-2 is a very simple SMIL presentation—it’s just a red rectangle, but you can play it using QuickTime Player:</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_4" title="Listing 2-2Simple SMIL presentation"></a><p class="codesample"><strong>Listing 2-2&nbsp;&nbsp;</strong>Simple SMIL presentation</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="red" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body> &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/CH203-Regions" title="Regions"></a><h4>Regions</h4><p>The layout also defines regions within the display area. Regions themselves are invisible, but they define areas where visual media elements can be displayed. Regions can be positioned anywhere in the display area and can overlap, as shown in Listing 1-3.</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_5" title="Listing 2-3Layout with root layout and two regions"></a><p class="codesample"><strong>Listing 2-3&nbsp;&nbsp;</strong>Layout with root layout and two regions</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="red"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;region id="r1" width="160" height="120" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;region id="r2" width="50%" height="100%"<span></span></pre></td></tr><tr><td scope="row"><pre>        left="100" top="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/head><span></span></pre></td></tr></table></div><p>The first region is named <code>r1</code>, and is 160 x 120 pixels, extending from the top-left corner of the display area (the default position for a region).</p><p>The second region, <code>r2</code>, is half as wide as the display area (<code>width="50%"</code>) and fills it from top to bottom (<code>height="100%"</code>). Region <code>r2</code> is offset 100 pixels from the left edge of the display area (<code>left="100"</code>). Since the first region is 160 pixels wide, the two regions overlap by 60 pixels.</p><br/><div><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_6" title="Figure 2-1Defining first and second regions"></a><p><strong>Figure 2-1&nbsp;&nbsp;</strong>Defining first and second regions</p><img src = "../Art/overlapping_regions.gif" alt = "Defining first and second regions" width="441" height="186"></div><br/><p>The top-left corner of a media element is always aligned with the top-left corner of the region it is displayed in. If you need to position an image somewhere else, just create another region at a different position—you can have as many regions as you like, and each one uses only a few bytes.</p><p>The <code>&lt;region</code><code>/></code> tag accepts the following parameters:</p><ul class="spaceabove"><li class="li"><p><code>id</code>—gives each region a name, much like an HTML frame name.</p></li><li class="li"><p><code>height</code> and <code>width</code>—define the size of the region, either in pixels or as a percentage of the display area.</p></li><li class="li"><p><code>top</code> and <code>left</code>  (optional)—specify the position of the region within the display area, either in pixels or as a percentage of the display area.</p><p>By default, a region extends from the top-left corner of the display area. You can change this by specifying a <code>top</code> and <code>left</code> offset. For example, <code>top="50%"</code><code>left="100"</code> creates a region whose top-left corner is halfway down and 100 pixels from the left edge of the display area.</p><p>If you set the <code>top</code> or <code>left</code> parameter, you must specify <em>both</em><code>top</code> and <code>left</code> as a pair, even if one of them is zero.</p></li><li class="li"><p><code>z-index</code> (optional)—specifies the layering order when regions overlap.</p><p>When regions overlap, one lies on top of the other. By default, a region defined later in the layout is on top of any regions defined earlier. You can set the layering explicitly using the <code>z-index</code> parameter. The layer with the highest <code>z-index</code> value is on top. The following example defines three regions with explicit <code>z-axis</code> values.</p></li></ul><div class="codesample"><table><tr><td scope="row"><pre>&lt;region id="r1" width="160" height="120" z-index="3" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;region id="r2" width="160" height="120" z-index="2" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;region id="r3" width="160" height="120" z-index="1" /><span></span></pre></td></tr></table></div><p>The three regions overlap completely, with <code>r1</code> on top, <code>r2</code> in the middle, and <code>r3</code> at the bottom of the pile. If no <code>z-index</code> values had been specified, the layering would be reversed, with the last-defined region on top.</p><ul class="spaceabove"><li class="li"><p><code>fit</code> (optional)—defines how media elements are cropped or scaled if they have pixel dimensions different from the region they’re displayed in. There are four possible values for this parameter:</p><ul class="nested"><li class="nested li"><p><code>fit="hidden"</code> (default)—images are not scaled. If an image is larger than the region, it is cropped. If an image is smaller than a region, part of the region is left empty.</p></li><li class="nested li"><p><code>fit="fill"</code>—images are scaled to match the height and width of the region, so an image always fills the region completely. The image’s aspect ratio may be distorted to make it fit.</p></li><li class="nested li"><p><code>fit="meet"</code>—images are scaled to meet the region’s boundaries while preserving each image’s aspect ratio, without cropping. An image may not fill the region completely, but always fills either the whole width or the whole height. The image is not cropped or distorted.</p></li><li class="nested li"><p><code>fit="slice"</code>—images are scaled to fill the region completely while preserving each image’s aspect ratio, cropping if necessary. If the aspect ratio of an image differs from the region, the image is cropped by taking a slice from the edge or bottom where it would extend beyond the region.</p></li></ul></li></ul><br/><div><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_7" title="Figure 2-2Scaling and cropping choices"></a><p><strong>Figure 2-2&nbsp;&nbsp;</strong>Scaling and cropping choices</p><img src = "../Art/regions.gif" alt = "Scaling and cropping choices" width="523" height="601"></div><br/><p>Unlike HTML, scaling and cropping are applied to regions, not images. If you want to display different images on the same part of the screen, using different <code>fit</code> settings, create more than one region with the same area and x,y coordinates, but different <code>fit</code> values, and assign each image to the appropriate region. Create as many regions as you need.</p><p>Listing 1-4 is a SMIL document with two overlapping regions. It looks like a red rectangle when you play it using QuickTime Player, because regions are invisible; they just define areas where media elements <em>can</em> be displayed.</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_8" title="Listing 2-4SMIL with overlapping regions"></a><p class="codesample"><strong>Listing 2-4&nbsp;&nbsp;</strong>SMIL with overlapping regions</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="red"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="r1" width="160" height="120" /><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="r2" width="50%" height="100%" left="100"<span></span></pre></td></tr><tr><td scope="row"><pre>            top="0" fit="fill" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body> &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/CH203-TheBody" title="The Body"></a><h4>The Body</h4><p>The body of a SMIL document specifies what media elements to present, which regions to display the visual elements in, and a timeline for the presentation.</p><p>The timeline groups media elements in two ways: things that happen in sequence and things that happen in parallel. If you don’t specify whether elements should be played sequentially or in parallel, QuickTime plays them in sequence. Sequences are surrounded by the <code>&lt;seq></code> and <code>&lt;/seq></code> tags. Media elements in a sequence are presented one after the other—each element is presented after the previous element ends. There are different ways to determine when an element should end.</p><p>Media elements such as audio and video have an inherent duration, so they end when you would expect them to. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="audio1.mp3" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="audio2.aiff" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="audio3.wav" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/seq><span></span></pre></td></tr></table></div><p>This sequence plays three audio files in a row. Each element ends when the audio has played all the way through. As soon as one element ends, the next begins.</p><p>Note that audio components have no visual part, so they are not assigned to a region.</p><p>Media elements such as still images and text have no inherent duration, so they’re usually assigned explicit durations:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="image1.jpg" region="r1" dur="5 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="image2.gif" region="r1" dur="7 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/seq><span></span></pre></td></tr></table></div><p>In this example, the first image ends after being displayed for 5 seconds, then the second image appears and is displayed for 7 seconds. If you specify an explicit duration for an element that has its own inherent duration, it either ends when it normally would or after the duration you specify, whichever comes first.</p><p>Media elements that are displayed at the same time are surrounded by the <code>&lt;par></code> and <code>&lt;/par></code> tags. Parallel elements are presented starting at the same time, but they don’t necessarily end at the same time. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="themesong.mp3" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="poster.jpg" region="r1" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;text src="lyrics.txt" region="r2" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/par><span></span></pre></td></tr></table></div><p>This example plays an MP3 audio file while simultaneously displaying a JPEG image in one region and some text in another. The image and the text are displayed for 30 seconds; the audio element ends whenever the MP3 finishes playing.</p><a name="//apple_ref/doc/uid/CH203-CombiningSequencesandParallelGroups" title="Combining Sequences and Parallel Groups"></a><h4>Combining Sequences and Parallel Groups</h4><p>You can put a group of parallel elements into a sequence. The parallel group is treated as a single element in the sequence. All the elements in the parallel group start together at the appropriate point in the sequence. When the last element in the parallel group ends, the sequence continues, as shown in the following example.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;video src="Intro.mov" region="r1" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;audio src="narration.aiff" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;video src="slides.mov" region="r1" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;text src="credits.txt" dur="20 sec" region="r1" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/seq><span></span></pre></td></tr></table></div><p>In this example, <code>Intro.mov</code> plays first. The narration and the slides start together as soon as <code>Intro.mov</code> ends. When both the narration and the slides have ended, the credits are displayed.</p><a name="//apple_ref/doc/uid/CH203-KeepingtheStructureSimple" title="Keeping the Structure Simple"></a><h4>Keeping the Structure Simple</h4><p>You can combine parallel and sequential elements in different ways to achieve the same effect. When you have a choice, always choose the structure that creates the smallest number of elements. Each element in the SMIL structure takes time to import, slightly delaying the start of the presentation. As structures nest ever deeper, these slight delays can add up.</p><p>For example, suppose you want to display two sequences of images side by side. There are two obvious approaches.</p><p>You could create a sequence of parallel elements, with the left and right image pairs specified as parallel elements. If you have twenty image pairs, this results in a single sequence element containing twenty parallel elements, each with two media elements. This creates a file with a total of 21 structural elements, as shown in Listing 1-5.</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_9" title="Listing 2-5Unnecessarily complex structure"></a><p class="codesample"><strong>Listing 2-5&nbsp;&nbsp;</strong>Unnecessarily complex structure</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide1A.jpeg" region="left" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide1B.jpeg" region="right" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/par><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide2A.jpeg" region="left" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide2B.jpeg" region="right" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/par><span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/seq><span></span></pre></td></tr></table></div><p>Alternatively, you could create a single parallel element with two sequences, a left sequence and a right sequence, each with twenty media elements, as shown in Listing 1-6. This specifies an identical presentation of media, but creates a file with only 3 structural elements.</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_10" title="Listing 2-6Simpler alternative structure"></a><p class="codesample"><strong>Listing 2-6&nbsp;&nbsp;</strong>Simpler alternative structure</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide1A.jpeg" region="left" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide2A.jpeg" region="left" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide1B.jpeg" region="right" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide2B.jpeg" region="right" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/seq><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/par><span></span></pre></td></tr></table></div><p>This version of the presentation will open <em>much</em> more quickly than the version with 21 structural elements.</p><a name="//apple_ref/doc/uid/CH203-SMILMediaElements" title="SMIL Media Elements"></a><h3>SMIL Media Elements</h3><p>SMIL media elements are classified by type and specified by URL. Each visual media element is assigned to a region defined in the layout. The media type, the URL, and the region for visual media must be specified. All other parameters are optional.</p><a name="//apple_ref/doc/uid/CH203-MediaElementTypes" title="Media Element Types"></a><h4>Media Element Types</h4><p>There are currently six defined media types:</p><ul class="spaceabove"><li class="li"><p><code>&lt;audio</code><code>/></code> (nonvisual)</p></li><li class="li"><p><code>&lt;video</code><code>/></code></p></li><li class="li"><p><code>&lt;img</code><code>/></code></p></li><li class="li"><p><code>&lt;text</code><code>/></code></p></li><li class="li"><p><code>&lt;textstream</code><code>/></code></p></li><li class="li"><p><code>&lt;animation</code><code>/></code></p></li></ul><p>Use the media type that most closely describes a given media element. For a sound-only QuickTime movie, for example, use the <code>&lt;audio/></code> media type. SMIL isn’t terribly strict about this, so you can specify a FLIC animation file, for example, using either <code>&lt;animation</code><code>/></code> or <code>&lt;video</code><code>/></code>. Each media element is specified by a <code>src</code> parameter whose value is a URL. The URL can be absolute or relative and can use any protocol that QuickTime understands, including HTTP and RTSP.</p><p>Some example media types and URLs:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;audio src="http://www.myserver.com/path/myaudio.mp3" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;video src="rtsp://streamserver.com/VideoOnDemand.mov"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;img src="slides/slide01.jpg" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;text src="subtitles.txt" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;textstream src="rtsp://streamserver.com/streamtext.mov" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;animation "http://www.myserver.com/myanim.flc" /><span></span></pre></td></tr></table></div><p>If the URL is specified as a local file, it would be <code>file:///</code>.</p><div class="notebox"><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_11" title="Important"></a><p><strong>Important:</strong>&nbsp;The QuickTime plug-in can resolve absolute or relative URLs, and QuickTime Player can resolve absolute URLs, but as of this writing, QuickTime Player cannot resolve relative URLs unless they refer to documents in the same folder as the SMIL document itself. In other words, if you’re targeting QuickTime Player, you can specify a relative URL such as <code>src="movie.mov"</code>, but not <code>src="../movie.mov"</code> or <code>src="subfolder/movie.mov"</code>. </p></div><p>One URL protocol you may not be familiar with is <code>data:,</code> which lets you embed a media element inside your SMIL document. It’s normally used to embed small amounts of text that would otherwise require a separate file. Here’s an example of a <code>data:</code> URL:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;text region="aregion" dur="1:30" src="data:text/plain,Copyright Apple Computer, 2000" /><span></span></pre></td></tr></table></div><div class="notebox"><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_12" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code>data:</code> protocol identifier is followed immediately by the data format descriptor and a comma, then the actual data, with no blank spaces (except those that are part of the data). Because the SMIL file is a plain text file, binary data such as images must be encoded in a 7-bit ASCII format, such as Base64. </p></div><a name="//apple_ref/doc/uid/CH203-MediaElementRegions" title="Media Element Regions"></a><h4>Media Element Regions</h4><p>Every visual media element needs to be assigned to a display region defined in the layout. Only one element can be displayed in a region at any time (but you can have multiple regions covering the same screen area).</p><p>If the media element contains an image that is larger or smaller than its assigned display region, the image can be scaled, clipped, or both scaled and clipped, depending on the value of the <code>fit</code> parameter for that region.</p><div class="notebox"><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_13" title="Note"></a><p><strong>Note:</strong>&nbsp;Clipping and scaling are attributes of a region, not a media element. To use different scaling or cropping guidelines for different images displayed at the same location, create multiple regions covering the same area but with different <code>fit</code> values. </p></div><p>Listing 1-7 illustrates the use of regions to display a sequence of images.</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_14" title="Listing 2-7SMIL document that displays a series of JPEG images"></a><p class="codesample"><strong>Listing 2-7&nbsp;&nbsp;</strong>SMIL document that displays a series of JPEG images</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;root-layout id="slideshow" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="black"/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;region id="r1" width="100%" height="100%" fit="meet" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="http://www.myserver.com/ourlogo.jpg"<span></span></pre></td></tr><tr><td scope="row"><pre>        region="r1" dur="5sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="slide1.jpg" region="r1" dur="5sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="slide2.jpg" region="r1" dur="5sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/seq><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><p>This example displays a sequence of three JPEG images. All the images are displayed in the same region and are automatically scaled to fill the region as completely as possible without clipping or changing their aspect ratios. Each image has a duration of 5 seconds.</p><a name="//apple_ref/doc/uid/CH203-MediaElementDuration" title="Media Element Duration"></a><h4>Media Element Duration</h4><p>Some media elements, such as audio and video, have inherent duration. Text and still images, however, have no inherent duration. The easiest way to assign a duration is with the <code>dur</code> parameter. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;img src="slide1.jpg" region="r1" dur="30sec" /><span></span></pre></td></tr></table></div><p>You can assign an explicit duration to override an element’s inherent duration. For example, if you specify</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;audio src="sound1.wav" dur="1:05" /><span></span></pre></td></tr></table></div><p>the audio file <code>sound1.wav</code> ends after 1 minute 5 seconds, or when the audio finishes naturally, whichever comes first.</p><p><code>Duration</code> is specified in <code>Hours:Minutes:Seconds.DecimalFractions.</code> You can leave off the hours, or the hours and minutes, or the fractions. You can add the “sec” identifier to make things more readable. The following five expressions are all equivalent:</p><div class="codesample"><table><tr><td scope="row"><pre>dur="00:00:05.000"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="00:05.000"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="05.000"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="05"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="5 Sec"<span></span></pre></td></tr></table></div><p>Another way to explicitly set an element’s duration is to specify an end time or an end event. An element ends when its duration is exceeded, its end time or end event occurs, or it reaches its inherent end, whichever comes first. Setting <code>begin</code> and <code>end</code> parameters are discussed next.</p><a name="//apple_ref/doc/uid/CH203-BeginandEndParameters" title="Begin and End Parameters"></a><h4>Begin and End Parameters</h4><p>You can specify an explicit start time and end time, or an event that triggers an element’s start or end, using the <code>begin</code> and <code>end</code> parameters. The time value that you specify is relative to when the element would normally begin.</p><p>For example, when you specify the following media element</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;img src="slide1.jpg" region="r1" begin="5sec"/><span></span></pre></td></tr></table></div><p>you get this timing:</p><ul class="spaceabove"><li class="li"><p>If the element is part of a <code>&lt;seq></code><code>&lt;/seq></code> sequence, it begins 5 seconds after the preceding element ends.</p></li><li class="li"><p>If the element is part of a <code>&lt;par></code><code>&lt;/par></code> group, it begins 5 seconds after the parallel group as a whole begins.</p></li></ul><p>If you specify an end time, the element ends that amount of time after it would naturally begin. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;img src="slide1.jpg" region="r1" begin="5sec" end="35sec" /><span></span></pre></td></tr></table></div><p>In this example, the image begins 5 seconds after its natural start time, and it ends 35 seconds after its natural start time, giving it a duration of 30 seconds. The element’s duration is equal to its end time minus its start time. If no <code>begin</code> value is specified, an <code>end</code> value is the equivalent of a <code>dur</code> value.</p><p>Alternately, you can specify that an element should begin or end when another element begins, ends, or reaches a specified duration. Instead of using a time as the value of the <code>begin</code> or <code>end</code> parameter, use the string:</p><div class="codesample"><table><tr><td scope="row"><pre>"id(idname)(event)"<span></span></pre></td></tr></table></div><p>where <code>idname</code> is the <code>id</code> value of another element, and <code>event</code> is either <code>begin,</code><code>end,</code> or a time value. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="themesong.mp3" id="x" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="poster.jpg" region="r1" end="id(x)(end)" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;text src="lyrics.txt" region="r2" end="id(x)(end)" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/par><span></span></pre></td></tr></table></div><p>This example assigns an <code>id</code> value of <code>x</code> to the audio and sets the end of the image and text elements to synchronize with the end of element <code>x.</code></p><p>Another example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="Sound1.aif" id="master" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="Sound2.aif" begin="id(master)(5sec)" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="Sound3.aif" end="id(master)(end)" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/par><span></span></pre></td></tr></table></div><p>In this example, the element <code>Sound1.aif</code> begins normally and has the <code>id</code> of <code>master.</code><code>Sound2.aif</code> begins 5 seconds after <code>Sound1.aif</code> begins. <code>Sound3.aif</code> begins normally (at the same time as <code>Sound1.aif</code>), but ends when <code>Sound1.aif</code> ends.</p><a name="//apple_ref/doc/uid/CH203-PlayingClipsFromMediaElements" title="Playing Clips From Media Elements"></a><h4>Playing Clips From Media Elements</h4><p>You can specify a clip from a media element using the <code>clip-begin</code> and <code>clip-end</code> attributes. This lets you play a selection from a longer file or stream. This works most efficiently with local content or streams. It does not work as well with files delivered by HTTP, because HTTP files always download in their entirety, even if only a small clip is actually played, and the file must download to the <code>clip-begin</code> point before it can begin playing.</p><p>The following example plays a clip from the movie <code>some.mov,</code> starting 4 seconds into the movie and ending 1 minute and 1 second into the movie:</p><div class="codesample"><table><tr><td scope="row"><pre> &lt;video src="some.mov" region="movieregion"<span></span></pre></td></tr><tr><td scope="row"><pre>     clip-begin = "npt=0:04"<span></span></pre></td></tr><tr><td scope="row"><pre>     clip-end = "npt=1:01"<span></span></pre></td></tr><tr><td scope="row"><pre> /><span></span></pre></td></tr></table></div><p>Note that the time stamp has a different format than other SMIL attributes or QuickTime parameters; it is preceded by the label <code>npt=</code> and the label and parameter value are jointly surrounded by quotes. The format is limited to MM:SS. Hours and fractional seconds are not supported. For values less than 60 seconds, minutes must be specified as zero and cannot be simply omitted (for example, <code>clip-begin</code><code>=</code><code>"npt=0:59"</code>).</p><p>You can specify <code>clip-begin</code> without specifying <code>clip-end.</code></p><a name="//apple_ref/doc/uid/CH203-SMILHREFLinks" title="SMIL HREF Links"></a><h3>SMIL HREF Links</h3><p>You can make any visual media element in a SMIL document into a clickable link by using the <code>&lt;a></code><code>&lt;/a></code> tags. You can direct the URL to load in a browser window or to replace the current SMIL presentation.</p><p>To make a visual element into a link, take the following steps:</p><ul class="spaceabove"><li class="li"><p>Precede the element with the <code>&lt;a></code> tag.</p></li><li class="li"><p>Put the URL of the link in the <code>href</code> parameter of the <code>&lt;a></code> tag.</p><ul class="nested"><li class="nested li"><p>Set the <code>show</code> parameter of the <code>&lt;a></code> tag to <code>new</code> or <code>replace.</code></p></li><li class="nested li"><p>Follow the element with the <code>&lt;/a></code> tag.</p></li></ul></li></ul><p>In the following example, the Apple website loads in the default browser window if the user clicks in region <code>r1</code> while <code>poster.jpg</code> is being displayed.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;a href="http://www.apple.com/" show="new" ><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="poster.jpg" region="r1" dur="00:05" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/a><span></span></pre></td></tr></table></div><p>The <code>show</code> parameter can have two possible values:</p><ul class="spaceabove"><li class="li"><p><code>show="replace"</code>—replaces the current SMIL presentation in the plug-in or QuickTime Player (whichever is active). In this case, the URL must specify something that QuickTime can play.</p></li><li class="li"><p><code>show="new"</code>—opens the URL in the default browser window. In this case, the URL can specify a web page or anything the browser or one of its plug-ins can display.</p></li></ul><p>You can use <code>show="new"</code> to target a specific browser frame, specific browser window, or QuickTime Player, using the <code>target</code> SMIL extension. Refer to the section <span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-QuickTimeSMILExtensions">“QuickTime SMIL Extensions,”</a></span> for more information.</p><p>QuickTime doesn’t currently allow you to jump to a named point in SMIL presentations—you can’t use URLs of the form <code>href=name.smi#name</code> or <code>href=#name.</code></p><a name="//apple_ref/doc/uid/CH203-DynamicSMILElements" title="Dynamic SMIL Elements"></a><h3>Dynamic SMIL Elements</h3><p>You can automatically present different elements to different viewers using the <code>&lt;switch></code><code>&lt;/switch></code> tags.</p><p>SMIL supports a set of user attributes, such as screen resolution, color depth, maximum data rate, and language. Groups of elements can be listed between <code>&lt;switch></code> and <code>&lt;/switch></code> tags. QuickTime selects one element from the list based on user attributes, much like QuickTime’s alternate track and alternate movie mechanism.</p><p>This can be used to select an audio track based on language, as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>        &lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="french.aif" system-language="fr"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="german.aif" system-language="de"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="english.aif" system-language="en"/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/switch><span></span></pre></td></tr></table></div><p>This example selects <code>french.aif</code> for French speakers, <code>german.aif</code> for German speakers, and <code>english.aif</code> for English speakers.</p><p>The <code>&lt;switch></code> element selects the first item in the list that matches the user’s system attributes. If you select an item based on connection speed, order the elements from highest speed to lowest speed—QuickTime loads the first element whose requirement  is less than or equal to the viewer’s connection speed, as illustrated in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="192k.mp3" system-bitrate=192000"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="128k.mp3" system-bitrate="128000"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="qdesign.mov" system-bitrate="28800"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/switch><span></span></pre></td></tr></table></div><p>To provide a default, make the default the last item in the list and don’t specify a required attribute.  It’s usually a good idea to include a default, as there may be cases you haven’t allowed for explicitly. The following example selects <code>french.aif</code> for French speakers, <code>german.aif</code> for German speakers, and <code>english.aif</code> for all others.</p><div class="codesample"><table><tr><td scope="row"><pre>        &lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="french.aif" system-language="fr"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="german.aif" system-language="de"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="english.aif"/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/switch><span></span></pre></td></tr></table></div><p>QuickTime supports the following user attributes:</p><ul class="spaceabove"><li class="li"><p><code>system-bitrate</code>—corresponds to the user’s connection speed in the QuickTime Settings control panel. The QuickTime settings are specified in kilobits per second, but <code>system-bitrate</code> is set in bits per second, so multiply the QuickTime setting by 1000 to get the correct <code>system-bitrate</code>. For example, the correct <code>system-bitrate</code> for QuickTime’s “56 Kbps Modem/ISDN” is <code>56000</code> and the <code>system-bitrate</code> corresponding to “256 Kbps DSL/Cable” is <code>256000</code>.</p></li><li class="li"><p><code>system-screen-size</code>—the minimum required screen resolution in pixels. The resolution is specified by HEIGHTxWIDTH. Note that this is contrary to common usage—a 640 x 480 minimum screen resolution is specified by setting <code>system-screen-size="480x640".</code></p></li><li class="li"><p><code>system-screen-depth</code>—the minimum required color depth, in bits. Common values are <code>8</code> (256 colors), <code>16</code> (thousands of colors), and <code>24</code> (millions of colors).</p></li><li class="li"><p><code>system-language</code>—corresponds the user’s system language setting. The language is specified by a two-character code matching the ISO 639 language code specification, such as these:</p><ul class="nested"><li class="nested li"><p>Arabic—AR</p></li><li class="nested li"><p>Chinese—ZH</p></li><li class="nested li"><p>Danish—DA</p></li><li class="nested li"><p>Dutch—NL</p></li><li class="nested li"><p>English—EN</p></li><li class="nested li"><p>French—FR</p></li><li class="nested li"><p>German—DE</p></li><li class="nested li"><p>Greek—EL</p></li><li class="nested li"><p>Italian—IT</p></li><li class="nested li"><p>Japanese—JA</p></li><li class="nested li"><p>Korean—KO</p></li><li class="nested li"><p>Persian (Farsi)—FA</p></li><li class="nested li"><p>Polish—PL</p></li><li class="nested li"><p>Portuguese—PT</p></li><li class="nested li"><p>Russian—RU</p></li><li class="nested li"><p>Spanish—ES</p></li><li class="nested li"><p>Swahili—SW</p></li><li class="nested li"><p>Swedish—SV</p></li></ul></li></ul><p>For additional language codes, refer to <span class="content_text"><a href="http://www.oasis-open.org/cover/iso639a.html" target="_blank">http://www.oasis-open.org/cover/iso639a.html</a></span></p><a name="//apple_ref/doc/uid/CH203-SMILSupportinQuickTime" title="SMIL Support in QuickTime"></a><h2>SMIL Support in QuickTime</h2><p>For QuickTime to play a SMIL presentation, the presentation must use media elements that QuickTime can play, such as QuickTime movies, real-time streams in QuickTime format, AIFF and MP3 sound files, JPEG and GIF images, FLIC animations, text files, MIDI files, and so on.</p><p>As a simple test, if you can successfully open a URL in QuickTime Player (using Open URL in the File menu), you can use that URL as the <code>src</code> attribute of a media element in a SMIL presentation for QuickTime.</p><p>QuickTime does not currently support the complete SMIL specification. You can use all the SMIL tags and parameters described in <span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-CreatingSMILScripts">“Creating SMIL Scripts,”</a></span> but you should note the following exceptions from the W3C specification for SMIL 1.0:</p><ul class="ul"><li class="li"><p>Regions can’t have scroll bars (don’t use <code>fit="scroll"</code> in the <code>&lt;region></code> tag).</p></li><li class="li"><p>Only the basic layout is supported (no CSS-based layout).</p></li><li class="li"><p>The <code>&lt;switch></code> tag can’t be used to specify a root layout from a list.</p></li><li class="li"><p>Hyperlinks can’t be used to pause the current SMIL presentation, load another one, then resume the current presentation (don’t use <code>show="pause"</code> in the <code>&lt;a></code> tag).</p></li><li class="li"><p>You can’t jump to a named point in another SMIL presentation—don’t use links of the form <code>&lt;a</code><code>href="fname.smi#anchor">.</code></p></li></ul><p>Following is a summary of SMIL elements and attributes currently supported in QuickTime. Additional QuickTime-specific attributes are supported for some elements, as described in the section <span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-QuickTimeSMILExtensions">“QuickTime SMIL Extensions.”</a></span></p><a name="//apple_ref/doc/uid/CH203-StructuralElementsSupportedinQuickTime" title="Structural Elements Supported in QuickTime"></a><h3>Structural Elements Supported in QuickTime</h3><ul class="spaceabove"><li class="li"><p><code>&lt;smil></code><code>&lt;/smil></code></p></li><li class="li"><p><code>&lt;head></code><code>&lt;/head></code></p></li><li class="li"><p><code>&lt;layout></code><code>&lt;/layout></code></p></li><li class="li"><p><code>&lt;root-layout></code><code>&lt;/root-layout></code></p><ul class="nested"><li class="nested li"><p><code>height</code></p></li><li class="nested li"><p><code>width</code></p></li><li class="nested li"><p><code>id</code></p></li><li class="nested li"><p><code>background-color</code></p></li></ul></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_15" title="Note"></a><p><strong>Note:</strong>&nbsp;Only basic layout is supported, not CSS layout. The root layout cannot be specified inside a <code>&lt;switch></code> element. </p></div><ul class="spaceabove"><li class="li"><p><code>&lt;region</code><code>/></code></p><ul class="nested"><li class="nested li"><p><code>height</code></p></li><li class="nested li"><p><code>width</code></p></li><li class="nested li"><p><code>top</code></p></li><li class="nested li"><p><code>left</code></p></li><li class="nested li"><p><code>z-index</code></p></li><li class="nested li"><p><code>fit</code> (<code>hidden,</code><code>fill,</code><code>meet,</code><code>slice</code>)</p></li></ul></li><li class="li"><p><code>&lt;body></code><code>&lt;/body></code></p></li><li class="li"><p><code>&lt;seq></code><code>&lt;/seq></code></p></li><li class="li"><p><code>&lt;par></code><code>&lt;/par></code></p></li></ul><a name="//apple_ref/doc/uid/CH203-MediaElementsSupportedinQuickTime" title="Media Elements Supported in QuickTime"></a><h3>Media Elements Supported in QuickTime</h3><p>QuickTime supports the following media elements. Media typing in SMIL is not strict, so media types that do not have an exact match in SMIL, such as Flash and VR, can be labeled as animation or video in a SMIL file.</p><ul class="spaceabove"><li class="li"><p><code>&lt;audio</code><code>/></code></p></li><li class="li"><p><code>&lt;video</code><code>/></code></p></li><li class="li"><p><code>&lt;img</code><code>/></code></p></li><li class="li"><p><code>&lt;text</code><code>/></code></p></li><li class="li"><p><code>&lt;textstream</code><code>/></code></p></li><li class="li"><p><code>&lt;animation</code><code>/></code></p></li></ul><p>Media elements can contain the following attributes:</p><ul class="spaceabove"><li class="li"><p><code>src</code></p></li><li class="li"><p><code>id</code></p></li><li class="li"><p><code>region</code></p></li><li class="li"><p><code>dur</code></p></li><li class="li"><p><code>begin</code></p></li><li class="li"><p><code>end</code></p></li><li class="li"><p><code>clip-begin</code></p></li><li class="li"><p><code>clip-end</code></p></li></ul><p>If used inside a <code>&lt;switch></code> element, media elements can contain the following attributes as system requirements:</p><ul class="spaceabove"><li class="li"><p><code>system-language</code></p></li><li class="li"><p><code>system-bitrate</code></p></li><li class="li"><p><code>system-screen-size</code></p></li><li class="li"><p><code>system-screen-depth</code></p></li></ul><a name="//apple_ref/doc/uid/CH203-DynamicElementssupportedinQuickTime" title="Dynamic Elements supported in QuickTime"></a><h3>Dynamic Elements supported in QuickTime</h3><p>QuickTime supports the following dynamic SMIL elements.</p><ul class="spaceabove"><li class="li"><p><code>&lt;a></code><code>&lt;/a></code></p><ul class="nested"><li class="nested li"><p><code>href</code></p></li><li class="nested li"><p><code>show</code> (<code>new,</code><code>replace</code>)</p></li><li class="nested li"><p><code>target</code></p></li></ul></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_16" title="Note"></a><p><strong>Note:</strong>&nbsp;In addition to the standard targets, such as the default browser window or a named frame, QuickTime supports the target value <code>quicktimeplayer.</code> QuickTime does <em>not</em> support the use of named anchors within the href parameter (for example, <code>href="URL#name"</code> is treated as <code>href="URL").</code></p></div><ul class="spaceabove"><li class="li"><p><code>&lt;switch></code><code>&lt;/switch></code></p><ul class="nested"><li class="nested li"><p><code>system-language</code></p></li><li class="nested li"><p><code>system-bitrate</code></p></li><li class="nested li"><p><code>system-screen-size</code></p></li><li class="nested li"><p><code>system-screen-depth</code></p></li></ul></li></ul><a name="//apple_ref/doc/uid/CH203-QuickTimeSMILExtensions" title="QuickTime SMIL Extensions"></a><h2>QuickTime SMIL Extensions</h2><p>In addition to support for the standard SMIL elements listed in the previous section, QuickTime provides a number of SMIL extensions. The QuickTime SMIL extensions allow you to specify behaviors that are supported by QuickTime but do not have SMIL equivalents, such as the <code>autoplay</code> attribute.</p><p>The SMIL standard allows for such extensions using an XML namespace specification. A namespace specification consists of a unique URL, provided by the vendor (in this case Apple Computer), and a namespace prefix to be used within a given SMIL document.</p><p>The URL for the QuickTime SMIL extensions is <code>http://www.apple.com/quicktime/resources/smilextensions</code> .</p><p>For simplicity and clarity, we recommend that you use the namespace prefix <code>qt:</code> for the QuickTime SMIL extensions in all your documents. You may use a different prefix however, as long as you are consistent throughout your document.</p><p>You need to specify the XML namespace for extensions before you use them. You can specify the namespace in the element where they are used, or in a parent element. In addition, each SMIL extension you use must include the namespace prefix.</p><p>In practice, this means adding an XML namespace attribute to your <code>&lt;smil></code> tag and preceding each QuickTime SMIL extension with <code>qt:</code>. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil<span></span></pre></td></tr><tr><td scope="row"><pre>xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:autoplay="true"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:time-slider="true" ><span></span></pre></td></tr></table></div><p>The example above sets the XML namespace attribute (<code>xmlns:</code>) using a prefix identifier (<code>qt=</code>) and the Apple QuickTime URL. It then sets the QuickTime SMIL attributes <code>autoplay</code> and <code>time-slider,</code> identifying them as QuickTime-specific attributes by using the <code>qt:</code> prefix.</p><p>The general syntax for using an XML namespace follows.</p><div class="codesample"><table><tr><td scope="row"><pre>xmlns:nsprefix="URL"<span></span></pre></td></tr></table></div><p>where <code>nsprefix</code> is a namespace identifier and <code>URL</code> is the unique URL provided by the vendor of the XML extensions.</p><p>The URL is provided for reference purposes only; this URL is not accessed when the SMIL file is executed. The user does not need an Internet connection in order to view a SMIL presentation with a namespace URL.</p><p>Once the namespace attribute has been set in a SMIL element, that element and any elements within it can use names defined for that namespace.</p><p>Therefore, setting a namespace attribute at the beginning of the root <code>&lt;smil></code> element makes extensions for that namespace valid anywhere in the SMIL document.</p><a name="//apple_ref/doc/uid/CH203-SMILRootElementAttributeExtensions" title="SMIL Root Element Attribute Extensions"></a><h3>SMIL Root Element Attribute Extensions</h3><p>The QuickTime SMIL extensions define the following additional attributes for the <code>&lt;smil></code> element:</p><p><strong>autoplay</strong></p><p>Specifies whether the presentation should automatically start playback. Legal values are <code>true</code> or <code>false</code>.  The default is <code>false</code>. Common usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:autoplay="true"/><span></span></pre></td></tr></table></div><p><strong>next</strong></p><p>Specifies to the player that after this presentation is finished, the presentation referenced in the attribute value should be invoked and played in the same space. Used to chain presentations together. A valid attribute value is any URL. This capability is equivalent to the QuickTime browser plug-in’s <code>qtnext</code> attribute. The following example shows common usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:next="nextpresentation.smi"/><span></span></pre></td></tr></table></div><p><strong>time-slider</strong></p><p>Specifies whether a time-slider or “scrubber” should be included in the user interface. Legal values are <code>true</code> or <code>false.</code> The default is <code>false.</code> Because QuickTime normally loads SMIL media elements dynamically as needed, the known duration of the overall media presentation can change as a movie is played or navigated. This can be confusing to the user, as the current time indicator may jump around, speed up, or slow down unexpectedly. Consequently, the time-slider is not normally displayed in SMIL presentations. The time-slider can still be a valuable tool for navigating a presentation, however, and can be enabled by setting the time-slider attribute to <code>true.</code> You can modify the behavior of the time-slider using the <code>immediate-instantiation</code> attribute and the <code>chapter-mode</code> attribute. The following example shows common usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:time-slider="true"/><span></span></pre></td></tr></table></div><p><strong>chapter-mode</strong></p><p>Specifies the behavior of the time-slider (if it is included in the user interface by setting the <code>time-slider</code> attribute <code>true</code>). Legal values are <code>all</code> or <code>clip</code>. The default value is <code>all</code>.</p><p>In <code>all</code> mode, the time-slider can be used to navigate through the entire presentation and shows the current time in the presentation timeline as a whole. The time-slider represents the entire duration of the presentation, which is the sum of the durations of all elements in all sequences (the duration of a parallel group is the duration of the longest element in that group).</p><p>In <code>clip</code> mode, the time-slider can be used to navigate within the currently playing element and shows the current time within that element. The time-slider represents the duration of the current element in the sequence, or the duration of the longest element in the current parallel group.</p><p>The <code>clip</code> setting is useful for long presentations where the granularity of the timeline may be unacceptably low. It is also useful for network-based presentations, particularly those using streaming media, where the actual duration of a movie isn’t known until it has started to play. The example that follows shows common usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:chapter-mode="clip"/><span></span></pre></td></tr></table></div><p><strong>immediate-instantiation</strong></p><p>Specifies whether the media objects within the presentation should be instantiated immediately (at the time the presentation itself is instantiated), or whether instantiation should be deferred until the element is about to be played. Legal values are <code>true</code> (immediate) or <code>false</code> (when needed). Default is <code>false</code>. Instantiation means getting an instance of an object ready to play, and may involve opening or downloading a file, opening a stream, and importing a non-QuickTime media type into QuickTime.</p><p>The value of this attribute may be set on a per-media-object basis, using it as an attribute of individual media-object elements, as described in the following section, or as an attribute of the presentation as a whole, as shown in the following usage example.</p><p>Setting the <code>immediate-instantiation</code> attribute to <code>true</code> in the <code>&lt;smil></code> element causes all media objects used in the presentation to be instantiated immediately; this can make it easier for QuickTime to correctly determine the duration of the presentation before it begins, making the time-slider behavior more consistant. However, to instantiate all of the presentation elements at once can take considerable time and memory, particularly for a complex presentation or one being loaded over an Internet connection. Therefore, it is recommended that this attribute be used in the <code>&lt;smil></code> element only after careful consideration and testing. Common usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:immediate-instantiation="true"/><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/CH203-MediaObjectAttributeExtensions" title="Media Object Attribute Extensions"></a><h3>Media Object Attribute Extensions</h3><p>The QuickTime SMIL extensions define the following additional attributes for SMIL media elements.</p><p><strong>composite-mode</strong></p><p>Specifies how to composite a visual media element against the background color and visual media elements in overlapping regions that are lower on the z-axis. Media objects may be opaque, partly transparent, or translucent to varying degrees. This attribute’s value is a combination of a text string identifying the mode and an optional semicolon followed by a second parameter, which varies depending on the mode. The <code>composite-mode</code> SMIL attribute is equivalent to the graphics mode property of a QuickTime video track. Possible modes are:</p><ul class="spaceabove"><li class="li"><p><code>copy</code>, <code>none</code>, <code>direct</code>—Any of these three values specify that the element is opaque. Elements below it on the z-axis are completely obscured where the elements overlap. This is the default mode for most image formats (a GIF with a designated transparent color defaults to <code>transparent-color</code> mode; a Photoshop image with an alpha channel defaults to <code>alpha</code> mode).</p></li><li class="li"><p><code>blend;percent</code>—Specifies a weighted blend between the image and the background, with the degree of opacity specified by an integer percent value (for example <code>composite-mode="blend;50%"</code>). Elements lower on the z-axis are partly visible through the current element, determined using a blend algorithm. A setting of 100% makes an object completely opaque, 0% makes it completely transparent.</p></li><li class="li"><p><code>transparent-color;color</code>—Specifies that all pixels of a particular color within the image should be treated as transparent. Accepts a second parameter, <code>color</code>, which specifies the color value to be rendered as transparent. The <code>color</code> parameter may be any valid color specification supported by Cascading Style Sheets Level 2, such as <code>red</code>, <code>#ff0000</code>, <code>#f00</code>, <code>rgb(255,0,0)</code>, or <code>rgb(100%,</code><code>0%,</code><code>0%)</code>. Elements lower on the z-axis are visible through any transparent pixels.</p></li><li class="li"><p><code>alpha,</code><code>straight-alpha,</code><code>premultiplied-white-alpha,</code><code>premultiplied-black-alpha</code>—Specify that the image has an internal alpha channel that should be used when compositing. The values <code>alpha</code> and <code>straight-alpha</code> refer to a separate alpha channel; the premultiplied modes are used for images that have been premultiplied with an alpha channel against a white or black background, respectively. Elements lower on the z-axis are visible to the degree specified by the alpha component of each pixel.</p></li><li class="li"><p><code>straight-alpha-blend</code>—Specifies that the image has an internal alpha channel as a separate component, and that the alpha weight should also be multiplied by a percentage blend value, which is specified by a second parameter, with <code>0%</code> meaning completely transparent and <code>100%</code> meaning unmodified alpha. This has the effect of adding a degree of translucence to the object as a whole, in addition to any graduated translucence specified in the alpha channel.</p></li></ul><p>Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;img src="test.png" qt:composite-mode="alpha" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="test.png" qt:composite-mode="blend;20%" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="test.png" qt:composite-mode="transparent-color;#0e1d0f" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;img src="test.png" qt:composite-mode="straight-alpha-blend;10%" /><span></span></pre></td></tr></table></div><p><strong>immediate-instantiation</strong></p><p>Specifies whether this element should be instantiated immediately when the SMIL presentation is instantiated, or whether instantiation should be deferred until this element is about to be presented. Legal values are <code>true</code> or <code>false</code>. Default is <code>false</code>. Instantiation may require opening or downloading a file, opening a stream, and importing a non-QuickTime media format into QuickTime. Immediate instantiation may add to the time and memory required to begin the presentation, but may also ensure a seamless presentation once display begins. See also: <code>bitrate</code>. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;img src="bkgimage.png" qt:immediate-instantiation="true" /><span></span></pre></td></tr></table></div><p><strong>bitrate</strong></p><p>Specifies the bitrate at which a media object would need to be transmitted in order to play back in real time. This is used to allow QuickTime to estimate how far in advance it should attempt to read a deferred-instantitation media object in order to provide seamless playback. Possible values are positive integers, in units of bits-per-second. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;video src="stream56k.mov" qt:bitrate="56000" /><span></span></pre></td></tr></table></div><p><strong>system-mime-type-supported</strong></p><p>Specifies to the player the MIME type that needs to be supported in order to be able to play back this particular media-object. This is distinct from the the <code>type</code> attribute because it is used in conjunction with the <code>&lt;switch></code> element in SMIL (in the same manner as system attributes such as <code>system-bitrate</code>). Legal values are character strings matching a valid MIME type. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;img src="qt.mov"qt:system-mime-type-supported="video/quicktime"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;img src="someother.suffix"qt:system-mime-type-supported= "some-other/mime-type"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/switch><span></span></pre></td></tr></table></div><p><strong>attach-timebase</strong></p><p>Determines whether a child movie has an independent timebase or is linked to the timebase of the parent movie. (Each media element is loaded into QuickTime as a child movie. The parent movie is the SMIL presentation as a whole.) Default is <code>true</code>, which slaves the child’s timebase to its parent’s. This means the play/pause buttons control both the child movie and the SMIL presentation. Setting <code>attach-timebase</code> to <code>false</code> makes the child independent, which can be useful for allowing the user to interact directly with child movies, particularly multiple child movies within a parallel element. Be aware that when <code>attach-timebase</code> is set <code>false</code>, the play/pause controls do not affect the child movie, so you may need to provide some other method of control, such as sprites with wired actions. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;img src="movie2.mov" qt:attach-timebase="true"/><span></span></pre></td></tr></table></div><p><strong>chapter</strong></p><p>Specifies a chapter name to attach to this particular media object, which then may be used by the player to provide a higher-level navigation UI than a simple linear control. A list of chapters appears in the control bar, allowing the user to jump to the beginning of any chapter. The beginning of the media element is the beginning of a chapter. Legal values are a character string (display of long strings may be truncated unless the movie is very wide). Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;img src="movie1.mov"qt:chapter="Chapter 1--Intro"/><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/CH203-PlayingSMILPresentationsinQuickTime" title="Playing SMIL Presentations in QuickTime"></a><h2>Playing SMIL Presentations in QuickTime</h2><p>You can play a SMIL presentation in QuickTime from the desktop or in a web browser, using the QuickTime Player application, the QuickTime browser plug-in, or the QuickTime ActiveX control. Because multiple applications and plug-ins may be registered to play SMIL presentations on a user’s system, different techniques are required to ensure that a SMIL presentation opens in QuickTime instead of some other player. This allows you to safely use all QuickTime-supported media as well as the QuickTime SMIL extensions.</p><p>Alternatively, you can create a “plain vanilla” SMIL presentation that uses only media  elements supported by all common SMIL players—JPEG images, for example—and only structural elements supported by all common SMIL players, such as the <code>&lt;seq></code> and <code>&lt;par></code> tags. Such a presentation can be delivered to the desktop or over the web using the .smil file extension and rely on the user’s system to select a SMIL player, if one is available.</p><a name="//apple_ref/doc/uid/CH203-PlayingSMILFilesontheDesktop" title="Playing SMIL Files on the Desktop"></a><h3>Playing SMIL Files on the Desktop</h3><p>To play a SMIL file in QuickTime, it must be given a file extension that QuickTime is registered to play, prefereably .smi or .smil. Such a file can be dragged onto the QuickTime Player icon or opened in QuickTime Player by choosing Open from the File menu.</p><p>Double-clicking a SMIL file may or may not open the file in QuickTime Player. It depends on what application has most recently registered for the SMIL file type with the user’s operating system. For example, installing RealPlayer typically makes it the default SMIL player. On Macintosh computers, the application registered as the file creator generally takes precedence when a file is double-clicked, so a SMIL file may open in the text editor used to create it.</p><div class="notebox"><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_17" title="Note"></a><p><strong>Note:</strong>&nbsp;A SMIL file that is registered to play in QuickTime on the user’s system normally displays a QuickTime icon on the user’s desktop. </p></div><p>To be certain that a SMIL presentation will open in QuickTime Player when double-clicked from the desktop, drag the file onto the QuickTime Player icon and save as a self-contained movie (requires QuickTime Pro). This saves the movie data structure that results from importing a SMIL file. It should always open in QuickTime Player, and should open considerably faster than a raw SMIL file, particularly a SMIL file with many structural elements.</p><p>You should be aware that a self-contained movie file saved from a SMIL presentation does not include the media elements referenced by the SMIL file. The movie is “self-contained” in the respect that it no longer relies on the original SMIL file. It remains dependent on the external media objects referenced in the SMIL file.</p><a name="//apple_ref/doc/uid/CH203-PlayingSMILFilesinQuickTimefromaWebPage" title="Playing SMIL Files in QuickTime from a Web Page"></a><h3>Playing SMIL Files in QuickTime from a Web Page</h3><p>To play a SMIL file in QuickTime, a web browser must call either the QuickTime plug-in or ActiveX control, or the QuickTime Player application. Because multiple applications and plug-ins may be registered for the SMIL file type, you need to help the browser to choose QuickTime. There are several ways to do this.</p><p>The simplest method is to save the SMIL file as a QuickTime movie, as described in the previous section, <span class="content_text"><a href="QTScripting_SMIL.html#//apple_ref/doc/uid/CH203-PlayingSMILFilesontheDesktop">“Playing SMIL Files on the Desktop.”</a></span> You can then embed the SMIL file in a web page as you would any QuickTime movie. See “HTML Scripting Guide for QuickTime” for additional information.</p><p>Other methods of assisting a browser to choose QuickTime are somewhat browser-dependent. It is possible to combine methods to cover all common cases, however.</p><p>The most common browser is Internet Explorer for Windows (IE/Win). You can tell IE/Win to play media in QuickTime by using the <code>&lt;object></code> tag with the QuickTime class ID and code base. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;OBJECT<span></span></pre></td></tr><tr><td scope="row"><pre>CLASSID="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"<span></span></pre></td></tr><tr><td scope="row"><pre>CODEBASE="http://www.apple.com/qtactivex/qtplugin.cab"<span></span></pre></td></tr><tr><td scope="row"><pre>WIDTH="320" HEIGHT="256" ><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;PARAM NAME="src" VALUE="My.smil" /><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/OBJECT><span></span></pre></td></tr></table></div><p>As shown in the example, the class ID for QuickTime is <code>02BF25D5-8C17-4B23-BC80-D3488ABDDC6B</code> and the code base is <code>http://www.apple.com/qtactivex/qtplugin.cab</code> .</p><p>For all other browsers, you can use the <code>QTSRC</code> attribute in the <code>&lt;embed></code> tag. This requires you to embed a file in your web page that only QuickTime is registered to play, such as a QuickTime movie (<code>.mov</code>) or QuickTime image file (<code>.qtif</code>). The browser invokes the QuickTime plug-in to play the embedded file (the browser may also download the embedded file). The QuickTime plug-in recognizes the <code>QTSRC</code> attribute and loads the SMIL file, as shown in this example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;EMBED<span></span></pre></td></tr><tr><td scope="row"><pre>SRC="Some.mov"<span></span></pre></td></tr><tr><td scope="row"><pre>QTSRC="My.smil"<span></span></pre></td></tr><tr><td scope="row"><pre>WIDTH="320" HEIGHT="256"<span></span></pre></td></tr><tr><td scope="row"><pre>PLUGINSPAGE="www.apple.com/quicktime/download"<span></span></pre></td></tr><tr><td scope="row"><pre>TYPE="video/quicktime" /><span></span></pre></td></tr></table></div><p>Note that the <code>PLUGINSPAGE</code> and <code>TYPE</code> attributes tell the browser where to get the QuickTime plug-in and that this is a QuickTime movie file.</p><p>Note also that the file whose name is passed in the <code>SRC</code> attribute is not actually displayed, but that it may be downloaded by the browser. For this reason, it is best to pass the name of a very small QuickTime movie or QuickTime image file. You can make such a movie file by opening a single-pixel GIF in QuickTime Player and saving it as a self-contained movie.</p><p>The <code>&lt;embed></code> tag actually works with IE/Win, much as it does in other browsers, but IE/Win does not recognize the <code>PLUGINSPAGE</code> command. Consequently, if the <code>&lt;embed></code> tag is used alone, IE/Win does not offer to download QuickTime for users who need it. For this reason, it is recommended to combine both the <code>&lt;object></code> and <code>&lt;embed></code> tags. This provides a reliable user experience regardless of the user’s browser or operating system. Listing 1-8 provides an example.</p><a name="//apple_ref/doc/uid/CH203-DontLinkElementID_18" title="Listing 2-8Combining the object and embed tags"></a><p class="codesample"><strong>Listing 2-8&nbsp;&nbsp;</strong>Combining the object and embed tags</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;OBJECT<span></span></pre></td></tr><tr><td scope="row"><pre>CLASSID="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"<span></span></pre></td></tr><tr><td scope="row"><pre>CODEBASE="http://www.apple.com/qtactivex/qtplugin.cab"<span></span></pre></td></tr><tr><td scope="row"><pre>WIDTH="320" HEIGHT="256" ><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;PARAM NAME="src" VALUE="My.smil" /><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;EMBED<span></span></pre></td></tr><tr><td scope="row"><pre>SRC="Some.mov"<span></span></pre></td></tr><tr><td scope="row"><pre>QTSRC="My.smil"<span></span></pre></td></tr><tr><td scope="row"><pre>WIDTH="320" HEIGHT="256"<span></span></pre></td></tr><tr><td scope="row"><pre>PLUGINSPAGE="www.apple.com/quicktime/download"<span></span></pre></td></tr><tr><td scope="row"><pre>TYPE="video/quicktime" /><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/OBJECT><span></span></pre></td></tr></table></div><p>Note that the <code>&lt;embed></code> tag must be closed with either a <code>/></code> or a <code>&lt;/embed></code> tag to work correctly inside an <code>&lt;object></code><code>&lt;/object></code> tagset.</p><p>Other methods of playing a SMIL file in a web browser include using the <code>HREF</code> attribute to target QuickTime Player, using a QuickTime reference movie, and using an XML QuickTime Media Link file. For details, see “HTML Scripting Guide for QuickTime.”</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../QTScripting_SMIL_AIntroduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../QTScripting_SMIL_RevHistory/revisionhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-06-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/Conceptual/QTScripting_SMIL/QTScripting_SMIL_Document/QTScripting_SMIL.html%3Fid%3DTP40001527-1.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/Conceptual/QTScripting_SMIL/QTScripting_SMIL_Document/QTScripting_SMIL.html%3Fid%3DTP40001527-1.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/Conceptual/QTScripting_SMIL/QTScripting_SMIL_Document/QTScripting_SMIL.html%3Fid%3DTP40001527-1.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>