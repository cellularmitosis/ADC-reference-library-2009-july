<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>System Services: Services Properties</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Services Properties"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000852" title="Services Properties"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../InterapplicationCommunication-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000451" target="_top">Interapplication Communication</a> &gt; <a href="../index.html" target="_top">System Services</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="menu.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/providing.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000852-DontLinkElementID_9" title="Services Properties"></a><hr /><H1><a name="//apple_ref/doc/uid/20000852-CHDJDFIC" title="Services Properties"></a>Services Properties</H1><p>Any application that has one or more services to provide must advertise the type of data its services can handle. Services are advertised through the <code>NSServices</code> property of the application’s information property list (<code>Info.plist</code> file). </p><div class="notebox"><a name="//apple_ref/doc/uid/20000852-DontLinkElementID_10" title="Note"></a><p><strong>Note:</strong>&nbsp;The information property list (<code>Info.plist</code>) contains key-value pairs that specify the application’s properties that are of interest to the Finder and other applications. Although the <code>Info.plist</code> is a text file that uses XML (Extensible Markup Language) format, you should not modify the XML directly unless you are very familiar with XML syntax. Instead, use Xcode or the Property List Editor application provided with Mac OS X to modify the <code>Info.plist</code> file. You can find more information on property lists in <em>System Overview</em>.</p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="properties.html#//apple_ref/doc/uid/20000852-97498">Property Definitions</a>
				
			<br/>
			
        
			
			
				<!--a  -->Add-On Services<!--/a-->
				
			<br/>
			
        
			
			
				<a href="properties.html#//apple_ref/doc/uid/20000852-97503">Sample Property List</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20000852-97498" title="Property Definitions"></a><h2>Property Definitions</h2><p><code>NSServices</code> is a property whose value is an array of dictionaries that specifies the services provided by the application. Keys for each dictionary entry, are as follows:</p><ul class="ul"><li class="li"><p><code>NSMessage</code> indicates the instance method to invoke. Its value is used to construct an Objective-C method of the form <em>messageName</em><code>:userData:error:</code> or a Java method of the form <em>messageName</em><code>(NSPasteBoard,String)</code>. This message is sent to the application’s service provider object.</p></li><li class="li"><p><code>NSPortName</code> is the name of the port to which the application should listen for service requests. Its value depends on how the service provider application is registered. In most cases, this is the application name. </p></li><li class="li"><p><code>NSMenuItem</code> is a dictionary that specifies the text of the Services menu item. The solitary entry has the key <code><!--a  -->default<!--/a--></code>. Its string value is the menu item text. You can use a slash to specify a submenu. For example, <code>Mail/Send Selection</code> appears in the Services menu as a submenu named Mail with an item named Send Selection. <code>NSMenuItem</code> must be unique, as only one is used in the Services menu if there are duplicates.</p><p>To localize the string, create a <code>ServicesMenu.strings</code> file for each localization in your bundle with the above <code><!--a  -->default<!--/a--></code> menu item string as the lookup key. For example, create a <code>.strings</code> file that has <code>Mail/Send Selection</code> as the key and the localized text as its value. (See <em>System Overview</em> for details on localized strings files.) If a localized string is not found, the <code><!--a  -->default<!--/a--></code> text is used.</p></li><li class="li"><p><code>NSKeyEquivalent</code> is an optional dictionary that specifies the keyboard equivalent that invokes the menu command. Like <code><a href="../../../Reference/ApplicationKit/Classes/NSMenuItem_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSMenuItem" target="_top">NSMenuItem</a></code>, the only entry in the dictionary should have the key <code><!--a  -->default<!--/a--></code> with a string value that can be localized in the <code>ServicesMenu.strings</code> file. The string value must be a single character. The keyboard shortcut is this one character with the Command and Shift key modifiers.</p><p>Use key equivalents sparingly. Remember that your shortcuts are being added to the collection of shortcuts defined by each application as well as defined by the other services. When an application already has a shortcut with that key equivalent, the application’s shortcut wins. If multiple services define the same shortcut, which one gets invoked is undefined.</p></li><li class="li"><p><code>NSSendTypes</code> is an array that contains data type names. Send types are the types sent from the application requesting a service. The NSPasteboard class description lists several common data types. An application that provides a service must specify <code>NSSendTypes</code>, <code>NSReturnTypes</code>, or both.</p></li><li class="li"><p><code>NSReturnTypes</code> is an array that contains data type names. Return types are the data types returned to the application requesting a service. The NSPasteboard class description lists several common data types. An application that provides a service must specify <code>NSSendTypes</code>, <code>NSReturnTypes</code>, or both.</p></li><li class="li"><p><code>NSUserData</code> is an optional string that contains a value of your choice. You can use this string to customize the behavior of your service. For example, if your application provides several similar services, you can have the same <code><!--a  -->NSMessage<!--/a--></code> value for all of them (each service invokes the same method) and use different <code><!--a  -->NSUserData<!--/a--></code> values to distinguish between them. This entry is also useful for applications that provide open-ended, or add-on, services. </p></li><li class="li"><p><code>NSTimeout</code> is an optional numerical string that indicates the number of milliseconds Services should wait for a response from the application providing a service when a response is required. If the wait time exceeds the timeout value, the application aborts the service request and continues without interruption. If you don’t specify this entry, the timeout value is 30000 milliseconds (30 seconds).</p></li></ul><a name="//apple_ref/doc/uid/20000852-97575" title="Add-On Services"></a><h2>Add-On Services</h2><p>You typically define services when you create your application and advertise them in the <code>Info.plist</code> file of the application’s bundle. The services facility also allows you to advertise services outside of the application bundle, enabling you to create “add-on” services after the fact. This is where the <code><!--a  -->NSUserData<!--/a--></code> entry becomes truly useful: You can define a single message in your application that performs actions based on the user data provided, such as running the user data string as a UNIX command or treating it as a special argument in addition to the selected data that gets sent through the pasteboard. To define an add-on service, you create a bundle with a <code>.service</code> extension that contains an <code>Info.plist</code> file, which in turn contains the add-on service specification. The service specification uses the application’s <code><!--a  -->NSMessage<!--/a--></code> and <code><!--a  -->NSPortName<!--/a--></code> values.</p><a name="//apple_ref/doc/uid/20000852-97503" title="Sample Property List"></a><h2>Sample Property List</h2><p>The <code>NSServices</code> property for the Grab application is shown in <span class="content_text"><a href="properties.html#//apple_ref/doc/uid/20000852-97283">Figure 1</a></span> as it appears in the Property List Editor application. </p><p>The <code>NSServices</code> property has three entries, one for each service offered by Grab. The first entry is for the menu item Grab > Selection. The slash notation—<code>Grab/Selection</code>—specifies that Selection should be an item in the Grab submenu. (See <span class="content_text"><a href="architecture.html#//apple_ref/doc/uid/20000850-97162">Figure 4</a></span>.) </p><p>Note that for each of the three entries, the port name is Grab. As mentioned, the port name is usually the application name.</p><p>Each entry has one return type, <code>NSTIFFPboardType</code>. An application could have more than one return type per entry, and the return types don’t necessarily need to be the same for each entry. </p><p>The entry for <code>Grab/Timed Screen</code> is the only entry that has a specified timeout value. This optional entry is needed in this case so that the Grab application can wait for the user to set up the screen before taking a screen shot.</p><br/><div><a name="//apple_ref/doc/uid/20000852-DontLinkElementID_11" title="Figure 1The NSServices property for the Grab application"></a><p><a name="//apple_ref/doc/uid/20000852-97283" title="Figure 1The NSServices property for the Grab application"></a><strong>Figure 1&nbsp;&nbsp;</strong>The NSServices property for the Grab application</p><img src = "Art/servicesplist.gif" alt = "The NSServices property for the Grab application" width="545" height="557"></div><br/>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="menu.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/providing.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2002 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2002-11-12<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/SysServices/Concepts/properties.html%3Fid%3D10000101i-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/SysServices/Concepts/properties.html%3Fid%3D10000101i-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/SysServices/Concepts/properties.html%3Fid%3D10000101i-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
