<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><TITLE>Technical Q&amp;A PLAT28: Stub Library FAQ</TITLE><meta name="keywords" content="Mac OS 8 Stub Library FAQ stub library"><meta name="Description" content="Q&amp;A presents a FAQ on stub libraries that answers such questions as what are stub libraries, how to use stub libraries, why use stub libraries, differences between shared libraries and stub libraries, etc., etc."><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001538" title="Stub Library FAQ"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/DeveloperTools/index.html">Tools</a> &gt; <a href="../../technicalqas/DeveloperTools/idxCompilersDebuggers-date.html">Compiling & Debugging</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A PLAT28</div>
<div id="pageheadsub">Stub Library FAQ</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <TD align="left"><HR ALIGN="center" WIDTH="550"><p id = p2>Q:What goes in the ETO folder:Interfaces&amp;Libraries:Libraries:SharedLibraries: ?</p><p id=p4>A: Only "stub" library files.</p><p id = p2>Q:What is a stub library?</p><p id=p4>A: A PEF shared library which has no code or data sections - onlyexports. The file type is <code>'stub'</code> and creator is <code>'MPS '</code>.</p><p id = p2>Q:How do I make a stub library?</p><p id=p4>A: Use the MPW tool <code>MakeStub</code>, which takes an export list as input.</p><p id = p2>Q:What is the difference between a stub library and a shared library?</p><p id=p4>A: A stub library is the "interface" to a shared library. A runtimelibrary is the "implementation" of a shared library.</p><p id = p2>Q:Why was the concept of stub libraries created?</p><p id=p4>A: To separate interface and implementation of shared libraries. This isnecessary if you want to build two or more shared libraries that aremutually dependent on one another. Without a stub library, you are in aCatch-22 and cannot link one without the other. Since the "interfaces"(i.e., the list of exports) for a shared library are usually frozen earlyon, a stub library can be created separately and the Catch-22 is removed.</p><p id = p2>Q:What if the Code Fragment Manager finds and tries to load a stub library which contains no code?</p><p id=p4>A: The file type of all stub libraries is <code>'stub'</code>. CFM will not find andload shared libraries with this file type.</p><p id = p2>Q:How are stub libraries named?</p><p id=p4>A: Stub libraries must have the same fragment name and PEF versioning asthe implementation library, but the file name can differ. Our conventionis that the stub library file name should be the same as the fragment name. Ifwe've been shipping the stub library with a different file name, we willkeep that file name to avoid breaking developer's builds.</p><p id = p2>Q:Should stub libraries be "fat"?</p><p id=p4>A: If a shared library is available in both PowerPC and CFM-68K forms, afat stub library should be created for it. You will need to run <code>MakeStub</code>twice (once for CFM-68K and once for PowerPC) and then <code>MergeFragment</code> theminto one file.</p><CENTER><TABLE BORDER=0 WIDTH=550><TR><TD BGCOLOR="#E6E6E6" align="left"><P><B>Note:</B><BR>It is our convention that PowerPC and CFM-68Kfragments that implement the same functionality should use the same fragmentname (e.g., "InterfaceLib" is the fragment name used by both CFM-68K andPowerPC).</P></TD></TR></TABLE></CENTER> </td></tr></table></CENTER><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[Mar 14 1997]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/plat/plat28.html%3Fid%3DDTS10001538-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/plat/plat28.html%3Fid%3DDTS10001538-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/plat/plat28.html%3Fid%3DDTS10001538-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <HR width=550 align=center> </BODY> </HTML>