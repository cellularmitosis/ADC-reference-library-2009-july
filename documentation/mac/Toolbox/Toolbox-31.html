<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Operating-System Events(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING31></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-30.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-32.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-28.html"><B>Chapter 2 - Event Manager</B></A> / <A HREF="Toolbox-29.html"><B>Introduction to Events</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING31-0></A>
<H2>Operating-System Events</H2>
 <A NAME=MARKER-9-600></A>The cooperative, multitasking environment allows the user to interact with your application and with other applications. The Process Manager coordinates the scheduling of applications, and the Event Manager communicates information about changes in the operating status of applications to the applications involved. <P>
 For example, when your application is about to be switched into the background, the Event Manager sends it a <B>suspend event.</B> Then, when your application is switched back into the foreground, it receives a <B>resume event.</B> These types of events, as well as a special type of mouse event, the <B>mouse-moved event,</B> are known as <B>operating-system events.</B><A NAME=MARKER-9-627></A><A NAME=MARKER-2-282></A><A NAME=MARKER-2-43></A><P>
 <A HREF=#MARKER-9-44>Figure 2-3</A> illustrates how the Event Manager helps provide this cooperative, multitasking environment. The Process Manager generates suspend, resume, and mouse-moved events, and the Event Manager reports these events to applications.<P>
<B>Figure 2-3  <A NAME=MARKER-9-44></A>Operating-system events </B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/Figure_1-3_EV-02.jpg"><P>
<DL>
<DT><B>Note</B>
<DD>If your application sets the acceptSuspendResumeEvents and doesActivateOnFGSwitch flags in its <CODE>'SIZE'</CODE> resource, your application is also responsible for activating or deactivating any windows as appropriate in response to operating-system events. For maximum compatibility, your application should set these flags and handle suspend and resume events. See <A HREF=Toolbox-87.html#MARKER-9-485>"The Size Resource"</A> beginning on <A HREF=Toolbox-87.html#MARKER-9-485>page 2-115</A> for more information on these and other flags in the <CODE>'SIZE'</CODE> resource.<A NAME=MARKER-2-105></A> <EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 When your application receives a suspend event, it does not actually switch to the background until it makes its next request to receive events from the Event Manager. At the time that it receives the suspend event, your application should convert any private scrap into the global scrap if necessary. Your application should hide scroll bars, remove the highlighting from any selections, and hide any floating windows. If your application shows a window that displays the Clipboard contents, you should hide this window also. Then you should call <CODE>WaitNextEvent</CODE> to relinquish the CPU and allow the Operating System to schedule other processes for execution. It is important to minimize the processing you do in response to a suspend event so that the computer appears responsive to the user. <A NAME=MARKER-2-211></A><P>
 When control returns to your application, the first event it receives is a resume event. Your application should convert the global scrap back to its private scrap, if necessary. Your application should also restore any windows to the state the user left them in at the time of the previous suspend event. For example, your application should show any scroll bars, highlight any selections, and show any floating windows. See <A HREF=Toolbox-41.html#MARKER-9-239>"Responding to Suspend and Resume Events"</A> beginning on <A HREF=Toolbox-41.html#MARKER-9-239>page 2-60</A> for complete details of how your application should respond to these events.<A NAME=MARKER-2-47></A><P>
 The events that your application can receive in the background are update, null, and high-level events. When your application is in the background, it should not perform any processing that would make the foreground process appear unresponsive to the user. When receiving events in the background, your application should perform any needed action in response to an event and then quickly return. <A NAME=MARKER-9-162></A><P>
 Your application should never interact with the user when it is in the background. If you need to notify the user of some special occurrence while your application is executing <BR>in the background, you should use the Notification Manager to queue a notification request. You should not attempt to display an alert box while your application is in the background. Instead, your application can specify that the Notification Manager play <BR>a sound, display an alert box, cause a small icon representing your application to <BR>blink in alternation with the Application menu icon, display a diamond next to your application's name in the Application menu, or put a combination of these actions <BR>into effect. <A NAME=MARKER-2-409></A><P>
 These actions are designed to alert the user that another application needs the user's attention. By using the Notification Manager you help maintain the user interface principle of giving the user control, as the user can choose to bring the application requesting attention to the foreground at the user's convenience.<A NAME=MARKER-2-123></A> See the chapter "Notification Manager" in <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I> for examples of how to post notification requests.<P>
 Another kind of operating-system event is the mouse-moved event. You can request that the Event Manager send your application a mouse-moved event whenever the cursor <BR>is outside of a region that you specify to the <CODE>WaitNextEvent</CODE> function. For example, you can use mouse-moved events as a convenient way for your application to change the appearance of the cursor as the user moves the cursor from the text area of a document to the scroll bar. See <A HREF=Toolbox-41.html#MARKER-9-249>"Responding to Mouse-Moved Events" beginning on page 2-62</A> for detailed examples. <A NAME=MARKER-2-155></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-30.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-32.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
