<html><head><title>Mac OS X Developer Tools
 Manual Page For agvtool(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/agvtool" title="Mac OS X Developer Tools
 Manual Page for agvtool(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/agvtool"; name=agvtool(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
AGVTOOL(1)                BSD General Commands Manual               <!-- a -->AGVTOOL(1)<!-- /a -->

<b>NAME</b>
     <b>agvtool</b> -- Apple-generic versioning tool for Xcode projects

<b>SYNOPSIS</b>
     <b>agvtool</b> what-version | vers [<b>-terse</b>]
     <b>agvtool</b> [<b>-noscm</b> | <b>-usecvs</b> | <b>-usesvn</b>] next-version | bump [<b>-all</b>]
     <b>agvtool</b> [<b>-noscm</b> | <b>-usecvs</b> | <b>-usesvn</b>] new-version [<b>-all</b>] <u>versionNumber</u>
     <b>agvtool</b> [<b>-noscm</b> | <b>-usecvs</b> | <b>-usesvn</b>] tag [<b>-force</b> | <b>-F</b>] [<b>-noupdatecheck</b> | <b>-Q</b>] [<b>-baseurlfortag</b>]
     <b>agvtool</b> what-marketing-version | mvers [<b>-terse</b> | <b>-terse1</b>]
     <b>agvtool</b> [<b>-noscm</b> | <b>-usecvs</b> | <b>-usesvn</b>] new-marketing-version <u>version</u>

<b>DESCRIPTION</b>
     <b>agvtool</b> helps speed up common operations for Xcode projects that use the Apple Generic Versioning sys-<font color="#ffffff" class="whiteout">tem.&nbsp;system.</font>
     tem.

     You enable versioning support by setting up some build settings in your project.

   <b>Build</b> <b>Settings</b>
     The settings used by the apple-generic versioning system are as follows:

     VERSIONING_SYSTEM         This must be set to ``apple-generic'' at the project level to enable version-<font color="#ffffff" class="whiteout">ing.&nbsp;versioning.</font>
                               ing.

     CURRENT_PROJECT_VERSION   This setting defines the the current version of the project. The value must
                               be a integer or floating point number like 57 or 365.8.

     DYLIB_CURRENT_VERSION     This setting defines the the current version of any framework built by the
                               project. Like CURRENT_PROJECT_VERSION the value must be an integer or float-<font color="#ffffff" class="whiteout">ing&nbsp;floating</font>
                               ing point number like 57 or 365.8. By default it is set to
                               ``$(CURRENT_PROJECT_VERSION)''.

     VERSION_INFO_PREFIX       Used as a prefix for the name of the version info symbol in the generated
                               versioning source file.  If you prefix your exported symbols you will proba-<font color="#ffffff" class="whiteout">bly&nbsp;probably</font>
                               bly want to set this to the same prefix.

     VERSION_INFO_SUFFIX       Used as a suffix for the name of the version info symbol in the generated
                               versioning source file.  This is rarely used.

     VERSION_INFO_BUILDER      This defines a reference to the user performing a build to be included in the
                               generated stub, and defaults to the value of the USER environment variable.

     VERSION_INFO_EXPORT_DECL  This defines a prefix string for the version info symbol declaration in the
                               generated stub. This can be used, for example, to add an optional `export'
                               keyword to the version symbol declaration. This should rarely be changed.

     VERSION_INFO_FILE         Used to specify a name for the source file that will be generated and com-<font color="#ffffff" class="whiteout">piled&nbsp;compiled</font>
                               piled into your product.  By default this is set to
                               ``$(PRODUCT_NAME)_vers.c''.

     To enable Apple Generic Versioning, then, you must set up at least the VERSIONING_SYSTEM and
     CURRENT_PROJECT_VERSION project build settings for each project you want to be versioned.  The target
     of a versioned project will have two global variables generated and linked into your product.  One is
     of type double and is simply the CURRENT_PROJECT_VERSION.  The other is a version string which is for-<font color="#ffffff" class="whiteout">matted&nbsp;formatted</font>
     matted to be compatible with <a href="../man1/what.1.html#//apple_ref/doc/man/1/what">what(1)</a>.  These variables are available for use in your code.

     Projects with multiple targets are required to have the same CURRENT_PROJECT_VERSION for each target.
     The easiest way to achieve this is to set CURRENT_PROJECT_VERSION at the project level.

   <b>Usage</b>
     <b>agvtool</b> should be invoked with the working directory set to your project directory (the folder contain-<font color="#ffffff" class="whiteout">ing&nbsp;containing</font>
     ing your .xcodeproj project file).

     <b>agvtool</b> pays attention to the following defaults for CVS usage: CVSEnabled and CVSToolPath.

     If CVSEnabled is set to YES then <b>agvtool</b> will perform certain CVS operations like committing modified
     project files and performing tagging operations.  You can set this default by issuing the following
     command:

           defaults write agvtool CVSEnabled YES

     The sense of this default can be overidden by supplying an explicit <b>-noscm</b> (which turns off CVS and
     Subversion usage), <b>-usecvs</b> (which turns on CVS usage and turns off Subversion usage), or <b>-usesvn</b> (which
     turns off CVS usage and turns on Subversion usage).

     Set CVSToolPath to point to the location of the cvs tool to use. If this default is not set then
     <b>agvtool</b> will use <u>/usr/bin/ocvs</u> if it exists. Otherwise <u>/usr/bin/cvs</u> will be used. You can set this
     default by issuing the following command:

           defaults write agvtool CVSToolPath <u>pathToCVS</u>

     <b>agvtool</b> pays attention to the following defaults for Subversion usage: SVNEnabled and SVNToolPath.

     If SVNEnabled is set to YES then <b>agvtool</b> will perform certain Subversion operations like committing
     modified project files and performing tagging operations.  You can set this default by issuing the fol-<font color="#ffffff" class="whiteout">lowing&nbsp;following</font>
     lowing command:

           defaults write agvtool SVNEnabled YES

     The sense of this default can be overidden by supplying an explicit <b>-noscm</b> (which turns off CVS and
     Subversion usage), <b>-usecvs</b> (which turns on CVS usage and turns off Subversion usage), or <b>-usesvn</b> (which
     turns off CVS usage and turns on Subversion usage).

     Set SVNToolPath to point to the location of the svn tool to use. If this default is not set then
     <b>agvtool</b> will use <u>/usr/local/bin/svn</u> if it exists. You can set this default by issuing the following
     command:

           defaults write agvtool SVNToolPath <u>pathToSVN</u>

   <b>Commands</b> <b>And</b> <b>Options</b>
     what-version | vers [<b>-terse</b>]
           Prints out the current version number of the project.

           The <b>-terse</b> option can be used to limit the output to the version number only.

     next-version | bump [<b>-all</b>]
           Increments the version numbers of all versioned targets to the next highest integral value.  For
           example, 54 will change to 55 and 234.6 will change to 235.

           The CURRENT_PROJECT_VERSION and the DYLIB_CURRENT_VERSION will be updated.  The <b>-all</b> option will
           also update the CFBundleVersion Info.plist key.

           If CVS support is enabled, the modified project file will be committed.

     new-version [<b>-all</b> <u>version</u>]
           Sets the version numbers of all versioned targets to the given version.

           The CURRENT_PROJECT_VERSION and the DYLIB_CURRENT_VERSION will be updated.  The <b>-all</b> option will
           also update the CFBundleVersion Info.plist key.

           If CVS support is enabled, the modified project file will be committed.

     tag [<b>-force</b> | <b>-F</b>] [<b>-noupdatecheck</b> | <b>-Q</b>] [<b>-baseurlfortag</b>]
           Create a new tag <u>projectname</u>-<u>currentversion</u> where <u>projectname</u> is the name of the Xcode project
           file (without the extension) and <u>currentversion</u> is the CURRENT_PROJECT_VERSION with any `.'
           transformed into `~' (since CVS does not allow dots in tag names).

           The <b>-force</b> or <b>-F</b> option will add a <b>-F</b> to the tag operation.

           The <b>-noupdatecheck</b> or <b>-Q</b> option skips the cvs update usually done prior to tagging to ensure that
           there are no uncommitted changes.

           The <b>-baseurlfortag</b> option can be used to provide a URL that points to the directory to place the
           "tag" in when using Subversion. This overrides the SVNBaseTagURL default. This option is ignored
           if Subversion is not being used.

           <u>Note:</u> This command will only function if CVS or Subversion support is enabled.

     what-marketing-version | mvers [<b>-terse</b>]
           Prints the current marketing version of the project. For native targets, a marketing version is
           listed for each Info.plist file found. For Jambase targets a marketing version is shown if a com-<font color="#ffffff" class="whiteout">mon&nbsp;common</font>
           mon value is found.

           The marketing version is the CFBundleShortVersionString Info.plist key. This is often a totally
           different version determined by product marketing folks.

           The <b>-terse</b> option will limit the output to the version number only.

           The <b>-terse1</b> option will limit the output to the first version number found, and only display the
           version number.

     new-marketing-version <u>version</u>
           Sets the marketing version numbers of all versioned targets to the given version number.

           The marketing version is the CFBundleShortVersionString Info.plist key. This is often a totally
           different version determined by product marketing folks.

           If CVS support is enabled, the modified project file will be committed.

           Do not use this command on a project with targets that track different marketing versions.

Mac OS X                         April 4, 2006                        Mac OS X
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/agvtool.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/agvtool.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/agvtool.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
