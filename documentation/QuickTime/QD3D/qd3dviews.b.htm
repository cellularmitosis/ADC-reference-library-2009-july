<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Writing in a View</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=1571"> </A>Writing in a View</H1><P CLASS="T1.Text1"><A NAME="pgfId=1583"> </A><A NAME="marker=1578"> </A><A NAME="marker=1579"> </A>QuickDraw&nbsp;3D provides routines that you can use to manage the process of writing a view's data to a file. The view must already exist and be fully configured before you call these routines.</P><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=1729"> </A>Q3View_StartWriting</H2><P CLASS="T1.Text1"><A NAME="pgfId=1665"> </A><A NAME="marker=1664"> </A>You can use the <TT CLASS="cv">Q3View_StartWriting</TT> function to start writing to a file.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=9077"> </A>TQ3Status Q3View_StartWriting (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3ViewObject view, <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3FileObject file);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=9079"> </A><TT CLASS="cv">view</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1667"> </A>A view.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=9088"> </A><TT CLASS="cv">file</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1668"> </A>A file object.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=1669"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=1670"> </A>The <TT CLASS="cv">Q3View_StartWriting</TT> function begins the process of writing in the view specified by the <TT CLASS="cv">view</TT> parameter, using the file object specified by the <TT CLASS="cv">file</TT> parameter. After calling <TT CLASS="cv">Q3View_StartWriting</TT>, you specify the model (for instance, by calling <TT CLASS="cv">Q3Geometry_Submit</TT>). When you have completely specified that model, you should call <TT CLASS="cv">Q3View_EndWriting</TT> to complete the write operation. The renderer attached to the specified view might need to reprocess the model data, so you should always call <TT CLASS="cv">Q3View_StartWriting</TT> and <TT CLASS="cv">Q3View_EndWriting</TT> in a writing loop.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=1671"> </A>SPECIAL CONSIDERATIONS</H3><P CLASS="T1.Text1"><A NAME="pgfId=1672"> </A>You should not call <TT CLASS="cv">Q3View_StartWriting</TT> while writing is already occurring.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=1673"> </A>Q3View_EndWriting</H2><P CLASS="T1.Text1"><A NAME="pgfId=1675"> </A><A NAME="marker=1674"> </A>You can use the <TT CLASS="cv">Q3View_EndWriting</TT> function to end writing to a file.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=9099"> </A>TQ3ViewStatus Q3View_EndWriting (TQ3ViewObject view);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=9101"> </A><TT CLASS="cv">view</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1677"> </A>A view.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=1678"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=1679"> </A>The <TT CLASS="cv">Q3View_EndWriting</TT> function returns, as its function result, a view status value that indicates the current state of the writing in the view specified by the <TT CLASS="cv">view</TT> parameter. <TT CLASS="cv">Q3View_EndWriting</TT> returns one of these four values:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=9112"> </A>typedef enum TQ3ViewStatus {<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3ViewStatusDone,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3ViewStatusRetraverse,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3ViewStatusError,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3ViewStatusCancelled<BR>} TQ3ViewStatus;<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=1682"> </A><A NAME="marker=9114"> </A>If <TT CLASS="cv">Q3View_EndWriting</TT> returns <TT CLASS="cv">kQ3ViewStatusDone</TT>, the writing has been completed and the specified view is no longer in writing mode. At that point, it is safe to exit your writing loop.</P><P CLASS="T1.Text1"><A NAME="pgfId=1683"> </A>If <TT CLASS="cv">Q3View_EndWriting</TT> returns <TT CLASS="cv">kQ3ViewStatusRetraverse</TT>, the writing has not yet been completed. You should respecify the model by reentering your writing loop.</P><P CLASS="T1.Text1"><A NAME="pgfId=1684"> </A>If <TT CLASS="cv">Q3View_EndWriting</TT> returns <TT CLASS="cv">kQ3ViewStatusError</TT>, the writing has failed because the renderer associated with the view encountered an error in processing the model. You should exit the writing loop.</P><P CLASS="T1.Text1"><A NAME="pgfId=1685"> </A>If <TT CLASS="cv">Q3View_EndWriting</TT> returns <TT CLASS="cv">kQ3ViewStatusCancelled</TT>, the writing has been canceled. You should exit the writing loop.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=1686"> </A>SPECIAL CONSIDERATIONS</H3><P CLASS="T1.Text1"><A NAME="pgfId=1689"> </A>You should call <TT CLASS="cv">Q3View_EndWriting</TT> only if writing is already occurring.<A NAME="marker=1687"> </A><A NAME="marker=3379"> </A></P></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>