<html><head><title>Mac OS X
 Manual Page For herror(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/herror" title="Mac OS X
 Manual Page for herror(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/herror"; name=herror(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GETHOSTBYNAME(3)         BSD Library Functions Manual         <!-- a -->GETHOSTBYNAME(3)<!-- /a -->

<b>NAME</b>
     <b>endhostent</b>, <b>gethostbyaddr</b>, <b>gethostbyname</b>, <b>gethostbyname2</b>, <b>gethostent</b>, <b>herror</b>, <b>hstrerror</b>, <b>sethostent</b> --<font color="#ffffff" class="whiteout">get&nbsp;-get</font>
     get network host entry

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;netdb.h&gt;</b>

     <u>extern</u> <u>int</u> <u>h</u><b>_</b><u>errno</u>;

     <u>void</u>
     <b>endhostent</b>(<u>void</u>);

     <u>struct</u> <u>hostent</u> <u>*</u>
     <b>gethostbyaddr</b>(<u>const</u> <u>void</u> <u>*addr</u>, <u>socklen</u><b>_</b><u>t</u> <u>len</u>, <u>int</u> <u>type</u>);

     <u>struct</u> <u>hostent</u> <u>*</u>
     <b>gethostbyname</b>(<u>const</u> <u>char</u> <u>*name</u>);

     <u>struct</u> <u>hostent</u> <u>*</u>
     <b>gethostbyname2</b>(<u>const</u> <u>char</u> <u>*name</u>, <u>int</u> <u>af</u>);

     <u>struct</u> <u>hostent</u> <u>*</u>
     <b>gethostent</b>(<u>void</u>);

     <u>void</u>
     <b>herror</b>(<u>const</u> <u>char</u> <u>*string</u>);

     <u>const</u> <u>char</u> <u>*</u>
     <b>hstrerror</b>(<u>int</u> <u>err</u>);

     <u>void</u>
     <b>sethostent</b>(<u>int</u> <u>stayopen</u>);

<b>DESCRIPTION</b>
     The <b>gethostbyname</b>(), <b>gethostbyname2</b>() and <b>gethostbyaddr</b>() functions each return a pointer to an object
     with the following structure describing an internet host referenced by name or by address, respec-<font color="#ffffff" class="whiteout">tively.&nbsp;respectively.</font>
     tively.  This structure contains either the information obtained from the name server, <a href="../man8/named.8.html#//apple_ref/doc/man/8/named">named(8)</a>, or
     broken-out fields from a line in <u>/etc/hosts</u>.  If the local name server is not running these routines do
     a lookup in <u>/etc/hosts</u>.

     struct  hostent {
             char    *h_name;        /* official name of host */
             char    **h_aliases;    /* alias list */
             int     h_addrtype;     /* host address type */
             int     h_length;       /* length of address */
             char    **h_addr_list;  /* list of addresses from name server */
     };
     #define h_addr  h_addr_list[0]  /* address, for backward compatibility */

     The members of this structure are:

     <u>h</u><b>_</b><u>name</u>       Official name of the host.

     <u>h</u><b>_</b><u>aliases</u>    A NULL-terminated array of alternate names for the host.

     <u>h</u><b>_</b><u>addrtype</u>   The type of address being returned; usually AF_INET.

     <u>h</u><b>_</b><u>length</u>     The length, in bytes, of the address.

     <u>h</u><b>_</b><u>addr</u><b>_</b><u>list</u>  A NULL-terminated array of network addresses for the host.  Host addresses are returned in
                  network byte order.

     <u>h</u><b>_</b><u>addr</u>       The first address in <u>h</u><b>_</b><u>addr</u><b>_</b><u>list</u>; this is for backward compatibility.

     When using the nameserver, <b>gethostbyname</b>() and <b>gethostbyname2</b>() will search for the named host in the
     current domain and its parents unless the name ends in a dot.  If the name contains no dot, and if the
     environment variable ``HOSTALIASES'' contains the name of an alias file, the alias file will first be
     searched for an alias matching the input name.  See <a href="../man7/hostname.7.html#//apple_ref/doc/man/7/hostname">hostname(7)</a> for the domain search procedure and the
     alias file format.

     The <b>gethostbyname2</b>() function is an evolution of <b>gethostbyname</b>() which is intended to allow lookups in
     address families other than AF_INET, for example AF_INET6.  Both of these address families are sup-<font color="#ffffff" class="whiteout">ported&nbsp;supported</font>
     ported in the Mac OS X implemention.

     The <b>sethostent</b>() function may be used to request the use of a connected TCP socket for queries.  If the
     <u>stayopen</u> flag is non-zero, this sets the option to send all queries to the name server using TCP and to
     retain the connection after each call to <b>gethostbyname</b>(), <b>gethostbyname2</b>() or <b>gethostbyaddr</b>().  Other-<font color="#ffffff" class="whiteout">wise,&nbsp;Otherwise,</font>
     wise, queries are performed using UDP datagrams.

     The <b>endhostent</b>() function closes the TCP connection.

     The <b>herror</b>() function writes a message to the diagnostic output consisting of the string parameter <u>s</u>,
     the constant string ": ", and a message corresponding to the value of <u>h</u><b>_</b><u>errno</u>.

     The <b>hstrerror</b>() function returns a string which is the message text corresponding to the value of the
     <u>err</u> parameter.

<b>FILES</b>
     /etc/hosts
     /etc/host.conf
     /etc/resolv.conf

<b>DIAGNOSTICS</b>
     Error return status from <b>gethostbyname</b>(), <b>gethostbyname2</b>() and <b>gethostbyaddr</b>() is indicated by return
     of a NULL pointer.  The external integer <u>h</u><b>_</b><u>errno</u> may then be checked to see whether this is a temporary
     failure or an invalid or unknown host.  The routine <b>herror</b>() can be used to print an error message
     describing the failure.  If its argument <u>string</u> is non-NULL, it is printed, followed by a colon and a
     space.  The error message is printed with a trailing newline.

     The variable <u>h</u><b>_</b><u>errno</u> can have the following values:

     HOST_NOT_FOUND  No such host is known.

     TRY_AGAIN       This is usually a temporary error and means that the local server did not receive a
                     response from an authoritative server.  A retry at some later time may succeed.

     NO_RECOVERY     Some unexpected server failure was encountered.  This is a non-recoverable error.

     NO_DATA         The requested name is valid but does not have an IP address; this is not a temporary
                     error.  This means that the name is known to the name server but there is no address
                     associated with this name.  Another type of request to the name server using this
                     domain name will result in an answer; for example, a mail-forwarder may be registered
                     for this domain.

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;netdb.h&gt;</b>

     <u>extern</u> <u>int</u> <u>h</u><b>_</b><u>errno</u>;

     <u>struct</u> <u>hostent</u> <u>*</u>
     <b>gethostbyaddr</b>(<u>const</u> <u>void</u> <u>*addr</u>, <u>socklen</u><b>_</b><u>t</u> <u>len</u>, <u>int</u> <u>type</u>);

     The type of <u>addr</u> has changed slightly.

<b>SEE</b> <b>ALSO</b>
     <a href="getaddrinfo.3.html#//apple_ref/doc/man/3/getaddrinfo">getaddrinfo(3)</a>, <a href="resolver.3.html#//apple_ref/doc/man/3/resolver">resolver(3)</a>, <a href="../man5/hosts.5.html#//apple_ref/doc/man/5/hosts">hosts(5)</a>, <a href="../man7/hostname.7.html#//apple_ref/doc/man/7/hostname">hostname(7)</a>, <a href="../man8/named.8.html#//apple_ref/doc/man/8/named">named(8)</a>

<b>CAVEAT</b>
     The <b>gethostent</b>() function is defined, and <b>sethostent</b>() and <b>endhostent</b>() are redefined, when libc is
     built to use only the routines to lookup in <u>/etc/hosts</u> and not the name server.

     The <b>gethostent</b>() function reads the next line of <u>/etc/hosts</u>, opening the file if necessary.

     The <b>sethostent</b>() function opens and/or rewinds the file <u>/etc/hosts</u>.  If the <u>stayopen</u> argument is non-<font color="#ffffff" class="whiteout">zero,&nbsp;nonzero,</font>
     zero, the file will not be closed after each call to <b>gethostbyname</b>(), <b>gethostbyname2</b>() or
     <b>gethostbyaddr</b>().

     The <b>endhostent</b>() function closes the file.

<b>HISTORY</b>
     The <b>herror</b>() function appeared in 4.3BSD.  The <b>endhostent</b>(), <b>gethostbyaddr</b>(), <b>gethostbyname</b>(),
     <b>gethostent</b>(), and <b>sethostent</b>() functions appeared in 4.2BSD.  The <b>gethostbyname2</b>() function first
     appeared in BIND version 4.9.4.

<b>BUGS</b>
     These functions use static data storage; if the data is needed for future use, it should be copied
     before any subsequent calls overwrite it.  Only the Internet address format is currently understood.

BSD                              May 25, 1995                              BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/herror.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/herror.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/herror.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
