<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>JSP-Page Writing Guidelines</title>		</HEAD>	<body bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Developing__pplications.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="Creating_a__Application.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "BBCHIEDH"></a><h2><font face="Lucida Grande,Helvetica,Arial">JSP-Page Writing Guidelines</font></h2><!-- apple_doc: pageHeadingEnd --><p>To be able to use WebObjects components in your JSP pages,you have to include the <code>WOTaglib_1_0.tld</code> customtag library. It's located in <code>/System/Library/Frameworks/JavaWOJSPServlet.framework/Resources</code>. This custom tag library uses the tag library descriptor format definedin a DTD (Document Type Definition) from Sun. This DTD is availableat <a href="http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_1.dtd"target="_top">http://java.sun.com/j2ee/dtds/web-jsptaglibrary_1_1.dtd</a>.</p><p>The tags you use in your JSP pages have the form <code>&lt;wo:</code><em>tagName</em><code>&gt;</code>. <em>tagName</em> indicatesthe type of element you want to use. For example, to use a <code>component</code> elementwithin a JSP page, you add code like the following to the <code>.jsp</code> file:</p><pre>&lt;wo:component ...&gt;    ...&lt;/wo:component&gt;</pre><p>Version 1.0 of the custom tag library defines five tags asdescribed in  <a href="#BBCIIBHA">Table 3-1</a>.</p><br><table border = "1"><a name = "BBCIIBHA"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Table3-1 Custom tags defined in WOTaglib_1_0.tld</font></b></p><br><b><font face="Geneva,Helvetica,Arial" size="1"><tr><td scope="row">Tag</td><td>Children</td><td>Description</td></tr></b></font><tr><td scope="row"><code>&lt;wo:component&gt;</code></td><td><code>binding</code><code>extraHeader</code></td><td>Top-level element. Specifies the component that is usedin the JSP page.</td></tr><tr><td scope="row"><code>&lt;wo:directAction&gt;</code></td><td><code>formValue</code><code>extraHeader</code></td><td>Top-level element. Specifies the direct action that isused in the JSP page.</td></tr><tr><td scope="row"><code>&lt;wo:extraHeader&gt;</code></td><td>None</td><td>Specifies the extra HTTP headers to be passed to thecomponent or direct action.</td></tr><tr><td scope="row"><code>&lt;wo:binding&gt;</code></td><td>None</td><td>Specifies the key-value pair to be passed to the containing <code>&lt;wo:component&gt;</code> forbinding.</td></tr><tr><td scope="row"><code>&lt;wo:formValue&gt;</code></td><td>None</td><td>Specifies the form value to be passed to the containing <code>&lt;wo:directAction&gt;</code>.</td></tr></table><br><p>For detailed information on the WebObjects custom tag library,see  <a href="Custom_Tag_Reference.html#BBCBJGID" target = "content">"Custom-Tag Reference"</a>.</p><p>To use the <code>&lt;wo:component&gt;</code> or <code>&lt;wo:directAction&gt;</code> tagson a JSP page, you must add the following directive to the page:</p><pre>&lt;%@ taglib uri=&quot;/WOtaglib_1_0.tld&quot; prefix=&quot;wo&quot; %&gt;</pre><p>When you need to access WebObjects classes or objects fromyour JSP page, you need to copy all the framework and applicationJAR files necessary into the WAR file. You accomplish this by callingthe <code>initStatics</code> methodof the WOServletAdaptor class:</p><pre>&lt;% WOServletAdaptor.initStatics(application); %&gt;</pre><p>Note that you need to invoke the <code>initStatics</code> methodonly once during the lifetime of an application. Furthermore, anytimea <code>&lt;wo:component&gt;</code> or <code>&lt;wo:directAction&gt;</code> tagis used in a JSP page, the method is invoked automatically.</p><p>You also need to import the appropriate packages before usingthe classes with the <code>import</code> attributeof the page directive in your JSP page:</p><pre>&lt;%@ page import = &quot;com.webobjects.jspservlet.*&quot; %&gt;</pre><p>These directives need to be performed only once per page.However, additional invocations have no ill effect. Referencingclasses directly is useful when using components that require bindingvalues&#151;for example, a WORepetition whose <code>list</code> attributeis bound to an array of enterprise-object instances.</p><p>This is an example of a <code>directAction</code> definition:</p><pre>&lt;wo:directAction actionName=&quot;random&quot; className=&quot;DirectAction&quot;&gt;    &lt;wo:formValue key = &quot;formKey&quot; value = '&lt;%= &quot;formValue&quot; %&gt;'/&gt;    &lt;wo:extraHeader key = &quot;headerKey&quot; value = '&lt;%= &quot;headerValue&quot; %&gt;'/&gt;&lt;/wo:directAction&gt;</pre><p>This is an example of a <code>component</code> definition:</p><pre>&lt;wo:component className=&quot;MyImageComponent&quot;&gt;    &lt;wo:binding key=&quot;filename&quot; value='&lt;%= &quot;start.gif&quot; %&gt;' /&gt;&lt;/wo:component&gt;</pre><p>To embed dynamic elements in a JSP page, such WOConditionaland WORepetition, you have to wrap them in a WebObjects component,which you then use in your JSP page.</p><br>    <br><a href="Developing__pplications.html" target="content"><img src="../images/previous.gif" border="0"></a><a href="Creating_a__Application.html" target="content"><img src="../images/next.gif" border="0"></a>&nbsp;<br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated January 3, 2002)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>