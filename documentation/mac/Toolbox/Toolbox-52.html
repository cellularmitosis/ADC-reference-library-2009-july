<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>EventAvail(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING52></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-51.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-53.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-28.html"><B>Chapter 2 - Event Manager</B></A> / <A HREF="Toolbox-43.html"><B>Event Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-49.html"><B>Event Manager Routines</B></A> / <A HREF="Toolbox-50.html"><B>Receiving Events</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING52-0></A>
<H3>EventAvail</H3>
 <A NAME=MARKER-11-382></A><A NAME=MARKER-2-192></A>You can use the <CODE>EventAvail</CODE> function to retrieve the next available event from <BR>the Event Manager without removing the returned event from your application's <BR>event stream.<P>
<PRE>
FUNCTION EventAvail (eventMask: Integer;
                     VAR theEvent: EventRecord): Boolean;
</PRE>
<DL>
<DT><CODE>eventMask</CODE>
<DD> A value that indicates which kinds of events are to be returned; this parameter is interpreted as a sum of event mask constants.  You can use these constants to specify the event mask:
</DL>
<PRE>
            CONST       
            mDownMask    = 2;       {mouse-down event    (bit 1)}
            mUpMask      = 4;       {mouse-up event      (bit 2)}
            keyDownMask  = 8;       {key-down event      (bit 3)}
            keyUpMask    = 16;      {key-up event        (bit 4)}
            autoKeyMask  = 32;      {auto-key event      (bit 5)}
            updateMask   = 64;      {update event        (bit 6)}
            diskMask     = 128;     {disk-inserted event (bit 7)}
            activMask    = 256;     {activate event      (bit 8)}
            highLevelEventMask
                         = 1024;    {high-level event    (bit 10)}
            osMask       = -32768;  {operating-system    (bit 15)}
</PRE>
<DL>
<DT>
<DD> To accept all events, you can specify the <CODE>everyEvent</CODE> constant as the event mask:
</DL>
<PRE>
            CONST
            everyEvent   =  -1;     {every event}
</PRE>
<DL>
<DT>
<DD> If no event of any of the designated types is available, <CODE>EventAvail</CODE> returns a null event.
<DT><CODE>theEvent</CODE>
<DD> The next available event of the specified type or types. The <CODE>EventAvail</CODE> function does not remove the returned event from the event stream, but does return the information about the event in an event record. The event record includes the type of event received and other information. 
</DL>
<A NAME=HEADING52-9></A>
<H5>DESCRIPTION</H5>
 <CODE>EventAvail</CODE> returns <CODE>FALSE</CODE> as its function result if the event being returned is a null event; otherwise, <CODE>EventAvail</CODE> returns <CODE>TRUE</CODE>.<P>
 Like <CODE>WaitNextEvent</CODE>, the <CODE>EventAvail</CODE> function calls the <CODE>SystemTask</CODE> procedure to give time to each open desk accessory or device driver to perform any periodic action defined for it. The <CODE>EventAvail</CODE> function also makes the alarm go off if the alarm is set and the current time is the alarm time. The user sets the alarm using the Alarm Clock desk accessory.<P>
<A NAME=HEADING52-12></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 If <CODE>EventAvail</CODE> returns a low-level event from the Operating System event queue, the event will not be accessible later if, in the meantime, the event queue becomes full and the event is discarded from it; however, this is not a common occurrence.<P>
<A NAME=HEADING52-14></A>
<H5>SEE ALSO</H5>
 See <A HREF=Toolbox-45.html#MARKER-9-331>"The Event Record,"</A> beginning on <A HREF=Toolbox-45.html#MARKER-9-331>page 2-79</A>, for a description of the fields in the event record. <A NAME=MARKER-9-37></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-51.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-53.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
