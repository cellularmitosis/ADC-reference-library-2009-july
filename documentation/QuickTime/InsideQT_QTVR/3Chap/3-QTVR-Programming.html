<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime VR: Creating QuickTime VR  Panoramas and Object Movies</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating QuickTime VR  Panoramas and Object Movies"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000944-CH207" title="Creating QuickTime VR  Panoramas and Object Movies"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../VirtualReality-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000589" target="_top">Virtual Reality</a> &gt; <a href="../0Preface/QTVR-preface.html#//apple_ref/doc/uid/TP40000944-CH204-DontLinkElementID_2">QuickTime VR</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../2Chap/2-QTVR-Authoring.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../4Chap/4-QTVR-Manager.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_44" title="Creating QuickTime VR  Panoramas and Object Movies"></a><h1><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIGFDGC" title="Creating QuickTime VR  Panoramas and Object Movies"></a>Creating QuickTime VR  Panoramas and Object Movies</h1><p>This chapter is aimed at QuickTime content authors, Webmasters and developers who want to produce VR content for the Web and need to know how to go about doing so. The next chapter, <span class="content_text"><a href="../4Chap/4-QTVR-Manager.html#//apple_ref/doc/uid/TP40000944-CH208-CJBGGDIA">“Chapter 4, QuickTime VR Programming,”</a></span> is specifically for VR tool developers who need to use VR programmatically in their applications. </p><p>If you are new to QuickTime VR, you should read this chapter for an overview of the VR tools that are available, as well as to understand some of the techniques you can apply in producing VR-based content for the Web. The chapter draws extensively on the material in the book <em>QuickTime for the Web</em> (see bibliography). </p><p>This chapter is divided into the following major sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIDCCGF">“QTVR Authoring Studio”</a></span> discusses the QuickTime VR Authoring Studio software that lets you create interactive virtual reality scenes with point-and-click simplicity. </p></li><li class="li"><p><span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIGDEGC">“QTVR Tools”</a></span> describes the tools available for setting parameters for QTVR Object movies. </p></li><li class="li"><p><span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIJABFC">“Creating QTVR Panoramas”</a></span> describes the equipment and photographic tools you need to produce QTVR movies, as well as the steps to follow when creating <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_209"></a>VR panoramas.</p></li><li class="li"><p><span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIJJJEG">“Creating QTVR Object Movies”</a></span> describes how to create QTVR panoramas and QTVR object movies. </p></li><li class="li"><p><span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIEJEHC">“Compositing QTVR With Other Media”</a></span> discusses compositing QTVR tracks with other QuickTime media. </p></li><li class="li"><p><span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIBIHII">“Embedding a QTVR Movie in a Web Page”</a></span> describes how to embed QTVR movies in a Web page. </p></li></ul><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIDCCGF" title="QTVR Authoring Studio"></a><h2>QTVR Authoring Studio</h2><p>The QuickTime VR Authoring Studio software lets you create interactive virtual-reality scenes with point-and-click simplicity. It takes full advantage of the Mac OS interface to help you turn photos and computer renderings into 360-degree views. QuickTime VR Authoring Studio is a powerful solution for producing all kinds of QuickTime VR content. </p><p>The five modules in the QuickTime VR Authoring Studio suite cover all steps of creating an immersive environment, from controlling camera positions while taking the original photographs to blending the images together to optimizing your finished scenes for Web or CD-ROM use.</p><p>You can view finished QuickTime VR movies on computers running Mac OS or Windows software through either the QuickTime plug-in for Web browsers or any application that can play standard QuickTime movies. The QuickTime plug-in for Web browsers makes QuickTime VR movies exciting additions to educational, entertainment, and commercial websites. QuickTime VR Authoring Studio is also ideal for producing large, complex interactive experiences for CD-ROMs.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_45" title="Table 3-1QTVR Authoring Suite five module feature set "></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIICIJF" title="Table 3-1QTVR Authoring Suite five module feature set "></a><strong>Table 3-1&nbsp;&nbsp;</strong>QTVR Authoring Suite five module feature set </caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Tool</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p>Panorama Stitcher</p></td><td ><p>Combines and integrates individual photographs into a seamless QuickTime VR panorama. Blends the seams between photos, and wraps the image onto a cylinder. Generates single panoramic PICT files and QuickTime VR panorama movies.</p></td></tr><tr><td  scope="row"><p>Panorama Maker</p></td><td ><p>Converts panoramic images into fully functional QuickTime VR panoramic movies.</p></td></tr><tr><td  scope="row"><p>Scene Maker</p></td><td ><p>Links panorama and object movies to create a complete immersive QuickTime VR scene for deployment on CD-ROM or the web.</p></td></tr><tr><td  scope="row"><p>Object Maker</p></td><td ><p>Works with a variety of turntable and gantry systems to capture video images (or digital still images) frame by frame. Combines single frames and outputs a QuickTime VR object movie.</p></td></tr><tr><td  scope="row"><p>Project Manager</p></td><td ><p>Manages source files (images, movies, hot-spot tracks) used in production of complete QuickTime VR scenes.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIGDEGC" title="QTVR Tools"></a><h2>QTVR Tools</h2><p>The QTVR Edit Object tool, available for the Mac OS, allows you set many parameters for QTVR Object movies, such as column and row settings, pan and tilt controls, auto-play and animate settings (<span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIDDBFB">Figure 3-1</a></span>). </p><p></p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_46" title="Figure 3-1The QTVR Edit Object tool dialog "></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIDDBFB" title="Figure 3-1The QTVR Edit Object tool dialog "></a><strong>Figure 3-1&nbsp;&nbsp;</strong>The QTVR Edit Object tool dialog </p><img src = "../art/qtvr_object_edit_tool.gif" alt = "The QTVR Edit Object tool dialog" width="323" height="402"></div><br/><p>The QTVR PanoToThumbnail tool allows you to create a small thumbnail-sized linear QuickTime movie out of your QTVR panorama. </p><p>The QTVR Converter tool, available for Mac OS and Windows, converts between 1.0 and 2.0 versions of QTVR files using QuickTime Player’s Export command. </p><p>The QTVR Make Panorama 2 tool, available for the Mac OS, allows you to create QuickTime VR panoramas from panoramic PICT images. </p><p></p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIJABFC" title="Creating QTVR Panoramas"></a><h2>Creating QTVR Panoramas</h2><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_210"></a><p>If you want to create QTVR panoramas, you’ll need special equipment. This section describes some of the photographic tools you need and the steps to follow when creating <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_211"></a>VR panoramas. </p><p>The special equipment will vary according to your project and circumstances. If you’re rendering images using <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_212"></a>3D software, for example, you don’t need a camera. If you’re using a camera, there are additional steps for a camera that uses film, as opposed to a digital camera, that is, you need to scan or digitize the images. Whatever your camera type, if you’re shooting with a fisheye lens, you need to correct the distortion before you can stitch the images.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF101" title="Basic Equipment"></a><h3>Basic Equipment</h3><p>Unless you’re rendering panoramas directly from 3D-modeling software, you need a camera, some lenses, a sturdy tripod, a bubble level, and probably a special pano head for the tripod. The quality of your panoramas will mainly depend on your skill as a photographer and the quality of your equipment.</p><p>You can use any point-and-shoot <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_213"></a>camera or any video camera that takes stills, but you’ll have more control with a camera that allows manual adjustment for exposure and depth of field, and more flexibility with a camera that allows you to change lenses. Most people shoot panoramas using a 35 mm single lens reflex (SLR) camera.</p><p>Ideally, you want rectilinear lenses (nondistorting). There are tools that correct for fisheye or barrel distortion, but it’s an extra hassle. Shorter lenses give a wider field of view, which allows you to make a panorama using fewer shots and with more overlap—taking fewer shots is more convenient, and more overlap is better for reasons we’ll get into later. A shorter lens also gives you a taller field of view, which can be important for interior scenes. </p><p>It’s difficult to get rectilinear lenses shorter than about 15 mm, and the shorter the lens, the more expensive a nondistorting one is. If you want to shoot with a 9 mm, you’ll be looking through a fisheye.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF102" title="Digital Cameras"></a><h4>Digital Cameras</h4><p>Digital cameras are generally more convenient and less costly to operate than film cameras, as you don’t need to constantly buy, develop, or digitize the film. Digital cameras typically have lower resolution and less exposure range (fewer f-stops) than film cameras, however. Most digital cameras do not allow you to change lenses (there are wide-angle adapters available, but they tend to introduce a lot of barrel distortion). </p><p>You’ll be shooting almost exclusively from a tripod, so make sure your camera has a stable and convenient mounting mechanism. Some cameras have to be removed from the tripod in order to change film or memory—avoid them, or face frustration when the camera runs out of film or memory in mid-shoot.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF103" title="Tripods and Pano Heads"></a><h4>Tripods and Pano Heads</h4><p>If you’re going to be shooting more than a very occasional panorama, you need a tripod. If you have steady hands, you can shoot exterior panoramas by hand, but the results are usually less than professional. You want the sturdiest tripod you’re willing to lug around, so it doesn’t shift when you rotate it or touch the camera (to press the shutter, change focus, advance the film, or change film, for example).</p><p>The more you have to diddle with the camera during a shoot, the more likely you are to shift the tripod—a shutter-release cable and automatic film advance are extras worth considering, along with a large memory module for digital cameras. A bubble level is a must-have item for your tripod, unless you want your panorama to look like it was shot from a roller coaster. You also need a disk, calibrated in degrees, that mounts under the camera, so you can divide the panorama into equal sections for each shot. You can make one yourself using acetate and a marking pen, but you’re better off buying a commercial pano head.</p><p>Pano heads, such as those shown in <span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIEEAJA">Figure 3-2</a></span>, are made by companies like <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_214"></a>Kaidan (<span class="content_text"><a href="http://www.kaidan.com/" target="_blank">http://www.kaidan.com/</a></span>) and <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_215"></a>Peace River (<span class="content_text"><a href="http://www.peaceriverstudios.com/" target="_blank">http://www.peaceriverstudios.com/</a></span>) specifically for shooting VR panoramas. The main features a pano head offers are a calibrated disk, detents that let you easily click to a specified angle, and a slider that lets you mount the camera on the tripod so that it rotates around its optical focal point (also called the nodal point).</p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_47" title="Figure 3-2A panoramic tripod head with various features"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIEEAJA" title="Figure 3-2A panoramic tripod head with various features"></a><strong>Figure 3-2&nbsp;&nbsp;</strong>A panoramic tripod head with various features</p><img src = "../art/panohead.gif" alt = "A panoramic tripod head with various features" width="268" height="228"></div><br/><p>A tripod normally rotates a camera around a point in the center of the camera body, well behind the optical focal point. This results in a parallax effect, so that nearby objects appear to move relative to distant objects when you pan the camera. </p><p>This creates a disturbing artifact in a VR panorama—some people complain it makes them seasick—and it makes it harder to stitch the images together without blurring. If you’re shooting an outdoor panorama with no near objects, the effects are less noticeable and less important. For interior shots, or panoramas with both near-field and distant elements, it matters a lot.</p><p>A pano head also allows you to mount the camera vertically (portrait mode) on the tripod, so the widest field of view is up and down, and this is usually how you’ll shoot. You can get a full 360 degree field of view horizontally, no matter what the horizontal field for each image is, simply by adding more images, but your vertical field of view for the whole panorama is limited to the height of the individual pictures. By shooting with the camera in portrait mode, you give the viewer the maximum vertical view.</p><p>By convention, or perhaps out of habit, most cubic panoramas are also shot with the camera mounted vertically. In most cases, this does not matter because you stitch your images into squares anyway. To shoot high quality cubic panoramas, however, you need a pano head that can point straight up and straight down, as well as traverse a 360 degree circle in the horizontal plane, all around a common focal point. Cubic VR pano heads with this capability are commercially available. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF104" title="Nodal Point Adjustment"></a><h3>Nodal Point Adjustment</h3><p>In order to achieve the best results and the highest quality QuickTime VR panorama, you need to make sure that the nodal point does not vary as you take your pictures. This means that you need to make sure that the picture does not look any different as you pan or tilt the camera around, because for a cubic panorama you may be tilting. </p><p>To accomplish this, you want to capture a scene where there are some relatively close objects––about six feet or so away––and then get background that is far away (effectively infinity or at least 30 feet away). And then you want to pan the camera back and forth and look through the viewfinder to see if the edge of that object in the foreground. If you see anything appearing out from behind that you did not see before, then you know that you’re not adjusted properly. So you need to move the camera forwards and backwards, and adjust it so that as you rotate it all the way to one side where the object is still visible, you don’t see anything from the back suddenly becoming visible again. You don’t want anything moving from the front or behind the object moving. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF105" title="Planning"></a><h3>Planning</h3><p>If you’re shooting a multinode panorama, lay out the center point for each node, making sure you have a clear view of a distinct entry point for each adjacent node. It helps orient the viewer if you begin a node facing the same direction you would have traveled from the previous node (you can specify a different initial viewing angle when entering a node from other nodes).</p><p>It takes longer to shoot a panorama than it does to shoot a single photo, so make sure you have enough time and enough light to do the job.</p><p>You can’t shoot a 360 degree panorama with the sun behind you—the low light angle that looks so good in one direction will shine directly into the camera when you turn around. High overhead light is generally best—and a little overcast can be a godsend—so plan your shoot accordingly. Of course, if you’re shooting a cubic panorama, then you’re going to be aiming the camera into high overhead light. </p><p>There are several ways of getting around that. One way, which is relatively easy, is to lock the exposure, so that as you rotate the camera up and point it towards the sun, the exposure won’t change. You don’t really care if the sun is all saturated to white. Just adjusting the exposure so that it doesn’t change can really solve it. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF106" title="Shooting"></a><h3>Shooting</h3><p>Shooting a QTVR panorama requires not only careful planning, but also attention to detail. Some useful tips for shooting a QTVR panorama:</p><ul class="spaceabove"><li class="li"><p>Pick a good spot. A panorama with some near-field elements is generally more interesting than one where everything is the same distance away. </p></li><li class="li"><p>Set up and level your tripod. Height matters: a low panorama can look strikingly different than a high panorama of the same scene.</p></li><li class="li"><p>Check the lighting in all directions, preferably with a light meter. </p></li><li class="li"><p>Make sure the camera has enough film.</p></li><li class="li"><p>Pick your lens. You generally want a taller field of view for an interior shot—a 15 mm lens is the standard. For exterior shots, 24 mm is a common choice. Maximize the vertical field of view by shooting with the camera on its side, if your equipment allows you to attach it to the tripod this way. For cubic panoramas, a 15 mm lens is the standard, indoors or out. You will end up with six images, each with a field of view exactly 90 degrees in both dimensions. You can crop a wide angle down to 90 degrees, and you can stitch overlapping images together. </p></li><li class="li"><p>Adjust the camera on the pano head so that the focal point of the lens (sometimes called the nodal point) is exactly centered over the tripod’s axis of rotation—this is critical to avoid parallax problems if there are objects in the near field. </p></li><li class="li"><p>Decide how many shots you’ll take, at what increment of degrees, based on your horizontal field of view. You need a minimum of 10% overlap for any stitching software to work with, and some software requires 30%. Apple’s <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_216"></a>QuickTime VR Authoring Studio (QTVRAS) works best with 50% overlap, especially if the lighting is uneven. More overlap (up to 70%) is better, provided you have sufficient time and film. It’s common to shoot a panorama as a sequence of 12 images at intervals of 30 degrees—if your horizontal field of view is 60 degrees, this allows a 50% overlap between images.</p></li></ul><p>If you can set detents for a certain number of degrees on your pano head, do it now, so you can click, click, click your way around the circle.</p><p>If you have any doubt about the exposure, use a gray card. It’s not a bad idea to shoot two exposures from each position, one with a gray card in the frame. If you don’t know what a gray card is, go down to your local camera store and find out—your photography will improve dramatically.</p><p>If the lighting is uneven, there are several ways you can compensate. If you’re stitching with QuickTime VR Authoring Studio, you can shoot with automatic exposure and a 50% overlap: the stitching software will create a smooth blend from frame to frame to compensate for changes in brightness. If you’re using a fixed exposure for all frames, you can bracket the exposure, shooting two or three pictures from each position. You can cut and paste from different exposures using a graphics editing program afterwards. </p><p>You have a tough decision to make if you bracket the exposure. Changing the exposure multiple times for each shot makes it more likely that you’ll make a mistake or nudge the tripod; shooting the whole panorama multiple times, each with a different exposure, makes it more likely that the registration or the light will change between two shots of the “same” scene. There’s no right answer, so do whatever works best for you.</p><p>If you can’t get the perfect exposure, underexpose slide film and overexpose negative film. This results in a darker slide or a darker negative. You can get additional detail out of a dark area by pushing more light through it when scanning or printing, but a transparent area has no information that can be recovered.</p><p>If you have people in the panorama, make sure they hold completely still while you shoot all the frames they appear in. If you’re shooting with a 30% overlap or less, you may be able to center them in a frame so they appear in only one image. You can do this by centering the first frame on your human subjects, or by positioning the subjects at the center of a subsequent frame—it’s generally a bad idea to adjust the center point of any frame after the first, as it makes the stitching awkward.</p><p>If people must be moving, it is better for them to be moving toward or away from the camera, rather than side-to-side. </p><p>Once you start shooting, work in a rhythm—gray card, shoot, film advance, shoot, film advance, rotate, repeat. Stay focused. It’s repetitive, and it’s very easy to find yourself in the middle of a panorama wondering whether to shoot or rotate. When in doubt, shoot another exposure; it’s easier to discard a duplicate than to go back and reshoot the whole thing because an image is missing. With practice, you can often shoot a whole panorama in under a minute.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIGBGDH" title="Image Preparation"></a><h3>Image Preparation</h3><p>If you’re shooting film, it needs to be developed and digitized. You can get good quality results in a convenient format by having a photo lab print directly to CD. Otherwise you need to scan the prints, slides, or negatives after developing.</p><p>It’s normal for the print maker or CD scanner to optimize each image for color and brightness using a <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_217"></a>scene-balancing algorithm (SBA). You generally want this feature turned off for a panorama because you’re going to stitch them all into a single image, and you don’t want different parts of the image processed differently. Some photo labs are much better about this than others, but most will process the film again at no charge if you ask for special processing up front and the technician does it wrong the first time.</p><p>If you’re working with prints, you can get fairly high-resolution images with an inexpensive scanner. For slides or negatives, you need a transparency adapter or a special film scanner, which is more expensive. To get the same scan quality from a 35 mm slide or negative as you’d get from a 3" x 5" print, you need about 5 times the scanner resolution. Work in the highest resolution you can at this point. Even if your work will end up at 72 dpi and JPEG-compressed, scan it in at 300 dpi or higher from a print or 1500 dpi or higher from a slide or negative. Make it a rule to throw information away as late in the game as possible—you’ll never regret it.</p><p>If you’re working with a flatbed scanner, use tape to create a frame so that all your images are scanned in with the same registration. You want the tops and bottoms of all your images to line up nicely. Once your images are scanned in, crop out the tape so all the images have the same dimensions.</p><p>Give your images sequential filenames, like <code>Baybridge01</code>, <code>Baybridge02</code>, and so on. Use a leading zero for numbers below 10. If your pano contains more than 99 images, use two leading zeroes for numbers below 10 (001, 002, . . .) and one leading zero for numbers below 100 (010, 011 . . .). This makes it easier for stitching software to process the images later.</p><p>If the images weren’t shot with a rectilinear lens, you need to correct the distortion, or if you have sufficient overlap, correct the sides––that is, trim the width of the picture to remove the major distortion at the corners of the image. Two useful tools for this are <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_218"></a>DeFish for the Macintosh (<span class="content_text"><a href="http://www.worldserver.com/turk/quicktimevr/fisheye.html" target="_blank">http://www.worldserver.com/turk/quicktimevr/fisheye.html</a></span>), and <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_219"></a>Panorama Tools, available for download at no cost from Helmut Dersch (<span class="content_text"><a href="http://www.fh-furtwangen.de/~dersch/" target="_blank">http://www.fh-furtwangen.de/~dersch/</a></span>), as Photoshop plug-ins for both Macintosh and Windows.</p><p>Once your images are in digital format, you may want to modify them to adjust for exposure and lighting. If you bracketed your exposures, you may want to do some cutting and pasting to replace dark or washed-out areas of an image with better versions from an alternate exposure. This is also a good time to remove stray cats or errant pigeons using the rubber stamp tool. </p><p>Don’t adjust the sharpness, punch up the contrast and saturation, or apply compression yet—that comes after the stitching.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIHBAFG" title="Stitching Images"></a><h3>Stitching Images</h3><p>There are several software packages available for <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_220"></a><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_221"></a>stitching your images together, including these four:</p><ul class="spaceabove"><li class="li"><p>Apple’s QuickTime VR Authoring Studio (<span class="content_text"><a href="http://www.apple.com/quicktime/resources/tools/qtvr.html" target="_blank">http://www.apple.com/quicktime/resources/tools/qtvr.html</a></span>)</p></li><li class="li"><p>Helmut Dersch’s free PT Stitcher (<span class="content_text"><a href="http://www.fh-furtwangen.de/~dersch/" target="_blank">http://www.fh-furtwangen.de/~dersch/</a></span>)</p></li><li class="li"><p>VR Toolbox’s VR Worx (<span class="content_text"><a href="http://www.vrtoolbox.com" target="_blank">http://www.vrtoolbox.com</a></span>)</p></li><li class="li"><p>RealViz’s Stitcher (<span class="content_text"><a href="http://www.realviz.com" target="_blank">http://www.realviz.com</a></span>), a highly-regarded professional panoramic stitching tool, which includes the automatic placement of the panoramic source images. </p></li></ul><p>This is by no means an exhaustive list. The interface and feature set of each tool is different. <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_222"></a>PT Stitcher is constantly updated and is very good at handling large image sizes. It does cubes as well as cylinders. <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_223"></a>VR Authoring Studio, on the other hand, has a sophisticated stitching algorithm that compensates for different exposure settings in overlapping images. <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_224"></a>Spin Panorama has a simple interface, requires only a 10% overlap between images, and allows you to set registration points manually. <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_225"></a>VR Worx has a rich feature set that has been updated for QuickTime 5. It does cubes as well as cylinders. Stitcher does simple cylinders, multi-row panoramas, and cubic VR. </p><p>A good source of links to current stitching tools is the <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_226"></a>International QuickTime VR Association (IQTVRA) website (<span class="content_text"><a href="http://www.iqtvra.org" target="_blank">http://www.iqtvra.org</a></span>).</p><p>Most tools query you for the number of images in your panorama, some of your camera settings, such as lens size, and the names of the image files (or a folder containing image files with sequential filenames).</p><p>The process of stitching creates a single image from your sequence of images. The overlapping portions of the images are blended together and the final image is warped onto a cylindrical, the face of a cube, or an equirectangular projection. <span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCICIAEH">Figure 3-3</a></span> shows a series of still images and a composite image after stitching.</p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_48" title="Figure 3-3Still images before and after stitching"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCICIAEH" title="Figure 3-3Still images before and after stitching"></a><strong>Figure 3-3&nbsp;&nbsp;</strong>Still images before and after stitching</p><img src = "../art/stitching_images.gif" alt = "Still images before and after stitching" width="500" height="221"></div><br/><p>A cylindrical panorama will use a single image stitched together from all exposures. A cubic panorama can be created from either six faces of a cube, each face stitched from two or more exposures, or from a single equirectangular projection, stitched together from all exposures. </p><p>The stitched image is traditionally rotated 90 degrees counter-clockwise. This is done because the image is typically very wide and, historically, the PICT image format had a width limit but no height limit. Since the PICT format no longer has such a limit, this is no longer a requirement, and the stitched panorama may have the natural orientation.</p><p>Some of the stitching tools can do more than stitch. They can tile, add previews and hot spots, and optimize for Web delivery. They can all stitch images together into a single image file, however, and that’s generally what you want to do first. Even if your chosen tool can take you directly to Web-ready output, you normally want to export the stitched image as a PICT file and touch it up with a graphics editor before continuing.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF107" title="Making Panoramas with 3D Software"></a><h3>Making Panoramas with 3D Software</h3><p>If you use 3D software to generate your panoramas, you can generally bypass all the steps we’ve discussed so far. Just tell your software to generate a panorama image in PICT format (you may need to rotate it 90 degrees in a graphics editor as well).</p><p>3D modeling packages that generate panorama images directly include <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_227"></a>Infini-D, <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_228"></a>Strata 3D, <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_229"></a>form•Z, and <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_230"></a>Bryce.</p><p>If your 3D software doesn’t generate panorama images, create a set of overlapping images instead, then stitch them together as if they were photographs. To create the images, select a viewpoint for your virtual camera and render a series of images, rotating the “camera” by a fixed number of degrees each time. </p><p>For example, if you set your field of view at 120 degrees and rotate the virtual camera by 60 degrees for each image, you can render a series of six images with 50% overlap that can be used to create a panorama—0–120 degrees, 60–180 degrees, 120–240 degrees, 180–300 degrees, 240–360 degrees, and 300–60 degrees. </p><p>Treat the rendered images as you would a series of overlapping photographs—see <span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIHBAFG">“Stitching Images.”</a></span></p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF108" title="Touch Up"></a><h3>Touch Up</h3><p>Once you have a single stitched image or a rendered panorama image, you generally want to open it in a graphics editing program such as <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_231"></a>Photoshop and optimize its appearance. This typically involves sharpening (using the paradoxically named unsharp mask operation), enhancing contrast, boosting color levels, and performing gamma correction.</p><p>You can’t compress the image yet—that comes later—but you can shrink the image file size by reducing the pixel dimensions. You can often shrink the image by scaling at 70% without noticeable loss in detail. If this makes the image too small visually, you can scale the image up during playback. </p><p>Just set the window size and default FOV. </p><p>You may want to rotate the image 90 degrees so it looks more natural while you’re working on it. Just remember to rotate it back when you’re done.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF109" title="Tiling, Compressing, and Optimizing"></a><h3>Tiling, Compressing, and Optimizing</h3><p>When your image looks the way you want, it’s time to take the final steps to get it ready for Web delivery. The image needs to be diced into tiles, compressed, and optimized for Web delivery. In most cases, this means re-importing the image into the tool you used for stitching, and performing the tiling and compression operations. In other cases, it means using separate tiling and compression tools, such as QTVR Make Panorama 2. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF110" title="Tiling"></a><h4>Tiling</h4><p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_232"></a>Tiling breaks the image into pieces so it can be played back without loading the whole image into memory. This improves performance and reduces system requirements, especially for large panoramas. It also allows people to begin viewing and navigating the panorama while it downloads. If your software gives a choice of tile sizes, use larger tiles for disk-based presentations and smaller tiles to make a panorama more responsive during Web download.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_49" title="Important:"></a><p><strong>Important:</strong>&nbsp;The pixel dimensions of your image file should be evenly divisible by 96 in the long dimension and evenly divisible by 4 in the narrow dimension. This is important for tiling. This is only true if you’re tiling into the standard 24 x 1 tiling. If you’re good with prime numbers, you can use other tiling schemes, but the resultant tile size should be divisible by 4 in each dimension (no longer a requirement if all clients use QuickTime 3 or greater). </p><p></p></div><p>You generally want a single row of tiles for your panorama, but if it’s tall enough that the default field of view is only 1/2 or 1/3 the full height, you should use 3 or 4 rows of tiles for Web delivery—viewers can navigate the default view while the rest of the panorama downloads.</p><p>Each tile is compressed separately, which is why you shouldn’t compress the image prior to tiling—the image would have to be decompressed, tiled, and recompressed, which would degrade it badly. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF111" title="Compression"></a><h4>Compression</h4><p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_233"></a><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_234"></a>Compression reduces the image size, which is critical for Web panoramas. It also reduces image quality, particularly sharpness, and slows down performance (each tile has to be decompressed before it can be displayed), so it’s a trade-off. </p><p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_235"></a>JPEG compression usually gives the highest quality for the bandwidth, though it does get blurry if you compress aggressively. <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_236"></a>Cinepak compression gives more responsive playback—especially on older computers—because it’s easier to decompress. But Cinepak quality is lower. Sorenson compression isn’t nearly as efficient with still images as it is with motion video, but it scales up well. JPEG images generally look good scaled up to 1.25—for more aggressive scaling, try Sorenson instead.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF112" title="Optimization"></a><h4>Optimization</h4><p>Once you’re done with tiling and compression, you should optimize Web-based panoramas for download. Panoramas are usually pretty large—300 Kbytes to 3 Mbytes—so you don’t want to leave your viewers drumming their fingers the whole time. There are two parts to optimizing for download—setting a preview and reordering the tiles.</p><p>If you’re using VR PanoWorx or Panorand Tools, you can set the preview using the same software that does the tiling and compression. If you created your panorama using QuickTime VR Authoring Studio or Spin Panorama, on the other hand, you need to use another tool, such as <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_237"></a>converter (<span class="content_text"><a href="http://www.vrtools.com/" target="_blank">http://www.vrtools.com/</a></span>) or QuickTime Player, to set the preview. </p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_50" title="Important:"></a><p><strong>Important:</strong>&nbsp;You can use QuickTime Player to set the preview only if you install the <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_238"></a>VR Flattener extension. Installation requires you to restart your computer. This Flattener is automatically included in QuickTime in the QuickTime VR Authoring extension. </p><p></p></div><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF113" title="Setting the Preview"></a><h3>Setting the Preview</h3><p>To set the preview using QuickTime Player (the process is similar for other tools), you follow these steps:</p><ol class="ol"><li class="li"><p>Open the panorama in QuickTime Player.</p></li><li class="li"><p>Choose Export from the File menu, then choose Movie to Fast Start QuickTime VR Movie from the pop-up menu.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_51" title="Figure 3-4Setting the preview using QuickTime Player"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF134" title="Figure 3-4Setting the preview using QuickTime Player"></a><strong>Figure 3-4&nbsp;&nbsp;</strong>Setting the preview using QuickTime Player</p><img src = "../art/streaming_vr_export.gif" alt = "Setting the preview using QuickTime Player" width="358" height="298"></div><br/><ol class="ol"><li class="li"><p>Click the Options button to bring up the preview dialog box. The settings in this dialog box determine what the viewer sees while the panorama is downloading:</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_52" title="Figure 3-5Create Preview dialog"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF135" title="Figure 3-5Create Preview dialog"></a><strong>Figure 3-5&nbsp;&nbsp;</strong>Create Preview dialog</p><img src = "../art/streaming_vr_options.gif" alt = "Create Preview dialog" width="373" height="213"></div><br/><ul class="spaceabove"><li class="li"><p>If you don’t select Create Preview, the viewer sees a black grid with gray lines (similar to the holodeck grid in Star Trek). The grid is filled in as each tile downloads.</p></li><li class="li"><p>If you click the Create Preview box, a small low-resolution preview image is downloaded ahead of the panorama tiles. The viewer can pan, tilt, and click hot spots almost immediately and has at least a vague sense of what the panorama looks like. The resolution of the image improves one area at a time as each tile downloads.</p><ul class="nested"><li class="nested li"><p>You normally want a low-quality JPEG preview, but you can choose any QuickTime compression settings you like. A low-quality JPEG is typically 1/8 the file size of a high-quality JPEG.</p></li><li class="nested li"><p>A quarter-sized preview is 1/16 the file size of a full panorama at the same quality setting; a half-sized preview is 1/4 the file size. Multiply the file size reduction by the compression reduction (low quality vs. high quality) to see how long it will take the preview to download compared with the panorama.</p></li><li class="nested li"><p>The preview is scaled up to fill the view window—you can choose to have it blurred or not, whichever you prefer.</p></li><li class="nested li"><p>If you prefer, you can use another program to create the preview image. If so, click the Import Preview Image box. You are prompted for a filename when you click OK.</p></li></ul></li></ul><ol class="ol"><li class="li"><p>Select the kind of preview you want and click OK, then click Save.</p></li></ol><p>Your panorama now has a preview image or a preview grid that the viewer can use for navigation during the download, and the high-resolution tiles are arranged so that the initial view is received first. </p><p>As a final step in optimization for Web delivery, you may want to run your panorama through <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_239"></a>delivrator (<span class="content_text"><a href="http://vrtools.com/" target="_blank">http://vrtools.com/</a></span>). This program rearranges the tiles so that the default view downloads first, then the tiles to the left and right, then the next pair of tiles to the left and right, and so on around the circle. If there are multiple rows of tiles, the center or default row loads first, then the rows above or below.</p><p>Though this functionality is available in the QuickTime VR Authoring extension accessible through QuickTime, delivrator provides more control over the optimization, especially for multinode movies and QTVR movies with wired sprites. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF114" title="Hot Spots and Multinode Panoramas"></a><h3>Hot Spots and Multinode Panoramas</h3><p>Hot spots are areas in a panorama that link to a node, file, or URL. A node can be another panorama or an object movie. <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_240"></a>Multinode panoramas are created by linking individual panoramas with <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_241"></a>hot spots, but hot spots can be used as general-purpose links from a panorama to any URL. </p><p>There are several tools that you can use to add hot spots to panoramas, such as QuickTime VR Authoring Studio, PanoWorx, and a useful freeware tool called <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_242"></a>VRL that you can download from <span class="content_text"><a href="http://www.marink.com" target="_blank">http://www.marink.com</a></span>. </p><p>There are three kinds of hot spots: node, URL, and blob. </p><ul class="spaceabove"><li class="li"><p>A node hot spot links to a panorama or object movie within a multinode QTVR movie file. </p></li><li class="li"><p>A URL hot spot links to a URL—often another panorama in a separate file. </p></li><li class="li"><p>A blob hot spot just tells the application playing the QTVR that a particular hot spot has been clicked. If your VR is playing in the QuickTime plug-in, this links to the URL specified in the corresponding <code>HOTSPOT</code>n parameter in your HTML.</p></li></ul><p>For CD-based panoramas, it’s often more convenient to use node hot spots and put all the panorama nodes in a single file. For Web-based panoramas, it’s generally best to use <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_243"></a>blob hot spots and keep each node of a multinode panorama in a separate file; you can link a blob hot spot to a particular destination using the <code>HOTSPOT</code><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_244"></a>n parameter in the <code>&lt;EMBED></code> tag of your HTML, or you can embed it in a movie as a URL using Plug-in Helper. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_53" title="Note"></a><p><strong>Note:</strong>&nbsp;Blob hot spots can also be interpreted by other software that can contain QuickTime VR movies, such as Macromedia Director or Tribeworks’ iShell. </p></div><p>You can link a blob hot spot to another panorama, any QuickTime movie, any media that QuickTime can play, or any URL that the viewer’s browser can handle. You can use the <code>TAREGET</code> parameter, as part of the <code>&lt;EMBED></code> tag or through Plug-in Helper, to target a hot spot’s action to the QuickTime plug-in, QuickTime Player, a particular browser frame, a particular browser window, or the default browser window.</p><p>You can link a blob hot spot to a QuickTime movie that has a <code>QTNEXT</code> to another panorama (the <code>QTNEXT</code> can be in the HTML or embedded in the movie using Plugin Helper). This allows you to put transition movies between VR nodes.</p><p>You can have as many as 255 hot spots in a given panorama. They can be any size and any shape. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_54" title="Note"></a><p><strong>Note:</strong>&nbsp;There was an “off by one” error in the QuickTime plug-in for QuickTime 4.1, which caused <code>HOTSPOT</code>n to activate the link specified for <code>HOTSPOT</code>n+1. The workaround was to limit the hot spots in any node to 127, not to use consecutive hot spot numbers in the same node, and to use two <code>HOTSPOT</code> parameters (both n and n+1) in your HTML to specify the link. The problem was fixed in QuickTime 4.1.1. </p></div><p>For examples of using QTVR hot spots<a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_245"></a>, see the section <span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIBIHII">“Embedding a QTVR Movie in a Web Page.”</a></span> <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_246"></a></p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIJJJEG" title="Creating QTVR Object Movies"></a><h2>Creating QTVR Object Movies</h2><p>You create a QTVR object movie by taking and digitizing a series of photographs (or rendering a series of computer-generated images) that show an object from multiple perspectives, typically by rotating the object on a pedestal or turntable. </p><p>Once you have a series of digital images, you generally need to retouch them with a graphic editor to remove the pedestal and background. This by itself gives you a 3:1 compression. You then assemble the images into an object movie using authoring software such as <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_247"></a>QuickTime VR Authoring Studio, <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_248"></a>Widgetizer, or <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_249"></a>PanoWorx.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF115" title="Equipment Needed"></a><h3>Equipment Needed</h3><p>Unless you’re generating your images directly from software, you need a camera, lights, a backdrop, a turntable or pedestal to rotate the object, a hot glue gun (this is really essential), and probably an object VR rig that allows you to swing the camera through a vertical arc.</p><p>You generally don’t need as flexible or as high-resolution a camera for object movies as you do for panoramas. You’re photographing a fixed object under controlled lighting with a shallow depth of field, so you have a lot fewer variables to deal with. </p><p>A 35 mm SLR <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_250"></a>camera with a telephoto or macro zoom lens is the standard for museum-quality work, but a good digital camera can produce comparable quality, especially for Web delivery, and is vastly more convenient. A digital video (DV) camera that can take still frames and has a FireWire connector is ideal for this kind of work, provided you don’t need higher resolution than DV can offer (for the Web, you generally won’t).</p><p>You typically take a lot of shots for object movies—36 exposures for a rotation, and up to 18 rotations to cover an object from top to bottom. That’s 648 exposures. Unless you enjoy changing film, a digital camera that can download images to your computer in mid-shoot is the way to go, and the faster the better. </p><p>In addition, your camera may be swinging on a rig several feet in the air, making it difficult to change film, look through the viewfinder, or work the shutter. A film camera with a lot of film, a shutter release cable, and a motor drive can be made to work (though you may need a ladder to look through the viewfinder), but a digital camera that can use a video monitor as a viewfinder, has a remote control, and downloads over FireWire makes life a lot easier.</p><p>You need a set of lights to illuminate your object and a backdrop to shoot against. A black backdrop usually works best, but you can also use a white backdrop effectively—especially if you’re shooting a black object.</p><p>Use low light with a black backdrop and hot lighting with a white backdrop, so the background is completely black or white. It makes it easier to composite the background out later.</p><p>You generally want to rotate your object on a pedestal or turntable that’s stable and easy to rotate in increments of 5–10  degrees. For a single-row object movie, a lazy susan can be made to work. If you plan to shoot the object from below, you also need a pedestal, preferably thin and black. The hot glue gun allows you to pose a shoe on it’s toe or a raygun upright on its handle.</p><p>There are some useful motorized turntables available from companies like <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_251"></a>Kaidan (<span class="content_text"><a href="http://www.kaidan.com/" target="_blank">http://www.kaidan.com/</a></span>) and <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_252"></a>Peace River (<span class="content_text"><a href="http://www.peaceriverstudios.com/" target="_blank">http://www.peaceriverstudios.com/</a></span>) that are designed for this kind of work. Some of them include a rig for vertically aligning your camera and remote-control software that works directly with QuickTime VR Authoring Studio or Widgetizer. </p><p>You can get a really big turntable that you can use to rotate a car, but it costs as much as you would expect. Unless you expect to use it a lot, consider using someone else’s. Studios like <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_253"></a>eVox Production (<span class="content_text"><a href="http://www.evox.com/" target="_blank">http://www.evox.com/</a></span>) are happy to power up the big turntable so you can spin a sport utility vehicle.</p><p>If you’re shooting a single row object movie, you can position your camera using a tripod. Get a really sturdy one—you won’t be carrying it around, and it’s critical that the camera not jiggle around during the shoot.</p><p>For multirow object movies, you need a rig that can swing the camera through a precise arc. A commercial object VR rig is the way to go. They range from moderately pricey manual models to really expensive motorized jobs with turntables and remote control software. The main manufacturers are Kaidan and Peace River, and the better models can shoot an entire object movie, top to bottom and round-and-round, under automated control from QuickTime VR Authoring Studio or Widgetizer. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF116" title="Shooting Tips"></a><h3>Shooting Tips</h3><p>You’re going to shoot a series of exposures, keeping your camera at precisely the same alignment with your object, while you rotate the object around its center.</p><p>If you’re shooting a multirow object movie, your going to repeat the shoot with the camera at different vertical positions, but otherwise with the exact same alignment, rotating the object to exactly the same positions.</p><p>This can be extremely finicky and painstaking work, or it can be a walk in the park, depending entirely on your equipment.</p><p>You may need to use a hot glue gun to get your object stable and positioned properly, especially if you’re shooting it from underneath. Don’t be stingy with the glue—you don’t want the object to sag in the middle of your shoot.</p><p>You generally want to shoot against a black backdrop, but you may need to use a different color, particularly if your object is black and you plan to matte in a different background later.</p><p>It’s a good idea to include a small marker object in the frame (but not on the turntable) in case you need to precisely align your images later. This is particularly important if you’re shooting film and scanning it, or you’re working with inexpensive equipment that isn’t rock solid. You’ll crop or edit the marker object out after the images are digitized.</p><p>You normally want to shoot an exposure every 10 degrees of rotation for a total of 36 images. You can save film and make the movie smaller by shooting 24 exposures 15 degrees apart, but the motion of the object will be jerky. Of course, you don’t have to shoot the object from every angle—maybe the back isn’t interesting—and four exposures 90 degrees apart provide a complete view.</p><p>For a multirow movie, you typically want to shoot at 10 degrees vertical increments as well. A full top-to-bottom shoot requires 18 rows, but people rarely shoot from more than 10 degrees to 30 degrees underneath. </p><p>Shooting from directly underneath is almost impossible—you can do it with a glass turntable or by suspending the object, but matching the rotation angles and camera registration with the rest of the shoot is difficult. Expect to spend many hours with Photoshop trying to get it just right afterward. Of course, if you’ve been hired by a shoe company, that may be what you’re getting paid for—just don’t underestimate the effort.</p><p>Do a dry run, looking at the object from every angle and rotation. Set up your lighting so you don’t get glare or lens flare, and the object is well lit at every angle. It’s important not to change the lighting, exposure, or focus during the shoot. Be sure to set your camera for fixed exposure, not auto-exposure.</p><p>Now you’re ready to take some pictures. With the right camera and rig, you can automate the whole shoot and capture your images directly into QuickTime VR Authoring Studio, Widgetizer, or VR PanoWorx. Otherwise, you have a lot of clicking and rotating to do.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF117" title="Generating 3D Imagery"></a><h3>Generating 3D Imagery</h3><p>If you’re generating images directly from a <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_254"></a>3D modeling program, your task is much simpler. Generate a series of images of your chosen object at 10 degrees intervals of rotation, rendered with your favorite texture maps and lighting effects.</p><p>If you’re doing a multirow movie, start from the highest point—normally 0 degrees or directly overhead—do a row, drop 10 degrees and do another, until you’re as low as you need to be.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_55" title="Note"></a><p><strong>Note:</strong>&nbsp;Save the images with sequential filenames, using a leading zero for numbers below 10—for example, <code>Row01shot01</code>, <code>Row01shot02</code> . . .<code> Row01shot36</code>, <code>Row02shot01</code>, and so on to <code>Row18Shot36</code>.</p></div><p>You may be rendering as many as 648 images, so allow plenty of time and disk space. It may literally require days to render. You might want to render a series of images at 45 degrees (45 images) or 90 degrees (12 images) to make sure you’re happy with your settings before you commit to a full series of 648.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF118" title="Image Preparation"></a><h3>Image Preparation</h3><p>The amount and type of image preparation you need to do depends on how you created your images.</p><p>If you shot with film, you need to develop to CD or scan in prints, slides, or negatives (which you also need to “print” digitally). See <span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIGBGDH">“Image Preparation”</a></span> in the section on panoramas for some tips on digitizing. This process is likely to introduce some jitter from frame to frame, so shoot your images with a marker object in the frame and use it to precisely align and crop your images.</p><p>If you used a camera of any kind to generate your images (as opposed to using 3D modeling software), you probably need to retouch every image using Photoshop or a similar program. </p><p>You generally need to delete the pedestal or supports from each image by hand. </p><p>You should probably select the entire background and erase it to a single color in every image (it may all look black, but it probably isn’t all <code>#000000</code> black black). A solid color compresses better (3:1), and you can easily make a solid color transparent.</p><p>People commonly matte a background image into each frame at this point. You can save yourself a lot of work, and a lot of bandwidth, by making the background transparent and compositing a background image into the movie later.</p><p>You have the option of compressing the images now or when you create the object movie. You can probably get finer control of the compression for each image by doing it now, but you can take advantage of the similarity between adjacent images, resulting in a smaller file, if you compress the whole movie at once. If you compress the images now, be sure to use the same compressor for all the images—don’t use JPEG compression on one and GIF compression on another, for example.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF119" title="Making the Object Movie"></a><h3>Making the Object Movie</h3><p>You need special software to create an object movie. Some software that does the job includes <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_255"></a>QuickTime VR Authoring Studio, <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_256"></a>VR PanoWorx, and <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_257"></a>Widgetizer. </p><p>The exact procedure for making an object movie depends on the tool you choose. You generally specify the number of rows, the degrees of rotation and number of images per row, the initial view, and the folder that contains the images, and then the software creates the movie.</p><p>You also choose a <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_258"></a>compressor at this point. Photo JPEG compression usually yields the sharpest images, but it tends to create large files. Cinepak compression takes advantage of the similarity between images, resulting in much smaller files, but it provides only moderate quality at low bandwidths. Sorenson is probably the best compressor for Web delivery, as it gives high quality at low bandwidths, taking good advantage of image similarities. You may want to create key frames a little more often than normal so the movie is more responsive to random access. </p><p>Some software documentation recommends that you save your object movie with the <code>.obj</code> file extension. Do nothing of the kind—use the <code>.mov</code> extension.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIEJEHC" title="Compositing QTVR With Other Media"></a><h2>Compositing QTVR With Other Media</h2><p>You can mix QTVR with any other kind of QuickTime media, including still images, motion video, music and sound, text, wired sprites, and live streams. The techniques for compositing with panoramas and object movies are somewhat different, however. </p><p>Authoring tools such as the NodeMedia QTVR Authoring Tool are available for adding animations, sounds, 3D objects, and transitions to QTVR nodes. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF120" title="Compositing with VR Panoramas"></a><h3>Compositing with VR Panoramas</h3><p>A VR panorama is basically a still image that the viewer can pan around in, so a single-node panorama is a movie with a single video frame. Consequently, no time passes in the movie time line, no matter what parts of the panorama are displayed and no matter how much time passes in the real world. The movie is essentially paused at the same frame.</p><p>A multinode panorama has one video frame per node, so the movie advances by one frame in its time line, or jumps to a particular frame, when the viewer changes nodes. Once it gets to its new node, the movie is again paused.</p><p>Like any still image in QuickTime, a VR panorama can be given an extended duration. The techniques for <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_259"></a>compositing a VR panorama with other media are similar to those for adding a still background image—copy the panorama, select the media you want to add the panorama to, and choose Add Scaled.</p><p>Let’s look at some examples—adding a picture frame, a sound track, and a wired sprite controller to a VR panorama. We’ll show you how to do the editing using QuickTime Player, but you can do essentially the same things using any QuickTime editor that understands panoramas, such as the one in LiveStage Pro.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF121" title="Adding a Picture Frame to a VR Panorama"></a><h4>Adding a Picture Frame to a VR Panorama</h4><p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_260"></a>You can add any kind of visual frame to a VR panorama, and it’s fairly easy to do. This can be the equivalent of a simple picture frame, an elaborate screen, or even a large image—similar to a background image for a Web page. You can superimpose the panorama on the frame, or make part of the frame transparent and let the panorama show through it.</p><p>Here are the steps for adding a frame to a panorama:</p><ol class="ol"><li class="li"><p>Open the frame image in QuickTime Player. Select all. Copy.</p></li><li class="li"><p>Open the panorama in QuickTime Player and choose Get Movie Properties.</p></li><li class="li"><p>In the Properties window, select Movie Controller.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_56" title="Figure 3-6Adding a picture frame to a VR panorama"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF136" title="Figure 3-6Adding a picture frame to a VR panorama"></a><strong>Figure 3-6&nbsp;&nbsp;</strong>Adding a picture frame to a VR panorama</p><img src = "../art/moviecontroller_prop.gif" alt = "Adding a picture frame to a VR panorama" width="265" height="201"></div><br/><ol class="ol"><li class="li"><p>Choose Select All in the Edit menu, then Add Scaled (Shift-Option or Shift-Ctrl-Alt keys, Edit menu). This adds the frame image on top of the panorama. Both the frame and the panorama are aligned in the upper left corner of the display window.</p></li><li class="li"><p>Use the left pop-up menu in the Properties window to choose VR Panorama Track (not the QuickTime VR track). Choose Layer in the right pop-up menu and decrement the layer number until the panorama is on top of the frame.</p></li><li class="li"><p>Use the left pop-up menu to choose Video Track 1 (the panorama image). Choose Size in the right pop-up menu, click Adjust, and drag the panorama to the center of the frame (or wherever in the frame you prefer). Click Done. Your panorama is now floating on a background image. </p></li></ol><p>If you want the panorama to show through the frame in step 5, rather than sitting on top of it, increment the panorama’s layer until it disappears, then set the frame image graphics mode to transparent, blend, or alpha, as appropriate, by choosing Video Track 2 from the left pop-up menu and Graphics Mode from the right pop-up menu. </p><ol class="ol"><li class="li"><p>Reset the movie controller to the QTVR Controller and save as a self-contained movie.</p></li></ol><p>The panorama is far more responsive to user input if it’s floating on top of the frame image than if it’s showing through a hole. This is particularly noticeable on slower computers. If you shade the edges of the frame image surrounding the panorama, you can still create the appearance of the panorama being under the frame. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_57" title="Figure 3-7A frame for your panorama"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF137" title="Figure 3-7A frame for your panorama"></a><strong>Figure 3-7&nbsp;&nbsp;</strong>A frame for your panorama</p><img src = "../art/pigeonframe.gif" alt = "A frame for your panorama" width="356" height="317"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF122" title="Adding a Sound Track to a VR Panorama"></a><h4>Adding a Sound Track to a VR Panorama</h4><p>Adding a <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_261"></a>sound track to VR panorama is a little tricky because the sound track is time based and the panorama is not. We can stretch the duration of the panorama to match the sound track using the Add Scaled, but there is also the issue of the controller. </p><p>The VR controller provides no way to play the audio—the movie is always paused—but the standard movie controller doesn’t allow the viewer to pan or zoom in the panorama.</p><p>Here’s how you do it:</p><ol class="ol"><li class="li"><p>Open the panorama in QuickTime Player and choose Get Movie Properties.</p></li><li class="li"><p>In the Properties window, select Movie Controller.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_58" title="Figure 3-8Adding a sound track"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF138" title="Figure 3-8Adding a sound track"></a><strong>Figure 3-8&nbsp;&nbsp;</strong>Adding a sound track</p><img src = "../art/moviecontroller_prop.gif" alt = "Adding a sound track" width="265" height="201"></div><br/><ol class="ol"><li class="li"><p>Choose Select All in the Edit menu, then Copy.</p></li><li class="li"><p>Open a sound file—such as a WAV, MP3, or MIDI file—or a sound-only QuickTime movie, in QuickTime Player. Choose Select All from the Edit menu, then Add Scaled (press Shift-Option or Shift-Ctrl-Alt while opening the Edit menu). This adds the panorama to the sound track, scaled to have the same duration.</p></li><li class="li"><p>Open, for example, <code>Playbutton.mov</code> in QuickTime Player. Choose Select All, then Copy.</p></li><li class="li"><p>Click anywhere in the panorama sound movie. Choose Select All in the Edit menu, then Add Scaled (Shift-Option or Shift-Ctrl-Alt keys, Edit menu). This adds a Play button on top of the panorama. The button is aligned in the upper-left corner of the panorama.</p></li><li class="li"><p>Use the left pop-up menu in the Properties window to choose Sprite Track. Choose Size in the right pop-up menu, click Adjust, and drag the button to the bottom of the frame (or wherever you prefer). Click Done. </p></li><li class="li"><p>Reset the movie controller to the QTVR Controller and save as a self-contained movie.</p></li></ol><p>Your panorama now looks and acts like any VR panorama, but it has a Play button floating on it. Clicking the Play button plays any audio tracks. If the viewer is downloading the movie over the Web, clicking the Play button plays as much of the audio as has downloaded.</p><p>If you’d prefer to have your audio start as soon as the file is downloaded, use a wired sprite authoring tool to create an invisible sprite that automatically starts the movie. You can also use a sprite to set the movie looping.</p><p>If you want a more sophisticated audio controller, use a wired sprite authoring tool such as LiveStage Pro to create one.</p><p>Another useful tool for adding sound to a VR panorama is Squamish Media’s <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_262"></a>soundsaVR. Not only does it make adding sound to a panorama drag-and-drop easy, it allows you to add directional sound—sound that pans left or right and changes volume as you look toward or away from it. </p><p>Authoring tools such as VRHotWires <span class="content_text"><a href="http://www.vrhotwires.com/" target="_blank">http://www.vrhotwires.com/</a></span> are also useful for adding sound to a VR panorama. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF123" title="Adding a Wired Sprite Controller to a VR Panorama"></a><h4>Adding a Wired Sprite Controller to a VR Panorama</h4><p>You can use <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_263"></a>wired sprites to add your own controller to a VR panorama. You might want to do this for aesthetic reasons, or to create a custom controller that mixes panorama controls with other controls—such as a Play/Stop button or volume control—for movies that contain both panoramas and time-based media.</p><p>In addition, if you use a VR panorama within a <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_264"></a>SMIL presentation, you need to add a sprite-based controller to enable the user to zoom in or zoom out—panoramas do not have a VR controller attached to them when viewed as part of a SMIL presentation.</p><p>You can create a wired sprite VR controller—using an authoring tool such as LiveStage Pro—by assigning sprite actions such as <code>SetPanAngle</code> and <code>SetFieldOfView</code> to your sprite buttons.</p><p>Other authoring tools such as VRHotWires <span class="content_text"><a href="http://www.vrhotwires.com/" target="_blank">http://www.vrhotwires.com/</a></span> are also useful for adding wired actions to QTVR movies. </p><p>You generally want the panorama to pan or zoom smoothly while a button is pressed, and there’s a little trick to making that happen. It works like this:</p><ul class="spaceabove"><li class="li"><p>Create a sprite variable and have your sprite set the variable to 1 in response to a mouse-down event.</p></li><li class="li"><p>Have the same sprite set the variable to 0 in response to a mouse-up event.</p></li><li class="li"><p>Have the sprite read the variable in response to the idle event and change the pan angle or field of view only if the variable is true. You can control the speed of the pan or zoom by setting the idle event rate.</p></li></ul><p>Adding a wired sprite controller to a VR movie is straightforward:</p><ol class="ol"><li class="li"><p>Open the panorama in QuickTime Player and choose Get Movie Properties.</p></li><li class="li"><p>Use the Properties window to select Movie Controller.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_59" title="Figure 3-9Adding a wired sprite controller to your VR movie"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF139" title="Figure 3-9Adding a wired sprite controller to your VR movie"></a><strong>Figure 3-9&nbsp;&nbsp;</strong>Adding a wired sprite controller to your VR movie</p><img src = "../art/moviecontroller_prop.gif" alt = "Adding a wired sprite controller to your VR movie" width="265" height="201"></div><br/><ol class="ol"><li class="li"><p>Open the movie that contains your wired sprite controller in QuickTime Player. Choose Select All, then Copy.</p></li><li class="li"><p>Click anywhere in the panorama movie. Choose Select All in the Edit menu, then Add Scaled (Shift-Option or Shift-Ctrl-Alt keys, Edit menu). This adds the wired sprite controller on top of the panorama. The controller is aligned in the upper-left corner of the panorama.</p></li><li class="li"><p>Use the left pop-up menu in the Properties window to choose Sprite Track. Choose Size in the right pop-up menu, click Adjust, and drag the controller to the bottom of the frame (or wherever you prefer). You can use the red handles to stretch or shrink the controller if you need to. Click Done. </p></li></ol><p>If you’re trying to reposition a small sprite, you may find that the red handles overlap, leaving you nowhere to click and drag. Try choosing Double Size in the Movie menu; this will double the displayed size and create gaps between the handles.</p><p>If you want the controller to have a transparent background, choose Graphics Mode in the right pop-up menu and set the graphics mode to transparent, or to one of the alpha modes.</p><ol class="ol"><li class="li"><p>Reset the movie controller to the QTVR Controller and save as a self-contained movie.</p></li></ol><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF124" title="Compositing with Object Movies"></a><h3>Compositing with Object Movies</h3><p>Object movies are a unique type of time-based media, so compositing them with other QuickTime media can be a little tricky. The key points to understand are: </p><ul class="spaceabove"><li class="li"><p>Each view in an object movie—whether it’s a single image or an animation—has the same duration.</p></li><li class="li"><p>There are the same number of views in any row.</p></li><li class="li"><p>Consequently, dragging the mouse—left, right, up, or down—jumps in the movie time line by a fixed amount of time to reach the next view. </p></li><li class="li"><p>That fixed amount of time is not calculated when the movie plays—it is stored as a constant in the VR track of the movie when the movie is created.</p></li><li class="li"><p>If you change the duration of any part of an object movie—by using Cut, Paste, or Delete, for example—dragging jumps by the wrong amount of time and navigation won’t work properly any more. </p></li><li class="li"><p>You can add media to an object movie, without changing the object movie’s duration, using the Add or Add Scaled command.</p></li><li class="li"><p>An object movie can be set to play all the frames of a view when the user drags to a new view—it can be set to play them once or loop them continuously.</p></li><li class="li"><p>When the frames of a view are played, a portion of the movie time line is being played—any media added to that part of the time line also plays.</p></li><li class="li"><p>To add media to an object movie, open the movie in QuickTime Player and use the Properties window to assign the Movie Controller—the QTVR Controller doesn’t allow editing (you can restore the QTVR Controller when you’re done editing).</p></li></ul><p>With these fairly simple guidelines in mind, you can composite a wide variety of media with VR object movies. </p><p>To do things that these guidelines simply don’t allow—like adding continuous background music—put the media in separate movies and integrate them with the object movie using a QuickTime container such as SMIL, a Web page, or Director.</p><p>Now let’s look at some specific examples—adding still images, sound, motion video, and sprites.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF125" title="How You Can Add Still Images to an Object Movie"></a><h4>How You Can Add Still Images to an Object Movie</h4><p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_265"></a>Adding a still image to an object movie is fairly easy—you copy the still image and add it to the object movie using the Add Scaled command. There are three practical applications—adding a background, adding a frame, and adding a logo.</p><p>Many content authors who make object movies painstakingly matte a background image into every frame using Photoshop. You can save a great deal of work and a lot of bandwidth by adding a background image to the whole object movie at once using QuickTime Player. And since you’re downloading only a single background image for the whole movie, you can use a much higher-resolution image. </p><p>The trick to making this work is either to create the object movie images on a solid background color, so that color can be made transparent, or to add an alpha channel to the images. </p><p>Using an alpha channel creates a more visually seamless composition, but it’s almost as much work to add an alpha channel to every image as it is to matte in a background image. Using an alpha channel also requires 32-bit color, which uses more bandwidth than 8-bit, 16-bit, or 24-bit color, and it restricts you to using a 32-bit color compressor—you can’t use JPEG or Cinepak, for example. </p><p>Consequently, a solid background color is a more practical choice. Be sure to choose a background color that doesn’t appear anywhere in your object, or those areas of your object will also become transparent (you can use this fact intentionally to create windows in your object).</p><p>Similarly, a frame or foreground image adds a lot of character to an object movie without using much bandwidth—and because it’s a single image you can use a very high resolution.</p><p>The benefits of adding a logo are obvious—every copy of the movie is an advertisement for your company. The logo can also be a live link to your website. You generally want to create your logo on a solid color background or with an alpha channel, so it composites cleanly over the object movie. In this case, it’s usually better to use an alpha channel than a solid color. Since it’s a single small image, the extra effort and bandwidth required for an alpha channel are minimal (and well worth it for the improved visual quality).</p><p>To add a still image to an object movie, you follow these steps:</p><ol class="ol"><li class="li"><p>Open the still image in QuickTime Player. Select all. Copy.</p></li><li class="li"><p>Open the object movie in QuickTime Player and choose Get Movie Properties.</p></li><li class="li"><p>In the Properties window, select Movie Controller.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_60" title="Figure 3-10Adding a still image to your object movie"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF140" title="Figure 3-10Adding a still image to your object movie"></a><strong>Figure 3-10&nbsp;&nbsp;</strong>Adding a still image to your object movie</p><img src = "../art/moviecontroller_prop.gif" alt = "Adding a still image to your object movie" width="265" height="201"></div><br/><ol class="ol"><li class="li"><p>Choose Select All in the Edit menu to add a background, frame, or logo to the whole movie. Alternately, use the selection tools in the control bar to select a row or a view that you want to add the image to.</p></li><li class="li"><p>Choose Add Scaled (Shift-Option or Shift-Ctrl-Alt keys, Edit menu). This adds the image on top of the object movie. The image is aligned in the upper-left corner of the display window.</p></li></ol><p>If your image is a logo, do this:</p><ol class="ol"><li class="li"><p>Choose Video Track 2 (your logo) in the left pop-up menu, then choose Size in the right pop-up menu and click Adjust.</p></li><li class="li"><p>Drag your logo where you want it. You can scale your logo by dragging the red handles. Click Done.</p></li><li class="li"><p>If you want your logo to be translucent or have a transparent background, choose Graphics Mode from the right pop-up menu and set the graphics mode to transparent, blend, or one of the alpha modes, as appropriate.</p></li><li class="li"><p>Reset the movie controller to the QTVR Controller and save as a self-contained movie.</p></li></ol><p>If your image is a frame or a background, do this after step 5:</p><ol class="ol"><li class="li"><p>Use the left pop-up menu in the Properties window to choose Video Track 1 (the object images). Choose Layer in the right pop-up menu and decrement the layer number until the object movie is on top of the frame or background.</p></li><li class="li"><p>Choose Size in the right pop-up menu, click Adjust, and drag the object to the center of the frame (or wherever in the frame you prefer). Click Done. Your object movie is now floating on a background image. </p></li><li class="li"><p>To composite the object movie over a background image, choose Graphics Mode in the right pop-up menu of the Properties window and set the graphics mode of the object to transparent, or to one of the alpha modes, as appropriate.</p></li><li class="li"><p>If you want the object movie to show through a frame, rather than sitting on top of it, increment the object’s layer until it disappears, then set the graphics mode of the frame image to transparent, blend, or alpha, as appropriate, by choosing Video Track 2 from the left pop-up menu and Graphics Mode from the right pop-up menu. </p></li><li class="li"><p>Reset the movie controller to the QTVR Controller and save as a self-contained movie.</p></li></ol><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF127" title="Adding Sound to an Object Movie"></a><h4>Adding Sound to an Object Movie</h4><p>Adding <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_266"></a>sound to an object movie is tricky. The sound is played only when its part of the movie time line is played, and an object movie jumps around in the movie time line in a nonlinear way as the user drags the image.</p><p>You can easily add a narration or sound effect to a given view. If you set the object movie to play all frames in a view, the sound plays along. If you set the object movie to loop the frames until a new view is selected, the sound loops as well.</p><p>Adding music to a view is generally a bad idea—as the user jumps from view to view, the music jumps abruptly and the effect is disconcerting (like pushing buttons on a car radio).</p><p>Adding music to a row or the movie as a whole generally doesn’t work either—as the user jumps from view to view or row to row, the music skips around as well.</p><p>The best way to add background music to an object movie being played in a browser is to embed an audio-only movie in the same Web page. </p><p>The best way to add music to an object movie being played in QuickTime Player is to use SMIL. A SMIL presentation can also play in a browser. </p><p>The sound associated with a view cannot be longer than the view’s duration (but it can be shorter). </p><p>When you initially create an object movie using a tool such as QuickTime VR Authoring Studio, you can set the object movie to play all frames in a view, even if there is only one frame in each view, and you can make the duration of the views as long as you like (but they must all be the same). </p><p>Create your movie so the view duration is long enough for the longest audio segment that you want to attach to a view. If you need to make the views longer, recreate the movie using your authoring tool—don’t modify it’s duration using QuickTime Player.</p><p>These are the steps for adding sound to a view:</p><ol class="ol"><li class="li"><p>Open the object movie in QuickTime Player and choose Get Movie Properties.</p></li><li class="li"><p>In the Properties window, select Movie Controller.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_61" title="Figure 3-11Adding sound to a view"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF141" title="Figure 3-11Adding sound to a view"></a><strong>Figure 3-11&nbsp;&nbsp;</strong>Adding sound to a view</p><img src = "../art/moviecontroller_prop.gif" alt = "Adding sound to a view" width="265" height="201"></div><br/><ol class="ol"><li class="li"><p>Open a sound file—such as a WAV, MP3, or MIDI file—or a sound-only QuickTime movie, in QuickTime Player. Choose Select All from the Edit menu, then Copy.</p></li><li class="li"><p>Use the selection tools to select a particular view in the object movie, then choose Add (Option or Ctrl-Alt keys, Edit menu). This adds the sound to the view.</p></li><li class="li"><p>Repeat steps 3 and 4 for as many sounds as you like. To add the same sound to multiple views, just repeat step 4.</p></li><li class="li"><p>Reset the movie controller to the QTVR Controller and save. </p><ul class="ul"><li class="li"><p>If you’ve used a unique sound for each view, save as a self-contained movie. </p></li><li class="li"><p>If you’ve used the same sound dozens or hundreds of times, consider saving the movie but allowing dependencies—this prevents QuickTime from duplicating the sound data dozens or hundreds of times, but the sound files need to travel with the movie for it to play. (It can still play over the Web if the sound files are on the Web server.)</p></li></ul></li></ol><p>Your object movie should now play sound when you drag to a view. </p><p>If your object movie is set to play the frames for each view once, you might want to add a Play button to let the user hear the audio again without changing views. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF128" title="Adding Motion Video to an Object Movie"></a><h4>Adding Motion Video to an Object Movie</h4><p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_267"></a>You can add motion video to a view, a row, or even a whole object movie. Just remember that the video jumps around as the user jumps from view to view and row to row. Motion video plays smoothly only for the duration of a particular view.</p><p>If you create an animation with the same number of frames as the object movie, so that the two are synchronized, this can work out very nicely. A video of your object rotating in a mirror would be one example; an animated character that watches your object in rapt fascination would be another.</p><p>If your logo is animated, as a different example, you might attach a copy to each view, so that the animation loops no matter which view is selected.</p><p>These are the steps to add motion video to an object movie:</p><ol class="ol"><li class="li"><p>Open the object movie in QuickTime Player and choose Get Movie Properties.</p></li><li class="li"><p>In the Properties window, select Movie Controller.</p></li></ol><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_62" title="Figure 3-12Adding motion to an object movie"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF142" title="Figure 3-12Adding motion to an object movie"></a><strong>Figure 3-12&nbsp;&nbsp;</strong>Adding motion to an object movie</p><img src = "../art/moviecontroller_prop.gif" alt = "Adding motion to an object movie" width="265" height="201"></div><br/><ol class="ol"><li class="li"><p>Open the motion video file in QuickTime Player. Choose Select All from the Edit menu, then Copy.</p></li><li class="li"><p>In the object movie, choose Select All, or use the selection tools to select a particular view or a particular row, then choose Add Scaled (Shift-Option or Shift-Ctrl-Alt keys, Edit menu). This adds the motion video to the object movie, scaled in duration to match the movie, row, or view.</p></li><li class="li"><p>The video is aligned with the upper-left corner of the display area. To move it or scale it, choose the last video track in the left pop-up menu of the Properties window, then choose Size in the right pop-up menu and click Adjust. You may also want to set the new video track’s graphics mode by choosing Graphics Mode from the right pop-up menu.</p></li><li class="li"><p>Repeat steps 3, 4, and 5 for as many videos as you like. To add the same video to multiple views, repeat steps 4 and 5 only.</p></li><li class="li"><p>Reset the movie controller to the QTVR Controller and save. </p></li></ol><p>In most cases, you should save as a self-contained movie. </p><p>If you’ve used the same video dozens or hundreds of times, consider saving the movie but allowing dependencies. This prevents QuickTime from duplicating the video data dozens or hundreds of times, but the video files need to travel with the movie for it to play. (It can still play over the Web if the video files are on the Web server.)</p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIBIHII" title="Embedding a QTVR Movie in a Web Page"></a><h2>Embedding a QTVR Movie in a Web Page</h2><p><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_268"></a>You can embed a QTVR movie in a Web page as you would any QuickTime movie, but there are some special aspects to VR movies that are worth noting. This section discusses these aspects. </p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF129" title="Size Matters"></a><h3>Size Matters</h3><p>VR movies are almost always large—100 Kbytes is considered small for a panorama in the VR world, and 3 Mbytes is not unusual. Consequently, you should almost always use a poster movie to prevent large and unwanted downloads.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF130" title="Check Your References"></a><h3>Check Your References</h3><p>Whenever possible, you should create multiple versions of your VR movies and point to them using a multiple-data-rate reference movie. </p><p>It’s hard to create good VR movies at acceptably small sizes, so you might consider adding a direct link to your highest-resolution version, in addition to the reference movie. Sometimes people with slow modems are willing to wait to get the real goods—you might as well show them your best.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF131" title="Intruder Alert"></a><h3>Intruder Alert</h3><p>If another plug-in has taken over the QuickTime <code>.mov</code> file type, it won’t be able to display a VR movie, so be sure to embed a “You need QuickTime” image as the default image in the reference movie, or use the <code>SRC="Dummy.pntg" QTSRC="QTVR.mov"</code> technique.</p><a name="//apple_ref/doc/uid/TP40000944-CH207-TPXREF132" title="Node Logic"></a><h3>Node Logic</h3><p>When you embed a multiple panorama nodes in a website, it’s generally best to break up the download by putting each node in its own HTML page. Link the nodes using blob hot spots and inserting <code>HOTSPOT</code> parameters into the <code>&lt;EMBED></code> tag.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_63" title="Note"></a><p><strong>Note:</strong>&nbsp;There was an “off by one” error in the QuickTime plug-in for QuickTime 4.1, which caused <code>HOTSPOT</code>n to activate the link specified for <code>HOTSPOT</code>n+1. The workaround was to limit the hot spots in any panorama to 127, not to use consecutive hot spot numbers, and to use two <code>HOTSPOT</code> parameters (both n and n+1) to specify the link. The problem was fixed in QuickTime 4.1.1.</p></div><p>To preserve continuity when presenting multiple panoramas this way, it’s best to use frames. Load each node into the same frame using the <code>TARGET</code> parameter. </p><p>In addition, you should probably provide a map in an adjacent frame with hot spots that load the appropriate node’s HTML page in the panorama frame. You can do this by creating a QuickTime movie with <code>HREF</code> links or by creating a simple client-side image map in HTML. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_64" title="Note"></a><p><strong>Note:</strong>&nbsp;<a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_269"></a>Image maps are created using the <code>IMG</code>, <code>AREA</code>, and <code>MAP</code> tags. For an explanation of these tags, consult any HTML tutorial website. One good one can be found at <code>developer.netscape.com/docs/manuals/htmlguid/</code>.</p></div><p>For an example of a Web page that uses frames, blob hot spots, and an image map to display a series of linked panoramas, open <code>Multinode.htm</code> (in the Virtual folder of the CD) using your browser. <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_270"></a></p><p>This Web page, shown in <span class="content_text"><a href="3-QTVR-Programming.html#//apple_ref/doc/uid/TP40000944-CH207-BCIIBCGC">Figure 3-13</a></span>, was created by converting a multi-node panorama—created using QTVR Authoring Studio—into a series of single node panoramas with blob hot spots. The conversion was done automatically using the <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_271"></a>nodesaVR tool from Squamish Media Group.</p><p>With QuickTime, a multinode splitter is included in the QuickTime VR Authoring Extension. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_65" title="Figure 3-13A Web page created by converting a multi-node panorama into a series of single node panoramas with hot spots"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH207-BCIIBCGC" title="Figure 3-13A Web page created by converting a multi-node panorama into a series of single node panoramas with hot spots"></a><strong>Figure 3-13&nbsp;&nbsp;</strong>A Web page created by converting a multi-node panorama into a series of single node panoramas with hot spots</p><img src = "../art/multinode.gif" alt = "A Web page created by converting a multi-node panorama into a series of single node panoramas with hot spots" width="332" height="316"></div><br/><p>The nodesaVR program generated the HTML for the hot spots, which was then modified by hand to fix any potential hot spot bug in the viewer’s browser, simply by changing instances of </p><div class="codesample"><table><tr><td scope="row"><pre>HOTSPOTn="URLn.html"<span></span></pre></td></tr><tr><td scope="row"><pre>to<span></span></pre></td></tr><tr><td scope="row"><pre>HOTSPOTn="URLn.html" HOTSPOTn+1="URLn.html"<span></span></pre></td></tr><tr><td scope="row"><pre>so that<span></span></pre></td></tr><tr><td scope="row"><pre>HOTSPOT84="monolake4.html"<span></span></pre></td></tr><tr><td scope="row"><pre>for example, became<span></span></pre></td></tr><tr><td scope="row"><pre>HOTSPOT84="monolake4.html" HOTSPOT85="monolake4.html".<span></span></pre></td></tr></table></div><p>The image map was created manually using a GIF and HTML. A tool for creating animated maps with wired sprite position indicators is <a name="//apple_ref/doc/uid/TP40000944-CH207-DontLinkElementID_272"></a>mapsaVR, also from Squamish Media Group.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../2Chap/2-QTVR-Authoring.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../4Chap/4-QTVR-Manager.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-06-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/InsideQT_QTVR/3Chap/3-QTVR-Programming.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/InsideQT_QTVR/3Chap/3-QTVR-Programming.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/InsideQT_QTVR/3Chap/3-QTVR-Programming.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>