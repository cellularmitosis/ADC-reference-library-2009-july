<html><head><title>Mac OS X Server
 Manual Page For serveradmin(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/serveradmin" title="Mac OS X Server
 Manual Page for serveradmin(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/serveradmin"; name=serveradmin(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
serveradmin(8)            BSD System Manager's Manual           serveradmin(8)

<b>NAME</b>
     <b>serveradmin</b> -- command-line interface to Mac OS X Server administrative daemon

<b>SYNOPSIS</b>
     <b>serveradmin</b> [<b>-d</b> | <b>-x</b>] <u>command</u> [<u>command</u><b>_</b><u>args</u>]

     <b>serveradmin</b> [<b>-h</b> | <b>-v</b>]

<b>DESCRIPTION</b>
     <b>serveradmin</b> is a utility for administering services.  In general, it gives you access to the same func-<font color="#ffffff" class="whiteout">tionality&nbsp;functionality</font>
     tionality present in the Server Admin application. It must be run by root.

<b>OPTIONS</b>
     The following options are available:
     <b>-d</b>
     <b>--debug</b>    Print command to the terminal.

     <b>-h</b>
     <b>--help</b>     Print usage summary and exit.

     <b>-v</b>
     <b>--version</b>  Print build version and exit.

     <b>-x</b>
     <b>--xml</b>      Generate output as XML instead of key-value pairs.

<b>USAGE</b>
     Except when requesting information with <b>serveradmin</b> <b>-h</b> or <b>serveradmin</b> <b>-v</b>, you must specify a <u>command</u> to
     select a specific function to perform. Each command accepts its own arguments.

<b>COMMAND</b> <b>SUMMARY</b>
     Here are brief descriptions of all the <b>serveradmin</b> commands:

     <b>list</b>    Returns a list of all available services.

     <b>start</b> <u>service</u>
             Starts the specified service.

     <b>stop</b> <u>service</u>
             Stops the specified service.

     <b>status</b> <u>service</u>
             Returns whether or not the service is running.

     <b>fullstatus</b> <u>service</u>
             Returns service specific status information. This generally corresponds to the information
             shown in the status panel of the Server Admin application.

     <b>settings</b> <u>command</u><b>_</b><u>args</u>
             This command is used to read and write settings information. It can take arguments from the
             command line or standard input.  <b>set</b> can be used instead of <b>settings</b>.

     <b>command</b> <u>command</u><b>_</b><u>args</u>
             Allows service specific commands to be performed.  <b>com</b> can be used instead of <b>command</b>.

<b>COMMAND</b> <b>ARGUMENTS</b>
     Input and output is done using key value pairs.  Keys are specified using colon separated strings, with
     the first element being the service name (eg. afp:idleDisconnectFlag:adminUsers).  Values have types.
     If the value is in quotes, it is always considered to be a string.  Otherwise numbers (5, 10, 8.2) and
     booleans (yes or no) are converted to the appropriate type.  Assignments are always of the form <u>key</u> =
     <u>value</u> (eg. afp:guestAccess = yes).

     If only one key needs to be specified (or set), it can be placed on the command line after the command
     (eg. serveradmin set afp:guestAccess = yes).  However, in some case when doing <b>settings</b> or <b>command</b>,
     multiple key/value pairs need to be specified.  In this case, leaving them out of the argument list
     (eg.  <b>serveradmin</b> <b>settings</b>) will cause the program to read either keys or key/value pairs from the
     standard input until an end of file (EOF) is reached.  The keys or key/value pairs must be one per
     line.

     For <b>settings</b>, if no values are specified for the keys, the key value will be read and printed.  Other-<font color="#ffffff" class="whiteout">wise&nbsp;Otherwise</font>
     wise if there is a key/value pair of the form <u>key</u> = <u>value</u>, the value will be set and then echoed back
     to the output.  In general, the best approach is to fetch the settings for an individual service (eg.
     <b>serveradmin</b> <b>settings</b> <b>afp</b> <b>&gt;</b> <b>dumpfile</b> and then using the output as a template for changing settings.  Any
     output when fetching settings can be fed in to set values.

     When setting array values, special notation is needed.  There are two types of arrays.  Some arrays
     have special id keys that allow you to access individual array elements.  These are accessed using the
     special key _array_id followed by the value of the id tag (eg. web:Modules:_array_id:dav_module).  To
     add a new element to such an array, you need to have a special line with a "create" value. For example,
     to add a new web site to the web configuration, you would need:

             web:Sites:_array_id:MySite = create
             web:Sites:_array_id:MySite:enabled = yes
                 etc.

     To delete an element of an array, use the "delete" value (eg. web:Sites:_array_id:MySite = delete).

     For <b>command</b>, you always need to specify the command type (eg. afp:command = getConnectedUsers).  Com-<font color="#ffffff" class="whiteout">mands&nbsp;Commands</font>
     mands are highly specific to the individual services.  See the examples sections for some possible com-<font color="#ffffff" class="whiteout">mands.&nbsp;commands.</font>
     mands.

<b>EXAMPLES</b>
     serveradmin settings all &gt; outfile
             Stores settings from all services into a file.

     serveradmin settings &lt; outfile
             Will take any settings file and set the values.

     serveradmin settings afp:guestAccess = yes
             Turns on guest access for the afp server.

     serveradmin start web
             Starts the web server.

     serveradmin command afp:command = getConnectedUsers
             Returns a list of connected afp users.

     serveradmin command &lt; commandFile
             Will execute a command specified in commandFile. Some examples of commands are:

                 afp:command = disconnectUsers
                 afp:message = "You are doomed"
                 afp:minutes = 5
                 afp:sessionIDsArray:_array_id:0 = 4

                 afp:command = sendMessage
                 afp:message = "You are doomed"
                 afp:sessionIDsArray:_array_id:0 = 4

                 info:command = getHardwareInfo
                 info:variant = withQuotaUsage

                 mail:command = getConnectedUsers

                 mail:command = getUserAccounts

                 web:command = getSites

<b>FILES</b>
     /usr/sbin/serveradmin

<b>SEE</b> <b>ALSO</b>
     <a href="servermgrd.8.html#//apple_ref/doc/man/8/servermgrd">servermgrd(8)</a>

Mac OS X Server                 04 January 2005                Mac OS X Server
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/serveradmin.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/serveradmin.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/serveradmin.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
