<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Launch Services Programming Guide: Launch Services Concepts</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Launch Services Concepts"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000999-CH202" title="Launch Services Concepts"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../FileManagement-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000448" target="_top">File Management</a> &gt; <a href="../LSCIntro/LSCIntro.html#//apple_ref/doc/uid/TP30000999-CH201-TP1">Launch Services Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../LSCIntro/LSCIntro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../LSCTasks/LSCTasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000999-CH202-TP9" title="Launch Services Concepts"></a><h1>Launch Services Concepts</h1><p>This chapter introduces both developers and users to basic information about Launch Services and its API.</p>


<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_1">Item Identification</a>
				
			<br/>
			
        
			
			
				<a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABDADAJ">Item Information</a>
				
			<br/>
			
        
			
			
				<a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_2">Launch Services Database</a>
				
			<br/>
			
        
			
			
				<a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABEJFCD">Application Registration</a>
				
			<br/>
			
        
			
			
				<a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_4">Open Operations</a>
				
			<br/>
			
        
			
			
				<a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABJIIGH">User-Specified Binding Preferences</a>
				
			<br/>
			
        
			
			
				<a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABBJJEF">Preferred Applications</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_1" title="Item Identification"></a><h2>Item Identification</h2>
<p>In general, items to be operated on (such as applications, documents, or folders) can be identified to Launch Services in either of two ways:</p>
<ul class="ul"><li class="li"><p>With a file-system reference (<code>FSRef</code>) designating a file residing on a local or remote file-system volume</p></li>
<li class="li"><p>With a Core Foundation URL reference (<code>CFURL</code>) specifying a URL (uniform resource locator), typically (though not necessarily) denoting an item to be accessed via the Internet</p></li></ul>
<p>Many Launch Services operations are implemented by pairs of related functions, one accepting a file-system reference as a parameter and the other a URL reference: for instance, the preferred application for opening an item can be found with either the <code>LSGetApplicationForItem</code> or the <code>LSGetApplicationForURL</code> function.</p>
<p>In addition, some Launch Services functions apply not to specific individual items but to families of items defined by certain identifying characteristics. These characteristics can include:</p>
<ul class="ul"><li class="li"><p>A four-character <strong>file type</strong> code</p></li>
<li class="li"><p>A four-character <strong>creator signature</strong></p></li>
<li class="li"><p>A filename extension</p></li>
<li class="li"><p>A MIME (Multipurpose Internet Mail Extension) type</p></li></ul>
<p>For instance, the Launch Services function <code>LSGetApplicationForInfo</code> finds the preferred application for opening items with a given file type, creator signature, filename extension, or any combination of these characteristics; the <code>LSCopyApplicationForMIMEType</code> function finds the preferred application for items with a specified MIME type.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-BABDADAJ" title="Item Information"></a><h2>Item Information</h2>
<p>Some Launch Services functions return requested information about an item or family of items. This can include:</p>
<ul class="ul"><li class="li"><p>The item’s file type</p></li>
<li class="li"><p>The item’s creator signature</p></li>
<li class="li"><p>The item’s filename extension</p></li>
<li class="li"><p>The item’s <strong>display name:</strong> the string to be used for displaying its name to the user (such as in the Finder or the Dock)</p></li>
<li class="li"> <p>The item’s <strong>kind string:</strong> the string used (in the Finder’s Get Info window or the Kind column of the Finder’s list view, for instance) to characterize its general nature, such as <code>Application</code>, <code>Folder</code>, <code>Alias</code>, <code>JPEG Picture</code>, <code>QuickTime Movie</code>, or <code>FrameMaker Document</code></p></li>
<li class="li"><p>Flags describing various attributes of the item, including the following:</p><ul class="nested">
<li class="nested li"><p>Is it a plain file (and not, for example, a directory, volume, or UNIX symbolic link)?</p></li>
<li class="nested li"><p>Is it an executable application?</p></li>
<li class="nested li"><p>If an application, can it run natively in Mac OS X?</p></li>
<li class="nested li"><p>If an application, does it require the Classic emulation environment?</p></li>
<li class="nested li"><p>If an application that can run either natively or in the Classic environment, does it prefer one environment or the other?</p></li>
<li class="nested li"><p>Is it a scriptable application?</p></li>
<li class="nested li"><p>Is it a container (such as a directory, package, or volume)?</p></li>
<li class="nested li"><p>Is it a packaged directory?</p></li>
<li class="nested li"><p>Is it the root directory of a volume?</p></li>
<li class="nested li"><p>Is it an alias?</p></li>
<li class="nested li"><p>Is it a UNIX symbolic link?</p></li>
<li class="nested li"><p>Is it invisible (that is, not displayed to the user in the Finder)?</p></li>
<li class="nested li"><p>Does it have a hidden filename extension?</p></li></ul></li></ul>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_2" title="Launch Services Database"></a><h2>Launch Services Database</h2>
<p>Launch Services maintains a central data structure, the <strong>Launch Services database,</strong> in which it records all of the pertinent information about applications and the kinds of document files and URLs they are capable of opening. Whenever a new application becomes known to the system (such as when the user drags it from an installation disk into the Applications folder), the application is <strong>registered</strong> with Launch Services, which copies the needed information about the application into its database. Launch Services can then use this information to determine the preferred application for opening a given document file or URL.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_3" title="Property List Keys for Launch Services"></a><h3>Property List Keys for Launch Services</h3>
<p>Launch Services obtains the information it needs about an application from the application’s bundle information property list (<code>Info.plist</code>) or, in the case of a single-file application, from a <code>'plst'</code> resource in the application’s resource fork. <span class="content_text">Table 1-1</span> shows the relevant keys. (See <em><a href="../../../../MacOSX/Conceptual/BPRuntimeConfig/index.html#//apple_ref/doc/uid/10000170i" target="_top">Runtime Configuration Guidelines</a></em> for more detailed information on these and other property-list keys.)</p><a name="//apple_ref/doc/uid/TP30000999-CH202-SW3" title="Table 1-1Property-list keys related to Launch Services"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><a name="//apple_ref/doc/uid/TP30000999-CH202-BABFCAHE" title="Table 1-1Property-list keys related to Launch Services"></a><strong>Table 1-1&nbsp;&nbsp;</strong>Property-list keys related to Launch Services</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Type</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>CFBundleDisplayName</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The application’s display name</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleIconFile</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The name of the file containing the application’s icon</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleIdentifier</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The application’s bundle identifier</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleSignature</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The application’s creator signature</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleDocumentTypes</code></p></td>
<td ><p><code>Array</code></p></td>
<td ><p>An array of dictionaries describing the document types
the application can open; see <span class="content_text"><a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-CIHHEGGE">“Document Types”</a></span></p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleURLTypes</code></p></td>
<td ><p><code>Array</code></p></td>
<td ><p>An array of dictionaries describing the URL types the
application can open; see <span class="content_text"><a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-CIHFEEAD">“URL Types”</a></span></p></td>
</tr>
<tr>
<td  scope="row"><p><code>LSRequiresCarbon</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>Must the application run natively in Mac OS X?</p></td>
</tr>
<tr>
<td  scope="row"><p><code>LSPrefersCarbon</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>Does the application prefer to run natively in Mac OS
X?</p></td>
</tr>
<tr>
<td  scope="row"><p><code>LSRequiresClassic</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>Must the application run in the Classic emulation environment?</p></td>
</tr>
<tr>
<td  scope="row"><p><code>LSPrefersClassic</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>Does the application prefer to run in the Classic emulation
environment?</p></td>
</tr>
<tr>
<td  scope="row"><p><code>LSBackgroundOnly</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>Does the application run only in the background?</p></td>
</tr>
<tr>
<td  scope="row"><p><code>LSUIElement</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>Is the application a user interface element (that is,
has no menu bar and should not appear in the Dock or the Force Quit window)?</p></td>
</tr>

</table></div>
<p>The <code>CFBundleDisplayName</code> key specifies the application’s display name; this key can be localized by including it in the <code>InfoPlist.strings</code> file of the appropriate <code>.lproj</code> subdirectory. <code>CFBundleIconFile</code> identifies the file containing the icon image to be used for displaying the application on the screen. <code>CFBundleIdentifier</code> defines the application’s <strong>bundle identifier,</strong> a unique identifying string used to locate its bundle at runtime. <code>CFBundleSignature</code> is the application’s <strong>creator signature,</strong> a four-character code that identifies document files belonging to this application. </p>
<p>The keys <code>LSRequiresCarbon</code>, <code>LSPrefersCarbon</code>, <code>LSRequiresClassic</code>, <code>LSPrefersClassic</code>, <code>LSBackgroundOnly</code>, and <code>LSUIElement</code> specify various aspects of the environment in which the application should be run. A string value of <code>"1"</code> for any of these keys declares the corresponding attribute to be true. (In Mac OS X version 10.2 or later, these keys can also take values of type <code>Boolean</code> or <code>Number</code> rather than <code>String</code>, but such values are not supported in earlier system versions.) </p>
<p>The <code>LSRequiresCarbon</code>, <code>LSPrefersCarbon</code>, <code>LSRequiresClassic</code>, and <code>LSPrefersClassic</code> keys are mutually exclusive: at most one of them can be set to <code>"1"</code>. You can obtain information about the values of these four keys via the <code>flags</code> field of the item-information record returned by the Launch Services functions <code>LSCopyItemInfoForRef</code> and <code>LSCopyItemInfoForURL</code>. <code>LSRequiresCarbon</code> specifies that the application must be run natively in Mac OS X and cannot be run in the Classic emulation environment; <code>LSRequiresClassic</code> means the reverse. <code>LSPrefersCarbon</code> and <code>LSPrefersClassic</code> indicate that the application can run in either environment but has a preference for one or the other; the Finder offers the user the choice of which environment to use by displaying a checkbox in the application’s Get Info window labeled “Open in the Classic environment,” initially selected or deselected depending on which key the application itself specifies. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_21" title="Note"></a><p><strong>Note:</strong>&nbsp;The use of the word <code>Carbon</code> in the names <code>LSRequiresCarbon</code> and <code>LSPrefersCarbon</code> is misleading, since these keys actually signify that the application requires or prefers to run natively in MacOSX, irrespective of whether it is specifically Carbon-based; in particular, <code>LSRequiresCarbon</code> can apply equally well to Cocoa or Carbon applications. Note also the subtle difference in meaning between the <code>LSRequiresCarbon</code> flag in the bundle information property list and the <code>kLSItemInfoIsNativeApp</code> flag in the item-information record: the former indicates that the application <em>must</em> run natively and <em>cannot</em> run in the Classic environment, while the latter means only that the application <em>is capable of</em> running natively. Applications with <code>kLSItemInfoIsNativeApp</code> set may also be capable of running in the Classic environment, depending on the setting of the <code>kLSItemInfoPrefersNative</code> and <code>kLSItemInfoPrefersClassic</code> flags.</p></div>
<p>If none of the four keys is set to <code>"1"</code>, Launch Services infers the application’s required or preferred environment by other means:</p>
<ul class="spaceabove"><li class="li"><p>If the application is bundled, it is assumed to be a native Mac OS X application and is run natively (equivalent to <code>LSRequiresCarbon</code>).</p></li>
<li class="li"><p>If the application is not bundled and its resource fork contains a <code>'plst'</code> or <code>'carb'</code> resource, it is assumed to be compatible with either environment but prefer to run natively (equivalent to <code>LSPrefersCarbon</code>).</p></li>
<li class="li"><p>If the application is not bundled and has no <code>'plst'</code> or <code>'carb'</code> resource, it is assumed to be a Classic application incapable of running natively (equivalent to <code>LSRequiresClassic</code>).</p></li></ul>
<p>The most important property-list keys, for Launch Services’ purposes, are <code>CFBundleDocumentTypes</code> and <code>CFBundleURLTypes</code>. The value associated with each of these keys is an array of dictionaries (<strong>type-definition</strong> and <strong>scheme-definition dictionaries,</strong> respectively), each of which declares (<strong>claims</strong>) a family of document files or URLs that the application is prepared to handle. Launch Services uses this information in deciding what application to use to open a given document file or URL.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-CIHHEGGE" title="Document Types"></a><h4>Document Types</h4>
<p>A type-definition dictionary defines a <strong>document type,</strong> a family of document files that the application can handle. <span class="content_text">Table 1-2</span> shows the relevant keys in this dictionary. (See <em><a href="../../../../MacOSX/Conceptual/BPRuntimeConfig/index.html#//apple_ref/doc/uid/10000170i" target="_top">Runtime Configuration Guidelines</a></em> for more detailed information on these and other keys in the type-definition dictionary.) </p><a name="//apple_ref/doc/uid/TP30000999-CH202-SW1" title="Table 1-2Keys in a type-definition dictionary"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><a name="//apple_ref/doc/uid/TP30000999-CH202-TPXREF125" title="Table 1-2Keys in a type-definition dictionary"></a><strong>Table 1-2&nbsp;&nbsp;</strong>Keys in a type-definition dictionary</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Type</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>CFBundleTypeName</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The abstract name of the document type (also called its
kind string)</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleTypeIconFile</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The name of the icon file for displaying documents of
this type</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleTypeOSTypes</code></p></td>
<td ><p><code>Array</code></p></td>
<td ><p>An array of four-character file types for documents belonging
to this document type</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleTypeExtensions</code></p></td>
<td ><p><code>Array</code></p></td>
<td ><p>An array of filename extensions for documents belonging
to this document type</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleTypeMIMETypes</code></p></td>
<td ><p><code>Array</code></p></td>
<td ><p>An array of MIME types for documents belonging to this
document type</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleTypeRole</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The role the application claims with respect to documents
of this type; see <span class="content_text"><a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABJHDGA">“Application Roles”</a></span> </p></td>
</tr>
<tr>
<td  scope="row"><p><code>LSTypeIsPackage</code></p></td>
<td ><p><code>Boolean</code></p></td>
<td ><p>Specifies whether the document is distributed as a bundle.</p></td>
</tr>

</table></div>
<p>The <code>CFBundleTypeName</code> key specifies the document type’s kind string, a user-visible description used to characterize documents of this type on the screen (such as in the Finder’s Get Info window or in the Kind column of the Finder’s list view). This key can be localized by including it in the <code>InfoPlist.strings</code> file of the appropriate <code>.lproj</code> subdirectory. <code>CFBundleTypeIconFile</code> identifies the file containing the icon image to be used for displaying documents of this type on the screen. <code>LSTypeIsPackage</code> specifies whether the document is a packaged bundle (<code>true</code>) or a single file (<code>false</code>).</p>
<p>Files belonging to a given document type may be characterized by their file types, filename extensions, or MIME types. The <code>CFBundleTypeOSTypes</code> key in the type-definition dictionary specifies an array of four-character file type codes that characterize documents of this type; similarly, <code>CFBundleTypeExtensions</code> specifies an array of filename extensions and <code>CFBundleTypeMIMETypes</code> an array of MIME types. Any of these individual keys can be omitted if the corresponding file characteristic is not relevant, but at least one of them must be present for the file type to be nonempty. To allow an application to accept files of unrestricted file type or extension during drag-and-drop operations, you can use the special wild-card values <code>'****'</code> or <code>'*'</code> for <code>CFBundleOSTypes</code> or <code>CFBundleTypeExtensions</code>, respectively. (These are honored only in drag-and-drop operations and not when the user opens a document by double-clicking.) Finally, the <code>CFBundleTypeRole</code> key specifies the role that the application claims with respect to documents of the given type, as described under <span class="content_text"><a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABJHDGA">“Application Roles.”</a></span></p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-CIHFEEAD" title="URL Types"></a><h4>URL Types</h4>
<p>A scheme-definition dictionary is similar to a type-definition dictionary, but defines a <strong>URL type</strong>—a family of URLs that the application can handle—rather than a document type. <span class="content_text">Table 1-3</span> shows the keys in this type of dictionary. (See <em><a href="../../../../MacOSX/Conceptual/BPRuntimeConfig/index.html#//apple_ref/doc/uid/10000170i" target="_top">Runtime Configuration Guidelines</a></em> for more detailed information on these keys.) </p><a name="//apple_ref/doc/uid/TP30000999-CH202-SW2" title="Table 1-3Keys in a scheme-definition dictionary"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><a name="//apple_ref/doc/uid/TP30000999-CH202-BABEGAID" title="Table 1-3Keys in a scheme-definition dictionary"></a><strong>Table 1-3&nbsp;&nbsp;</strong>Keys in a scheme-definition dictionary</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Type</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>CFBundleURLName</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The abstract name of the URL type (also called its kind
string)</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleURLIconFile</code></p></td>
<td ><p><code>String</code></p></td>
<td ><p>The name of the icon file for displaying URLs of this
type</p></td>
</tr>
<tr>
<td  scope="row"><p><code>CFBundleURLSchemes</code></p></td>
<td ><p><code>Array</code></p></td>
<td ><p>An array of URL schemes for URLs belonging to this URL
type</p></td>
</tr>

</table></div>
<p>The <code>CFBundleURLName</code> key specifies the URL type’s kind string, a user-visible description used to characterize URLs of this type on the screen (such as in the Finder’s Get Info window or in the Kind column of the Finder’s list view). This key can be localized by including it in the <code>InfoPlist.strings</code> file of the appropriate <code>.lproj</code> subdirectory. <code>CFBundleURLIconFile</code> identifies the file containing the icon image to be used for displaying URLs of this type on the screen. </p>
<p>URLs belonging to a given URL type are characterized by their scheme components, such as <code>http</code>, <code>ftp</code>, <code>mailto</code>, or <code>file</code>. The <code>CFBundleURLSchemes</code> key in the scheme-definition dictionary specifies an array of schemes that characterize URLs of this type.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-BABJHDGA" title="Application Roles"></a><h3>Application Roles</h3>
<p>In declaring a document type, an application can claim a particular <strong>role</strong> with respect to documents of that type, defining the kinds of operations the application is capable of performing on such documents. The role is declared via the <code>CFBundleTypeRole</code> key in the application’s type-definition dictionary for the given document type. Launch Services recognizes three such roles:</p>
<ul class="spaceabove"><li class="li"><p><code>Editor</code>. The application can read, present, manipulate, and save documents of the given type.</p></li>
<li class="li"><p><code>Viewer</code>. The application can read and present documents of the given type, but cannot manipulate or save them.</p></li>
<li class="li"><p><code>None</code>. The application cannot operate on documents of the given type. This role is useful for declaring information about document types that the application is incapable of opening, such as their abstract names and icon files.</p></li></ul>
<p>Launch Services defines a set of bit-mask constants of type <code>LSRolesMask</code> denoting the various possible roles. Launch Services functions that find the preferred application for a document or family of documents (<code>LSGetApplicationForItem</code>, <code>LSGetApplicationForURL</code>, and <code>LSGetApplicationForInfo</code>), or that determine whether a given application can open a designated document (<code>LSCanRefAcceptItem</code> and <code>LSCanURLAcceptURL</code>), take a parameter of this type to specify the application’s desired role with respect to the document.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-BABEJFCD" title="Application Registration"></a><h2>Application Registration</h2>
<p>All applications available on the user’s system must be <strong>registered</strong> to make them known to Launch Services and copy their document binding and other information into its database. It isn’t ordinarily necessary to perform this task explicitly, since a variety of utilities and services built into the Mac OS X system software take care of it automatically:</p>
<ul class="ul"><li class="li"><p>A built-in background tool, run whenever the system is booted or a new user logs in, automatically searches the Applications folders in the system, network, local, and user domains and registers any new applications it finds there. (This operation is analogous to “rebuilding the desktop” in earlier versions of Mac OS.)</p></li>
<li class="li"><p>The Finder automatically registers all applications as it becomes aware of them, such as when they are dragged onto the user’s disk or when the user navigates to a folder containing them.</p></li>
<li class="li"><p>When the user attempts to open a document for which no preferred application can be found in the Launch Services database, the Finder presents a dialog asking the user to select an application with which to open the document. It then registers that application before launching it.</p></li></ul>
<p>In spite of these automatic registration utilities, it may sometimes be necessary to register an application explicitly with Launch Services. For example, although developers are encouraged to package their applications so that they can be installed by simply dragging them onto the user’s disk, some applications may require more elaborate custom installer software. In such cases, the installer should call one of the Launch Services registration functions <code>LSRegisterFSRef</code> or <code>LSRegisterURL</code> to register the application explicitly. </p><p>The registration functions take a Boolean parameter, <code>inUpdate</code>, which controls the function’s behavior when the application being registered already exists in the Launch Services database. If this parameter is <code>true</code>, Launch Services unconditionally reregisters the application, replacing any previous information that may already exist for it in the database; if the parameter is <code>false</code>, the application is reregistered only if its current modification time is more recent than that recorded in the database.</p><p>After making any significant change in an application’s Launch Services–related information, you should either reregister the application explicitly, by calling <code>LSRegisterFSRef</code> or <code>LSRegisterURL</code> with <code>inUpdate</code> set to <code>true</code>, or update the modification time of the application to ensure that it will be updated by the automatic registration utilities described above.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_22" title="Note"></a><p><strong>Note:</strong>&nbsp;You can update an application’s modification time using the BSD <code>touch</code> command in a Terminal window. For example, the command <code>touch /Applications/TextEdit.app</code> sets the modification time of TextEdit to the current time.</p></div>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_4" title="Open Operations"></a><h2>Open Operations</h2>
<p>The primary purpose of Launch Services is to open applications, documents, and URLs. Exactly how this is done depends on the kind of item to be opened, as described in the following sections.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_5" title="Opening Applications"></a><h3>Opening Applications</h3>
<p>When the item to be opened is an application (or a URL with scheme <code>file</code> designating an application), Launch Services checks whether the application is already running and proceeds accordingly:</p>
<ul class="spaceabove"><li class="li"><p>If the application is not already running, Launch Services starts it up (<strong>launches</strong> it) and sends it an <code>'oapp'</code> (“open application”) Apple event. The application should respond to this event by performing its normal startup processing.</p></li>
<li class="li"><p>If the application is already running, Launch Services activates it (brings it to the front of the screen) and sends it an <code>'rapp'</code> (“reopen application”) Apple event. This instructs the application to take some additional action, if necessary, to provide visual feedback to the user that it has become active: for example, it might open an empty document window or a document creation dialog if it has no other windows already open.</p></li></ul>
<p>In either case, Launch Services adds the application to the Recent Items submenu in the Apple menu.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_6" title="Opening Documents"></a><h3>Opening Documents</h3>
<p>If the item to be opened is a document (or a URL with scheme <code>file</code> designating a document file), Launch Services must first determine what application to use to open the item. This is known as the item’s <strong>preferred application.</strong> As described under <span class="content_text"><a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABJIIGH">“User-Specified Binding Preferences,”</a></span> the Mac OS X user interface allows the user to specify an explicit binding between a document and its preferred application. If such an explicit binding has been specified, it takes precedence over any other considerations; if not, Launch Services uses a set of implicit binding criteria to determine the preferred application, as described under <span class="content_text"><a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABBJJEF">“Preferred Applications.”</a></span></p>
<p>Once the preferred application has been determined, Launch Services launches or activates it (depending on whether it is already running) and sends it an <code>'odoc'</code> (“open document”) Apple event instructing it to open the specified document. (If the document is to be printed rather than merely opened, a <code>'pdoc'</code> (“print document”) Apple event is sent instead of <code>'odoc'</code>; in the case of a <code>file</code> URL, if the application claims to handle URLs with that scheme, it is sent a <code>‘GURL'</code> (“get URL”) Apple event instead.)</p><p>Finally, Launch Services adds both the application and the document (or URL) to the Recent Items submenus in the Apple menu.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_7" title="Opening URLs"></a><h3>Opening URLs</h3>
<p>If the item to be opened is a URL with a scheme other than <code>file</code>, it is opened in essentially the same way as a document, but with the following exceptions:</p>
<ul class="spaceabove"><li class="li"><p>As described under <span class="content_text"><a href="LSCConcepts.html#//apple_ref/doc/uid/TP30000999-CH202-BABBJJEF">“Preferred Applications,”</a></span> the implicit binding criteria for selecting a preferred application are based on the URL’s scheme component rather than on a creator signature, file type, or filename extension.</p></li>
<li class="li"><p>The Apple event sent to the application after launching or activating it is <code>'GURL'</code> (“get URL”) rather than <code>'odoc'</code> (“open document”).</p></li></ul>
<p>After the preferred application is launched or activated, Launch Services adds the application to the Recent Items submenu in the Apple menu.</p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-BABBJHID" title="Launch Options"></a><h3>Launch Options</h3>
<p>When opening an application (whether by itself or to open one or more documents or URLs), you can specify various <strong>launch options</strong> to control the manner in which it is launched or activated. These can include:</p>
<ul class="spaceabove"><li class="li"><p>Whether to open the documents or URLs (if any) in a specifically designated application or in their own preferred applications</p></li>
<li class="li"><p>Whether to print the documents or URLs (if any) or merely open them</p></li>
<li class="li"><p>Whether to add the application and the documents (if any) to the Finder’s Recent Items menu or to suppress this action</p></li>
<li class="li"><p>Whether to permit the application to open in the background or to fail if it is a background-only application</p></li>
<li class="li"><p>Whether to open the application without bringing it to the foreground</p></li>
<li class="li"><p>Whether to permit the application to open in the Classic emulation environment or to fail if it is a Classic-only application</p></li>
<li class="li"><p>Whether to launch a new instance of the application, even if another instance is already running</p></li>
<li class="li"><p>Whether to hide the application after launching it</p></li>
<li class="li"><p>Whether to hide all other applications after launching this one</p></li>
<li class="li"><p>Whether to launch the application synchronously or asynchronously (see next section)</p></li></ul>
<a name="//apple_ref/doc/uid/TP30000999-CH202-BABDFECH" title="Synchronous and Asynchronous Launch"></a><h3>Synchronous and Asynchronous Launch</h3>
<p>One of the options you can specify when launching an application is whether to launch it <strong>synchronously</strong> or <strong>asynchronously:</strong></p>
<ul class="spaceabove"><li class="li"><p>In a synchronous launch, control does not return from the Launch Services function launching the application until the application has completed its launch sequence (indicated visually to the user when the application’s icon stops “bouncing” in the Dock). </p></li>
<li class="li"><p>In an asynchronous launch, control returns immediately, while the icon in the Dock is still “bouncing.” When the launch sequence has been completed, your application is notified with a Carbon event of type <code>kEventAppLaunchNotification</code>. You can install an event handler callback routine to respond to this event in whatever way is appropriate. In your call to the Launch Services function that launches the application, you can supply an arbitrary 4-byte <strong>reference constant</strong> that will be passed back to your handler routine as part of the notification event.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30000999-CH202-BABJIIGH" title="User-Specified Binding Preferences"></a><h2>User-Specified Binding Preferences</h2>
<p>Launch Services’ first priority in determining the preferred application for a file or a non-file URL is whether the user has specified an explicit binding preference for that item.</p><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_8" title="Choosing the Binding Preference for a File"></a><h3>Choosing the Binding Preference for a File</h3><p>The user can specify a preferred application for a file by selecting the item in the Finder and choosing the Get Info command (see <span class="content_text">Figure 1-1</span>).</p>
<br/><div><a name="//apple_ref/doc/uid/TP30000999-CH202-SW4" title="Figure 1-1Choosing Get Info"></a><p><a name="//apple_ref/doc/uid/TP30000999-CH202-BABBEIFH" title="Figure 1-1Choosing Get Info"></a><strong>Figure 1-1&nbsp;&nbsp;</strong>Choosing Get Info</p>
<img src = "../Art/get_info_command.gif" alt = "Choosing Get Info" width="527" height="328"></div><br/>
<p>The Open With pane of the Get Info window contains a pop-up menu listing all known applications in the Launch Services database that claim to accept the selected item (see <span class="content_text">Figure 1-2</span>). The user can then choose an application from the menu to become the item’s preferred application (<span class="content_text">Figure 1-3</span>).</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_23" title="Note"></a><p><strong>Note:</strong>&nbsp;Explicit binding preferences for individual items are not user-specific but systemwide—that is, they continue to apply to the given item on that same computer, even if a different user logs in.</p></div>
<br/><div><a name="//apple_ref/doc/uid/TP30000999-CH202-SW5" title="Figure 1-2Get Info window"></a><p><a name="//apple_ref/doc/uid/TP30000999-CH202-BABDFHAI" title="Figure 1-2Get Info window"></a><strong>Figure 1-2&nbsp;&nbsp;</strong>Get Info window</p><img src = "../Art/get_info_box.gif" alt = "Get Info window" width="266" height="413"></div><br/>
<br/><div><a name="//apple_ref/doc/uid/TP30000999-CH202-SW6" title="Figure 1-3Selecting the preferred application for an item"></a><p><a name="//apple_ref/doc/uid/TP30000999-CH202-BABGCCJF" title="Figure 1-3Selecting the preferred application for an item"></a><strong>Figure 1-3&nbsp;&nbsp;</strong>Selecting the preferred application for an item</p><img src = "../Art/set_binding_pref.gif" alt = "Selecting the preferred application for an item" width="266" height="465"></div><br/><p>Clicking the Change All button (<span class="content_text">Figure 1-4</span>) makes the chosen application the preferred application for all items of the same document or URL type, rather than just for the single item selected.</p>
<br/><div><a name="//apple_ref/doc/uid/TP30000999-CH202-SW7" title="Figure 1-4Selecting the preferred application for an item type"></a><p><a name="//apple_ref/doc/uid/TP30000999-CH202-BABDJFDD" title="Figure 1-4Selecting the preferred application for an item type"></a><strong>Figure 1-4&nbsp;&nbsp;</strong>Selecting the preferred application for an item type</p><img src = "../Art/change_all.gif" alt = "Selecting the preferred application for an item type" width="265" height="413"></div><br/>
<p>Occasionally, a user may wish to designate a preferred application that doesn’t claim to accept a given document or URL. (This might be useful, for instance, for opening documents in a text-encoded format, such as HTML, as unencoded text in a text editor.) The Other item in the Open With pane’s pop-up menu opens the dialog shown in <span class="content_text">Figure 1-5</span>, in which the user can navigate to the desired application. The All Applications item in the pop-up menu labeled Show at the top of the dialog allows any desired application to be selected; Recommended Applications causes those not claiming to accept the item to be dimmed.</p>
<br/><div><a name="//apple_ref/doc/uid/TP30000999-CH202-SW8" title="Figure 1-5Choose Other Application dialog"></a><p><a name="//apple_ref/doc/uid/TP30000999-CH202-BABBAACA" title="Figure 1-5Choose Other Application dialog"></a><strong>Figure 1-5&nbsp;&nbsp;</strong>Choose Other Application dialog</p>
<img src = "../Art/choose_other_app.gif" alt = "Choose Other Application dialog" width="452" height="445"></div><br/><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_9" title="Choosing the Binding Preference for a URL"></a><h3>Choosing the Binding Preference for a URL</h3><p>There is no system-level user interface for setting non-file URL scheme handlers. However, individual applications can allow users to choose a preferred application for a specific URL scheme. For example:</p><ul class="spaceabove"><li class="li"><p>The Safari application allows users to set the <code>http:</code> handler by choosing a default web browser.</p></li><li class="li"><p>The Mail application allows users to set the <code>mailto:</code> handler by choosing a default email reader.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30000999-CH202-BABBJJEF" title="Preferred Applications"></a><h2>Preferred Applications</h2>
<p>Launch Services uses a series of prioritized binding criteria to determine the preferred application for opening a given document or URL. These are used by the Launch Services functions that open a document file (<code>LSOpenFSRef</code>, <code>LSOpenFromRefSpec</code>) or a URL (<code>LSOpenCFURLRef</code>, <code>LSOpenFromURLSpec</code>), as well as by those that merely locate the preferred application for such an item without actually opening it (<code>LSGetApplicationForItem</code>, <code>LSGetApplicationForURL</code>). They are also used by the <code>LSGetApplicationForInfo</code> function, which locates the preferred application for opening a family of items defined by specified identifying characteristics. </p>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_10" title="Preferred Application for a Document"></a><h3>Preferred Application for a Document</h3>
<p>For individual document files (whether specified by a file-system reference or a URL with scheme <code>file</code>), the criteria are as follows:</p>
<ol class="ol"><li class="li"><p>If the user has specified an explicit binding for the document (or for the entire document type to which it belongs), the preferred application is the one the user has specified.</p></li>
<li class="li"><p>If the document has a filename extension (or if one has been specified as a parameter to <code>LSGetApplicationForInfo</code>), find all applications in the Launch Services database that claim to accept documents with that extension.</p></li>
<li class="li"><p>If the document carries a four-character file type (or if one has been specified as a parameter), find all applications that claim to accept files of that type.</p></li>
<li class="li"><p>If more than one application has been found as a result of steps 2–3, apply the following criteria in the order shown:</p><ol class="ol"><li class="ol ol"><p>If the document carries a four-character creator signature (or if one has been specified as a parameter), give preference to any application that claims to accept documents with that signature (typically the application to which the signature belongs).</p></li>
<li class="ol ol"><p>Give preference to native OS X applications over those that run in the Classic emulation environment.</p></li>
<li class="ol ol"><p>Give preference to applications residing on the boot volume over those residing on other file-system volumes.</p></li>
<li class="ol ol"><p>Give preference to applications residing on a local volume over those residing on a remote volume.</p></li>
<li class="ol ol"><p>If two or more versions of the same application have been found, give preference to the one with the latest version number.</p></li></ol></li></ol>
<p>If two or more candidate applications remain after all of the foregoing criteria have been applied, Launch Services chooses one of the remaining applications in an unspecified manner.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_24" title="Note"></a><p><strong>Note:</strong>&nbsp;Criteria 4c and 4d do not apply in Mac OS X version 10.2 and earlier. Apple reserves the right to change the selection criteria in future system releases.</p></div><div class="notebox"><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_25" title="Note"></a><p><strong>Note:</strong>&nbsp;When the item to be opened is a file-system folder, it is treated as a document file whose preferred application is the Finder. This provides a convenient way of asking the Finder to open a window displaying the contents of a designated folder.</p></div>
<a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_11" title="Preferred Application for a URL"></a><h3>Preferred Application for a URL</h3>
<p>The criteria for URLs with schemes other than <code>file</code> are similar to those for document files, except that the search is based on the URL’s scheme rather than on file characteristics such as the creator signature, filename extension, and file type:</p>
<ol class="ol"><li class="li"><p>If the user has specified an explicit binding for the URL (or for the entire URL type to which it belongs), the preferred application is the one the user has specified.</p></li>
<li class="li"><p>If no explicit binding has been specified, find all applications in the Launch Services database that claim to accept URLs with the given scheme.</p></li>
<li class="li"><p>If more than one application has been found in step 2, apply the following criteria in the order shown:</p><ol class="ol"><li class="ol ol"><p>Give preference to native OS X applications over those that run in the Classic emulation environment.</p></li>
<li class="ol ol"><p>Give preference to applications residing on the boot volume over those residing on other file-system volumes.</p></li>
<li class="ol ol"><p>Give preference to applications residing on a local volume over those residing on a remote volume.</p></li>
<li class="ol ol"><p>If two or more versions of the same application have been found, give preference to the one with the latest version number.</p></li></ol></li></ol>
<p>If two or more candidate applications remain after all of the foregoing criteria have been applied, Launch Services chooses one of the remaining applications in an unspecified manner.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP30000999-CH202-DontLinkElementID_26" title="Note"></a><p><strong>Note:</strong>&nbsp;Criteria 3b and 3c do not apply in Mac OS X version 10.2 and earlier. Apple reserves the right to change the selection criteria in future system releases.</p></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../LSCIntro/LSCIntro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../LSCTasks/LSCTasks.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-08-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/LaunchServicesConcepts/LSCConcepts/LSCConcepts.html%3Fid%3DTP30000999-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/LaunchServicesConcepts/LSCConcepts/LSCConcepts.html%3Fid%3DTP30000999-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/LaunchServicesConcepts/LSCConcepts/LSCConcepts.html%3Fid%3DTP30000999-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>