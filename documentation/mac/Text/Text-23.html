<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Planning Your Text Handling Capabilities(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING23></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-22.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-24.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-13.html"><B>Chapter 1 - Introduction to Text on the Macintosh</B></A> / <A HREF="Text-14.html"><B>Macintosh Text Overview</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING23-0></A>
<H2>Planning Your Text Handling Capabilities</H2>
 <A NAME=MARKER-2-89></A>The Macintosh system of text handling--with its graphic approach to text drawing, separation of text storage from text rendering, ability to handle many writing systems, event-controlled text input, large library of utility routines, and availability of a simple text-handling service--is general and powerful. But you may not need all of its power, and the simpler your needs are the less you will have to do to meet them.<P>
 It may appear difficult at the outset to generalize your text-handling capabilities so that they can work across all script systems around the world. You may instead wish to customize your application to work with a specific regional variation or script system in a target market that interests you. Either approach is possible; you can use the Macintosh script management system to build in language-independence or language customization, as you wish. There are three general approaches you can take:<P>
<UL>
<LI><B>Globalization</B><A NAME=MARKER-2-14></A> is the preparation of a culturally neutral application that provides the technical underpinnings for script-specific, linguistic, and regional variations, and that is capable of running with any script system. Globalization involves careful design and writing of the application and its textual and graphic resources.
<LI><B>Localization</B><A NAME=MARKER-2-125></A> is the adaptation of an application to a particular language or region, to achieve proper formats for dates, times, currency, measurement, calendars, and numbers, proper text sorting, and acceptable forms of other culturally specific material. Localization involves translation of textual resources, modification of graphic resources such as icons, and possibly creation of a customized set of script-system resources. The better globalized an application is, the easier it is to localize.
<LI><B>Customization</B><A NAME=MARKER-2-126></A> is the inclusion of script-specific, linguistic, or regional capabilities supporting features that are not otherwise supported by Macintosh system software (for instance, vertical text direction or special underlining modes for the Japanese writing system).<P>
</UL>
 This book supports and describes the process of globalization; it helps you prepare your application to support all writing systems and regions. The process of localization is discussed in <I>Guide to Macintosh Software Localization</I>. This book does not discuss customization, beyond the few suggestions presented at the end of this section.<P>
 To achieve globalization, localization, or customization, the level of work required is related to the level of text-handling sophistication you need. There are three general levels to consider--rudimentary, moderate, and highly sophisticated.<P>
<A NAME=HEADING23-8></A>
<H3>Rudimentary Text Handling</H3>
 Rudimentary text handling means that the user either cannot set fonts at all (the lowest level of sophistication) or that the user can set fonts and styles but not alignment (a slightly higher level). In either case large amounts of text and sophisticated formatting are not required.<P>
 If your application requires only rudimentary handling, use TextEdit--either directly or through the Dialog Manager--to handle user input and editing. TextEdit exhibits the correct behavior for editing and displaying text in multiple styles and different script systems.<P>
 In addition, at an absolute minimum, design your application so that it can display its own Roman text properly when operating with a non-Roman script system. For text in dialog boxes, menus, alert boxes, and so on, if you do not plan to translate the text for localization use only the <A NAME=MARKER-2-578></A>low-ASCII character codes that are the same on all script systems. <A NAME=MARKER-2-736></A>High-ASCII character codes may map to incomprehensible characters in another script. The ellipsis in menu items, for example, maps to other characters when displayed in other system scripts. Instead of using the ellipsis, a high-ASCII character code, you can use three periods, a low-ASCII string; the ellipsis is displayed regardless of the system script. (A better approach, however, is to use the script management system to retrieve the appropriate form of the ellipsis character for whatever script system you are running under. See the discussion of retrieving text from tokens in the chapter "Script Manager" in this book.)<P>
<A NAME=HEADING23-12></A>
<H3>Moderate Text Handling</H3>
 Moderate text-handling sophistication means an application allows users to set font, style, alignment, tabs, writing direction, keyboard, input method, and so forth, across script systems. It handles large amounts of text and offers greater formatting sophistication than TextEdit provides.<P>
 The Macintosh script management system and all the text managers documented in this book are designed to support this level of sophistication. You can use these managers and the rest of Macintosh system software to include basic word-processing capabilities in your application, capabilities that work across the entire range of worldwide writing systems supported by Macintosh system software.<P>
 Within the range of moderate text handling, the level of complexity is largely a function of the number and types of script systems that are currently enabled. You may wish to structure your application's text-handling algorithms to allow for categories of increasing complexity, based on conditions such as the following four. (The item in parentheses following each condition is a selector or flag that tests for that condition. See the discussion of selectors for Script Manager variables and script variables in the chapter "Script Manager" in this book.)<A NAME=MARKER-2-208></A><P>
<UL>
<LI>Only one script system is present (<CODE>smEnabled</CODE> = 1). If there is only one script system, it is Roman; you can assume all text-handling follows the built-in Roman rules, and you do not need to account for or test for the script system of any text.
<LI>More than one script system is present (<CODE>smEnabled</CODE> &gt; 1). You need to track the script system associated with each run of text. You need to use script-aware routines for text handling. You need to synchronize the font script with the keyboard script.
<LI>A bidirectional script system is present  (<CODE>smBidirect</CODE> = <CODE>TRUE</CODE>). You need to allow for the possibility of right-to-left text, right alignment of text, discontinuous highlighting, and a display order for style runs that is different from storage order. You need to allow for contextual behavior in drawing; you cannot use font width tables for measuring text.
<LI>A 2-byte script system is present  (<CODE>smDoubleByte</CODE> = <CODE>TRUE</CODE>). You need to allow for the presence of 2-byte character codes in searching, drawing, and line-breaking. You should also support inline input of text whenever the keyboard script is a 2-byte script system.<P>
</UL>
 These probably represent the major divisions in text-handling complexity that you address, although you may want to account for others. For example, you may want to test each individual script system to see if it is contextual (<CODE>smsfContext</CODE> set), 1-byte (<CODE>smsfSingByte</CODE> set), or bidirectional (<CODE>smScriptRight</CODE> = <CODE>TRUE</CODE>) before deciding how to handle its text.<P>
 With the moderate level of text-handling supported by the Macintosh script management system as documented in<I></I> this book, your application can be powerful enough and general enough for worldwide acceptance.<P>
<A NAME=HEADING23-22></A>
<H3>Sophisticated Text Handling</H3>
 Highly sophisticated text processing might be employed by a very powerful word processor that works across many script systems. If you write such a program, you will probably need to go beyond the capabilities provided by the Macintosh script management system.<P>
 Areas that may need special attention include specialization or customization of delimiters, higher-level grammatical structures, word selection, sorting, arrow keys, and line direction. All of these issues are addressed by the current Macintosh script management sytem, but if your needs go beyond what the system is now capable of, you may need to write your own code to accomplish them. Here are a few examples:<P>
<UL>
<LI>Your application may require the implementation of functions not supported by the Macintosh script management system but needed by certain languages--for example, text with a vertical line direction.
<LI>Your application may mark text by language, and allow users to limit searching, sorting, or spell-checking to specific languages.
<LI>Your application may want to display characters in a more sophisticated manner than is supported--such as <I>furigana</I>, also called <I>rubi</I>, a Japanese text display in which small Kana characters are placed adjacent to a Kanji character to indicate its pronunciation or to explain it if it is rare.<P>
</UL>
 If you do write your own code to replace one or more of the Macintosh script management capabilities, make sure you do it in a modular fashion, so that you can work with current Macintosh text managers and also be prepared to take advantage of possible future enhancements to system software. <A NAME=MARKER-2-181></A>   <A NAME=MARKER-2-130></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-22.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-24.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
