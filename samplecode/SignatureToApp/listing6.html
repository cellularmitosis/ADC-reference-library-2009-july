<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>SignatureToApp - /MoreFiles Bits/CHeaders/FullPath.h</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/Carbon/index.html">Carbon</a> &gt; <a href="../../samplecode/Carbon/idxFileManagement-date.html">File Management</a> &gt; <A HREF="javascript:location.replace('index.html');">SignatureToApp</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Not Recommended Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>The information in this document is <strong>Not Recommended</strong> and should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Carbon/idxFileManagement-date.html" target="_blank">Carbon > File Management</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">SignatureToApp</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/MoreFiles Bits/CHeaders/FullPath.h</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/CarbonPrefix.h</option>
<option value="listing2.html">/Launch.c</option>
<option value="listing3.html">/MoreFiles Bits/CHeaders/DirectoryCopy.h</option>
<option value="listing4.html">/MoreFiles Bits/CHeaders/FileCopy.h</option>
<option value="listing5.html">/MoreFiles Bits/CHeaders/FSpCompat.h</option>
<option value="listing6.html">/MoreFiles Bits/CHeaders/FullPath.h</option>
<option value="listing7.html">/MoreFiles Bits/CHeaders/IterateDirectory.h</option>
<option value="listing8.html">/MoreFiles Bits/CHeaders/MoreDesktopMgr.h</option>
<option value="listing9.html">/MoreFiles Bits/CHeaders/MoreFiles.h</option>
<option value="listing10.html">/MoreFiles Bits/CHeaders/MoreFilesExtras.h</option>
<option value="listing11.html">/MoreFiles Bits/CHeaders/Search.h</option>
<option value="listing12.html">/MoreFiles Bits/Sources/MoreDesktopMgr.c</option>
<option value="listing13.html">/MoreFiles Bits/Sources/MoreFiles.c</option>
<option value="listing14.html">/MoreFiles Bits/Sources/MoreFilesExtras.c</option>
<option value="listing15.html">/MoreFiles Bits/Sources/Optimization.h</option>
<option value="listing16.html">/MoreFiles Bits/Sources/OptimizationEnd.h</option>
<option value="listing17.html">/MoreFiles Bits/Sources/Search.c</option>
<option value="listing18.html">/SignatureToApp.c</option>
<option value="listing19.html">/SignatureToApp.h</option>
<option value="listing20.html">/Standard.r</option></select>
				</p>
				</form>
				<p><strong><a href="SignatureToApp.zip">Download Sample</a></strong> (&#147;SignatureToApp.zip&#148;, 188.2K)<BR>
<strong><a href="SignatureToApp.dmg">Download Sample</a></strong> (&#147;SignatureToApp.dmg&#148;, 267.3K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">/*     File:       FullPath.h      Contains:   Routines for dealing with full pathnames... if you really must.      Version:    Technology: MoreFiles                 Release:    1.5.2      Copyright:  &copy; 1995-2001 by Apple Computer, Inc., all rights reserved.      Bugs?:      For bug reports, consult the following page on                 the World Wide Web:                      http://developer.apple.com/bugreporter/ *//*    You may incorporate this sample code into your applications without    restriction, though the sample code has been provided &quot;AS IS&quot; and the    responsibility for its operation is 100% yours.  However, what you are    not permitted to do is to redistribute the source as &quot;DSC Sample Code&quot;    after having made changes. If you're going to re-distribute the source,    we require that you make it clear in the source that the code was    descended from Apple Sample Code, but that you've made changes.*//*    IMPORTANT NOTE:        The use of full pathnames is strongly discouraged. Full pathnames are    particularly unreliable as a means of identifying files, directories    or volumes within your application, for two primary reasons:        *   The user can change the name of any element in the path at        virtually any time.    *   Volume names on the Macintosh are *not* unique. Multiple        mounted volumes can have the same name. For this reason, the use of        a full pathname to identify a specific volume may not produce the        results you expect. If more than one volume has the same name and        a full pathname is used, the File Manager currently uses the first        mounted volume it finds with a matching name in the volume queue.        In general, you should use a file's name, parent directory ID, and    volume reference number to identify a file you want to open, delete,    or otherwise manipulate.        If you need to remember the location of a particular file across    subsequent system boots, use the Alias Manager to create an alias    record describing the file. If the Alias Manager is not available, you    can save the file's name, its parent directory ID, and the name of the    volume on which it's located. Although none of these methods is    foolproof, they are much more reliable than using full pathnames to    identify files.        Nonetheless, it is sometimes useful to display a file's full pathname    to the user. For example, a backup utility might display a list of full    pathnames of files as it copies them onto the backup medium. Or, a    utility might want to display a dialog box showing the full pathname of    a file when it needs the user's confirmation to delete the file. No    matter how unreliable full pathnames may be from a file-specification    viewpoint, users understand them more readily than volume reference    numbers or directory IDs. (Hint: Use the TruncString function from    TextUtils.h with truncMiddle as the truncWhere argument to shorten    full pathnames to a displayable length.)        The following technique for constructing the full pathname of a file is    intended for display purposes only. Applications that depend on any    particular structure of a full pathname are likely to fail on alternate    foreign file systems or under future system software versions.*/#ifndef __FULLPATH__#define __FULLPATH__#ifndef __MACTYPES__#include &lt;MacTypes.h&gt;#endif#ifndef __FILES__#include &lt;Files.h&gt;#endif#include &quot;Optimization.h&quot;#if PRAGMA_ONCE#pragma once#endif#ifdef __cplusplusextern &quot;C&quot; {#endif#if PRAGMA_IMPORT#pragma import on#endif#if PRAGMA_STRUCT_ALIGN    #pragma options align=mac68k#elif PRAGMA_STRUCT_PACKPUSH    #pragma pack(push, 2)#elif PRAGMA_STRUCT_PACK    #pragma pack(2)#endif/*****************************************************************************/EXTERN_API( OSErr )GetFullPath(  short              vRefNum,  long               dirID,  ConstStr255Param   name,  short *            fullPathLength,  Handle *           fullPath);/*    The GetFullPath function builds a full pathname to the specified    object. The full pathname is returned in the newly created handle    fullPath and the length of the full pathname is returned in    fullPathLength. Your program is responsible for disposing of the    fullPath handle.        Note that a full pathname can be made to a file/directory that does not    yet exist if all directories up to that file/directory exist. In this case,    GetFullPath will return a fnfErr.        vRefNum         input:  Volume specification.    dirID           input:  Directory ID.    name            input:  Pointer to object name, or nil when dirID                            specifies a directory that's the object.    fullPathLength  output: The number of characters in the full pathname.                            If the function fails to create a full                            pathname, it sets fullPathLength to 0.    fullPath        output: A handle to the newly created full pathname                            buffer. If the function fails to create a                            full pathname, it sets fullPath to NULL.        Result Codes        noErr               0       No error            nsvErr              -35     No such volume        ioErr               -36     I/O error        bdNamErr            -37     Bad filename        fnfErr              -43     File or directory does not exist (fullPath                                    and fullPathLength are still valid)        paramErr            -50     No default volume        memFullErr          -108    Not enough memory        dirNFErr            -120    Directory not found or incomplete pathname        afpAccessDenied     -5000   User does not have the correct access        afpObjectTypeErr    -5025   Directory not found or incomplete pathname        __________        See also:   FSpGetFullPath*//*****************************************************************************/EXTERN_API( OSErr )FSpGetFullPath(  const FSSpec *  spec,  short *         fullPathLength,  Handle *        fullPath);/*    The GetFullPath function builds a full pathname to the specified    object. The full pathname is returned in the newly created handle    fullPath and the length of the full pathname is returned in    fullPathLength. Your program is responsible for disposing of the    fullPath handle.        Note that a full pathname can be made to a file/directory that does not    yet exist if all directories up to that file/directory exist. In this case,    FSpGetFullPath will return a fnfErr.        IMPORTANT: The definition of a FSSpec is a volume reference number (not a    drive number, working directory number, or 0), a parent directory ID (not 0),    and the name of a file or folder (not an empty name, a full pathname, or    a partial pathname containing one or more colon (:) characters).    FSpGetFullPath assumes it is getting a FSSpec that matches the rules.    If you have an FSSpec record that wasn't created by FSMakeFSSpec (or    FSMakeFSSpecCompat from FSpCompat in MoreFiles which correctly builds    FSSpecs), you should call GetFullPath instead of FSpGetFullPath.        spec            input:  An FSSpec record specifying the object.    fullPathLength  output: The number of characters in the full pathname.                            If the function fails to create a full pathname,                            it sets fullPathLength to 0.    fullPath        output: A handle to the newly created full pathname                            buffer. If the function fails to create a                            full pathname, it sets fullPath to NULL.        Result Codes        noErr               0       No error            nsvErr              -35     No such volume        ioErr               -36     I/O error        bdNamErr            -37     Bad filename        fnfErr              -43     File or directory does not exist (fullPath                                    and fullPathLength are still valid)        paramErr            -50     No default volume        memFullErr          -108    Not enough memory        dirNFErr            -120    Directory not found or incomplete pathname        afpAccessDenied     -5000   User does not have the correct access        afpObjectTypeErr    -5025   Directory not found or incomplete pathname        __________        See also:   GetFullPath*//*****************************************************************************/EXTERN_API( OSErr )FSpLocationFromFullPath(  short         fullPathLength,  const void *  fullPath,  FSSpec *      spec);/*    The FSpLocationFromFullPath function returns a FSSpec to the object    specified by full pathname. This function requires the Alias Manager.        fullPathLength  input:  The number of characters in the full pathname                            of the target.    fullPath        input:  A pointer to a buffer that contains the full                            pathname of the target. The full pathname                            starts with the name of the volume, includes                            all of the directory names in the path to the                            target, and ends with the target name.    spec            output: An FSSpec record specifying the object.        Result Codes        noErr               0       No error        nsvErr              -35     The volume is not mounted        fnfErr              -43     Target not found, but volume and parent                                    directory found        paramErr            -50     Parameter error        usrCanceledErr      -128    The user canceled the operation        __________        See also:   LocationFromFullPath*//*****************************************************************************/EXTERN_API( OSErr )LocationFromFullPath(  short         fullPathLength,  const void *  fullPath,  short *       vRefNum,  long *        parID,  Str31         name);/*    The LocationFromFullPath function returns the volume reference number,    parent directory ID and name of the object specified by full pathname.    This function requires the Alias Manager.        fullPathLength  input:  The number of characters in the full pathname                            of the target.    fullPath        input:  A pointer to a buffer that contains the full                            pathname of the target. The full pathname starts                            with the name of the volume, includes all of                            the directory names in the path to the target,                            and ends with the target name.    vRefNum         output: The volume reference number.    parID           output: The parent directory ID of the specified object.    name            output: The name of the specified object.        Result Codes        noErr               0       No error        nsvErr              -35     The volume is not mounted        fnfErr              -43     Target not found, but volume and parent                                    directory found        paramErr            -50     Parameter error        usrCanceledErr      -128    The user canceled the operation        __________        See also:   FSpLocationFromFullPath*//*****************************************************************************/#include &quot;OptimizationEnd.h&quot;#if PRAGMA_STRUCT_ALIGN    #pragma options align=reset#elif PRAGMA_STRUCT_PACKPUSH    #pragma pack(pop)#elif PRAGMA_STRUCT_PACK    #pragma pack()#endif#ifdef PRAGMA_IMPORT_OFF#pragma import off#elif PRAGMA_IMPORT#pragma import reset#endif#ifdef __cplusplus}#endif#endif /* __FULLPATH__ */</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/SignatureToApp/listing6.html%3Fid%3DDTS10000755-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/SignatureToApp/listing6.html%3Fid%3DDTS10000755-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/SignatureToApp/listing6.html%3Fid%3DDTS10000755-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>