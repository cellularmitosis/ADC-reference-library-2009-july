<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Software Distribution Legacy Guide (Legacy): Specifying Installation Requirements</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Specifying Installation Requirements"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001949" title="Specifying Installation Requirements"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/Tools-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000463" target="_top">Tools</a> &gt; <a href="../index.html" target="_top">Software Distribution Legacy Guide (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="sd_pkg_version_info.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="sd_install_check_ref.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/20001949-TPXREF4" title="Specifying Installation Requirements"></a><hr /><H1>Specifying Installation Requirements</H1><p>“Specifying Installation Requirements” describes how to insert information into the information property list for a package to request or require that certain criteria be satisfied before the package is installed.</p><div class="importantbox"><a name="//apple_ref/doc/uid/20001949-DontLinkElementID_64" title="Important:"></a><p><strong>Important:</strong>&nbsp;This requirements mechanism is available starting with Mac OS X version 10.3. It is not currently accessible through the PackageMaker user interface.</p><p></p></div><p>You can use the requirements mechanism to ensure that your software is installed only on systems that meet specified criteria, such as minimum hardware or system requirements or the presence of required files or directories. You can also ensure that your software is installed only on volumes that meet specified criteria.</p><p>Before reading this article, you should be familiar with the information in <span class="content_text"><a href="sd_pkg_flags.html#//apple_ref/doc/uid/20001940-TPXREF3">“Examining and Modifying Property Lists.”</a></span></p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1023442-BGBGBCDG">New and Existing Requirements Checking</a>
				
			<br/>
			
        
			
			
				<a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1018404-TPXREF2">The Requirements Mechanism</a>
				
			<br/>
			
        
			
			
				<a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1037566">When to Use Requirements</a>
				
			<br/>
			
        
			
			
				<a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1026654-TPXREF153">Adding Requirements to the Information Property List</a>
				
			<br/>
			
        
			
			
				<a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1028601-CHEJDJHJ">Requirements Message Strings</a>
				
			<br/>
			
        
			
			
				<a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1035406-BGBDIBJJ">Requirements Keys</a>
				
			<br/>
			
        
			
			
				<a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1026699-TPXREF16">Requirements Examples</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001949-1023442" title="New and Existing Requirements Checking"></a><a name="//apple_ref/doc/uid/20001949-1023442-BGBGBCDG" title="New and Existing Requirements Checking"></a><h2>New and Existing Requirements Checking</h2><p>As of Mac OS X version 10.3 (v10.3), Installer supports two approaches to checking installation requirements:</p><ul class="ul"><li class="li"><p>The requirements mechanism: allows you to specify requirements by inserting information into the information property list for a package.</p><p>Available only in Mac OS X v10.3 and later.</p></li><li class="li"><p>The InstallationCheck and VolumeCheck executables (typically implemented as shell scripts): allows you to add scripts to a package’s <code>Resources</code> folder to check for requirements. For details, see <span class="content_text"><a href="sd_install_check_ref.html#//apple_ref/doc/uid/20001943-TPXREF6">“Checking the Installation With InstallationCheck”</a></span> and <span class="content_text"><a href="sd_volume_check_ref.html#//apple_ref/doc/uid/20001944-TPXREF9">“Checking the Installation Volume With VolumeCheck.”</a></span></p><p>Available prior to Mac OS X v10.3. Scripts will work in v10.3, but are ignored if the package also includes requirements information in its property list.</p></li></ul><p>The requirements mechanism offers the benefits that it can be easier to use than working with InstallationCheck and VolumeCheck shell scripts and presents fewer security risks. However, for maximum flexibility, you can provide both requirements information and scripts in the same package.</p><div class="importantbox"><a name="//apple_ref/doc/uid/20001949-DontLinkElementID_65" title="Important:"></a><p><strong>Important:</strong>&nbsp;Starting in Mac OS  X v10.3, installer applications may present the user with a security warning before an InstallationCheck or VolumeCheck tool is executed.</p><p></p></div><p>Installer runs InstallationCheck and VolumeCheck executables, if present, at well-defined times during an installation, as described in <span class="content_text"><a href="sd_install_process.html#//apple_ref/doc/uid/20001765-1007778">“Installation Steps, in Order.”</a></span> In Mac OS X v10.3, Installer does similar checking at similar times for a package that contains requirements specifications in its property list:</p><ul class="ul"><li class="li"><p>At the time Installer would execute InstallationCheck, if present, it instead makes a pass through all the requirements, ignoring any requirements that are volume-specific. For example, it will evaluate <code>gestalt</code> and <code>sysctl</code> requirements, but skip <code>plist</code> and <code>bundle</code> requirements. (These terms are defined below.)</p></li><li class="li"><p>At the time Installer would execute VolumeCheck, if present, it instead makes a pass through all the requirements, once for each volume, ignoring any requirements that are <em>not</em> volume-specific.</p></li><li class="li"><p>For a metapackage, requirements are checked first for the metapackage itself, then for any packages it contains that specify requirements. Checking takes place at the same time it would for individual packages.</p></li></ul><a name="//apple_ref/doc/uid/20001949-1018404" title="The Requirements Mechanism"></a><a name="//apple_ref/doc/uid/20001949-1018404-TPXREF2" title="The Requirements Mechanism"></a><h2>The Requirements Mechanism</h2><p>The requirements mechanism is based on the commonly used practice of adding key-value pairs to an information property list—in this case, the property list of an installation package. A <strong>requirement</strong> is a well-defined collection of key-value pairs that together specify criteria that Installer checks before installing the contents of the package. For a complete list of these keys, including information on which are required and which are optional, see <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1035406">“Requirements Keys.”</a></span></p><p>The general structure of a requirement is shown on the left in <span class="content_text">Figure 1</span>. The example on the right shows possible values for a requirement—in this case, a requirement that version 1.0 or greater of the application already be installed:</p><br/><div><a name="//apple_ref/doc/uid/20001949-1027846-BGBFDHCE" title="Figure 1The installation requirements model"></a><p><a name="//apple_ref/doc/uid/20001949-1027846" title="Figure 1The installation requirements model"></a><strong>Figure 1&nbsp;&nbsp;</strong>The installation requirements model</p><img src = "art/install_reqmt_model.gif" alt = "The installation requirements model" width="626" height="356"></div><br/><p>Each requirement contains several components:</p><ul class="ul"><li class="li"><p>A <strong>level</strong> specifies how the requirement should be enforced (whether it is required, recommended, and so on).</p></li><li class="li"><p>A <strong>specifier</strong> is a reference to a state or resource in the system upon which software can be dependent. Examples include the version of the iTunes application, the value of a hardware registry key, or the value within a preference plist.</p></li><li class="li"><p>A <strong>test</strong> is a statement which uses the specifier and resolves to a value of <code>true</code> or <code>false</code>.</p></li><li class="li"><p><strong>Label</strong>, <strong>title</strong>, and <strong>message</strong> provide access to developer-supplied strings that Installer can use to describe the requirement to the user.</p></li></ul><p>A specifier is resolved to an object value, then the object value is compared within the test. For example, a specifier might represent <code>the version of iTunes</code> and the test might be whether that object value <code>is greater than 3</code>. The result of the test is a boolean value, which indicates whether or not the test was satisfied.</p><p>The result of a test can be interpreted according to the requirement level and can be described to the user with title and message strings you supply, as described in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1028601">“Requirements Message Strings.”</a></span></p><p><span class="content_text">Listing 1</span> shows what the requirement example from <span class="content_text">Figure 1</span> might look like in a property list. For additional examples, see <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1026699">“Requirements Examples.”</a></span></p><a name="//apple_ref/doc/uid/20001949-1026147-BGBDCEEG" title="Listing 1A requirement for the MyApp installation package"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001949-1026147" title="Listing 1A requirement for the MyApp installation package"></a><strong>Listing 1&nbsp;&nbsp;</strong>A requirement for the MyApp installation package</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>IFRequirementDicts&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Level&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>requires&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecType&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>bundle&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecArgument&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>/Applications/MyApp&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecProperty&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>CFBundleVersion&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestOperator&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>&amp;gt;=&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestObject&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>1.0&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>LabelKey&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>MyAppLabelKey&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TitleKey&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>MyAppTitleKey&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>MessageKey&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>MyAppMessageKey&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001949-1037566" title="When to Use Requirements"></a><h2>When to Use Requirements</h2><p>Although the requirements mechanism is flexible, in general you should avoid specifying broad requirements such as <code>Mac OS X >= 10.2.5</code> or <code>RAM >= 256 MB</code>. Such statements are useful in marketing or customer support contexts, but they are not well-defined in the machine-level context of software installation and management. Instead, where possible you should use fine-grained requirements such as the examples shown in <span class="content_text">Table 1</span>.</p><a name="//apple_ref/doc/uid/20001949-1037607-BGBHCEIC" title="Table 1A simple representation of two requirements"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001949-1037607" title="Table 1A simple representation of two requirements"></a><strong>Table 1&nbsp;&nbsp;</strong>A simple representation of two requirements</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Keys</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Example 1</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Example 2</p></th></tr><tr><td  scope="row"><p>Type</p></td><td ><p>bundle</p></td><td ><p>bundle</p></td></tr><tr><td  scope="row"><p>Argument</p></td><td ><p>AppKit framework</p></td><td ><p>Safari application</p></td></tr><tr><td  scope="row"><p>Property</p></td><td ><p>CFBundleVersion</p></td><td ><p>CFBundleVersion</p></td></tr><tr><td  scope="row"><p>Operator</p></td><td ><p>ge (greater than or equal)</p></td><td ><p>ge</p></td></tr><tr><td  scope="row"><p>Object</p></td><td ><p>663.7</p></td><td ><p>74</p></td></tr></table></div><p>These examples define requirements that in simple language equate to “the AppKit framework version must be greater than or equal to 663.7” and “the Safari build version must be greater than or equal to 74”. For Safari, that might be the equivalent of “Safari must be greater than or equal to version 1.0.2”.</p><p>Similarly, avoid using marketing versions, such as CFBundleShortVersionString, when specifying requirements. For example, the use of strings such as “1.0 Beta 2" and “0.9” might be useful in user-level marketing or customer support terms, but would not be not well-defined in the machine-level contexts of software installation and management. Instead, you should use CFBundleVersion when specifying requirements (as shown in examples throughout this article).</p><p>For information on editing a property list, see <span class="content_text"><a href="sd_pkg_flags.html#//apple_ref/doc/uid/20001940-TPXREF3">“Examining and Modifying Property Lists.”</a></span> For information on the keys you use to define requirements in a property list, see <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1035406">“Requirements Keys.”</a></span></p><a name="//apple_ref/doc/uid/20001949-1026654" title="Adding Requirements to the Information Property List"></a><a name="//apple_ref/doc/uid/20001949-1026654-TPXREF153" title="Adding Requirements to the Information Property List"></a><h2>Adding Requirements to the Information Property List</h2><p>The information property list for a package can contain zero or more requirements. To add requirements to the property list, you add the <code>IFRequirementDicts</code> key at the root level. The value associated with this key is an array that contains one or more requirements dictionaries. Each dictionary is comprised of a combination of the keys shown in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1028024-BGBFIEGA">Table 2</a></span>. Several examples of these dictionaries are provided in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1026699">“Requirements Examples.”</a></span></p><p>For information on editing a property list, see <span class="content_text"><a href="sd_pkg_flags.html#//apple_ref/doc/uid/20001940-TPXREF3">“Examining and Modifying Property Lists.”</a></span> For information on the keys you use to define requirements in a property list, see <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1035406">“Requirements Keys.”</a></span></p><a name="//apple_ref/doc/uid/20001949-1028601" title="Requirements Message Strings"></a><a name="//apple_ref/doc/uid/20001949-1028601-CHEJDJHJ" title="Requirements Message Strings"></a><h2>Requirements Message Strings</h2><p>When you define a requirement in a property list, you can specify various message keys. Installer uses these keys to obtain information to display to the user if the requirement is not satisfied. You also supply the information Installer displays, in the form of a strings file based on the keys you defined. The mechanism works like this:</p><ol class="ol"><li class="li"><p>For each requirement, you add entries for any of the three keys <code>LabelKey</code>, <code>TitleKey</code>, or <code>MessageKey</code>.</p></li><li class="li"><p>For each key you supply a value.</p><p>For example, you might add a <code>MessageKey</code> with the value <code>"SafariRequirementOne"</code>.</p></li><li class="li"><p>You also supply a localizable strings file named <code>IFRequirement.strings</code>. A requirement strings file contains messages in the following format:</p><div class="codesample"><table><tr><td scope="row"><pre>"key string" = "message string";<span></span></pre></td></tr></table></div><p>For the <code>MessageKey</code> described in the previous step, the strings file entry might look like this:</p><div class="codesample"><table><tr><td scope="row"><pre>"SafariRequirementOne" = "You must upgrade to Mac OS X v10.3 before installing this software.";<span></span></pre></td></tr></table></div></li></ol><a name="//apple_ref/doc/uid/20001949-1034547" title="Format and Usage for Message Strings"></a><a name="//apple_ref/doc/uid/20001949-1034547-TPXREF1" title="Format and Usage for Message Strings"></a><h3>Format and Usage for Message Strings</h3><p>When a requirement cannot be satisfied, Installer displays information to the user by assembling the message strings you supply according to its predefined usage pattern. If you supply no keys, Installer displays a generic message.</p><p>The following sections describe the available message keys, the kinds of strings you should supply for each key, and Installer’s usage for assembling the strings into a message.</p><a name="//apple_ref/doc/uid/20001949-1034560" title="LabelKey"></a><a name="//apple_ref/doc/uid/20001949-1034560-TPXREF2" title="LabelKey"></a><h4>LabelKey</h4><div class="importantbox"><a name="//apple_ref/doc/uid/20001949-DontLinkElementID_66" title="Important:"></a><p><strong>Important:</strong>&nbsp;Through Mac OS X version 10.3, the <code>LabelKey</code> key is not used.</p><p></p></div><p>The <code>LabelKey</code> specifies a string that provides a concise description of the requirement in grammatical object form. Some examples include:</p><div class="codesample"><table><tr><td scope="row"><pre>"Mac OS X v10.3 or newer"<span></span></pre></td></tr><tr><td scope="row"><pre>"at least 128 MB of memory"<span></span></pre></td></tr><tr><td scope="row"><pre>"certain languages"<span></span></pre></td></tr><tr><td scope="row"><pre>"a newer version of Java"<span></span></pre></td></tr></table></div><p>Because the label may be used in various forms, including lists, it should not be a complete sentence nor include ending punctuation. </p><a name="//apple_ref/doc/uid/20001949-1035872" title="TitleKey"></a><a name="//apple_ref/doc/uid/20001949-1035872-TPXREF6" title="TitleKey"></a><h4>TitleKey</h4><p>The <code>TitleKey</code> specifies a string that provides a complete explanation of the requirement and why it could not be satisfied. Some examples include:</p><div class="codesample"><table><tr><td scope="row"><pre>"Safari cannot be installed on this computer, because it requires a new version of the WebKit framework."<span></span></pre></td></tr><tr><td scope="row"><pre>"Your computer doesn't have a SuperDrive. Do you want to install iDVD anyway?"<span></span></pre></td></tr></table></div><p>In the case of a single failed requirement, Installer displays the following:</p><p><code>&lt;TitleKey string> &lt;MessageKey string></code></p><p>If the requirement does not define <code>TitleKey</code>, Installer constructs a generic one, where <code>&lt;name></code> represents the package title:</p><p><code>"&lt;name> cannot be installed on this computer."</code></p><p>If the requirement does not define <code>MessageKey</code>, no text is displayed for that key.In the case of multiple failed requirements, Installer ignores any <code>MessageKey</code> strings (in Mac OS X version 10.3). Instead, it displays the generic title, followed by the titles from each of the requirements. If a requirement does not define a <code>TitleKey</code>, no <code>TitleKey</code> string is displayed for it.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;name> cannot be installed on this computer.<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TitleKey1 string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TitleKey2 string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TitleKey3 string><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001949-1034628" title="MessageKey"></a><a name="//apple_ref/doc/uid/20001949-1034628-TPXREF5" title="MessageKey"></a><h4>MessageKey</h4><p>The <code>MessageKey</code> specifies a string that provides a short explanation of how to resolve the issue, if possible, when the requirement is not satisfied. Some examples include:</p><div class="codesample"><table><tr><td scope="row"><pre>"You must upgrade to Mac OS X v10.3 before installing this software."<span></span></pre></td></tr><tr><td scope="row"><pre>"Use Software Update to check for a newer version of this driver."<span></span></pre></td></tr><tr><td scope="row"><pre>"This volume does not meet the requirements for this system update."<span></span></pre></td></tr></table></div><p><code>MessageKey</code> is used in conjunction with <code>TitleKey</code>, as described in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1035872">“TitleKey.”</a></span></p><a name="//apple_ref/doc/uid/20001949-1034311" title="Localizing the Requirements Strings File"></a><a name="//apple_ref/doc/uid/20001949-1034311-TPXREF3" title="Localizing the Requirements Strings File"></a><h3>Localizing the Requirements Strings File</h3><p>If you localize your requirements strings file, Installer will display messages based on the user’s current Languages preference. You can use any of the folder names listed in <span class="content_text"><a href="sd_pkg_anatomy.html#//apple_ref/doc/uid/20001767-1020608">“Localized Folder Names.”</a></span> These folders should be located within the package’s <code>Resources</code> directory, so that the resulting location looks something like <code>Resources/&lt;language>.lproj/IFRequirement.strings</code>. You can view the hierarchy of a package <code>Resources</code> directory containing localized folders in <span class="content_text"><a href="sd_install_check_ref.html#//apple_ref/doc/uid/20001943-1002600-CHEFBAIB">Listing 2</a></span>. You would place your <code>IFRequirement.strings</code> file in place of the <code>InstallationCheck.strings</code> file in that listing.</p><p>If no <code>IFRequirement.strings</code> file is placed in a localized directory, or no localized version is found for the user’s current language selection, Installer looks for a default version at the highest level in the <code>Resources</code> directory.</p><div class="notebox"><a name="//apple_ref/doc/uid/20001949-DontLinkElementID_67" title="Note"></a><p><strong>Note:</strong>&nbsp;Installer relies on the bundle-searching services provided by CFBundle, and described in <span class="content_text"><a href="../../../../CoreFoundation/Conceptual/CFBundles/Concepts/SearchAlgorithm.html#//apple_ref/doc/uid/20001120" target="_top">“Searching for Bundle Resources”</a></span> in <em><a href="../../../../CoreFoundation/Conceptual/CFBundles/index.html#//apple_ref/doc/uid/10000123i" target="_top">Bundle Programming Guide</a></em> in <span class="content_text"><a href="../../../../CoreFoundation/ResourceManagement-date.html#//apple_ref/doc/uid/TP30000421-TP30000458" target="_top">Core Foundation Resource Management</a></span>.</p></div><a name="//apple_ref/doc/uid/20001949-1035385" title="Default Messages Provided by Installer"></a><a name="//apple_ref/doc/uid/20001949-1035385-TPXREF4" title="Default Messages Provided by Installer"></a><h3>Default Messages Provided by Installer</h3><p>As noted in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1035872">“TitleKey,”</a></span> if you do not supply message keys or a <code>IFRequirement.strings</code> file, Installer supplies a generic message when a requirement is not satisfied.</p><a name="//apple_ref/doc/uid/20001949-1035406" title="Requirements Keys"></a><a name="//apple_ref/doc/uid/20001949-1035406-BGBDIBJJ" title="Requirements Keys"></a><h2>Requirements Keys</h2><p><span class="content_text">Table 2</span> lists the keys you use to define a requirement in a package’s information property list. These keys correspond to the structure shown in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1027846-BGBFDHCE">Figure 1</a></span>. Additional information for each key is provided in the sections that follow the table. For information on working with these keys, see <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1026654">“Adding Requirements to the Information Property List”</a></span> and <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1026699">“Requirements Examples.”</a></span></p><div class="importantbox"><a name="//apple_ref/doc/uid/20001949-DontLinkElementID_68" title="Important:"></a><p><strong>Important:</strong>&nbsp;The values for the <code>LabelKey</code>, <code>MessageKey</code>, and <code>TitleKey</code> keys are not themselves strings to be displayed. Rather, they are treated as keys that identify strings within a localizable strings file you supply (described in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1028601">“Requirements Message Strings”</a></span>).</p><p></p></div><a name="//apple_ref/doc/uid/20001949-1028024-BGBFIEGA" title="Table 2Keys used within a requirements dictionary key"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001949-1028024" title="Table 2Keys used within a requirements dictionary key"></a><strong>Table 2&nbsp;&nbsp;</strong>Keys used within a requirements dictionary key</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Type</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Required</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Summary</p></th></tr><tr><td  scope="row"><p><code>LabelKey</code></p></td><td ><p>String</p></td><td ><p>No</p></td><td ><p>Key to a short description of the requirement in a localizable strings file.</p><p>Not currently used.</p></td></tr><tr><td  scope="row"><p><code>TitleKey</code></p></td><td ><p>String</p></td><td ><p>No</p></td><td ><p>Key to a description in a localizable strings file that provides a complete explanation of the requirement and why it could not be satisfied.</p></td></tr><tr><td  scope="row"><p><code>MessageKey</code></p></td><td ><p>String</p></td><td ><p>No</p></td><td ><p>Key to a short description in a localizable strings file of how to address the problem if the requirement is not satisfied.</p></td></tr><tr><td  scope="row"><p><code>Level</code></p></td><td ><p>String</p></td><td ><p>No</p></td><td ><p>Specifies the degree of enforcement. Default is <code>requires</code>.</p></td></tr><tr><td  scope="row"><p><code>SpecArgument</code></p></td><td ><p>any</p></td><td ><p>Yes</p></td><td ><p>The argument part of the specifier for the requirement test. Specific to the <code>SpecType</code>.</p></td></tr><tr><td  scope="row"><p><code>SpecProperty</code></p></td><td ><p>any</p></td><td ><p>No</p></td><td ><p>Part of the specifier for the requirement test. Specific to the <code>SpecType</code>.</p></td></tr><tr><td  scope="row"><p><code>SpecType</code></p></td><td ><p>String</p></td><td ><p>Yes</p></td><td ><p>The type of the specifier. Evaluated according to <code>SpecArgument</code> and <code>SpecProperty</code> to resolve the specifier.</p></td></tr><tr><td  scope="row"><p><code>TestObject</code></p></td><td ><p>any</p></td><td ><p>No</p></td><td ><p>The right-hand object value. By default, you don’t need to supply an entry for this key, unless otherwise stated.</p></td></tr><tr><td  scope="row"><p><code>TestOperator</code></p></td><td ><p>String</p></td><td ><p>No</p></td><td ><p>Operator used to test the left-hand value (or specifier) against the right-hand value (or object). The default value is <code>=</code>.</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001949-1028235" title="LabelKey, TitleKey, and MessageKey"></a><a name="//apple_ref/doc/uid/20001949-1028235-TPXREF3" title="LabelKey, TitleKey, and MessageKey"></a><h3>LabelKey, TitleKey, and MessageKey</h3><p>The value for a <code>LabelKey</code>, <code>TitleKey</code>, or <code>MessageKey</code> is a key that specifies a string in a localized strings file named <code>IFRequirement.strings</code>, stored in the package’s <code>Resources</code> folder. These keys and strings files are described in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1028601">“Requirements Message Strings.”</a></span></p><p>All of these keys are optional and if you do not supply them, Installer supplies a generic message when a requirement is not satisfied.</p><a name="//apple_ref/doc/uid/20001949-1020952" title="Level"></a><a name="//apple_ref/doc/uid/20001949-1020952-TPXREF7" title="Level"></a><h3>Level</h3><p>The value supplied for the <code>Level</code> key specifies the resulting behavior when a requirement is not satisfied on the user’s system at pre-installation time. The currently supported values are:</p><ul class="spaceabove"><li class="li"><p><code>requires</code>: Used if the package should not be installed on systems where the requirement is not satisfied.</p><p>This is the default value for the <code>Level</code> key. It constitutes a technical requirement (as opposed to a legal, marketing, or other non-technical requirement).</p><p>Depending on the requirement strings supplied in the package, Installer might display a message like the following if the requirement is not satisfied:</p><p>“Safari 1.0 requires Java version 1.3 or higher.”</p></li><li class="li"><p><code>recommends</code>: Used to specify anything above and beyond a minimal technical requirement. The package should be installed, even on systems where the recommendation is not satisfied; however, the user experience may be enhanced if the recommendation is satisfied. Some clients, including Installer, may display a recommendation to the user, such as the following:</p><p>“iTunes 4 recommends QuickTime 6.2 or higher for full functionality.”</p></li></ul><a name="//apple_ref/doc/uid/20001949-1021150" title="SpecArgument, SpecProperty, and SpecType"></a><a name="//apple_ref/doc/uid/20001949-1021150-BGBECACF" title="SpecArgument, SpecProperty, and SpecType"></a><h3>SpecArgument, SpecProperty, and SpecType</h3><p>Together, the <code>SpecType</code>, <code>SpecArgument</code>, and <code>SpecProperty</code> keys constitute an object specifier for a particular system resource or state. Installer resolves the object specifier to return the actual object value for the user’s system, if possible. Examples of object specifiers include the version number of a given application or package receipt, a <code>gestalt</code> or <code>sysctl</code> value, or a specific value within a property list file or hardware registry. See <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1026699">“Requirements Examples”</a></span> for samples of how to combine the type, argument, and property in a requirement.</p><p><span class="content_text">Table 3</span> lists specifier types and the arguments and properties you use with them. You can think of the information from the first two columns (type and argument) as specifying a thing, and the third column (property) identifying some attribute of that thing. In some cases, you supply just the first two items to specify a requirement, while in other cases all three are required.</p><p>Additional information for each specifier type is provided in the sections that follow the table.</p><a name="//apple_ref/doc/uid/20001949-1029133-BGBGABHA" title="Table 3Specifier types"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001949-1029133" title="Table 3Specifier types"></a><strong>Table 3&nbsp;&nbsp;</strong>Specifier types</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>SpecType</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>SpecArgument</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>SpecProperty</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Specifies</p></th></tr><tr><td  scope="row"><p><code>package</code></p></td><td ><p>Package identifier</p></td><td ><p>Property list key</p></td><td ><p>A property list value from an Installer package (with extension <code>.pkg</code>)</p></td></tr><tr><td  scope="row"><p><code>sysctl</code></p></td><td ><p>a <code>sysctl</code> name</p></td><td ><p>none</p></td><td ><p>A <code>sysctl</code> entry. Can specify various system information</p></td></tr><tr><td  scope="row"><p><code>ioregistry</code></p></td><td ><p>IORegistry path</p></td><td ><p>Key path</p></td><td ><p>An IOKit Registry object (which identifies a device)</p></td></tr><tr><td  scope="row"><p><code>gestalt</code></p></td><td ><p>Gestalt selector</p></td><td ><p>none</p></td><td ><p>A Carbon Gestalt selection</p></td></tr><tr><td  scope="row"><p><code>bundle</code></p></td><td ><p>a standard or tokenized file path</p></td><td ><p>Property list key (to test for existence, none)</p></td><td ><p>A property list value from the specified bundle</p></td></tr><tr><td  scope="row"><p><code>plist</code></p></td><td ><p>a standard or tokenized file path</p></td><td ><p>Key path (to test for existence, none)</p></td><td ><p>A possibly nested property list value from the specified property list</p></td></tr><tr><td  scope="row"><p><code>file</code></p></td><td ><p>a standard or tokenized file path</p></td><td ><p>NSFileManager attribute key (to test for existence, none)</p></td><td ><p>Various information about a flat file</p></td></tr></table></div><a name="//apple_ref/doc/uid/20001949-1036846" title="Package"></a><a name="//apple_ref/doc/uid/20001949-1036846-TPXREF9" title="Package"></a><h4>Package</h4><p>Specifies an Installer package. The <code>SpecArgument</code> value should be a package identifier string (currently a bundle identifier string from the package’s info property list). You use this property to set a requirement within a metapackage that another package be present. You currently can only use this type of requirement in a metapackage. You can’t use this property to look up installed receipts on disk—it will access only “full” packages.</p><p>The <code>SpecProperty</code> value should be a property list key string in the package. You should always supply a <code>SpecProperty</code> entry.</p><a name="//apple_ref/doc/uid/20001949-1036875" title="Sysctl"></a><a name="//apple_ref/doc/uid/20001949-1036875-TPXREF10" title="Sysctl"></a><h4>Sysctl</h4><p>Specifies a <code>sysctl</code> entry. The <code>SpecArgument</code> value should be a string specifying a MIB style <code>sysctl</code> name. See the man page for <code>sysctl(8)</code> for values. You can specify many system attributes, including the amount of physical memory (<code>hw.sysmem</code>) or the hardware model (<code>hw.model</code>).</p><p>An example of a value for a <code>sysctl</code> entry is <code>hw.ncpu</code>, which would specify a requirement based on the number of CPUs.</p><p>You don’t supply a <code>SpecProperty</code> entry for <code>sysctl</code>.</p><a name="//apple_ref/doc/uid/20001949-1029366" title="IORegistry"></a><a name="//apple_ref/doc/uid/20001949-1029366-TPXREF11" title="IORegistry"></a><h4>IORegistry</h4><p> Specifies an IOKit Registry object. The <code>SpecArgument</code> value should be a string specifying an IORegistry path. The format is <code>plane:path.</code> For example:</p><div class="codesample"><table><tr><td scope="row"><pre>IOService:/MacRISC2PE/pci@f0000000/AppleMacRiscAGP/*/*/*/AppleBacklightDisplay<span></span></pre></td></tr></table></div>	<p>The <code>SpecType</code> and <code>SpecArgument</code> together specify a hardware device in the IORegistry. The <code>SpecProperty</code> further refines the requirement by specifying an attribute of the device. The property should be a string that specifies a key path. Wildcards are supported using the ' *' character for nodes in the registry path, as well as for nodes in the key path. </p><p>The following example specifies the brightness value of the device:</p><div class="codesample"><table><tr><td scope="row"><pre>IODisplayParameters:brightness:value<span></span></pre></td></tr></table></div><p>For more information on IOKit, see <em><a href="../../../../DeviceDrivers/Conceptual/IOKitFundamentals/index.html#//apple_ref/doc/uid/TP0000011" target="_top">I/O Kit Fundamentals</a></em> and other documents in <span class="content_text"><a href="../../../../Darwin/index.html#//apple_ref/doc/uid/TP30000422" target="_top">Darwin Documentation</a></span>.</p><a name="//apple_ref/doc/uid/20001949-1032993" title="Gestalt"></a><a name="//apple_ref/doc/uid/20001949-1032993-TPXREF12" title="Gestalt"></a><h4>Gestalt</h4><p>Specifies a Carbon Gestalt selector. You can use Gestalt selectors to identify many attributes of the operating environment. The <code>SpecArgument</code> value should be a four character code string specifying a Gestalt selector. </p><p>You don’t supply a <code>SpecProperty</code> entry for <code>gestalt</code>.</p><p>For information on Gestalt, see <em><a href="../../../../Carbon/Reference/Gestalt_Manager/index.html#//apple_ref/doc/uid/TP30000036" target="_top">Gestalt Manager Reference</a></em> in <span class="content_text"><a href="../../../../Carbon/ResourceManagement-date.html#//apple_ref/doc/uid/TP30000420-TP30000458" target="_top">Carbon Resource Management Documentation</a></span>.</p><a name="//apple_ref/doc/uid/20001949-1033036" title="Bundle"></a><a name="//apple_ref/doc/uid/20001949-1033036-TPXREF13" title="Bundle"></a><h4>Bundle</h4><p>Specifies a bundle (application, framework, plug-in, and so on). The <code>SpecArgument</code> value is a standard or tokenized file path. A standard path is just a path, such as <code>/Applications/MyApplication.app</code>. Tokenized paths are described in <span class="content_text"><a href="sd_find_file.html#//apple_ref/doc/uid/20001941-1063447">“Token Definitions.”</a></span></p><p>The <code>SpecProperty</code> value should be a string value from the property list of the specified bundle. If you just want to check whether the bundle [or file] exists, don’t supply a <code>SpecProperty</code> entry. In that case, the requirement will be satisfied if the bundle exists and not satisfied if it doesn’t.</p><a name="//apple_ref/doc/uid/20001949-1029468" title="Plist"></a><a name="//apple_ref/doc/uid/20001949-1029468-TPXREF14" title="Plist"></a><h4>Plist</h4><p>Specifies a property list file. The <code>SpecArgument</code> value is a standard or tokenized file path to the specified file.</p><p>The <code>SpecProperty</code> value should be string specifying a key path. That is, for a top-level key, the property could be one word, such as <code>NSAppleScriptEnabled</code> (a key which indicates a Cocoa application uses Cocoa’s built-in AppleScript support). A nested property might have multiple keys, joined by periods, such as <code>PhonePrefs.RingerPrefs.CurrentTune</code>. Wildcards are supported using the ' *' character. Integers are used as array indices (that is, an index into the array for an array key).</p><a name="//apple_ref/doc/uid/20001949-1029495" title="File"></a><a name="//apple_ref/doc/uid/20001949-1029495-TPXREF15" title="File"></a><h4>File</h4><p>Specifies a flat file. The <code>SpecArgument</code> value is a standard or tokenized file path. A standard path is just a path to a file. Tokenized paths are described in <span class="content_text"><a href="sd_find_file.html#//apple_ref/doc/uid/20001941-1063447">“Token Definitions.”</a></span></p><p>The <code>SpecProperty</code> value should be a file attribute constant string, defined in <span class="content_text"><a href="../../../../Cocoa/Reference/Foundation/Classes/NSFileManager_Class/Reference/Reference.html#//apple_ref/occ/cl/NSFileManager" target="_top">NSFileManager</a></span>. There are many file attributes you can incorporate in a requirement, such as file size (NSFileSize) or creation date (NSFileCreationDate).</p><p>If you just want to check whether the file exists, don’t supply a <code>SpecProperty</code> entry. In that case, the requirement will be satisfied if the file exists and not satisfied if it doesn’t.</p><p>For example, if your package requires the presence of the file <code>/mach_kernel</code>, you can specify a <code>SpecType</code> of <code>file</code>, a <code>SpecArgument</code> of <code>/mach_kernel</code>, and no <code>SpecProperty</code>. As a result, Installer will only allow the package to be installed if the file <code>/mach_kernel</code> exists.</p><a name="//apple_ref/doc/uid/20001949-1021531" title="TestObject"></a><a name="//apple_ref/doc/uid/20001949-1021531-TPXREF8" title="TestObject"></a><h3>TestObject</h3><p>The TestObject key specifies the “required” object value. See <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1031997">“TestOperator”</a></span> for an explanation of how it is used.</p><a name="//apple_ref/doc/uid/20001949-1031997" title="TestOperator"></a><a name="//apple_ref/doc/uid/20001949-1031997-BGBEAICD" title="TestOperator"></a><h3>TestOperator</h3><p>The <code>TestOperator</code> key is used as follows: the left value (specified by the keys described in <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1021150">“SpecArgument, SpecProperty, and SpecType”</a></span>) is tested with the operator specified by the <code>TestOperator</code> key against the right value specified by the <code>TestObject</code> key. As a value for the <code>TestOperator</code> key, you can use any of the comparison operators shown in the two right-hand columns in <span class="content_text">Table 4</span> (XML notation and Perl notation).</p><div class="importantbox"><a name="//apple_ref/doc/uid/20001949-DontLinkElementID_69" title="Important:"></a><p><strong>Important:</strong>&nbsp;Because the property list of a package is in XML format, you must escape special characters, such as “&lt;” and “>”. Examples are provided below.</p><p></p></div><a name="//apple_ref/doc/uid/20001949-1032033-BGBFJAHE" title="Table 4Comparison operators for the TestOperator key"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/20001949-1032033" title="Table 4Comparison operators for the TestOperator key"></a><strong>Table 4&nbsp;&nbsp;</strong>Comparison operators for the TestOperator key</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Operator</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Symbol</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>XML notation</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Perl notation</p></th></tr><tr><td  scope="row"><p>equal</p></td><td ><p>=</p></td><td ><p>=</p></td><td ><p>eq</p></td></tr><tr><td  scope="row"><p>less than or equal</p></td><td ><p>&lt;=</p></td><td ><p>&amp;lt;=</p></td><td ><p>le</p></td></tr><tr><td  scope="row"><p>less than</p></td><td ><p>&lt;</p></td><td ><p>&amp;lt;</p></td><td ><p>lt</p></td></tr><tr><td  scope="row"><p>greater than or equal</p></td><td ><p>>=</p></td><td ><p>&amp;gt;=</p></td><td ><p>ge</p></td></tr><tr><td  scope="row"><p>greater than</p></td><td ><p>></p></td><td ><p>&amp;gt;</p></td><td ><p>gt</p></td></tr><tr><td  scope="row"><p>not equal</p></td><td ><p>!=</p></td><td ><p>!=</p></td><td ><p>ne</p></td></tr></table></div><p>For example, the full value entry for greater than or equal in XML notation is:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;string>&amp;gt;=&lt;/string><span></span></pre></td></tr></table></div><p>The full value entry for greater than or equal using Perl notation is:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;string>ge&lt;/string><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001949-1026699" title="Requirements Examples"></a><a name="//apple_ref/doc/uid/20001949-1026699-TPXREF16" title="Requirements Examples"></a><h2>Requirements Examples</h2><p>This section provides examples of various common requirements definitions.</p><a name="//apple_ref/doc/uid/20001949-1026727" title="Bundle Requirements"></a><a name="//apple_ref/doc/uid/20001949-1026727-TPXREF17" title="Bundle Requirements"></a><h3>Bundle Requirements</h3><p><span class="content_text">Listing 2</span> shows a requirements definition that specifies a bundle version. This type of requirement is useful for software that links against external frameworks. In this example, the package requires version 663.7 or greater of the AppKit framework.</p><a name="//apple_ref/doc/uid/20001949-1026740-BGBCHAHF" title="Listing 2A requirements definition for a minimum framework version"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001949-1026740" title="Listing 2A requirements definition for a minimum framework version"></a><strong>Listing 2&nbsp;&nbsp;</strong>A requirements definition for a minimum framework version</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>IFRequirementDicts&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecType&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>bundle&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecArgument&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>/System/Library/Frameworks/AppKit.framework&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecProperty&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>CFBundleVersion&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestOperator&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>&amp;gt;=&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestObject&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>663.7&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><p>See <span class="content_text"><a href="sd_spec_install_req.html#//apple_ref/doc/uid/20001949-1031997">“TestOperator”</a></span> for a description of the valid test operators (such as <code>&amp;gt:=</code> in this example).</p><p>If you’re packaging a relocatable application, you can use the same format shown in <span class="content_text">Listing 2</span>, but also provide a token definition to specify that Installer should search for the item on disk and upgrade older versions as appropriate. You need to do this only if your package must upgrade or otherwise overwrite the relocated files. For a complete description of searching and token definitions, see <span class="content_text"><a href="sd_find_file.html#//apple_ref/doc/uid/20001941-CIAHIEAF">“Finding Previously Installed Software.”</a></span></p><a name="//apple_ref/doc/uid/20001949-1032321" title="Property List Requirements"></a><a name="//apple_ref/doc/uid/20001949-1032321-TPXREF18" title="Property List Requirements"></a><h3>Property List Requirements</h3><p><span class="content_text">Listing 3</span> shows a requirements definition that specifies a simple test based on the bundle version value from a property list. In this example, the package requires Mac OS X version 10.3 or greater.</p><a name="//apple_ref/doc/uid/20001949-1032346-BGBBBEBD" title="Listing 3A requirements definition for a value from a property list"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001949-1032346" title="Listing 3A requirements definition for a value from a property list"></a><strong>Listing 3&nbsp;&nbsp;</strong>A requirements definition for a value from a property list</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>IFRequirementDicts&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecType&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>plist&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecArgument&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>/System/Library/CoreServices/SystemVersion.plist&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecProperty&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>ProductVersion&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestOperator&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>&amp;gt;=&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestObject&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>10.3&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20001949-1027054" title="File Requirements"></a><a name="//apple_ref/doc/uid/20001949-1027054-TPXREF19" title="File Requirements"></a><h3>File Requirements</h3><p><span class="content_text">Listing 4</span> shows a requirements definition that specifies a flat file requirement. In this example, the package is not installed if the specified font file is present.</p><a name="//apple_ref/doc/uid/20001949-1027067-BGBCICCJ" title="Listing 4A requirements definition for a file"></a><p class="codesample"><a name="//apple_ref/doc/uid/20001949-1027067" title="Listing 4A requirements definition for a file"></a><strong>Listing 4&nbsp;&nbsp;</strong>A requirements definition for a file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>IFRequirementDicts&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecType&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>file&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>SpecArgument&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>/Library/Fonts/Apple Chancery.dfont&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestOperator&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>eq&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>TestObject&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Level&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>requires&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>LabelKey&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>AppleChanceryLabel&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>MessageKey&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>AppleChanceryMessage&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><p>The requirement effectively states that the specifier must resolve to an empty string. This evaluates to <code>true</code> if the file doesn’t exist in the Fonts folder on the installation volume, <code>false</code> if it does exist.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="sd_pkg_version_info.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="sd_install_check_ref.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-07-24<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution4/Concepts/sd_spec_install_req.html%3Fid%3DTP40004615-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution4/Concepts/sd_spec_install_req.html%3Fid%3DTP40004615-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution4/Concepts/sd_spec_install_req.html%3Fid%3DTP40004615-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
