<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Device Configuration</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.9d.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.a3.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.a5.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H3.Heading3"><A NAME="pgfId=3695"> </A><A NAME="30915"> </A>Device Configuration</H1><P CLASS="T1.Text1"><A NAME="pgfId=3697"> </A>All <A NAME="marker=3696"> </A>device configuration information is stored in the Name Registry. All resources required by the driver will be provided to device drivers in a family-specific way or through the Name Registry. Device driver writers must follow these rules:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3698"> </A>Do not use the Resource Manager.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3699"> </A>Do not use the file system.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3700"> </A>Do not use the PRAM utilities.</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=3701"> </A>Support for these mechanisms is not available to drivers after the first generation of Power Macintosh computers. The Name Registry provides two kinds of persistent storage; see <A HREF="PCI_BOOK.f8.html#12320" CLASS="XRef">Name Registry</A> for details on how these facilities are used. In short and in general, do not use the Macintosh Toolbox from main driver code. </P><P CLASS="T1.Text1"><A NAME="pgfId=3705"> </A>All information required by device drivers is located in the Name Registry. Native driver initialization routines are passed a Name Registry node pointer that identifies the corresponding device. The Name Registry programming interface provides access routines to the interesting properties required by devices. See <A HREF="PCI_BOOK.12e.html#31251" CLASS="XRef">Standard Properties</A>, for names and values of properties of interest to PCI drivers for use with Mac&nbsp;OS.</P><P CLASS="T1.Text1"><A NAME="pgfId=3710"> </A>Native drivers should not make calls to, or expect data from, the <A NAME="marker=3709"> </A>Resource Manager. There are two reasons for this rule:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3711"> </A>The Resource Manager is an application service, not a system service.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3712"> </A>Information stored in resources is unwieldy because it is impossible to distinguish code from data resources in a paging-protected or memory-protected way.</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=3713"> </A>Configuration data must be supplied by the expert controlling the device or stored as property data in the Name Registry.</P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.9d.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.a3.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.a5.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>