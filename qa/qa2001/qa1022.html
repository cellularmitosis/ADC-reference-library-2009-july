<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A QA1022: Where should I install my help book, and how does Help Viewer locate it?</title><meta name="keywords" content="help plist CFBundleHelpBookFolder CFBundleHelpBookName"><meta name="Description" content="Technical Q&amp;A QA1022: This Q&amp;A describes what keys an applicationshould include in its Info.plist file to work with Apple'sHelp Viewer application."><meta name="categories" content="Help Systems"><meta name="week-posted" content="Apr 9, 2001 - Apr 13, 2001"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001575" title="Where should I install my help book, and how does Help Viewer locate it?"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/UserExperience/index.html">User Experience</a> &gt; <a href="../../technicalqas/UserExperience/idxHelpTechnologies-date.html">Help Technologies</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A QA1022</div>
<div id="pageheadsub">Where should I install my help book, and how does Help Viewer locate it?</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600> <TR> <td align="left"><!-- begin_content --><hr width=500 align=center>                  <P id=p2>Q:      We ship a help book inside of our application's bundle.       Where should I install my help book, and how does Help Viewer locate it?      And, what keys should we include in our <CODE>Info.plist</CODE> file so the      book will be recognized by the Help Viewer?</p>                  <P id=p4>A:      For the help viewer to find your application's help content,      you application should provide the <CODE>CFBundleIdentifier</CODE>,      <CODE>CFBundleHelpBookFolder</CODE>, and the <CODE>CFBundleHelpBookName</CODE>      plist tags.  These tags are defined as follows:</p><P id=p4><CODE>CFBundleIdentifier</CODE> - identifies your bundle to the system.</p><P id=p4><CODE>CFBundleHelpBookFolder</CODE> - the name of your help book's folder.</p><P id=p4><CODE>CFBundleHelpBookName</CODE> - identifies the name of the page in      your help book that should be displayed when your application's      help is chosen from the help menu.  For example, the HTML      shown in listing&nbsp;1 defines a page named &quot;Simple Help&quot;.</p><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>&lt;HTML&gt;  &lt;HEAD&gt;    &lt;META HTTP-EQUIV=&quot;content-type&quot; CONTENT=&quot;text/html;charset=iso-8859-1&quot;&gt;    &lt;TITLE&gt;Simple Help Page&lt;/TITLE&gt;    &lt;META NAME=&quot;AppleTitle&quot; CONTENT=&quot;Simple Help&quot;&gt;  &lt;/HEAD&gt;  &lt;BODY BGCOLOR=&quot;#ffffff&quot;&gt;     &lt;P&gt;Simple Help!&lt;/P&gt;  &lt;/BODY&gt;&lt;/HTML&gt;</pre></TD></TR><TR><td align="left"><P><B>Listing 1.</B> HTML contents of the main entry page in a Help Book entitled "Simple Help".</p></TD></TR></TABLE></CENTER><BR><BR><P id=p4>Normally, an application will provide a separate help book for eachlanguage localization it provides inside of its application bundle.  Figure&nbsp;1illustrates the appropriate location for an English version of a help bookinside of an application's bundle.</p><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td align="left"><img src="images/qa1022_001.jpg" alt="Location of a help book named " simple help book" in a mac os x application bundle." width=371 height=313><BR><P><B>Figure 1.</B>Location of a help book named "Simple Help Book"in a Mac&nbsp;OS&nbsp;X application Bundle.</p></TD></TR></TABLE></CENTER><BR><BR>                    <P id=p4>The bundle shown in Figure&nbsp;1 together with the HTML shown in listing&nbsp;1can be used to illustrate appropriate usage of the <CODE>CFBundleHelpBookFolder</CODE>and the <CODE>CFBundleHelpBookName</CODE> plist tags.  Say, for example, the HTMLshown in Figure&nbsp;1 is the contents of the file <CODE>index.html</CODE> shown inFigure&nbsp;1.  Then,the Help Book name (<CODE>CFBundleHelpBookName</CODE>) is "Simple Help", and theHelp Book folder name (<CODE>CFBundleHelpBookFolder</CODE>) is "Simple Help Book".</p><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>For Mac OS X version 10.0, <CODE>CFBundleHelpBookName</CODE> is localizable,whereas <CODE>CFBundleHelpBookFolder</CODE> is not.</P></TD></TR></TABLE></CENTER><BR><BR>                    <P id=p4>The Help Viewer application will use the<CODE>CFBundleHelpBookFolder</CODE> and the <CODE>CFBundleHelpBookName</CODE>plist tags to locate your application's help content.  For Cocoa applications,help content is located automatically, but Carbon applications must explicitlyregister their application bundle's help book when they start up.  This is doneusing the <CODE>AHRegisterHelpBook</CODE> routine as shown in Listing&nbsp;2.</p><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>    /* RegisterMyHelpBook registers an application's help    book.  It can be called as part of the application's    initialization sequence.  Once it has been called, the    application is free to use any of the other Apple Help    routines to access and display the contents of their    help book.    This routine illustrates how one would use the    AHRegisterHelpBook routine in their application.  */OSStatus RegisterMyHelpBook(void) {    CFBundleRef myAppsBundle;    CFURLRef myBundleURL;    FSRef myBundleRef;    OSStatus err;        /* set up a known state */    myAppsBundle = NULL;    myBundleURL = NULL;        /* Get our application's main bundle        from Core Foundation */    myAppsBundle = CFBundleGetMainBundle();    if (myAppsBundle == NULL) { err = fnfErr; goto bail;}        /* retrieve the URL to our bundle */    myBundleURL = CFBundleCopyBundleURL(myAppsBundle);    if (myBundleURL == nil) { err = fnfErr; goto bail;}        /* convert the URL to a FSRef */    if ( ! CFURLGetFSRef(myBundleURL, &amp;myBundleRef) ) {        err = fnfErr;        goto bail;    }        /* register our application's help book */    err = AHRegisterHelpBook(&amp;myBundleRef);    if (err != noErr) goto bail;        /* done */    CFRelease(myBundleURL);    return noErr;bail:    if (myBundleURL != NULL) CFRelease(myBundleURL);    return err;}</pre></TD></TR><TR><td align="left"><P><B>Listing 2.</B> How your application registers its help book when it starts up.</p></TD></TR></TABLE></CENTER><BR><BR><P><B>References</B></p><P>The <A HREF="http://developer.apple.com/sdk/index.html">Apple Help SDK</A> providessamples and documentaiton explaining appropriate layout of help books.</p><P>The <A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/AppleHelp/applehelp.html">Apple Help Documentation</A> providesdocumentation about Help Books, calls for displaying specific help content, and tips for helpcontent writers.</p><hr width=500 align=center> <!-- begin_date --><H4 ALIGN=center>[Apr 09 2001]</H4><!-- end_date --></TD> </TR> </TABLE></CENTER><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/qa2001/qa1022.html%3Fid%3DDTS10001575-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/qa2001/qa1022.html%3Fid%3DDTS10001575-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/qa2001/qa1022.html%3Fid%3DDTS10001575-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>