<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Keyboard-Swap Resource (Type 'KSWP')(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING587></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-586.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-588.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-570.html"><B>Appendix C - Keyboard Resources</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING587-0></A>
<H1><A NAME=MARKER-9-89></A><A NAME=MARKER-21-90></A>Keyboard-Swap Resource (Type 'KSWP')</H1>
 <A NAME=MARKER-2-91></A>The keyboard-swap resource (resource type <CODE>'KSWP'</CODE>) specifies the modifier-plus-key combinations with which the user can change keyboard scripts, keyboard layouts within scripts, and input methods. For example, the standard keyboard-swap resource specifies that pressing Command-Space bar changes the keyboard to the default keyboard for the next script. (In this case, <I>next</I> means next in the Keyboard menu.)<P>
 There is one keyboard-swap resource per localized version of system software. A localized system may either use the standard <CODE>'KSWP'</CODE> resource or replace it with one of its own. The keyboard-swap resource is in the System file; its resource ID is 0.<P>
 The keyboard-swap resource consists of an array with series of entries, each of which specifies modifier-plus-key combinations that can be used to change keyboard layouts and scripts. <A HREF=#MARKER-9-92>Figure C-9</A> shows the format of entries in the <CODE>'KSWP'</CODE> resource.<P>
<B>Figure C-9  <A NAME=MARKER-9-92></A><A NAME=MARKER-21-93></A>Format of entries in the keyboard-swap resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/KR_L-05.jpg">
 <B>The elements of the entry have these meanings:</B><P>
<UL>
<LI>Script code or negative code. The code number of a script system--such as 0 (<CODE>smRoman</CODE>)--or a special negative code for switching. The special negative codes are identical to the selectors for the Script Manager <CODE>KeyScript</CODE> procedure. The selectors are listed and described along with the <CODE>KeyScript</CODE> procedure in the chapter "Script Manager" in this book.
<LI>Virtual key code. The virtual key code (for example, $31 for Space bar) required to generate the script code or special negative code of this element.
<LI>Modifier state. The modifier-key setting (for example, Command key down) that must accompany the virtual key code.<P>
</UL>
 <A HREF=#MARKER-9-94>Listing C-3</A> is a Rez-format definition of a hypothetical keyboard-swap resource.<P>
<B>Listing C-3  <A NAME=MARKER-9-94></A>A hypothetical keyboard-swap resource</B><P>
<PRE>
resource 'KSWP' (0, sysheap) {
      {/* array: 2 elements */
         /* [1] = smKeyNextScript */
         -1, $31, controlOff, optionOff, shiftOff, commandOn,
         /* [2] = smKeyNextKybd */
         -4, $31, controlOff, optionOn, shiftOff, commandOn,
      }
};
</PRE>
 This resource defines a rotation to the next script system on Command-Space bar, and a rotation to the next keyboard layout on Command-Option-Space bar.<P>
<DL>
<DT><B>Note</B>
<DD>The expression that evaluates the size of a keyboard-swap resource is complicated. If you need to perform a DeRez operation on a keyboard-swap resource, contact Macintosh Developer Technical Support for details.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
<DT><B>IMPORTANT</B>
<DD><A NAME=MARKER-2-95></A>The Script Manager removes from the event queue any Command-key combinations involving the Space bar if that Command-key combination indicates a feature supported by the current script system. For example, if multiple script systems are installed, the Script Manager strips the Command-Space bar combination (which specifies changing script systems) from the event queue. If multiple script systems are not installed, this event is not removed, so users can use it in Command-key macros. Applications, however, should never depend on Command-key combinations involving the Space bar.<A NAME=MARKER-2-96></A><B><EM></EM></B>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-586.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-588.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
