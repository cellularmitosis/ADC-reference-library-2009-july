<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<TITLE> Transferring Movies Between Studios</TITLE></HEAD>
<body bgcolor="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="JavaClientTOC.html" target="_top">JavaClient Tutorial</a>
</font>
<br><br>
<!--end of path -->


<DIV>
<P><I>Creating a Java Client WebObjects Application</I><P><A HREF="CSJ_Tutorial.1d.html">Previous</A> | <A HREF="JavaClientTOC.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.1f.html">Next</A></P></DIV>
<H2 CLASS="1Head">
<A NAME="pgfId=5829">
 </A>
<A NAME="68466">
 </A>
Transferring Movies Between Studios</H2>
<P CLASS="Body">
<A NAME="pgfId=5831">
 </A>
One of the primary functions of the StudioManager application is to allow one studio to purchase movies from another. To make this possible, you'll now add a pop-up list to the user interface. </P>
<P CLASS="Body">
<A NAME="pgfId=5833">
 </A>
The pop-up list displays a list of all of the studio titles. When you select a new studio in the pop-up list, you cause that studio to purchase the movie that's selected in the table view.</P>
<DIV>

<A NAME="pgfId=29951">
 </A>
<B>1.  Add a pop-up list.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29952">
 </A>
<BLOCKQUOTE>Drag a pop-up list (labeled &quot;Item&quot; on the Views palette) into the window.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29953">
 </A>
Control-drag from the pop-up list to the Studio EODisplayGroup.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29954">
 </A>
In the Inspector, select <A NAME="marker=29955">
 </A>
EOPopupAssoc from the pop-up list at the top of the left column.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29956">
 </A>
Select <B CLASS="Bold-(Sidebar)">
titles</B>
 in the left column. The <B CLASS="Bold-(Sidebar)">
titles</B>
 aspect is bound to the class key whose values you want to display in the pop-up list.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29957">
 </A>
Select <B CLASS="Bold-(Sidebar)">
name</B>
 in the right column (since you want to display Studio names in the pop-up list).</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=5837">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-59.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=5839">
 </A>
</BLOCKQUOTE>Put the pop-up list directly below the Studio table view and leave some space between it and the row of buttons. Later you will be adding fields between the pop-up list and the buttons. For a guide, see the figure associated with step 2, &quot;Test your interface and try out the new pop-up list.&quot;</P>
<P CLASS="Body">
<A NAME="pgfId=19754">
 </A>
Now you have to add another binding to the EOPopupAssociation so that when you change the selected studio title, it sets the corresponding <B>studio</B>
 relationship property in the selected Movie object.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29964">
 </A>
<BLOCKQUOTE>Control-drag from the pop-up list to the movies EODisplayGroup.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29965">
 </A>
In the Inspector, select EOPopupAssoc from the pop-up list at the top of the left column.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29966">
 </A>
Select <B CLASS="Bold-(Sidebar)">
selectedObject</B>
 in the left column. </P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29967">
 </A>
Select <B CLASS="Bold-(Sidebar)">
studio </B>
in the right column.</P>
</DIV>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=5843">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-60.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=5847">
 </A>
</BLOCKQUOTE>The <B>selectedObject</B>
 aspect is bound to the relationship property (in this example, Movie's <B>studio</B>
 property) that corresponds to the object bound to the <B>titles</B>
 aspect (Studio).</P>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=29975">
 </A>
<B>2.  Test your interface and try out the new pop-up list.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29976">
 </A>
<BLOCKQUOTE>Choose File <IMG SRC="CSJ_Tutorial-7.gif" ALIGN="BASELINE">
 Test Interface.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=30587">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-62.gif">
</DIV>

<A NAME="pgfId=29980">
 </A>
</BLOCKQUOTE><B>3.  Build and test-run the application.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29981">
 </A>
<BLOCKQUOTE>(See &quot;<A HREF="CSJ_Tutorial.16.html#11413" CLASS="XRef">
Building and Testing Your Application</A>
&quot; for details.)</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=23694">
 </A>
</H6>
<P CLASS="Body">
<A NAME="pgfId=5849">
 </A>
</BLOCKQUOTE>You can now test the behavior of the pop-up list. For example, suppose you want to transfer the movie &quot;Alien&quot; from the 20th Century Fox studio to MGM. First select 20th Century Fox to display its movies. Then select &quot;Alien&quot; in the list of movies. Finally, use the pop-up list to change the selected studio from 20th Century Fox to MGM. This has the effect of removing &quot;Alien&quot; from 20th Century Fox's <B>movies</B>
 relationship array and adding it to the <B>movies</B>
 relationship array of MGM. It also sets the &quot;Alien&quot; Movie object's <B>studio</B>
 relationship property to point to the new studio, MGM. When you use the pop-up list to transfer a movie, you'll notice that the movie disappears from the original studio's movie list and reappears in the movie list of the new studio.</P>
<P CLASS="Body">
<A NAME="pgfId=5851">
 </A>
These changes aren't committed to the database until you click Save. At that time Enterprise Objects Framework translates the changes you made in the object graph into the appropriate database changes. For example, it sets the foreign key <B>studioID</B>
 in the transferred Movie object to have the same value as the <B>studioID</B>
 primary key of its new studio.</P>
<P CLASS="Body">
<A NAME="pgfId=5853">
 </A>
Note that Enterprise Objects Framework manages all of this for you without requiring you to write any code.</P>
</DIV>
</DIV>
<DIV>

<B>Related Concepts: </B><A NAME="pgfId=19808">
 </A>
<A HREF="CSJ_Tutorial.2e.html#41141" CLASS="XRef">
What is an Association?</A>
<A HREF="CSJ_Tutorial.2e.html#41141" CLASS="XRef">
See What is an Association?</A>

</DIV>
<HR>Â© 1999 Apple Computer, Inc. <P><A HREF="CSJ_Tutorial.1d.html">Previous</A> | <A HREF="JavaClientTOC.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.1f.html">Next</A></P>

<!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
