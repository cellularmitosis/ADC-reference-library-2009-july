<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><TITLE>Technical Q&amp;A QD44: Determining a PostScript Printer's Optimal Resolution</TITLE>	<meta name="keywords" content="Mac OS 8 LaserWriter 8 QuickDraw PrGeneral determining Printer resolution"><meta name="Description" content="Q&amp;A explains how the LaserWriter driver handles printer resolutions, and provides several methods for determining the optimal resolution of a printer. Q&amp;A also describes methods for printing high quality data without knowing the printer's resolution."><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001897" title="Determining a PostScript Printer's Optimal Resolution"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalqas/LegacyTechnologies/idxPrinting-date.html">Printing</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Printing/idxHardwareDrivers-date.html" target="_blank">Printing > Hardware & Drivers</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A QD44</div>
<div id="pageheadsub">Determining a PostScript Printer's Optimal Resolution</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <TD align="left"><HR ALIGN="center" WIDTH="550"><p id = p2>Q: I think I understand how to use the <code>getRslDataOp</code> <code>opCode</code> with <code>PrGeneral</code> to get the resolutions that a printer supports, but when I ask the LaserWriter driver about resolutions, it always tells me I'm talking to a 300 dpi printer. I want to printat the maximum resolution available, and this doesn't generate good results on a 600 (or higher) dpi printer. What gives?</p><p id=p4>A:  The LaserWriter driver works with many different PostScript printers, whichcan have different output resolutions. Currently, the driver always returns arange of 25 to 1500 dpi for legal resolutions, and a fixed resolution of 300 dpi.<p id=p4>The range of 25 to 1500 means that the driver supports any resolution in thatrange. This is explained in Technical Note<a href= "../../technotes/pr/pr_07.html" target="_blank"> PR 07 - PrGeneral</a>. What it means is that your application can ask for any resolution in that range, and the driver will support it. Given that LaserWriters and other PostScript printers can only support a limited number of resolutions, you may not get optimal results if you pick a resolution that is particularly bad for a printer, even if the driver supports it. You also will end up sending more data than is needed if you're generating bitmaps at a higher resolution than the printer can print. Some extremely high-resolution devices may be able to print at a resolution higher than 1500 dpi, and they are still supported by the LaserWriter driver. The range to return was chosen quite a while ago, and hasn't kept up with the times.</P><p id=p4>Currently, the only way to get the actual resolution(s) supported by aPostScript printer is to ask the LaserWriter driver for the PPD file, and parsethe file yourself, looking for the valid resolutions. The call to get the PPDfile is <code>PrGeneral</code> with the <code>PSPrimaryPPDOp</code>, which is 15. This call is documentedin the Q &amp;A, <a href= "qd01.html" target="_blank">QD 01 - PPDs</a>. When Apple makes thefunctions in LaserWriter 8.4's PPD Library available, you'll be able to usethese functions to get the information from the PPD, but the API to thatlibrary has not yet been made available (July 1996).</P><p id=p4>For parsing the PPD file, you'll need to consult the <a href= "http://www.adobe.com/supportservice/devrelations/technotes.html" target="_blank">PPD specification</a> maintained by Adobe.</P><p id=p4>Rather than going to all that work, a better approach might be to change yourcode so you don't need to know the printer's resolution in order to generatehigh-quality data. There are various ways to solve this problem (none of which are perfect):</P><ol><li>If your application is such that you require a PostScript printer, you couldgenerate your own PostScript to achieve high-quality results.</li><li>You could generate your own PostScript, but also use a QuickDrawrepresentation so images will print correctly to StyleWriters and otherQuickDraw printers. This solution is recommended if you're writing a programwhich draws curves, such as a scientific graphing program. For the bestresults, break down the curves you need to draw into small portions that can beaccurately represented by the primitives you have at your command. This is anumerical analysis problem which is beyond the scope of this document.</li><li>You could use QuickDraw only, but draw in such a way that you'll get highresolution results. To do this, use objects such as lines, ovals, arcs, etc.The endpoints of the objects are limited by the resolution at which you draw,but the objects will be drawn at device resolution.</li></ol><p id=p4>The approach you take is up to you.</P><p id=p4>One last comment: if you decide to use PostScript, remember that it is aprogramming language. Depending on your needs, it may be possible to have theprinter do the calculation, since the PostScript code that you generate must berun on the printer.</P></td></tr></table></CENTER><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[Jul 03 1996]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/qd/qd44.html%3Fid%3DDTS10001897-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/qd/qd44.html%3Fid%3DDTS10001897-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/qd/qd44.html%3Fid%3DDTS10001897-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <HR width=550 align=center> </BODY> </HTML>