<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime File Format Specification: Profile Atom Guidelines</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Profile Atom Guidelines"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000939-CH226" title="Profile Atom Guidelines"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../reference/QuickTime/index.html#//apple_ref/doc/uid/TP30001281-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../reference/QuickTime/idxFileFormatSpecification-date.html#//apple_ref/doc/uid/TP30001281-TP30000433-TP30000509" target="_top">File Format Specification</a> &gt; <a href="../QTFFPreface/qtffPreface.html#//apple_ref/doc/uid/TP40000939-CH202-TPXREF101">QuickTime File Format Specification</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../QTFFAppenE/QTFFAppenE.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevHistory/QTFFrevision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000939-CH226-SW1" title="Profile Atom Guidelines"></a><h1><a name="//apple_ref/doc/uid/TP40000939-CH226-TPXREF101" title="Profile Atom Guidelines"></a>Profile Atom Guidelines</h1><p>This appendix introduces and defines some of
the ways that profile information about a QuickTime movie file can
be summarized in a profile atom near the beginning of the file, so
that software reading the file can easily determine some aspects
of its features and complexity.</p>
<p>The information in this appendix should not be seen as a replacement
for, or even a functional overlap with, the definition of the file-type
atom. The file-type atom expresses which specifications a file is
compatible with: reading software should not attempt to play files
unless they are compatible with one or more specifications the reader
implements, and should not refuse to play a file if it is marked
as so compatible. However, reading software may use profiling information
to issue warnings, request user decisions, and so on.</p>
<p>Reading software should not present excessive warnings to
the user in the absence of summarized features. Additionally, readers
are encouraged to try to play content even though crucial profile
information is missing or incomplete.</p>
<p>Profiles may exist at the movie level or the track level.
Track-level profiles summarize features of that track only. Movie-level
profiles may summarize features across tracks or summarize features
that are only relevant at the movie level (for example, the movie’s maximum
bitrate).</p>
<p>If the movie contains runtime variables that might affect
a feature, such as the presence of alternate tracks that would affect
the movie bit-rate, the affected feature should either be absent
or report the worst case (for example, the highest bit-rate). </p>
<p>If a feature value cannot be accurately represented (for example,
the value is not an integer, but the field is formatted as an integer)
then the value should be rounded up to the nearest representable
value.</p>


<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-9376">About This Appendix</a>
				
			<br/>
			
        
			
			
				<a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-20764">Profile Atom Specification</a>
				
			<br/>
			
        
			
			
				<a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-20804">Universal Features</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000939-CH226-9376" title="About This Appendix"></a><h2>About
This Appendix</h2>
<p>The technical content of this appendix begins with a discussion
of the structure of the profile atom, which holds an array of feature
codes and values. Next is an enumeration of the currently included
profile features, each described in a feature description section.</p>
<p>The responsibilities placed upon a writer of a movie (such
as QuickTime or a consumer electronics (CE) device) are described
in the feature’s Writer Responsibilities section. A description
of the algorithm to be used to calculate values is provided.</p>
<p>The feature’s Reader Responsibilities section explains how
reading software should interpret the value. In some cases, there
are warnings to indicate how the reader must not use the value (for
example, not interpreting the maximum bitrate value as the current bitrate).</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-20764" title="Profile Atom Specification"></a><h2>Profile
Atom Specification</h2>
<a name="//apple_ref/doc/uid/TP40000939-CH226-20958" title="Definition"></a><h3>Definition</h3>
<dl class="termdef">	<dt>Atom type</dt>
<dd><p><code>'prfl'</code></p></dd>
<dt>Container</dt>
<dd><p>Movie atom (<code>'moov'</code>)
or track atom (<code>'trak'</code>)</p></dd>
<dt>Mandatory</dt>
<dd><p>No</p></dd>
<dt>Quantity</dt>
<dd><p>Zero or one</p></dd></dl>
<p>At the movie level, the profile atom must occur within the
movie atom before the movie header atom. A reader may stop the search
for the profile atom once the profile atom or the movie header atom
is found. Because new atoms may be introduced into the movie atom (type <code>'moov'</code>)
in the future, a reader must not expect the first child atom of
the movie atom to be either the profile (type <code>'prfl'</code>)
or the movie header (<code>'mvhd'</code>)
atom. This rule allows for new atoms in the future but still accommodates
readers that do not want to perform an exhaustive enumeration of
all the child atoms in a movie atom.</p>
<p>The profile atom expresses profiles or feature codes for features
that occur in the movie. The list is not necessarily exhaustive,
and there may be multiple profile values recorded for the same profile
code. For example, if there are two independent sequences of MPEG-4 video
in the movie, using different profile-level IDs, both might be recorded
here.</p>
<p>Each feature is either universal or is documented in a specific
specification, identified by a brand as used in the file type atom.
The only brands that should occur in a given profile atom are the
universal brand or brands that occur in the file type atom in the
same file.</p>
<p>Feature value ranges should in general never include an unknown
point; if the value of a feature is unknown, the feature should
be absent from the profile atom.</p>
<p>Feature values should be deducible by fairly simple inspection
of the rest of the movie: for example, extracting the profile-level
ID from a video header, or calculations using information from the
sample table (for example, overall average bitrate by summing the sample
sizes and the sample durations). It is not appropriate to have features
which cannot be computed, or only computed with difficulty (e.g.
a buffer model estimation which requires emulating a video decoder
on the entire bit stream). The algorithm to extract or deduce the
feature value from the rest of the file must be defined.</p>
<p>Empty slots in the profile atom structure must be filled with
zeroes.</p>
<p>If there are multiple parts of the file to which the same
feature apply, yet they have different feature values, then either
there must be entries for each occurrence or none at all. For example,
if there are two MPEG-4 visual sequences, using different visual
profiles, there are either two profile entries in the profile table
(one for each sequence) or none at all. Features must not be partially
documented.</p>
<p>Profile atoms may also occur at the track level. A track-level
profile atom must occur within the track atom before the track header
atom (<code>'tkhd'</code>). A reader
should stop searching for a track’s profile atom if either the
profile or the track header atom is found, ignoring any other atoms
present. </p>
<p>A track profile atom should only summarize features within
that track. If track profile atoms exist, a movie profile atom can
be built largely by copying feature entries from the profile atom
of the movie’s tracks to the profile atom at the movie level.
It is possible to have multiple track profiles with different values
which must be resolved to a single value for the movie as whole,
however—such as multiple video tracks with different maximum bit
rates—so not all features can be copied directly from the track
to the movie profile. Additionally, the movie profile may summarize
features that cannot occur at the track level, such as total movie
bitrate.</p>
<p>When building a movie profile, you must include either all
instances of a track-level feature or no instances of that feature.
For example, if you have multiple video tracks that use different
codecs, you must either include an entry at the movie level for
each codec, or put no codec feature entries at the movie level at
all.</p>
<br/><div><a name="//apple_ref/doc/uid/TP40000939-CH226-28951" title="Figure F-1The profile atom"></a><p><strong>Figure F-1&nbsp;&nbsp;</strong>The profile atom</p><img src = "../art/qtff_10.gif" alt = "The profile atom" width="172" height="198"></div><br/>
<a name="//apple_ref/doc/uid/TP40000939-CH226-21368" title="Syntax"></a><h3>Syntax</h3>
<div class="codesample"><table><tr><td scope="row"><pre>aligned(8) class ProfileAtom<span></span></pre></td></tr><tr><td scope="row"><pre>    extends FullAtom('prfl') {<span></span></pre></td></tr><tr><td scope="row"><pre>    unsigned int(32) feature-record-count;<span></span></pre></td></tr><tr><td scope="row"><pre>    for (i=1; i&lt;feature-record-count; i++) {<span></span></pre></td></tr><tr><td scope="row"><pre>        unsigned int(32) reserved = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>        unsigned int(32) part-ID;<span></span></pre></td></tr><tr><td scope="row"><pre>        unsigned int(32) feature-code;<span></span></pre></td></tr><tr><td scope="row"><pre>        unsigned int(32) feature-value<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-21386" title="Semantics"></a><h3>Semantics</h3>
<dl class="termdef">	<dt><code>reserved</code></dt>
<dd><p>A 32-bit field that must be set to zero.</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>Either a brand identifier that occurs in the file-type
atom of the same file, indicating a feature that is specific to
this brand, or the value 0x20202020 (four ASCII spaces) indicating
a universal feature that can be found in any file type that allows
the profile atom. The value 0 is reserved for an empty slot.</p></dd>
<dt><code>feature-code</code></dt>
<dd><p>A four-character code either documented here (universal
features), or in the specification identified by the brand. The
value of 0 is reserved for an empty slot with no meaningful <code>feature-value</code>.</p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Either a value from an enumerated set (for example,
1 or 0 for true or false, or an MPEG-4 profile-level ID) or a value
that can compared (for example, bitrate as an integer or dimensions
as a 32-bit packed structure).</p></dd></dl>
<p>The profile atom is a full atom, so it has an 8-bit version
and 24 bits of flags. For this specification, the version is 0 and
the flags have the value 0. A reader compliant with this specification
should treat any profile atom with a nonzero version value as if
it did not exist.</p>
<br/><div><a name="//apple_ref/doc/uid/TP40000939-CH226-29190" title="Figure F-2Layout of a typical feature"></a><p><strong>Figure F-2&nbsp;&nbsp;</strong>Layout of a typical feature</p>
<img src = "../art/qtff_12.gif" alt = "Layout of a typical feature" width="178" height="126"></div><br/>
<a name="//apple_ref/doc/uid/TP40000939-CH226-20804" title="Universal Features"></a><h2>Universal
Features</h2>
<p>A feature consists of four fields: a reserved field, which
is set to zero; a part-ID, which specifies which brand the feature
belongs to; a feature code, which identifies the feature; and a
value field, which holds the feature value).</p>
<p>The part-ID can be either universal or brand-specific. Universal
features have a part-ID of four ASCII spaces (0x20202020). Brand-specific
features have a part-ID for a particular brand, which is taken from
the Compatible_brands field of the file type atom. Brand-specific
features of QuickTime files have a part-ID of <code>'qt
 '</code>. All features listed in this section are universal
features; that is, they can be used in any file that includes a
profile atom.</p>
<p>It is permissible to use the feature code of 0x00000000 as
a placeholder, paired with a feature value of 0x00000000 for one
or more features. Readers should simply ignore features having a
feature code of zero.</p>
<p>No feature will exist to describe the unit of other features,
such as bitrate. The device should consider the magnitude and tailor
its display appropriately. </p>
<p>This specification describes only how features are stored
in files. It does not require that the values of features be reported
(for example, in a user interface) in the same manner as they are
stored, or require that they be reported at all.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-27927" title="Table of Features"></a><h3>Table
of Features</h3>
<p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-30351">Table F-1</a></span> lists the universal features described
in this appendix.</p><a name="//apple_ref/doc/uid/TP40000939-CH226-30351" title="Table F-1Universal features"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><strong>Table F-1&nbsp;&nbsp;</strong>Universal features</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Brand</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Code</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Profile Parent</p></th>
</tr>


<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>mvbr </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-22155">“Maximum Video Bitrate”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>avvb </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-22349">“Average Video Bitrate”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>mabr </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-22543">“Maximum Audio Bitrate”</a></span></p></td>
<td ><p>Movie or Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>avab </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-22737">“Average Audio Bitrate”</a></span></p></td>
<td ><p>Movie or Audio Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>vfmt </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-22931">“QuickTime Video Codec Type”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>afmt </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-23125">“QuickTime Audio Codec Type”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>m4vp </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-23323">“MPEG-4 Video Profile”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>mp4v </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-23517">“MPEG-4 Video Codec”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>m4vo</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-29839">“MPEG-4 Video Object Type”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>mp4a </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-23905">“MPEG-4 Audio Codec”</a></span></p></td>
<td ><p>Movie or Audio Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>mvsz </p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-29425">“Maximum Video Size in a Movie”</a></span></p></td>
<td ><p>Movie</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>tvsz</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-28369">“Maximum Video Size in a Track”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>vfps</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-24293">“Maximum Video Frame Rate in a Single Track”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>tafr</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-29570">“Average Video Frame Rate in a Single Track”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>vvfp</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-24487">“Video Variable Frame Rate Indication”</a></span></p></td>
<td ><p>Movie or Video Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>ausr</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-24681">“Audio Sample Rate for a Sample Entry”</a></span></p></td>
<td ><p>Movie or Audio Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>avbr</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-26676">“Audio Variable Bitrate Indication”</a></span></p></td>
<td ><p>Movie or Audio Track</p></td>
</tr>
<tr>
<td  scope="row"><p>0x20202020</p></td>
<td ><p>achc</p></td>
<td ><p><span class="content_text"><a href="QTFFAppenF.html#//apple_ref/doc/uid/TP40000939-CH226-26827">“Audio Channel Count”</a></span></p></td>
<td ><p>Movie or Audio Track</p></td>
</tr>

</table></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22155" title="Maximum Video Bitrate"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCCEIAC" title="Maximum Video Bitrate"></a><h3>Maximum Video Bitrate</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt>Reserved</dt>
<dd><p>0x00000000</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'mvbr'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> indicating
maximum video bitrate in bits per second</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22243" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The value is an unsigned 32-bit integer indicating the maximum
video bitrate in bits per second. The value may be larger than the
actual video bitrate, so it should not be interpreted as a bitrate that
will actually occur.</p>
<p>Example: 1 Mbps = 1000000.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22262" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the maximum video bitrate should record a value
that is equal to or greater than the actual bitrate for the video
track. A writer (such as a CE device) may choose to record a constant
value so long as that value is greater than or equal to the bitrate
that may be encoded. It is also permitted to record a value set
by the video encoder during initialization, so long as the value
is never exceeded.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22281" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>Apple recommends a sliding average over 1 second calculated
from the sample tables.</p>
<p>If the feature is written for a newly encoded track (as by
a CE device), it is permitted to record a value used to initialize
the video encoder so long as the value is never exceeded. If the
video track is edited and the maximum video bitrate recalculated,
it may be calculated as a sliding average over 1 second, based on
the sample table.</p>
<p>This can be calculated in the following manner:</p>
<ol class="ol"><li class="li"><p>For each sample, calculate the average 1-second
bitrate; choose the shortest run of samples, including the candidate
sample, that comprise 1 second or more of video, then divide the
total data size of those samples by their total duration.</p></li>
<li class="li"><p>Choose the maximum value from the list of calculated 1-second
averages.</p></li></ol>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22300" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of the maximum video bitrate feature value should
compare the recorded value with its own limits to determine if the
content can be played. The reader should not perform an equality
comparison (=) but instead a relative comparison (&lt;, &lt;=, >,
or >=).</p>
<p>The recorded value may be larger than the actual maximum video
bitrate. Since this value may be an over-estimate, the reader should
not use it as a basis for refusing to play the file, though a warning
may be appropriate. To determine the actual bitrate, the reader
may need to perform an inspection of the video track’s sample
table.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22319" title="Comments"></a><h4>Comments</h4>
<p>The value of this feature should be deducible from information
found in the sample table. Track edits must be considered in its
calculation; if the track is edited, this value must be recalculated.
Even though this value may exceed the actual maximum video bitrate, writers
should attempt to minimize any over-estimation.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22349" title="Average Video Bitrate"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCJFDAB" title="Average Video Bitrate"></a><h3>Average Video Bitrate</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'avvb'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> indicating
average video bitrate in bits per second </p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22437" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The value is an unsigned 32-bit integer indicating the average
video bitrate in bits per second.</p>
<p>Example: 1 Mbps = 1000000.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22456" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the average video bitrate feature should record
a value that is equal to or greater than the average bitrate for
the video track, measured across all media samples. A writer (such
as a CE device) may choose to record a constant value so long as
that value is greater than or equal to the average bitrate that
may be encoded. It is also permitted to record a value set by the
video encoder during initialization so long as the value equals
or exceeds the average calculated from the resulting file.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22475" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>Ideally, the long-term average: total sample sizes divided
by total sample durations.</p>
<p>If the feature is written for a newly encoded track (as by
a CE device), it is permitted to record a value used to initialize
the video encoder. If the video track is edited and the average
video bitrate recalculated, it may be calculated as an overall average
based on the sample table.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22494" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of the average video bitrate feature value should
compare the recorded value with its own limits to determine if the
content can be played. The reader should not perform an equality
comparison (=) but instead a relative comparison (&lt;, &lt;=, >,
or >=).</p>
<p>Because a writer may record a larger value than the actual
video bitrate, a reader should not interpret this as the actual
video bitrate. To determine the current or actual bitrate, the reader
may need to perform an inspection of the video track's sample table.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22513" title="Comments"></a><h4>Comments</h4>
<p>The value of this feature should be deducible from information
found in the sample table. Track edits must be considered in its
calculation. Note that for highly variable bitrate video, the average
rate may not be a typical rate.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22543" title="Maximum Audio Bitrate"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCEHDHF" title="Maximum Audio Bitrate"></a><h3>Maximum Audio Bitrate</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (sound), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'mabr'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> indicating
maximum audio bitrate in bits per second</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22631" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The value is an unsigned 32-bit integer indicating the maximum
audio bitrate in bits per second that must be supported to guarantee
playback of the audio. The actual maximum bitrate may be smaller,
so a reader should not display this as the current bitrate.</p>
<p>Example: 128 kbps = 128000.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22650" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the maximum audio bitrate feature should record
a value that is equal to or greater than the current bitrate for
the sound track. While the value may exceed the actual maximum bit-rate,
the writer should attempt to minimize any over-estimation.</p>
<p>While recording the precise bitrate is preferred, it is not
required. A writer (such as a CE device) may choose instead to record
a constant value so long as that value is greater than or equal
to the bitrate that may be encoded. It is also permitted to record
a value set by the audio encoder during initialization so long as
the value is never exceeded.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22669" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>Apple recommends a sliding average over 1 second calculated
from the sample tables.</p>
<p>If the feature is written for a newly encoded track (as by
a CE device), it is permitted to record a value used to initialize
the audio encoder so long as the value is never exceeded. </p>
<p>If the sound track is edited, and the audio bitrate is not
constant, the maximum audio bitrate must be recalculated. Note that
editing can change the duration of media samples, resulting in non-constant
bitrate audio even when the sound track is encoded using a constant
bitrate encoder. Maximum bitrate may be calculated as a sliding
average over 1 second, based on the sample table. This can be calculated
in the following manner:</p>
<ol class="ol"><li class="li"><p>For each sample, calculate the average 1-second
bitrate; choose the shortest run of samples, including the candidate
sample, that comprise 1 second or more of audio, then divide the
total data size of those samples by their total duration.</p></li>
<li class="li"><p>Choose the maximum value from the list of calculated 1-second
averages.</p></li></ol>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22688" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with its own limits to determine if the content can be played.
The reader should not perform an equality comparison (=) but instead
a relative comparison (&lt;, &lt;=, >, or >=).</p>
<p>Because this value may be an over-estimate of the true maximum
bitrate, the reader should not refuse to play a file on the basis
of this value, although a warning may be appropriate. To determine
the current or actual bitrate, the reader may need to perform an inspection
of the video track's sample table.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22737" title="Average Audio Bitrate"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCDJJGE" title="Average Audio Bitrate"></a><h3>Average Audio Bitrate</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (sound), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'avab'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> indicating
average audio bitrate in bits per second</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22825" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The value is an unsigned 32-bit integer indicating the average
audio bitrate in bits per second.</p>
<p>Example: 128 kbps = 128000.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22844" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the average audio bitrate feature should record
a value that is equal to or greater than the average bitrate for
the sound track, measured across all media samples. A writer (such
as a CE device) may choose to record a constant value so long as
that value is greater than or equal to the average bitrate that
may be encoded. It is also permitted to record a value set by the
audio encoder during initialization so long as the value is never exceeded
on average.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22863" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>Normally, the long-term average: total sample sizes divided
by total sample durations.</p>
<p>If the feature is written for a newly encoded track (as by
a CE device), it is permitted to record a value used to initialize
the audio encoder. If the sound track is edited and the average
video bitrate recalculated, it may be calculated as an overall average
based on the sample table.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22882" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of the average audio bitrate feature value should
compare the recorded value with its own limits to determine if the
content can be played. The reader should not perform an equality
comparison (=) but instead a relative comparison (&lt;, &lt;=, >,
or >=).</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22901" title="Comments"></a><h4>Comments</h4>
<p>The value of this feature should be deducible from information
found in the sample table. Track edits normally need not be considered
in the calculation for constant bitrate audio, but must be considered
for variable bitrate audio or when track or movie segments containing
constant bitrate audio are edited to alter their duration..</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-22931" title="QuickTime Video Codec Type"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCIHDDE" title="QuickTime Video Codec Type"></a><h3>QuickTime Video Codec Type</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'vfmt'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> (a
four-character-code) holding the QuickTime video codec type copied
from the <code>ImageDescription</code> structure’s <code>cType</code> field</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23019" title="Feature Values"></a><h4>Feature
Values</h4>
<p>This is the four-character-code found in a video sample description.</p>
<p>Examples: 'mp4v', 'jpeg'.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23038" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the QuickTime video codec type feature should
record the four-character code corresponding to the QuickTime video
format type or types also recorded in the video track’s sample
descriptions.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000939-CH226-DontLinkElementID_9" title="Note"></a><p><strong>Note:</strong>&nbsp;A writer that
records the QuickTime Video Codec type for the 'mp4v' codec is encouraged
also to write the MPEG-4 Video Profile feature.</p></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23057" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>The feature value is the video codec type read from a QuickTime
ImageDescription’s <code>cType</code> field. If there
are multiple sample descriptions with different video codec types,
multiple video codec type features should be recorded in the profile
atom.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23076" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value by an equality comparison (using =) with the format codes
supported by the reader.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23125" title="QuickTime Audio Codec Type"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCEICGD" title="QuickTime Audio Codec Type"></a><h3>QuickTime Audio Codec Type</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (sound), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'afmt'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> (a
four-character-code) holding the QuickTime audio codec type copied
from <code>SoundDescription</code> structure’s <code>dataFormat</code> field</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23213" title="Feature Values"></a><h4>Feature
Values</h4>
<p>This is the four-character-code found in a sound sample description.</p>
<p>Examples: 'mp4a', 'twos'.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23232" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the QuickTime audio codec type feature should
record the four-character-code corresponding to the QuickTime audio
format type or types also recorded in the sound track’s sample
descriptions.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000939-CH226-DontLinkElementID_10" title="Note"></a><p><strong>Note:</strong>&nbsp;A writer that
records the QuickTime Audio Codec type for the 'mp4a' codec is encouraged
also to write the MPEG-4 Audio Codec feature.</p></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23251" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>The feature value is the audio codec type read from a <code>SoundDescription</code> structure’s <code>dataFormat</code> field.
If there are multiple sample descriptions with different audio codec types, either
all QuickTime Audio Codec Type features must be recorded in the
profile atom or none must be recorded.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23270" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value by an equality comparison (using =) with the format codes
supported by the reader.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23323" title="MPEG-4 Video Profile"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCBCDDA" title="MPEG-4 Video Profile"></a><h3>MPEG-4 Video Profile</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'m4vp'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> where
least significant 8 bits hold the <code>profile_and_level_indication</code> from
the <code>visual_object_sequence</code>,
as defined in specification ISO/IEC 14496-2, retrieved from the
video parameters for the MPEG-4 video codec description. The top
24 bits must be set to 0.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23411" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The least significant 8 bits hold the value. The most significant
24 bits of the feature value should be set to 0.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23430" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the MPEG-4 video profile feature should record
the 8 bits corresponding to the <code>profile_and_level_indication</code> from
the <code>visual_object_sequence</code>,
as defined in specification ISO/IEC 14496-2, found in the video
parameters encoded in the esds of the MPEG-4 video codec sample
description (with QuickTime codec type 'mp4v').</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000939-CH226-DontLinkElementID_11" title="Note"></a><p><strong>Note:</strong>&nbsp;A writer that
records the MPEG-4 video profile feature is encouraged also to write
the QuickTime Video Codec Type feature.</p></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23449" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>The feature value is the <code>profile_and_level_indication</code> from
the <code>visual_object_sequence</code>, as
defined in specification ISO/IEC 14496-2, retrieved from the video
parameters for the MPEG-4 video codec description.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23468" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with the set of profiles and levels supported by the reader.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23487" title="Comments"></a><h4>Comments</h4>
<p>This feature may be present only if MPEG-4 video is used.
 Normally, the video codec type profile entry will also record that
MPEG-4 video is present, unless no codec types are present (when,
for example, an exhaustive list cannot be formed).</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23517" title="MPEG-4 Video Codec"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCGAIAF" title="MPEG-4 Video Codec"></a><h3>MPEG-4 Video Codec</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'mp4v'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> where
the least significant 4 bits holds the <code>visual_object_type </code> as
found in the <code>VisualObject</code> (as
defined in specification ISO/IEC 14496-2, subclause 6.2.2) found
in the esds of the MPEG-4 video codec (QuickTime type 'mp4v') sample
description</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23605" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The least significant 4 bits hold the value. The most significant
28 bits of the feature value should be set to 0.</p>
<p>The list of visual object type constants is defined in specification
ISO/IEC 14496-2, subclause 6.3.2.</p>
<p>Example: Video ID is indicated by the value 1.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23624" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the MPEG-4 Video Codec feature should record the
4 bits corresponding to the <code>visual_object_type</code> found
in the <code>VisualObject</code> within
the <code>ES_descriptor</code>'s video <code>DecoderSpecificConfig</code>.
The most significant 28 bits of the value should be set to 0.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000939-CH226-DontLinkElementID_12" title="Note"></a><p><strong>Note:</strong>&nbsp;A writer that
records the MPEG-4 Video Codec feature is encouraged also to write
the QuickTime Video Codec Type feature.</p></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23643" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>The MPEG-4 video codec is the 4 bits of the <code>visual_object_type</code> found
in the <code>VisualObject</code>. See
ISO/IEC 14496-2, subclause 6.2.2. The <code>VisualObject</code> is
found in the MPEG-4 Elementary Stream Descriptor Atom within the <code>'esds'</code> sample
description atom of the video sample description for the QuickTime video codec
of type 'mp4v'.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23662" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with the set of MPEG-4 video decoders supported by the reader.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23681" title="Comments"></a><h4>Comments</h4>
<p>Because the QuickTime <code>'mp4v'</code> codec
may implement multiple video decoders defined in specification ISO/IEC
14496 in the future, this feature allows the reader to determine
the specific video decoder needed to interpret the video bit-stream. </p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29839" title="MPEG-4 Video Object Type"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCFAFJA" title="MPEG-4 Video Object Type"></a><h3>MPEG-4 Video Object Type</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'m4vo'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> where
the least significant 8 bits hold the <code>video_object_type_indication </code> found
in the <code>VideoObjectLayer</code> (Described in
ISO/IEC 14496-2, subclause 6.2.3). The <code>VideoObjectLayer</code> is
found in the MPEG-4 Elementary Stream Descriptor Atom within the <code>'esds'</code> sample description
atom of the video sample description for the QuickTime video codec
of type <code>'mp4v'</code>.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29935" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The value is a video object type constant that indicates a
set of video tools. The list of video object type constants is defined
in specification ISO/IEC 14496-2, subclause 6.3.3. The least significant
8 bits hold the value. The most significant 24 bits should be set
to 0.</p>
<p>Example: The Simple Object Type video object is indicated
by the value 1.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-30178" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the MPEG-4 Video Object Type feature should record
the 8 bits corresponding to the <code><!--a  -->video_object_type_indication<!--/a--></code> found
in the <code>VideoObjectLayer</code> within
the ES_descriptor’s video <code>DecoderSpecificConfig</code>.
The most significant 24 bits of the value should be set to 0.This
feature should be written only for MPEG-4 video of video object
type 1 (Video ID). If the MPEG-4 video does not use Video ID (1)
for <code>visual_object_type</code>,
the esds will have no <code>VideoObjectLayer</code> and
consequently no <code>video_object_type_indication</code>.
In this case, no MPEG-4 Video Object Type feature should be written.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000939-CH226-DontLinkElementID_13" title="Note"></a><p><strong>Note:</strong>&nbsp;A writer that
records the MPEG-4 Video Object Type feature for encoded video using
the Video ID visual object type is encouraged to write the MPEG-4
Video Codec and MPEG-4 Video Profile features as well.</p></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29997" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>The MPEG-4 video object type is the least significant 8 bits
of the <code>video_object_type_indication </code> found
in the <code>VideoObjectLayer</code>.
See ISO/IEC 14496-2, subclause 6.2.3. The <code>VideoObjecLayer</code> is
found in the MPEG-4 Elementary Stream Descriptor Atom within the <code>'esds'</code> sample
description atom of the video sample description for the QuickTime
video codec of type 'mp4v'.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-30027" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with the set of MPEG-4 video tools supported by the reader.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23905" title="MPEG-4 Audio Codec"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCBCHFH" title="MPEG-4 Audio Codec"></a><h3>MPEG-4 Audio Codec</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (sound), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'mp4a'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> where
least significant 5 bits hold the <code>AudioObjectType</code> as found
in the <code>AudioSpecificInfo</code> (as
defined in specification ISO/IEC 14496-3, subclause 1.6) found in
the esds of the MPEG-4 audio codec (QuickTime type <code>'mp4a'</code>)
sample description</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-23993" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The least significant 5 bits hold the value. The most significant
27 bits of the feature value should be set to 0.</p>
<p>The list of audio object type constants is defined in specification
ISO/IEC 14496-3, subclause 1.5.1.1.</p>
<p>Examples: AAC LC is indicated by the value 2, CELP is indicated
by the value 8.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24012" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the MPEG-4 Audio Codec feature should record the
5 bits corresponding to the <code>AudioObjectType</code> found
in the <code>ES_descriptor</code>'s
audio <code>DecoderSpecificConfig</code>.
The most significant 27 bits of the value should be set to 0.</p>
<div class="notebox"><a name="//apple_ref/doc/uid/TP40000939-CH226-DontLinkElementID_14" title="Note"></a><p><strong>Note:</strong>&nbsp;A writer that
records the MPEG-4 Audio Codec feature is encouraged also to write
the QuickTime Audio Codec Type feature.</p></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24031" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>The MPEG-4 audio codec value is the 5 bits of the <code>AudioObjectType</code> found
in the <code>AudioSpecificInfo</code> (a <code>DecoderSpecificInfo</code>).
See specification ISO/IEC 14496, subclause 1.6. The <code>AudioSpecificInfo</code> is
found in the MPEG-4 Elementary Stream Descriptor Atom within the <code>siDecompressionParam</code> atom
of the audio sample description for the QuickTime audio codec of
type <code>'mp4a'</code>.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24050" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with the set of MPEG-4 audio decoders supported by the reader.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29404" title="Comments"></a><h4>Comments</h4>
<p>Because the QuickTime <code>'mp4a'</code> codec
may implement multiple audio decoders defined in specification ISO/IEC
14496 in the future, this feature allows the reader to determine
the specific audio decoder needed to interpret the audio bit stream.
The MPEG-4 Audio Codec feature should be present only if the <code>'mp4a'</code> audio
codec is used in a sound track.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29425" title="Maximum Video Size in a Movie"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCIHHIJ" title="Maximum Video Size in a Movie"></a><h3>Maximum Video Size in a Movie</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'mvsz'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>A 32-bit packed structure holding width and height of
the largest bounds needed to display the movie</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28227" title="Feature Values"></a><h4>Feature
Values</h4>
<p>A packed structure in a 32-bit value:</p>
<div class="codesample"><table><tr><td scope="row"><pre>struct {<span></span></pre></td></tr><tr><td scope="row"><pre>    unsigned integer(16) width;<span></span></pre></td></tr><tr><td scope="row"><pre>    unsigned integer(16) height;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>
<p>In big-endian order, the top 16 bits correspond to the width.
The lower 16 bits correspond to the height.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28274" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Maximum Movie Video Size feature should record
a value that is equal to or greater than the display size needed
by the movie—the actual width and height needed to display the
movie at its normal size, taking into account all matrices (all
track matrices and the movie matrix). </p>
<p>A writer (such as a CE device) may choose to record a constant
size based upon its current recording mode even if the actual size
recorded in the movie is smaller.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28293" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>This value is calculated by examining the dimensions of all
visual tracks and computing the maximum combined dimensions, including
the effect of track matrices and the movie matrix. For example,
if two video tracks play side-by-side in the movie, and the tracks
and movie all use the identity matrix, this value will be the largest
of the two tracks’ heights and their combined width.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28312" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with its own video size limits.</p>
<p>The reader should not interpret the value of this feature
as the current video size. To determine the current video size,
the reader should use the dimensions of all currently displaying
video tracks, their matrices, and the movie matrix.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28331" title="Comments"></a><h4>Comments</h4>
<p>The width and height correspond to the maximum visual area
needed to display the movie.</p>
<p>The summarized width and height should take into account all
components of all track matrices and the movie matrix. The goal
is to understand the maximum contribution of all tracks to the movie’s
bounds.</p>
<p>For the case where there is a single video track with an identity
track matrix, the movie’s maximum video size feature would typically
have the same value as the track’s maximum video size feature.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28369" title="Maximum Video Size in a Track"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCIJDIA" title="Maximum Video Size in a Track"></a><h3>Maximum Video Size in a Track</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'tvsz'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>A 32-bit packed structure holding width and height of
the largest picture buffer needed for a video track.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28453" title="Feature Values"></a><h4>Feature
Values</h4>
<p>A packed structure in a 32-bit value:</p>
<div class="codesample"><table><tr><td scope="row"><pre>struct {<span></span></pre></td></tr><tr><td scope="row"><pre>    unsigned integer(16) width;<span></span></pre></td></tr><tr><td scope="row"><pre>    unsigned integer(16) height;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>
<p>In big-endian order, the top 16 bits correspond to the width.
The lower 16 bits correspond to the height.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28500" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Maximum Track Video Size feature should record
a value that is equal to or greater than the largest height and
width of any sample description in the video track. This does not
include the effect of any scaling or offset applied by the track
matrix and may not be the same as the track height and track width.</p>
<p>A writer (such as a CE device) may choose to record a constant
size based upon its current recording mode even if the actual size
recorded in the track is smaller.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28741" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>Examine all sample descriptions for the track, and use the
maximum width and maximum height found in any sample. The maximum
width and maximum height may come from independent sample descriptions.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28760" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with its own image buffer limits.</p>
<p>The reader should not interpret the value of this feature
as the current video size. To determine the current video size,
the reader should use the dimensions of all currently displaying
video tracks, their matrices, and the movie matrix.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-28819" title="Comments"></a><h4>Comments</h4>
<p>The width and height correspond to the largest image buffer
dimensions needed for a visual track. When present in a movie-level
profile, these atoms document the maximum video size found in each
of the movie’s tracks.</p>
<p>The summarized width and height do not take into account any
scaling or translation caused by the track or movie matrices, and
are not necessarily the same as the track height and width.</p>
<p>For the case where there is a single video track with an identity
track and matrix and an identity movie matrix, the movie’s maximum
video size feature would have the same value as the track’s feature.</p>
<div class="warningbox"><img src="../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40000939-CH226-DontLinkElementID_15" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;

Use of the "clean aperture" sample description extension
does not affect the value of the track visual size, as the picture
buffer is needed immediately after decoding, prior to any clean aperture
clipping.</p><p></p><div class="clear"></div></div>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24293" title="Maximum Video Frame Rate in a Single Track"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCDBDFF" title="Maximum Video Frame Rate in a Single Track"></a><h3>Maximum Video Frame Rate in a Single Track</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'vfps'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>An unsigned fixed-point (16.16) number holding the maximum
video frame rate</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24381" title="Feature Values"></a><h4>Feature
Values</h4>
<p>This is an unsigned fixed-point (16.16) number holding the maximum video
frame rate. The integer portion of the number can range from 0 to
65535.</p>
<p>Examples: 25 fps = 0x00190000; 24 fps = 0x00180000; 29.97
= 0x001DF853 (close approximation of a 30000/1001 ratio). The value
may be rounded up to the nearest integer.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24400" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Maximum Video Frame Rate feature should record
a 16.16 fixed-point value that is equal to or greater than the current
video frame rate. A writer (such as a CE device) may choose to record
a constant for the feature based on its current recording mode,
even if the actual frame rate is less.</p>
<p>A writer of a new video track (such as a CE device recorder)
may set the maximum frame rate feature value to a value set during
video encoder initialization, so long as this frame rate is never
exceeded.</p>
<p>If the current calculated frame rate is fractional (such as
22.3 fps), a writer may choose to round the value up to the nearest
integer value (such as 23.0 fps for 22.3 fps).</p>
<p>A writer calculating the video frame rate using the video
track’s sample table should not consider the first or the last
sample duration if they differ from the other sample durations. The
reason for this is that captured movie files often have longer or
shorter first and last sample durations. By not considering them
in the calculation, a more accurate calculation is achieved.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24419" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>This feature value may be calculated as the inverse of the
smallest sample duration in the video track or tracks.</p>
<p>If the value is written for a newly recorded video track it
may be a value established during initialization of the video encoder,
so long as the frame rate is not exceeded.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24438" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with its own video frame rate limits. It should not expect
exact values.</p>
<p>The reader should not interpret the value of this feature
as the current frame rate. To determine the current frame rate,
the reader should use the video track’s sample table.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24457" title="Comments"></a><h4>Comments</h4>
<p>A writer may choose to round up any fractional value of the fixed-point
number to the nearest 16-bit integer leaving the lower 16 bits of
the Fixed value set to 0. So, in the case of the 29.97 approximation
of 0x001DF853, the writer could round this up to 0x001E0000 (which
equals 30).</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29570" title="Average Video Frame Rate in a Single Track"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCJEIGF" title="Average Video Frame Rate in a Single Track"></a><h3>Average Video Frame Rate in a Single Track</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'tafr'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>An unsigned fixed-point (16.16) number holding the average
video frame rate</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29654" title="Feature Values"></a><h4>Feature
Values</h4>
<p>This is an unsigned fixed-point (16.16) number holding the
average video frame rate. The integer portion of the number can
range from 0 to 65535.</p>
<p>Examples: 25 fps = 0x00190000; 24 fps = 0x00180000; 29.97
= 0x001DF853 (close approximation of a 30000/1001 ratio). The value
may be rounded up to the nearest integer.</p>
<p>When present in a movie-level profile, these atoms document
the average video frame rate of each track in the movie.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29673" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Average Video Frame Rate feature should record
a 16.16 fixed-point value that is equal to or greater than the average
video frame rate. A writer (such as a CE device) may choose to record
a constant for the feature based on its current recording mode,
even if the actual frame rate is less.</p>
<p>A writer of a new video track (such as a CE device recorder)
may set the average frame rate feature value to a value set during
video encoder initialization, so long as this frame rate is not
exceeded by the actual average, as determined by the feature value
algorithm described below.</p>
<p>If the average calculated frame rate is fractional (such as
22.3 fps), a writer may choose to round the value up to the nearest
integer value (such as 23.0 fps for 22.3 fps).</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29702" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>This feature value is calculated by dividing the the total
number of frames (samples) by the duration of the track. It is permissible
to omit the first and last frames from this calculation, as they
may have significantly different duration than the average.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29721" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should understand that each
frame is a video sample with its own independent and explicit duration.
While it is possible for all frames to have the same duration, it
is equally possible for the duration of any frame to be radically
different from any other. Therefore, the average frame rate may
not always be meaningful information.</p>
<p>The reader should not interpret the value of this feature
as the current frame rate. To determine the current frame rate,
the reader should use the video track’s sample table.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-29740" title="Comments"></a><h4>Comments</h4>
<p>A writer may choose to round up any fractional value of the fixed-point
number to the nearest 16-bit integer leaving the lower 16 bits of
the Fixed value set to 0. So, in the case of the 29.97 approximation
of 0x001DF853, the writer could round this up to 0x001E0000 (which
equals 30).</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24487" title="Video Variable Frame Rate Indication"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCJFGAI" title="Video Variable Frame Rate Indication"></a><h3>Video Variable Frame Rate Indication</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (video), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'vvfp'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> holding
the value 0 if the frame rate is constant or the value 1 if the
frame durations vary</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24575" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The feature value holds one of the following two values: 0
if all video samples have the same display duration, or 1 if any
video samples vary in duration.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24594" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Video Variable Frame Rate Indication feature
should compare the video track sample durations. If all considered
durations have the same value, the value 0 indicating constant frame
rate should be recorded. If any durations differ, the value 1 should
be recorded for the feature. No other value should be recorded.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24613" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>If the Time to Sample table records a constant duration for
all samples, then record 0, else record 1.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24632" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should only expect the values
0 or 1.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24681" title="Audio Sample Rate for a Sample Entry"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCEAADI" title="Audio Sample Rate for a Sample Entry"></a><h3>Audio Sample Rate for a Sample Entry</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (sound), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'ausr'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> holding
the audio sample rate in units per second (for example, 44100 for
44.1 kHz)</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24769" title="Feature Values"></a><h4>Feature
Values</h4>
<p>This feature value is an unsigned 32-bit integer holding the
audio sample rate in units per seconds (cycles per second). The
value should be rounded up to the nearest integer if it has a fractional
portion.</p>
<p>Examples: 24 kHz = 24000, 44.1 kHz = 44100.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24788" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Audio Sample Rate feature should record the
integer portion (rounded up if there is a fractional portion) of
the audio sample rate found in a sound track’s <code>SoundDescription</code> structure.</p>
<p>If multiple audio sample rates are used in the movie, then
either all must recorded in the profile atom, or none must be recorded.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24807" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>This is the integer portion of the sample rate from a QuickTime
audio sample description (rounded up if there is a fractional portion). If
the sample rate is greater than 64 kHz, the integer portion can
be recorded here.</p>
<p>If a sample rate has a fractional portion, the writer should
round up to the nearest integer. So, the 22254.54545 value that
may occur in QuickTime audio as a Fixed value represented as 0x56EE8BA3
can be recorded as 22255.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-24826" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should compare the recorded
value with its own audio sample rate limits. If the reader only
supports discrete values (such as 44100), it can perform equality
comparisons (=). If the reader supports ranges of audio sample rates (such
as all rates less than or equal to 32000), the reader can perform
relative comparisons (&lt;, &lt;=, >, or >=).</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26676" title="Audio Variable Bitrate Indication"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCGHDHE" title="Audio Variable Bitrate Indication"></a><h3>Audio Variable Bitrate Indication</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (sound), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'avbr'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> holding
the value 0 if the audio is constant bitrate or 1 if the audio is
variable bitrate</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26764" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The feature value holds one of the following two values: 0
if the audio is constant bitrate, or 1 if the audio is variable
bitrate.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26778" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Audio Variable Bitrate Indication feature
should determine if the audio frames are constant or variable bitrate
in nature and record either 0 or 1, respectively. </p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26792" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>Consult the audio sample descriptions. If the <code><!--a  -->compressionID<!--/a--></code> field
in the sample descriptions is 0 or -1, then the audio is constant
bitrate.  If the field is -2, then the same algorithm as for video
applies:  if all the samples have both constant duration and constant size,
then the audio is constant bit-rate;  otherwise is it variable.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26806" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>A reader of this feature code should only expect the values
0 or 1.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26827" title="Audio Channel Count"></a><a name="//apple_ref/doc/uid/TP40000939-CH226-BBCDGHAJ" title="Audio Channel Count"></a><h3>Audio Channel Count</h3>
<dl class="termdef">	<dt>Containing profile
atom</dt>
<dd><p>Track (sound), movie</p></dd>
<dt><code>part-ID</code></dt>
<dd><p>0x20202020 (universal feature)</p></dd>
<dt><code>feature-code</code></dt>
<dd><p><code>'achc'</code></p></dd>
<dt><code>feature-value</code></dt>
<dd><p>Unsigned <code>int(32)</code> holding
the number of audio channels</p></dd></dl>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26915" title="Feature Values"></a><h4>Feature
Values</h4>
<p>The feature value is an unsigned 32-bit integer holding the
number of audio channels encoded by a Sound Track in the movie.
For monaural, the value would be 1. For stereo, the value would
be 2. Note that the audio channel count is a standard field in the
sound sample description.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26929" title="Writer Responsibilities"></a><h4>Writer
Responsibilities</h4>
<p>A writer of the Audio Channel Count feature should determine
the number of audio channels encoded in the sound track or tracks
of the movie. </p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26943" title="Feature Value Algorithm"></a><h4>Feature
Value Algorithm</h4>
<p>Consult the audio sample descriptions.</p>
<a name="//apple_ref/doc/uid/TP40000939-CH226-26957" title="Reader Responsibilities"></a><h4>Reader
Responsibilities</h4>
<p>The reader should be prepared to either play the specified
number of channels or to map the audio to the number of channels
the reader supports (for example, mixing down stereo sound for a
monaural speaker).</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../QTFFAppenE/QTFFAppenE.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevHistory/QTFFrevision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-09-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/QTFF/QTFFAppenF/QTFFAppenF.html%3Fid%3DTP40000939-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/QTFF/QTFFAppenF/QTFFAppenF.html%3Fid%3DTP40000939-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/QTFF/QTFFAppenF/QTFFAppenF.html%3Fid%3DTP40000939-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>