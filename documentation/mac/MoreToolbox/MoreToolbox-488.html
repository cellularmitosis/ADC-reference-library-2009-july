<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Desktop Parameter Block (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING488></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-487.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-489.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-483.html"><B>Chapter 9 - Desktop Manager</B></A> / <A HREF="MoreToolbox-486.html"><B>Desktop Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-487.html"><B>Data Structure</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING488-0></A>
<H3><A NAME=MARKER-9-89></A>The Desktop Parameter Block</H3>
 <A NAME=MARKER-14-90></A>The desktop database functions use the desktop parameter block, a data structure of type <CODE>DTPBRec</CODE>:<A NAME=MARKER-2-91></A><A NAME=MARKER-2-92></A><P>
<PRE>
TYPE  DTPBRec =
      RECORD
         qLink:         QElemPtr;   {next queue entry}
         qType:         Integer;    {queue type}
         ioTrap:        Integer;    {routine trap}
         ioCmdAddr:     Ptr;        {routine address}
         ioCompletion:  ProcPtr;    {completion routine}
         ioResult:      OSErr;      {result code}
         ioNamePtr:     StringPtr;  {file, directory, or }
                                    { volume name}
         ioVRefNum:     Integer;    {volume reference number}
         ioDTRefNum:    Integer;    {desktop database reference }
                                    { number}
         ioIndex:       Integer;    {index into icon list}
         ioTagInfo:     LongInt;    {tag information}
         ioDTBuffer:    Ptr;        {data buffer}
         ioDTReqCount:  LongInt;    {requested length of data}
         ioDTActCount:  LongInt;    {actual length of data}
         filler1:       SignedByte; {unused}
         ioIconType:    SignedByte; {icon type}
         filler2:       Integer;    {unused}
         ioDirID:       LongInt;    {parent directory ID}
         ioFileCreator: OSType;     {file creator}
         ioFileType:    OSType;     {file type}
         ioFiller3:     LongInt;    {unused}
         ioDTLgLen:     LongInt;    {logical length of desktop }
                                    { database}
         ioDTPyLen:     LongInt;    {physical length of desktop }
                                    { database}
         ioFiller4:                 {unused}
                        ARRAY[1..14] OF Integer;
         ioAPPLParID:   LongInt     {parent directory ID of }
                                    { application}
      END;
      DTPBPtr = ^DTPBRec;           {pointer to desktop }
                                    { parameter block}
</PRE>
 For a description of the standard fields of a parameter block (<CODE>qLink</CODE>, <CODE>qType</CODE>, <CODE>ioTrap</CODE>, <CODE>ioCmdAddr</CODE>, <CODE>ioCompletion</CODE>, and <CODE>ioResult</CODE>), see the chapter "File Manager" in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I>. For other fields of the desktop parameter block, see the relevant routine description provided in the next section.<A NAME=MARKER-2-93></A><A NAME=MARKER-2-94></A><A NAME=MARKER-2-95></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-487.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-489.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
