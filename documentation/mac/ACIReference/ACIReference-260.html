<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>CWNewLinkProfile(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING260></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-259.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-261.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-218.html"><B>ColorSync Manager Functions</B></A><BR><DL><DD><A HREF="ACIReference-257.html"><B>Matching Colors Using Low-Level Functions Without QuickDraw</B></A> / <A HREF="ACIReference-204.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING260-0></A>
<H3><A NAME=MARKER-11-395></A><A NAME=MARKER-9-396></A>CWNewLinkProfile</H3>
 Creates a device-linked profile based on the specified set of profiles.<P>
<PRE>
pascal CMError CWNewLinkProfile (
CMProfileRef *prof,
const CMProfileLocation *targetLocation,
CMConcatProfileSet *profileSet);
</PRE>
<DL>
<DT><CODE>prof</CODE>
<DD> A pointer to a profile reference <A HREF=ACIReference-210.html#MARKER-9-299>(page 3-63)</A>. On output, points to the new device-linked profile. 
<DT><CODE>targetLocation</CODE>
<DD> On output, the location specification for the resulting profile. A device-linked profile cannot be a temporary profile: that is, it cannot have a location type of <CODE>cmNoProfileBase</CODE>. 
<DT><CODE>profileSet</CODE>
<DD> On output, an array of profiles describing the processing to carry out. The array is in processing order--source through destination. For a description of the <CODE>CMConcatProfileSet</CODE> data type, see <A HREF=ACIReference-188.html#MARKER-9-246>"Profile Header Structure for ColorSync 1.0" (page 3-46)</A>.
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-174)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING260-7></A>
<H5>DISCUSSION</H5>
 You can use this function to create a new single profile containing a set of profiles and pass the device-linked profile to the <CODE>CWConcatColorWorld</CODE> function <A HREF=ACIReference-259.html#MARKER-9-394>(page 3-110)</A> instead of specifying each profile in an array. A device-linked profile provides a means of storing in concatenated format a series of device profiles and nondevice profiles that are used repeatedly in the same sequence.<P>
 The zero-based <CODE>keyIndex</CODE> field of the <CODE>CMConcatProfileSet</CODE> data structure, described in <A HREF=ACIReference-188.html#MARKER-9-246>"Profile Header Structure for ColorSync 1.0" (page 3-46)</A>, specifies the index of the profile within the device-linked profile whose preferred CMM is used for the entire color-matching or color-checking session. The profile header's <CODE>CMMType</CODE> field specifies the CMM. This CMM will fetch the profile elements necessary for the session.<P>
 The quality flag setting--indicating normal mode, draft mode, or best mode--specified by the first profile prevails for the entire session; the quality flags of profiles that follow in the sequence are ignored. The quality flag setting is stored in the <CODE>flag</CODE> field of the profile header. See <A HREF=ACIReference-187.html#MARKER-9-242>"Profile Header Structure for ColorSync 2.x" (page 3-43)</A> for more information on the use of flags.<P>
 The rendering intent specified by the first profile is used to color match to the second profile, the rendering intent specified by the second profile is used to color match to the third profile, and so on through the series of concatenated profiles. <P>
 The following rules govern the content and use of a device-linked profile:<P>
<UL>
<LI>The first and last profiles you specify in the profiles array for a device-linked profile must be device profiles.
<LI>You cannot specify a named color profile.
<LI>You cannot include another device-linked profile in the series of profiles you specify in the profiles array. 
<LI>The only way to use a device-linked profile is to pass it to the <CODE>CWConcatColorWorld</CODE> function as the sole profile specified in the <CODE>profileSet</CODE> array.
<LI>You cannot embed a device-linked profile in an image. 
<LI>You cannot specify <CODE>NULL</CODE> to indicate the system profile. <P>
</UL>
 When your application is finished with the device-linked profile, it must close the profile with the <CODE>CMCloseProfile</CODE> function <A HREF=ACIReference-221.html#MARKER-9-323>(page 3-71)</A>. <P>
 This function maintains privately all the profile information required by the color world for color-matching and color-checking sessions. Therefore, you should call the <CODE>CMCloseProfile</CODE> function for each profile used to build a device-linked profile to dispose of their references after executing the <CODE>CWNewLinkProfile</CODE> function. <P>
 For a brief description of a color world, see <A HREF=ACIReference-257.html#MARKER-9-388>"Matching Colors Using Low-Level Functions Without QuickDraw" (page 3-107)</A>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-259.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-261.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
