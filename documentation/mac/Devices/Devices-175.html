<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SCSIExecIO(IM: D)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING175></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="Devices-174.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-176.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Devices-2.html"><B>Devices</B></A> / <BR><DD><A HREF="Devices-151.html"><B>Chapter 4 - SCSI Manager 4.3</B></A> / <A HREF="Devices-156.html"><B>SCSI Manager 4.3 Reference</B></A><BR><DL><DD><A HREF="Devices-171.html"><B>SCSI Manager 4.3 Functions</B></A> / <A HREF="Devices-172.html"><B>Client Functions</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING175-0></A>
<H3>SCSIExecIO</H3>
 <A NAME=MARKER-2-47></A>You use the <CODE>SCSIExecIO</CODE> function to perform SCSI I/O operations. <P>
<PRE>
OSErr SCSIAction(SCSIExecIOPB *scsiPB);
</PRE>
<DL>
<DT><CODE>scsiPB</CODE>
<DD> A pointer to a SCSI I/O parameter block, which is described on <A HREF=Devices-163.html#MARKER-9-86>page 4-23</A>.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD>--><TD>scsiPBLength<TD>UInt16<TD>The size of the parameter block. This value must be equal to or greater than the <CODE>scsiIOpbSize</CODE> for the SIM. <TR>
<TD>--><TD>scsiFunctionCode<TD>UInt8<TD>The <CODE>SCSIExecIO</CODE> function selector code (0x01).<TR>
<TD><symbol><--<Default \xB6 Font><EM></EM><TD>scsiResult<TD>OSErr<TD>The returned result code.<TR>
<TD>--><TD>scsiDevice<TD>DeviceIdent<TD>The device identification record.<TR>
<TD>--><TD>scsiCompletion<TD>CallbackProc<TD>A pointer to a completion routine. <BR>If this field is set to <CODE>nil</CODE>, the function is executed synchronously.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiFlags<TD>UInt32<TD>Flags indicating the transfer direction and any special handling required for the request. See <A HREF=Devices-162.html#MARKER-9-82>page 4-22</A> for descriptions of these flags.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiDriverStorage<TD>UInt8 *<TD>Optional pointer to the device driver's private storage.<TR>
<TD><symbol><--<Default \xB6 Font><EM></EM><TD>scsiResultFlags<TD>UInt16<TD><CODE></CODE>Output flags that modify the <CODE>scsiResult</CODE> field. See <A HREF=Devices-163.html#MARKER-9-88>page 4-24</A>.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiDataPtr<TD>UInt8 *<TD>A pointer to a data buffer or scatter/gather list.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiDataLength<TD>UInt32<TD>The amount of data to be transferred.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiSensePtr<TD>UInt8 *<TD>A pointer to the autosense buffer.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiSenseLength<TD>UInt8<TD>The size of the autosense buffer.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiCDBLength<TD>UInt8<TD>The size of the CDB.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiSGListCount<TD>UInt16<TD>The number of elements in the scatter/gather list.<TR>
<TD><symbol><--<Default \xB6 Font><EM></EM><TD>scsiSCSIstatus<TD>UInt8<TD>Status returned by the SCSI device.<TR>
<TD><symbol><--<Default \xB6 Font><EM></EM><TD>scsiSenseResidual<TD>SInt8<TD>The autosense residual length.<TR>
<TD><symbol><--<Default \xB6 Font><EM></EM><TD>scsiDataResidual<TD>SInt32<TD>The data transfer residual length.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiCDB<TD>CDB<TD>The CDB, or a pointer to the CDB, depending on the setting of the <CODE>scsiCDBIsPointer</CODE> flag.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiTimeout<TD>SInt32<TD>The SCSI bus timeout period.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiIOFlags<TD>UInt16<TD>Additional I/O flags. See <A HREF=Devices-163.html#MARKER-9-103>page 4-25</A>.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiSelectTimeout<TD>UInt16<TD>Optional <CODE>SELECT</CODE> timeout value.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiDataType<TD>UInt8<TD>The data type pointed to by the <CODE>scsiDataPtr</CODE> field. See <A HREF=Devices-163.html#MARKER-9-107>page 4-27</A>.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiTransferType<TD>UInt8<TD>The transfer mode (polled or blind). See <A HREF=Devices-163.html#MARKER-9-109>page 4-27</A>.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiHandshake[8]<TD>UInt16<TD>Handshaking instructions.<TR>
<TD><symbol>--><Default \xB6 Font><EM></EM><TD>scsiCommandLink<TD>SCSI_IO *<TD>Optional pointer to a linked CDB.<TR>
<TD>&nbsp;<TD>&nbsp;<TD>&nbsp;<TD>&nbsp;</TABLE>
</B><P>
<A NAME=HEADING175-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>SCSIExecIO</CODE> function sends a request to a SIM to carry out a SCSI transaction. The SIM performs all the actions necessary to fulfill the request, including arbitrating for the bus, selecting the device, sending the CDB, receiving or sending data, performing disconnect operations, and so on. The parameter block contains all the information required for the SIM to complete the SCSI request, including issuing a <CODE>REQUEST SENSE</CODE> command if necessary.<P>
<A NAME=HEADING175-7></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>scsiRequestInProgress<TD>1<TD>Parameter block request is in progress<TR>
<TD>scsiCDBLengthInvalid<TD>-7863<TD>The CDB length supplied is not supported by this SIM; typically this means it was too big<TR>
<TD>scsiTransferTypeInvalid<TD>-7864<TD>The <CODE>scsiTransferType</CODE> requested is not supported by this SIM<TR>
<TD>scsiDataTypeInvalid<TD>-7865<TD>SIM does not support the requested <CODE>scsiDataType</CODE><TR>
<TD>scsiIDInvalid<TD>-7866<TD>The initiator ID is invalid<TR>
<TD>scsiLUNInvalid<TD>-7867<TD>The logical unit number is invalid<TR>
<TD>scsiTIDInvalid<TD>-7868<TD>The target ID is invalid<TR>
<TD>scsiBusInvalid<TD>-7869<TD>The bus ID is invalid<TR>
<TD>scsiRequestInvalid<TD>-7870<TD>The parameter block request is invalid<TR>
<TD>scsiFunctionNotAvailable<TD>-7871<TD>The requested function is not supported by this SIM<TR>
<TD>scsiPBLengthError<TD>-7872<TD>The parameter block length supplied was too small for this SIM<TR>
<TD>scsiQLinkInvalid<TD>-7881<TD>The <CODE>qLink</CODE> field was not 0<TR>
<TD>scsiNoSuchXref<TD>-7882<TD>No driver has been cross-referenced with this device<TR>
<TD>scsiDeviceConflict<TD>-7883<TD>Attempt to register more than one driver to a device<TR>
<TD>scsiNoHBA<TD>-7884<TD>No HBA detected<TR>
<TD>scsiDeviceNotThere<TD>-7885<TD>SCSI device not installed or available<TR>
<TD>scsiProvideFail<TD>-7886<TD>Unable to provide the requested service<TR>
<TD>scsiBusy<TD>-7887<TD>SCSI subsystem is busy<TR>
<TD>scsiTooManyBuses<TD>-7888<TD>SIM registration failed because the XPT registry is full<TR>
<TD>scsiCDBReceived<TD>-7910<TD>The SCSI CDB was received<TR>
<TD>scsiNoNexus<TD>-7911<TD>Nexus is not established<TR>
<TD>scsiTerminated<TD>-7912<TD>Parameter block request terminated by the host<TR>
<TD>scsiBDRsent<TD>-7913<TD>A SCSI bus device reset (BDR) message was sent to the target<TR>
<TD>scsiWrongDirection<TD>-7915<TD>Data phase was in an unexpected direction<TR>
<TD>scsiSequenceFail<TD>-7916<TD>Target bus phase sequence failure<TR>
<TD>scsiUnexpectedBusFree<TD>-7917<TD>Unexpected bus free phase<TR>
<TD>scsiDataRunError<TD>-7918<TD>Data overrun/underrun error<TR>
<TD>scsiAutosenseFailed<TD>-7920<TD>Automatic <CODE>REQUEST SENSE</CODE> command failed<TR>
<TD>scsiParityError<TD>-7921<TD>An uncorrectable parity error occurred<TR>
<TD>scsiSCSIBusReset<TD>-7922<TD>Execution of this parameter block was halted because of a SCSI bus reset<TR>
<TD>scsiMessageRejectReceived<TD>-7923<TD><CODE>REJECT</CODE> message received<TR>
<TD>scsiIdentifyMessageRejected<TD>-7924<TD>The target issued a <CODE>REJECT</CODE> message in response to the <CODE>IDENTIFY</CODE> message; the LUN probably does not exist<TR>
<TD>scsiCommandTimeout<TD>-7925<TD>The timeout value for this parameter block was exceeded and the parameter block was aborted<TR>
<TD>scsiSelectTimeout<TD>-7926<TD>Target selection timeout<TR>
<TD>scsiUnableToTerminate<TD>-7927<TD>Unable to terminate I/O parameter block request<TR>
<TD>scsiNonZeroStatus<TD>-7932<TD>The target returned non-zero status upon completion of the request<TR>
<TD>scsiUnableToAbort<TD>-7933<TD>Unable to abort parameter block request<TR>
<TD>scsiRequestAborted<TD>-7934<TD>Parameter block request aborted by the host <A NAME=MARKER-2-288></A></TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Devices-174.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-176.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Devices-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>  
