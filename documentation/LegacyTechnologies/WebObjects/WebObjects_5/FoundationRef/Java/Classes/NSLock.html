<html>	<head>		<title>NSLock (Java) </title>	</head>	<body bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="CIEBIAHG"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/NSLock">NSLock</a></font></h1>		<br>		<blockquote>			<dl>				<dt><b>Inherits from: </b>				<dd>Object 			</dl>		</blockquote>		<blockquote>			<dl>				<dt><b>Implements: </b>				<dd>NSLocking 			</dl>		</blockquote>		<blockquote>			<dl>				<dt><b>Package: </b>				<dd>com.webobjects.foundation 			</dl>		</blockquote>		<hr size="4">		<br>		<h2>Class Description</h2>		<hr alt="">		<p>An NSLock object is used to coordinate the operation of multiple threads of execution within the same application. An NSLock object can be used to mediate access to an application's global data or to protect a critical section of code, allowing it to run atomically.</p>		<p>An NSLock object represents a lock that can be acquired by only a single thread at a time. While one thread holds the lock, any other thread is prevented from doing so until the owner relinquishes the lock. An application can have multiple NSLock objects, each protecting different sections of code. It's safest to create all of the locks before the application becomes multi-threaded, to avoid race conditions. If you want to create additional locks after the application becomes multi-threaded, you should create the new lock inside a critical code section that is itself protected by an existing lock.</p>		<p>The basic interface to NSLock is declared by the <a href="../Interfaces/NSLocking.html#CHCJAGIE">NSLocking</a> interface, which defines the <a href="../Interfaces/NSLocking.html#//apple_ref/java/intfm/NSLocking/lock">lock</a> and <a href="../Interfaces/NSLocking.html#//apple_ref/java/intfm/NSLocking/unlock">unlock</a> methods. To this base, NSLock adds the <a href="#//apple_ref/java/instm/NSLock/tryLock">tryLock</a> methods. Whereas the <a href="../Interfaces/NSLocking.html#//apple_ref/java/intfm/NSLocking/lock">lock</a> method declared in the interface doesn't return until it is successful, the methods declared in this class add more flexible means of acquiring a lock.</p>		<p>An NSLock could be used to coordinate the updating of a visual display shared by a number of threads involved in a single calculation:</p>		<blockquote>			<pre>boolean moreToDo = true;NSLock myLock = new NSLock();...while (moreToDo) {    /* Do another increment of calculation */    /* until there's no more to do. */    if (myLock.tryLock()) {        /* Update display used by all threads. */        myLock.unlock();    }}</pre>		</blockquote>		<br>		<p>The NSLock, NSMultiReaderLock, and NSRecursiveLock classes all adopt the NSLocking protocol and offer various additional features and performance characteristics. See the NSMultiReaderLock and NSRecursiveLock class descriptions for more information.</p>		<br>		<br>		<br>		<h2>Method Types</h2>		<hr alt="">		<blockquote>			<dl>				<dt>Constructors 				<dl>					<dd><a href="#//apple_ref/java/instm/NSLock/NSLock">NSLock</a> 				</dl>			</dl>			<dl>				<dt>Instance methods 				<dl>					<dd><a href="#//apple_ref/java/instm/NSLock/lock">lock</a> 					<dd><a href="#//apple_ref/java/instm/NSLock/lockBeforeDate">lockBeforeDate</a> 					<dd><a href="#//apple_ref/java/instm/NSLock/toString">toString</a> 					<dd><a href="#//apple_ref/java/instm/NSLock/tryLock">tryLock</a> 					<dd><a href="#//apple_ref/java/instm/NSLock/unlock">unlock</a> 				</dl>			</dl>		</blockquote>		<br>		<br>		<h2>Constructors</h2>		<hr alt="">		<a name="CJFFDBGH"></a><br>		<h3><a name="//apple_ref/java/instm/NSLock/NSLock">NSLock</a></h3>		<p><code>public <b>NSLock</b>()</code></p>		Creates an NSLock object. 		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="lock_NSLock"></a><br>		<h3><a name="//apple_ref/java/instm/NSLock/lock">lock</a></h3>		<p><code>public synchronized void <b>lock</b>()</code></p>		Conformance to <a href="../Interfaces/NSLocking.html#CHCJAGIE">NSLocking</a>. See the method description of <a href="../Interfaces/NSLocking.html#//apple_ref/java/intfm/NSLocking/lock">lock</a> in the interface specification for NSLocking. 		<hr width="25%" align="LEFT">		<a name="lockUntilDate_NSLock"></a><br>		<h3><a name="//apple_ref/java/instm/NSLock/lockBeforeDate">lockBeforeDate</a></h3>		<p><code>public boolean <b>lockBeforeDate</b>(NSTimestamp <em>timestamp</em>)</code></p>		This method is deprecated. Use <code>tryLock(NSTimestamp timestamp)</code> instead. 		<hr width="25%" align="LEFT">		<a name="toString_NSLock"></a><br>		<h3><a name="//apple_ref/java/instm/NSLock/toString">toString</a></h3>		<p><code>public String <b>toString</b>()</code></p>		Returns a string representation of the receiver indicating whether or not the lock is taken. 		<hr width="25%" align="LEFT">		<a name="tryLock_NSLock"></a><br>		<h3><a name="//apple_ref/java/instm/NSLock/tryLock">tryLock</a></h3>		<p><code>public synchronized boolean <b>tryLock</b>()</code></p>		Attempts to acquire a lock. Returns immediately, with a value of <code>true</code> if successful and <code>false</code> otherwise. 		<p><code>public synchronized boolean <b>tryLock</b>(long <em>msec</em>)</code></p>		Attempts to acquire a lock for <em>msec</em> milliseconds. The thread is blocked until the receiver acquires the lock or <em>msec</em> milliseconds have passed. Returns <code>true</code> if the lock is acquired within this time limit. Returns <code>false</code> if the time limit expires before a lock can be acquired. 		<p><code>public boolean <b>tryLock</b>(NSTimestamp <em>timestamp</em>)</code></p>		Attempts to acquire a lock until the time specified by <em>timestamp</em>. The thread is blocked until the receiver acquires the lock or <em>timestamp</em> is reached. Returns <code>true</code> if the lock is acquired within this time limit. Returns <code>false</code> if the time limit expires before a lock can be acquired. 		<hr width="25%" align="LEFT">		<a name="unlock_NSLock"></a><br>		<h3><a name="//apple_ref/java/instm/NSLock/unlock">unlock</a></h3>		<p><code>public synchronized void <b>unlock</b>()</code></p>		Conformance to <a href="../Interfaces/NSLocking.html#CHCJAGIE">NSLocking</a>. See the method description of <a href="../Interfaces/NSLocking.html#//apple_ref/java/intfm/NSLocking/unlock">unlock</a> in the interface specification for NSLocking. 		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 17, 2001)</p>		<br>		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>