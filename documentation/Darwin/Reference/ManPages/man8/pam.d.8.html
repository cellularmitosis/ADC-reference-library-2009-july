<html><head><title>Mac OS X
 Manual Page For pam.d(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/pam.d" title="Mac OS X
 Manual Page for pam.d(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/pam.d"; name=pam.d(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PAM(8)                                        Linux-PAM Manual                                        <!-- a -->PAM(8)<!-- /a -->



<b>NAME</b>
       Linux-PAM - Pluggable Authentication Modules for Linux


<b>SYNOPSIS</b>
       <b>/etc/pam.conf</b>



<b>DESCRIPTION</b>
       This is a port of <b>Linux-PAM</b> to the Mac OS X operating system.


       This  manual is intended to offer a quick introduction to <b>Linux-PAM</b>.  For more information the reader
       is directed to the <b>Linux-PAM</b> <b>system</b> <b>administrators'</b> <b>guide</b>.


       <b>Linux-PAM</b> Is a system of libraries that handle the authentication tasks of applications (services) on
       the  system.   The  library  provides a stable general interface (Application Programming Interface -<font color="#ffffff" class="whiteout">API)&nbsp;InterfaceAPI)</font>
       API) that privilege granting programs (such as <a href="../man1/login.1.html#//apple_ref/doc/man/1/login"><b>login</b>(1)</a> and  <a href="../man1/su.1.html#//apple_ref/doc/man/1/su"><b>su</b>(1)</a>)  defer  to  to  perform  standard
       authentication tasks.


       The  principal  feature  of  the PAM approach is that the nature of the authentication is dynamically
       configurable.  In other words, the system administrator is free to choose how individual service-pro-<font color="#ffffff" class="whiteout">viding&nbsp;service-providing</font>
       viding applications will authenticate users. This dynamic configuration is set by the contents of the
       single <b>Linux-PAM</b> configuration file <b>/etc/pam.conf</b>.  Alternatively, the configuration can  be  set  by
       individual  configuration files located in the <b>/etc/pam.d/</b> directory.  <u>The</u> <u>presence</u> <u>of</u> <u>this</u> <u>directory</u>
       <u>will</u> <u>cause</u> <b>Linux-PAM</b> <u>to</u> <u>ignore</u> <b>/etc/pam.conf</b><u>.</u>


       From the point of view of the system administrator, for whom this manual is provided, it  is  not  of
       primary importance to understand the internal behavior of the <b>Linux-PAM</b> library.  The important point
       to recognize is that the configuration <!-- a -->file(s)<!-- /a --> <u>define</u> the connection between applications  (<b>services</b>)
       and the pluggable authentication modules (<b>PAM</b>s) that perform the actual authentication tasks.


       <b>Linux-PAM</b> separates the tasks of <u>authentication</u> into four independent management groups: <b>account</b> man-<font color="#ffffff" class="whiteout">agement;&nbsp;management;</font>
       agement; <b>auth</b>entication management; <b>password</b> management; and <b>session</b> management.  (We  highlight  the
       abbreviations used for these groups in the configuration file.)


       Simply  put, these groups take care of different aspects of a typical user's request for a restricted
       service:


       <b>account</b> - provide account verification types of service: has the user's password  expired?;  is  this
       user permitted access to the requested service?

       <b>auth</b>entication  -  establish  the user is who they claim to be. Typically this is via some challenge-<font color="#ffffff" class="whiteout">response&nbsp;challengeresponse</font>
       response request that the user must satisfy: if you are who you claim to be please enter  your  pass-<font color="#ffffff" class="whiteout">word.&nbsp;password.</font>
       word.   Not  all  authentications are of this type, there exist hardware based authentication schemes
       (such as the use of smart-cards and biometric devices), with suitable modules, these may  be  substi-<font color="#ffffff" class="whiteout">tuted&nbsp;substituted</font>
       tuted  seamlessly  for more standard approaches to authentication - such is the flexibility of <b>Linux</b>-<font color="#ffffff" class="whiteout">PAM.&nbsp;LinuxPAM.</font>
       <b>PAM</b>.

       <b>password</b> - this group's responsibility is the task of updating authentication mechanisms.  Typically,
       such  services  are  strongly coupled to those of the <b>auth</b> group. Some authentication mechanisms lend
       themselves well to being updated with such a function. Standard UN*X  password-based  access  is  the
       obvious example: please enter a replacement password.

       <b>session</b>  -  this  group  of tasks cover things that should be done prior to a service being given and
       after it is withdrawn. Such tasks include the maintenance of audit trails and  the  mounting  of  the
       user's  home  directory. The <b>session</b> management group is important as it provides both an opening and
       closing hook for modules to affect the services available to a user.


<b>The</b> <b>configuration</b> <!-- a --><b>file(s)</b><!-- /a --><b></b>
       When a <b>Linux-PAM</b> aware privilege granting application is started, it activates its attachment to  the
       PAM-API.   This  activation  performs  a number of tasks, the most important being the reading of the
       configuration <!-- a -->file(s)<!-- /a -->: <b>/etc/pam.conf</b>.  Alternatively, this may be the  contents  of  the  <b>/etc/pam.d/</b>
       directory.

       These  files  list  the  <b>PAM</b>s that will do the authentication tasks required by this service, and the
       appropriate behavior of the PAM-API in the event that individual <b>PAM</b>s fail.


       The syntax of the <b>/etc/pam.conf</b> configuration file is as follows. The file is made up of  a  list  of
       rules,  each  rule  is  typically placed on a single line, but may be extended with an escaped end of
       line: `\&lt;LF&gt;'. Comments are preceded with `#' marks and extend to the next end of line.


       The format of each rule is a space separated collection of tokens, the first three being  case-insen-<font color="#ffffff" class="whiteout">sitive:&nbsp;case-insensitive:</font>
       sitive:


          <b>service</b>  <b>type</b>  <b>control</b>  <b>module-path</b>  <b>module-arguments</b>


       The  syntax  of files contained in the <b>/etc/pam.d/</b> directory, are identical except for the absence of
       any <u>service</u> field. In this case, the <u>service</u> is the name of the file in  the  <b>/etc/pam.d/</b>  directory.
       This filename must be in lower case.


       An  important  feature of <b>Linux-PAM</b>, is that a number of rules may be <u>stacked</u> to combine the services
       of a number of PAMs for a given authentication task.


       The <b>service</b> is typically the familiar name of the corresponding application: <b>login</b> and  <b>su</b>  are  good
       examples. The <b>service</b>-name, <b>other</b>, is reserved for giving <u>default</u> rules.  Only lines that mention the
       current service (or in the absence of such, the <b>other</b> entries) will be associated with the given ser-<font color="#ffffff" class="whiteout">vice-application.&nbsp;service-application.</font>
       vice-application.


       The  <b>type</b>  is  the  management group that the rule corresponds to. It is used to specify which of the
       management groups the subsequent module is to be associated with. Valid entries are:  <b>account</b>;  <b>auth</b>;
       <b>password</b>; and <b>session</b>.  The meaning of each of these tokens was explained above.


       The  third field, <b>control</b>, indicates the behavior of the PAM-API should the module fail to succeed in
       its authentication task. There are two types of syntax for this control field: the simple one  has  a
       single simple keyword; the more complicated one involves a square-bracketed selection of <b>value=action</b>
       pairs.


       For the simple (historical) syntax valid <b>control</b> values are:  <b>requisite</b>  -  failure  of  such  a  PAM
       results  in the immediate termination of the authentication process; <b>required</b> - failure of such a PAM
       will ultimately lead to the PAM-API returning failure but only after the  remaining  <u>stacked</u>  modules
       (for  this  <b>service</b>  and  <b>type</b>) have been invoked; <b>sufficient</b> - success of such a module is enough to
       satisfy the authentication requirements of the stack of modules  (if  a  prior  <b>required</b>  module  has
       failed  the success of this one is <u>ignored</u>); <b>optional</b> - the success or failure of this module is only
       important if it is the only module in the stack associated with this <b>service</b>+<b>type</b>.


       For the more complicated syntax valid <b>control</b> values have the following form:

       [value1=action1<b>value2=action2</b>...]

       Where <b>valueN</b> corresponds to the return code from the function invoked in the  module  for  which  the
       line  is  defined. It is selected from one of these: <b>success</b>; <b>open_err</b>; <b>symbol_err</b>; <b>service_err</b>; <b>sys</b>-<font color="#ffffff" class="whiteout">tem_err;&nbsp;system_err;</font>
       <b>tem_err</b>; <b>buf_err</b>; <b>perm_denied</b>; <b>auth_err</b>; <b>cred_insufficient</b>; <b>authinfo_unavail</b>; <b>user_unknown</b>; <b>maxtries</b>;
       <b>new_authtok_reqd</b>;  <b>acct_expired</b>;  <b>session_err</b>;  <b>cred_unavail</b>; <b>cred_expired</b>; <b>cred_err</b>; <b>no_module_data</b>;
       <b>conv_err</b>;  <b>authtok_err</b>;  <b>authtok_recover_err</b>;  <b>authtok_lock_busy</b>;  <b>authtok_disable_aging</b>;  <b>try_again</b>;
       <b>ignore</b>;  <b>abort</b>;  <b>authtok_expired</b>; <b>module_unknown</b>; <b>bad_item</b>; and <b>default</b>.  The last of these, <b>default</b>,
       implies 'all <b>valueN</b>'s not mentioned explicitly. Note, the full list of PAM  errors  is  available  in
       /usr/include/security/_pam_types.h . The <b>actionN</b> can be: an unsigned integer, <b>J</b>, signifying an action
       of 'jump over the next J modules in the stack'; or take one of the following forms:
       <b>ignore</b> - when used with a stack of modules, the module's return status will  not  contribute  to  the
       return code the application obtains;
       <b>bad</b>  -  this  action  indicates that the return code should be thought of as indicative of the module
       failing. If this module is the first in the stack to fail, its status value will be used for that  of
       the whole stack.
       <b>die</b>  -  equivalent  to  bad  with the side effect of terminating the module stack and PAM immediately
       returning to the application.
       <b>ok</b> - this tells PAM that the administrator thinks this return code should contribute directly to  the
       return code of the full stack of modules. In other words, if the former state of the stack would lead
       to a return of <b>PAM_SUCCESS</b>, the module's return code will override this value. Note,  if  the  former
       state of the stack holds some value that is indicative of a modules failure, this 'ok' value will not
       be used to override that value.
       <b>done</b> - equivalent to ok with the side effect of terminating the  module  stack  and  PAM  immediately
       returning to the application.
       <b>reset</b>  - clear all memory of the state of the module stack and start again with the next stacked mod-<font color="#ffffff" class="whiteout">ule.&nbsp;module.</font>
       ule.


       <b>module-path</b> - this is either the full filename of the PAM to be used by the  application  (it  begins
       with a '/'), or a relative pathname from the default module location: <b>/usr/lib/pam/</b>.


       <b>module-arguments</b> - these are a space separated list of tokens that can be used to modify the specific
       behavior of the given PAM. Such arguments will be documented for each individual module.


<b>FILES</b>
       <b>/etc/pam.conf</b> - the configuration file
       <b>/etc/pam.d/</b> - the <b>Linux-PAM</b> configuration directory. Generally, if this  directory  is  present,  the
       <b>/etc/pam.conf</b> file is ignored.
       <b>/usr/lib/libpam.dylib</b> - the dynamic library
       <b>/usr/lib/pam/*.so</b> - the PAMs


<b>ERRORS</b>
       Typically errors generated by the <b>Linux-PAM</b> system of libraries, will be written to <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog"><b>syslog</b>(3)</a>.


<b>CONFORMING</b> <b>TO</b>
       DCE-RFC 86.0, October 1995.
       Contains additional features, but remains backwardly compatible with this RFC.


<b>BUGS</b>
       None known.


<b>SEE</b> <b>ALSO</b>
       The three <b>Linux-PAM</b> Guides, for <b>system</b> <b>administrators</b>, <b>module</b> <b>developers</b>, and <b>application</b> <b>developers</b>.



Linux-PAM 0.74                                   2001 Jan 20                                          <!-- a -->PAM(8)<!-- /a -->
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/pam.d.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/pam.d.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/pam.d.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
