<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=HTML">
<title>SCSITaskDeviceInterface</title>
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware & Drivers</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/iokit_fw" target="_top">I/O Kit Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="SCSITaskDeviceInterface">SCSITaskDeviceInterface</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">SCSITaskLib.h</a></div></div></td>
</tr></table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>Basic interface for a SCSITask Device.  
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>After rendezvous with a SCSITask Device in the I/O Registry you can create
an instance of this interface as a proxy to the IOService. Once you have this interface,
or one of its subclasses, you can create SCSITasks to send to the device. Use the
<a href="index.html#//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/CreateSCSITask" target="_top">CreateSCSITask</a> method to create new SCSITask instances for this device.
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/AddCallbackDispatcherToRunLoop" target="_top">AddCallbackDispatcherToRunLoop</a></tt></dt>
<dd><p>Convenience method to add asynchronous callback mechanisms to the CFRunLoop
of choice.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/CreateSCSITask" target="_top">CreateSCSITask</a></tt></dt>
<dd><p>Method to create SCSITasks.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/IsExclusiveAccessAvailable" target="_top">IsExclusiveAccessAvailable</a></tt></dt>
<dd><p>Method to find out if the device can be opened exclusively by the caller.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/ObtainExclusiveAccess" target="_top">ObtainExclusiveAccess</a></tt></dt>
<dd><p>Method to obtain exclusive access to the device so that SCSITasks can be sent
to it.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/ReleaseExclusiveAccess" target="_top">ReleaseExclusiveAccess</a></tt></dt>
<dd><p>Method to release exclusive access to the device so that other clients
can send commands to it.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/RemoveCallbackDispatcherFromRunLoop" target="_top">RemoveCallbackDispatcherFromRunLoop</a></tt></dt>
<dd><p>Convenience method to remove asynchronous callback mechanisms from the CFRunLoop.
</p></dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/AddCallbackDispatcherToRunLoop;  indexgroup=SCSI ;   name=AddCallbackDispatcherToRunLoop --><a name="//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/AddCallbackDispatcherToRunLoop"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AddCallbackDispatcherToRunLoop">AddCallbackDispatcherToRunLoop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Convenience method to add asynchronous callback mechanisms to the CFRunLoop
of choice.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AddCallbackDispatcherToRunLoop</span><!-- /a --> ) (
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <a href="../../../../../../CoreFoundation/Reference/CFRunLoopRef/Reference/reference.html#//apple_ref/c/tdef/CFRunLoopRef" target="_top" class="type"><span class="type">CFRunLoopRef</span></a> <span class="param">cfRunLoopRef</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to a SCSITaskDeviceInterface instance.</p></dd>
<dt><code>cfRunLoopRef</code></dt>
<dd><p>The CFRunLoop to which asynchronous callback notifications should
be attached.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if successful, kIOReturnNoDevice if there is no
connection to an IOService, or kIOReturnNoMemory if a mach port could not be
allocated and initialized properly.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Once a SCSITaskDeviceInterface is opened, the client may make synchronous
or asynchronous requests to the device. This method creates and initializes a
mach_port_t for receiving asynchronous callback notifications via the CFRunLoop mechanism.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/CreateSCSITask;  indexgroup=SCSI ;   name=CreateSCSITask --><a name="//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/CreateSCSITask"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CreateSCSITask">CreateSCSITask</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Method to create SCSITasks.
<!-- end abstract --></p>
<p></p>
<pre><a href="../SCSITaskInterface/index.html#//apple_ref/c/cl/SCSITaskInterface" target="_top" class="type"><span class="type">SCSITaskInterface</span></a> <span class="type">*</span><span class="type">*</span> ( <span class="type">*</span><!-- a --><span class="function">CreateSCSITask</span><!-- /a --> )(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to a SCSITaskDeviceInterface instance.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a handle to an instance of a SCSITaskInterface or NULL if one
could not be allocated.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Once a SCSITaskDeviceInterface is opened, the client may request
exclusive access to the device.
Once the client has successfully gained exclusive access, it becomes the Logical
Unit Driver. It then can use this method to allocate SCSITasks to be sent to the device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/IsExclusiveAccessAvailable;  indexgroup=SCSI ;   name=IsExclusiveAccessAvailable --><a name="//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/IsExclusiveAccessAvailable"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IsExclusiveAccessAvailable">IsExclusiveAccessAvailable</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Method to find out if the device can be opened exclusively by the caller.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">Boolean</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">IsExclusiveAccessAvailable</span><!-- /a --> ) (
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to an instance of an SCSITaskDeviceInterface.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns false if the device has been opened for exclusive access, otherwise true.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Method to find out if the device can be opened exclusively by the caller.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/ObtainExclusiveAccess;  indexgroup=SCSI ;   name=ObtainExclusiveAccess --><a name="//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/ObtainExclusiveAccess"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ObtainExclusiveAccess">ObtainExclusiveAccess</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Method to obtain exclusive access to the device so that SCSITasks can be sent
to it.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">ObtainExclusiveAccess</span><!-- /a --> ) (
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to a SCSITaskDeviceInterface instance.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if exclusive access was granted, else if media is
still mounted it returns kIOReturnBusy. If another client already has exclusive
access, kIOReturnExclusiveAccess is returned.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Once a SCSITaskDeviceInterface is opened, the client may request exclusive
access to the device. Once the client has successfully gained exclusive access, it
becomes the Logical Unit Driver and all in-kernel Logical Unit Drivers are quiesced.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/ReleaseExclusiveAccess;  indexgroup=SCSI ;   name=ReleaseExclusiveAccess --><a name="//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/ReleaseExclusiveAccess"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="ReleaseExclusiveAccess">ReleaseExclusiveAccess</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Method to release exclusive access to the device so that other clients
can send commands to it.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">ReleaseExclusiveAccess</span><!-- /a --> ) (
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to a SCSITaskDeviceInterface instance.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess if exclusive access was released, else some
appropriate error.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Once a SCSITaskDeviceInterface is opened, the client may request
exclusive access to the device.
Once the client has successfully gained exclusive access, it becomes the Logical
Unit Driver and all in-kernel Logical Unit Drivers (if any are matched on the device)
are quiesced. This method releases this access and unquiesces the in-kernel
drivers (if any).        
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/RemoveCallbackDispatcherFromRunLoop;  indexgroup=SCSI ;   name=RemoveCallbackDispatcherFromRunLoop --><a name="//apple_ref/doc/com/intfm/SCSITaskDeviceInterface/RemoveCallbackDispatcherFromRunLoop"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="RemoveCallbackDispatcherFromRunLoop">RemoveCallbackDispatcherFromRunLoop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Convenience method to remove asynchronous callback mechanisms from the CFRunLoop.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> ( <span class="type">*</span><!-- a --><span class="function">RemoveCallbackDispatcherFromRunLoop</span><!-- /a --> ) (
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to a SCSITaskDeviceInterface instance.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Once a SCSITaskDeviceInterface is opened, the client may make synchronous
or asynchronous requests to the device.
This method removes the asynchronous notifications delivered via the CFRunLoop. This
should be called only after calling AddCallbackDispatcherToRunLoop.
<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/IOKit/SCSITaskLib_h/Classes/SCSITaskDeviceInterface/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/IOKit/SCSITaskLib_h/Classes/SCSITaskDeviceInterface/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/IOKit/SCSITaskLib_h/Classes/SCSITaskDeviceInterface/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&nbsp;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2009-02-23
</div>
<!-- headerDoc=cl; uid=//apple_ref/c/cl/SCSITaskDeviceInterface; indexgroup=SCSI ; name=SCSITaskDeviceInterface--><a name="//apple_ref/c/cl/SCSITaskDeviceInterface"></a>
</body>
</html>
