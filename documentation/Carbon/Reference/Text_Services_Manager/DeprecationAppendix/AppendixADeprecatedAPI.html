<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Text Services Manager Reference: Deprecated Text Services Manager  Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deprecated Text Services Manager  Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000174-AppendixA" title="Deprecated Text Services Manager  Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxTextFonts-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000461" target="_top">Text &amp; Fonts</a> &gt; <a href="../index.html" target="_top">Text Services Manager Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tsm_appendix/tsm_dep_func.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <h1>Deprecated Text Services Manager  Functions</h1><p>A function identified as deprecated has been superseded and may become unsupported in the future.</p><a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_236" title="Deprecated in Mac OS X v10.5"></a><h2>Deprecated in Mac OS X v10.5</h2><a name="//apple_ref/c/func/CloseTextService" title="CloseTextService"></a><a name="//apple_ref/doc/c_ref/CloseTextService" title="CloseTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F00530" title="CloseTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_13"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_13"></a><h3 class="tight">CloseTextService</h3>
<p class="spaceabove">Closes a text service component, other than an input method, and disassociates it from the active TSM document.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr CloseTextService (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> idocID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> aComponentInstance
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>idocID</em></dt>
<dd><p>The identification number of a TSM document created by a prior call to the <code><a href="../Reference/reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> function. </p></dd>
<dt><em>aComponentInstance</em></dt>
<dd><p>The component instance created by a prior call to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>When a user wants to close an opened text service component, your client application should call the function <code>CloseTextService</code>.</p>
<p>If the text service component displays a menu, the Text Services Manager removes the menu from the menu bar. This function is for closing text service components other than input methods. Your application does not need to open or close input methods. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/DeselectTextService" title="DeselectTextService"></a><a name="//apple_ref/doc/c_ref/DeselectTextService" title="DeselectTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F18283" title="DeselectTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_18"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_18"></a><h3 class="tight">DeselectTextService</h3>
<p class="spaceabove">Notifies TSM that an input method has been closed.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus DeselectTextService (
   <!--a-->Component<!--/a--> aComp
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aComp</em></dt>
<dd></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>This API is currently only intended for use by Character Palette class input methods. It allows such an input method to notify TSM that it has been closed by the user as a result of interaction with the input method's own UI, such a palette's close button, instead of via the normal UI provided by the System, such as the Keyboard Menu.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.2 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetDefaultInputMethod" title="GetDefaultInputMethod"></a><a name="//apple_ref/doc/c_ref/GetDefaultInputMethod" title="GetDefaultInputMethod"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F01716" title="GetDefaultInputMethod"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_21"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_21"></a><h3 class="tight">GetDefaultInputMethod</h3>
<p class="spaceabove">Obtains the default input method text service component for a given script and language.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended.</i></p>
<p class="spaceabove"><pre>
OSErr GetDefaultInputMethod (
   <!--a-->Component<!--/a--> *ts,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/ScriptLanguageRecord">ScriptLanguageRecord</a> *slRecordPtr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A pointer to the component identifier of the input method text service component that is associated with the script and language combination given in the <code>slRecord</code> parameter. </p></dd>
<dt><em>slRecordPtr</em></dt>
<dd><p>A pointer to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ScriptLanguageRecord">ScriptLanguageRecord</a></code>. This structure describes the script and language combination that is associated with the input method text service specified in the <code>ts</code> parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>You should use the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/GetDefaultInputMethodOfClass">GetDefaultInputMethodOfClass</a></code> instead of this one. </p>
<p>The operating system uses <code>GetDefaultInputMethod</code> to find out which input method to activate when the user selects a new keyboard script from the Keyboard menu or by Command-key combination, or when an application calls <code>KeyScript</code> to change keyboard scripts. Your application should not typically need to call this function. </p>
<h5 class="tight">Version Notes</h5>
<p>For systems prior to Mac OS X, in versions of Japanese system software starting with KanjiTalk 7, if the default input method is pre-KanjiTalk 7 and non-TSM-aware, <code>GetDefaultInputMethod</code> returns the error <code>tsmInputMethodIsOldErr</code>. In that case the <code>ts</code> parameter contains the script code of the old input method in its high-order word, and the reference ID of the old input method in its low-order word.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not recommended. Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetDefaultInputMethodOfClass" title="GetDefaultInputMethodOfClass"></a><a name="//apple_ref/doc/c_ref/GetDefaultInputMethodOfClass" title="GetDefaultInputMethodOfClass"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F18281" title="GetDefaultInputMethodOfClass"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_22"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_22"></a><h3 class="tight">GetDefaultInputMethodOfClass</h3>
<p class="spaceabove">Obtains the default input method text service component for a given text service class.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus GetDefaultInputMethodOfClass (
   <!--a-->Component<!--/a--> *aComp,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/ScriptLanguageRecord">ScriptLanguageRecord</a> *slRecPtr,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/TextServiceClass">TextServiceClass</a> tsClass
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aComp</em></dt>
<dd><p>On return, a pointer to the component identifier of the input method text service component that is associated with the script and language combination given in the <code>slRecord</code> parameter. </p></dd>
<dt><em>slRecPtr</em></dt>
<dd><p>On return, a pointer to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ScriptLanguageRecord">ScriptLanguageRecord</a></code>. This structure describes the script and language combination that is associated with the input method text service specified in the <code>ts</code> parameter. </p></dd>
<dt><em>tsClass</em></dt>
<dd><p>The text service class whose component and script language record you want to obtain. Pass <code>kKeyboardInputMethodClass</code> to specify a keyboard input method. Pass <code>kInkInputMethod</code> to specify an Ink input method.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.2 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetInputModePaletteMenu" title="GetInputModePaletteMenu"></a><a name="//apple_ref/doc/c_ref/GetInputModePaletteMenu" title="GetInputModePaletteMenu"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-BCIEAJGI" title="GetInputModePaletteMenu"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_23"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_23"></a><h3 class="tight">GetInputModePaletteMenu</h3>
<p class="spaceabove">Obtains from an input method the menu to display for a pull-down menu on the input mode palette.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> GetInputModePaletteMenu (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> inInstance,
   UInt32 inItemID,
   <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> *outMenuItemsArray
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inInstance</em></dt>
<dd><p>The component instance.</p></dd>
<dt><em>inItemID</em></dt>
<dd><p>The item ID of the pull-down menu button.</p></dd>
<dt><em>outMenuItemsArray</em></dt>
<dd><p>On return, points to an array of menu items. A pull-down menu consists of an array of CFDictionary objects that contain the keys described in <code><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Input_Mode_Palette_Menu_Definition_Keys">Input Mode Palette Menu Definition Keys</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>Returns a non-null value on successful handling of the call. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v 10.4 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetScriptLanguageSupport" title="GetScriptLanguageSupport"></a><a name="//apple_ref/doc/c_ref/GetScriptLanguageSupport" title="GetScriptLanguageSupport"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F01997" title="GetScriptLanguageSupport"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_24"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_24"></a><h3 class="tight">GetScriptLanguageSupport</h3>
<p class="spaceabove">Notifies a text service component that it must produce a list of its supported languages and scripts.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> GetScriptLanguageSupport (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> ts,
   <!--a-->ScriptLanguageSupportHandle<!--/a--> *scriptHdl
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>A Component Manager value of type <code>ComponentInstance</code> that identifies the component being called. When the Text Services Manager makes this call, it passes the <code>ComponentInstance</code> value returned by its call to the <code>OpenComponent</code> function. If an application makes this call, it may use the <code>ComponentInstance</code> value obtained from the <code>kEventParamTextInputSendComponentInstance</code> parameter of the Carbon event or the <code>keyAEServerInstance</code> parameter of an Apple event sent by the component being called. Alternately, an application may obtain a <code>ComponentInstance</code> value from a prior call to the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenTextService">OpenTextService</a></code>. </p></dd>
<dt><em>scriptHdl</em></dt>
<dd><p>A handle to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ScriptLanguageSupport">ScriptLanguageSupport</a></code>. The handle must be either <code>NULL</code> or a valid handle. If it is <code>NULL</code>, the text service component allocates a new handle. If it is already a valid handle, the text service component resizes it as necessary. <code>GetScriptLanguageSupport</code> should produce a list of scripts and languages in this parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The return value should contain 0 if the list is correct, or an error value if an error occurred. See the Component Manager documentation for a description of the <code>ComponentResult</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Text service components must implement a function for this call.</p>
<p>In response to this call, the component should list all its supported scripts and languages, starting with the primary script and language as specified in the <code>componentFlags</code> field of its component description structure. The Text Services Manager makes the <code>GetScriptLanguageSupport</code> call after a component is opened via the Component Manager function <code>OpenComponent</code>. One of the Text Services Manager’s uses of this script information is to determine whether to exchange information with the component in the Unicode text encoding.</p>
<p>For example, if a component is associated with a Macintosh script, but includes the <code>smUnicodeScript</code> constant in its enumeration of supported constants, then the Text Services Manager determines that the component produces and expects text in the Unicode encoding. Additionally, in this example, the Text Services Manager also concludes that the Unicode characters which the component supports are limited to those encoded in the repertoire of the encoding corresponding to the Macintosh script in the <code>componentFlags</code> field of its component description structure. Note that if the script specified in the <code>componentFlags</code> field is itself <code>smUnicodeScript</code>, the Text Services Manager imposes no restriction on the set of supported characters, and it treats the component as being capable of handling any Unicode character.</p>
<p>Client applications may directly make this call, but the Text Services Manager does not then play a role in the connection between the client application making the call and the text service component receiving it. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetServiceList" title="GetServiceList"></a><a name="//apple_ref/doc/c_ref/GetServiceList" title="GetServiceList"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F02003" title="GetServiceList"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_25"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_25"></a><h3 class="tight">GetServiceList</h3>
<p class="spaceabove">Obtains a list of the text service components of a specified type that are currently available.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr GetServiceList (
   <!--a-->SInt16<!--/a--> numOfInterface,
   const <!--a-->OSType<!--/a--> *supportedInterfaceTypes,
   <!--a-->TextServiceListHandle<!--/a--> *serviceInfo,
   SInt32 *seedValue
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>numOfInterface</em></dt>
<dd><p>The number of text service interface types supported by your client application. </p></dd>
<dt><em>supportedInterfaceTypes</em></dt>
<dd><p>A pointer to a value of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/InterfaceTypeList">InterfaceTypeList</a></code> specifying the kinds of text services that your program supports. This list helps the Text Services Manager locate text services of the correct interface type. </p></dd>
<dt><em>serviceInfo</em></dt>
<dd><p>A pointer to a handle to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/TextServiceList">TextServiceList</a></code>. If the handle is <code>NULL</code>, the Text Services Manager allocates the handle; otherwise, it assumes the handle is a valid text service component list handle, as defined by the <code>TextServiceListHandle</code> data type.</p></dd>
<dt><em>seedValue</em></dt>
<dd><p>A pointer to a value that indicates whether the list of text service components returned by <code>GetServiceList</code> may have been modified. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Your client application is responsible for providing a way—usually a menu—for the user to choose from among all available text service components. To get a list of available text service components to display in a menu, call the <code>GetServiceList</code> function. Be sure to filter out input methods, because the Keyboard menu already displays them.</p>
<p>When your application calls <code>GetServiceList</code>, the Text Services Manager locates all the text service components of the specified types and creates a text service component list, defined by the <code>TextServiceList</code> data type, containing an entry for each of the text service components.</p>
<p>It is possible to register text service components or withdraw them from registration at any time. Once it has compiled a list of text services, the Text Services Manager invokes the <code>GetComponentListModSeed</code> function and returns the value in the <code>modseed</code> parameter. You can save that value and, the next time you need to draw or regenerate the list of services, call the Component Manager <code>GetComponentListModSeed</code> function. If the seed value differs from the one you received from your last call to <code>GetServiceList</code>, you need to call <code>GetServiceList</code> once more to update the information. Alternately, you can simply call <code>GetServiceList</code> each time you need to update the list, although that may be less efficient. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/GetTextServiceLanguage" title="GetTextServiceLanguage"></a><a name="//apple_ref/doc/c_ref/GetTextServiceLanguage" title="GetTextServiceLanguage"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F02039" title="GetTextServiceLanguage"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_26"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_26"></a><h3 class="tight">GetTextServiceLanguage</h3>
<p class="spaceabove">Obtains the current input script and language.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr GetTextServiceLanguage (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/ScriptLanguageRecord">ScriptLanguageRecord</a> *slRecordPtr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>slRecordPtr</em></dt>
<dd><p>A pointer to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ScriptLanguageRecord">ScriptLanguageRecord</a></code>. Upon completion of the call, this structure describes the language supported by the default (current) text service component for the current keyboard script. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Your application should not typically need to call this function. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/InputModePaletteItemHit" title="InputModePaletteItemHit"></a><a name="//apple_ref/doc/c_ref/InputModePaletteItemHit" title="InputModePaletteItemHit"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_3" title="InputModePaletteItemHit"></a><a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_31"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_31"></a><h3 class="tight">InputModePaletteItemHit</h3>
<p class="spaceabove">Informs an input method that a function button on the input mode palette was pressed.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
<a href="../../Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> InputModePaletteItemHit (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> inInstance,
   UInt32 inItemID,
   UInt32 inItemState
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inInstance</em></dt>
<dd><p>The component instance.</p></dd>
<dt><em>inItemID</em></dt>
<dd><p>The item ID of the function button pressed on the palette.</p></dd>
<dt><em>inItemState</em></dt>
<dd><p>The new state of the button.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>Returns a non-null value on successful handling of the call.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v 10.4 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/IsTextServiceSelected" title="IsTextServiceSelected"></a><a name="//apple_ref/doc/c_ref/IsTextServiceSelected" title="IsTextServiceSelected"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-BAJCGIHC" title="IsTextServiceSelected"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_32"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_32"></a><h3 class="tight">IsTextServiceSelected</h3>
<p class="spaceabove">Determines if a text service component is selected.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> IsTextServiceSelected (
   <!--a-->Component<!--/a--> aComp
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aComp</em></dt>
<dd><p>The component you want to determine is selected or not.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>Returns <code>true</code> if the component is selected. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/OpenTextService" title="OpenTextService"></a><a name="//apple_ref/doc/c_ref/OpenTextService" title="OpenTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F04446" title="OpenTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_34"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_34"></a><h3 class="tight">OpenTextService</h3>
<p class="spaceabove">Opens a text service component, other than an input method, and associates it with a TSM document.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr OpenTextService (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> idocID,
   <!--a-->Component<!--/a--> aComponent,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> *aComponentInstance
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>idocID</em></dt>
<dd><p>The identification number of a TSM document created by a prior call to the <code><a href="../Reference/reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> function. </p></dd>
<dt><em>aComponent</em></dt>
<dd><p>A component identifier for this text service component. You can obtain the component identifier to pass in <code>aComponent</code> by comparing the menu item name selected by the user with the component item name found in a <code><a href="../Reference/reference.html#//apple_ref/c/tdef/TextServiceInfo">TextServiceInfo</a></code> structure. You can obtain a <code>TextServiceInfo</code> structure by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/GetServiceList">GetServiceList</a></code> and examining the <code>fServices</code> field of the <code>TextServiceList</code> structure that it produces. </p></dd>
<dt><em>aComponentInstance</em></dt>
<dd><p>Upon completion of the call, a pointer to a component instance. This value identifies your application’s connection to a text service component. You must supply this value if you call the text service functions provided by the component directly. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>This function instructs the Text Services Manager to open a text service component, other than an input method, that a user has chosen and to associate it with a TSM document. The Text Services Manager opens the requested component by calling the Component Manager <code>OpenComponent</code> function.</p>
<p>If the specified text service component is already open, the Text Services Manager does not open it again and the <code>tsmComponentAlreadyOpenErr</code> error message is returned as a result code. Whether or not the text service is open, the Text Services Manager calls the functions <code><a href="../Reference/reference.html#//apple_ref/c/func/InitiateTextService">InitiateTextService</a></code> and <code><a href="../Reference/reference.html#//apple_ref/c/func/ActivateTextService">ActivateTextService</a></code> for the given text service and returns a valid component instance. Upon completion of the <code>OpenTextService</code> call, the selected text service component is initialized and active.</p>
<p>This function is for opening text service components other than input methods. Your application does not need to open or close input methods. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/SelectTextService" title="SelectTextService"></a><a name="//apple_ref/doc/c_ref/SelectTextService" title="SelectTextService"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-BAJIDBBA" title="SelectTextService"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_35"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_35"></a><h3 class="tight">SelectTextService</h3>
<p class="spaceabove">Selects a text service.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus SelectTextService (
   <!--a-->Component<!--/a--> aComp
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aComp</em></dt>
<dd><p>The text service you want to select.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>This function is intended for use by input methods in text service classes which are additive in nature, that is where the input method can operate in parallel to other input methods in the same class and other additive text service classes. An example of such a class is the Character Palette class. This function is not for use by traditional input methods, such as those that belong to the keyboard input method class.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.2 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/SendAEFromTSMComponent" title="SendAEFromTSMComponent"></a><a name="//apple_ref/doc/c_ref/SendAEFromTSMComponent" title="SendAEFromTSMComponent"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F06729" title="SendAEFromTSMComponent"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_36"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_36"></a><h3 class="tight">SendAEFromTSMComponent</h3>
<p class="spaceabove">Sends Apple events from a text service component to a client application. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr SendAEFromTSMComponent (
   const <a href="../../Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AppleEvent" target="_top">AppleEvent</a> *theAppleEvent,
   <a href="../../Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AppleEvent" target="_top">AppleEvent</a> *reply,
   <a href="../../Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AESendMode" target="_top">AESendMode</a> sendMode,
   <a href="../../Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AESendPriority" target="_top">AESendPriority</a> sendPriority,
   SInt32 timeOutInTicks,
   <a href="../../Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEIdleUPP" target="_top">AEIdleUPP</a> idleProc,
   <a href="../../Apple_Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/AEFilterUPP" target="_top">AEFilterUPP</a> filterProc
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theAppleEvent</em></dt>
<dd><p>A pointer to the Apple event to be sent. </p></dd>
<dt><em>reply</em></dt>
<dd><p>A pointer to the reply Apple event returned by <code>SendAEFromTSMComponent</code>.</p></dd>
<dt><em>sendMode</em></dt>
<dd><p>The value that lets you specify one of the following modes specified by corresponding constants: the reply mode for the Apple event, the interaction level, the application switch mode, the reconnection mode, and the return receipt mode. To obtain the value for this parameter, add the appropriate constants. Comprehensive details about these constants are provided in the description of the Apple Event Manager <code>AESend</code> function. </p></dd>
<dt><em>sendPriority</em></dt>
<dd><p>The value that specifies whether to put the Apple event at the back of the event queue (set with the <code>kAENormalPriority</code> flag) or at the front of the queue (<code>kAEHighPriority</code> flag). </p></dd>
<dt><em>timeOutInTicks</em></dt>
<dd><p>The length of time (in ticks) that the client application is willing to wait for the reply or return receipt from the server application before it times out. If the value of this parameter is <code>kNoTimeOut</code>, the Apple event never times out. </p></dd>
<dt><em>idleProc</em></dt>
<dd><p>A pointer to a function for any tasks (such as displaying a globe, a wristwatch, or a spinning beach ball cursor) that the application performs while waiting for a reply or a return receipt. </p></dd>
<dt><em>filterProc</em></dt>
<dd><p>A pointer to a function that accepts certain incoming Apple events that are received while the handler waits for a reply or a return receipt and filters out the rest. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Component use of Apple events and the function <code>SendAEFromTSMComponent</code> is discouraged on Mac OS X. Text service components should use Carbon text input events and the function <code><a href="../Reference/reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code> on Mac OS X, instead. See “Carbon Porting Notes” below for more details.</p>
<p>The <code>SendAEFromTSMComponent</code> function is essentially a wrapper function for the Apple Event Manager function <code>AESend</code>. See the description of <code>AESend</code> for additional necessary information, including constants for the <code>sendMode</code> parameter and result codes.</p>
<p><code>SendAEFromTSMComponent</code> identifies your text service component from the <code>keyAEServerInstance</code> parameter in the Apple event specified in the <code>theAppleEvent</code> parameter. If a reference constant in a TSM document that corresponds to this parameter is found in the internal data structures of the Text Services Manager, <code>SendAEFromTSMComponent</code> adds the reference constant as the <code>keyAETSMDocumentRefcon</code> parameter to the given Apple event before sending it to the application. </p>
<p>If the client application is not TSM-aware, <code>SendAEFromTSMComponent</code> routes the Apple events to the floating input window to allow bottom-line input.</p>
<p>If your text service component changes the environment in any way—such as by modifying the A5 world or changing the current zone—while constructing an Apple event, it must restore the previous settings before sending the Apple event.</p>
<p>Your text service component should always use the <code>kCurrentProcess</code> constant as the target address when it creates an Apple event to send to the Text Services Manager. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Note that this function is superseded by the function <code><a href="../Reference/reference.html#//apple_ref/c/func/SendTextInputEvent">SendTextInputEvent</a></code> on Mac OS X only. With Mac OS X, text service components must be Carbon clients. This is in contrast to Mac OS 8 and 9, where text service components must not be Carbon clients. (This restriction is due to the fact that it is potentially destabilizing for a Carbon-based component to load Carbon in the context of a non-Carbon application.) Therefore, text service components use Carbon text input events and the <code>SendTextInputEvent</code> function only on Mac OS X. The function <code>SendAEFromTSMComponent</code> must be used by components running on Mac OS 8 and 9.</p>
<p>On any system, the Text Services Manager automatically converts component-originated text input events to the proper form for client applications. On Mac OS X, the Text Services Manager automatically converts component-originated Carbon events to Apple events, if a client application does not provide handlers for Carbon events. Conversely, on Mac OS 8 and 9, the Text Services Manager automatically converts component-originated Apple events to Carbon events and provides these Carbon events to applications, so they have the option of handling them.</p><h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/SetDefaultInputMethod" title="SetDefaultInputMethod"></a><a name="//apple_ref/doc/c_ref/SetDefaultInputMethod" title="SetDefaultInputMethod"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F06796" title="SetDefaultInputMethod"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_38"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_38"></a><h3 class="tight">SetDefaultInputMethod</h3>
<p class="spaceabove">Sets a default input method to a given script and language.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;"> Not recommended.</i></p>
<p class="spaceabove"><pre>
OSErr SetDefaultInputMethod (
   <!--a-->Component<!--/a--> ts,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/ScriptLanguageRecord">ScriptLanguageRecord</a> *slRecordPtr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ts</em></dt>
<dd><p>The component identifier of the input method to be associated with the script and language combination given in the <code>slRecord</code> parameter. </p></dd>
<dt><em>slRecordPtr</em></dt>
<dd><p>A pointer to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ScriptLanguageRecord">ScriptLanguageRecord</a></code>. This structure describes the script and language combination to be associated with the input method specified in the <code>ts</code> parameter. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span> If the script code and language code specified in the script-language structure are incompatible, <code>SetDefaultInputMethod</code> returns the error <code>paramErr</code>.</p>
<h5 class="tight">Discussion</h5>
<p>You should use the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetDefaultInputMethodOfClass">SetDefaultInputMethodOfClass</a></code> instead of this one.</p>
<p>The operating system uses <code>SetDefaultInputMethod</code> to associate an input method text service component with a given script and language. The operating system calls this function when the user expresses input method preferences through the Keyboard menu, Keyboard control panel, or other device. The associations made with this function are permanent; that is, they persist after restart. Your application should not typically need to call this function. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not recommended. Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/SetDefaultInputMethodOfClass" title="SetDefaultInputMethodOfClass"></a><a name="//apple_ref/doc/c_ref/SetDefaultInputMethodOfClass" title="SetDefaultInputMethodOfClass"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F18282" title="SetDefaultInputMethodOfClass"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_39"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_39"></a><h3 class="tight">SetDefaultInputMethodOfClass</h3>
<p class="spaceabove">Sets the default input method text service component for a given text service class.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus SetDefaultInputMethodOfClass (
   <!--a-->Component<!--/a--> aComp,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/ScriptLanguageRecord">ScriptLanguageRecord</a> *slRecPtr,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/TextServiceClass">TextServiceClass</a> tsClass
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>aComp</em></dt>
<dd><p>The component identifier of the input method to be associated with the script and language combination given in the <code>slRecord</code> parameter. </p></dd>
<dt><em>slRecPtr</em></dt>
<dd><p>A pointer to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ScriptLanguageRecord">ScriptLanguageRecord</a></code>. This structure describes the script and language combination to be associated with the input method specified in the <code>ts</code> parameter.</p></dd>
<dt><em>tsClass</em></dt>
<dd><p>The text service class whose component and script language record you want to obtain. Pass <code>kKeyboardInputMethodClass</code> to specify a keyboard input method. Pass <code>kInkInputMethod</code> to specify an Ink input method.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Not available in CarbonLib.</li><li class="availability">Available in Mac OS X v 10.2 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/SetTextServiceLanguage" title="SetTextServiceLanguage"></a><a name="//apple_ref/doc/c_ref/SetTextServiceLanguage" title="SetTextServiceLanguage"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F06994" title="SetTextServiceLanguage"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_40"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_40"></a><h3 class="tight">SetTextServiceLanguage</h3>
<p class="spaceabove">Changes the current input script and language.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr SetTextServiceLanguage (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/ScriptLanguageRecord">ScriptLanguageRecord</a> *slRecordPtr
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>slRecordPtr</em></dt>
<dd><p>A pointer to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/ScriptLanguageRecord">ScriptLanguageRecord</a></code> specifying the new script and language combination. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The operating system calls this function when the user switches the keyboard script, so that the Text Services Manager can synchronize the input method with the current keyboard script.</p>
<p>Your application should not typically need to call this function. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.0 and later when running Mac OS 8.1 or later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMCopyInputMethodEnabledInputModes" title="TSMCopyInputMethodEnabledInputModes"></a><a name="//apple_ref/doc/c_ref/TSMCopyInputMethodEnabledInputModes" title="TSMCopyInputMethodEnabledInputModes"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_1" title="TSMCopyInputMethodEnabledInputModes"></a><a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_44"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_44"></a><h3 class="tight">TSMCopyInputMethodEnabledInputModes</h3>
<p class="spaceabove">Obtain the array of the enabled (and visible) input modes for a component.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> TSMCopyInputMethodEnabledInputModes (
   <!--a-->Component<!--/a--> inComponent,
   <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> *outInputModeArray
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inComponent</em></dt>
<dd><p>The component whose input modes you want to obtain.</p></dd>
<dt><em>outInputModeArray</em></dt>
<dd><p>On return, points to an array of the enabled and visible input modes for the specified component. This function is meaningful only for input methods that adopt the input mode protocol. If the component passed is not input mode-savvy, the returned array is <code>NULL</code>. It is the responsibility of the caller to release the returned array.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You use this function to allow an input method to query the system for the subset of its own input modes that are enabled. This allows you to omit from the component UI any input modes that are disabled by the user or the system. The enabled input modes returned in the array are always visible ones. That is, the array contains those input modes for which <code>kTSInputModeIsVisibleKey</code> is true; non-visible input modes are not tracked by the system. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v 10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMInputModePaletteLoadButtons" title="TSMInputModePaletteLoadButtons"></a><a name="//apple_ref/doc/c_ref/TSMInputModePaletteLoadButtons" title="TSMInputModePaletteLoadButtons"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-BCIHCHDH" title="TSMInputModePaletteLoadButtons"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_47"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_47"></a><h3 class="tight">TSMInputModePaletteLoadButtons</h3>
<p class="spaceabove">Notifies the input mode palette of changes to the controls for an input method and replaces the current controls with the new control array.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
void TSMInputModePaletteLoadButtons (
   <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> paletteButtonsArray
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paletteButtonsArray</em></dt>
<dd><p>A CFArray that contains descriptions of the controls. Use a CFDictionary to describe each control. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Input_Mode_Palette_Control_Keys">“Input Mode Palette Control Keys”</a></span> for a description of the keys you can supply.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v 10.4 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMInputModePaletteUpdateButtons" title="TSMInputModePaletteUpdateButtons"></a><a name="//apple_ref/doc/c_ref/TSMInputModePaletteUpdateButtons" title="TSMInputModePaletteUpdateButtons"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-BCIBECBE" title="TSMInputModePaletteUpdateButtons"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_48"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_48"></a><h3 class="tight">TSMInputModePaletteUpdateButtons</h3>
<p class="spaceabove">Notifies the input mode palette of changes to the controls for an input method and updates the controls.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
void TSMInputModePaletteUpdateButtons (
   <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/doc/c_ref/CFArrayRef" target="_top">CFArrayRef</a> paletteButtonsArray
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>paletteButtonsArray</em></dt>
<dd><p>A CFArray that contains descriptions of the controls. Use a CFDictionary to describe each control. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Input_Mode_Palette_Control_Keys">“Input Mode Palette Control Keys”</a></span> for a description of the keys you can supply.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function updates controls based on the control tag ID. It doe not replace or remove existing controls.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v 10.4 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMSelectInputMode" title="TSMSelectInputMode"></a><a name="//apple_ref/doc/c_ref/TSMSelectInputMode" title="TSMSelectInputMode"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_2" title="TSMSelectInputMode"></a><a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_50"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_50"></a><h3 class="tight">TSMSelectInputMode</h3>
<p class="spaceabove">Sets the specified input method input mode as the current input source.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus TSMSelectInputMode (
   <!--a-->Component<!--/a--> inComponent,
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> inInputMode
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inComponent</em></dt>
<dd><p>The component whose input mode you want to set.</p></dd>
<dt><em>inInputMode</em></dt>
<dd><p>The input mode you want to set as the current input source.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You use this function to allow an input method to select one of its own input modes as the current input source and update the Text Input menu icon in the menu bar. This function is only meaningful for input methods that adopt the input mode protocol.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v 10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code><a name="//apple_ref/c/func/TSMSetInlineInputRegion" title="TSMSetInlineInputRegion"></a><a name="//apple_ref/doc/c_ref/TSMSetInlineInputRegion" title="TSMSetInlineInputRegion"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-F16303" title="TSMSetInlineInputRegion"></a>
<a name="//apple_ref/doc/uid/TP30000174-AppendixA-DontLinkElementID_52"></a><a name="//apple_ref/doc/uid/TP30000174-CH1g-DontLinkElementID_52"></a><h3 class="tight">TSMSetInlineInputRegion</h3>
<p class="spaceabove">Defines a region within a TSM document in which inline input can occur.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus TSMSetInlineInputRegion (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/TSMDocumentID">TSMDocumentID</a> inTSMDocument,
   <a href="../../Window_Manager/Reference/reference.html#//apple_ref/doc/c_ref/WindowRef" target="_top">WindowRef</a> inWindow,
   <a href="../../QuickDraw_Ref/Reference/reference.html#//apple_ref/doc/c_ref/RgnHandle" target="_top">RgnHandle</a> inRegion
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inTSMDocument</em></dt>
<dd><p>The identification number of a TSM document created by a prior call to the <code><a href="../Reference/reference.html#//apple_ref/c/func/NewTSMDocument">NewTSMDocument</a></code> function. </p></dd>
<dt><em>inWindow</em></dt>
<dd><p>A reference to the window that contains the inline input session. You can pass <code>NULL</code> for this parameter to indicate the window that currently has user focus. </p></dd>
<dt><em>inRegion</em></dt>
<dd><p>The current inline input region. This region should be in coordinates local to the port associated with the window specified in the <code>inWindow</code> parameter. The region must be recomputed each time the text content of the inline input session changes (such as after an Update Active Input Area event) and when the region moves for other reasons (such as window resizing or scrolling). If you pass <code>NULL</code> for this parameter, the Text Service Manager defaults to intercepting mouse events for the window’s entire content region. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000174-CH4g-RCM0099">“Text Services Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>TSMSetInlineInputRegion</code> function informs the Text Services Manager of the region occupied by an inline input session. If certain mouse events (such as clicks and mouse-moved events) occur within this region, the Text Services Manager forwards these events to the current input method, so the component can respond to the user’s actions.</p>
<p>When a mouse-moved event occurs inside an inline input region (as registered via the <code>TSMSetInlineInputRegion</code> function), the Text Services Manager promotes the <code>kEventMouseMoved</code> event, after it has been received by the applicable control or window, to the window-specific <code>kEventWindowCursorChange</code> event. The Text Services Manager first delivers the <code>kEventWindowCursorChange</code> event to the active input method, then, if it is not handled, to any other active text services. If the event has still not been handled, the Text Services Manager finally passes the event to the application’s <code>kEventWindowCursorChange</code> event handler, if any. This event-dispatching process gives applications that need to see the low-level mouse-moved events a chance to see these events first, while providing a mechanism for text services and applications to act on these events without conflict. After completing this process, the Carbon Event Manager converts any <code>kEventWindowCursorChange</code> event that remains unhandled to a “classic” mouse-moved event for <code>WaitNextEvent</code> clients.</p>
<p>If an application does not call this function, when an input method is active the Text Services Manager by default intercepts mouse events in the entire content region of the window that currently has user focus. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in CarbonLib 1.1 and later.</li><li class="availability">Available in Mac OS X v 10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul>
<h5 class="tight">Declared In</h5><code>TextServices.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tsm_appendix/tsm_dep_func.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-11-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Text_Services_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000174-4.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Text_Services_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000174-4.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Text_Services_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000174-4.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>