<html>	<head>		<title>WOResourceManager (Java) </title>	</head>	<body bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../WebObjectsTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="WOResourceManager"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/WOResourceManager">WOResourceManager</a></font></h1>		<br>		<blockquote>			<dt><b>Inherits from: </b>			<dd>Object</blockquote>		<blockquote>			<dt><b>Package: </b>			<dd>com.webobjects.appserver</blockquote>		<hr size="4">		<br>		<h2>Class Description</h2>		<hr alt="">		<p>WOResourceManager manages an application's resources. It defines methods that retrieve resources from standard directories. Each WebObjects application contains a resource manager object, which you can access by sending resourceManager to the WOApplication class </p>		<br>		<br>		<br>		<h2>Method Types</h2>		<hr alt="">		<blockquote>			<dt>Retrieving resources 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/bytesForResourceNamed">bytesForResourceNamed</a> 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/contentTypeForResourceNamed">contentTypeForResourceNamed</a> 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/errorMessageUrlForResourceNamed">errorMessageUrlForResourceNamed</a> 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/inputStreamForResourceNamed">inputStreamForResourceNamed</a> 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/pathForResourceNamed">pathForResourceNamed</a> 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/urlForResourceNamed">urlForResourceNamed</a> 			<dt>Retrieving localized strings 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/stringForKey">stringForKey</a> 			<dt>Managing the application-wide data cache 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/flushDataCache">flushDataCache</a> 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/removeDataForKey">removeDataForKey</a> 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/setData">setData</a> 			<dt>Other 			<dd><a href="#//apple_ref/java/instm/WOResourceManager/toString">toString</a></blockquote>		<br>		<br>		<h2>Constructors</h2>		<hr alt="">		<br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/WOResourceManager">WOResourceManager</a></h3>		<p><code>protected <b>WOResourceManager</b>()</code></p>		Description forthcoming. 		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="BBIIIFDJ"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/bytesForResourceNamed">bytesForResourceNamed</a></h3>		<p><code>public byte[] <b>bytesForResourceNamed</b>( String <em>aResourceName</em>, String <em>aFrameworkName</em>, NSArray <em>aLanguagesList</em>)</code></p>		Returns, as a Java byte array, the contents of the specified resource. When calling this method you must provide the name of the resource (including the filename extension) specified by<em>aResourceName</em>, the name of the framework in which the resource resides (or <code>null</code> if the resource resides within the application) specified by <em>aFrameworkName</em>, and an NSArray of String objects identifying the order in which the language-specific resources should be searched (supply <code>null</code> for this third argument specified by <em>aLanguageList</em> if the default order is sufficient). 		<hr width="25%" align="LEFT">		<a name="BBIDEDDC"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/contentTypeForResourceNamed">contentTypeForResourceNamed</a></h3>		<p><code>public String <b>contentTypeForResourceNamed</b>(String <em>aResourcePath</em>)</code></p>		Returns a String containing the HTTP content type for the named resource specified by <em>aResourcePath</em>. The content type is determined based upon the filename extension; if the resource's filename supplied to this method has no extension or the extension isn't one of those listed in <tt>System/Library/Frameworks/JavaWebObjects/Resources/MIME.plist</tt>, this method returns &quot;text/plain&quot;. 		<hr width="25%" align="LEFT">		<a name="BBIFFIIJ"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/errorMessageUrlForResourceNamed">errorMessageUrlForResourceNamed</a></h3>		<p><code>public String <b>errorMessageUrlForResourceNamed</b>( String <em>aResourceName</em>, String <em>aFrameworkName</em>)</code></p>		Returns a String containing an error URL for the resource name specified by <em>aResourceName</em> and framework name specified by <em>aFrameworkName</em>. If a resource name is not supplied (that is, if <code>null</code> is passed as the first parameter), the error message will contain &quot;null&quot; in place of the resource name. If a framework name is passed as the second parameter, the error message will have the following form: <code>/ERROR/NOT_FOUND/framework=frameworkName/filename=resourceName</code>. If <code>null</code> is passed as the second parameter, the error message will include the application name instead of a framework name and will have the following form: <code>/ERROR/NOT_FOUND/app=applicationName/filename=resourceName</code>. 		<hr width="25%" align="LEFT">		<a name="flushDataCache"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/flushDataCache">flushDataCache</a></h3>		<p><code>public void <b>flushDataCache</b>()</code></p>		Removes all data from the image data cache. Use this method if you are storing data in the application-wide cache that you no longer need. 		<p>Access to the WOResourceManager object is locked at the beginning of this method and unlocked at the end.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/WOResourceManager/removeDataForKey">removeDataForKey</a>, <a href="#//apple_ref/java/instm/WOResourceManager/setData">setData</a></p>		<hr width="25%" align="LEFT">		<a name="BBICJBEI"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/inputStreamForResourceNamed">inputStreamForResourceNamed</a></h3>		<p><code>public java.io.InputStream <b>inputStreamForResourceNamed</b>( String <em>aResourceName</em>, String <em>aFrameworkName</em>, NSArray <em>aLanguagesList</em>)</code></p>		Returns a <code>java.io.InputStream</code> which you can use to read the contents of the specified resource. When calling this method you must provide the name of the resource (including the filename extension) specified by <em>aResourceName</em>, the name of the framework in which the resource resides (or <code>null</code> if the resource resides within the application) specified by <em>aFrameworkName</em>, and an NSArray of String objects identifying the order in which the language-specific resources should be searched (supply <code>null</code> for this third argument if the default order is sufficient) specified by <em>aLanguageList</em>. 		<hr width="25%" align="LEFT">		<a name="pathForResourceNamed_inFramework_languages_"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/pathForResourceNamed">pathForResourceNamed</a></h3>		<p><code>public String <b>pathForResourceNamed</b>( String <em>aResourceFile</em>, String <em>aFrameworkName</em>, NSArray <em>languagesList</em>)</code></p>		Returns the absolute path for the resource <em>aResourceFile</em>. Include the file's extension when specifying <em>aResourceFile</em>. If the file is in the application, specify null for the framework argument. 		<p>This method always returns a path like <b>/Local/Library/WebObjects/Applications/MyApp.woa/WebServerResources/MyResource</b>. It does not return the path relative to the HTTP server's document root unless the entire application is located in the document root. </p>		<p>Access to the WOResourceManager object is locked at the beginning of this method and unlocked at the end.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/WOResourceManager/urlForResourceNamed">urlForResourceNamed</a></p>		<hr width="25%" align="LEFT">		<a name="removeDataForKey_session_"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/removeDataForKey">removeDataForKey</a></h3>		<p><code>public void <b>removeDataForKey</b>( String <em>key</em>, WOSession <em>aSession</em>)</code></p>		Removes the data stored in the data cache under the key key. The session argument is currently ignored; specify null to have WOResourceManager use the application-wide cache. 		<p>This method is used by default when a dynamic element requests an image or embedded object from a database and the <b>key</b> attribute is not set for that dynamic element. If the <b>key</b> attribute isn't set, the data retrieved from the database is stored in the cache using <a href="#//apple_ref/java/instm/WOResourceManager/setData">setData</a>, sent to the dynamic element, and then removed from the cache using <b>removeDataForKey</b>. If the <b>key</b> attribute is set, <b>removeDataForKey</b> is not invoked. </p>		<p>You rarely need to invoke this method yourself. Use it only if you need to limit the amount of memory your application uses, if your application has data stored in the cache, and you know that the data is no longer needed. </p>		<p>Access to the WOResourceManager object is locked at the beginning of this method and unlocked at the end.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/WOResourceManager/flushDataCache">flushDataCache</a></p>		<hr width="25%" align="LEFT">		<a name="setData_mimeType_key_session_"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/setData">setData</a></h3>		<p><code>public void <b>setData</b>( NSData <em>someData</em>, String <em>key</em>, String <em>mimeType</em>, WOSession <em>aSession</em>)</code></p>		Adds the image or embbedded object someData of MIME type type to the data cache for the session specify by aSession. The data is stored under the key key. The session argument is currently ignored; specify null to have WOResourceManager use the application-wide cache. 		<p>This method is invoked any time a dynamic element requests an image or embedded object from a database. You rarely need to invoke it yourself. </p>		<p>By default when a dynamic element requests an image from the database, WOResourceManager fetches the image, stores it in the cache using <b>setData</b>, sends it to the dynamic element, and then removes it from the cache using <a href="#//apple_ref/java/instm/WOResourceManager/removeDataForKey">removeDataForKey</a>. However, if the dynamic element has a <b>key</b> attribute defined, then the image is stored in the database under that key, and it is not removed from the database. </p>		<p>Access to the WOResourceManager object is locked at the beginning of this method and unlocked at the end.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/WOResourceManager/flushDataCache">flushDataCache</a></p>		<hr width="25%" align="LEFT">		<a name="stringForKey_inTableNamed_withDefaultValue_languages_"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/stringForKey">stringForKey</a></h3>		<p><code>public String <b>stringForKey</b>( String <em>aKey</em>, String <em>aTableName</em>, String <em>aDefaultValue</em>, String <em>aFrameworkName</em>, NSArray <em>languagesList</em>)</code></p>		Returns a localized string from string table <em>aTable</em><b>.strings</b> using <em>aKey</em> to look it up. If no string value for the key is found in the table, <em>aDefaultValue</em> (optional) is returned. The method first searches the <em>aTable</em><b>.strings</b> file, if it exists, in each of the localized (<b>.lproj</b>) subdirectories of the application wrapper; searching proceeds in the order specified by the array <em>languagesList</em>. If no string value matching the key is found, the search then continues to the <em>aTable</em><b>.strings</b> file (if it exists) directly under the Resources directory (inside the directory with the <b>.woa</b> extension). 		<hr width="25%" align="LEFT">		<a name="BBIIDJHI"></a><br>		<h3><b><a name="//apple_ref/java/instm/WOResourceManager/toString">toString</a></b></h3>		<p><code>public String <b>toString</b>()</code></p>		Returns a String representation of the receiver suitable for debugging purposes. 		<hr width="25%" align="LEFT">		<a name="urlForResourceNamed_inFramework_languages_request_"></a><br>		<h3><a name="//apple_ref/java/instm/WOResourceManager/urlForResourceNamed">urlForResourceNamed</a></h3>		<p><code>public String <b>urlForResourceNamed</b>( String <em>aResourceFile</em>, String <em>aFrameworkName</em>, NSArray <em>languagesList</em>, WORequest <em>aRequest</em>)</code></p>		Returns the URL associated with a resource named <em>aResourceFile</em>. The URL returned is of the following form: 		<p><b>WebObjects/MyApp.woa/WebServerResources/English.lproj/</b><em>aResourceFile</em></p>		<p>Include the file's extension when specifying <em>aResourceFile</em>. If the file is in the application, specify null for the framework argument. </p>		<p>This method locates resources under the application or framework. The URL returned is computed by concatenating the application's base URL (returned by WOApplication's baseURL method and settable using the WOApplicationBaseURL user default) and the relative path of the resource. This method does not check to see if the file is actually under the document root. For example, if your application is installed in <b>/Local/Library/WebObjects/Applications</b>, and the method finds <em>aResourceFile</em> in the <b>Resources</b> directory, it returns: </p>		<p><b>/WebObjects/MyApp.woa/Resources/</b><em>aResourceFile</em></p>		<p>even though the <b>Resources</b> directory is not under the document root. </p>		<p>Access to the WOResourceManager object is locked at the beginning of this method and unlocked at the end.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/WOResourceManager/pathForResourceNamed">pathForResourceNamed</a></p>		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 15, 2001)</p>		<br>		<a href="../WebObjectsTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>