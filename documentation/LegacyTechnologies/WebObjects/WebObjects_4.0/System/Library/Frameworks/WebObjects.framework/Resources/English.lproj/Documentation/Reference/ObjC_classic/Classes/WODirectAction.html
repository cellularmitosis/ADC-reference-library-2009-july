<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>WODirectAction<</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">WebObjects Framework Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="WOCookie.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="WODisplayGroup.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/occ/cl/WODirectAction">WODirectAction</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
NSObject 

<p><B>Conforms To:</B>
NSObject (NSObject)

<p><B>Declared in:</B>
WebObjects/WODirectAction.h 

<p><a name="43">
<hr width=50% align=left>
<h2>Class Description  </h2>
</a>WODirectAction is an abstract class that defines the interface for direct action classes. You subclass WODirectAction to provide an object that is a repository for action methods. <p>
WODirectAction provides the simplest interface for addig logic and custom code to your WebObjects application. WODirectAction objects are instantiated when a URL requested by a client browser is sent to your WebObjects application. The WODirectActionRequestHandler determines the proper class and action to be invoked and then passes control to your WODirectAction subclass. <p>
In contrast to a WOComponent-based action, a direct action is well-defined by the URL that invokes it. For example, the following URL will invoke the method <B>findEmployeeAction </B> on the subclass of WODirectAtion called Common: <p>
<blockquote><pre>http://localhost/cgi-bin/WebObjects/Myapp.woa/wa/Common/findEmployee
</pre></blockquote><p>
A subclass of WODirectAction is a repository for action methods. New WebObjects applications contain a default implementation of the WODirectAction subclass called DirectAction. The DirectAction class is used when no class is specified in the URL.<p>
In summary, here are some URLs and the actions they invoke:<p>
<Table Border="3">
<caption></caption>
<tr><th><b>This URL...
</b></th><th><b>Invokes this method...
</b></th></tr>
<tr><td scope="row">../MyApp.woa/wa/ 
</td><td><B>defaultAction </B> on class DirectAction
</td></tr>
<tr><td scope="row">../MyApp.woa/wa/ find
</td><td><B>findAction </B> on classDirectAction , if it exists<br>
<B>defaultAction </B> on class find , otherwise
</td></tr>
<tr><td scope="row">../MyApp.woa/wa/Common/find
</td><td><B>findAction </B> on class Common
</td></tr>

</Table>

<Table>
<tr><td>
</Table>
<p>
WODirectActionRequestHandler invokes methods only on subclasses on WODirectAction. If the specified class or action doesn't exist, WODirectActionRequestHandler throwsraises an exception.<p>
Need to write section on "The takeValue Convenience Methods"<p>
<a name="47">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Creation
<dl><dt><a href="WODirectAction.html#16594">- initWithRequest:</a>
</dl><dt>Obtaining attributes
<dl><dt><a href="WODirectAction.html#74">- request</a>
</dl><dt>Obtaining a session
<dl><dt><a href="WODirectAction.html#54">- existingSession</a>
<dt><a href="WODirectAction.html#78">- session</a>
</dl><dt>Obtaining a page
<dl><dt><a href="WODirectAction.html#3761">- pageWithName:</a>
</dl><dt>Performing an action
<dl><dt><a href="WODirectAction.html#70">- performActionNamed:</a>
</dl><dt>Value assignment
<dl><dt><a href="WODirectAction.html#82">- takeFormValueArraysForKeyArray:</a>
<dt><a href="WODirectAction.html#16771">- takeFormValueArraysForKeys:</a>
<dt><a href="WODirectAction.html#4023">- takeFormValuesForKeyArray:</a>
<dt><a href="WODirectAction.html#16835">- takeFormValuesForKeys:</a>
</dl><dt>Debugging
<dl><dt><a href="WODirectAction.html#16513">- debugWithFormat:</a>
<dt><a href="WODirectAction.html#16600">- logWithFormat:</a>
</dl></dl><a name="1703">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="16513">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/debugWithFormat:">debugWithFormat:</a></h3>
</a>- (void)<code>debugWithFormat:</code>(NSString *)<em>aFormatString,...</em> <p>
This method is similar to <a href="WODirectAction.html#16600"><B>logWithFormat: </B></a> except that you can control whether it displays output with the <B>WODebuggingEnabled </B> user default option. If <B>WODebuggingEnabled </B> is YES, then the <a href="WODirectAction.html#16513"><B>debugWithFormat: </B></a> messages display their output. If <B>WODebuggingEnabled </B> is NO, the <a href="WODirectAction.html#16513"><B>debugWithFormat: </B></a> messages don\xd5 t display their output. <p>
<B>See also: </B>  
<a href="WOApplication.html#7730">- <B>debugWithFormat: </B></a> (<a href="WOApplication.html">- <B>WOApplication </B></a>)
<p><a name="54">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/hasSession">existingSession</a></h3>
</a>- (WOSession*)<B>existingSession </B><p>
Restores the session based on the request.  If the request did not have a session ID or the session ID referred to a non-existent session, then this method returns <B>nil </B>.  To determine if a session failed to restore, check the request's session ID to see if it non-<B>nil </B> and if so, call this method to check its result.<p>
<B>See also: </B>  
<a href="WODirectAction.html#78">- <B>session </B></a>
<p><a name="16594">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/initWithRequest:">initWithRequest:</a></h3>
</a>- <code>initWithRequest:</code>(WORequest *)<em>aRequest</em> <p>
This is the designated initializer for all subclasses of WODirectAction. Whne you create a subclass, you must override this method to provide any additional initialization. <p>
<a name="16600">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/logWithFormat:">logWithFormat:</a></h3>
</a>- (void)<code>logWithFormat:</code>(NSString *)<em>aFormatString,...</em> <p>
Prints a message to the standard error device (stderr). The message can include formatted variable data using printf-style conversion specifiers, for example: <p>
<blockquote><pre>id i = 500;
</pre></blockquote><p>
<blockquote><pre>id f = 2.045;
</pre></blockquote><p>
<blockquote><pre>[self logWithFormat:@"Amount = %@, Rate = %@, Total = %@", i, f, i*f];
</pre></blockquote><p>
Note that in WebScript, all variables are objects, so the only conversion specifier allowed is <B>%@ </B> as shown above. In compiled Objective-C code, all <B>printf </B> conversion specifiers are allowed. The equivalent method in Java is <B>logString </B>. <p>
<B>See also: </B>  
<a href="WOApplication.html#110418">- <B>logWithFormat: </B></a> (<a href="WOApplication.html">- <B>WOApplication </B></a>)
<p><a name="3761">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/pageWithName:">pageWithName:</a></h3>
</a>- (WOComponent *)<code>pageWithName:</code>(NSString *)<em>aComponentName</em> <p>
Returns the WOComponent with the specified name.<p>
<a name="70">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/performActionNamed:">performActionNamed:</a></h3>
</a>- (id &lt;WOActionResults&gt;)<code>performActionNamed:</code>(NSString *)<em>anActionName</em> <p>
Performs the action with the specified name and returns the result of that action. The default implementation appends \xd2 Action\xd3  to <em>anActionName</em> and tries to invoke resulting method name. Override this method to change how actions are dispatched.<p>
<a name="74">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/request">request</a></h3>
</a>- (WORequest *)<code>request</code> <p>
Returns the WORequest object that initiated the action.<p>
<a name="78">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/session">session</a></h3>
</a>- (WOSession *)<code>session</code> <p>
Returns the current session. If there is no session, this method first tries to restore the session that the request\xd5 s session ID refers to. If the request has no session IDwhich is a possibility if the application is written entirely with direct actionsthis method creates a new session and returns it. If the session ID refers to a session that doesn\xd5 t exist or cannot be restored, this method raises an exception. <p>
<B>See also: </B>  
<a href="WODirectAction.html#54">- <B>existingSession </B></a>
<p><a name="82">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeyArray:">takeFormValueArraysForKeyArray:</a></h3>
</a>- (void)<code>takeFormValueArraysForKeyArray:</code>(NSArray *)<em>aKeyArray</em> <p>
Performs <B>takeValue:forKey: </B> on each key in <em>aKeyArray</em> using values from the receiver\xd5 s request.<p>
This method uses an NSArray for each form value. This is useful when a user can select multiple items for a form value, such as a WOBrowser. If a form value contains only one item, this method uses an NSArray with one object. To use single objects as form values, use <a href="WODirectAction.html#4023"><B>takeFormValuesForKeyArray: </B></a>. <p>
<B>See also: </B>  
<a href="WODirectAction.html#16771"><B>takeFormValueArraysForKeys: </B></a>
<p><a name="16771">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeys:">takeFormValueArraysForKeys:</a></h3>
</a>- (void)<code>takeFormValueArraysForKeys:</code>(NSString *)<em>aFirstKey,...</em> <p>
Performs <B>takeValue:forKey: </B> on the specified keys using values from the receiver\xd5 s request. The last key must be nil.<p>
This method uses an NSArray for each form value. This is useful when a user can select multiple items for a form value, such as a WOBrowser. If a form value contains only one item, this method uses an NSArray with one object. To use single objects as form values, use <a href="WODirectAction.html#16835"><B>takeFormValuesForKeys: </B></a>. <p>
<B>See also: </B>  
<a href="WODirectAction.html#82"><B>takeFormValueArraysForKeyArray: </B></a>
<p><a name="4023">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeyArray:">takeFormValuesForKeyArray:</a></h3>
</a>- (void)<code>takeFormValuesForKeyArray:</code>(NSArray *)<em>aKeyArray</em> <p>
Performs <B>takeValue:forKey: </B> on the each key in <em>aKeyArray</em> using values from the receiver\xd5 s request.<p>
This method uses an a single object for each form value. If a form value contains more than one item, such as a WOBrowser, this method uses the first item in the array. To use arrays of objects as form values, use <a href="WODirectAction.html#82"><B>takeFormValueArraysForKeyArray: </B></a>. <p>
<B>See also: </B>  
<a href="WODirectAction.html#16835"><B>takeFormValuesForKeys: </B></a><em> 
</em><p><a name="16835">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeys:">takeFormValuesForKeys:</a></h3>
</a>- (void)<code>takeFormValuesForKeys:</code>(NSString *)<em>aFirstKey,...</em> <p>
Performs <B>takeValue:forKey: </B> on the specified keys using values from the receiver\xd5 s request. The last key must be nil.<p>
This method uses an a single object for each form value. If a form value contains more than one item, such as a WOBrowser, this method uses the first item in the array. To use arrays of objects as form values, use <a href="WODirectAction.html#16771"><B>takeFormValueArraysForKeys: </B></a>. <p>
<B>See also: </B>  
<a href="WODirectAction.html#4023"><B>takeFormValuesForKeyArray: </B></a>
<p><a name="7879">
<hr width=25% align=left>
<h3> </h3>
</a>
<hr><br>
 
<!--<a href="../WebObjectsTOC.html" target="_top">[TOC]-->
<a href="WOCookie.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="WODisplayGroup.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/10/98 11:56:01 -->

</body>
</html>
