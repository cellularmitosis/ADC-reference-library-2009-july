<html><head><title>Mac OS X
 Manual Page For MPI_Comm_spawn_multiple(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/MPI_Comm_spawn_multiple" title="Mac OS X
 Manual Page for MPI_Comm_spawn_multiple(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/MPI_Comm_spawn_multiple"; name=MPI_Comm_spawn_multiple(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
MPI_Comm_spawn_multiple(3OpenMPI)                                          MPI_Comm_spawn_multiple(3OpenMPI)



<b>NAME</b>
       <b>MPI_Comm_spawn_multiple</b>  -  Spawns  multiple binaries, or the same binary with multiple sets of argu-<font color="#ffffff" class="whiteout">ments.&nbsp;arguments.</font>
       ments.


<b>SYNTAX</b>
<b>C</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       int MPI_Comm_spawn_multiple(int <u>count</u>, char *<u>array</u><b>_</b><u>of</u><b>_</b><u>commands</u>[],
            char **<u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u>[], int <u>array</u><b>_</b><u>of</u><b>_</b><u>maxprocs</u>[], MPI_Info
            <u>array</u><b>_</b><u>of</u><b>_</b><u>info</u>[], int <u>root</u>, MPI_Comm <u>comm</u>, MPI_Comm *<u>intercomm</u>,
            int <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u>[])


<b>Fortran</b> <b>Syntax</b>
       INCLUDE 'mpif.h'
       MPI_COMM_SPAWN_MULTIPLE(<u>COUNT,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>COMMANDS,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>ARGV,</u>
            <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>MAXPROCS,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>INFO,</u> <u>ROOT,</u> <u>COMM,</u> <u>INTERCOMM,</u>
            <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>ERRCODES,</u> <u>IERROR</u>)
            INTEGER   <u>COUNT,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>INFO(*),</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>MAXPROCS(*),</u> <u>ROOT,</u>
                 <u>COMM,</u> <u>INTERCOMM,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>ERRCODES(*),</u> <u>IERROR</u>
            CHARACTER*(*) <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>COMMANDS</u>(*), <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>ARGV</u>(<u>COUNT</u>, *)


<b>C++</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       MPI::Intercomm MPI::Intracomm::Spawn_multiple(int <u>count</u>,
            const char* <u>array</u><b>_</b><u>of</u><b>_</b><u>commands</u>[], const char** <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u>[],
            const int <u>array</u><b>_</b><u>of</u><b>_</b><u>maxprocs</u>[], const MPI::Info <u>array</u><b>_</b><u>of</u><b>_</b><u>info</u>[],
            int <u>root</u>, int <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u>[])

       MPI::Intercomm MPI::Intracomm::Spawn_multiple(int <u>count</u>,
            const char* <u>array</u><b>_</b><u>of</u><b>_</b><u>commands</u>[], const char** <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u>[],
            const int <u>array</u><b>_</b><u>of</u><b>_</b><u>maxprocs</u>[], const MPI::Info <u>array</u><b>_</b><u>of</u><b>_</b><u>info</u>[],
            int <u>root</u>)


<b>INPUT</b> <b>PARAMETERS</b>
       count     Number of commands (positive integer, significant to MPI only at <u>root</u> -- see NOTES).

       array_of_commands
                 Programs to be executed (array of strings, significant only at <u>root</u>).

       array_of_argv
                 Arguments for <u>commands</u> (array of array of strings,  significant only at <u>root</u>).

       array_of_maxprocs
                 Maximum number of processes to start for each command (array of integers, significant  only
                 at <u>root</u>).

       array_of_info
                 Info objects telling the runtime system where and how to start processes (array of handles,
                 significant only at <u>root</u>).

       root      Rank of process in which previous arguments are examined (integer).

       comm      Intracommunicator containing group of spawning processes (handle).


<b>OUTPUT</b> <b>PARAMETERS</b>
       intercomm Intercommunicator between original group and the newly spawned group (handle).

       array_of_errcodes
                 One code per process (array of integers).

       IERROR    Fortran only: Error status (integer).


<b>DESCRIPTION</b>
       MPI_Comm_spawn_multiple is identical to MPI_Comm_spawn except that it can specify  multiple  executa-<font color="#ffffff" class="whiteout">bles.&nbsp;executables.</font>
       bles.  The  first  argument, <u>count</u>, indicates the number of executables. The next three arguments are
       arrays of the corresponding arguments in MPI_Comm_spawn. The  next  argument,  <u>array</u><b>_</b><u>of</u><b>_</b><u>info</u>,  is  an
       array  of  <u>info</u>  arguments;  however,  only the first argument in that array is used.  Any subsequent
       arguments in the array are ignored because an <u>info</u>  argument  applies  to  the  entire  job  that  is
       spawned,  and cannot be different for each executable in the job.  See the INFO ARGUMENTS section for
       more information.

       For the Fortran version of <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u>, the element <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u>(i,j) is the jth argument to  com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
       mand number i.

       In  any  language,  an  application  may use the constant MPI_ARGVS_NULL (which is likely to be (char
       ***)0 in C) to specify that no arguments should be passed to any  commands.  The  effect  of  setting
       individual  elements  of <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u> to MPI_ARGV_NULL is not defined. To specify arguments for some
       commands but not others, the commands without arguments should have a corresponding <u>argv</u> whose  first
       element is null ((char *)0 in C and empty string in Fortran).

       All  of  the spawned processes have the same MPI_COMM_WORLD. Their ranks in MPI_COMM_WORLD correspond
       directly to the order in which the commands are specified in MPI_Comm_spawn_multiple. Assume that  m1
       processes  are  generated by the first command, m2 by the second, etc. The processes corresponding to
       the first command have ranks 0, 1,..., m1-1. The processes in the second command have ranks m1, m1+1,
       ..., m1+m2-1. The processes in the third have ranks m1+m2, m1+m2+1, ..., m1+m2+m3-1, etc.

       The <u>array</u><b>_</b><u>of</u><b>_</b><u>errcodes</u> argument is 1-dimensional array of size

             _ count
            \       n ,
            /_ i=1   i

       where  i  is  the  ith element of <u>array</u><b>_</b><u>of</u><b>_</b><u>maxprocs</u>. Command number <u>i</u> corresponds to the i contiguous
       slots in this array from element

                             _              _
             _ <u>i</u>-1          |   _ <u>i</u>          |
            \       n ,  to |  \      n      | -1
            /_ <u>j</u>=1   i      |  /_ <u>j</u>=1  j     |
                            |_              _|

       Error codes are treated as for MPI_Comm_spawn.



<b>INFO</b> <b>ARGUMENTS</b>
       The following values for <u>info</u> are recognized in Open MPI 1.2. (The reserved values mentioned in  Sec-<font color="#ffffff" class="whiteout">tion&nbsp;Section</font>
       tion 5.3.4 of the MPI-2 standard are not implemented.)


       Key value             Type      Description
       ----------            ----      -----------<font color="#ffffff" class="whiteout">host&nbsp;----------host</font>

       host                  char *    Host on which the process should be spawned.
       wdir                  char *    Directory where the executable is located.


       Note  that  in Open MPI 1.2, the first array location in <u>array</u><b>_</b><u>of</u><b>_</b><u>info</u> is applied to all the commands
       in <u>array</u><b>_</b><u>of</u><b>_</b><u>commands</u>.


<b>NOTES</b>
       The argument <u>count</u> is interpreted by MPI only at the root, as is  <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u>.  Since  the  leading
       dimension  of  <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u> is <u>count</u>, a nonpositive value of <u>count</u> at a nonroot node could theoreti-<font color="#ffffff" class="whiteout">cally&nbsp;theoretically</font>
       cally cause a runtime bounds check error, even though <u>array</u><b>_</b><u>of</u><b>_</b><u>argv</u> should be ignored by the  subrou-<font color="#ffffff" class="whiteout">tine.&nbsp;subroutine.</font>
       tine. If this happens, you should explicitly supply a reasonable value of <u>count</u> on the nonroot nodes.

       Calling MPI_Comm_spawn many times would create many sets of children with different  MPI_COMM_WORLDs,
       whereas MPI_Comm_spawn_multiple creates children with a single MPI_COMM_WORLD, so the two methods are
       not completely equivalent. Also  if you need to spawn multiple executables, you may get  better  per-<font color="#ffffff" class="whiteout">formance&nbsp;performance</font>
       formance by using MPI_Comm_spawn_multiple instead of calling MPI_Comm_spawn several times.


<b>ERRORS</b>
       Almost  all  MPI  routines return an error value; C routines as the value of the function and Fortran
       routines in the last argument. C++ functions do not return errors. If the default  error  handler  is
       set  to MPI::ERRORS_THROW_EXCEPTIONS, then on error the C++ exception mechanism will be used to throw
       an MPI:Exception object.

       Before the error value is returned, the current MPI error handler is called. By default,  this  error
       handler  aborts  the  MPI  job, except for I/O function errors. The error handler may be changed with
       MPI_Comm_set_errhandler; the predefined error handler MPI_ERRORS_RETURN may be used  to  cause  error
       values  to  be  returned.  Note  that MPI does not guarantee that an MPI program can continue past an
       error.


<b>SEE</b> <b>ALSO</b>
       <a href="MPI_Comm_spawn.3.html#//apple_ref/doc/man/3/MPI_Comm_spawn">MPI_Comm_spawn(3)</a>
       <a href="MPI_Comm_get_parent.3.html#//apple_ref/doc/man/3/MPI_Comm_get_parent">MPI_Comm_get_parent(3)</a>
       <a href="../man1/mpirun.1.html#//apple_ref/doc/man/1/mpirun">mpirun(1)</a>




Open MPI 1.2                                   September 2006              MPI_Comm_spawn_multiple(3OpenMPI)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Comm_spawn_multiple.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Comm_spawn_multiple.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Comm_spawn_multiple.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
