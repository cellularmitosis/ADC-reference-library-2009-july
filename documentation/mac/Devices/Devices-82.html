<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SReadStruct(IM: D)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING82></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="Devices-81.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-83.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Devices-2.html"><B>Devices</B></A> / <BR><DD><A HREF="Devices-53.html"><B>Chapter 2 - Slot Manager</B></A> / <A HREF="Devices-57.html"><B>Slot Manager Reference</B></A><BR><DL><DD><A HREF="Devices-65.html"><B>Slot Manager Routines</B></A> / <A HREF="Devices-74.html"><B>Getting Information From sResources</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING82-0></A>
<H3>SReadStruct</H3>
 <A NAME=MARKER-11-332></A><A NAME=MARKER-2-333></A>You can use the <CODE>SReadStruct</CODE> function to obtain a copy of any data structure pointed to by an sResource entry. You might want to use this function, for example, when the data structure type is defined by the card designer.<P>
<PRE>
FUNCTION SReadStruct (spBlkPtr: SpBlockPtr): OSErr;
</PRE>
<DL>
<DT>spBlkPtr
<DD> A pointer to a Slot Manager parameter block.
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD><symbol>--><EM></EM><TD><CODE>spResult</CODE><TD>Ptr<TD>A pointer to a memory block.<TR>
<TD><symbol>--><EM></EM><TD><CODE>spsPointer</CODE><TD>Ptr<TD>A pointer to the structure.<TR>
<TD><symbol>--><EM></EM><TD><CODE>spSize</CODE><TD>LongInt<TD>The length in bytes of the structure.<TR>
<TD><B>X</B><TD><CODE>spByteLanes</CODE><TD>SignedByte<TD>&nbsp;</TABLE>
</B><P>
<A NAME=HEADING82-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>SReadStruct</CODE> function copies any arbitrary data structure from the declaration ROM of an expansion card into memory.<P>
 You provide a pointer to the structure in the <CODE>spsPointer</CODE> field and specify the size of the structure in the <CODE>spSize</CODE> field. You must also allocate a memory block for the result and send a pointer to it in the <CODE>spResult</CODE> field.<P>
 The <CODE>SReadStruct</CODE> function copies the data structure into the memory block pointed to by the <CODE>spResult</CODE> field.<P>
<A NAME=HEADING82-9></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 This function may alter the value of the <CODE>spByteLanes</CODE> field of the parameter block. Your application should not depend on the value returned in this field.<P>
<A NAME=HEADING82-11></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for the <CODE>SReadStruct</CODE> function are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_SlotManager<TD>$0007</TABLE>
<P>
 You must set up register D0 with the routine selector and register A0 with the address of the Slot Manager parameter block. When <CODE>_SlotManager</CODE> returns, register D0 contains the result code.
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT colspan=2>Registers on entry<TR>
<TD>A0<TD>Address of the parameter block<TR>
<TD>D0<TD>$0007</TABLE>

<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT colspan=2>Registers on exit<TR>
<TD>D0<TD>Result code</TABLE>
<P>
<A NAME=HEADING82-14></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>noErr<TH>0<TH>No error<TR>
<TD>smNoMoresRsrcs<TD>-344<TD>Requested sResource not found</TABLE>
</H5>
<A NAME=HEADING82-15></A>
<H5>SEE ALSO</H5>
 For information about obtaining a pointer to a data structure pointed to by the offset field of an sResource entry, rather than a copy of the data structure, see the description of the <CODE>SFindStruct</CODE> function on <A HREF=Devices-81.html#MARKER-9-328>page 2-48</A>.<A NAME=MARKER-2-334></A><A NAME=MARKER-2-335></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Devices-81.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-83.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Devices-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>  
