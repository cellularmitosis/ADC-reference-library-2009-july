<HTML>		<HEAD>		<TITLE>			WOContext		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!-- #include virtual="/techpubs/navbar" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>WebObjects Reference</font><br><br><!--end of path --><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "WOContext"><BR><h1><FONT COLOR=\"#000066\"><a name="//apple_ref/java/cl/WOContext">WOContext</a></FONT></h1><br></a><blockquote><b>Inheritsfrom: </b> NSObject</blockquote><blockquote><b>Package: </b>com.apple.yellow.webobjects</blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>A WOContext object lets you access objects and informationthat define the <em>context</em> of a transaction.In a typical request-response loop (a transaction), several objectshave a hand in what is going on: the  <a frame= "conv" href="WOApplication.html#WOApplication">WOApplication</a> and  <a frame= "conv" href="WOSession.html#WOSession">WOSession</a> objects, the page involvedin the request or response (a  <a frame= "conv" href="WOComponent.html#WOComponent">WOComponent</a> object), the page's subcomponents(also WOComponents), plus the dynamic elements on the page. TheWOContext object passed as an argument in the  <a frame= "conv" href="WOComponent.html#//apple_ref/java/instm/WOComponent/takeValuesFromRequest">takeValuesFromRequest</a>,  <a frame= "conv" href="WOComponent.html#//apple_ref/java/instm/WOComponent/invokeActionForRequest">invokeActionForRequest</a>,and  <a frame= "conv" href="WOComponent.html#//apple_ref/java/instm/WOComponent/appendToResponse">appendToResponse</a> messagesallows access to these objects. A context is identified by the <em>contextID</em>, which appears in the URL after the session IDand page name. Each context ID is an integer that the session incrementseach time a new context is created. </p><p>WOContext objects provide other information and services relatedto the current transaction. From them you can get the entire URLcurrently in effect as well as portions of that URL, such as theelement ID, the context ID, and the URL up to and including thesession ID.</p><p>A WOContext object plays a further role behind the scenes.For the benefit of a page's dynamic elements, it keeps track ofthe <em>current component</em>, that is, theWOComponent associated with the current element in the request-handlingcycle. The current component can be the WOComponent that representsone of the page's subcomponents or the page itself. By referenceto the current component (accessed through WOContext's  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/component">component</a> method),a dynamic element can exchange values associatively between itselfand the WOComponent that contains it.</p><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Constructors</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/WOContext">WOContext</a></dd></dl><dl><dt>Creating new object instances</dt><dd> <a frame= "conv" href="#//apple_ref/java/clm/WOContext/contextWithRequest">contextWithRequest</a></dd></dl><dl><dt>Obtaining attributes</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/component">component</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/contextID">contextID</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/elementID">elementID</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/hasSession">hasSession</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/isInForm">isInForm</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/page">page</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/request">request</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/response">response</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/session">session</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/session">session</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/setInForm">setInForm</a></dd></dl><dl><dt>Manipulating elementID</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendElementIDComponent">appendElementIDComponent</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendZeroElementIDComponent">appendZeroElementIDComponent</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteAllElementIDComponents">deleteAllElementIDComponents</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteLastElementIDComponent">deleteLastElementIDComponent</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/incrementLastElementIDComponent">incrementLastElementIDComponent</a></dd></dl><dl><dt>Generating URLs</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/directActionURLForActionNamed">directActionURLForActionNamed</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/completeURLWithRequestHandlerKey">completeURLWithRequestHandlerKey</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/componentActionURL">componentActionURL</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOContext/urlWithRequestHandlerKey">urlWithRequestHandlerKey</a></dd></dl></blockquote><br><br><h2>Constructors</h2><hr><a name = "WOContext constructor"><BR><h3><a name="//apple_ref/java/instm/WOContext/WOContext">WOContext</a></h3></a><p><code>public <b>WOContext</b>()</code></p>Returns a WOContext instance initialized witha unique context ID.<p><code>public <b>WOContext</b>(WORequest <em>aRequest</em>)</code></p>Returns a WOContext instance initialized with <em>aRequest</em>.<hr WIDTH=25% ALIGN=LEFT><br><br><h2>Static Methods</h2><hr><a name = "contextWithRequest_"><BR><h3><a name="//apple_ref/java/clm/WOContext/contextWithRequest">contextWithRequest</a></h3></a><p><code>public static WOContext <b>contextWithRequest</b>(WORequest <em>aRequest</em>)</code></p>Creates and returns a WOContext with <em>aRequest</em>.This is the preferred way to create a WOContext. All other constructorscall this one, so if you subclass WOContext, you need to overrideonly this one.<hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "appendElementIDComponent_"><BR><h3><a name="//apple_ref/java/instm/WOContext/appendElementIDComponent">appendElementIDComponent</a></h3></a><p><code>public void <b>appendElementIDComponent</b>(String <em>aString</em>)</code></p>Appends a string to the current element ID tocreate an identifier of an HTML element. For example, if the currentelement ID is "0.1.1" and you send this message with anargument of "NameField," the element ID for that fieldbecomes "0.1.1.NameField".<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteAllElementIDComponents">deleteAllElementIDComponents</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteLastElementIDComponent">deleteLastElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/incrementLastElementIDComponent">incrementLastElementIDComponent</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "appendZeroElementIDComponent"><BR><h3><a name="//apple_ref/java/instm/WOContext/appendZeroElementIDComponent">appendZeroElementIDComponent</a></h3></a><p><code>public void <b>appendZeroElementIDComponent</b>()</code></p>Appends a ".0" to the current elementID to create an identifier of the first "child" HTML element.For example, if the current element ID is "0.1.1", afteryou send this message the element ID becomes "0.1.1.0".<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteAllElementIDComponents">deleteAllElementIDComponents</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteLastElementIDComponent">deleteLastElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/incrementLastElementIDComponent">incrementLastElementIDComponent</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "completeURLWithRequestHandlerKey_path_queryString_isSecure_port_"><BR><h3><a name="//apple_ref/java/instm/WOContext/completeURLWithRequestHandlerKey">completeURLWithRequestHandlerKey</a></h3></a><p><code>public String <b>completeURLWithRequestHandlerKey</b>(String <em>requestHandlerKey</em>,String <em>aRequestHandlerPath</em>,String <em>aQueryString</em>,boolean <em>isSecure</em>,int <em>somePort</em>)</code></p>Returns the complete URL for the specified requesthandler. The <em>requestHandlerKey</em> isone of the keys provided by WOApplication. The <em>requestHandlerPath</em> isany URL encoded string. The <em>queryString</em> is addedat the end of the URL behind a "?". If <em>isSecure</em> is true,this method uses "https" instead of "http." If <em>somePort</em> is0 (zero), this method uses the default port. <p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/urlWithRequestHandlerKey">urlWithRequestHandlerKey</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "component"><BR><h3><a name="//apple_ref/java/instm/WOContext/component">component</a></h3></a><p><code>public WOComponent <b>component</b>()</code></p>Returns the component that dynamic elementsare currently using to push and pull values associatively. Thiscomponent could represent the current request or response page ora subcomponent of that page.<p><b>See Also: </b>  <a frame= "conv" href="WOComponent.html#WOComponent">WOComponent</a> class,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/page">page</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/request">request</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/response">response</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/session">session</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "componentActionURL"><BR><h3><a name="//apple_ref/java/instm/WOContext/componentActionURL">componentActionURL</a></h3></a><p><code>public String <b>componentActionURL</b>()</code></p>Returns the complete URL for the component action.<hr WIDTH=25% ALIGN=LEFT><a name = "contextID"><BR><h3><a name="//apple_ref/java/instm/WOContext/contextID">contextID</a></h3></a><p><code>public String <b>contextID</b>()</code></p>Returns the context ID of the receiver.<hr WIDTH=25% ALIGN=LEFT><a name = "deleteAllElementIDComponents"><BR><h3><a name="//apple_ref/java/instm/WOContext/deleteAllElementIDComponents">deleteAllElementIDComponents</a></h3></a><p><code>public void <b>deleteAllElementIDComponents</b>()</code></p>Deletes all components of the current elementID.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendElementIDComponent">appendElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendZeroElementIDComponent">appendZeroElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/incrementLastElementIDComponent">incrementLastElementIDComponent</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "deleteLastElementIDComponent"><BR><h3><a name="//apple_ref/java/instm/WOContext/deleteLastElementIDComponent">deleteLastElementIDComponent</a></h3></a><p><code>public void <b>deleteLastElementIDComponent</b>()</code></p>Deletes the last digit (or name) of the currentelement ID, along with its dot separator. Thus, after sending thismessage, "0.0.1.1" becomes "0.0.1".<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendElementIDComponent">appendElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendZeroElementIDComponent">appendZeroElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/incrementLastElementIDComponent">incrementLastElementIDComponent</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "directActionURLForActionNamed_queryDictionary_"><BR><h3><a name="//apple_ref/java/instm/WOContext/directActionURLForActionNamed">directActionURLForActionNamed</a></h3></a><p><code>public String <b>directActionURLForActionNamed</b>(String <em>anActionName</em>,NSDictionary <em>aQueryDict</em>)</code></p>Returns the complete URL for the specified action.You can specify <em>aQueryDict</em>, and <em>anActionName</em> can be "ActionClass/ActionName"or "ActionName". <p><b>See Also: </b>  <a frame= "conv" href="WODirectAction.html#WODirectAction">WODirectAction</a> class specification</p><hr WIDTH=25% ALIGN=LEFT><a name = "elementID"><BR><h3><a name="//apple_ref/java/instm/WOContext/elementID">elementID</a></h3></a><p><code>public String <b>elementID</b>()</code></p>Returns the element ID identifying the current  <a frame= "conv" href="WOElement.html#WOElement">WOElement</a>.This method helps you avoidcreating a session in direct actions.<hr WIDTH=25% ALIGN=LEFT><a name = "hasSession"><BR><h3><a name="//apple_ref/java/instm/WOContext/hasSession">hasSession</a></h3></a><p><code>public boolean <b>hasSession</b>()</code></p>Returns whether a session exists for the receivingcontext.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/session">session</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "incrementLastElementIDComponent"><BR><h3><a name="//apple_ref/java/instm/WOContext/incrementLastElementIDComponent">incrementLastElementIDComponent</a></h3></a><p><code>public void <b>incrementLastElementIDComponent</b>()</code></p>Increments the last digit of the current elementID. For example, after this message is sent, "0.0.1.2" becomes"0.0.1.3".<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendElementIDComponent">appendElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/appendZeroElementIDComponent">appendZeroElementIDComponent</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteAllElementIDComponents">deleteAllElementIDComponents</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/deleteLastElementIDComponent">deleteLastElementIDComponent</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "isInForm"><BR><h3><a name="//apple_ref/java/instm/WOContext/isInForm">isInForm</a></h3></a><p><code>public boolean <b>isInForm</b>()</code></p>Returns true when in the context of a WOForm. <p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/setInForm">setInForm</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "page"><BR><h3><a name="//apple_ref/java/instm/WOContext/page">page</a></h3></a><p><code>public WOComponent <b>page</b>()</code></p>Returns the  <a frame= "conv" href="WOComponent.html#WOComponent">WOComponent</a> object that representsthe request or response page.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/component">component</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/request">request</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/response">response</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/session">session</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "request"><BR><h3><a name="//apple_ref/java/instm/WOContext/request">request</a></h3></a><p><code>public WORequest <b>request</b>()</code></p>Returns the transaction's  <a frame= "conv" href="WORequest.html#WORequest">WORequest</a> object.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/component">component</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/page">page</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/response">response</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/session">session</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "response"><BR><h3><a name="//apple_ref/java/instm/WOContext/response">response</a></h3></a><p><code>public WOResponse <b>response</b>()</code></p>Returns the transaction's  <a frame= "conv" href="WOResponse.html#WOResponse">WOResponse</a> object.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/component">component</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/page">page</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/response">response</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/session">session</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "requestSenderID"><BR><h3><a name="//apple_ref/java/instm/WOContext/senderID">senderID</a></h3></a><p><code>public String <b>senderID</b>()</code></p>Returns the part of the WORequest's URI thatidentifies the dynamic element on the page (such as a form or anactive image) responsible for submitting the request. The senderID is the same as the element ID used to identify the dynamic element.A request's sender ID may be null, as it always is on the firstrequest of a session.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/request">request</a> ,  <a frame= "conv" href="WORequest.html#//apple_ref/java/instm/WORequest/uri">uri</a> (WORequest)</p><hr WIDTH=25% ALIGN=LEFT><a name = "session"><BR><h3><a name="//apple_ref/java/instm/WOContext/session">session</a></h3></a><p><code>public WOSession <b>session</b>()</code></p>Returns the object representing the receivingcontext's session, if one exists. If the receiver does not have asession, this method creates a new session object and returns it.Note that not all contexts have a session: Direct Actions, for instance,don't always need a session. Use  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/hasSession">hasSession</a> to determine whether acontext has a session associated with it.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/component">component</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/page">page</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/request">request</a>,  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/response">response</a>,  <a frame= "conv" href="WOSession.html#WOSession">WOSession</a> class</p><hr WIDTH=25% ALIGN=LEFT><a name = "setInForm_"><BR><h3><a name="//apple_ref/java/instm/WOContext/setInForm">setInForm</a></h3></a><p><code>public void <b>setInForm</b>(boolean <em>flag</em>)</code></p>If you write something that behaves like a WOForm,set this to notify WODynamicElements that they are in a form.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/isInForm">isInForm</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "urlWithRequestHandlerKey_path_queryString_"><BR><h3><a name="//apple_ref/java/instm/WOContext/urlWithRequestHandlerKey">urlWithRequestHandlerKey</a></h3></a><p><code>public String <b>urlWithRequestHandlerKey</b>(String <em>requestHandlerKey</em>,String <em>aRequestHandlerPath</em>,String <em>aQueryString</em>)</code></p>Returns a URL relative to cgi-bin/WebObjectsfor the specified request handler. The <em>requestHandlerKey</em> isone of the keys provided by WOApplication. The <em>requestHandlerPath</em> isany URL encoded string. The <em>queryString</em> isadded at the end of the URL behind a "?".<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOContext/completeURLWithRequestHandlerKey">completeURLWithRequestHandlerKey</a></p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>