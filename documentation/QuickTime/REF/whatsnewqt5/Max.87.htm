<HTML><head><script language="JavaScript" src="../../RM/frametest.js"></script><TITLE> QTDrawing Listener and Notification Services</TITLE><script language=javascript> window.parent.focus(); </script></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>What's New in QuickTime 5</I><P>| <A HREF="Max.86.htm">Previous</A> | <A HREF="Max.1.htm">Chapter Contents</A> | <A HREF="Max.htm">Chapter Top</A> | <A HREF="Max.88.htm">Next</A> |</P></DIV><!-- QTnavbar end --><H1 CLASS="H2.Heading2"><A NAME="pgfId=92393"> </A>QTDrawing Listener and Notification Services</H1><P CLASS="T1.Text1"><A NAME="pgfId=92456"> </A>Two new classes have been added to QuickTime for Java that provide notification services for DynamicImage classes upon completion of drawing operations. For notification of drawing operations, the <TT CLASS="cv">DrawingNotifier</TT> interface is used, and the <TT CLASS="cv">DrawingListener</TT> interface is used to register interest in drawing complete notifications.</P><P CLASS="T1.Text1"><A NAME="pgfId=92470"> </A>Several QTJ classes were modified to use the <TT CLASS="cv">DrawingNotifier</TT> interface: <TT CLASS="cv">MoviePlayer</TT>, <TT CLASS="cv">MoviePresenter</TT>, <TT CLASS="cv">QTEffectPresenter</TT>, and <TT CLASS="cv">SWCompositor</TT>. These classes provide a method <TT CLASS="cv">addDrawingListener()</TT> that you may call to register your class.</P><P CLASS="T1.Text1"><A NAME="pgfId=92481"> </A>Once your class that implements the <TT CLASS="cv">DrawingListener</TT> interface is registered, you will get called whenever a drawing operation occurs on the Notifier object. This is useful, for example, if you want to know when a frame has been rendered in a Movie.</P><P CLASS="T1.Text1"><A NAME="pgfId=92411"> </A>To make a class that uses the <TT CLASS="cv">DrawingListener</TT> interface, you need to do the following:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=98252"> </A>public class MyListener implements DrawingListener {<BR>    public void drawingComplete (QTDrawable drawable) {<BR>        // do something cool when notification is received<BR>    }<BR>}</code><br><P CLASS="T1.Text1"><A NAME="pgfId=92420"> </A>And then register your class with the component:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=98256"> </A>MyListener listener = new MyListener();<BR>    // register MyListener w/ SWCompositor<BR>theCompositor.addDrawingListener (listener);</code><br><P CLASS="T1.Text1"><A NAME="pgfId=92426"> </A>When you no longer want to receive drawing notifications, call <TT CLASS="cv">removeDrawingListener()</TT> with your <TT CLASS="cv">DrawingListener</TT> object from the component you are no longer interested in.</P><hr>&#169; 2001 Apple Computer, Inc.<!-- QTnavbar start --><P><I>What's New in QuickTime 5</I><P>| <A HREF="Max.86.htm">Previous</A> | <A HREF="Max.1.htm">Chapter Contents</A> | <A HREF="Max.htm">Chapter Top</A> | <A HREF="Max.88.htm">Next</A> |</P></DIV><!-- QTnavbar end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>