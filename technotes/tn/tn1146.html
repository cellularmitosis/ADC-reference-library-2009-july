<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 01-05-01 --><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css">   <title>Technical Note TN1146: LaserWriter 8.6 and Fonts</title>      <meta name="keywords" content="Mac OS 8 Laserwriter driver 8.6.5 font support character encoding">    <meta name="Description" content="Technical Note TN1146: This Technical Note gives a briefoverview of font and printer driver interactions for LaserWriter8, versions 8.6 and  8.6.5. Topics include: LaserWriter 8Spooling and Fonts, Character Encodings, Font Keys, FontDownloading, Font Downloading, Classic TrueType Support,Double-Byte Font Support, and Font Preferences Bits."><meta name="categories" content="Printing and System Releases"><meta name="week-posted" content="Apr 26, 1999 - May 7, 1999"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002985" title="LaserWriter 8.6 and Fonts"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxPrinting-date.html">Printing</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Printing/index.html" target="_blank">Reference Library > Printing</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1146</div>
<div id="pageheadsub">LaserWriter 8.6 and Fonts</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left">         <!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">     <tr><td width=300 valign="top" align=left scope="row">    <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>        </tr>        <tr bgcolor="#e6e6e6">   <td background="images/tnmenubody.gif" width=300 align=left>       <span id="menutitle">CONTENTS   <br>  <br>       </span>   </td>        </tr>        <tr bgcolor="#e6e6e6">   <td background="images/tnmenubody.gif" width=300 align=left>       <!-- begin_toc --><p id="menutext">  <A HREF = "#LW8">LaserWriter 8 Spooling and Fonts</A><BR><BR><A HREF = "#Encodings">Character Encodings</A><BR><BR><A HREF = "#Keys">Font Keys</A><BR><BR><A HREF = "#Downloading">Font Downloading</A><BR><BR><A HREF = "#Support">Classic TrueType Support</A><BR><BR><A HREF = "#OFASupport">OFA Font Support</A><BR><BR><A HREF = "#Double-Byte">Double-Byte Font Support</A><BR><BR><A HREF = "#Queries">Font-Related Queries</A><BR><BR><A HREF = "#Preferences">Font Preferences Bits</A><BR><BR><A HREF="#Summary">Summary</A><BR><BR>    <A HREF="#References">References</A><BR><BR>    <A HREF="#Changes">Change History</A><BR><BR>    <A HREF="#Downloads">Downloadables</A></p>  <!-- end_toc --></td>        </tr>        <tr>   <td width=300 align=left scope="row">       <img src="images/tnmenubottom.gif" alt="" width=300 height=16>   </td>        </tr>    </table></td>        <td width=300 valign="top" align=left>            <!-- begin_intro_text --><P id = "introtext">Many developers and prepress houses have contacted Apple for detailed information regardinghow LaserWriter 8 works with fonts. They request this information so that they can better optimize their applications and workflows. This Technote gives a brief overview of font and printer driver interactions for LaserWriter 8, versions 8.6 and 8.6.5.</p><!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [May 10 1999]</h3><!-- end_date --></TD>             </TR>          </TABLE> <!-- end_header_box --><BR><BR><hr width=500 align=center><BR><BR><!-- begin_content --><A NAME="LW8"></A><h2>LaserWriter 8 Spooling and Fonts</H2><P>Prior to generating any PostScript code to image a given print job, LaserWriter 8 needs to know whether the fonts the document requires are available in the target output device. This affects the way the driver handles font queries and font downloading.</p><h3>Background printing</h3><P>During background printing (2-pass printing), LaserWriter 8 gathers information about all the font requirements of a document prior to generating any PostScript code to render the document. The first pass gathers the document's font requirements and saves the information in the spool file. This data consists of the QuickDraw name of each font used in the document (that is, the resource name of its <code>'FOND'</code> resource), along with any QuickDraw style bits (bold, italic, and so on.) applied to it. During the spooling pass, LaserWriter 8 knows nothing about which fonts are resident in the printer.</p><P>At the beginning of its second pass, after all the application drawing has occurred and been recorded into the spool file, the driver issues a font query to find out which of the needed fonts are available on the target output device. See the section <A HREF = "#Queries">Font-Related Queries</A> for more information about the form of the driver's font queries. Since the driver knows about all font usage at the start of the second (printing) pass, it can include downloadable fonts more intelligently. See the section <A HREF = "#Downloading">Font Downloading</A> below for more information.</p><h3>Foreground printing</h3><P>When a document is printed in foreground (one-pass printing), the driver cannot record all the font information in the document prior to generating the PostScript code to image the document. Therefore, the driver handles the font information as it goes along. Before the application does any drawing, LaserWriter 8 first obtains the complete list of fonts in the printer so it has this information before it generates any PostScript code. The <A HREF = "#Queries">Font-Related Queries</A> and <A HREF = "#Downloading">Font Downloading</A> sections discuss in more detail how foreground printing is handled.</p><P><A HREF = "#top">Back to top</A></p><BR><A NAME="Encodings"></A><h2>Character Encodings</H2><P>Because Macintosh screen fonts and PostScript fonts may use different character encodings, LaserWriter 8 must sometimes redefine the encoding vector for each PostScript font used in the client's document to match the host font encoding. For each font, the driver's behavior is determined by bits 1 and 9 of the Font Classification word in the font's <code>'FOND'</code> resource. The Font Classification word is described in <a href="http://developer.apple.com/documentation/mac/Text/Text-2.html">Inside Macintosh:Text, pp. 4-100 through 4-101</A>.</p><A NAME="Table1"></a><p><B>Table 1.</B> The Font Classification Word in a <CODE>'FOND'</CODE> Resource</p><TABLE BORDER="1" CELLPADDING="2" CELLSPACING="2"><TR>    <td align="left">0</TD>    <td align="left">Font name needs coordinating (ignored by LaserWriter 8)</TD></TR><TR><td align="left">1</TD><td align="left">Macintosh vector reencoding scheme is required</TD></TR><TR><td align="left">2</TD><td align="left">Font has outline property by changing PaintType to 2</TD></TR><TR><td align="left">3</TD><td align="left">Disallows outlining simulation by smear and whiteout</TD></TR><TR><td align="left">4</TD><td align="left">Disallows emboldening by smear technique</TD></TR><TR><td align="left">5</TD><td align="left">Emboldening is simulated by increasing point size</TD></TR><TR><td align="left">6</TD><td align="left">Disallows obliquing for italic</TD></TR><TR><td align="left">7</TD><td align="left">Disallows automatic simulation of condensed style</TD></TR><TR><td align="left">8</TD><td align="left">Disallows automatic simulation of expanded style</TD></TR><TR><td align="left">9</TD><td align="left">Requires reencoding other than Macintosh vector encoding</TD></TR><TR><td align="left">10</TD><td align="left">Signifies the font family should have no additional intercharacter<BR>spacing other than the space character</TD></TR><TR><td align="left">11-15</TD><td align="left">Reserved</TD></TR></TABLE><BR><h3>Mac-encoded fonts</h3>    <P>Fonts with bit 1 set are considered to be Mac-encoded fonts. For these fonts, the printer version of the font is "reencoded" so that the printer font used by the driver is encoded to correspond to the Macintosh Standard Roman Encoding. For Macintosh characters that are not included in Adobe's standard PostScript Roman character set, LaserWriter 8 generates PostScript code to use the printer's resident Symbol font and images them from there. Table 2 shows the mapping from Macintosh character codes to characters in the Symbol font.</p><BR><P><B>Table 2.</B> Characters substituted from Symbol font</p><TABLE BORDER="1" CELLPADDING="1" CELLSPACING="1"><TR><td align="left">Character</TD><td align="left">Name</TD><td align="left">Mac Encoding<br>(decimal)</TD><td align="left">Symbol Encoding<br>(decimal)</TD></TR><TR><TD align=center align="left">&not;</TD><td align="left">notequal</TD><td align="left">173</TD><td align="left">185</TD></TR><TR><TD align=center align="left">&#8734;</TD><td align="left">infinity </TD><td align="left">176</TD><td align="left">165</TD></TR><TR><TD align=center align="left">&#8804;</TD><td align="left">lessequal</TD><td align="left">178</TD><td align="left">163</TD></TR><TR><TD align=center align="left">&#8805;</TD><td align="left">greaterequal</TD><td align="left">179</TD><td align="left">179</TD></TR><TR><TD align=center align="left">&#8706;</TD><td align="left">partialdiff</TD><td align="left">182</TD><td align="left">182</TD></TR><TR><TD align=center align="left">&#8721;</TD><td align="left">summation</TD><td align="left">183</TD><td align="left">229</TD></TR><TR><TD align=center align="left">&#8719;</TD><td align="left">product</TD><td align="left">184</TD><td align="left">213</TD></TR><TR><TD align=center align="left">&#982;</TD><td align="left">pi</TD><td align="left">185</TD><td align="left">112</TD></TR><TR><TD align=center align="left">&#8747;</TD><td align="left">integral</TD><td align="left">186</TD><td align="left">242</TD></TR><TR><TD align=center align="left">&#937;</TD><td align="left">Omega</TD><td align="left">189</TD><td align="left">87</TD></TR><TR><TD align=center align="left">&#8730;</TD><td align="left">radical</TD><td align="left">195</TD><td align="left">214</TD></TR><TR><TD align=center align="left">&#8773;</TD><td align="left">approxequal</TD><td align="left">197</TD><td align="left">187</TD></TR><TR><TD align=center align="left">&#916;</TD><td align="left">Delta</TD><td align="left">198</TD><td align="left">68</TD></TR><TR><TD align=center align="left">&#9674;</TD><td align="left">lozenge</TD><td align="left">215</TD><td align="left">224</TD></TR><TR><TD align=center align="left"><img src="images/tn1146_001.gif" alt="Euro" width=10 height=9></TD><td align="left">Euro</TD><td align="left">219</TD><td align="left">160</TD></TR><TR><TD align=center align="left"><img src="images/tn1146_002.gif" width=10 height=13 alt="Apple"></TD><td align="left">apple</TD><td align="left">240</TD><td align="left">240</TD></TR></TABLE><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note 1:</B><BR>                  On most PostScript printers, the Symbol font contains a description of the Macintosh Apple character <BR>(<img src="images/tn1146_003.gif" width=10 height=13 alt="Apple">) decimal <I>240</I> in the Macintosh character set). However, printers from vendors other than Apple typically do not include this character in the encoding vector for the Symbol font, making the character inaccessible when printing without reencoding. LaserWriter 8 explicitly reencodes the Symbol font to include the Apple character, ensuring that it will print correctly even on non-Apple printers.</P></TD></TR></TABLE></CENTER><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>PostScript printers with a PostScript language level of 1 or 2 do not include the Euro glyph in the Symbol font. In order to print the Euro glyph on these printers, LaserWriter 8 downloads a Type 1 Euro glyph and maps it into the printer's Symbol font. The Roman fonts shipping with Mac OS 8.5 have the Euro glyph included.</P></TD></TR></TABLE></CENTER><BR><BR><h3>Other Encoded Fonts</h3>    <P>A font whose Font Classification word does not have bit 1 set is not considered to be a Mac-encoded font. In this case, LaserWriter 8 does not apply the MacEncoding vector, and in addition does not switch to the Symbol font to image any characters; all characters are imaged out of the original font. If bit 1 is not set, the driver determines how to handle the encoding by looking to see whether bit 9 of the Font Classification word is set. This bit specifies whether the font is to be reencoded on the printer to a special encoding. If bit 9 <b>is not</b> set, the driver does no re-encoding of the font in the printer. If bit 9 <b>is</b> set, LaserWriter 8 changes the encoding of the printer font as described by the glyph-name encoding subtable. The format and location of the glyph-name encoding subtable in the <CODE>'FOND'</CODE> is described in <a href="http://developer.apple.com/documentation/mac/Text/Text-2.html">Inside Macintosh-Text, pp. 4-105 through 4-106</A>.</p><P>If bit 9 is set, the driver uses the glyph-name encoding subtable as a list of encoding positions and character names to change the PostScript font encoding. The list is used as a delta from the PostScript font's original encoding. For example, if the glyph-name encoding subtable contains two entries:<BR>(<CODE>$A8</CODE>, "diamond")  (<CODE>$A9</CODE>, "heart")the LaserWriter driver changes the encoding of the PostScript font so that it has the original encoding, only changed so that the encoding vector at position <CODE>$A8</CODE> now contains the name "/diamond" and that at <CODE>$A9</CODE> contains the name "/heart".</p><P><b>Special Case: Both bits 1 and bit 9 Set</b></p><P>The LaserWriter driver special cases the situation where both bits 1 and bit 9 are set. In this case, it uses bit 9 as an indicator that a special encoding is needed and uses the glyph-name encoding subtable as described above to apply a delta encoding to the original font encoding vector. If bit 1 is also set, LaserWriter 8 treats the font as if it must switch to Symbol in order to image the set of characters listed in Table 2.</p><BR><P><A HREF="#top">Back to top</A></P><BR><A NAME="Keys"></A><h2>Font Keys</H2><P>LaserWriter 8 generates PostScript code so that it draws in the QuickDraw coordinate system. This coordinate system has the origin at the top, left corner of the imageable area of the page (as defined by the print record margins) and the <I>Y</I> coordinate increases going down the page. Before using a font defined in standard PostScript format, LaserWriter 8 must invert the font matrix by applying a vertical scale factor of  - 1 (using the PostScript <code>makefont</code> operator) to compensate for the fact that the font's coordinate system the font is flipped in <I>Y</I> from the standard PostScript coordinate system. After applying this modification, it saves the modified version of the font in its <CODE>md</CODE> dictionary for later use under a <I>font key</I> of the form /f<I>m</I> where <I>m</I> is a serial number denoting the particular font and style. </p><P>In addition, a font may be further modified to produce derived-style variations required by the client's document, such as synthetic bold, synthetic italic, outline, shadow, condensed, or extended. Each derived variation is considered a separate font and is given its own serial number for use in forming font keys. Thus, for example, the key /f724 might denote 12-point Helvetica synthetic bold outline. </p><P>Outline and shadow versions of a font normally outline the characters by changing the <CODE>PaintType</CODE> entry in the font dictionary from 0 to 2, causing the outline of each character to be stroked instead of filled (<I>PostScript Language Reference Manual, Second Edition</I>, section 5.2). However, this technique does not work with some fonts (bitmap screen fonts in particular, as well as some PostScript fonts such as older versions of Courier). If a font's <CODE>'FOND'</CODE> classification word indicates that outlining cannot be performed by using PaintType 2, the driver uses its own PostScript routines to generate the outline and shadow forms by 'smearing" the character image: drawing it repeatedly with a slight offset up, down, left, and right, followed by a final time, centered in white, to "punch out" the interior of the character. This smearing can be prevented by a font creator: setting bit 3 of the font classification word prevents outline smearing, and setting bit 4 prevents smearing for emboldening. See <A HREF = "#Table1">Table 1</A> above for more information on these bit settings.</p><P>In LaserWriter 8.6.5, users can check the "Annotate Font Keys" checkbox from the "Font Settings" panel, causing the driver to insert comments into the PostScript output stream immediately before it uses a font key. This feature was added to aid the troubleshooting of font problems in the PostScript files generated by LaserWriter 8. The comment inserted follows the form:</p><P><CODE>%RBIFontKey: (Geneva) 12point bold</CODE></p><P>In this case, the font key represents application drawing in the QuickDraw font Geneva, 12 is the pointsize, and "bold" is the font style selected.</p><P><A HREF="#top">Back to top</A></P><BR><A NAME="Downloading"></A><h2>Font Downloading</H2><p>When searching for a downloadable font on the host Macintosh, LaserWriter 8 looks for any of the following, in order of priority: </p><OL TYPE="1" START="1">    <LI>A PostScript outline font stored as a Type 1 <CODE>'sfnt'</CODE><BR></li>    <LI>A PostScript outline font file in Adobe Type 1 or Type 3 format<BR></li>    <LI>An outline font in classic Apple TrueType format<BR></li>    <LI>A font with an <CODE>'sfnt'</CODE> resource in a format recognized by OFA (Mac OS 8.5 and later only). See note below.<BR></li>    <LI>A QuickDraw bitmap font that can be converted to Adobe Type 3<BR></li></OL><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>Prior to Mac OS 8.5, all fonts with <code>'sfnt'</code> resources were either classic Apple TrueType fonts or Type 1 <code>'sfnt'</code> fonts. Mac OS 8.5 introduces Open Font Architecture (OFA) scalers and the ability to have additional <code>'sfnt'</code> types besides classic Apple TrueType fonts and Type 1 <code>'sfnt'</code> fonts. (Prior to Mac OS 8.5, OFA was only available when QuickDraw GX was installed.) When this document refers to OFA-only fonts, it refers specifically to <code>'sfnt'</code> fonts which are neither classic TrueType fonts or Type 1 <code>'sfnt'</code> fonts. See the section <A HREF = "#OFASupport">OFA Font Support</A> for how OFA-only fonts are handled in Mac OS 8.5.</P></TD></TR></TABLE></CENTER><BR><BR><P>For fonts that are not already available on the target output device, LaserWriter 8 attempts to download a suitable version from the host Macintosh as part of the PostScript output stream. It first determines if the font is a Type 1 <code>'sfnt'</code> font. A Type 1 <code>'sfnt'</code> font has <CODE>'typ1'</CODE> for the version of the <code>'sfnt'</code> data. If the font is a Type 1 <code>'sfnt'</code> font, then the Type 1 data from the <code>'sfnt'</code> is emitted into the PostScript output stream.</P><P>If the font is not a Type 1 <code>'sfnt'</code> font, the driver next looks for a file on disk containing a PostScript version of the font. The name of the file containing the font is constructed from its PostScript name, along with any style attributes applied to it, using the standard "5 - 3 - 3" rule described below:</P><P>1. Obtain the base font name from the style mapping table of the <code>'FOND'</code> resource. Truncate this name to the first five characters (ignoring the leading four characters, "ITC-", if present). For example the base PostScript base font name "Palatino" becomes "Palat" while the base name "ITC-Palatino" also becomes "Palat".</P><P>2.  Truncate each suffix to three characters needed to satisfy a QuickDraw style as specified by the style mapping table. For example the suffix "Bold" becomes "Bol" and "Light" becomes "Lig". Each triple is appended to the truncated base name.<BR><BR>Full example:<BR><BR>"Helvetica-Heavy-Italic-Condensed" becomes the file name "HelveHeaItaCon".</P><P>The driver searches for the font file in the following locations, in the order listed:</p><ol>	<li>In the System's Font Folder</li>	<li>In the System's Extensions folder on the startup volume</li>	<li>In the System folder</li></ol> <P>If the PostScript font file is not available on disk and the font is a classic TrueType version, it is handled as described in the <A HREF = "#Support">Classic TrueType Support</A> section. If the font is not a classic TrueType font but is instead an OFA-only font, the driver uses OFA to download the font. The section <A HREF = "#OFASupport">OFA Font Support</A> below describes the details. </P><P>If the font is none of the above types, the driver uses the QuickDraw bitmap (screen) version. Using the bitmap font, the driver constructs a PostScript Type 3 font using the PostScript <code>imagemask</code> operator to draw the characters from the font's bitmap data.</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>This description of the priority of the different font formats describes the behavior of the LaserWriter 8.6 driver but can be modified by the user when using the LaserWriter 8.6.5 driver. The "Font Settings" panel in LaserWriter 8.6.5 lets the user change the priority of the host font usage. If the user changes the Preferred Format radio button from "Type 1" (the default, as described above) to "TrueType", then LaserWriter 8.6.5 will give preference to an <code>'sfnt'</code> version of a font (listed as priority 3 and 4 above) before using a PostScript output font file (listed as priority 2 above).</P></TD></TR></TABLE></CENTER><BR><BR><h3>Saving to Disk</h3><P>When saving to a disk file rather than printing to a printer, LaserWriter 8 never includes bitmap versions of PostScript fonts, regardless of the "Font inclusion" setting in the Save dialog. Instead, it simply includes an Adobe Document Structuring Conventions (DSC) <CODE>%%IncludeFont</CODE> comment indicating that the PostScript font is needed. By contrast, pure Macintosh bitmap fonts - those whose font description (<code>'FOND'</code>) resource does not identify a PostScript equivalent - are always included when saving a PostScript file to disk. Such fonts are not bracketed with the DSC comments <CODE>%%BeginFont</CODE> and <CODE>%%EndFont</CODE>, however, since, for purposes of document management, the driver does not treat them as PostScript fonts.</P><h3>Substitute Fonts</h3><P>If the user has checked the "substitute Fonts" option in the PostScript Options panel of the Page Setup dialog, the driver replaces all occurrences of the standard Macintosh screen fonts Geneva, New York, and Monaco with the PostScript equivalents Helvetica, Times, and Courier, respectively. The substitution occurs even if TrueType outline fonts are available for Geneva, New York, and Monaco. Text sizes in the document are appropriately scaled to compensate for size differences between the corresponding families of screen and printer fonts: for instance, each size of Times is scaled by a factor of 1.087 to approximate the corresponding size of New York. Unlike the LaserWriter 7 driver, LaserWriter 8 does not suppress font substitution if the client program has enabled QuickDraw's fractional character widths.</P><h3>Standard Font Downloading</h3><P>When background printing, the driver knows the entire document's font needs prior to its generation of PostScript output. Ordinarily, when background printing, all of a document's downloaded fonts are transmitted just once at the beginning of the document, as part of the job setup section preceding the first page. LaserWriter 8, when printing directly to a printer, but not to a print queue server or to disk, can delay the downloading of a given font to just before the start of the page with that font's first occurrence. Fonts are downloaded once for each document, and are downloaded so that they remain in PostScript VM for the duration of the document.</P><P>When foreground printing, fonts are downloaded as they are encountered within a document. Each font is downloaded outside of the PostScript page level save, and therefore remains in the printer's VM for the duration of the job.</P><h3>Unlimited Downloadable Fonts</h3><P>The "Unlimited Downloadable Fonts" option in the PostScript Options panel of the Page Setup dialog modifies the behavior described above for foreground and background printing so that instead each downloadable font is sent each time it is switched to within the document. This minimizes the demands on printer memory by, in effect, keeping only one downloaded font resident at a time, but it can significantly affect the time needed to print the document.</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>With LaserWriter 8.6.5, users can have the driver ignore all printer fonts and always download needed fonts. If the user checks the "Always download needed fonts" check box in the "Font Settings" panel, LaserWriter 8.6.5 will ignore the results of the font query and treat the output device as if it contains no fonts. This does not apply to save to file print jobs since the "save To File" panel has its own explicit font control settings.</P></TD></TR></TABLE></CENTER><BR><BR>               <P><A HREF="#top">Back to top</A></P><BR><A NAME="Support"></A><h2>Classic TrueType Support</H2><P>If no PostScript version of a required font is available, either on the target output device or on the host Macintosh, LaserWriter 8 looks for a classic TrueType font to download from the host machine. LaserWriter 8 classifies a font as a classic TrueType font if it contains a resource of type <code>'sfnt'</code> with a version of either <CODE>0x00010000</CODE> or <CODE>'true'</CODE>, and also contains a <CODE>'glyf'</CODE> table in the <code>'sfnt'</code>. If the font is an <code>'sfnt'</code> font but is not a classic TrueType font (or Type 1 <code>'sfnt'</code>), then the font is considered to be an OFA-only font and is handled as described below in the section <A HREF = "#OFASupport">OFA Font Support</A>.</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>With LaserWriter 8.6, if both PostScript and TrueType versions of a font are available, the driver always gives preference to the PostScript version. In LaserWriter 8.6.5, the user can modify this behavior by choosing "TrueType" as the Preferred Format in the "Font Settings" panel. In that case, the driver does not look for the PostScript version of the font on the host if the TrueType version exists.</P></TD></TR></TABLE></CENTER><BR><BR><P>In order to use TrueType fonts directly for drawing text, the PostScript interpreter on the output device needs a copy of Apple's TrueType rasterizing code, known as the <b>TrueType scaler.</b> The device may have its own resident copy of the scaler, or, for some printers, it may be included in the PostScript output stream as one of LaserWriter 8's downloadable procedure sets. The downloadable rasterizer only works on some level 1 PostScript interpreters.</P><p>In order to download the scaler, all of the following conditions must hold:</p><UL TYPE=DISC>    <LI>Properly working versions of the PostScript <CODE>cexec</CODE> and <CODE>eexec</CODE> operators are defined in the device's <CODE>systemdict</CODE> dictionary.</li>    <LI>The device has enough virtual memory (at least 120K) available to run the scaler.</li>    <LI>The device is not an older-model (original) LaserWriter or LaserWriter Plus.</li></UL><P>The response LaserWriter 8 receives to its print-time *TTRasterizer feature query tells whether the device has its own copy of the scaler or, if not, whether it can accept a copy in downloaded form. LaserWriter 8 uses this information to determine how to handle TrueType fonts:</P><OL TYPE="1" START="1">    <LI>If the scaler is built into the output device, LaserWriter 8 simply transmits each font in Type 42 format.</li>    <LI>If the scaler is not built in, but can be downloaded, LaserWriter 8 includes the TrueType scaler in its print job and then transmits each font in a Type 42 format.</li>    <LI>If the scaler is not built in and cannot be downloaded, LaserWriter 8 converts each TrueType font to an unhinted Adobe Type 1 font, and transmits it in that form.</li></OL><P>If the status of the scaler on the output device is unknown (for example, if the PostScript output is being saved to a disk file or sent to a spooler that does not understand the *TTRasterizer feature query), LaserWriter 8 includes the scaler in the PostScript output stream and transmits each TrueType font in both a Type 42 and an unhinted Type 1 version. In this case, the driver also emits conditional PostScript code to test the availability of the scaler at print time and load it into the device's memory only if the device can accept it and doesn"t already have a built-in copy. If the scaler is available at print time (whether built-in or downloaded from the PostScript output), the conditional code uses the Type 42 version of each font and discards the Type 1 version; if not, it uses the Type 1 version and skips the Type 42 version. </P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>With LaserWriter 8.6.5, users can modify the driver's default behavior when downloading TrueType fonts. If the user checks the "Never Generate Type 42 Format" check box in the "Font Settings" panel, LaserWriter 8.6.5 will never convert a TrueType font into a PostScript Type 42 format font; instead, it will only generate an unhinted Type 1 format.</P></TD></TR></TABLE></CENTER><BR><BR><h3>Protected Fonts</h3><P>LaserWriter 8.6.5 introduces special handling of protected fonts. Some TrueType fonts contain a special <code>'OS/2'</code> table indicating that they are to be specially protected. Such fonts are to be specially marked so that post-processing software can protect the font in an appropriate fashion. To properly support a font containing an <code>'OS/2'</code> table, LaserWriter 8.6.5 now emits special data into a Type 42 format PostScript font generated from such a host font. It does this by using the value of the <code>fsType</code> field of the <code>'OS/2'</code> table to insert a <code>/FSType</code> key into the <code>FontInfo</code> dictionary of the generated Type 42 font. Note that the integer value stored in the <code>/FSType</code> key is the <code>fsType</code> value from the <code>'OS/2'</code> table with its zero bit masked off. Adobe Acrobat Distiller 4.0 uses this <code>/FSType</code> key as an indicator as to whether or not such a font can be embedded in a PDF document that Distiller generates from a PostScript file.</P><BR><P><A HREF="#top">Back to top</A></P><BR><A NAME="OFASupport"></A><h2>OFA Font Support</H2><P>Fonts which are considered to be "OFA-only fonts" are only available and supported on Mac OS 8.5 and later. For these fonts, the driver itself does not know how to generate the PostScript version of the font; it asks OFA to do so. In this case, the driver tells OFA what font it requires and what type of output the PostScript interpreter can handle; OFA is then responsible for streaming the PostScript version of the font into the output data stream.</P><P>When the driver requests a font from OFA, it indicates what the supported output types are, and OFA is then responsible for generating one of the types that can be supported. When printing to a PostScript device where it knows that Type 42 data can be directly supported, the driver indicates that Type 42, Type 1, and Type 3 output are supported. If the driver knows that the device cannot support Type 42 data, then the driver indicates that Type 1 and Type 3 output are supported. If the driver does not know whether Type 42 can be supported, it requests a portable format. When using OFA, the LaserWriter 8.6 driver never requests the downloadable TrueType scaler format described above.</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>With LaserWriter 8.6.5, users can modify the driver's default behavior when downloading OFA fonts. If the user checks the "Never Generate Type 42 Format" check box in the "Font Settings" panel, LaserWriter 8.6.5 tells OFA that Type 1 and Type 3 are the only formats supported.</P></TD></TR></TABLE></CENTER><BR><BR><P>As of Mac OS 8.5, OFA generates Type 1 (or perhaps Type 3) output for the portable format requested by the driver. OFA does not generate the wrapper containing both Type 42 and Type 1 fonts described above for classic TrueType font support. This means, for example, that when saving to disk, an OFA-only font is never inserted into the stream as a Type 42 font, only as Type 1 font data.</P><P>LaserWriter 8.6.5 adds support for OFA fonts that are so-called data fork fonts. These fonts do not have the traditional <code>'sfnt'</code> resource, but instead contain the <code>'sfnt'</code> data in the font data fork. LaserWriter 8.6.5 supports printing and downloading these fonts when they are used with by applications drawing with QuickDraw.</P><P><A HREF="#top">Back to top</A></P><BR><A NAME="Double-Byte"></A><h2>Double-Byte Font Support</H2><P>The character sets for Chinese, Japanese, and Korean fonts are typically thousands of characters and require 2 bytes of data to specify a given glyph. Such fonts are frequently called "CJK fonts" and support for such fonts is called "CJK support." Because these fonts are very large (megabytes in size), it is impractical to download these fonts to PostScript printers as part of a print job. For this reason, LaserWriter 8's support for CJK fonts in the Macintosh OS is handled differently than that for traditional 1 byte fonts. This support is done by working with WorldScript II.</P><P>On the Macintosh, text drawing is done through the <CODE>textProc</CODE> QuickDraw bottleneck. As with all bottlenecks, LaserWriter 8 installs its own <CODE>textProc</CODE> bottleneck in the port so that all text imaging is done via calls to its text bottleneck. This bottleneck is responsible for turning text drawing into PostScript code to select the appropriate font and draw the requested text in that font.</P><P>In some cases, the text coming to the driver's text bottleneck needs to be intercepted and handled specially by system software. This is made possible by the driver's use of the <I>print action routine</I>. Immediately after LaserWriter 8 inserts its bottlenecks into the printing port, it calls the Script Manager's print action routine. When it calls the print action routine, it passes in the printing port and a verb indicating the action it will take with that port. The action verbs consist of <CODE>kLWSpoolAction</CODE> (during spooling when two-pass printing), <CODE>kLW2PassPlaybackAction</CODE> (during playback when two-pass printing), and <CODE>kLW1PassPlaybackAction</CODE> (during one-pass printing).</P><P>The driver's call to the print action routine allows the Script Manager to replace the driver's <CODE>textProc</CODE> bottleneck with its own <CODE>textProc</CODE> bottleneck in the printing <CODE>grafPort</CODE>. This allows the Script Manager to first process text drawing calls before the driver's text drawing processes them. In the case of double-byte fonts, the Script Manager, together with WorldScript II, can either pass the text through to the driver's text bottleneck or, when appropriate, rasterize the text drawing on the host and call <CODE>CopyBits</CODE> on the rendered bitmaps. This results in calls to the driver's <CODE>bitsProc</CODE> bottleneck to send the rendered bitmaps in the printer.</P><P>In principle, all drawing of 2-byte text could be drawn on the host as bitmaps, but this would result in slow performance and would not utilize any 2-byte fonts that were actually available in the printer. Instead, if the current font used for drawing is a 2-byte font, WorldScript II's text bottleneck routine calls the LaserWriter 8 driver to determine whether the font used for this call to the text bottleneck is available in the printer. If driver reports that the font is available in the printer, WorldScript II's text bottleneck calls through to the driver's text bottleneck and the driver's bottleneck generates the PostScript code necessary to draw the text in the printer. If the LaserWriter 8 driver reports that the font is not available in the printer, WorldScript II images the text on the host and calls <CODE>CopyBits</CODE> to image the rendered text into the printing port.</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>This discussion applies to all versions of LaserWriter 8, up to and including LaserWriter 8.6.5.</P></TD></TR></TABLE></CENTER><BR><BR>       <h3>Background Printing</h3><P>During background printing, the driver first spools all drawing to disk. The print action verb <CODE>kLWSpoolAction</CODE> is used when calling the Script Manager's print action routine. If WorldScript II's text bottleneck determines that a two-byte font is used, it calls the driver to determine if that double-byte font is available in the printer. During the spooling pass, the driver always reports that all fonts are available in the printer. This ensures that there is never any conversion of text into bitmaps during the spooling pass.</P><P>On the second pass of background printing, the driver uses the print action verb <CODE>kLW2PassPlaybackAction</CODE>. As described above in the section <A HREF = "#LW8">LaserWriter 8 Spooling and Fonts</A>, during the second pass prior to playing back the spooled application drawing, LaserWriter 8 first queries the printer to determine the availability of the fonts that were used in the drawing. Thus, during the second pass, when WorldScript II's text bottleneck routine calls the driver to determine whether a given font is available in the printer, the driver can correctly answer based on its knowledge of the document fonts in the printer.</P><h3>Foreground Printing</h3><P>During foreground printing, the driver calls the print action routine with the verb <CODE>kLW1PassPlaybackAction</CODE>. As described above in the section <A HREF = "#LW8">LaserWriter 8 Spooling and Fonts</A>, during one-pass printing, prior to any application drawing, LaserWriter 8 first queries the printer to request the list of all fonts that are available. Thus, when WorldScript II's text bottleneck routine calls the driver to determine whether a given font is available in the printer, the driver can correctly answer based on its knowledge of fonts in the printer.</P><BR><P><A HREF="#top">Back to top</A></P><BR><A NAME="Queries"></A><h2>Font-Related Queries</H2><P>The LaserWriter 8 driver uses two different font queries; one is for the availability of a specific set of fonts, while the other is for a full list of fonts available in the printer. The query used depends upon whether the driver is printing in foreground or background mode. </P><h3>Background Printing</h3><P>When background printing, the LaserWriter 8 driver gathers the list of PostScript fonts used in the document during the spool pass, and queries the printer about the availability of each font. The font query takes the following form:</P><pre>%%?BeginFontQuery: &lt;list of font names&gt;. . .  % PostScript code to find font availability%%?EndFontQuery: Unknown</pre><P>The <CODE>%%?BeginFontQuery</CODE> comment contains a list of all fonts required by the document. Fonts are listed without the slash character (/) that typically precedes a PostScript font invocation: for example, </P><pre>%%?BeginFontQuery: Times-Roman Times-Bold Minion Helvetica</pre><P>For each required font, the driver uses the QuickDraw name recorded in the spool file to access the font description resource, which contains a style mapping table giving the corresponding PostScript font name, which is dependent on the QuickDraw style attributes taken from the spool file. The driver then uses this PostScript name in its print-time font query. PostScript Level 1 output devices respond to the query by reporting a font available if it is permanently resident in the device's ROM, or if it is currently present in RAM or on a disk connected to the device. On Level 2 devices, the query code determines the font's availability via the PostScript <CODE>resourcestatus</CODE> operator: the font may potentially reside in memory, on a disk, in a cartridge, on a remote server accessible over the network, or on any other type of device known to the <CODE>resourcestatus</CODE> operator. See the<I> PostScript Language Reference Manual</I> for more information on the <code>resourcestatus</code> operator.</P><P>The response to the query indicates which of the specified fonts are already available on the target device; the driver then downloads the remaining fonts as part of the ensuing print job. See below for further specifics on this query.</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>%%?BeginFontQuery: font1 font2 ... fontn</pre></TD></TR></TABLE></CENTER><BR><BR><P>Requests information about the availability of PostScript fonts on the target output device. LaserWriter 8 uses this information to decide which fonts to include as part of the ensuing print job. If the PostScript output is being saved to a disk file rather than sent directly to a printer, the equivalent information is provided by the user in the "Font inclusion" item of the Print dialog's Save panel.</P><P>Under version 3.0 of the Document Structuring Conventions, the correct response to this query is of the form:</P>           <BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>/fontn:Yes. . ./font2:No/font1:Yes*</pre></TD></TR></TABLE></CENTER><BR><BR><P>where each font name is followed by a colon and the word "Yes" if the given font is available on the target device, "No" if it is not. </P><P>Notice that each font name is preceded by a slash character (/) in the response to the query, but not in the query itself. Notice also that the fonts appear in the response in reverse order from the way they are listed in the original query, and that the entire response is terminated with an asterisk (*). For example, the response to the query:</P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>%%?BeginFontQuery: Times-Roman Times-Bold%%+ Minion Helveticamight be/Helvetica:Yes/Minion:No/Times-Bold:Yes/Times-Roman:Yes*</pre></TD></TR></TABLE></CENTER><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>In describing the response to this query, some printings of the <I>PostScript Language Reference Manual</I> (Second Edition, section G.8) erroneously show a space between the colon and the word "Yes" or "No". LaserWriter 8 compensates for this error by accepting responses with or without a space following the colon.</P></TD></TR></TABLE></CENTER><BR><BR><P>Some print queue servers (notably the AppleShare print server prior to version 5.0) use an older form of response to the font query, as defined by version 2.0 (rather than 3.0) of the Document Structuring Conventions. For compatibility, LaserWriter 8 also accepts responses of this form. Such responses simply use the integers "1" and "0" instead of "Yes" and "No" to indicate font availability, and do not include the font names themselves or the terminating asterisk: for example, </P>1<BR>0<BR>1<BR>1<BR><P>As in the first form, the order of the fonts is reversed from the original query (Minion, Times-Bold, Times-Roman, and Helvetica in the example). </P><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>The AppleShare print server prior to version 5.0 imposes a further restriction on the length of a single font query: the number of characters in the list of font names in the <CODE>%%?BeginFontQuery</CODE> comment must not exceed 128. To accommodate this restriction, LaserWriter 8 breaks any font query that exceeds this limit into two or more separate queries.</P></TD></TR></TABLE></CENTER><BR><BR><h3>Foreground Printing</h3>    <P>When foreground printing, the LaserWriter 8 driver does not know which PostScript fonts will be used in a document, and must therefore query the printer for its complete set of fonts. This font list query takes the following form:</p><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>%%?BeginFontListQuery. . .  % PostScript code to return font list%%?EndFontListQuery: Unknown</pre></TD></TR></TABLE></CENTER><BR><BR><p>PostScript Level 1 output devices respond to the query by reporting all fonts available in <CODE>FontDirectory</CODE> and on the printer's disk in the directory "fonts/". If it is permanently resident in the device's ROM, or if it is currently present in RAM or on a disk connected to the device, it is listed. On Level 2 devices, the query code uses the PostScript <CODE>resourceforall</CODE> operator with the <CODE>/Font</CODE> resource category. This should list all fonts available to the output device. See <I>Adobe's PostScript Language Reference Manual</I> for more information on these PostScript language operators.</p><P>The response to this query is the list of printer resident fonts in which each font name is preceded by a (slash) "/". The  last font is followed by whitespace and an (asterisk) "*". For example, a printer might respond to the font list query with the following data:</p><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>/Helvetica-Bold/Palatino-Roman/ZapfDingbats/Times-Roman/Times-Italic/Palatino-Italic/Times-Bold/Palatino-Bold/Helvetica/Courier/Helvetica-Oblique/Courier-Oblique/Symbol*</pre></TD></TR></TABLE></CENTER><BR><BR><P>See <A HREF = "http://www.adobe.com/supportservice/devrelations/technotes.html">Adobe Technical Note #5001, PostScript Language Document Structuring Conventions Specification</A> for more information on the font queries.</P><p>In addition to the font queries just described, LaserWriter 8 queries the printer about the availability of a TrueType scaler. If the scaler is available, the query returns "Type42", and LaserWriter 8 downloads Type 42 fonts when appropriate. If the scaler is not in the printer, but the printer can accept a downloaded scaler, the query returns "Accept68K"; LaserWriter 8 then downloads a scaler to the printer and will download Type 42 fonts when appropriate. If the printer does not have and will not accept a TrueType scaler, the query returns "None"; LaserWriter 8 then converts TrueType fonts to unhinted Type 1 fonts and downloads these when appropriate. If the printer, or more likely a spooler, returns "Unknown" to the TrueType rasterizer query, LaserWriter 8 attempts to download the rasterizer and will send TrueType fonts down as both Type 42 and Type 1 when appropriate. The PostScript wrappers around the rasterizer and the fonts allow only the appropriate formats to be executed in the printer.</p><P>The TrueType rasterizer query takes the following form:</p><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>%%?BeginFeatureQuery: *TTRasterizer// PostScript code to look for the rasterizer.%%?EndFeatureQuery: UnknownThe further specifics of this query are:%%?BeginFeatureQuery: *TTRasterizer</pre></TD></TR></TABLE></CENTER><BR><BR><P>Requests information about the ability of the target output device to accept fonts defined in Apple's TrueType format. Possible responses and their meanings are:</p><BR><TABLE BORDER="1" CELLPADDING="1" CELLSPACING="1"><TR><td align="left">Type42</td><td align="left">The device has a built-in copy of the TrueType scaler.</td></TR><TR><td align="left">Accept68k</td><td align="left">The scaler is not built in but the device can accept it in downloaded form.</td></TR><TR><td align="left">None</td><td align="left">The scaler is not built in and the device cannot accept it in downloaded form.</td></TR><TR><td align="left">Unknown</td><td align="left">The characteristics of the device are unknown or the responding spooler <BR>does not understand the query.</td></TR></TABLE><BR><P>As described earlier, LaserWriter 8.6.5 allows the user to choose the "Never generate Type 42 format" setting, which causes the driver to always treat the results of the <CODE>*TTRasterizer</CODE> query as <CODE>'None'</CODE>, regardless of the results of any query. This setting also applies to save to file print jobs.</P><BR><P><A HREF="#top">Back to top</A></P><A NAME="Preferences"></A><h2>Font Preferences Bits</H2><P>LaserWriter 8.6 and 8.6.5 contain a preferences resource that allows certain font-related behavior to be modified outside the normal driver user interface. Editing of this preferences resource can configure some of the driver's behavior when it handles fonts. The resource of interest is the <CODE>'PRFS'</CODE> resource of the LaserWriter 8 file. In LaserWriter 8.6 and 8.6.5, there are three font-related preferences bits that can be modified to affect the font handling. The driver itself contains a <CODE>'TMPL'</CODE> resource to allow straightforward editing of these preferences in ResEdit or Resorcerer&reg;.</p><h3>Use Symbol Font for Euro Currency Symbol</h3><P>This preference setting in the <CODE>'PRFS'</CODE> resource controls whether the driver switches to the Symbol font to image the Euro character encoded at <CODE>0xDB</CODE> in fonts marked as MacEncoding fonts by the Font Classification word in the <code>'FOND'</code>. The driver preference setting is "ON" by default, and the driver switches to Symbol when imaging this character for MacEncoding fonts. If this preference setting is "OFF", the driver does not switch to Symbol but images the character in the <CODE>0xDB</CODE> position of the encoding vector in the original font. For fonts using the Mac encoding vector, this character name is <CODE>'/Euro'</CODE>.</p><h3>Ignore Fonts in Printer When Printing</h3><P>This driver preference setting is "OFF" by default, and the driver treats any printer fonts it finds in the query as available for usage. If this driver preference is set to "ON", the driver ignores printer fonts and downloads all fonts as if the printer contained no fonts. This preference does not apply to save to disk jobs since the user can explicitly set this in the Print dialog.</p><P>In LaserWriter 8.6.5, there is explicit UI support for this feature with the "Always download needed fonts" checkbox in the "Font Settings" panel in the Print dialog. With LaserWriter 8.6.5, the default setting of this checkbox comes from the user's saved defaults. If the user has not saved a default value for this checkbox, then its default value comes from the <CODE>'PRFS'</CODE> value as described above.</p><h3>Always Generate Type 1 Versions of TrueType Fonts</h3><P>This driver preference setting is "OFF" by default, and the driver will download Type 42 versions of classic TrueType fonts or OFA fonts if the printer can support them as described above. If this driver preference is set to "ON", the driver treats the printer as if it cannot support Type 42 fonts and can only accept Type 1 versions.</p><P>In LaserWriter 8.6.5, there is explicit UI support for this feature with the "Never generate Type 42 format" checkbox in the "Font Settings" panel in the Print dialog. With LaserWriter 8.6.5, the default setting of this checkbox comes from the user's saved defaults. If the user has not saved a default value for this checkbox, then its default value comes from the <CODE>'PRFS'</CODE> value as described above.</p><h3>PrintingLib Issues</h3><p>The "PrintingLib" file, version 8.6 and 8.6.5, contains a similar preferences resource of type <CODE>'PRF2'</CODE> as well as an appropriate <CODE>'TMPL'</CODE> resource to allow straightforward editing of these preferences in ResEdit or Resorcerer&#174;. The two preference settings "Ignore Fonts in Printer When Printing" and "Always Generate Type 1 Versions of TrueType Fonts" are supported, and have meanings and defaults as described above and can be changed appropriately. Any user saved defaults made with LaserWriter 8.6.5 for these settings are respected; otherwise, the values from the <CODE>'PRF2'</CODE> resource are used if there are no saved defaults. The preference settings in PrintingLib apply only to drag-and-drop printing through the Download Manager. See <A HREF = "tn1169.html">Technote 1169, "The Download Manager" </A> for more information.</p><p>For the shipping configuration of Mac OS 8.5, which includes only PostScript, EPS, PICT, and JPEG downloaders, these settings affect drag-and-drop printing of PostScript, EPS and PICT files. When doing drag-and-drop printing of PostScript or EPS files, the PostScript downloader supplies fonts to satisfy the <CODE>'%%IncludeFont'</CODE> and <CODE>'%%IncludeResource: font'</CODE> DSC comments, and it respects these font preference settings accordingly. Font usage in PICT files is handled in the same manner as a standard print job but the PICT downloader uses the settings of the preferences in the PrintingLib file to control this special behavior.</p><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>                  The information about the <CODE>'PRFS'</CODE> and <CODE>'PRF2'</CODE> resources in LaserWriter 8 and PrintingLib versions 8.6 and 8.6.5 is for informational purposes only. The existence of these resources and bits control special behaviors that are subject to change with further releases of the LaserWriter 8 driver.</P></TD></TR></TABLE></CENTER><BR><BR>         <BR><P><A HREF="#top">Back to top</A></P><A NAME="Summary"></A><h2>Summary</H2><P>We hope that the detailed information contained in this Technote gives developers a good overview of how LaserWriter 8, versions 8.6 and 8.6.5, interacts with fonts.</p><BR><P><A HREF="#top">Back to top</A></P><a name="References"></a><h2>References</H2>    <p><A HREF = "http://www.adobe.com">Adobe's PostScript Language Reference Manual</A></p>    <p><a href="http://developer.apple.com/documentation/mac/Text/Text-2.html">Inside Macintosh: Text</A></p>    <p><A HREF = "tn1140.html">Technote 1140: The Euro Currency Symbol</A></p>    <p><A HREF = "tn1169.html">Technote 1169: The Download Manager</A></p>    <p><A HREF = "http://www.adobe.com/supportservice/devrelations/technotes.html">Adobe Technical Note #5001, PostScript Language Document Structuring Conventions Specification</A></p><BR><P><A HREF="#top">Back to top</A></P><P><A NAME=Changes></A></P>                  <H2>Change History</H2>                    <TABLE BORDER=0 CELLPADDING=3 WIDTH=544>            <TR>               <td width=100 align=left>                  <P ALIGN=center>01-November-1998</P>               </TD>               <td align="left">                  <P>Originally written as Technote 1146,             "LaserWriter 8.6 and Fonts."</P>               </TD>            </TR>                   <TR>               <td width=100 align=left>                  <P ALIGN=center>10-May-1999</P>               </TD>               <td align="left">                  <P>Updated to reflect            changes made for LaserWriter 8.6.5. </P>               </TD>            </TR>            </table>         <BR><P><A HREF="#top">Back to top</A></P>        <A NAME="Downloads"></A>         <h2>Downloadables</h2>        <center><TABLE BORDER=0 CELLPADDING=3 WIDTH="600">         <TR>             <td width=50 align=left>               <P ALIGN=center><img src="images/acrobatsmall.gif" align=middle alt="Acrobat" width=22 height=23></P>            </TD>            <td align="left">               <p>Acrobat version of this Note (92K).</P>            </TD>            <td width=60 align=left>               <p><A HREF="pdf/tn1146.pdf">Download</A></P>            </TD>          </TR> </table></center><BR><BR><BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1146.html%3Fid%3DDTS10002985-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1146.html%3Fid%3DDTS10002985-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1146.html%3Fid%3DDTS10002985-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>