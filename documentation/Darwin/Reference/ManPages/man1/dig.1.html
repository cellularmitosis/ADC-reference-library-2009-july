<html><head><title>Mac OS X
 Manual Page For dig(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/dig" title="Mac OS X
 Manual Page for dig(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/dig"; name=dig(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
DIG(1)                                              BIND9                                             DIG(1)



<b>NAME</b>
       dig - DNS lookup utility

<b>SYNOPSIS</b>
       <b>dig</b> [@server] [<b>-b</b> <u>address</u>] [<b>-c</b> <u>class</u>] [<b>-f</b> <u>filename</u>] [<b>-k</b> <u>filename</u>] [<b>-p</b> <u>port#</u>] [<b>-q</b> <u>name</u>] [<b>-t</b> <u>type</u>]
           [<b>-x</b> <u>addr</u>] [<b>-y</b> <u>[hmac:]name:key</u>] [<b>-4</b>] [<b>-6</b>] [name] [type] [class] [queryopt...]

       <b>dig</b> [<b>-h</b>]

       <b>dig</b> [global-queryopt...] [query...]

<b>DESCRIPTION</b>
       <b>dig</b> (domain information groper) is a flexible tool for interrogating DNS name servers. It performs
       DNS lookups and displays the answers that are returned from the name <!-- a -->server(s)<!-- /a --> that were queried.
       Most DNS administrators use <b>dig</b> to troubleshoot DNS problems because of its flexibility, ease of use
       and clarity of output. Other lookup tools tend to have less functionality than <b>dig</b>.

       Although <b>dig</b> is normally used with command-line arguments, it also has a batch mode of operation for
       reading lookup requests from a file. A brief summary of its command-line arguments and options is
       printed when the <b>-h</b> option is given. Unlike earlier versions, the BIND9 implementation of <b>dig</b> allows
       multiple lookups to be issued from the command line.

       Unless it is told to query a specific name server, <b>dig</b> will try each of the servers listed in
       <u>/etc/resolv.conf</u>.

       When no command line arguments or options are given, will perform an NS query for "." (the root).

       It is possible to set per-user defaults for <b>dig</b> via <u>${HOME}/.digrc</u>. This file is read and any options
       in it are applied before the command line arguments.

       The IN and CH class names overlap with the IN and CH top level domains names. Either use the <b>-t</b> and
       <b>-c</b> options to specify the type and class or use the <b>-q</b> the specify the domain name or use "IN." and
       "CH." when looking up these top level domains.

<b>SIMPLE</b> <b>USAGE</b>
       A typical invocation of <b>dig</b> looks like:

            dig @server name type

       where:

       <b>server</b>
           is the name or IP address of the name server to query. This can be an IPv4 address in
           dotted-decimal notation or an IPv6 address in colon-delimited notation. When the supplied <u>server</u>
           argument is a hostname, <b>dig</b> resolves that name before querying that name server. If no <u>server</u>
           argument is provided, <b>dig</b> consults <u>/etc/resolv.conf</u> and queries the name servers listed there.
           The reply from the name server that responds is displayed.

       <b>name</b>
           is the name of the resource record that is to be looked up.

       <b>type</b>
           indicates what type of query is required -- ANY, A, MX, SIG, etc.  <u>type</u> can be any valid query
           type. If no <u>type</u> argument is supplied, <b>dig</b> will perform a lookup for an A record.

<b>OPTIONS</b>
       The <b>-b</b> option sets the source IP address of the query to <u>address</u>. This must be a valid address on one
       of the host's network interfaces or "0.0.0.0" or "::". An optional port may be specified by appending
       "#&lt;port&gt;"

       The default query class (IN for internet) is overridden by the <b>-c</b> option.  <u>class</u> is any valid class,
       such as HS for Hesiod records or CH for CHAOSNET records.

       The <b>-f</b> option makes <b>dig</b> operate in batch mode by reading a list of lookup requests to process from
       the file <u>filename</u>. The file contains a number of queries, one per line. Each entry in the file should
       be organised in the same way they would be presented as queries to <b>dig</b> using the command-line
       interface.

       If a non-standard port number is to be queried, the <b>-p</b> option is used.  <u>port#</u> is the port number that
       <b>dig</b> will send its queries instead of the standard DNS port number 53. This option would be used to
       test a name server that has been configured to listen for queries on a non-standard port number.

       The <b>-4</b> option forces <b>dig</b> to only use IPv4 query transport. The <b>-6</b> option forces <b>dig</b> to only use IPv6
       query transport.

       The <b>-t</b> option sets the query type to <u>type</u>. It can be any valid query type which is supported in
       BIND9. The default query type "A", unless the <b>-x</b> option is supplied to indicate a reverse lookup. A
       zone transfer can be requested by specifying a type of AXFR. When an incremental zone transfer (IXFR)
       is required, <u>type</u> is set to ixfr=N. The incremental zone transfer will contain the changes made to
       the zone since the serial number in the zone's SOA record was <u>N</u>.

       The <b>-q</b> option sets the query name to <u>name</u>. This useful do distingish the <u>name</u> from other arguments.

       Reverse lookups - mapping addresses to names - are simplified by the <b>-x</b> option.  <u>addr</u> is an IPv4
       address in dotted-decimal notation, or a colon-delimited IPv6 address. When this option is used,
       there is no need to provide the <u>name</u>, <u>class</u> and <u>type</u> arguments.  <b>dig</b> automatically performs a lookup
       for a name like 11.12.13.10.in-addr.arpa and sets the query type and class to PTR and IN
       respectively. By default, IPv6 addresses are looked up using nibble format under the IP6.ARPA domain.
       To use the older RFC1886 method using the IP6.INT domain specify the <b>-i</b> option. Bit string labels
       (RFC2874) are now experimental and are not attempted.

       To sign the DNS queries sent by <b>dig</b> and their responses using transaction signatures (TSIG), specify
       a TSIG key file using the <b>-k</b> option. You can also specify the TSIG key itself on the command line
       using the <b>-y</b> option; <u>hmac</u> is the type of the TSIG, default HMAC-MD5, <u>name</u> is the name of the TSIG key
       and <u>key</u> is the actual key. The key is a base-64 encoded string, typically generated by
       <a href="../man8/dnssec-keygen.8.html#//apple_ref/doc/man/8/dnssec-keygen"><b>dnssec-keygen</b>(8)</a>. Caution should be taken when using the <b>-y</b> option on multi-user systems as the key
       can be visible in the output from <a href="ps.1.html#//apple_ref/doc/man/1/ps"><b>ps</b>(1)</a> or in the shell's history file. When using TSIG
       authentication with <b>dig</b>, the name server that is queried needs to know the key and algorithm that is
       being used. In BIND, this is done by providing appropriate <b>key</b> and <b>server</b> statements in <u>named.conf</u>.

<b>QUERY</b> <b>OPTIONS</b>
       <b>dig</b> provides a number of query options which affect the way in which lookups are made and the results
       displayed. Some of these set or reset flag bits in the query header, some determine which sections of
       the answer get printed, and others determine the timeout and retry strategies.

       Each query option is identified by a keyword preceded by a plus sign (+). Some keywords set or reset
       an option. These may be preceded by the string no to negate the meaning of that keyword. Other
       keywords assign values to options like the timeout interval. They have the form <b>+keyword=value</b>. The
       query options are:

       <b>+[no]tcp</b>
           Use [do not use] TCP when querying name servers. The default behaviour is to use UDP unless an
           AXFR or IXFR query is requested, in which case a TCP connection is used.

       <b>+[no]vc</b>
           Use [do not use] TCP when querying name servers. This alternate syntax to <u>+[no]tcp</u> is provided
           for backwards compatibility. The "vc" stands for "virtual circuit".

       <b>+[no]ignore</b>
           Ignore truncation in UDP responses instead of retrying with TCP. By default, TCP retries are
           performed.

       <b>+domain=somename</b>
           Set the search list to contain the single domain <u>somename</u>, as if specified in a <b>domain</b> directive
           in <u>/etc/resolv.conf</u>, and enable search list processing as if the <u>+search</u> option were given.

       <b>+[no]search</b>
           Use [do not use] the search list defined by the searchlist or domain directive in <u>resolv.conf</u> (if
           any). The search list is not used by default.

       <b>+[no]showsearch</b>
           Perform [do not perform] a search showing intermediate results.

       <b>+[no]defname</b>
           Deprecated, treated as a synonym for <u>+[no]search</u>

       <b>+[no]aaonly</b>
           Sets the "aa" flag in the query.

       <b>+[no]aaflag</b>
           A synonym for <u>+[no]aaonly</u>.

       <b>+[no]adflag</b>
           Set [do not set] the AD (authentic data) bit in the query. The AD bit currently has a standard
           meaning only in responses, not in queries, but the ability to set the bit in the query is
           provided for completeness.

       <b>+[no]cdflag</b>
           Set [do not set] the CD (checking disabled) bit in the query. This requests the server to not
           perform DNSSEC validation of responses.

       <b>+[no]cl</b>
           Display [do not display] the CLASS when printing the record.

       <b>+[no]ttlid</b>
           Display [do not display] the TTL when printing the record.

       <b>+[no]recurse</b>
           Toggle the setting of the RD (recursion desired) bit in the query. This bit is set by default,
           which means <b>dig</b> normally sends recursive queries. Recursion is automatically disabled when the
           <u>+nssearch</u> or <u>+trace</u> query options are used.

       <b>+[no]nssearch</b>
           When this option is set, <b>dig</b> attempts to find the authoritative name servers for the zone
           containing the name being looked up and display the SOA record that each name server has for the
           zone.

       <b>+[no]trace</b>
           Toggle tracing of the delegation path from the root name servers for the name being looked up.
           Tracing is disabled by default. When tracing is enabled, <b>dig</b> makes iterative queries to resolve
           the name being looked up. It will follow referrals from the root servers, showing the answer from
           each server that was used to resolve the lookup.

       <b>+[no]cmd</b>
           toggles the printing of the initial comment in the output identifying the version of <b>dig</b> and the
           query options that have been applied. This comment is printed by default.

       <b>+[no]short</b>
           Provide a terse answer. The default is to print the answer in a verbose form.

       <b>+[no]identify</b>
           Show [or do not show] the IP address and port number that supplied the answer when the <u>+short</u>
           option is enabled. If short form answers are requested, the default is not to show the source
           address and port number of the server that provided the answer.

       <b>+[no]comments</b>
           Toggle the display of comment lines in the output. The default is to print comments.

       <b>+[no]stats</b>
           This query option toggles the printing of statistics: when the query was made, the size of the
           reply and so on. The default behaviour is to print the query statistics.

       <b>+[no]qr</b>
           Print [do not print] the query as it is sent. By default, the query is not printed.

       <b>+[no]question</b>
           Print [do not print] the question section of a query when an answer is returned. The default is
           to print the question section as a comment.

       <b>+[no]answer</b>
           Display [do not display] the answer section of a reply. The default is to display it.

       <b>+[no]authority</b>
           Display [do not display] the authority section of a reply. The default is to display it.

       <b>+[no]additional</b>
           Display [do not display] the additional section of a reply. The default is to display it.

       <b>+[no]all</b>
           Set or clear all display flags.

       <b>+time=T</b>
           Sets the timeout for a query to <u>T</u> seconds. The default time out is 5 seconds. An attempt to set <u>T</u>
           to less than 1 will result in a query timeout of 1 second being applied.

       <b>+tries=T</b>
           Sets the number of times to try UDP queries to server to <u>T</u> instead of the default, 3. If <u>T</u> is
           less than or equal to zero, the number of tries is silently rounded up to 1.

       <b>+retry=T</b>
           Sets the number of times to retry UDP queries to server to <u>T</u> instead of the default, 2. Unlike
           <u>+tries</u>, this does not include the initial query.

       <b>+ndots=D</b>
           Set the number of dots that have to appear in <u>name</u> to <u>D</u> for it to be considered absolute. The
           default value is that defined using the ndots statement in <u>/etc/resolv.conf</u>, or 1 if no ndots
           statement is present. Names with fewer dots are interpreted as relative names and will be
           searched for in the domains listed in the <b>search</b> or <b>domain</b> directive in <u>/etc/resolv.conf</u>.

       <b>+bufsize=B</b>
           Set the UDP message buffer size advertised using EDNS0 to <u>B</u> bytes. The maximum and minimum sizes
           of this buffer are 65535 and 0 respectively. Values outside this range are rounded up or down
           appropriately. Values other than zero will cause a EDNS query to be sent.

       <b>+edns=#</b>
           Specify the EDNS version to query with. Valid values are 0 to 255. Setting the EDNS version will
           cause a EDNS query to be sent.  <b>+noedns</b> clears the remembered EDNS version.

       <b>+[no]multiline</b>
           Print records like the SOA records in a verbose multi-line format with human-readable comments.
           The default is to print each record on a single line, to facilitate machine parsing of the <b>dig</b>
           output.

       <b>+[no]fail</b>
           Do not try the next server if you receive a SERVFAIL. The default is to not try the next server
           which is the reverse of normal stub resolver behaviour.

       <b>+[no]besteffort</b>
           Attempt to display the contents of messages which are malformed. The default is to not display
           malformed answers.

       <b>+[no]dnssec</b>
           Requests DNSSEC records be sent by setting the DNSSEC OK bit (DO) in the OPT record in the
           additional section of the query.

       <b>+[no]sigchase</b>
           Chase DNSSEC signature chains. Requires dig be compiled with -DDIG_SIGCHASE.

       <b>+trusted-key=####</b>
           Specifies a file containing trusted keys to be used with <b>+sigchase</b>. Each DNSKEY record must be on
           its own line.

           If not specified <b>dig</b> will look for <u>/etc/trusted-key.key</u> then <u>trusted-key.key</u> in the current
           directory.

           Requires dig be compiled with -DDIG_SIGCHASE.

       <b>+[no]topdown</b>
           When chasing DNSSEC signature chains perform a top down validation. Requires dig be compiled with
           -DDIG_SIGCHASE.

<b>MULTIPLE</b> <b>QUERIES</b>
       The BIND 9 implementation of <b>dig</b> supports specifying multiple queries on the command line (in
       addition to supporting the <b>-f</b> batch file option). Each of those queries can be supplied with its own
       set of flags, options and query options.

       In this case, each <u>query</u> argument represent an individual query in the command-line syntax described
       above. Each consists of any of the standard options and flags, the name to be looked up, an optional
       query type and class and any query options that should be applied to that query.

       A global set of query options, which should be applied to all queries, can also be supplied. These
       global query options must precede the first tuple of name, class, type, options, flags, and query
       options supplied on the command line. Any global query options (except the <b>+[no]cmd</b> option) can be
       overridden by a query-specific set of query options. For example:

           dig +qr www.isc.org any -x 127.0.0.1 isc.org ns +noqr

       shows how <b>dig</b> could be used from the command line to make three lookups: an ANY query for
       www.isc.org, a reverse lookup of 127.0.0.1 and a query for the NS records of isc.org. A global query
       option of <u>+qr</u> is applied, so that <b>dig</b> shows the initial query it made for each lookup. The final
       query has a local query option of <u>+noqr</u> which means that <b>dig</b> will not print the initial query when it
       looks up the NS records for isc.org.

<b>IDN</b> <b>SUPPORT</b>
       If <b>dig</b> has been built with IDN (internationalized domain name) support, it can accept and display
       non-ASCII domain names.  <b>dig</b> appropriately converts character encoding of domain name before sending
       a request to DNS server or displaying a reply from the server. If you'd like to turn off the IDN
       support for some reason, defines the <b>IDN_DISABLE</b> environment variable. The IDN support is disabled if
       the variable is set when <b>dig</b> runs.

<b>FILES</b>
       <u>/etc/resolv.conf</u>

       <u>${HOME}/.digrc</u>

<b>SEE</b> <b>ALSO</b>
       <a href="host.1.html#//apple_ref/doc/man/1/host"><b>host</b>(1)</a>, <a href="../man8/named.8.html#//apple_ref/doc/man/8/named"><b>named</b>(8)</a>, <a href="../man8/dnssec-keygen.8.html#//apple_ref/doc/man/8/dnssec-keygen"><b>dnssec-keygen</b>(8)</a>, RFC1035.

<b>BUGS</b>
       There are probably too many query options.

<b>COPYRIGHT</b>
       Copyright (C) 2004-2007 Internet Systems Consortium, Inc. ("ISC")
       Copyright (C) 2000-2003 Internet Software Consortium.



BIND9                                           Jun 30, 2000                                          DIG(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/dig.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/dig.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/dig.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
