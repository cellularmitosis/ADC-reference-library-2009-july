<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>iWork Programming Guide: Working With Text Objects in Pages Documents</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Working With Text Objects in Pages Documents"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002479-CH209" title="Working With Text Objects in Pages Documents"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../Keynote-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP30000534" target="_top">Keynote</a> &gt; <a href="../Chapter01/Introduction.html#//apple_ref/doc/uid/TP40002479-CH202-DontLinkElementID_62">iWork Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Chapter03/03Keynote.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Revision/RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_113" title="Working With Text Objects in Pages Documents"></a><h1><a name="//apple_ref/doc/uid/TP40002479-CH209-TPXREF101" title="Working With Text Objects in Pages Documents"></a>Working With Text Objects in Pages Documents</h1><p>This chapter works through a series of examples in Pages documents, describing how text objects in each example are stored and laid out in XML. Understanding how Pages documents store and lay out text is important if you want to customize and design your own page layouts, or modify the existing XML of your documents.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_45" title="How Pages Stores and Lays Out Various Text Objects"></a><h2>How Pages Stores and Lays Out Various Text Objects</h2><p>The chapter discusses the following group of examples used in Pages documents to lay out various text objects:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="04WorkingPages.html#//apple_ref/doc/uid/TP40002479-CH209-BBCIGDCD">“Main Body Text Objects With Character Styles”</a></span> examines a page layout comprised of main body text, along with a bolded character style in its second paragraph, and a tab. </p></li><li class="li"><p><span class="content_text"><a href="04WorkingPages.html#//apple_ref/doc/uid/TP40002479-CH209-BBCCJFAF">“Lists Text Object”</a></span> discusses the elements and attributes of a list of text items in a hierarchical outline view.</p></li><li class="li"><p><span class="content_text"><a href="04WorkingPages.html#//apple_ref/doc/uid/TP40002479-CH209-BBCCIIJF">“Multiple Column Text Objects”</a></span> discusses a page layout that is comprised of multiple columns.</p></li><li class="li"><p><span class="content_text"><a href="04WorkingPages.html#//apple_ref/doc/uid/TP40002479-CH209-BBCCCBBA">“Text Objects With Date-Time Fields and Hyperlinks”</a></span> discusses how you can work with a page layout comprised of a date-time field, page numbers, bookmarks, and hypertext links.</p></li><li class="li"><p><span class="content_text"><a href="04WorkingPages.html#//apple_ref/doc/uid/TP40002479-CH209-BBCCEGID">“A Footnote Text Object”</a></span> looks at a text object with two footnotes and their corresponding superscripts.</p></li><li class="li"><p><span class="content_text"><a href="04WorkingPages.html#//apple_ref/doc/uid/TP40002479-CH209-BBCBAICD">“A Text Object With an Image and a Drawable Attachment”</a></span> explains how you can work with a text object with an image and a drawable attachment. </p></li></ul><p>The examples are intended to illustrate how Pages documents store text objects in XML and how they are laid out. </p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCIGDCD" title="Main Body Text Objects With Character Styles"></a><h3>Main Body Text Objects With Character Styles</h3><p><span class="content_text">Figure 4-1</span> illustrates the output for a Pages text storage object with a page layout comprised of a main body text and a bolded character style in a second paragraph, followed by a tab. <span class="content_text">Listing 4-1</span> describes the XML for this text storage object.</p><br/><div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_114" title="Figure 3-1Example output for the main body text and a bolded character style, followed a tab"></a><p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCCBAIE" title="Figure 3-1Example output for the main body text and a bolded character style, followed a tab"></a><strong>Figure 3-1&nbsp;&nbsp;</strong>Example output for the main body text and a bolded character style, followed a tab</p><img src = "../Art/main_bodytext.jpg" alt = "Example output for main body text and character style, followed a tab" ></div><br/><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_115" title="Listing 3-1The XML for the main body text and a second paragraph with a bolded character style"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCEIECD" title="Listing 3-1The XML for the main body text and a second paragraph with a bolded character style"></a><strong>Listing 3-1&nbsp;&nbsp;</strong>The XML for the main body text and a second paragraph with a bolded character style</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;sf:text-storage sf:kind="body" sfa:ID="SFWPStorage-8"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:stylesheet-ref sfa:IDREF="SFSStylesheet-1"/><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:section sf:name="Chapter 1" sf:style="section-style-0"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:layout sf:style="layout-style-20"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:p sf:style="paragraph-style-32">Main body text.&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:p sf:style="SFWPParagraphStyle-44">Second paragraph with a<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:span sf:style="SFWPCharacterStyle-5">character&lt;/sf:span> style and a&lt;sf:tab/>tab.&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:p sf:style="paragraph-style-32"><span></span></pre></td></tr><tr><td scope="row"><pre>          &lt;sf:br/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:section><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-storage><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_46" title="Defining Characteristics"></a><h4>Defining Characteristics</h4><p>The <code>&lt;sf:text-storage></code> element has one required attribute other than the <code>sfa:ID</code> attribute: the <code>sf:kind</code>, which indicates the usage of the text. The value must be one of <code>"body"</code>, <code>"header"</code>, <code>"footnote"</code>, <code>"textbox"</code>, <code>"note"</code>, or <code>"cell"</code>. The text storage <code>sf:kind</code> attribute must have a value corresponding to its use in the document. For example, the text storage used for a header must have a <code>sf:kind="header"</code> in order to avoid undefined or unpredictable types of behavior.</p><p>A <code>&lt;sf:text-storage></code> element must have a <code>&lt;sf:stylesheet-ref></code> child element that refers to the document or prototype stylesheet and may have a child <code>&lt;sf:attachment></code> element. Body text storages can also have a <code>&lt;sf:footnotes></code> child element. </p><p>A <code>&lt;sf:text-storage></code> element must have a <code>&lt;sf:text-body></code> child element. The next immediate child of the <code>&lt;sf:text-storage></code> element depends on the text storage kind.</p><p>The child elements of a <code>&lt;sf:text-storage></code> with an <code>sf:kind</code> of <code>"body"</code> must follow the strict hierarchy of <code>&lt;sf:section></code> elements, containing <code>&lt;sf:layout></code> elements that contain <code>&lt;sf:p></code> elements, which indicate the section, layout style, and paragraph style, respectively, of the contained mixed content.</p><p>The child elements of a <code>&lt;sf:text-storage></code> with an <code>sf:kind</code> of <code>"textbox"</code>, <code>"cell"</code> , or <code>"note"</code> must follow the strict hierarchy of <code>&lt;sf:layout></code> elements containing <code>&lt;sf:p></code> elements, which indicate the layout style, and paragraph style, respectively, of the contained mixed content.</p><p>The child elements of a <code>&lt;sf:text-storage></code> with an <code>sf:kind</code> of <code>"header"</code> or <code>"footnote"</code> elements contain <code>&lt;sf:p></code> elements, which indicate the paragraph style of the contained mixed content.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_116" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code>&lt;sf:p></code> element does not itself indicate the break character which ends the paragraph and must be included immediately prior to the close of the paragraph element (except on the last paragraph of the text storage).</p></div><p>Style runs at the sub-paragraph level are enclosed in <code>&lt;sf:span></code> elements, and reference character styles. Note that spans are used only for sub-paragraph style runs and define only the variations from the enclosing paragraph style. Any style that applies to all of the text in a paragraph should be defined by the paragraph style. Note that <code>&lt;sf:span></code> elements do not nest.</p><p>The standard paragraph break is indicated by a <code>&lt;sf:br/></code> element. Other paragraph breaking elements are <code>&lt;sf:pgbr/></code> for page breaks, <code>&lt;sf:sectbrbr/></code> for section breaks, <code>&lt;sf:layoutbr/></code> for layout breaks, <code>&lt;sf:contbr/></code> for container breaks, and <code>&lt;sf:footnotebr/></code> for footnote breaks. </p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_47" title="Style References"></a><h4>Style References</h4><p>All styles in an iWork document have up to three attributes that can be used to identify the style. Like many other elements, all style elements have an <code>sfa:ID</code> attribute with a unique string as a value. Many style elements also have an <code>sf:ident</code> attribute with a value that is unique for all style elements of that type. Some style elements also have an <code>sf:name</code> attribute with a user-visible string as the value.</p><p>Text styles are referred to elsewhere in the document by a <code>sf:style</code> attribute the value of which is either the style’s <code>sf:ident</code>, or its <code>sfa:ID</code>.</p><p>The <code>&lt;sf:section></code> element must have an <code>&lt;sf:name></code> attribute (which is not exposed to the user), and an <code>sf:style</code> attribute referencing a section style.</p><p>The <code>&lt;sf:layout></code> and <code>&lt;sf:p></code> elements reference layout and paragraph styles, respectively.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCCJFAF" title="Lists Text Object"></a><h3>Lists Text Object</h3><p><span class="content_text">Figure 4-2</span> illustrates the output for a Pages text object with a page layout comprised of a list of items in an outline view. <span class="content_text">Listing 4-2</span> describes the XML for text in outline form.</p><br/><div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_117" title="Figure 3-2Example output for a list of items in outline form"></a><p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCHIIFD" title="Figure 3-2Example output for a list of items in outline form"></a><strong>Figure 3-2&nbsp;&nbsp;</strong>Example output for a list of items in outline form</p><img src = "../Art/outline_view.gif" alt = "Example output for a list of items in outline form" width="608" height="228"></div><br/><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_118" title="Listing 3-2The XML for an item list in outline form"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCEFIDA" title="Listing 3-2The XML for an item list in outline form"></a><strong>Listing 3-2&nbsp;&nbsp;</strong>The XML for an item list in outline form</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;sf:text-storage sf:kind="body" sfa:ID="SFWPStorage-8"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:stylesheet-ref sfa:IDREF="SFSStylesheet-1"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:section sf:name="Chapter 1" sf:style="section-style-0"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:layout sf:style="layout-style-20"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32">List of items:&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="SFWPParagraphStyle-45" sf:restart-list="true">First&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="SFWPParagraphStyle-45" sf:list-level="1">Sublevel 1&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="SFWPParagraphStyle-45" sf:list-level="2">Sublevel 2&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="SFWPParagraphStyle-46">Second&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="SFWPParagraphStyle-43">Third&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:sectbr/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/sf:section><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-storage><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_48" title="Defining Characteristics"></a><h4>Defining Characteristics</h4><p>The fact that a paragraph is an element in a list is indicated by an <code>sf:list-level</code> attribute with an integer value in the range of <code>"1"</code> to <code>"9"</code> on the <code>&lt;sf:p></code> element. An <code>sf:restart-list</code> attribute with a value of <code>"true"</code> indicates that the paragraph begins a new sequence at this level rather than continuing a previous one.</p><p>The appearance of the list element––that is, bullets, indentation, and so on––is found in the paragraph style.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCCIIJF" title="Multiple Column Text Objects"></a><h3>Multiple Column Text Objects</h3><p><span class="content_text">Figure 4-3</span> illustrates a Pages text object with a page layout comprised of multiple columns. In this case, the text flows and wraps over all three columns. <span class="content_text">Listing 4-3</span> describes the XML for text in multiple columns.</p><br/><div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_119" title="Figure 3-3Example output for a page layout with multiple columns"></a><p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCJJCBF" title="Figure 3-3Example output for a page layout with multiple columns"></a><strong>Figure 3-3&nbsp;&nbsp;</strong>Example output for a page layout with multiple columns</p><img src = "../Art/text_multicolumns.gif" alt = "Example output for page layout with multiple columns" width="605" height="153"></div><br/><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_120" title="Listing 3-3The XML for a multiple column page layout"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCJBFJE" title="Listing 3-3The XML for a multiple column page layout"></a><strong>Listing 3-3&nbsp;&nbsp;</strong>The XML for a multiple column page layout</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;sf:text-storage sf:kind="body" sfa:ID="SFWPStorage-8"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:stylesheet-ref sfa:IDREF="SFSStylesheet-1"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:section sf:name="Chapter 2" sf:style="section-style-22"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:layout sf:style="layout-style-35"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32">Text in the second section.&lt;sf:layoutbr/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:layout sf:style="SFWPLayoutStyle-13"><span></span></pre></td></tr><tr><td scope="row"><pre>       &lt;sf:p sf:style="paragraph-style-32">New layout  with multiple columns. New  layout with multiple columns. New layout with multiple columns.  New layout with  multiple columns. New layout with multiple columns. New layout with  multiple  columns. New layout with multiple columns. &lt;sf:layoutbr/> <span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:layout sf:style="layout-style-36"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32"><span></span></pre></td></tr><tr><td scope="row"><pre>          &lt;sf:br/><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/sf:section><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-storage><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_49" title="Defining Characteristics"></a><h4>Defining Characteristics</h4><p>The <code>&lt;sf:layout></code> element indicates the layout style for the multiple column text view that is generated in <span class="content_text">Figure 4-3</span>. Note that the column count is a property of the layout style.</p><p>The <code>sf:style</code> attribute specifies the paragraph style, which includes the “New layout with multiple columns” text, followed by a <code>sf:layoutbr</code> break attribute.</p><p>The <code>&lt;sf:layoutbr></code> element is the most notable item of interest in this XML example. The last paragraph in a layout is terminated by an <code>&lt;sf:layoutbr></code> instead of a paragraph break. </p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCCCBBA" title="Text Objects With Date-Time Fields and Hyperlinks"></a><h3>Text Objects With Date-Time Fields and Hyperlinks</h3><p><span class="content_text">Figure 4-4</span> illustrates the output for a Pages text object with a page layout comprised of a date-time field, along with page numbers, bookmarks, and hypertext links. <span class="content_text">Listing 4-4</span> describes the XML for this text-storage object.</p><br/><div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_121" title="Figure 3-4Example output for a text object with date-time fields, page numbers, bookmarks, and hypertext links"></a><p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCBGFFH" title="Figure 3-4Example output for a text object with date-time fields, page numbers, bookmarks, and hypertext links"></a><strong>Figure 3-4&nbsp;&nbsp;</strong>Example output for a text object with date-time fields, page numbers, bookmarks, and hypertext links</p><img src = "../Art/text_hyperlink.gif" alt = "Example output for a text object with date and time fields, page numbers, booksmarks, and hypertext links" width="540" height="134"></div><br/><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_122" title="Listing 3-4The XML for date-time fields, page numbers, bookmarks, and hypertext links"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCHFEID" title="Listing 3-4The XML for date-time fields, page numbers, bookmarks, and hypertext links"></a><strong>Listing 3-4&nbsp;&nbsp;</strong>The XML for date-time fields, page numbers, bookmarks, and hypertext links</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;sf:text-storage sf:kind="body" sfa:ID="SFWPStorage-8"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:stylesheet-ref sfa:IDREF="SFSStylesheet-1"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:section sf:name="Chapter 2" sf:style="section-style-22"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:layout sf:style="layout-style-36"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32">Some fields and attachments:<span></span></pre></td></tr><tr><td scope="row"><pre>          &lt;sf:date-time sf:format="MMMM d, yyyy h:mm a" sf:locale="en_US"<span></span></pre></td></tr><tr><td scope="row"><pre>              sf:date-style="long" sf:time-style="short"<span></span></pre></td></tr><tr><td scope="row"><pre>              sf:auto-update="true">April 19, 2005 11:46 PM&lt;/sf:date-time>  page number:<span></span></pre></td></tr><tr><td scope="row"><pre>          &lt;sf:page-number sf:value="2"/> of:<span></span></pre></td></tr><tr><td scope="row"><pre>          &lt;sf:page-count sf:value="2"/>.<span></span></pre></td></tr><tr><td scope="row"><pre>          &lt;sf:br/><span></span></pre></td></tr><tr><td scope="row"><pre>       &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:br/><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32">Text in a<span></span></pre></td></tr><tr><td scope="row"><pre>          &lt;sf:bookmark sf:name="bookmark" sf:ranged="true" sf:page="2" sfa:ID="SFWPBookmarkField-0"><span></span></pre></td></tr><tr><td scope="row"><pre>book&lt;sf:br/>&lt;/sf:bookmark><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32">&lt;sf:bookmark-ref sfa:IDREF="SFWPBookmarkField-0">mark<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:bookmark-ref>, and a &lt;sf:link href="http://web.apple.com">&lt;sf:span sf:style="SFWPCharacterStyle-6"><span></span></pre></td></tr><tr><td scope="row"><pre>hyperlink&lt;/sf:span>&lt;/sf:link>.&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/sf:section><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-storage><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_50" title="Defining Characteristics"></a><h4>Defining Characteristics</h4><p>This section discusses the defining characteristics of the various fields of this text object, including bookmark, placeholder text, hyperlink, date-time, and page number and page count.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_51" title="Bookmark Fields"></a><h5>Bookmark Fields</h5><p>A bookmark field is defined by a <code>&lt;sf:bookmark></code> element with no attributes other than an optional <code>sfa:ID</code>, which only needs to be defined if the bookmark crosses a paragraph boundary, in which case the continuation is indicated by a <code>&lt;sf:bookmark-ref></code> element with an <code>sfa:IDREF</code> attribute with a value corresponding to the value of the <code>sfa:ID</code> of the <code>&lt;sf:bookmark></code> element that is being continued.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_52" title="Placeholder Text Fields"></a><h5>Placeholder Text Fields</h5><p>A placeholder text field is defined by a <code>&lt;sf:ghost-text></code> element with no attributes other than an optional <code>sfa:ID</code>, which only needs to be defined if the placeholder text crosses a paragraph boundary, in which case the continuation is indicated by a <code>&lt;sf:ghost-text-ref></code> element with an <code>sfa:IDREF</code> attribute with a value corresponding to the value of the <code>sfa:ID</code> of the <code>&lt;sf:ghost-text></code> element which is being continued. A placeholder text field should contain textual content only.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_53" title="Hyperlink Fields"></a><h5>Hyperlink Fields</h5><p>A hyperlink field is defined by a <code>&lt;sf:link></code> element with a single attribute. A hyperlink field must not cross a paragraph boundary, and cannot contain graphical attachments, date-time fields, placeholder text, or other hyperlink fields. It may contain <code>&lt;sf:span></code> elements.</p><p>The <code>href</code> attribute defines either a standard web (<code>http:</code>) or mail (<code>mailto:</code>) URL, or a bookmark name prefix by ‘<code>#</code>’.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_54" title="Date-Time Fields"></a><h5>Date-Time Fields</h5><p>A date-time field is defined by a <code>&lt;sf:date-time></code> element with five possible attributes, and no child elements. The content of the field is text only, and is the resulting formatted text seen in the document.</p><p>The <code>sf:format</code> attribute defines the format of the date or time text. The syntax of this string is defined by the ICU library <span class="content_text"><a href="http://oss.software.ibm.com/icu/userguide/formatDateTime.html" target="_blank">http://icu.sourceforge.net/userguide/formatDateTime.html</a></span>. (Only a small selection of possible formats are exposed in the UI.)</p><p>The <code>sf:locale</code> attribute specifies the locale used to format the date time string. The possible values are those defined by CFLocale.</p><p>The optional <code>sf:date-style</code> and <code>sf:time-style</code> attributes define the style indicated by the format in the <code>sf:format</code> attribute. The possible values are <code>"short"</code>, <code>"medium"</code>, <code>"long"</code>, and <code>"full"</code> , which correspond to <code>CFDateFormatterStyle</code> values. These attributes are defined only if together they result in the format specifed by the value of the <code>sf:format</code> attribute; otherwise, they are omitted.</p><p>If the <code>sf:auto-update</code> attribute has a value of <code>"true"</code>, then the field is auto-updating.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_55" title="Page Number and Page Count Fields"></a><h5>Page Number and Page Count Fields</h5><p>A page number field is defined by a <code>&lt;sf:page-number></code> element with a single attribute and no content.</p><p>A page count field is defined by a <code>&lt;sf:page-count></code> element with a single attribute and no content.</p><p>The value of the <code>sf:value</code> attribute of page number and page count fields is an integer corresponding to the most recent value represented by the field, and is recomputed whenever the text containing the field is laid out.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCCEGID" title="A Footnote Text Object"></a><h3>A Footnote Text Object</h3><p><span class="content_text">Figure 4-5</span> illustrates the output for a Pages text object with two footnotes and their footnote references (the superscripted numbers in the body text). <span class="content_text">Listing 4-5</span> describes the XML for this text-storage object.</p><br/><div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_123" title="Figure 3-5Example output for a text object with footnotes"></a><p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCDIFAB" title="Figure 3-5Example output for a text object with footnotes"></a><strong>Figure 3-5&nbsp;&nbsp;</strong>Example output for a text object with footnotes</p><img src = "../Art/footnote_two.gif" alt = "Example output for a text object with footnotes" width="148" height="71"></div><br/><br/><div><img src = "../Art/footnote_text.gif" alt = "1. First-footnote 2. This is the footnote text." width="164" height="76"></div><br/><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_124" title="Listing 3-5The XML for a footnotes text object"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCHBJEI" title="Listing 3-5The XML for a footnotes text object"></a><strong>Listing 3-5&nbsp;&nbsp;</strong>The XML for a footnotes text object</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;sf:text-storage sf:kind="body" sfa:ID="SFWPStorage-8"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:stylesheet-ref sfa:IDREF="SFSStylesheet-1"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:footnotes><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:text-storage sfa:ID="SFWPStorage-7" sf:kind="footnote"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:stylesheet-ref sfa:IDREF="SFSStylesheet-1"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:attachments/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="kSFWPFootnoteTextStyleIdentifier">&lt;sf:span sf:style="SFWPCharacterStyle-4"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:footnote-mark sf:mark="1"/>&lt;/sf:span> First footnote&lt;sf:footnotebr/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="kSFWPFootnoteTextStyleIdentifier">&lt;sf:span sf:style="SFWPCharacterStyle-4"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:footnote-mark sf:mark="2"/>&lt;/sf:span> This is the footnote text.&lt;sf:footnotebr/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-default"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/sf:text-storage><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:footnotes><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:section sf:name="Chapter 2" sf:style="section-style-22"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:layout sf:style="layout-style-36"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32">Footnotes&lt;sf:span sf:style="SFWPCharacterStyle-4"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:footnote sf:index="0" sf:autonumber="1"/>&lt;/sf:span>, too&lt;sf:span sf:style="SFWPCharacterStyle-4"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;sf:footnote sf:index="0" sf:autonumber="2"/>&lt;/sf:span>&lt;sf:br/>&lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;sf:br/><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/sf:section><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-storage><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_56" title="Defining Characteristics"></a><h4>Defining Characteristics</h4><p>This section discusses the defining characteristics of the various fields of this text object, including footnotes and footnote references.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_57" title="Footnotes"></a><h5>Footnotes</h5><p>The <code>&lt;sf:footnotes></code> element defines a single <code>&lt;sf:text-storage></code> element that must have a <code>sf:kind</code> value of <code>"footnote"</code>.</p><p>Within the footnote storage, individual footnotes are separated by <code>&lt;sf:footnotebr></code> elements.</p><p>The footnote numbers are indicated by optional <code>&lt;sf:footnote-mark></code> elements with a single attribute. The value of the <code>sf:mark</code> attribute defines the number given to the footnote.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_58" title="Footnote References"></a><h5>Footnote References</h5><p>The footnote references are defined in the body text as <code>&lt;sf:footnote/></code> elements with two attributes and no content.</p><p>The value of the <code>sf:index</code> attribute defines a valid index into the text of the <code>&lt;sf:footnotes></code> element. (Zero for the first footnote and so on.)</p><p>If the value of the <code>sf:autonumber</code> attribute is <code>"YES"</code>, then the <code>sf:mark</code> attribute on the corresponding <code>&lt;sf:footnote-mark></code> is renumbered as footnotes are added and removed.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCBAICD" title="A Text Object With an Image and a Drawable Attachment"></a><h3>A Text Object With an Image and a Drawable Attachment</h3><p><span class="content_text">Figure 4-6</span> illustrates a Pages text object with an image attachment and a drawable attachment. <span class="content_text">Listing 4-6</span> describes the XML for this text-storage object.</p><br/><div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_125" title="Figure 3-6Example output for a text object with an image and a drawable attachment"></a><p><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCIDHCC" title="Figure 3-6Example output for a text object with an image and a drawable attachment"></a><strong>Figure 3-6&nbsp;&nbsp;</strong>Example output for a text object with an image and a drawable attachment</p><img src = "../Art/image_drawable.jpg" alt = "Example output for a text object with an image and a drawable attachment" ></div><br/><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_126" title="Listing 3-6The XML for a text storage object with an image and a drawable attachment"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40002479-CH209-BBCJIEGB" title="Listing 3-6The XML for a text storage object with an image and a drawable attachment"></a><strong>Listing 3-6&nbsp;&nbsp;</strong>The XML for a text storage object with an image and a drawable attachment</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;sf:text-storage sf:kind="body" sfa:ID="SFWPStorage-8"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:stylesheet-ref sfa:IDREF="SFSStylesheet-1"/><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:attachments><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:attachment sfa:ID="SLDrawableAttachment-0" sfa:sfclass="" sf:kind="drawable-attachment"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:line sfa:ID="SFDLineInfo-0"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:line><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:attachment><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:attachment sfa:ID="SLDrawableAttachment-1" sfa:sfclass="" sf:kind="drawable-attachment"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:image sfa:ID="SFDImageInfo-0"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:image><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:attachment><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/sf:attachments><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:section sf:name="Chapter 2" sf:style="section-style-22"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sf:layout sf:style="layout-style-36"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:p sf:style="paragraph-style-32"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:attachment-ref sfa:IDREF="SLDrawableAttachment-0" sf:kind="drawable-attachment"/><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;sf:attachment-ref sfa:IDREF="SLDrawableAttachment-1" sf:kind="drawable-attachment"/><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;/sf:p><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/sf:section><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/sf:text-body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/sf:text-storage><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_59" title="Defining Characteristics"></a><h4>Defining Characteristics</h4><p>This section discusses the defining characteristics of the various fields of this text object, including attachments and attachment references.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_60" title="Attachments"></a><h5>Attachments</h5><p>The <code>&lt;sf:attachments></code> element defines a sequence of <code>&lt;sf:attachment></code> elements, each of which defines a single attachment appearing in the following <code>&lt;sf:text-body></code> element.</p><p>The <code>&lt;sf:attachment></code> element has two attributes (in addition to an <code>sfa:ID attribute</code>) and has a child element that is either a <code>&lt;sf:line></code>, <code>&lt;sf:drawable-shape></code>, or <code>&lt;sf:image></code>.</p><p>The <code>sfa:class</code> attribute must always have a value of <code>""</code>.</p><p>The <code>sf:kind</code> attribute has a value of <code>"drawable-attachment"</code> if the child element is an <code>&lt;sf:line></code>, <code>&lt;sf:drawable-shape></code>, or <code>&lt;sf:image></code>.</p><a name="//apple_ref/doc/uid/TP40002479-CH209-DontLinkElementID_61" title="Attachment References"></a><h5>Attachment References</h5><p>Within the text body, attachment points are defined by <code>&lt;sf:attachment-ref></code> elements with one attribute, in addition to the <code>sfa:IDREF</code> attribute that references the attachment in the <code>&lt;sf:attachments></code> element.</p><p>The <code>sf:kind</code> attribute must have the same value as the <code>sf:kind</code> attribute on the referenced attachment.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Chapter03/03Keynote.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Revision/RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-11-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/iWork2-0_XML/Chapter04/04WorkingPages.html%3Fid%3DTP40002479-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/iWork2-0_XML/Chapter04/04WorkingPages.html%3Fid%3DTP40002479-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/iWork2-0_XML/Chapter04/04WorkingPages.html%3Fid%3DTP40002479-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>