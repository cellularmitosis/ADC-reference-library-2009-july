<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>AMAction Class Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="AMAction Class Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001597" title="AMAction"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/AppleApplications/index.html#//apple_ref/doc/uid/TP30001281-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../../../../../reference/AppleApplications/idxAutomator-date.html#//apple_ref/doc/uid/TP30001281-TP30000418-TP40001673" target="_top">Automator</a> &gt; <a href="../index.html" target="_top">AMAction Class Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/cl/AMAction" title="AMAction"></a><a name="//apple_ref/doc/c_ref/AMAction" title="AMAction"></a><a name="//apple_ref/doc/uid/TP40001597-BAJFEHJE" title="AMAction"></a><h1><a name="//apple_ref/doc/uid/TP40001597-BCIDFFJF" title="AMAction Class Reference"></a>AMAction Class Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Inherits from</span></strong></td><td><div style="margin-bottom:1px"><a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject" target="_top">NSObject</a></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Conforms to</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../../Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intf/NSObject" target="_top">NSObject (NSObject)</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/<a href="../../../../AutomatorReference/index.html#//apple_ref/doc/uid/TP40001452" target="_top">Automator.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Available in Mac OS X v10.4 and later.</div></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guide</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../Conceptual/AutomatorConcepts/index.html#//apple_ref/doc/uid/TP40001450" target="_top">Automator Programming Guide</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">AMAction.h</span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Related sample code</span></strong></td><td><div style="margin-bottom:1px"><div><span class="content_text"><a href="../../../../../../../samplecode/ApplyFirmwarePassword/index.html#//apple_ref/doc/uid/DTS10004360" target="_top">Apply Firmware Password</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/CoreRecipes/index.html#//apple_ref/doc/uid/DTS10003664" target="_top">CoreRecipes</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/UnsharpMask/index.html#//apple_ref/doc/uid/DTS10003724" target="_top">UnsharpMask</a></span></div></div></td></tr></table></div><br/>



<a name="//apple_ref/doc/uid/TP40001597-43292" title="Overview"></a><h2>Overview</h2>

<p class="spaceabove"><code>AMAction</code> is an abstract class that defines the interface and general characteristics of Automator actions. Automator is an Apple-provided application that allows users to construct and execute workflows consisting of a sequence of discrete modules called actions. An action performs a specific task, such as copying a file or cropping an image, and passes its output to Automator to give to the next action in the workflow. Actions are currently implemented as loadable bundles owned by objects of the <code>AMBundleAction</code> class, a subclass of <code>AMAction</code>.</p>
<p>The critically important method declared by <code>AMAction</code> is <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/runWithInput:fromAction:error:">runWithInput:fromAction:error:</a></code>. When Automator executes a workflow, it sends this message to each action object in the workflow (in workflow sequence), in most cases passing in the output of the previous action as input. The action object performs its task in this method and ends by returning an output object for the next action in the workflow.</p>
<a name="//apple_ref/doc/uid/TP40001597-44522" title="Subclassing Notes"></a><h3>Subclassing Notes</h3>
<p class="spaceabove">	Subclassing <code>AMAction</code> is not recommended. For most situations requiring an enhancement to the Automator framework, it is sufficient to subclass <code><a href="../../AMBundleAction_Class/Reference/Reference.html#//apple_ref/occ/cl/AMBundleAction" target="_top">AMBundleAction</a></code> or one of its public subclasses, <code><a href="../../AMAppleScriptAction_Class/Reference/Reference.html#//apple_ref/occ/cl/AMAppleScriptAction" target="_top">AMAppleScriptAction</a></code> or <code><a href="../../AMShellScriptAction_Class/Reference/Reference.html#//apple_ref/occ/cl/AMShellScriptAction" target="_top">AMShellScriptAction</a></code>.</p>




<a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_6" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_7" title="Initialization and Encoding"></a>
		<h3 class="tasks">Initialization and Encoding</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/initWithDefinition:fromArchive:">&#8211;&#xA0;initWithDefinition:fromArchive:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Initializes the receiver with the specified definition.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/initWithContentsOfURL:error:">&#8211;&#xA0;initWithContentsOfURL:error:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Loads an Automator action from a file URL.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/writeToDictionary:">&#8211;&#xA0;writeToDictionary:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Examines the parameters and other configuration information specified in the passed dictionary and add its own information to it if appropriate.'/>
                    
                </span></li>
			
		<li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/AMAction/definition">&#8211;&#xA0;definition</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.4</font>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the definition of the receiver.&#032;(<font color="red">Deprecated.</font>&#032;Removed for performance reasons. There is no replacement.)'/>
                    
                </span></li></ul>


<a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_8" title="Controlling the Action"></a>
		<h3 class="tasks">Controlling the Action</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/reset">&#8211;&#xA0;reset</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Resets the receiver to its initial state.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/runAsynchronouslyWithInput:">&#8211;&#xA0;runAsynchronouslyWithInput:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Causes Automator to wait for notification that the receiver has completed execution, which allows the receiver to perform an asynchronous operation.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/runWithInput:fromAction:error:">&#8211;&#xA0;runWithInput:fromAction:error:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Requests the receiver to perform its task using the specified input from the specified action.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/stop">&#8211;&#xA0;stop</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Stops the receiver from running.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_9" title="Initializing and Synchronizing the Action User Interface"></a>
		<h3 class="tasks">Initializing and Synchronizing the Action User Interface</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/activated">&#8211;&#xA0;activated</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invoked when the window of the Automator workflow to which the receiver belongs becomes the main window. This allows the receiver to synchronize its information with settings in another application.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/opened">&#8211;&#xA0;opened</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invoked when the receiver is first added to a workflow, allowing it to initialize its user interface.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_10" title="Updating Action Parameters"></a>
		<h3 class="tasks">Updating Action Parameters</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/parametersUpdated">&#8211;&#xA0;parametersUpdated</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Requests the receiver to update its user interface from its stored parameters, which have changed.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/updateParameters">&#8211;&#xA0;updateParameters</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Requests the receiver to update its stored set of parameters from the settings in the action’s user interface.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_11" title="Getting Information About the Action"></a>
		<h3 class="tasks">Getting Information About the Action</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/closed">&#8211;&#xA0;closed</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invoked by Automator when the receiving action is removed from a workflow, allowing it to perform cleanup operations.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/didFinishRunningWithError:">&#8211;&#xA0;didFinishRunningWithError:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sent by the receiver to itself when it has finished running asynchronously.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/ignoresInput">&#8211;&#xA0;ignoresInput</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a Boolean value that indicates whether the action acts upon its input or the input is ignored.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/name">&#8211;&#xA0;name</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the name of the action.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/output">&#8211;&#xA0;output</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the receiver’s output.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/willFinishRunning">&#8211;&#xA0;willFinishRunning</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invoked by Automator when the receiver has essentially completed its run phase.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_12" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/AMAction/activated" title="activated"></a><a name="//apple_ref/doc/uid/TP40001597-BCIGADJF" title="activated"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_15"></a><h3 class="verytight">activated</h3>
<p class="spaceabove">Invoked when the window of the Automator workflow to which the receiver belongs becomes the main window. This allows the receiver to synchronize its information with settings in another application.</p><p class="spaceabovemethod">- (void)activated</p>
<h5 class="tight">Discussion</h5><p> Be sure to invoke the superclass implementation of this method as the last thing in your implementation.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/opened">&#8211;&#xA0;opened</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/closed" title="closed"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_2" title="closed"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_16"></a><h3 class="verytight">closed</h3><p class="spaceabove">Invoked by Automator when the receiving action is removed from a workflow, allowing it to perform cleanup operations.</p><p class="spaceabovemethod">- (void)closed</p><h5 class="tight">Discussion</h5><p>This method is intended to be overridden, so that your action can perform its specific cleanup operations.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/didFinishRunningWithError:" title="didFinishRunningWithError:"></a><a name="//apple_ref/doc/uid/TP40001597-SW1" title="didFinishRunningWithError:"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_18"></a><h3 class="verytight">didFinishRunningWithError:</h3><p class="spaceabove">Sent by the receiver to itself when it has finished running asynchronously.</p><p class="spaceabovemethod">- (void)didFinishRunningWithError:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)<em>errorInfo</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>errorInfo</em></dt><dd><p>If an error occurred during asynchronous running of the action, upon return contains an instance of <code>NSError</code> that describes the problem.</p></dd></dl><h5 class="tight">Discussion</h5><p>An action that overrides <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/runAsynchronouslyWithInput:">runAsynchronouslyWithInput:</a></code> should invoke <code>didFinishRunningWithError:</code> on completion, so that Automator can resume running the workflow that the action is part of.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/willFinishRunning">&#8211;&#xA0;willFinishRunning</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/ignoresInput" title="ignoresInput"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_3" title="ignoresInput"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_19"></a><h3 class="verytight">ignoresInput</h3><p class="spaceabove">Returns a Boolean value that indicates whether the action acts upon its input or the input is ignored.</p><p class="spaceabovemethod">- (BOOL)ignoresInput</p><h5 class="tight">Return Value</h5><p><code>YES</code> if the action acts upon its input, otherwise <code>NO</code>.</p><h5 class="tight">Discussion</h5><p>Many actions act upon their input, but an action may merely pass on its input or, rarely, ignore it.</p><h5 class="tight">Special Considerations</h5><p>Although this method was documented in Mac OS X version 10.4, and an action would respond to this message, the method was not made public, and using it would generate a warning in Xcode.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/initWithContentsOfURL:error:" title="initWithContentsOfURL:error:"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_1" title="initWithContentsOfURL:error:"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_20"></a><h3 class="verytight">initWithContentsOfURL:error:</h3><p class="spaceabove">Loads an Automator action from a file URL.</p><p class="spaceabovemethod">- (id)initWithContentsOfURL:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSURL_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSURL" target="_top">NSURL</a> *)<em>fileURL</em>error:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSError" target="_top">NSError</a> **)<em>outError</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>fileURL</em></dt><dd><p>URL that specifies the location of an action file.</p></dd><dt><em>outError</em></dt><dd><p>If no action is found or if an error occurs in initializing or running it, upon return contains an instance of <code>NSError</code> that describes the problem. For keys and error constants used with action errors, see <em><a href="../../../../Automator_constants/index.html#//apple_ref/doc/uid/TP40004647" target="_top">Automator Constants Reference</a></em>.</p></dd></dl><h5 class="tight">Return Value</h5><p>The initialized action.</p><h5 class="tight">Discussion</h5><p>This method is typically invoked by applications that use the <code><a href="../../../../AMWorkflow_class/Reference/Reference.html#//apple_ref/occ/cl/AMWorkflow" target="_top">AMWorkflow</a></code> class to embed Automator workflows. It is used to allow creation of actions for a workflow.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/initWithDefinition:fromArchive:" title="initWithDefinition:fromArchive:"></a><a name="//apple_ref/doc/uid/TP40001597-BCIJCEBJ" title="initWithDefinition:fromArchive:"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_21"></a><h3 class="verytight">initWithDefinition:fromArchive:</h3>
<p class="spaceabove">Initializes the receiver with the specified definition.</p><p class="spaceabovemethod">- (id)initWithDefinition:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)<em>dict</em> fromArchive:(BOOL)<em>archived</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>dict</em></dt><dd><p>Describes the action, including any custom definition properties.</p></dd><dt><em>archived</em></dt><dd><p>If the receiver is being unarchived, <code>YES</code>, otherwise <code>NO</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>The initialized action.</p>
<h5 class="tight">Discussion</h5><p>This is the primary initializer for all Automator classes. The Automator application sends this message to instances of <code>AMAction</code> both when it loads actions bundles and when it unarchives them.</p><p>The <code>AMAction</code> object being instantiated should perform whatever initializations are necessary after invoking <code>super</code>’s implementation of this method. It can then examine the values in <em>dict</em>, particularly if the receiver had been archived with custom definition properties.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/AMAction/definition">&#8211;&#xA0;definition</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/writeToDictionary:">&#8211;&#xA0;writeToDictionary:</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/name" title="name"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_4" title="name"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_22"></a><h3 class="verytight">name</h3><p class="spaceabove">Returns the name of the action.</p><p class="spaceabovemethod">- (<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)name</p><h5 class="tight">Return Value</h5><p>The name of the receiving action.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/opened" title="opened"></a><a name="//apple_ref/doc/uid/TP40001597-BCIHBAEC" title="opened"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_23"></a><h3 class="verytight">opened</h3>
<p class="spaceabove">Invoked when the receiver is first added to a workflow, allowing it to initialize its user interface.</p><p class="spaceabovemethod">- (void)opened</p>
<h5 class="tight">Discussion</h5><p> You should perform all initializations of an action’s user interface in this method and not in <code>awakeFromNib</code>. Be sure to invoke the superclass implementation of this method as the final step of your implementation.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/activated">&#8211;&#xA0;activated</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/output" title="output"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_5" title="output"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_24"></a><h3 class="verytight">output</h3><p class="spaceabove">Returns the receiver’s output.</p><p class="spaceabovemethod">- (id)output</p><h5 class="tight">Return Value</h5><p>The receiving action’s output, or <code>nil</code> if called before the action is run.</p><h5 class="tight">Discussion</h5><p>This method is used in conjunction with the <code><a href="../../../../AMWorkflow_class/Reference/Reference.html#//apple_ref/occ/cl/AMWorkflow" target="_top">AMWorkflow</a></code> class, which allows access to the actions in a workflow.  Within a workflow, for example, you might iteratively inspect the output of each action. Or, on completion of a workflow, you might examine the output of the last action, to determine the output of the workflow.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/AutomatorHandsOn/index.html#//apple_ref/doc/uid/DTS10004384" target="_top">AutomatorHandsOn</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/CoreRecipes/index.html#//apple_ref/doc/uid/DTS10003664" target="_top">CoreRecipes</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/UnsharpMask/index.html#//apple_ref/doc/uid/DTS10003724" target="_top">UnsharpMask</a></span></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/parametersUpdated" title="parametersUpdated"></a><a name="//apple_ref/doc/uid/TP40001597-BCIHCDCH" title="parametersUpdated"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_25"></a><h3 class="verytight">parametersUpdated</h3>
<p class="spaceabove">Requests the receiver to update its user interface from its stored parameters, which have changed.</p><p class="spaceabovemethod">- (void)parametersUpdated</p>

<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/updateParameters">&#8211;&#xA0;updateParameters</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/reset" title="reset"></a><a name="//apple_ref/doc/uid/TP40001597-BCIFHDDA" title="reset"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_26"></a><h3 class="verytight">reset</h3>
<p class="spaceabove">Resets the receiver to its initial state.</p><p class="spaceabovemethod">- (void)reset</p>
<h5 class="tight">Discussion</h5><p> Resetting causes the action to release its output generated from the current execution of the workflow.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/stop">&#8211;&#xA0;stop</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/runAsynchronouslyWithInput:" title="runAsynchronouslyWithInput:"></a><a name="//apple_ref/doc/uid/TP40001597-SW3" title="runAsynchronouslyWithInput:"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_27"></a><h3 class="verytight">runAsynchronouslyWithInput:</h3><p class="spaceabove">Causes Automator to wait for notification that the receiver has completed execution, which allows the receiver to perform an asynchronous operation.</p><p class="spaceabovemethod">- (void)runAsynchronouslyWithInput:(id)<em>input</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>input</em></dt><dd><p>The input for the action. Should contain one or more objects compatible with one of the types specified in the action’s <code>AMAccepts</code> property.</p></dd></dl><h5 class="tight">Discussion</h5><p>This method should be overridden only by actions that need to make asynchronous calls. After <code>runAsynchronouslyWithInput:</code> is invoked, Automator does not continue until the action invokes <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/didFinishRunningWithError:">didFinishRunningWithError:</a></code>. So in your override of this method, you can make an asynchronous call, wait to be notified of its completion, then invoke <code>didFinishRunningWithError:</code> to signal to Automator that the action has completed.</p><div class="warningbox"><img src="../../../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_14" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;Failure to invoke <code>didFinishRunningWithError:</code> can cause a workflow to stall indefinitely.</p><p></p><div class="clear"></div></div><p>For actions that do not need to make asynchronous calls, the preferred method is <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/runWithInput:fromAction:error:">runWithInput:fromAction:error:</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/runWithInput:fromAction:error:" title="runWithInput:fromAction:error:"></a><a name="//apple_ref/doc/uid/TP40001597-BCIGGHHE" title="runWithInput:fromAction:error:"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_28"></a><h3 class="verytight">runWithInput:fromAction:error:</h3>
<p class="spaceabove">Requests the receiver to perform its task using the specified input from the specified action.</p><p class="spaceabovemethod">- (id)runWithInput:(id)<em>input</em> fromAction:(AMAction *)<em>anAction</em> error:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> **)<em>errorInfo</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>input</em></dt><dd><p>The input for the receiving action. Should contain one or more objects compatible with one of the types specified in the action’s <code>AMAccepts</code> property.</p><p>By default, actions can only accept and provide the following types. However, by overriding this method, you can change the types your action can use:</p><ul class="termdef"><li class="termdef"><p>Objective-C actions: Accepts and provides types must inherit from com.apple.cocoa.string, com.apple.cocoa.path, com.apple.cocoa.url, or, starting in Mac OS X version 10.5 (v10.5), com.apple.cocoa.data.</p></li><li class="termdef"><p>Shell script actions: Accepts and provides types must inherit from com.apple.cocoa.string or, starting in Mac OS X v10.5, com.apple.cocoa.data.</p></li><li class="termdef"><p>AppleScript actions: Accepts and provides types must inherit from com.apple.applescript.object.</p></li></ul></dd><dt><em>anAction</em></dt><dd><p>The action from which the <em>input</em> object was obtained.</p></dd><dt><em>errorInfo</em></dt><dd><p>If an error occurs, the action returns an error dictionary in this parameter. The keys and values for this dictionary are:</p><ul class="termdef"><li class="termdef"><p><code>OSAScriptErrorNumber</code> (a string constant) — The value for this key is an instance of <code>NSNumber</code> whose integer value indicates an error code. See the header file <code>MacErrors.h</code> in the Carbon Core framework for a list of valid error codes, particularly the section on OSA errors.</p></li><li class="termdef"><p><code>OSAScriptErrorMessage</code> (a string constant) —The value for this key is an instance of <code>NSString</code> describing the error.</p></li></ul><p>For an example of how to create such a dictionary, see “Implementing runWithInput:fromAction:error:” in “<span class="content_text"><a href="../../../../../Conceptual/AutomatorConcepts/Articles/ImplementObjCAction.html#//apple_ref/doc/uid/TP40001513" target="_top">Implementing an Objective-C Action</a></span>" in <em><a href="../../../../../Conceptual/AutomatorConcepts/index.html#//apple_ref/doc/uid/TP40001450" target="_top">Automator Programming Guide</a></em>.</p></dd></dl><h5 class="tight">Return Value</h5><p>An object containing one or more objects of a data type compatible with a type specified in the receiving action’s <code>AMProvides</code> property. If the receiver does not modify the data passed in <em>input</em>, it should return it unchanged.</p>
<h5 class="tight">Discussion</h5><p>The input and output objects for actions are usually instances of <code>NSArray</code>. If the receiver encounters problems, it should return by indirection an error dictionary that describes the error.</p><p>This method is intended to be overridden. AppleScript actions, however, usually will not need to override this method because the same functionality is provided by an AppleScript script.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/reset">&#8211;&#xA0;reset</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/runAsynchronouslyWithInput:">&#8211;&#xA0;runAsynchronouslyWithInput:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/stop">&#8211;&#xA0;stop</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/stop" title="stop"></a><a name="//apple_ref/doc/uid/TP40001597-BCIJAACI" title="stop"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_29"></a><h3 class="verytight">stop</h3>
<p class="spaceabove">Stops the receiver from running.</p><p class="spaceabovemethod">- (void)stop</p>
<h5 class="tight">Discussion</h5><p> The output acquired by the action during execution of the current workflow is still accessible to Automator.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/reset">&#8211;&#xA0;reset</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/updateParameters" title="updateParameters"></a><a name="//apple_ref/doc/uid/TP40001597-BCIHCCIJ" title="updateParameters"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_30"></a><h3 class="verytight">updateParameters</h3>
<p class="spaceabove">Requests the receiver to update its stored set of parameters from the settings in the action’s user interface.</p><p class="spaceabovemethod">- (void)updateParameters</p>
<h5 class="tight">Discussion</h5><p> This message is sent just before an action is saved, copied, or run.  Preferably, an action’s settings should not solely reside in the controls of its view, but if they do, the action can fetch and save them in this method.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/parametersUpdated">&#8211;&#xA0;parametersUpdated</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/willFinishRunning" title="willFinishRunning"></a><a name="//apple_ref/doc/uid/TP40001597-SW2" title="willFinishRunning"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_31"></a><h3 class="verytight">willFinishRunning</h3><p class="spaceabove">Invoked by Automator when the receiver has essentially completed its run phase.</p><p class="spaceabovemethod">- (void)willFinishRunning</p><h5 class="tight">Discussion</h5><p>This method is intended to be overridden. An action can use this method to perform cleanup operations, such as closing windows and deallocating memory.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code><a name="//apple_ref/occ/instm/AMAction/writeToDictionary:" title="writeToDictionary:"></a><a name="//apple_ref/doc/uid/TP40001597-BCIICDJJ" title="writeToDictionary:"></a><a name="//apple_ref/doc/uid/TP40001597-DontLinkElementID_32"></a><h3 class="verytight">writeToDictionary:</h3>
<p class="spaceabove">Examines the parameters and other configuration information specified in the passed dictionary and add its own information to it if appropriate.</p><p class="spaceabovemethod">- (void)writeToDictionary:(<a href="../../../../../../Cocoa/Reference/Foundation/Classes/NSMutableDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSMutableDictionary" target="_top">NSMutableDictionary</a> *)<em>dictionary</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>dictionary</em></dt><dd><p>Possibly contains parameter and other configuration information about the receiver.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>Automator sends this message to an action object prior to archiving it. In its implementation of this method, the action object should first invoke the superclass implementation.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.4 and later.</li></ul>
<h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/AMAction/initWithDefinition:fromArchive:">&#8211;&#xA0;initWithDefinition:fromArchive:</a></code></li></ul><h5 class="tight">Declared In</h5><code>AMAction.h</code>










        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-03-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Reference/AutomatorFramework/Classes/AMAction_Class/Reference/Reference.html%3Fid%3DTP40003954-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Reference/AutomatorFramework/Classes/AMAction_Class/Reference/Reference.html%3Fid%3DTP40003954-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Reference/AutomatorFramework/Classes/AMAction_Class/Reference/Reference.html%3Fid%3DTP40003954-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>