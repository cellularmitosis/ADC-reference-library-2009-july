<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="GoLive CyberStudio 3">		<title>EODatabaseContext (Java) </title>	</head><BODY bgcolor=#ffffff>		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../EOAccessTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="EODatabaseContext"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/EODatabaseContext"></a>EODatabaseContext</font></h1>		<p><br>		</p>		<blockquote>			<b>Inherits from: </b>EOCooperatingObjectStore 			<p><b>Implements: </b><br>			NSDisposable<br>			NSLocking<br>			NSDisposable<br>			NSLocking</p>			<p><b>Package: </b>com.webobjects.eoaccess</blockquote>		<p>		<hr size="4">		<br>		</p>		<h2>Class Description</h2>		<p>		<hr alt="">		</p>		<p>An EODatabaseContext object is an EOObjectStore (EOControl) for accessing relational databases, creating and saving objects based on EOEntity definitions in an EOModel.</p>		<p>An EODatabaseContext represents a single connection to a database server, and it determines the updating and locking strategy used by its EODatabaseChannel objects. An EODatabaseContext has a corresponding EODatabase object. If the server supports multiple concurrent transactions, the EODatabase object may have several database contexts. If the server and adaptor support it, a database context may in turn have several database channels, which handle access to the data on the server. </p>		<p>For a more information on EODatabaseContext, see the sections:</p>		<ul>			<li><a href="Concepts/EODatabaseContext.html#BGJEBBCH">&quot;EODatabaseContext's Interaction with Other Classes&quot; (page 165)</a> 			<li><a href="Concepts/EODatabaseContext.html#BGJBBGFF">&quot;Creating and Using an EODatabaseContext&quot; (page 167)</a> 			<li><a href="Concepts/EODatabaseContext.html#BGJBDBIE">&quot;Fetching and Saving Objects&quot; (page 168)</a> 			<li><a href="Concepts/EODatabaseContext.html#BGJDIBIG">&quot;Using a Custom Query&quot; (page 169)</a> 			<li><a href="Concepts/EODatabaseContext.html#BGJDIIGI">&quot;Faulting&quot; (page 169)</a> 			<li><a href="Concepts/EODatabaseContext.html#BGJCJCCE">&quot;Delegate Methods&quot; (page 170)</a> 			<li><a href="Concepts/EODatabaseContext.html#BGJDCJAF">&quot;Snapshots&quot; (page 171)</a> 			<li><a href="Concepts/EODatabaseContext.html#CCJCGJAG">&quot;Updating And Locking Strategies&quot; (page 172)</a> 		</ul>		<p><br>		<br>		<br>		</p>		<h2>Constants</h2>		<p>		<hr alt="">		</p>		<p>EODatabaseContext defines the following constants:</p>		<p><br>		<table border="1">			<tr>				<td scope="row"><b>Constant</b></td>				<td><b>Type</b></td>				<td><b>Description</b></td>			</tr>			<tr>				<td scope="row"><a name="BGJCHFJE"></a><tt>UpdateWithOptimisticLocking</tt></td>				<td><code>int</code></td>				<td>Identifies the locking strategy as optimistic.</td>			</tr>			<tr>				<td scope="row"><a name="BGJBHEBE"></a><tt>UpdateWithPessimisticLocking</tt></td>				<td><code>int</code></td>				<td>Identifies the locking strategy as pessimistic</td>			</tr>			<tr>				<td scope="row"><a name="BGJBCGFH"></a><tt>UpdateWithNoLocking</tt></td>				<td><code>int</code></td>				<td>Identifies the locking strategy as no locking</td>			</tr>			<tr>				<td scope="row"><a name="DAGHHGIJ"></a><tt>CustomQueryExpressionHintKey</tt></td>				<td><code>String</code></td>				<td>A key in an EOFetchSpecification's hint dictionary </td>			</tr>			<tr>				<td scope="row"><a name="DAGCGJGF"></a><tt>StoredProcedureNameHintKey</tt></td>				<td><code>String</code></td>				<td>A key in an EOFetchSpecification's hint dictionary</td>			</tr>			<tr>				<td scope="row"><a name="DAGCBDHA"></a><tt>DatabaseContextKey</tt></td>				<td><code>String</code></td>				<td>A key in an <code>GenericAdaptorException</code>'s userInfo dictionary</td>			</tr>			<tr>				<td scope="row"><a name="DAGDGIGB"></a><tt>DatabaseOperationsKey</tt></td>				<td><code>String</code></td>				<td>A key in an <code>GenericAdaptorException</code>'s userInfo dictionary</td>			</tr>			<tr>				<td scope="row"><a name="DAGFFAEB"></a><tt>FailedDatabaseOperationKey</tt></td>				<td><code>String</code></td>				<td>A key in an <code>GenericAdaptorException</code>'s userInfo dictionary</td>			</tr>			<tr>				<td scope="row"><tt>DatabaseChannelNeededNotification</tt></td>				<td><code>String</code></td>				<td>Description forthcoming.</td>			</tr>		</table><br>		</p>		<p>In addition, EODatabaseContext defines a constant for the name of the notification it posts. For more information on the notification, see <a href="#DAGHCIHI">&quot;Notifications&quot; (page 163)</a>.</p>		<p><br>		<br>		</p>		<h2>Method Types</h2>		<p>		<hr alt="">		</p>		<blockquote>			Constructors<a href="#//apple_ref/java/instm/EODatabaseContext/EODatabaseContext">EODatabaseContext</a>Fetching objects<a href="#//apple_ref/java/instm/EODatabaseContext/objectsWithFetchSpecification">objectsWithFetchSpecification</a><a href="#//apple_ref/java/instm/EODatabaseContext/objectsForSourceGlobalID">objectsForSourceGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/faultForGlobalID">faultForGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/faultForRawRow">faultForRawRow</a><a href="#//apple_ref/java/instm/EODatabaseContext/batchFetchRelationship">batchFetchRelationship</a><a href="#//apple_ref/java/instm/EODatabaseContext/missingObjectGlobalIDs">missingObjectGlobalIDs</a>Enabling shared object loading<a href="#//apple_ref/java/clm/EODatabaseContext/setSharedObjectLoadingEnabled">setSharedObjectLoadingEnabled</a><a href="#//apple_ref/java/clm/EODatabaseContext/isSharedObjectLoadingEnabled">isSharedObjectLoadingEnabled</a>Accessing the adaptor context<a href="#//apple_ref/java/instm/EODatabaseContext/adaptorContext">adaptorContext</a>Managing the database connection<a href="#//apple_ref/java/clm/EODatabaseContext/forceConnectionWithModel">forceConnectionWithModel</a><a href="#//apple_ref/java/instm/EODatabaseContext/handleDroppedConnection">handleDroppedConnection</a>Accessing the database object<a href="#//apple_ref/java/instm/EODatabaseContext/database">database</a>Accessing the coordinator<a href="#//apple_ref/java/instm/EODatabaseContext/coordinator">coordinator</a>Managing channels<a href="#//apple_ref/java/instm/EODatabaseContext/availableChannel">availableChannel</a><a href="#//apple_ref/java/instm/EODatabaseContext/registerChannel">registerChannel</a><a href="#//apple_ref/java/instm/EODatabaseContext/registeredChannels">registeredChannels</a><a href="#//apple_ref/java/instm/EODatabaseContext/unregisterChannel">unregisterChannel</a><a href="#//apple_ref/java/instm/EODatabaseContext/hasBusyChannels">hasBusyChannels</a>Accessing the delegate<a href="#//apple_ref/java/instm/EODatabaseContext/setDelegate">setDelegate</a><a href="#//apple_ref/java/instm/EODatabaseContext/delegate">delegate</a><a href="#//apple_ref/java/clm/EODatabaseContext/setDefaultDelegate">setDefaultDelegate</a><a href="#//apple_ref/java/clm/EODatabaseContext/defaultDelegate">defaultDelegate</a>Committing or discarding changes<a href="#//apple_ref/java/instm/EODatabaseContext/saveChangesInEditingContext">saveChangesInEditingContext</a><a href="#//apple_ref/java/instm/EODatabaseContext/invalidateAllObjects">invalidateAllObjects</a><a href="#//apple_ref/java/instm/EODatabaseContext/invalidateObjectsWithGlobalIDs">invalidateObjectsWithGlobalIDs</a><a href="#//apple_ref/java/instm/EODatabaseContext/rollbackChanges">rollbackChanges</a><a href="#//apple_ref/java/instm/EODatabaseContext/commitChanges">commitChanges</a><a href="#//apple_ref/java/instm/EODatabaseContext/prepareForSaveWithCoordinator">prepareForSaveWithCoordinator</a><a href="#//apple_ref/java/instm/EODatabaseContext/recordUpdateForObject">recordUpdateForObject</a><a href="#//apple_ref/java/instm/EODatabaseContext/recordChangesInEditingContext">recordChangesInEditingContext</a><a href="#//apple_ref/java/instm/EODatabaseContext/refaultObject">refaultObject</a>Determining if the EODatabaseContext is responsible for a particular operation<a href="#//apple_ref/java/instm/EODatabaseContext/ownsObject">ownsObject</a><a href="#//apple_ref/java/instm/EODatabaseContext/performChanges">ownsGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/handlesFetchSpecification">handlesFetchSpecification</a>Recording snapshots<a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForGlobalID">recordSnapshotForGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshots">recordSnapshots</a><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForSourceGlobalID">recordSnapshotForSourceGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/recordToManySnapshots">recordToManySnapshots</a>Forgetting snapshots<a href="#//apple_ref/java/instm/EODatabaseContext/forgetSnapshotForGlobalID">forgetSnapshotForGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/forgetSnapshotsForGlobalIDs">forgetSnapshotsForGlobalIDs</a><a href="#//apple_ref/java/instm/EODatabaseContext/editingContextDidForgetObjectWithGlobalID">editingContextDidForgetObjectWithGlobalID</a>Accessing snapshots<a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForGlobalID">localSnapshotForGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForSourceGlobalID">localSnapshotForSourceGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForGlobalID">snapshotForGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForSourceGlobalID">snapshotForSourceGlobalID</a>Initializing objects<a href="#//apple_ref/java/instm/EODatabaseContext/initializeObject">initializeObject</a>Obtaining an EODatabaseContext<a href="#//apple_ref/java/clm/EODatabaseContext/registeredDatabaseContextForModel">registeredDatabaseContextForModel</a>Locking objects<a href="#//apple_ref/java/instm/EODatabaseContext/setUpdateStrategy">setUpdateStrategy</a><a href="#//apple_ref/java/instm/EODatabaseContext/updateStrategy">updateStrategy</a><a href="#//apple_ref/java/instm/EODatabaseContext/registerLockedObjectWithGlobalID">registerLockedObjectWithGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a><a href="#//apple_ref/java/instm/EODatabaseContext/forgetAllLocks">forgetAllLocks</a><a href="#//apple_ref/java/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs">forgetLocksForObjectsWithGlobalIDs</a><a href="#//apple_ref/java/instm/EODatabaseContext/lockObjectWithGlobalID">lockObjectWithGlobalID</a>Returning information about objects<a href="#//apple_ref/java/instm/EODatabaseContext/valuesForKeys">valuesForKeys</a>Setting the context class<a href="#//apple_ref/java/clm/EODatabaseContext/contextClassToRegister">contextClassToRegister</a><a href="#//apple_ref/java/clm/EODatabaseContext/setContextClassToRegister">setContextClassToRegister</a>Thread safety<a href="#//apple_ref/java/instm/EODatabaseContext/lock">lock</a><a href="#//apple_ref/java/instm/EODatabaseContext/unlock">unlock</a></blockquote>		<p><br>		<br>		</p>		<h2>Constructors</h2>		<p>		<hr alt="">		<a name="DAGCAHCI"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/EODatabaseContext"></a>EODatabaseContext</h3>		<p><code>public <b>EODatabaseContext</b>(EODatabase <em>aDatabase</em>)</code></p>		<p>Creates and returns a new EODatabaseContext. Typically, you don't need to programmatically create database contexts. Rather, they are created automatically by the control layer. See <a href="Concepts/EODatabaseContext.html#BGJBBGFF">&quot;Creating and Using an EODatabaseContext&quot;</a> for more information. </p>		<p><em>aDatabase</em> is assigned to the new database as the EODatabase object with which the new context works. The new database context creates an EOAdaptorContext with which to communicate with the database server. Throws an exception if the underlying adaptor context can't create a corresponding adaptor channel.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/database">database</a></p>		<p>		<hr width="25%" align="left">		<br>		<br>		</p>		<h2>Static Methods</h2>		<p>		<hr alt="">		<a name="contextClassToRegister"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/contextClassToRegister"></a>contextClassToRegister</h3>		<p><code>public static Class <b>contextClassToRegister</b>()</code></p>		<p>Returns the class that is registered with an EOObjectStoreCoordinator when the coordinator broadcasts an <code>CooperatingObjectStoreNeeded</code> notification. By default this is EODatabaseContext, but you can use <a href="#//apple_ref/java/clm/EODatabaseContext/setContextClassToRegister">setContextClassToRegister</a> to specify your own subclass of EODatabaseContext. </p>		<p>When an EOObjectStoreCoordinator sends an <code>CooperatingObjectStoreNeeded</code> notification for an EOEntity in the default model group, if <b>contextClassToRegister</b> is non-null (and it should be-it makes no sense to set <b>contextClassToRegister</b> to <code>null</code>), an instance of the that class is created, the EOModel for the EOEntity is registered, and the context class is registered with the requesting EOObjectStoreCoordinator. </p>		<p>		<hr width="25%" align="left">		<a name="DAGDDJAA"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/defaultDelegate"></a>defaultDelegate</h3>		<p><code>public static Object <b>defaultDelegate</b>()</code></p>		<p>Returns the default delegate-the object assigned as delegate to new EODatabaseContext instances. 		<hr width="25%" align="left">		<a name="forceConnectionWithModel"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/forceConnectionWithModel"></a>forceConnectionWithModel</h3>		<p><code>public static EODatabaseContext <b>forceConnectionWithModel</b>( EOModel <em>aModel</em>, NSDictionary <em>overrides</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Forces the stack of objects in the EOAccess layer to be instantiated, if necessary, and then makes a connection to the database. If there is an existing connection for <em>amodel</em>, it is first closed and then reconnected. The new connection dictionary is effectively made up of the model's connection dictionary, overlaid with <em>overrides</em>. All compatible models in the model's group also are associated with the new connection (so they share the same adaptor). Returns the EODatabaseContext associated with the model for <em>anEditingContext</em>. 		<hr width="25%" align="left">		<a name="DAGCBGJF"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/isSharedObjectLoadingEnabled"></a>isSharedObjectLoadingEnabled</h3>		<p><code>public static boolean <b>isSharedObjectLoadingEnabled</b>()</code></p>		<p>Returns <code>true</code> if database contexts automatically load enterprise objects into the default shared editing context when they load models; <code>false</code> otherwise. The objects loaded into the shared editing context are those identified by entities' shared fetch specifications. </p>		<p><b>See Also: </b>sharedObjectFetchSpecificationNames (EOEntity)</p>		<p>		<hr width="25%" align="left">		<a name="registeredDatabaseContextForModel_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/registeredDatabaseContextForModel"></a>registeredDatabaseContextForModel</h3>		<p><code>public static EODatabaseContext <b>registeredDatabaseContextForModel</b>( EOModel <em>aModel</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Finds the EOObjectStoreCoordinator (EOControl) for <em>anEditingContext</em> and checks to see if it already contains an EODatabaseContext cooperating store for <em>aModel</em>. If it does, it returns that EODatabaseContext. Otherwise it instantiates a new EODatabaseContext, adds it to the EOObjectStoreCoordinator, and returns the EODatabaseContext. </p>		<p><code>public static EODatabaseContext <b>registeredDatabaseContextForModel</b>( EOModel <em>aModel</em>, com.webobjects.eocontrol.EOObjectStoreCoordinator <em>objectStoreCoord</em>)</code></p>		<p>Description forthcoming. 		<hr width="25%" align="left">		<a name="setContextClassToRegister_"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/setContextClassToRegister"></a>setContextClassToRegister</h3>		<p><code>public static void <b>setContextClassToRegister</b>(Class <em>contextClass</em>)</code></p>		<p>Sets to <em>contextClass</em> the &quot;contextClassToRegister.&quot; For more discussion of this topic, see the method description for <a href="#//apple_ref/java/clm/EODatabaseContext/contextClassToRegister">contextClassToRegister</a>. 		<hr width="25%" align="left">		<a name="DAGBBIHA"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/setDefaultDelegate"></a>setDefaultDelegate</h3>		<p><code>public static void <b>setDefaultDelegate</b>(Object <em>defaultDelegate</em>)</code></p>		<p>Sets the default delegate to <em>defaultDelegate</em>-the object assigned as delegate to new instances of EODatabaseContext. 		<hr width="25%" align="left">		<a name="DAGCBGAA"></a><br>		</p>		<h3><a name="//apple_ref/java/clm/EODatabaseContext/setSharedObjectLoadingEnabled"></a>setSharedObjectLoadingEnabled</h3>		<p><code>public static void <b>setSharedObjectLoadingEnabled</b>(boolean <em>flag</em>)</code></p>		<p>Sets according to <em>flag</em> whether database contexts automatically load enterprise objects into the default shared editing context when they load models. The default is <code>true</code> (the database automatically loads shared objects). The objects loaded into the shared editing context are those identified by entities' shared fetch specifications. </p>		<p><b>See Also: </b>sharedObjectFetchSpecificationNames (EOEntity)</p>		<p>		<hr width="25%" align="left">		<br>		<br>		</p>		<h2>Instance Methods</h2>		<p>		<hr alt="">		<a name="adaptorContext"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/adaptorContext"></a>adaptorContext</h3>		<p><code>public EOAdaptorContext <b>adaptorContext</b>()</code></p>		<p>Returns the EOAdaptorContext used by the EODatabaseContext for communication with the database server. 		<hr width="25%" align="left">		<a name="arrayFaultWithSourceGlobalID_relationshipName_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/arrayFaultWithSourceGlobalID"></a>arrayFaultWithSourceGlobalID</h3>		<p><code>public NSArray <b>arrayFaultWithSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>name</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation to create a to-many fault for <em>anEditingContext</em>. <em>name</em> must correspond to an EORelationship in the EOEntity for the specified <em>globalID</em>. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/faultForGlobalID">faultForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="availableChannel"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/availableChannel"></a>availableChannel</h3>		<p><code>public EODatabaseChannel <b>availableChannel</b>()</code></p>		<p>Returns an EODatabaseChannel that's registered with the receiver and that isn't busy. If the method can't find a channel that meets these criteria, it posts an <a href="#DAGDFDFF">DatabaseChannelNeededNotification</a> in the hopes that someone will provide a new channel. After posting the notification, the receiver checks its list of channels again. If there are still no available channels, the receiver creates an EODatabaseChannel itself. However, if the list is not empty and there are no available channels, the method returns <code>null</code>. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerChannel">registerChannel</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/registeredChannels">registeredChannels</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/unregisterChannel">unregisterChannel</a> </p>		<p>		<hr width="25%" align="left">		<a name="batchFetchRelationship_forSourceObjects_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/batchFetchRelationship"></a>batchFetchRelationship</h3>		<p><code>public void <b>batchFetchRelationship</b>( EORelationship <em>relationship</em>, NSArray <em>objects</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Clear all the faults for the <em>relationship</em> of <em>anEditingContext</em>'s <em>objects</em> and performs a single, efficient, fetch (at most two fetches, if the relationship is many-to-many). This method provides a way to fetch the same relationship for multiple objects. For example, given an array of Employee objects, this method can fetch all of their departments with one round trip to the server, rather than asking the server for each of the employee's departments individually. 		<hr width="25%" align="left">		<a name="commitChanges"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/commitChanges"></a>commitChanges</h3>		<p><code>public void <b>commitChanges</b>()</code></p>		<p>Overrides the inherited implementation to instruct the adaptor to commit the transaction. If the commit is successful, any primary and foreign key changes are written back to the saved objects, database locks are released, and an <code>CooperatingObjectStoreNeeded</code> (defined in EOControl's EOObjectStore) is posted describing the committed changes. Raises an exception if the adaptor is unable to commit the transaction; the error message indicates the nature of the problem. You should never need to invoke this method directly. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/performChanges">ownsGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/rollbackChanges">rollbackChanges</a></p>		<p>		<hr width="25%" align="left">		<a name="coordinator"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/coordinator"></a>coordinator</h3>		<p><code>public com.webobjects.eocontrol.EOObjectStoreCoordinator <b>coordinator</b>()</code></p>		<p>Returns the receiver's EOObjectStoreCoordinator (EOControl) or <code>null</code> if there is none.<em> </em>This method is only valid during a save operation. 		<hr width="25%" align="left">		<a name="database"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/database"></a>database</h3>		<p><code>public EODatabase <b>database</b>()</code></p>		<p>Returns the receiver's EODatabase. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/EODatabaseContext">EODatabaseContext</a></p>		<p>		<hr width="25%" align="left">		<a name="delegate"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/delegate"></a>delegate</h3>		<p><code>public Object <b>delegate</b>()</code></p>		<p>Returns the receiver's delegate. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/setDelegate">setDelegate</a></p>		<p>		<hr width="25%" align="left">		<br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/dispose"></a>dispose</h3>		<p><code>public void <b>dispose</b>()</code></p>		<p>Conformance to NSDisposable. 		<hr width="25%" align="left">		<a name="CBJDGEIA"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/editingContextDidForgetObjectWithGlobalID"></a>editingContextDidForgetObjectWithGlobalID</h3>		<p><code>public void <b>editingContextDidForgetObjectWithGlobalID</b>( com.webobjects.eocontrol.EOEditingContext <em>context</em>, com.webobjects.eocontrol.EOGlobalID <em>gid</em>)</code></p>		<p>Overrides the inherited implementation. Invoked when context is no longer using the object corresponding to <em>gid</em>. EODatabaseContext's implementation destroys related data (such as snapshots) if no other objects are using it. Don't invoke this method; it is invoked automatically by the Framework. </p>		<p><b>See Also: </b>decrementSnapshotCountForGlobalID (EODatabase), incrementSnapshotCountForGlobalID (EODatabase)</p>		<p>		<hr width="25%" align="left">		<a name="faultForGlobalID_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/faultForGlobalID"></a>faultForGlobalID</h3>		<p><code>public com.webobjects.eocontrol.EOEnterpriseObject <b>faultForGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation<em> </em>to create a to-one fault for the object identified by<em> globalID</em> and register it in <em>anEditingContext.</em> </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="faultForRawRow"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/faultForRawRow"></a>faultForRawRow</h3>		<p><code>public com.webobjects.eocontrol.EOEnterpriseObject <b>faultForRawRow</b>( NSDictionary <em>row</em>, String <em>entityName</em>, com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Returns a fault for a raw row. <em>row</em> is the raw data, in the form of an NSDictionary. <em>entityName</em> is the name of the appropriate entity for the EO you want to create (as a fault). <em>editingContext</em> is the EOEditingContext in which to create the fault. 		<hr width="25%" align="left">		<a name="forgetAllLocks"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/forgetAllLocks"></a>forgetAllLocks</h3>		<p><code>public void <b>forgetAllLocks</b>()</code></p>		<p>Clears all of the receiver's locks. Doesn't cause the locks to be forgotten in the server, only in the receiver. This method is useful when something has happened to cause the server to forget the locks and the receiver needs to be synced up. This method is invoked whenever a transaction is committed or rolled back. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerLockedObjectWithGlobalID">registerLockedObjectWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs">forgetLocksForObjectsWithGlobalIDs</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/lockObjectWithGlobalID">lockObjectWithGlobalID</a>, <b>lockObject</b> (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="forgetLocksForObjectsWithGlobalIDs_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs"></a>forgetLocksForObjectsWithGlobalIDs</h3>		<p><code>public void <b>forgetLocksForObjectsWithGlobalIDs</b>(NSArray <em>globalIDs</em>)</code></p>		<p>Clears the locks made for the enterprise objects identified by each of the EOGlobalIDs in <em>globalIDs</em>. Doesn't cause the locks to be forgotten in the server, only in the receiver. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerLockedObjectWithGlobalID">registerLockedObjectWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetAllLocks">forgetAllLocks</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/lockObjectWithGlobalID">lockObjectWithGlobalID</a>, <b>lockObject</b> (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="forgetSnapshotForGlobalID_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/forgetSnapshotForGlobalID"></a>forgetSnapshotForGlobalID</h3>		<p><code>public void <b>forgetSnapshotForGlobalID</b>(com.webobjects.eocontrol.EOGlobalID <em>globalID</em>)</code></p>		<p>Deletes the snapshot made for the enterprise object identified by <em>globalID</em>. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForGlobalID">recordSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForGlobalID">localSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshots">recordSnapshots</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForGlobalID">snapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetSnapshotsForGlobalIDs">forgetSnapshotsForGlobalIDs</a></p>		<p>		<hr width="25%" align="left">		<a name="DAGBIGED"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/forgetSnapshotsForGlobalIDs"></a>forgetSnapshotsForGlobalIDs</h3>		<p><code>public void <b>forgetSnapshotsForGlobalIDs</b>(NSArray <em>globalIDs</em>)</code></p>		<p>Deletes the snapshots made for the enterprise objects identified by <em>globalIDs</em>, an array of EOGlobalID objects. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForGlobalID">recordSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForGlobalID">localSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshots">recordSnapshots</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForGlobalID">snapshotForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="DAGDDBCF"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/handleDroppedConnection"></a>handleDroppedConnection</h3>		<p><code>public void <b>handleDroppedConnection</b>()</code></p>		<p>Cleans up after a database connection is dropped by releasing the receiver's adaptor context and database channels, and then creating a new adaptor context. Don't invoke this method; it's invoked automatically by the Framework. 		<hr width="25%" align="left">		<a name="managesEntityNamed_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/handlesFetchSpecification"></a>handlesFetchSpecification</h3>		<p><code>public boolean <b>handlesFetchSpecification</b>(com.webobjects.eocontrol.EOFetchSpecification <em>fetchSpec</em>)</code></p>		<p>Overrides the inherited implementation to return <code>true</code> if the receiver is responsible for fetching the objects described by the entity name in <em>fetchSpec</em>. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/ownsObject">ownsObject</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/performChanges">ownsGlobalID</a> </p>		<p>		<hr width="25%" align="left">		<a name="hasBusyChannels"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/hasBusyChannels"></a>hasBusyChannels</h3>		<p><code>public boolean <b>hasBusyChannels</b>()</code></p>		<p>Returns <code>true</code> if the receiver's EOAdaptorContext has channels that have outstanding operations (that is, have a fetch in progress), <code>false</code> otherwise. 		<hr width="25%" align="left">		<a name="initializeObject_withGlobalID_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/initializeObject"></a>initializeObject</h3>		<p><code>public void <b>initializeObject</b>( com.webobjects.eocontrol.EOEnterpriseObject <em>object</em>, com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation initialize <em>object</em> for <em>anEditingContext</em> by filling it with properties based on row data fetched from the adaptor. The snapshot for <em>globalID</em> is looked up and those attributes in the snapshot that are marked as class properties in the EOEntity are assigned to <em>object</em>. For relationship class properties, faults are constructed and assigned to the object. 		<hr width="25%" align="left">		<a name="invalidateAllObjects"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/invalidateAllObjects"></a>invalidateAllObjects</h3>		<p><code>public void <b>invalidateAllObjects</b>()</code></p>		<p>Overrides the inherited implementation to discard all snapshots in the receiver's EODatabase, forget all locks, and post an <code>InvalidatedAllObjectsInStoreNotification</code>, as well as an <code>ObjectsChangedInStoreNotification</code> with the invalidated global IDs in the <b>userInfo</b> dictionary. Both of these notifications are defined in EOObjectStore (EOControl). This method works by invoking <a href="#//apple_ref/java/instm/EODatabaseContext/invalidateObjectsWithGlobalIDs">invalidateObjectsWithGlobalIDs</a> for all of the snapshots in the receiver's EODatabase. 		<hr width="25%" align="left">		<a name="invalidateObjectsWithGlobalIDs_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/invalidateObjectsWithGlobalIDs"></a>invalidateObjectsWithGlobalIDs</h3>		<p><code>public void <b>invalidateObjectsWithGlobalIDs</b>(NSArray <em>globalIDs</em>)</code></p>		<p>Overrides the inherited implementation to discard the snapshots for the objects identified by the EOGlobalIDs in <em>globalIDs</em> and broadcasts an <code>ObjectsChangedInStoreNotification</code> (defined in EOObjectStore), which causes the EOEditingContext containing objects fetched from the receiver to refault those objects. The result is that these objects will be refetched from the database the next time they're accessed. 		<hr width="25%" align="left">		<a name="isObjectLockedWithGlobalID_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID"></a>isObjectLockedWithGlobalID</h3>		<p><code>public boolean <b>isObjectLockedWithGlobalID</b>(com.webobjects.eocontrol.EOGlobalID <em>globalID</em>)</code></p>		<p>Returns <code>true</code> if the enterprise object identified by <em>globalID</em> is locked, <code>false</code> otherwise. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerLockedObjectWithGlobalID">registerLockedObjectWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetAllLocks">forgetAllLocks</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs">forgetLocksForObjectsWithGlobalIDs</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/lockObjectWithGlobalID">lockObjectWithGlobalID</a>, <b>lockObject</b> (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="isObjectLockedWithGlobalID_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID"></a>isObjectLockedWithGlobalID</h3>		<p><code>public boolean <b>isObjectLockedWithGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the EOObjectStore method<b> isObjectLockedWithGlobalID:editingContext: </b>to return <code>true</code> if the database row corresponding to <em>globalID</em> has been locked in an open transaction held by the receiver. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerLockedObjectWithGlobalID">registerLockedObjectWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetAllLocks">forgetAllLocks</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs">forgetLocksForObjectsWithGlobalIDs</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/lockObjectWithGlobalID">lockObjectWithGlobalID</a>, <b>lockObject</b> (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="localSnapshotForGlobalID_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/localSnapshotForGlobalID"></a>localSnapshotForGlobalID</h3>		<p><code>public NSDictionary <b>localSnapshotForGlobalID</b>(com.webobjects.eocontrol.EOGlobalID <em>globalID</em>)</code></p>		<p>Returns the snapshot for the object identified by <em>globalID</em>, if there is one; else returns <code>null</code>. Only searches locally (in the transaction scope), not in the EODatabase. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForGlobalID">recordSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetSnapshotForGlobalID">forgetSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshots">recordSnapshots</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForGlobalID">snapshotForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="localSnapshotForSourceGlobalID_relationshipName_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/localSnapshotForSourceGlobalID"></a>localSnapshotForSourceGlobalID</h3>		<p><code>public NSArray <b>localSnapshotForSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>name</em>)</code></p>		<p>Returns an array that is the snapshot for the objects at the destination of the to-many relationship named <em>name</em>, which is a property of the object identified by <em>globalID</em>. The returned array contains the globalIDs of the destination objects. If there is no snapshot, returns <code>null</code>. Only searches locally (in the transaction scope), not in the EODatabase. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForSourceGlobalID">recordSnapshotForSourceGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForSourceGlobalID">snapshotForSourceGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="lock"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/lock"></a>lock</h3>		<p><code>public void <b>lock</b>()</code></p>		<p>Used internally to protect access to the receiver in a multi-threaded environment. Do not confuse this with any methods which work with the database locking mechanism. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/unlock">unlock</a></p>		<p>		<hr width="25%" align="left">		<a name="lockObjectWithGlobalID_editingContext_ THIS ONE NEEDS WORK!!!"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/lockObjectWithGlobalID"></a>lockObjectWithGlobalID</h3>		<p><code>public void <b>lockObjectWithGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation to attempt to lock the database row corresponding to <em>globalID</em> in the underlying database server, on behalf of <em>anEditingContext</em>. If a transaction is not already open at the time of the lock request, the transaction is begun and is held open until either <b>commitChanges</b> or <b>invalidateAllObjects</b> is invoked. At that point all locks are released. Throws an exception if unable to obtain the lock. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerLockedObjectWithGlobalID">registerLockedObjectWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetAllLocks">forgetAllLocks</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs">forgetLocksForObjectsWithGlobalIDs</a>, <b>lockObject</b> (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="DAGDFGHA"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/missingObjectGlobalIDs"></a>missingObjectGlobalIDs</h3>		<p><code>public NSArray <b>missingObjectGlobalIDs</b>()</code></p>		<p>Returns the globalIDs of any &quot;missing&quot; enterprise objects, or an empty array if no missing objects are known to the receiver. An object is &quot;missing&quot; when a fault fires and the corresponding row for the fault isn't found in the database. </p>		<p>To be notified when a missing object is discovered, implement the delegate method databaseContextFailedToFetchObject.</p>		<p>If an application tries to save a missing object, an exception is raised. </p>		<p>		<hr width="25%" align="left">		<a name="objectsForSourceGlobalID_relationshipName_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/objectsForSourceGlobalID"></a>objectsForSourceGlobalID</h3>		<p><code>public NSArray <b>objectsForSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>name</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation to service a to-many fault. The snapshot for the source object identified by <em>globalID</em> is located and the EORelationship named <em>name</em> is used to construct a qualifier from that snapshot. This qualifier is then used to fetch the requested objects into <em>anEditingContext</em> using the method <a href="#//apple_ref/java/instm/EODatabaseContext/objectsWithFetchSpecification">objectsWithFetchSpecification</a>. 		<hr width="25%" align="left">		<a name="objectsWithFetchSpecification_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/objectsWithFetchSpecification"></a>objectsWithFetchSpecification</h3>		<p><code>public NSArray <b>objectsWithFetchSpecification</b>( com.webobjects.eocontrol.EOFetchSpecification <em>fetchSpecification</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation to fetch objects from an external store into <em>anEditingContext</em>. The receiver obtains an available EODatabaseChannel and issues a fetch with <em>fetchSpecification</em>. If one of these objects is already present in memory, by default this method doesn't overwrite its values with the new values from the database (you can change this behavior; see the <b>setRefreshesRefetchedObjects</b> method in the EOFetchSpecification class specification). </p>		<p>You can fine-tune the fetching behavior by adding hints to <em>fetchSpecification</em>'s <b>hints</b> dictionary. For this purpose, EODatabaseContext defines the following keys:</p>		<p><br>		<table border="1">			<tr>				<td scope="row"><b>Constant</b></td>				<td><b>Corresponding value in the hints dictionary</b></td>			</tr>			<tr>				<td scope="row"><code>CustomQueryExpressionHintKey</code></td>				<td>A String specifying raw SQL with which to perform the fetch. There is no way to pass down parameters with this hint.</td>			</tr>			<tr>				<td scope="row"><code>StoredProcedureNameHintKey</code></td>				<td>A String specifying a name for a stored procedure in the model that should be used rather than building the SQL statement. The stored procedure must query the exact same attributes in the same order as EOF would query if generating the SELECT expression dynamically. If this key is supplied, other aspects of the EOFetchSpecification such as <b>isDeep</b>, <b>qualifier</b>, and <b>sortOrderings</b> are ignored (in that sense, this key is more of a directive than a hint). There is no way to pass down parameters with this hint.</td>			</tr>		</table><br>		</p>		<p>The class description contains additional information on using these hints. See <a href="Concepts/EODatabaseContext.html#BGJDIBIG">&quot;Using a Custom Query.&quot;</a></p>		<p>You can also use this method to implement &quot;on-demand&quot; locking by using a <em>fetchSpecification</em> that includes locking. For more discussion of this subject, see &quot;Updating And Locking Strategies&quot; in the class description.</p>		<p>Raises an exception if an error occurs; the error message indicates the nature of the problem.</p>		<p><b>See Also: </b><b>objectsWithFetchSpecification</b> (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="performChanges"></a><br>		</p>		<h3><b><a name="//apple_ref/java/instm/EODatabaseContext/ownsGlobalID"></a>ownsGlobalID</b></h3>		<p><code>public boolean <b>ownsGlobalID</b>(com.webobjects.eocontrol.EOGlobalID <em>globalID</em>)</code></p>		<p>Overrides the inherited implementation to return <code>true</code> if the receiver is responsible for fetching and saving the object identified by <em>globalID</em>, <code>false</code> otherwise. The receiver is determined to be responsible if <em>globalID</em> is a subclass of EOKeyGlobalID and <em>globalID</em> has an entity from one of the receiver's EODatabase's EOModels. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/handlesFetchSpecification">handlesFetchSpecification</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/ownsObject">ownsObject</a> </p>		<p>		<hr width="25%" align="left">		<a name="ownsObject_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/ownsObject"></a>ownsObject</h3>		<p><code>public boolean <b>ownsObject</b>(com.webobjects.eocontrol.EOEnterpriseObject <em>object</em>)</code></p>		<p>Overrides the inherited implementation to return <code>true</code> if the receiver is responsible for fetching and saving <em>object</em>, <code>false</code> otherwise. The receiver is determined to be responsible if the entity corresponding to <em>object</em> is in one of the receiver's EODatabase's EOModels. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/performChanges">ownsGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/handlesFetchSpecification">handlesFetchSpecification</a> </p>		<p>		<hr width="25%" align="left">		<a name="performChanges"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/performChanges"></a>performChanges</h3>		<p><code>public void <b>performChanges</b>()</code></p>		<p>Overrides the inherited implementation to construct EOAdaptorOperations from the EODatabaseOperations produced during <a href="#//apple_ref/java/instm/EODatabaseContext/recordChangesInEditingContext">recordChangesInEditingContext</a> and <a href="#//apple_ref/java/instm/EODatabaseContext/recordUpdateForObject">recordUpdateForObject</a>. Invokes the delegate method databaseContextWillOrderAdaptorOperations to give the delegate an opportunity to construct alternative EOAdaptorOperations from the EODatabaseOperations. Then invokes the delegate method databaseContextWillPerformAdaptorOperations to let the delegate substitute its own array of EOAdaptorOperations. Gives the EOAdaptorOperations to an available EOAdaptorChannel for execution. If the save succeeds, updates the snapshots in the receiver to reflect the new state of the server. You should never need to invoke this method directly. </p>		<p>This method raises an exception if the adaptor is unable to perform the operations. The exception's userInfo dictionary contains these keys:</p>		<p><br>		<table border="1">			<tr>				<td scope="row"><b>Key (String Constant)</b></td>				<td><b>Value</b></td>			</tr>			<tr>				<td scope="row"><code>DatabaseContextKey</code></td>				<td>The EODatabaseContext object that was trying to save to its underlying repository when the exception was raised.</td>			</tr>			<tr>				<td scope="row"><code>DatabaseOperationsKey</code></td>				<td>The list of database operations the EODatabaseContext was trying to perform when the failure occurred.</td>			</tr>			<tr>				<td scope="row"><code>FailedDatabaseOperationKey</code></td>				<td>The database operation the EODatabaseContext failed to perform.</td>			</tr>		</table><br>		</p>		<p>The userInfo dictionary may also contain some of the keys listed in the method description for the EOAdaptorChannel method <b>performAdaptorOperation:</b>. For more information, see the EOAdaptorChannel class specification.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/commitChanges">commitChanges</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/rollbackChanges">rollbackChanges</a></p>		<p>		<hr width="25%" align="left">		<a name="prepareForSaveWithCoordinator_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/prepareForSaveWithCoordinator"></a>prepareForSaveWithCoordinator</h3>		<p><code>public void <b>prepareForSaveWithCoordinator</b>( com.webobjects.eocontrol.EOObjectStoreCoordinator <em>coordinator</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation to do whatever is necessary to prepare to save changes. If needed, generates primary keys for any new objects in <em>anEditingContext</em> that are owned by the receiver. This method is invoked before the object graph is analyzed and foreign key assignments are performed. You should never need to invoke this method directly. 		<hr width="25%" align="left">		<a name="recordChangesInEditingContext"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/recordChangesInEditingContext"></a>recordChangesInEditingContext</h3>		<p><code>public void <b>recordChangesInEditingContext</b>()</code></p>		<p>Overrides the inherited implementation to construct a list of EODatabaseOperations for all changes to objects in the EOEditingContext that are owned by the receiver. Forwards any relationship changes discovered but not owned by the receiver to the EOObjectStoreCoordinator. This method is typically invoked in the course of an EOObjectStoreCoordinator saving changes through its <b>saveChangesInEditingContext</b> method. It's invoked after <a href="#//apple_ref/java/instm/EODatabaseContext/prepareForSaveWithCoordinator">prepareForSaveWithCoordinator</a> and before <a href="#//apple_ref/java/instm/EODatabaseContext/performChanges">ownsGlobalID</a>. You should never need to invoke this method directly. 		<hr width="25%" align="left">		<a name="recordSnapshot_forGlobalID_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/recordSnapshotForGlobalID"></a>recordSnapshotForGlobalID</h3>		<p><code>public void <b>recordSnapshotForGlobalID</b>( NSDictionary <em>aSnapshot</em>, com.webobjects.eocontrol.EOGlobalID <em>aGlobalID</em>)</code></p>		<p>Records <em>aSnapshot</em> under <em>globalID</em>. This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/forgetSnapshotForGlobalID">forgetSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForGlobalID">localSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshots">recordSnapshots</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForGlobalID">snapshotForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="recordSnapshot_forSourceGlobalID_relationshipName_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/recordSnapshotForSourceGlobalID"></a>recordSnapshotForSourceGlobalID</h3>		<p><code>public void <b>recordSnapshotForSourceGlobalID</b>( NSArray <em>globalIDs</em>, com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>name</em>)</code></p>		<p>For the object identified by <em>globalID</em>, records an NSArray of <em>globalIDs</em> for the to-many relationship named <em>name</em>. These <em>globalIDs</em> identify the objects at the destination of the relationship. This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForSourceGlobalID">snapshotForSourceGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForSourceGlobalID">localSnapshotForSourceGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/recordToManySnapshots">recordToManySnapshots</a></p>		<p>		<hr width="25%" align="left">		<a name="recordSnapshots_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/recordSnapshots"></a>recordSnapshots</h3>		<p><code>public void <b>recordSnapshots</b>(NSDictionary <em>snapshots</em>)</code></p>		<p>Records the objects in <em>snapshots</em>, a dictionary of snapshots. The <em>snapshots</em> argument's keys are GlobalIDs and its values are the corresponding snapshots represented as NSDictionaries. This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForGlobalID">recordSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForGlobalID">localSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetSnapshotForGlobalID">forgetSnapshotForGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForGlobalID">snapshotForGlobalID</a> </p>		<p>		<hr width="25%" align="left">		<a name="recordToManySnapshots_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/recordToManySnapshots"></a>recordToManySnapshots</h3>		<p><code>public void <b>recordToManySnapshots</b>(NSDictionary <em>snapshots</em>)</code></p>		<p>Records the objects in <em>snapshots</em>. <em>snapshots</em> should be an NSDictionary of NSDictionaries, in which the top-level dictionary has as its key the globaID of the enterprise object for which to-many relationships are being recorded. The key's value is a dictionary whose keys are the names of the Enterprise Object's to-many relationships. Each of these keys in turn has as its value an array of globalIDs that identify the objects at the destination of the relationship. </p>		<p>This method only records snapshots locally (in the transaction scope). If you want to record snapshots globally, use the corresponding EODatabase method.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/recordSnapshotForSourceGlobalID">recordSnapshotForSourceGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/snapshotForSourceGlobalID">snapshotForSourceGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/localSnapshotForSourceGlobalID">localSnapshotForSourceGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="recordUpdateForObject_changes_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/recordUpdateForObject"></a>recordUpdateForObject</h3>		<p><code>public void <b>recordUpdateForObject</b>( com.webobjects.eocontrol.EOEnterpriseObject <em>object</em>, NSDictionary <em>changes</em>)</code></p>		<p>Overrides the inherited implementation to communicate to the receiver that <em>changes</em> from another EOCooperatingObjectStore (through the EOObjectStoreCoordinator) need to be made to an <em>object</em> in the receiver. For example, an insert of an object in a relationship property might require changing a foreign key property in an object owned by another cooperating store. This method can be invoked any time after <a href="#//apple_ref/java/instm/EODatabaseContext/prepareForSaveWithCoordinator">prepareForSaveWithCoordinator</a> and before <a href="#//apple_ref/java/instm/EODatabaseContext/performChanges">ownsGlobalID</a>. 		<hr width="25%" align="left">		<a name="refaultObject_ withGlobalID_editingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/refaultObject"></a>refaultObject</h3>		<p><code>public void <b>refaultObject</b>( com.webobjects.eocontrol.EOEnterpriseObject <em>object</em>, com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Overrides the inherited implementation to refault the enterprise object identified by <em>globalID</em> in <em>anEditingContext</em>. Newly-inserted objects should not be refaulted, since they can't be refetched from the external store. If you attempt to do this, an exception will be raised. Don't refault to-many relationship arrays, just recreate them. </p>		<p>This method should be used with caution since refaulting an object doesn't remove the object snapshot from the undo stack, after which the object snapshot may not refer to the proper object.</p>		<p>		<hr width="25%" align="left">		<a name="registerChannel_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/registerChannel"></a>registerChannel</h3>		<p><code>public void <b>registerChannel</b>(EODatabaseChannel <em>channel</em>)</code></p>		<p>Registers <em>channel</em>, which means that it adds it to the pool of available channels used to service fetch and fault requests. You use this method if you need to perform more than one fetch simultaneously. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/availableChannel">availableChannel</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/registeredChannels">registeredChannels</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/unregisterChannel">unregisterChannel</a></p>		<p>		<hr width="25%" align="left">		<a name="registeredChannels"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/registeredChannels"></a>registeredChannels</h3>		<p><code>public NSArray <b>registeredChannels</b>()</code></p>		<p>Returns all of the EODatabaseChannels that have been registered for use with the receiver. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerChannel">registerChannel</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/availableChannel">availableChannel</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/unregisterChannel">unregisterChannel</a> </p>		<p>		<hr width="25%" align="left">		<a name="registerLockedObjectWithGlobalID_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/registerLockedObjectWithGlobalID"></a>registerLockedObjectWithGlobalID</h3>		<p><code>public void <b>registerLockedObjectWithGlobalID</b>(com.webobjects.eocontrol.EOGlobalID <em>globalID</em>)</code></p>		<p>Registers as a locked object the enterprise object identified by <em>globalID</em>. This method is used internally to keep track of objects corresponding to rows that are locked in the database. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/forgetAllLocks">forgetAllLocks</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/forgetLocksForObjectsWithGlobalIDs">forgetLocksForObjectsWithGlobalIDs</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/lockObjectWithGlobalID">lockObjectWithGlobalID</a>, <b>lockObject</b> (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="rollbackChanges"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/rollbackChanges"></a>rollbackChanges</h3>		<p><code>public void <b>rollbackChanges</b>()</code></p>		<p>Overrides the inherited implementation to instruct the adaptor to roll back the transaction. Rolls back any changed snapshots, and releases all locks. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/performChanges">ownsGlobalID</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/commitChanges">commitChanges</a></p>		<p>		<hr width="25%" align="left">		<a name="saveChangesInEditingContext_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/saveChangesInEditingContext"></a>saveChangesInEditingContext</h3>		<p><code>public void <b>saveChangesInEditingContext</b>(com.webobjects.eocontrol.EOEditingContext <em>context</em>)</code></p>		<p>Overrides the inherited implementation to save the changes made in <em>context</em>. This message is sent by an EOEditingContext to its EOObjectStore to commit changes. Normally an editing context doesn't send this message to an EODatabaseContext, but to an EOObjectStoreCoordinator. Raises an exception if an error occurs; the error message indicates the nature of the problem. 		<hr width="25%" align="left">		<a name="setDelegate_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/setDelegate"></a>setDelegate</h3>		<p><code>public void <b>setDelegate</b>(Object <em>delegate</em>)</code></p>		<p>Sets the receiver's delegate to <em>delegate</em>, and propagates the delegate to all of the receiver's EODatabaseChannels. EODatabaseChannels share the delegate of their EODatabaseContext. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/delegate">delegate</a></p>		<p>		<hr width="25%" align="left">		<a name="setUpdateStrategy_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/setUpdateStrategy"></a>setUpdateStrategy</h3>		<p><code>public void <b>setUpdateStrategy</b>(int <em>strategy</em>)</code></p>		<p>Sets the update strategy used by the EODatabaseContext to <em>strategy</em>. See <a href="Concepts/EODatabaseContext.html#CCJCGJAG">&quot;Updating And Locking Strategies&quot; (page 172)</a> for information on the update strategies: </p>		<ul>			<li><code>UpdateWithOptimisticLocking</code> 			<li><code>UpdateWithPessimisticLocking</code> 			<li><code>UpdateWithNoLocking</code> 		</ul>		<p>Throws an exception if the receiver has any transactions in progress or if you try to set <em>strategy</em> to <code>UpdateWithPessimisticLocking</code> and the receiver's EODatabase already has snapshots. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/updateStrategy">updateStrategy</a> </p>		<p>		<hr width="25%" align="left">		<a name="DAGCBACF"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/snapshotForGlobalID"></a>snapshotForGlobalID</h3>		<p><code>public NSDictionary <b>snapshotForGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, long <em>timestamp</em>)</code></p>		<p><code>public NSDictionary <b>snapshotForGlobalID</b>(com.webobjects.eocontrol.EOGlobalID <em>globalID</em>)</code></p>		<p>Returns the snapshot associated with <em>globalID</em>. Returns null if there isn't a snapshot for the globalID or if the corresponding timestamp is less than <em>timestamp</em>. Searches first locally (in the transaction scope) and then in the EODatabase. 		<hr width="25%" align="left">		<a name="DAGBABJF"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/snapshotForSourceGlobalID"></a>snapshotForSourceGlobalID</h3>		<p><code>public NSArray <b>snapshotForSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalId</em>, String <em>name</em>, long <em>timestamp</em>)</code></p>		<p><code>public NSArray <b>snapshotForSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalId</em>, String <em>name</em>)</code></p>		<p>Returns the to-many snapshot for <em>globalId</em> and <em>name</em>. A to-many snapshot is an array of globalIDs. These globalIDs identify the objects at the destination of the to-many relationship named <em>name</em>, which is a property of the object identified by <em>globalID.</em> Returns <code>null</code> if there isn't a to-many snapshot for <em>globalId</em> or if the timestamp is less than <em>timestamp</em>. Searches first locally (in the transaction scope) and then in the EODatabase. 		<hr width="25%" align="left">		<a name="unlock"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/unlock"></a>unlock</h3>		<p><code>public void <b>unlock</b>()</code></p>		<p>Used internally to release the lock that protects access to the receiver in a multi-threaded environment. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/lock">lock</a></p>		<p>		<hr width="25%" align="left">		<a name="unregisterChannel_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/unregisterChannel"></a>unregisterChannel</h3>		<p><code>public void <b>unregisterChannel</b>(EODatabaseChannel <em>channel</em>)</code></p>		<p>Unregisters the EODatabaseChannel <em>channel</em>, which means that it removes it from the pool of available channels used for database communication (for example, to service fetch and fault requests). </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/registerChannel">registerChannel</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/registeredChannels">registeredChannels</a>, <a href="#//apple_ref/java/instm/EODatabaseContext/availableChannel">availableChannel</a></p>		<p>		<hr width="25%" align="left">		<a name="updateStrategy"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/updateStrategy"></a>updateStrategy</h3>		<p><code>public int <b>updateStrategy</b>()</code></p>		<p>Returns the update strategy used by the receiver, one of: </p>		<ul>			<li><code>UpdateWithOptimisticLocking</code> 			<li><code>UpdateWithPessimisticLocking</code> 			<li><code>UpdateWithNoLocking</code> 		</ul>		<p>The default strategy is <code>UpdateWithOptimisticLocking</code>. </p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODatabaseContext/setUpdateStrategy">setUpdateStrategy</a> </p>		<p>		<hr width="25%" align="left">		<a name="valuesForKeys_object_"></a><br>		</p>		<h3><a name="//apple_ref/java/instm/EODatabaseContext/valuesForKeys"></a>valuesForKeys</h3>		<p><code>public NSDictionary <b>valuesForKeys</b>( NSArray <em>keys</em>, com.webobjects.eocontrol.EOEnterpriseObject <em>object</em>)</code></p>		<p>Overrides the inherited implementation to return values for the specified <em>keys</em> from the snapshot of <em>object</em>. The returned values are used primarily by another EODatabaseContext to extract foreign key properties for objects owned by the receiver. 		<hr width="25%" align="left">		<a name="DAGHCIHI"></a><br>		<br>		</p>		<h2>Notifications</h2>		<p>		<hr alt="">		<a name="DAGDFDFF"></a></p>		<h3>DatabaseChannelNeededNotification</h3>		<p>This notification is broadcast whenever an EODatabaseContext is asked to perform an object store operation and it doesn't have an available EODatabaseChannel. Subscribers can create a new channel and add it to the EODatabaseContext at this time.<br>		<table border="1">			<tr>				<td scope="row"><b>Notification Object</b></td>				<td>The EODatabaseContext.</td>			</tr>			<tr>				<td scope="row"><b>userInfo Dictionary</b></td>				<td>None.</td>			</tr>		</table><br>		<br>		</p>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 13, 2001)</p>		<p><br>		<a href="../EOAccessTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>