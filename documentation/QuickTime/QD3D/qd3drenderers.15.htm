<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Managing RAVE Features</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=6309"> </A>Managing RAVE Features</H1><P CLASS="T1.Text1"><A NAME="pgfId=6243"> </A>The QuickDraw&nbsp;3D Renderer Acceleration Virtual Engine (RAVE) is the part of the Mac&nbsp;OS that controls 3D drawing engines, also called <I CLASS="italics">3D drivers.</I> It is used internally by QuickDraw&nbsp;3D. A drawing engine is software that supports the low-level rasterization operations required for interactive 3D rendering. To achieve interactive performance, a drawing engine is often associated with some hardware device designed specifically to accelerate 3D rasterization.</P><P CLASS="T1.Text1"><A NAME="pgfId=6542"> </A>For most 3D drawing and interaction, you should use the high-level application programming interfaces described in this book. In some cases, however, you may need to use the low-level services provided by RAVE; for example,</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=6260"> </A>if you are writing a specialized application (such as a game-development framework) that needs to take advantage of any available 3D acceleration hardware.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=6261"> </A>if you are writing interactive software (such as a game or other entertainment software) that requires the extremely fast 3D rendering that can be achieved with a very low-level, lightweight graphics library.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=6262"> </A>if you are developing 3D acceleration hardware or software that is to be accessed by any applications rendering 3D images.</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=6236"> </A>This section describes four QuickDraw&nbsp;3D routines that provide you with limited access to RAVE. Two of them get and set the RAVE texture filter; the other two get and set RAVE context hints.</P><P CLASS="T1.Text1"><A NAME="pgfId=6225"> </A>The texture mapping filter mode of the drawing engine determines how the engine performs texture mapping. The default value for a drawing engine that supports texture mapping is <TT CLASS="cv">kQATextureFilter_Fast</TT>. The texture mapping filter state variable is optional; it must be supported only when a drawing engine supports the <TT CLASS="cv">kQAOptional_Texture</TT> feature.</P><P CLASS="T1.Text1"><A NAME="pgfId=6264"> </A>You specify an engine's texture filter by assigning a value to its <TT CLASS="cv">kQATag_TextureFilter</TT> state variable. The default value of this variable for a drawing engine that supports texture mapping is <TT CLASS="cv">kQATextureFilter_Fast</TT>.<A NAME="marker=6265"> </A></P><CODE CLASS="Cv.Code"><A NAME="pgfId=19878"> </A>#define kQATextureFilter_Fast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<BR>#define kQATextureFilter_Mid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1<BR>#define kQATextureFilter_Best&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2<BR></CODE><DIV><H2 CLASS="UH.UserHd"><A NAME="pgfId=6267"> </A><A NAME="36787"> </A>Constant descriptions</H2><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19880"> </A><TT CLASS="cv">kQATextureFilter_Fast</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6269"> </A> The drawing engine performs whatever level of texture filtering it can do with no speed penalty. This often means that no texture filtering is performed.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19891"> </A><TT CLASS="cv">kQATextureFilter_Mid</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6271"> </A> The drawing engine performs a medium level of texture filtering. You should use this texture mapping filter mode when you want to perform texture mapping interactively.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19902"> </A><TT CLASS="cv">kQATextureFilter_Best</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6273"> </A> The drawing engine performs the highest level of texture filtering it can. This mode may be unsuitable for interactive rendering.</DD></DL COMPACT></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=6675"> </A>Q3InteractiveRenderer_GetRAVETextureFilter</H2><P CLASS="T1.Text1"><A NAME="pgfId=6676"> </A>You can use the Q3InteractiveRenderer_GetRAVETextureFilter function to access the current RAVE <TT CLASS="cv">kQATag_TextureFilter</TT> state variable described above.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=19915"> </A>TQ3Status Q3InteractiveRenderer_GetRAVETextureFilter (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3RendererObject&nbsp;&nbsp;&nbsp;&nbsp;renderer,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*RAVEtextureFilterValue);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19917"> </A>renderer</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6678"> </A>A renderer object.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19926"> </A>RAVEtextureFilterValue</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6679"> </A> 	The value of the renderer's <TT CLASS="cv">kQATag_TextureFilter</TT> state variable.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6680"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=6681"> </A>The Q3InteractiveRenderer_GetRAVETextureFilter function returns, in the RAVEtextureFilterValue parameter, the current value of the renderer's <TT CLASS="cv">kQATag_TextureFilter</TT> state variable.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=6683"> </A>Q3InteractiveRenderer_SetRAVETextureFilter</H2><P CLASS="T1.Text1"><A NAME="pgfId=6684"> </A>You can use the Q3InteractiveRenderer_SetRAVETextureFilter function to set the current RAVE <TT CLASS="cv">kQATag_TextureFilter</TT> state variable.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=19938"> </A>TQ3Status Q3InteractiveRenderer_SetRAVETextureFilter (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3RendererObject&nbsp;&nbsp;&nbsp;&nbsp;renderer,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RAVEtextureFilterValue);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19940"> </A>renderer</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6686"> </A>A renderer object.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19949"> </A>RAVEtextureFilterValue</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6687"> </A> 	The value of the renderer's <TT CLASS="cv">kQATag_TextureFilter</TT> state variable.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6688"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=6689"> </A>The Q3InteractiveRenderer_SetRAVETextureFilter function sets the value in the RAVEtextureFilterValue parameter to be the current value of the renderer's <TT CLASS="cv">kQATag_TextureFilter</TT> state variable. For a list of possible values, see <A HREF="qd3drenderers.15.htm#36787" CLASS="XRef">[link]</A>.</P><P CLASS="T1.Text1"><A NAME="pgfId=6279"> </A>Although a drawing engine may be capable of supporting more than one device, it cannot divide a raster across multiple devices. Instead, every drawing command sent to a drawing engine must be destined for a single device. QuickDraw&nbsp;3D RAVE guarantees this by requiring a calling application to specify a draw context as a parameter for every drawing command. A <B CLASS="bold">draw context</B> is a structure (of type <TT CLASS="cv">TQADrawContext</TT>) that maintains state information and other data associated with a particular drawing engine and device.</P><P CLASS="T1.Text1"><A NAME="pgfId=6283"> </A>As mentioned at the end of the previous section, you need to create several draw contexts if you want to draw into a window that spans several devices. Similarly, you need to create several draw contexts if you want to draw into several different windows on the same device. Each draw context maintains its own state information image buffers and is unaffected by any functions that operate on another draw context.</P><P CLASS="T1.Text1"><A NAME="pgfId=6286"> </A><A NAME="marker=6284"> </A><A NAME="marker=6285"> </A>The state information associated with a draw context is maintained using a large number of <B CLASS="bold">state variables.</B> For example, the background color of a draw context is specified by four state variables, designated by the four identifiers (or <B CLASS="bold">tags</B>) <TT CLASS="cv">kQATag_ColorBG_a</TT>, <TT CLASS="cv">kQATag_ColorBG_r</TT>, <TT CLASS="cv">kQATag_ColorBG_g</TT>, and <TT CLASS="cv">kQATag_ColorBG_b</TT>.<A NAME="marker=6293"> </A></P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=6761"> </A>Q3InteractiveRenderer_GetRAVEContextHints</H2><P CLASS="T1.Text1"><A NAME="pgfId=6762"> </A>You can use the Q3InteractiveRenderer_GetRAVEContextHints function to get the RAVE draw context hints for a specific renderer.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=19961"> </A>TQ3Status Q3InteractiveRenderer_GetRAVEContextHints (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3RendererObject&nbsp;&nbsp;&nbsp;&nbsp;renderer,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*RAVEContextHints);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19963"> </A>renderer</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6764"> </A>A renderer.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19972"> </A>RAVEContextHints</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6765"> </A> A set of RAVE draw context hints.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6766"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=6767"> </A>The Q3InteractiveRenderer_GetRAVEContextHints function returns, in the RAVEContextHints parameter, the stored context hints for renderer.</P></DIV></DIV><DIV><H2 CLASS="RoH.RoutineHeading"><A NAME="pgfId=6769"> </A>Q3InteractiveRenderer_SetRAVEContextHints</H2><P CLASS="T1.Text1"><A NAME="pgfId=6770"> </A>You can use the Q3InteractiveRenderer_SetRAVEContextHints function to set the RAVE draw context hints for a specific renderer.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=19986"> </A>TQ3Status Q3InteractiveRenderer_SetRAVEContextHints (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3RendererObject&nbsp;&nbsp;&nbsp;&nbsp;renderer,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RAVEContextHints);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=19988"> </A>renderer</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=6772"> </A>A renderer.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20001"> </A>RAVEContextHints</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=11686"> </A> A set of RAVE draw context hints.</DD></DL COMPACT><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=6774"> </A>DESCRIPTION</H3><P CLASS="T1.Text1"><A NAME="pgfId=6775"> </A>The Q3InteractiveRenderer_SetRAVEContextHints function sets the draw context hints for renderer to the value in the RAVEContextHints parameter.</P></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>