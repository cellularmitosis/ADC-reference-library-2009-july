<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>SimpleReach - /Read Me About SimpleReach.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/CoreFoundation/index.html">Core Foundation</a> &gt; <a href="../../samplecode/CoreFoundation/idxNetworking-date.html">Networking</a> &gt; <A HREF="javascript:location.replace('index.html');">SimpleReach</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">SimpleReach</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/Read Me About SimpleReach.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/Read Me About SimpleReach.txt</option>
<option value="listing2.html">/SimpleReach.c</option></select>
				</p>
				</form>
				<p><strong><a href="SimpleReach.zip">Download Sample</a></strong> (&#147;SimpleReach.zip&#148;, 20.7K)<BR>
<strong><a href="SimpleReach.dmg">Download Sample</a></strong> (&#147;SimpleReach.dmg&#148;, 79.0K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">Read Me About SimpleReach
=========================
1.1

SimpleReach is a demonstration of the System Configuration framework
asynchronous network reachability API, which lets you determine whether a
particular host is reachable and monitor reachability changes.

It's important that you understand that, when this API says that the host is
reachable, it means that nothing on *this* computer will prevent you from
connecting with the host.  Factors that are external to this computer may still
prevent you from connecting.

SimpleReach requires the System Configuration framework asynchronous network
reachability API, which was introduced with Mac OS X 10.3.  Earlier versions of
System Configuration framework had a synchronous network reachability API.  That
API is not covered by this sample.

Packing List
------------
The sample contains the following items:

o Read Me About SimpleReach.txt -- This file.
o SimpleReach.c -- Source for the program.
o SimpleReach.xcodeproj -- An Xcode 2.1 project for the program.
o SimpleReach.xcode -- An Xcode 1.1 project for the program.

Using the Sample
----------------
To try out SimpleReach, just run it from the command line, providing a list of
DNS names as its arguments.

% ./SimpleReach www.apple.com
t = kSCNetworkFlagsTransientConnection
r = kSCNetworkFlagsReachable
c = kSCNetworkFlagsConnectionRequired
C = kSCNetworkFlagsConnectionAutomatic
i = kSCNetworkFlagsInterventionRequired
l = kSCNetworkFlagsIsLocalAddress
d = kSCNetworkFlagsIsDirect

Hit ^C to exit.
16:48:46 trc---- www.apple.com (from main)
16:48:46 ------- www.apple.com
16:49:53 trc---- www.apple.com
16:49:53 ------- www.apple.com
16:49:55 tr----- www.apple.com
16:50:18 trc---- www.apple.com
16:50:18 ------- www.apple.com
16:50:31 -r----- www.apple.com

SimpleReach will run and print any changes in the network reachability of the
named hosts.  You must use ^C to quit it.

Building the Sample
-------------------
The sample was built using Xcode 2.1 on Mac OS X 10.4.  You should be able to
just open the project and choose Build from the Build menu.  This will build
the SimpleReach command line tool in the &quot;Build&quot; directory.

How it Works
------------
For each DNS name on the command line, SimpleReach uses the System
Configuration framework asynchronous network reachability API to:

o create an instance of the SCNetworkReachabilityRef type
(SCNetworkReachabilityCreateWithName) for each DNS name,

o schedule its callback on the runloop (SCNetworkReachabilitySetCallback,
SCNetworkReachabilityScheduleWithRunLoop), 

o get and print the current reachability (SCNetworkReachabilityGetFlags), and 

o print the reachability whenever its callback is called.

Credits and Version History
---------------------------
If you find any problems with this sample, mail &lt;dts@apple.com&gt; and I'll try to
fix them up.

1.0 (Apr 2004) was the first shipping version.

1.1 (Jul 2005) was updated to include an Xcode 2.1 project to produce a
universal binary; there were no code changes required for it to run correctly
on the Developer Transition Systems.

Share and Enjoy.

Apple Developer Technical Support
Networking, Communications, Hardware

21 Jul 2005

$Log: Read\040Me\040About\040SimpleReach.txt,v $
Revision 1.2  2005/07/21 14:51:06         
Updated for version 1.1.

Revision 1.1  2004/04/28 16:26:29         
First checked in.

</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/SimpleReach/listing1.html%3Fid%3DDTS10003238-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/SimpleReach/listing1.html%3Fid%3DDTS10003238-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/SimpleReach/listing1.html%3Fid%3DDTS10003238-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>