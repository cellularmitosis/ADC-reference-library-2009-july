<html><head><title>Mac OS X Server
 Manual Page For spamassassin-run(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/spamassassin-run" title="Mac OS X Server
 Manual Page for spamassassin-run(3pm)"><a name="//apple_ref/doc/man/3/spamassassin-run" title="Mac OS X Server
 Manual Page for spamassassin-run(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/spamassassin-run"; name=spamassassin-run(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
spamassassin-run(3)                  User Contributed Perl Documentation                 spamassassin-run(3)



<b>NAME</b>
       spamassassin - simple front-end filtering script for SpamAssassin

<b>SYNOPSIS</b>
       <b>spamassassin</b> [options] [ &lt; <u>mailmessage</u> | <u>path</u> ... ]

       <b>spamassassin</b> <b>-d</b> [ &lt; <u>mailmessage</u> | <u>path</u> ... ]

       <b>spamassassin</b> <b>-r</b> [ &lt; <u>mailmessage</u> | <u>path</u> ... ]

       <b>spamassassin</b> <b>-k</b> [ &lt; <u>mailmessage</u> | <u>path</u> ... ]

       <b>spamassassin</b> <b>-W</b>|<b>-R</b> [ &lt; <u>mailmessage</u> | <u>path</u> ... ]

       Options:

        -L, --local                       Local tests only (no online tests)
        -r, --report                      Report message as spam
        -k, --revoke                      Revoke message as spam
        -d, --remove-markup               Remove spam reports from a message
        -C path, --configpath=path, --config-file=path
                                          Path to standard configuration dir
        -p prefs, --prefspath=file, --prefs-file=file
                                          Set user preferences file
        --siteconfigpath=path             Path for site configs
                                          (def: /etc/mail/spamassassin)
        --cf='config line'                Additional line of configuration
        -x, --nocreate-prefs              Don't create user preferences file
        -e, --exit-code                   Exit with a non-zero exit code if the
                                          tested message was spam
        --mbox                            read in messages in mbox format
        --mbx                             read in messages in UW mbx format
        -t, --test-mode                   Pipe message through and add extra
                                          report to the bottom
        --lint                            Lint the rule set: report syntax errors
        -W, --add-to-whitelist            Add addresses in mail to persistent address whitelist
        --add-to-blacklist                Add addresses in mail to persistent address blacklist
        -R, --remove-from-whitelist       Remove all addresses found in mail from
                                          persistent address list
        --add-addr-to-whitelist=addr      Add addr to persistent address whitelist
        --add-addr-to-blacklist=addr      Add addr to persistent address blacklist
        --remove-addr-from-whitelist=addr Remove addr from persistent address list
        --ipv4only, --ipv4-only, --ipv4   Disable attempted use of ipv6 for DNS
        --progress                        Print progress bar
        -D, --debug [area=n,...]          Print debugging messages
        -V, --version                     Print version
        -h, --help                        Print usage message

<b>DESCRIPTION</b>
       spamassassin is a simple front-end filter for SpamAssassin.

       Using the SpamAssassin rule base, it uses a wide range of heuristic tests on mail headers and body
       text to identify "spam", also known as unsolicited bulk email.  Once identified, the mail is then
       tagged as spam for later filtering using the user's own mail user-agent application.

       The default tagging operations that take place are detailed in "TAGGING".

       By default, <!-- a -->message(s)<!-- /a --> are read in from STDIN (&lt; <u>mailmessage</u>), or from specified files and
       directories (<u>path</u> ...)  STDIN and files are assumed to be in <u>file</u> format, with a single message per
       file.  Directories are assumed to be in a format where each file in the directory contains only one
       message (directories are not recursed and filenames containing whitespace or beginning with "." or
       "," are skipped).  The options <u>--mbox</u> and <u>--mbx</u> can override the assumed format, see the appropriate
       OPTION information below.

       Please note that SpamAssassin is not designed to scan large messages. Don't feed messages larger than
       about 500 KB to SpamAssassin, as this will consume a huge amount of memory.

<b>OPTIONS</b>
       <b>-e</b>, <b>--error-code</b>, <b>--exit-code</b>
           Exit with a non-zero error code, if the message is determined to be spam.

       <b>-h</b>, <b>--help</b>
           Print help message and exit.

       <b>-V</b>, <b>--version</b>
           Print version and exit.

       <b>-t</b>, <b>--test-mode</b>
           Test mode.  Pipe message through and add extra report.  Note that the report text assumes that
           the message is spam, since in normal use it is only visible in this case.  Pay attention to the
           score instead.

           If you run this with <b>-d</b>, the message will first have SpamAssassin markup removed before being
           tested.

       <b>-r</b>, <b>--report</b>
           Report this message as manually-verified spam.  This will submit the mail message read from STDIN
           to various spam-blocker databases.  Currently, these are the Distributed Checksum Clearinghouse
           "<a href="http://www.rhyolite.com/anti-spam/dcc/">http://www.rhyolite.com/anti-spam/dcc/</a>", Pyzor "<a href="http://pyzor.sourceforge.net/">http://pyzor.sourceforge.net/</a>", Vipul's Razor
           "<a href="http://razor.sourceforge.net/">http://razor.sourceforge.net/</a>", and SpamCop "<a href="http://www.spamcop.net/">http://www.spamcop.net/</a>".

           If the message contains SpamAssassin markup, the markup will be stripped out automatically before
           submission.  The support modules for DCC, Pyzor, and Razor must be installed for spam to be
           reported to each service.  SpamCop reports will have greater effect if you register and set the
           "spamcop_to_address" option.

           The message will also be submitted to SpamAssassin's learning systems; currently this is the
           internal Bayesian statistical-filtering system (the BAYES rules).  (Note that if you <u>only</u> want to
           perform statistical learning, and do not want to report mail to third-parties, you should use the
           "sa-learn" command directly instead.)

       <b>-k</b>, <b>--revoke</b>
           Revoke this message.  This will revoke the mail message read from STDIN from various spam-blocker
           databases.  Currently, these are Vipul's Razor.

           Revocation support for the Distributed Checksum Clearinghouse, Pyzor, and SpamCop is not
           currently available.

           If the message contains SpamAssassin markup, the markup will be stripped out automatically before
           submission.  The support modules for Razor must be installed for spam to be revoked from the
           service.

           The message will also be submitted as 'ham' (non-spam) to SpamAssassin's learning systems;
           currently this is the internal Bayesian statistical-filtering system (the BAYES rules).  (Note
           that if you <u>only</u> want to perform statistical learning, and do not want to report mail to third-
           parties, you should use the "sa-learn" command directly instead.)

       <b>--lint</b>
           Syntax check (lint) the rule set and configuration files, reporting typos and rules that do not
           compile correctly.  Exits with 0 if there are no errors, or greater than 0 if any errors are
           found.

       <b>-W</b>, <b>--add-to-whitelist</b>
           Add all email addresses, in the headers and body of the mail message read from STDIN, to a
           persistent address whitelist.  Note that you must be running "spamassassin" or "spamd" with a
           persistent address list plugin enabled for this to work.

       <b>--add-to-blacklist</b>
           Add all email addresses, in the headers and body of the mail message read from STDIN, to the
           persistent address blacklist.  Note that you must be running "spamassassin" or "spamd" with a
           persistent address list plugin enabled for this to work.

       <b>-R</b>, <b>--remove-from-whitelist</b>
           Remove all email addresses, in the headers and body of the mail message read from STDIN, from a
           persistent address list. STDIN must contain a full email message, so to remove a single address
           you should use <b>--remove-addr-from-whitelist</b> instead.

           Note that you must be running "spamassassin" or "spamd" with a persistent address list plugin
           enabled for this to work.

       <b>--add-addr-to-whitelist</b>
           Add the named email address to a persistent address whitelist.  Note that you must be running
           "spamassassin" or "spamd" with a persistent address list plugin enabled for this to work.

       <b>--add-addr-to-blacklist</b>
           Add the named email address to a persistent address blacklist.  Note that you must be running
           "spamassassin" or "spamd" with a persistent address list plugin enabled for this to work.

       <b>--remove-addr-from-whitelist</b>
           Remove the named email address from a persistent address whitelist.  Note that you must be
           running "spamassassin" or "spamd" with a persistent address list plugin enabled for this to work.

        <b>--ipv4only</b>, <b>--ipv4-only</b>, <b>--ipv4</b>
           Do not use IPv6 for DNS tests. Normally, SpamAssassin will try to detect if IPv6 is available,
           using only IPv4 if it is not. Use if the existing tests for IPv6 availablity produce incorrect
           results or crashes.

       <b>-L</b>, <b>--local</b>
           Do only the ''local'' tests, ones that do not require an internet connection to operate.
           Normally, SpamAssassin will try to detect whether you are connected to the net before doing these
           tests anyway, but for faster checks you may wish to use this.

           Note that SpamAssassin's network rules are run in parallel.  This can cause overhead in terms of
           the number of file descriptors required if <b>--local</b> is not used; it is recommended that the
           minimum limit on fds be raised to at least 256 for safety.

       <b>-d</b>, <b>--remove-markup</b>
           Remove SpamAssassin markup (the "SpamAssassin results" report, X-Spam-Status headers, etc.) from
           the mail message.  The resulting message, which will be more or less identical to the original,
           pre-SpamAssassin input, will be output to STDOUT.

           (Note: the message will not be exactly identical; some headers will be reformatted due to some
           features of the Mail::Internet package, but the body text will be.)

       <b>-C</b> <u>path</u>, <b>--configpath</b>=<u>path</u>, <b>--config-file</b>=<u>path</u>
           Use the specified path for locating the distributed configuration files.  Ignore the default
           directories (usually "/usr/share/spamassassin" or similar).

       <b>--siteconfigpath</b>=<u>path</u>
           Use the specified path for locating site-specific configuration files.  Ignore the default
           directories (usually "/etc/mail/spamassassin" or similar).

       <b>--cf='config</b> <b>line'</b>
           Add additional lines of configuration directly from the command-line, parsed after the
           configuration files are read.   Multiple <b>--cf</b> arguments can be used, and each will be considered
           a separate line of configuration.  For example:

                   spamassassin -t --cf="body NEWRULE /text/" --cf="score NEWRULE 3.0"

       <b>-p</b> <u>prefs</u>, <b>--prefspath</b>=<u>prefs</u>, <b>--prefs-file</b>=<u>prefs</u>
           Read user score preferences from <u>prefs</u> (usually "$HOME/.spamassassin/user_prefs").

       <b>--progress</b>
           Prints a progress bar (to STDERR) showing the current progress.  This option will only be useful
           if you are redirecting STDOUT (and not STDERR).  In the case where no valid terminal is found
           this option will behave very much like the --showdots option in other SpamAssassin programs.

       <b>-D</b> [<u>area,...</u>], <b>--debug</b> [<u>area,...</u>]
           Produce debugging output. If no areas are listed, all debugging information is printed.
           Diagnostic output can also be enabled for each area individually; <u>area</u> is the area of the code to
           instrument. For example, to produce diagnostic output on bayes, learn, and dns, use:

                   spamassassin -D bayes,learn,dns

           Higher priority informational messages that are suitable for logging in normal circumstances are
           available with an area of "info".

           For more information about which areas (also known as channels) are available, please see the
           documentation at:

                   C&lt;<a href="http://wiki.apache.org/spamassassin/DebugChannels">http://wiki.apache.org/spamassassin/DebugChannels</a>

       <b>-x</b>, <b>--nocreate-prefs</b>
           Disable creation of user preferences file.

       <b>--mbox</b>
           Specify that the input <!-- a -->message(s)<!-- /a --> are in mbox format.  mbox is a standard Unix message folder
           format.

       <b>--mbx</b>
           Specify that the input <!-- a -->message(s)<!-- /a --> are in UW .mbx format.  mbx is the mailbox format used within
           the University of Washington's IMAP implementation; see "<a href="http://www.washington.edu/imap/">http://www.washington.edu/imap/</a>".

<b>SEE</b> <b>ALSO</b>
       <a href="../man1/sa-learn.1.html#//apple_ref/doc/man/1/sa-learn"><u>sa-learn</u>(1)</a> <a href="../man1/spamd.1.html#//apple_ref/doc/man/1/spamd"><u>spamd</u>(1)</a> <a href="../man1/spamc.1.html#//apple_ref/doc/man/1/spamc"><u>spamc</u>(1)</a> <a href="Mail__SpamAssassin__Conf.3pm.html#//apple_ref/doc/man/3/Mail::SpamAssassin::Conf"><u>Mail::SpamAssassin::Conf</u>(3)</a> <a href="Mail__SpamAssassin.3pm.html#//apple_ref/doc/man/3/Mail::SpamAssassin"><u>Mail::SpamAssassin</u>(3)</a>

<b>PREREQUISITES</b>
       "Mail::SpamAssassin"

<b>BUGS</b>
       See &lt;<a href="http://issues.apache.org/SpamAssassin/">http://issues.apache.org/SpamAssassin/</a>

<b>AUTHORS</b>
       The SpamAssassin(tm) Project &lt;<a href="http://spamassassin.apache.org/">http://spamassassin.apache.org/</a>

<b>COPYRIGHT</b>
       SpamAssassin is distributed under the Apache License, Version 2.0, as described in the file "LICENSE"
       included with the distribution.

<b>POD</b> <b>ERRORS</b>
       Hey! <b>The</b> <b>above</b> <b>document</b> <b>had</b> <b>some</b> <b>coding</b> <b>errors,</b> <b>which</b> <b>are</b> <b>explained</b> <b>below:</b>

       Around line 1:
           =cut found outside a pod block.  Skipping to next block.



perl v5.8.8                                      2007-06-19                              spamassassin-run(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/spamassassin-run.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/spamassassin-run.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/spamassassin-run.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
