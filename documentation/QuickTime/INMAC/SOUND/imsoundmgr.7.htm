<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Sound Commands (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.6.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.2.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.8.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3297"> </A>Sound Commands</H1><P CLASS="T0.Text0"><A NAME="pgfId=3098"> </A><A NAME="marker=262"> </A>The Sound Manager provides routines that allow you to create and dispose of sound channels. These routines allow you to manipulate sound channels, but they do not directly produce any sounds. To actually produce sounds, you need to issue sound commands. A <B CLASS="bold">sound command</B> is an instruction to produce sound, modify sound, or otherwise assist in the overall process of sound production. For example, the <TT CLASS="cv">ampCmd</TT> sound command changes the amplitude (or volume) of a sound.</P><P CLASS="T1.Text1"><A NAME="pgfId=3099"> </A><A NAME="marker=1615"> </A>You can issue sound commands in several ways. You can send sound commands one at a time into a sound channel by repeatedly calling the <TT CLASS="cv">SndDoCommand</TT> function. The commands are held in a queue and processed in a first-in, first-out order. Alternatively, you can bypass a sound queue altogether by calling the <TT CLASS="cv">SndDoImmediate</TT> function. You can also issue sound commands by calling the function <TT CLASS="cv">SndPlay</TT> and specifying a sound resource of type <TT CLASS="cv">'snd&nbsp;'</TT> that contains the sound commands you want to issue. A sound resource can contain any number of sound commands. As a result, you might be able to accomplish all sound-related activity simply by creating sound resources and calling <TT CLASS="cv">SndPlay</TT> in your application. See <A target="doc" HREF="imsoundmgr.2d.htm#24013" CLASS="XRef">&quot;Sound Resources&quot;</A> for details on the format of an <TT CLASS="cv">'snd&nbsp;'</TT> resource.<A NAME="marker=1047"> </A><A NAME="marker=1048"> </A><A NAME="marker=1049"> </A><A NAME="marker=532"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=2627"> </A>Generally speaking, no matter how sound commands are issued, they are all eventually sent to the Sound Manager, which interprets the commands and plays the sound on the available audio hardware. The Sound Manager provides a rich set of sound commands. The structure of a sound command is defined by the <TT CLASS="cv">SndCommand</TT> data type:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=9641"> </A>TYPE SndCommand =<BR>PACKED RECORD<BR>&nbsp;&nbsp;&nbsp;&nbsp;cmd:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{command number}<BR>&nbsp;&nbsp;&nbsp;&nbsp;param1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{first parameter}<BR>&nbsp;&nbsp;&nbsp;&nbsp;param2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LongInt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{second parameter}<BR>END;<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3102"> </A><A NAME="marker=9643"> </A>Commands are always 8 bytes in length. The first 2 bytes are the command number, and the next 6 make up the command's options. The format of the last 6 bytes depends on the command in use, although typically those 6 bytes are interpreted as an integer followed by a long integer. For example, an application can install a wave table into a sound channel by using <TT CLASS="cv">SndDoCommand</TT> with a sound command whose <TT CLASS="cv">cmd</TT> field is the <TT CLASS="cv">waveTableCmd</TT> constant. In that case, the <TT CLASS="cv">param1</TT> field specifies the length of the wave table, and the <TT CLASS="cv">param2</TT> field is a pointer to the wave-table data itself. Other sound commands may interpret the 6 parameter bytes differently or may not use them at all.</P><P CLASS="T1.Text1"><A NAME="pgfId=3103"> </A>The sound commands available to your application are defined by constants.<A NAME="marker=581"> </A></P><CODE CLASS="CvF.CodeFull"><A NAME="pgfId=9647"> </A>CONST<BR>&nbsp;&nbsp;&nbsp;&nbsp;nullCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{do nothing}<BR>&nbsp;&nbsp;&nbsp;&nbsp;quietCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 3;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{stop a sound that is playing}<BR>&nbsp;&nbsp;&nbsp;&nbsp;flushCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 4;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{flush a sound channel}<BR>&nbsp;&nbsp;&nbsp;&nbsp;reInitCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{reinitialize a sound channel}<BR>&nbsp;&nbsp;&nbsp;&nbsp;waitCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 10;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{suspend processing in a channel}<BR>&nbsp;&nbsp;&nbsp;&nbsp;pauseCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 11;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{pause processing in a channel}<BR>&nbsp;&nbsp;&nbsp;&nbsp;resumeCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 12;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{resume processing in a channel}<BR>&nbsp;&nbsp;&nbsp;&nbsp;callBackCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 13;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{execute a callback procedure}<BR>&nbsp;&nbsp;&nbsp;&nbsp;syncCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 14;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{synchronize channels}<BR>&nbsp;&nbsp;&nbsp;&nbsp;availableCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 24;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{see if initialization options are supported}<BR>&nbsp;&nbsp;&nbsp;&nbsp;versionCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 25;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{determine version}<BR>&nbsp;&nbsp;&nbsp;&nbsp;totalLoadCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 26;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{report total CPU load}<BR>&nbsp;&nbsp;&nbsp;&nbsp;loadCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 27;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{report CPU load for a new channel}<BR>&nbsp;&nbsp;&nbsp;&nbsp;freqDurationCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 40;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{play a note for a duration}<BR>&nbsp;&nbsp;&nbsp;&nbsp;restCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 41;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{rest a channel for a duration}<BR>&nbsp;&nbsp;&nbsp;&nbsp;freqCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 42;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{change the pitch of a sound}<BR>&nbsp;&nbsp;&nbsp;&nbsp;ampCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 43;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{change the amplitude of a sound}<BR>&nbsp;&nbsp;&nbsp;&nbsp;timbreCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 44;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{change the timbre of a sound}<BR>&nbsp;&nbsp;&nbsp;&nbsp;getAmpCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 45;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{get the amplitude of a sound}<BR>&nbsp;&nbsp;&nbsp;&nbsp;volumeCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 46;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{set volume}<BR>&nbsp;&nbsp;&nbsp;&nbsp;getVolumeCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 47;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{get volume}<BR>&nbsp;&nbsp;&nbsp;&nbsp;waveTableCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 60;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{install a wave table as a voice}<BR>&nbsp;&nbsp;&nbsp;&nbsp;soundCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 80;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{install a sampled sound as a voice}<BR>&nbsp;&nbsp;&nbsp;&nbsp;bufferCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 81;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{play a sampled sound}<BR>&nbsp;&nbsp;&nbsp;&nbsp;rateCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 82;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{set the pitch of a sampled sound}<BR>&nbsp;&nbsp;&nbsp;&nbsp;getRateCmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 85;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{get the pitch of a sampled sound}<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=2479"> </A><A NAME="marker=9649"> </A>For details on individual sound commands, see the relevant sections in <A target="doc" HREF="imsoundmgr.a.htm#29439" CLASS="XRef">&quot;Using the Sound Manager&quot;</A> beginning on <A target="doc" HREF="imsoundmgr.a.htm#29439" CLASS="XRef">[link]</A>. Also see <A target="doc" HREF="imsoundmgr.3b.htm#17214" CLASS="XRef">&quot;Sound Command Numbers&quot;</A> for a complete summary of the available sound commands, their parameters, and their uses.<A NAME="marker=577"> </A></P><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.6.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.2.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.8.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>