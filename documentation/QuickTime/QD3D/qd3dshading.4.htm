<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Illumination Models</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3159"> </A><B CLASS="bold"></B><A NAME="19835"> </A>Illumination Models</H1><P CLASS="T1.Text1"><A NAME="pgfId=3161"> </A><A NAME="marker=3160"> </A>As you've seen, an illumination shader determines the effects of a view's group of lights on the objects in a model. In order for the lights to have any effect, you must attach an illumination shader to the view. QuickDraw&nbsp;3D provides three types of illumination shaders.</P><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=3165"> </A>Lambert Illumination</H2><P CLASS="T1.Text1"><A NAME="pgfId=17801"> </A>The Lambert illumination shader implements an illumination model based on the diffuse reflection (also called the Lambertian reflection) of a surface. <B CLASS="bold">Diffuse reflection</B> is characteristic of light reflected from a dull, nonshiny surface. Objects illuminated solely by diffusely reflected light exhibit an equal light intensity from all viewing directions. <A HREF="qd3dshading.4.htm#34095" CLASS="XRef">Figure&nbsp;1</A> shows an object illuminated using the Lambert illumination shader. See also Color Plate 4 at the beginning of this book.<A NAME="marker=17805"> </A></P><P CLASS="Fg.Figure"><A NAME="pgfId=17810"> </A>Figure&nbsp;1<A NAME="34095"> </A>Effects of the Lambert illumination shader</P><DIV><IMG SRC="qd3dshading-1.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3175"> </A>For a point on a surface, the Lambert illumination provided by <I CLASS="italics">i</I> distinct lights is given by the following equation:</P><DIV><IMG SRC="qd3dshading-2.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=27054"> </A>Here, <I CLASS="italics">I</I><EM CLASS="Subscript">a</EM> is the intensity of the ambient light, and <I CLASS="italics">k</I><EM CLASS="Subscript">a</EM> is the ambient coefficient. <I CLASS="italics">O</I><EM CLASS="Subscript">d</EM> is the diffuse color of the surface of the object being illuminated. <I CLASS="italics">N</I> is the surface normal vector at the point whose illumination is being evaluated, and <I CLASS="italics">L</I><EM CLASS="Subscript">i</EM> is a normalized vector indicating the direction to the <I CLASS="italics">i</I>th light source. Notice that if the dot product (<I CLASS="italics">N</I>&nbsp;&nbsp;<I CLASS="italics">L</I><EM CLASS="Subscript">i</EM>) is 0 for a particular light (that is, if <I CLASS="italics">N</I> and <I CLASS="italics">L</I><EM CLASS="Subscript">i</EM> are perpendicular), that light contributes nothing to the illumination of the point. <I CLASS="italics">I</I><EM CLASS="Subscript">i</EM>&nbsp;is the intensity of the <I CLASS="italics">i</I>th light source, and <I CLASS="italics">k</I><EM CLASS="Subscript">d</EM> is the <B CLASS="bold">diffuse coefficient</B> of the surface being illuminated (that is, the level of diffuse reflection of the surface).<A NAME="marker=27055"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3181"> </A>As you can see, the intensity of the light reflected by a point on a surface depends solely on the ambient light and the diffuse reflection of the surface at that point.</P><P CLASS="Note"><A NAME="pgfId=15762"> </A>QuickDraw&nbsp;3D does not currently provide a way to set the value of the diffuse coefficient of a surface directly. Instead, you must use the product <I CLASS="italics">k</I><EM CLASS="Subscript">d</EM><I CLASS="italics">O</I><EM CLASS="Subscript">d</EM> as the surface's diffuse color. You specify a diffuse color by inserting an attribute of type kQ3AttributeTypeDiffuseColor into the surface's attribute set. </P></DIV><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=3182"> </A>Phong Illumination</H2><P CLASS="T1.Text1"><A NAME="pgfId=3184"> </A><A NAME="marker=3183"> </A>The Phong illumination shader implements an illumination model based on both diffuse reflection and specular reflection of a surface. <B CLASS="bold">Specular reflection</B> is characteristic of light reflected from a shiny surface, where a bright highlight appears from certain viewing directions. <A HREF="qd3dshading.4.htm#30750" CLASS="XRef">Figure&nbsp;2</A> shows an object illuminated using the Phong illumination shader. See also Color Plate 4 at the beginning of this book.<A NAME="marker=3188"> </A></P><P CLASS="Fg.Figure"><A NAME="pgfId=3192"> </A>Figure&nbsp;2<A NAME="30750"> </A>Effects of the Phong illumination shader</P><DIV><IMG SRC="qd3dshading-3.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3193"> </A>For a point on a surface, the Phong illumination provided by <I CLASS="italics">i</I> distinct lights is given by the following equation:</P><DIV><IMG SRC="qd3dshading-4.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3197"> </A>Notice that the Phong illumination equation is simply the Lambert illumination equation with an additional summand to account for specular reflection. Here, <I CLASS="italics">R</I> is the direction of reflection and <I CLASS="italics">V</I> is the direction of viewing. The exponent <I CLASS="italics">n</I> is the specular reflection exponent, and <I CLASS="italics">k</I><EM CLASS="Subscript">s</EM> is the specular reflection coefficient. The <B CLASS="bold">specular reflection exponent</B> determines how quickly the specular reflection diminishes as the viewing direction moves away from the direction of reflection. In other words, the specular reflection exponent determines the size of the <B CLASS="bold">specular highlight</B> (a bright area on the surface of the object caused by specular reflection). When the value of <I CLASS="italics">n</I> is small, the size of the specular highlight is large; as <I CLASS="italics">n</I> increases, the size of the specular highlight shrinks.<A NAME="marker=3198"> </A><A NAME="marker=3199"> </A></P><P CLASS="Note"><A NAME="pgfId=29162"> </A>Note that setting the specular reflection exponent to 0 results in no specular reflection (because <I CLASS="italics">n</I><EM CLASS="Superscript">0</EM> = 1 for any number <I CLASS="italics">n</I>). Moreover, values between 0 and 1 reduce the amount of specular reflection. In general, the specular reflection exponent should be a value greater than or equal to 1. </P><P CLASS="T1.Text1"><A NAME="pgfId=3200"> </A>The <B CLASS="bold">specular coefficient</B> (or <B CLASS="bold">specular reflection coefficient</B>), symbolized by <I CLASS="italics">k</I><EM CLASS="Subscript">s</EM> in the equation above, indicates the level of the object's specular reflection. It controls the overall brightness of the specular highlight, independent of the brightness of the light sources and the direction of viewing.</P><P CLASS="T1.Text1"><A NAME="pgfId=13553"> </A><A HREF="qd3dshading.4.htm#37481" CLASS="XRef">Figure&nbsp;3</A> shows an object illuminated using a variety of values for the specular reflection exponent and the specular coefficient. In this figure, the specular reflection exponent increases from left to right, resulting in a smaller specular highlight. In addition, the specular coefficient increases from top to bottom, resulting in a brighter specular highlight.<A NAME="marker=13535"> </A></P><P CLASS="Note"><A NAME="pgfId=33188"> </A>A surface's specular reflection coefficient is also called its <B CLASS="bold">specular control.</B> You specify a specular reflection coefficient by inserting an attribute of type <TT CLASS="cv">kQ3AttributeTypeSpecularControl</TT> into the surface's attribute set. <A NAME="marker=33192"> </A><A NAME="marker=33193"> </A></P><P CLASS="Fg.Figure"><A NAME="pgfId=13504"> </A>Figure&nbsp;3<A NAME="37481"> </A>Phong illumination with various specular exponents and coefficients</P><DIV><IMG SRC="qd3dshading-5.gif"></DIV></DIV><DIV><H2 CLASS="H3.Heading3"><A NAME="pgfId=3208"> </A>Null Illumination</H2><P CLASS="T1.Text1"><A NAME="pgfId=3209"> </A>The null illumination shader ignores the lights in a view's light group and configures the renderer to draw all objects using only the diffuse colors of those objects. The net effect of the this shader is to draw objects as if the only light source was an ambient light at full intensity. <A HREF="qd3dshading.4.htm#26654" CLASS="XRef">Figure&nbsp;4</A> shows an object illuminated using the null illumination shader.</P><P CLASS="Fg.Figure"><A NAME="pgfId=3216"> </A>Figure&nbsp;4<A NAME="26654"> </A>Effects of the null illumination shader</P><DIV><IMG SRC="qd3dshading-6.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3220"> </A>For any point on a surface, the null illumination is given by the following equation:</P><DIV><IMG SRC="qd3dshading-7.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=3221"> </A>Here, <I CLASS="italics">O</I><EM CLASS="Subscript">d</EM> is the diffuse color of the surface of the object being illuminated. As you can see, when the null illumination shader is active, all facets of an object are drawn the same color (unless different facets have attribute sets that override the diffuse color of the object).</P></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>