<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Writing Application Translation Extensions (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING420></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-419.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-421.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-402.html"><B>Chapter 7 - Translation Manager</B></A> / <A HREF="MoreToolbox-414.html"><B>Writing a Translation Extension</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING420-0></A>
<H2><A NAME=MARKER-9-182></A>Writing Application Translation Extensions</H2>
 Most applications can open only a certain number of file types and can therefore declare those openable file types by including an open resource in their resource forks. (See <A HREF=MoreToolbox-410.html#MARKER-9-86>"Declaring the File Types Your Application Can Open" on page 7-13</A> for details about the open resource.) Some applications, however, need to determine dynamically which files they can open (perhaps because those applications already contain data-conversion capabilities using external filters). For these applications, the open resource alone is inadequate to specify which kinds of files they can open.<P>
 A simple way to generate dynamically a list of your application's openable file types is to provide an <B>application translation extension<A NAME=MARKER-2-183></A>,</B> a translation extension that can create a list of file types and identify files, but which performs no actual translation. Essentially, the application translation extension exists solely to generate the dynamic list of file types your application can open. The source list in the file translation list that your extension returns to Macintosh Easy Open should contain a file type specification for each of those types; for the destination list of types, the file translation list should contain a single file type specification whose <CODE>format</CODE> field contains some arbitrary and otherwise unused file type. Suppose this destination file type is <CODE>'VOID'</CODE>.<P>
 The open resource in your application should then consist of a static list containing at least the value in the <CODE>format</CODE> field of the sole destination file type specification in the file translation list (that is, <CODE>'VOID'</CODE>). The net effect, as far as Macintosh Easy Open is concerned, is that your application can open documents of type <CODE>'VOID'</CODE> and that a translation extension exists that can translate some other file types into type <CODE>'VOID'</CODE>. As a result, the types in that list--which was generated dynamically--are now considered openable by your application.<P>
 Of course, in the situation imagined here, you don't want the application translation extension to do any actual data conversion. You indicate this by setting the <CODE>taDstIsAppTranslation<A NAME=MARKER-2-184></A></CODE> bit in the <CODE>flags</CODE> field of the destination file type specification. If this bit is set, Macintosh Easy Open gives the source document directly to your application without translation. No destination document is created.<A NAME=MARKER-2-91></A><P>
<DL>
<DT><B>Note</B>
<DD>In the translation choices dialog box (illustrated in <A HREF=MoreToolbox-404.html#MARKER-9-24>Figure 7-3 on page 7-6</A>), a file type whose file type specification has the <CODE>taDstIsAppTranslation</CODE> bit set is listed by the application name only; the name of the application translation extension is not listed.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-419.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-421.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
