<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Resource Manager Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Resource Manager Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000154-DontLinkChapterID_1" title="Resource Manager Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxFileManagement-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000448" target="_top">File Management</a> &gt; <a href="../index.html" target="_top">Resource Manager Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000154-DontLinkChapterID_1-DontLinkElementID_5" title="Resource Manager Reference"></a><h1>Resource Manager Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"> <a href="../../SpotlightReference_Collection/index.html#//apple_ref/doc/uid/TP40003857" target="_top">CoreServices</a>/CoreServices.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">IOMacOSTypes.h</span><br/><span class="content_text">Resources.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP30000154-CH201-DontLinkElementID_3" title="Overview"></a><h2>Overview</h2><p>The Resource Manager allows applications to create, delete, open, read, modify, and write resources, get information about them, and alter the Resource Manager’s search path. A resource is data of any kind stored in a defined format in a resource file. The Resource Manager keeps track of resources in memory and provides functions for the proper management of the resource chain. In Mac OS X, you should store resources in the data fork of a resource file.</p><p>Carbon applications have used Resource Manager resources to store the descriptions for user interface elements such as menus, windows, dialogs, controls, and icons. In addition, applications have used resources to store variable settings, such as the location of a document window at the time the user closes the window. When the user opens the document again, the application reads the information in the appropriate resource and restores the window to its previous location.</p>


<a name="//apple_ref/doc/uid/TP30000154-DontLinkChapterID_1-DontLinkElementID_4" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-129075" title="Checking for Errors"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF103" title="Checking for Errors"></a>
    
    <h3 class="tasks">Checking for Errors</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines what error occurred, if any, after calling a Resource Manager function. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-129257" title="Closing Resource Forks"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF104" title="Closing Resource Forks"></a>
    
    <h3 class="tasks">Closing Resource Forks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CloseResFile">CloseResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Closes a resource fork before your application terminates.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-87227" title="Counting and Listing Resource Types"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF105" title="Counting and Listing Resource Types"></a>
    
    <h3 class="tasks">Counting and Listing Resource Types</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/Count1Resources">Count1Resources</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the total number of resources of a given type in the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/Count1Types">Count1Types</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the number of resource types in the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CountResources">CountResources</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the total number of available resources of a given type.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CountTypes">CountTypes</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the number of resource types in all resource forks open to your application.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/Get1IndResource">Get1IndResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a handle to a resource of a given type in the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/Get1IndType">Get1IndType</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a resource types available in the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetIndResource">GetIndResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a handle to a resource of a given type in resource forks open to your application.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetIndType">GetIndType</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a resource type available in resource forks open to your application.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-89772" title="Creating Resource Files and Forks"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF106" title="Creating Resource Files and Forks"></a>
    
    <h3 class="tasks">Creating Resource Files and Forks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FSCreateResourceFile">FSCreateResourceFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a file with a named fork for storing resource data.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FSCreateResourceFork">FSCreateResourceFork</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a named fork for storing resource data.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FSCreateResFile">FSCreateResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a file with an empty resource fork.'/>
            </span></li>
            
            
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpCreateResFile">FSpCreateResFile</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an empty resource fork in a new or existing file.&#032;(<font color="red">Deprecated.</font>&#032;Use <code>FSCreateResourceFile</code> instead.)'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/HCreateResFile">HCreateResFile</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an empty resource fork, when the <code>FSpCreateResFile</code> function is not available.&#032;(<font color="red">Deprecated.</font>&#032;Use <code>FSCreateResourceFile</code> instead.)'/>
            </span></li></ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-91199" title="Disposing of Resources"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF107" title="Disposing of Resources"></a>
    
    <h3 class="tasks">Disposing of Resources</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DetachResource">DetachResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the value of a resource’s handle in the resource map in memory to <code>NULL</code> while keeping the resource data in memory.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ReleaseResource">ReleaseResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Releases the memory a resource occupies when you have finished using it.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/RemoveResource">RemoveResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a resource’s entry from the current resource file’s resource map in memory. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-92183" title="Getting a Unique Resource ID"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF108" title="Getting a Unique Resource ID"></a>
    
    <h3 class="tasks">Getting a Unique Resource ID</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/Unique1ID">Unique1ID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a resource ID that’s unique with respect to resources in the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/UniqueID">UniqueID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a unique resource ID for a resource.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-92780" title="Getting and Setting Resource Fork Attributes"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF109" title="Getting and Setting Resource Fork Attributes"></a>
    
    <h3 class="tasks">Getting and Setting Resource Fork Attributes</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetResFileAttrs">GetResFileAttrs</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the attributes of a resource fork.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetResFileAttrs">SetResFileAttrs</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a resource fork’s attributes.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-93380" title="Getting and Setting Resource Information"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF110" title="Getting and Setting Resource Information"></a>
    
    <h3 class="tasks">Getting and Setting Resource Information</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetResAttrs">GetResAttrs</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a resource’s attributes.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetResInfo">GetResInfo</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a resource’s resource ID, resource type, and resource name.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetResAttrs">SetResAttrs</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a resource’s attributes in the resource map in memory.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetResInfo">SetResInfo</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the name and resource ID of a resource.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-94767" title="Getting and Setting the Current Resource File"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF111" title="Getting and Setting the Current Resource File"></a>
    
    <h3 class="tasks">Getting and Setting the Current Resource File</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CurResFile">CurResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the file reference number of the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/HomeResFile">HomeResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the file reference number associated with a particular resource.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/UseResFile">UseResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the current resource file.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-95610" title="Getting Resource Sizes"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF112" title="Getting Resource Sizes"></a>
    
    <h3 class="tasks">Getting Resource Sizes</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMaxResourceSize">GetMaxResourceSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the approximate size of a resource. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetResourceSizeOnDisk">GetResourceSizeOnDisk</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the exact size of a resource. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_1" title="Managing the Resource Chain"></a>
    
    <h3 class="tasks">Managing the Resource Chain</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InsertResourceFile">InsertResourceFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Inserts a resource file into the current resource chain at the specified location.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DetachResourceFile">DetachResourceFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a resource file from the resource chain.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetNextResourceFile">GetNextResourceFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves the next resource file in the resource chain.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTopResourceFile">GetTopResourceFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves the topmost resource file in the current resource chain.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-96616" title="Modifying Resources"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF113" title="Modifying Resources"></a>
    
    <h3 class="tasks">Modifying Resources</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddResource">AddResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a resource to the current resource file’s resource map in memory.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a flag in the resource’s resource map entry in memory to show that you’ve made changes to a resource’s data or to an entry in a resource map. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-97962" title="Opening Resource Forks"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF114" title="Opening Resource Forks"></a>
    
    <h3 class="tasks">Opening Resource Forks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FSOpenResourceFile">FSOpenResourceFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a named fork in an existing resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FSOpenOrphanResFile">FSOpenOrphanResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a resource file that is persistent across all contexts.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FSOpenResFile">FSOpenResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens the resource fork in a file specified with an <code>FSRef</code> structure.'/>
            </span></li>
            
            
            
            
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/FSResourceFileAlreadyOpen">FSResourceFileAlreadyOpen</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Checks whether a resource file is open.'/>
            </span></li>
            
    <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpOpenOrphanResFile">FSpOpenOrphanResFile</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a resource file that is persistent across all contexts.&#032;(<font color="red">Deprecated.</font>&#032;Use <code>FSOpenOrphanResFile</code> instead.)'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpOpenResFile">FSpOpenResFile</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens the resource fork in a file specified with an <code>FSSpec</code> structure.&#032;(<font color="red">Deprecated.</font>&#032;Use <code>FSOpenResourceFile</code> instead.)'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpResourceFileAlreadyOpen">FSpResourceFileAlreadyOpen</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Checks whether a resource file is open.&#032;(<font color="red">Deprecated.</font>&#032;Use <code>FSResourceFileAlreadyOpen</code> instead.)'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenResFile">HOpenResFile</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a file’s resource fork, when the <code>FSpOpenResFile</code> function is not available.&#032;(<font color="red">Deprecated.</font>&#032;Use <code>FSOpenResourceFile</code> instead.)'/>
            </span></li><li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/OpenRFPerm">OpenRFPerm</a></code>&#032;&#032;<font color="red">Deprecated in Mac OS X v10.5</font>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a file’s resource fork, when the <code>FSpOpenResFile</code> and <code>HOpenResFile</code> functions are not available. &#032;(<font color="red">Deprecated.</font>&#032;Use <code>FSOpenResourceFile</code> instead.)'/>
            </span></li></ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-100501" title="Reading and Writing Partial Resources"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF115" title="Reading and Writing Partial Resources"></a>
    
    <h3 class="tasks">Reading and Writing Partial Resources</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ReadPartialResource">ReadPartialResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Reads part of a resource into memory and work with a small subsection of a large resource.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetResourceSize">SetResourceSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the size of a resource on disk. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/WritePartialResource">WritePartialResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Writes part of a resource to disk when working with a small subsection of a large resource.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-102007" title="Reading Resources Into Memory"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF116" title="Reading Resources Into Memory"></a>
    
    <h3 class="tasks">Reading Resources Into Memory</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/Get1NamedResource">Get1NamedResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a named resource in the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/Get1Resource">Get1Resource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets resource data for a resource in the current resource file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetNamedResource">GetNamedResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets a named resource.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetResource">GetResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets resource data for a resource specified by resource type and resource ID.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/LoadResource">LoadResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets resource data after you’ve called the <code>SetResLoad</code> function with the <code>load</code> parameter set to <code>FALSE</code> or when the resource is purgeable.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Enables and disables automatic loading of resource data into memory for functions that return handles to resources.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-105268" title="Writing to Resource Forks"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF117" title="Writing to Resource Forks"></a>
    
    <h3 class="tasks">Writing to Resource Forks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetResPurge">SetResPurge</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Tells the Memory Manager to pass the handle of a resource to the Resource Manager before purging the data specified by that handle.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Updates the resource map and resource data for a resource fork without closing it.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/WriteResource">WriteResource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Writes resource data in memory immediately to a file’s resource fork. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP30000154-CH1g-135125" title="Not Recommended"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF118" title="Not Recommended"></a>
    
    <h3 class="tasks">Not Recommended</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetNextFOND">GetNextFOND</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the next FOND handle.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InvokeResErrUPP">InvokeResErrUPP</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calls your callback function.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/NewResErrUPP">NewResErrUPP</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new universal procedure pointer (UPP) to your callback function.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DisposeResErrUPP">DisposeResErrUPP</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Disposes of the universal procedure pointer (UPP) to your callback function.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP30000154-CH1g-129054" title="Functions"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-TPXREF102" title="Functions"></a><h2>Functions</h2>








































































<a name="//apple_ref/c/func/AddResource" title="AddResource"></a><a name="//apple_ref/doc/c_ref/AddResource" title="AddResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00043" title="AddResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_6"></a><h3 class="tight">AddResource</h3>
<p class="spaceabove">Adds a resource to the current resource file’s resource map in memory.</p>
<p class="spaceabove"><pre>
void AddResource (
   <!--a-->Handle<!--/a--> theData,
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType,
   <a href="reference.html#//apple_ref/doc/c_ref/ResID">ResID</a> theID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> name
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theData</em></dt>
<dd><p>A handle to data in memory to be added as a resource to the current resource file (not a handle to an existing resource). If the value of this parameter is an empty handle (that is, a handle whose master pointer is set to <code>NULL</code>), the Resource Manager writes zero-length resource data to disk when it updates the resource. If its value is either <code>NULL</code> or a handle to an existing resource, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>addResFailed</code>. If the resource map becomes too large to fit in memory, the function does nothing, and <code>ResError</code> returns an appropriate result code. The same is true if the resource data in memory can’t be written to the resource fork (for example, because the disk is full).</p></dd>
<dt><em>theType</em></dt>
<dd><p>The resource type of the resource to be added.</p></dd>
<dt><em>theID</em></dt>
<dd><p>The resource ID of the resource to be added.</p></dd>
<dt><em>name</em></dt>
<dd><p>The name of the resource to be added.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function sets the <code>resChanged</code> attribute to 1 it does not set any of the resource’s other attributes—that is, all other attributes are set to 0. If the <code>resChanged</code> attribute of a resource has been set and your application calls the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> function or quits, the Resource Manager writes both the resource map and the resource data for that resource to the resource fork of the corresponding file on disk. If the <code>resChanged</code> attribute for a resource has been set and your application calls the <code><a href="reference.html#//apple_ref/c/func/WriteResource">WriteResource</a></code> function, the Resource Manager writes only the resource data for that resource to disk.</p>
<p>If you add a resource to the current resource file, the Resource Manager writes the entire resource map to disk when it updates the file. If you want any of your changes to the resource map or resource data to be temporary, you must restore the original information before the Resource Manager updates the file on disk.</p>
<p>The function doesn’t verify whether the resource ID you pass in the parameter <code>theID</code> is already assigned to another resource of the same type. You should call the <code><a href="reference.html#//apple_ref/c/func/UniqueID">UniqueID</a></code> or <code><a href="reference.html#//apple_ref/c/func/Unique1ID">Unique1ID</a></code> function to get a unique resource ID before adding a resource with this function.</p>
<p>When your application calls this function, the Resource Manager attempts to reserve disk space for the new resource. If the new resource data can’t be written to the resource fork (for example, if there’s not enough room on disk), the <code>resChanged</code> attribute is not set to 1. If this is the case and you call <code>UpdateResFile</code> or <code>WriteResource</code>, the Resource Manager won’t know that resource data has been added. Thus, the function won’t write the new resource data to the resource fork and won’t return an error. For this reason, always make sure that the <code>ResError</code> function returns the result code <code>noErr</code> after a call to <code>AddResource</code>. </p>
<p>To copy an existing resource, get a handle to the resource you want to copy, call the <code><a href="reference.html#//apple_ref/c/func/DetachResource">DetachResource</a></code> function, then call <code>AddResource</code>. To add the same resource data to several different resource forks, call the Memory Manager function <code>HandToHand</code> to duplicate the handle for each resource. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/ChangedResource" title="ChangedResource"></a><a name="//apple_ref/doc/c_ref/ChangedResource" title="ChangedResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00477" title="ChangedResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_7"></a><h3 class="tight">ChangedResource</h3>
<p class="spaceabove">Sets a flag in the resource’s resource map entry in memory to show that you’ve made changes to a resource’s data or to an entry in a resource map. </p>
<p class="spaceabove"><pre>
void ChangedResource (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource whose data you’ve changed. The function sets the <code>resChanged</code> attribute for that resource in the resource map in memory. If the <code>resChanged</code> attribute for a resource has been set and your application calls the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> function or quits, the Resource Manager writes the resource data for that resource (and for all other resources whose <code>resChanged</code> attribute is set) and the entire resource map to the resource fork of the corresponding file on disk. If the <code>resChanged</code> attribute for a resource has been set and your application calls the <code><a href="reference.html#//apple_ref/c/func/WriteResource">WriteResource</a></code> function, the Resource Manager writes only the resource data for that resource to disk.</p><p>If the given handle isn’t a handle to a resource, if the modified resource data can’t be written to the resource fork, or if the <code>resProtected</code> attribute is set for the modified resource, the function does nothing. To find out whether any of these errors occurred, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If you change information in the resource map with a call to the <code><a href="reference.html#//apple_ref/c/func/SetResInfo">SetResInfo</a></code> or <code><a href="reference.html#//apple_ref/c/func/SetResAttrs">SetResAttrs</a></code> function and then call <code>ChangedResource</code> and <code>UpdateResFile</code>, the Resource Manager still writes both the resource map and the resource data to disk. If you want any of your changes to the resource map or resource data to be temporary, you must restore the original information before the Resource Manager updates the resource fork on disk.</p>
<p>After writing a resource to disk, the Resource Manager clears the resource’s <code>resChanged</code> attribute in the appropriate entry of the resource map in memory.</p>
<p>When your application calls this function, the Resource Manager attempts to reserve enough disk space to contain the changed resource. The function reserves space every time you call it, but the resource is not actually written until you call <code>WriteResource</code> or <code>UpdateResFile</code>. Thus, if you call <code>ChangedResource</code> several times before the resource is actually written, the function reserves much more space than is needed. If the resource is large, you may unexpectedly run out of disk space. When the resource is actually written, the file’s end-of-file (<code>EOF</code>) is set correctly, and the next call to <code>ChangedResource</code> will work as expected.</p>
<p>If the modified resource data can’t be written to the resource fork (for example, if there’s not enough room on disk), the <code>resChanged</code> attribute is not set to 1. If this is the case and you call <code>UpdateResFile</code> or <code>WriteResource</code>, the Resource Manager won’t know that the resource data has been changed. Thus, the function won’t write the modified resource data to the resource fork and won’t return an error. For this reason, always make sure that the <code>ResError</code> function returns the result code <code>noErr</code> after a call to <code>ChangedResource</code>.</p>
<p>If your application frequently changes the contents of resources (especially large resources), you should call <code>WriteResource</code> or <code>UpdateResFile</code> immediately after calling <code>ChangedResource</code>. </p>
<p>If you need to make changes to a purgeable resource using functions that may cause the Memory Manager to purge the resource, you should make the resource temporarily not purgeable. To do so, use the Memory Manager functions <code>HGetState</code>, <code>HNoPurge</code>, and <code>HSetState</code> to make sure the resource data remains in memory while you change it and until the resource data is written to disk. (You can’t use the <code>SetResAttrs</code> function for this purpose, because the changes don’t take effect immediately.) First call <code>HGetState</code> and <code>HNoPurge</code>, then change the resource as necessary. To make a change to a resource permanent, use <code>ChangedResource</code> and <code>UpdateResFile</code> or <code>WriteResource</code>; then call <code>HSetState</code> when you’re finished. Or, instead of calling <code>WriteResource</code> to write the resource data immediately, you can call the <code><a href="reference.html#//apple_ref/c/func/SetResPurge">SetResPurge</a></code> function with the <code>install</code> parameter set to <code>TRUE</code> before making changes to purgeable resource data.</p>
<p>If your application doesn’t make its resources purgeable, or if the changes you are making to a purgeable resource don’t involve functions that may cause the resource to be purged, you don’t need to take these precautions </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/CloseResFile" title="CloseResFile"></a><a name="//apple_ref/doc/c_ref/CloseResFile" title="CloseResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00527" title="CloseResFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_8"></a><h3 class="tight">CloseResFile</h3>
<p class="spaceabove">Closes a resource fork before your application terminates.</p>
<p class="spaceabove"><pre>
void CloseResFile (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number for the resource fork to close. If this parameter does not contain a file reference number for a file whose resource fork is open, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resFNotFound</code>. If the value of this parameter is 0, it represents the System file and is ignored. You cannot close the System file’s resource fork. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function performs four tasks. First, it updates the file by calling the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> function. Second, it releases the memory occupied by each resource in the resource fork by calling the <code>DisposeHandle</code> function. Third, it releases the memory occupied by the resource map. The fourth task is to close the resource fork.</p>
<p>When your application terminates, the Resource Manager automatically closes every resource fork open to your application except the System file’s resource fork. You need to call this function only if you want to close a resource fork before your application terminates.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/Count1Resources" title="Count1Resources"></a><a name="//apple_ref/doc/c_ref/Count1Resources" title="Count1Resources"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00767" title="Count1Resources"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_9"></a><h3 class="tight">Count1Resources</h3>
<p class="spaceabove">Returns the total number of resources of a given type in the current resource file.</p>
<p class="spaceabove"><pre>
<!--a-->ResourceCount<!--/a--> Count1Resources (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>The resource type of the resources to count.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The total number of resources of the given type in the current resource file.</p>
<h5 class="tight">Discussion</h5>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/Count1Types" title="Count1Types"></a><a name="//apple_ref/doc/c_ref/Count1Types" title="Count1Types"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00768" title="Count1Types"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_10"></a><h3 class="tight">Count1Types</h3>
<p class="spaceabove">Returns the number of resource types in the current resource file.</p>
<p class="spaceabove"><pre>
<!--a-->ResourceCount<!--/a--> Count1Types (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The total number of unique resource types in the current resource file. </p>
<h5 class="tight">Discussion</h5>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/CountResources" title="CountResources"></a><a name="//apple_ref/doc/c_ref/CountResources" title="CountResources"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00783" title="CountResources"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_11"></a><h3 class="tight">CountResources</h3>
<p class="spaceabove">Returns the total number of available resources of a given type.</p>
<p class="spaceabove"><pre>
<!--a-->ResourceCount<!--/a--> CountResources (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>A resource type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The total number of resources of the given type in all resource forks open to your application.</p>
<h5 class="tight">Discussion</h5>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/CountTypes" title="CountTypes"></a><a name="//apple_ref/doc/c_ref/CountTypes" title="CountTypes"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00787" title="CountTypes"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_12"></a><h3 class="tight">CountTypes</h3>
<p class="spaceabove">Returns the number of resource types in all resource forks open to your application.</p>
<p class="spaceabove"><pre>
<!--a-->ResourceCount<!--/a--> CountTypes (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The total number of unique resource types in all resource forks open to your application. </p>
<h5 class="tight">Discussion</h5>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/CurResFile" title="CurResFile"></a><a name="//apple_ref/doc/c_ref/CurResFile" title="CurResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F00895" title="CurResFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_13"></a><h3 class="tight">CurResFile</h3>
<p class="spaceabove">Gets the file reference number of the current resource file.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> CurResFile (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The file reference number associated with the current resource file. You can call this function when your application starts up (before opening the resource fork of any other file) to get the file reference number of your application’s resource fork. If the current resource file is the System file, the function returns the actual file reference number. You can use this number or 0 with functions that take a file reference number for the System file. All Resource Manager functions recognize both 0 and the actual file reference number as referring to the System file.</p>
<h5 class="tight">Discussion</h5>
<p>Most of the Resource Manager functions assume that the current resource file is the file on whose resource fork they should operate or, in the case of a search, the file where they should begin. In general, the current resource file is the last one whose resource fork your application opened unless you specify otherwise.</p>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/DetachResource" title="DetachResource"></a><a name="//apple_ref/doc/c_ref/DetachResource" title="DetachResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01062" title="DetachResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_14"></a><h3 class="tight">DetachResource</h3>
<p class="spaceabove">Sets the value of a resource’s handle in the resource map in memory to <code>NULL</code> while keeping the resource data in memory.</p>
<p class="spaceabove"><pre>
void DetachResource (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource which you wish to detach. If this parameter doesn’t contain a handle to a resource or if the resource’s <code>resChanged</code> attribute is set, the function does nothing. To determine whether either of these errors occurred, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>After this call, the Resource Manager no longer recognizes the handle as a handle to a resource. However, this function does not release the memory used for the resource data, and the master pointer is still valid. Thus, you can access the resource data directly by using the handle.</p>
<p>If your application subsequently calls a Resource Manager function to get the released resource, the Resource Manager assigns a new handle. You can use <code>DetachResource</code> if you want to access the resource data directly without using Resource Manager functions. You can also use the <code>DetachResource</code> function to keep resource data in memory after closing a resource fork.</p>
<p>To copy a resource and install an entry for the duplicate in the resource map, call <code>DetachResource</code>, then call the <code><a href="reference.html#//apple_ref/c/func/AddResource">AddResource</a></code> function using a different resource ID. </p>
<h5 class="tight">Special Considerations</h5>
<p>Do not use this function to detach a System resource that might be shared by several applications.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTMetaData/index.html#//apple_ref/doc/uid/DTS10003766" target="_top">QTMetaData</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/DetachResourceFile" title="DetachResourceFile"></a><a name="//apple_ref/doc/c_ref/DetachResourceFile" title="DetachResourceFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F11195" title="DetachResourceFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_15"></a><h3 class="tight">DetachResourceFile</h3>
<p class="spaceabove">Removes a resource file from the resource chain.</p>
<p class="spaceabove"><pre>
OSErr DetachResourceFile (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> refNum
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If the file is not currently in the resource chain, this returns <code>resNotFound</code>. Otherwise, the resource file is removed from the resource chain.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/DisposeResErrUPP" title="DisposeResErrUPP"></a><a name="//apple_ref/doc/c_ref/DisposeResErrUPP" title="DisposeResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F11433" title="DisposeResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_16"></a><h3 class="tight">DisposeResErrUPP</h3><p class="spaceabove">Disposes of the universal procedure pointer (UPP) to your callback function.</p><p class="spaceabove"><pre>
void DisposeResErrUPP (
   <a href="reference.html#//apple_ref/doc/c_ref/ResErrUPP">ResErrUPP</a> userUPP
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/FSCreateResFile" title="FSCreateResFile"></a><a name="//apple_ref/doc/c_ref/FSCreateResFile" title="FSCreateResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F16386" title="FSCreateResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_17"></a><h3 class="tight">FSCreateResFile</h3><p class="spaceabove">Creates a file with an empty resource fork.</p><p class="spaceabove"><pre>
void FSCreateResFile (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *parentRef,
   <!--a-->UniCharCount<!--/a--> nameLength,
   const <!--a-->UniChar<!--/a--> *name,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSCatalogInfoBitmap" target="_top">FSCatalogInfoBitmap</a> whichInfo,
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSCatalogInfo" target="_top">FSCatalogInfo</a> *catalogInfo,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *newRef,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *newSpec
);
</pre></p><h5 class="tight">Discussion</h5><p>This function is not recommended. You should use a file’s data fork instead of its resource fork to store resource data.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/FSCreateResourceFile" title="FSCreateResourceFile"></a><a name="//apple_ref/doc/c_ref/FSCreateResourceFile" title="FSCreateResourceFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F16876" title="FSCreateResourceFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_18"></a><h3 class="tight">FSCreateResourceFile</h3>
<p class="spaceabove">Creates a file with a named fork for storing resource data.</p>
<p class="spaceabove"><pre>
OSErr FSCreateResourceFile (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *parentRef,
   <!--a-->UniCharCount<!--/a--> nameLength,
   const <!--a-->UniChar<!--/a--> *name,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSCatalogInfoBitmap" target="_top">FSCatalogInfoBitmap</a> whichInfo,
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSCatalogInfo" target="_top">FSCatalogInfo</a> *catalogInfo,
   <!--a-->UniCharCount<!--/a--> forkNameLength,
   const <!--a-->UniChar<!--/a--> *forkName,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *newRef,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *newSpec
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>parentRef</em></dt>
<dd><p>A pointer to the directory in which the resource file is to be created.</p></dd>
<dt><em>nameLength</em></dt>
<dd><p>The number of Unicode characters in the file's name.</p></dd>
<dt><em>name</em></dt>
<dd><p>A pointer to the Unicode name of the new resource file.</p></dd>
<dt><em>whichInfo</em></dt>
<dd><p>The catalog information fields to set. See the File Manager documentation for a description of the <code>FSCatalogInfoBitmap</code> data type.</p></dd>
<dt><em>catalogInfo</em></dt>
<dd><p>A pointer to the values for the catalog information fields. This pointer may be set to <code>NULL</code>. See the File Manager documentation for a description of the <code>FSCatalogInfo</code> data type.</p></dd>
<dt><em>forkNameLength</em></dt>
<dd><p>The number of Unicode characters in the fork’s name.</p></dd>
<dt><em>forkName</em></dt>
<dd><p>A pointer to the Unicode name of the fork to initialize. If you pass <code>NULL</code> in this parameter, the data fork is used.</p></dd>
<dt><em>newRef</em></dt>
<dd><p>A pointer to a variable allocated by the caller, or <code>NULL</code>. On return, the new resource file.</p></dd>
<dt><em>newSpec</em></dt>
<dd><p>A pointer to a variable allocated by the caller, or <code>NULL</code>. On return, the new resource file.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>This function creates a new file and initializes the specified fork for storing resource data. If you don’t specify the fork name, the data fork is used. This function makes it possible to store resources in the data fork of a file.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/FSCreateResourceFork" title="FSCreateResourceFork"></a><a name="//apple_ref/doc/c_ref/FSCreateResourceFork" title="FSCreateResourceFork"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F18274" title="FSCreateResourceFork"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_19"></a><h3 class="tight">FSCreateResourceFork</h3>
<p class="spaceabove">Creates a named fork for storing resource data.</p>
<p class="spaceabove"><pre>
OSErr FSCreateResourceFork (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *ref,
   <!--a-->UniCharCount<!--/a--> forkNameLength,
   const <!--a-->UniChar<!--/a--> *forkName,
   UInt32 flags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ref</em></dt>
<dd><p>A pointer to the file to which to add the fork.</p></dd>
<dt><em>forkNameLength</em></dt>
<dd><p>The number of Unicode characters in the fork’s name.</p></dd>
<dt><em>forkName</em></dt>
<dd><p>A pointer to the Unicode name of the fork to initialize. If you pass <code>NULL</code> in this parameter, the data fork is used.</p></dd>
<dt><em>flags</em></dt>
<dd><p>A value of type <code>UInt32</code>. You should pass <code>0</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>This function creates the specified fork in an existing file and initializes the fork for storing resources. If the named fork already exists, this function does nothing and returns <code>errFSForkExists</code>. If you don’t specify the fork name, the data fork is used. This function makes it possible to store resources in the data fork of a file.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/FSOpenOrphanResFile" title="FSOpenOrphanResFile"></a><a name="//apple_ref/doc/c_ref/FSOpenOrphanResFile" title="FSOpenOrphanResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-SW1" title="FSOpenOrphanResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_20"></a><h3 class="tight">FSOpenOrphanResFile</h3><p class="spaceabove">Opens a resource file that is persistent across all contexts.</p><p class="spaceabove"><pre>
OSErr FSOpenOrphanResFile (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *ref,
   <!--a-->SignedByte<!--/a--> permission,
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> *refNum
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>ref</em></dt><dd><p>A pointer to the resource file to open.</p></dd><dt><em>permission</em></dt><dd><p>A constant indicating the type of access with which to open the resource fork. For a description of the types of access you can request, see File Access Permission Constants in <em><a href="../../File_Manager/index.html#//apple_ref/doc/uid/TP30000107" target="_top">File Manager Reference</a></em>.</p></dd><dt><em>refNum</em></dt><dd><p>A pointer to a variable allocated by the caller. On return, the reference number for accessing the open fork.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This function loads a map and all preloaded resources into the system context and detaches the specified file from the context in which it was opened. If the file is already in the resource chain and a new instance is not opened, this function returns <code>paramErr</code>. Use this function with care, as it may fail if the map is very large or many resources are preloaded.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/FSOpenResFile" title="FSOpenResFile"></a><a name="//apple_ref/doc/c_ref/FSOpenResFile" title="FSOpenResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F16393" title="FSOpenResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_21"></a><h3 class="tight">FSOpenResFile</h3><p class="spaceabove">Opens the resource fork in a file specified with an <code>FSRef</code> structure.</p><p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> FSOpenResFile (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *ref,
   SInt8 permission
);
</pre></p><h5 class="tight">Discussion</h5><p>This function is not recommended. You should use a file’s data fork instead of its resource fork to store resource data.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/FSOpenResourceFile" title="FSOpenResourceFile"></a><a name="//apple_ref/doc/c_ref/FSOpenResourceFile" title="FSOpenResourceFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F16877" title="FSOpenResourceFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_22"></a><h3 class="tight">FSOpenResourceFile</h3>
<p class="spaceabove">Opens a named fork in an existing resource file.</p>
<p class="spaceabove"><pre>
OSErr FSOpenResourceFile (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *ref,
   <!--a-->UniCharCount<!--/a--> forkNameLength,
   const <!--a-->UniChar<!--/a--> *forkName,
   SInt8 permissions,
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> *refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ref</em></dt>
<dd><p>A pointer to the file containing the fork to open.</p></dd>
<dt><em>forkNameLength</em></dt>
<dd><p>The number of Unicode characters in the fork’s name.</p></dd>
<dt><em>forkName</em></dt>
<dd><p>A pointer to the Unicode name of the fork to open. If you pass <code>NULL</code> in this parameter, the data fork is used.</p></dd>
<dt><em>permissions</em></dt>
<dd><p>A constant indicating the type of access with which to open the fork. For a description of the types of access you can request, see File Access Permission Constants in <em><a href="../../File_Manager/index.html#//apple_ref/doc/uid/TP30000107" target="_top">File Manager Reference</a></em>.</p></dd>
<dt><em>refNum</em></dt>
<dd><p>A pointer to a variable allocated by the caller. On return, the reference number for accessing the open fork.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>This function allows any named fork of a file to be used for storing resources. Passing in a null fork name will result in the data fork being used. You should use a file’s data fork to store resource data.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/FSResourceFileAlreadyOpen" title="FSResourceFileAlreadyOpen"></a><a name="//apple_ref/doc/c_ref/FSResourceFileAlreadyOpen" title="FSResourceFileAlreadyOpen"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F16399" title="FSResourceFileAlreadyOpen"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_27"></a><h3 class="tight">FSResourceFileAlreadyOpen</h3>
<p class="spaceabove">Checks whether a resource file is open.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> FSResourceFileAlreadyOpen (
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *resourceFileRef,
   <!--a-->Boolean<!--/a--> *inChain,
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> *refNum
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>resourceFileRef</em></dt><dd><p>The resource file to check.</p></dd><dt><em>inChain</em></dt><dd><p>A pointer to a variable allocated by the caller. On return, <code>true</code> if the resource file is in the resource chain, <code>false</code> otherwise.</p></dd><dt><em>refNum</em></dt><dd><p>A pointer to a variable allocated by the caller. On return, the reference number of the file if it is open.</p></dd></dl><h5 class="tight">Return Value</h5><p>This function returns <code>true</code> if the resource file is already open and known by the Resource Manager—for example, it is either in the current resource chain or it is a detached resource file.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/Get1IndResource" title="Get1IndResource"></a><a name="//apple_ref/doc/c_ref/Get1IndResource" title="Get1IndResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01633" title="Get1IndResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_28"></a><h3 class="tight">Get1IndResource</h3>
<p class="spaceabove">Returns a handle to a resource of a given type in the current resource file.</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> Get1IndResource (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType,
   <!--a-->ResourceIndex<!--/a--> index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>A resource type.</p></dd>
<dt><em>index</em></dt>
<dd><p>An integer ranging from 1 to the number of resources of a given type returned by the <code><a href="reference.html#//apple_ref/c/func/Count1Resources">Count1Resources</a></code> function, which is the number of resources of that type in the current resource file.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A handle to a resource of the given type. If you call <code>Get1IndResource</code> repeatedly over the entire range of the index, it returns handles to all resources of the given type in the current resource file. If you provide an index that is either 0 or negative, the function returns <code>NULL</code>, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. If the given index is larger than the value returned by <code><a href="reference.html#//apple_ref/c/func/Count1Resources">Count1Resources</a></code>, <code><a href="reference.html#//apple_ref/c/func/Get1IndResource">Get1IndResource</a></code> returns <code>NULL</code>, and <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> returns the result code <code>resNotFound</code>. If the resource to be read won’t fit into memory, the function returns <code>NULL</code>, and <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> returns the appropriate result code.</p>
<h5 class="tight">Discussion</h5>
<p>The function reads the resource data into memory if it’s not already there, unless you’ve called the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function with the <code>load</code> parameter set to <code>FALSE</code>. If you’ve called <code>SetResLoad</code> with the <code>load</code> parameter set to <code>FALSE</code> and the data isn’t already in memory, <code><a href="reference.html#//apple_ref/c/func/Get1IndResource">Get1IndResource</a></code> returns an empty handle (that is, a handle whose master pointer is set to <code>NULL</code>). This can also happen if you read resource data for a purgeable resource into memory and then call <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> with the <code>load</code> parameter set to <code>FALSE</code>. If the resource data is later purged and you call the <code><a href="reference.html#//apple_ref/c/func/Get1IndResource">Get1IndResource</a></code> function, the function returns an empty handle. You should test for an empty handle in these situations. To make the handle a valid handle to resource data in memory, you can call the <code><a href="reference.html#//apple_ref/c/func/LoadResource">LoadResource</a></code> function.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/Get1IndType" title="Get1IndType"></a><a name="//apple_ref/doc/c_ref/Get1IndType" title="Get1IndType"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01634" title="Get1IndType"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_29"></a><h3 class="tight">Get1IndType</h3>
<p class="spaceabove">Gets a resource types available in the current resource file.</p>
<p class="spaceabove"><pre>
void Get1IndType (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> *theType,
   <!--a-->ResourceIndex<!--/a--> index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>On return, the resource type with the specified index in the current resource file.</p><p>You can call this function repeatedly over the entire range of the index to get all the resource types available in the current resource file. If the given index isn’t in the range from 1 to the number of resource types as returned by <code>Count1Types</code>, this parameter contains four null characters (ASCII code 0).</p></dd>
<dt><em>index</em></dt>
<dd><p>An integer ranging from 1 to the number of resource types in the current resource file, as returned by the <code><a href="reference.html#//apple_ref/c/func/Count1Types">Count1Types</a></code> function. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/Get1NamedResource" title="Get1NamedResource"></a><a name="//apple_ref/doc/c_ref/Get1NamedResource" title="Get1NamedResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01635" title="Get1NamedResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_30"></a><h3 class="tight">Get1NamedResource</h3>
<p class="spaceabove">Gets a named resource in the current resource file.</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> Get1NamedResource (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> name
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>The resource type of the resource about which you wish to retrieve data.</p></dd>
<dt><em>name</em></dt>
<dd><p>A name that uniquely identifies the resource about which you wish to retrieve data.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the function finds an entry for the resource in the current resource file’s resource map and the entry contains a valid handle, the function returns that handle. If the entry contains a handle whose value is <code>NULL</code>, and if you haven’t called the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function with the <code>load</code> parameter set to <code>FALSE</code>, <code>Get1NamedResource</code> attempts to read the resource into memory. If it can’t find the resource data, the function returns <code>NULL</code>, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. The <code>Get1NamedResource</code> function also returns <code>NULL</code> if the resource data to be read into memory won’t fit, in which case <code>ResError</code> returns an appropriate Memory Manager result code. </p><p>If you call this function with a resource type that can’t be found in the resource map of the current resource file, the function returns <code>NULL</code>, but <code>ResError</code> returns the result code <code>noErr</code>. You should always check that the value of the returned handle is not <code>NULL</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The function searches the current resource file’s resource map in memory for the specified resource. You can change the search order by calling the <code><a href="reference.html#//apple_ref/c/func/UseResFile">UseResFile</a></code> function before <code>Get1NamedResource</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/Get1Resource" title="Get1Resource"></a><a name="//apple_ref/doc/c_ref/Get1Resource" title="Get1Resource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01636" title="Get1Resource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_31"></a><h3 class="tight">Get1Resource</h3>
<p class="spaceabove">Gets resource data for a resource in the current resource file.</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> Get1Resource (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType,
   <a href="reference.html#//apple_ref/doc/c_ref/ResID">ResID</a> theID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>The resource type of the resource about which you wish to retrieve data.</p></dd>
<dt><em>theID</em></dt>
<dd><p>An integer that uniquely identifies the resource about which you wish to retrieve data.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the function finds an entry for the resource in the current resource file’s resource map and the entry contains a valid handle, it returns that handle. If the entry contains a handle whose value is <code>NULL</code>, and if you haven’t called the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function with the <code>load</code> parameter set to <code>FALSE</code>, <code>Get1Resource</code> attempts to read the resource into memory.</p><p>If the function can’t find the resource data, it returns <code>NULL</code>, and <code>ResError</code> returns the result code <code>resNotFound</code>. The <code>Get1Resource</code> function also returns <code>NULL</code> if the resource data to be read into memory won’t fit, in which case <code>ResError</code> returns an appropriate Memory Manager result code.</p><p>If you call this function with a resource type that can’t be found in the resource map of the current resource file, the function returns <code>NULL</code>, but <code>ResError</code> returns the result code <code>noErr</code>. You should always check that the value of the returned handle is not <code>NULL</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The function searches the current resource file’s resource map in memory for the specified resource.</p>
<p>You can change the resource map search order by calling the <code><a href="reference.html#//apple_ref/c/func/UseResFile">UseResFile</a></code> function before <code>Get1Resource</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTMetaData/index.html#//apple_ref/doc/uid/DTS10003766" target="_top">QTMetaData</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetIndResource" title="GetIndResource"></a><a name="//apple_ref/doc/c_ref/GetIndResource" title="GetIndResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01810" title="GetIndResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_32"></a><h3 class="tight">GetIndResource</h3>
<p class="spaceabove">Returns a handle to a resource of a given type in resource forks open to your application.</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> GetIndResource (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType,
   <!--a-->ResourceIndex<!--/a--> index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>A resource type. </p></dd>
<dt><em>index</em></dt>
<dd><p>An integer ranging from 1 to the number of resources of a given type returned by the <code><a href="reference.html#//apple_ref/c/func/CountResources">CountResources</a></code> function, which is the number of resources of that type in all resource forks open to your application. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A handle to a resource of the given type. If you call this function repeatedly over the entire range of the index, it returns handles to all resources of the given type in all resource forks open to your application. The function returns handles for all resources in the most recently opened resource fork first, and then for those in resource forks opened earlier in reverse chronological order. If you provide an index to that is either 0 or negative, the function returns <code>NULL</code>, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. If the given index is larger than the value returned by <code>CountResources</code>, the function returns <code>NULL</code>, and <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> returns the result code <code>resNotFound</code>. If the resource to be read won’t fit into memory, the function returns <code>NULL</code>, and <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> returns the appropriate result code. </p>
<h5 class="tight">Discussion</h5>
<p>This function reads the resource data into memory if it’s not already there, unless you’ve called the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function with the <code>load</code> parameter set to <code>FALSE</code>.</p>
<p>If you’ve called <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> with the <code>load</code> parameter set to <code>FALSE</code> and the data isn’t already in memory, the function returns an empty handle (a handle whose master pointer is set to NULL). This can also happen if you read resource data for a purgeable resource into memory and then call <code>SetResLoad</code> with the <code>load</code> parameter set to <code>FALSE</code>. If the resource data is later purged and you call the <code>GetIndResource</code> function, the function returns an empty handle. You should test for an empty handle in these situations. To make the handle a valid handle to resource data in memory, you can call the <code><a href="reference.html#//apple_ref/c/func/LoadResource">LoadResource</a></code> function.</p>
<p>The <code><a href="reference.html#//apple_ref/c/func/UseResFile">UseResFile</a></code> function affects which file the Resource Manager searches first when looking for a particular resource; this is not the case when you use <code>GetIndResource</code> to get an indexed resource.</p>
<p>If you want to find out how many resources of a given type are in a particular resource fork, set the current resource file to that resource fork, then call the <code><a href="reference.html#//apple_ref/c/func/Count1Resources">Count1Resources</a></code> function and use the <code><a href="reference.html#//apple_ref/c/func/Get1IndResource">Get1IndResource</a></code> function to get handles to the resources of that type. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetIndType" title="GetIndType"></a><a name="//apple_ref/doc/c_ref/GetIndType" title="GetIndType"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01813" title="GetIndType"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_33"></a><h3 class="tight">GetIndType</h3>
<p class="spaceabove">Gets a resource type available in resource forks open to your application.</p>
<p class="spaceabove"><pre>
void GetIndType (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> *theType,
   <!--a-->ResourceIndex<!--/a--> index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>On return, a pointer to the resource type for the specified index among all the resource forks open to your application.</p><p>You can call this function repeatedly over the entire range of the index to get all the resource types available in all resource forks open to your application. If the given index isn’t in the range from 1 to the number of resource types as returned by <code>CountTypes</code>, this parameter contains four null characters (ASCII code 0).</p></dd>
<dt><em>index</em></dt>
<dd><p>An integer ranging from 1 to the number of resource types in all resource forks open to your application, as returned by <code><a href="reference.html#//apple_ref/c/func/CountTypes">CountTypes</a></code> function. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetMaxResourceSize" title="GetMaxResourceSize"></a><a name="//apple_ref/doc/c_ref/GetMaxResourceSize" title="GetMaxResourceSize"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01838" title="GetMaxResourceSize"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_34"></a><h3 class="tight">GetMaxResourceSize</h3>
<p class="spaceabove">Returns the approximate size of a resource. </p>
<p class="spaceabove"><pre>
long GetMaxResourceSize (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource whose size you wish to retrieve. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The approximate size, in bytes, of the resource. Unlike the <code><a href="reference.html#//apple_ref/c/func/GetResourceSizeOnDisk">GetResourceSizeOnDisk</a></code> function, this function does not check the resource on disk instead, it either checks the resource size in memory or, if the resource is not in memory, calculates its size on the basis of information in the resource map in memory. This gives you an approximate size for the resource that you can count on as the resource’s maximum size. It’s possible that the resource is actually smaller than the offsets in the resource map indicate because the file has not yet been compacted. If you want the exact size of a resource on disk, either call <code>GetResourceSizeOnDisk</code> or call the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> function before calling <code>GetMaxResourceSize</code>. If the handle isn’t a handle to a valid resource, the function returns –1, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetNamedResource" title="GetNamedResource"></a><a name="//apple_ref/doc/c_ref/GetNamedResource" title="GetNamedResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01933" title="GetNamedResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_35"></a><h3 class="tight">GetNamedResource</h3>
<p class="spaceabove">Gets a named resource.</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> GetNamedResource (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> name
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>The resource type of the resource about which you wish to retrieve data. </p></dd>
<dt><em>name</em></dt>
<dd><p>A name that uniquely identifies the resource about which you wish to retrieve data. Strings passed in this parameter are case-sensitive. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the function finds the specified resource entry in one of the resource maps and the entry contains a valid handle, the function returns that handle. If the entry contains a handle whose value is <code>NULL</code>, and if you haven’t called the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function with the <code>load</code> parameter set to <code>FALSE</code>, <code>GetNamedResource</code> attempts to read the resource into memory.</p><p>If the function can’t find the resource data, it returns <code>NULL</code>, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. The function also returns <code>NULL</code> if the resource data to be read into memory won’t fit, in which case <code>ResError</code> returns an appropriate Memory Manager result code. If you call <code>GetNamedResource</code> with a resource type that can’t be found in any of the resource maps of the open resource forks, the function returns <code>NULL</code> as well, but <code>ResError</code> returns the result code <code>noErr</code>. You should always check that the value of the returned handle is not <code>NULL</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The function searches the resource maps in memory for the specified resource. The resource maps in memory, which represent all the open resource forks, are arranged as a linked list. When the function searches this list, it starts with the current resource file and progresses through the list in order (that is, in reverse chronological order in which the resource forks were opened) until it finds the resource’s entry in one of the resource maps.</p>
<p>You can change the resource map search order by calling the <code><a href="reference.html#//apple_ref/c/func/UseResFile">UseResFile</a></code> function before <code>GetNamedResource</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetNextFOND" title="GetNextFOND"></a><a name="//apple_ref/doc/c_ref/GetNextFOND" title="GetNextFOND"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01945" title="GetNextFOND"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_36"></a><h3 class="tight">GetNextFOND</h3>
<p class="spaceabove">Gets the next FOND handle.</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> GetNextFOND (
   <!--a-->Handle<!--/a--> fondHandle
);
</pre></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetNextResourceFile" title="GetNextResourceFile"></a><a name="//apple_ref/doc/c_ref/GetNextResourceFile" title="GetNextResourceFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F14299" title="GetNextResourceFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_37"></a><h3 class="tight">GetNextResourceFile</h3>
<p class="spaceabove">Retrieves the next resource file in the resource chain.</p>
<p class="spaceabove"><pre>
OSErr GetNextResourceFile (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> curRefNum,
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> *nextRefNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>curRefNum</em></dt>
<dd><p>A value of type SInt16 representing the current reference number of a resource file.</p></dd>
<dt><em>nextRefNum</em></dt>
<dd><p>A pointer to a value of type SInt16. On return, this points to the next resource file in the resource chain.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p><code>GetNextResourceFile</code> can be used to iterate over resource files in the resource chain. By passing a valid reference number in the <code>curRefNum</code> parameter, the function returns the reference number of the next file in the resource chain. If the resource file specified by the <code>curRefNum</code> parameter is not found in the resource chain, the <code>GetNextResourceFile</code> function returns the error code <code>resFNotFound</code>. When the end of the chain is reached <code>GetNextResourceFile</code> returns <code>noErr</code> and the value of the <code>nextRefNum</code> parameter is <code>NIL</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetResAttrs" title="GetResAttrs"></a><a name="//apple_ref/doc/c_ref/GetResAttrs" title="GetResAttrs"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01988" title="GetResAttrs"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_38"></a><h3 class="tight">GetResAttrs</h3>
<p class="spaceabove">Gets a resource’s attributes.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResAttributes">ResAttributes</a> GetResAttrs (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource whose attributes you wish to retrieve. If the value of this parameter isn’t a handle to a valid resource, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The resource’s attributes as recorded in its entry in the resource map in memory. The function returns the resource’s attributes in the low-order byte of the function result. Each attribute is identified by a specific bit in the low-order byte. If the bit corresponding to an attribute contains 1, then that attribute is set if the bit contains 0, then that attribute is not set.</p>
<h5 class="tight">Discussion</h5>
<p>To change a resource’s attributes in the resource map in memory, use the <code><a href="reference.html#//apple_ref/c/func/SetResAttrs">SetResAttrs</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetResFileAttrs" title="GetResFileAttrs"></a><a name="//apple_ref/doc/c_ref/GetResFileAttrs" title="GetResFileAttrs"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01989" title="GetResFileAttrs"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_39"></a><h3 class="tight">GetResFileAttrs</h3>
<p class="spaceabove">Gets the attributes of a resource fork.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResFileAttributes">ResFileAttributes</a> GetResFileAttrs (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>A file reference number for the resource fork whose attributes you want to get. Specify 0 in this parameter to get the attributes of the System file’s resource fork.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The attributes of the file’s resource fork. If there’s no open resource fork for the given file reference number, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resFNotFound</code>. Like individual resources, resource forks have attributes that are specified by bits in the low-order byte of a word. </p>
<h5 class="tight">Discussion</h5>
<p>The Resource Manager sets the <code>mapChanged</code> attribute for the resource fork when you call the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code>, the <code><a href="reference.html#//apple_ref/c/func/AddResource">AddResource</a></code>, or the <code><a href="reference.html#//apple_ref/c/func/RemoveResource">RemoveResource</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetResInfo" title="GetResInfo"></a><a name="//apple_ref/doc/c_ref/GetResInfo" title="GetResInfo"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01990" title="GetResInfo"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_40"></a><h3 class="tight">GetResInfo</h3>
<p class="spaceabove">Gets a resource’s resource ID, resource type, and resource name.</p>
<p class="spaceabove"><pre>
void GetResInfo (
   <!--a-->Handle<!--/a--> theResource,
   <a href="reference.html#//apple_ref/doc/c_ref/ResID">ResID</a> *theID,
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> *theType,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> name
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource for which you want to retrieve information. If the handle isn’t a valid handle to a resource, the function does nothing to determine whether this has occurred, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p></dd>
<dt><em>theID</em></dt>
<dd><p>On return, a pointer to the resource ID of the specified resource.</p></dd>
<dt><em>theType</em></dt>
<dd><p>On return, a pointer to the resource type of the specified resource.</p></dd>
<dt><em>name</em></dt>
<dd><p>On return, the name of the specified resource.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>To set a resource’s ID, resource type, or resource name, use the <code><a href="reference.html#//apple_ref/c/func/SetResInfo">SetResInfo</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetResource" title="GetResource"></a><a name="//apple_ref/doc/c_ref/GetResource" title="GetResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01991" title="GetResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_41"></a><h3 class="tight">GetResource</h3>
<p class="spaceabove">Gets resource data for a resource specified by resource type and resource ID.</p>
<p class="spaceabove"><pre>
<!--a-->Handle<!--/a--> GetResource (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType,
   <a href="reference.html#//apple_ref/doc/c_ref/ResID">ResID</a> theID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>The resource type of the resource about which you wish to retrieve data. </p></dd>
<dt><em>theID</em></dt>
<dd><p>An integer that uniquely identifies the resource about which you wish to retrieve data.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>If the function finds the specified resource entry in one of the resource maps and the entry contains a valid handle, it returns that handle. If the entry contains a a handle whose value is <code>NULL</code>, and if you haven’t called the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function with the <code>load</code> parameter set to <code>FALSE</code>, <code>GetResource</code> attempts to read the resource into memory.</p><p>If the function can’t find the resource data, it returns <code>NULL</code>, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. The <code>GetResource</code> function also returns <code>NULL</code> if the resource data to be read into memory won’t fit, in which case <code>ResError</code> returns an appropriate Memory Manager result code. If you call <code>GetResource</code> with a resource type that can’t be found in any of the resource maps of the open resource forks, the function returns <code>NULL</code>, but <code>ResError</code> returns the result code <code>noErr</code>. You should always check that the value of the returned handle is not <code>NULL</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The function searches the resource maps in memory for the specified resource. The resource maps in memory, which represent all the open resource forks, are arranged as a linked list. When searching this list, the function starts with the current resource file and progresses through the list (that is, searching the resource maps in reverse order of opening) until it finds the resource’s entry in one of the resource maps. </p>
<p>Before reading the resource data into memory, the Resource Manager calls the Memory Manager to allocate a relocatable block for the resource data. The Memory Manager allocates the block, assigns a master pointer to the block, and returns to the Resource Manager a pointer to the master pointer. The Resource Manager then installs this handle in the resource map. </p>
<p>You can change the resource map search order by calling the <code><a href="reference.html#//apple_ref/c/func/UseResFile">UseResFile</a></code> function before calling <code>GetResource</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetResourceSizeOnDisk" title="GetResourceSizeOnDisk"></a><a name="//apple_ref/doc/c_ref/GetResourceSizeOnDisk" title="GetResourceSizeOnDisk"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F01992" title="GetResourceSizeOnDisk"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_42"></a><h3 class="tight">GetResourceSizeOnDisk</h3>
<p class="spaceabove">Returns the exact size of a resource. </p>
<p class="spaceabove"><pre>
long GetResourceSizeOnDisk (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource whose size you wish to retrieve.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The exact size, in bytes, of the resource. If the handle isn’t a handle to a valid resource, the function returns –1, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function checks the resource on disk, not in memory. You can call this function before reading a resource into memory to make sure there’s enough memory available to do so successfully. </p>
<p>The <code>GetResourceSizeOnDisk</code> function is also available as the <code>SizeResource</code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/GetTopResourceFile" title="GetTopResourceFile"></a><a name="//apple_ref/doc/c_ref/GetTopResourceFile" title="GetTopResourceFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F14304" title="GetTopResourceFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_43"></a><h3 class="tight">GetTopResourceFile</h3>
<p class="spaceabove">Retrieves the topmost resource file in the current resource chain.</p>
<p class="spaceabove"><pre>
OSErr GetTopResourceFile (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> *refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>A pointer to a value of type <code>SInt16</code>. On return, this points to the top most resource file in the current resource chain.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span> If the resource chain is empty, <code>resFNotFound</code> is returned.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/HomeResFile" title="HomeResFile"></a><a name="//apple_ref/doc/c_ref/HomeResFile" title="HomeResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F02890" title="HomeResFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_45"></a><h3 class="tight">HomeResFile</h3>
<p class="spaceabove">Gets the file reference number associated with a particular resource.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> HomeResFile (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource for which you wish to get the associated file reference number.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The file reference number for the resource fork containing the specified resource. If the given handle isn’t a handle to a resource, the function returns –1, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. If <code>HomeResFile</code> returns 0, the resource is in the System file’s resource fork. If it returns 1, the resource is ROM-resident.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/InsertResourceFile" title="InsertResourceFile"></a><a name="//apple_ref/doc/c_ref/InsertResourceFile" title="InsertResourceFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F11635" title="InsertResourceFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_47"></a><h3 class="tight">InsertResourceFile</h3>
<p class="spaceabove">Inserts a resource file into the current resource chain at the specified location.</p>
<p class="spaceabove"><pre>
OSErr InsertResourceFile (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> refNum,
   <!--a-->RsrcChainLocation<!--/a--> where
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>A value of type SInt16 indicating the reference number of the resource file to insert into the resource chain.</p></dd>
<dt><em>where</em></dt>
<dd><p>A value of type RsrcChainLocation indicating where in the resource chain the resource file should be inserted. See the <code>RsrcChainLocation</code> data type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If the file is already in the resource chain, it is removed and reinserted at the specified location. If the file has been detached, it is added to the resource chain at the specified location Returns resFNotFound if it's not currently open.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/InvokeResErrUPP" title="InvokeResErrUPP"></a><a name="//apple_ref/doc/c_ref/InvokeResErrUPP" title="InvokeResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F11874" title="InvokeResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_48"></a><h3 class="tight">InvokeResErrUPP</h3><p class="spaceabove">Calls your callback function.</p><p class="spaceabove"><pre>
void InvokeResErrUPP (
   <a href="../../ErrorHandler/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> thErr,
   <a href="reference.html#//apple_ref/doc/c_ref/ResErrUPP">ResErrUPP</a> userUPP
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/LoadResource" title="LoadResource"></a><a name="//apple_ref/doc/c_ref/LoadResource" title="LoadResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F03705" title="LoadResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_49"></a><h3 class="tight">LoadResource</h3>
<p class="spaceabove">Gets resource data after you’ve called the <code>SetResLoad</code> function with the <code>load</code> parameter set to <code>FALSE</code> or when the resource is purgeable.</p>
<p class="spaceabove"><pre>
void LoadResource (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to a resource. Given this handle, the function reads the resource data into memory. If the resource is already in memory, or if the this parameter doesn’t contain a handle to a resource, then the function does nothing. To determine whether either of these situations occurred, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. If the resource is already in memory, <code>ResError</code> returns <code>noErr</code>; if the handle is not a handle to a resource, <code>ResError</code> returns <code>resNotFound</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If you’ve changed the resource data for a purgeable resource and the resource is purged before being written to the file, the changes will be lost. In this case, this function rereads the original resource from the file’s resource fork. You should use the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code> or <code><a href="reference.html#//apple_ref/c/func/SetResPurge">SetResPurge</a></code> function before calling <code>LoadResource</code> to ensure that changes made to purgeable resources are written to the resource fork.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X 10.0 and later.</li></ul>
<h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/NewResErrUPP" title="NewResErrUPP"></a><a name="//apple_ref/doc/c_ref/NewResErrUPP" title="NewResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F12187" title="NewResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_50"></a><h3 class="tight">NewResErrUPP</h3><p class="spaceabove">Creates a new universal procedure pointer (UPP) to your callback function.</p><p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResErrUPP">ResErrUPP</a> NewResErrUPP (
   <a href="reference.html#//apple_ref/doc/c_ref/ResErrProcPtr">ResErrProcPtr</a> userRoutine
);
</pre></p><h5 class="tight">Return Value</h5><p>See <code><a href="reference.html#//apple_ref/c/tdef/ResErrUPP">ResErrUPP</a></code> for more information.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/ReadPartialResource" title="ReadPartialResource"></a><a name="//apple_ref/doc/c_ref/ReadPartialResource" title="ReadPartialResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06443" title="ReadPartialResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_52"></a><h3 class="tight">ReadPartialResource</h3>
<p class="spaceabove">Reads part of a resource into memory and work with a small subsection of a large resource.</p>
<p class="spaceabove"><pre>
void ReadPartialResource (
   <!--a-->Handle<!--/a--> theResource,
   long offset,
   void *buffer,
   long count
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource you wish to read. </p></dd>
<dt><em>offset</em></dt>
<dd><p>The beginning of the resource subsection to be read, measured in bytes from the beginning of the resource. </p></dd>
<dt><em>buffer</em></dt>
<dd><p>A pointer to the buffer into which the partial resource is to be read. Your application is responsible for the buffer’s memory management. You cannot use the <code><a href="reference.html#//apple_ref/c/func/ReleaseResource">ReleaseResource</a></code> function to release the memory the buffer occupies. </p></dd>
<dt><em>count</em></dt>
<dd><p>The length of the resource subsection.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function always tries to read resources from disk. If a resource is already in memory, the Resource Manager still reads it from disk, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resourceInMemory</code>. If you try to read past the end of a resource or the value of the <code>offset</code> parameter is out of bounds, <code>ResError</code> returns the result code <code>inputOutOfBounds</code>. If the handle in the parameter <code>theResource</code> doesn’t refer to a resource in an open resource fork, <code>ResError</code> returns the result code <code>resNotFound</code>.</p>
<p>You may experience problems if you have a copy of a resource in memory when you are using the partial resource functions. If you have modified the copy in memory and then access the resource on disk using this function, the function reads the data on disk, not the data in memory, which is referenced through the resource’s handle.</p>
<p>When using partial resource functions, you should call the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function, specifying <code>FALSE</code> for the <code>load</code> parameter, before you call <code>GetResource</code>. Using the <code>SetResLoad</code> function prevents the Resource Manager from reading the entire resource into memory. Be sure to restore the normal state by calling <code>SetResLoad</code> again, with the <code>load</code> parameter set to <code>TRUE</code>, immediately after you call the <code><a href="reference.html#//apple_ref/c/func/GetResource">GetResource</a></code> function. Then use <code>ReadPartialResource</code> to read a portion of the resource into a buffer.</p>
<p>If the entire resource is in memory and you want only part of its data, it’s faster to use the Memory Manager function <code>BlockMove</code> instead of the <code>ReadPartialResource</code> function. If you read a partial resource into memory and then change its size, you can use the <code><a href="reference.html#//apple_ref/c/func/SetResourceSize">SetResourceSize</a></code> function to change the entire resource’s size on disk as necessary </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/ReleaseResource" title="ReleaseResource"></a><a name="//apple_ref/doc/c_ref/ReleaseResource" title="ReleaseResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06498" title="ReleaseResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_53"></a><h3 class="tight">ReleaseResource</h3>
<p class="spaceabove">Releases the memory a resource occupies when you have finished using it.</p>
<p class="spaceabove"><pre>
void ReleaseResource (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource which you wish to release. The function sets the master pointer of the resource’s handle in the resource map in memory to <code>NULL</code>. If your application previously obtained a handle to that resource, the handle is no longer valid. If your application subsequently calls the Resource Manager to get the released resource, the Resource Manager assigns a new handle. </p><p>If the given resource isn’t a handle to a resource, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. Be aware that <code>ReleaseResource</code> won’t release a resource whose <code>resChanged</code> attribute has been set, but <code>ResError</code> still returns the result code <code>noErr</code>.</p></dd></dl>
<h5 class="tight">Special Considerations</h5>
<p>Do not use this function to release a System resource that might be shared by several applications.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/RemoveResource" title="RemoveResource"></a><a name="//apple_ref/doc/c_ref/RemoveResource" title="RemoveResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06512" title="RemoveResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_54"></a><h3 class="tight">RemoveResource</h3>
<p class="spaceabove">Removes a resource’s entry from the current resource file’s resource map in memory. </p>
<p class="spaceabove"><pre>
void RemoveResource (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource which you wish to detach. If the <code>resProtected</code> attribute for the resource is set or if this parameter doesn’t contain a handle to a resource, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>rmvResFailed</code>. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>RemoveResource</code> function does not dispose of the handle you pass into it; to do so you must call the Memory Manager function <code>DisposeHandle</code> after calling <code>RemoveResource</code>. You should dispose the handle if you want to release the memory before updating or closing the resource fork.</p>
<p>If you’ve removed a resource, the Resource Manager writes the entire resource map when it updates the resource fork, and all changes made to the resource map become permanent. If you want any of the changes to be temporary, you should restore the original information before the Resource Manager updates the resource fork.</p>
<p>The <code>RemoveResource</code> function is also available as the <code>RmveResource</code> function.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/ResError" title="ResError"></a><a name="//apple_ref/doc/c_ref/ResError" title="ResError"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06525" title="ResError"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_55"></a><h3 class="tight">ResError</h3>
<p class="spaceabove">Determines what error occurred, if any, after calling a Resource Manager function. </p>
<p class="spaceabove"><pre>
OSErr ResError (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP30000154-CH5g-RCM0083">“Resource Manager Result Codes.”</a></span> If no error occurred, the function returns <code>noErr</code>. If an error occurs at the Resource Manager level, the function returns one of the result codes specific to the Resource Manager. If an error occurs at the Operating System level, the function returns an Operating System result code. In certain cases, the <code>ResError</code> function returns <code>noErr</code> even though a Resource Manager function was unable to perform the requested operation. See the individual function descriptions for details about the circumstances under which this happens.</p>
<h5 class="tight">Discussion</h5>
<p>Resource Manager functions do not report error information directly. Instead, after calling a Resource Manager function, your application should call this function to determine whether an error occurred. You also can use this function to check for an error after application startup (system software opens the resource fork of your application during application startup).</p>
<p>Resource Manager functions usually return <code>NULL</code> or –1 as the function result when there’s an error. For Resource Manager functions that return –1, your application can call the <code>ResError</code> function to determine the specific error that occurred. For Resource Manager functions that return handles, your application should always check whether the value of the returned handle is <code>NULL</code>. If it is, your application can use this function to obtain specific information about the nature of the error. Note, however, that in some cases <code>ResError</code> returns <code>noErr</code> even though the value of the returned handle is <code>NULL</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTMetaData/index.html#//apple_ref/doc/uid/DTS10003766" target="_top">QTMetaData</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/SetResAttrs" title="SetResAttrs"></a><a name="//apple_ref/doc/c_ref/SetResAttrs" title="SetResAttrs"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06956" title="SetResAttrs"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_56"></a><h3 class="tight">SetResAttrs</h3>
<p class="spaceabove">Sets a resource’s attributes in the resource map in memory.</p>
<p class="spaceabove"><pre>
void SetResAttrs (
   <!--a-->Handle<!--/a--> theResource,
   <a href="reference.html#//apple_ref/doc/c_ref/ResAttributes">ResAttributes</a> attrs
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource whose attributes you wish to set. If the value of this parameter isn’t a valid handle to a resource, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. </p></dd>
<dt><em>attrs</em></dt>
<dd><p>The resource attributes to set. The <code>resProtected</code> attribute changes immediately. Other attribute changes take effect the next time the specified resource is read into memory but are not made permanent until the Resource Manager updates the resource fork. </p><p>Each attribute is identified by a specific bit in the low-order byte of a word. If the bit corresponding to an attribute contains 1, then that attribute is set; if the bit contains 0, then that attribute is not set.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function changes the information in the resource map in memory, not in the file on disk. If you want the Resource Manager to write the modified resource map to disk after a subsequent call to the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> function or when your application terminates, call the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code> function after you call <code>SetResAttrs</code>.</p>
<p>Do not use this function to change a purgeable resource. If you make a purgeable resource nonpurgeable by setting the <code>resPurgeable</code> attribute with this function, the resource doesn’t become nonpurgeable until the next time the specified resource is read into memory. Thus, the resource might be purged while you’re changing it.</p>
<p>You can check for errors using the <code>ResError</code> function. <code>SetResAttrs</code> does not return an error if you are setting the attributes of a resource in a resource file that has a read-only resource map. To find out whether this is the case, use the <code><a href="reference.html#//apple_ref/c/func/GetResAttrs">GetResAttrs</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/SetResFileAttrs" title="SetResFileAttrs"></a><a name="//apple_ref/doc/c_ref/SetResFileAttrs" title="SetResFileAttrs"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06957" title="SetResFileAttrs"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_57"></a><h3 class="tight">SetResFileAttrs</h3>
<p class="spaceabove">Sets a resource fork’s attributes.</p>
<p class="spaceabove"><pre>
void SetResFileAttrs (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> refNum,
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileAttributes">ResFileAttributes</a> attrs
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>A file reference number for the resource fork whose attributes you want to set. If this value is 0, it represents the System file’s resource fork. However, you shouldn’t change the attributes of the System file’s resource fork. If there’s no resource fork with the given reference number, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>noErr</code>. </p></dd>
<dt><em>attrs</em></dt>
<dd><p>The attributes to set. Like individual resources, resource forks have attributes that are specified by bits in the low-order byte of a word. When the Resource Manager first creates a resource fork after a call to <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpOpenResFile">FSpOpenResFile</a></code> or a related function, it does not set any of the resource fork’s attributes—that is, they are all set to 0.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The Resource Manager sets the <code>mapChanged</code> attribute for the resource fork when you call the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code>, the <code><a href="reference.html#//apple_ref/c/func/AddResource">AddResource</a></code>, or the <code><a href="reference.html#//apple_ref/c/func/RemoveResource">RemoveResource</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/SetResInfo" title="SetResInfo"></a><a name="//apple_ref/doc/c_ref/SetResInfo" title="SetResInfo"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06958" title="SetResInfo"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_58"></a><h3 class="tight">SetResInfo</h3>
<p class="spaceabove">Sets the name and resource ID of a resource.</p>
<p class="spaceabove"><pre>
void SetResInfo (
   <!--a-->Handle<!--/a--> theResource,
   <a href="reference.html#//apple_ref/doc/c_ref/ResID">ResID</a> theID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> name
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource whose name and ID you wish to set. </p></dd>
<dt><em>theID</em></dt>
<dd><p>The new resource ID. If the parameter <code>theResource</code> doesn’t contain a handle to an existing resource, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. </p></dd>
<dt><em>name</em></dt>
<dd><p>The new name of the specified resource. If you pass an empty string for the <code>name</code> parameter, the resource name is not changed. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The function changes the information in the resource map in memory, not in the resource file itself. Do not change a system resource’s resource ID or name. Other applications may already access the resource and may not work properly if you change the resource ID, resource name, or both.</p>
<p>If the resource map becomes too large to fit in memory (for example, after an unnamed resource is given a name), this function does nothing, and <code>ResError</code> returns an appropriate Memory Manager result code. The same is true if the resource data in memory can’t be written to the resource fork (for example, because the disk is full). If the <code>resProtected</code> attribute is set for the resource, <code>SetResInfo</code> does nothing, and <code>ResError</code> returns the result code <code>resAttrErr</code>.</p>
<p>If you want to write changes to the resource map on disk after updating the resource map in memory, call the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code> function for the same resource after you call <code>SetResInfo</code>. Even if you don’t call <code>ChangedResource</code> after using this function to change the name and resource ID of a resource, the change may be written to disk when the Resource Manager updates the resource fork. If you call <code>ChangedResource</code> for any resource in the same resource fork, or if you add or remove a resource, the Resource Manager writes the entire resource map to disk after a call to the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> function or when your application terminates. In these cases, all changes to resource information in the resource map become permanent. If you want any of the changes to be temporary, you should restore the original information before the resource is updated. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/SetResLoad" title="SetResLoad"></a><a name="//apple_ref/doc/c_ref/SetResLoad" title="SetResLoad"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06959" title="SetResLoad"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_59"></a><h3 class="tight">SetResLoad</h3>
<p class="spaceabove">Enables and disables automatic loading of resource data into memory for functions that return handles to resources.</p>
<p class="spaceabove"><pre>
void SetResLoad (
   <!--a-->Boolean<!--/a--> load
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>load</em></dt>
<dd><p>Determines whether Resource Manager functions should read resource data into memory. If you set this parameter to <code>TRUE</code>, Resource Manager functions that return handles will, during subsequent calls, automatically read resource data into memory if it is not already in memory; if you set this parameter to <code>FALSE</code>, Resource Manager functions will not automatically read resource data into memory. Instead, such functions return a handle whose master pointer is set to <code>NULL</code> unless the resource is already in memory. In addition, when first opening a resource fork the Resource Manager won’t load into memory resources whose <code>resPreload</code> attribute is set. The default setting is <code>TRUE</code>.</p><p>If you call the function with this parameter set to <code>FALSE</code>, be sure to call <code>SetResLoad</code> with this parameter set to <code>TRUE</code> as soon as possible. Other parts of system software that call the Resource Manager expect this value to be <code>TRUE</code>, and some functions won’t work if resources are not loaded automatically.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use the <code>SetResLoad</code> function when you want to read from the resource map without reading the resource data into memory. To read the resource data into memory after a call to this function, call the <code>LoadResource</code> function.</p>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/SetResourceSize" title="SetResourceSize"></a><a name="//apple_ref/doc/c_ref/SetResourceSize" title="SetResourceSize"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06960" title="SetResourceSize"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_60"></a><h3 class="tight">SetResourceSize</h3>
<p class="spaceabove">Sets the size of a resource on disk. </p>
<p class="spaceabove"><pre>
void SetResourceSize (
   <!--a-->Handle<!--/a--> theResource,
   long newSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource which you wish to change.</p></dd>
<dt><em>newSize</em></dt>
<dd><p>The size, in bytes, that you want the resource to occupy on disk. If the specified size is smaller than the resource’s current size on disk, you lose any data from the cutoff point to the end of the resource. If the specified size is larger than the resource’s current size on disk, all data is preserved, but the additional area is uninitialized (arbitrary data).</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This function is normally used only with the <code><a href="reference.html#//apple_ref/c/func/ReadPartialResource">ReadPartialResource</a></code> and <code><a href="reference.html#//apple_ref/c/func/WritePartialResource">WritePartialResource</a></code> functions.</p>
<p>This function sets the size field of the specified resource on disk without writing the resource data. You can change the size of any resource, regardless of the amount of memory you have available.</p>
<p>If you read a partial resource into memory and then change its size, you must use this function to change the entire resource’s size on disk as necessary. For example, suppose the entire resource occupies 1 MB and you use <code>ReadPartialResource</code> to read in a 200 KB portion of the resource. If you then increase the size of this partial resource to 250 KB, you must call <code>SetResourceSize</code> to set the size of the resource on disk to 1.05 MB. Note that in this case you must also keep track of the resource data on disk and move any data that follows the original partial resource on disk. Otherwise, there will be no space for the additional 50 KB when you call <code>WritePartialResource</code> to write the modified partial resource to disk.</p>
<p>Under certain circumstances, the Resource Manager overrides the size you set with a call to this function. For instance, suppose you read an entire resource into memory by calling <code><a href="reference.html#//apple_ref/c/func/GetResource">GetResource</a></code> or related functions, then use <code>SetResourceSize</code> successfully to set the resource size on disk, and finally attempt to write the resource to disk using the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> or <code><a href="reference.html#//apple_ref/c/func/WriteResource">WriteResource</a></code> functions. In this case, the Resource Manager adjusts the resource size on disk to conform with the size of the resource in memory.</p>
<p>If the disk is locked or full, or the file is locked, this function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns an appropriate File Manager result code. If the resource is in memory, the Resource Manager tries to set the size of the resource on disk. If the attempt succeeds, <code>ResError</code> returns the result code <code>resourceInMemory</code>, and the Resource Manager does not update the copy in memory. If the attempt fails, <code>ResError</code> returns an appropriate File Manager result code. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/SetResPurge" title="SetResPurge"></a><a name="//apple_ref/doc/c_ref/SetResPurge" title="SetResPurge"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F06961" title="SetResPurge"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_61"></a><h3 class="tight">SetResPurge</h3>
<p class="spaceabove">Tells the Memory Manager to pass the handle of a resource to the Resource Manager before purging the data specified by that handle.</p>
<p class="spaceabove"><pre>
void SetResPurge (
   <!--a-->Boolean<!--/a--> install
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>install</em></dt>
<dd><p>Specifies whether the Memory Manager checks with the Resource Manager before purging a resource handle.</p><p>Specify <code>TRUE</code> to make the Memory Manager pass the handle for a resource to the Resource Manager before purging the resource data to which the handle points. The Resource Manager determines whether the handle points to a resource in the application heap. It also checks if the resource’s <code>resChanged</code> attribute is set to 1. If these two conditions are met, the Resource Manager calls the <code><a href="reference.html#//apple_ref/c/func/WriteResource">WriteResource</a></code> function to write the resource’s resource data to the resource fork before returning control to the Memory Manager. </p><p>If you call this function with this parameter set to <code>TRUE</code> and then call the Memory Manager function <code>MoveHHi</code> to move a handle to a resource, the Resource Manager calls the <code>WriteResource</code> function to write the resource data to disk even if the data has not been changed. To prevent this, call <code>SetResPurge</code> with this parameter set to <code>FALSE</code> before you call <code>MoveHHi</code>, then call <code>SetResPurge</code> again with this parameter set to <code>TRUE</code> immediately after you call <code>MoveHHi</code>.</p><p>Whenever you call this function with this parameter set to <code>TRUE</code>, the Resource Manager installs its own purge-warning function, overriding any purge-warning function you’ve specified to the Memory Manager.</p><p>Specify <code>FALSE</code> to restore the normal state, so that the Memory Manager purges resource data when it needs to without calling the Resource Manager.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You can use this function in applications that modify purgeable resources. You should also take precautions in such applications to ensure that the resource won’t be purged while you’re changing it. </p>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/Unique1ID" title="Unique1ID"></a><a name="//apple_ref/doc/c_ref/Unique1ID" title="Unique1ID"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F08012" title="Unique1ID"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_62"></a><h3 class="tight">Unique1ID</h3>
<p class="spaceabove">Gets a resource ID that’s unique with respect to resources in the current resource file.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResID">ResID</a> Unique1ID (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>A resource type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A resource ID greater than 0 that isn’t currently assigned to any resource of the specified type in the current resource file.</p>
<h5 class="tight">Discussion</h5>
<p>You should use this function before adding a new resource to ensure that you don’t duplicate a resource ID and override an existing resource. </p>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function.</p>
<p>For more information about restrictions on resource IDs for specific resource types, see <code><a href="reference.html#//apple_ref/c/tdef/ResID">ResID</a></code>.</p>
<p>In versions of system software earlier than System 7, this function may return a resource ID in the range 0 through 127, which is generally reserved for system resources. You should check that the resource ID returned is not in this range. If it is, call <code>Unique1ID</code> again, and continue doing so until you get a resource ID greater than 127.</p>
<p>In System 7 and later versions, this function won’t return a resource ID of less than 128. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/UniqueID" title="UniqueID"></a><a name="//apple_ref/doc/c_ref/UniqueID" title="UniqueID"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F08013" title="UniqueID"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_63"></a><h3 class="tight">UniqueID</h3>
<p class="spaceabove">Gets a unique resource ID for a resource.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/ResID">ResID</a> UniqueID (
   <a href="reference.html#//apple_ref/doc/c_ref/ResType">ResType</a> theType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theType</em></dt>
<dd><p>A resource type.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A resource ID greater than 0 that isn’t currently assigned to any resource of the specified type in any open resource fork.</p>
<h5 class="tight">Discussion</h5>
<p>You should use this function before adding a new resource to ensure that you don’t duplicate a resource ID and override an existing resource.</p>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function.</p>
<p>For more information about restrictions on resource IDs for specific resource types, see <code><a href="reference.html#//apple_ref/c/tdef/ResID">ResID</a></code>.</p>
<p>In versions of system software earlier than System 7, this function may return a resource ID in the range 0 through 127, which is generally reserved for system resources. You should check that the resource ID returned is not in this range. If it is, call <code>UniqueID</code> again, and continue doing so until you get a resource ID greater than 127. </p>
<h5 class="tight">Version Notes</h5>
<p>In System 7 and later versions, <code>UniqueID</code> won’t return a resource ID of less than 128.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/UpdateResFile" title="UpdateResFile"></a><a name="//apple_ref/doc/c_ref/UpdateResFile" title="UpdateResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F08033" title="UpdateResFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_64"></a><h3 class="tight">UpdateResFile</h3>
<p class="spaceabove">Updates the resource map and resource data for a resource fork without closing it.</p>
<p class="spaceabove"><pre>
void UpdateResFile (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>A file reference number for a resource fork. If there’s no open resource fork with the given reference number, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>resNotFound</code>. If the value of the <code>refNum</code> parameter is 0, it represents the System file’s resource fork. If you call this function but the <code>mapReadOnly</code> attribute of the resource fork is set, the function does nothing, and the <code>ResError</code> function returns the result code <code>resAttrErr</code>. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Given the reference number of a file whose resource fork is open, this function performs three tasks. The first task is to change, add, or remove resource data in the file’s resource fork to match the resource map in memory. Changed resource data for each resource is written only if that resource’s <code>resChanged</code> bit has been set by a successful call to the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code> or <code><a href="reference.html#//apple_ref/c/func/AddResource">AddResource</a></code> function. The <code>UpdateResFile</code> function calls the <code><a href="reference.html#//apple_ref/c/func/WriteResource">WriteResource</a></code> function to write changed or added resources to the resource fork.</p>
<p>The second task is to compact the resource fork, closing up any empty space created when a resource was removed, made smaller, or made larger. If a resource is made larger, the Resource Manager writes it at the end of the resource fork rather than at its original location. It then compacts the space occupied by the original resource data. The actual size of the resource fork is adjusted when a resource is removed or made larger, but not when a resource is made smaller.</p>
<p>The third task is to write the resource map in memory to the resource fork if your application has called the <code>ChangedResource</code> function for any resource listed in the resource map or if it has added or removed a resource. All changes to resource information in the resource map become permanent at this time; if you want any of these changes to be temporary, you must restore the original information before calling <code>UpdateResFile</code>.</p>
<p>Because the <code><a href="reference.html#//apple_ref/c/func/CloseResFile">CloseResFile</a></code> function calls <code>UpdateResFile</code> before it closes the resource fork, you need to call <code>UpdateResFile</code> directly only if you want to update the file without closing it.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/UseResFile" title="UseResFile"></a><a name="//apple_ref/doc/c_ref/UseResFile" title="UseResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F08047" title="UseResFile"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_65"></a><h3 class="tight">UseResFile</h3>
<p class="spaceabove">Sets the current resource file.</p>
<p class="spaceabove"><pre>
void UseResFile (
   <a href="reference.html#//apple_ref/doc/c_ref/ResFileRefNum">ResFileRefNum</a> refNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refNum</em></dt>
<dd><p>The file reference number for the resource fork which you wish to set as the current resource fork.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The function searches the list of files whose resource forks have been opened for the file specified here. If the specified file is found, the Resource Manager sets the current resource file to the specified file. If there’s no resource fork open for a file with that reference number, the function does nothing. To set the current resource file to the System file, use 0 here.</p>
<h5 class="tight">Discussion</h5>
<p>Open resource forks are arranged as a linked list with the most recently opened resource fork at the beginning. When searching open resource forks, the Resource Manager starts with the most recently opened file. You can call this function to set the current resource file to a file opened earlier, and thereby start subsequent searches with the specified file. In this way, you can cause any files higher in the resource chain to be left out of subsequent searches.</p>
<p>When a new resource fork is opened, this action overrides previous calls to this function and the entire list is searched. For example, if five resource forks are opened in the order R0, R1, R2, R3, and R4, the search order is R4-R3-R2-R1-R0. Calling <code>UseResFile(R2)</code> changes the search order to R2-R1-R0; R4 and R3 are not searched. When the resource fork of a new file (R5) is opened, the search order becomes R5-R4-R3-R2-R1-R0.</p>
<p>You typically call the <code><a href="reference.html#//apple_ref/c/func/CurResFile">CurResFile</a></code> function to get and save the current resource file, <code>UseResFile</code> to set the current resource file to the desired file, then (after you are finished using the resource) <code>UseResFile</code> to restore the current resource file to its previous value. Calling <code>UseResFile(0)</code> causes the Resource Manager to search only the System file’s resource map. This is useful if you no longer wish to override a system resource with one by the same name in your application’s resource fork.</p>
<p>Most of the Resource Manager functions assume that the current resource file is the file on whose resource fork they should operate or, in the case of a search, the file where they should begin. In general, the current resource file is the last one whose resource fork your application opened unless you specify otherwise.</p>
<p>The <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/FSpOpenResFile">FSpOpenResFile</a></code> and <code><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/HOpenResFile">HOpenResFile</a></code> functions, which also set the current resource file, override previous calls to <code>UseResFile</code>.</p>
<p>To check for errors, call the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/WritePartialResource" title="WritePartialResource"></a><a name="//apple_ref/doc/c_ref/WritePartialResource" title="WritePartialResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F08216" title="WritePartialResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_66"></a><h3 class="tight">WritePartialResource</h3>
<p class="spaceabove">Writes part of a resource to disk when working with a small subsection of a large resource.</p>
<p class="spaceabove"><pre>
void WritePartialResource (
   <!--a-->Handle<!--/a--> theResource,
   long offset,
   const void *buffer,
   long count
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to the resource you wish to write to disk. </p></dd>
<dt><em>offset</em></dt>
<dd><p>The beginning of the resource subsection to write, measured in bytes from the beginning of the resource. </p></dd>
<dt><em>buffer</em></dt>
<dd><p>A pointer to the buffer containing the data to write. Your application is responsible for the buffer’s memory management. </p></dd>
<dt><em>count</em></dt>
<dd><p>The length of the resource subsection to write.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If the disk or the file is locked, the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns an appropriate File Manager result code. If you try to write past the end of a resource, the Resource Manager attempts to enlarge the resource. The <code>ResError</code> function returns the result code <code>writingPastEnd</code> if the attempt succeeds. If the Resource Manager cannot enlarge the resource, <code>ResError</code> returns an appropriate File Manager result code. If you pass an invalid value in the <code>offset</code> parameter, <code>ResError</code> returns the result code <code>inputOutOfBounds</code>.</p>
<p>This function tries to write the data from the buffer to disk. If the attempt is successful and the resource data (referenced through the resource’s handle) is in memory, <code>ResError</code> returns the result code <code>resourceInMemory</code>. In this situation, be aware that the data of the resource subsection on disk matches the data from the buffer, not the resource data referenced through the resource’s handle. If the attempt to write the data from the buffer to the disk fails, <code>ResError</code> returns an appropriate error.</p>
<p>When using partial resource functions, you should call the <code><a href="reference.html#//apple_ref/c/func/SetResLoad">SetResLoad</a></code> function, specifying <code>FALSE</code> for the <code>load</code> parameter, before you call the <code><a href="reference.html#//apple_ref/c/func/GetResource">GetResource</a></code> function. Doing so prevents the Resource Manager from reading the entire resource into memory. Be sure to restore the normal state by calling <code>SetResLoad</code> again, with the <code>load</code> parameter set to <code>TRUE</code>, immediately after you call <code>GetResource</code>.</p>
<p>If you read a partial resource into memory and then change its size, you must use the <code><a href="reference.html#//apple_ref/c/func/SetResourceSize">SetResourceSize</a></code> function to change the entire resource’s size on disk as necessary before you write the partial resource. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/func/WriteResource" title="WriteResource"></a><a name="//apple_ref/doc/c_ref/WriteResource" title="WriteResource"></a><a name="//apple_ref/doc/uid/TP30000154-CH1g-F08217" title="WriteResource"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH1g-DontLinkElementID_67"></a><h3 class="tight">WriteResource</h3>
<p class="spaceabove">Writes resource data in memory immediately to a file’s resource fork. </p>
<p class="spaceabove"><pre>
void WriteResource (
   <!--a-->Handle<!--/a--> theResource
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theResource</em></dt>
<dd><p>A handle to a resource. The function checks the <code>resChanged</code> attribute of this resource. If the <code>resChanged</code> attribute is set to 1, such as after a successful call to the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code> or <code><a href="reference.html#//apple_ref/c/func/AddResource">AddResource</a></code> function, <code>WriteResource</code> writes the resource data in memory to the resource fork, then clears the <code>resChanged</code> attribute in the resource’s resource map in memory.</p><p>If the resource is purgeable and has been purged, the function writes zero-length resource data to the resource fork. If the resource’s <code>resProtected</code> attribute is set to 1, the function does nothing, and the <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> function returns the result code <code>noErr</code>. The same is true if the <code>resChanged</code> attribute is not set (that is, set to 0). If the given handle isn’t a handle to a resource, <code>WriteResource</code> does nothing, and <code>ResError</code> returns the result code <code>resNotFound</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Note that this function does not write the resource’s resource map entry to disk.</p>
<p>When your application calls <code>ChangedResource</code> or <code>AddResource</code>, the Resource Manager attempts to reserve disk space for the changed resource. If the modified resource data can’t be written to the resource fork (for example, if there’s not enough room on disk), the <code>resChanged</code> attribute is not set to 1. If this is the case and you call <code>WriteResource</code>, the Resource Manager won’t know that the resource data has been changed. Thus, the function won’t write the modified resource data to the resource fork and won’t return an error. For this reason, always make sure that the <code>ResError</code> function returns the result code <code>noErr</code> after a call to <code>ChangedResource</code> or <code>AddResource</code>.</p>
<p>The resource fork is updated automatically when your application quits, when you call the <code><a href="reference.html#//apple_ref/c/func/UpdateResFile">UpdateResFile</a></code> function, or when you call the <code><a href="reference.html#//apple_ref/c/func/CloseResFile">CloseResFile</a></code> function. Thus, you should call <code>WriteResource</code> only if you want to write just one or a few resources immediately. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/doc/uid/TP30000154-CH2g-113794" title="Callbacks"></a><a name="//apple_ref/doc/uid/TP30000154-CH2g-TPXREF120" title="Callbacks"></a><h2>Callbacks</h2>


<a name="//apple_ref/c/tdef/ResErrProcPtr" title="ResErrProcPtr"></a><a name="//apple_ref/doc/c_ref/ResErrProcPtr" title="ResErrProcPtr"></a><a name="//apple_ref/doc/uid/TP30000154-CH2g-F09597" title="ResErrProcPtr"></a><a name="//apple_ref/doc/uid/TP30000154-CH2g-DontLinkElementID_68"></a><h3 class="tight">ResErrProcPtr</h3>
<p class="spaceabove"><pre>
typedef void (*ResErrProcPtr) (
   <a href="../../ErrorHandler/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> thErr
);
</pre></p>
<p>If you name your function <code>MyResErrProc</code>, you would declare it like this:</p>
<p><pre>
void MyResErrProc (
   <a href="../../ErrorHandler/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> thErr
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/tdef/ResourceEndianFilterPtr" title="ResourceEndianFilterPtr"></a><a name="//apple_ref/doc/c_ref/ResourceEndianFilterPtr" title="ResourceEndianFilterPtr"></a><a name="//apple_ref/doc/uid/TP30000154-CH2g-F09598" title="ResourceEndianFilterPtr"></a><a name="//apple_ref/doc/uid/TP30000154-CH2g-DontLinkElementID_69"></a><h3 class="tight">ResourceEndianFilterPtr</h3>
<p class="spaceabove"><pre>
typedef OSErr (*ResourceEndianFilterPtr) (
   <!--a-->Handle<!--/a--> theResource,
   <!--a-->Boolean<!--/a--> currentlyNativeEndian
);
</pre></p>
<p>If you name your function <code>MyResourceEndianFilter</code>, you would declare it like this:</p>
<p><pre>
OSErr MyResourceEndianFilter (
   <!--a-->Handle<!--/a--> theResource,
   <!--a-->Boolean<!--/a--> currentlyNativeEndian
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/doc/uid/TP30000154-CH3g-114255" title="Data Types"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-TPXREF122" title="Data Types"></a><h2>Data Types</h2>
<a name="//apple_ref/c/tdef/ResAttributes" title="ResAttributes"></a><a name="//apple_ref/doc/c_ref/ResAttributes" title="ResAttributes"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-C006261" title="ResAttributes"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-DontLinkElementID_70"></a><h3 class="tight">ResAttributes</h3>
<p class="spaceabove"><pre>
typedef short ResAttributes;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code>
<a name="//apple_ref/c/tdef/ResErrUPP" title="ResErrUPP"></a><a name="//apple_ref/doc/c_ref/ResErrUPP" title="ResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-C003609" title="ResErrUPP"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-DontLinkElementID_71"></a><h3 class="tight">ResErrUPP</h3>
<p class="spaceabove"><pre>
typedef <a href="reference.html#//apple_ref/doc/c_ref/ResErrProcPtr">ResErrProcPtr</a> ResErrUPP;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>For more information, see the description of the <code><a href="reference.html#//apple_ref/c/tdef/ResErrProcPtr">ResErrProcPtr</a></code> callback function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code>
<a name="//apple_ref/c/tdef/ResFileAttributes" title="ResFileAttributes"></a><a name="//apple_ref/doc/c_ref/ResFileAttributes" title="ResFileAttributes"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-C006262" title="ResFileAttributes"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-DontLinkElementID_72"></a><h3 class="tight">ResFileAttributes</h3>
<p class="spaceabove"><pre>
typedef short ResFileAttributes;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code>
<a name="//apple_ref/c/tdef/ResFileRefNum" title="ResFileRefNum"></a><a name="//apple_ref/doc/c_ref/ResFileRefNum" title="ResFileRefNum"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-C006263" title="ResFileRefNum"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-DontLinkElementID_73"></a><h3 class="tight">ResFileRefNum</h3>
<p class="spaceabove"><pre>
typedef short ResFileRefNum;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code>
<a name="//apple_ref/c/tdef/ResID" title="ResID"></a><a name="//apple_ref/doc/c_ref/ResID" title="ResID"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-C006264" title="ResID"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-DontLinkElementID_74"></a><h3 class="tight">ResID</h3><p class="spaceabove">Defines a unique identifier for a resource of a given type.</p>
<p class="spaceabove"><pre>
typedef short ResID;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>A resource is identified by its resource type and resource ID (or, optionally, its resource type and resource name). The IDs for resources used by the system software and those used by applications are assigned from separate ranges. By using these ranges correctly, you can avoid resource ID conflicts.</p>
<p>In general, system resources use IDs in the range –32767 through 127, and application resources must use IDs that fall between 128 and 32767. The IDs for some categories of resources, such as definition functions and font families, fall in different ranges or in ranges that are broken down for more specific purposes.</p>
<p>You can use a resource name instead of a resource ID to identify a resource of a given type. Like a resource ID, a resource name should be unique within each type. If you assign the same resource name to two resources of the same type, the second assignment of the name overrides the first, thereby making the first resource inaccessible by name. When comparing resource names, the Resource Manager ignores case (but does not ignore diacritical marks). </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Resources.h</code><a name="//apple_ref/c/tdef/ResType" title="ResType"></a><a name="//apple_ref/doc/c_ref/ResType" title="ResType"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-DontLinkElementID_2" title="ResType"></a><a name="//apple_ref/doc/uid/TP30000154-CH3g-DontLinkElementID_75"></a><h3 class="tight">ResType</h3><p class="spaceabove">Defines a unique identifier for a type of resource.</p><p class="spaceabove"><pre>
typedef <a href="../../../../QuickTime/Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/doc/c_ref/FourCharCode" target="_top">FourCharCode</a> ResType;
</pre></p><h5 class="tight">Discussion</h5><p>The Resource Manager uses the resource type along with the resource ID to identify a resource. A resource type can be any sequence of four alphanumeric characters, including the space character.</p><p>You can define your own resource types, but they must not conflict with any of the standard resource types. When identifying resource types, the Resource Manager distinguishes between uppercase letters and their lowercase counterparts. Apple reserves for its own use all resource types that consist of all lowercase letters, all spaces, or all international characters (characters greater than $7F).</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>IOMacOSTypes.h</code><a name="//apple_ref/doc/uid/TP30000154-CH4g-114943" title="Constants"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-TPXREF123" title="Constants"></a><h2>Constants</h2>
<a name="//apple_ref/doc/constant_group/Reference_Number_Constants" title="Reference Number Constants" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-C005255" title="Reference Number Constants" role="Enum"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_76"></a><h3 class="tight">Reference Number Constants</h3>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kResFileNotOpened">kResFileNotOpened</a> = -1,
   <a href="reference.html#//apple_ref/doc/c_ref/kSystemResFile">kSystemResFile</a> = 0
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kResFileNotOpened" title="kResFileNotOpened"></a><a name="//apple_ref/doc/c_ref/kResFileNotOpened" title="kResFileNotOpened"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_77"></a><dt><code>kResFileNotOpened</code></dt>
<dd><p>Indicates the reference number returned as error when opening a resource file.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kSystemResFile" title="kSystemResFile"></a><a name="//apple_ref/doc/c_ref/kSystemResFile" title="kSystemResFile"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_78"></a><dt><code>kSystemResFile</code></dt>
<dd><p>Indicates the default reference number to the system file.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd></dl>
<a name="//apple_ref/doc/constant_group/Resource_Attribute_Bits" title="Resource Attribute Bits" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-C005629" title="Resource Attribute Bits" role="Enum"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_79"></a><h3 class="tight">Resource Attribute Bits</h3>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/resSysRefBit">resSysRefBit</a> = 7,
   <a href="reference.html#//apple_ref/doc/c_ref/resSysHeapBit">resSysHeapBit</a> = 6,
   <a href="reference.html#//apple_ref/doc/c_ref/resPurgeableBit">resPurgeableBit</a> = 5,
   <a href="reference.html#//apple_ref/doc/c_ref/resLockedBit">resLockedBit</a> = 4,
   <a href="reference.html#//apple_ref/doc/c_ref/resProtectedBit">resProtectedBit</a> = 3,
   <a href="reference.html#//apple_ref/doc/c_ref/resPreloadBit">resPreloadBit</a> = 2,
   <a href="reference.html#//apple_ref/doc/c_ref/resChangedBit">resChangedBit</a> = 1,
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/resSysRefBit" title="resSysRefBit"></a><a name="//apple_ref/doc/c_ref/resSysRefBit" title="resSysRefBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_80"></a><dt><code>resSysRefBit</code></dt>
<dd><p>If this attribute is set to 1, it is a system reference. If it is set to 0, it is a local reference.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resSysHeapBit" title="resSysHeapBit"></a><a name="//apple_ref/doc/c_ref/resSysHeapBit" title="resSysHeapBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_81"></a><dt><code>resSysHeapBit</code></dt>
<dd><p>This attribute indicates whether the resource is read into the system heap (<code>resSysHeapBit</code> attribute is set to 1) or your application’s heap (<code>resSysHeapBit</code> attribute is set to 0). </p><p>If you are setting your resource’s attributes with <code>SetResAttrs</code>, you should set this bit to 0 for your application’s resources. Note that if you do set the <code>resSysHeapBit</code> attribute to 1 and the resource is too large for the system heap, the bit is cleared and the resource is read into the application heap.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resPurgeableBit" title="resPurgeableBit"></a><a name="//apple_ref/doc/c_ref/resPurgeableBit" title="resPurgeableBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_82"></a><dt><code>resPurgeableBit</code></dt>
<dd><p>If this attribute is set to 1, the resource is purgeable if it’s 0, the resource is nonpurgeable. However, do not use <code>SetResAttrs</code> to make a purgeable resource nonpurgeable.</p><p>Because a locked resource is nonrelocatable and nonpurgeable, the <code>resLockedBit</code> attribute overrides the <code>resPurgeableBit</code> attribute. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resLockedBit" title="resLockedBit"></a><a name="//apple_ref/doc/c_ref/resLockedBit" title="resLockedBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_83"></a><dt><code>resLockedBit</code></dt>
<dd><p>If this attribute is 1, the resource is nonpurgeable regardless of whether <code>resPurgeableBit</code> is set. If it’s 0, the resource is purgeable or nonpurgeable depending on the value of the <code>resPurgeableBit</code> attribute.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resProtectedBit" title="resProtectedBit"></a><a name="//apple_ref/doc/c_ref/resProtectedBit" title="resProtectedBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_84"></a><dt><code>resProtectedBit</code></dt>
<dd><p>If this attribute is set to 1, your application can’t use Resource Manager functions to change the resource ID or resource name, modify the resource contents, or remove the resource from its resource fork. However, you can use the <code>SetResAttrs</code> function to remove this protection. Note that this attribute change takes effect immediately.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resPreloadBit" title="resPreloadBit"></a><a name="//apple_ref/doc/c_ref/resPreloadBit" title="resPreloadBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_85"></a><dt><code>resPreloadBit</code></dt>
<dd><p>If this attribute is set to 1, the Resource Manager reads the resource’s resource data into memory immediately after opening its resource fork. You can use this setting to make multiple resources available for your application as soon as possible, rather than reading each one into memory individually. If both the <code>resPreloadBit</code> attribute and the <code>resLockedBit</code> attribute are set, the Resource Manager loads the resource as low in the heap as possible.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resChangedBit" title="resChangedBit"></a><a name="//apple_ref/doc/c_ref/resChangedBit" title="resChangedBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_86"></a><dt><code>resChangedBit</code></dt>
<dd><p>If this attribute is set to 1, the resource has been changed. If it’s 0, the resource hasn’t been changed. This attribute is used only while the resource map is in memory. The <code>resChangedBit</code> attribute must be 0 in the resource fork on disk.</p><p>Do not use <code>SetResAttrs</code> to set the <code>resChangedBit</code> attribute. Be sure the <code>attrs</code> parameter passed to <code>SetResAttrs</code> doesn’t change the current setting of this attribute. To set the <code>resChangedBit</code> attribute, call the <code>ChangedResource</code> function. </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code><a href="reference.html#//apple_ref/c/func/SetResAttrs">SetResAttrs</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetResAttrs">GetResAttrs</a></code> functions use these constants to refer to each attribute. </p>
<a name="//apple_ref/doc/constant_group/Resource_Attribute_Masks" title="Resource Attribute Masks" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-C005628" title="Resource Attribute Masks" role="Enum"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_87"></a><h3 class="tight">Resource Attribute Masks</h3>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/resSysHeap">resSysHeap</a> = 64,
   <a href="reference.html#//apple_ref/doc/c_ref/resPurgeable">resPurgeable</a> = 32,
   <a href="reference.html#//apple_ref/doc/c_ref/resLocked">resLocked</a> = 16,
   <a href="reference.html#//apple_ref/doc/c_ref/resProtected">resProtected</a> = 8,
   <a href="reference.html#//apple_ref/doc/c_ref/resPreload">resPreload</a> = 4,
   <a href="reference.html#//apple_ref/doc/c_ref/resChanged">resChanged</a> = 2,
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/resSysHeap" title="resSysHeap"></a><a name="//apple_ref/doc/c_ref/resSysHeap" title="resSysHeap"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_88"></a><dt><code>resSysHeap</code></dt>
<dd><p>Use to set or test for the <code>resSysHeapBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resPurgeable" title="resPurgeable"></a><a name="//apple_ref/doc/c_ref/resPurgeable" title="resPurgeable"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_89"></a><dt><code>resPurgeable</code></dt>
<dd><p>Use to set or test for the <code>resPurgeableBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resLocked" title="resLocked"></a><a name="//apple_ref/doc/c_ref/resLocked" title="resLocked"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_90"></a><dt><code>resLocked</code></dt>
<dd><p>Use to set or test for the <code>resLockedBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resProtected" title="resProtected"></a><a name="//apple_ref/doc/c_ref/resProtected" title="resProtected"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_91"></a><dt><code>resProtected</code></dt>
<dd><p>Use to set or test for the <code>resProtectedBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resPreload" title="resPreload"></a><a name="//apple_ref/doc/c_ref/resPreload" title="resPreload"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_92"></a><dt><code>resPreload</code></dt>
<dd><p>Use to set or test for the <code>resPreloadBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/resChanged" title="resChanged"></a><a name="//apple_ref/doc/c_ref/resChanged" title="resChanged"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_93"></a><dt><code>resChanged</code></dt>
<dd><p>Use to set or test for the <code>resChangedBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd></dl>
<a name="//apple_ref/c/tdef/RsrcChainLocationenum" title="Resource Chain Location" role="Enum"></a><a name="//apple_ref/doc/c_ref/RsrcChainLocationenum" title="Resource Chain Location" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-C007945" title="Resource Chain Location" role="Enum"></a>
<a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_94"></a><h3 class="tight">Resource Chain Location</h3>
<p class="spaceabove">Specify the location of the resource chain.</p>
<p class="spaceabove"><pre>
typedef <!--a-->SInt16<!--/a--> <!--a-->RsrcChainLocation<!--/a-->
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kRsrcChainBelowSystemMap">kRsrcChainBelowSystemMap</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kRsrcChainBelowApplicationMap">kRsrcChainBelowApplicationMap</a> = 1,
   <a href="reference.html#//apple_ref/doc/c_ref/kRsrcChainAboveApplicationMap">kRsrcChainAboveApplicationMap</a> = 2,
   <a href="reference.html#//apple_ref/doc/c_ref/kRsrcChainAboveAllMaps">kRsrcChainAboveAllMaps</a> = 4
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kRsrcChainBelowSystemMap" title="kRsrcChainBelowSystemMap"></a><a name="//apple_ref/doc/c_ref/kRsrcChainBelowSystemMap" title="kRsrcChainBelowSystemMap"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_95"></a><dt><code>kRsrcChainBelowSystemMap</code></dt>
<dd><p>Indicates the resource chain is below the system's resource map.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kRsrcChainBelowApplicationMap" title="kRsrcChainBelowApplicationMap"></a><a name="//apple_ref/doc/c_ref/kRsrcChainBelowApplicationMap" title="kRsrcChainBelowApplicationMap"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_96"></a><dt><code>kRsrcChainBelowApplicationMap</code></dt>
<dd><p>Indicates the resource chain is below the application's resource map.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kRsrcChainAboveApplicationMap" title="kRsrcChainAboveApplicationMap"></a><a name="//apple_ref/doc/c_ref/kRsrcChainAboveApplicationMap" title="kRsrcChainAboveApplicationMap"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_97"></a><dt><code>kRsrcChainAboveApplicationMap</code></dt>
<dd><p>Indicates the resource chain is above the application's resource map.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kRsrcChainAboveAllMaps" title="kRsrcChainAboveAllMaps"></a><a name="//apple_ref/doc/c_ref/kRsrcChainAboveAllMaps" title="kRsrcChainAboveAllMaps"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_98"></a><dt><code>kRsrcChainAboveAllMaps</code></dt>
<dd><p>Indicates the resource chain is above all resource maps.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>These constants and data type are for use with the Resource Manager chain manipulation routines under Carbon.</p>
<a name="//apple_ref/doc/constant_group/Resource_Fork_Attribute_Bits" title="Resource Fork Attribute Bits" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-ResourceForkAttributeBits" title="Resource Fork Attribute Bits" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_99"></a><h3 class="tight">Resource Fork Attribute Bits</h3>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/mapReadOnlyBit">mapReadOnlyBit</a> = 7,
   <a href="reference.html#//apple_ref/doc/c_ref/mapCompactBit">mapCompactBit</a> = 6,
   <a href="reference.html#//apple_ref/doc/c_ref/mapChangedBit">mapChangedBit</a> = 5
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/mapReadOnlyBit" title="mapReadOnlyBit"></a><a name="//apple_ref/doc/c_ref/mapReadOnlyBit" title="mapReadOnlyBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_100"></a><dt><code>mapReadOnlyBit</code></dt>
<dd><p>If this bit is set to 1, the Resource Manager doesn’t write anything to the resource fork on disk. It also doesn’t check whether the resource data can be written to disk when the resource map is modified. When this attribute is set to 1, the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code> and <code><a href="reference.html#//apple_ref/c/func/WriteResource">WriteResource</a></code> functions do nothing, but the function <code><a href="reference.html#//apple_ref/c/func/ResError">ResError</a></code> returns the result code <code>noErr</code>.</p><p>If you set the <code>mapReadOnlyBit</code> attribute but later clear it, the resource data is written to disk even if there’s no room for it. This operation may destroy the resource fork.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/mapCompactBit" title="mapCompactBit"></a><a name="//apple_ref/doc/c_ref/mapCompactBit" title="mapCompactBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_101"></a><dt><code>mapCompactBit</code></dt>
<dd><p>If this bit is set to 1, the Resource Manager compacts the resource fork when it updates the file. The Resource Manager sets this attribute when a resource is removed or when a resource is made larger and thus must be written at the end of a resource fork. You may want to set the <code>mapCompactBit</code> attribute to force the Resource Manager to compact a resource fork when your changes have made resources smaller.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/mapChangedBit" title="mapChangedBit"></a><a name="//apple_ref/doc/c_ref/mapChangedBit" title="mapChangedBit"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_102"></a><dt><code>mapChangedBit</code></dt>
<dd><p>If this bit is set to 1, the Resource Manager writes the resource map to disk when the file is updated. For example, you can set <code>mapChangedBit</code> if you’ve changed resource attributes only and don’t want to call the <code><a href="reference.html#//apple_ref/c/func/ChangedResource">ChangedResource</a></code> function because you don’t want to write the resource data to disk.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd></dl>
<a name="//apple_ref/doc/constant_group/Resource_Fork_Attribute_Masks" title="Resource Fork Attribute Masks" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-ResourceForkAttributeMasks" title="Resource Fork Attribute Masks" role="Enum"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_103"></a><h3 class="tight">Resource Fork Attribute Masks</h3>
<p class="spaceabove"><pre>
enum{
   <a href="reference.html#//apple_ref/doc/c_ref/mapReadOnly">mapReadOnly</a> = 128,
   <a href="reference.html#//apple_ref/doc/c_ref/mapCompact">mapCompact</a> = 64,
   <a href="reference.html#//apple_ref/doc/c_ref/mapChanged">mapChanged</a> = 32
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/mapReadOnly" title="mapReadOnly"></a><a name="//apple_ref/doc/c_ref/mapReadOnly" title="mapReadOnly"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_104"></a><dt><code>mapReadOnly</code></dt>
<dd><p>Use to set or test for the <code>mapReadOnlyBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/mapCompact" title="mapCompact"></a><a name="//apple_ref/doc/c_ref/mapCompact" title="mapCompact"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_105"></a><dt><code>mapCompact</code></dt>
<dd><p>Use to set or test for the <code>mapCompactBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd>
<a name="//apple_ref/c/econst/mapChanged" title="mapChanged"></a><a name="//apple_ref/doc/c_ref/mapChanged" title="mapChanged"></a><a name="//apple_ref/doc/uid/TP30000154-CH4g-DontLinkElementID_106"></a><dt><code>mapChanged</code></dt>
<dd><p>Use to set or test for the <code>mapChangedBit</code>.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Resources.h</code>.</p></dd></dl><a name="//apple_ref/doc/uid/TP30000154-CH5g-RCM0083" title="Result Codes"></a><h2><a name="//apple_ref/doc/uid/TP30000154-CH5g-140331" title="Result Codes"></a><a name="//apple_ref/doc/uid/TP30000154-CH5g-TPXREF124" title="Result Codes"></a>Result Codes</h2>
<p>The most common result codes returned by Resource Manager are listed in the table below. The Resource Manager may also return the following result codes: <code>noErr</code> (0), <code>dirFulErr</code> (-33), <code>dskFulErr</code> (-34), <code>nsvErr</code> (-35), <code>ioErr</code> (-36), <code>bdNamErr</code> (-37), <code>eofErr</code> (-39), <code>tmfoErr</code> (-42), <code>fnfErr</code> (-43), <code>wPrErr</code> (-44), <code>fLckdErr</code> (-45), <code>vLckdErr</code> (-46), <code>dupFNErr</code> (-48), <code>opWrErr</code> (-49), <code>permErr</code> (-54), <code>extFSErr</code> (-58), <code>memFullErr</code> (-108), <code>dirNFErr</code> (-120).</p>




<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><strong>Result Code</strong></th><th scope="col" align="left"><strong>Value</strong></th><th scope="col" align="left"><strong>Description</strong></th></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_107"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/badExtResource" title="badExtResource"></a><a name="//apple_ref/doc/c_ref/badExtResource" title="badExtResource"></a><code>badExtResource</code></td>
<td align="right" valign="top" class="content_text noWrap">-185</td>

<td valign="top" class="content_text"><p>The extended resource has a bad format.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_108"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/CantDecompress" title="CantDecompress"></a><a name="//apple_ref/doc/c_ref/CantDecompress" title="CantDecompress"></a><code>CantDecompress</code></td>
<td align="right" valign="top" class="content_text noWrap">-186</td>

<td valign="top" class="content_text"><p>Can’t decompress a compressed resource.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_109"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/resourceInMemory" title="resourceInMemory"></a><a name="//apple_ref/doc/c_ref/resourceInMemory" title="resourceInMemory"></a><code>resourceInMemory</code></td>
<td align="right" valign="top" class="content_text noWrap">-188</td>

<td valign="top" class="content_text"><p>The resource is already in memory.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_110"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/writingPastEnd" title="writingPastEnd"></a><a name="//apple_ref/doc/c_ref/writingPastEnd" title="writingPastEnd"></a><code>writingPastEnd</code></td>
<td align="right" valign="top" class="content_text noWrap">-189</td>

<td valign="top" class="content_text"><p>Writing past the end of file.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_111"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/inputOutOfBounds" title="inputOutOfBounds"></a><a name="//apple_ref/doc/c_ref/inputOutOfBounds" title="inputOutOfBounds"></a><code>inputOutOfBounds</code></td>
<td align="right" valign="top" class="content_text noWrap">-190</td>

<td valign="top" class="content_text"><p>The offset or count is out of bounds.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_112"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/resNotFound" title="resNotFound"></a><a name="//apple_ref/doc/c_ref/resNotFound" title="resNotFound"></a><code>resNotFound</code></td>
<td align="right" valign="top" class="content_text noWrap">-192</td>

<td valign="top" class="content_text"><p>The resource was not found.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_113"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/resFNotFound" title="resFNotFound"></a><a name="//apple_ref/doc/c_ref/resFNotFound" title="resFNotFound"></a><code>resFNotFound</code></td>
<td align="right" valign="top" class="content_text noWrap">-193</td>

<td valign="top" class="content_text"><p>The resource file was not found.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_114"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/addResFailed" title="addResFailed"></a><a name="//apple_ref/doc/c_ref/addResFailed" title="addResFailed"></a><code>addResFailed</code></td>
<td align="right" valign="top" class="content_text noWrap">-194</td>

<td valign="top" class="content_text"><p>The <code>AddResource</code> function failed.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_115"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/rmvResFailed" title="rmvResFailed"></a><a name="//apple_ref/doc/c_ref/rmvResFailed" title="rmvResFailed"></a><code>rmvResFailed</code></td>
<td align="right" valign="top" class="content_text noWrap">-196</td>

<td valign="top" class="content_text"><p>The <code>RemoveResource</code> function failed.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_116"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/resAttrErr" title="resAttrErr"></a><a name="//apple_ref/doc/c_ref/resAttrErr" title="resAttrErr"></a><code>resAttrErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-198</td>

<td valign="top" class="content_text"><p>The attribute is inconsistent with the operation.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP30000154-CH5g-DontLinkElementID_117"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/mapReadErr" title="mapReadErr"></a><a name="//apple_ref/doc/c_ref/mapReadErr" title="mapReadErr"></a><code>mapReadErr</code></td>
<td align="right" valign="top" class="content_text noWrap">-199</td>

<td valign="top" class="content_text"><p>The map is inconsistent with the operation.</p><p>Available in Mac OS X v10.0 and later.</p></td></tr>
</table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../DeprecationAppendix/AppendixADeprecatedAPI.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Resource_Manager/Reference/reference.html%3Fid%3DTP30000154-3.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Resource_Manager/Reference/reference.html%3Fid%3DTP30000154-3.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Resource_Manager/Reference/reference.html%3Fid%3DTP30000154-3.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>