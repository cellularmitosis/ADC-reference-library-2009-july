<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">
<script language="JavaScript" src="frametest.js"></script>
<TITLE> TextEncodingRun</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a>
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --><A HREF="TEC.21.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.22.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.24.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A><br>
<font face="Geneva,Helvetica,Arial" size="1"><b><br>
		PATH<spacer type="horizontal" size="5">&nbsp;</b></font><a href="../../../mac8.html"><font face="Geneva,Helvetica,Arial" size="1">Mac OS 8 and 9 Developer Documentation</a>  <b>&gt;</b> Text Encoding Conversion Manager<br>
		<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">Programming With the Text Encoding Conversion Manager</font><br>
		<br>
		<hr>

</DIV>
<H1>
<A NAME="pgfId=9891">
 </A>
<A NAME="18468">
 </A>
<A NAME="17456">
 </A>
TextEncodingRun</H1>
<P>
<A NAME="pgfId=11013">
 </A>
It is not always possible to convert text expressed in Unicode to another single encoding because no other single encoding encompasses the Unicode character encoding range. To adjust for this, you can create a Unicode mapping structure array that specifies the target encodings the Unicode text should be converted to when multiple encodings must be used. <P>


<A NAME="pgfId=11393">
 </A>
If the <TT>kUnicodeTextRunMask</TT> flag is set, <TT>ConvertFromUnicodeToTextRun</TT> and <TT>ConvertFromUnicodeToScriptCodeRun</TT> may convert Unicode text to a string of text containing multiple text encoding runs. Each run contains text expressed in a different encoding from that of the preceding or following text segment. For each text encoding run in the string, a <TT>TextEncodingRun</TT> structure indicates the beginning offset and the text encoding for that run. <P>


<A NAME="pgfId=11394">
 </A>
Functions that convert text from Unicode to a text run return the converted text in an array of text encoding run structures. A text encoding run structure is defined by the TextEncodingRun data type. </P>
<TT>
<A NAME="pgfId=20626">
 </A>
struct TextEncodingRun {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ByteOffset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offset;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;TextEncoding&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textEncoding;&nbsp;&nbsp;&nbsp;<BR>
};<BR>
typedef struct TextEncodingRun TextEncodingRun;</TT>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=20630">
 </A>
<TT>offset</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=10986">
 </A>
The beginning character position of a run of text in the converted text string. </DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=20640">
 </A>
<TT>textEncoding</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=10987">
 </A>
The encoding of the text run that begins at the position specified. </DD><P>

</DL COMPACT>
<TT>
<A NAME="pgfId=20651">
 </A>
struct TextEncodingRun {<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ByteOffset offset;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;TextEncoding textEncoding;<BR>
};</TT>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=20653">
 </A>
<TT>offset</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=9961">
 </A>
The byte offset at which the given text encoding begins. The offset is from the beginning of the text buffer.</DD><P>

<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=20662">
 </A>
<TT>textEncoding</TT></DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=9962">
 </A>
 The text encoding that begins at the byte offset. </DD><P>

</DL COMPACT>
<HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 13 Dec 99)<P><A HREF="TEC.21.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="TEC.22.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="TEC.24.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr>
<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//	-->
</script><!-- end Show/Hide frames --></A>

<!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY>
</HTML>
