<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on February, 19 2008 by texi2html 1.70 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>GNU Libtool: 13. Maintenance notes for libtool</title>

<meta name="description" content="GNU Libtool: 13. Maintenance notes for libtool">
<meta name="keywords" content="GNU Libtool: 13. Maintenance notes for libtool">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.70">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="NOD60"></a>
<a name="SEC60"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="libtool_12.html#SEC59" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC61" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool_12.html#SEC55" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 13. Maintenance notes for libtool </h1>

<p>This chapter contains information that the libtool maintainer finds
important.  It will be of no use to you unless you are considering
porting libtool to new systems, or writing your own libtool.

</p><table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top" scope="row"><a href="#SEC61">13.1 Porting libtool to new systems</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How to port libtool to new systems.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC64">13.2 Tested platforms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            When libtool was last tested.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC65">13.3 Platform quirks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Information about different library systems.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC71">13.4 <code>libtool</code> script contents</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Configuration information that libtool uses.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC72">13.5 Cheap tricks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Making libtool maintainership easier.
</td></tr>
</table>

<hr size="6">
<a name="NOD61"></a>
<a name="SEC61"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC60" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC62" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 13.1 Porting libtool to new systems </h2>

<p>Before you embark on porting libtool to an unsupported system, it is
worthwhile to send e-mail to the libtool mailing list <a href="mailto:libtool@gnu.org">libtool@gnu.org</a>, to make sure that you are
not duplicating existing work.

</p><p>If you find that any porting documentation is missing, please complain!
Complaints with patches and improvements to the documentation, or to
libtool itself, are more than welcome.

</p><table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top" scope="row"><a href="#SEC62">13.1.1 Information sources</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Where to find relevant documentation
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC63">13.1.2 Porting inter-library dependencies support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Implementation details explained
</td></tr>
</table>

<hr size="6">
<a name="NOD62"></a>
<a name="SEC62"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC61" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC63" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC61" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 13.1.1 Information sources </h3>

<p>Once it is clear that a new port is necessary, you'll generally need the
following information:

</p><dl compact="compact">
<dt> canonical system name</dt>
<dd><p>You need the output of <code>config.guess</code> for this system, so that you
can make changes to the libtool configuration process without affecting
other systems.

</p></dd>
<dt> man pages for <code>ld</code> and <code>cc</code></dt>
<dd><p>These generally describe what flags are used to generate PIC, to create
shared libraries, and to link against only static libraries.  You may
need to follow some cross references to find the information that is
required.

</p></dd>
<dt> man pages for <code>ld.so</code>, <code>rtld</code>, or equivalent</dt>
<dd><p>These are a valuable resource for understanding how shared libraries are
loaded on the system.

</p></dd>
<dt> man page for <code>ldconfig</code>, or equivalent</dt>
<dd><p>This page usually describes how to install shared libraries.

</p></dd>
<dt> output from <kbd>ls -l /lib /usr/lib</kbd></dt>
<dd><p>This shows the naming convention for shared libraries on the system,
including which names should be symbolic links.

</p></dd>
<dt> any additional documentation</dt>
<dd><p>Some systems have special documentation on how to build and install
shared libraries.
</p></dd>
</dl>

<p>If you know how to program the Bourne shell, then you can complete the
port yourself; otherwise, you'll have to find somebody with the relevant
skills who will do the work.  People on the libtool mailing list are
usually willing to volunteer to help you with new ports, so you can send
the information to them.

</p><p>To do the port yourself, you'll definitely need to modify the
<code>libtool.m4</code> macros in order to make platform-specific changes to
the configuration process.  You should search that file for the
<code>PORTME</code> keyword, which will give you some hints on what you'll
need to change.  In general, all that is involved is modifying the
appropriate configuration variables (see section <a href="#SEC71"><code>libtool</code> script contents</a>).

</p><p>Your best bet is to find an already-supported system that is similar to
yours, and make your changes based on that.  In some cases, however,
your system will differ significantly from every other supported system,
and it may be necessary to add new configuration variables, and modify
the <code>ltmain.in</code> script accordingly.  Be sure to write to the
mailing list before you make changes to <code>ltmain.in</code>, since they may
have advice on the most effective way of accomplishing what you want.

</p><hr size="6">
<a name="NOD63"></a>
<a name="SEC63"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC62" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC64" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC61" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 13.1.2 Porting inter-library dependencies support </h3>

<p>Since version 1.2c, libtool has re-introduced the ability to do
inter-library dependency on some platforms, thanks to a patch by Toshio
Kuratomi <a href="mailto:badger@prtr-13.ucsc.edu">badger@prtr-13.ucsc.edu</a>.  Here's a shortened version
of the message that contained his patch:

</p><p>The basic architecture is this: in `<tt>libtool.m4</tt>', the person who
writes libtool makes sure `<samp>$deplibs</samp>' is included in
`<samp>$archive_cmds</samp>' somewhere and also sets the variable
`<samp>$deplibs_check_method</samp>', and maybe `<samp>$file_magic_cmd</samp>' when
`<samp>deplibs_check_method</samp>' is file_magic.

</p><p>`<samp>deplibs_check_method</samp>' can be one of five things:
</p><dl compact="compact">
<dt>`<samp> file_magic [<var>regex</var>]</samp>'</dt>
<dd><a name="IDX165"></a>
<a name="IDX166"></a>
<a name="IDX167"></a>
<p>looks in the library link path for libraries that have the right
libname.  Then it runs `<samp>$file_magic_cmd</samp>' on the library and checks
for a match against the extended regular expression <var>regex</var>.  When
<var>file_magic_test_file</var> is set by `<tt>libtool.m4</tt>', it is used as an
argument to `<samp>$file_magic_cmd</samp>' in order to verify whether the
regular expression matches its output, and warn the user otherwise.

</p></dd>
<dt>`<samp> test_compile</samp>'</dt>
<dd><a name="IDX168"></a>
<p>just checks whether it is possible to link a program out of a list of
libraries, and checks which of those are listed in the output of
<code>ldd</code>.  It is currently unused, and will probably be dropped in the
future.

</p></dd>
<dt>`<samp> pass_all</samp>'</dt>
<dd><a name="IDX169"></a>
<p>will pass everything without any checking.  This may work on platforms
in which code is position-independent by default and inter-library
dependencies are properly supported by the dynamic linker, for example,
on DEC OSF/1 3 and 4.

</p></dd>
<dt>`<samp> none</samp>'</dt>
<dd><a name="IDX170"></a>
<p>It causes deplibs to be reassigned deplibs=&quot;&quot;.  That way
`<samp>archive_cmds</samp>' can contain deplibs on all platforms, but not have
deplibs used unless needed.

</p></dd>
<dt>`<samp> unknown</samp>'</dt>
<dd><a name="IDX171"></a>
<p>is the default for all systems unless overridden in `<tt>libtool.m4</tt>'.
It is the same as `<samp>none</samp>', but it documents that we really don't
know what the correct value should be, and we welcome patches that
improve it.
</p></dd>
</dl>

<p>Then in `<tt>ltmain.in</tt>' we have the real workhorse: a little
initialization and postprocessing (to setup/release variables for use
with eval echo libname_spec etc.) and a case statement that decides
which method is being used.  This is the real code... I wish I could
condense it a little more, but I don't think I can without function
calls.  I've mostly optimized it (moved things out of loops, etc) but
there is probably some fat left.  I thought I should stop while I was
ahead, work on whatever bugs you discover, etc before thinking about
more than obvious optimizations.

</p><hr size="6">
<a name="NOD64"></a>
<a name="SEC64"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC63" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 13.2 Tested platforms </h2>

<p>This table describes when libtool was last known to be tested on
platforms where it claims to support shared libraries:

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">
-------------------------------------------------------
canonical host name          compiler  libtool results
  (tools versions)                     release
-------------------------------------------------------
alpha-dec-osf5.1		cc	 1.3e	  ok (1.910)
alpha-dec-osf4.0f               gcc      1.3e     ok (1.910)
alpha-dec-osf4.0f               cc       1.3e     ok (1.910)
alpha-dec-osf3.2                gcc      0.8      ok
alpha-dec-osf3.2                cc       0.8      ok
alpha-dec-osf2.1                gcc      1.2f     NS
alpha*-unknown-linux-gnu        gcc      1.3b     ok
  (egcs-1.1.2, GNU ld 2.9.1.0.23)
hppa2.0w-hp-hpux11.00           cc       1.2f     ok
hppa2.0-hp-hpux10.20            cc       1.3.2    ok
hppa1.1-hp-hpux10.20            gcc      1.2f     ok
hppa1.1-hp-hpux10.20            cc       1.3c     ok (1.821)
hppa1.1-hp-hpux10.10            gcc      1.2f     ok
hppa1.1-hp-hpux10.10            cc       1.2f     ok
hppa1.1-hp-hpux9.07             gcc      1.2f     ok
hppa1.1-hp-hpux9.07             cc       1.2f     ok
hppa1.1-hp-hpux9.05             gcc      1.2f     ok
hppa1.1-hp-hpux9.05             cc       1.2f     ok
hppa1.1-hp-hpux9.01             gcc      1.2f     ok
hppa1.1-hp-hpux9.01             cc       1.2f     ok
i*86-*-beos                     gcc      1.2f     ok
i*86-*-bsdi4.0.1                gcc      1.3c     ok
  (gcc-2.7.2.1)
i*86-*-bsdi4.0                  gcc      1.2f     ok
i*86-*-bsdi3.1                  gcc      1.2e     NS
i*86-*-bsdi3.0                  gcc      1.2e     NS
i*86-*-bsdi2.1                  gcc      1.2e     NS
i*86-pc-cygwin                  gcc      1.3b     NS
  (egcs-1.1 stock b20.1 compiler)
i*86-*-dguxR4.20MU01            gcc      1.2      ok
i*86-*-freebsd4.3		gcc      1.3e     ok (1.912)
i*86-*-freebsdelf4.0            gcc      1.3c     ok
  (egcs-1.1.2)
i*86-*-freebsdelf3.2            gcc      1.3c     ok
  (gcc-2.7.2.1)
i*86-*-freebsdelf3.1            gcc      1.3c     ok
  (gcc-2.7.2.1)
i*86-*-freebsdelf3.0            gcc      1.3c     ok
i*86-*-freebsd3.0               gcc      1.2e     ok
i*86-*-freebsd2.2.8             gcc      1.3c     ok
  (gcc-2.7.2.1)
i*86-*-freebsd2.2.6             gcc      1.3b     ok
  (egcs-1.1 &amp; gcc-2.7.2.1, native ld)
i*86-*-freebsd2.1.5             gcc      0.5      ok
i*86-*-netbsd1.5                gcc      1.3e     ok (1.901)
  (egcs-1.1.2)
i*86-*-netbsd1.4                gcc      1.3c     ok
  (egcs-1.1.1)
i*86-*-netbsd1.4.3A             gcc      1.3e     ok (1.901)
i*86-*-netbsd1.3.3              gcc      1.3c     ok
  (gcc-2.7.2.2+myc2)
i*86-*-netbsd1.3.2              gcc      1.2e     ok
i*86-*-netbsd1.3I               gcc      1.2e     ok
  (egcs 1.1?)
i*86-*-netbsd1.2                gcc      0.9g     ok
i*86-*-linux-gnu		gcc	 1.3e	  ok (1.901)
  (Red Hat 7.0, gcc &quot;2.96&quot;)
i*86-*-linux-gnu		gcc	 1.3e	  ok (1.911)
  (SuSE 7.0, gcc 2.95.2)
i*86-*-linux-gnulibc1           gcc      1.2f     ok
i*86-*-openbsd2.5               gcc      1.3c     ok
  (gcc-2.8.1)
i*86-*-openbsd2.4               gcc      1.3c     ok
  (gcc-2.8.1)
i*86-*-solaris2.7               gcc      1.3b     ok
  (egcs-1.1.2, native ld)
i*86-*-solaris2.6               gcc      1.2f     ok
i*86-*-solaris2.5.1             gcc      1.2f     ok
i*86-ncr-sysv4.3.03             gcc      1.2f     ok
i*86-ncr-sysv4.3.03             cc       1.2e     ok
  (cc -Hnocopyr)
i*86-pc-sco3.2v5.0.5		cc	 1.3c	  ok
i*86-pc-sco3.2v5.0.5		gcc	 1.3c	  ok
  (gcc 95q4c)
i*86-pc-sco3.2v5.0.5		gcc	 1.3c	  ok
  (egcs-1.1.2)
i*86-sco-sysv5uw7.1.1		gcc	 1.3e	  ok (1.901)
  (gcc-2.95.2, SCO linker)
i*86-UnixWare7.1.0-sysv5	cc	 1.3c	  ok
i*86-UnixWare7.1.0-sysv5	gcc	 1.3c	  ok
  (egcs-1.1.1)
m68k-next-nextstep3             gcc      1.2f     NS
m68k-sun-sunos4.1.1             gcc      1.2f     NS
  (gcc-2.5.7)
m88k-dg-dguxR4.12TMU01          gcc      1.2      ok
m88k-motorola-sysv4             gcc      1.3      ok
  (egcs-1.1.2)
mips-sgi-irix6.5                gcc      1.2f     ok
  (gcc-2.8.1)
mips-sgi-irix6.4                gcc      1.2f     ok
mips-sgi-irix6.3                gcc      1.3b     ok
  (egcs-1.1.2, native ld)
mips-sgi-irix6.3                cc       1.3b     ok
  (cc 7.0)
mips-sgi-irix6.2                gcc      1.2f     ok
mips-sgi-irix6.2                cc       0.9      ok
mips-sgi-irix5.3                gcc      1.2f     ok
  (egcs-1.1.1)
mips-sgi-irix5.3                gcc      1.2f     NS
  (gcc-2.6.3)
mips-sgi-irix5.3                cc       0.8      ok
mips-sgi-irix5.2                gcc      1.3b     ok
  (egcs-1.1.2, native ld)
mips-sgi-irix5.2                cc       1.3b     ok
  (cc 3.18)
mips-sni-sysv4			cc       1.3.5    ok
  (Siemens C-compiler)
mips-sni-sysv4			gcc      1.3.5    ok
  (gcc-2.7.2.3, GNU assembler 2.8.1, native ld) 
mipsel-unknown-openbsd2.1       gcc      1.0      ok
powerpc-apple-darwin6.4         gcc      1.5      ok
(apple dev tools released 12/2002)
powerpc-ibm-aix4.3.1.0          gcc      1.2f     ok
  (egcs-1.1.1)
powerpc-ibm-aix4.2.1.0          gcc      1.2f     ok
  (egcs-1.1.1)
powerpc-ibm-aix4.1.5.0          gcc      1.2f     ok
  (egcs-1.1.1)
powerpc-ibm-aix4.1.5.0          gcc      1.2f     NS
  (gcc-2.8.1)
powerpc-ibm-aix4.1.4.0          gcc      1.0      ok
powerpc-ibm-aix4.1.4.0          xlc      1.0i     ok
rs6000-ibm-aix4.1.5.0           gcc      1.2f     ok
  (gcc-2.7.2)
rs6000-ibm-aix4.1.4.0           gcc      1.2f     ok
  (gcc-2.7.2)
rs6000-ibm-aix3.2.5             gcc      1.0i     ok
rs6000-ibm-aix3.2.5             xlc      1.0i     ok
sparc-sun-solaris2.8		gcc	 1.3e	  ok (1.913)
  (gcc-2.95.3 &amp; native ld)
sparc-sun-solaris2.7            gcc      1.3e     ok (1.913)
  (gcc-2.95.3 &amp; native ld)
sparc-sun-solaris2.6            gcc      1.3e     ok (1.913)
  (gcc-2.95.3 &amp; native ld)
sparc-sun-solaris2.5.1          gcc      1.3e     ok (1.911)
sparc-sun-solaris2.5            gcc      1.3b     ok
  (egcs-1.1.2, GNU ld 2.9.1 &amp; native ld)
sparc-sun-solaris2.5            cc       1.3b     ok
  (SC 3.0.1)
sparc-sun-solaris2.4            gcc      1.0a     ok
sparc-sun-solaris2.4            cc       1.0a     ok
sparc-sun-solaris2.3            gcc      1.2f     ok
sparc-sun-sunos4.1.4            gcc      1.2f     ok
sparc-sun-sunos4.1.4            cc       1.0f     ok
sparc-sun-sunos4.1.3_U1         gcc      1.2f     ok
sparc-sun-sunos4.1.3C           gcc      1.2f     ok
sparc-sun-sunos4.1.3            gcc      1.3b     ok
  (egcs-1.1.2, GNU ld 2.9.1 &amp; native ld)
sparc-sun-sunos4.1.3            cc       1.3b     ok
sparc-unknown-bsdi4.0           gcc      1.2c     ok
sparc-unknown-linux-gnulibc1    gcc      1.2f     ok
sparc-unknown-linux-gnu         gcc      1.3b     ok
  (egcs-1.1.2, GNU ld 2.9.1.0.23)
sparc64-unknown-linux-gnu       gcc      1.2f     ok

Notes:
- &quot;ok&quot; means &quot;all tests passed&quot;.
- &quot;NS&quot; means &quot;Not Shared&quot;, but OK for static libraries
</pre></td></tr></table>
<p>Note: The vendor-distributed HP-UX <code>sed</code>(1) programs are horribly
broken, and cannot handle libtool's requirements, so users may report
unusual problems.  There is no workaround except to install a working
<code>sed</code> (such as GNU <code>sed</code>) on these systems.

</p><p>Note: The vendor-distributed NCR MP-RAS <code>cc</code> programs emits
copyright on standard error that confuse tests on size of
`<tt>conftest.err</tt>'.  The workaround is to specify <code>CC</code>
when run <code>configure</code> with <kbd>CC='cc -Hnocopyr'</kbd>.

</p><hr size="6">
<a name="NOD65"></a>
<a name="SEC65"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC64" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC66" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 13.3 Platform quirks </h2>

<p>This section is dedicated to the sanity of the libtool maintainers.  It
describes the programs that libtool uses, how they vary from system to
system, and how to test for them.

</p><p>Because libtool is a shell script, it can be difficult to understand
just by reading it from top to bottom.  This section helps show why
libtool does things a certain way.  Combined with the scripts
themselves, you should have a better sense of how to improve libtool, or
write your own.

</p><table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top" scope="row"><a href="#SEC66">13.3.1 References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Finding more information.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC67">13.3.2 Compilers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Creating object files from source files.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC68">13.3.3 Reloadable objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Binding object files together.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC69">13.3.4 Multiple dependencies</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">	Removing duplicate dependent libraries.
</td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC70">13.3.5 Archivers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Programs that create static archives.
</td></tr>
</table>

<hr size="6">
<a name="NOD66"></a>
<a name="SEC66"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC65" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC67" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 13.3.1 References </h3>

<p>The following is a list of valuable documentation references:

</p><ul>
<li>
<p>SGI's IRIX Manual Pages, which can be found at
<a href="http://techpubs.sgi.com/cgi-bin/infosrch.cgi?cmd=browse&amp;db=man">http://techpubs.sgi.com/cgi-bin/infosrch.cgi?cmd=browse&amp;db=man</a>.

</p></li><li>
<p>Sun's free service area
(<a href="http://www.sun.com/service/online/free.html">http://www.sun.com/service/online/free.html</a>) and documentation
server (<a href="http://docs.sun.com/">http://docs.sun.com/</a>).

</p></li><li>
<p>Compaq's Tru64 UNIX online documentation is at <br>
(<a href="http://tru64unix.compaq.com/faqs/publications/pub_page/doc_list.html">http://tru64unix.compaq.com/faqs/publications/pub_page/doc_list.html</a>)
with C++ documentation at <br>
(<a href="http://tru64unix.compaq.com/cplus/docs/index.htm">http://tru64unix.compaq.com/cplus/docs/index.htm</a>).

</p></li><li>
<p>Hewlett-Packard has online documentation at
(<a href="http://docs.hp.com/index.html">http://docs.hp.com/index.html</a>).

</p></li><li>
<p>IBM has online documentation at
(<a href="http://www.rs6000.ibm.com/resource/aix_resource/Pubs/">http://www.rs6000.ibm.com/resource/aix_resource/Pubs/</a>).
</p></li></ul>

<hr size="6">
<a name="NOD67"></a>
<a name="SEC67"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC66" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC68" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 13.3.2 Compilers </h3>

<p>The only compiler characteristics that affect libtool are the flags
needed (if any) to generate PIC objects.  In general, if a C compiler
supports certain PIC flags, then any derivative compilers support the
same flags.  Until there are some noteworthy exceptions to this rule,
this section will document only C compilers.

</p><p>The following C compilers have standard command line options, regardless
of the platform:

</p><dl compact="compact">
<dt><code> gcc</code></dt>
<dd>
<p>This is the GNU C compiler, which is also the system compiler for many
free operating systems (FreeBSD, GNU/Hurd, GNU/Linux, Lites, NetBSD, and
OpenBSD, to name a few).

</p><p>The `<samp>-fpic</samp>' or `<samp>-fPIC</samp>' flags can be used to generate
position-independent code.  `<samp>-fPIC</samp>' is guaranteed to generate
working code, but the code is slower on m68k, m88k, and Sparc chips.
However, using `<samp>-fpic</samp>' on those chips imposes arbitrary size limits
on the shared libraries.
</p></dd>
</dl>

<p>The rest of this subsection lists compilers by the operating system that
they are bundled with:

</p>
<dl compact="compact">
<dt><code> aix3*</code></dt>
<dt><code> aix4*</code></dt>
<dd><p>Most AIX compilers have no PIC flags, since AIX (with the exception of
AIX for IA-64) runs on PowerPC and RS/6000 chips. <a name="DOCF11" href="libtool_fot.html#FOOT11">(11)</a>

</p></dd>
<dt><code> hpux10*</code></dt>
<dd><p>Use `<samp>+Z</samp>' to generate PIC.

</p></dd>
<dt><code> osf3*</code></dt>
<dd><p>Digital/UNIX 3.x does not have PIC flags, at least not on the PowerPC
platform.

</p></dd>
<dt><code> solaris2*</code></dt>
<dd><p>Use `<samp>-KPIC</samp>' to generate PIC.

</p></dd>
<dt><code> sunos4*</code></dt>
<dd><p>Use `<samp>-PIC</samp>' to generate PIC.
</p></dd>
</dl>

<hr size="6">
<a name="NOD68"></a>
<a name="SEC68"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC67" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC69" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 13.3.3 Reloadable objects </h3>

<p>On all known systems, a reloadable object can be created by running
<kbd>ld -r -o <var>output</var>.o <var>input1</var>.o <var>input2</var>.o</kbd>.  This
reloadable object may be treated as exactly equivalent to other
objects.

</p><hr size="6">
<a name="NOD69"></a>
<a name="SEC69"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC68" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC70" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 13.3.4 Multiple dependencies </h3>

<p>On most modern platforms the order that dependent libraries are listed
has no effect on object generation.  In theory, there are platforms
which require libraries which provide missing symbols to other libraries
to listed after those libraries whose symbols they provide.

</p><p>Particularly, if a pair of static archives each resolve some of the
other's symbols, it might be necessary to list one of those archives
both before and after the other one.  Libtool does not currently cope
with this situation well, since duplicate libraries are removed from
the link line by default.  Libtool provides the command line option
`<samp>--preserve-dup-deps</samp>' to preserve all duplicate dependencies
in cases where it is necessary.

</p><hr size="6">
<a name="NOD70"></a>
<a name="SEC70"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC69" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC71" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC65" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 13.3.5 Archivers </h3>

<p>On all known systems, building a static library can be accomplished by
running <kbd>ar cru lib<var>name</var>.a <var>obj1</var>.o <var>obj2</var>.o &hellip;</kbd>,
where the `<samp>.a</samp>' file is the output library, and each `<samp>.o</samp>' file is an
object file.

</p><p>On all known systems, if there is a program named <code>ranlib</code>, then it
must be used to &quot;bless&quot; the created library before linking against it,
with the <kbd>ranlib lib<var>name</var>.a</kbd> command.  Some systems, like Irix,
use the <code>ar ts</code> command, instead.

</p><hr size="6">
<a name="NOD71"></a>
<a name="SEC71"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC70" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC72" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 13.4 <code>libtool</code> script contents </h2>

<p>Since version 1.4, the <code>libtool</code> script is generated by
<code>configure</code> (see section <a href="libtool_5.html#SEC26">Configuring libtool</a>).  In earlier versions,
<code>configure</code> achieved this by calling a helper script called
`<tt>ltconfig</tt>'.  From libtool version 0.7 to 1.0, this script
simply set shell variables, then sourced the libtool backend,
<code>ltmain.sh</code>.  <code>ltconfig</code> from libtool version 1.1 through 1.3
inlined the contents of <code>ltmain.sh</code> into the generated
<code>libtool</code>, which improved performance on many systems.  The tests
that `<tt>ltconfig</tt>' used to perform are now kept in `<tt>libtool.m4</tt>'
where thay can be written using Autoconf.  This has the runtime
performance benefits of inlined <code>ltmain.sh</code>, <em>and</em> improves
the build time a little while considerably easing the amount of raw
shell code that used to need maintaining.

</p><p>The convention used for naming variables which hold shell commands for
delayed evaluation, is to use the suffix <code>_cmd</code> where a single
line of valid shell script is needed, and the suffix <code>_cmds</code> where
multiple lines of shell script <strong>may</strong> be delayed for later
evaluation.  By convention, <code>_cmds</code> variables delimit the
evaluation units with the <code>~</code> character where necessary.

</p><p>Here is a listing of each of the configuration variables, and how they
are used within <code>ltmain.sh</code> (see section <a href="libtool_5.html#SEC26">Configuring libtool</a>):

</p><dl>
<dt><u>Variable:</u> <b>AR</b>
<a name="IDX172"></a>
</dt>
<dd><p>The name of the system library archiver.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>CC</b>
<a name="IDX173"></a>
</dt>
<dd><p>The name of the C compiler used to configure libtool.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>LD</b>
<a name="IDX174"></a>
</dt>
<dd><p>The name of the linker that libtool should use internally for reloadable
linking and possibly shared libraries.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>NM</b>
<a name="IDX175"></a>
</dt>
<dd><p>The name of a BSD-compatible <code>nm</code> program, which produces listings
of global symbols in one the following formats:

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example"><var>address</var> C <var>global-variable-name</var>
<var>address</var> D <var>global-variable-name</var>
<var>address</var> T <var>global-function-name</var>
</pre></td></tr></table></dd></dl>

<dl>
<dt><u>Variable:</u> <b>RANLIB</b>
<a name="IDX176"></a>
</dt>
<dd><p>Set to the name of the ranlib program, if any.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>allow_undefined_flag</b>
<a name="IDX177"></a>
</dt>
<dd><p>The flag that is used by `<samp>archive_cmds</samp>' in order to declare that
there will be unresolved symbols in the resulting shared library.
Empty, if no such flag is required.  Set to `<samp>unsupported</samp>' if there
is no way to generate a shared library with references to symbols that
aren't defined in that library.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>always_export_symbols</b>
<a name="IDX178"></a>
</dt>
<dd><p>Whether libtool should automatically generate a list of exported symbols
using <var>export_symbols_cmds</var> before linking an archive.
Set to `<samp>yes</samp>' or `<samp>no</samp>'.  Default is `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>archive_cmds</b>
<a name="IDX179"></a>
</dt>
<dt><u>Variable:</u> <b>archive_expsym_cmds</b>
<a name="IDX180"></a>
</dt>
<dt><u>Variable:</u> <b>old_archive_cmds</b>
<a name="IDX181"></a>
</dt>
<dd><p>Commands used to create shared libraries, shared libraries with
`<samp>-export-symbols</samp>' and static libraries, respectively.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>old_archive_from_new_cmds</b>
<a name="IDX182"></a>
</dt>
<dd><p>If the shared library depends on a static library,
`<samp>old_archive_from_new_cmds</samp>' contains the commands used to create that
static library.  If this variable is not empty, `<samp>old_archive_cmds</samp>' is
not used.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>old_archive_from_expsyms_cmds</b>
<a name="IDX183"></a>
</dt>
<dd><p>If a static library must be created from the export symbol list in order to
correctly link with a shared library, `<samp>old_archive_from_expsyms_cmds</samp>'
contains the commands needed to create that static library.  When these
commands are executed, the variable <var>soname</var> contains the name of the
shared library in question, and the <var>$objdir/$newlib</var> contains the
path of the static library these commands should build.  After executing
these commands, libtool will proceed to link against <var>$objdir/$newlib</var>
instead of <var>soname</var>.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>build_libtool_libs</b>
<a name="IDX184"></a>
</dt>
<dd><p>Whether libtool should build shared libraries on this system.  Set to
`<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>build_old_libs</b>
<a name="IDX185"></a>
</dt>
<dd><p>Whether libtool should build static libraries on this system.  Set to
`<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>compiler_c_o</b>
<a name="IDX186"></a>
</dt>
<dd><p>Whether the compiler supports the <code>-c</code> and <code>-o</code> options
simultaneously. Set to `<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>compiler_o_lo</b>
<a name="IDX187"></a>
</dt>
<dd><p>Whether the compiler supports compiling directly to a &quot;.lo&quot; file,
i.e whether object files do not have to have the suffix &quot;.o&quot;.
Set to `<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>dlopen_support</b>
<a name="IDX188"></a>
</dt>
<dd><p>Whether <code>dlopen</code> is supported on the platform.
Set to `<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>dlopen_self</b>
<a name="IDX189"></a>
</dt>
<dd><p>Whether it is possible to <code>dlopen</code> the executable itself.
Set to `<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>dlopen_self_static</b>
<a name="IDX190"></a>
</dt>
<dd><p>Whether it is possible to <code>dlopen</code> the executable itself, when it
is linked statically (`<samp>-all-static</samp>').  Set to `<samp>yes</samp>' or
`<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>echo</b>
<a name="IDX191"></a>
</dt>
<dd><p>An <code>echo</code> program which does not interpret backslashes as an
escape character.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>exclude_expsyms</b>
<a name="IDX192"></a>
</dt>
<dd><p>List of symbols that should not be listed in the preloaded symbols.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>export_dynamic_flag_spec</b>
<a name="IDX193"></a>
</dt>
<dd><p>Compiler link flag that allows a dlopened shared library to reference
symbols that are defined in the program.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>export_symbols_cmds</b>
<a name="IDX194"></a>
</dt>
<dd><p>Commands to extract exported symbols from <var>libobjs</var> to the
file <var>export_symbols</var>.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>extract_expsyms_cmds</b>
<a name="IDX195"></a>
</dt>
<dd><p>Commands to extract the exported symbols list from a shared library.
These commands are executed if there is no file <var>$objdir/$soname-def</var>,
and should write the names of the exported symbols to that file, for
the use of `<samp>old_archive_from_expsyms_cmds</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>fast_install</b>
<a name="IDX196"></a>
</dt>
<dd><p>Determines whether libtool will privilege the installer or the
developer.  The assumption is that installers will seldom run programs
in the build tree, and the developer will seldom install.  This is only
meaningful on platforms in which <var>shlibpath_overrides_runpath</var> is
not `<samp>yes</samp>', so <var>fast_install</var> will be set to `<samp>needless</samp>' in
this case.  If <var>fast_install</var> set to `<samp>yes</samp>', libtool will create
programs that search for installed libraries, and, if a program is run
in the build tree, a new copy will be linked on-demand to use the
yet-to-be-installed libraries.  If set to `<samp>no</samp>', libtool will create
programs that use the yet-to-be-installed libraries, and will link
a new copy of the program at install time.  The default value is
`<samp>yes</samp>' or `<samp>needless</samp>', depending on platform and configuration
flags, and it can be turned from `<samp>yes</samp>' to `<samp>no</samp>' with the
configure flag `<samp>--disable-fast-install</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>finish_cmds</b>
<a name="IDX197"></a>
</dt>
<dd><p>Commands to tell the dynamic linker how to find shared libraries in a
specific directory.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>finish_eval</b>
<a name="IDX198"></a>
</dt>
<dd><p>Same as <var>finish_cmds</var>, except the commands are not displayed.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>fix_srcfile_path</b>
<a name="IDX199"></a>
</dt>
<dd><p>Expression to fix the shell variable $srcfile for the compiler.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>global_symbol_pipe</b>
<a name="IDX200"></a>
</dt>
<dd><p>A pipeline that takes the output of <var>NM</var>, and produces a listing of
raw symbols followed by their C names.  For example:

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">$ <kbd>eval &quot;$NM progname | $global_symbol_pipe&quot;</kbd>
D <var>symbol1</var> <var>C-symbol1</var>
T <var>symbol2</var> <var>C-symbol2</var>
C <var>symbol3</var> <var>C-symbol3</var>
&hellip;
$
</pre></td></tr></table>
<p>The first column contains the symbol type (used to tell data from code
on some platforms), but its meaning is system dependent.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>global_symbol_to_cdecl</b>
<a name="IDX201"></a>
</dt>
<dd><p>A pipeline that translates the output of <var>global_symbol_pipe</var> into
proper C declarations.  On platforms whose linkers differentiate code
from data, such as HP/UX, data symbols will be declared as such, and
code symbols will be declared as functions.  On platforms that don't
care, everything is assumed to be data.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>hardcode_action</b>
<a name="IDX202"></a>
</dt>
<dd><p>Either `<samp>immediate</samp>' or `<samp>relink</samp>', depending on whether shared
library paths can be hardcoded into executables before they are installed,
or if they need to be relinked.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>hardcode_direct</b>
<a name="IDX203"></a>
</dt>
<dd><p>Set to `<samp>yes</samp>' or `<samp>no</samp>', depending on whether the linker
hardcodes directories if a library is directly specified on the command
line (such as `<samp><var>dir</var>/lib<var>name</var>.a</samp>') when
<var>hardcode_libdir_flag_spec</var> is specified.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>hardcode_into_libs</b>
<a name="IDX204"></a>
</dt>
<dd><p>Whether the platform supports hardcoding of run-paths into libraries.
If enabled, linking of programs will be much simpler but libraries will
need to be relinked during installation.   Set to `<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>hardcode_libdir_flag_spec</b>
<a name="IDX205"></a>
</dt>
<dd><p>Flag to hardcode a <var>libdir</var> variable into a binary, so that the
dynamic linker searches <var>libdir</var> for shared libraries at runtime.
If it is empty, libtool will try to use some other hardcoding mechanism.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>hardcode_libdir_separator</b>
<a name="IDX206"></a>
</dt>
<dd><p>If the compiler only accepts a single <var>hardcode_libdir_flag</var>, then
this variable contains the string that should separate multiple
arguments to that flag.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>hardcode_minus_L</b>
<a name="IDX207"></a>
</dt>
<dd><p>Set to `<samp>yes</samp>' or `<samp>no</samp>', depending on whether the linker
hardcodes directories specified by `<samp>-L</samp>' flags into the resulting
executable when <var>hardcode_libdir_flag_spec</var> is specified.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>hardcode_shlibpath_var</b>
<a name="IDX208"></a>
</dt>
<dd><p>Set to `<samp>yes</samp>' or `<samp>no</samp>', depending on whether the linker
hardcodes directories by writing the contents of `<samp>$shlibpath_var</samp>'
into the resulting executable when <var>hardcode_libdir_flag_spec</var> is
specified.  Set to `<samp>unsupported</samp>' if directories specified by
`<samp>$shlibpath_var</samp>' are searched at run time, but not at link time.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>host</b>
<a name="IDX209"></a>
</dt>
<dt><u>Variable:</u> <b>host_alias</b>
<a name="IDX210"></a>
</dt>
<dd><p>For information purposes, set to the specified and canonical names of
the system that libtool was configured for.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>include_expsyms</b>
<a name="IDX211"></a>
</dt>
<dd><p>List of symbols that must always be exported when using <var>export_symbols</var>.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>libext</b>
<a name="IDX212"></a>
</dt>
<dd><p>The standard old archive suffix (normally &quot;a&quot;).
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>libname_spec</b>
<a name="IDX213"></a>
</dt>
<dd><p>The format of a library name prefix.  On all Unix systems, static
libraries are called `<samp>lib<var>name</var>.a</samp>', but on some systems (such
as OS/2 or MS-DOS), the library is just called `<samp><var>name</var>.a</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>library_names_spec</b>
<a name="IDX214"></a>
</dt>
<dd><p>A list of shared library names.  The first is the name of the file,
the rest are symbolic links to the file.  The name in the list is
the file name that the linker finds when given `<samp>-l<var>name</var></samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>link_all_deplibs</b>
<a name="IDX215"></a>
</dt>
<dd><p>Whether libtool must link a program against all its dependency libraries.
Set to `<samp>yes</samp>' or `<samp>no</samp>'.  Default is `<samp>unknown</samp>', which is
a synonym for `<samp>yes</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>link_static_flag</b>
<a name="IDX216"></a>
</dt>
<dd><p>Linker flag (passed through the C compiler) used to prevent dynamic
linking.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>need_lib_prefix</b>
<a name="IDX217"></a>
</dt>
<dd><p>Whether libtool should automatically prefix module names with 'lib'.
Set to `<samp>yes</samp>' or `<samp>no</samp>'.  By default, it is `<samp>unknown</samp>', which
means the same as `<samp>yes</samp>', but documents that we are not really sure
about it.
`<samp>yes</samp>' means that it is possible both to <code>dlopen</code> and to
link against a library without 'lib' prefix,
i.e. it requires <var>hardcode_direct</var> to be `<samp>yes</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>need_version</b>
<a name="IDX218"></a>
</dt>
<dd><p>Whether versioning is required for libraries, i.e. whether the
dynamic linker requires a version suffix for all libraries.
Set to `<samp>yes</samp>' or `<samp>no</samp>'.  By default, it is `<samp>unknown</samp>', which
means the same as `<samp>yes</samp>', but documents that we are not really sure
about it.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>need_locks</b>
<a name="IDX219"></a>
</dt>
<dd><p>Whether files must be locked to prevent conflicts when compiling
simultaneously. Set to `<samp>yes</samp>' or `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>no_builtin_flag</b>
<a name="IDX220"></a>
</dt>
<dd><p>Compiler flag to disable builtin functions that conflict with declaring
external global symbols as <code>char</code>.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>no_undefined_flag</b>
<a name="IDX221"></a>
</dt>
<dd><p>The flag that is used by `<samp>archive_cmds</samp>' in order to declare that
there will be no unresolved symbols in the resulting shared library.
Empty, if no such flag is required.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>objdir</b>
<a name="IDX222"></a>
</dt>
<dd><p>The name of the directory that contains temporary libtool files.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>objext</b>
<a name="IDX223"></a>
</dt>
<dd><p>The standard object file suffix (normally &quot;o&quot;).
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>pic_flag</b>
<a name="IDX224"></a>
</dt>
<dd><p>Any additional compiler flags for building library object files.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>postinstall_cmds</b>
<a name="IDX225"></a>
</dt>
<dt><u>Variable:</u> <b>old_postinstall_cmds</b>
<a name="IDX226"></a>
</dt>
<dd><p>Commands run after installing a shared or static library, respectively.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>postuninstall_cmds</b>
<a name="IDX227"></a>
</dt>
<dt><u>Variable:</u> <b>old_postuninstall_cmds</b>
<a name="IDX228"></a>
</dt>
<dd><p>Commands run after uninstalling a shared or static library, respectively.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>reload_cmds</b>
<a name="IDX229"></a>
</dt>
<dt><u>Variable:</u> <b>reload_flag</b>
<a name="IDX230"></a>
</dt>
<dd><p>Commands to create a reloadable object.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>runpath_var</b>
<a name="IDX231"></a>
</dt>
<dd><p>The environment variable that tells the linker which directories to
hardcode in the resulting executable.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>shlibpath_overrides_runpath</b>
<a name="IDX232"></a>
</dt>
<dd><p>Indicates whether it is possible to override the hard-coded library
search path of a program with an environment variable.  If this is set
to no, libtool may have to create two copies of a program in the build
tree, one to be installed and one to be run in the build tree only.
When each of these copies is created depends on the value of
<code>fast_install</code>.  The default value is `<samp>unknown</samp>', which is
equivalent to `<samp>no</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>shlibpath_var</b>
<a name="IDX233"></a>
</dt>
<dd><p>The environment variable that tells the dynamic linker where to find
shared libraries.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>soname_spec</b>
<a name="IDX234"></a>
</dt>
<dd><p>The name coded into shared libraries, if different from the real name of
the file.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>striplib</b>
<a name="IDX235"></a>
</dt>
<dt><u>Variable:</u> <b>old_striplib</b>
<a name="IDX236"></a>
</dt>
<dd><p>Command to strip a shared (<code>striplib</code>) or static (<code>old_striplib</code>)
library, respectively.  If these variables are empty, the strip flag
in the install mode will be ignored for libraries (see section <a href="libtool_4.html#SEC19">Install mode</a>).
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>sys_lib_dlsearch_path_spec</b>
<a name="IDX237"></a>
</dt>
<dd><p>Expression to get the run-time system library search path.  Directories
that appear in this list are never hard-coded into executables.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>sys_lib_search_path_spec</b>
<a name="IDX238"></a>
</dt>
<dd><p>Expression to get the compile-time system library search path.  This
variable is used by libtool when it has to test whether a certain
library is shared or static.  The directories listed in
<var>shlibpath_var</var> are automatically appended to this list, every time
libtool runs (i.e., not at configuration time), because some linkers use
this variable to extend the library search path.  Linker switches such
as <code>-L</code> also augment the search path.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>thread_safe_flag_spec</b>
<a name="IDX239"></a>
</dt>
<dd><p>Linker flag (passed through the C compiler) used to generate thread-safe
libraries.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>version_type</b>
<a name="IDX240"></a>
</dt>
<dd><p>The library version numbering type.  One of `<samp>libtool</samp>',
`<samp>freebsd-aout</samp>', `<samp>freebsd-elf</samp>', `<samp>irix</samp>', `<samp>linux</samp>',
`<samp>osf</samp>', `<samp>sunos</samp>', `<samp>windows</samp>', or `<samp>none</samp>'.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>whole_archive_flag_spec</b>
<a name="IDX241"></a>
</dt>
<dd><p>Compiler flag to generate shared objects from convenience archives.
</p></dd></dl>

<dl>
<dt><u>Variable:</u> <b>wl</b>
<a name="IDX242"></a>
</dt>
<dd><p>The C compiler flag that allows libtool to pass a flag directly to the
linker.  Used as: <code>${wl}<var>some-flag</var></code>.
</p></dd></dl>

<p>Variables ending in `<samp>_cmds</samp>' or `<samp>_eval</samp>' contain a
`<samp>~</samp>'-separated list of commands that are <code>eval</code>ed one after
another.  If any of the commands return a nonzero exit status, libtool
generally exits with an error message.

</p><p>Variables ending in `<samp>_spec</samp>' are <code>eval</code>ed before being used by
libtool.

</p><hr size="6">
<a name="NOD72"></a>
<a name="SEC72"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC71" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC60" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 13.5 Cheap tricks </h2>

<p>Here are a few tricks that you can use in order to make maintainership
easier:

</p><ul>
<li>
<p>When people report bugs, ask them to use the `<samp>--config</samp>',
`<samp>--debug</samp>', or `<samp>--features</samp>' flags, if you think they will help
you.  These flags are there to help you get information directly, rather
than having to trust second-hand observation.

</p></li><li>
<p>Rather than reconfiguring libtool every time I make a change to
<code>ltmain.in</code>, I keep a permanent <code>libtool</code> script in my
<var>PATH</var>, which sources <code>ltmain.in</code> directly.

</p><p>The following steps describe how to create such a script, where
<code>/home/src/libtool</code> is the directory containing the libtool source
tree, <code>/home/src/libtool/libtool</code> is a libtool script that has been
configured for your platform, and <code>~/bin</code> is a directory in your
<var>PATH</var>:

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">trick$ cd ~/bin
trick$ sed '/^# ltmain\.sh/q' /home/src/libtool/libtool &gt; libtool
trick$ echo '. /home/src/libtool/ltmain.in' &gt;&gt; libtool
trick$ chmod +x libtool
trick$ libtool --version
ltmain.sh (GNU @PACKAGE@) @VERSION@@TIMESTAMP@
trick$
</pre></td></tr></table></li></ul>

<p>The output of the final `<samp>libtool --version</samp>' command shows that the
<code>ltmain.in</code> script is being used directly.  Now, modify
<code>~/bin/libtool</code> or <code>/home/src/libtool/ltmain.in</code> directly in
order to test new changes without having to rerun <code>configure</code>.

</p>
<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC60" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="libtool_14.html#SEC73" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="libtool.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="libtool_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="libtool_15.html#SEC86" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="libtool_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>System Administrator</em> on <em>February, 19 2008</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.70</em></a>.
 </font>
 <br>

</p>
</body>
</html>
