<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>vImage Histogram Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="vImage Histogram Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005491-DontLinkChapterID_1" title="vImage Histogram Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Performance/index.html#//apple_ref/doc/uid/TP30001281-TP30000430" target="_top">Performance</a> &gt; <a href="../../../../../reference/Performance/idxGraphicsImaging-date.html#//apple_ref/doc/uid/TP30001281-TP30000430-TP30000450" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../index.html" target="_top">vImage Histogram Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../revhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005491-DontLinkChapterID_1-DontLinkElementID_7" title="vImage Histogram Reference"></a><h1>vImage Histogram Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../vDSP_Reference_Collection/index.html#//apple_ref/doc/uid/TP40006226" target="_top">Accelerate</a>/vImage</div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guide</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../Conceptual/vImage/index.html#//apple_ref/doc/uid/TP30001001" target="_top">vImage Programming Guide</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">Histogram.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40005491-CH1-DontLinkElementID_5" title="Overview"></a><h2>Overview</h2><p>Histogram functions calculate image histograms or manipulate a histogram to modify an image. There are a number of reasons to apply histogram operations to an image. An image may not make full use of the possible range of intensity values—for example, most of its pixels may be fairly dark, making details difficult to see. Changing the image so that it has a more uniform histogram can improve contrast. Also, it may be easier to compare two images (with respect to texture or other aspects) if you change each histogram to match some standard histogram.</p><p>Histogram operations are <strong>point operations</strong>: that is, the intensity of a destination pixel depends only on the intensity of the source pixel, modified by values that are the same over the entire image. Two pixels of the same intensity always map to two pixels of the same (but presumably altered) intensity. If the original image has N different intensity values, the transformed image will have at most N different intensity levels represented. </p><p>The vImage histogram functions either calculate histograms or perform one of these point operations: </p><ul class="ul"><li class="li"><p>Contrast stretch transforms an image so that its intensity values stretch out along the full range of intensity values. It is best used on images in which all the pixels are concentrated in one area of the intensity spectrum, and intensity values outside that area are not represented.</p></li><li class="li"><p>Ends-in contrast stretch is a more complex version of the contrast stretch operation. These types of functions are best used on images that have some pixels at or near the lowest and highest values of the intensity spectrum, but whose histogram is still mainly concentrated in one area. The ends-in contrast stretch functions map all intensities less than or equal to a certain level to 0; all intensities greater than or equal to a certain level to 255; and perform a contrast stretch on all the values in between. The low and high levels are not defined directly by two given intensity values, but by percentages: the ends-in contrast stretch operation must find intensity levels such that a certain percent of pixels are below one of the intensity values, and a certain percent are above the other intensity value</p></li><li class="li"><p>Equalization transforms an image so that it has a more uniform histogram. A truly uniform histogram is one in which each intensity level occurs with equal frequency. These functions approximate that histogram. </p></li><li class="li"><p>Histogram specification transforms an image so that its histogram more closely resembles a given histogram.</p></li></ul><a name="//apple_ref/doc/uid/TP40005491-DontLinkChapterID_1-DontLinkElementID_6" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_1" title="Stretching the Contrast"></a>
    
    <h3 class="tasks">Stretching the Contrast</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageContrastStretch_ARGBFFFF">vImageContrastStretch_ARGBFFFF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Stretches the contrast of an ARGBFFFF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageContrastStretch_ARGB8888">vImageContrastStretch_ARGB8888</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Stretches the contrast of an  ARGB8888 source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageContrastStretch_PlanarF">vImageContrastStretch_PlanarF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Stretches the contrast of a PlanarF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageContrastStretch_Planar8">vImageContrastStretch_Planar8</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Stretches the contrast of a Planar8 source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEndsInContrastStretch_ARGBFFFF">vImageEndsInContrastStretch_ARGBFFFF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs an ends-in contrast stretch operation on an ARGBFFFF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEndsInContrastStretch_ARGB8888">vImageEndsInContrastStretch_ARGB8888</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs an ends-in contrast stretch operation on an ARGB8888 source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEndsInContrastStretch_PlanarF">vImageEndsInContrastStretch_PlanarF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs an ends-in contrast stretch operation on a PlanarF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEndsInContrastStretch_Planar8">vImageEndsInContrastStretch_Planar8</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs an ends-in contrast stretch operation on a Planar8 source image.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_2" title="Equalizing a Histogram"></a>
    
    <h3 class="tasks">Equalizing a Histogram</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEqualization_ARGBFFFF">vImageEqualization_ARGBFFFF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Equalizes the histogram of an ARGBFFFF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEqualization_ARGB8888">vImageEqualization_ARGB8888</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Equalizes the histogram of an ARGB8888 source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEqualization_PlanarF">vImageEqualization_PlanarF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Equalizes the histogram of a PlanarF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageEqualization_Planar8">vImageEqualization_Planar8</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Equalizes the histogram of an  ARGB8888 source image.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_3" title="Specifying a Histogram"></a>
    
    <h3 class="tasks">Specifying a Histogram</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramSpecification_ARGBFFFF">vImageHistogramSpecification_ARGBFFFF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs a histogram specification operation on an ARGBFFFF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramSpecification_ARGB8888">vImageHistogramSpecification_ARGB8888</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs a histogram specification operation on an ARGB8888 source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramSpecification_PlanarF">vImageHistogramSpecification_PlanarF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs a histogram specification operation on a PlanarF source image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramSpecification_Planar8">vImageHistogramSpecification_Planar8</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Performs a histogram specification operation on a Planar8 source image.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005491-CH210-347558" title="Calculating a Histogram"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-TPXREF106" title="Calculating a Histogram"></a>
    
    <h3 class="tasks">Calculating a Histogram</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramCalculation_ARGBFFFF">vImageHistogramCalculation_ARGBFFFF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calculates histograms for each channel of an ARGBFFFF image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramCalculation_ARGB8888">vImageHistogramCalculation_ARGB8888</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calculates histograms for each channel of an ARGB8888 image.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramCalculation_PlanarF">vImageHistogramCalculation_PlanarF</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calculates the histogram  a PlanarF image. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageHistogramCalculation_Planar8">vImageHistogramCalculation_Planar8</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Calculates a histogram for a Planar8 image.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_4" title="Getting the Minimum Buffer Size."></a>
    
    <h3 class="tasks">Getting the Minimum Buffer Size.</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/vImageGetMinimumTempBufferSizeForHistogram">vImageGetMinimumTempBufferSizeForHistogram</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the minimum size, in bytes, for the temporary buffer needed by a histogram function.&#032;(<font color="red">Deprecated.</font>&#032;Use the <code>kvImageGetTempBufferSize</code> flag with the appropriate histogram function instead of calling this function.)'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40005491-CH210-222475" title="Functions"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-BBCCEIDH" title="Functions"></a><h2><a name="//apple_ref/doc/uid/TP40005491-CH210-TPXREF102" title="Functions"></a>Functions</h2>                      <a name="//apple_ref/c/func/vImageContrastStretch_ARGB8888" title="vImageContrastStretch_ARGB8888"></a><a name="//apple_ref/doc/c_ref/vImageContrastStretch_ARGB8888" title="vImageContrastStretch_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageContrastStretch_ARGB8888" title="vImageContrastStretch_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_9"></a><h3 class="tight">vImageContrastStretch_ARGB8888</h3> <p class="spaceabove">Stretches the contrast of an  ARGB8888 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageContrastStretch_ARGB8888 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The contrast stretch operation alters the image histogram so that pixel values can be found at both the lowest and highest end of the histogram, with values in between “stretched” in a linear fashion. The contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values  are the same for each of the four histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageContrastStretch_ARGBFFFF" title="vImageContrastStretch_ARGBFFFF"></a><a name="//apple_ref/doc/c_ref/vImageContrastStretch_ARGBFFFF" title="vImageContrastStretch_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageContrastStretch_ARGBFFFF" title="vImageContrastStretch_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_10"></a><h3 class="tight">vImageContrastStretch_ARGBFFFF</h3> <p class="spaceabove">Stretches the contrast of an ARGBFFFF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageContrastStretch_ARGBFFFF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or bins,  to use in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value, the low end of the histogram. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. This minimum value is applied to each of the four channels separately.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value, the high end of the histogram. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. This maximum value is applied to each of the four channels separately.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5> <p>The contrast stretch operation alters the image histogram so that pixel values can be found at both the lowest and highest end of the histogram, with values in between “stretched” in a linear fashion. The contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values  are the same for each of the four histograms.</p> <p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageContrastStretch_Planar8" title="vImageContrastStretch_Planar8"></a><a name="//apple_ref/doc/c_ref/vImageContrastStretch_Planar8" title="vImageContrastStretch_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageContrastStretch_Planar8" title="vImageContrastStretch_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_11"></a><h3 class="tight">vImageContrastStretch_Planar8</h3> <p class="spaceabove">Stretches the contrast of a Planar8 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageContrastStretch_Planar8 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The contrast stretch operation alters the image histogram so that pixel values can be found at both the lowest and highest end of the histogram, with values in between “stretched” in a linear fashion. The contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values  are the same for each of the four histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageContrastStretch_PlanarF" title="vImageContrastStretch_PlanarF"></a><a name="//apple_ref/doc/c_ref/vImageContrastStretch_PlanarF" title="vImageContrastStretch_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageContrastStretch_PlanarF" title="vImageContrastStretch_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_12"></a><h3 class="tight">vImageContrastStretch_PlanarF</h3> <p class="spaceabove">Stretches the contrast of a PlanarF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageContrastStretch_PlanarF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins,” to be used in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value, the low end of the histogram. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value, the high end of the histogram. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The contrast stretch operation alters the image histogram so that pixel values can be found at both the lowest and highest end of the histogram, with values in between “stretched” in a linear fashion. The contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values  are the same for each of the four histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEndsInContrastStretch_ARGB8888" title="vImageEndsInContrastStretch_ARGB8888"></a><a name="//apple_ref/doc/c_ref/vImageEndsInContrastStretch_ARGB8888" title="vImageEndsInContrastStretch_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEndsInContrastStretch_ARGB8888" title="vImageEndsInContrastStretch_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_13"></a><h3 class="tight">vImageEndsInContrastStretch_ARGB8888</h3> <p class="spaceabove">Performs an ends-in contrast stretch operation on an ARGB8888 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEndsInContrastStretch_ARGB8888 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   const unsigned int percent_low[4],
   const unsigned int percent_high[4],
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>percent_low</em></dt> <dd><p>A percentage value. The number of pixels that map to the lowest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>percent_high</em></dt> <dd><p>A percentage value. The number of pixels that map to the highest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The ends-in contrast stretch operation alters the image histogram so that a certain percentage of pixels are mapped to the lowest end of the histogram, a certain percentage are mapped to the highest end, and the values in between “stretched” between the lowest and the highest. The ends-in contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However the size and range values are the same for each of the four histograms. In general, it is not possible to get exactly the desired percentage of pixels at the low end and the high end of the histogram of the transformed image. This operation only approximates the given values.</p><p>The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEndsInContrastStretch_ARGBFFFF" title="vImageEndsInContrastStretch_ARGBFFFF"></a><a name="//apple_ref/doc/c_ref/vImageEndsInContrastStretch_ARGBFFFF" title="vImageEndsInContrastStretch_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEndsInContrastStretch_ARGBFFFF" title="vImageEndsInContrastStretch_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_14"></a><h3 class="tight">vImageEndsInContrastStretch_ARGBFFFF</h3> <p class="spaceabove">Performs an ends-in contrast stretch operation on an ARGBFFFF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEndsInContrastStretch_ARGBFFFF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   const unsigned int percent_low[4],
   const unsigned int percent_high[4],
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>percent_low</em></dt> <dd><p>A percentage value. The number of pixels that map to the lowest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>percent_high</em></dt> <dd><p>A percentage value. The number of pixels that map to the highest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins,” to be used in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value, the low end of the histogram. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. This minimum value is applied to each of the four channels separately.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value, the high end of the histogram. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. This maximum value is applied to each of the four channels separately.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5> <p>The ends-in contrast stretch operation alters the image histogram so that a certain percentage of pixels are mapped to the lowest end of the histogram, a certain percentage are mapped to the highest end, and the values in between “stretched” between the lowest and the highest. The ends-in contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However the size and range values are the same for each of the four histograms. In general, it is not possible to get exactly the desired percentage of pixels at the low end and the high end of the histogram of the transformed image. This operation only approximates the given values.</p> <p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEndsInContrastStretch_Planar8" title="vImageEndsInContrastStretch_Planar8"></a><a name="//apple_ref/doc/c_ref/vImageEndsInContrastStretch_Planar8" title="vImageEndsInContrastStretch_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEndsInContrastStretch_Planar8" title="vImageEndsInContrastStretch_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_15"></a><h3 class="tight">vImageEndsInContrastStretch_Planar8</h3> <p class="spaceabove">Performs an ends-in contrast stretch operation on a Planar8 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEndsInContrastStretch_Planar8 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   unsigned int percent_low,
   unsigned int percent_high,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>percent_low</em></dt> <dd><p>A percentage value. The number of pixels that map to the lowest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>percent_high</em></dt> <dd><p>A percentage value. The number of pixels that map to the highest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The ends-in contrast stretch operation alters the image histogram so that a certain percentage of pixels are mapped to the lowest end of the histogram, a certain percentage are mapped to the highest end, and the values in between “stretched” between the lowest and the highest. The ends-in contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However the size and range values are the same for each of the four histograms. In general, it is not possible to get exactly the desired percentage of pixels at the low end and the high end of the histogram of the transformed image. This operation only approximates the given values.</p><p>The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEndsInContrastStretch_PlanarF" title="vImageEndsInContrastStretch_PlanarF"></a><a name="//apple_ref/doc/c_ref/vImageEndsInContrastStretch_PlanarF" title="vImageEndsInContrastStretch_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEndsInContrastStretch_PlanarF" title="vImageEndsInContrastStretch_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_16"></a><h3 class="tight">vImageEndsInContrastStretch_PlanarF</h3> <p class="spaceabove">Performs an ends-in contrast stretch operation on a PlanarF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEndsInContrastStretch_PlanarF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   unsigned int percent_low,
   unsigned int percent_high,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>percent_low</em></dt> <dd><p>A percentage value. The number of pixels that map to the lowest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>percent_high</em></dt> <dd><p>A percentage value. The number of pixels that map to the highest end of the histogram of the transformed image should represent this percentage of the total pixels.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins,” to be used in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value, the low end of the histogram. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. </p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value, the high end of the histogram. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. </p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The ends-in contrast stretch operation alters the image histogram so that a certain percentage of pixels are mapped to the lowest end of the histogram, a certain percentage are mapped to the highest end, and the values in between “stretched” between the lowest and the highest. The ends-in contrast stretch operation is done separately for each of the four channels—alpha, red, green, and blue. However the size and range values are the same for each of the four histograms. In general, it is not possible to get exactly the desired percentage of pixels at the low end and the high end of the histogram of the transformed image. This operation only approximates the given values.</p><p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEqualization_ARGB8888" title="vImageEqualization_ARGB8888"></a><a name="//apple_ref/doc/c_ref/vImageEqualization_ARGB8888" title="vImageEqualization_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEqualization_ARGB8888" title="vImageEqualization_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_17"></a><h3 class="tight">vImageEqualization_ARGB8888</h3> <p class="spaceabove">Equalizes the histogram of an ARGB8888 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEqualization_ARGB8888 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The equalization operation alters the image histogram so that it is closer to a uniform intensity distribution. The histogram equalization operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values are the same for each of the four histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEqualization_ARGBFFFF" title="vImageEqualization_ARGBFFFF"></a><a name="//apple_ref/doc/c_ref/vImageEqualization_ARGBFFFF" title="vImageEqualization_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEqualization_ARGBFFFF" title="vImageEqualization_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_18"></a><h3 class="tight">vImageEqualization_ARGBFFFF</h3> <p class="spaceabove">Equalizes the histogram of an ARGBFFFF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEqualization_ARGBFFFF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins,” to be used in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. This minimum value is applied to each of the four channels separately.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. This maximum value is applied to each of the four channels separately.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5> <p>The equalization operation alters the image histogram so that it is closer to a uniform intensity distribution. The histogram equalization operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values are the same for each of the four histograms.</p> <p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEqualization_Planar8" title="vImageEqualization_Planar8"></a><a name="//apple_ref/doc/c_ref/vImageEqualization_Planar8" title="vImageEqualization_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEqualization_Planar8" title="vImageEqualization_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_19"></a><h3 class="tight">vImageEqualization_Planar8</h3> <p class="spaceabove">Equalizes the histogram of an  ARGB8888 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEqualization_Planar8 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5> <p>The equalization operation alters the image histogram so that it is closer to a uniform intensity distribution. The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageEqualization_PlanarF" title="vImageEqualization_PlanarF"></a><a name="//apple_ref/doc/c_ref/vImageEqualization_PlanarF" title="vImageEqualization_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageEqualization_PlanarF" title="vImageEqualization_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_20"></a><h3 class="tight">vImageEqualization_PlanarF</h3> <p class="spaceabove">Equalizes the histogram of a PlanarF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageEqualization_PlanarF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins,” to be used in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. This minimum value is applied to each of the four channels separately.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. This maximum value is applied to each of the four channels separately.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The equalization operation alters the image histogram so that it is closer to a uniform intensity distribution. The histogram equalization operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values are the same for each of the four histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageGetMinimumTempBufferSizeForHistogram" title="vImageGetMinimumTempBufferSizeForHistogram"></a><a name="//apple_ref/doc/c_ref/vImageGetMinimumTempBufferSizeForHistogram" title="vImageGetMinimumTempBufferSizeForHistogram"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageGetMinimumTempBufferSizeForHistogram" title="vImageGetMinimumTempBufferSizeForHistogram"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_21"></a><h3 class="tight">vImageGetMinimumTempBufferSizeForHistogram</h3> <p class="spaceabove">Returns the minimum size, in bytes, for the temporary buffer needed by a histogram function.&#032;(<strong>Deprecated.</strong>&#032;Use the <code>kvImageGetTempBufferSize</code> flag with the appropriate histogram function instead of calling this function.)</p> <p class="spaceabove"><pre>
size_t vImageGetMinimumTempBufferSizeForHistogram (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags,
   size_t bytesPerPixel
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to the vImage buffer structure that  you plan to pass to the histogram function.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer structure that  you plan to pass to  the histogram function.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram that you plan to pass to the histogram function.</p></dd> <dt><em>flags</em></dt> <dd><p>The flags that you plan to pass to the histogram function.</p></dd> <dt><em>pixelBytes</em></dt> <dd><p>The number of bytes in a pixel. Make sure to pass the value appropriate for the format of the pixel.</p></dd></dl> <h5 class="tight">Return Value</h5> <p>The minimum size, in bytes, of the temporary buffer.</p> <h5 class="tight">Discussion</h5><p>This function does not depend on the <em>data</em> or <em>rowBytes</em> fields of the <em>src</em> or <em>dest</em> parameters; it only uses the <em>height</em> and <em>width</em> fields from those parameters. If the size of the images you are processing stay the same, then the required size of the buffer will also stay the same. More specifically, if, between two calls to <code><a href="reference.html#//apple_ref/doc/c_ref/vImageGetMinimumTempBufferSizeForHistogram">vImageGetMinimumTempBufferSizeForHistogram</a></code>, the <code>height</code> and <code>width</code> of the <em>src</em> and <em>dest</em> parameters do not increase, and the other parameters remain the same, then the result of the <code><a href="reference.html#//apple_ref/doc/c_ref/vImageGetMinimumTempBufferSizeForHistogram">vImageGetMinimumTempBufferSizeForHistogram</a></code> will not increase. This makes it easy to reuse the same temporary buffer when you are processing a number of images of the same size, as in tiling. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramCalculation_ARGB8888" title="vImageHistogramCalculation_ARGB8888"></a><a name="//apple_ref/doc/c_ref/vImageHistogramCalculation_ARGB8888" title="vImageHistogramCalculation_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramCalculation_ARGB8888" title="vImageHistogramCalculation_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_22"></a><h3 class="tight">vImageHistogramCalculation_ARGB8888</h3> <p class="spaceabove">Calculates histograms for each channel of an ARGB8888 image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramCalculation_ARGB8888 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *histogram[4],
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>histogram</em></dt> <dd><p>A pointer to a histograms, one each for alpha, red, green, and blue (in that order). On return, this array will contain the four histograms for the corresponding channels. Each of the four histograms will be an array with 256 elements.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The function calculates the histogram for each channel completely separately from the others. However, size and range values are the same for each of the four histograms.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramCalculation_ARGBFFFF" title="vImageHistogramCalculation_ARGBFFFF"></a><a name="//apple_ref/doc/c_ref/vImageHistogramCalculation_ARGBFFFF" title="vImageHistogramCalculation_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramCalculation_ARGBFFFF" title="vImageHistogramCalculation_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_23"></a><h3 class="tight">vImageHistogramCalculation_ARGBFFFF</h3> <p class="spaceabove">Calculates histograms for each channel of an ARGBFFFF image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramCalculation_ARGBFFFF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *histogram[4],
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>histogram</em></dt> <dd><p>A pointer to an array of four histograms, one each for alpha, red, green, and blue (in that order). On return, this array will contain the four histograms for the corresponding channels. Each of the four histograms will be an array with histogram_entries elements.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins.” Each of the four calculated histograms will be an array with histogram_entries elements.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. This minimum value is applied to each of the four channels separately.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. This maximum value is applied to each of the four channels separately.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5> <p>The function calculates the histogram for each channel completely separately from the others. However, size and range values are the same for each of the four histograms.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramCalculation_Planar8" title="vImageHistogramCalculation_Planar8"></a><a name="//apple_ref/doc/c_ref/vImageHistogramCalculation_Planar8" title="vImageHistogramCalculation_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramCalculation_Planar8" title="vImageHistogramCalculation_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_24"></a><h3 class="tight">vImageHistogramCalculation_Planar8</h3> <p class="spaceabove">Calculates a histogram for a Planar8 image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramCalculation_Planar8 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *histogram,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>histogram</em></dt> <dd><p>A pointer to a histogram. On return, this array will contain the histogram for the source image. The histogram will be an array with 256 elements.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramCalculation_PlanarF" title="vImageHistogramCalculation_PlanarF"></a><a name="//apple_ref/doc/c_ref/vImageHistogramCalculation_PlanarF" title="vImageHistogramCalculation_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramCalculation_PlanarF" title="vImageHistogramCalculation_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_25"></a><h3 class="tight">vImageHistogramCalculation_PlanarF</h3> <p class="spaceabove">Calculates the histogram  a PlanarF image. </p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramCalculation_PlanarF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *histogram,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>histogram</em></dt> <dd><p>A pointer to a histogram. On return, this array will contain the histogram for the source image. The histogram will have histogram_entries elements.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins.” The histogram will be an array with histogram_entries elements.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramSpecification_ARGB8888" title="vImageHistogramSpecification_ARGB8888"></a><a name="//apple_ref/doc/c_ref/vImageHistogramSpecification_ARGB8888" title="vImageHistogramSpecification_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramSpecification_ARGB8888" title="vImageHistogramSpecification_ARGB8888"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_26"></a><h3 class="tight">vImageHistogramSpecification_ARGB8888</h3> <p class="spaceabove">Performs a histogram specification operation on an ARGB8888 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramSpecification_ARGB8888 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   const <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *desired_histogram[4],
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>desiredHistogram</em></dt> <dd><p>A pointer to an array of four histograms, one each for alpha, red, green, and blue (in that order). These are the desired histograms for the transformed image. Each histogram should be an array with 256 elements.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The specification operation alters the image histogram so that it more closely resembles a given histogram. The histogram specification operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values are the same for each of the four histograms, and for each of the four desired histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramSpecification_ARGBFFFF" title="vImageHistogramSpecification_ARGBFFFF"></a><a name="//apple_ref/doc/c_ref/vImageHistogramSpecification_ARGBFFFF" title="vImageHistogramSpecification_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramSpecification_ARGBFFFF" title="vImageHistogramSpecification_ARGBFFFF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_27"></a><h3 class="tight">vImageHistogramSpecification_ARGBFFFF</h3> <p class="spaceabove">Performs a histogram specification operation on an ARGBFFFF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramSpecification_ARGBFFFF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   const <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *desired_histogram[4],
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>desiredHistogram</em></dt> <dd><p>A pointer to an array of four histograms, one each for alpha, red, green, and blue (in that order). These are the desired histograms for the transformed image. Each histogram should be an array with histogram_entries elements.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins,” to be used in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. This minimum value is applied to each of the four channels separately.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. This maximum value is applied to each of the four channels separately.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5> <p>The specification operation alters the image histogram so that it more closely resembles a given histogram. The histogram specification operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values are the same for each of the four histograms, and for each of the four desired histograms.</p> <p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramSpecification_Planar8" title="vImageHistogramSpecification_Planar8"></a><a name="//apple_ref/doc/c_ref/vImageHistogramSpecification_Planar8" title="vImageHistogramSpecification_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramSpecification_Planar8" title="vImageHistogramSpecification_Planar8"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_28"></a><h3 class="tight">vImageHistogramSpecification_Planar8</h3> <p class="spaceabove">Performs a histogram specification operation on a Planar8 source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramSpecification_Planar8 (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   const <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *desired_histogram,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>desiredHistogram</em></dt> <dd><p>A pointer the desired histogram for the transformed image. The histogram should be an array with 256 elements.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The specification operation alters the image histogram so that it more closely resembles a given histogram. The histogram specification operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values are the same for each of the four histograms, and for each of the four desired histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code><a name="//apple_ref/c/func/vImageHistogramSpecification_PlanarF" title="vImageHistogramSpecification_PlanarF"></a><a name="//apple_ref/doc/c_ref/vImageHistogramSpecification_PlanarF" title="vImageHistogramSpecification_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-vImageHistogramSpecification_PlanarF" title="vImageHistogramSpecification_PlanarF"></a><a name="//apple_ref/doc/uid/TP40005491-CH210-DontLinkElementID_29"></a><h3 class="tight">vImageHistogramSpecification_PlanarF</h3> <p class="spaceabove">Performs a histogram specification operation on a PlanarF source image.</p> <p class="spaceabove"><pre>
<a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Error" target="_top">vImage_Error</a> vImageHistogramSpecification_PlanarF (
   const <!--a-->vImage_Buffer<!--/a--> *src,
   const <!--a-->vImage_Buffer<!--/a--> *dest,
   void *tempBuffer,
   const <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImagePixelCount" target="_top">vImagePixelCount</a> *desired_histogram,
   unsigned int histogram_entries,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> minVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/Pixel_F" target="_top">Pixel_F</a> maxVal,
   <a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/vImage_Flags" target="_top">vImage_Flags</a> flags
);
</pre></p> <h5 class="tight">Parameters</h5><dl class="termdef"> <dt><em>src</em></dt> <dd><p>A pointer to a vImage buffer structure that contains  the source image.</p></dd> <dt><em>dest</em></dt> <dd><p>A pointer to a vImage buffer data structure. You are responsible for filling out the <code>height</code>, <code>width</code>, and <code>rowBytes</code> fields of this structure, and for allocating a data buffer of the appropriate size.  On return, the data buffer pointed to by this structure contains  the destination image data. When you no longer need the data buffer, you must deallocate the memory.</p></dd> <dt><em>tempBuffer</em></dt> <dd><p>A pointer to a temporary buffer. If you pass <code>NULL</code>, the function allocates the buffer, then deallocates it before returning. Alternatively, you can allocate the buffer yourself, in which case you are responsible for deallocating it when you is no longer need it.</p><p>If you want to allocate the buffer yourself, see the Discussion for information on how to determine the minimum size that you must allocate.</p></dd> <dt><em>desiredHistogram</em></dt> <dd><p>A pointer the desired histogram for the transformed image. The histogram should be an array with <em>histogram_entries</em> elements.</p></dd> <dt><em>histogram_entries</em></dt> <dd><p>The number of histogram entries, or “bins,” to be used in histograms for this operation.</p></dd> <dt><em>minVal</em></dt> <dd><p>A minimum pixel value. Any pixel value less than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the first histogram entry. This minimum value is applied to each of the four channels separately.</p></dd> <dt><em>maxVal</em></dt> <dd><p>A maximum pixel value. Any pixel value greater than this will be clipped to this value (for the purposes of histogram calculation), and assigned to the last histogram entry. This maximum value is applied to each of the four channels separately.</p></dd> <dt><em>flags</em></dt> <dd><p>The options to use. Set the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageDoNotTile" target="_top">kvImageDoNotTile</a></code> flag if you plan to perform your own tiling or use multithreading.</p><p>Set the  <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageLeaveAlphaUnchanged" target="_top">kvImageLeaveAlphaUnchanged</a></code> flag to copy the alpha channel to the destination image unchanged.</p></dd></dl> <h5 class="tight">Return Value</h5><p><code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageNoError" target="_top">kvImageNoError</a></code>, otherwise it returns one of the error codes described in <em><a href="../../vImage_types/index.html#//apple_ref/doc/uid/TP40005495" target="_top">vImage Data Types and Constants Reference</a></em>.</p> <h5 class="tight">Discussion</h5><p>The specification operation alters the image histogram so that it more closely resembles a given histogram. The histogram specification operation is done separately for each of the four channels—alpha, red, green, and blue. However, the size and range values are the same for each of the four histograms, and for each of the four desired histograms.</p><p>The source and destination buffers must have the same height and the same width.</p><p>If you want to allocate the memory for the <code>tempBuffer</code> parameter yourself, call this function twice, as follows:</p><ol class="ol"><li class="li"><p>To determine the minimum size for the temporary buffer, the first time you call this function pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag. Pass the same values for all other parameters that you intend to use in for the second call. The function returns the required minimum size, which should be a positive value. (A negative returned value indicates an error.) The <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag prevents the function from performing any processing other than to determine the minimum buffer size.</p></li><li class="li"><p>After you allocate enough space for a buffer of the returned size, call the function a second time, passing a valid pointer in the <code>tempBuffer</code> parameter. This time, do not pass the <code><a href="../../vImage_types/Reference/reference.html#//apple_ref/doc/c_ref/kvImageGetTempBufferSize" target="_top">kvImageGetTempBufferSize</a></code> flag.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Histogram.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../revhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-12<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Performance/Reference/vImage_histogram/Reference/reference.html%3Fid%3DTP40005491-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Performance/Reference/vImage_histogram/Reference/reference.html%3Fid%3DTP40005491-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Performance/Reference/vImage_histogram/Reference/reference.html%3Fid%3DTP40005491-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>