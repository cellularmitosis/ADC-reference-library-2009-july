<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Driver Execution</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.b3.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.b4.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.b6.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="H2.Heading2"><A NAME="pgfId=3511"> </A>Driver Execution</H1><P CLASS="T1.Text1"><A NAME="pgfId=3512"> </A>The asynchronous I/O model requires that a generic driver's responses to its <TT CLASS="cv">Read</TT>, <TT CLASS="cv">Write</TT>, <TT CLASS="cv">Control</TT>, and <TT CLASS="cv">Status</TT> entry points comply with the requirements of hardware interrupt level execution. This is because the Device Manager initiates requests that have been queued for the driver only after previously queued requests finish. Routine initiation and completion are both possible at the hardware interrupt level.</P><DIV><blockquote><p CLASS="ImportantHead"><b><A NAME="pgfId=16624"> </A>IMPORTANT</b></p><P CLASS="I.Important"><A NAME="pgfId=3513"> </A>A driver's <TT CLASS="cv">Open</TT>, <TT CLASS="cv">Close</TT>, <TT CLASS="cv">Initialize</TT>, <TT CLASS="cv">Finalize</TT>, <TT CLASS="cv">Replace</TT>, and <TT CLASS="cv">Superseded</TT> entry points are always invoked at task level. This is the only opportunity that a driver has to allocate memory or use other services that are only available at the task level. For memory allocation guidelines, see <A HREF="PCI_BOOK.144.html#19250" CLASS="XRef">Memory Management Services</A>. </P></blockquote><P CLASS="T1.Text1"><A NAME="pgfId=3523"> </A><A HREF="PCI_BOOK.1b0.html#15741" CLASS="XRef">Service Limitations</A> indicates which Mac&nbsp;OS services are available to drivers at hardware interrupt level and at secondary interrupt level. It is the responsibility of the driver writer to conform to these limitations. Drivers that violate the limitations will not work with future releases of Mac&nbsp;OS.<A NAME="marker=3524"> </A></P></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.b3.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.b4.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.b6.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>