<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Providing Minimal ColorSync Support</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING62></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACI-61.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-63.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACI-2.html"><B>Advanced Color Imaging on the Mac OS</B></A> / <BR><DD><A HREF="ACI-55.html"><B>Chapter 4 - Developing ColorSync-Supportive Applications</B></A> / <A HREF="ACI-60.html"><B>Developing Your ColorSync-Supportive Application</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING62-0></A>
<H2><A NAME=MARKER-2-48></A><A NAME=MARKER-9-49></A>Providing Minimal ColorSync Support</H2>
 The ICC's open architecture describes the profile format that all compliant CMSs must support. The common profile format allows one user to electronically transfer a document containing a color image to another user with the assurance that the original image will be rendered faithfully according to the source profile specification through use of a CMS such as the ColorSync Manager. <P>
 To ensure this, the application or driver used to create the image stores the profile for the source device in the document containing the color image. The application can do this automatically or allow the user to tag the image. If the source profile is embedded within the document, a user can move the document from one system to another without concern for whether the profile used to create the image is available. <P>
 To support the ColorSync Manager, your application should, at a minimum, leave profile information intact in the documents and pictures it imports or copies. That is, your application should not strip out profile information from documents or pictures created with other applications. Even if your application does not use profile information, your users may be able to take advantage of it when using the documents or pictures with other applications.<P>
 <A NAME=MARKER-2-50></A>For example, profiles and profile identifiers may be embedded in pictures that a user pastes into documents created by your application. (A <I>profile identifier</I> is an abbreviated data structure that identifies, and possibly modifies, a profile in memory or on disk. For more information on profile identifiers, see <A HREF=ACI-77.html#MARKER-9-178>"Searching for a Profile That Matches a Profile Identifier" (page 4-75)</A>.) Profiles and profile identifiers can be embedded in formats such as PICT or TIFF files. For files of type <CODE>'PICT'</CODE>, the <A NAME=MARKER-2-51></A>ColorSync Manager defines the following picture comments for embedding profiles and profile identifiers, and for performing color matching:<P>
<PRE>
/* PicComment IDs */
enum {
   cmBeginProfile    = 220,/* begin ColorSync 1.0 profile */
   cmEndProfile      = 221,/* end a ColorSync 2.x or 1.0
                              profile */
   cmEnableMatching  = 222,/* begin color matching for either
                              ColorSync 2.x or 1.0 */
   cmDisableMatching = 223,/* end color matching for either
                              ColorSync 2.x or 1.0 */
   cmComment         = 224 /* embedded ColorSync 2.x profile
                              information */
};
</PRE>
 The picture comment <CODE>kind</CODE> value of cmComment is defined for embedded ColorSync Manager version 2.x profiles and profile identifiers. This picture comment is followed by a 4-byte selector that describes the type of data in the picture comment.<P>
<PRE>
/* PicComment selectors for cmComment */
enum {
   cmBeginProfileSel = 0,  /* begining of a ColorSync 2.x 
                              profile; profile data to 
                              follow */
   cmContinueProfileSel= 1,/* continuation of a ColorSync
                              2.x profile; profile data to 
                              follow */
   cmEndProfileSel   = 2   /* end of ColorSync 2.x profile 
                              data; no profile data follows */
   cmProfileIdentifierSel= 3/* profile identifier information
                              follows; the matching profile
                              may be stored in the image or
                              on disk */
};
</PRE>
 Your application should leave these comments and the embedded profile information they define intact. Similarly, if your application imports or converts file types defined by other applications, your application should maintain the profile information embedded in those files, too.<P>
 Your application can also embed picture comments and profiles in documents and pictures it creates or modifies. For information describing how to do this, see <A HREF=ACI-69.html#MARKER-9-91>"Embedding Profiles and Profile Identifiers" (page 4-32)</A>. <I>Inside Macintosh: Imaging With QuickDraw</I> describes picture comments in detail.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACI-61.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-63.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACI-3.html">&copy; Apple Computer, Inc.</A><br>13 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
