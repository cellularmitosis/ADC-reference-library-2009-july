<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Segmented Controls Programming Guide for Cocoa: Using Segmented Controls</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Using Segmented Controls"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002250" title="Using Segmented Controls"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../UserExperience-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000465" target="_top">User Experience</a> &gt; <a href="../index.html" target="_top">Segmented Controls Programming Guide for Cocoa</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SegmentedControlBasics.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002250-BBCCFIBJ" title="Using Segmented Controls"></a><hr /><H1>Using Segmented Controls</H1><p>You can create and configure a segmented control programatically or using Interface Builder. You can also interact with the control programatically, for example to set the selection, and to enable and disable segments.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-129336">Creating and Configuring a Segmented Control</a>
				
			<br/>
			
        
			
			
				<a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-129646">Combining Segments With Different Attributes</a>
				
			<br/>
			
        
			
			
				<a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-131659">Interacting With a Segmented Control</a>
				
			<br/>
			
        
			
			
				<a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-129958">Tags and Target-Action</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002250-129336" title="Creating and Configuring a Segmented Control"></a><h2>Creating and Configuring a Segmented Control</h2><p>There are a number of aspects of a segmented control that you should configure: its tracking mode—the way in which selections are handled; how many segments it contains; and the properties of each segment. Segmented controls support three different tracking modes, specified by the following constants:</p><dl class="termdef">	<dl class="content_text"><b><code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingSelectOne" target="_top">NSSegmentSwitchTrackingSelectOne</a></code></b><dd><p>Only one button can be selected</p></dd></dl><dl class="content_text"><b><code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingSelectAny" target="_top">NSSegmentSwitchTrackingSelectAny</a></code></b><dd><p>Any button can be selected</p></dd></dl><dl class="content_text"><b><code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingMomentary" target="_top">NSSegmentSwitchTrackingMomentary</a></code></b><dd><p>Segments are selected only while tracking</p></dd></dl></dl><a name="//apple_ref/doc/uid/20002250-SW1" title="Configuring a Segmented Control in Interface Builder"></a><h3>Configuring a Segmented Control in Interface Builder</h3><p>The easiest way to create a segmented control is in Interface Builder. To do so, simply drag a segmented control from the Cocoa-Controls palette to your window. Use the Attributes panes of the Inspector window to configure the attributes of the segmented control. These are:</p><ul class="spaceabove"><li class="li"><p><strong>Size</strong>. Specifies the control size. Like other controls, segmented controls come in three sizes: regular, small, and mini.</p></li><li class="li"><p><strong>Selection</strong>. Specifies the tracking mode of the segmented control. The possible options are:</p><ul class="nested"><li class="nested li"><p><strong>Single</strong>. This corresponds to the constant<code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingSelectOne" target="_top">NSSegmentSwitchTrackingSelectOne</a></code> and specifies that only one segment can be selected. </p></li><li class="nested li"><p><strong>Multiple</strong>. This corresponds to the constant <code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingSelectAny" target="_top">NSSegmentSwitchTrackingSelectAny</a></code> and specifies that any segment can be selected. </p></li><li class="nested li"><p><strong>Momentary</strong>. This corresponds to the constant <code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingMomentary" target="_top">NSSegmentSwitchTrackingMomentary</a></code> and indicates that segments are selected only while tracking.</p></li></ul></li><li class="li"><p><strong>Text Direction</strong>. Specifies the direction of any label text. This defaults to Natural, indicating the text direction native to the user's current language settings.</p></li><li class="li"><p><strong>Segments</strong>. Specifies the number of segments in the segmented control. </p></li><li class="li"><p><strong>Tag</strong>. Specifies a tag identifying the segmented control. </p></li><li class="li"><p><strong>Segment Widths</strong>. Specifies the width of the individual segments in the segmented control. By default, segments are autosized to fit their contents. If you want to ensure a fixed width for each segment, you can specify that width here. You can type in a specific width or you can use the Avg and Max buttons to calculate the current average or maximum segment width, respectively, and set the fixed segment width to that number.</p></li></ul><p>Certain attributes must be configured individually for each segment. To configure a segment, double-click to select it. The Inspector window for an <code>NSSegmentedCell</code> lets you configure these attributes:</p><ul class="spaceabove"><li class="li"><p><strong>Label</strong>. Specifies the text label of the segment, if any.</p></li><li class="li"><p><strong>Tag</strong>. Specifies a tag identifying the individual segment.</p></li><li class="li"><p><strong>Icon</strong>. A file containing the image for the segment to display. A segment should have either an icon or a text label, but not both. See <span class="content_text"><a href="../../../../UserExperience/Conceptual/AppleHIGuidelines/XHIGControls/XHIGControls.html#//apple_ref/doc/uid/TP30000359" target="_top">Controls</a></span> in <em><a href="../../../../UserExperience/Conceptual/AppleHIGuidelines/index.html#//apple_ref/doc/uid/20000957" target="_top">Apple Human Interface Guidelines</a></em>.</p></li></ul><a name="//apple_ref/doc/uid/20002250-129196" title="Configuring a Segmented Control Programatically"></a><h3>Configuring a Segmented Control Programatically</h3><p>You can also create a segmented control programmatically. One of the simplest applications of a segmented control is its use as a compact alternative to a group of radio buttons. Here, the user makes a single selection from a number of options. <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-129209-BCIGJDJD">Listing 1</a></span> shows code to create a control like one found in iPhoto.</p><a name="//apple_ref/doc/uid/20002250-129209-BCIGJDJD" title="Listing 1Simple text-based example"></a><p class="codesample"><a name="//apple_ref/doc/uid/20002250-129209" title="Listing 1Simple text-based example"></a><strong>Listing 1&nbsp;&nbsp;</strong>Simple text-based example</p><div class="codesample"><table><tr><td scope="row"><pre>// Set the number of segments<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setSegmentCount:4];<span></span></pre></td></tr><tr><td scope="row"><pre>// Set titles for each segment<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setLabel:@"Import" forSegment:0];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setLabel:@"Organize" forSegment:1];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setLabel:@"Edit" forSegment:2];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setLabel:@"Book" forSegment:3];<span></span></pre></td></tr></table></div><p>By default a segmented control autosizes to fit. To programatically mark a segment as autosizing, set its width to <code>0</code>. If any segments are marked as autosizing, then the widths are adjusted so that all segments are displayed completely in the control.</p><p>If you want to ensure a fixed size, perhaps with each segment the same width, you must set the width of each segment individually, as shown in <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-130407-BCIHFGCB">Listing 2</a></span>. </p><a name="//apple_ref/doc/uid/20002250-130407-BCIHFGCB" title="Listing 2Setting segments to equal widths"></a><p class="codesample"><a name="//apple_ref/doc/uid/20002250-130407" title="Listing 2Setting segments to equal widths"></a><strong>Listing 2&nbsp;&nbsp;</strong>Setting segments to equal widths</p><div class="codesample"><table><tr><td scope="row"><pre>[segControl setWidth:70 forSegment:0];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setWidth:70 forSegment:1];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setWidth:70 forSegment:2];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setWidth:70 forSegment:3];<span></span></pre></td></tr></table></div><p>Combining code from <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-129209-BCIGJDJD">Listing 1</a></span> and <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-130407-BCIHFGCB">Listing 2</a></span> produces a controller like that shown in <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-130449-BCIBFBFF">Figure 1</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/20002250-130449-BCIBFBFF" title="Figure 1Control with segments of equal width"></a><p><a name="//apple_ref/doc/uid/20002250-130449" title="Figure 1Control with segments of equal width"></a><strong>Figure 1&nbsp;&nbsp;</strong>Control with segments of equal width</p><img src = "../Art/iphotoalike.gif" alt = "Control with segments of equal width" width="320" height="35"></div><br/><p>It is up to you to ensure that each segment is wide enough for its contents. If an image is too large to fit, it is clipped on the right. If the text, or the combination of the text and image, is too wide for a segment, the text is truncated using an ellipsis.</p><p>Some of the methods you may require for configuration (for example the tracking mode) are implemented only in <code>NSSegmentedCell</code>, so you must access the control’s cell, as in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>[[segControl cell] setTrackingMode:NSSegmentedSwitchTrackingSelectAny];<span></span></pre></td></tr></table></div><p>In common with other controls, <code>NSSegmentedControl</code> is available in three sizes—regular, small, and mini (although textured windows only support regular-sized segmented controls). The size is also configured by the cell:</p><div class="codesample"><table><tr><td scope="row"><pre>[[segControl cell] setControlSize:NSMiniControlSize];<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20002250-129646" title="Combining Segments With Different Attributes"></a><h2>Combining Segments With Different Attributes</h2><p>There is no requirement that all segments within a segmented control be of the same type. The following code creates a segmented control like that found in iCal, as illustrated in <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-130375-BCIEIHHE">Figure 2</a></span>:</p><div class="codesample"><table><tr><td scope="row"><pre>[segControl setSegmentCount:5];<span></span></pre></td></tr><tr><td scope="row"><pre>// Configure each segment<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setImage:MYLeftArrowImage forSegment:0];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setLabel:@"Day" forSegment:1];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setLabel:@"Week" forSegment:2];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setLabel:@"Month" forSegment:3];<span></span></pre></td></tr><tr><td scope="row"><pre>[segControl setImage:MYRightArrowImage forSegment:4];<span></span></pre></td></tr></table></div><br/><div><a name="//apple_ref/doc/uid/20002250-130375-BCIEIHHE" title="Figure 2Segmented control showing a combination of segment types"></a><p><a name="//apple_ref/doc/uid/20002250-130375" title="Figure 2Segmented control showing a combination of segment types"></a><strong>Figure 2&nbsp;&nbsp;</strong>Segmented control showing a combination of segment types</p><img src = "../Art/ical-alike.gif" alt = "Segmented control showing a combination of segment types" width="212" height="36"></div><br/><div class="notebox"><a name="//apple_ref/doc/uid/20002250-DontLinkElementID_3" title="Note"></a><p><strong>Note:</strong>&nbsp;In Interface Builder, you can edit the label and image for each segment independently, as described in <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-SW1">“Configuring a Segmented Control in Interface Builder.”</a></span></p></div><p>It is not possible, however, to specify different tracking modes for different segments. You cannot specify momentary selection for some segments and radio button behavior for others. Thus, although the control in <span class="content_text"><a href="SegmentedControlCode.html#//apple_ref/doc/uid/20002250-130375-BCIEIHHE">Figure 2</a></span><em>looks</em> like one found in iCal, it cannot function in the same way (that is, where the arrows are selected momentarily and advance through the calendar, and one of the text buttons remains continuously selected to choose the display option). The exception to this rule is a segment that contains a menu. A segment with a menu always acts as a momentary control and cannot be toggled on, even if the control is configured as “select one” or “select any”.</p><p>Although it is possible to set both a label and an image for a segment, a segment should have one or the other, as described in <em><a href="../../../../UserExperience/Conceptual/AppleHIGuidelines/index.html#//apple_ref/doc/uid/20000957" target="_top">Apple Human Interface Guidelines</a></em>.</p><div class="notebox"><a name="//apple_ref/doc/uid/20002250-DontLinkElementID_4" title="Note"></a><p><strong>Note:</strong>&nbsp;In Mac OS X v10.4 and earlier, images are not automatically centered in the segment. To ensure that a segment's image is centered, use the following workaround:</p><div class="codesample"><table><tr><td scope="row"><pre>[segmentedControl setLabel: nil forSegment: n];<span></span></pre></td></tr></table></div></div><a name="//apple_ref/doc/uid/20002250-131659" title="Interacting With a Segmented Control"></a><h2>Interacting With a Segmented Control</h2><p>There are a number of methods for interacting with a segmented control programatically—for example, to change the selected segment, and to enable and disable individual segments.</p><p>You can find out which segment, if any, is selected, using <code>selectedSegment</code>. If no segment is selected, the method returns <code>–1</code>. When a control is configured to allow multiple selections, you can find out if an individual segment is selected using <code>isSelectedForSegment:</code>. Conversely, you can set the selection using <code>setSelectedSegment:</code> and <code>setSelected:forSegment:</code>.</p><p>Similarly, you can enable and disable individual segments within the control using <code>setEnabled:forSegment:</code>. Doing so may be useful to restrict the user to making selections that are valid for the current environment, as illustrated below.</p><br/><div><img src = "../Art/disabledsegments-1.gif" alt = "image: ../Art/disabledsegments-1.gif" width="254" height="36"></div><br/><a name="//apple_ref/doc/uid/20002250-129958" title="Tags and Target-Action"></a><h2>Tags and Target-Action</h2><p>As with any control, you can set a segmented control's target, action, and tag. Each segment within the control, however, may have its own tag. When any segment in the control is clicked, the action message is sent to the target—unless the segment is disabled or has a menu. You can determine which segment was clicked by finding the tag for the selected segment, as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)awakeFromNib<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    [segControl setSegmentCount:3];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[segControl cell] setTag:0 forSegment:0];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[segControl cell] setTag:1 forSegment:1];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[segControl cell] setTag:2 forSegment:2];<span></span></pre></td></tr><tr><td scope="row"><pre>    [segControl setTarget:self];<span></span></pre></td></tr><tr><td scope="row"><pre>    [segControl setAction:@selector(segControlClicked:)];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (IBAction)segControlClicked:(id)sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    int clickedSegment = [sender selectedSegment];<span></span></pre></td></tr><tr><td scope="row"><pre>    int clickedSegmentTag = [[sender cell] tagForSegment:clickedSegment];<span></span></pre></td></tr><tr><td scope="row"><pre>    //...<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Note that the cell’s <code>selectedSegment</code> method returns the segment that was last clicked. This means you can find out which segment was clicked, even when tracking mode is <code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingSelectAny" target="_top">NSSegmentSwitchTrackingSelectAny</a></code> or <code><a href="../../../Reference/ApplicationKit/Classes/NSSegmentedCell_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSSegmentSwitchTrackingMomentary" target="_top">NSSegmentSwitchTrackingMomentary</a></code>. Note also that if a segment contains a menu, the action message is not sent when it is clicked.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SegmentedControlBasics.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-02-07<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/SegmentedControl/Articles/SegmentedControlCode.html%3Fid%3D10000182i-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/SegmentedControl/Articles/SegmentedControlCode.html%3Fid%3D10000182i-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/SegmentedControl/Articles/SegmentedControlCode.html%3Fid%3D10000182i-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
