<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Carbon-Cocoa Integration Guide: HICocoaView: Using Cocoa Views in Carbon Windows</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="HICocoaView: Using Cocoa Views in Carbon Windows"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004724" title="HICocoaView: Using Cocoa Views in Carbon Windows"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../DesignGuidelines-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000556" target="_top">Design Guidelines</a> &gt; <a href="../index.html" target="_top">Carbon-Cocoa Integration Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CarbonUIInCocoa.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="NavigationServices.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40004724-SW1" title="HICocoaView: Using Cocoa Views in Carbon Windows"></a><hr /><H1>HICocoaView: Using Cocoa Views in Carbon Windows</H1><p><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_119"></a>Cocoa provides views that are either not currently available in HIToolbox or are available without full support. These include views such as <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_120"></a><code><a href="../../../Reference/WebKit/Classes/WebView_Class/Reference/Reference.html#//apple_ref/occ/cl/WebView" target="_top">WebView</a></code>, <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_121"></a><code><a href="../../../../GraphicsImaging/Reference/QuartzFramework/Classes/PDFView_Class/Reference/Reference.html#//apple_ref/occ/cl/PDFView" target="_top">PDFView</a></code>, <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_122"></a><code><a href="../../../../QuickTime/Reference/QTKitFramework/Classes/QTMovieView_Class/Reference/Reference.html#//apple_ref/occ/cl/QTMovieView" target="_top">QTMovieView</a></code>, and <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_123"></a><code><a href="../../../Reference/ApplicationKit/Classes/NSTokenField_Class/Reference/Reference.html#//apple_ref/occ/cl/NSTokenField" target="_top">NSTokenField</a></code>. In addition, the Cocoa and Carbon control hierarchies are incompatible, so it has been difficult or impossible to have views from both frameworks embedded within the same window.</p><p>A new type of HIView called <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_124"></a>HICocoaView solves these problems. In Mac OS X v10.5 and later, you can embed a Cocoa view (any subclass of <code>NSView</code>) inside the HIView control hierarchy in a Carbon window. This is accomplished by associating the Cocoa view with a Carbon wrapper view called HICocoaView, a subclass of HIView. You can use standard HIView functions to manipulate the wrapper view, and you can use Cocoa methods to manipulate the associated Cocoa view.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_15" title="Note"></a><p><strong>Note:</strong>&nbsp;<a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_125"></a>HICocoaView is supported only in Carbon windows with compositing enabled. For more information about compositing windows, see <em><a href="../../../../Carbon/Conceptual/HIViewDoc/index.html#//apple_ref/doc/uid/TP30000923" target="_top">HIView Programming Guide</a></em>.</p></div><p><span class="content_text">Figure 1</span> shows how HICocoaView fits into the HIObject class hierarchy.</p><br/><div><a name="//apple_ref/doc/uid/TP40004724-SW2" title="Figure 1HICocoaView class hierarchy"></a><p><strong>Figure 1&nbsp;&nbsp;</strong>HICocoaView class hierarchy</p><img src = "../Art/class_diagram.jpg" alt = "HICocoaView class hierarchy" ></div><br/><p>Because HICocoaView is a subclass of HIView, you can use HIView functions to manipulate a wrapper view. For example, you can use <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_126"></a><code>HIViewFindByID</code> to find the view in a window’s view hierarchy. If the view needs to be made visible, you can call <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_127"></a><code>HIViewSetVisible</code>. If it needs to be redrawn, you can call <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_128"></a><code>HIViewSetNeedsDisplay</code>. If you need more control over your view, you can also intercept any of the Carbon control events and implement them yourself. Note that you don’t need to handle the <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_129"></a><code>kEventControlDraw</code> event; the wrapper view takes care of drawing its Cocoa view.</p><p>There are no restrictions on the type of Cocoa view you can wrap. A wrapped Cocoa view may also contain other Cocoa views. To gain access to the functionality of a wrapped Cocoa view, you can use any of its methods. To invoke these methods, you will need to use Objective-C to create and send messages to the Cocoa view. For example, if you want a <code>PDFView</code> object associated with a Carbon wrapper view to advance to the next page, you need to send the message <code>goToNextPage:</code> to the object.</p><p>When you modify the state of a Carbon wrapper view, adjustments are automatically made to the state of the associated Cocoa view. This is a one-way process, however—messages sent to the Cocoa view do not necessarily change the state of the wrapper view. For example, sending the <code>setFrame:</code> message to the Cocoa view does not reposition the wrapper view within its parent view.</p><p>When you embed a wrapper view inside a window, there are some limitations:</p><ul class="ul"><li class="li"><p>The wrapper view must be embedded inside the content view of the window.</p></li><li class="li"><p>The wrapper view cannot overlap other wrapper views.</p></li><li class="li"><p>The wrapper view cannot contain any other Carbon views. (This restriction does not apply to the wrapped Cocoa view, which is allowed to contain other Cocoa views.) </p></li></ul><p>The next section describes how to incorporate HICocoaView into your application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="HICocoaView.html#//apple_ref/doc/uid/TP40004724-DontLinkElementID_1">Using HICocoaView</a>
				
			<br/>
			
        
			
			
				<a href="HICocoaView.html#//apple_ref/doc/uid/TP40004724-DontLinkElementID_7">Using a Nib-Based Cocoa User Interface</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_1" title="Using HICocoaView"></a><h2>Using HICocoaView</h2><p>The HICocoaView API is easy to understand and use. There are three functions:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><td  scope="row"><p><code><a href="../../../../Carbon/Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HICocoaViewCreate" target="_top">HICocoaViewCreate</a></code></p></td><td ><p>Creates a Carbon view that serves as a wrapper for a Cocoa view.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../../Carbon/Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HICocoaViewSetView" target="_top">HICocoaViewSetView</a></code></p></td><td ><p>Associates a Cocoa view with a Carbon wrapper view.</p></td></tr><tr><td  scope="row"><p><code><a href="../../../../Carbon/Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HICocoaViewGetView" target="_top">HICocoaViewGetView</a></code></p></td><td ><p>Returns the Cocoa view associated with a Carbon wrapper view.</p></td></tr></table></div><p>This section explains when and how to use these functions.</p><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_2" title="Preparing your Carbon Project to use Cocoa"></a><h3>Preparing your Carbon Project to use Cocoa</h3><p>Before you can use the HICocoaView feature, you need to take the following steps to prepare your Carbon project to use Objective-C and Cocoa:</p><ul class="spaceabove"><li class="li"><p>Add the appropriate Cocoa frameworks to your project target. For example, if you’re going to use a Cocoa web view, add <code>Cocoa.framework</code> and <code>WebKit.framework</code> to the list of frameworks to link against.</p></li><li class="li"><p>Import the necessary Cocoa headers. For example, if you’re going to use a Cocoa web view, you would add the following code to your source file:</p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;Cocoa/Cocoa.h><span></span></pre></td></tr><tr><td scope="row"><pre>#import &lt;WebKit/WebKit.h><span></span></pre></td></tr></table></div></li><li class="li"><p>In functions where you’re using Cocoa, allocate and initialize an <code><a href="../../../Reference/Foundation/Classes/NSAutoreleasePool_Class/Reference/Reference.html#//apple_ref/occ/cl/NSAutoreleasePool" target="_top">NSAutoreleasePool</a></code> object and release it when it is no longer needed. (If your application is running in Mac OS X v10.4 or later, you don’t need to use autorelease pools in functions that are called, directly or indirectly, by the toolbox.)</p></li><li class="li"><p>Prepare your Carbon application to use Cocoa by calling the <code><a href="../../../Reference/ApplicationKit/Miscellaneous/AppKit_Functions/Reference/reference.html#//apple_ref/c/func/NSApplicationLoad" target="_top">NSApplicationLoad</a></code> function. Typically, you do this in your main function before executing any other Cocoa code.</p></li><li class="li"><p>Use the Objective-C or Objective-C++ compiler to build those parts of your project that use Cocoa. The article <span class="content_text"><a href="CompilerPreprocessors.html#//apple_ref/doc/uid/20002400-SW1">“Preprocessing Mixed-Language Code”</a></span> describes how to configure an Xcode project to use the appropriate compiler.</p></li></ul><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_3" title="Creating a Wrapper View"></a><h3>Creating a Wrapper View</h3><p>To create a Carbon wrapper view and add it to the view hierarchy of a Carbon window, you use one of two approaches:</p><ul class="spaceabove"><li class="li"><p>Call the <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_130"></a><code><a href="../../../../Carbon/Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HICocoaViewCreate" target="_top">HICocoaViewCreate</a></code> function to create the wrapper view at runtime, specifying the Cocoa view you want to wrap. Then embed the wrapper view inside the window’s view hierarchy. For information about embedding and positioning views in a view hierarchy, see <em><a href="../../../../Carbon/Conceptual/HIViewDoc/index.html#//apple_ref/doc/uid/TP30000923" target="_top">HIView Programming Guide</a></em>.</p></li><li class="li"><p>Use the Interface Builder application to design a nib-based Carbon window that contains a placeholder for the wrapper view. Interface Builder does not provide a way to associate a Cocoa view with the wrapper view, so you’ll need to make this association at runtime. When you instantiate the window, the system creates an empty wrapper view for you and adds it to the window’s view hierarchy. </p></li></ul><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_4" title="Using HICocoaViewCreate"></a><h4>Using HICocoaViewCreate</h4><p>The following code example shows how to use <code><a href="../../../../Carbon/Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HICocoaViewCreate" target="_top">HICocoaViewCreate</a></code> to create a wrapped Cocoa view that can be embedded inside the content view of a Carbon window:</p><div class="codesample"><table><tr><td scope="row"><pre>NSView *myCocoaView = [[SomeNSView alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>HIViewRef myHICocoaView;<span></span></pre></td></tr><tr><td scope="row"><pre>HICocoaViewCreate (myCocoaView, 0, &amp;myHICocoaView);<span></span></pre></td></tr><tr><td scope="row"><pre>[myCocoaView release];<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_5" title="Using Interface Builder"></a><h4>Using Interface Builder</h4><p>If you’re using Interface Builder, the first step is to add an HIView to your Carbon window by dragging an HIView object from the Carbon Objects palette into the window. If you like, resize the view to fill a larger area of the window. Now select the view and use the Inspector window to assign the class ID <code>"com.apple.HICocoaView"</code> to the view. You also need to assign a control signature and ID; you’ll use these values to find the view at runtime.</p><p><span class="content_text">Figure 2</span> shows how a nib-based Carbon window that contains a wrapper view might look in Interface Builder.</p><br/><div><a name="//apple_ref/doc/uid/TP40004724-SW4" title="Figure 2A Carbon wrapper view in Interface Builder"></a><p><strong>Figure 2&nbsp;&nbsp;</strong>A Carbon wrapper view in Interface Builder</p><img src = "../Art/wrapper_view.jpg" alt = "A Carbon wrapper view in Interface Builder" ></div><br/><a name="//apple_ref/doc/uid/TP40004724-SW5" title="Associating a Cocoa View with a Wrapper View"></a><h3>Associating a Cocoa View with a Wrapper View</h3><p>To associate a Cocoa view with an existing Carbon wrapper view, you use the <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_131"></a><code><a href="../../../../Carbon/Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HICocoaViewSetView" target="_top">HICocoaViewSetView</a></code> function. There are two occasions for using this function:</p><ul class="spaceabove"><li class="li"><p>You have an empty wrapper view, and now you’re ready to use it to wrap a Cocoa view. Typically, this happens when you use Interface Builder to create a wrapper view as a placeholder until a Cocoa view can be associated with it at runtime.</p></li><li class="li"><p>You have a wrapper view with an associated Cocoa view, and you want to replace this Cocoa view with a new one.</p></li></ul><p>The following code example shows how to find a wrapper view in a window’s content view hierarchy and associate a Cocoa web view with the wrapper view:</p><div class="codesample"><table><tr><td scope="row"><pre>const HIViewID kMyHICocoaViewID = { 'Test', 1 };<span></span></pre></td></tr><tr><td scope="row"><pre>HIViewRef myHICocoaView = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>HIViewFindByID (HIViewGetRoot(myWindow), kMyHICocoaViewID, &amp;myHICocoaView);<span></span></pre></td></tr><tr><td scope="row"><pre>if (myHICocoaView != NULL) {<span></span></pre></td></tr><tr><td scope="row"><pre>   WebView *myWebView = [[WebView alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>   HICocoaViewSetView (myHICocoaView, myWebView);<span></span></pre></td></tr><tr><td scope="row"><pre>   [myWebView release];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_6" title="Getting the Cocoa View from a Wrapper View"></a><h3>Getting the Cocoa View from a Wrapper View</h3><p>If you have a Carbon wrapper view with an associated Cocoa view, you can use the <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_132"></a><code><a href="../../../../Carbon/Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HICocoaViewGetView" target="_top">HICocoaViewGetView</a></code> function to get a pointer to the Cocoa view. Typically, you use this function when you want to send a message to the Cocoa view.</p><p>The following code example shows how to obtain a Cocoa web view from an existing wrapper view and load a webpage:</p><div class="codesample"><table><tr><td scope="row"><pre>NSString *urlText = @"http://developer.apple.com/referencelibrary/";<span></span></pre></td></tr><tr><td scope="row"><pre>WebView *myWebView = (WebView*) HICocoaViewGetView (myHICocoaView);<span></span></pre></td></tr><tr><td scope="row"><pre>if (myWebView != NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>   [[myWebView mainFrame] loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:urlText]]];<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_7" title="Using a Nib-Based Cocoa User Interface"></a><h2>Using a Nib-Based Cocoa User Interface</h2><p>If you use a Cocoa nib file to specify a more complex user interface, your Carbon application needs to load the nib at runtime in order to embed the Cocoa user interface in an HICocoaView. One way to do this is to use a custom controller object to load the nib and access the UI. You can use the <a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_133"></a><code><a href="../../../Reference/NSViewController_Class/Introduction/Introduction.html#//apple_ref/occ/cl/NSViewController" target="_top">NSViewController</a></code> class to simplify this task. <code>NSViewController</code> makes it easy to load a nib and get access to the <code>NSView</code>-based user interface inside. The approach described here is adapted from a working sample application called <em><a href="../../../../../samplecode/HIView-NSView/index.html#//apple_ref/doc/uid/DTS10004005" target="_top">HIView-NSView</a></em>. The sample uses a subclass of <code>NSViewController</code> called <code>WebViewController</code> to implement some features in the user interface.</p><p><span class="content_text">Listing 1</span> shows how to implement a wrapper function that creates a nib-based Carbon window, creates a nib-based Cocoa view that contains the user interface for a simple web browser, and embeds the user interface in an HICocoaView. An explanation for each numbered line of code follows the listing.</p><a name="//apple_ref/doc/uid/TP40004724-SW6" title="Listing 1Using  a nib-based Cocoa user interface in a Carbon window"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>Using  a nib-based Cocoa user interface in a Carbon window</p><div class="codesample"><table><tr><td scope="row"><pre>static OSStatus MyNewWindow (void)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    OSStatus status = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    NSAutoreleasePool* pool = [[NSAutoreleasePool alloc] init]; <span>// 1</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    status = CreateWindowFromNib (gMainNibRef, CFSTR("MainWindow"), &amp;gWindow); <span>// 2</span></pre></td></tr><tr><td scope="row"><pre>    require_noerr(status, CantCreateWindow);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    WebViewController* controller =<span></span></pre></td></tr><tr><td scope="row"><pre>        [[WebViewController alloc] initWithNibName:@"WebView" bundle:nil]; <span>// 3</span></pre></td></tr><tr><td scope="row"><pre>    SetWRefCon(gWindow, (SRefCon)controller); <span>// 4</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    HIViewRef carbonView;<span></span></pre></td></tr><tr><td scope="row"><pre>    status = HIViewFindByID (HIViewGetRoot(window), kMyHICocoaViewID, &amp;carbonView); <span>// 5</span></pre></td></tr><tr><td scope="row"><pre>    require_noerr(status, CantFindHICocoaView);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    NSView* cocoaView = [controller view]; <span>// 6</span></pre></td></tr><tr><td scope="row"><pre>    if (cocoaView != nil)<span></span></pre></td></tr><tr><td scope="row"><pre>        status = HICocoaViewSetView (carbonView, cocoaView); <span>// 7</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    ShowWindow(gWindow); <span>// 8</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>CantCreateWindow:<span></span></pre></td></tr><tr><td scope="row"><pre>CantFindHICocoaView:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    [pool release]; <span>// 9</span></pre></td></tr><tr><td scope="row"><pre>    return status;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Here’s what the code does:</p><ol class="ol"><li class="li"><p>Creates a local autorelease pool. This step is necessary because this function is not being called by the toolbox.</p></li><li class="li"><p>Creates a nib-based Carbon window. In this example, global variables are used for both the main nib object and the new window object.</p></li><li class="li"><p>Creates a Cocoa view controller to gain access to the nib-based Cocoa view and to implement the Cocoa view’s UI.</p></li><li class="li"><p>Stores the Cocoa view controller as window data. This information is used later to release the controller when the window is closed.</p></li><li class="li"><p>Finds the HICocoaView wrapper view in the Carbon window.</p></li><li class="li"><p>Retrieves the Cocoa view from the view controller.</p></li><li class="li"><p>Embeds the Cocoa view in the HICocoaView wrapper view.</p></li><li class="li"><p>Makes the Carbon window visible.</p></li><li class="li"><p>Drains and releases the local autorelease pool.</p></li></ol><p><span class="content_text">Figure 3</span> illustrates a simple Cocoa web browser view displayed inside a Carbon window.</p><br/><div><a name="//apple_ref/doc/uid/TP40004724-SW7" title="Figure 3Cocoa user interface inside a Carbon window"></a><p><strong>Figure 3&nbsp;&nbsp;</strong>Cocoa user interface inside a Carbon window</p><img src = "../Art/browser_view.jpg" alt = "A Cocoa web browser view inside a Carbon window" ></div><br/><p>To learn how to write an <code>NSViewController</code> subclass that implements the user interface in <span class="content_text">Figure 3</span>, see the sample application <em><a href="../../../../../samplecode/HIView-NSView/index.html#//apple_ref/doc/uid/DTS10004005" target="_top">HIView-NSView</a></em>.<a name="//apple_ref/doc/uid/TP40004724-DontLinkElementID_134"></a></p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CarbonUIInCocoa.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="NavigationServices.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CarbonCocoaDoc/Articles/HICocoaView.html%3Fid%3DTP30000893-4.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CarbonCocoaDoc/Articles/HICocoaView.html%3Fid%3DTP30000893-4.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CarbonCocoaDoc/Articles/HICocoaView.html%3Fid%3DTP30000893-4.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
