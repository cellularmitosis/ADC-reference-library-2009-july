<html><head><title>Mac OS X
 Manual Page For getdate(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/getdate" title="Mac OS X
 Manual Page for getdate(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/getdate"; name=getdate(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GETDATE(3)               BSD Library Functions Manual               GETDATE(3)

<b>NAME</b>
     <b>getdate</b> -- convert user format date and time

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;time.h&gt;</b>

     <u>extern</u> <u>int</u> <u>getdate</u><b>_</b><u>err</u>;

     <u>struct</u> <u>tm</u> <u>*</u>
     <b>getdate</b>(<u>const</u> <u>char</u> <u>*string</u>);

<b>DESCRIPTION</b>
     The <b>getdate</b>() function converts user-definable date and/or time specifications pointed to by <u>string</u> to
     a <u>tm</u> structure.  The <u>tm</u> structure is defined in the &lt;<u>time.h&gt;</u> header.

     User-supplied templates are used to parse and interpret the input string.  The templates are text files
     created by the user and identified via the environment variable DATEMSK.  Each line in the template
     represents an acceptable date and/or time specification using conversion specifications similar to
     those used by <a href="strftime.3.html#//apple_ref/doc/man/3/strftime">strftime(3)</a> and <a href="strptime.3.html#//apple_ref/doc/man/3/strptime">strptime(3)</a>.  Dates before 1902 and after 2037 are illegal.  The first
     line in the template that matches the input specification is used for interpretation and conversion
     into the internal time format.

   <b>Conversion</b> <b>Specifications</b>
     The following conversion specifications are supported:

     <b>%%</b>    Same as %.

     <b>%a</b>    Locale's abbreviated weekday name.

     <b>%A</b>    Locale's full weekday name.

     <b>%b</b>    Locale's abbreviated month name.

     <b>%B</b>    Locale's full month name.

     <b>%c</b>    Locale's appropriate date and time representation.

     <b>%C</b>    Century number (the year divided by 100 and truncated to an integer as a decimal number [1,99]);
           single digits are preceded by 0.  If used without the %y specifier, this format specifier will
           assume the current year offset in whichever century is specified. The only valid years are
           between 1902-2037.

     <b>%d</b>    day of month [01,31]; leading zero is permitted but not required.

     <b>%D</b>    Date as %m/%d/%y.

     <b>%e</b>    Same as %d.

     <b>%h</b>    Locale's abbreviated month name.

     <b>%H</b>    Hour (24-hour clock) [0,23]; leading zero is permitted but not required.

     <b>%I</b>    Hour (12-hour clock) [1,12]; leading zero is permitted but not required.

     <b>%j</b>    Day number of the year [1,366]; leading zeros are permitted but not required.

     <b>%m</b>    Month number [1,12]; leading zero is permitted but not required.

     <b>%M</b>    Minute [0,59]; leading zero is permitted but not required.

     <b>%n</b>    Any white space.

     <b>%p</b>    Locale's equivalent of either a.m. or p.m.

     <b>%r</b>    Appropriate time representation in the 12-hour clock format with %p.

     <b>%R</b>    Time as %H:%M.

     <b>%S</b>    Seconds [0,61]; leading zero is permitted but not required. The range of values is [00,61] rather
           than [00,59] to allow for the occasional leap second and even more occasional double leap second.

     <b>%t</b>    Any white space.

     <b>%T</b>    Time as %H:%M:%S.

     <b>%U</b>    Week number of the year as a decimal number [0,53], with Sunday as the first day of the week;
           leading zero is permitted but not required.

     <b>%w</b>    Weekday as a decimal number [0,6], with 0 representing Sunday.

     <b>%W</b>    Week number of the year as a decimal number [0,53], with Monday as the first day of the week;
           leading zero is permitted but not required.

     <b>%x</b>    Locale's appropriate date representation.

     <b>%X</b>    Locale's appropriate time representation.

     <b>%y</b>    Year within century. When a century is not otherwise specified, values in the range 69-99 refer
           to years in the twentieth century (1969 to 1999 inclusive); values in the range 00-68 refer to
           years in the twenty-first century (2000 to 2068 inclusive).

     <b>%Y</b>    Year, including the century (for example, 1993).

     <b>%Z</b>    Time zone name or no characters if no time zone exists.

   <b>Modified</b> <b>Conversion</b> <b>Specifications</b>
     Some conversion specifications can be modified by the E and O modifier characters to indicate that an
     alternative format or specification should be used rather than the one normally used by the unmodified
     specification.  If the alternative format or specification does not exist in the current locale, the
     behavior be as if the unmodified conversion specification were used.

     <b>%Ec</b>   Locale's alternative appropriate date and time representation.

     <b>%EC</b>   Name of the base year (period) in the locale's alternative representation.

     <b>%Ex</b>   Locale's alternative date representation.

     <b>%EX</b>   Locale's alternative time representation.

     <b>%Ey</b>   Offset from %EC (year only) in the locale's alternative representation.

     <b>%EY</b>   Full alternative year representation.

     <b>%Od</b>   Day of the month using the locale's alternative numeric symbols; leading zeros are permitted but
           not required.

     <b>%Oe</b>   Same as %Od.

     <b>%OH</b>   Hour (24-hour clock) using the locale's alternative numeric symbols.

     <b>%OI</b>   Hour (12-hour clock) using the locale's alternative numeric symbols.

     <b>%Om</b>   Month using the locale's alternative numeric symbols.

     <b>%OM</b>   Minutes using the locale's alternative numeric symbols.

     <b>%OS</b>   Seconds using the locale's alternative numeric symbols.

     <b>%OU</b>   Week number of the year (Sunday as the first day of the week) using the locale's alternative
           numeric symbols.

     <b>%Ow</b>   Number of the weekday (Sunday=0) using the locale's alternative numeric symbols.

     <b>%OW</b>   Week number of the year (Monday as the first day of the week) using the locale's alternative
           numeric symbols.

     <b>%Oy</b>   Year (offset from %C) in the locale's alternative representation and using the locale's alterna-<font color="#ffffff" class="whiteout">tive&nbsp;alternative</font>
           tive numeric symbols.

   <b>Internal</b> <b>Format</b> <b>Conversion</b>
     The following rules are applied for converting the input specification into the internal format:

           <b></b><b><u>oo</u></b>   If only the weekday is given, today is assumed if the given day is equal to the current day
               and next week if it is less.

           <b></b><b><u>oo</u></b>   If only the month is given, the current month is assumed if the given month is equal to the
               current month and next year if it is less and no year is given.  (The first day of month is
               assumed if no day is given.)

           <b></b><b><u>oo</u></b>   If only the year is given, the values of the tm_mon, tm_mday, tm_yday, tm_wday, and tm_isdst
               members of the returned tm structure are not specified.

           <b></b><b><u>oo</u></b>   If the century is given, but the year within the century is not given, the current year
               within the century is assumed.

           <b></b><b><u>oo</u></b>   If no hour, minute, and second are given, the current hour, minute, and second are assumed.

           <b></b><b><u>oo</u></b>   If no date is given, today is assumed if the given hour is greater than the current hour and
               tomorrow is assumed if it is less.

   <b>General</b> <b>Specifications</b>
     A conversion specification that is an ordinary character is executed by scanning the next character
     from the buffer.  If the character scanned from the buffer differs from the one comprising the conver-<font color="#ffffff" class="whiteout">sion&nbsp;conversion</font>
     sion specification, the specification fails, and the differing and subsequent characters remain
     unscanned.

     A series of conversion specifications composed of `%n', `%t', white space characters, or any combina-<font color="#ffffff" class="whiteout">tion&nbsp;combination</font>
     tion is executed by scanning up to the first character that is not white space (which remains
     unscanned), or until no more characters can be scanned.

     Any other conversion specification is executed by scanning characters until a character matching the
     next conversion specification is scanned, or until no more characters can be scanned.  These charac-<font color="#ffffff" class="whiteout">ters,&nbsp;characters,</font>
     ters, except the one matching the next conversion specification, are then compared to the locale values
     associated with the conversion specifier.  If a match is found, values for the appropriate <u>tm</u> structure
     members are set to values corresponding to the locale information.  If no match is found, <b>getdate</b>()
     fails and no more characters are scanned.

     The month names, weekday names, era names, and alternative numeric symbols can consist of any combina-<font color="#ffffff" class="whiteout">tion&nbsp;combination</font>
     tion of upper and lower case letters.  The user can request that the input date or time specification
     be in a specific language by setting the LC_TIME category using <a href="setlocale.3.html#//apple_ref/doc/man/3/setlocale">setlocale(3)</a>.

<b>RETURN</b> <b>VALUES</b>
     If successful, <b>getdate</b>() returns a pointer to a <u>tm</u> structure; otherwise, it returns NULL and sets the
     global variable <u>getdate</u><b>_</b><u>err</u> to indicate the error.  Subsequent calls to <b>getdate</b>() alter the contents of
     <u>getdate</u><b>_</b><u>err</u>.

     The following is a complete list of the <u>getdate</u><b>_</b><u>err</u> settings and their meanings:

     1    The DATEMSK environment variable is null or undefined.

     2    The template file cannot be opened for reading.

     3    Failed to get file status information.

     4    The template file is not a regular file.

     5    An error is encountered while reading the template file.

     6    The <a href="malloc.3.html#//apple_ref/doc/man/3/malloc">malloc(3)</a> function failed (not enough memory is available).

     7    There is no line in the template that matches the input.

     8    The input specification is invalid (for example, February 31).

<b>USAGE</b>
     The <b>getdate</b>() function makes explicit use of macros described on the <a href="ctype.3.html#//apple_ref/doc/man/3/ctype">ctype(3)</a> manual page.

<b>EXAMPLES</b>
     Example 1: Examples of the <b>getdate</b>() function.

     The following example shows the possible contents of a template:

     %m
     %A %B %d %Y, %H:%M:%S
     %A
     %B
     %m/%d/%y %I %p
     %d,%m,%Y %H:%M
     at %A the %dst of %B in %Y
     run job at %I %p,%B %dnd
     %A den %d. %B %Y %H.%M Uhr

     The following are examples of valid input specifications for the above template:

     getdate("10/1/87 4 PM")
     getdate("Friday")
     getdate("Friday September 19 1987, 10:30:30")
     getdate("24,9,1986 10:30")
     getdate("at monday the 1st of december in 1986")
     getdate("run job at 3 PM, december 2nd")

     If the LANG environment variable is set to de (German), the following is valid:

     getdate("freitag den 10. oktober 1986 10.30 Uhr")

     Local time and date specification are also supported.  The following examples show how local date and
     time specification can be defined in the template.


     +---------------------------+------------------+
     |        Invocation         | Line in Template |
     |getdate("11/27/86")        | %m/%d/%y         |
     |getdate("27.11.86")        | %d.%m.%y         |
     |getdate("86-11-27")        | %y-%m-%d         |
     |getdate("Friday 12:00:00") | %A %H:%M:%S      |
     +---------------------------+------------------+

     The following examples illustrate the Internal Format Conversion rules.  Assume that the current date
     is Mon Sep 22 12:19:47 EDT 1986 and the LANG environment variable is not set.













     +-------------+---------------+------------------------------+
     |   Input     | Template Line |            Date              |
     |Mon          | %a            | Mon Sep 22 12:19:48 EDT 1986 |
     |Sun          | %a            | Sun Sep 28 12:19:49 EDT 1986 |
     |Fri          | %a            | Fri Sep 26 12:19:49 EDT 1986 |
     |September    | %B            | Mon Sep 1 12:19:49 EDT 1986  |
     |January      | %B            | Thu Jan 1 12:19:49 EST 1987  |
     |December     | %B            | Mon Dec 1 12:19:49 EDT 1986  |
     |Sep Mon      | %b %a         | Mon Sep 1 12:19:50 EDT 1986  |
     |Jan Fri      | %b %a         | Fri Jan 2 12:19:50 EST 1987  |
     |Dec Mon      | %b %a         | Mon Dec 1 12:19:50 EST 1986  |
     |Jan Wed 1989 | %b %a %Y      | Wed Jan 4 12:19:51 EST 1989  |
     |Fri 9        | %a %H         | Fri Sep 26 09:00:00 EDT 1986 |
     |Feb 10:30    | %b %H:%S      | Sun Feb 1 10:00:30 EST 1987  |
     |10:30        | %H:%M         | Tue Sep 23 10:30:00 EDT 1986 |
     |13:30        | %H:%M         | Mon Sep 22 13:30:00 EDT 1986 |
     +-------------+---------------+------------------------------+

<b>SEE</b> <b>ALSO</b>
     <a href="ctype.3.html#//apple_ref/doc/man/3/ctype">ctype(3)</a>, <a href="mktime.3.html#//apple_ref/doc/man/3/mktime">mktime(3)</a>, <a href="setlocale.3.html#//apple_ref/doc/man/3/setlocale">setlocale(3)</a>, <a href="strftime.3.html#//apple_ref/doc/man/3/strftime">strftime(3)</a>, <a href="strptime.3.html#//apple_ref/doc/man/3/strptime">strptime(3)</a>, <!-- a -->environ(5)<!-- /a -->

BSD                             January 3, 2004                            BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/getdate.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/getdate.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/getdate.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
