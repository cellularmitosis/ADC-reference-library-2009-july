<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Sorting a Fetch</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>&gt;</b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Deleting_Authors.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../Glossary/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF129"></a><h2><font face="Lucida Grande,Helvetica,Arial">Sorting a Fetch</font></h2><!-- apple_doc: pageHeadingEnd --><p>Fetch specifications can be created either programmaticallyor created with EOModeler and stored in the model file. Up to thispoint you have use a simple fetch specification, returning an unsortedlist of enterprise objects. Now, you'll create a more elaboratefetch specification with EOModeler and save it in the model file.You'll see how EOModeler's graphical user interface makes iteasy to develop fetch specifications.</p><p>First, you'll define the new fetch specification on theAuthor entity. Then, you'll amend the code in <code>Session.java</code> touse the new fetch specification. Finally, you'll use in-memory sortingto keep the list sorted even after you add new authors.</p><p>In  <a sector="mod" href="../EOMBasics/iFurther_Exploration.html" target="_top">"Further Exploration"</a>, you weregiven the opportunity to sort the list of authors during the fetch.If you did so, you probably noticed that once you added new authorsto the list, the list didn't stay sorted. You can use EnterpriseObjects's sorting mechanism on a previously fetched array of enterpriseobjects, as well as during a fetch.</p><p>In this section you'll add a new method to <code>Session.java</code>, <code>sortAuthorList</code>,which sorts the <code>authorList</code> array.You'll also modify the <code>addAuthor</code> methodin <code>Main.java</code> to callthe <code>sortAuthorList</code> methodto re-sort the <code>authorList</code> arrayeach time an author is added. </p><ol><li>Add the <code>sortAuthorList</code> method,shown in  <a href="#BBCCBCFD">Listing 12-17</a>, to <code>Session.java</code>.<a name = "BBCCBCFD"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Listing12-17  The sortAuthorList method in Session.java</font></b></p><pre>public void sortAuthorList() {    // create array to store sort orderings    NSMutableArray sortOrderings = new NSMutableArray();    // create sort ordering    EOSortOrdering sortOrdering1 = new EOSortOrdering("lastName",  EOSortOrdering.CompareAscending);    // add sort ordering to orderings array    sortOrderings.addObject(sortOrdering1);    // sort authorList using orderings    EOSortOrdering.sortArrayUsingKeyOrderArray(authorList, sortOrderings);}</pre></font></li><li>Edit the <code>addAuthor</code> methodin <code>Session.java</code> to sortthe list after adding a new author to it.<p>Add the followingcode after the line that adds a new author to the list:</p><pre>// sort listsortAuthorList();</pre></font></li></ol><p>Sorting is performed in this section of the code because ifthe list remains unchanged, there is no need to sort it.</p><p>Build and run the application. You'll find that the authorlist is sorted after you add a new author.</p><br><a href="Deleting_Authors.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../Glossary/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<hr alt=""><p><font face="Palatino" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>