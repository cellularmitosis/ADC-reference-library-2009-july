<html>	<head>		<title>EOAdaptorOperation (Java) </title>	</head><BODY bgcolor=#ffffff>		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../EOAccessTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/EOAdaptorOperation">EOAdaptorOperation</a></font></h1>		<br>		<blockquote>			<dt><b>Inherits from: </b>			<dd>Object</blockquote>		<blockquote>			<dt><b>Package: </b>			<dd>com.webobjects.eoaccess</blockquote>		<hr size="4">		<br>		<h2>Class Description</h2>		<hr alt="">		<p>An EOAdaptorOperation object represents a primitive operation in a database server-lock, insert, update, or delete a row; or execute a stored procedure-and all the necessary information required by the operation. An EOAdaptorOperation is processed by an EOAdaptorChannel object in the method performAdaptorOperation. You don't ordinarily create instances of EOAdaptorOperation; rather, the Framework automatically creates an EOAdaptorOperation object and sends it to an adaptor channel when your application needs the database server to perform an operation. You generally interact with EOAdaptorOperation objects only if you need to specify the order in which a set of operations are carried out (see the description for the EODatabaseContext delegate method databaseContext:willOrderAdaptorOperationsFromDatabaseOperations:).</p>		<p>An EOAdaptorOperation has an entity and an operator (the type of operation the object represents). An adaptor operation's operator (<code>AdaptorLockOperator</code>, <code>AdaptorInsertOperator</code>, <code>AdaptorUpdateOperator</code>, <code>AdaptorDeleteOperator</code>, or <code>AdaptorStoredProcedureOperator</code>) determines additional, operator-dependent information used by the EOAdaptorOperation object. For example, only a stored procedure operation has an EOStoredProcedure object. The operator-dependent information is accessible using the methods described below.</p>		<br>		<br>		<br>		<h2>Method Types</h2>		<hr alt="">		<blockquote>			<dt>Constructors 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/EOAdaptorOperation">EOAdaptorOperation</a> 			<dt>Accessing the entity 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/entity">entity</a> 			<dt>Accessing the operator 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/setAdaptorOperator">setAdaptorOperator</a> 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/adaptorOperator">adaptorOperator</a> 			<dt>Accessing the qualifier 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/setQualifier">setQualifier</a> 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/qualifier">qualifier</a> 			<dt>Accessing locking attributes 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/setAttributes">setAttributes</a> 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/attributes">attributes</a> 			<dt>Accessing operation values 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/setChangedValues">setChangedValues</a> 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/changedValues">changedValues</a> 			<dt>Accessing a stored procedure 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/setStoredProcedure">setStoredProcedure</a> 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/storedProcedure">storedProcedure</a> 			<dt>Handling errors during the operation 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/setException">setException</a> 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/exception">exception</a> 			<dt>Comparing operations 			<dd><a href="#//apple_ref/java/instm/EOAdaptorOperation/compareAdaptorOperation">compareAdaptorOperation</a></blockquote>		<br>		<br>		<h2>Constructors</h2>		<hr alt="">		<a name="BAADDAGA"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/EOAdaptorOperation">EOAdaptorOperation</a></h3>		<p><code>public <b>EOAdaptorOperation</b>(EOEntity <em>entity</em>)</code></p>		Creates and returns a new EOAdaptorOperation, with <em>entity</em> as the entity to which the operation will be applied. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EOAdaptorOperation/entity">entity</a></p>		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="adaptorOperator"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/adaptorOperator">adaptorOperator</a></h3>		<p><code>public int <b>adaptorOperator</b>()</code></p>		Returns the receiver's adaptor operator. The operator indicates which of the other adaptor operation attributes are valid. For example, an adaptor operation whose operator is <code>AdaptorInsertOperator</code> uses <a href="#//apple_ref/java/instm/EOAdaptorOperation/changedValues">changedValues</a>, but not <a href="#//apple_ref/java/instm/EOAdaptorOperation/attributes">attributes</a>, <a href="#//apple_ref/java/instm/EOAdaptorOperation/qualifier">qualifier</a>, or <a href="#//apple_ref/java/instm/EOAdaptorOperation/storedProcedure">storedProcedure</a>. 		<hr width="25%" align="LEFT">		<a name="BAADGGCE"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/attributes">attributes</a></h3>		<p><code>public NSArray <b>attributes</b>()</code></p>		Returns the array of attributes to select when locking the row. If attributes have not been assigned to the receiver, the primary key attributes are selected. Only valid for adaptor operations with the <code>AdaptorLockOperator</code>. 		<hr width="25%" align="LEFT">		<a name="BAABCIGA"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/changedValues">changedValues</a></h3>		<p><code>public NSDictionary <b>changedValues</b>()</code></p>		Returns the dictionary of values that need to be updated, inserted, or compared for locking purposes. 		<hr width="25%" align="LEFT">		<a name="compareAdaptorOperation_"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/compareAdaptorOperation">compareAdaptorOperation</a></h3>		<p><code>public int <b>compareAdaptorOperation</b>(EOAdaptorOperation <em>operation</em>)</code></p>		Orders adaptor operations alphabetically by entity name and by adaptor operator within the same entity. The adaptor operators are ordered as follows: 		<ul>			<li><code>AdaptorLockOperator</code> 			<li><code>AdaptorInsertOperator</code> 			<li><code>AdaptorUpdateOperator</code> 			<li><code>AdaptorDeleteOperator</code> 			<li><code>AdaptorStoredProcedureOperator</code> 		</ul>		<p><code>AdaptorLockOperator</code> precedes <code>AdaptorInsertOperator</code>, <code>AdaptorInsertOperator</code> precedes <code>AdaptorUpdateOperator</code>, and so on.</p>		<p>An EODatabaseContext uses <b>compareAdaptorOperation</b> to order adaptor operations before invoking EOAdaptorChannel's performAdaptorOperations method.</p>		<hr width="25%" align="LEFT">		<a name="BAADIIJB"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/entity">entity</a></h3>		<p><code>public EOEntity <b>entity</b>()</code></p>		Returns the entity to which the operation will be applied. 		<hr width="25%" align="LEFT">		<a name="BAADIDCB"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/exception">exception</a></h3>		<p><code>public Throwable <b>exception</b>()</code></p>		Returns the exception that was thrown when an adaptor channel attempted to process the receiver. Returns <code>null</code> if no exception was thrown or if the receiver hasn't been processed yet. 		<hr width="25%" align="LEFT">		<a name="BAADJICG"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/qualifier">qualifier</a></h3>		<p><code>public com.webobjects.eocontrol.EOQualifier <b>qualifier</b>()</code></p>		Returns the qualifier that identifies the specific row to which the operation applies. Not valid with adaptor operations with the operators <code>AdaptorInsertOperator</code> and <code>AdaptorStoredProcedureOperator</code>. 		<hr width="25%" align="LEFT">		<a name="setAdaptorOperator_"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/setAdaptorOperator">setAdaptorOperator</a></h3>		<p><code>public void <b>setAdaptorOperator</b>(int <em>adaptorOperator</em>)</code></p>		Sets the receiver's operator to <em>adaptorOperator</em>, which is one of the following: 		<ul>			<li><code>AdaptorLockOperator</code> 			<li><code>AdaptorInsertOperator</code> 			<li><code>AdaptorUpdateOperator</code> 			<li><code>AdaptorDeleteOperator</code> 			<li><code>AdaptorStoredProcedureOperator</code> 		</ul>		<p>For more information, see the discussion on adaptor operators in the class description above.</p>		<hr width="25%" align="LEFT">		<a name="setAttributes_"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/setAttributes">setAttributes</a></h3>		<p><code>public void <b>setAttributes</b>(NSArray <em>attributes</em>)</code></p>		Sets the array of attributes to select when locking the row. The selected values are compared in memory to the corresponding snapshot values to determine if a row has changed since the application last fetched it. <em>attributes</em> is an array of EOAttribute objects that can't be compared in a qualifier (generally BLOB types); it should not be <code>null</code> or empty. Generally, an adaptor operation's qualifier contains all the comparisons needed to verify that a row hasn't changed since the application last fetched, inserted, or updated it. In this case (if there aren't any attributes that can't be compared in a qualifier), attributes should contain primary key attributes. This method is only valid for adaptor operations with the <code>AdaptorLockOperator</code>. 		<hr width="25%" align="LEFT">		<a name="setChangedValues_"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/setChangedValues">setChangedValues</a></h3>		<p><code>public void <b>setChangedValues</b>(NSDictionary <em>changedValues</em>)</code></p>		Sets the dictionary of values that need to be updated, inserted, or compared for locking purposes. changedValues is a dictionary object whose keys are attribute names and whose values are the values for those attributes. As summarized in the following table, the contents of changedValues depends on the receiver's operator:<br>		<table border="1">			<tr>				<td scope="row"><b>Operator</b></td>				<td><b>Contents of changedValues Dictionary</b></td>			</tr>			<tr>				<td scope="row"><code>AdaptorLockOperator</code></td>				<td>Snapshot values used to verify that the database row hasn't changed since this application last fetched it</td>			</tr>			<tr>				<td scope="row"><code>AdaptorInsertOperator</code></td>				<td>The values to insert</td>			</tr>			<tr>				<td scope="row"><code>AdaptorUpdateOperator</code></td>				<td>The new values for the columns to update</td>			</tr>			<tr>				<td scope="row"><code>AdaptorDeleteOperator</code></td>				<td>Snapshot values (<em>changedValues</em> is only valid for <code>AdaptorDeleteOperator</code> if the receiver's entity uses a stored procedure to perform delete operations.)</td>			</tr>			<tr>				<td scope="row"><code>AdaptorStoredProcedureOperator</code></td>				<td>Snapshot values</td>			</tr>		</table><br>		<hr width="25%" align="LEFT">		<a name="setException_"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/setException">setException</a></h3>		<p><code>public void <b>setException</b>(Throwable <em>exception</em>)</code></p>		Sets the receiver's exception to <em>exception</em>. This method is typically invoked from EOAdaptorChannel's performAdaptorOperations method. If a database error occurs while processing an adaptor operation, the adaptor channel creates an exception and assigns it to the adaptor operation. 		<hr width="25%" align="LEFT">		<a name="BAADEIAF"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/setQualifier">setQualifier</a></h3>		<p><code>public void <b>setQualifier</b>(com.webobjects.eocontrol.EOQualifier <em>qualifier</em>)</code></p>		Sets the qualifier that identifies the row to which the adaptor operation is to be applied to <em>qualifier</em>. 		<hr width="25%" align="LEFT">		<a name="BAACGIBI"></a><br>		<h3><b></b><a name="//apple_ref/java/instm/EOAdaptorOperation/setStoredProcedure">setStoredProcedure</a></h3>		<p><code>public void <b>setStoredProcedure</b>(EOStoredProcedure <em>storedProcedure</em>)</code></p>		Sets the receiver's stored procedure to <em>storedProcedure</em>. 		<hr width="25%" align="LEFT">		<a name="BAACGCDA"></a><br>		<h3><a name="//apple_ref/java/instm/EOAdaptorOperation/storedProcedure">storedProcedure</a></h3>		<p><code>public EOStoredProcedure <b>storedProcedure</b>()</code></p>		Returns the receiver's stored procedure. Only valid with adaptor operations with the <code>AdaptorStoredProcedureOperator</code>. 		<hr width="25%" align="LEFT">		<br>		<h3><b><a name="//apple_ref/java/instm/EOAdaptorOperation/toString">toString</a></b></h3>		<p><code>public String <b>toString</b>()</code></p>		Description forthcoming. 		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 13, 2001)</p>		<br>		<a href="../EOAccessTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>