<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Developing ColorSync-Supportive Applications</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING55></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACI-54.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-56.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACI-2.html"><B>Advanced Color Imaging on the Mac OS</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING55-0></A>
<H1>Chapter 4 - <A NAME=MARKER-9-22></A>Developing ColorSync-Supportive Applications</H1>
 <A NAME=MARKER-2-23></A>T<A NAME=MARKER-2-24></A>his chapter describes how you can use the ColorSync Manager to provide your users with color-matching and color gamut-checking services. Your ColorSync-supportive application can match the colors of an image created using one device to the color gamut of another device on which the image is to be rendered. Your application can allow your users to preview the results and adjust the colors of the matched image if desirable. To match or check the colors of an image across devices with different gamuts and characteristics, the ColorSync Manager uses profiles that contain information depicting a device. Using the ColorSync Manager, your application can search for and display a list or menu containing the names of available profiles for a particular device type, such as a printer, and allow your users to select the profile to define the destination device. You can modify the content of profiles to change how an image is rendered. These and other features that your application can provide using the ColorSync Manager are described in this chapter.<P>
<DL>
<DT><B>Note</B>
<DD>See the preface for information on ColorSync Manager version numbers.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 You need to read this chapter if your application will support the ColorSync Manager and provide your users with various color-matching and color-checking features. You should read this chapter even if you will provide only minimal support allowing your users to modify documents containing color images created using other applications that fully support the ColorSync Manager. This chapter tells you how to preserve profiles embedded in documents along with the images with which they are associated. <P>
 The features described in this chapter can also be used in developing ColorSync-supportive device drivers. Therefore, if you are developing a device driver that supports the ColorSync Manager, you should read this chapter in addition to <A HREF=ACI-89.html#MARKER-9-13>"Developing ColorSync-Supportive Device Drivers" (page 6-3)</A>.<P>
 Before you read this chapter, you should read <A HREF=ACI-45.html#MARKER-9-19>"Introduction to the ColorSync Manager" (page 3-3)</A>, which explains color theory and color management systems (CMSs). It provides an overview of the ColorSync Manager CMS, including the use of profiles, and also explains key terms. <P>
 While reading this chapter, you might want to refer to <A HREF=#nonexistent-marker>"ColorSync Manager Reference for Applications and Device Drivers"</A> in <I>Advanced Color Imaging Reference</I> for details related to functions this chapter discusses.<P>
 Most high-level applications that support the ColorSync Manager automatically use either the color management module (CMM) specified by the source profile or the Apple-supplied default CMM, as determined internally by the CMM selection algorithm described later in this chapter. For this reason, you do not need to read the two ColorSync Manager chapters addressed to developers who provide CMMs--<A HREF=ACI-79.html#MARKER-9-19>"Developing Color Management Modules" (page 5-3)</A> in this book and <A HREF=#nonexistent-marker>"ColorSync Manager Reference for Color Management Modules" (page 4-3)</A> in <I>Advanced Color Imaging Reference</I>. Nor do you need to read <A HREF=ACI-89.html#MARKER-9-13>"Developing ColorSync-Supportive Device Drivers" (page 6-3)</A> in this book. However, you should read the appendix, <A HREF=ACI-109.html#MARKER-9-5>"ColorSync Manager Backward Compatibility."</A><P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="ACI-56.html#HEADING56-0">About ColorSync Application Development</A>
<DD>
<DL>
<DT><A HREF="ACI-57.html#HEADING57-0">About the ColorSync Manager Programming Interface </A>
<DD>
<DT><A HREF="ACI-58.html#HEADING58-0">What Should a ColorSync-Supportive Application Do?</A>
<DD>
<DL>
<DT><A HREF="ACI-58.html#HEADING58-3">At a Minimum</A>
<DD>
<DT><A HREF="ACI-58.html#HEADING58-7">Storing and Handling Profiles </A>
<DD>
</DL>
<DT><A HREF="ACI-59.html#HEADING59-0">How the ColorSync Manager Selects a CMM</A>
<DD>
</DL>
<DT><A HREF="ACI-60.html#HEADING60-0">Developing Your ColorSync-Supportive Application</A>
<DD>
<DL>
<DT><A HREF="ACI-61.html#HEADING61-0">Determining if the ColorSync Manager Is Available</A>
<DD>
<DT><A HREF="ACI-62.html#HEADING62-0">Providing Minimal ColorSync Support</A>
<DD>
<DT><A HREF="ACI-63.html#HEADING63-0">Obtaining Profile References</A>
<DD>
<DT><A HREF="ACI-64.html#HEADING64-0">Opening a Profile and Obtaining a Reference to It</A>
<DD>
<DT><A HREF="ACI-65.html#HEADING65-0">Identifying the Current Default System Profile</A>
<DD>
<DT><A HREF="ACI-66.html#HEADING66-0">Matching Colors to Displays Using ColorSync With QuickDraw Operations</A>
<DD>
<DL>
<DT><A HREF="ACI-66.html#HEADING66-6">Matching Colors in a Picture Containing an Embedded Profile or Profile Identifier</A>
<DD>
<DT><A HREF="ACI-66.html#HEADING66-11"> Considerations</A>
<DD>
<DT><A HREF="ACI-66.html#HEADING66-15">Matching Colors as Your User Draws a Picture </A>
<DD>
</DL>
<DT><A HREF="ACI-67.html#HEADING67-0">Creating a Color World for Color Matching and Checking Using the Low-Level Functions</A>
<DD>
<DT><A HREF="ACI-68.html#HEADING68-0">Matching Colors Using the Low-Level Functions</A>
<DD>
<DL>
<DT><A HREF="ACI-68.html#HEADING68-8">Matching the Colors of a Pixel Map to the Display's Color Gamut</A>
<DD>
<DT><A HREF="ACI-68.html#HEADING68-13">Matching the Colors of a Bitmap Image to the Display's Color Gamut</A>
<DD>
</DL>
<DT><A HREF="ACI-69.html#HEADING69-0">Embedding Profiles and Profile Identifiers</A>
<DD>
<DL>
<DT><A HREF="ACI-69.html#HEADING69-7">Embedded Profile Format</A>
<DD>
<DT><A HREF="ACI-69.html#HEADING69-12">Embedding Different Profile Versions</A>
<DD>
<DT><A HREF="ACI-69.html#HEADING69-14">The NCMUseProfileComment Function</A>
<DD>
</DL>
<DT><A HREF="ACI-70.html#HEADING70-0">Extracting Profiles Embedded in Pictures</A>
<DD>
<DL>
<DT><A HREF="ACI-70.html#HEADING70-12">Step 1: Count the Profiles in the PICT File </A>
<DD>
<DT><A HREF="ACI-70.html#HEADING70-19">Step 2: Extract the Profile</A>
<DD>
<DL>
<DT><A HREF="ACI-70.html#HEADING70-21">Part A: Calling the Unflatten Function </A>
<DD>
<DT><A HREF="ACI-70.html#HEADING70-29">Part B: Calling the Unflatten Function</A>
<DD>
<DT><A HREF="ACI-70.html#HEADING70-40">Part C: Calling the Comment Procedure </A>
</dl><DD>
</DL>
<DT><A HREF="ACI-71.html#HEADING71-0">Searching for Profiles in the ColorSync(TM) Profiles Folder</A>
<DD>
<DT><A HREF="ACI-72.html#HEADING72-0">Checking Colors Against a Destination Device's Gamut</A>
<DD>
<DT><A HREF="ACI-73.html#HEADING73-0">Creating and Using Device-Linked Profiles</A>
<DD>
<DL>
<DT><A HREF="ACI-73.html#HEADING73-24">Considerations</A>
<DD>
</DL>
<DT><A HREF="ACI-74.html#HEADING74-0">Providing Soft Proofs</A>
<DD>
<DT><A HREF="ACI-75.html#HEADING75-0">Calibrating a Device</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-0">Accessing a Resource-Based Profile With a Procedure</A>
<DD>
<DL>
<DT><A HREF="ACI-76.html#HEADING76-9">Defining a Data Structure for a Resource-Based Profile</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-21">Setting Up a Location Structure for Procedure Access to a Resource-Based Profile</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-31">Disposing of a Resource-Based Profile Access Structure</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-36">Responding to a Procedure-Based Profile Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-48">Handling the Begin Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-54">Handling the Create New Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-61">Handling the Open Read Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-67">Handling the Open Write Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-74">Handling the Read Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-80">Handling the Write Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-88">Handling the Close Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-94">Handling the Abort Write Access Command</A>
<DD>
<DT><A HREF="ACI-76.html#HEADING76-101">Handling the End Access Command</A>
<DD>
</DL>
<DT><A HREF="ACI-77.html#HEADING77-0">Searching for a Profile That Matches a Profile Identifier</A>
<DD>
</DL>
<DT><A HREF="ACI-78.html#HEADING78-0">Summary of the ColorSync Manager</A>
<DD>
<DL>
<DT><A HREF="ACI-78.html#HEADING78-1">Constants</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-21">Data Structures</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-63">Functions</A>
<DD>
<DL>
<DT><A HREF="ACI-78.html#HEADING78-64"><B></B>Accessing Profile Files </A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-77"><B></B>Accessing Profile Elements </A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-92"><B></B>Accessing Named Color Profile Values </A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-98"><B></B>Matching Colors Using High-Level Functions With QuickDraw</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-102"><B></B>Matching Colors Using Low-Level Functions Without QuickDraw</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-113"><B></B>Using Embedded Profiles With QuickDraw</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-116"><B></B>Assigning and Accessing the System Profile File </A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-119"><B></B>Searching External Profiles </A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-125"><B></B>Searching For a Profile by Profile Identifier</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-128"><B></B>Converting Between Color Spaces </A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-142"><B></B>PostScript Color-Matching Support Functions</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-147"><B></B>Locating the ColorSync(TM) Profiles Folder </A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-149"><B></B>Converting 2.x Profiles to 1.0 Format</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-151"><B></B>Obtaining Information About a Color World</A>
<DD>
<DT><A HREF="ACI-78.html#HEADING78-153"><B></B>Application-Supplied Functions for the ColorSync Manager </A>
<DD>
</DL>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACI-54.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-56.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACI-3.html">&copy; Apple Computer, Inc.</A><br>13 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
