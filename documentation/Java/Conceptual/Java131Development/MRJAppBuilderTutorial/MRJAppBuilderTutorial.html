<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Java 1.3.1 Development for Mac OS X (Legacy): MRJAppBuilder Tutorial</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="MRJAppBuilder Tutorial"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000711" title="MRJAppBuilder Tutorial"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/Java-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000528" target="_top">Java</a> &gt; <a href="../about/about.html#//apple_ref/doc/uid/TP30000704-DontLinkElementID_24">Java 1.3.1 Development for Mac OS X (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../PBTutotial/PBTutorial.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../system_properties/system_properties.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_1" title="MRJAppBuilder Tutorial"></a><h1><a name="//apple_ref/doc/uid/TP30000711-TPXREF101" title="MRJAppBuilder Tutorial"></a>MRJAppBuilder Tutorial</h1><p><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_100"></a><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_101"></a>Although command-line Java applications are great for development, when you want to distribute your application, you want the user to be able to launch it just like any other Mac OS X application—without a trip to the command line. MRJAppBuilder allows you to take your existing Java <code>.class</code> or <code>.jar</code> files and wrap them into a Mac OS X application bundle. This chapter provides a simple tutorial that you can work through to help you understand this process.</p><p>To follow this example, you need to have the Mac OS X Developer Tools installed. MRJAppBuilder is installed in <code>/Developer/Applications</code>. The sourcecode files you need are <code>ExampleFileFilter.java</code>, <code>ExampleFileView.java</code>, and <code>FileChooserDemo.java</code>; they are installed in <code>/Developer/Examples/Java/JFC</code>/FileChooserDemo/src. If you do not see these files, install the Mac OS X Developer Tools. If you do a custom install, make sure that the Developer Example and Developer Tools Software packages are installed. This example will take a JAR file and show you how to bundle it as a Mac OS X application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-TPXREF106">Building a Basic Application</a>
				
			<br/>
			
        
			
			
				<a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-TPXREF115">Building a More Robust Application</a>
				
			<br/>
			
        
			
			
				<a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-TPXREF116">Making Your Application More Mac-like</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000711-TPXREF106" title="Building a Basic Application"></a><h2>Building a Basic Application</h2><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_102"></a><p>MRJAppBuilder works with either stand-alone class files or class files in a JAR file. Since most of the source code in <code>/Developer/Examples/Java</code> is not compiled, the first step is to compile a selection to obtain the class files.</p><p>In this example, you will use the FileChooserDemo application. From Terminal, compile the three Java files in <code>/Developer/Examples/Java/JFC/FileChooserDemo/src </code>with <code>javac -d /tmp /Developer/Examples/Java/JFC/FileChooserDemo/src/*.java</code>. This gives you the required class files.</p><p>Once you have the class files, open the MRJAppBuilder application in  <code>/Developer/Applications</code>. When the application opens, you are presented with the Application pane. The required fields for building a valid application are all present in this pane. </p><p>In this example set the main classname to FileChooserDemo. This is the class that contains the <code>main</code> method. Set the classpath to <code>/tmp</code>. In this example, there are only class files in the classpath. It might be appropriate in a more complicated application for the classpath to include image, font, or sound files as well. Set the output file to whatever location is convenient to use for testing your application. This field should include the fully qualified intended location and name of the resultant application, for example <code>/tmp/FileChooserDemo.app</code>. Be sure to append the <code>.app</code> suffix to the name you choose for this application. The result should be similar to <span class="content_text"><a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-BAJCECIE">Figure B-1</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_2" title="Figure B-1MRJAppBuilder Application pane"></a><p><a name="//apple_ref/doc/uid/TP30000711-BAJCECIE" title="Figure B-1MRJAppBuilder Application pane"></a><strong>Figure B-1&nbsp;&nbsp;</strong>MRJAppBuilder Application pane</p><img src = "../art/mrjab_basic_app.gif" alt = "MRJAppBuilder Application pane" width="475" height="443"></div><br/><p>With these three fields filled in, you are ready to build the application. Click the Build Application button. You are informed that your build was successful.</p><br/><div><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_3" title="Figure B-2 A successful build"></a><p><a name="//apple_ref/doc/uid/TP30000711-TPXREF111" title="Figure B-2 A successful build"></a><strong>Figure B-2&nbsp;&nbsp;</strong> A successful build</p><img src = "../art/app_built.gif" alt = "A successful build" width="220" height="119"></div><br/><p> Navigating in the Finder to the directory you specified in the “Output file” field reveals a double-clickable application. (Hint: In Finder, choose Go to Folder from the Go menu.)<a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_103"></a></p><a name="//apple_ref/doc/uid/TP30000711-TPXREF115" title="Building a More Robust Application"></a><h2>Building a More Robust Application</h2><p>The example in <span class="content_text"><a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-TPXREF106">“Building a Basic Application”</a></span> worked fine, but notice that you set the path to a specific directory, <code>/tmp</code>. Unless your users happen to have the appropriate class files installed in <code>/tmp</code>, this application won’t work on their computers. How do you get around this? That leads to another pane in MRJAppBuilder. Before using it though you need to prepare the appropriate files. In this example, navigate to your <code>/tmp</code> directory and make a JAR file from the class files you put there as follows: </p><div class="codesample"><table><tr><td scope="row"><pre>jar cf FileChooserDemo.jar *.class<span></span></pre></td></tr></table></div><p>You should still have MRJAppBuilder open. If not go ahead and open it and set it up the way it was before. Click the tab labeled Merge Files. It gives you the option to add files. Click the Add button and choose the JAR file you just made. The result should look like <span class="content_text"><a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-TPXREF117">Figure B-3</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_4" title="Figure B-3Merge Files pane"></a><p><a name="//apple_ref/doc/uid/TP30000711-TPXREF117" title="Figure B-3Merge Files pane"></a><strong>Figure B-3&nbsp;&nbsp;</strong>Merge Files pane</p><img src = "../art/merge_files.gif" alt = "Merge Files pane" width="474" height="444"></div><br/><p>The JAR file is copied into the <code>/Contents/Resources/Java</code> directory of the resulting application bundle. Now go back to the Application pane. Notice that the path to this JAR file was automatically added to the <code>/tmp</code> path you had there before. (You can get rid of that reference to <code>/tmp</code> now if you haven’t already.) You now have a Mac OS X application that a user can install by simply dropping in the Finder without having to deal with installing anything else or being concerned with where the application is installed.</p><a name="//apple_ref/doc/uid/TP30000711-TPXREF116" title="Making Your Application More Mac-like"></a><h2>Making Your Application More Mac-like</h2><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_104"></a><p>So far you have built a basic application that has some features that Mac users expect. For example they can install it with a simple drag and drop. If you launch that application, you will notice something missing. The icon in the Dock is a generic Java icon. You can fix that easily enough in MRJAppBuilder. For the sake of this example, just copy an icon from another application, in this case the icon from the prebuilt version of the FileChooserDemo application. To do this, select the generic icon in the Application pane. It is near the bottom of the pane, in the “Output file” section. If you click it, it opens a file chooser. Navigate to the file named <code>JavaApp.icns</code> in <code>/Developer/Examples/Java/JFC/FileChooserDemo/FileChooserDemo.app/Contents/Resources</code> and click Select. (You will probably need to change the Format pop-up menu to All Files from the default Icon Files to navigate there.) Now if you build the application, you should see that it displays the new icon in the Dock.</p><a name="//apple_ref/doc/uid/TP30000711-TPXREF108" title="Java Properties Pane"></a><h3>Java Properties Pane</h3><p><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_105"></a>An icon is only the first step. There are a few other things you can do to make a well-written Java application hard to distinguish from a native Mac OS X application. MRJAppBuilder provides an interface for making a lot of these changes in the Java Properties pane. Before going there, launch the FileChooserDemo application that you just built. Notice that the window has a white bar at the bottom of the window as shown in <span class="content_text"><a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-BAJJIBDI">Figure B-4</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_5" title="Figure B-4FileChooserDemo application with relics"></a><p><a name="//apple_ref/doc/uid/TP30000711-BAJJIBDI" title="Figure B-4FileChooserDemo application with relics"></a><strong>Figure B-4&nbsp;&nbsp;</strong>FileChooserDemo application with relics</p><img src = "../art/growbox_no_intrude.gif" alt = "FileChooserDemo application with relics" width="599" height="237"></div><br/><p>This is because by default, MRJAppBuilder sets certain system properties. In this case, <code>com.apple.mrj.application.growbox.intrudes</code> is set to <code>false</code>. The result is that an extra 15 pixels are added to the window. You can correct this in the Java Properties pane.</p><p>Click the Java Properties tab. This pane contains properties that are passed to the application when it is run. Of special note here is the Parameters property. This is where you can specify any command-line parameters that need to be passed to your application when it is run. To see the effect of modifying the Java properties, change the value of the <code>growbox.intrudes</code> property from <code>false</code> to <code>true</code> as in <span class="content_text"><a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-BAJHGGDF">Figure B-5</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_6" title="Figure B-5Modifying the growbox.intrudes property"></a><p><a name="//apple_ref/doc/uid/TP30000711-BAJHGGDF" title="Figure B-5Modifying the growbox.intrudes property"></a><strong>Figure B-5&nbsp;&nbsp;</strong>Modifying the<code> growbox.intrudes</code> property</p><img src = "../art/java_properties.gif" alt = "Modifying the growbox.intrudes property" width="474" height="442"></div><br/><p>Quit the previously built FileChooserDemo if it is still running, and build and run the new version. Notice that the relics no longer surround the window when you switch between the different interface styles.</p><br/><div><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_7" title="Figure B-6com.apple.mrj.application.growbox.intrudes=true"></a><p><a name="//apple_ref/doc/uid/TP30000711-TPXREF112" title="Figure B-6com.apple.mrj.application.growbox.intrudes=true"></a><strong>Figure B-6&nbsp;&nbsp;</strong><code>com.apple.mrj.application.growbox.intrudes=true</code></p><img src = "../art/growbox_intrudes_true.gif" alt = "com.apple.mrj.application.growbox.intrudes=true" width="598" height="223"></div><br/><p>You can change the value of the other properties by clicking the appropriate value field and making the desired change. See <span class="content_text"><a href="../system_properties/system_properties.html#//apple_ref/doc/uid/TP30000712-TP1">“Appendix C, Mac OS X Java System Properties,”</a></span> for a listing and description of some Mac OS X system properties.<a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_106"></a></p><a name="//apple_ref/doc/uid/TP30000711-TPXREF109" title="Mac OS X Pane"></a><h3>Mac OS X Pane</h3><p>The Mac OS X pane allows you to set attributes of the Mac OS X application bundle. Features like the application icon and name can be set here. For information on these keys and how to use them, see <em><a href="../../../../MacOSX/Conceptual/OSX_Technology_Overview/index.html#//apple_ref/doc/uid/TP40001067" target="_top">Mac OS X Technology Overview</a></em> . These are not explored in this tutorial.</p><p>In this tutorial, you have seen how to wrap your JAR files into a native Mac OS X application, and you have seen how to modify the parameters of that application to build an application that fits in with the native applications in Mac OS X. There was no magic going on behind the scenes. MRJAppBuilder is a very simple application that builds an application bundle directory structure, determines runtime options to be passed to the Java virtual machine when the application is invoked, and sets some Mac OS X application properties. To get a glimpse inside an application in Mac OS X, you can either explore the directory of the <code>.app</code> from the Terminal or from the Finder. To see what is contained inside an application bundle generated by MRJAppBuilder, Control-click an MRJAppBuilder-generated application. You could use the FileChooserDemo application or even MRJAppBuilder itself. Inside is a structure similar to <span class="content_text"><a href="MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-BAJEEDCD">Figure B-7</a></span></p><br/><div><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_8" title="Figure B-7Application bundle contents"></a><p><a name="//apple_ref/doc/uid/TP30000711-BAJEEDCD" title="Figure B-7Application bundle contents"></a><strong>Figure B-7&nbsp;&nbsp;</strong>Application bundle contents</p><img src = "../art/filechooserdemo_contents.gif" alt = "Application bundle contents" width="339" height="207"></div><br/><p>Once you have built an application bundle with MRJAppBuilder, you might want to fine tune the settings in the <code>Info.plist</code> or the <code>MRJApp.properties</code> files by hand. Any text editor will do and you won’t need to set up all of the fields in MRJAppBuilder each time you want to make changes.<a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_107"></a><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_108"></a><a name="//apple_ref/doc/uid/TP30000711-DontLinkElementID_109"></a></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../PBTutotial/PBTutorial.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../system_properties/system_properties.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2002-09-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Java/Conceptual/Java131Development/MRJAppBuilderTutorial/MRJAppBuilderTutorial.html%3Fid%3DTP40000885-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Java/Conceptual/Java131Development/MRJAppBuilderTutorial/MRJAppBuilderTutorial.html%3Fid%3DTP40000885-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Java/Conceptual/Java131Development/MRJAppBuilderTutorial/MRJAppBuilderTutorial.html%3Fid%3DTP40000885-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>