<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"> <TITLE> Using woservice on Mac OS X Server</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b> Deploying WebObjects Applications</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="Deploying-48.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-49.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-51.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="FM3Head"><A NAME="pgfId-9918"></A>Using woservice on Mac OS X Server</H1><P CLASS="Body"><A NAME="pgfId-8197"></A>On Mac OS X Server <B CLASS="Bold-Body-">wotaskd</B> is started automatically upon boot time under the control of <B CLASS="Bold-Body-">woservice</B>, which will restart <B CLASS="Bold-Body-">wotaskd</B> in the event that it is killed or crashes for any reason. This is done in <B CLASS="Bold-Body-">3100_WebObjects</B>, which is a script within <B CLASS="Bold-Body-">/etc/startup</B>.</P><P CLASS="Body"><A NAME="pgfId-9860"></A>You can use <B CLASS="Bold-Body-">woservice</B> to control Monitor in a similar fashion, thus ensuring that it is always running. You can enter the <B CLASS="Bold-Body-">woservice</B> tool on a shell command line (such as provided by <B CLASS="Bold-Body-">Terminal.app</B>), start it from a shell script, or configure it to launch Monitor automatically at boot time.</P><P CLASS="Body"><A NAME="pgfId-8199"></A>When invoking <B CLASS="Bold-Body-">woservice</B> from the command-line, pass as arguments the path to the application you want to be launched followed by any arguments you want to launch it with. So to start <B CLASS="Bold-Body-">woservice</B> for Monitor, you might give the following command:</P><CODE CLASS="CodeEx-last-"><A NAME="pgfId-8201"></A>woservice /System/Library/WebObjects/Applications/Monitor.woa/Monitor</CODE><P CLASS="Body"><A NAME="pgfId-8203"></A>To have Monitor launched at system boot time, you must add a startup script to <B CLASS="Bold-Body-">/etc/startup</B>. The scripts in <B CLASS="Bold-Body-">/etc/startup</B> follow a naming convention whereby the first four characters of the script filename are numbers. These numbers signify the order in which the system runs the scripts in <B CLASS="Bold-Body-">/etc/startup</B>. You should start Monitor near the end of the boot cycle.</P><P CLASS="Body"><A NAME="pgfId-8205"></A>You could add the following script, named <B CLASS="Bold-Body-">3200_Monitor</B>, to <B CLASS="Bold-Body-">/etc/startup</B> to start <B CLASS="Bold-Body-">woservice</B> when the system boots and have it keep Monitor running:</P><CODE CLASS="CodeEx"><A NAME="pgfId-8207"></A>#!/bin/sh</CODE><br><br><CODE CLASS="CodeEx"><A NAME="pgfId-8209"></A># </CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-8210"></A># Start Monitor using woservice for WebObjects Deployment</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-8211"></A>#</CODE><br><CODE CLASS="CodeEx"><A NAME="pgfId-8212"></A>. /etc/rc.common</CODE><CODE CLASS="CodeEx"><br><A NAME="pgfId-9464"></A># the following is one line:</CODE><CODE CLASS="CodeEx-last-"><A NAME="pgfId-8261"></A>/System/Library/WebObjects/Applications/Monitor.woa/woservice /System/Library/WebObjects/Applications/Monitor.woa/Monitor &amp;</CODE><P CLASS="Body"><A NAME="pgfId-8214"></A>&nbsp;</P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 25 August 99)<P><A HREF="Deploying-48.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-49.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="Deploying-51.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>