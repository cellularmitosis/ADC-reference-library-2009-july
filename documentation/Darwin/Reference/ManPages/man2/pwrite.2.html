<html><head><title>Mac OS X Developer Tools
 Manual Page For pwrite(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/pwrite" title="Mac OS X Developer Tools
 Manual Page for pwrite(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/pwrite"; name=pwrite(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
WRITE(2)                    BSD System Calls Manual                   <!-- a -->WRITE(2)<!-- /a -->

<b>NAME</b>
     <b>pwrite</b>, <b>write</b>, <b>writev</b> -- write output

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;unistd.h&gt;</b>

     <u>ssize</u><b>_</b><u>t</u>
     <b>pwrite</b>(<u>int</u> <u>fildes</u>, <u>const</u> <u>void</u> <u>*buf</u>, <u>size</u><b>_</b><u>t</u> <u>nbyte</u>, <u>off</u><b>_</b><u>t</u> <u>offset</u>);

     <u>ssize</u><b>_</b><u>t</u>
     <b>write</b>(<u>int</u> <u>fildes</u>, <u>const</u> <u>void</u> <u>*buf</u>, <u>size</u><b>_</b><u>t</u> <u>nbyte</u>);

     <b>#include</b> <b>&lt;sys/uio.h&gt;</b>

     <u>ssize</u><b>_</b><u>t</u>
     <b>writev</b>(<u>int</u> <u>fildes</u>, <u>const</u> <u>struct</u> <u>iovec</u> <u>*iov</u>, <u>int</u> <u>iovcnt</u>);

<b>DESCRIPTION</b>
     <b>Write</b>() attempts to write <u>nbyte</u> of data to the object referenced by the descriptor <u>fildes</u> from the
     buffer pointed to by <u>buf</u>.  <b>Writev</b>() performs the same action, but gathers the output data from the
     <u>iovcnt</u> buffers specified by the members of the <u>iov</u> array: iov[0], iov[1], ..., iov[iovcnt-1].  <b>Pwrite</b>()
     performs the same function, but writes to the specified position in the file without modifying the file
     pointer.

     For <b>writev</b>(), the <u>iovec</u> structure is defined as:

           struct iovec {
                   char   *iov_base;  /* Base address. */
                   size_t iov_len;    /* Length. */
           };

     Each <u>iovec</u> entry specifies the base address and length of an area in memory from which data should be
     written.  <b>Writev</b>() will always write a complete area before proceeding to the next.

     On objects capable of seeking, the <b>write</b>() starts at a position given by the pointer associated with
     <u>fildes</u>, see <a href="lseek.2.html#//apple_ref/doc/man/2/lseek">lseek(2)</a>.  Upon return from <b>write</b>(), the pointer is incremented by the number of bytes
     which were written.

     Objects that are not capable of seeking always write from the current position.  The value of the
     pointer associated with such an object is undefined.

     If the real user is not the super-user, then <b>write</b>() clears the set-user-id bit on a file.  This pre-<font color="#ffffff" class="whiteout">vents&nbsp;prevents</font>
     vents penetration of system security by a user who ``captures'' a writable set-user-id file owned by
     the super-user.

     When using non-blocking I/O on objects, such as sockets, that are subject to flow control, <b>write</b>() and
     <b>writev</b>() may write fewer bytes than requested; the return value must be noted, and the remainder of the
     operation should be retried when possible.

<b>RETURN</b> <b>VALUES</b>
     Upon successful completion the number of bytes which were written is returned.  Otherwise, a -1 is
     returned and the global variable <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     The <b>write</b>(), <b>writev</b>(), and <b>pwrite</b>() system calls will fail and the file pointer will remain unchanged
     if:

     [EDQUOT]           The user's quota of disk blocks on the file system containing the file is exhausted.

     [EFAULT]           Part of <u>iov</u> or data to be written to the file points outside the process's allocated
                        address space.

     [EINVAL]           The pointer associated with <u>fildes</u> is negative.

     The <b>write</b>() and <b>pwrite</b>() system calls will fail and the file pointer will remain unchanged if:

     [EAGAIN]           The file is marked for non-blocking I/O, and no data could be written immediately.

     [EBADF]            <u>fildes</u> is not a valid file descriptor open for writing.

     [ECONNRESET]       A write is attempted on a socket that is not connected.

     [EFBIG]            An attempt is made to write a file that exceeds the process's file size limit or the
                        maximum file size.

     [EFBIG]            The file is a regular file, <u>nbyte</u> is greater than 0, and the starting position is
                        greater than or equal to the offset maximum established in the open file description
                        associated with <u>fildes</u>.

     [EINTR]            A signal interrupts the write before it could be completed.

     [EIO]              An I/O error occurs while reading from or writing to the file system.

     [ENETDOWN]         A write is attempted on a socket and the local network interface used to reach the
                        destination is down.

     [ENETUNREACH]      A write is attempted on a socket and no route to the network is present.

     [ENOSPC]           There is no free space remaining on the file system containing the file.

     [ENXIO]            A request is made of a nonexistent device, or the request is outside the capabili-<font color="#ffffff" class="whiteout">ties&nbsp;capabilities</font>
                        ties of the device.

     [EPIPE]            An attempt is made to write to a pipe that is not open for reading by any process.

     [EPIPE]            An attempt is made to write to a socket of type SOCK_STREAM that is not connected to
                        a peer socket.

     The <b>write</b>() and <b>writev</b>() calls may also return the following errors:

     [EAGAIN]           See EWOULDBLOCK, below.

     [EWOULDBLOCK]      The file descriptor is for a socket, is marked O_NONBLOCK, and write would block.
                        The exact error code depends on the protocol, but EWOULDBLOCK is more common.

     In addition, <b>writev</b>() may return one of the following errors:

     [EDESTADDRREQ]     The destination is no longer available when writing to a UNIX domain datagram socket
                        on which <a href="connect.2.html#//apple_ref/doc/man/2/connect">connect(2)</a> had been used to set a destination address.

     [EINVAL]           <u>Iovcnt</u> is less than or equal to 0, or greater than UIO_MAXIOV.

     [EINVAL]           One of the <u>iov</u><b>_</b><u>len</u> values in the <u>iov</u> array is negative.

     [EINVAL]           The sum of the <u>iov</u><b>_</b><u>len</u> values in the <u>iov</u> array overflows a 32-bit integer.

     [ENOBUFS]          The mbuf pool has been completely exhausted when writing to a socket.

     The <b>pwrite</b>() call may also return the following errors:

     [EINVAL]           The specified file offset is invalid.

     [ESPIPE]           The file descriptor is associated with a pipe, socket, or FIFO.

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/types.h&gt;</b>
     <b>#include</b> <b>&lt;sys/uio.h&gt;</b>
     <b>#include</b> <b>&lt;unistd.h&gt;</b>

     These include files are needed for all three functions.

<b>SEE</b> <b>ALSO</b>
     <a href="fcntl.2.html#//apple_ref/doc/man/2/fcntl">fcntl(2)</a>, <a href="lseek.2.html#//apple_ref/doc/man/2/lseek">lseek(2)</a>, <a href="open.2.html#//apple_ref/doc/man/2/open">open(2)</a>, <a href="pipe.2.html#//apple_ref/doc/man/2/pipe">pipe(2)</a>, <a href="select.2.html#//apple_ref/doc/man/2/select">select(2)</a>, <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>

<b>STANDARDS</b>
     The <b>write</b>() function call is expected to conform to ISO/IEC 9945-1:1990 (``POSIX.1'').  The <b>writev</b>()
     and <b>pwrite</b>() functions are expected to conform to X/Open Portability Guide Issue 4, Version 2
     (``XPG4.2'').

<b>HISTORY</b>
     The <b>pwrite</b>() function call appeared in AT&amp;T System V.4 UNIX.  The <b>writev</b>() function call appeared in
     4.2BSD.  A <b>write</b>() function call appeared in Version 6 AT&amp;T UNIX.

BSD                              April 2, 1994                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/pwrite.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/pwrite.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/pwrite.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
