<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Quartz 2D Programming Guide: Gradients</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Gradients"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001066-CH207" title="Gradients"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../Quartz-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../dq_intro/dq_intro.html#//apple_ref/doc/uid/TP30001066-CH201-TPXREF101">Quartz 2D Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../dq_shadows/dq_shadows.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../dq_trans_layers/dq_trans_layers.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30001066-CH207-TPXREF101" title="Gradients"></a><h1>Gradients</h1><p>Quartz provides two opaque data types for creating gradients—<code>CGShadingRef</code> and <code>CGGradientRef</code>. You can use either of these to create axial or radial gradients. A <strong>gradient</strong> is a fill that  varies from one color to another.  An axial gradient (also called a linear gradient) varies along an axis between two defined end points.  All points that lie on a line perpendicular to the axis have the same color value. </p><p>A radial gradient is a fill that varies radially along an axis between two defined ends, which typically are both circles. Points share the same color value if they lie on the circumference of a circle whose center point falls on the axis. The radius of the circular sections of the gradient are defined by the radii of the end circles; the radius of each intermediate circle varies linearly from one end to the other.</p><p>This chapter provides examples of the sorts of linear and radial gradients you can create with Quartz, compares the two approaches you can take to painting gradients, and then shows how to use each opaque data type to create a gradient.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_37">Axial and Radial Gradient Examples</a>
				
			<br/>
			
        
			
			
				<a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_38">A Comparison of CGShading and CGGradient Objects</a>
				
			<br/>
			
        
			
			
				<a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_39">Extending Color Beyond the End of a Gradient</a>
				
			<br/>
			
        
			
			
				<a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW4">Using a CGGradient Object</a>
				
			<br/>
			
        
			
			
				<a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW5">Using a CGShading Object</a>
				
			<br/>
			
        
			
			
				<a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_41">See Also</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_37" title="Axial and Radial Gradient Examples"></a><h2>Axial and Radial Gradient Examples</h2><p>Quartz functions provide a rich vocabulary for creating gradient effects. This section shows some of the results you can achieve. The axial gradient in <span class="content_text">Figure 8-1</span> varies between one endpoint that is a shade of orange and another that is a shade of yellow. In this case, the axis is at a 45 degree angle with respect to the origin.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-SW1" title="Figure 8-1An axial gradient along a 45 degree axis"></a><p><strong>Figure 8-1&nbsp;&nbsp;</strong>An axial gradient along a 45 degree axis</p><img src = "../Art/two_color_gradient.jpg" alt = "An axial gradient along a 45 degree axis" ></div><br/><p>Quartz also lets you specify colors and locations along an axis to create more complex axial gradients, as shown in <span class="content_text">Figure 8-2</span>. The color at the starting point is a shade of red and the color at the ending point is a shade of violet. However, there are also five locations on the axis whose color is set to orange, yellow, green, blue, and indigo, respectively. You can think of the result as six sequential linear gradients along the same axis. Although the axis used here is the same as that used in <span class="content_text">Figure 8-1</span> (45 degree angle), it doesn’t have to be. The angle of the axis is defined by the starting and ending point that you provide. </p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-SW6" title="Figure 8-2An axial gradient created with seven locations and colors"></a><p><strong>Figure 8-2&nbsp;&nbsp;</strong>An axial gradient created with seven locations and colors</p><img src = "../Art/rainbow_gradient.jpg" alt = "An axial gradient created with seven locations and colors" ></div><br/><p><span class="content_text">Figure 8-3</span> shows a radial gradient that varies between a small, bright red circle and a larger black one.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCEDFDJ" title="Figure 8-3A radial gradient that varies between two circles"></a><p><strong>Figure 8-3&nbsp;&nbsp;</strong>A radial gradient that varies between two circles</p><img src = "../Art/cylinder6.gif" alt = "A radial gradient that varies between two circles" width="311" height="302"></div><br/><p>With Quartz, you are not restricted to creating gradients based on color changes; you can vary only the alpha, or you can vary the alpha along with the other color components. <span class="content_text">Figure 8-4</span> shows a gradient whose red, green, and blue components remain constant as the alpha value varies from 1.0 to 0.1.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-SW7" title="Figure 8-4A radial gradient created by varying only the alpha component"></a><p><strong>Figure 8-4&nbsp;&nbsp;</strong>A radial gradient created by varying only the alpha component</p><img src = "../Art/alpha_only.jpg" alt = "A radial gradient created by varying only the alpha component" ></div><br/><p>You can position the circles in a radial gradient to create a variety of shapes. If one circle is partially or fully outside the other, Quartz creates a conical surface for circles that have unequal circumferences, and a cylindrical surface for circles that have equal circumferences. A common use of a radial gradient is to create a shaded sphere, as shown in <span class="content_text">Figure 8-5</span>. In this case, a single point (a circle with a radius of <code>0</code>) lies within a larger circle.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCFBHJF" title="Figure 8-5A radial gradient that varies between a point and a circle"></a><p><strong>Figure 8-5&nbsp;&nbsp;</strong>A radial gradient that varies between a point and a circle</p><img src = "../Art/shaded_sphere.gif" alt = "A radial gradient that varies between a point and a circle" width="161" height="154"></div><br/><p>You can create more complex effects by nesting several radial gradients similar to that shown in <span class="content_text">Figure 8-6</span>. The toroidal portion of the shape is created using concentric circles.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCEJEBF" title="Figure 8-6Nested radial gradients"></a><p><strong>Figure 8-6&nbsp;&nbsp;</strong>Nested radial gradients</p><img src = "../Art/torus.gif" alt = "Nested radial gradients" width="194" height="195"></div><br/><a name="//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_38" title="A Comparison of CGShading and CGGradient Objects"></a><h2>A Comparison of CGShading and CGGradient Objects</h2><p>With two type of objects available for creating gradients, you might be wondering which one is best to use. This section helps answer that question. </p><p>The <code>CGShadingRef</code> opaque data type gives you control over how the color at each point in the gradient is computed. Before you can create a CGShading object, you must create a CGFunction object (<code><a href="../../../Reference/CGFunction/Reference/reference.html#//apple_ref/c/tdef/CGFunctionRef" target="_top">CGFunctionRef</a></code>) that defines a function for computing colors in the gradient. Writing a custom function gives you the freedom to create smooth gradients, such as those shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW1">Figure 8-1</a></span>, <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCEDFDJ">Figure 8-3</a></span>, and <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCFBHJF">Figure 8-5</a></span> or more unconventional effects, such as that shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCGFFEE">Figure 8-12</a></span>.</p><p>When you create a CGShading object, you specify whether it is axial (linear) or radial. Along with the gradient calculation function (encapsulated as a CGFunction object) you also supply a colorspace,  and starting and ending points or radii, depending on whether you draw an axial or radial gradient. At drawing time, you simply pass the CGShading object along with the drawing context to the function <code><a href="../../../Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextDrawShading" target="_top">CGContextDrawShading</a></code>. Quartz invokes your gradient calculation function for each point in the gradient.</p><p>A CGGradient object is a subset of a CGShading object that’s designed with ease-of-use in mind. The <code>CGGradientRef</code> opaque data type is straightforward to use because Quartz calculates the color at each point in the gradient for you—you don’t supply a gradient calculation function. When you create a gradient object, you provide an array of locations and colors. Quartz calculates a gradient for each set of contiguous locations, using the color you assign to each location as the end points for the gradient. You can set a gradient object to use a single starting and ending location, as shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW1">Figure 8-1</a></span>, or you can provide a number of points to create an effect similar to what’s shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW6">Figure 8-2</a></span>. The ability to provide more than two locations is an advantage over using a CGShading object, which is limited to two locations.</p><p>When you create a CGGradient object, you simply set up a colorspace, locations, and a color for each location. When you draw to a context using a gradient object, you specify whether Quartz should draw an axial or radial gradient. At drawing time, you specify starting and ending points or radii, depending on whether you draw an axial or radial gradient. This contrasts with CGShading objects, whose geometry is defined at creation time, not at drawing time.</p><p>A major factor is deciding which opaque type to use is the minimum system that your application runs on. The <code>CGShadingRef</code> opaque data type was introduced in Mac OS X v10.2. The <code>CGGradientRef</code> opaque data type is available starting in Mac OS X v10.5. If your code must run on versions of Mac OS X earlier than v10.5, you’ll need to draw gradients using a CGShading object. If your code is designed for Mac OS X v10.5 and later, you can use either opaque type. <span class="content_text">Table 8-1</span> summarizes the differences between the two opaque data types.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-SW3" title="Table 8-1Differences between CGShading and CGGradient objects"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 8-1&nbsp;&nbsp;</strong>Differences between CGShading and CGGradient objects</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>CGGradient</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>CGShading</p></th></tr><tr><td  scope="row"><p>Can use the same object to draw axial and radial gradients.</p></td><td ><p>Need to create separate objects for axial and radial gradients.</p></td></tr><tr><td  scope="row"><p>Set the geometry of the gradient at drawing time.</p></td><td ><p>Set the geometry of the gradient at object creation time.</p></td></tr><tr><td  scope="row"><p>Quartz calculates the colors for each point in the gradient.</p></td><td ><p>You must supply a callback function that calculates the colors for each point in the gradient.</p></td></tr><tr><td  scope="row"><p>Easy to define more than two locations and colors. </p></td><td ><p>Need to design your callback to use more than two locations and colors, so it takes a bit more work on your part.</p></td></tr><tr><td  scope="row"><p>Alpha values can vary.</p></td><td ><p>Alpha values can vary in Mac OS X v10.3 and later, but not in Mac OS X v10.2.</p></td></tr><tr><td  scope="row"><p>Available in Mac OS X v10.5 and later.</p></td><td ><p>Available in Mac OS X v10.2 and later.</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_39" title="Extending Color Beyond the End of a Gradient"></a><h2>Extending Color Beyond the End of a Gradient</h2><p>When you create a gradient, you have the option of filling the space beyond the ends of the gradient with a solid color. Quartz uses the color defined at the boundary of the gradient as the fill color. You can extend beyond the start of a gradient, the  end of a gradient, or both. You can apply the option to an axial or a radial gradient created using either a CGShading object or a CGGradient object. Each type of object supplies constants you can use to set the extension option, as you’ll see in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW4">“Using a CGGradient Object”</a></span> and <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW5">“Using a CGShading Object.”</a></span></p><p><span class="content_text">Figure 8-7</span> shows an axial gradient that extends at both the starting and ending locations. The line in the figure shows the axis of the gradient. As you can see, the fill colors correspond to the colors at the starting and ending points.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCDJGJB" title="Figure 8-7Extending an axial gradient"></a><p><strong>Figure 8-7&nbsp;&nbsp;</strong>Extending an axial gradient</p><img src = "../Art/extend_axial2.gif" alt = "Extending an axial gradient" width="353" height="252"></div><br/><p><span class="content_text">Figure 8-8</span> compares a radial gradient that does not use the extension options with one that uses extension options for both the starting and ending locations. Quartz takes the starting and ending color values and uses those solid colors to extend the surface as shown. The figure shows the starting and ending circles, and the axis of the gradient.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCHAIAH" title="Figure 8-8Extending a radial gradient"></a><p><strong>Figure 8-8&nbsp;&nbsp;</strong>Extending a radial gradient</p><img src = "../Art/extend_radial.gif" alt = "Extending a radial gradient" width="404" height="251"></div><br/><a name="//apple_ref/doc/uid/TP30001066-CH207-SW4" title="Using a CGGradient Object"></a><h2>Using a CGGradient Object</h2><p>The CGGradient object is an abstract definition of a gradient—it simply specifies colors and locations, but not the geometry. You can use this same object for both axial and radial geometries. As an abstract definition, CGGradient objects are perhaps more readily reusable than their counterparts, CGShading objects. Not having the geometry locked in the CGGradient object allows for the possibility of iteratively painting gradients based on the same color scheme without the need for also tying up memory resources in multiple CGGradient objects.</p><p>Because Quartz calculates the gradient for you, using a CGGradient object to create and draw a gradient is fairly straightforward, requiring these steps:</p><ol class="ol"><li class="li"><p>Create a CGGradient object, supplying a colorspace, an array of two or more color components, an array or two or more locations , and the number of items in each of the two arrays.</p></li><li class="li"><p>Paint the gradient by calling either <code><a href="../../../Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextDrawLinearGradient" target="_top">CGContextDrawLinearGradient</a></code> or <code><a href="../../../Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextDrawRadialGradient" target="_top">CGContextDrawRadialGradient</a></code> and supplying a context, a CGGradient object, drawing options, and the stating and ending geometry (points for axial gradients or circle centers and radii for radial gradients).</p></li><li class="li"><p>Release the CGGradient object when you no longer need it.</p></li></ol><p>A location is a <code>CGFloat</code> value in the range of 0.0 to 1.0, inclusive that specifies the normalized distance along axis of the gradient. A value of 0.0 specifies the starting point of the axis, while 1.0 specifies the ending point of the axis. Other values specify a proportion of the distance, such as 0.25 for one-fourth of the distance from the starting point and 0.5 for the halfway point on the axis. At a minimum, Quartz uses two locations. If you pass <code>NULL</code> for the locations array, Quartz uses 0 for the first location and 1 for the second.</p><p>The number of color components per color depends on the colorspace. For onscreen drawing, you’ll use an RGB colorspace. Because Quartz draws with alpha, each onscreen color has four components—red, green, blue, and alpha. So, for onscreen drawing, the number of elements in the color component array that you provide must contain four times the number of locations. Quartz RGBA color components can vary in value from 0.0 to 1.0, inclusive.</p><p><span class="content_text">Listing 8-1</span> is a code fragment that creates a CGGradient object. After declaring the necessary variables, the code sets the locations and the requisite number of color components (for this example, 2 X 4 = 8). It creates a generic RGB colorspace. Then, it passes the necessary parameters to the function <code><a href="../../../Reference/CGGradient/Reference/reference.html#//apple_ref/c/func/CGGradientCreateWithColorComponents" target="_top">CGGradientCreateWithColorComponents</a></code>. You can also use the function <code><a href="../../../Reference/CGGradient/Reference/reference.html#//apple_ref/c/func/CGGradientCreateWithColors" target="_top">CGGradientCreateWithColors</a></code> which is convenient if your application sets up CGColor objects.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-SW2" title="Listing 8-1A code fragment that creates a CGGradient object"></a><p class="codesample"><strong>Listing 8-1&nbsp;&nbsp;</strong>A code fragment that creates a CGGradient object</p><div class="codesample"><table><tr><td scope="row"><pre>CGGradientRef myGradient;<span></span></pre></td></tr><tr><td scope="row"><pre>CGColorSpaceRef myColorspace;<span></span></pre></td></tr><tr><td scope="row"><pre>size_t num_locations = 2;<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat locations[2] = { 0.0, 1.0 };<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat components[8] = { 1.0, 0.5, 0.4, 1.0,  // Start color<span></span></pre></td></tr><tr><td scope="row"><pre>                          0.8, 0.8, 0.3, 1.0 }; // End color<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>myColorspace = CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB);<span></span></pre></td></tr><tr><td scope="row"><pre>myGradient = CGGradientCreateWithColorComponents (myColorspace, components,<span></span></pre></td></tr><tr><td scope="row"><pre>                          locations, num_locations);<span></span></pre></td></tr></table></div><p>After you create a CGGradient object, you can use it to paint an axial or linear gradient. <span class="content_text">Listing 8-2</span> is a code fragment that declares and sets the starting and ending points for a linear gradient and then paints the gradient. <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW1">Figure 8-1</a></span> shows the result. The code does not show how to obtain the CGContext object (<code>myContext</code>).  </p><a name="//apple_ref/doc/uid/TP30001066-CH207-SW8" title="Listing 8-2A code fragment that paints an axial gradient using a CGGradient object"></a><p class="codesample"><strong>Listing 8-2&nbsp;&nbsp;</strong>A code fragment that paints an axial gradient using a CGGradient object</p><div class="codesample"><table><tr><td scope="row"><pre>CGPoint myStartPoint, myEndPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartPoint.x = 0.0;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartPoint.y = 0.0;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndPoint.x = 1.0;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndPoint.y = 1.0;<span></span></pre></td></tr><tr><td scope="row"><pre>CGContextDrawLinearGradient (myContext, myGradient, myStartPoint, myEndPoint, 0);<span></span></pre></td></tr></table></div><p><span class="content_text">Listing 8-3</span> is a code fragment that uses the CGGradient object created in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW2">Listing 8-1</a></span> to paint the radial gradient shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW10">Figure 8-9</a></span>. This example illustrates the result of extending the area of the gradient by filling it with a solid color. </p><a name="//apple_ref/doc/uid/TP30001066-CH207-SW9" title="Listing 8-3A code fragment that paints a radial gradient using a CGGradient object"></a><p class="codesample"><strong>Listing 8-3&nbsp;&nbsp;</strong>A code fragment that paints a radial gradient using a CGGradient object</p><div class="codesample"><table><tr><td scope="row"><pre>CGPoint myStartPoint, myEndPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat myStartRadius, myEndRadius;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartPoint.x = 0.15;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartPoint.y = 0.15;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndPoint.x = 0.5;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndPoint.y = 0.5;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartRadius = 0.1;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndRadius = 0.25;<span></span></pre></td></tr><tr><td scope="row"><pre>CGContextDrawRadialGradient (myContext, myGradient, myStartPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>                         myStartRadius, myEndPoint, myEndRadius,<span></span></pre></td></tr><tr><td scope="row"><pre>                         kCGGradientDrawsAfterEndLocation);<span></span></pre></td></tr></table></div><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-SW10" title="Figure 8-9A radial gradient painted using a CGGradient object"></a><p><strong>Figure 8-9&nbsp;&nbsp;</strong>A radial gradient painted using a CGGradient object</p><img src = "../Art/radial_cggradient.jpg" alt = "A radial gradient painted using a CGGradient object" ></div><br/><p>The radial gradient shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-SW7">Figure 8-4</a></span> was created using the variables shown in <span class="content_text">Listing 8-4</span>.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-SW11" title="Listing 8-4The variables used to create a radial gradient by varying alpha"></a><p class="codesample"><strong>Listing 8-4&nbsp;&nbsp;</strong>The variables used to create a radial gradient by varying alpha</p><div class="codesample"><table><tr><td scope="row"><pre>CGPoint myStartPoint, myEndPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat myStartRadius, myEndRadius;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartPoint.x = 0.2;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartPoint.y = 0.5;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndPoint.x = 0.65;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndPoint.y = 0.5;<span></span></pre></td></tr><tr><td scope="row"><pre>myStartRadius = 0.1;<span></span></pre></td></tr><tr><td scope="row"><pre>myEndRadius = 0.25;<span></span></pre></td></tr><tr><td scope="row"><pre>size_t num_locations = 2;<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat locations[2] = { 0, 1.0 };<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat components[8] = { 0.95, 0.3, 0.4, 1.0,<span></span></pre></td></tr><tr><td scope="row"><pre>                          0.95, 0.3, 0.4, 0.1 };<span></span></pre></td></tr></table></div><p><span class="content_text">Listing 8-5</span> shows the variables used to create the gray gradient shown in <span class="content_text">Figure 8-10</span>, which has three locations.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-SW12" title="Listing 8-5The variables used to create a gray gradient"></a><p class="codesample"><strong>Listing 8-5&nbsp;&nbsp;</strong>The variables used to create a gray gradient</p><div class="codesample"><table><tr><td scope="row"><pre>size_t num_locations = 3;<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat locations[3] = { 0.0, 0.5, 1.0};<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat components[12] = {  1.0, 1.0, 1.0, 1.0,<span></span></pre></td></tr><tr><td scope="row"><pre>                            0.5, 0.5, 0.5, 1.0,<span></span></pre></td></tr><tr><td scope="row"><pre>                            1.0, 1.0, 1.0, 1.0 };<span></span></pre></td></tr></table></div><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-SW13" title="Figure 8-10An axial gradient with three locations"></a><p><strong>Figure 8-10&nbsp;&nbsp;</strong>An axial gradient with three locations</p><img src = "../Art/gray_gradient_3.jpg" alt = "An axial gradient with three locations" ></div><br/><a name="//apple_ref/doc/uid/TP30001066-CH207-SW5" title="Using a CGShading Object"></a><h2>Using a CGShading Object</h2><p>You set up a gradient by creating a CGShading object calling the function <code><a href="../../../Reference/CGShading/Reference/reference.html#//apple_ref/doc/c_ref/CGShadingCreateAxial" target="_top">CGShadingCreateAxial</a></code> or <code><a href="../../../Reference/CGShading/Reference/reference.html#//apple_ref/doc/c_ref/CGShadingCreateRadial" target="_top">CGShadingCreateRadial</a></code>, supplying the following parameters:</p><ul class="ul"><li class="li"><p>A CGColorSpace object that describe the color space for Quartz to use when it interprets the color component values your callback supplies.</p></li><li class="li"><p>Starting and ending points. For axial gradients, these are the starting and ending coordinates (in user space) of the axis. For radial gradients, these are the coordinates of the center of the starting and ending circles.</p></li><li class="li"><p>Starting and ending radii (only for a radial gradient) for the circles used to define the gradient area.</p></li><li class="li"><p>A CGFunction object, which you obtain by calling the function <code>CGFunctionCreate</code>, discussed later in this section. This callback routine must return a color to draw at a particular point. </p></li><li class="li"><p>Boolean values that specify whether to fill the area beyond the starting or ending points with a solid color.</p></li></ul><p>The CGFunction object you supply to the CGShading creation functions contains a callbacks structure and all the information Quartz needs to implement your callback. Perhaps the trickiest part of setting up a CGShading object is creating the CGFunction object. When you call the function <code>CGFunctionCreate,</code> you supply the following:</p><ul class="ul"><li class="li"><p>A pointer to any data your callback needs.</p></li><li class="li"><p>The number of input values to your callback. Quartz requires that your callback takes one input value.</p></li><li class="li"><p>An array of floating-point values. Quartz supplies your callback with only one element in this array. An input value can range from 0, for the color at the start of the gradient, to 1, for the color at the end of the gradient.</p></li><li class="li"><p>The number of output values provided by your callback. For each input value, your callback must supply a value for each color component and an alpha value to designate opacity. (As of Mac OS X v10.3, you can create gradients using non-opaque colors.) The color component values are interpreted by Quartz in the color space you create and supply to the CGShading creation function. For example, if you are using an RGB color space, you supply the value 4 as the number of output values (R, G, B, and A).</p></li><li class="li"><p>An array of floating-point values that specify each of the color components and an alpha value.</p></li><li class="li"><p>A callbacks data structure that contains the version of the structure (set this field to <code>0</code>), your callback for generating color component values, and an optional callback to release the data supplied to your callback in the <code>info</code> parameter. If you were to name your callback <code>myCalculateShadingValues</code>, it would look like this:</p><p><code>void  myCalculateShadingValues (void *info, const float *in, float *out)</code></p></li></ul><p>After you create the CGShading object, you can set up additional clipping if you need to do so. Then, call the function <code><a href="../../../Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextDrawShading" target="_top">CGContextDrawShading</a></code> to paint the clipping area of the context with the gradient. When you call this function, Quartz invokes your callback to obtain color values that span the range from the starting point to the ending point. </p><p>When you no longer need the CGShading object, you release it by calling the function <code><a href="../../../Reference/CGShading/Reference/reference.html#//apple_ref/doc/c_ref/CGShadingRelease" target="_top">CGShadingRelease</a></code>.</p><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCDIIFG">“Painting an Axial Gradient Using a CGShading Object”</a></span> and <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCIHABA">“Painting a Radial Gradient Using a CGShading Object”</a></span> provide step-by-step instructions on writing code that uses a CGShading object to draw a gradient.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCDIIFG" title="Painting an Axial Gradient Using a CGShading Object"></a><h3>Painting an Axial Gradient Using a CGShading Object</h3><p>Axial and radial gradients require you to perform similar steps. This example shows draw an axial gradient using a CGShading object, create a semicircular clipping path in a graphics context, then paint the gradient to the clipped context to achieve the output shown in <span class="content_text">Figure 8-11</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCJBIIJ" title="Figure 8-11An axial gradient that is clipped and painted"></a><p><strong>Figure 8-11&nbsp;&nbsp;</strong>An axial gradient that is clipped and painted</p><img src = "../Art/axial_shading_arc.gif" alt = "An axial gradient that is clipped and painted" width="306" height="196"></div><br/><p>To paint the axial gradient shown in the figure, follow these steps:</p><ol class="ol"><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-CIHGAEFJ">“Set Up a CGFunction Object to Compute Color Values”</a></span></p></li><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-CIHFFFJG">“Create a  CGShading Object for an Axial Gradient”</a></span></p></li><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBCJAE">“Clip the Context”</a></span></p></li><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-CIHDCAFH">“Paint the Axial Gradient Using a CGShading Object”</a></span></p></li><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-CIHCEEEA">“Release Objects”</a></span></p></li></ol><a name="//apple_ref/doc/uid/TP30001066-CH207-CIHGAEFJ" title="Set Up a CGFunction Object to Compute Color Values"></a><h4>Set Up a CGFunction Object to Compute Color Values</h4><p>You can compute color values any way you’d like, as long as your color computation function takes three parameters:</p><ul class="spaceabove"><li class="li"><p><code>void *info</code>. This is <code>NULL</code> or a pointer to data you pass to the CGShading creation function.</p></li><li class="li"><p><code>const float *in</code>. Quartz passes the <code>in</code> array to your callback. The values in the array must be in the input value range defined for your CGFunction object. For this example, the input range is 0 to 1; see <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBBDCC">Listing 8-7</a></span>.</p></li><li class="li"><p><code>float *out</code>. Your callback passes the <code>out</code> array to Quartz. It contains one element for each color component in the color space, and an alpha value. Output values should be in the output value range defined for your CGFunction object. For this example, the output range is 0 to 1; see <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBBDCC">Listing 8-7</a></span>.</p></li></ul><p>For more information on these parameters, see <code><!--a target="_top" -->CGFunctionEvaluateCallback<!--/a--></code>.</p><p><span class="content_text">Listing 8-6</span> shows a function that computes color component values by multiplying the values defined in a constant array by the input value. Because the input value ranges from 0 through 1, the output values range from black (for RGB, the values 0, 0, 0), through (1, 0, .5) which is a purple hue. Note that the last component is always set to <code>1</code>, so that the colors are always fully opaque. </p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCBGGHC" title="Listing 8-6A function that computes color component values"></a><p class="codesample"><strong>Listing 8-6&nbsp;&nbsp;</strong>A function that computes color component values</p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>static void myCalculateShadingValues (void *info,<span></span></pre></td></tr><tr><td scope="row"><pre>                            const float *in,<span></span></pre></td></tr><tr><td scope="row"><pre>                            float *out)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    float v;<span></span></pre></td></tr><tr><td scope="row"><pre>    size_t k, components;<span></span></pre></td></tr><tr><td scope="row"><pre>    static const float c[] = {1, 0, .5, 0 };<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    components = (size_t)info;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    v = *in;<span></span></pre></td></tr><tr><td scope="row"><pre>    for (k = 0; k &lt; components -1; k++)<span></span></pre></td></tr><tr><td scope="row"><pre>        *out++ = c[k] * v;<span></span></pre></td></tr><tr><td scope="row"><pre>     *out++ = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr></table></div><p>After you write your callback to compute color values, you package it as part of a CGFunction object. It’s the CGFunction object you supply to Quartz when you create a CGShading object. <span class="content_text">Listing 8-7</span> shows a function that creates a CGFunction object that contains the callback from <span class="content_text">Listing 8-6</span>. A detailed explanation for each numbered line of code appears following the listing.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCBBDCC" title="Listing 8-7A function that creates a CGFunction object "></a><p class="codesample"><strong>Listing 8-7&nbsp;&nbsp;</strong>A function that creates a CGFunction object </p><div class="codesample"><table><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>static CGFunctionRef myGetFunction (CGColorSpaceRef colorspace)<span>// 1</span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    size_t components;<span></span></pre></td></tr><tr><td scope="row"><pre>    static const float input_value_range [2] = { 0, 1 };<span></span></pre></td></tr><tr><td scope="row"><pre>    static const float output_value_ranges [8] = { 0, 1, 0, 1, 0, 1, 0, 1 };<span></span></pre></td></tr><tr><td scope="row"><pre>    static const CGFunctionCallbacks callbacks = { 0,<span>// 2</span></pre></td></tr><tr><td scope="row"><pre>                                &amp;myCalculateShadingValues,<span></span></pre></td></tr><tr><td scope="row"><pre>                                NULL };<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    components = 1 + CGColorSpaceGetNumberOfComponents (colorspace);<span>// 3</span></pre></td></tr><tr><td scope="row"><pre>    return CGFunctionCreate ((void *) components, <span>// 4</span></pre></td></tr><tr><td scope="row"><pre>                                1, <span>// 5</span></pre></td></tr><tr><td scope="row"><pre>                                input_value_range, <span>// 6</span></pre></td></tr><tr><td scope="row"><pre>                                components, <span>// 7</span></pre></td></tr><tr><td scope="row"><pre>                                output_value_ranges, <span>// 8</span></pre></td></tr><tr><td scope="row"><pre>                                &amp;callbacks);<span>// 9</span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Here’s what the code does:</p><ol class="ol"><li class="li"><p>Takes a color space as a parameter. </p></li><li class="li"><p>Declares a callbacks structure and fills it with the version of the structure (<code>0</code>), a pointer to your color component calculation callback, and <code>NULL</code> for the optional release function.</p></li><li class="li"><p>Calculates the number of color components in the color space and increments the value by 1 to account for the alpha value.</p></li><li class="li"><p>Passes a pointer to the components value. This value is used by the callback <code>myCalculateShadingValues</code>.</p></li><li class="li"><p>Specifies that 1 is the number of input values to the callback.</p></li><li class="li"><p>Provides an array that specifies the valid intervals for the input. This array contains 0 and 1.</p></li><li class="li"><p>Passes the number of output values, which is the number of color components plus alpha.</p></li><li class="li"><p>Provides an array that specifies the valid intervals for each output value. This array specifies, for each component, the intervals 0 and 1. Because there are four components, there are eight elements in this array.</p></li><li class="li"><p>Passes a pointer to the callback structure declared and filled previously.</p></li></ol><a name="//apple_ref/doc/uid/TP30001066-CH207-CIHFFFJG" title="Create a  CGShading Object for an Axial Gradient"></a><h4>Create a  CGShading Object for an Axial Gradient</h4><p>To create a CGShading object, you call the function <code>CGShadingCreateAxial</code>, as shown in <span class="content_text">Listing 8-8</span>, passing a color space, starting and ending points, a CGFunction object, and a Boolean value that specifies whether to fill the area beyond the starting and ending points of the gradient. </p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCFFGEG" title="Listing 8-8Code that sets up a CGShading object for an axial gradient"></a><p class="codesample"><strong>Listing 8-8&nbsp;&nbsp;</strong>Code that sets up a CGShading object for an axial gradient</p><div class="codesample"><table><tr><td scope="row"><pre>CGPoint     startPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>            endPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>CGFunctionRef myFunctionObject;<span></span></pre></td></tr><tr><td scope="row"><pre>CGShadingRef myShading;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>startPoint = CGPointMake(0,0.5);<span></span></pre></td></tr><tr><td scope="row"><pre>endPoint = CGPointMake(1,0.5);<span></span></pre></td></tr><tr><td scope="row"><pre>colorspace = CGColorSpaceCreateDeviceRGB();<span></span></pre></td></tr><tr><td scope="row"><pre>myFunctionObject = myGetFunction (colorspace);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>myShading = CGShadingCreateAxial (colorspace,<span></span></pre></td></tr><tr><td scope="row"><pre>                        startPoint, endPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>                        myFunctionObject,<span></span></pre></td></tr><tr><td scope="row"><pre>                        false, false);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCBCJAE" title="Clip the Context"></a><h4>Clip the Context</h4><p>When you paint a gradient, Quartz fills the current context. This is different from working with colors and patterns, which are used to stroke and fill path objects. As a result, if you want your gradient to appear in a particular shape, you need to clip the context accordingly. The code in <span class="content_text">Listing 8-9</span> adds a semicircle to the current context so that the gradient is painted into that clip area, as shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCJBIIJ">Figure 8-11</a></span>. </p><p>If you look carefully, you’ll notice that the code should result in a half circle, whereas the figure shows a half ellipse. Why? You’ll see, when you look at the entire routine in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCECJBF">“A Complete Routine for an Axial Gradient Using a CGShading Object,”</a></span> that the context is also scaled. More about that later. Although you might not need to apply scaling or a clip in your application, these and many other options exist in Quartz 2D to help you achieve interesting effects.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCHHDDJ" title="Listing 8-9Code that adds a semicircle clip to the graphics context"></a><p class="codesample"><strong>Listing 8-9&nbsp;&nbsp;</strong>Code that adds a semicircle clip to the graphics context</p><div class="codesample"><table><tr><td scope="row"><pre>    CGContextBeginPath (myContext);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextAddArc (myContext, .5, .5, .3, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>                    my_convert_to_radians (180), 0);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextClosePath (myContext);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextClip (myContext);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001066-CH207-CIHDCAFH" title="Paint the Axial Gradient Using a CGShading Object"></a><h4>Paint the Axial Gradient Using a CGShading Object</h4><p>Call the function <code><a href="../../../Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextDrawShading" target="_top">CGContextDrawShading</a></code> to fill the current context using the color gradient specified in the CGShading object:</p><div class="codesample"><table><tr><td scope="row"><pre>CGContextDrawShading (myContext, myShading);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001066-CH207-CIHCEEEA" title="Release Objects"></a><h4>Release Objects</h4><p>You call the function <code><a href="../../../Reference/CGShading/Reference/reference.html#//apple_ref/doc/c_ref/CGShadingRelease" target="_top">CGShadingRelease</a></code> when you no longer need the CGShading object. You also need to release the CGColorSpace object and the CGFunction object as shown in <span class="content_text">Listing 8-10</span>.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCEDCAE" title="Listing 8-10Releasing objects"></a><p class="codesample"><strong>Listing 8-10&nbsp;&nbsp;</strong>Releasing objects</p><div class="codesample"><table><tr><td scope="row"><pre>CGShadingRelease (myShading);<span></span></pre></td></tr><tr><td scope="row"><pre>CGColorSpaceRelease (colorspace);<span></span></pre></td></tr><tr><td scope="row"><pre>CGFunctionRelease (myFunctionObject);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCECJBF" title="A Complete Routine for an Axial Gradient Using a CGShading Object"></a><h4>A Complete Routine for an Axial Gradient Using a CGShading Object</h4><p>The code in <span class="content_text">Listing 8-11</span> shows a complete routine that paints an axial gradient, using the CGFunction object set up in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBBDCC">Listing 8-7</a></span> and the callback shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBGGHC">Listing 8-6</a></span>. A detailed explanation for each numbered line of code appears following the listing.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-CIHIIHHJ" title="Listing 8-11A routine that paints an axial gradient using a CGShading object "></a><p class="codesample"><strong>Listing 8-11&nbsp;&nbsp;</strong>A routine that paints an axial gradient using a CGShading object </p><div class="codesample"><table><tr><td scope="row"><pre>void myPaintAxialShading (CGContextRef myContext,<span>// 1</span></pre></td></tr><tr><td scope="row"><pre>                            CGRect bounds)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    CGPoint     startPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>                endPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>    CGAffineTransform myTransform;<span></span></pre></td></tr><tr><td scope="row"><pre>   float width = bounds.size.width;<span></span></pre></td></tr><tr><td scope="row"><pre>    float height = bounds.size.height;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    startPoint = CGPointMake(0,0.5); <span>// 2</span></pre></td></tr><tr><td scope="row"><pre>    endPoint = CGPointMake(1,0.5);<span>// 3</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    colorspace = CGColorSpaceCreateDeviceRGB();<span>// 4</span></pre></td></tr><tr><td scope="row"><pre>    myShadingFunction = myGetFunction(colorspace);<span>// 5</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    shading = CGShadingCreateAxial (colorspace, <span>// 6</span></pre></td></tr><tr><td scope="row"><pre>                                 startPoint, endPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>                                 myShadingFunction,<span></span></pre></td></tr><tr><td scope="row"><pre>                                 false, false);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    myTransform = CGAffineTransformMakeScale (width, height);<span>// 7</span></pre></td></tr><tr><td scope="row"><pre>    CGContextConcatCTM (myContext, myTransform);<span>// 8</span></pre></td></tr><tr><td scope="row"><pre>    CGContextSaveGState (myContext);<span>// 9</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextClipToRect (myContext, CGRectMake(0, 0, 1, 1));<span>// 10</span></pre></td></tr><tr><td scope="row"><pre>    CGContextSetRGBFillColor (myContext, 1, 1, 1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextFillRect (myContext, CGRectMake(0, 0, 1, 1));<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextBeginPath (myContext);<span>// 11</span></pre></td></tr><tr><td scope="row"><pre>    CGContextAddArc (myContext, .5, .5, .3, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>                        my_convert_to_radians (180), 0);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextClosePath (myContext);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextClip (myContext);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextDrawShading (myContext, shading);<span>// 12</span></pre></td></tr><tr><td scope="row"><pre>    CGColorSpaceRelease (colorspace);<span>// 13</span></pre></td></tr><tr><td scope="row"><pre>    CGShadingRelease (shading);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGFunctionRelease (myShadingFunction);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextRestoreGState (myContext); <span>// 14</span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Here’s what the code does:</p><ol class="ol"><li class="li"><p>Takes as parameters a graphics context and a rectangle to draw into.</p></li><li class="li"><p>Assigns a value to the starting point. The routine calculates values based on a user space that varies from 0 to 1. You’ll scale the space later for the window the Quartz draws into. You can think of this coordinate location as x at the far left side and y at 50% from the bottom. </p></li><li class="li"><p>Assigns a value to the ending point. You can think of this coordinate location as x at the far right side and y at 50% from the bottom. As you can see, the axis for the gradient is a horizontal line.</p></li><li class="li"><p>Creates a color space for device RGB because this routine draws to the display.</p></li><li class="li"><p>Creates a CGFunction object by calling the routine shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBBDCC">Listing 8-7</a></span> and passing the color space you just created.</p></li><li class="li"><p>Creates a CGShading object for an axial gradient. The last two parameters are false, to signal that Quartz should not fill the area beyond the starting and ending points.</p></li><li class="li"><p>Sets up an affine transform that is scaled to the height and width of the window used for drawing. Note that the height is not necessarily equal to the width. In this example, because the two aren’t equal, the end result is elliptical rather than circular.</p></li><li class="li"><p>Concatenates the transform you just set up with the graphics context passed to the routine. </p></li><li class="li"><p>Saves the graphics state to enable you to restore this state later.</p></li><li class="li"><p>Sets up a clipping area. This and the next two lines of code clip the context to a rectangle that is filled with white. The effect is that the gradient is drawn to a window with a white background.</p></li><li class="li"><p>Creates a path. This and the next three lines of code set up an arc that is half a circle and adds it to the graphics context as a clipping area. The effect is that the gradient is drawn to an area that is half a circle. However, the circle will be transformed by the height and width of the window (see step 8), resulting in a final effect of a gradient drawn to a half ellipse. As the window is resized by the user, the clipping area is resized.</p></li><li class="li"><p>Paints the gradient to the graphics context, transforming and clipping the gradient as described previously.</p></li><li class="li"><p>Releases objects. This and the next two lines of code release all the objects you created.</p></li><li class="li"><p>Restores the graphics state to the state that existed before you set up the filled background and clipped to half a circle. The restored state is still transformed by the width and height of the window.</p></li></ol><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCIHABA" title="Painting a Radial Gradient Using a CGShading Object"></a><h3>Painting a Radial Gradient Using a CGShading Object</h3><p>This example shows how to use a CGShading object to produce the output shown in <span class="content_text">Figure 8-12</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCGFFEE" title="Figure 8-12A radial gradient creating using a CGShading object"></a><p><strong>Figure 8-12&nbsp;&nbsp;</strong>A radial gradient creating using a CGShading object</p><img src = "../Art/radial_shading.gif" alt = "A radial gradient creating using a CGShading object" width="371" height="357"></div><br/><p>To paint a radial gradient, follow these steps:</p><ol class="ol"><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCGHBFH">“Set Up a CGFunction Object to Compute Color Values.”</a></span> </p></li><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCCGBIF">“Create a CGShading Object for a Radial Gradient”</a></span></p></li><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCIADBB">“Paint a Radial Gradient Using a CGShading Object”</a></span></p></li><li class="li"><p><span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCECIIB">“Release Objects”</a></span></p></li></ol><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCGHBFH" title="Set Up a CGFunction Object to Compute Color Values"></a><h4>Set Up a CGFunction Object to Compute Color Values</h4><p>There is no difference between writing functions to compute color values for radial and axial gradients. In fact, you can follow the instruction outlined in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-CIHGAEFJ">“Set Up a CGFunction Object to Compute Color Values.”</a></span> <span class="content_text">Listing 8-12</span> calculates color so that the color components vary sinusoidally, with a period based on frequency values declared in the function. The result seen in <span class="content_text">Figure 8-12</span> is quite different from the colors shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCJBIIJ">Figure 8-11</a></span>. Despite the differences in color output, the code in <span class="content_text">Listing 8-12</span> is similar to <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBGGHC">Listing 8-6</a></span> in that each function follows the same prototype. Each function takes one input value and calculates N values, one for each color component of the color space plus an alpha value.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCCEFEG" title="Listing 8-12A function that computes color component values"></a><p class="codesample"><strong>Listing 8-12&nbsp;&nbsp;</strong>A function that computes color component values</p><div class="codesample"><table><tr><td scope="row"><pre>static void  myCalculateShadingValues (void *info,<span></span></pre></td></tr><tr><td scope="row"><pre>                                const float *in,<span></span></pre></td></tr><tr><td scope="row"><pre>                                float *out)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    size_t k, components;<span></span></pre></td></tr><tr><td scope="row"><pre>    double frequency[4] = { 55, 220, 110, 0 };<span></span></pre></td></tr><tr><td scope="row"><pre>    components = (size_t)info;<span></span></pre></td></tr><tr><td scope="row"><pre>    for (k = 0; k &lt; components - 1; k++)<span></span></pre></td></tr><tr><td scope="row"><pre>        *out++ = (1 + sin(*in * frequency[k]))/2;<span></span></pre></td></tr><tr><td scope="row"><pre>     *out++ = 1; // alpha<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Recall that after you write a color computation function, you need to create a CGFunction object, as described in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-CIHGAEFJ">“Set Up a CGFunction Object to Compute Color Values.”</a></span></p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCCGBIF" title="Create a CGShading Object for a Radial Gradient"></a><h4>Create a CGShading Object for a Radial Gradient</h4><p>To create a CGShading object or a radial gradient, you call the function <code>CGShadingCreateRadial</code>, as shown in <span class="content_text">Listing 8-13</span>, passing a color space, starting and ending points, starting and ending radii, a CGFunction object, and Boolean values to specify whether to fill the area beyond the starting and ending points of the gradient.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCHHCAG" title="Listing 8-13Code that sets up a CGShading object for a radial gradient"></a><p class="codesample"><strong>Listing 8-13&nbsp;&nbsp;</strong>Code that sets up a CGShading object for a radial gradient</p><div class="codesample"><table><tr><td scope="row"><pre>    CGPoint startPoint, endPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>    float startRadius, endRadius;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    startPoint = CGPointMake(0.25,0.3);<span></span></pre></td></tr><tr><td scope="row"><pre>    startRadius = .1;<span></span></pre></td></tr><tr><td scope="row"><pre>    endPoint = CGPointMake(.7,0.7);<span></span></pre></td></tr><tr><td scope="row"><pre>    endRadius = .25;<span></span></pre></td></tr><tr><td scope="row"><pre>    colorspace = CGColorSpaceCreateDeviceRGB ();<span></span></pre></td></tr><tr><td scope="row"><pre>    myShadingFunction = myGetFunction (colorspace);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGShadingCreateRadial (colorspace,<span></span></pre></td></tr><tr><td scope="row"><pre>                    startPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>                    startRadius,<span></span></pre></td></tr><tr><td scope="row"><pre>                    endPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>                    endRadius,<span></span></pre></td></tr><tr><td scope="row"><pre>                    myShadingFunction,<span></span></pre></td></tr><tr><td scope="row"><pre>                    false,<span></span></pre></td></tr><tr><td scope="row"><pre>                    false);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCIADBB" title="Paint a Radial Gradient Using a CGShading Object"></a><h4>Paint a Radial Gradient Using a CGShading Object</h4><p>Calling the function <code><a href="../../../Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextDrawShading" target="_top">CGContextDrawShading</a></code> fills the current context using the specified color gradient specified in the CGShading object.</p><div class="codesample"><table><tr><td scope="row"><pre>CGContextDrawShading (myContext, shading);<span></span></pre></td></tr></table></div><p>Notice that you use the same function to paint a gradient regardless of whether the gradient is axial or radial.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCECIIB" title="Release Objects"></a><h4>Release Objects</h4><p>You call the function <code><a href="../../../Reference/CGShading/Reference/reference.html#//apple_ref/doc/c_ref/CGShadingRelease" target="_top">CGShadingRelease</a></code> when you no longer need the CGShading object. You also need to release the CGColorSpace object and the CGFunction object as shown in <span class="content_text">Listing 8-14</span>.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCDEHAH" title="Listing 8-14Code that releases objects"></a><p class="codesample"><strong>Listing 8-14&nbsp;&nbsp;</strong>Code that releases objects</p><div class="codesample"><table><tr><td scope="row"><pre>CGShadingRelease (myShading);<span></span></pre></td></tr><tr><td scope="row"><pre>CGColorSpaceRelease (colorspace);<span></span></pre></td></tr><tr><td scope="row"><pre>CGFunctionRelease (myFunctionObject);<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_40" title="A Complete Routine for Painting a Radial Gradient Using a CGShading Object"></a><h4>A Complete Routine for Painting a Radial Gradient Using a CGShading Object</h4><p>The code in <span class="content_text">Listing 8-15</span> shows a complete routine that paints a radial gradient using the CGFunction object set up in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBBDCC">Listing 8-7</a></span> and the callback shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCCEFEG">Listing 8-12</a></span>. A detailed explanation for each numbered line of code appears following the listing.</p><a name="//apple_ref/doc/uid/TP30001066-CH207-BBCGHHIH" title="Listing 8-15A routine that paints a radial gradient using a CGShading object"></a><p class="codesample"><strong>Listing 8-15&nbsp;&nbsp;</strong>A routine that paints a radial gradient using a CGShading object</p><div class="codesample"><table><tr><td scope="row"><pre>void myPaintRadialShading (CGContextRef myContext,<span>// 1</span></pre></td></tr><tr><td scope="row"><pre>                            CGRect bounds);<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    CGPoint startPoint,<span></span></pre></td></tr><tr><td scope="row"><pre>            endPoint;<span></span></pre></td></tr><tr><td scope="row"><pre>    float   startRadius,<span></span></pre></td></tr><tr><td scope="row"><pre>            endRadius;<span></span></pre></td></tr><tr><td scope="row"><pre>    CGAffineTransform myTransform;<span></span></pre></td></tr><tr><td scope="row"><pre>    float width = bounds.size.width;<span></span></pre></td></tr><tr><td scope="row"><pre>    float height = bounds.size.height;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    startPoint = CGPointMake(0.25,0.3); <span>// 2</span></pre></td></tr><tr><td scope="row"><pre>    startRadius = .1;  <span>// 3</span></pre></td></tr><tr><td scope="row"><pre>    endPoint = CGPointMake(.7,0.7); <span>// 4</span></pre></td></tr><tr><td scope="row"><pre>    endRadius = .25; <span>// 5</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    colorspace = CGColorSpaceCreateDeviceRGB(); <span>// 6</span></pre></td></tr><tr><td scope="row"><pre>    myShadingFunction = myGetFunction (colorspace); <span>// 7</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    shading = CGShadingCreateRadial (colorspace, <span>// 8</span></pre></td></tr><tr><td scope="row"><pre>                            startPoint, startRadius,<span></span></pre></td></tr><tr><td scope="row"><pre>                            endPoint, endRadius,<span></span></pre></td></tr><tr><td scope="row"><pre>                            myShadingFunction,<span></span></pre></td></tr><tr><td scope="row"><pre>                            false, false);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    myTransform = CGAffineTransformMakeScale (width, height); <span>// 9</span></pre></td></tr><tr><td scope="row"><pre>    CGContextConcatCTM (myContext, myTransform); <span>// 10</span></pre></td></tr><tr><td scope="row"><pre>    CGContextSaveGState (myContext); <span>// 11</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextClipToRect (myContext, CGRectMake(0, 0, 1, 1));<span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextSetRGBFillColor (myContext, 1, 1, 1, 1); <span>// 12</span></pre></td></tr><tr><td scope="row"><pre>    CGContextFillRect (myContext, CGRectMake(0, 0, 1, 1));<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextDrawShading (myContext, shading); <span>// 13</span></pre></td></tr><tr><td scope="row"><pre>    CGColorSpaceRelease (colorspace); <span>// 14</span></pre></td></tr><tr><td scope="row"><pre>    CGShadingRelease (shading);<span></span></pre></td></tr><tr><td scope="row"><pre>    CGFunctionRelease (myShadingFunction);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CGContextRestoreGState (myContext); <span>// 15</span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Here’s what the code does:</p><ol class="ol"><li class="li"><p>Takes as parameters a graphics context and a rectangle to draw into.</p></li><li class="li"><p>Assigns a value to the center of the starting circle. The routine calculates values based on a user space that varies from 0 to 1. You’ll scale the space later for the window Quartz draws into. You can think of this coordinate location as x at 25% from the left and y at 50% from the bottom. </p></li><li class="li"><p>Assigns the radius of the starting circle. You can think of this as 10% of the width of user space.</p></li><li class="li"><p>Assigns a value to the center of the ending circle. You can think of this coordinate location as x at 70% from the left and y at 70% from the bottom.</p></li><li class="li"><p>Assigns the radius of the ending circle. You can think of this as 25% of the width of user space. The ending circle will be larger than the starting circle. The conical shape will be oriented from left to right, tipped upwards.</p></li><li class="li"><p>Creates a color space for device RGB because this routine draws to the display.</p></li><li class="li"><p>Creates a CGFunctionObject by calling the routine shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCBBDCC">Listing 8-7</a></span> and passing the color space you just created. However, recall that you’ll use the color calculation function shown in <span class="content_text"><a href="dq_shadings.html#//apple_ref/doc/uid/TP30001066-CH207-BBCCEFEG">Listing 8-12</a></span>.</p></li><li class="li"><p>Creates a CGShading object for a radial gradient. The last two parameters are <code>false</code>, to signal that Quartz should not fill the area beyond the starting and ending points of the gradient.</p></li><li class="li"><p>Sets up an affine transform that is scaled to the height and width of the window used for drawing. Note that the height is not necessarily equal to the width. In fact, the transformation will change whenever the user resizes the window.</p></li><li class="li"><p>Concatenates the transform you just set up with the graphics context passed to the routine. </p></li><li class="li"><p>Saves the graphics state to enable you to restore this state later.</p></li><li class="li"><p>Sets up a clipping area. This and the next two lines of code clip the context to a rectangle that is filled with white. The effect is that the gradient is drawn to a window with a white background.</p></li><li class="li"><p>Paints the gradient to the graphics context transforming the gradient as described previously.</p></li><li class="li"><p>Releases object. This and the next two lines of code release all the objects you created.</p></li><li class="li"><p>Restores the graphics state to the state that existed before you set up the filled background. The restored state is still transformed by the width and height of the window.</p></li></ol><a name="//apple_ref/doc/uid/TP30001066-CH207-DontLinkElementID_41" title="See Also"></a><h2>See Also</h2><ul class="ul"><li class="li"><p><em><a href="../../../Reference/CGGradient/index.html#//apple_ref/doc/uid/TP40004880" target="_top">CGGradient Reference</a></em> describes the functions that create CGGradient objects.</p></li><li class="li"><p><em><a href="../../../Reference/CGShading/index.html#//apple_ref/doc/uid/TP30000961" target="_top">CGShading Reference</a></em> describes the functions that create CGShading objects.</p></li><li class="li"><p><em><a href="../../../Reference/CGFunction/index.html#//apple_ref/doc/uid/TP30000954" target="_top">CGFunction Reference</a></em> describes the functions needed to calculate gradient colors for a CGShading object.</p></li><li class="li"><p><em><a href="../../../Reference/CGContext/index.html#//apple_ref/doc/uid/TP30000950" target="_top">CGContext Reference</a></em> describes the functions that draw to a context with CGGradient and CGShading objects.</p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../dq_shadows/dq_shadows.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../dq_trans_layers/dq_trans_layers.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-12-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_shadings/dq_shadings.html%3Fid%3DTP30001066-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_shadings/dq_shadings.html%3Fid%3DTP30001066-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_shadings/dq_shadings.html%3Fid%3DTP30001066-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>