<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Creating Fetch Specifications Programmatically</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Programming Topics</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="TopicsTOC.html"><img src="up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.1b.html"><img src="previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.1d.html"><img src="next.gif" border="0" width="49" height="16"></A></DIV><H1 CLASS="TopictTitle"><A NAME="pgfId=617519"> </A><A NAME="39919"> </A>Creating Fetch Specifications Programmatically</H1><DIV><H2 CLASS="Synopsis"><A NAME="pgfId=616588"> </A>Synopsis</H2><P CLASS="Body"><A NAME="pgfId=617529"> </A>Describes how to create a fetch specification programmatically.</P></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=616592"> </A>Description</H2><P CLASS="Body"><A NAME="pgfId=617481"> </A>EOFetchSpecifications define the way database fetches are performed. They specify such information as the entity to fetch from, which enterprise objects to fetch (a qualifier), the order in which the fetched objects appear (a sort ordering), and other fetch parameters. EOFetchSpecifications are used by an EOEditingContext, the object that actually fetches and maintains the enterprise objects. For more information on fetching, see the programming topics <A HREF="ProgrammingTopics.1a.html#15933" CLASS="XRef">Fetching with an Editing Context</A> and <A HREF="ProgrammingTopics.1b.html#27044" CLASS="XRef">Setting a WODisplayGroup's Fetch Specification Programmatically</A>.</P><P CLASS="Body"><A NAME="pgfId=617753"> </A>The simplest type of fetch is unqualified and unordered. For example, to create a fetch specification to fetch all of the Movies in the order they appear in the database you use:</P><PRE CLASS="Code"><A NAME="pgfId=617812"> </A>EOFetchSpecification fs = new EOFetchSpecification (&quot;Movie&quot;,null,null);</PRE><DIV><H3 CLASS="Heading2"><A NAME="pgfId=617828"> </A>Setting a Qualifier and Sort Ordering</H3><P CLASS="Body"><A NAME="pgfId=617939"> </A>To choose which objects to fetch (for example, to fetch all movies starring Harrison Ford) you need to qualify your fetch using an EOQualifier. The programming topic <A HREF="ProgrammingTopics.1d.html#21221" CLASS="XRef">Creating EOQualifiers Programmatically</A> discusses how to build an EOQualifier.</P><P CLASS="Body"><A NAME="pgfId=617844"> </A>To fetch the objects and sort them in a particular order, you need to specify a sort ordering using EOSortOrdering. The programming topic <A HREF="ProgrammingTopics.1e.html#35104" CLASS="XRef">Creating Sort Orderings</A> discusses how to build an EOSortOrdering.</P><P CLASS="Body"><A NAME="pgfId=617853"> </A>When you have a qualifier and a sort ordering, you create the fetch specification using:</P><PRE CLASS="Code"><A NAME="pgfId=617854"> </A>EOQualifier myQualifier;       // assume existsEOSortOrdering mySortOrdering; // assume existsEOFetchSpecification fs = new EOFetchSpecification     (&quot;Movie&quot;,myQualifier,mySortOrdering);</PRE></DIV><DIV><H3 CLASS="Heading2"><A NAME="pgfId=617491"> </A>Other Fetch Parameters</H3><P CLASS="Body"><A NAME="pgfId=617961"> </A>There are several other parameters that you can set to refine the way a fetch is performed.</P><DIV><H4 CLASS="Heading3"><A NAME="pgfId=618023"> </A>Distinct Fetching</H4><P CLASS="Body"><A NAME="pgfId=617997"> </A>Duplicate records sometimes appear in database fetches, usually when the fetch involves joining multiple tables to satisfy the fetch qualifier. The EOFetchSpecification allows you to specify whether you want these duplicate records with the <TT CLASS="Code">setUsesDistinct</TT> method. See the programming topic <A HREF="ProgrammingTopics.1f.html#21824" CLASS="XRef">Fetching Distinct Results</A> for more information.</P></DIV><DIV><H4 CLASS="Heading3"><A NAME="pgfId=617965"> </A>Setting a Fetch Limit</H4><P CLASS="Body"><A NAME="pgfId=617998"> </A>By default, when you fetch enterprise objects from a database, all objects that match the fetch criteria are returned. For large databases with lots of records, this can mean that users have to wait while all objects are fetched. To avoid this, you can limit the number of objects fetched. The programming topic <A HREF="ProgrammingTopics.20.html#26713" CLASS="XRef">Setting a Fetch Limit</A> shows how to do this.</P></DIV><DIV><H4 CLASS="Heading3"><A NAME="pgfId=617967"> </A>Prefetching</H4><P CLASS="Body"><A NAME="pgfId=618004"> </A>Sometimes you know that when you fetch an object, you will always fetch one of its relationships too. By default, EOF fetches the relationship only when you actually traverse it, which results in two fetches (the source object and the relationship). You can improve performance by telling EOF to fetch particular relationships whenever an object is fetched. This is called prefetching and is discussed in the <A HREF="ProgrammingTopics.9.html#24021" CLASS="XRef">Prefetching</A> programming topic.</P></DIV></DIV></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=616657"> </A>See Also</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=617543"> </A><A HREF="ProgrammingTopics.1a.html#15933" CLASS="XRef">Fetching with an Editing Context</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=617544"> </A><A HREF="ProgrammingTopics.1b.html#27044" CLASS="XRef">Setting a WODisplayGroup's Fetch Specification Programmatically</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=617545"> </A><A HREF="ProgrammingTopics.1d.html#21221" CLASS="XRef">Creating EOQualifiers Programmatically</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=618121"> </A><A HREF="ProgrammingTopics.1e.html#35104" CLASS="XRef">Creating Sort Orderings</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=618126"> </A><A HREF="ProgrammingTopics.1f.html#21824" CLASS="XRef">Fetching Distinct Results</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=618131"> </A><A HREF="ProgrammingTopics.20.html#26713" CLASS="XRef">Setting a Fetch Limit</A></LI><LI CLASS="Bulleted"><A NAME="pgfId=618136"> </A><A HREF="ProgrammingTopics.9.html#24021" CLASS="XRef">Prefetching</A></LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=616663"> </A>Questions</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=617597"> </A>What is a fetch specification?</LI><LI CLASS="Bulleted"><A NAME="pgfId=618149"> </A>How do I create an fetch specification?</LI><LI CLASS="Bulleted"><A NAME="pgfId=618143"> </A>What does an EOFetchSpecification do?</LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=616667"> </A>Keywords</H2><UL><LI CLASS="Bulleted"><A NAME="pgfId=617615"> </A>EOFetchSpecification</LI><LI CLASS="Bulleted"><A NAME="pgfId=618158"> </A>Distinct</LI><LI CLASS="Bulleted"><A NAME="pgfId=618159"> </A>Fetch Limit</LI><LI CLASS="Bulleted"><A NAME="pgfId=618162"> </A>Prefetching</LI><LI CLASS="Bulleted"><A NAME="pgfId=618160"> </A>EOQualifier</LI><LI CLASS="Bulleted"><A NAME="pgfId=618161"> </A>EOSortOrdering</LI></UL></DIV><DIV><H2 CLASS="Heading1"><A NAME="pgfId=616673"> </A>Revision History</H2><P CLASS="Body"><A NAME="pgfId=617624"> </A>8 March, 1999. Clif Liu. First Draft.</P><P CLASS="Body"><A NAME="pgfId=616674"> </A></P></DIV><HR>&#169 1999 Apple Computer, Inc.<P><A HREF="TopicsTOC.html"><img src="up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.1b.html"><img src="previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="ProgrammingTopics.1d.html"><img src="next.gif" border="0" width="49" height="16"></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></BODY></HTML>