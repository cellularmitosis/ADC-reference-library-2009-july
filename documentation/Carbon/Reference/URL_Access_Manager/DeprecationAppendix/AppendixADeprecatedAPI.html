<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>URL Access Manager Reference (Not Recommended): Deprecated URL Access Manager Reference (Not Recommended) Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deprecated URL Access Manager Reference (Not Recommended) Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000058-AppendixA" title="Deprecated URL Access Manager Reference (Not Recommended) Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxNetworking-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000453" target="_top">Networking</a> &gt; <a href="../index.html" target="_top">URL Access Manager Reference (Not Recommended)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../appendixa/appendixa.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
URL Access Manager is deprecated as of Mac OS X v10.4. You should use CFNetwork instead (as described in <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>).</p></div></div></div>
        <h1>Deprecated URL Access Manager Reference (Not Recommended) Functions</h1><p>A function identified as deprecated has been superseded and may become unsupported in the future.</p><a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_142" title="Deprecated in Mac OS X v10.4"></a><h2>Deprecated in Mac OS X v10.4</h2><a name="//apple_ref/c/func/DisposeURLNotifyUPP" title="DisposeURLNotifyUPP"></a><a name="//apple_ref/doc/c_ref/DisposeURLNotifyUPP" title="DisposeURLNotifyUPP"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12660" title="DisposeURLNotifyUPP"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_6"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_6"></a><h3 class="tight">DisposeURLNotifyUPP</h3>
<p class="spaceabove">Disposes of a UPP to your data transfer event notification callback. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
void DisposeURLNotifyUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLNotifyUPP">URLNotifyUPP</a> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userUPP</em></dt>
<dd><p>A Universal Procedure Pointer (UPP) to your notification callback function. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>When you are finished with a UPP to your notification callback function, you should dispose of it by calling the <code>DisposeURLNotifyUPP</code> function. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/DisposeURLSystemEventUPP" title="DisposeURLSystemEventUPP"></a><a name="//apple_ref/doc/c_ref/DisposeURLSystemEventUPP" title="DisposeURLSystemEventUPP"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12661" title="DisposeURLSystemEventUPP"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_7"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_7"></a><h3 class="tight">DisposeURLSystemEventUPP</h3>
<p class="spaceabove">Disposes of a UPP to your system event notification callback. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
void DisposeURLSystemEventUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventUPP">URLSystemEventUPP</a> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userUPP</em></dt>
<dd><p>A UPP to your system event callback function. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>When you are finished with a UPP to your system event callback function, you should dispose of it by calling the <code>DisposeURLSystemEventUPP</code> function. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/InvokeURLNotifyUPP" title="InvokeURLNotifyUPP"></a><a name="//apple_ref/doc/c_ref/InvokeURLNotifyUPP" title="InvokeURLNotifyUPP"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12662" title="InvokeURLNotifyUPP"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_8"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_8"></a><h3 class="tight">InvokeURLNotifyUPP</h3>
<p class="spaceabove">Invokes your data transfer event notification callback. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus InvokeURLNotifyUPP (
   void *userContext,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLEvent">URLEvent</a> event,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLCallbackInfo">URLCallbackInfo</a> *callbackInfo,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLNotifyUPP">URLNotifyUPP</a> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userContext</em></dt>
<dd><p>A pointer to application-defined storage. The URL Access Manager passes this value in the <code>userContext</code> parameter of your notification callback function. Your application can use this to set up its context when your data transfer event notification callback is called. </p></dd>
<dt><em>event</em></dt>
<dd><p>The data transfer events you want your application to receive. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLEvent">“Data Transfer Event Constants”</a></span> for a description of possible values. The URL Access Manager tests the bitmask you pass in the <code>eventRegister </code>parameter of the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code> to determine which events to pass to your callback function. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLEventMask">“Data Transfer Event Mask Constants”</a></span> for a description of this bitmask. </p></dd>
<dt><em>callbackInfo</em></dt>
<dd><p>A pointer to a structure of type <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLCallbackInfo">URLCallbackInfo</a></code> that provides information about the data transfer event to your callback function. The URL Access Manager passes a pointer to this structure in the <code>callbackInfo</code> parameter of your notification callback function. </p></dd>
<dt><em>userUPP</em></dt>
<dd><p>A Universal Procedure Pointer to your data transfer notification callback. For information on how to write this function, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLNotifyProcPtr">URLNotifyProcPtr</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The URL Access Manager calls the <code>InvokeURLNotifyUPP</code> function when you pass a UPP to your callback function in the <code>notifyProc</code> parameter of the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>, and the data transfer event that you specified in the <code>eventRegister</code> parameter occurs. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/InvokeURLSystemEventUPP" title="InvokeURLSystemEventUPP"></a><a name="//apple_ref/doc/c_ref/InvokeURLSystemEventUPP" title="InvokeURLSystemEventUPP"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12663" title="InvokeURLSystemEventUPP"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_9"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_9"></a><h3 class="tight">InvokeURLSystemEventUPP</h3>
<p class="spaceabove">Invokes your system event notification callback. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus InvokeURLSystemEventUPP (
   void *userContext,
   <a href="../../Event_Manager/Reference/reference.html#//apple_ref/doc/c_ref/EventRecord" target="_top">EventRecord</a> *event,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventUPP">URLSystemEventUPP</a> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userContext</em></dt>
<dd><p>A pointer to application-defined storage. The URL Access Manager passes this value in the <code>userContext</code> parameter of your system event callback function. Your application can use this to set up its context when your system event notification callback is called. </p></dd>
<dt><em>event</em></dt>
<dd><p>A pointer to an event record that provides information about the system event to your callback function. </p></dd>
<dt><em>userUPP</em></dt>
<dd><p>A Universal Procedure Pointer to your system event notification callback. For information on how to write this function, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLSystemEventProcPtr">URLSystemEventProcPtr</a></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The URL Access Manager calls the <code>InvokeURLSystemEventUPP</code> function when you pass a UPP to your callback function in the eventProc parameter of the functions <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleDownload">URLSimpleDownload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleUpload">URLSimpleUpload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDownload">URLDownload</a></code>, or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLUpload">URLUpload</a></code>, and a system event occurs while a progress indicator or authentication dialog box is being displayed. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/NewURLNotifyUPP" title="NewURLNotifyUPP"></a><a name="//apple_ref/doc/c_ref/NewURLNotifyUPP" title="NewURLNotifyUPP"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12658" title="NewURLNotifyUPP"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_10"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_10"></a><h3 class="tight">NewURLNotifyUPP</h3>
<p class="spaceabove">Creates a UPP to your data transfer event notification callback.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLNotifyUPP">URLNotifyUPP</a> NewURLNotifyUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLNotifyProcPtr">URLNotifyProcPtr</a> userRoutine
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userRoutine</em></dt>
<dd><p>A pointer to your data transfer event notification callback. For information on how to write your callback, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLNotifyProcPtr">URLNotifyProcPtr</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A UPP to your data transfer event notification callback. You can register your callback by passing this UPP in the <code>notifyProc </code>parameter of the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>. See the description of the <code>URLNotifyUPP</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>NewURLNotifyUPP</code> function creates a pointer to your data transfer event notification callback. You pass a pointer to your callback in the <code>notifyProc</code> parameter of the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code> if you want your application to receive data transfer events. Pass a bitmask in the <code>eventRegister</code> parameter of <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code> indicating which data transfer events you want to receive. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p>When you are finished with your data transfer event notification callback, you should dispose of the UPP by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/DisposeURLNotifyUPP">DisposeURLNotifyUPP</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/NewURLSystemEventUPP" title="NewURLSystemEventUPP"></a><a name="//apple_ref/doc/c_ref/NewURLSystemEventUPP" title="NewURLSystemEventUPP"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12659" title="NewURLSystemEventUPP"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_11"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_11"></a><h3 class="tight">NewURLSystemEventUPP</h3>
<p class="spaceabove">Creates a UPP to your system event notification callback.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventUPP">URLSystemEventUPP</a> NewURLSystemEventUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventProcPtr">URLSystemEventProcPtr</a> userRoutine
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userRoutine</em></dt>
<dd><p>A pointer to your system event notification callback. For information on how to write your callback, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLSystemEventProcPtr">URLSystemEventProcPtr</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A UPP to your system event notification callback. You can register your callback by passing this UPP in the <code>eventProc</code> parameter of the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleDownload">URLSimpleDownload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleUpload">URLSimpleUpload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDownload">URLDownload</a></code>, or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLUpload">URLUpload</a></code>. See the description of the <code>URLSystemEventUPP</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>NewURLSystemEventUPP</code> function creates a pointer to your system event callback function. You pass a pointer to your callback function in the <code>eventProc</code> parameter of the functions <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleDownload">URLSimpleDownload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleUpload">URLSimpleUpload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDownload">URLDownload</a></code>, and <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLUpload">URLUpload</a></code> if you want update events to be passed to your application while a dialog box is displayed. (In Mac OS X, this is not necessary, since all dialog boxes are moveable). In order for these functions to display a dialog box, you must set the mask constant <code>kURLDisplayProgressFlag</code> or <code>kURLDisplayAuthFlag</code> in the bitmask passed in the <code>openFlags</code> parameter. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p>When you are finished with your system event notification callback, you should dispose of the UPP by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/DisposeURLNotifyUPP">DisposeURLNotifyUPP</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLAbort" title="URLAbort"></a><a name="//apple_ref/doc/c_ref/URLAbort" title="URLAbort"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12671" title="URLAbort"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_12"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_12"></a><h3 class="tight">URLAbort</h3>
<p class="spaceabove">Terminates a data transfer operation. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLAbort (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose data transfer operation you wish to terminate. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLAbort</code> function terminates any data transfer operation started by the functions <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleDownload">URLSimpleDownload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDownload">URLDownload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleUpload">URLSimpleUpload</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLUpload">URLUpload</a></code>, or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>. When your application calls <code>URLAbort</code>, the URL Access Manager changes the state returned by the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetCurrentState">URLGetCurrentState</a></code> to <code>kURLAbortingState</code> and passes the constant <code>kURLAbortInitiatedEvent</code> to your notification callback function. When data transfer is terminated, the URL Access Manager changes the state returned by <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetCurrentState">URLGetCurrentState</a></code> to <code>kURLCompletedState</code> and passes the constant <code>kURLCompletedEvent</code> in the <code>event</code> parameter of your notification callback function. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLDisposeReference" title="URLDisposeReference"></a><a name="//apple_ref/doc/c_ref/URLDisposeReference" title="URLDisposeReference"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12669" title="URLDisposeReference"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_13"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_13"></a><h3 class="tight">URLDisposeReference</h3>
<p class="spaceabove">Disposes of the memory associated with a URL reference.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLDisposeReference (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose associated memory you wish to dispose of. You should call the <code>URLDisposeReference</code> function to release the memory occupied by a URL reference when you are finished with it. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p>You must call the <code>URLDisposeReference</code> function to dispose of the reference associated with a URL reference even if the data transfer operation fails. Failure to call <code>URLDisposeReference</code> may result in thread or memory leaks. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLDownload" title="URLDownload"></a><a name="//apple_ref/doc/c_ref/URLDownload" title="URLDownload"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12665" title="URLDownload"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_14"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_14"></a><h3 class="tight">URLDownload</h3>
<p class="spaceabove">Downloads data from a URL specified by a URL reference.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLDownload (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *destination,
   <!--a-->Handle<!--/a--> destinationHandle,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLOpenFlags">URLOpenFlags</a> openFlags,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventUPP">URLSystemEventUPP</a> eventProc,
   void *userContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL from which data is to be downloaded. Once you call <code>URLDownload</code>, you cannot use the same reference if you call <code>URLDownload</code> again. Instead, you must create a new URL reference by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLNewReference">URLNewReference</a></code>. </p></dd>
<dt><em>destination</em></dt>
<dd><p>A pointer to a file specification structure that identifies the file or directory into which data is to be downloaded. If you wish to download data into memory, pass <code>NULL</code> in this parameter and a valid handle in the <code>destinationHandle</code> parameter. If you pass a file specification that does not identify a file or directory, the name of the file or directory specified by the pathname in the <code>urlRef</code> parameter is used. If you pass a file or directory that already exists, and do not specify <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter, <code>URLDownload</code> creates a new file or directory whose name has a number appended before the extension. For example, if the URL specifies a file named <code>file.txt</code>, <code>URLDownload</code> changes the filename to <code>file1.txt</code>. </p></dd>
<dt><em>destinationHandle</em></dt>
<dd><p>A handle to the destination in memory where you want the data downloaded. Before calling <code>URLDownload</code>, create a zero-sized handle. If you wish to download data into a file or directory, pass <code>NULL</code> in this parameter and a valid file specification in the <code>destination</code> parameter.</p></dd>
<dt><em>openFlags</em></dt>
<dd><p>A bitmask that indicates the data transfer options to use. You can specify any of the following masks for downloading options: <code>kURLReplaceExistingFlag</code>, <code>kURLExpandFileFlag</code>, <code>kURLExpandAndVerifyFlag</code>, <code>kURLDisplayProgressFlag</code>, <code>kURLDisplayAuthFlag</code>, <code>kURLIsDirectoryHintFlag</code>, <code>kURLDoNotTryAnonymousFlag</code>, <code>kURLDebinhexOnlyFlag</code>, <code>kURLNoAutoRedirect</code>, and <code>kURLDirectoryListingFlag</code>. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLOpenFlags">“Data Transfer Options Mask Constants”</a></span> for a description of possible values. </p></dd>
<dt><em>eventProc</em></dt>
<dd><p>A Universal Procedure Pointer (UPP) to your system event callback function, if one exists. For information on how to write a system event callback, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLSystemEventProcPtr">URLSystemEventProcPtr</a></code>. If you want to handle events that occur while a progress indicator or authentication dialog box is being displayed, specify the appropriate mask (either <code>kURLDisplayProgressFlag</code> or <code>kURLDisplayAuthFlag</code>) in the <code>openFlags</code> parameter and pass a UPP to your callback function in this parameter. Pass <code>NULL</code> if you do not want to receive notification of these events. In this case, the URL Access Manager displays a nonmovable modal progress indicator or authentication dialog box. </p></dd>
<dt><em>userContext</em></dt>
<dd><p>A pointer to application-defined storage that will be passed to your system event callback function, if one exists. Your application can use this to set up its context when your system event callback function is called. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span> If your application is multi-threaded, and more than one thread calls <code>URLDownload</code> simultaneously, <code>URLDownload</code> returns the result code <code>kURLProgessAlreadyDisplayedError</code> if you specify <code>kURLDisplayProgressFlag</code> in the <code>openFlags</code> parameter and the URL Access Manager is already displaying a progress indicator.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLDownload</code> function downloads data from a URL specified by a URL reference to a file, directory, or memory. It does not return until the download is complete. If you want to download data from a URL identified by a URL string rather than a reference, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleDownload">URLSimpleDownload</a></code>. The difference between the two functions is that URLDownload allows you to access other URL Access Manager functions before, after, or during the download. If you want more control over a data transfer operation, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>.</p>
<p>If you wish to download data to a file or directory, pass a valid file specification in the <code>destination</code> parameter. If you instead wish to download data to memory, pass a valid handle in the <code>destinationHandle</code> parameter. If the URL specified in the <code>urlRef</code> parameter points to a file, the file is downloaded regardless of whether the bit specified by the mask constant <code>kURLDirectoryListingFlag</code> or <code>KURLIsDirectoryHintFlag</code> is set in the <code>openFlags</code> parameter. </p>
<p>When <code>URLDownload</code> downloads data from a URL that represents a local file (that is, a URL that begins with <code>file://</code>), the data fork is downloaded but the resource fork is not. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p><code>URLDownload</code> yields time to other threads. Your application should call <code>URLDownload</code> from a thread other than the main thread so that other processes have time to run. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetBuffer" title="URLGetBuffer"></a><a name="//apple_ref/doc/c_ref/URLGetBuffer" title="URLGetBuffer"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12673" title="URLGetBuffer"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_15"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_15"></a><h3 class="tight">URLGetBuffer</h3>
<p class="spaceabove">Obtains the next buffer of data in a download operation.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLGetBuffer (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   void **buffer,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> *bufferSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose next buffer you wish to obtain. </p></dd>
<dt><em>buffer</em></dt>
<dd><p>On return, a handle to a buffer containing the downloaded data. </p></dd>
<dt><em>bufferSize</em></dt>
<dd><p>On return, a pointer to the number of bytes of data in the buffer.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLGetBuffer</code> function obtains the next buffer of data in a download operation. <code>URLGetBuffer</code> does not enable you to retain or modify the transferred data. If you pass <code>NULL</code> in the <code>fileSpec</code> parameter of the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>, you should call <code>URLGetBuffer</code> to retrieve data as it is downloaded. </p>
<p>You should call <code>URLGetBuffer</code> repeatedly until URL Access Manager passes the event constant <code>kURLCompletedEvent</code> or <code>kURLAbortInitiatedEvent</code> in the <code>event</code> parameter of your notification callback function, or until the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetCurrentState">URLGetCurrentState</a></code> returns the state constant <code>kURLTransactionComplete</code> or <code>kURLAbortingState</code>. Between calls to <code>URLGetBuffer</code>, you should call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLIdle">URLIdle</a></code> to allow time for the URL Access Manager to refill its buffers.</p>
<p>To determine the number of bytes remaining in the buffer, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetDataAvailable">URLGetDataAvailable</a></code>. The size returned by <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetDataAvailable">URLGetDataAvailable</a></code> does not include the number of bytes in transit to a buffer, nor does it include the amount of data not yet transferred from the URL. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p>You should release the returned buffer as soon as possible after a call to <code>URLGetBuffer</code> by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLReleaseBuffer">URLReleaseBuffer</a></code>. This prevents the URL Access Manager from running out of buffers. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetCurrentState" title="URLGetCurrentState"></a><a name="//apple_ref/doc/c_ref/URLGetCurrentState" title="URLGetCurrentState"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12678" title="URLGetCurrentState"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_16"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_16"></a><h3 class="tight">URLGetCurrentState</h3>
<p class="spaceabove">Determines the status of a data transfer operation. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>)</p>
<p class="spaceabove"><pre>
OSStatus URLGetCurrentState (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLState">URLState</a> *state
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose data transfer state you want to determine. </p></dd>
<dt><em>state</em></dt>
<dd><p>On return, a pointer to the state of data transfer. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLState">“Data Transfer State Constants”</a></span> for a description of possible values. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLGetCurrentState</code> function determines the current status of a data transfer operation. You may wish to call <code>URLGetCurrentState</code> periodically to monitor the status of a download or upload operation. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetDataAvailable" title="URLGetDataAvailable"></a><a name="//apple_ref/doc/c_ref/URLGetDataAvailable" title="URLGetDataAvailable"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12672" title="URLGetDataAvailable"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_17"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_17"></a><h3 class="tight">URLGetDataAvailable</h3>
<p class="spaceabove">Determines the amount of data currently available for retrieval in a download operation.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLGetDataAvailable (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> *dataSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL for which you wish to determine the amount od data currently available for retrieval in a download operation. </p></dd>
<dt><em>dataSize</em></dt>
<dd><p>On return, a pointer to the size (in bytes) of data available for retrieval in a download operation.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetDataAvailable">URLGetDataAvailable</a></code> function determines the amount of data remaining in the buffer of the URL Access Manager that you will obtain from a call to the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code>. You should only call this function if you passed an invalid destination file to the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>. This does not include the number of bytes in transit to your buffer, nor does it include the amount of data not yet transferred from the URL Access Manager. To calculate the amount of data remaining to be downloaded, pass the name constant <code>kURLResourceSize</code> in the <code>property</code> parameter of the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetProperty">URLGetProperty</a></code> and subtract the amount of data copied. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetError" title="URLGetError"></a><a name="//apple_ref/doc/c_ref/URLGetError" title="URLGetError"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12679" title="URLGetError"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_18"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_18"></a><h3 class="tight">URLGetError</h3>
<p class="spaceabove">Determines the error code of a failed data transfer operation.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLGetError (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   <a href="../../ErrorHandler/Reference/reference.html#//apple_ref/doc/c_ref/OSStatus" target="_top">OSStatus</a> *urlError
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose data transfer operation failed. </p></dd>
<dt><em>urlError</em></dt>
<dd><p>A pointer to a C string representing the name of the error code returned by the failed operation.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLGetError</code> function determines the error code returned when a data transfer operation fails. The error code may be a system error code, a protocol-specific error code, or one of the error codes listed in <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span> </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetFileInfo" title="URLGetFileInfo"></a><a name="//apple_ref/doc/c_ref/URLGetFileInfo" title="URLGetFileInfo"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12681" title="URLGetFileInfo"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_19"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_19"></a><h3 class="tight">URLGetFileInfo</h3>
<p class="spaceabove">Obtains the file type and creator of a file.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLGetFileInfo (
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/StringPtr" target="_top">StringPtr</a> fName,
   <!--a-->OSType<!--/a--> *fType,
   <!--a-->OSType<!--/a--> *fCreator
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>fName</em></dt>
<dd><p>A pointer to a Pascal string representing the name of the file for which you want information.</p></dd>
<dt><em>fType</em></dt>
<dd><p>On return, a pointer to the file type code of the specified filename.</p></dd>
<dt><em>fCreator</em></dt>
<dd><p>On return, a pointer to the file creator code of the specified filename.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLGetFileInfo</code> function obtains the file type and creator codes for a specified filename. The type and creator codes are determined by the Internet configuration mapping table and are based on the filename extension. For example, if you pass the filename <code>"jane.txt"</code>, <code>URLGetFileInfo</code> will return <code>’TEXT'</code> in the <code>type</code> parameter and <code>'ttxt'</code> in the <code>creator</code> parameter. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetProperty" title="URLGetProperty"></a><a name="//apple_ref/doc/c_ref/URLGetProperty" title="URLGetProperty"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12675" title="URLGetProperty"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_20"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_20"></a><h3 class="tight">URLGetProperty</h3>
<p class="spaceabove">Obtains the value of a URL property.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLGetProperty (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   const char *property,
   void *propertyBuffer,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> bufferSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose property value you want to determine. </p></dd>
<dt><em>property</em></dt>
<dd><p>A pointer to a C string representing the name of the property value you want to determine. For a description of property name constants and their corresponding data types, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Universal_URL_Property_Name_Constants">“Universal URL Property Name Constants”</a></span> and <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/HTTP_and_HTTPS_URL_Property_Name_Constants">“HTTP and HTTPS URL Property Name Constants.”</a></span> </p></dd>
<dt><em>propertyBuffer</em></dt>
<dd><p>A pointer to a buffer containing the property value you want to obtain. You must also pass the correct data type of the property value you wish to obtain. Before calling <code>URLGetProperty</code>, allocate enough memory in this buffer to contain the property value you wish to obtain. On return, a pointer to a buffer containing the property value. If you do not allocate enough memory for the buffer, <code>URLGetProperty</code> does not pass back the property value in this parameter and returns the result code <code>kURLPropertyBufferTooSmallError</code>. </p></dd>
<dt><em>bufferSize</em></dt>
<dd><p>The size (in bytes) of the buffer pointed to by <code>propertyBuffer</code>. To determine the buffer size, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetPropertySize">URLGetPropertySize</a></code>. If the buffer size is too small, <code>URLGetProperty</code> returns the result code <code>kURLPropertyBufferTooSmallError</code> and does not pass back the property value in the <code>propertyBuffer</code> parameter.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span> The result code <code>kURLPropertyBufferTooSmallError</code> indicates that you did not allocate enough memory for the buffer in the <code>propertyBuffer</code> parameter. The result code <code>kURLPropertyNotYetKnownError</code> indicates that the value of the property is not yet available.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLGetProperty</code> function obtains the value of a URL property identified by the property name constant specified in the property parameter. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetPropertySize" title="URLGetPropertySize"></a><a name="//apple_ref/doc/c_ref/URLGetPropertySize" title="URLGetPropertySize"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12676" title="URLGetPropertySize"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_21"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_21"></a><h3 class="tight">URLGetPropertySize</h3>
<p class="spaceabove">Determines the size of a URL property.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLGetPropertySize (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   const char *property,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> *propertySize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose property size you want to determine. </p></dd>
<dt><em>property</em></dt>
<dd><p>A pointer to a C string representing the name of the property value whose size you want to determine. For a description of property name constants, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Universal_URL_Property_Name_Constants">“Universal URL Property Name Constants”</a></span> and <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/HTTP_and_HTTPS_URL_Property_Name_Constants">“HTTP and HTTPS URL Property Name Constants.”</a></span> </p></dd>
<dt><em>propertySize</em></dt>
<dd><p>On return, a pointer to the size (in bytes) of the specified property value. If the size is not available, <code>URLGetPropertySize</code> passes back <code>-1</code> in this parameter and returns the result code <code><a href="../Reference/reference.html#//apple_ref/doc/c_ref/kURLPropertyNotYetKnownError">kURLPropertyNotYetKnownError</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLGetProperty</code> function obtains the size of the property value identified by the property name constant passed in the property parameter. For a description of property name constants and data types of the corresponding property values, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Universal_URL_Property_Name_Constants">“Universal URL Property Name Constants”</a></span> and <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/HTTP_and_HTTPS_URL_Property_Name_Constants">“HTTP and HTTPS URL Property Name Constants.”</a></span></p>
<p>You should call the <code>URLGetPropertySize</code> function before calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetProperty">URLGetProperty</a></code> to determine the size of the buffer containing the property value you wish to obtain. Pass the value passed back in the <code>propertySize</code> parameter in the <code>bufferSize</code> parameter of <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetProperty">URLGetProperty</a></code>. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLGetURLAccessVersion" title="URLGetURLAccessVersion"></a><a name="//apple_ref/doc/c_ref/URLGetURLAccessVersion" title="URLGetURLAccessVersion"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12657" title="URLGetURLAccessVersion"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_22"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_22"></a><h3 class="tight">URLGetURLAccessVersion</h3>
<p class="spaceabove">Determines the version of URL Access Manager installed on the user’s system.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLGetURLAccessVersion (
   UInt32 *returnVers
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>returnVers</em></dt>
<dd><p>On return, a pointer to the version number of the URL Access Manager installed on the user’s system.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLIdle" title="URLIdle"></a><a name="//apple_ref/doc/c_ref/URLIdle" title="URLIdle"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12680" title="URLIdle"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_23"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_23"></a><h3 class="tight">URLIdle</h3>
<p class="spaceabove">Gives the URL Access Manager time to refill its buffers during download operations.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLIdle (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLIdle</code> function gives the URL Access Manager time to refill its buffers during download operations. You should call URLIdle periodically after you call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code> to allow time for the URL Access Manager to refill its buffers. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLNewReference" title="URLNewReference"></a><a name="//apple_ref/doc/c_ref/URLNewReference" title="URLNewReference"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12668" title="URLNewReference"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_24"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_24"></a><h3 class="tight">URLNewReference</h3>
<p class="spaceabove">Creates a URL reference.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLNewReference (
   const char *url,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> *urlRef
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>url</em></dt>
<dd><p>A pointer to a C string representing the name of the URL you want to create. </p></dd>
<dt><em>urlRef</em></dt>
<dd><p>On return, a pointer to the newly-created URL reference. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLNewReference</code> function creates a URL reference that you can use in subsequent calls to the URL Access Manager. When you no longer need a URL reference, you should dispose of its memory by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDisposeReference">URLDisposeReference</a></code>. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLOpen" title="URLOpen"></a><a name="//apple_ref/doc/c_ref/URLOpen" title="URLOpen"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12670" title="URLOpen"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_25"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_25"></a><h3 class="tight">URLOpen</h3>
<p class="spaceabove">Opens a URL and starts an asynchronous download or upload operation.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLOpen (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *fileSpec,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLOpenFlags">URLOpenFlags</a> openFlags,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLNotifyUPP">URLNotifyUPP</a> notifyProc,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLEventMask">URLEventMask</a> eventRegister,
   void *userContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL to or from which you wish to transfer data. You cannot use the same reference if you call <code>URLOpen</code> again. Instead, you must create a new URL reference by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLNewReference">URLNewReference</a></code>. If the URL refers to a file, the file is downloaded regardless of whether you specify <code>kURLDirectoryListingFlag</code> or <code>KURLIsDirectoryHintFlag</code> in the <code>openFlags</code> parameter. See “Naming Your Destination File” for more information. </p></dd>
<dt><em>fileSpec</em></dt>
<dd><p>A pointer to a file specification that identifies the file or directory from which data is to be uploaded or downloaded. For upload operations, you must pass a valid file specification. For download operations, you can pass <code>NULL</code>. In this case, you must call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code> to retrieve the data as it is downloaded. For more information, see the function discussion. </p></dd>
<dt><em>openFlags</em></dt>
<dd><p>A bitmask that indicates the data transfer options to use. You can specify any of the following masks for upload operations: <code>kURLUploadFlag</code>, <code>kURLReplaceExistingFlag</code>, <code>kURLBinHexFileFlag</code>, and <code>kURLDoNotTryAnonymousFlag</code>. You can specify any of the following masks for download operations: <code>kURLReplaceExistingFlag</code>, <code>kURLIsDirectoryHintFlag</code>, <code>kURLDoNotTryAnonymousFlag</code>, <code>kURLDebinhexOnlyFlag</code>, <code>kURLNoAutoRedirect</code>, and <code>kURLDirectoryListingFlag</code>. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLOpenFlags">“Data Transfer Options Mask Constants”</a></span> for a description of possible values. </p></dd>
<dt><em>notifyProc</em></dt>
<dd><p>A Universal Procedure Pointer (UPP) to a data transfer event notification callback, as described in <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLNotifyProcPtr">URLNotifyProcPtr</a></code>. You should create a notification callback function if you wish to receive notification of certain data transfer events. In this case, you should also pass a bitmask of the events you wish to receive in the <code>eventRegister</code> parameter. The data transfer events that you receive will vary depending upon whether the destination file you specify is valid. Pass <code>NULL</code> if you do not want to receive notification of data transfer events. </p></dd>
<dt><em>eventRegister</em></dt>
<dd><p>A bitmask that <code>URLOpen</code> will test to determine the data transfer events that you wish to receive notification of. To receive data transfer events, you should also pass a UPP to your callback in the <code>notifyProc</code> parameter. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLEventMask">“Data Transfer Event Mask Constants”</a></span> for a description of this mask.</p></dd>
<dt><em>userContext</em></dt>
<dd><p>A pointer to application-defined storage that will be passed to your notification callback function. Your application can use this to set up its context when your notification callback function is called. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLOpen</code> function starts a download or upload operation and returns control to your application immediately. For download operations, you do not have to specify a valid destination file. In this case, you should call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code> repeatedly to get the next buffer of data. Between calls to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code>, you should call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLIdle">URLIdle</a></code> to allow time for the URL Access Manager to refill its buffers during download operations. After each call to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code>, you call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLReleaseBuffer">URLReleaseBuffer</a></code> to prevent the URL Access Manager from running out of buffers. You can call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetDataAvailable">URLGetDataAvailable</a></code> to determine the amount of data remaining in the buffer of the URL Access Manager that you will obtain from a call to the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code>. </p>
<p>If you pass a valid destination file, you should not call the functions <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code>, <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLReleaseBuffer">URLReleaseBuffer</a></code>, or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetDataAvailable">URLGetDataAvailable</a></code>. </p>
<p>If you wish to be notified of certain data transfer events, you can specify a data transfer event callback and pass a pointer to it in the <code>URLEventMask</code> parameter of URLOpen. The data transfer events that you receive will vary depending upon whether the destination file you specify is valid. In addition, you should pass a bitmask representing the events you wish to be notified of in the <code>eventRegister</code> parameter.</p>
<p>When <code>URLOpen</code> downloads data from a URL that represents a local file (that is, a URL that begins with <code>file://</code>), the data fork is downloaded but the resource fork is not. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLReleaseBuffer" title="URLReleaseBuffer"></a><a name="//apple_ref/doc/c_ref/URLReleaseBuffer" title="URLReleaseBuffer"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12674" title="URLReleaseBuffer"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_26"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_26"></a><h3 class="tight">URLReleaseBuffer</h3>
<p class="spaceabove">Releases a buffer.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLReleaseBuffer (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   void *buffer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose buffer you want to release. </p></dd>
<dt><em>buffer</em></dt>
<dd><p>A pointer to the buffer you want to release. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLReleaseBuffer</code> function releases the buffer obtained by calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code>. To prevent the URL Access Manager from running out of buffers, you should call <code>URLReleaseBuffer</code> after each call to <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLGetBuffer">URLGetBuffer</a></code>. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLSetProperty" title="URLSetProperty"></a><a name="//apple_ref/doc/c_ref/URLSetProperty" title="URLSetProperty"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12677" title="URLSetProperty"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_27"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_27"></a><h3 class="tight">URLSetProperty</h3>
<p class="spaceabove">Sets the value of a URL property.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLSetProperty (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   const char *property,
   void *propertyBuffer,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Size" target="_top">Size</a> bufferSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL whose property value you want to set. </p></dd>
<dt><em>property</em></dt>
<dd><p>A pointer to a C string representing the name of the property value you want to set. You can only set property values identified by the constants <code>kURLPassword</code>, <code>kURLUserName</code>, <code>kURLHTTPRequestMethod</code>, <code>kURLHTTPRequestHeader</code>, <code>kURLHTTPRequestBody</code>, and <code>kURLHTTPUserAgent</code>. For a description of these property name constants and their corresponding data types, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Universal_URL_Property_Name_Constants">“Universal URL Property Name Constants”</a></span> and <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/HTTP_and_HTTPS_URL_Property_Name_Constants">“HTTP and HTTPS URL Property Name Constants.”</a></span> </p></dd>
<dt><em>propertyBuffer</em></dt>
<dd><p>A pointer to a buffer containing the data you would like the property to be set to. The data must be of the correct type. </p></dd>
<dt><em>bufferSize</em></dt>
<dd><p>The size (in bytes) of the data you want to set.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span> The result code <code>kURLUnsettablePropertyError</code> indicates that a property value cannot be set.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLSetProperty</code> function enables you to set those property values identified by the following constants: <code><a href="../Reference/reference.html#//apple_ref/doc/c_ref/kURLPassword">kURLPassword</a></code>, <code>kURLUserName</code>, <code>kURLPassword</code>, <code>kURLHTTPRequestMethod</code>, <code>kURLHTTPRequestHeader</code>, <code>kURLHTTPRequestBody</code>, and <code>kURLHTTPUserAgent</code>. For a description of these property name constants and their corresponding data types, see <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Universal_URL_Property_Name_Constants">“Universal URL Property Name Constants”</a></span> and <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/HTTP_and_HTTPS_URL_Property_Name_Constants">“HTTP and HTTPS URL Property Name Constants.”</a></span> </p>
<p>You may wish to call <code>URLSetProperty</code> before calling the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDownload">URLDownload</a></code> or <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLUpload">URLUpload</a></code> to set a URL property before a data transfer operation. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLSimpleDownload" title="URLSimpleDownload"></a><a name="//apple_ref/doc/c_ref/URLSimpleDownload" title="URLSimpleDownload"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12664" title="URLSimpleDownload"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_28"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_28"></a><h3 class="tight">URLSimpleDownload</h3>
<p class="spaceabove">Downloads data from a URL specified by a character string.&#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLSimpleDownload (
   const char *url,
   <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *destination,
   <!--a-->Handle<!--/a--> destinationHandle,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLOpenFlags">URLOpenFlags</a> openFlags,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventUPP">URLSystemEventUPP</a> eventProc,
   void *userContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>url</em></dt>
<dd><p>A pointer to a C string representing the pathname of the URL from which data is to be downloaded. If the pathname specifies a file, the file is downloaded regardless of whether you specify <code>kURLDirectoryListingFlag</code> or <code>KURLIsDirectoryHintFlag</code> in the <code>openFlags</code> parameter. </p></dd>
<dt><em>destination</em></dt>
<dd><p>A pointer to a file specification structure that identifies the file or directory into which data is to be downloaded. If you wish to download data into memory, pass <code>NULL</code> in this parameter and a valid handle in the <code>destinationHandle</code> parameter. If you pass a file specification that does not identify a file or directory, the name of the file or directory specified by the pathname in the <code>url</code> parameter is used. If you pass a file or directory that already exists, and do not specify <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter, <code>URLSimpleDownload</code> creates a new file or directory whose name has a number appended before the extension. For example, if the URL specifies a file named <code>file.txt</code>, <code>URLSimpleDownload</code> changes the filename to <code>file1.txt</code>. </p></dd>
<dt><em>destinationHandle</em></dt>
<dd><p>A handle to the destination in memory where you want the data downloaded. Before calling <code>URLDownload</code>, create a zero-sized handle. If you wish to download data into a file or directory, pass <code>NULL</code> in this parameter and a valid file specification in the <code>destination</code> parameter.</p></dd>
<dt><em>openFlags</em></dt>
<dd><p>A bitmask that indicates the data transfer options to use. You can specify any of the following masks for downloading options: <code>kURLReplaceExistingFlag</code>, <code>kURLExpandFileFlag</code>, <code>kURLExpandAndVerifyFlag</code>, <code>kURLDisplayProgressFlag</code>, <code>kURLDisplayAuthFlag</code>, <code>kURLIsDirectoryHintFlag</code>, <code>kURLDoNotTryAnonymousFlag</code>, <code>kURLDebinhexOnlyFlag</code>, <code>kURLNoAutoRedirect</code>, and <code>kURLDirectoryListingFlag</code>. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLOpenFlags">“Data Transfer Options Mask Constants”</a></span> for a description of possible values. </p></dd>
<dt><em>eventProc</em></dt>
<dd><p>A Universal Procedure Pointer (UPP) to your system event callback function, if one exists. For information on how to write a system event callback, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLSystemEventProcPtr">URLSystemEventProcPtr</a></code>. If you want to handle events that occur while a progress indicator or authentication dialog box is being displayed, specify the appropriate mask (either <code>kURLDisplayProgressFlag</code> or <code>kURLDisplayAuthFlag</code>) in the <code>openFlags</code> parameter and pass a UPP to your callback function in this parameter. Pass <code>NULL</code> if you do not want to receive notification of these events. In this case, the URL Access Manager displays a nonmovable modal progress indicator or authentication dialog box. </p></dd>
<dt><em>userContext</em></dt>
<dd><p>A pointer to application-defined storage that will be passed to your system event callback function, if one exists. Your application can use this to set up its context when your system event callback function is called. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span> If your application is multi-threaded, and more than one thread calls <code>URLSimpleDownload</code> simultaneously, <code>URLSimpleDownload</code> returns the result code <code>kURLProgressAlreadyDisplayedError</code> if you specify <code>kURLDisplayProgressFlag</code> in the <code>openFlags</code> parameter and the URL Access Manager is already displaying a progress indicator.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLSimpleDownload</code> function downloads data from a URL specified by a pathname to a specified file, directory, or memory. It does not return until the download is complete. If you want to download data from a URL identified by a reference rather than a pathname, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDownload">URLDownload</a></code>. The difference between the two functions is that <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLDownload">URLDownload</a></code> allows you to access other URL Access Manager functions before, after, or during the download. If you want more control over a data transfer operation, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>. </p>
<p>If you wish to download data to a file or directory, pass a valid file specification in the <code>destination</code> parameter. If you instead wish to download data to memory, pass a valid handle in the <code>destinationHandle</code> parameter. </p>
<p>When <code>URLSimpleDownload</code> downloads data from a URL that represents a local file (that is, a URL that begins with <code>file://</code>), the data fork is downloaded but the resource fork is not. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p><code>URLSimpleDownload</code> yields time to other threads. Your application should call URLSimpleDownload from a thread other than the main thread so that other processes have time to run. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLSimpleUpload" title="URLSimpleUpload"></a><a name="//apple_ref/doc/c_ref/URLSimpleUpload" title="URLSimpleUpload"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12666" title="URLSimpleUpload"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_29"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_29"></a><h3 class="tight">URLSimpleUpload</h3>
<p class="spaceabove">Uploads a file or directory to an FTP URL specified by a character string. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLSimpleUpload (
   const char *url,
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *source,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLOpenFlags">URLOpenFlags</a> openFlags,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventUPP">URLSystemEventUPP</a> eventProc,
   void *userContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>url</em></dt>
<dd><p>A pointer to a C string representing the URL to which a file or directory is to be uploaded. If you wish to replace the destination directory of this URL with the file or directory that you pass in the source parameter, terminate the string with a slash character (/), and set the mask constant <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter. If you specify a name that already exists on the server and do not specify <code>kURLReplaceExistingFlag</code>, <code>URLSimpleUpload</code> returns the result code <code>kURLDestinationExistsError</code>. If you do not specify a name, do not specify <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter, and the name already exists on the server, the URL Access Manager creates a unique name by appending a number to the original name before the extension, if any. For example, if the URL specifies a file named <code>file.txt</code>, <code>URLSimpleUpload</code> changes the filename to <code>file1.txt</code>. See “Naming Your Destination File” for more information. </p></dd>
<dt><em>source</em></dt>
<dd><p>A pointer to a file specification structure that describes the file or directory you want to upload. </p></dd>
<dt><em>openFlags</em></dt>
<dd><p>A bitmask that indicates the data transfer options to use. You can specify any of the following masks for uploading options: <code>kURLReplaceExistingFlag</code>, <code>kURLBinHexFileFlag</code>, <code>kURLDisplayProgressFlag</code>, <code>kURLDisplayAuthFlag</code>, and <code>kURLDoNotTryAnonymousFlag</code>. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/c/tdef/URLOpenFlags">“Data Transfer Options Mask Constants”</a></span> for a description of possible values. </p></dd>
<dt><em>eventProc</em></dt>
<dd><p>A Universal Procedure Pointer (UPP) to your system event callback function, if one exists. For information on how to write a system event callback, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLSystemEventProcPtr">URLSystemEventProcPtr</a></code>. If you want to handle events that occur while a progress indicator or authentication dialog box is being displayed, specify the appropriate mask (either <code>kURLDisplayProgressFlag</code> or <code>kURLDisplayAuthFlag</code>) in the <code>openFlags</code> parameter and pass a UPP to your callback function in this parameter. Pass <code>NULL</code> if you do not want to receive notification of these events. In this case, the URL Access Manager displays a nonmovable modal progress indicator or authentication dialog box. </p></dd>
<dt><em>userContext</em></dt>
<dd><p>A pointer to application-defined storage that will be passed to your system event callback function, if one exists. Your application can use this to set up its context when your system event callback function is called. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span> The result code <code>kURLDestinationExistsError</code> indicates that you specified a pathname that already exists on the server but did not set the bit specified by the mask constant <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter. If your application is multi-threaded, and more than one thread calls <code>URLSimpleUpload</code> simultaneously, <code>URLSimpleUpload</code> returns the result code <code>kURLProgessAlreadyDisplayedError</code> if you specify <code>kURLDisplayProgressFlag</code> in the <code>openFlags</code> parameter and the URL Access Manager is already displaying a progress indicator.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLSimpleUpload</code> function uploads a file or directory to an FTP URL specified by a pathname. It does not return until the upload is complete. If you want to upload data from a URL identified by a reference rather than a pathname, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLUpload">URLUpload</a></code>. The difference between the two functions is that <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLUpload">URLUpload</a></code> allows you to access other URL Access Manager functions before, after, or during the download. If you want more control over a data transfer operation, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p><code>URLSimpleUpload</code> yields time to other threads. Your application should call <code>URLSimpleUpload</code> from a thread other than the main thread so that other processes have time to run. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code><a name="//apple_ref/c/func/URLUpload" title="URLUpload"></a><a name="//apple_ref/doc/c_ref/URLUpload" title="URLUpload"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-F12667" title="URLUpload"></a>
<a name="//apple_ref/doc/uid/TP30000058-AppendixA-DontLinkElementID_30"></a><a name="//apple_ref/doc/uid/TP30000058-CH1g-DontLinkElementID_30"></a><h3 class="tight">URLUpload</h3>
<p class="spaceabove">Uploads a file or directory to an FTP URL specified by a URL reference. &#032;(<font color="red">Deprecated in Mac OS X v10.4.</font>&#032;Use CFNetwork instead; see <em><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></em>.)</p>
<p class="spaceabove"><pre>
OSStatus URLUpload (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLReference">URLReference</a> urlRef,
   const <a href="../../File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *source,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLOpenFlags">URLOpenFlags</a> openFlags,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/URLSystemEventUPP">URLSystemEventUPP</a> eventProc,
   void *userContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>urlRef</em></dt>
<dd><p>A reference to the URL to which a file or directory is to be uploaded. Once you have called <code><a href="AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/URLUpload">URLUpload</a></code>, you cannot use the same reference again. If you wish to replace the destination directory of this URL with the file or directory that you pass in the source parameter, set the mask constant <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter. If you specify a name that already exists on the server and do not specify <code>kURLReplaceExistingFlag</code>, <code>URLUpload</code> returns the result code <code>kURLDestinationExistsError</code>. If you do not specify a name, do not specify <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter, and the name already exists on the server, the URL Access Manager creates a unique name by appending a number to the original name before the extension, if any. For example, if the URL specifies a file named <code>file.txt</code>, <code>URLUpload </code>changes the filename to <code>file1.txt</code>. See “Naming Your Destination File” for more information. </p></dd>
<dt><em>source</em></dt>
<dd><p>A pointer to a file specification structure that describes the file or directory you want to upload. </p></dd>
<dt><em>openFlags</em></dt>
<dd><p>A bitmask that indicates the data transfer options you want used. You can specify any of the following masks for uploading options: <code>kURLReplaceExistingFlag</code>, <code>kURLBinHexFileFlag</code>, <code>kURLDisplayProgressFlag</code>, <code>kURLDisplayAuthFlag</code>, and <code>kURLDoNotTryAnonymousFlag</code>. See <span class="content_text"><!--a  -->“URL Access Manager Reference”<!--/a--></span> for a description of possible values. </p></dd>
<dt><em>eventProc</em></dt>
<dd><p>A Universal Procedure Pointer (UPP) to your system event callback function, if one exists. For information on how to write a system event callback, see <code><a href="../Reference/reference.html#//apple_ref/c/tdef/URLSystemEventProcPtr">URLSystemEventProcPtr</a></code>. If you want to handle events that occur while a progress indicator or authentication dialog box is being displayed, specify the appropriate mask (either <code>kURLDisplayProgressFlag</code> or <code>kURLDisplayAuthFlag</code>) in the <code>openFlags</code> parameter and pass a UPP to your callback function in this parameter. Pass <code>NULL</code> if you do not want to receive notification of these events. In this case, the URL Access Manager displays a nonmovable modal progress indicator or authentication dialog box. </p></dd>
<dt><em>userContext</em></dt>
<dd><p>A pointer to application-defined storage that will be passed to your system event callback function, if one exists. Your application can use this to set up its context when your system event callback function is called. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000058-CH5g-RCM0151">“URL Access Manager Result Codes.”</a></span> The result code <code>kURLDestinationExistsError</code> indicates that you specified a pathname that already exists on the server but did not specify <code>kURLReplaceExistingFlag</code> in the <code>openFlags</code> parameter. If your application is multi-threaded, and more than one thread calls <code>URLUpload</code> simultaneously, <code>URLUpload</code> returns the result code <code>kURLProgessAlreadyDisplayedError</code> if you specify <code>kURLDisplayProgressFlag</code> in the <code>openFlags</code> parameter and the URL Access Manager is already displaying a progress indicator.</p>
<h5 class="tight">Discussion</h5>
<p>The <code>URLUpload</code> function uploads a file or directory to an FTP URL specified by a URL reference. It does not return until the upload is complete. If you want to upload data from a URL identified by a pathname rather than a reference, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLSimpleUpload">URLSimpleUpload</a></code>. The difference between the two functions is that URLUpload allows you to access other URL Access Manager functions before, after, or during the download. If you want more control over a data transfer operation, call the function <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/URLOpen">URLOpen</a></code>. </p><h5 class="tight">Special Considerations</h5><p>CFNetwork provides better reliability and performance and is used by Apple’s own applications. URL Access Manager is no longer being enhanced or improved.</p><p><code>URLUpload</code> yields time to other threads. Your application should call <code>URLUpload</code> from a thread other than the main thread so that other processes have time to run. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li></ul><h5 class="tight">Declared In</h5><code>URLAccess.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../appendixa/appendixa.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-07-13<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/URL_Access_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000058-4.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/URL_Access_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000058-4.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/URL_Access_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000058-4.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>