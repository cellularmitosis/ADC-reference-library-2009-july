<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 03-24-01 --><!--Includes revisions to code listings--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note DV15: SCSI Termination</title><meta name="keywords" content="PowerBook Duo SCSI termination Quadra Macintosh terminator printers"><meta name="Description" content="Technical Note DV15: This Technical Note discusses SCSI terminationon the Macintosh IIfx, the Macintosh Quadra, the PowerBook,the PowerBook Duo, and termination on Apple Printers (LaserwriterPro 630, etc). Technical Note gives an explanation, providingdiagrams etc., of why the Macintosh IIfx needs special terminationand of why powered off devices shouldn't be on the SCSI bus.Included in this Technical Note is a table outlining thetermination needs for Macintoshes up through the PowerBookDuo, and for Apple printers.">                                       <meta name="categories" content="Devices"><meta name="week-posted" content="Mar 26, 1990 - Apr 6, 1990"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002405" title="SCSI Termination"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxHardwareDrivers-date.html">Hardware & Drivers</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/HardwareDrivers/idxSCSI-date.html" target="_blank">Hardware & Drivers > SCSI</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note DV15</div>
<div id="pageheadsub">SCSI Termination</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                   <td background="images/tnmenubody.gif" width=300 align=left>                        <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->					<p id="menutext"><a href="#Section1">Why Is the Terminator After Sarah Connor?</a><BR><BR><a href="#Section2">How to Stop the Terminator </a><BR><BR><a href="#Section3">External Termination </a><BR><BR><a href="#Section4">You're Terminated</a><BR><BR><a href="#Section5">Macintosh Quadra Termination</a><BR><BR><a href="#Section6">PowerBook Termination</a><BR><BR><a href="#Section7">PowerBook Duo Termination</a><BR><BR><a href="#Section8">Termination Outlined for Each Macintosh</a><BR><BR> <a href="#references">References</a><BR><BR>  <a href="#changes">Change History</a><BR><BR><A href="#downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>		<td width=300 valign="top" align=left>	<!-- begin_intro_text --><P id = "introtext">This Technical Note discusses SCSI termination on the Macintosh, including thenew rules of termination that are necessary with the advent of the high-speedMacintosh IIfx.</p><!-- end_intro_text --><!-- begin_date --><h3>Updated: [May 01 1992]</h3><!-- end_date -->                </TD>             </TR>          </TABLE> <!-- end_header_box --><BR><BR><hr width=500 align=center><BR><BR><!-- begin_content --><a name="Section1"></a><h2>Why Is the Terminator After Sarah Connor?</h2><p>One of the features of the now obsolete Macintosh IIfx was a new SCSI chip thatprovides SCSI data transfer rates up to 3 megabytes per second, faster than anyMacintosh model prior to the Macintosh Quadra. To achieve these transfer rates,components on the Macintosh IIfx logic board were smaller and faster, requiringdifferent termination configurations from those of previous Macintosh models.</p><p>The Macintosh IIfx requires the use of a combination of the following three newtermination parts. Users need to use these parts instead of existing SCSItermination parts to configure a Macintosh IIfx with SCSI devices. TheMacintosh Quadra does <i>not</i> require special termination as the MacintoshIIfx does, but it does have some special rules of its own and these arediscussed in a later section.</p><p><b>Apple SCSI Cable Terminator II:</b> The Apple SCSI Cable Terminator II is arevised external terminator for the Macintosh IIfx. All finished goodsMacintosh IIfx systems ship with this terminator in the box. It is easilyrecognized because of the black color. Under no circumstances should one usemore than a single Apple SCSI Cable Terminator II on an external SCSIchain--doing so may damage the logic board.</p><p><b>Internal SCSI Termination Block:</b> The Internal SCSI Termination Blockprovides internal termination resistance for Macintosh IIfx systems withoutinternal hard drives. All finished goods systems shipping without internal harddrives have the Internal SCSI Termination Block installed.</p><p><b>Internal SCSI Filter:</b> The Internal SCSI Filter provides terminationcapacitance for internal Macintosh IIfx hard drives that shipped prior to March19, 1990. All finished goods systems shipping without internal hard drives havethe Internal SCSI Filter installed.</p><p>The new termination configurations are simple, and you can remember them with asingle rule: Macintosh IIfx systems with external SCSI chains require aterminator at both ends of the SCSI chain. One is internal to the system, whilethe second is external, located at the end of the chain.</p><p>The reason for the new terminator is that on the Macintosh IIfx and futurehardware, the SCSI controller chip is a 2 micron part, which makes it veryfast. One of the results of this speed is that the chip now thinks thatglitches in the /REQ line are real signals. This problem is not likely to occuron all of the Macintosh IIfx machines, but if you have a problem with your harddrive not getting mounted on the new machine, you should try a new terminatorfirst. The symptom is more likely to show up on machines with several (three ormore) external SCSI devices attached to the computer and long strands of SCSIcables. Figure 1 illustrates the old-style terminator with the signal showingthe spike propagation.</p><p align=center><img src="images/dv_15_001.gif" alt="Old-Style Terminator (Gray)" width=448 height=164></p><p align=center><b>Figure 1</b> - Old-Style Terminator (Gray)</p><p>Basically, if a majority of the data lines change state at once, there is asudden drain on the TPWR line, which is resistively coupled to all of thelines, including the /REQ line. This sudden drain causes a spike in the line,and this spike is propagated into the /REQ line and to the SCSI controllerchip. The newer SCSI controller chip in the Macintosh IIfx interprets thisspike as a /REQ signal and starts reading data from the data lines; however,since the data lines need 55 ns to settle, the data that the controller chipreads is junk.</p><p>All internal hard disk drives sold by Apple with the Macintosh IIfx and latermachines have the Internal SCSI Filter installed; however, most third-partydrives do not yet have this filter installed and must be modified by aqualified service provider to work correctly with the Macintosh IIfx.</p><P><A HREF="#top">Back to top</A></P><a name="Section2"></a><h2>How to Stop the Terminator</h2><p>Since the problem is caused by a drop in the TPWR line, the fix is to smoothout the line. One need only add a 2.2 uF capacitor and a 0.01 uF ceramiccapacitor as illustrated in Figure 2. These capacitors act like a battery andprovide a little extra current when it is needed. This extra current results ina smoother signal, which the SCSI controller chip does not interpret as a /REQ signal.</p><p align=center><img src="images/dv_15_002.gif" alt="New-Style Terminator (Black)" width=480 height=164></p><p align=center><b>Figure 2</b> - New-Style Terminator (Black)</p><p>This new type of filter is only for internal hard disk drives. The MacintoshIIfx ships with a new and improved external terminator (black in color), sohard drive manufacturers do not need to worry about external termination. Applealso ships an internal filter with every Macintosh IIfx that handles thecapacitance problem. This internal terminator has two parts. The first is theresistors for the terminator. This part should already be installed on allinternal hard disk drives, so it is used only for CPUs that do not have aninternal hard drive. The second part of the internal terminator is thecapacitor filter. This filter should be installed on the hard disk drive end ofthe SCSI internal cable. If your hard drive implements the new capacitors, youcan, and should, install the capacitor filter--you cannot have too much capacitance.</p><P><A HREF="#top">Back to top</A></P><a name="Section3"></a><h2>External Termination</h2><p>If you manufacture an external SCSI device, <b>do not</b> include terminationin it. The only terminator that should be outside a Macintosh IIfx is Apple'sexternal terminator, and it should be at the end of the SCSI chain. If you makea SCSI terminator, it is most likely incompatible and may cause damage to thehardware or the data. If your SCSI device cannot connect with Apple'sterminator, then you should provide an adapter that allows your SCSI device toattach to the provided terminator.</p><p><b>Note:</b>    A notice in the Macintosh IIfx finished goods box instructscustomers to return self-terminating SCSI devices to the service provider todisable termination.</p><P><A HREF="#top">Back to top</A></P><a name="Section4"></a><h2>You're Terminated</h2><p>Not every Macintosh IIfx owner is likely to experience this inconvenience, buta few will. If your customers report problems that appear to be terminationrelated, then the first possible solution is to fix the terminator (forexternal devices) or implement the filter (for internal devices). If youmanufacture an external SCSI device that is self-terminating, you should removeit. This incompatibility will continue with future hardware products and couldeven surface on the Macintosh IIci.</p><P><A HREF="#top">Back to top</A></P><a name="Section5"></a><h2>Macintosh Quadra Termination</h2><p>Proper SCSI termination is critical for correct operation of the MacintoshQuadra computers, just as with all Macintosh computers. The Macintosh Quadracomputers require external SCSI termination at the end of the device chain,either supplied by the last device in the chain, or using a standard Apple SCSICable Terminator (M0332LL/A). Note that this is the standard SCSI terminator,<b><i>not</i></b>the black terminator required by the Macintosh IIfx (althoughthe black IIfx terminator may be used as well).</p><p>Termination is generally supplied at the factory for use with internal SCSIdevices. Some early floppy-only Macintosh Quadra 700 units may not haveinternal termination, so users who attach external SCSI devices (without havingadded an internal SCSI device) may need to double terminate their external SCSIchain. Properly terminated floppy-only Macintosh Quadra 700 units will have aterminator inserted into the motherboard internal SCSI cable connector. Usersof internal SCSI devices must, of course, remove this terminator beforeconnecting their internal SCSI device.</p><p>The Macintosh Quadra 900 is the first Macintosh computer to provide a separate,internal SCSI bus. This bus is physically isolated from the external SCSI busand must also be properly terminated. The cable provided with the machineincludes all the termination necessary, so <b><i>all</i></b>internal devicesmust have SCSI termination removed before connecting to the internal MacintoshQuadra 900 SCSI cable. If extra termination is supplied it may causeintermittent hardware failures as well as physical damage to the device.</p><p>Developers who ship terminated SCSI devices for possible internal use in theMacintosh Quadra 900 must provide users with instructions for removing the termination.</p><P><A HREF="#top">Back to top</A></P><a name="Section6"></a><h2>PowerBook Termination</h2><p>There are two important points that one must be aware of when it comes totermination on the Macintosh PowerBook computers. The first point is thattermination on the PowerBook computers is supplied by the internal hard drive.PowerBook computers depend on the internal hard drive to supply termination sothat they are properly terminated when placed in SCSI disk mode. In SCSI diskmode, the PowerBook is just another hard drive in the SCSI chain. This isbecause all other subsystems have been shut down. Because the PowerBook isinternally terminated by the hard drive, it must always be at the <b><i>end</i></b> of the SCSI chain. If you have two PowerBook computers and other devices on the chain, one PowerBook must be the very last device in the SCSI chain (in SCSI disk mode) and the second PowerBook must be at the beginning of the chain (Initiator). This also means that itis not possible to have more than one PowerBook on a single SCSI bus in SCSI disk mode.</p><p>The second point to be aware of is that the PowerBook computers do not supplytermination power. They rely on external devices to provide termination poweron the bus. If there are other devices on the bus that provide terminationpower, we recommend that the connection to the first device out of thePowerBook be terminated. It is not required that you do this. This ensures thatthe cable is as close to ideal as possible.</p><p>Because termination power is not supplied by the PowerBook computers, we alsoadvise that you do not have powered off devices on the bus. This is true notonly for the PowerBook computers but for all Macintosh products. It has beenfound that having devices powered off and on the bus causes degradation toperformance and signals. A termination problem can cause incorrect data to bepassed during a SCSI transfer. Therefore, the rule is this: Do<b><i>not</i></b> have powered off devices connected to the bus. Also, do notpower on a device connected to the bus after booting, and never connect onewhile the system is on.</p><p>If you still have troubles with the PowerBook after following the terminationrules, be sure to check that you have proper cables and that the other deviceson the bus also follow termination rules. Some devices are <b><i>not</i></b>following the description of how Apple's devices work, and following theguidelines of the Apple cable guide does not apply with non-Apple devices. Ifyou have non-Apple cables, be sure that they meet Apple SCSI specifications. Itis possible that other devices on the bus and improper cabling are what iscausing trouble for you.</p><P><A HREF="#top">Back to top</A></P><a name="Section7"></a><h2>PowerBook Duo Termination</h2><p>Unlike the other Macintosh PowerBook computers, the PowerBook Duo models do notrely on an external device to provide termination power. Both the Deskbar andthe DuoDock provide termination power to the bus. They are actively terminated,which means that they provide termination power and have the best architecturefor termination of any other device on the bus.</p><P><A HREF="#top">Back to top</A></P><a name="Section8"></a><h2>Termination Outlined for Each Macintosh</h2><p>Below is a table that outlines the termination specifics of all Macintoshmodels (current as of this writing). It also describes whether terminationpower (TPWR) is supplied for either the internal or external SCSI bus,depending on which is present (one or both). The column on the far rightdescribes which terminator is required when the CPU (currently PowerBookcomputers only) are in SCSI disk mode and functioning as an external storagedevice on the external SCSI chain of a Macintosh. Below the table is an ASCIIrepresentation of the active termination concept, which is new as of theMacintosh IIv, Macintosh Centris, and Macintosh Quadra models.</p><p align=center><img src="images/dv_15_003.gif" alt="dv_15_table1.gif" width=453 height=216></p><p align=center><img src="images/dv_15_004.gif" alt="dv_15_table2.gif" width=507 height=531></p>    <p>* "...an active termination circuit automatically terminates the [internaldevice] when it is the last device on the bus. If a terminated device isattached to the external SCSI port, the internal termination is deactivated."--p. 18 of Macintosh IIvx, IIvi, Performa 600 Developer Note.</p><p align=center><img src="images/dv_15_005.gif" alt="dv_15_trans.gif" width=462 height=166></p><p>"The Macintosh Centris 610, Macintosh Centris 650, and MacintoshQuadra 800 computers include a new feature that automatically provides theproper termination when no external device is connected. . . . When one or moredevices are connected, the circuitry detects the external termination duringsystem reset and disconnects the termination on the logic board."--p. 19 ofMacintosh Centris 610, Macintosh Centris 650, and Macintosh Quadra 800Computers Developer Note.</p><h3>Termination on Apple Printers</h3><p>The Apple LaserWriter IIf and IIg and Apple LaserWriter Pro 630 printersrequire the same terminator as the IIfx--Apple SCSI Terminator II(M5871G/A)--when connecting up to seven external SCSI storage devices (whichare for storing downloadable fonts, <b><i>not</i></b> for connecting theprinter to a Macintosh).</p><p>The LaserWriter Pro 630 is the first Apple LaserWriter that can also take asingle internal SCSI hard drive (for font storage) in addition to six (for atotal of seven) external hard drives. Any internal drive must <b><i>not</i></b>be terminated internally since permanent termination is supplied on themotherboard. This termination cannot be removed. The internal hard drive's SCSIID is hardwired to the motherboard; it is ID 6. Since this drive also counts asone of the seven total devices allowed on the bus, any external device must nothave SCSI ID 6 when the internal drive is present. If no internal hard drive ispresent, SCSI ID 6 is still reserved--external SCSI devices may not use ID 6even if no internal hard drive is present. The end of the external SCSI chainmust also be terminated, whether an internal drive is present or not.</p><p>The LaserWriter Pro 630 does supply termination power (TPWR) to the internaldevice but <b><i>not</i></b> to external devices. The LaserWriter IINTX, IIf,and IIg printers do not supply TPWR.</p><p>The Apple LaserWriters IINTX and IINTXJ require the standard, gray Appleterminator (M0332LL/A) when connecting external storage devices.</p><p>The Apple Personal LaserWriter SC and IISC printers as well as the Apple ColorPrinter are SCSI devices themselves; that is, rather than being networkableprinters, they connect directly to the SCSI bus of the Macintosh. Theseprinters require the standard, gray Apple terminator, unless you're using themwith a Macintosh IIfx, in which case you should use the black terminator. Inother words, for the SCSI printers (only), the termination requirements aredictated by the Macintosh since the printer functions as just another SCSIdevice on the Macintosh computer's SCSI bus.</p><p>Below is a chart that will help you determine the termination characteristicsof <i>all</i> of Apple's printers. Printers with no SCSI implementation areincluded just for the sake of completeness, so those characteristics that donot apply will list n/a, for "not applicable," under the appropriate heading(s).</p><p align=center><img src="images/dv_15_006.gif" alt="dv_15_table3.gif" width=453 height=275></p><P><A HREF="#top">Back to top</A></P><a name="references"></a><h2>References</h2><P>Macintosh Technical Note "Fear No SCSI"</p><P><A HREF="#top">Back to top</A></P><a name="changes"></a><h2>Change History</h2><TABLE BORDER=0 CELLPADDING=3 WIDTH=544>   		<TR>               <td width=100 align=left>                  <P ALIGN=center>01-April-1990</P>               </TD>               <td align="left">                  <P>Originally written.</P>               </TD>            </TR><TR>               <td width=100 align=left>                  <P ALIGN=center>01-May-1992</P>               </TD>               <td align="left">                  <P>Added a discussion of Macintosh PowerBook andPowerBook Duo termination and termination for Apple printers.</P>               </TD>            </TR>            </table>                        <P><A HREF="#top">Back to top</A></P>         <a name="downloads"></a>         <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center>                                    <img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (536K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/dv_15.pdf">Download</A></P>               </TD>            </TR>         </TABLE>         <BR>                  <P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/dv/dv_15.html%3Fid%3DDTS10002405-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/dv/dv_15.html%3Fid%3DDTS10002405-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/dv/dv_15.html%3Fid%3DDTS10002405-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --><hr width=500 align=center></BODY></HTML>