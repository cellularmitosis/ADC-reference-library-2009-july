<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Checking for the 3D&nbsp;Viewer</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3032"> </A>Checking for the 3D&nbsp;Viewer</H1><P CLASS="T1.Text1"><A NAME="pgfId=3147"> </A><A NAME="marker=3146"> </A>Before calling any 3D&nbsp;Viewer routines, you need to verify that the 3D&nbsp;Viewer software is available in the current operating environment. On the Macintosh Operating System, you can verify that the 3D&nbsp;Viewer is available by calling the <TT CLASS="cv">MyEnvironmentHas3DViewer</TT> function defined in <A HREF="qd3dintroduction.a.htm#37755" CLASS="XRef">Listing&nbsp;12</A>.</P><P CLASS="L.Listing"><A NAME="pgfId=3036"> </A>Listing&nbsp;12<A NAME="37755"> </A>Determining whether the 3D&nbsp;Viewer is available</P><CODE CLASS="Cv.Code"><A NAME="pgfId=11389"> </A>long MyEnvironmentHas3DViewer (void)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;if (Q3ViewerNew != NULL)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return TRUE<BR>&nbsp;&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return FALSE;<BR>}<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=949"> </A><A NAME="marker=11391"> </A>The <TT CLASS="cv">MyEnvironmentHas3DViewer</TT> function checks whether the address of the <TT CLASS="cv">Q3ViewerNew</TT> function has been resolved. If it hasn't been resolved (that is, if the Code Fragment Manager couldn't find the 3D&nbsp;Viewer shared library when launching your application), <TT CLASS="cv">MyEnvironmentHas3DViewer</TT> returns the value <TT CLASS="cv">FALSE</TT> to its caller. Otherwise, if the address of the <TT CLASS="cv">Q3ViewerNew</TT> function was successfully resolved, <TT CLASS="cv">MyEnvironmentHas3DViewer</TT> returns <TT CLASS="cv">TRUE</TT>.</P><P CLASS="Note"><A NAME="pgfId=953"> </A>For the function <TT CLASS="cv">MyEnvironmentHas3DViewer</TT> to work properly, you must establish soft links (also called <I CLASS="italics">weak links</I>) between your application and the 3D&nbsp;Viewer shared library. For information on soft links, see the book <I CLASS="italics">Inside Macintosh: PowerPC System Software.</I> For specific information on establishing soft links, see the documentation for your software development system. </P><P CLASS="T1.Text1"><A NAME="pgfId=1324"> </A>On the Macintosh Operating System, you can also verify that the 3D&nbsp;Viewer is available in the current operating environment by calling the <TT CLASS="cv">Gestalt</TT> function with the <TT CLASS="cv">gestaltQuickDraw3DViewer</TT> selector. <TT CLASS="cv">Gestalt</TT> returns a long word whose value indicates the availability of the 3D&nbsp;Viewer. Currently these values are defined:</P><CODE CLASS="Cv.Code"><A NAME="pgfId=11395"> </A>enum {<BR>&nbsp;&nbsp;&nbsp;&nbsp;gestaltQD3DViewer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 'q3vc',<BR>&nbsp;&nbsp;&nbsp;&nbsp;gestaltQD3DViewerNotPresent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 0,<BR>&nbsp;&nbsp;&nbsp;&nbsp;gestaltQD3DViewerAvailable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1<BR>}<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=1329"> </A>You should ensure that the value <TT CLASS="cv">gestaltQD3DViewerAvailable</TT> is returned before calling any 3D&nbsp;Viewer routines.</P><P CLASS="Note"><A NAME="pgfId=1333"> </A>For more information on the <TT CLASS="cv">Gestalt</TT> function, see <I CLASS="italics">Inside Macintosh: Operating System Utilities</I>. </P><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>