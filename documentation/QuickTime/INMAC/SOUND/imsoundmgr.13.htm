<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Managing Sound Volumes (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.12.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.a.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.14.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="H2.Heading2"><A NAME="pgfId=3638"> </A><A NAME="17720"> </A>Managing Sound Volumes</H1><P CLASS="T0.Text0"><A NAME="pgfId=3666"> </A><A NAME="marker=126"> </A>Versions of the Sound Manager prior to 3.0 allow you to set only one volume level, which applies to all sounds produced by the audio hardware. The Sound Manager versions 3.0 and later provide greatly improved control over the volumes of the sounds you ask it to create. You can use new facilities to</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3668"> </A>set the volumes of the left and right channels of sound independently of each other</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3669"> </A>set the volume of the system alert sound</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3670"> </A>set the default volume of a particular sound output device</LI></UL><P CLASS="T1.Text1"><A NAME="pgfId=4606"> </A>You can set the system alert sound volume to a different level than that of any other sounds you produce. For example, you can set the system alert sound to play at a lower volume than other sounds. This would allow a user to hear QuickTime movies at full volume and to hear system alert sounds at a lower volume.</P><P CLASS="T1.Text1"><A NAME="pgfId=2893"> </A>You can use the <TT CLASS="cv">volumeCmd</TT> and <TT CLASS="cv">getVolumeCmd</TT> sound commands to set and get the right and left volumes of sound. You specify a channel's volume with 16-bit value, where 0 represents no volume and hexadecimal $0100 represents full volume. The Sound Manager defines constants for silence and full volume.</P><CODE CLASS="Cv.Code"><A NAME="pgfId=9753"> </A>CONST<BR>&nbsp;&nbsp;&nbsp;&nbsp;kFullVolume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= $0100;<BR>&nbsp;&nbsp;&nbsp;&nbsp;kNoVolume&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 0;<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3667"> </A>The <TT CLASS="cv">volumeCmd</TT> sound command expects the right and left volumes to be encoded as the high word and low word, respectively, of <TT CLASS="cv">param2</TT>. For example, to set the left channel to half volume and the right channel to full volume, you pass the value $01000080 in <TT CLASS="cv">param2</TT>, as illustrated in <A target="doc" HREF="imsoundmgr.13.htm#32638" CLASS="XRef">Listing 1-18</A>.<A NAME="marker=1845"> </A><A NAME="marker=1846"> </A></P><P CLASS="L.Listing"><A NAME="pgfId=3718"> </A>Listing&nbsp;18 <A NAME="32638"> </A>Setting left and right volumes</P><CODE CLASS="Cv.Code"><A NAME="pgfId=9757"> </A>FUNCTION MySetVolume (chan: SndChannelPtr): OSErr;<BR>VAR<BR>&nbsp;&nbsp;&nbsp;&nbsp;mySndCmd:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SndCommand;<BR>&nbsp;&nbsp;&nbsp;&nbsp;myRightVol:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;<BR>&nbsp;&nbsp;&nbsp;&nbsp;myLeftVol:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Integer;<BR>&nbsp;&nbsp;&nbsp;&nbsp;myErr:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSErr;<BR>BEGIN<BR>&nbsp;&nbsp;&nbsp;&nbsp;myRightVol := kFullVolume;<BR>&nbsp;&nbsp;&nbsp;&nbsp;myLeftVol := kFullVolume DIV 2;<BR>&nbsp;&nbsp;&nbsp;&nbsp;mySndCmd.cmd := volumeCmd;<BR>&nbsp;&nbsp;&nbsp;&nbsp;mySndCmd .param1 := 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{unused with volumeCmd}<BR>&nbsp;&nbsp;&nbsp;&nbsp;mySndCmd.param2 := BSL(myRightVol, 16) + myLeftVol;<BR>&nbsp;&nbsp;&nbsp;&nbsp;myErr := SndDoImmediate(chan, mySndCmd);<BR>&nbsp;&nbsp;&nbsp;&nbsp;MySetVolume := myErr;<BR>END;<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=3886"> </A><A NAME="marker=9759"> </A>You can also use the <TT CLASS="cv">volumeCmd</TT> sound command to pan a sound from one side to another. For example, to send the output signal entirely to the right channel, pass the&nbsp;value $01000000 in <TT CLASS="cv">param2</TT>. To send the output signal entirely to the left channel, pass&nbsp;the value $00000100 in <TT CLASS="cv">param2</TT>. You can overdrive a channel's volume by passing volume levels greater than $0100. For example, to play the left channel of a stereo sound&nbsp;at twice full volume while playing the right channel at full volume, pass the value&nbsp;$01000200.</P><P CLASS="T1.Text1"><A NAME="pgfId=3887"> </A>You can use the <TT CLASS="cv">GetSysBeepVolume</TT> and <TT CLASS="cv">SetSysBeepVolume</TT> functions to get and set the output volume level of the system alert sound. Any calls to the <TT CLASS="cv">SysBeep</TT> procedure use the volume set by the previous call to <TT CLASS="cv">SetSysBeepVolume</TT>. As you've learned, this allows you to set a lower volume for the system alert sound than for your other sound output.<A NAME="marker=1848"> </A><A NAME="marker=1847"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3889"> </A>You can use the <TT CLASS="cv">GetDefaultOutputVolume</TT> and <TT CLASS="cv">SetDefaultOutputVolume</TT> functions to set the default output volumes for a particular output device. Each output device has its own current volume setting and its own default setting. If the user changes the output device (using the Sound control panel), the newly selected device will use its own default volume level.<A NAME="marker=135"> </A><A NAME="marker=754"> </A></P><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.12.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.a.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.14.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>