<html><head><title>Mac OS X Developer Tools
 Manual Page For gprof(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/gprof" title="Mac OS X Developer Tools
 Manual Page for gprof(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/gprof"; name=gprof(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GPROF(1)                                                                                            GPROF(1)



<b>NAME</b>
       gprof - display call graph profile data

<b>SYNOPSIS</b>
       <b>gprof</b> [ <u>options</u> ] [ a.out [ gmon.out ... ] ]

<b>DESCRIPTION</b>
       <u>gprof</u>  produces an execution profile of a C, Pascal, or Fortran77 program.  The effect of called rou-<font color="#ffffff" class="whiteout">tines&nbsp;routines</font>
       tines is incorporated in the profile of each caller.  The profile data is taken from the  call  graph
       profile  file (<u>gmon.out</u> by default), which is created by programs compiled with the <b>-pg</b> option of <u>cc</u>,
       <u>pc</u>, and <u>f77</u>.  The symbol table in the named object file (<u>a.out</u> by default)  is  read  and  correlated
       with the call graph profile file.  If more than one profile file is specified, the <u>gprof</u> output shows
       the sum of the profile information in the given profile files.

       First, a flat profile is given.  This listing gives the total execution times  and  call  counts  for
       each of the functions in the program, sorted by decreasing time.

       Next, these times are propagated along the edges of the call graph.  Cycles are discovered, and calls
       into a cycle are made to share the time of the cycle.  A second listing shows  the  functions  sorted
       according  to the time they represent including the time of their call graph descendents.  Below each
       function entry is shown its (direct) call graph children, and how their times are propagated to  this
       function.   A  similar  display above the function shows how this function's time and the time of its
       descendents is propagated to its (direct) call graph parents.

       Cycles are also shown, with an entry for the cycle as a whole as well as a listing of the members  of
       the cycle and their contributions to the time and call counts of the cycle.

<b>UNIVERSAL</b> <b>FILE</b> <b>SUPPORT</b>
       <u>gprof</u>  accepts  a  ``universal''  file for the <u>a.out</u> file, using the host architecture from the file.
       (It is an error if the ``universal'' file does not contain the host architecture.)

<b>OPTIONS</b>
       The following options are available:

       <b>-a</b>     suppresses the displaying of statically declared functions.  If this option is given, all rel-<font color="#ffffff" class="whiteout">evant&nbsp;relevant</font>
              evant  information  about the static function (such as time samples, calls to other functions,
              calls from other functions) belongs to the function loaded just before the static function  in
              the <u>a.out</u> file.

       <b>-b</b>     suppresses the displaying of a description of each field in the profile.

       <b>-c</b>     the  static  call  graph  of  the program is discovered by a heuristic which examines the text
              space of the object file.  Static-only parents or children are indicated with call  counts  of
              0.  (The <b>-c</b> option is currently not supported.)

       <b>-e</b> <u>name</u>
              suppresses  the displaying of the graph profile entry for routine <u>name</u> and all its descendants
              (unless they have other ancestors that aren't suppressed).  More than one  <b>-e</b>  option  may  be
              given.  Only one <u>name</u> may be given with each <b>-e</b> option.

       <b>-E</b> <u>name</u>
              suppresses the displaying of the graph profile entry for routine <u>name</u> (and its descendants) as
              <b>-e</b>, above, and also excludes the time spent in <u>name</u> (and its descendants) from the  total  and
              percentage  time  computations.   (For example, <b>-E</b> <u>mcount</u> and all of the other <!-- a --><u>monitor</u>(3)<!-- /a --> rou-<font color="#ffffff" class="whiteout">tines&nbsp;routines</font>
              tines are excluded by default.)

       <b>-f</b> <u>name</u>
              displays the graph profile entry of only the specified routine <u>name</u> and its descendants.  More
              than one <b>-f</b> option may be given.  Only one <u>name</u> may be given with each <b>-f</b> option.

       <b>-F</b> <u>name</u>
              displays  the  graph profile entry of only the routine <u>name</u> and its descendants (as <b>-f,</b> above)
              and also uses only the times of the displayed routines in total time and  percentage  computa-<font color="#ffffff" class="whiteout">tions.&nbsp;computations.</font>
              tions.  More than one <b>-F</b> option may be given.  Only one <u>name</u> may be given with each <b>-F</b> option.
              The <b>-F</b> option overrides the <b>-E</b> option.

       <b>-s</b>     a profile file <u>gmon.sum</u> is produced which represents the sum of the profile information in all
              the  specified profile files.  This summary profile file may be given to subsequent executions
              of gprof (probably also with a <b>-s</b>) to accumulate profile data across several runs of an  <u>a.out</u>
              file.

       <b>-S</b>     produces  four  order  files  suitable as input to <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>: <u>gmon.order</u> is an ordering based on a
              closest is best algorithm, <u>callf.order</u> is based on call frequency,  <u>callo.order</u>  is  based  on
              call  order  and  <u>time.order</u>  is  based on time.  The order files contain only those functions
              which were called or sampled (including  spontaneous  functions).  For  library  functions  to
              appear  correctly  in the order file, a <u>whatsloaded</u> file produced by <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a> should exist in the
              working directory. Filenames in the order file will be missing for: files compiled without the
              <b>-g</b>  option, assembly files, and stripped executables.  This option does not work with executa-<font color="#ffffff" class="whiteout">bles&nbsp;executables</font>
              bles that have already been scattered.  The <u>gmon.order</u> file can take a long  time  to  produce
              and can be suppressed with the <b>-x</b> option.

       <b>-z</b>     displays  routines  which  have zero usage (as indicated by call counts and accumulated time).
              This is useful in conjunction with the <b>-c</b> option for discovering  which  routines  were  never
              called.

<b>FILES</b>
       a.out           the namelist and text space.
       gmon.out        dynamic call graph and profile.
       gmon.sum        summarized dynamic call graph and profile.
       gmon.order      ordering based on closest is best algorithm.
       callf.order     ordering based on call frequency.
       callo.order     ordering based on call order.
       time.order      ordering based on time.

<b>SEE</b> <b>ALSO</b>
       <!-- a -->monitor(3)<!-- /a -->, <a href="../man2/profil.2.html#//apple_ref/doc/man/2/profil">profil(2)</a>, <a href="cc.1.html#//apple_ref/doc/man/1/cc">cc(1)</a>
       <a href="dyld.1.html#//apple_ref/doc/man/1/dyld">dyld(1)</a> and the DYLD_IMAGE_SUFFIX environment variable
       ``gprof:  A Call Graph Execution Profiler'', by Graham, S.L., Kessler, P.B., McKusick, M.K.; <u>Proceed</u>-<font color="#ffffff" class="whiteout">ings&nbsp;Proceedings</font>
       <u>ings</u> <u>of</u> <u>the</u> <u>SIGPLAN</u> <u>'82</u> <u>Symposium</u> <u>on</u> <u>Compiler</u> <u>Construction</u>, SIGPLAN Notices,  Vol.  17,  No.  6,  pp.
       120-126, June 1982.

<b>BUGS</b>
       Beware  of quantization errors.  The granularity of the sampling is shown, but remains statistical at
       best.  We assume that the time for each execution of a function can be expressed by  the  total  time
       for  the  function  divided  by the number of times the function is called.  Thus the time propagated
       along the call graph arcs to parents of that function is directly proportional to the number of times
       that arc is traversed.

       Parents which are not themselves profiled will have the time of their profiled children propagated to
       them, but they will appear to be spontaneously invoked in the call graph listing, and will  not  have
       their  time  propagated further.  Similarly, signal catchers, even though profiled, will appear to be
       spontaneous (although for more obscure reasons).  Any profiled children  of  signal  catchers  should
       have  their  times propagated properly, unless the signal catcher was invoked during the execution of
       the profiling routine, in which case all is lost.

       The profiled program must call <!-- a --><u>exit</u>(2)<!-- /a --> or return normally for the profiling information to  be  saved
       in the <b>gmon.out</b> file.



Apple Computer, Inc.                            July 28, 2005                                       GPROF(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/gprof.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/gprof.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/gprof.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
