<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Using the Menu Manager(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING97></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-96.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-98.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-89.html"><B>Chapter 3 - Menu Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING97-0></A>
<H1><A NAME=MARKER-9-218></A>Using the Menu Manager</H1>
 You can define your application's menus and menu bar as resources and use Menu Manager routines to create and manage them. For example, whenever the user presses the mouse button while the cursor is in the menu bar, your application should call the <CODE>MenuSelect</CODE> function, allowing the user to choose a command from any menu. The <CODE>MenuSelect</CODE> function handles all user activity until the user releases the mouse button. The <CODE>MenuSelect</CODE> function displays and removes menus as the user drags the cursor through the menu bar, and it highlights enabled menu items as the user drags through <BR>a menu.<P>
 You should provide help balloons for each menu title and menu item of your application. You store information and text for help balloons in resources. See the chapter <BR>"Help Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I> for complete and specific <BR>information on how to provide help balloons for the menus of your application. The <BR>BalloonWriter application, available from APDA, can also help you create help balloons for the menus of your application.<P>
 Your application needs to initialize QuickDraw, the Font Manager, and the Window Manager before using the Menu Manager. Your application can accomplish this using the <CODE>InitGraf</CODE>, <CODE>InitFonts</CODE>, and <CODE>InitWindows</CODE> procedures. To initialize the Menu Manager, use the <CODE>InitMenus</CODE> procedure.<P>
 If your application uses pop-up menus, use the <CODE>Gestalt</CODE> function with the <CODE>gestaltPopUpAttr</CODE> selector to determine if the control definition function for <BR>pop-up menus is available. See <I><A HREF="../OSUtilities/OSUtilities-2.html">Inside Macintosh: Operating System Utilities</A></I> for information about the <CODE>Gestalt</CODE> function. <A NAME=MARKER-2-219></A><A NAME=MARKER-2-539></A><P>
 To create the pull-down menus in your application's menu bar, you need to<A NAME=MARKER-2-221></A><P>
<UL>
<LI>create descriptions of each pull-down menu in <CODE>'MENU'</CODE> resources
<LI>create an <CODE>'MBAR'</CODE> resource that lists the order and resource ID of each menu
<LI>use the <CODE>GetNewMBar</CODE> function and <CODE>SetMenuBar</CODE> procedure to set up your menu bar and use the <CODE>DrawMenuBar</CODE> procedure to draw your menu bar<P>
</UL>
 The next section, <A HREF=Toolbox-98.html#MARKER-9-222>"Creating a Menu,"</A> explains these steps in detail.<P>
 After creating your application's menu bar, you can enable or disable your menu items, add marks such as checkmarks or dashes to menu items, or add items to any of your menus as needed. See <A HREF=Toolbox-101.html#MARKER-9-290>"Enabling and Disabling Menu Items" on page 3-59</A>, <A HREF=Toolbox-101.html#MARKER-9-313>"Changing the Mark of Menu Items" on page 3-63</A>, and <A HREF=Toolbox-102.html#MARKER-9-343>"Adding Items to a Menu"</A> beginning on <A HREF=Toolbox-102.html#MARKER-9-343>page 3-66</A> for information on these topics.<P>
 <A HREF=Toolbox-103.html#MARKER-9-382>"Handling User Choice of a Menu Command,"</A> beginning on <A HREF=Toolbox-103.html#MARKER-9-382>page 3-72</A>, shows how to handle mouse-down events in the menu bar, adjust the menus of your application, and determine if the user chose a keyboard equivalent of a command.<P>
 <A HREF=Toolbox-104.html#MARKER-9-418>"Responding When the User Chooses a Menu Item,"</A> beginning on <A HREF=Toolbox-104.html#MARKER-9-418>page 3-80</A>, describes how your application should respond once the user chooses an item and also shows how to handle the user's choice of a command from the Apple and Help menus.<P>
 If your application displays dialog boxes, see <A HREF=Toolbox-105.html#MARKER-9-440>"Accessing Menus From a Dialog Box" beginning on page 3-86</A>.<P>
 Finally, if your application needs to create submenus or pop-up menus, see <A HREF=Toolbox-99.html#MARKER-9-270>"Creating a Hierarchical Menu" on page 3-55</A> and <A HREF=Toolbox-100.html#MARKER-9-282>"Creating a Pop-Up Menu" on page 3-58</A>.<P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Toolbox-98.html#HEADING98-0">Creating a Menu</A>
<DD>
<DT><A HREF="Toolbox-99.html#HEADING99-0">Creating a Hierarchical Menu</A>
<DD>
<DT><A HREF="Toolbox-100.html#HEADING100-0">Creating a Pop-Up Menu</A>
<DD>
<DT><A HREF="Toolbox-101.html#HEADING101-0">Changing the Appearance of Items in a Menu</A>
<DD>
<DT><A HREF="Toolbox-102.html#HEADING102-0">Adding Items to a Menu</A>
<DD>
<DT><A HREF="Toolbox-103.html#HEADING103-0">Handling User Choice of a Menu Command</A>
<DD>
<DT><A HREF="Toolbox-104.html#HEADING104-0">Responding When the User Chooses a Menu Item</A>
<DD>
<DT><A HREF="Toolbox-105.html#HEADING105-0">Accessing Menus From a Dialog Box</A>
<DD>
<DT><A HREF="Toolbox-106.html#HEADING106-0">Writing Your Own Menu Definition Procedure</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-96.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-98.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
