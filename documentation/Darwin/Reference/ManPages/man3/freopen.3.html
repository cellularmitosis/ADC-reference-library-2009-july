<html><head><title>Mac OS X
 Manual Page For freopen(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/freopen" title="Mac OS X
 Manual Page for freopen(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/freopen"; name=freopen(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
FOPEN(3)                 BSD Library Functions Manual                 <!-- a -->FOPEN(3)<!-- /a -->

<b>NAME</b>
     <b>fdopen</b>, <b>fopen</b>, <b>freopen</b> -- stream open functions

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;stdio.h&gt;</b>

     <u>FILE</u> <u>*</u>
     <b>fdopen</b>(<u>int</u> <u>fildes</u>, <u>const</u> <u>char</u> <u>*mode</u>);

     <u>FILE</u> <u>*</u>
     <b>fopen</b>(<u>const</u> <u>char</u> <u>*restrict</u> <u>filename</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>mode</u>);

     <u>FILE</u> <u>*</u>
     <b>freopen</b>(<u>const</u> <u>char</u> <u>*restrict</u> <u>filename</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>mode</u>, <u>FILE</u> <u>*restrict</u> <u>stream</u>);

<b>DESCRIPTION</b>
     The <b>fopen</b>() function opens the file whose name is the string pointed to by <u>filename</u> and associates a
     stream with it.

     The argument <u>mode</u> points to a string beginning with one of the following sequences (Additional charac-<font color="#ffffff" class="whiteout">ters&nbsp;characters</font>
     ters may follow these sequences.):

     ``r''   Open text file for reading.  The stream is positioned at the beginning of the file.

     ``r+''  Open for reading and writing.  The stream is positioned at the beginning of the file.

     ``w''   Truncate file to zero length or create text file for writing.  The stream is positioned at the
             beginning of the file.

     ``w+''  Open for reading and writing.  The file is created if it does not exist, otherwise it is trun-<font color="#ffffff" class="whiteout">cated.&nbsp;truncated.</font>
             cated.  The stream is positioned at the beginning of the file.

     ``a''   Open for writing.  The file is created if it does not exist.  The stream is positioned at the
             end of the file.  Subsequent writes to the file will always end up at the then current end of
             file, irrespective of any intervening <a href="fseek.3.html#//apple_ref/doc/man/3/fseek">fseek(3)</a> or similar.

     ``a+''  Open for reading and writing.  The file is created if it does not exist.  The stream is posi-<font color="#ffffff" class="whiteout">tioned&nbsp;positioned</font>
             tioned at the end of the file.  Subsequent writes to the file will always end up at the then
             current end of file, irrespective of any intervening <a href="fseek.3.html#//apple_ref/doc/man/3/fseek">fseek(3)</a> or similar.

     The <u>mode</u> string can also include the letter ``b'' either as a third character or as a character between
     the characters in any of the two-character strings described above.  This is strictly for compatibility
     with ISO/IEC 9899:1990 (``ISO C90'') and has no effect; the ``b'' is ignored.

     Finally, as an extension to the standards (and thus may not be portable), <u>mode</u> string may end with the
     letter ``x'', which insists on creating a new file when used with ``w'' or ``a''.  If <u>path</u> exists, then
     an error is returned (this is the equivalent of specifying O_EXCL with <a href="../man2/open.2.html#//apple_ref/doc/man/2/open">open(2)</a>).

     Any created files will have mode "S_IRUSR | S_IWUSR | S_IRGRP | S_IWGRP | S_IROTH | S_IWOTH" (0666), as
     modified by the process' umask value (see <a href="../man2/umask.2.html#//apple_ref/doc/man/2/umask">umask(2)</a>).

     Reads and writes may be intermixed on read/write streams in any order, and do not require an intermedi-<font color="#ffffff" class="whiteout">ate&nbsp;intermediate</font>
     ate seek as in previous versions of <u>stdio</u>.  This is not portable to other systems, however; ANSI C
     requires that a file positioning function intervene between output and input, unless an input operation
     encounters end-of-file.

     The <b>fdopen</b>() function associates a stream with the existing file descriptor, <u>fildes</u>.  The mode of the
     stream must be compatible with the mode of the file descriptor.  When the stream is closed via
     <a href="fclose.3.html#//apple_ref/doc/man/3/fclose">fclose(3)</a>, <u>fildes</u> is closed also.

     The <b>freopen</b>() function opens the file whose name is the string pointed to by <u>filename</u> and associates
     the stream pointed to by <u>stream</u> with it.  The original stream (if it exists) is closed.  The <u>mode</u> argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
     ment is used just as in the <b>fopen</b>() function.

     If the <u>filename</u> argument is NULL, <b>freopen</b>() attempts to re-open the file associated with <u>stream</u> with a
     new mode.  The new mode must be compatible with the mode that the stream was originally opened with:

           <b></b><b><u>oo</u></b>   Streams originally opened with mode ``r'' can only be reopened with that same mode.

           <b></b><b><u>oo</u></b>   Streams originally opened with mode ``a'' can be reopened with the same mode, or mode ``w''.

           <b></b><b><u>oo</u></b>   Streams originally opened with mode ``w'' can be reopened with the same mode, or mode ``a''.

           <b></b><b><u>oo</u></b>   Streams originally opened with mode ``r+'', ``w+'', or ``a+'' can be reopened with any mode.

     The primary use of the <b>freopen</b>() function is to change the file associated with a standard text stream
     (stderr, stdin, or stdout).

<b>RETURN</b> <b>VALUES</b>
     Upon successful completion <b>fopen</b>(), <b>fdopen</b>(), and <b>freopen</b>() return a FILE pointer.  Otherwise, NULL is
     returned and the global variable <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     [EINVAL]           The <u>mode</u> argument to <b>fopen</b>(), <b>fdopen</b>(), or <b>freopen</b>() was invalid.

     The <b>fopen</b>(), <b>fdopen</b>() and <b>freopen</b>() functions may also fail and set <u>errno</u> for any of the errors speci-<font color="#ffffff" class="whiteout">fied&nbsp;specified</font>
     fied for the routine <a href="malloc.3.html#//apple_ref/doc/man/3/malloc">malloc(3)</a>.

     The <b>fopen</b>() function may also fail and set <u>errno</u> for any of the errors specified for the routine
     <a href="../man2/open.2.html#//apple_ref/doc/man/2/open">open(2)</a>.

     The <b>fdopen</b>() function may also fail and set <u>errno</u> for any of the errors specified for the routine
     <a href="../man2/fcntl.2.html#//apple_ref/doc/man/2/fcntl">fcntl(2)</a>.

     The <b>freopen</b>() function may also fail and set <u>errno</u> for any of the errors specified for the routines
     <a href="../man2/open.2.html#//apple_ref/doc/man/2/open">open(2)</a>, <a href="fclose.3.html#//apple_ref/doc/man/3/fclose">fclose(3)</a> and <a href="fflush.3.html#//apple_ref/doc/man/3/fflush">fflush(3)</a>.

<b>SEE</b> <b>ALSO</b>
     <a href="../man2/open.2.html#//apple_ref/doc/man/2/open">open(2)</a>, <a href="fclose.3.html#//apple_ref/doc/man/3/fclose">fclose(3)</a>, <a href="fileno.3.html#//apple_ref/doc/man/3/fileno">fileno(3)</a>, <a href="fseek.3.html#//apple_ref/doc/man/3/fseek">fseek(3)</a>, <a href="funopen.3.html#//apple_ref/doc/man/3/funopen">funopen(3)</a>

<b>STANDARDS</b>
     The <b>fopen</b>() and <b>freopen</b>() functions conform to ISO/IEC 9899:1990 (``ISO C90'').  The <b>fdopen</b>() function
     conforms to IEEE Std 1003.1-1988 (``POSIX.1'').

BSD                            January 26, 2003                            BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/freopen.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/freopen.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/freopen.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
