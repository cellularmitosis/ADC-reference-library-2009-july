<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="GoLive CyberStudio 3">		<title>EOObjectStore (Java) </title>	</head>	<body bgcolor="white">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../EOControlTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="EOObjectStore"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/EOObjectStore"></a>EOObjectStore</font></h1>		<p><br>		<blockquote>			<b>Inherits from: </b>Object</blockquote>		<blockquote>			<b>Package: </b>com.webobjects.eocontrol</blockquote>		<p>		<hr size="4">		<br>		<h2>Class Description</h2>		<p>		<hr alt="">		<p>EOObjectStore is the abstract class that defines the API for an &quot;intelligent&quot; repository of objects, the control layer's object storage abstraction. An object store is responsible for constructing and registering objects, servicing object faults, and saving changes made to objects. For more information on the object storage abstraction, see &quot;Object Storage Abstraction&quot; (page 23) in the introduction to the EOControl Framework.</p>		<p>EOEditingContext is the principal EOObjectStore subclass and is used for managing objects in memory-in fact, the primary purpose of the EOObjectStore class is to define an API for servicing editing contexts, not to define a completely general API. Other subclasses of EOObjectStore are:</p>		<ul>			<li>EOCooperatingObjectStore 			<li>EOObjectStoreCoordinator 			<li>EODatabaseContext (EOAccess) 		</ul>		<p>A subclass of EOObjectStore must implement all of its methods. The default implementations simply throw exceptions.</p>		<p><br>		<br>		<br>		<h2>Constants</h2>		<p>		<hr alt="">		<p>EOObjectStore defines the following String constants to be used as keys in the notifications it posts:</p>		<ul>			<li><a name="CBJFFHFB"></a><tt>DeletedKey</tt> 			<li><a name="CBJHEEDI"></a><tt>InsertedKey</tt> 			<li><a name="CBJIEFEE"></a><tt>InvalidatedKey</tt> 			<li><a name="CBJBJFDJ"></a><tt>UpdatedKey</tt> 		</ul>		<p>Additionally, EOObjectStore defines String constants for the names of the notifications it posts. See the section <a href="#CJDCIADI">&quot;Notifications&quot; (page 281)</a> for more information on the notifications.</p>		<p><br>		<br>		<h2>Method Types</h2>		<p>		<hr alt="">		<blockquote>			Initializing objects<a href="#//apple_ref/java/instm/EOObjectStore/initializeObject">initializeObject</a>Getting objects<a href="#//apple_ref/java/instm/EOObjectStore/objectsWithFetchSpecification">objectsWithFetchSpecification</a><a href="#//apple_ref/java/instm/EOObjectStore/objectsForSourceGlobalID">objectsForSourceGlobalID</a>Getting faults<a href="#//apple_ref/java/instm/EOObjectStore/faultForGlobalID">faultForGlobalID</a><a href="#//apple_ref/java/instm/EOObjectStore/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a><a href="#//apple_ref/java/instm/EOObjectStore/refaultObject">refaultObject</a><a href="#//apple_ref/java/instm/EOObjectStore/faultForRawRow">faultForRawRow</a>Locking objects<a href="#//apple_ref/java/instm/EOObjectStore/lockObjectWithGlobalID">lockObjectWithGlobalID</a><a href="#//apple_ref/java/instm/EOObjectStore/isObjectLockedWithGlobalID">isObjectLockedWithGlobalID</a>Saving changes to objects<a href="#//apple_ref/java/instm/EOObjectStore/saveChangesInEditingContext">saveChangesInEditingContext</a>Invalidating and forgetting objects<a href="#//apple_ref/java/instm/EOObjectStore/invalidateAllObjects">invalidateAllObjects</a><a href="#//apple_ref/java/instm/EOObjectStore/invalidateObjectsWithGlobalIDs:">invalidateObjectsWithGlobalIDs:</a><a href="#//apple_ref/java/instm/EOObjectStore/editingContextDidForgetObjectWithGlobalID">editingContextDidForgetObjectWithGlobalID</a>Interacting with the server<a href="#//apple_ref/java/instm/EOObjectStore/invokeRemoteMethod">invokeRemoteMethod</a>w</blockquote>		<p><br>		<br>		<h2>Constructors</h2>		<p>		<hr alt="">		<br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/EOObjectStore"></a>EOObjectStore</h3>		<p><code>public EOObjectStore()</code></p>		<p>Description forthcoming. 		<hr width="25%" align="left">		<br>		<br>		<h2>Instance Methods</h2>		<p>		<hr alt="">		<a name="arrayFaultWithSourceGlobalID_relationshipName_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/arrayFaultWithSourceGlobalID"></a>arrayFaultWithSourceGlobalID</h3>		<p><code>public abstract NSArray <b>arrayFaultWithSourceGlobalID</b>( EOGlobalID <em>globalID</em>, String <em>relationshipName</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Implemented by subclasses to return the destination objects for a to-many relationship, whether as real instances or as faults (empty enterprise objects). <em>globalID</em> identifies the source object for the relationship (which doesn't necessarily exist in memory yet), and <em>relationshipName</em> is the name of the relationship. The object identified by <em>globalID</em> and the destination objects for the relationship all belong to <em>anEditingContext</em>. 		<p>If you implement this method to return a fault, you must define an EOFaultHandler subclass that stores <em>globalID</em> and <em>relationshipName</em>, using them to fetch the objects in a later <a href="#//apple_ref/java/instm/EOObjectStore/objectsForSourceGlobalID">objectsForSourceGlobalID</a> message and that turns the fault into an array containing those objects. See the EOFaultHandler class specification for more information on faults.</p>		<p>See the EOEditingContext and EODatabaseContext (EOAccess) class specifications for more information on how this method works in concrete subclasses.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EOObjectStore/faultForGlobalID">faultForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<br>		<h3><b><a name="//apple_ref/java/instm/EOObjectStore/dispose"></a>dispose</b></h3>		<p><code>public void <b>dispose</b>()</code></p>		<p>Description forthcoming. 		<hr width="25%" align="left">		<a name="CBJDGEIA"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/editingContextDidForgetObjectWithGlobalID"></a>editingContextDidForgetObjectWithGlobalID</h3>		<p><code>public abstract void <b>editingContextDidForgetObjectWithGlobalID</b>( EOEditingContext <em>context</em>, EOGlobalID <em>gid</em>)</code></p>		<p>Invoked to inform the object store that it can stop keeping data about an object it passed to a child. Don't invoke this method; it is invoked automatically by the Framework. 		<hr width="25%" align="left">		<a name="faultForGlobalID_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/faultForGlobalID"></a>faultForGlobalID</h3>		<p><code>public abstract EOEnterpriseObject <b>faultForGlobalID</b>( EOGlobalID <em>globalID</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>If the receiver is <em>anEditingContext</em> and the object associated with <em>globalID</em> is already registered in <em>anEditingContext</em>, this method returns that object. Otherwise it creates a to-one fault, registers it in <em>anEditingContext</em>, and returns the fault. This method is always directed first at <em>anEditingContext</em>, which forwards the message to its parent object store if needed to create a fault. 		<p>If you implement this method to return a fault (an empty enterprise object), you must define an EOFaultHandler subclass that stores <em>globalID</em>, uses it to fetch the object's data, and initializes the object with EOObjectStore's <a href="#//apple_ref/java/instm/EOObjectStore/initializeObject">initializeObject</a>. See the EOFaultHandler class specification for more information on faults.</p>		<p>See the EOEditingContext and EODatabaseContext (EOAccess) class specifications for more information on how this method works in concrete subclasses.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EOObjectStore/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a>, recordObject (EOEditingContext)</p>		<p>		<hr width="25%" align="left">		<a name="CJDBBBBA"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/faultForRawRow"></a>faultForRawRow</h3>		<p><code>public abstract EOEnterpriseObject <b>faultForRawRow</b>( NSDictionary <em>row</em>, String <em>entityName</em>, EOEditingContext <em>anEOEditingContext</em>)</code></p>		<p>Returns a fault for the enterprise object corresponding to <em>row</em>, which is a dictionary of values containing at least the primary key of the corresponding enterprise object. This is especially useful if you have fetched raw rows and now want a unique enterprise object. </p>		<p>		<hr width="25%" align="left">		<a name="initializeObject_withGlobalID_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/initializeObject"></a>initializeObject</h3>		<p><code>public abstract void <b>initializeObject</b>( EOEnterpriseObject <em>anObject</em>, EOGlobalID <em>globalID</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Implemented by subclasses to set <em>anObject</em>'s properties, as obtained for <em>globalID</em>. This method is typically invoked after <em>anObject</em> has been created using EOClassDescription's createInstanceWithEditingContext or using EOGenericRecord's or EOCustomObject's constructors. This method is also invoked after a fault has been fired. 		<p><b>See Also: </b>awakeFromInsertion (EOEnterpriseObject), awakeFromFetch (EOEnterpriseObject)</p>		<p>		<hr width="25%" align="left">		<a name="invalidateAllObjects"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/invalidateAllObjects"></a>invalidateAllObjects</h3>		<p><code>public abstract void <b>invalidateAllObjects</b>()</code></p>		<p>Discards the values of all objects held by the receiver and turns them into faults (empty enterprise objects). This causes all locks to be dropped and any transaction to be rolled back. The next time any object is accessed, its data is fetched anew. Any child object stores are also notified that the objects are no longer valid. See the EOEditingContext class specification for more information on how this method works in concrete subclasses. 		<p>This method should also post an <a href="#CJDECHGB">InvalidatedAllObjectsInStoreNotification</a>.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EOObjectStore/invalidateObjectsWithGlobalIDs:">invalidateObjectsWithGlobalIDs:</a>, <a href="#//apple_ref/java/instm/EOObjectStore/refaultObject">refaultObject</a></p>		<p>		<hr width="25%" align="left">		<a name="invalidateObjectWithGlobalID_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/invalidateObjectsWithGlobalIDs:"></a>invalidateObjectsWithGlobalIDs:</h3>		<p><code>public abstract void <b>invalidateObjectsWithGlobalIDs</b>(NSArray <em>globalIDs</em>)</code></p>		<p>Signals that the objects identified by the EOGlobalIDs in <em>globalIDs</em> should no longer be considered valid and that they should be turned into faults (empty enterprise objects). This causes data for each object to be refetched the next time it's accessed. Any child object stores are also notified that the objects are no longer valid. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EOObjectStore/invalidateAllObjects">invalidateAllObjects</a>, <a href="#//apple_ref/java/instm/EOObjectStore/refaultObject">refaultObject</a></p>		<p>		<hr width="25%" align="left">		<a name="CJDBFJBB"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/invokeRemoteMethod"></a>invokeRemoteMethod</h3>		<p><code>public Object <b>invokeRemoteMethod</b>( EOEditingContext <em>anEditingContext</em>, EOGlobalID <em>receiverGID</em>, String <em>methodName</em>, Class[] <em>aClass</em> Object[] <em>arguments</em>)</code></p>		<p>Invokes <em>methodName</em> on the enterprise object identified by <em>receiverGID </em>in<em> anEditingContext, </em>using <em>arguments</em>. To pass an enterprise object as an argument, use its global ID. This method has the side effect of saving all the changes from the editing context all the way down to the editing context in the server session.</p>		<p>		<hr width="25%" align="left">		<a name="isObjectLockedWithGlobalID_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/isObjectLockedWithGlobalID"></a>isObjectLockedWithGlobalID</h3>		<p><code>public abstract boolean <b>isObjectLockedWithGlobalID</b>( EOGlobalID <em>globalID</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Returns true if the object identified by <em>globalID</em> is locked, false if it isn't. See the EODatabaseContext (EOAccess) class specification for more information on how this method works in concrete subclasses. 		<hr width="25%" align="left">		<a name="lockObjectWithGlobalID_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/lockObjectWithGlobalID"></a>lockObjectWithGlobalID</h3>		<p><code>public abstract void <b>lockObjectWithGlobalID</b>( EOGlobalID <em>globalID</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Locks the object identified by <em>globalID</em>. See the EODatabaseContext (EOAccess) class specification for more information on how this method works in concrete subclasses. 		<hr width="25%" align="left">		<a name="objectsForSourceGlobalID_relationshipName_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/objectsForSourceGlobalID"></a>objectsForSourceGlobalID</h3>		<p><code>public abstract NSArray <b>objectsForSourceGlobalID</b>( EOGlobalID <em>globalID</em>, String <em>relationshipName</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Returns the destination objects for a to-many relationship. This method is used by an array fault previously constructed using <a href="#//apple_ref/java/instm/EOObjectStore/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a>.<em> globalID</em> identifies the source object for the relationship (which doesn't necessarily exist in memory yet), and <em>relationshipName</em> is the name of the relationship. The object identified by <em>globalID</em> and the destination objects for the relationship all belong to <em>anEditingContext</em>. 		<p>See the EOEditingContext and EODatabaseContext (EOAccess) class specifications for more information on how this method works in concrete subclasses.</p>		<p>		<hr width="25%" align="left">		<a name="objectsWithFetchSpecification_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/objectsWithFetchSpecification"></a>objectsWithFetchSpecification</h3>		<p><code>public abstract NSArray <b>objectsWithFetchSpecification</b>( EOFetchSpecification <em>aFetchSpecification</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Fetches objects from an external store according to the criteria specified by <em>fetchSpecification</em> and returns them in an array for inclusion in <em>anEditingContext</em>. If one of these objects is already present in memory, this method doesn't overwrite its values with the new values from the database. Throws an exception if an error occurs. 		<p>See the EOEditingContext and EODatabaseContext (EOAccess) class specifications for more information on how this method works in concrete subclasses.</p>		<p>		<hr width="25%" align="left">		<a name="refaultObject_ withGlobalID_editingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/refaultObject"></a>refaultObject</h3>		<p><code>public abstract void <b>refaultObject</b>( EOEnterpriseObject <em>anObject</em>, EOGlobalID <em>globalID</em>, EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Turns <em>anObject</em> into a fault (an empty enterprise object), identified by <em>globalID</em> in <em>anEditingContext</em>. Objects that have been inserted but not saved, or that have been deleted, shouldn't be refaulted. When using com.webobjects.eocontrol, use this method with caution since refaulting an object doesn't remove the object snapshot from the undo stack. 		<hr width="25%" align="left">		<a name="saveChangesInEditingContext_"></a><br>		<h3><a name="//apple_ref/java/instm/EOObjectStore/saveChangesInEditingContext"></a>saveChangesInEditingContext</h3>		<p><code>public abstract void <b>saveChangesInEditingContext</b>(EOEditingContext <em>anEditingContext</em>)</code></p>		<p>Saves any changes in <em>anEditingContext</em> to the receiver's repository. Sends insertedObjects, deletedObjects, and updatedObjects messages to <em>anEditingContext</em> and applies the changes to the receiver's data repository as appropriate. For example, EODatabaseContext (EOAccess) implements this method to send operations to an EOAdaptor (EOAccess) for making the changes in a database. 		<hr width="25%" align="left">		<a name="CJDCIADI"></a><br>		<br>		<h2>Notifications</h2>		<p>		<hr alt="">		<a name="CJDECHGB"></a>		<h3>InvalidatedAllObjectsInStoreNotification</h3>		<p><code>public static final String InvalidatedAllObjectsInStoreNotification</code></p>		<p>Posted whenever an EOObjectStore receives an <a href="#//apple_ref/java/instm/EOObjectStore/invalidateAllObjects">invalidateAllObjects</a> message. The notification contains:<br>		<table border="1">			<tr>				<td scope="row">Notification Object</td>				<td>The EOObjectStore that received the <a href="#//apple_ref/java/instm/EOObjectStore/invalidateAllObjects">invalidateAllObjects</a> message.</td>			</tr>			<tr>				<td scope="row">Userinfo</td>				<td>None</td>			</tr>		</table><br>		<a name="CJDDGBEC"></a>		<h3>ObjectsChangedInStoreNotification</h3>		<p><code>public static final String ObjectsChangedInStoreNotification</code></p>		<p>Posted whenever an EOObjectStore observes changes to its objects. The notification contains: Notification ObjectThe EOObjectStore that observed the changeuserInfoA dictionary containing the following keys and values:<br>		<table border="1">			<tr>				<td scope="row"><b>Key</b></td>				<td><b>Value</b></td>			</tr>			<tr>				<td scope="row"><a href="#CBJBJFDJ">UpdatedKey</a></td>				<td>An NSArray of EOGlobalIDs for objects whose properties have changed. A receiving EOEditingContext typically responds by refaulting its corresponding objects.</td>			</tr>			<tr>				<td scope="row"><a href="#CBJHEEDI">InsertedKey</a></td>				<td>An NSArray of EOGlobalIDs for objects that have been inserted into the EOObjectStore.</td>			</tr>			<tr>				<td scope="row"><a href="#CBJFFHFB">DeletedKey</a></td>				<td>An NSArray of EOGlobalIDs for objects that have been deleted from the EOObjectStore.</td>			</tr>			<tr>				<td scope="row"><a href="#CBJIEFEE">InvalidatedKey</a></td>				<td>An NSArray of EOGlobalIDs for objects that have been turned into faults.</td>			</tr>		</table><br>		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 19, 2001)</p>		<p><br>		<a href="../EOControlTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>