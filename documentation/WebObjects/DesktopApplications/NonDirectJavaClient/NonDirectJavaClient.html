<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects Java Client Programming Guide (Legacy): Nondirect Java Client Development</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Nondirect Java Client Development"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001017-CH304" title="Nondirect Java Client Development"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../LegacyTechnologies/Tools-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000463" target="_top">Tools</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP30001017-CH297-TP1">WebObjects Java Client Programming Guide (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../AdvancedTutorial/AdvancedTutorial.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../NonnibStaticControllers/NonnibStaticControllers.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30001017-CH304-TP1" title="Nondirect Java Client Development"></a><h1>Nondirect Java Client Development</h1><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_649"></a><p>The direct approach to building Java Client applications and its customization techniques should allow you to sufficiently customize your application’s user interface. However, it is possible and often useful to build completely customized Java Client user interfaces in Interface Builder. This chapter teaches you how to build custom user interfaces.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-TPXREF37">Building Custom Interfaces</a>
				
			<br/>
			
        
			
			
				<a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-TPXREF36">Cocoa to Swing Translation</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF37" title="Building Custom Interfaces"></a><h2>Building Custom Interfaces</h2><p>You create nondirect Java Client applications in Project Builder using the Java Client Application project type.</p><p>Make a new Java Client project called <code>AdmissionsStatic</code>. Add the EOModel file from the last tutorial.</p><p>In the Interface Controller Class Name pane, the interface controller class name should be StudentFormInterfaceController as shown in <span class="content_text">Figure 7-1</span>. Make sure the package name is <code>admissionsstatic.client</code>. When creating Java Cilent interfaces, you must always specify the correct package name.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_214" title="Note"></a><p><strong>Note:</strong>&nbsp;Mac OS X 10.2 introduced a new nib file format. The nib file created by the Java Client setup assistant uses the pre-10.2 nib file format. The first time you try to save a nib file using the pre-10.2 file format, you’ll be asked which format you want to use. When developing Java Client nibs, use the pre-10.2 file format.</p></div><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BAJBHICE" title="Figure 7-1Name the interface controller"></a><p><strong>Figure 7-1&nbsp;&nbsp;</strong>Name the interface controller</p><img src = "../Art/newinterfacecontroller.gif" alt = "Name the interface controller" width="391" height="326"></div><br/><p>Add the <code>Admissions.eomodeld</code> file when prompted.</p><p>Select the fourth option in the Choose Download Classes pane (Download main bundle and custom framework classes). Optionally edit the fields in the Web Start pane.</p><p>In the Select a Template pane, select EOF Application Skeleton as shown in  <span class="content_text">Figure 7-2</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BAJCBCJB" title="Figure 7-2Choose a template for the interface controller"></a><p><strong>Figure 7-2&nbsp;&nbsp;</strong>Choose a template for the interface controller</p><img src = "../Art/interfacetemplate.gif" alt = "Choose a template for the interface controller" width="395" height="332"></div><br/><p>For Java Client applications, Project Builder creates an Interface Builder file (<code>.nib</code>) and its associated Java class. By default, it’s put in the Interfaces group. Double-click <code>StudentFormInterfaceController.nib</code> to open the file in Interface Builder.</p><p><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_650"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_651"></a>Interface Builder needs a special palette to work with Java Client user interfaces. The EnterpriseObjects palette should load by default and appear in the Palettes pane of the Interface Builder Preferences window as shown in <span class="content_text">Figure 7-3</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BAJEFCGF" title="Figure 7-3Interface Builder palettes"></a><p><strong>Figure 7-3&nbsp;&nbsp;</strong>Interface Builder palettes</p><img src = "../Art/eoibpalette.gif" alt = "Interface Builder palettes" width="399" height="330"></div><br/><p>If it does not appear, click the Add button, navigate to <code>/Developer/Palettes</code> and double-click <code>EnterpriseObjects.palette</code>. The palette should then appear in Interface Builder’s palettes window as shown in <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-TPXREF29">Figure 7-4</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF29" title="Figure 7-4Enterprise Objects palette"></a><p><strong>Figure 7-4&nbsp;&nbsp;</strong>Enterprise Objects palette</p><img src = "../Art/eopalette.gif" alt = "Enterprise Objects palette" width="275" height="192"></div><br/><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF21" title="Laying Out the User Interface "></a><h3>Laying Out the User Interface </h3><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_652"></a><p>To create custom interfaces, you use Interface Builder, the same application used to build Cocoa<a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_653"></a> desktop applications in Mac OS X. This tool gives you a wide variety of widgets to choose from, and most importantly, allows you to connect the user interface to objects in your data model. </p><p>The associations and connections you can make in Interface Builder make it the best tool for developing completely custom user interfaces for Java Client applications. You can write completely custom Java Client user interfaces in raw Swing or by using other third-party tools, but then you’ll have to make all the associations and connections programmatically.</p><p>Interface Builder’s integration with EOModeler allows you to easily build a user interface that is tightly coupled to your data model. It’s as easy as dragging model elements from EOModeler into the content window in Interface Builder.</p><p>A blank window (which corresponds to the MainWindow object), a nib file window, and a palette window appear when Interface Builder launches, as shown in <span class="content_text">Figure 7-5</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BAJCCHIH" title="Figure 7-5The Interface Builder environment"></a><p><strong>Figure 7-5&nbsp;&nbsp;</strong>The Interface Builder environment</p><img src = "../Art/ibenvironment.gif" alt = "The Interface Builder environment" width="534" height="350"></div><br/><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF40" title="Prepare the Nib File"></a><h3>Prepare the Nib File</h3><div class="notebox"><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_215" title="Note"></a><p><strong>Note:</strong>&nbsp;This section is not necessary in WebObjects 5.2 as the nib file’s controller classes are set correctly by the setup assistant in Project Builder when you add a nib to a project or create a nondirect Java Client project.</p></div><p>Before adding to the nib file, you may need to associate it with its controller class. This should happen automatically but if it doesn’t, you must make the association manually.</p><p>While the nib file is open in Interface Builder, click the Classes tab of the nib file window. View the classes in inheritance mode (the vertical list), and click the disclosure triangle next to <code>java.lang.Object</code> to reveal the Java Client classes. Continue clicking disclosure triangles up through <code>com.webobjects.eoapplication.EOInterfaceController</code> as shown in <span class="content_text">Figure 7-6</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCBIBHC" title="Figure 7-6Classes pane in the nib file window"></a><p><strong>Figure 7-6&nbsp;&nbsp;</strong>Classes pane in the nib file window</p><img src = "../Art/filesownerclass1.gif" alt = "Classes pane in the nib file window" width="341" height="204"></div><br/><p><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_654"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_655"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_656"></a>Click <code>com.webobjects.eoapplication.EOInterfaceController</code> in the classes list and press Return. This subclasses EOInterfaceController and thus the new class inherits its targets and outlets. The name of the new subclass is the fully qualified name of the nib file, <code>admissionsstatic.client.StudentFormController</code>, as shown in <span class="content_text">Figure 7-6</span>.</p><p>Now that you’ve created a new class, you must associate the nib file with it. To do this, switch to the Instances pane of the nib file window and click File’s Owner. Choose Show Info from the Tools menu and choose Attributes from the pop-up menu. In the list of classes, select <code>admissionsstatic.client.StudentFormController</code> as shown in <span class="content_text">Figure 7-7</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCDBAHD" title="Figure 7-7Assign the custom subclass to File&acirc;&#128;&#153;s Owner"></a><p><strong>Figure 7-7&nbsp;&nbsp;</strong>Assign the custom subclass to File’s Owner</p><img src = "../Art/filesownerclass2.gif" alt = "Assign the custom subclass to File’s Owner" width="262" height="327"></div><br/><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF41" title="Integrate the Model"></a><h3>Integrate the Model</h3><p><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_657"></a>Open the <code>Admissions.eomodeld</code> from within the Admissions project to launch EOModeler. Then drag the Student entity from EOModeler into the main window in Interface Builder. The main window should then appear as in <span class="content_text">Figure 7-8</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCHFDEJ" title="Figure 7-8The Student entity dragged into Interface Builder"></a><p><strong>Figure 7-8&nbsp;&nbsp;</strong>The Student entity dragged into Interface Builder</p><img src = "../Art/studentinnib.gif" alt = "The Student entity dragged into Interface Builder" width="410" height="231"></div><br/><p>In the nib file window, there’s now an EODisplayGroup object named “Student.” The first display group you add to the model also adds an EOEditingContext object named “EditingContext” to the nib file window. The nib file window should appear as in <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-BBCBDFHG">Figure 7-9</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCBDFHG" title="Figure 7-9Display group and editing context"></a><p><strong>Figure 7-9&nbsp;&nbsp;</strong>Display group and editing context</p><img src = "../Art/studentdginnib.gif" alt = "Display group and editing context" width="277" height="195"></div><br/><p>You can set options for the Student display group by selecting it in the nib file window and choosing Show Info from the Tools menu. In the Attributes pane, make sure “Fetch on load” is selected as shown in <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-TPXREF30">Figure 7-10</a></span>. This option is important because it allows data to be fetched from the database when the application starts up.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF30" title="Figure 7-10Display group options in Interface Builder"></a><p><strong>Figure 7-10&nbsp;&nbsp;</strong>Display group options in Interface Builder</p><img src = "../Art/studentdgoptions.gif" alt = "Display group options in Interface Builder" width="218" height="320"></div><br/><p>The keys listed in the EODisplayGroup Info window correspond to the class properties specified for the entity in EOModeler. You can add other keys that are not class properties such as methods you define in the associated Enterprise Objects class, as is done in <span class="content_text"><a href="../T12PopUpMenus/T12PopUpMenus.html#//apple_ref/doc/uid/TP30001017-CH317-TP1">“Using Pop-up Menus in Nib Files.”</a></span></p><p>By dragging an entity from EOModeler into Interface Builder, you created a functional yet simple application. However, you should make some simple changes to improve it.</p><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF33" title="Add Formatters"></a><h3>Add Formatters</h3><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_658"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_659"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_660"></a><p>The columns for <code>gpa</code> and <code>firstContact</code> are numeric, and you can set the numeric format style for column data directly in Interface Builder. If you don’t, the <code>gpa</code> column defaults to an integer format, so the values will be rounded—making that data less relevant. The <code>firstContact</code> column defaults to a date format that includes the day of the week, information that is not particularly useful for that attribute in this application.</p><p>To change the formatters, double-click the <code>Gpa</code> column to bring up the Info window. Choose Formatter from the pop-up menu and select a formatter with a decimal point for the <code>Gpa</code> column as shown in <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-BBCHBJHD">Figure 7-11</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCHBJHD" title="Figure 7-11Choose a formatter for the Gpa column"></a><p><strong>Figure 7-11&nbsp;&nbsp;</strong>Choose a formatter for the <code>Gpa</code> column</p><img src = "../Art/gpacolumnformat.gif" alt = "Choose a formatter for the Gpa column" width="217" height="321"></div><br/><p>For the <code>FirstContact</code> column, select a simple date format as shown in <span class="content_text">Figure 7-12</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCCFGBE" title="Figure 7-12Choose a formatter for the FirstContact column"></a><p><strong>Figure 7-12&nbsp;&nbsp;</strong>Choose a formatter for the <code>FirstContact</code> column</p><img src = "../Art/firstcontactformat.gif" alt = "Choose a formatter for the FirstContact column" width="217" height="325"></div><br/><p>Finally, capitalize the column names so that they’re as shown in <span class="content_text">Figure 7-13</span>.</p><p>Interface Builder provides the ability to test the application. It actually connects to the database and fetches data. You can test it by choosing File > Test Interface.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF31" title="Figure 7-13Testing the application"></a><p><strong>Figure 7-13&nbsp;&nbsp;</strong>Testing the application</p><img src = "../Art/testingnibinib.gif" alt = "Testing the application" width="431" height="216"></div><br/><p>Note that because “Fetch on load” is enabled for the Student EODisplayGroup, the data is automatically fetched when you test the interface.</p><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF22" title="Adding Action Methods"></a><h3>Adding Action Methods</h3><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_661"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_662"></a><p>You can add basic behavior to your application, such as adding, deleting, and saving objects, without writing a line of code. This is possible because the EODisplayGroup, EOEditingContext, and EOInterfaceController objects in Interface Builder have predefined action methods that you can use to trigger operations in your application. An action method is a method that’s invoked when a user clicks a button or another control object.</p><p>Add a button to the interface by dragging a button from the Views palette<a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_663"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_664"></a>. Make three buttons named “Add,” “Remove,” and “Save.” These buttons will be used to insert new Student records, delete Student records, and save changes, respectively.</p><p>Connect the Add button to the EODisplayGroup’s <code>insert</code> method by Control-dragging from the Add button to the Student EODisplayGroup. Choose Outlets in the pop-up menu in the NSButton Info window. Select target in the left column and double-click the <code>insert:</code> outlet in the right column. See  <span class="content_text">Figure 7-14</span> and <span class="content_text">Figure 7-15</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF32" title="Figure 7-14Connect the Add button to the insert method of the Student EODisplayGroup"></a><p><strong>Figure 7-14&nbsp;&nbsp;</strong>Connect the Add button to the <code>insert</code> method of the Student EODisplayGroup</p><img src = "../Art/connectaddtoinsert2.gif" alt = "Connect the Add button to the insert method of the Student EODisplayGroup" width="486" height="404"></div><br/><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF34" title="Figure 7-15Select the insert method"></a><p><strong>Figure 7-15&nbsp;&nbsp;</strong>Select the <code>insert</code> method</p><img src = "../Art/selectinsert.gif" alt = "Select the insert method" width="266" height="360"></div><br/><p>Using the same process, connect the Remove button to the <code>deleteSelection:</code> method. Finally, connect the Save button to the <code>saveChanges:</code> method in the EditingContext object.</p><p>Save the nib file. Build and run the project. You have a fully functional application with the capability to add, remove, and save records to the database.</p><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF25" title="Create a Master-Detail Interface "></a><h3>Create a Master-Detail Interface </h3><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_665"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_666"></a><p>To express the relationships in your EOModel, you use a master-detail interface. This interface includes a master table that holds records for the source of the relationship and a detail table that holds records for the destination. As individual records in the master table are selected, the contents of the detail table change to show the records that correspond to the selection in the master table. </p><p>Before adding a master-detail interface, delete the table view from the nib file’s main window and delete the Student EODisplayGroup and the EOEditingContext object from the nib file window.</p><p>You create a master-detail interface by simply dragging a relationship from EOModeler into a nib file window. Drag the Student entity’s <code>activities</code> relationship from EOModeler onto the main window in Interface Builder. This creates a master-detail relationship. The icon you drag is found under the Student entity in the entity list pane of EOModeler. You may have to click the plus icon to show the relationship.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF42" title="Figure 7-16The activities relationship in the Student entity"></a><p><strong>Figure 7-16&nbsp;&nbsp;</strong>The <code>activities</code> relationship in the Student entity</p><img src = "../Art/entitiesinmodeler.gif" alt = "The activities relationship in the Student entity" width="139" height="140"></div><br/><p>Reconnect the Add and Remove buttons to the Student EODisplayGroup. Add two buttons for the detail part of the relationship to add and remove activities. Connect them to the activities display group, connecting to the <code>insert</code> and <code>deleteSelection</code> methods respectively. Add formatters to the columns as you did earlier.</p><p>Test the master-detail interface by choosing Test Interface from the File menu. <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-BBCIFFAI">Figure 7-17</a></span> shows the master-detail interface with each table in a subview of a box view.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCIFFAI" title="Figure 7-17A master-detail interface"></a><p><strong>Figure 7-17&nbsp;&nbsp;</strong>A master-detail interface</p><img src = "../Art/masterdetailnib.gif" alt = "A master-detail interface" width="492" height="353"></div><br/><p>The master-detail interface you just created can be improved. Although you can add new records by entering text directly in the table columns, it would be nice to provide text fields for doing the same thing. Also, you should take advantage of more built-in features of the technology, such as reversion, undo, and redo.</p><p>It’s easy to add widgets in Interface Builder. Simply drag widgets from the Interface Builder palette onto the window. <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-BBCBHHJE">Figure 7-18</a></span> illustrates the complete widget set of text fields, text areas, and buttons for the master-detail interface.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCBHHJE" title="Figure 7-18Complete widget set for the master-detail interface"></a><p><strong>Figure 7-18&nbsp;&nbsp;</strong>Complete widget set for the master-detail interface</p><img src = "../Art/masterdetailnib2.gif" alt = "Complete widget set for the master-detail interface" width="495" height="445"></div><br/><p>Once you drag a widget into a window, you must connect it to the application. Consider the Achievements text field for the Activities entity. Once it’s placed in the interface, Control-drag from the text field to the Activities entity in nib file window. In the Info window, choose EOTextAssociation from the pop-up menu and double-click “achievements” in the scrolling list, as shown in <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-BBCBCCDJ">Figure 7-19</a></span>. This creates an association between the widget and the attribute in the entity. So, when you select a record, the value of the <code>achievements</code> attribute for that record is also displayed in the text field. This also allows you to edit the value of the attribute with which a text field is associated.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BBCBCCDJ" title="Figure 7-19Connect widgets with associations"></a><p><strong>Figure 7-19&nbsp;&nbsp;</strong>Connect widgets with associations</p><img src = "../Art/connectwidgettoutlet.gif" alt = "Connect widgets with associations" width="545" height="354"></div><br/><p>Associate each widget appropriately. Save the nib file.</p><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF39" title="Build and Run"></a><h3>Build and Run</h3><p>In Project Builder, build and run the application just as you would for a Direct to Java Client application.</p><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF27" title="Programmatic Access to Interface Components"></a><h3>Programmatic Access to Interface Components</h3><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_667"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_668"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_669"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_670"></a><p>It’s common to want programmatic access to user interface components in nib files. In the Cocoa<a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_671"></a> application framework, outlets for all appropriate user interface components are added to the corresponding Java file for that interface upon adding a component. However, this doesn’t happen when building Java Client interfaces in Interface Builder. Fortunately, it’s easy to add this functionality to your application.</p><p>In a nib file, select File’s Owner in the nib file window, switch to the Classes pane, and choose Add Outlet from the Classes menu. If the widget in question is a text field, for instance, name the outlet <code>textField</code> as shown in <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-BABHBBBC">Figure 7-20</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BABHBBBC" title="Figure 7-20Add an outlet"></a><p><strong>Figure 7-20&nbsp;&nbsp;</strong>Add an outlet</p><img src = "../Art/attributeviewib.gif" alt = "Add an outlet" width="391" height="495"></div><br/><p>Connect the new outlet to a text field by Control-dragging from the File’s Owner icon to the text field and double-clicking <code>textField</code> in the Outlets column of the Connections pane of the File’s Owner Info window, as shown in <span class="content_text"><a href="NonDirectJavaClient.html#//apple_ref/doc/uid/TP30001017-CH304-BABGIECA">Figure 7-21</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001017-CH304-BABGIECA" title="Figure 7-21Connect the new outlet"></a><p><strong>Figure 7-21&nbsp;&nbsp;</strong>Connect the new outlet</p><img src = "../Art/filesownerinfo.gif" alt = "Connect the new outlet" width="337" height="368"></div><br/><p>In the Java class file for the nib file, add a public variable called <code>textField</code>. You now have programmatic access to the value and attributes of that widget. This is useful, for instance, if you want to manipulate or extract the values of a particular widget.</p><a name="//apple_ref/doc/uid/TP30001017-CH304-TPXREF36" title="Cocoa to Swing Translation"></a><h2>Cocoa to Swing Translation</h2><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_672"></a><a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_673"></a><p>In nondirect Java Client applications, you use Interface Builder to construct user interfaces. This application was intended to build Mac OS X Cocoa or Carbon applications. It was not designed to build Swing-based applications, and in fact, it does not build them directly. Rather, technology in Java Client translates Interface Builder Cocoa nib files to Swing for you.</p><p>Cocoa<a name="//apple_ref/doc/uid/TP30001017-CH304-DontLinkElementID_674"></a> offers many user interface widgets, and Java Client supports most of them. Certain widgets are not supported because there is no Swing equivalent. Java Client translates the following user interface elements:</p><ul class="ul"><li class="li"><p><strong>Cocoa widgets:</strong> NSWindow, NSButton, NSTextField, NSTextView, NSTableView, NSTableColumn, NSComboBox, NSPopUpButton, NSMatrix, NSForm, NSBox, NSImageView, NSTabView, NSCustomView; the corresponding cells for these widgets are also translated</p></li><li class="li"><p><strong>Formatters:</strong> NSNumberFormatter, NSTimestampFormatter</p></li><li class="li"><p><strong>Enterprise Objects: </strong>EOEditingContext, EODisplayGroup, EODataSource, EOAssociation</p></li><li class="li"><p><strong>Interface Builder connections:</strong> Outlets, target-action, <code>nextKeyView</code></p></li><li class="li"><p><strong>Style attributes:</strong> Font sizes and some font styles (font styles depend on Swing’s ability to find and load fonts)</p></li></ul><p>Java Client interface translation does not support colors, menus, scroll views (except when in text or table views), NSBrowsers, NSOutlineViews, NSProgressIndicators.</p><p>If you want to use a widget that is not supported by the Java Client interface translation, you can use an NSCustomView object and associate it with a Swing class you write. This is described in <span class="content_text"><a href="../T8CustomViews/T8CustomViews.html#//apple_ref/doc/uid/TP30001017-CH315-TP1">“Using Custom Views in Nib Files.”</a></span></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../AdvancedTutorial/AdvancedTutorial.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../NonnibStaticControllers/NonnibStaticControllers.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-08-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/DesktopApplications/NonDirectJavaClient/NonDirectJavaClient.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/DesktopApplications/NonDirectJavaClient/NonDirectJavaClient.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/DesktopApplications/NonDirectJavaClient/NonDirectJavaClient.html%3Fid%3DTP30001017-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>