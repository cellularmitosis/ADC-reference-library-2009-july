<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note TE535: WorldScript Q&amp;As</title>                                       <meta name="categories" content="Text"><meta name="week-posted" content="Apr 26, 1993 - May 7, 1993"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002843" title="WorldScript Q&As"></a><a name="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxTextFonts-date.html">Text & Fonts</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/TextFonts/index.html" target="_blank">Reference Library > Text & Fonts</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TE535</div>
<div id="pageheadsub">WorldScript Q&amp;As</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->										<p id="menutext"><A HREF="#Section1">WorldScript compatibility advantages and guidelines</A><BR><BR><A HREF="#Section2">Pascal String length byte and two-byte scripts</A><BR><BR><A HREF="#Section3">Inserting one-byte characters in strings with two-byte text</A><BR><BR><A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">This Technical Note contains a collection of archived Q&amp;As relating to a specifictopic - questions sent the Developer Support Center (DSC) along withanswers from the DSC engineers. Current Q&amp;A's can be found on the <A HREF = "../../qa/index.html">Macintosh Technical Q&amp;A's web site</a>.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Sep 01 1993]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR>          <!-- begin_content --><a name=Section1></A><h2>WorldScript compatibility advantages and guidelines</h2><p>What kind of resources are available to incorporate WorldScript capability toour programs?</p>___<P>The first thing to do to support WorldScript is to make sure that your producttakes full advantage of the Script Manager. The most up-to-date andcomprehensive reference for learning about it is <i>Inside Macintosh: Text.</i>Be sure to check the QuickDraw Text and Text Utilities chapters, because muchof the old Script Manager functionality has been moved into those areas. Otherreferences are Guide to Macintosh Software Localization and Localization forJapan. These are all available through APDA. (If compatibility with systemsoftware versions before System 7.1 is important to your application, see theearlier documentation: the Script Manager and Worldwide Software Overviewchapters of <i>Inside Macintosh</i> Volumes V and VI, and <i>MacintoshWorldwide Development: Guide to System Software.)</i> See also the TextServices Manager chapter of <i>Inside Macintosh: Text.</i></p><P>In general, all the rules for being Script Manager-compatible apply, but with afew new twists. WorldScript is still a very young technology and there isn't alot of detailed information yet. Some human interface issues have not maturedto the point of being ready to standardize. This means that you might findyourself breaking new ground as you add WorldScript support to yourapplication.</p><p>The Japanese Language Kit is the first new product to take advantage ofWorldScript. All the non-Roman system software uses WorldScript but doesn'treally take full advantage of the possibilities.</p><p>The main advantage of WorldScript is that it supports multiple scripts in asystem. The old model was that there could be a Roman script plus one otheroptional script, and Roman was always the secondary script, unless it was theonly script. Now, any script can be the primary script, and there can bemultiple secondary scripts. (Roman is still required to be available.) Thismakes it possible to have Japanese (and in the future, other scripts) installedas secondary scripts in any system.</p><p>Because many of the Macintosh Toolbox and operating system routines don't passscript or font information with text, it's difficult to display multiscripttext properly. Menus, dialogs, window titles, and filenames are problem areas.A short-term solution is the Language Kit Extension, which was introduced inthe Japanese Language Kit. It dynamically changes the system fonts according tothe region code in each application's <code>'vers'</code> resource. This allows localizedapplications to display menus, dialogs, window titles, and filenames correctly.Multiple applications running concurrently can have independent system fonts.</p><p>The Language Kit Extension also extends the Views control panel to control thecurrent script and font for the entire file system. This allows the user todisplay, create, and edit filenames for any script installed. Note that thissolution supports only one script at a time, and fundamental changes will haveto made to the Toolbox to support more than one script concurrently.</p><p>A technical overview of potential internationalization problem areas is givenin the <A HREF = "../ov/ov_20.html">"Internationalization Checklist"</a> on this issue's CD.Internationalization tips are also provided in "Writing LocalizableApplications" in Issue 14 of <i>develop.</i> Here are some areas requiringspecial attention:</p><ul type="disc">	<li>Font names should be displayed in menus in their appropriate script and font.</li>	<li>The system (primary) script may not be the same as the application script.</li>	<li>Script system resources (date/time/currency) should be referenced explicitly.</li>	<li>Text should be tagged with script and font information so that it can be displayed in its appropriate script and font.</li></ul><p>Styled text and QuickDraw GX are multiscript-capable and should be used as muchas possible. Unstyled text documents limit text to one script (character set),which is undesirable.</p><p>Ideally, the localized version of a product should be independent of thescripts and languages it supports. With Macintosh multiscript support andtoday's cultural diversity within nations, users want "foreignlanguage-capable" applications that let them mix writing systems and usefamiliar regional formatting conventions.</p><p>Here are a few tests to see how well you're doing:</p><ul type="disc">	<li>Does the base version of your application work on all localized versions of system software (such as KanjiTalk, Arabic, German)?</li>	<li>Install the Japanese Language Kit and see whether your application supports multiscript text. Try using the two-byte Japanese script with a relatively simple script such as German, and then with a bidirectional script such as Arabic.</li></ul><P><A HREF="#top">Back to top</A></p><a name="Section2"></a><h2>Pascal String length byte and two-byte scripts</h2><P>Date Written:  11/16/92</P><P>Last reviewed:  3/1/93</P><P>How long can a Macintosh filename be on an international system? Our programcurrently assumes a maximum file length of 31. What does the length byte of aPascal string signify on an international system--the actual length in bytes ofthe string, the logical length (the number of international characters), orneither?</p>___<P>The Macintosh file systems--the flat (MFS) and the hierarchical (HFS)--have(reasonable) limitations on the length of filenames. The limits on the lengthsrefer to the number of bytes required for the strings. Usually, filenames arerepresented as Pascal strings. The first byte of a Pascal string indicates thenumber of bytes occupied by the string. In the worst case in a two-byte script,only 15 two-byte characters fit into a Str31. Compared to one-byte scripts,this isn't so bad, however: two-byte characters tend to carry much more meaningthan two of our familiar one-byte characters!</p><P><A HREF="#top">Back to top</A></p><a name="Section3"></a><h2>Inserting one-byte characters in strings with two-byte text</h2><P>Date Written:  11/16/92</P><P>Last reviewed:  3/1/93</P><P>In the two-byte script version of our application, we need to insert certaincharacters such as "-" and "%" into some of our strings. How can we do this,since these are obviously only one character long in C?</p>___<P>All 7-bit ASCII characters (codes less than 127) are maintained as such in alltwo-byte scripts. If your routines just concatenate existing (localized)strings and characters, you don't have to worry about anything. Otherwise,you'll need to call CharByte <i>(Inside Macintosh</i> Volume V, page 306, andVolume VI, pages 14-45, 14-114, and 14-124) while walking the bytes in thestring.</p><p>In the Macintosh Technical Note <A HREF = "te_21.html">"Fond of FONDs,"</a> the part about OutlineMetricswas updated recently to be "two-byte aware." The code fragment there shouldhelp you with strings containing text for two-byte scripts.</p>         <a name="Downloads"></a>       <P><A HREF="#top">Back to top</A></p><h2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (44K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/te_535.pdf">Download</A></P>               </TD>            </TR>                    </TABLE>         <BR></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/te/te_535.html%3Fid%3DDTS10002843-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/te/te_535.html%3Fid%3DDTS10002843-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/te/te_535.html%3Fid%3DDTS10002843-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>