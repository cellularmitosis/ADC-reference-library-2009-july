<html><head><title>Mac OS X Developer Tools
 Manual Page For sigvec(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/sigvec" title="Mac OS X Developer Tools
 Manual Page for sigvec(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/sigvec"; name=sigvec(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SIGVEC(2)                   BSD System Calls Manual                  SIGVEC(2)

<b>NAME</b>
     <b>sigvec</b> -- software signal facilities

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;signal.h&gt;</b>

     struct sigvec {
             void     (*sv_handler)();
             int      sv_mask;
             int      sv_flags;
     };

     <u>int</u>
     <b>sigvec</b>(<u>int</u> <u>sig</u>, <u>struct</u> <u>sigvec</u> <u>*vec</u>, <u>struct</u> <u>sigvec</u> <u>*ovec</u>);

<b>DESCRIPTION</b>
     <b>This</b> <b>interface</b> <b>is</b> <b>made</b> <b>obsolete</b> <b>by</b> <a href="sigaction.2.html#//apple_ref/doc/man/2/sigaction">sigaction(<b>2</b>)</a><b>.</b>

     The system defines a set of signals that may be delivered to a process.  Signal delivery resembles the
     occurrence of a hardware interrupt: the signal is blocked from further occurrence, the current process
     context is saved, and a new one is built.  A process may specify a <u>handler</u> to which a signal is deliv-<font color="#ffffff" class="whiteout">ered,&nbsp;delivered,</font>
     ered, or specify that a signal is to be <u>blocked</u> or <u>ignored</u>.  A process may also specify that a default
     action is to be taken by the system when a signal occurs.  Normally, signal handlers execute on the
     current stack of the process.  This may be changed, on a per-handler basis, so that signals are taken
     on a special <u>signal</u> <u>stack</u>.

     All signals have the same <u>priority</u>.  Signal routines execute with the signal that caused their invoca-<font color="#ffffff" class="whiteout">tion&nbsp;invocation</font>
     tion <u>blocked</u>, but other signals may yet occur.  A global <u>signal</u> <u>mask</u> defines the set of signals cur-<font color="#ffffff" class="whiteout">rently&nbsp;currently</font>
     rently blocked from delivery to a process.  The signal mask for a process is initialized from that of
     its parent (normally 0).  It may be changed with a <a href="sigblock.2.html#//apple_ref/doc/man/2/sigblock">sigblock(2)</a> or <a href="sigsetmask.2.html#//apple_ref/doc/man/2/sigsetmask">sigsetmask(2)</a> call, or when a signal
     is delivered to the process.

     When a signal condition arises for a process, the signal is added to a set of signals pending for the
     process.  If the signal is not currently <u>blocked</u> by the process then it is delivered to the process.
     When a signal is delivered, the current state of the process is saved, a new signal mask is calculated
     (as described below), and the signal handler is invoked.  The call to the handler is arranged so that
     if the signal handling routine returns normally the process will resume execution in the context from
     before the signal's delivery.  If the process wishes to resume in a different context, then it must
     arrange to restore the previous context itself.

     When a signal is delivered to a process a new signal mask is installed for the duration of the process'
     signal handler (or until a <a href="sigblock.2.html#//apple_ref/doc/man/2/sigblock">sigblock(2)</a> or <a href="sigsetmask.2.html#//apple_ref/doc/man/2/sigsetmask">sigsetmask(2)</a> call is made).  This mask is formed by taking
     the current signal mask, adding the signal to be delivered, and <u>or</u>'ing in the signal mask associated
     with the handler to be invoked.

     <b>Sigvec</b>() assigns a handler for a specific signal.  If <u>vec</u> is non-zero, it specifies a handler routine
     and mask to be used when delivering the specified signal.  Further, if the SV_ONSTACK bit is set in
     <u>sv</u><b>_</b><u>flags</u>, the system will deliver the signal to the process on a <u>signal</u> <u>stack</u>, specified with
     <a href="sigaltstack.2.html#//apple_ref/doc/man/2/sigaltstack">sigaltstack(2)</a>.  If <u>ovec</u> is non-zero, the previous handling information for the signal is returned to
     the user.

     The following is a list of all signals with names as in the include file &lt;<u>signal.h&gt;</u>:

     <b>NAME</b>            <b>Default</b> <b>Action</b>          <b>Description</b>
     SIGHUP          terminate process       terminal line hangup
     SIGINT          terminate process       interrupt program
     SIGQUIT         create core image       quit program
     SIGILL          create core image       illegal instruction
     SIGTRAP         create core image       trace trap
     SIGABRT         create core image       <a href="../man3/abort.3.html#//apple_ref/doc/man/3/abort">abort(3)</a> call (formerly SIGIOT)
     SIGEMT          create core image       emulate instruction executed
     SIGFPE          create core image       floating-point exception
     SIGKILL         terminate process       kill program
     SIGBUS          create core image       bus error
     SIGSEGV         create core image       segmentation violation
     SIGSYS          create core image       non-existent system call invoked
     SIGPIPE         terminate process       write on a pipe with no reader
     SIGALRM         terminate process       real-time timer expired
     SIGTERM         terminate process       software termination signal
     SIGURG          discard signal          urgent condition present on socket
     SIGSTOP         stop process            stop (cannot be caught or ignored)
     SIGTSTP         stop process            stop signal generated from keyboard
     SIGCONT         discard signal          continue after stop
     SIGCHLD         discard signal          child status has changed
     SIGTTIN         stop process            background read attempted from control terminal
     SIGTTOU         stop process            background write attempted to control terminal
     SIGIO           discard signal          I/O is possible on a descriptor (see <a href="fcntl.2.html#//apple_ref/doc/man/2/fcntl">fcntl(2)</a>)
     SIGXCPU         terminate process       cpu time limit exceeded (see <a href="setrlimit.2.html#//apple_ref/doc/man/2/setrlimit">setrlimit(2)</a>)
     SIGXFSZ         terminate process       file size limit exceeded (see <a href="setrlimit.2.html#//apple_ref/doc/man/2/setrlimit">setrlimit(2)</a>)
     SIGVTALRM       terminate process       virtual time alarm (see <a href="setitimer.2.html#//apple_ref/doc/man/2/setitimer">setitimer(2)</a>)
     SIGPROF         terminate process       profiling timer alarm (see <a href="setitimer.2.html#//apple_ref/doc/man/2/setitimer">setitimer(2)</a>)
     SIGWINCH        discard signal          Window size change
     SIGINFO         discard signal          status request from keyboard
     SIGUSR1         terminate process       User defined signal 1
     SIGUSR2         terminate process       User defined signal 2

     Once a signal handler is installed, it remains installed until another <b>sigvec</b>() call is made, or an
     <a href="execve.2.html#//apple_ref/doc/man/2/execve">execve(2)</a> is performed.  A signal-specific default action may be reset by setting <u>sv</u><b>_</b><u>handler</u> to
     SIG_DFL.  The defaults are process termination, possibly with core dump; no action; stopping the
     process; or continuing the process.  See the above signal list for each signal's default action.  If
     <u>sv</u><b>_</b><u>handler</u> is SIG_IGN current and pending instances of the signal are ignored and discarded.

     If a signal is caught during the system calls listed below, the call is normally restarted.  The call
     can be forced to terminate prematurely with an EINTR error return by setting the SV_INTERRUPT bit in
     <u>sv</u><b>_</b><u>flags</u>.  The affected system calls include <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a>, <a href="write.2.html#//apple_ref/doc/man/2/write">write(2)</a>, <a href="sendto.2.html#//apple_ref/doc/man/2/sendto">sendto(2)</a>, <a href="recvfrom.2.html#//apple_ref/doc/man/2/recvfrom">recvfrom(2)</a>, <a href="sendmsg.2.html#//apple_ref/doc/man/2/sendmsg">sendmsg(2)</a> and
     <a href="recvmsg.2.html#//apple_ref/doc/man/2/recvmsg">recvmsg(2)</a> on a communications channel or a slow device (such as a terminal, but not a regular file)
     and during a <a href="wait.2.html#//apple_ref/doc/man/2/wait">wait(2)</a> or <a href="ioctl.2.html#//apple_ref/doc/man/2/ioctl">ioctl(2)</a>.  However, calls that have already committed are not restarted, but
     instead return a partial success (for example, a short read count).

     After a <a href="fork.2.html#//apple_ref/doc/man/2/fork">fork(2)</a> or <a href="vfork.2.html#//apple_ref/doc/man/2/vfork">vfork(2)</a> all signals, the signal mask, the signal stack, and the restart/interrupt
     flags are inherited by the child.

     <!-- a -->Execve(2)<!-- /a --> reinstates the default action for all signals which were caught and resets all signals to be
     caught on the user stack.  Ignored signals remain ignored; the signal mask remains the same; signals
     that interrupt system calls continue to do so.

<b>NOTES</b>
     The mask specified in <u>vec</u> is not allowed to block SIGKILL or SIGSTOP.  This is done silently by the
     system.

     The SV_INTERRUPT flag is not available in 4.2BSD, hence it should not be used if backward compatibility
     is needed.

<b>RETURN</b> <b>VALUES</b>
     The <b>sigvec</b>() function returns the value 0 if successful; otherwise the value -1 is returned and the
     global variable <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     <b>Sigvec</b>() will fail and no new signal handler will be installed if one of the following occurs:

     [EFAULT]           Either <u>vec</u> or <u>ovec</u> points to memory that is not a valid part of the process address
                        space.

     [EINVAL]           <u>Sig</u> is not a valid signal number.

     [EINVAL]           An attempt is made to ignore or supply a handler for SIGKILL or SIGSTOP.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/kill.1.html#//apple_ref/doc/man/1/kill">kill(1)</a>, <a href="kill.2.html#//apple_ref/doc/man/2/kill">kill(2)</a>, <a href="ptrace.2.html#//apple_ref/doc/man/2/ptrace">ptrace(2)</a>, <a href="sigaction.2.html#//apple_ref/doc/man/2/sigaction">sigaction(2)</a>, <a href="sigaltstack.2.html#//apple_ref/doc/man/2/sigaltstack">sigaltstack(2)</a>, <a href="sigblock.2.html#//apple_ref/doc/man/2/sigblock">sigblock(2)</a>, <a href="sigpause.2.html#//apple_ref/doc/man/2/sigpause">sigpause(2)</a>, <a href="sigprocmask.2.html#//apple_ref/doc/man/2/sigprocmask">sigprocmask(2)</a>,
     <a href="sigsetmask.2.html#//apple_ref/doc/man/2/sigsetmask">sigsetmask(2)</a>, <a href="sigsuspend.2.html#//apple_ref/doc/man/2/sigsuspend">sigsuspend(2)</a>, <a href="../man3/setjmp.3.html#//apple_ref/doc/man/3/setjmp">setjmp(3)</a>, <a href="../man3/siginterrupt.3.html#//apple_ref/doc/man/3/siginterrupt">siginterrupt(3)</a>, <a href="../man3/signal.3.html#//apple_ref/doc/man/3/signal">signal(3)</a>, <a href="../man3/sigsetops.3.html#//apple_ref/doc/man/3/sigsetops">sigsetops(3)</a>, <a href="../man4/tty.4.html#//apple_ref/doc/man/4/tty">tty(4)</a>

<b>EXAMPLES</b>
     On the VAX-11 The handler routine can be declared:

           void handler(sig, code, scp)
           int sig, code;
           struct sigcontext *scp;

     Here <u>sig</u> is the signal number, into which the hardware faults and traps are mapped as defined below.
     <u>Code</u> is a parameter that is either a constant as given below or, for compatibility mode faults, the
     code provided by the hardware (Compatibility mode faults are distinguished from the other SIGILL traps
     by having PSL_CM set in the psl).  <u>Scp</u> is a pointer to the <u>sigcontext</u> structure (defined in
     &lt;<u>signal.h&gt;</u>), used to restore the context from before the signal.

<b>BUGS</b>
     This manual page is still confusing.

BSD                             April 19, 1994                             BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/sigvec.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/sigvec.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/sigvec.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
