<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>Uni-NBridge and Memory Controller</title>		</HEAD><!-- start of header --><!--#include virtual="/includes/framesetheader"--><!-- end of header --><!-- start of path --><TABLE border="0" cellpadding="0" cellspacing="2" width="432">          <TR>        <TD><FONT face="Geneva,Helvetica,Arial" size="1">        <B>PATH<IMG src="../Images/space.gif" width="6" height="12"></B><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->         <b>&gt;</b> Power Mac G4 Developer Note                </FONT></TD>        </TR></TABLE><!-- end of path --><a href="Processor_Module.html" target="_right"><img src="../Images/previous.gif" border="0"></a><a href="KeyLargo_I_O_Controller.html" target="_right"><img src="../Images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF107"></a><h2><font face="Lucida Grande,Helvetica,Arial">Uni-NBridge and Memory Controller</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Geneva,Helvetica,Arial" size="2">The Uni-N custom IC is at the heart of the Power Mac G4 computer.It provides the bridging functionality between the processor, thememory system, the PCI-based I/O system, the AGP graphics slot,and the FireWire and Ethernet interfaces. </font></p><br><a name = "TPXREF108"></a><h3><font face="Lucida Grande,Helvetica,Arial">ProcessorBus</font></h3><p><font face="Geneva,Helvetica,Arial" size="2">The processor bus is a 133-MHz, 64-bit bus connecting theprocessor module to the Uni-N IC. In addition to the increased busclock speed, the bus uses MaxBus protocols, supported by the Uni-NIC, for improved performance. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">The MaxBus protocol includes enhancements that improve busefficiency and throughput over the 60x bus. The enhancements include </font></p><ul><li><font face="Geneva,Helvetica,Arial" size="2">out of ordercompletion </font></li><li><font face="Geneva,Helvetica,Arial" size="2">address bus streaming</font></li><li><font face="Geneva,Helvetica,Arial" size="2">intervention</font></li></ul><p><font face="Geneva,Helvetica,Arial" size="2">Out of order completion allows the memory controller to optimizethe data bus efficiency by transferring whichever data is ready,rather than having to pass data across the bus in the order thetransactions were posted on the bus. This means that a fast DRAMread can pass a slow PCI read, potentially enabling the processorto do more before it has to wait on the PCI data. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">Address bus streaming allows a single master on the bus toissue multiple address transactions back-to-back. This means thata single master can post addresses at the rate of one every twoclocks, as opposed to one every three clocks, as it is in the 60xbus protocol.</font></p><p><font face="Geneva,Helvetica,Arial" size="2">Intervention is a cache coherency optimization that improvesperformance for dual processor systems. If one processor modifiessome data, that data first gets stored only in that processor'scache. If the other processor then wants that data, it needs toget the new modified values. In previous systems, the first processormust write the modified data to memory and then the second processorcan read the correct values from memory. With intervention, thefirst processor sends the data directly to the second processor,reducing latency by a factor of ten or more. </font></p><br><a name = "TPXREF109"></a><h3><font face="Lucida Grande,Helvetica,Arial">MainMemory Bus</font></h3><p><font face="Geneva,Helvetica,Arial" size="2">The main memory bus is a 133-MHz, 64-bit bus connecting themain memory to the Uni-N IC. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">Main memory is provided by up to three PC133 DIMMs. SupportedDIMM sizes are 128, 256, and 512 MB. The memory slots will acceptthree 512-MB DIMMs for a maximum memory size of 1.5 GB. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">For more information about memory DIMMs, see  <a sector="mod" href="../4Expansion/iRAM_Expansion.html" target="_top">"RAM Expansion"</a>. </font></p><br><a name = "TPXREF110"></a><h3><font face="Lucida Grande,Helvetica,Arial">AcceleratedGraphics Port Bus</font></h3><p><font face="Geneva,Helvetica,Arial" size="2">The accelerated graphics port (AGP) bus is a 66-MHz, 32-bitbus connecting the AGP graphics card to the Uni-N IC. The AGP busprovides faster access to main memory than previous designs usingthe PCI bus. In addition, the bus is an AGP-4x bus with twice the performanceof the AGP-2x bus. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">The AGP bus is a superset of the PCI bus, with the additionof separate address lines so it does not multiplex address and datawhen running in AGP mode. Having a separate address bus allows theAGP bus to pipeline addresses, thereby improving performance. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">To further improve the performance of the AGP bus, the Uni-NIC supports a graphics address remapping table (GART). Because thevirtual memory system organizes main memory as randomly distributed4 KB pages, DMA transactions for more than 4 KB of data must performscatter-gather operations. To avoid this necessity for AGP transactions, theGART is used by the AGP bridge in the Uni-N to translate a linearaddress space for AGP transactions into physical addresses in mainmemory. </font></p><br><a name = "TPXREF111"></a><h3><font face="Lucida Grande,Helvetica,Arial">PCIBus</font></h3><p><font face="Geneva,Helvetica,Arial" size="2">The PCI bus connects the Uni-N IC to the boot ROM, the KeyLargoI/O controller, and the PCI slots. The PCI bus is a 33-MHz, 64-bitbus for the highest possible PCI card performance. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">The Uni-N 1.5 IC used in the Power Mac G4 computer supportsa new PCI feature called Write Combining. This feature allows sequentialwrite transactions involving the Memory Write or Memory Write andInvalidate commands to be combined into a single PCI transaction.The memory write transactions being combined must be to sequential, ascending,and non-overlapping PCI addresses. Placing an eieio or sync command betweenthe write commands will prevent any write combining. </font></p><br><a name = "TPXREF112"></a><h3><font face="Lucida Grande,Helvetica,Arial">BootROM</font></h3><p><font face="Geneva,Helvetica,Arial" size="2">The boot ROM consists of 1 MB of on-board flash EPROM. Theboot ROM includes the hardware-specific code and tables needed tostart up the computer, to load an operating system, and to providecommon hardware access services. </font></p><br><a name = "TPXREF113"></a><h3><font face="Lucida Grande,Helvetica,Arial">EthernetController </font></h3><p><font face="Geneva,Helvetica,Arial" size="2">The Uni-N IC includes an Ethernet media access controller(MAC). As a separate I/O channel on the Uni-N IC, it can operateat its full capacity without degrading the performance of otherperipheral devices. The Uni-N IC provides DB-DMA support for the Ethernetinterface.</font></p><p><font face="Geneva,Helvetica,Arial" size="2">The MAC implements the link layer. It is connected to a PHYinterface IC that provides 10-BaseT, 100-BaseT, or 1000-BaseT operationover a standard twisted-pair interface. The operating speed of thelink is automatically negotiated by the PHY and the bridge or router towhich the Ethernet port is connected. For information about theport, see  <a sector="mod" href="../3Input-Output/iEthernet_Port_.html" target="_top">"Ethernet Port"</a>. </font></p><br><a name = "TPXREF114"></a><h3><font face="Lucida Grande,Helvetica,Arial">FireWireController</font></h3><p><font face="Geneva,Helvetica,Arial" size="2">The Uni-N IC includes an IEEE 1394 FireWire controller thatimplements the FireWire link layer. The controller supports a maximumdata rate of 400 Mbits (50 MBytes) per second. </font></p><p><font face="Geneva,Helvetica,Arial" size="2">A physical layer (PHY) IC connected to the Uni-N IC implementsthe electrical signaling protocol of the FireWire interface. ThePHY supports two FireWire ports by way of the external connectorson the rear panel.</font></p><p><font face="Geneva,Helvetica,Arial" size="2">The PHY is powered as long as the computer is connected toAC power. While the PHY is operating, it acts as a repeater fromone port to another so that the FireWire bus remains connected.For more information, see  <a sector="mod" href="../3Input-Output/iFireWire_Ports.html" target="_top">"FireWire Ports"</a>. </font></p><br>    <br><a href="Processor_Module.html" target="_right"><img src="../Images/previous.gif" border="0"></a><a href="KeyLargo_I_O_Controller.html" target="_right"><img src="../Images/next.gif" border="0"></a>&nbsp;<HR>Copyright &#169; 2001 Apple Computer, Inc.  (Last Updated July 18, 2001)<P><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>