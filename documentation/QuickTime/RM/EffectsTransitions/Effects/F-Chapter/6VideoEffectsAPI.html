<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Video Effects and Transitions Guide: Video Effects API</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Video Effects API"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI" title="Video Effects API"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../VideoEffectsTransitions-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000588" target="_top">Video Effects &amp; Transitions</a> &gt; <a href="../A-Intro/1Introduction.html#//apple_ref/doc/uid/TP40000868-IntroductiontoQuickTimeVideoEffectsandTransitionsGuide-DontLinkElementID_130">QuickTime Video Effects and Transitions Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../E-Chapter/5CreatingNewVideoEff.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Z-RevHistory/revisionhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-SW1" title="Video Effects API"></a>
<h1>Video Effects API</h1>



<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_116">Introduction</a>
				
			<br/>
			
        
			
			
				<a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_117">Constants</a>
				
			<br/>
			
        
			
			
				<a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_124">Data Types</a>
				
			<br/>
			
        
			
			
				<a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_129">Functions</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_116" title="Introduction"></a><h2>Introduction</h2>
<p>This chapter describes the constants, data types, and functions defined in QuickTime that support video effects.</p>
<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_117" title="Constants"></a>
<h2><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-Constants" title="Constants"></a>Constants</h2>
<p>This section describes the constants defined in QuickTime to support video effects.</p>
<ul class="ul">
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectsListAtomNames">Effects List Atom Names</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectActionSelectors">Effect Action Selectors</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-GetOptionsforQTGetEffectsList">Get Options for QTGetEffectsList</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-StandardParameterDialogBoxOptions">Standard Parameter Dialog Box Options</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-ImageCodecValidateParametersOptions">ImageCodecValidateParameters Options</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectSpeedFlag">Effect Speed Flag</a></span></p></li>
</ul>
<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_118" title="Effects List Atom Names"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectsListAtomNames" title="Effects List Atom Names"></a>Effects List Atom Names</h3>
<p>These constants specify the four character codes for the two atom types in the atom container returned by calls to <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTGetEffectsList" target="_top">QTGetEffectsList</a></code>.</p>

<div class="codesample"><table><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>    kEffectNameAtom = FOUR_CHAR_CODE('name'),<span></span></pre></td></tr><tr><td scope="row"><pre>    kEffectTypeAtom = FOUR_CHAR_CODE('type')<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>kEffectNameAtom</code></p></td>
<td ><p>The code for the atom containing the name of an entry in the effects list.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>kEffectTypeAtom</code></p></td>
<td ><p>The code for the atom containing the type of an entry in the effects list.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_119" title="Effect Action Selectors"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectActionSelectors" title="Effect Action Selectors"></a>Effect Action Selectors</h3>
<p>These constants specify the action selectors you can pass to the functions <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTStandardParameterDialogDoAction" target="_top">QTStandardParameterDialogDoAction</a></code> and <code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecStandardParameterDialogDoAction" target="_top">ImageCodecStandardParameterDialogDoAction</a></code>.</p>

<div class="codesample"><table><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionConfirmDialog,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionSetAppleMenu,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionSetEditMenu,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionGetDialogValues,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionSetPreviewUserItem,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionSetPreviewPicture,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionSetColorPickerEventProc,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionSetDialogTitle<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionGetSubPanelMenu,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionActivateSubPanel,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdActionConductStopAlert<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>pdActionConfirmDialog</code></p></td>
<td ><p>Retrieves the current parameter values from the standard parameters dialog box. The parameter values are placed in the <code>parameters</code> parameter that was passed to the function that created the dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionSetAppleMenu</code></p></td>
<td ><p>Passes the menu handle for the current Apple menu to the standard parameters dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionSetEditMenu</code></p></td>
<td ><p>Passes the menu handle for your application's Edit menu to the standard parameters dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionGetDialogValues</code></p></td>
<td ><p>Retrieves the current parameter values from the standard parameters dialog box. This parameter values are placed in the <code>params</code> parameter of the <code>QTStandardParameterDialogDoAction</code> or <code>ImageCodecStandardParameterDialogDoAction</code> function.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionSetPreviewUserItem</code></p></td>
<td ><p>Passes the number of the user item resource that should be replaced by the effect preview movie clip.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionSetPreviewPicture</code></p></td>
<td ><p>Sets the images that are used in the preview window of the standard parameters dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionSetColorPickerEventProc</code></p></td>
<td ><p>Sets the function that will be used when the standard parameters dialog box needs to display a color picker control.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionSetDialogTitle</code></p></td>
<td ><p>Sets the title of the standard parameters dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionGetSubPanelMenu</code></p></td>
<td ><p>Returns a <code>menuHandle</code> containing the pop-up menu used to switch between multiple parameter panels. You can parse this data structure to derive a list of the panels that are being used by the standard parameters dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionActivateSubPanel</code></p></td>
<td ><p>Sets the currently active panel of the standard parameter dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdActionConductStopAlert</code></p></td>
<td ><p>Displays a Stop Alert containing a message.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_120" title="Get Options for QTGetEffectsList"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-GetOptionsforQTGetEffectsList" title="Get Options for QTGetEffectsList"></a>Get Options for QTGetEffectsList</h3>
<p>These constants define the flags that can be passed in the <code>getOptions</code> parameter of the <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTGetEffectsList" target="_top">QTGetEffectsList</a></code> function.</p>

<div class="codesample"><table><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>    elOptionsIncludeNoneInList<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>elOptionsIncludeNoneInList</code></p></td>
<td ><p>Includes the "none" effect in the list of effects returned by <code>QTGetEffectsList</code>.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_121" title="Standard Parameter Dialog Box Options"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-StandardParameterDialogBoxOptions" title="Standard Parameter Dialog Box Options"></a>Standard Parameter Dialog Box Options</h3>
<p>These constants are used to control how parameter values are entered into a standard parameters dialog box that is generated when you call the function <code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecCreateStandardParameterDialog" target="_top">ImageCodecCreateStandardParameterDialog</a></code>.</p>

<div class="codesample"><table><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>    pdOptionsCollectOneValue,<span></span></pre></td></tr><tr><td scope="row"><pre>    pdOptionsAllowOptionalInterpolations<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

<p>Parameters that are flagged as <code>kAtomInterpolateIsOptional</code> in their parameter description can contain single values or tweens. These constants are used to specify that the dialog box should allow entry of either a single value or a pair of values for such parameters.</p>
<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>pdOptionsCollectOneValue</code></p></td>
<td ><p>This value indicates that only one value should be entered for parameters that can optionally be tweened.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>pdOptionsAllowOptionalInterpolations</code></p></td>
<td ><p>This value indicates that optionally-tweened parameters should be displayed with a user interface that allows the entry of tweened values.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_122" title="ImageCodecValidateParameters Options"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-ImageCodecValidateParametersOptions" title="ImageCodecValidateParameters Options"></a>ImageCodecValidateParameters Options</h3>
<p>These are the values that can be passed in the <code>validationFlags</code> parameter of a call to <code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecValidateParameters" target="_top">ImageCodecValidateParameters</a></code>.</p>

<div class="codesample"><table><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>    kParameterValidationNoFlags,<span></span></pre></td></tr><tr><td scope="row"><pre>    kParameterValidationFinalValidation<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>kParameterValidationNoFlags</code></p></td>
<td ><p>This value indicates that a standard validation should take place. <code>ImageCodecValidateParameters</code> is being called because the user has changed the value of a parameter in the standard parameters dialog box.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>kParameterValidationFinalValidation</code></p></td>
<td ><p>This value indicates that this validation is the final validation before the standard parameters dialog box is dismissed. This is useful if you want to perform a single validation of the parameters just after the user clicks the OK button to dismiss the dialog box.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_123" title="Effect Speed Flag"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectSpeedFlag" title="Effect Speed Flag"></a>Effect Speed Flag</h3>
<p>This is the value that an effect should return when <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTGetEffectSpeed" target="_top">QTGetEffectSpeed</a></code> is called and the component can run the effect in real time.</p>

<div class="codesample"><table><tr><td scope="row"><pre>enum {<span></span></pre></td></tr><tr><td scope="row"><pre>    effectIsRealtime<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>effectIsRealtime</code></p></td>
<td ><p>The effect can process frames in real time.</p></td>
</tr>

</table></div>


<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_124" title="Data Types"></a>
<h2><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DataTypes" title="Data Types"></a>Data Types</h2>
<p>This section describes the data types that are relevant to calling and creating effects.</p>
<p>The section describes the data types defined in QuickTime to support video effects.</p>
<ul class="ul">
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-ParameterDialogBoxPreviewImageSpecifier">Parameter Dialog Box Preview Image Specifier</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectSourceDescriptors">Effect Source Descriptors</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectFrameDescription">Effect Frame Description</a></span></p></li>
<li class="li"><p><span class="content_text"><a href="6VideoEffectsAPI.html#//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-TheDecompressionParametersStructure">The Decompression Parameters Structure</a></span></p></li>
</ul>
<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_125" title="Parameter Dialog Box Preview Image Specifier"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-ParameterDialogBoxPreviewImageSpecifier" title="Parameter Dialog Box Preview Image Specifier"></a>Parameter Dialog Box Preview Image Specifier</h3>
<p>This data structure contains a picture that will be used as one of the preview images in the preview window of the standard parameters dialog box. The preview window shows previews of the effects the user chooses in the dialog box. QuickTime provides a default images, but you can replace one or more of these by calling <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTStandardParameterDialogDoAction" target="_top">QTStandardParameterDialogDoAction</a></code> (or its low-level equivalent, <code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecStandardParameterDialogDoAction" target="_top">ImageCodecStandardParameterDialogDoAction</a></code> ) with a <code>pdActionSetPreviewPicture</code> action selector.</p>
<p>The <code>sourceID</code> numbers correspond to the sources an effect uses. For example, an effect that uses one source will use the preview image with <code>sourceID</code> set to 1, while a two source effect will use preview pictures 1 and 2.</p>

<div class="codesample"><table><tr><td scope="row"><pre>struct QTParamPreviewRecord {<span></span></pre></td></tr><tr><td scope="row"><pre>    long        sourceID;<span></span></pre></td></tr><tr><td scope="row"><pre>    PicHandle   sourcePicture;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct QTParamPreviewRecord QTParamPreviewRecord;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef QTParamPreviewRecord *QTParamPreviewPtr;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>sourceID</code></p></td>
<td ><p>The number of the preview image.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>sourcePicture</code></p></td>
<td ><p>The preview image itself.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_126" title="Effect Source Descriptors"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectSourceDescriptors" title="Effect Source Descriptors"></a>Effect Source Descriptors</h3>
<p>These data structures describe the sources to an effect. The <code>SourceData</code> data structure contains a pointer to raw image compression manager image data, if the effect is being executed outside of a QuickTime movie, or to an effect that acts as the source, if the effect is being executed as part of an effect track in a QuickTime movie. The <code>EffectSourcePtr</code> data structure holds information about the type of source, as well as pointers to the track data of the effect and to the next source in the input chain.</p>

<div class="codesample"><table><tr><td scope="row"><pre>typedef struct EffectSource     EffectSource;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef EffectSource            *EffectSourcePtr;<span></span></pre></td></tr></table></div>


<div class="codesample"><table><tr><td scope="row"><pre>union SourceData {<span></span></pre></td></tr><tr><td scope="row"><pre>    CDSequenceDataSourcePtr image;<span></span></pre></td></tr><tr><td scope="row"><pre>    EffectSourcePtr     effect;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre>typedef union SourceData SourceData;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>image</code></p></td>
<td ><p>A pointer to the raw source image data.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>effect</code></p></td>
<td ><p>A pointer to the effect.</p></td>
</tr>

</table></div>

<div class="codesample"><table><tr><td scope="row"><pre>struct EffectSource {<span></span></pre></td></tr><tr><td scope="row"><pre>    long                effectType;<span></span></pre></td></tr><tr><td scope="row"><pre>    Ptr                 data;<span></span></pre></td></tr><tr><td scope="row"><pre>    SourceData          source;<span></span></pre></td></tr><tr><td scope="row"><pre>    EffectSourcePtr     next;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>effectType</code></p></td>
<td ><p>The type of the effect or the constant <code>kEffectRawSource</code> if the source is raw image compression manager data.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>data</code></p></td>
<td ><p>A pointer to the track data for the effect.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>source</code></p></td>
<td ><p>The source itself.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>next</code></p></td>
<td ><p>A pointer to the next source in the input chain.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_127" title="Effect Frame Description"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-EffectFrameDescription" title="Effect Frame Description"></a>Effect Frame Description</h3>
<p>This data structure contains the parameters of a single frame of an effect. It is passed to the <code>MyEffectBegin</code> and <code>MyEffectRenderFrame</code> functions to describe the frame to be rendered.</p>

<div class="codesample"><table><tr><td scope="row"><pre>struct EffectsFrameParams {<span></span></pre></td></tr><tr><td scope="row"><pre>    ICMFrameTimeRecord  frameTime;<span></span></pre></td></tr><tr><td scope="row"><pre>    long                effectDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>    Boolean             doAsync;<span></span></pre></td></tr><tr><td scope="row"><pre>    unsigned char       pad[3];<span></span></pre></td></tr><tr><td scope="row"><pre>    EffectSourcePtr     source;<span></span></pre></td></tr><tr><td scope="row"><pre>    void *              refCon;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct EffectsFrameParams EffectsFrameParams;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef EffectsFrameParams *EffectsFrameParamsPtr;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p>frameTime</p></td>
<td ><p>Timing data for the current frame. This record includes information such as the total number of frames being rendered in this sequence, and the current frame number.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>effectDuration</code></p></td>
<td ><p>The duration of a single effect frame.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>doAsync</code></p></td>
<td ><p>This field contains <code>true</code> if the effect can process asynchronously.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>source</code></p></td>
<td ><p>A pointer to the input sources.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>refCon</code></p></td>
<td ><p>A pointer to storage for this instantiation of the effect.</p></td>
</tr>

</table></div>

<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_128" title="The Decompression Parameters Structure"></a>
<h3><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-TheDecompressionParametersStructure" title="The Decompression Parameters Structure"></a>The Decompression Parameters Structure</h3>
<p>Several fields of the decompression parameters structure (<code>CodecDecompressParams</code> ) are relevant to effects, and in particular are used when you are writing your own effect component. This section describes only those fields of this data structure that apply to effects.</p>

<div class="codesample"><table><tr><td scope="row"><pre>struct CodecDecompressParams {<span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    CodecCapabilities           *capabilities;<span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    ICMFrameTimePtr             frameTime;<span></span></pre></td></tr><tr><td scope="row"><pre>    ...   <span></span></pre></td></tr><tr><td scope="row"><pre>    UInt16                      majorSourceChangeSeed;<span></span></pre></td></tr><tr><td scope="row"><pre>    UInt16                      minorSourceChangeSeed;<span></span></pre></td></tr><tr><td scope="row"><pre>    CDSequenceDataSourcePtr     sourceData;<span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType                      **wantedDestinationPixelTypes;<span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    Boolean                     needUpdateOnTimeChange;<span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    Boolean                     needUpdateOnSourceChange;<span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    long                        requestedBufferWidth;<span></span></pre></td></tr><tr><td scope="row"><pre>    long                        requestedBufferHeight;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr><tr><td scope="row"><pre>typedef struct CodecDecompressParams CodecDecompressParams;<span></span></pre></td></tr></table></div>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Term</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th>
</tr>


<tr>
<td  scope="row"><p><code>capabilities</code></p></td>
<td ><p>A pointer to a <code>CodecCapabilities</code> data structure containing the required capabilities of the effect.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>frameTime</code></p></td>
<td ><p>The current frame time. The information in this parameter can be used to calculate the current frame number, relative to the total duration of the effect.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>majorSourceChangeSeed</code></p></td>
<td ><p>An integer value that is incremented each time a data source is added or removed. This provides a fast way for an effect component to know when its data sources have changed.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>minorSourceChangeSeed</code></p></td>
<td ><p>An integer value that is incremented each time a data source is added or removed, or the data contained in any of the sources changes.This provides a fast way for an effect component to know when a source changes.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>sourceData</code></p></td>
<td ><p>A pointer to a <code>CDSequenceDataSource</code> structure that contains the head of a linked list of all data sources. Because each data source contains a link to the next data source, an effect component can access all data sources from this field.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>wantedDestinationPixelTypes</code></p></td>
<td ><p>A handle to a zero-terminated list of non-RGB pixel formats that the component can decompress. Set this value to nil if your component does not support non-RGB pixel spaces. If your effect component supports non-RGB pixel formats, your component's <code>MyEffectSetup</code> function should place the list of them into this field.The Image Compression Manager (ICM) copies this data structure, so it is up to your component to dispose of it later. It is suggested that components allocate this handle during the <code>Open</code> routine and dispose of it during the <code>Close</code> routine.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>needUpdateOnTimeChange</code></p></td>
<td ><p>Setting this field to true indicates to the ICM that your component's <code>EffectBegin</code> and <code>EffectRenderFrame</code> functions should be called whenever the time of the movie changes. The default value of this field is true.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>needUpdateOnSourceChange</code></p></td>
<td ><p>Setting this field to <code>true</code> indicates to the ICM that your component's <code>EffectBegin</code> and <code>EffectRenderFrame</code> functions should be called whenever one or more of the sources to the effect changes. The default value of this field is false.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>requestedBufferWidth</code></p></td>
<td ><p>Specifies the width of the image buffer to use, in pixels. For this value to be used, the <code>codecWantsSpecialScaling</code> flag in the <code>CodecCapabilities</code> record must be set.</p></td>
</tr>
<tr>
<td  scope="row"><p><code>requestedBufferHeight</code></p></td>
<td ><p>Specifies the height of the image buffer to use, in pixels. For this value to be used, the <code>codecWantsSpecialScaling</code> flag in the <code>CodecCapabilities</code> record must be set.</p></td>
</tr>

</table></div>


<a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-DontLinkElementID_129" title="Functions"></a>
<h2><a name="//apple_ref/doc/uid/TP40000868-VideoEffectsAPI-Functions" title="Functions"></a>Functions</h2>
<p>This section lists the functions supported by effects components. Applications developers will typically call the high-level functions directly.</p>
<ul class="ul">
<li class="li"><p>High-Level Functions</p>
<ul class="nested">
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTGetEffectsList" target="_top">QTGetEffectsList</a></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTCreateStandardParameterDialog" target="_top">QTCreateStandardParameterDialog</a></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTIsStandardParameterDialogEvent" target="_top">QTIsStandardParameterDialogEvent</a></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDismissStandardParameterDialog" target="_top">QTDismissStandardParameterDialog</a></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTStandardParameterDialogDoAction" target="_top">QTStandardParameterDialogDoAction</a></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTGetEffectSpeed" target="_top">QTGetEffectSpeed</a></code></p></li>
</ul>
</li>
<li class="li"><p>Low-level Functions</p>
<ul class="nested">
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecGetParameterList" target="_top">ImageCodecGetParameterList</a></code></p></li>
<li class="nested li"><p><code><!--a target="_top" -->ImageCodeCreateStandardParameterDialog<!--/a--></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecIsStandardParameterDialogEvent" target="_top">ImageCodecIsStandardParameterDialogEvent</a></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecStandardParameterDialogDoAction" target="_top">ImageCodecStandardParameterDialogDoAction</a></code></p></li>
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecDismissStandardParameterDialog" target="_top">ImageCodecDismissStandardParameterDialog</a></code></p></li>
</ul>
</li>
<li class="li"><p>Utility Functions</p>
<ul class="nested">
<li class="nested li"><p><code><a href="../../../../Reference/QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/MakeImageDescriptionForEffect" target="_top">MakeImageDescriptionForEffect</a></code></p></li>
</ul>
</li>
</ul>




        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../E-Chapter/5CreatingNewVideoEff.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Z-RevHistory/revisionhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-05-03<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/RM/EffectsTransitions/Effects/F-Chapter/6VideoEffectsAPI.html%3Fid%3DTP40000868-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/RM/EffectsTransitions/Effects/F-Chapter/6VideoEffectsAPI.html%3Fid%3DTP40000868-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/RM/EffectsTransitions/Effects/F-Chapter/6VideoEffectsAPI.html%3Fid%3DTP40000868-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>