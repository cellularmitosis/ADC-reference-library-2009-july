<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Profile Access Procedure Operation Codes(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING159></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-158.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-160.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-155.html"><B>Constants and Data Types</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING159-0></A>
<H2>Profile Access Procedure <A NAME=MARKER-9-58></A>Operation Codes</H2>
 When your application calls the <CODE>CMOpenProfile</CODE> function <A HREF=ACIReference-220.html#MARKER-9-321>(page 3-69)</A>, <CODE>CMNewProfile</CODE> function <A HREF=ACIReference-224.html#MARKER-9-330>(page 3-75)</A>, <CODE>CMCopyProfile</CODE> function <A HREF=ACIReference-225.html#MARKER-9-333>(page 3-76)</A>, or <CODE>CMNewLinkProfile</CODE> function <A HREF=ACIReference-260.html#MARKER-9-396>(page 3-112)</A>, it can supply the ColorSync Manager with a profile location structure of type CMProcedureLocation <A HREF=ACIReference-185.html#MARKER-9-235>(page 3-42)</A> to specify a procedure that provides access to a profile. The ColorSync Manager calls your procedure when the profile is created, initialized, opened, read, updated, or closed. For a description of the profile access procedure declaration, see MyCMProfileAccessProc <A HREF=ACIReference-312.html#MARKER-9-478>(page 3-172)</A>. For sample code demonstrating procedure-based profile access, see <A HREF=#nonexistent-marker>"Accessing a Resource-Based Profile With a Procedure" (page 4-56)</A> in <I>Advanced Color Imaging on the Mac OS</I>.<P>
 When the ColorSync Manager calls your profile access procedure, it passes one of the following constants in the <CODE>command</CODE> parameter to specify an operation. Your procedure must be able to respond to each of these constants.<P>
<PRE>
enum {
   cmOpenReadAccess= 1, /* open profile for reading */
   cmOpenWriteAccess= 2,/* open profile for writing */
   cmReadAccess   = 3,  /* read specified bytes from profile */
   cmWriteAccess  = 4,  /* write specified bytes to profile */
   cmCloseAccess  = 5,  /* close profile for read or write */
   cmCreateNewAccess= 6,/* create new data stream for profile */
   cmAbortWriteAccess= 7,/* cancel current write process */
   cmBeginAccess  = 8,  /* begin procedure access */
   cmEndAccess    = 9   /* end procedure access */
};
</PRE>
<B>Enumerator descriptions</B><P>
<DL>
<DT><A NAME=MARKER-13-59></A>cmOpenReadAccess<CODE></CODE>
<DD> Open the profile for reading.
<DT><A NAME=MARKER-13-60></A>cmOpenWriteAccess<CODE></CODE>
<DD> Open the profile for writing. The total size of the profile is specified in the <CODE>size</CODE> parameter. 
<DT><A NAME=MARKER-13-61></A>cmReadAccess<CODE></CODE>
<DD> Read the number of bytes specified by the <CODE>size</CODE> parameter.
<DT><A NAME=MARKER-13-62></A>cmWriteAccess<CODE></CODE>
<DD> Write the number of bytes specified by the <CODE>size</CODE> parameter.
<DT><A NAME=MARKER-13-63></A>cmCloseAccess<CODE></CODE>
<DD> Close the profile for reading or writing.
<DT><A NAME=MARKER-13-64></A>cmCreateNewAccess<CODE></CODE>
<DD> Create a new data stream for the profile.
<DT><A NAME=MARKER-13-65></A>cmAbortWriteAccess<CODE></CODE>
<DD> Cancel the current write attempt.
<DT><A NAME=MARKER-13-66></A>cmBeginAccess<CODE></CODE>
<DD> Begin the process of procedural access. This is always the first operation constant passed to the access procedure. If the call is successful, the cmEndAccess operation is guaranteed to be the last call to the procedure.
<DT><A NAME=MARKER-13-67></A>cmEndAccess<CODE></CODE>
<DD> End the process of procedural access. This is always the last operation constant passed to the access procedure (unless the cmBeginAccess call failed).
</DL>
</BLOCKQUOTE><HR>
<center>
<A HREF="ACIReference-158.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-160.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
