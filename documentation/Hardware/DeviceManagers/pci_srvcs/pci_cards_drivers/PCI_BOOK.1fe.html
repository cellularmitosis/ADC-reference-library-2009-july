<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> GetGammaInfoList (csCode = 20)13</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.1eb.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1fd.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1ff.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="RoH.RoutineHeading"><A NAME="pgfId=3725"> </A>GetGammaInfoList (csCode = 20)</H1><P CLASS="T1.Text1"><A NAME="pgfId=3726"> </A>The <TT CLASS="cv">GetGammaInfoList</TT> routine is optional. Clients wishing to find a graphics card's available gamma tables formerly accessed the Slot Manager data structures. PCI graphics drivers must return this information directly.</P><P CLASS="T1.Text1"><A NAME="pgfId=3727"> </A>In the future, gamma tables will be part of the display's domain, not the graphics driver's domain. In the meantime, graphics drivers must still provide support for them by responding to the <TT CLASS="cv">GetGammaInfoList</TT> and <TT CLASS="cv">RetrieveGammaTable</TT> calls. The <TT CLASS="cv">GetGammaInfoList</TT> routine iterates over the gamma tables supported by the driver for the attached display. </P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=16419"> </A>OSErr = Status(theDeviceRefNum, cscGetGammaInfoList, &amp;theVDGammaListRec);</CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=16421"> </A><TT CLASS="cv">--&gt; csPreviousGammaTableID</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3729"> </A> ID of the previous gamma table</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=16431"> </A><TT CLASS="cv">&lt;-- csGammaTableID</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4626"> </A> ID of the gamma table following <TT CLASS="cv">csPreviousDisplayModeID</TT></DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=16441"> </A><TT CLASS="cv">&lt;-- csGammaTableSize</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4627"> </A> Size of the gamma table in bytes</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=16451"> </A><TT CLASS="cv">&lt;-- csGammaTableName</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4628"> </A> Gamma table name (C string)</DD></DL COMPACT><P CLASS="T1.Text1"><A NAME="pgfId=3730"> </A>The <TT CLASS="cv">csGammaTableName</TT> parameter is a C string with a maximum of 31 characters. The driver needs to copy the name from its storage to the storage passed in by the caller. It can use <A HREF="PCI_BOOK.1a7.html#16382" CLASS="XRef"><TT CLASS="cv">CStrCopy</TT></A>. The caller uses <TT CLASS="cv">csGammaTableSize</TT> to allocate storage to read the entire structure, using the <TT CLASS="cv">RetrieveGammaTable</TT> routine.</P><P CLASS="T1.Text1"><A NAME="pgfId=3734"> </A>Observe these cautions:</P><UL><LI CLASS="B1.Bullet1"><A NAME="pgfId=3735"> </A>A client will pass a <TT CLASS="cv">csPreviousGammaTableID</TT> of <TT CLASS="cv">kGammaTableIDFindFirst</TT> to get the first gamma table ID. The driver should return this value in the <TT CLASS="cv">csGammaTableID</TT> field.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3736"> </A>If the last gamma table ID is passed in the <TT CLASS="cv">csPreviousGammaTableID</TT> field, the driver should put a <TT CLASS="cv">kGammaTableIDNoMoreTables</TT> in the <TT CLASS="cv">csGammaTableID</TT> field and return <TT CLASS="cv">noErr</TT>.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3737"> </A>If an invalid gamma table ID is passed in the <TT CLASS="cv">csPreviousGammaTableID</TT> field, the driver should return <TT CLASS="cv">paramErr</TT> and should not modify the data structure.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3738"> </A>A client can pass <TT CLASS="cv">csPreviousGammaTableID</TT> with a value of <TT CLASS="cv">kGammaTableIDSpecific</TT>. This tells the driver that the <TT CLASS="cv">csGammaTableID</TT> contains the ID of the table that the client wants information about. This is a way to bypass iteration through all the tables when the caller already knows the <TT CLASS="cv">GammaTableID</TT>.</LI><LI CLASS="B1.Bullet1"><A NAME="pgfId=3739"> </A>Although the <TT CLASS="cv">GetGammaInfoList</TT> call appears to perform its iteration operations similarly to the <TT CLASS="cv">GetNextResolution</TT> call, there is an important difference. <TT CLASS="cv">GetGammaInfoList</TT> only returns information for gamma tables that are applicable to the attached display; <TT CLASS="cv">GetNextResolution</TT> returns the information regardless of what display is connected.</LI></UL><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.1eb.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1fd.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.1ff.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>