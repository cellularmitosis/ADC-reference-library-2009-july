<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Xcode Quick Tour for Mac OS X: Designing a User Interface</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Designing a User Interface"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000890-CH206" title="Designing a User Interface"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../Xcode-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000557" target="_top">Xcode</a> &gt; <a href="../qt_intro/qt_intro.html#//apple_ref/doc/uid/TP30000890-CH204-TPXREF101">Xcode Quick Tour for Mac OS X</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../qt_techinfo/qt_techinfo.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../qt_fix/qt_fix.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF101" title="Designing a User Interface"></a><h1>Designing a User Interface</h1><p>Interface Builder is Apple’s graphical editor for designing user interfaces. This tutorial shows how to use Interface Builder to design the user interface for a Cocoa application called Converter. After you’re finished, you will incorporate your design into a working application.</p><p>To help you troubleshoot problems as you follow the tutorial, this document includes the completed Converter project in a companion archive named <span class="content_text"><a href="http://developer.apple.com/documentation/DeveloperTools/Conceptual/XcodeQuickTour/XcodeQuickTour_companion.zip" target="_top">XcodeQuickTour_companion.zip</a></span>.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000890-CH206-SW1" title="Note"></a><p><strong>Note:</strong>&nbsp;If you’re interested in learning how to build applications with Cocoa, you should also read <em><a href="../../../../Cocoa/Conceptual/ObjCTutorial/index.html#//apple_ref/doc/uid/TP40000863" target="_top">Cocoa Application Tutorial</a></em>.</p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="qt_interfaces.html#//apple_ref/doc/uid/TP30000890-CH206-TPXREF112">Creating the Converter Interface</a>
				
			<br/>
			
        
			
			
				<a href="qt_interfaces.html#//apple_ref/doc/uid/TP30000890-CH206-TPXREF165">Implementing the Converter Application</a>
				
			<br/>
			
        
			
			
				<a href="qt_interfaces.html#//apple_ref/doc/uid/TP30000890-CH206-TPXREF134">Summary</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF112" title="Creating the Converter Interface"></a><h2>Creating the Converter Interface</h2><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_6"></a><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_7"></a><p>Converter is a simple application that converts temperatures from Fahrenheit degrees to Celsius degrees. </p><p>The user interface for Converter is displayed in a single window. <span class="content_text">Figure 3-1</span> shows what the application’s user interface looks like after you’ve completed this tutorial.</p><br/><div><a name="//apple_ref/doc/uid/TP30000890-CH206-BAJJBAFI" title="Figure 3-1The Converter user interface"></a><p><strong>Figure 3-1&nbsp;&nbsp;</strong>The Converter user interface</p><img src = "../Art/ib_converter.jpg" alt = "The Converter user interface" ></div><br/><p>To convert a temperature, you enter a value in the “Fahrenheit degrees” text field and press Return or click the Convert button. Converter displays the result in the “Celsius degrees” text field, which is read-only. To quit the application, you can either click the Close button or press Command-Q.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-BABFGFEE" title="Getting Started"></a><h3>Getting Started</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_8"></a><p>When you use Interface Builder to design a user interface, your work is saved in a file with the <code>.xib</code> or <code>.nib</code> extension. (A file of either type is referred to as a nib file.) At runtime, an application uses the contents of this file to construct and display its user interface, typically inside a window.</p><p>Xcode provides a template project that you can use to create a project for the Converter application. This template includes a nib file that defines a default user interface.</p><p>To create the Converter project and open its nib file:</p><ol class="ol"><li class="li"><p>Launch Xcode and choose File > New Project (or press Command-Shift-N.) The New Project dialog appears.</p></li><li class="li"><p>Select the Cocoa Application template and click Choose.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000890-CH206-SW15"></a><img src = "../Art/xc_newproject.jpg" alt = "The New Project Window" ></div></li><li class="li"><p>Navigate to the location where you want Xcode to create the project folder.</p></li><li class="li"><p>Type <code>Converter</code> in the Save As field and click Save. Xcode creates the project and opens the project window.</p></li><li class="li"><p>In the Converter project window, select the Resources group.</p></li><li class="li"><p>In the project window’s detail view, locate and double-click the <code>MainMenu.xib</code> file.</p></li></ol><p>As shown in <span class="content_text">Figure 3-2</span>, Interface Builder launches and presents a set of windows.</p><br/><div><a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF172" title="Figure 3-2Editor windows in Interface Builder"></a><p><strong>Figure 3-2&nbsp;&nbsp;</strong>Editor windows in Interface Builder</p><img src = "../Art/ib_editors.jpg" alt = "Editor windows in Interface Builder" ></div><br/><p>Here are brief descriptions of the windows in <span class="content_text">Figure 3-2</span>. </p><ul class="spaceabove"><li class="li"><p><strong>MainMenu.xib</strong> represents the contents of the nib file. This window contains items titled MainMenu and Window that represent the application’s menu bar and main window.</p></li><li class="li"><p><strong>Window</strong> is a visual representation of the main window. In it you place the controls that define the main window’s user interface.</p></li><li class="li"><p><strong>MainMenu</strong> is a visual representation of the application’s menu bar. You use this window to customize the menu bar.</p></li><li class="li"><p><strong>View Size</strong> is the size pane in the inspector window. You use the inspector to examine and change properties of any object in a nib file. The inspector window displays the properties of the currently selected object in multiple panes. The title of the inspector window changes based on the current context. To display this window, choose Tools > Inspector.</p></li><li class="li"><p><strong>Library</strong> contains objects, including controls and menu items, which you drag into other windows in the nib file to create the application’s user interface. To display the library window, choose Tools > Library.</p></li></ul><a name="//apple_ref/doc/uid/TP30000890-CH206-BABJJHHD" title="Setting the Window&acirc;&#128;&#153;s Attributes"></a><h3>Setting the Window’s Attributes</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_9"></a><p>To set the attributes for the Converter window:</p><ol class="ol"><li class="li"><p>Click in the title bar of the main window to select it.</p></li><li class="li"><p>Choose Tools > Attributes Inspector (or press Command-1.) Interface Builder displays the attributes pane in the inspector window.</p></li><li class="li"><p>In the attributes pane, type <code>Temperature Converter</code> in the Title field and press Return to make the change appear in the window.</p></li><li class="li"><p>Deselect the Resize option—there’s no need to support the window resizing control here.</p><p>At this point, the window attributes should look like this:</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF167"></a><img src = "../Art/ib_attributes.jpg" alt = "Attributes of the Converter window" ></div></li><li class="li"><p>Choose Tools > Size Inspector (or press Command-3.) Interface Builder displays the size pane in the inspector window.</p></li><li class="li"><p>In the Content Size &amp; Position group, set the window’s width to 300 and its height to 150.</p><p>There are two ways to resize a window in Interface Builder—by direct manipulation, or by specifying the exact dimensions as you have done here. These dimensions are not exactly correct, but they’re a good first approximation. You set the exact dimensions later, after adding the window’s user interface elements.</p></li><li class="li"><p>Set the initial position of the Converter window.</p><p>The Apple Human Interface Guidelines says windows should open horizontally centered and positioned vertically so that the distance below the window is about two times the distance above the window. For now, simply drag the simulated window toward the center of the screen.</p></li></ol><p>Your main window should now resemble this window:</p><br/><div><a name="//apple_ref/doc/uid/TP30000890-CH206-BCIHBBAF"></a><img src = "../Art/ib_emptywindow.jpg" alt = "Converter window before adding controls" ></div><br/><p>The inspector window is used throughout this tutorial, so it makes sense to leave this window open.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-BABHFHBH" title="Adding the Fahrenheit Control"></a><h3>Adding the Fahrenheit Control</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_10"></a><p>To add the Fahrenheit control:</p><ol class="ol"><li class="li"><p>In the library window, be sure that Objects is selected in the control at the top.</p></li><li class="li"><p>In the top pane, navigate to Library > Cocoa > Views &amp; Cells and select Inputs &amp; Values.</p><p>You can view information about each control displayed in the middle pane by placing the pointer over it and clicking.</p></li><li class="li"><p>Drag an editable text field (NSTextField) from the palette to the main window.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF168"></a><img src = "../Art/ib_textcontrol.jpg" alt = "Adding an editable text field" ></div><p>Notice that Interface Builder helps you place objects according to the Aqua guidelines by displaying pop-up guides when an object is dragged close to the proper distance from neighboring objects or the edge of the window.</p></li><li class="li"><p>In the Converter window, select the editable text field and display the attributes inspector.</p></li><li class="li"><p>In the Title field, type <code>32</code> and press Return to apply the value.</p><p>This serves as the default Fahrenheit temperature.</p></li><li class="li"><p>With the text field still selected, click the right-justified alignment tab.</p></li><li class="li"><p>Display the size inspector and set the width to 92.</p></li><li class="li"><p>Back in the main window, adjust the position of the text field as needed.</p></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-BABIFHHC" title="Adding the Celsius Control"></a><h3>Adding the Celsius Control</h3><p>Converter needs a second control to display the Celsius temperature, the same size as the first.</p><p>To duplicate the Fahrenheit control:</p><ol class="ol"><li class="li"><p>In the Converter window, select the editable text field. </p></li><li class="li"><p>Choose Edit > Duplicate (or press Command-D.) </p><p>Interface Builder adds a new text field, slightly offset from the original.</p></li><li class="li"><p>Position the new text field below the original. </p><p>Allow the guides to assist you by snapping the second field into place.</p></li><li class="li"><p>With the new field selected, display the attributes inspector and remove the title—a default Celsius temperature is not needed.</p></li><li class="li"><p>Deselect the Editable checkbox to make this a read-only control.</p></li></ol><p>The Converter window should now resemble this window:</p><br/><div><a name="//apple_ref/doc/uid/TP30000890-CH206-BAJJBAJH"></a><img src = "../Art/ib_edittext.jpg" alt = "Converter window after adding temperature controls" ></div><br/><a name="//apple_ref/doc/uid/TP30000890-CH206-BABIAHDG" title="Adding Labels"></a><h3>Adding Labels</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_11"></a><p>Controls without labels would be confusing, so you’re going to add these labels now. Cocoa uses static text fields for this purpose.</p><ol class="ol"><li class="li"><p>Drag a label from the library window to the Converter window. </p><p>For now, you can place the label in the empty area below the temperature controls.</p></li><li class="li"><p>In the attributes inspector for the label, set the title to “Fahrenheit degrees:” and set the Alignment attribute to right-justified.</p></li><li class="li"><p>Use the size inspector to set the width of this label to 150.</p></li><li class="li"><p>Back in the Converter window, position the label to the left of the first editable text field. </p><p>Allow the guides to assist you by snapping it into place.</p></li><li class="li"><p>Make a duplicate label. </p></li><li class="li"><p>Set the title of this label to “Celsius degrees:” and position it to the left of the second editable text field.</p></li></ol><p>The Converter window should now resemble this window:</p><br/><div><a name="//apple_ref/doc/uid/TP30000890-CH206-BAJEJGHJ"></a><img src = "../Art/ib_statictext.jpg" alt = "Converter window after adding static text" ></div><br/><a name="//apple_ref/doc/uid/TP30000890-CH206-BABGCCIJ" title="Adding the Convert Button"></a><h3>Adding the Convert Button</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_12"></a><p>The Converter application is designed to convert a Fahrenheit temperature to Celsius when the user presses Return or clicks the Convert button.</p><p>To add the Convert button:</p><ol class="ol"><li class="li"><p>Drag a push button from the library window (Cocoa > Views &amp; Cells > Buttons) to the bottom-right portion of the Converter window.</p></li><li class="li"><p>With the button selected, use the attributes inspector to set the button’s title to Convert.</p></li><li class="li"><p>In the Key Equiv. section of the inspector, click the query box and press the return key to make this a default button. </p><p>In a user interface with a default button, pressing the return key simulates a button click.</p></li><li class="li"><p>With the button selected, use the size inspector to set the button width to 84.</p></li><li class="li"><p>Return to the main window, and align the button under the temperature fields. </p><p>In order to make an attractive user interface, you must be able to visually align interface objects in rows and columns. Estimating correct alignment manually can be very difficult, and typing in x-y coordinates by hand is tedious and time consuming. Aligning Aqua user interface elements is made even more difficult because the objects have shadows and UI guideline metrics don’t always take the shadows into account. Interface Builder uses visual guides  to help you with object alignment.</p><ol class="ol"><li class="ol ol"><p>Drag the button downward until a horizontal Aqua guide appears.</p><p>This guide shows you that the button is the correct distance from the bottom of the window.</p></li><li class="ol ol"><p>Drag the button to the left or right until a vertical Aqua guide appears. </p><p>This guide shows you that the button is centered with respect to the temperature fields.</p></li></ol><p>This figure illustrates how to position the Convert button with the aid of Aqua guides.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF170"></a><img src = "../Art/ib_distances.jpg" alt = "Measuring distances in Interface Builder" ></div></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-BABFIFJI" title="Finishing the Window Layout"></a><h3>Finishing the Window Layout</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_13"></a><p>The Converter user interface is almost complete. The finishing touch is to align the controls with respect to the top-left corner of the window and then resize the window. You keep using the automated Aqua guides, along with a few layout commands.</p><ol class="ol"><li class="li"><p>Select all the controls in the main window, either by dragging a rectangle around them or by pressing Command-A. </p></li><li class="li"><p>Drag the group (using any control as a handle) toward the top-left corner of the window, using the Aqua guides to help you find the proper position relative to the window’s edges.</p></li><li class="li"><p>If necessary, move the button into position again under the temperature controls.</p></li><li class="li"><p>Locate the resize control at the bottom-right corner of the window. Drag the resize control inward, using the guides to give you the proper distance from the temperature fields (on the right) and the Convert button (on the bottom).</p></li></ol><p>At this point, the main window should look like <span class="content_text"><a href="qt_interfaces.html#//apple_ref/doc/uid/TP30000890-CH206-BAJJBAFI">Figure 3-1</a></span>.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-BABFEBJH" title="Testing the Interface"></a><h3>Testing the Interface</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_14"></a><p>The Converter interface is now complete. Interface Builder provides a simulator that lets you test your interface without having to write one line of code.</p><p>To test your interface:</p><ol class="ol"><li class="li"><p>Choose File > Save to save your work.</p></li><li class="li"><p>Choose File > Simulate Interface (or press Command-R) to run the simulator.</p><p>Note that the initial screen position you set in Interface Builder is used as the initial position for the Converter window in the simulator.</p></li><li class="li"><p>Enter a value in the Fahrenheit field, select the value, and cut and paste the value.</p></li><li class="li"><p>Make sure the Convert button is pulsating, indicating that it’s the window’s default button.</p></li><li class="li"><p>When you’re finished testing the interface, press Command-Q to quit the simulator.</p></li></ol><p>Congratulations! With Interface Builder, you have designed the user interface for a useful Cocoa application.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF165" title="Implementing the Converter Application"></a><h2>Implementing the Converter Application</h2><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_15"></a><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_16"></a><p>The purpose of this section is to show you how to implement the Converter application, using the interface you have just designed. Because this tutorial is not designed to teach you Cocoa programming, it doesn’t provide an explanation of what the code does.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-SW7" title="Implementing the Model Class"></a><h3>Implementing the Model Class</h3><p>Model objects contain special knowledge and expertise. They hold data and define the logic that manipulates that data. In the Converter application, the model class converts Fahrenheit degrees to Celsius degrees. Note that instances of a model class do not communicate directly with the user interface.</p><p>To create the two source files for the Converter model class:</p><ol class="ol"><li class="li"><p>In your Xcode project window, select the Classes group in the Groups &amp; Files list.</p></li><li class="li"><p>Choose File > New File (or press Command-N.) The New File dialog appears.</p></li><li class="li"><p>In the list on the left, select the Mac OS X > Cocoa template.</p></li><li class="li"><p>In the list on the right, select Objective-C Class and click Next.</p></li><li class="li"><p>Name the file <code>Converter.m</code> and make sure the checkbox “Also create Converter.h” is selected.</p></li><li class="li"><p>Click Finish.</p></li></ol><p>To add the source code that specifies the Converter class interface:</p><ol class="ol"><li class="li"><p>Open the source file <code>Converter.h</code>.</p></li><li class="li"><p>Add lines so that the code looks like that in <span class="content_text">Listing 3-1</span>.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-SW3" title="Listing 3-1Converter.h"></a><br/><br/><p class="codesample"><strong>Listing 3-1&nbsp;&nbsp;</strong>Converter.h</p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;Cocoa/Cocoa.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@interface Converter : NSObject {<span></span></pre></td></tr><tr><td scope="row"><pre>    float fahrenheit;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@property(readwrite) float fahrenheit;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (float) convertToCelsius;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div></li><li class="li"><p>Save your changes to <code>Converter.h</code>.</p></li></ol><p>To add the source code that specifies the Converter class implementation:</p><ol class="ol"><li class="li"><p>Open the source file <code>Converter.m</code>.</p></li><li class="li"><p>Add lines so that the code looks like that in <span class="content_text">Listing 3-2</span>.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-SW4" title="Listing 3-2Converter.m"></a><br/><br/><p class="codesample"><strong>Listing 3-2&nbsp;&nbsp;</strong>Converter.m</p><div class="codesample"><table><tr><td scope="row"><pre>#import "Converter.h"<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@implementation Converter<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@synthesize fahrenheit;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (float) convertToCelsius {<span></span></pre></td></tr><tr><td scope="row"><pre>    return (self.fahrenheit - 32.0) * 0.555556;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div></li><li class="li"><p>Save your changes to <code>Converter.m</code>.</p></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-SW9" title="Implementing the Controller Class"></a><h3>Implementing the Controller Class</h3><p>The primary purpose of the controller class is to communicate between the model class and the user interface you created earlier in this chapter. In Converter, the controller class is also a delegate for the application class.</p><p>To create the two source files for the controller class:</p><ol class="ol"><li class="li"><p>In your Xcode project window, select the Classes group in the Groups &amp; Files list.</p></li><li class="li"><p>Choose File > New File (or press Command-N.) The New File dialog appears.</p></li><li class="li"><p>In the list on the left, select the Mac OS X > Cocoa template.</p></li><li class="li"><p>In the list on the right, select Objective-C Class and click Next.</p></li><li class="li"><p>Name the file <code>Controller.m</code> and make sure the checkbox “Also create Controller.h” is selected.</p></li><li class="li"><p>Click Finish.</p></li></ol><p>To add the source code that specifies the Controller class interface:</p><ol class="ol"><li class="li"><p>Open the source file <code>Controller.h</code>.</p></li><li class="li"><p>Add lines so that the code looks like that in <span class="content_text">Listing 3-3</span>.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-SW5" title="Listing 3-3Controller.h"></a><br/><br/><p class="codesample"><strong>Listing 3-3&nbsp;&nbsp;</strong>Controller.h</p><div class="codesample"><table><tr><td scope="row"><pre>#import &lt;Cocoa/Cocoa.h><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@interface Controller : NSObject {<span></span></pre></td></tr><tr><td scope="row"><pre>    IBOutlet NSTextField *fahrenheitField;<span></span></pre></td></tr><tr><td scope="row"><pre>    IBOutlet NSTextField *celsiusField;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>- (IBAction)convert:(id)sender;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div></li><li class="li"><p>Save your changes to <code>Controller.h</code>.</p></li></ol><p>To add the source code that specifies the Controller class implementation:</p><ol class="ol"><li class="li"><p>Open the source file <code>Controller.m</code>.</p></li><li class="li"><p>Add lines so that the code looks like that in <span class="content_text">Listing 3-4</span>.</p><a name="//apple_ref/doc/uid/TP30000890-CH206-SW6" title="Listing 3-4Controller.m"></a><br/><br/><p class="codesample"><strong>Listing 3-4&nbsp;&nbsp;</strong>Controller.m</p><div class="codesample"><table><tr><td scope="row"><pre>#import "Controller.h"<span></span></pre></td></tr><tr><td scope="row"><pre>#import "Converter.h"<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@implementation Controller<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (IBAction) convert:(id)sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    Converter *converter = [[Converter alloc] init];<span></span></pre></td></tr><tr><td scope="row"><pre>    [converter setFahrenheit:[fahrenheitField floatValue]];<span></span></pre></td></tr><tr><td scope="row"><pre>    float celsius = [converter convertToCelsius];<span></span></pre></td></tr><tr><td scope="row"><pre>    [celsiusField setStringValue:[NSString stringWithFormat:@"%.2f", celsius]];<span></span></pre></td></tr><tr><td scope="row"><pre>    [fahrenheitField selectText:self];<span></span></pre></td></tr><tr><td scope="row"><pre>    [converter release];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (BOOL) applicationShouldTerminateAfterLastWindowClosed:(NSApplication *)theApplication<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    return YES;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div></li><li class="li"><p>Save your changes to <code>Controller.m</code>.</p></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-SW10" title="Adding a Controller to Your Nib File"></a><h3>Adding a Controller to Your Nib File</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_17"></a><p>In order to add connections between the controller and other objects in your design, you need to create an instance of the controller class in your nib file.</p><ol class="ol"><li class="li"><p>In Interface Builder, choose File > Open Recent to open the <code>MainMenu.xib</code> file in the Converter project.</p></li><li class="li"><p>In the library window, select Cocoa > Objects &amp; Controllers. </p></li><li class="li"><p>Drag an instance of <code>NSObject</code> into the <code>MainMenu.xib</code> window.</p></li><li class="li"><p>Select the new object and press Command-6 to open the identity inspector.</p></li><li class="li"><p>In the Class field, type <code>Controller</code>.</p></li><li class="li"><p>Save your changes to the nib file.</p></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-SW11" title="Adding the Controller Connections"></a><h3>Adding the Controller Connections</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_18"></a><p>Interface Builder not only helps you design your user interface, it makes it possible to connect the properties of the various objects in your design. Several objects in the Converter interface need to be connected to properties in the controller class.</p><p>To add the connections:</p><ol class="ol"><li class="li"><p>In the <code>MainMenu.xib</code> window, Control-click the controller object. A connections panel appears.</p></li><li class="li"><p>Drag from the circle to the right of the <code>celsiusField</code> to the Celsius degrees field in the Temperature Converter window, as shown below. </p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000890-CH206-SW8"></a><img src = "../Art/ib_connect.jpg" alt = "Adding a connection" ></div><p>When you release the mouse, the connection is established and the circle is filled.</p></li><li class="li"><p>Using the same technique, add a connection from the <code>fahrenheitField</code> outlet to the Fahrenheit degrees field.</p></li><li class="li"><p>Add a connection from the <code>convert:</code> action to the Convert push button.</p></li><li class="li"><p>Add a connection from New Referencing Outlet to the File’s Owner object. When you release the mouse, an outlet named <code>delegate</code> appears. Select this outlet.</p></li><li class="li"><p>Close the connections panel and save your changes to the nib file.</p></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-SW12" title="Inspecting the Controller Connections"></a><h3>Inspecting the Controller Connections</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_19"></a><p>With Interface Builder’s connections inspector, you can examine and verify the connections in a nib file.</p><ol class="ol"><li class="li"><p>With the Controller object still selected, press Command-5 to display the connections inspector.</p></li><li class="li"><p>Verify that there are four connections: two outlets for the text fields, a received action for the Convert button, and an application delegate outlet. <span class="content_text">Figure 3-3</span> shows these connections in the inspector.</p><div class="item_figure"><a name="//apple_ref/doc/uid/TP30000890-CH206-SW2" title="Figure 3-3Connections in Interface Builder"></a><p><strong>Figure 3-3&nbsp;&nbsp;</strong>Connections in Interface Builder</p><img src = "../Art/ib_connections.jpg" alt = "Connections in Interface Builder" ></div></li><li class="li"><p>Now select the Convert button in the main window. </p><p>The connections inspector shows a sent action for the Controller object. This action represents the other end of the received action shown in <span class="content_text">Figure 3-3</span>. The two text fields and the File’s Owner object have similar complementary connections.</p></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-SW13" title="Building and Running the Application"></a><h3>Building and Running the Application</h3><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_20"></a><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_21"></a><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_22"></a><a name="//apple_ref/doc/uid/TP30000890-CH206-DontLinkElementID_23"></a><p>To build and run the Converter application:</p><ol class="ol"><li class="li"><p>In the Xcode project window, click the Build toolbar item (or press Command-B.)</p><p>The status bar at the bottom of the project window indicates the status of the build. When Xcode finishes—and encounters no errors along the way—it displays “Build succeeded” in the status bar. If there are errors, however, you need to correct them and start the build process again.</p></li><li class="li"><p>Click the Build and Go toolbar item (or press Command-Return.)</p></li><li class="li"><p>After the Converter application launches, enter the Fahrenheit degrees you wish to convert and click the Convert button. A value should appear in the Celsius degrees field.</p></li><li class="li"><p>Enter a different Fahrenheit value and press the Return key. This is equivalent to clicking the Convert button.</p></li><li class="li"><p>When you’re finished using the application, close the Converter window. Notice that the application quits.</p></li></ol><a name="//apple_ref/doc/uid/TP30000890-CH206-SW14" title="What&acirc;&#128;&#153;s Next?"></a><h3>What’s Next?</h3><p>To make Converter a solid Mac OS X application, clearly there’s more work to be done. If you’re interested in Cocoa programming, here are a few ideas to improve and extend this application:</p><ul class="spaceabove"><li class="li"><p>Edit the menu bar using Interface Builder. The default Cocoa application menu bar contains items that don’t apply here and should be removed.</p></li><li class="li"><p>Add range checking for the Fahrenheit temperature control. Absolute zero is around –459.6 degrees Fahrenheit.</p></li><li class="li"><p>Add conversion from Celsius to Fahrenheit.</p></li></ul><a name="//apple_ref/doc/uid/TP30000890-CH206-TPXREF134" title="Summary"></a><h2>Summary</h2><p>The Converter tutorial showed you how to implement the user interface for a simple Cocoa application using Interface Builder. First, the tutorial described how to lay out a window’s user interface elements. Next, the tutorial demonstrated how to test an application’s user interface before implementing its logic. Then, the tutorial helped you make the necessary connections between user interface objects and class outlets and action methods. Finally, you built and ran the Converter application to verify that the user interface was constructed correctly.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../qt_techinfo/qt_techinfo.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../qt_fix/qt_fix.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/XcodeQuickTour/qt_interfaces/qt_interfaces.html%3Fid%3DTP30000890-2.6&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/XcodeQuickTour/qt_interfaces/qt_interfaces.html%3Fid%3DTP30000890-2.6&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/XcodeQuickTour/qt_interfaces/qt_interfaces.html%3Fid%3DTP30000890-2.6&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>