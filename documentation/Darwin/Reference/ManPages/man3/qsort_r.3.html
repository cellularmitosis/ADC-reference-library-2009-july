<html><head><title>Mac OS X
 Manual Page For qsort_r(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/qsort_r" title="Mac OS X
 Manual Page for qsort_r(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/qsort_r"; name=qsort_r(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
QSORT(3)                 BSD Library Functions Manual                 <!-- a -->QSORT(3)<!-- /a -->

<b>NAME</b>
     <b>heapsort</b>, <b>mergesort</b>, <b>qsort</b>, <b>qsort_r</b> -- sort functions

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;stdlib.h&gt;</b>

     <u>int</u>
     <b>heapsort</b>(<u>void</u> <u>*base</u>, <u>size</u><b>_</b><u>t</u> <u>nel</u>, <u>size</u><b>_</b><u>t</u> <u>width</u>, <u>int</u> (<u>*compar</u>)(<u>const</u> <u>void</u> <u>*,</u> <u>const</u> <u>void</u> <u>*</u>));

     <u>int</u>
     <b>mergesort</b>(<u>void</u> <u>*base</u>, <u>size</u><b>_</b><u>t</u> <u>nel</u>, <u>size</u><b>_</b><u>t</u> <u>width</u>, <u>int</u> (<u>*compar</u>)(<u>const</u> <u>void</u> <u>*,</u> <u>const</u> <u>void</u> <u>*</u>));

     <u>void</u>
     <b>qsort</b>(<u>void</u> <u>*base</u>, <u>size</u><b>_</b><u>t</u> <u>nel</u>, <u>size</u><b>_</b><u>t</u> <u>width</u>, <u>int</u> (<u>*compar</u>)(<u>const</u> <u>void</u> <u>*,</u> <u>const</u> <u>void</u> <u>*</u>));

     <u>void</u>
     <b>qsort_r</b>(<u>void</u> <u>*base</u>, <u>size</u><b>_</b><u>t</u> <u>nel</u>, <u>size</u><b>_</b><u>t</u> <u>width</u>, <u>void</u> <u>*thunk</u>,
         <u>int</u> (<u>*compar</u>)(<u>void</u> <u>*,</u> <u>const</u> <u>void</u> <u>*,</u> <u>const</u> <u>void</u> <u>*</u>));

<b>DESCRIPTION</b>
     The <b>qsort</b>() function is a modified partition-exchange sort, or quicksort.  The <b>heapsort</b>() function is a
     modified selection sort.  The <b>mergesort</b>() function is a modified merge sort with exponential search,
     intended for sorting data with pre-existing order.

     The <b>qsort</b>() and <b>heapsort</b>() functions sort an array of <u>nel</u> objects, the initial member of which is
     pointed to by <u>base</u>.  The size of each object is specified by <u>width</u>.  The <b>mergesort</b>() function behaves
     similarly, but <u>requires</u> that <u>width</u> be greater than ``sizeof(void *) / 2''.

     The contents of the array <u>base</u> are sorted in ascending order according to a comparison function pointed
     to by <u>compar</u>, which requires two arguments pointing to the objects being compared.

     The comparison function must return an integer less than, equal to, or greater than zero if the first
     argument is considered to be respectively less than, equal to, or greater than the second.

     The <b>qsort_r</b>() function behaves identically to <b>qsort</b>(), except that it takes an additional argument,
     <u>thunk</u>, which is passed unchanged as the first argument to function pointed to <u>compar</u>.  This allows the
     comparison function to access additional data without using global variables, and thus <b>qsort_r</b>() is
     suitable for use in functions which must be reentrant.

     The algorithms implemented by <b>qsort</b>(), <b>qsort_r</b>(), and <b>heapsort</b>() are <u>not</u> stable; that is, if two mem-<font color="#ffffff" class="whiteout">bers&nbsp;members</font>
     bers compare as equal, their order in the sorted array is undefined.  The <b>mergesort</b>() algorithm is sta-<font color="#ffffff" class="whiteout">ble.&nbsp;stable.</font>
     ble.

     The <b>qsort</b>() and <b>qsort_r</b>() functions are an implementation of C.A.R.  Hoare's ``quicksort'' algorithm, a
     variant of partition-exchange sorting; in particular, see D.E. Knuth's <u>Algorithm</u> <u>Q</u>.  <b>Quicksort</b> takes O
     N lg N average time.  This implementation uses median selection to avoid its O N**2 worst-case behav-<font color="#ffffff" class="whiteout">ior.&nbsp;behavior.</font>
     ior.

     The <b>heapsort</b>() function is an implementation of J.W.J. William's ``heapsort'' algorithm, a variant of
     selection sorting; in particular, see D.E. Knuth's <u>Algorithm</u> <u>H</u>.  <b>Heapsort</b> takes O N lg N worst-case
     time.  Its <u>only</u> advantage over <b>qsort</b>() is that it uses almost no additional memory; while <b>qsort</b>() does
     not allocate memory, it is implemented using recursion.

     The function <b>mergesort</b>() requires additional memory of size <u>nel</u> <u>*</u> <u>width</u> bytes; it should be used only
     when space is not at a premium.  The <b>mergesort</b>() function is optimized for data with pre-existing
     order; its worst case time is O N lg N; its best case is O N.

     Normally, <b>qsort</b>() is faster than <b>mergesort</b>(), which is faster than <b>heapsort</b>().  Memory availability and
     pre-existing order in the data can make this untrue.

<b>RETURN</b> <b>VALUES</b>
     The <b>qsort</b>() and <b>qsort_r</b>() functions return no value.

     The <b>heapsort</b>() and <b>mergesort</b>() functions return the value 0 if successful; otherwise the value -1 is
     returned and the global variable <u>errno</u> is set to indicate the error.

<b>ERRORS</b>
     The <b>heapsort</b>() and <b>mergesort</b>() functions succeed unless:

     [EINVAL]           The <u>width</u> argument is zero, or, the <u>width</u> argument to <b>mergesort</b>() is less than
                        ``sizeof(void *) / 2''.

     [ENOMEM]           The <b>heapsort</b>() or <b>mergesort</b>() functions were unable to allocate memory.

<b>COMPATIBILITY</b>
     Previous versions of <b>qsort</b>() did not permit the comparison routine itself to call <a href="qsort.3.html#//apple_ref/doc/man/3/qsort"><b>qsort</b>(<u>3</u>)</a>.  This is no
     longer true.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/sort.1.html#//apple_ref/doc/man/1/sort">sort(1)</a>, <a href="radixsort.3.html#//apple_ref/doc/man/3/radixsort">radixsort(3)</a>

     Hoare, C.A.R., "Quicksort", <u>The</u> <u>Computer</u> <u>Journal</u>, 5:1, pp. 10-15, 1962.

     Williams, J.W.J, "Heapsort", <u>Communications</u> <u>of</u> <u>the</u> <u>ACM</u>, 7:1, pp. 347-348, 1964.

     Knuth, D.E., "Sorting and Searching", <u>The</u> <u>Art</u> <u>of</u> <u>Computer</u> <u>Programming</u>, Vol. 3, pp. 114-123, 145-149,
     1968.

     McIlroy, P.M., "Optimistic Sorting and Information Theoretic Complexity", <u>Fourth</u> <u>Annual</u> <u>ACM-SIAM</u>
     <u>Symposium</u> <u>on</u> <u>Discrete</u> <u>Algorithms</u>, January 1992.

     Bentley, J.L.  and McIlroy, M.D., "Engineering a Sort Function", <u>Software--Practice</u> <u>and</u> <u>Experience</u>,
     Vol. 23(11), pp. 1249-1265, November 1993.

<b>STANDARDS</b>
     The <b>qsort</b>() function conforms to ISO/IEC 9899:1990 (``ISO C90'').

BSD                           September 30, 2003                           BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/qsort_r.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/qsort_r.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/qsort_r.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
