<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A GXTY07: QuickDraw GX Font Problems</title><meta name="keywords" content="Mac OS 8 QuickDraw GX Font Problems TypeEnabler scaler table"><meta name="Description" content="Technical Q&amp;A GXTY07: NOTE: The latest Mac OS releases, MacOS 8.5.x and 8.6, will be the final operating system releasesfrom Apple to include support for QuickDraw GX. Q&amp;A explainswhy Type 1 fonts that are not passed through the TypeEnablercause font scaler table missing error messages. Q&amp;A alsoprovides a way to check if a particular Font can be usedby GX."><meta name="categories" content="QuickDraw GX"><meta name="week-posted" content="May 1, 1995 - May 5, 1995"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001266" title="QuickDraw GX Font Problems"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalqas/LegacyTechnologies/idxTextFonts-date.html">Text & Fonts</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/TextFonts/index.html" target="_blank">Reference Library > Text & Fonts</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A GXTY07</div>
<div id="pageheadsub">QuickDraw GX Font Problems</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <td align="left"><hr width=500 align=center><p id = p2>Q:  I've enclosed a Tekton font suitcase that causes an error in thesample app, GXWrite, and in any other app that uses GX. The error messagestates that there is a font-scaler table missing. However, this font does notcause problems in other non-GX applications. There is a FOND resource and aNFNT resource, but no <code>'sfnt'</code> resource. The documentation says that GX can workwith Type 1, TrueTypeGX, or <code>'NFNT'</code> fonts.</p><p id=p4>I've had similar problems when PostScript font suitcases are dragged directlyto the font folder without going through the <code>TypeEnabler</code>. Bitmap font suitcasesthat have no <code>'sfnt'</code> resource work fine in non-GX apps, but GX has problems withthem.</p><p id=p4>The TrueType font "Bauhaus 93" that ships with Microsoft Word 6.0 also causes an"Unknown kerning table format" error. How can I identify these problem fontsbefore the app unexpectedly crashes? The SDK sample code for building a fontmenu does not check for valid font types, and GX doesn't recognize that thesefonts are bad until I try to access them. Is there any way to check this beforebuilding the font menu so these fonts are not included in the menu, or is thereanother way to avoid this problem?</p><p id=p4>A:  While all bitmap, TrueType, and Type 1 fonts can be used on a system runningGX, all Type 1 fonts must pass through the Type Enabler before GX can use theoutlines within the font. This is because Type 1 fonts do not have the GX<code>'sfnt'</code> wrapper around them, and because they are not <code>'NFNT'</code> fonts.</p><p id=p4>The scaler for Type 1 font data must be installed to avoid getting the types oferrors you are describing. The scalers for bitmap, TrueType, and TrueType GXfonts are incorporated in the QuickDraw GX extension, but the scaler for Type 1fonts is not. GX sends the message, "there is a font scaler table missing,"because the Type 1 scaler is not installed. ATM GX must be running on yoursystem to use Type 1 fonts with GX. </p><p id=p4>To determine if a scaler is installed before adding a font to your menu, youshould call <code>GXCountFontGlyphs</code> (...) (see page 7-35, <i>Inside MacintoshQuickDraw GX: Typography</i>). Pass in the font in question, and GX will tellyou the number of glyphs within the font. This call has very little overhead.If the font scaler is not installed or turned off, you get a 0 (zero) back asthe function result. At this point, you can decide what to tell the user.</p><p id=p4>There is a known bug in the Font Enabler that returns "Error: bad cmap languagefor [font name]." A new version of the Type 1 Enabler that corrects thisproblem is included with QuickDraw GX v1.1.1.</p><p id=p4><code>GXFindFonts</code> passes back a list of the fonts that QuickDraw GX can use (resourcetype of <code>'sfnt'</code>). If a Type 1 font has not been through the Type 1 Enabler, thefont won't show up on the font list passed back by <code>GXFindFonts</code> (...) (see page7-33, <i>Inside Macintosh  QuickDraw GX: Typography</i>). Your applicationshould only add the fonts to your font menu that <code>GXFindFonts</code> (...) finds.</p> <p id=p4>QuickDraw GX was designed to use only the information contained in the font todo it's work. We want the font developer to have complete control over howinformation (glyphs, kerning, alternate character sets, justification, etc.) isused from within a font when a glyph is drawn on the screen or sent to aprinter. Therefore, we must assume that the font contains the correctinformation. We realize this allows certain problems to develop, like the oneyou are experiencing. That is why we created Font Validator -- to allow usersto check their fonts when they have problems. The problems will diminish asfonts get fixed and as various font developers release their GX fonts.</p><p id=p4>To prevent any font whatsoever from giving your application problems, your applocation has to check all of the font's tables in the same manner that FontValidator does. This is possible, since we've published the entirespecification for QuickDraw GX fonts. This specification is on the GX SDK andthe MacOS SDK. The amount of work required to implement this feature may not beworth the effort, especially when you consider that a lot of GX fonts are goingto be released in the near future.</p> <p id=p4>When Font Validator gives you a "warning," the problem it detected is unlikelyto cause trouble for GX (i.e., GX should be able to figure things out). GX alsoposts "warnings" to your application. Usually, when Font Validator posts awarning, the GX "Quick Fix" option can handle it. However, when Font Validatorposts an "error," it is cause for concern. An error means the font has aproblem which must be fixed before GX can use it. There are some errors thatare not fatal, however -- just inefficient.</p></td></tr></table></center><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[May 01 1995]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/gxty/gxty07.html%3Fid%3DDTS10001266-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/gxty/gxty07.html%3Fid%3DDTS10001266-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/gxty/gxty07.html%3Fid%3DDTS10001266-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <hr width=500 align=center> </BODY> </HTML>