<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Enterprise JavaBeans (Legacy): Developing Entity Beans</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Developing Entity Beans"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000100" title="Developing Entity Beans"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../LegacyTechnologies/WebObjects-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000592" target="_top">WebObjects</a> &gt; <a href="../AboutThisBook/AboutThisBook.html#//apple_ref/doc/uid/TP30000097-TPXREF101">Enterprise JavaBeans (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../SimpleSessionBean/SimpleSessionBean.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../FrameworkDevelopment/FrameworkDevelopment.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30000100-TPXREF101" title="Developing Entity Beans"></a><h1>Developing Entity Beans</h1><p><a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_129"></a>This chapter guides you through the development of an entity-bean framework based on a data model and its use in an application. It also shows you the entity-bean source files that the Project Builder Assistant can generate for you, which include source files for CMP (container-managed persistence) entity beans, BMP (bean-managed persistence) entity beans, and DAO (Data Access Object) source files used to customize data-store access.</p><p>The chapter contains the following sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="EntityBean.html#//apple_ref/doc/uid/TP30000100-BBCCCIHJ">“Developing an Entity Bean From a Data Model”</a></span> shows you how to create an enterprise-bean framework using EOBeanBuilder.</p></li><li class="li"><p><span class="content_text"><a href="EntityBean.html#//apple_ref/doc/uid/TP30000100-CJBICCIJ">“Using an Entity-Bean Framework”</a></span> explains how an entity-bean framework can be used in a Web application.</p></li><li class="li"><p><span class="content_text"><a href="EntityBean.html#//apple_ref/doc/uid/TP30000100-CJBFAFFD">“Advanced Entity-Bean Development”</a></span> shows the source files that EOBeanBuilder generates for bean-managed persistence beans and DAO-based data-store access.</p></li></ul><a name="//apple_ref/doc/uid/TP30000100-BBCCCIHJ" title="Developing an Entity Bean From a Data Model"></a><h2>Developing an Entity Bean From a Data Model</h2><p>This section shows how to use EOBeanAssistant<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_130"></a> to create an enterprise-bean framework based on entities defined in a model file created using EOModeler.</p><p>This document’s companion files include a simple model file named <code>Person.eomodeld</code>, located in the <code>models</code> directory.</p><a name="//apple_ref/doc/uid/TP30000100-TPXREF108" title="Creating an Empty Bean Framework"></a><h3>Creating an Empty Bean Framework</h3><p><a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_131"></a>Before generating the source files for an entity bean, there needs to be a project to which you add the files. You can create an empty bean-framework project or you may add the generated files to an existing bean-framework project. This section walks you through creating an empty bean framework.</p><ol class="ol"><li class="li"><p>In Project Builder, choose File > New Project.</p></li><li class="li"><p>Choose Enterprise JavaBean Framework as the project type.</p></li><li class="li"><p>Name the project <code>Person</code>.</p></li><li class="li"><p>Make sure “Empty Enterprise JavaBean framework” is selected in the Create New Enterprise JavaBean pane of the Project Builder Assistant.</p></li></ol><a name="//apple_ref/doc/uid/TP30000100-BBCDDIBD" title="Generating Enterprise-Bean Source Files From a Model File Using EOBeanAssistant"></a><h3>Generating Enterprise-Bean Source Files From a Model File Using EOBeanAssistant</h3><p>EOBeanAssistant<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_132"></a> is an application that creates the Java source files and the <code>ejb-jar.xml</code> file you need to implement an entity bean. It’s located in <code>/Developer/Applications</code>. <span class="content_text">Figure 4-1</span> shows the Select Model pane of EOBeanAssistant. Enter the path to your model in the text field or click Select Model and navigate to it.</p><br/><div><a name="//apple_ref/doc/uid/TP30000100-BBCJFJHF" title="Figure 4-1The Select Model pane of EOBeanAssistant"></a><p><strong>Figure 4-1&nbsp;&nbsp;</strong>The Select Model pane of EOBeanAssistant</p><img src = "../art/baselectmodel.gif" alt = "The Select Model pane of EOBeanAssistant" width="361" height="452"></div><br/><p>In the Select Entities pane (<span class="content_text">Figure 4-2</span>), select the entity or entities you want to generate enterprise-bean source files for and click the right-pointing arrow so that they move from the box on the left to the one on the right.</p><br/><div><a name="//apple_ref/doc/uid/TP30000100-TPXREF102" title="Figure 4-2The Select Entities pane of EOBeanAssistant"></a><p><strong>Figure 4-2&nbsp;&nbsp;</strong>The Select Entities pane of EOBeanAssistant</p><img src = "../art/baselectentities.gif" alt = "The Select Entities pane of EOBeanAssistant" width="358" height="451"></div><br/><p>The Configure Bean pane (<span class="content_text">Figure 4-3</span>) provides several options. Make sure Generate ejbFindAll Method, Generate BMP Class, and Generate CMP Class are selected.</p><br/><div><a name="//apple_ref/doc/uid/TP30000100-BBCHFFAE" title="Figure 4-3The Configure Bean pane of EOBeanAssistant"></a><p><strong>Figure 4-3&nbsp;&nbsp;</strong>The Configure Bean pane of EOBeanAssistant</p><img src = "../art/baconfigurebean.gif" alt = "The Configure Bean pane of EOBeanAssistant" width="360" height="449"></div><br/><p>The following list explains the text fields and options in the Configure Bean pane:</p><dl class="termdef">	<dt>Package<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_133"></a></dt><dd><p>The package name to use in the Java source files and the deployment descriptor.</p></dd><dt>Home Interface<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_134"></a></dt><dd><p>The name of the home-interface class of the entity bean.</p></dd><dt>Remote Interface<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_135"></a></dt><dd><p>The name of the remote-interface class of the entity bean.</p></dd><dt>Primary Key Class Name<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_136"></a></dt><dd><p>The data type you want to use for the primary key of the entity bean.</p></dd><dt>Generate ejbFindAll Method<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_137"></a></dt><dd><p>When selected, EOBeanAssistant generates <code>findAll</code> and <code>ejbFindAll</code> methods.</p></dd><dt>Generate BMP Class</dt><dd><p>When selected, EOBeanAssistant generates a BMP source file for the entity bean.</p></dd><dt>BMP Class Name<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_138"></a></dt><dd><p>The name of the BMP class.</p></dd><dt>JNDI Data-Source Name<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_139"></a></dt><dd><p>The name of the JNDI (Java Naming and Directory Service) data source that identifies the data store.</p></dd><dt>BMP Class Extends CMP Class</dt><dd><p>When selected, the BMP source file generated by EOBeanAssistant extends the CMP class.</p></dd><dt>Generate DAO Class<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_140"></a></dt><dd><p>When selected, EOBeanAssistant generates DAO class files that implement database-specific logic.</p></dd><dt>DAO Interface Name</dt><dd><p>The name of the DAO interface.</p></dd><dt>JDBC Class Name<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_141"></a></dt><dd><p>The name of the JDBC class used to communicate with the data store.</p></dd><dt>Generate CMP Class</dt><dd><p>When selected, EOBeanAssistant generates a CMP source file for the entity bean.</p></dd><dt>CMP Class Name<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_142"></a></dt><dd><p>The name of the CMP class.</p></dd></dl><p>The Common Bean Configuration pane allows you to enter header information that you want all the source files generated to contain.</p><p>The Select Generation Path pane (<span class="content_text">Figure 4-4</span>) allows you to enter or choose the path of the bean-framework project folder you want to add the generated source files to. You can choose to overwrite the existing <code>ejb-jar.xml</code><a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_143"></a>file or to add or replace only the entries corresponding to the added entity beans.</p><br/><div><a name="//apple_ref/doc/uid/TP30000100-TPXREF103" title="Figure 4-4The Select Generation Path pane of EOBeanAssistant"></a><p><strong>Figure 4-4&nbsp;&nbsp;</strong>The Select Generation Path pane of EOBeanAssistant</p><img src = "../art/baselectgenerationpath.gif" alt = "The Select Generation Path pane of EOBeanAssistant" width="358" height="452"></div><br/><p><span class="content_text">Listing 4-1</span> shows the files EOBeanAssistant adds to the <code>Person</code> project directory.<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_144"></a><a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_145"></a></p><a name="//apple_ref/doc/uid/TP30000100-CJBDGFJF" title="Listing 4-1Enterprise bean files added by EOBeanAssistant to the Person project directory"></a><p class="codesample"><strong>Listing 4-1&nbsp;&nbsp;</strong>Enterprise bean files added by EOBeanAssistant to the <code>Person</code> project directory</p><div class="codesample"><table><tr><td scope="row"><pre>Person/<span></span></pre></td></tr><tr><td scope="row"><pre>    EOBeanBuilder.xml<span></span></pre></td></tr><tr><td scope="row"><pre>    Person.java<span></span></pre></td></tr><tr><td scope="row"><pre>    PersonBMP.java<span></span></pre></td></tr><tr><td scope="row"><pre>    PersonCMP.java<span></span></pre></td></tr><tr><td scope="row"><pre>    PersonHome.java<span></span></pre></td></tr><tr><td scope="row"><pre>    META-INF/<span></span></pre></td></tr><tr><td scope="row"><pre>        ejb-jar.xml<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000100-CJBICCIJ" title="Using an Entity-Bean Framework"></a><h2>Using an Entity-Bean Framework</h2><p>In this section you create an application that uses the entity-bean framework developed in <span class="content_text"><a href="EntityBean.html#//apple_ref/doc/uid/TP30000100-BBCCCIHJ">“Developing an Entity Bean From a Data Model.”</a></span></p><p>Before you can successfully run the application, you must create the Person database. Use OpenBaseManager to import the database in the <code>databases</code> directory, which is part of the companion resources of this document. Alternatively, you can do the following:</p><ol class="ol"><li class="li"><p>Create a database named <code>Person</code> using OpenBaseManager:</p><ol class="ol"><li class="ol ol"><p>Launch OpenBaseManager, which is located in <code>/Applications/OpenBase/OpenBaseManager</code>.</p></li><li class="ol ol"><p>Choose Database > New.</p></li><li class="ol ol"><p>In the Configure Database dialog, enter <code>Person</code> in the Database Name text input field, select Start Database at Boot, choose ASCII from the Internal Encoding pop-up menu, and click Set.</p></li><li class="ol ol"><p>In the OpenBaseManager main window, select the Person database under localhost and click Start Database.</p></li></ol></li><li class="li"><p>Add the PERSON table to the Person database:</p><ol class="ol"><li class="ol ol"><p>Open <code>models/Person.eomodeld</code> in EOModeler.</p></li><li class="ol ol"><p>Choose Property > Generate SQL.</p></li><li class="ol ol"><p>Make sure only the Create Tables option is selected in the SQL Generation dialog and click Execute SQL.</p></li></ol></li></ol><a name="//apple_ref/doc/uid/TP30000100-TPXREF109" title="Developing the Application Project"></a><h3>Developing the Application Project</h3><p>Follow these steps to develop the client-application project:</p><ol class="ol"><li class="li"><p>Create a project named <code>Person_Client</code>.</p></li><li class="li"><p>In the J2EE Integration pane of the Project Builder Assistant, select “Deploy as Enterprise JavaBean container.”</p></li><li class="li"><p>In the Choose EOAdaptors pane of the Assistant, deselect the JDBC adaptor.</p></li><li class="li"><p>In the Choose Frameworks pane, add <code>Person.framework</code>, which is located in the <code>build</code> directory of the Person project directory.</p></li></ol><a name="//apple_ref/doc/uid/TP30000100-TPXREF110" title="Defining Data Sources"></a><h3>Defining Data Sources</h3><p>In Project Builder, select <code>GlobalTransactionConfiguration.xml</code> under the Resources group. You should see the file shown in <span class="content_text">Listing 4-2</span>.</p><a name="//apple_ref/doc/uid/TP30000100-CJBFBGBB" title="Listing 4-2Person_Client project&acirc;&#128;&#148;GlobalTransactionConfiguration.xml file"></a><p class="codesample"><strong>Listing 4-2&nbsp;&nbsp;</strong>Person_Client project—<code>GlobalTransactionConfiguration.xml</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;!DOCTYPE databases PUBLIC "-//EXOLAB/Castor JDO Configuration DTD Version 1.0//EN"<span></span></pre></td></tr><tr><td scope="row"><pre>                           "http://www.apple.com/webobjects/5.2/DTDs/jdo-conf.dtd"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;database name="Global_TX_Database" engine="oracle"><span>// 1</span></pre></td></tr><tr><td scope="row"><pre>    &lt;jndi name="java:comp/env/jdbc/DefaultCMPDatasource" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;mapping href="Contents/Resources/CMPConfiguration.xml" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/database><span></span></pre></td></tr></table></div><p>In the line numbered 1, change the value of the <code>engine</code> attribute to <code>"generic"</code>.</p><p>For more information on data-source definition, see <span class="content_text"><a href="../ContainerConfiguration/ContainerConfiguration.html#//apple_ref/doc/uid/TP30000102-BBCDIDHF">“Defining Data Sources.”</a></span></p><a name="//apple_ref/doc/uid/TP30000100-CJBCIEEI" title="Mapping Enterprise Beans to Data-Store Tables"></a><h3>Mapping Enterprise Beans to Data-Store Tables</h3><p><a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_146"></a>Select <code>CMPConfiguration.xml</code> under the Resources group of the Files list. You should see the file shown in <span class="content_text">Listing 4-3</span>.</p><a name="//apple_ref/doc/uid/TP30000100-CJBBBGHE" title="Listing 4-3Person_Client project&acirc;&#128;&#148;CMPConfiguration.xml file"></a><p class="codesample"><strong>Listing 4-3&nbsp;&nbsp;</strong>Person_Client project—<code>CMPConfiguration.xml</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE mapping PUBLIC "-//EXOLAB/Castor Mapping DTD Version 1.0//EN"<span></span></pre></td></tr><tr><td scope="row"><pre>                         "http://www.apple.com/webobjects/5.2/DTDs/mapping.dtd"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;mapping><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;class identity="person_ID" name="my.ejb.PersonCMP"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;map-to table="*** MARKER table name ***"/><span>// 1</span></pre></td></tr><tr><td scope="row"><pre>        &lt;field direct="true" name="personName" type="java.lang.String"><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;sql name="personName" type="varchar"/><span>// 2</span></pre></td></tr><tr><td scope="row"><pre>        &lt;/field><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;field direct="true" name="person_ID" type="java.lang.Integer"><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;sql name="person_ID" type="integer"/><span>// 3</span></pre></td></tr><tr><td scope="row"><pre>        &lt;/field><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/class><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/mapping><span></span></pre></td></tr></table></div><p>Change the numbered lines according to these instructions:</p><ol class="ol"><li class="li"><p>Set the <code>table</code> attribute of the <code>map-to</code> element to <code>"PERSON"</code>.</p></li><li class="li"><p>Set the <code>name</code> attribute of the <code>sql</code> element to <code>"PERSON_NAME"</code>.</p></li><li class="li"><p>Set the <code>name</code> attribute of the <code>sql</code> element to <code>"PERSON_ID"</code>.</p></li></ol><p>For more information on mapping enterprise beans to tables, see <span class="content_text"><a href="../ContainerConfiguration/ContainerConfiguration.html#//apple_ref/doc/uid/TP30000102-TPXREF104">“Mapping Enterprise Beans to Database Tables.”</a></span><a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_147"></a></p><a name="//apple_ref/doc/uid/TP30000100-TPXREF104" title="Configuring the Transaction Manager"></a><h3>Configuring the Transaction Manager</h3><p>Select <code>TransactionManagerConfiguration.xml</code> and edit it so that it looks like <span class="content_text">Listing 4-4</span>.</p><a name="//apple_ref/doc/uid/TP30000100-CJBCHCAC" title="Listing 4-4Person_Client project&acirc;&#128;&#148;TransactionManagerConfiguration.xml file"></a><p class="codesample"><strong>Listing 4-4&nbsp;&nbsp;</strong>Person_Client project—<code>TransactionManagerConfiguration.xml</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;domain><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;name>default&lt;/name><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;resources><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;dataSource><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;name>DefaultDatabase&lt;/name><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;class>tyrex.resource.jdbc.xa.EnabledDataSource&lt;/class><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;jar>/Library/Java/Extensions/OpenBaseJDBC.jar&lt;/jar><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;config><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;driverName>jdbc:openbase://localhost/Person&lt;/driverName><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;driverClassName>com.openbase.jdbc.ObDriver&lt;/driverClassName><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;transactionTimeout>60&lt;/transactionTimeout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;isolationLevel>Serializable&lt;/isolationLevel><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/config><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;limits><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;maximum>100&lt;/maximum><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;minimum>10&lt;/minimum><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;initial>10&lt;/initial><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;maxRetain>300&lt;/maxRetain><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;timeout>50&lt;/timeout><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/limits><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dataSource><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/resources><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/domain><span></span></pre></td></tr></table></div><p>For more information on transaction manager configuration, see <span class="content_text"><a href="../ContainerConfiguration/ContainerConfiguration.html#//apple_ref/doc/uid/TP30000102-BAJFIIHD">“Transaction Manager Configuration .”</a></span></p><a name="//apple_ref/doc/uid/TP30000100-TPXREF105" title="Creating, Retrieving, and Removing Person Beans"></a><h3>Creating, Retrieving, and Removing Person Beans</h3><p>Now, add the application’s business logic. Select <code>Application.java</code> under Classes in the Files list and modify it to match <span class="content_text">Listing 4-5</span>. </p><a name="//apple_ref/doc/uid/TP30000100-CJBIBJIC" title="Listing 4-5Person_Client project&acirc;&#128;&#148;Application.java file"></a><p class="codesample"><strong>Listing 4-5&nbsp;&nbsp;</strong>Person_Client project—<code>Application.java</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>import my.ejb.Person;<span></span></pre></td></tr><tr><td scope="row"><pre>import my.ejb.PersonHome;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>import java.rmi.RemoteException;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.ejb.CreateException;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.ejb.FinderException;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.ejb.RemoveException;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.naming.Context;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.naming.InitialContext;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.naming.NamingException;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.rmi.PortableRemoteObject;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.foundation.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.appserver.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public class Application extends WOApplication {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    private PersonHome _personHome = null;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public static void main(String argv[]) {<span></span></pre></td></tr><tr><td scope="row"><pre>        WOApplication.main(argv, Application.class);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public Application() {<span></span></pre></td></tr><tr><td scope="row"><pre>        super();<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println("Welcome to " + this.name() + "!");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        // Create Person records.<span></span></pre></td></tr><tr><td scope="row"><pre>        createPeople();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        // Show Person records.<span></span></pre></td></tr><tr><td scope="row"><pre>        showPeople();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        // Remove Person records.<span></span></pre></td></tr><tr><td scope="row"><pre>        removePeople();<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Creates Person records.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public void createPeople() {<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println();<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println("Creating Person records.");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        String[] names = {"Susana", "Charles", "Maria", "August"};<span></span></pre></td></tr><tr><td scope="row"><pre>        NSArray personNames = new NSArray(names);<span></span></pre></td></tr><tr><td scope="row"><pre>        for (int id = 1; id &lt;= personNames.count(); id++) {<span></span></pre></td></tr><tr><td scope="row"><pre>            addPerson(id, (String)personNames.objectAtIndex(id - 1));<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println();<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Displays Person records.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public void showPeople() {<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println("Showing Person records:");<span></span></pre></td></tr><tr><td scope="row"><pre>        for (int id = 1; ; id++) {<span></span></pre></td></tr><tr><td scope="row"><pre>            try {<span></span></pre></td></tr><tr><td scope="row"><pre>                Integer personID = new Integer(id);<span></span></pre></td></tr><tr><td scope="row"><pre>                Person person = personHome().findByPrimaryKey(personID);<span></span></pre></td></tr><tr><td scope="row"><pre>                System.out.println("Name: " + person.getPersonName());<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            catch (FinderException fe) {<span></span></pre></td></tr><tr><td scope="row"><pre>                break;<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            catch (RemoteException re) {<span></span></pre></td></tr><tr><td scope="row"><pre>                re.printStackTrace();<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println();<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Removes Person records.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public void removePeople() {<span></span></pre></td></tr><tr><td scope="row"><pre>        int id = 1;<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println("Removing Person records:");<span></span></pre></td></tr><tr><td scope="row"><pre>        while (removePerson(id++))<span></span></pre></td></tr><tr><td scope="row"><pre>            ;<span></span></pre></td></tr><tr><td scope="row"><pre>        System.out.println();<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Adds a Person record.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public void addPerson(int id, String name) {<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            Integer personID = new Integer(id);<span></span></pre></td></tr><tr><td scope="row"><pre>            if (personIDIsAvailable(personID)) {<span></span></pre></td></tr><tr><td scope="row"><pre>                Person person = personHome().create(personID, name);<span></span></pre></td></tr><tr><td scope="row"><pre>                System.out.println("Added " + name + ".");<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            else {<span></span></pre></td></tr><tr><td scope="row"><pre>                System.out.println(name + " not added because ID " + personID + " is in use.");<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (RemoteException re) {<span></span></pre></td></tr><tr><td scope="row"><pre>            re.printStackTrace();<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (CreateException ce) {<span></span></pre></td></tr><tr><td scope="row"><pre>            // Unable to create record: Do nothing.<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Removes a Person record.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @return &lt;code>true&lt;/code> when successful, &lt;code>false&lt;/code> otherwise.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public boolean removePerson(int id) {<span></span></pre></td></tr><tr><td scope="row"><pre>        boolean removed = false;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            Integer personID = new Integer(id);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            // FinderException is thrown when the record doesn't exist.<span></span></pre></td></tr><tr><td scope="row"><pre>            Person person = personHome().findByPrimaryKey(personID);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            System.out.println("Deleting " + person.getPersonName() + ".");<span></span></pre></td></tr><tr><td scope="row"><pre>            personHome().remove(personID);<span></span></pre></td></tr><tr><td scope="row"><pre>            removed = true;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (FinderException fe) {<span></span></pre></td></tr><tr><td scope="row"><pre>            // Record not found: Do nothing.<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (RemoteException re) {<span></span></pre></td></tr><tr><td scope="row"><pre>            re.printStackTrace();<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (RemoveException re) {<span></span></pre></td></tr><tr><td scope="row"><pre>            re.printStackTrace();<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>       return removed;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Determines whether a personID has been used.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @param personID the value to check;<span></span></pre></td></tr><tr><td scope="row"><pre>     * @return &lt;code>true&lt;/code> when personID is available,<span></span></pre></td></tr><tr><td scope="row"><pre>     * &lt;code>false&lt;/code> otherwise.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public boolean personIDIsAvailable(Integer personID) {<span></span></pre></td></tr><tr><td scope="row"><pre>        boolean personID_available = true;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            personHome().findByPrimaryKey(personID);<span></span></pre></td></tr><tr><td scope="row"><pre>            personID_available = false;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (FinderException fe) {<span></span></pre></td></tr><tr><td scope="row"><pre>            // personID is available: Do nothing.<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (RemoteException re) {<span></span></pre></td></tr><tr><td scope="row"><pre>            re.printStackTrace();<span></span></pre></td></tr><tr><td scope="row"><pre>            personID_available = false;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        return personID_available;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Obtains Person's home interface.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @return Person's home interface.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public PersonHome personHome() {<span></span></pre></td></tr><tr><td scope="row"><pre>        if (_personHome == null) {<span></span></pre></td></tr><tr><td scope="row"><pre>            try {<span></span></pre></td></tr><tr><td scope="row"><pre>                Context jndiContext = new InitialContext();<span></span></pre></td></tr><tr><td scope="row"><pre>                _personHome = (PersonHome)PortableRemoteObject.narrow(jndiContext.lookup("PersonCMP"), PersonHome.class);<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            catch (NamingException ne) {<span></span></pre></td></tr><tr><td scope="row"><pre>                ne.printStackTrace();<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        return _personHome;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>	<p>Build and run the application. You should see the following output in the console:<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_148"></a></p><div class="codesample"><table><tr><td scope="row"><pre>Welcome to Person_Client!<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Creating Person records.<span></span></pre></td></tr><tr><td scope="row"><pre>Added Susana.<span></span></pre></td></tr><tr><td scope="row"><pre>Added Charles.<span></span></pre></td></tr><tr><td scope="row"><pre>Added Maria.<span></span></pre></td></tr><tr><td scope="row"><pre>Added August.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Showing Person records:<span></span></pre></td></tr><tr><td scope="row"><pre>Name: Susana<span></span></pre></td></tr><tr><td scope="row"><pre>Name: Charles<span></span></pre></td></tr><tr><td scope="row"><pre>Name: Maria<span></span></pre></td></tr><tr><td scope="row"><pre>Name: August<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Removing Person records:<span></span></pre></td></tr><tr><td scope="row"><pre>Deleting Susana.<span></span></pre></td></tr><tr><td scope="row"><pre>Deleting Charles.<span></span></pre></td></tr><tr><td scope="row"><pre>Deleting Maria.<span></span></pre></td></tr><tr><td scope="row"><pre>Deleting August.<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000100-CJBFAFFD" title="Advanced Entity-Bean Development"></a><h2>Advanced Entity-Bean Development</h2><p>This section addresses support for advanced entity-bean development, mainly bean-managed persistence (BMP) and Data Access Objects (DAO).</p><a name="//apple_ref/doc/uid/TP30000100-TPXREF106" title="Bean-Managed Persistence"></a><h3>Bean-Managed Persistence</h3><p>CMP beans are easy to use because the bean container performs the data-store operations; you don’t need to worry about executing SQL statements. However, you can use BMP<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_149"></a> beans when you need to customize the way your beans store and retrieve data from a data store.</p><p>If you select Generate BMP Class in the Configure Bean pane of EOBeanAssistant when you develop an entity bean from a data model, you get a file similar to the one shown in <span class="content_text">Listing 4-6</span>.</p><a name="//apple_ref/doc/uid/TP30000100-CJBGGGAC" title="Listing 4-6PersonBMP.java file"></a><p class="codesample"><strong>Listing 4-6&nbsp;&nbsp;</strong><code>PersonBMP.java</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>package my.ejb;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.sql.DataSource;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.naming.InitialContext;<span></span></pre></td></tr><tr><td scope="row"><pre>import javax.ejb.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import java.sql.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public class PersonBMP implements EntityBean {<span></span></pre></td></tr><tr><td scope="row"><pre>    protected DataSource _datasource;<span></span></pre></td></tr><tr><td scope="row"><pre>    protected EntityContext _entityContext;<span></span></pre></td></tr><tr><td scope="row"><pre>    protected java.lang.String personName;<span></span></pre></td></tr><tr><td scope="row"><pre>    protected java.lang.Integer person_ID;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * Empty constructor as required by the EJB spcification.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public PersonBMP() {<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * This method creates a new entity from all required (non-NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>     * attributes.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @returns the primary key for this bean instance.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @throws javax.ejb.CreateException<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.Integer ejbCreate(java.lang.Integer person_ID) throws CreateException{<span></span></pre></td></tr><tr><td scope="row"><pre>        this.person_ID = person_ID;<span></span></pre></td></tr><tr><td scope="row"><pre>        Connection connection = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        PreparedStatement statement = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            String sqlString = "INSERT INTO PERSON (PERSON_ID) VALUES (?)";<span></span></pre></td></tr><tr><td scope="row"><pre>            connection = _datasource.getConnection();<span></span></pre></td></tr><tr><td scope="row"><pre>            statement = connection.prepareStatement(sqlString);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setInt(1, person_ID.intValue());<span></span></pre></td></tr><tr><td scope="row"><pre>            int ret=statement.executeUpdate();<span></span></pre></td></tr><tr><td scope="row"><pre>            if ( ret != 1 ) {<span></span></pre></td></tr><tr><td scope="row"><pre>                throw new CreateException();<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(e);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        finally {<span></span></pre></td></tr><tr><td scope="row"><pre>            cleanup(connection, statement);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        return person_ID;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbPostCreate(java.lang.Integer person_ID) {<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * This method creates a new entity from all attributes.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @returns the primary key for this bean instance.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @throws javax.ejb.CreateException<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.Integer ejbCreate(java.lang.Integer person_ID, java.lang.String personName) throws CreateException {<span></span></pre></td></tr><tr><td scope="row"><pre>        this.personName = personName;<span></span></pre></td></tr><tr><td scope="row"><pre>        this.person_ID = person_ID;<span></span></pre></td></tr><tr><td scope="row"><pre>        Connection connection = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        PreparedStatement statement = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            String sqlString = "INSERT INTO PERSON (PERSON_NAME, PERSON_ID) VALUES (?,?)";<span></span></pre></td></tr><tr><td scope="row"><pre>            connection = _datasource.getConnection();<span></span></pre></td></tr><tr><td scope="row"><pre>            statement = connection.prepareStatement(sqlString);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setString(1, personName);<span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setInt(2, person_ID.intValue());<span></span></pre></td></tr><tr><td scope="row"><pre>            int ret=statement.executeUpdate();<span></span></pre></td></tr><tr><td scope="row"><pre>            if (ret != 1 ) {<span></span></pre></td></tr><tr><td scope="row"><pre>                throw new CreateException();<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(e);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        finally {<span></span></pre></td></tr><tr><td scope="row"><pre>            cleanup(connection, statement);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        return person_ID;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbPostCreate(java.lang.Integer person_ID, java.lang.String personName) {<span></span></pre></td></tr><tr><td scope="row"><pre>     }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * This method returns all entities in this table.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @returns all entities in the table in a java.util.Collection.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @throws javax.ejb.FinderException if there are problems connecting<span></span></pre></td></tr><tr><td scope="row"><pre>     *              to the database or executing the query.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.util.Collection ejbFindAll() throws FinderException {<span></span></pre></td></tr><tr><td scope="row"><pre>        Connection connection = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        PreparedStatement statement = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            String sqlString = "SELECT PERSON_ID FROM PERSON";<span></span></pre></td></tr><tr><td scope="row"><pre>            connection = _datasource.getConnection();<span></span></pre></td></tr><tr><td scope="row"><pre>            statement = connection.prepareStatement(sqlString);<span></span></pre></td></tr><tr><td scope="row"><pre>            ResultSet resultSet = statement.executeQuery();<span></span></pre></td></tr><tr><td scope="row"><pre>            java.util.Collection primaryKeys = new java.util.ArrayList();<span></span></pre></td></tr><tr><td scope="row"><pre>            while(resultSet.next()) {<span></span></pre></td></tr><tr><td scope="row"><pre>                java.lang.Integer primaryKey = new java.lang.Integer(resultSet.getInt(1));<span></span></pre></td></tr><tr><td scope="row"><pre>                primaryKeys.add(primaryKey);<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            resultSet.close();<span></span></pre></td></tr><tr><td scope="row"><pre>            return primaryKeys;<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(e);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        finally {<span></span></pre></td></tr><tr><td scope="row"><pre>            cleanup(connection, statement);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * This method returns the bean associated with the primaryKey argument,<span></span></pre></td></tr><tr><td scope="row"><pre>     * or throws a javax.ejb.ObjectNotFoundException.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @returns the bean associated with the primaryKey argument.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @throws javax.ejb.ObjectNotFoundException if an entity with the given<span></span></pre></td></tr><tr><td scope="row"><pre>     *                   primary key doesn't exist.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.Integer ejbFindByPrimaryKey(java.lang.Integer primaryKey) throws FinderException {<span></span></pre></td></tr><tr><td scope="row"><pre>        Connection connection=null;<span></span></pre></td></tr><tr><td scope="row"><pre>        PreparedStatement statement=null;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            String sqlString = "SELECT PERSON_ID FROM PERSON WHERE PERSON_ID = ? ";<span></span></pre></td></tr><tr><td scope="row"><pre>            connection = _datasource.getConnection();<span></span></pre></td></tr><tr><td scope="row"><pre>            statement = connection.prepareStatement(sqlString);<span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setInt(1, primaryKey.intValue());<span></span></pre></td></tr><tr><td scope="row"><pre>            ResultSet resultSet = statement.executeQuery();<span></span></pre></td></tr><tr><td scope="row"><pre>            boolean found = resultSet.next();<span></span></pre></td></tr><tr><td scope="row"><pre>            resultSet.close();<span></span></pre></td></tr><tr><td scope="row"><pre>            if (found) {<span></span></pre></td></tr><tr><td scope="row"><pre>                return primaryKey;<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            else {<span></span></pre></td></tr><tr><td scope="row"><pre>                throw new ObjectNotFoundException("Could not find: " + primaryKey);<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(e);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        finally {<span></span></pre></td></tr><tr><td scope="row"><pre>            cleanup(connection, statement);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.String getPersonName(){<span></span></pre></td></tr><tr><td scope="row"><pre>       return personName;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public void setPersonName(java.lang.String personName){<span></span></pre></td></tr><tr><td scope="row"><pre>       this.personName = personName;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.Integer getPerson_ID() {<span></span></pre></td></tr><tr><td scope="row"><pre>        return person_ID;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbRemove() throws RemoveException {<span></span></pre></td></tr><tr><td scope="row"><pre>        Connection        connection = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        PreparedStatement statement  = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            String sqlString = "DELETE FROM PERSON WHERE PERSON_ID = ? ";<span></span></pre></td></tr><tr><td scope="row"><pre>            connection = _datasource.getConnection();<span></span></pre></td></tr><tr><td scope="row"><pre>            statement  = connection.prepareStatement(sqlString);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setInt(1, person_ID.intValue());<span></span></pre></td></tr><tr><td scope="row"><pre>            if (statement.executeUpdate() != 1) {<span></span></pre></td></tr><tr><td scope="row"><pre>                throw new RemoveException();<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(e);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        finally {<span></span></pre></td></tr><tr><td scope="row"><pre>            cleanup(connection, statement);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>     }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbActivate() {<span></span></pre></td></tr><tr><td scope="row"><pre>        java.lang.Integer person_ID = (java.lang.Integer) _entityContext.getPrimaryKey();<span></span></pre></td></tr><tr><td scope="row"><pre>        this.person_ID = person_ID;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbPassivate() {<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbLoad() {<span></span></pre></td></tr><tr><td scope="row"><pre>        Connection connection = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        PreparedStatement statement = null;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            String sqlString = "SELECT PERSON_NAME FROM PERSON WHERE PERSON_ID = ? ";<span></span></pre></td></tr><tr><td scope="row"><pre>            connection = _datasource.getConnection();<span></span></pre></td></tr><tr><td scope="row"><pre>            statement = connection.prepareStatement(sqlString);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setInt(1, person_ID.intValue());<span></span></pre></td></tr><tr><td scope="row"><pre>            ResultSet resultSet = statement.executeQuery();<span></span></pre></td></tr><tr><td scope="row"><pre>            if(!resultSet.next()) {<span></span></pre></td></tr><tr><td scope="row"><pre>                resultSet.close();<span></span></pre></td></tr><tr><td scope="row"><pre>                throw new NoSuchEntityException("ejbLoad failed. Primary key not found: "+_entityContext.getPrimaryKey());<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            personName = resultSet.getString(1);<span></span></pre></td></tr><tr><td scope="row"><pre>            resultSet.close();<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch(SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(e);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        finally {<span></span></pre></td></tr><tr><td scope="row"><pre>            cleanup(connection, statement);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbStore() {<span></span></pre></td></tr><tr><td scope="row"><pre>        Connection connection=null;<span></span></pre></td></tr><tr><td scope="row"><pre>        PreparedStatement statement=null;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            String sqlString = "UPDATE PERSON SET PERSON_NAME = ?  WHERE PERSON_ID = ? ";<span></span></pre></td></tr><tr><td scope="row"><pre>            connection = _datasource.getConnection();<span></span></pre></td></tr><tr><td scope="row"><pre>            statement = connection.prepareStatement(sqlString);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setString(1, personName);<span></span></pre></td></tr><tr><td scope="row"><pre>            statement.setInt(2, person_ID.intValue());<span></span></pre></td></tr><tr><td scope="row"><pre>            if(statement.executeUpdate() != 1) {<span></span></pre></td></tr><tr><td scope="row"><pre>                throw new NoSuchEntityException("ejbStore failed. Primary key not found: "+_entityContext.getPrimaryKey());<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch (SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(e);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        finally {<span></span></pre></td></tr><tr><td scope="row"><pre>            cleanup(connection, statement);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void setEntityContext(EntityContext entityContext) {<span></span></pre></td></tr><tr><td scope="row"><pre>        _entityContext = entityContext;<span></span></pre></td></tr><tr><td scope="row"><pre>        try {<span></span></pre></td></tr><tr><td scope="row"><pre>            InitialContext context = new InitialContext();<span></span></pre></td></tr><tr><td scope="row"><pre>            _datasource = (DataSource) context.lookup("java:comp/env/jdbc/DataSource");<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        catch(Exception ne) {<span></span></pre></td></tr><tr><td scope="row"><pre>            throw new EJBException(ne);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void unsetEntityContext() {<span></span></pre></td></tr><tr><td scope="row"><pre>        _entityContext = null;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    private void cleanup(Connection connection, PreparedStatement statement) {<span></span></pre></td></tr><tr><td scope="row"><pre>        if(statement != null) {<span></span></pre></td></tr><tr><td scope="row"><pre>            try{<span></span></pre></td></tr><tr><td scope="row"><pre>                statement.close();<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            catch(SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>                // Do nothing.<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        if(connection != null) {<span></span></pre></td></tr><tr><td scope="row"><pre>            try {<span></span></pre></td></tr><tr><td scope="row"><pre>                connection.close();<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>            catch(SQLException e) {<span></span></pre></td></tr><tr><td scope="row"><pre>                // Do nothing.<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>	<a name="//apple_ref/doc/uid/TP30000100-TPXREF107" title="Data Access Objects"></a><h3>Data Access Objects</h3><p>When you select Generate DAO<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_150"></a> Class in the Configure Bean pane of EOBeanAssistant, you get a file similar to the one listed in <span class="content_text">Listing 4-7</span>.<a name="//apple_ref/doc/uid/TP30000100-DontLinkElementID_151"></a></p><a name="//apple_ref/doc/uid/TP30000100-CJBIEIFB" title="Listing 4-7PersonDAO.java file"></a><p class="codesample"><strong>Listing 4-7&nbsp;&nbsp;</strong><code>PersonDAO.java</code> file</p><div class="codesample"><table><tr><td scope="row"><pre>package my.ejb;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public interface PersonDAO {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * This method creates a new entity from its required attributes.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @throws javax.ejb.CreateException;<span></span></pre></td></tr><tr><td scope="row"><pre>     * @returns the primary key for this bean instance.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.Integer ejbCreate(java.lang.Integer person_ID) throws javax.ejb.CreateException;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * This method creates a new entity from all attributes.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @throws javax.ejb.CreateException;<span></span></pre></td></tr><tr><td scope="row"><pre>     * @returns the primary key for this bean instance.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.Integer ejbCreate(java.lang.Integer person_ID, java.lang.String personName) throws javax.ejb.CreateException;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /**<span></span></pre></td></tr><tr><td scope="row"><pre>     * This method returns the bean associated with the primaryKey argument,<span></span></pre></td></tr><tr><td scope="row"><pre>     * or throws a javax.ejb.ObjectNotFoundException.<span></span></pre></td></tr><tr><td scope="row"><pre>     * @throws javax.ejb.ObjectNotFoundException if an entity with the given<span></span></pre></td></tr><tr><td scope="row"><pre>     *               primary key doesn't exist;<span></span></pre></td></tr><tr><td scope="row"><pre>     * @returns the bean associated with the primaryKey argument.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    public java.lang.Integer ejbFindByPrimaryKey(java.lang.Integer primaryKey) throws javax.ejb.FinderException;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbRemove() throws javax.ejb.RemoveException;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbLoad();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void ejbStore();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public void setBeanInstance(PersonBMP bean, javax.sql.DataSource datasource);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>	

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../SimpleSessionBean/SimpleSessionBean.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../FrameworkDevelopment/FrameworkDevelopment.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2001, 2004 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2004-10-05<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/Enterprise_JavaBeans/EntityBean/EntityBean.html%3Fid%3DTP30001012-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/Enterprise_JavaBeans/EntityBean/EntityBean.html%3Fid%3DTP30001012-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/Enterprise_JavaBeans/EntityBean/EntityBean.html%3Fid%3DTP30001012-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>