<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
    "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html><head>
    <title>DRContentFile.h</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta name="generator" content="HeaderDoc" />
<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style></head><body bgcolor="#ffffff">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/MusicAudio/index.html#//apple_ref/doc/uid/TP30001281-TP30000428" target="_top">Audio</a> <b>&gt;</b> <a href="../../../../../reference/MusicAudio/idxCarbon-date.html#//apple_ref/doc/uid/TP30001281-TP30000428-TP30000494" target="_top">Carbon</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/discrecording" target="_top">Disc Recording Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>


<!-- end of header -->
<a name="top"></a>
<a name="//apple_ref/doc/header/DRContentFile.h" title="DRContentFile.h"></a>
<hr><table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h1><a name="DRContentFile.h">DRContentFile.h</a></h1>
</td></tr></table><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr><td scope="row"><b>Includes:</b></td><td><div style="margin-bottom:1px"><div class="content_text"><a href="../DRContentObject/index.html#//apple_ref/doc/header/DRContentObject.h" target="_top">&lt;DiscRecording/DRContentObject.h&gt;</a><br>
<!-- a -->&lt;CoreFoundation/CFURL.h&gt;<!-- /a --><br>
<!-- a -->&lt;AvailabilityMacros.h&gt;<!-- /a --></div></div></td></tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract -->File objects used in filesystem creation.<!-- end abstract --></p>
<hr><br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/DRFileCreateReal" target="doc">DRFileCreateReal</a></tt></dt>
<dd>Creates a new real file object corresponding to a given FSRef.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/DRFileCreateRealWithURL" target="doc">DRFileCreateRealWithURL</a></tt></dt>
<dd>Creates a new real file object corresponding to a given file URL.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualLink" target="doc">DRFileCreateVirtualLink</a></tt></dt>
<dd>Creates a virtual file or folder object in the form of a link to another
file or folder in the hierarchy.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualWithCallback" target="doc">DRFileCreateVirtualWithCallback</a></tt></dt>
<dd>Creates a virtual file object that will be filled in during data production
by a callback function.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualWithData" target="doc">DRFileCreateVirtualWithData</a></tt></dt>
<dd>Creates a virtual file object with the specified data.
</dd>
<dt><tt><a href="CompositePage.html#//apple_ref/c/func/DRFileGetTypeID" target="doc">DRFileGetTypeID</a></tt></dt>
<dd>Returns the type identifier of all DRFile objects.
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/DRFileCreateReal;  name=DRFileCreateReal -->
<a name="//apple_ref/c/func/DRFileCreateReal"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileCreateReal">DRFileCreateReal</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates a new real file object corresponding to a given FSRef.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFileRef" class="type"><span class="type">DRFileRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/DRFileCreateReal" class="function"><span class="function">DRFileCreateReal</span></a>( 
    <span class="keyword">const</span> <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/c/tdef/FSRef" target="_top" class="type"><span class="type">FSRef</span></a> *<span class="param">fsRef</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>fsRef</code></dt><dd>An <tt>FSRef</tt> reference to a file on-disk.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->The newly-created file, or <tt>NULL</tt>.

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->A real file object is a file object which corresponds to a real
file on disk.  The content of the file object corresponds to the
actual on-disk content of the file.
<!-- end discussion --></p>
<p></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.2
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/DRFileCreateRealWithURL;  name=DRFileCreateRealWithURL -->
<a name="//apple_ref/c/func/DRFileCreateRealWithURL"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileCreateRealWithURL">DRFileCreateRealWithURL</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates a new real file object corresponding to a given file URL.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFileRef" class="type"><span class="type">DRFileRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/DRFileCreateRealWithURL" class="function"><span class="function">DRFileCreateRealWithURL</span></a>( 
    <span class="keyword">const</span> <a href="../../../../CoreFoundation/Reference/CFURLRef/Reference/reference.html#//apple_ref/c/tdef/CFURLRef" target="_top" class="type"><span class="type">CFURLRef</span></a> <span class="param">urlRef</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>urlRef</code></dt><dd>CFURLRef reference to a file on-disk.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->Returns a reference to the newly-created real file object, or <tt>NULL</tt>.

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->A real file object is a file object which corresponds to a real
file on disk.  The content of the file object corresponds to the
actual on-disk content of the file.
<!-- end discussion --></p>
<p></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.2
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/DRFileCreateVirtualLink;  name=DRFileCreateVirtualLink -->
<a name="//apple_ref/c/func/DRFileCreateVirtualLink"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileCreateVirtualLink">DRFileCreateVirtualLink</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates a virtual file or folder object in the form of a link to another
file or folder in the hierarchy.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFileRef" class="type"><span class="type">DRFileRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualLink" class="function"><span class="function">DRFileCreateVirtualLink</span></a>( 
    <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFSObjectRef" class="type"><span class="type">DRFSObjectRef</span></a> <span class="param">original</span>, 
    <a href="CompositePage.html#//apple_ref/c/tdef/DRLinkType" class="type"><span class="type">DRLinkType</span></a> <span class="param">linkType</span>, 
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">fsKey</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>original</code></dt><dd>The file or folder to link to.</dd>
<dt><code>linkType</code></dt><dd>The type of link to create. See the <a href="CompositePage.html#//apple_ref/c/tag/DRLinkType">DRLinkType </a> enumeration.</dd>
<dt><code>fsKey</code></dt><dd>The target file system for the link. The various keys are defined in
DRContentProperties.h.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->A reference to the newly-created virtual file or folder object.

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Disc Recording currently supports four link types: symbolic links, hard links,
Finder aliases, and combination symbolic link/Finder aliases.
<br><br>
Links often include relative path information.  Since the relative path
between two objects can be different depending on the target file system, you
must specify a target file system when requesting a link.  The file system 
mask on the newly-created link will automatically be set to ensure the file 
appears only in that file system.
<!-- end discussion --></p>
<p></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.2
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/DRFileCreateVirtualWithCallback;  name=DRFileCreateVirtualWithCallback -->
<a name="//apple_ref/c/func/DRFileCreateVirtualWithCallback"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileCreateVirtualWithCallback">DRFileCreateVirtualWithCallback</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates a virtual file object that will be filled in during data production
by a callback function.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFileRef" class="type"><span class="type">DRFileRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualWithCallback" class="function"><span class="function">DRFileCreateVirtualWithCallback</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">baseName</span>, 
    <a href="CompositePage.html#//apple_ref/c/tdef/DRFileProc" class="type"><span class="type">DRFileProc</span></a> <span class="param">fileProc</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="param">fileProcRefCon</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>baseName</code></dt><dd>The base name to assign to the new virtual file. For information on base
names and how Disc Recording works with them, see <a href="../DRContentObject/CompositePage.html#//apple_ref/c/func/DRFSObjectSetBaseName">DRFSObjectSetBaseName </a>
and <a href="../DRContentObject/CompositePage.html#//apple_ref/c/func/DRFSObjectSetSpecificName">DRFSObjectSetSpecificName </a>.</dd>
<dt><code>fileProc</code></dt><dd>Your application-implemented callback function to generate file data.</dd>
<dt><code>fileProcRefCon</code></dt><dd>An optional reference context for the callback to use.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->Returns a reference to the newly-created virtual file object, or <tt>NULL</tt>.

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->A virtual file is a file object which does not correspond to any real file
on disk, but represents a file you want to appear in the file
structure of the disc you are burning. It is created and modified 
using Disc Recording's 'content' functions -- see the 
documentation for DRContentObject.h.
<br><br>
The Disc Recording framework may invoke the callback at any time, and the 
calls may be made in any order, until the file object has been disposed.
<!-- end discussion --></p>
<p></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.2
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/DRFileCreateVirtualWithData;  name=DRFileCreateVirtualWithData -->
<a name="//apple_ref/c/func/DRFileCreateVirtualWithData"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileCreateVirtualWithData">DRFileCreateVirtualWithData</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Creates a virtual file object with the specified data.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFileRef" class="type"><span class="type">DRFileRef</span></a> <a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualWithData" class="function"><span class="function">DRFileCreateVirtualWithData</span></a>( 
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">baseName</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="param">fileData</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">fileDataLength</span>) ;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>baseName</code></dt><dd>The base name to assign to the new virtual file.</dd>
<dt><code>fileData</code></dt><dd>A pointer to the data for the file.  May be <tt>NULL</tt> if
<tt>inFileLength</tt> is zero.</dd>
<dt><code>fileDataLength</code></dt><dd>The length of data in bytes.</dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->Returns a reference to the newly-created virtual file object, or <tt>NULL</tt>.

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->A virtual file is a file object which does not correspond to any real
file on disk, but represents a file you want to appear in the file
structure of the disc you are burning. It is created and modified 
using Disc Recording's 'content' functions -- see the 
documentation for DRContentObject.h.
<br><br>
The file data passed in to this function is copied internally. Although 
it's possible to create files of arbitrary size with this function, you 
should limit files created in this way to a reasonable size, such as
100K or less, because each file consumes a corresponding amount of memory.
<br><br>
On multi-fork file systems the file data is used for the data fork.
<!-- end discussion --></p>
<p></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.2
</dd>
</dl>
<hr><!-- headerDoc=func;  uid=//apple_ref/c/func/DRFileGetTypeID;  name=DRFileGetTypeID -->
<a name="//apple_ref/c/func/DRFileGetTypeID"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileGetTypeID">DRFileGetTypeID</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Returns the type identifier of all DRFile objects.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">extern</span> <a href="../../../../CoreFoundation/Reference/CFTypeRef/Reference/reference.html#//apple_ref/c/tdef/CFTypeID" target="_top" class="type"><span class="type">CFTypeID</span></a> <a href="CompositePage.html#//apple_ref/c/func/DRFileGetTypeID" class="function"><span class="function">DRFileGetTypeID</span></a>(
    <span class="param">void</span>) ;  </pre>
<p></p><dl><dt><i>Availability</i></dt><dd>Introduced in Mac OS X v10.2
</dd>
</dl>
<h2>Typedefs</h2>
<hr><!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/DRFileForkIndex;  name=DRFileForkIndex -->
<a name="//apple_ref/c/tdef/DRFileForkIndex"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileForkIndex">DRFileForkIndex</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Index used for accessing the forks of a file.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">typedef</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="var">DRFileForkIndex</span>;  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->The data fork and resource fork always have fixed indices.  Other forks
may be allowed in the future.
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/DRFileForkSizeQuery;  name=DRFileForkSizeQuery -->
<a name="//apple_ref/c/tdef/DRFileForkSizeQuery"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileForkSizeQuery">DRFileForkSizeQuery</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Type used to define queries on the fork size.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">typedef</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="var">DRFileForkSizeQuery</span>;  </pre>
<p></p><hr><!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/DRFileMessage;  name=DRFileMessage -->
<a name="//apple_ref/c/tdef/DRFileMessage"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileMessage">DRFileMessage</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Messages sent to the <a href="CompositePage.html#//apple_ref/c/tdef/DRFileProc">DRFileProc </a> callback during a burn.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">typedef</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="var">DRFileMessage</span>;  </pre>
<p></p><hr><!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/DRFileProc;  name=DRFileProc -->
<a name="//apple_ref/c/tdef/DRFileProc"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileProc">DRFileProc</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Callback function to produce and manage a file for recording a track.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">typedef</span> <a href="../../../../Carbon/Reference/ErrorHandler/Reference/reference.html#//apple_ref/c/tdef/OSStatus" target="_top" class="type"><span class="type">OSStatus</span></a> ( *<!-- a --><span class="function">DRFileProc</span><!-- /a -->)( 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="param">refCon</span>, 
    <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFileRef" class="type"><span class="type">DRFileRef</span></a> <span class="param">file</span>, 
    <a href="CompositePage.html#//apple_ref/c/tdef/DRFileMessage" class="type"><span class="type">DRFileMessage</span></a> <span class="param">message</span>, 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="param">ioParam</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<blockquote>
<dl><dt><code>refCon</code></dt><dd>Reference context for your use, established when
the callback is registered.</dd>
<dt><code>file</code></dt><dd>The file object being produced.</dd>
<dt><code>message</code></dt><dd>Sent by the Disc Recording engine to indicate the 
type of data it needs your application to supply. The 
various messages are defined in the <a href="CompositePage.html#//apple_ref/c/tag/DRFileMessage">DRFileMessage </a> 
enumeration.</dd>
<dt><code>ioParam</code></dt><dd>Parameters are message-specific. See the <a href="CompositePage.html#//apple_ref/c/tag/DRFileMessage">DRFileMessage </a> 
enumeration.</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5><p><!-- begin return value -->Your application should return <a href="../DRCoreErrors/CompositePage.html#//apple_ref/c/econst/kDRFunctionNotSupportedErr">kDRFunctionNotSupportedErr </a>
when a message was passed that it doesn't respond to.

<!-- end return value --></p><h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Your application needs to implement a callback to create files representing
tracks to burn, and to interact with those tracks by responding to the 
messages in the <a href="CompositePage.html#//apple_ref/c/tag/DRFileMessage">DRFileMessage </a> enumeration.
<br><br>
If you name your function <tt>MyDRFileCallback</tt>, you would
declare it like this:
<br><br>
				<pre>
					OSStatus MyDRFileCallback (
						void			*refCon,
						DRFileRef		file,
						DRFileMessage	message,
						void			*ioParam
					);
</pre>
<br><br>
Your callback places the requested data
<br><br>
If your callback does not support a given function, it should return
<a href="../DRCoreErrors/CompositePage.html#//apple_ref/c/econst/kDRFunctionNotSupportedErr">kDRFunctionNotSupportedErr </a>.
<br><br>
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=tdef;  uid=//apple_ref/c/tdef/DRLinkType;  name=DRLinkType -->
<a name="//apple_ref/c/tdef/DRLinkType"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRLinkType">DRLinkType</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Link types available for the <a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualLink">DRFileCreateVirtualLink </a> function.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">typedef</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="var">DRLinkType</span>;  </pre>
<p></p><h2>Structs and Unions</h2>
<hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/DRFileForkSizeInfo;  name=DRFileForkSizeInfo -->
<a name="//apple_ref/c/tag/DRFileForkSizeInfo"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileForkSizeInfo">DRFileForkSizeInfo</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Structure used when requesting fork sizes.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">struct</span> <a href="CompositePage.html#//apple_ref/c/tag/DRFileForkSizeInfo" class="type"><span class="type">DRFileForkSizeInfo</span></a> { 
    <a href="CompositePage.html#//apple_ref/c/tdef/DRFileForkIndex" class="type"><span class="type">DRFileForkIndex</span></a> <span class="var">fork</span>; 
    <a href="CompositePage.html#//apple_ref/c/tdef/DRFileForkSizeQuery" class="type"><span class="type">DRFileForkSizeQuery</span></a> <span class="var">query</span>; 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="var">size</span>; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<blockquote>
<dl><dt><code>fork</code></dt><dd>(in) which fork is being requested</dd>
<dt><code>query</code></dt><dd>(in) type of query, estimate or actual</dd>
<dt><code>size</code></dt><dd>(out) returned size</dd>
</dl>
</blockquote>
<p></p><hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/DRFileProductionInfo;  name=DRFileProductionInfo -->
<a name="//apple_ref/c/tag/DRFileProductionInfo"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileProductionInfo">DRFileProductionInfo</a></h3>
</td></tr></table><hr><p><!-- begin abstract -->Structure used by the <a href="CompositePage.html#//apple_ref/c/tdef/DRFileProc">DRFileProc </a> callback during production of a track.
<!-- end abstract --></p>
<p></p><pre><span class="keyword">struct</span> <a href="CompositePage.html#//apple_ref/c/tag/DRFileProductionInfo" class="type"><span class="type">DRFileProductionInfo</span></a> { 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="var">requestedAddress</span>; 
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> *<span class="var">buffer</span>; 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="var">reqCount</span>; 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="var">actCount</span>; 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="var">blockSize</span>; 
    <a href="CompositePage.html#//apple_ref/c/tdef/DRFileForkIndex" class="type"><span class="type">DRFileForkIndex</span></a> <span class="var">fork</span>; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<blockquote>
<dl><dt><code>requestedAddress</code></dt><dd>(out) byte address that the burn engine is requesting</dd>
<dt><code>buffer</code></dt><dd>(out) buffer to produce into</dd>
<dt><code>reqCount</code></dt><dd>(out) number of bytes requested</dd>
<dt><code>actCount</code></dt><dd>(in) number of bytes you actually produced</dd>
<dt><code>blockSize</code></dt><dd>(out) current block size, you must always return multiples of this</dd>
<dt><code>fork</code></dt><dd>(out) which fork is being requested</dd>
</dl>
</blockquote>
<p></p><h2>Enumerations</h2>
<hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/DRFileFork;  name=DRFileFork indicies -->
<a name="//apple_ref/c/tag/DRFileFork"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileForkindicies">DRFileFork indicies</a></h3>
</td></tr></table><hr><p></p><pre><span class="keyword">enum</span> { 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileForkData" class="type"><span class="type">kDRFileForkData</span></a> = <span class="number">0</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileForkResource" class="type"><span class="type">kDRFileForkResource</span></a> = <span class="number">1</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kDRFileForkData"><code>kDRFileForkData</code></a></dt><dd>Typically, the data fork contains the primary information for the file and is the fork used for files such as JPEGs, text files, etc.</dd>
<dt><a name="//apple_ref/c/econst/kDRFileForkResource"><code>kDRFileForkResource</code></a></dt><dd>Typically, the resource fork contains secondary meta-data, which is not
important to the primary content of the file and may safely be ignored
when the file is sent to a filesystem or OS which does not support
multiple forks.  See Inside Macintosh: Resources for more information on
the format of a resource fork.</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Index used for accessing the forks of a file.
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/DRFileForkSizeQuery;  name=DRFileForkSizeQuery contants -->
<a name="//apple_ref/c/tag/DRFileForkSizeQuery"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileForkSizeQuerycontants">DRFileForkSizeQuery contants</a></h3>
</td></tr></table><hr><p></p><pre><span class="keyword">enum</span> { 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileForkSizeActual" class="type"><span class="type">kDRFileForkSizeActual</span></a> = <span class="number">0</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileForkSizeEstimate" class="type"><span class="type">kDRFileForkSizeEstimate</span></a> = <span class="number">1</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kDRFileForkSizeActual"><code>kDRFileForkSizeActual</code></a></dt><dd>Indicates a request for actual size.</dd>
<dt><a name="//apple_ref/c/econst/kDRFileForkSizeEstimate"><code>kDRFileForkSizeEstimate</code></a></dt><dd>Indicates a request for estimated size.</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Type used to define queries on the fork size.
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/DRFileMessage;  name=DRFileMessage constants -->
<a name="//apple_ref/c/tag/DRFileMessage"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRFileMessageconstants">DRFileMessage constants</a></h3>
</td></tr></table><hr><p></p><pre><span class="keyword">enum</span> { 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileMessageForkSize" class="type"><span class="type">kDRFileMessageForkSize</span></a> = '<span class="char">fsiz</span>', 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileMessagePreBurn" class="type"><span class="type">kDRFileMessagePreBurn</span></a> = '<span class="char">pre</span> ', 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileMessageProduceData" class="type"><span class="type">kDRFileMessageProduceData</span></a> = '<span class="char">prod</span>', 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileMessageVerificationStarting" class="type"><span class="type">kDRFileMessageVerificationStarting</span></a> = '<span class="char">vrfy</span>', 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileMessagePostBurn" class="type"><span class="type">kDRFileMessagePostBurn</span></a> = '<span class="char">post</span>', 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRFileMessageRelease" class="type"><span class="type">kDRFileMessageRelease</span></a> = '<span class="char">bye</span> ' 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kDRFileMessageForkSize"><code>kDRFileMessageForkSize</code></a></dt><dd>Indicates a request for your <a href="CompositePage.html#//apple_ref/c/tdef/DRFileProc">DRFileProc </a> callback to supply a file track size.
<br><br>
Your <a href="CompositePage.html#//apple_ref/c/tdef/DRFileProc">DRFileProc </a> callback should respond to this 
message by placing the requested file fork size into the 
<a href="CompositePage.html#//apple_ref/c/tag/DRFileForkSizeInfo">DRFileForkSizeInfo </a> structure, which is pointed to 
by the callback's <tt>ioParam</tt> parameter. Your callback 
may receive this message at any time after the file object 
has been created.
<br><br>
On input, the structure's <tt>fork</tt> field indicates which fork 
you are being asked about, as defined in the <a href="CompositePage.html#//apple_ref/c/tdef/DRFileForkIndex">DRFileForkIndex </a> 
enumeration.
<br><br>
Also on input, the structure's <tt>query</tt> field indicates 
whether you are being asked for an estimated or actual fork size, as
defined in the <a href="CompositePage.html#//apple_ref/c/tag/DRFileForkSizeQuery">DRFileForkSizeQuery </a> enumeration.
<br><br>
When the <tt>query</tt> field is <a href="CompositePage.html#//apple_ref/c/tag/DRFileForkSizeQuery">DRFileForkSizeQuery </a>, you are 
being asked for an estimate of the final fork size, perhaps for the
burn engine to estimate the track size. You do not have to be exact,
but your estimate should err on the high side. This call may be made 
at any time.
<br><br>
When the <tt>query</tt> field is <a href="CompositePage.html#//apple_ref/c/econst/kDRFileForkSizeActual">kDRFileForkSizeActual </a>, you 
are being asked for the actual fork size to be used in the burn.  This 
call is made only in the burn phase.
<br><br></dd>
<dt><a name="//apple_ref/c/econst/kDRFileMessagePreBurn"><code>kDRFileMessagePreBurn</code></a></dt><dd>Indicates that your application should perform all necessary preparation for the burn.
<br><br>
Your <a href="CompositePage.html#//apple_ref/c/tdef/DRFileProc">DRFileProc </a> callback should respond to this message
by telling your application to open files, or to do any other pre-burn
preparation work needed. The burn engine sends this message before the
burn but after the disc's entire hierarchy is completely in place. You
can query the hierarchy
<br><br>
After this call, the burn's content is locked down, and you should be
able to respond to the <a href="CompositePage.html#//apple_ref/c/econst/kDRFileMessageForkSize">kDRFileMessageForkSize </a> message with exact values.
<br><br>
Sent before the burn.
The callback's <tt>ioParam</tt> parameter is ignored.
<br><br></dd>
<dt><a name="//apple_ref/c/econst/kDRFileMessageProduceData"><code>kDRFileMessageProduceData</code></a></dt><dd>Sent during the burn (after the pre-burn call). The callback's <tt>ioParam</tt> parameter points to a <a href="CompositePage.html#//apple_ref/c/tag/DRFileProductionInfo">DRFileProductionInfo </a> structure. Speed is critical during this call.  You should produce the data as fast as possible, and try not to perform any time-consuming tasks.
<br><br>
You may be asked to produce twice, once during the actual burn
and once during verification. 
<br><br></dd>
<dt><a name="//apple_ref/c/econst/kDRFileMessageVerificationStarting"><code>kDRFileMessageVerificationStarting</code></a></dt><dd>Sent during the burn (after the pre-burn call, after production, before the post-burn call) to indicate that verification is about to begin. The callback's <tt>ioParam</tt> parameter is ignored.
<br><br>
This would be an appropriate place to seek back to the beginning of
files, reset state machines, or do whatever else is needed to prepare to
produce again.
<br><br></dd>
<dt><a name="//apple_ref/c/econst/kDRFileMessagePostBurn"><code>kDRFileMessagePostBurn</code></a></dt><dd>Sent at the end of the burn. The callback's <tt>ioParam</tt> parameter is ignored.
<br><br>
This would be an appropriate place to close files, or do any other
teardown work needed.  This call will always be made regardless of
whether the burn succeeded or failed.
<br><br></dd>
<dt><a name="//apple_ref/c/econst/kDRFileMessageRelease"><code>kDRFileMessageRelease</code></a></dt><dd>Sent when the <a href="../DRContentObject/CompositePage.html#//apple_ref/c/tdef/DRFileRef">DRFileRef </a> is released. The callback's <tt>ioParam</tt> parameter is ignored.
<br><br>
No further messages will be sent for this object.  This would be an
appropriate time to release any memory allocated by the object (whether
in the refCon or anywhere else).</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Messages sent to the <a href="CompositePage.html#//apple_ref/c/tdef/DRFileProc">DRFileProc </a> callback during a burn.
<!-- end discussion --></p>
<p></p><hr><!-- headerDoc=tag;  uid=//apple_ref/c/tag/DRLinkType;  name=DRLinkType contants -->
<a name="//apple_ref/c/tag/DRLinkType"></a>
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><h3><a name="DRLinkTypecontants">DRLinkType contants</a></h3>
</td></tr></table><hr><p></p><pre><span class="keyword">enum</span> { 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRLinkTypeHardLink" class="type"><span class="type">kDRLinkTypeHardLink</span></a> = <span class="number">1</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRLinkTypeSymbolicLink" class="type"><span class="type">kDRLinkTypeSymbolicLink</span></a> = <span class="number">2</span>, 
    <a href="CompositePage.html#//apple_ref/c/econst/kDRLinkTypeFinderAlias" class="type"><span class="type">kDRLinkTypeFinderAlias</span></a> = <span class="number">3</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/kDRLinkTypeHardLink"><code>kDRLinkTypeHardLink</code></a></dt><dd>Link type for hard links.</dd>
<dt><a name="//apple_ref/c/econst/kDRLinkTypeSymbolicLink"><code>kDRLinkTypeSymbolicLink</code></a></dt><dd>Link type for symbolic links.</dd>
<dt><a name="//apple_ref/c/econst/kDRLinkTypeFinderAlias"><code>kDRLinkTypeFinderAlias</code></a></dt><dd>Link type for Finder aliases.</dd>
</dl>
</blockquote>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5><p><!-- begin discussion -->Link type constants used by the <a href="CompositePage.html#//apple_ref/c/func/DRFileCreateVirtualLink">DRFileCreateVirtualLink </a> function.
<!-- end discussion --></p>
<p></p><p><!-- start of footer -->

	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MusicAudio/Reference/DiscRecordingFrameworkRef/DRContentFile/CompositePage.html%3Fid%3DTP40004404-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MusicAudio/Reference/DiscRecordingFrameworkRef/DRContentFile/CompositePage.html%3Fid%3DTP40004404-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MusicAudio/Reference/DiscRecordingFrameworkRef/DRContentFile/CompositePage.html%3Fid%3DTP40004404-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>



<!-- end of footer -->
Last Updated: 2008-04-01
</p></body></html>
