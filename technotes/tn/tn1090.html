<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML><!-- Template 03-24-01 --><!--Includes revisions to code listings--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css">   <title>Technical Note TN1090: Mac OS 7.6</title>    <meta name="keywords" content="Mac OS 7.6 system update Virtual memory file manager">    <meta name="Description" content="Technical Note TN1090: This Technote discusses changes toand corrections in the Macintosh   Operating System, MacOS 7.6. Some of the changes discussed are the System File,Apple Menu Items, Control Panels, Control strip modules,etc."><meta name="categories" content="Overview, Operating System and System Releases"><meta name="week-posted" content="Dec 30, 1996 - Jan 3, 1997"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002930" title="Mac OS 7.6"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1090</div>
<div id="pageheadsub">Mac OS 7.6</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><center><table width="600" cellpadding="0" cellspacing="0" border="0"> <tr> <td align="left" scope="row"><!-- begin_header_box --> <A HREF="#top"></a><hr width=500 align=center><BR><BR><table border="0" width="600" cellpadding="0" cellspacing="0">	<tr>		<td width=600 align=left> <img src="images/mtop600.gif" alt="" align="bottom" width=600 height=7></td>	</tr>		<tr bgcolor="#e6e6e6">	<td background="images/mbody600.gif" width=600 align=left><span id="menutitle">	CONTENTS                             <br>                            <br></span>					</td>				</tr>					<tr bgcolor="#e6e6e6">	<td background="images/mbody600.gif" width=600 align=left>							<table border="0" width="590" cellpadding="0" cellspacing="0"><tr> <td width=295 align=left scope="row"><!-- begin_toc -->	<p id="menutext"><A HREF = "#HardwarePlatforms">Hardware Requirements</A><BR><A HREF = "#Installation">Installation</A><BR></p><p id="menutext2">	<A HREF = "#InstallMac">Install Mac OS 1.0</A><BR>	<A HREF = "#Installer">Installer 4.0.6</A><BR></p><p id="menutext"><A HREF = "#Finder">Finder 7.5.6</A><BR><A HREF = "#SystemFile">Inside the System File</A><BR></p><p id="menutext2"><A HREF = "#GeneralSystem">General Features</A><BR><A HREF = "#AssistantToolbox">Assistant Toolbox 1.3</A><BR><A HREF = "#CFM">Code Fragment Manager</A><BR><A HREF = "#_Pack2">Disk Initialization Package</A><BR><A HREF = "#DisplayManager">Display Manager</A><BR><A HREF = "#DragAndDrop">Drag Manager</A><BR><A HREF = "#FileManager">File Manager</A><BR><A HREF = "#FontManager">Font Manager</A><BR><A HREF = "#MemoryManager">Memory Management</A><BR><A HREF = "#MenuManager">Menu Manager</A><BR><A HREF = "#PictWhap">PictWhap FKEY</A><BR><A HREF = "#ProcessManager">Process Manager</A><BR><A HREF = "#ResourceMgr">Resource Manager</A><BR><A HREF = "#ScriptMgr">Script Manager 7.5</A><BR><A HREF = "#SCSIMgr">SCSI Manager (PowerPC)</A><BR><A HREF = "#SoundMgr">Sound Manager 3.2.1</A><BR><A HREF = "#StandardFile">Standard File</A><BR><A HREF = "#StdCLib">StdCLib 3.4.3</A><BR><A HREF = "#SysErr">System Error Alert</A><BR><A HREF = "#QuickDraw">QuickDraw</A><BR><A HREF = "#PowerMgr">Power Manager</A><BR><A HREF = "#TelephoneMgr">Telephone Manager</A><BR><A HREF = "#ThreadMgr">Thread Manager</A><BR><A HREF = "#WindowMgr">Window Manager</A><BR></p><p id="menutext"><A HREF = "#AppleMenuItems">Apple Menu Items</A><BR></p><p id="menutext2">   <A HREF = "#AppleSysProfiler">Apple System Profiler 1.1</A><BR>   <A HREF = "#Stickies">Stickies 1.0.2</A><BR></p><p id="menutext"><A HREF = "#ControlPanels">Control Panels</A><BR></p><p id="menutext2">   <A HREF = "#AutoONoff">Auto Power On/Off 1.1</A><BR>   <A HREF = "#ColorSync">ColorSync 2.1</A><BR></p></td> <td width=295 align=left><p id="menutext">	Control Panels (continued)<BR></p><p id="menutext2"><A HREF = "#EM4">Extensions Manager 4.0</A><BR><A HREF = "#EasyOpen">Mac OS Easy Open 1.1.3</A><BR><A HREF = "#TheMap">Map 7.5.1</A><BR><A HREF = "#Memory">Memory 7.5.7</A><BR><A HREF = "#Monitors">Monitors 7.6.6</A><BR><A HREF = "#QuickTimeSettings">QuickTime Settings</A><BR><A HREF = "#StartupDisk">Startup Disk 7.5.3</A><BR></p>				<p id="menutext"><A HREF = "#ControlStripModules">Control Strip Modules</A><BR></p><p id="menutext2">  <A HREF = "#CDStrip">CD Strip 1.0</A><BR>   <A HREF = "#PrinterSelector">Printer Selector 2.0</A><BR></p><p id="menutext">            <A HREF = "#SystemExtensions">System Extensions</A><BR></p><p id="menutext2">               <A HREF = "#AppleCDROM">Apple CD-ROM 5.3</A><BR>               <A HREF = "#AppleGuide">Apple Guide 2.1.1</A><BR>               <A HREF = "#ARA21">Apple Remote Access Client 2.1</A><BR>               <A HREF = "#AppleScript">AppleScript 1.1</A><BR>               <A HREF = "#AppleShare">AppleShare Workstation 3.6.4</A><BR>               <A HREF = "#DeskTopPrint">Desktop Printing 2.0.1</A><BR>               <A HREF = "#OpenDoc">OpenDoc 1.1.2</A><BR>               <A HREF = "#OpenDocEssentials">OpenDoc Essentials 1.0.1</A><BR>               <A HREF = "#OpenTransport">Open Transport 1.1.1</A><BR>               <A HREF = "#OTPPP">Open Transport PPP 1.0</A><BR>               <A HREF = "#QuickTime">QuickTime 2.5</A><BR>               <A HREF = "#QuickDraw3D">QuickDraw 3D 1.0 6</A><BR>               <A HREF = "#QuickDrawGX">QuickDraw GX 1.1 5</A><BR>               <A HREF = "#SpeechManager">Speech Manager 1.5</A><BR></p><p id="menutext">            <A HREF = "#OtherUtilities">Apple Extras</A><BR></p><p id="menutext2">               <A HREF = "#Cyberdog">Cyberdog 1.2.1</A><BR>                              <A HREF = "#DiskFirstAid">Disk First Aid 7.2.3</A><BR>                              <A HREF = "#DriveSetup">Drive Setup 1.2</A><BR>                              <A HREF = "#MacsBug">MacsBug 6.5.4</A><BR></p><p id="menutext">            <A HREF = "#NotSupported">Items no longer supported</A><BR></p><p id="menutext2">               <A HREF = "#ClassicNet">Classic Networking</A><BR>                              <A HREF = "#PowerTalk">PowerTalk</A><BR></p><P id = "menutext"><A HREF="#Downloads">Downloadables</A></p><!-- end_toc --></td></tr></table>						</td>	</tr>	<tr>		<td width=600 align=left scope="row"><img src="images/mbot600.gif" alt="menubot600" width=600 height=16>		</td>	</tr></table>            <BR><!-- begin_intro_text -->         <P id = "introtext">Mac OS 7.6 offers a number of important performance         enhancements, including</P>                  <UL>            <LI><P id = "introtext">Virtual memory and memory management</p></li>                        <LI><P id = "introtext">The File Manager's caching scheme</p></li>                        <LI><P id = "introtext">The PowerPC Resource Manager routines</p></li>         </UL>                  <P id = "introtext">In addition to improvements in performance,</P>                  <UL>            <LI><P id = "introtext">The system's memory allocation scheme for some of its            more frequently used shared libraries has been            streamlined to take advantage of file mapping when            virtual memory is turned on.</p></li>                        <LI><P id = "introtext">New functionality in Extensions Manager, documented            in <A HREF = "tn1091.html">Technote 1091: Extensions            Manager 4.0</A>, which lets you add comments, version,            and package information to your extensions.</p></li>                        <LI><P id = "introtext">A new "umbrella" installer, which walks the user            through a safer, saner installation process. This            includes disk-integrity checking and fewer restarts.</p></li>                        <LI><P id = "introtext">Support for volume sizes up to 2 terabytes on all            PowerPC and 68040 models.</p></li>         </UL>                  <P>A number of important Apple technologies have also been         integrated in Mac OS 7.6, including</P>                  <UL>            <LI><P id = "introtext">QuickTime 2.5</p></li>                        <LI><P id = "introtext">OpenDoc 1.1.2</p></li>                        <LI><P id = "introtext">Open Transport 1.1.1</p></li>                        <LI><P id = "introtext">Cyberdog 1.2.1</p></li>         </UL><!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Jan 23 1997]</h3><!-- end_date -->          <!-- end_header_box --> <BR><BR><hr width=500 align=center>          <BR><BR> <!-- begin_content -->         <A NAME="HardwarePlatforms"></A><H2>Hardware Requirements</H2>                  <P>Mac OS 7.6 can be installed on any Mac         OS-compatible computer that is 32-bit clean and has at least         a 68030 microprocessor. It cannot be installed, however, on         machines that meet these requirements as a result of a         hardware or software upgrade.</P>                  <P>More specifically, Mac OS 7.6 cannot be installed on the         following models: IIcx, IIx, PowerBook 100, Classic, II, LC,         SE/30, Portable, Plus, SE, 512ke, 512, 128, and Mac XL.         Also, current versions of Mode32 from Connectix do not allow         Mac OS 7.6 to be installed on older Macintosh computers         utilizing this extension for 32-bit compatibility.</P>          <P><A HREF="#top">Back to top</A></P>                           <A NAME="Installation"></A><H2>Installation</H2>                  <UL>            <LI>Note that Mac OS 7.6 cannot be installed over System 6.<BR><BR></li>         </UL>         <A NAME="InstallMac"></A>         <H4>Install Mac OS 1.0</H4>                  <P>In addition to the usual collection of         Installer scripts, there is now a new "umbrella" installer.         This is called <B>Install Mac OS</B>, and it walks the user         through a safer, saner installation process, including         painless disk-integrity checking and fewer restarts.</P>                           <A NAME="Installer"></A><H4>Installer 4.0.6</H4>                  <P>This new version of Installer: </P>                  <UL>            <LI>Fixes some critical bugs.<BR><BR></li>                        <LI>Provides a dialog box for a "clean" install, i.e., it            lets the user choose whether or not to upgrade an            existing System Folder, or install a new one.<BR><BR></li>         </UL>                  <P>In addition, the new version of the Installer supports         several new AppleEvents for interoperation with Install Mac         OS. Note: Currently, use of these AppleEvents is only         supported for Apple products.</p> <P><A HREF="#top">Back to top</A></P>         <H2><A NAME="Finder"></A>Finder         7.5.6</H2>                  <P>The Finder provides a graphical interface for         the user along with other AppleEvent-based services for         applications utilizing the file system.</P>                  <P>Finder 7.5.6 is the first step towards an         OS-licensee-friendly Finder. Toward that end, the following         changes have been made: </P>                  <UL>            <LI>The "About This Macintosh..." menu item has been            replaced with "About This Computer...".<BR><BR></li>                        <LI>In other places, occurrences of the word "Macintosh"            have been replaced with the word "Mac OS".<BR><BR></li>         </UL>                  <P>The new Finder recognizes two new application file types:          <CODE>'APPD'</CODE> and <CODE>'APPC'</CODE>. Both file types         are used to store application code in the same way as normal         applications; however, they have special meaning in the         context of the Finder.</P>                  <P>When a user drags a file of type <CODE>'APPC'</CODE> to         the System Folder, he or she is asked whether to have the         file placed in the Control Panels folder just as users would         be prompted for the old control panel files of type         <CODE>'cdev'</CODE>.</P>                  <P>Files of type <CODE>'APPD'</CODE> are auto-routed to the         Apple Menu Items folder in the same way control panels are         auto-routed to the Control Panels folder. APPD type         applications are the new way to implement desk accessories,         as the older DRVR method may not be supported in future         system software releases. </P>                  <BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>Although both APPC and APPD files can be run in                  System 7.5.3 and 7.5.5, APPC's are not completely                  supported under system software releases prior to                  Mac OS 7.6 (see the Control Panels section below).                  Also, since users won't be able to launch                  application files of type <CODE>'APPD'</CODE> and                  <CODE>'APPC' </CODE>from the Finder under versions                  of the Mac OS prior to system 7.5.3, it is strongly                  recommended that developers include                  <CODE>'hfdr'</CODE> -5696 balloon help resources in                  such files, so users can use Balloon Help to                  discover what they are for.</P></TD></TR></TABLE></CENTER><BR>                                                         <P>Some other changes to the Finder include: </P>                  <UL>            <LI>The ability to display a larger number of files in a            single window.<BR><BR></li>                        <LI>The Finder's Get Info window now displays correct            values for volumes larger than 2 gigabytes.<BR><BR></li>                        <LI>Sometimes, the PCMCIA card icons were not reappearing            on PowerBook 540, 190, and 5300 models after waking up            from Sleep state. This problem has been corrected.<BR><BR></li>         </UL> <P><A HREF="#top">Back to top</A></P>         <H2><A NAME="SystemFile"></A>Inside         the System File</H2>                  <P>The System file contains routines and         resources responsible for running the computer. This section         describes system features and corrections built into the         System file. These items are always present under System         7.6, even when the shift key is held down at system startup.         </P>                  <H4><A NAME="GeneralSystem"></A>General Features</H4>                  <P>Some of the system's more frequently used         shared libraries have been moved from resources in the         System file into the System file's data fork. This change         allows the system to use file mapping on these libraries         when virtual memory is turned on, thus allowing the space         they occupy in memory to be used for other purposes when         necessary. The benefits from this change are twofold: </P>                  <UL>            <LI>There is more memory available for applications and            other services.<BR><BR></li>                        <LI>For debugging purposes, when virtual memory is            enabled, applications making calls that are illegal at            interrupt time are more likely to cause bus errors,            making it easier for developers to find problems in their            software.<BR><BR></li>         </UL>                  <P>A problem in the interrupt dispatching code on PCI-based         systems where it was possible for a level 4 interrupt         handler to be called with interrupts masked only to level 3         has been corrected. This correction was previously provided         by the PowerPC Interrupt Extension.</P>                  <H4><A NAME="AssistantToolbox"></A>Assistant Toolbox 1.3</H4>                  <P>The Assistant Toolbox provides the user with         assistance or warnings when the user attempts to do         something that may cause internal system configuration         conflicts. In some cases, the Assistant Toolbox performs         actions automatically if no user intervention is required.         </P>                  <P>The Assistant Toolbox has been moved to the System file,         so it cannot be disabled when the system starts up. If the         Assistant Toolbox extension is present while Mac OS 7.6 is         being installed, it will be removed.</P>                  <P>In some cases, when returning from Sleep, the volume         remounting code was attempting to remount volumes that had         already been mounted. The Sleep mounting code now         appropriately checks to see if a volume has already been         mounted when returning from Sleep before attempting to         remount it.</P>                  <H4><A NAME="CFM"></A>Code Fragment         Manager</H4>                  <P>The Code Fragment Manager (CFM) is         responsible for the retrieval of executable PowerPC         instruction sequences on PowerPC computers. Almost all of         the PowerPC Mac OS and all PowerPC applications depend on or         utilize the services of the CFM in some way.</P>                  <P>CFM's algorithm for finding shared libraries has been         simplified. The last three stages of the searching strategy         used by CFM, as described in <I>Inside Macintosh: PowerPC         System Software 3-7</I> (the Extensions folder in the System         Folder, the ROM registry, and then CFM's internal file and         directory registry), have been combined into a single step.         This change in search strategy ensures that the most recent         version of an import library will be loaded by CFM when         there are multiple versions of the same library present in         the System file, the Extensions folder, the ROM, or all of         the aforementioned.</P>                  <P>See also <CITE>Inside Macintosh: PowerPC System         Software</CITE> 3-7 at         <a href="http://developer.apple.com/documentation/mac/PPCSoftware/PPCSoftware-41.html">         &lt;http://developer.apple.com/documentation/mac/PPCSoftware/PPCSoftware-41.html&gt;</A>         </P>                  <H4><A NAME="_Pack2"></A>Disk         Initialization Package</H4>                  <P>The Disk Initialization Package provides         formatting services for disk drives.</P>                  <P>HFS does not support 720K diskettes. The dialog box         informing the user that he or she cannot reformat a 720K DOS         disk as a 720 HFS disk now draws correctly.</P>                           <H4><A NAME="DisplayManager"></A>Display Manager</H4>                  <P>The Display Manager provides software         services for managing changes in both the display settings         and the arrangement of monitors attached to Mac         OS-compatible computers.</P>                  <P>DisplayLib has been moved to the data fork of the System         file.</P>                  <H4><A NAME="DragAndDrop"></A>Drag         Manager</H4>                  <P>Macintosh Drag and Drop provides standard         communications and user interface services for applications         and other parts of the system that are used when users "drag         and drop" objects between locations.</P>                  <P>DragLib has been moved to the System file's data fork.         </P>                  <H4><A NAME="FileManager"></A>File         Manager</H4>                  <P>The File Manager provides services for         storage and retrieval of disk-based information on Mac         OS-compatible computers. Mac OS 7.6 includes several changes         in the File Manager's implementation, providing improved         performance and reliability. The following describes new         features and facilities provided in the Mac OS 7.6 File         Manager implementation: </P>                  <P><B>Cache-Related: </B></P>                  <UL>            <LI>A task has been added to the File Manager's disk            cache that periodically flushes dirty cache blocks to            disk. With this change, data that should be written to            disk will never be left in the cache for an extended            period of time. The task runs once a second when there is            no other disk activity. One file's dirty cached blocks            are flushed each time the task runs. Cached volume blocks            - files with file numbers less than 16 and cached blocks            not associated with any files (such as the master            directory block and the volume bitmap blocks on HFS            volumes) - are flushed as a set.<BR><BR></li>                        <LI>If extensions are disabled (i.e., the shift key is            held down at startup), the new file system cache will be            loaded, replacing the ROM cache, and its size will be            temporarily set to 96K. Previously, when extensions were            disabled, the ROM version of the disk cache would be            used.<BR><BR></li>                        <LI>Many high-performance disk drives and some disk            drivers utilize a private write cache mechanism            independent of the File Manager's cache to enhance            performance. Because of this, it is possible that even            though the file system has carried out appropriate writes            to a disk driver when flushing a volume, some of the            information may still reside in the disk drive's or disk            driver's cache and can be lost in the event of a power            failure. In response to this possibility, a disk driver            that supports the <CODE>DriverGestalt 'flus'</CODE>            selector is called with the <CODE>DriverConfig            'flus'</CODE> selector whenever that disk volume's            cache is flushed in response to a File Manager <code>FlushVol</code>            or <code>UnmountVol</code> request.<BR><BR></li>         </UL>                  <P><B>Other File Manager Changes: </B></P>                  <UL>            <LI><code>FlushFile</code> was updating the reserved system area in            the first block of resource forks on HFS volumes, which            caused problems for certain third-party caching software            and WORM disk drivers. That behavior has been removed for            both compatibility with those software packages, and to            improve HFS file system performance. The reserved system            area in the first block of a resource fork is still            updated when a resource fork is closed on an HFS volume.<BR><BR></li>                        <LI>The File Manager supports volume sizes up to 2            terabytes on all Macintosh systems with an 68040 or            PowerPC processor. Macintoshes with 68030 processors are            still limited to 4 gigabyte volumes.<BR><BR></li>                        <LI>To reduce the long boot times after an improper            system shutdown, the mount-checking code for HFS volumes            was rewritten. In some cases, it was taking up to 5            minutes to mount a drive. With the new mount check, the            worse case time is on the order of seconds. However, a            change was needed in the method used to detect volumes            which must be checked.                        <P>The original mount check code (in ROM) uses the            <code>vcbAtVOK</code> bit (bit 8) in the drAtrb field of an HFS            volume's master directory block (MDB) to determine if a            volume was unmounted correctly. The <code>vcbAtVOK</code> bit was            cleared on disk when the volume was mounted and set on            disk when the volume was unmounted correctly. If <code>vcbAtVOK</code>            was clear when a volume was mounted (meaning the volume            was not unmounted correctly), then the mount check code            quickly checks for, and corrects if necessary,            inconsistencies between the volume bitmap, the master            directory block, and the catalog files.</P>                        <P>The new mount check code uses the same mechanism to            detect when a volume was not unmounted correctly.            However, because the boot volume is mounted and would be            checked by the original mount check code before the new            mount check code can be loaded from the System file, a            new volume attribute <code>kBootVolumeInconsistent</code> (bit 11) has            been introduced. When the boot volume is mounted, the            <code>kBootVolumeInconsistent</code> bit is set and the <code>vcbAtVOK</code> bit            is set in the MDB. When the boot volume is unmounted,            <code>kBootVolumeInconsistent</code> bit is cleared. After the new            mount check routine is loaded, the first thing it does is            check the boot disk to see if the <code>kBootVolumeInconsistent</code>            bit is set and if so, it checks for, and corrects if            necessary, any inconsistencies found.</P>                        <P>Table 1 illustrates how the new mount check code uses            the <code>vcbAtVOK</code> and <code>kBootVolumeInconsistent</code> bits on both            boot and non-boot volumes.</P>                        <P><B>Table 1</B>. Mount check codes for boot and            non-boot volumes</P>                        <CENTER><TABLE BORDER=1 width="500">               <TR>                  <TH COLSPAN=5>                     <P ALIGN=LEFT>Boot Volumes</p>                  </TH></TR>               <TR>                  <td colspan=2 align=left>                     <P>Interpretation: </p>                  </TD><td align="left">                     <P>unmounted OK</p>                  </TD><td align="left">                     <P>unmounted bad</p>                  </TD><td align="left">                     <P>mounted</p>                  </TD></TR>               <TR>                  <td colspan=2 align=left>                     <P>vcbAtVOK</p>                  </TD><td align="left">                     <P>1</p>                  </TD><td align="left">                     <P>0</p>                  </TD><td align="left">                     <P>0</p>                  </TD></TR>               <TR>                  <td colspan=2 align=left>                     <P>kBootVolumeInconsistent</p>                  </TD><td align="left">                     <P>0</p>                  </TD><td align="left">                     <P>1</p>                  </TD><td align="left">                     <P>1</p>                  </TD></TR>               <TR>                  <TH COLSPAN=5>                     <P ALIGN=LEFT>Non-boot Volumes</p>                  </TH></TR>               <TR>                  <td colspan=2 align=left>                     <P>vcbAtVOK</p>                  </TD><td align="left">                     <P>1</p>                  </TD><td align="left">                     <P>0</p>                  </TD><td align="left">                     <P>0</p>                  </TD></TR>               <TR>                  <td colspan=2 align=left>                     <P>kBootVolumeInconsistent</p>                  </TD><td align="left">                     <P>n/a</p>                  </TD><td align="left">                     <P>n/a</p>                  </TD><td align="left">                     <P>n/a</p>                  </TD></TR>            </TABLE></CENTER>            <BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>Copies of Disk First Aid earlier than version                     7.2.3 assume that <code>kBootVolumeInconsistent</code> is                     reserved and should be zero and incorrectly                     report the volume as damaged when it is probably                     not damaged and instead was only unmounted                     incorrectly.</P></TD></TR></TABLE></CENTER><BR></li>                                            <LI><code>PBCatSearch</code> usage of the File Manager cache has been            changed, so that it can now search a volume's catalog up            to four times faster (when compared to System 7.5.3).<BR><BR></li>                        <LI>The Mac OS file system uses the            <CODE>EqualString</CODE> (now <CODE>CmpString</CODE>),            <CODE>RelString</CODE>, and <CODE>UprString</CODE>            routines for file name searching and comparison. In every            call to these routines, the File Manager sets the            <code>diacSens</code> parameter to TRUE, so that diacritical marks are            significant in comparisons. However, <code>PBCatSearch</code> was            setting the <code>diacSens</code> parameter to FALSE, in some cases            leading to inconsistent behavior relative to the rest of            the File Manager's routines. <code>PBCatSearch</code> now always sets            the <code>diacSens</code> parameter to TRUE for all comparisons.<BR><BR></li>         </UL>                  <H4><A NAME="FontManager"></A>Font         Manager</H4>                  <P>The Font Manager provides services for         retrieval of glyphs used in the display of textual         information on Mac OS-compatible computers. There is one         correction in the Font Manager: </P>                  <P>Previously, calls to <CODE>RealFont</CODE> would release         and reload the current <CODE>'sfnt'</CODE> resource,         possibly invalidating the Font Manager's cache, since parts         of the cache depend on the handle not changing. This problem         was only apparent in multi-byte character systems.</P>                           <H4><A NAME="MemoryManager"></A>Memory         Management</H4>                  <P>Memory management includes the Memory         Manager, virtual memory and other operating system services.         The following changes to memory management have been         implemented: </P>                  <UL>            <LI>On PowerPC computers, the Modern Memory Manager is            always active and the classic 68K Memory Manager is not            available.<BR><BR></li>                        <LI>System 7.6 only supports 32-bit addressing. 24-bit            addressing is no longer supported. If the computer's            Parameter RAM (PRAM) settings indicate that the machine            is in 24-bit mode at system startup, the PRAM is set to            32-bit addressing and the computer is restarted.<BR><BR></li>                        <LI>Since 24-bit mode is no longer supported, most checks            for 24-bit mode and calls to <CODE>SwapMMU</CODE> have            been removed from the virtual memory routines, thus            reducing the calling overhead.<BR><BR></li>                        <LI>Virtual memory page fault execution times have been            shortened by removing 24-bit runtime code.<BR><BR></li>                        <LI>The Modern Memory Manager on PowerPC computers now            communicates directly with the Virtual Memory Manager to            greatly reduce page fault disk accesses to the VM backing            store file.<BR><BR></li>                        <LI>Allocating and deallocating temporary memory is much            faster.<BR><BR></li>         </UL>                  <H4><A NAME="MenuManager"></A>Menu         Manager</H4>                  <P>The Menu Manager is responsible for drawing         the menu bar and drawing menus and pop-up menus on the         screen while the mouse is being held down. The following         changes have been implemented: </P>                  <UL>            <LI>The system MDEF=0 was calling            <CODE>GetMaxDevice</CODE> specifying a boundary in local            coordinates of the current GrafPort rather than in global            screen coordinates. Normally, on multiple monitor            systems, this means menus would be drawn according to the            features of the main screen, rather than the screen            containing the menu. However, by specifying the boundary            passed to <CODE>GetMaxDevice</CODE> in local coordinates            of the current GrafPort, it was possible for            <CODE>GetMaxDevice</CODE> to return NULL, the one case            the MDEF=0 did not handle correctly. The new MDEF=0            passes the global coordinates to            <CODE>GetMaxDevice</CODE> and handles the NULL result            correctly.<BR><BR></li>                        <LI>It was possible for calls to            <CODE>CalcMenuSize</CODE> to call through to an MDEF with            <CODE>ResLoad</CODE> set to FALSE. In the event that the            MDEF attempted to access resources that were not already            in memory by calling <CODE>GetResource</CODE>, empty            handles would be returned to the MDEF, which may not have            been what the MDEF expected. <CODE>CalcMenuSize</CODE>            has been corrected, so <CODE>ResLoad</CODE> is set to            TRUE before the MDEF is called.<BR><BR></li>                        <LI>A problem in the Standard MDEF where color icons            drawn in popup menus were not appearing on some monitors            has been corrected.<BR><BR></li>                        <LI>The Menu Manager normally saves the image under a            menu in an off-screen buffer before drawing the menu, so            it can be restored immediately after the menu is removed            from the screen. For menus drawn outside of the screen's            visible area, there is no image under the menu to save            and the off-screen buffer is not created. But, in such            cases, the routine's epilogue mistakenly assumed that the            off-screen buffer was created and attempted to reclaim            the memory it would have occupied. This would cause a            system crash when the mouse was released after tracking a            pop-up menu that was drawn completely outside of the            screen's boundary. This possibility has been removed and            the routine's epilogue no longer attempts to dispose of            the nonexistent buffer in such cases.<BR><BR></li>                        <LI>A problem where the MDEF was calculating the size of            icons appearing in the Apple Menu incorrectly has been            corrected.<BR><BR></li>         </UL>                  <H4><A NAME="PictWhap"></A>PictWhap         FKEY</H4>                  <P>FKEYs are code resources in the System file         which are invoked by command-shift-number key sequences,         where the number is the ID of the resource. For example,         FKEY=3 is invoked by typing the number 3 while the command         and shift keys are held down. It captures the contents of         all screens into a PICT file in the root directory of the         startup disk.</P>                  <UL>            <LI>PictWhap is a new FKEY=4 for capturing screen shots            as PICT files. When invoked via command-shift-4, PictWhap            presents the user with a small crosshair cursor to allow            the user to select a rectangular area of the screen to            capture as a PICT file. When invoked via Command-Shift-4            while the caps lock key is down, it presents the user            with a bullseye cursor. When the user clicks on a window,            its contents are saved as a PICT file. If the control key            is held down, the image is captured to the Clipboard            instead of a PICT file.<BR><BR></li>                        <LI>The Screenshot FKEY=3, Command-Shift-3, has been            revised so that when the control key is held down, it            will capture contents of all screens to the Clipboard            instead of a PICT file.<BR><BR></li>         </UL>                  <H4><A NAME="ProcessManager"></A>Process Manager</H4>                  <P>The Process Manager shares the processor         among multiple applications. Some corrections to problems         found in the Process Manager have been provided in Mac OS         7.6 as follows: </P>                  <UL>            <LI>A visual anomaly of launching applications from the            Finder where the Finder's menus would reappear briefly            has been corrected.<BR><BR></li>                        <LI>When <CODE>ExitToShell</CODE> was called, the CFM            termination routines for code fragments were being called            after the Process Manager had changed the A5 world to            something else. This placed those code fragments calling            the Toolbox in their termination routines into an            indeterminate state usually resulting in a system crash.            Now, the CFM termination routines are called before the            A5 world is changed by the Process Manager.<BR><BR></li>                        <LI>The High Level Event size limitation of 64K per High            Level Event has been removed. This means that High Level            Events and AppleEvents can now contain more than 64K of            data. AppleScript already provided this ability, but it            is now available for all clients even if AppleScript is            not installed, or an application is using High Level            Events directly.                        <P>NOTE: It is still the application's responsibility to            check for low-or out-of-memory conditions before sending            events, and to properly check for out-of-memory errors            after calls to <CODE>AESend</CODE> or            <CODE>PostHighLevelEvent</CODE>.</P><BR><BR></li>                        <LI>"Fake" keystrokes generated by the Text Services            Manager (TSM) are now passed through the jGNEFilter            chain.<BR><BR></li>                        <LI>Process Manager routines has been simplified,            providing better throughput of High Level Events and            AppleEvents.<BR><BR></li>         </UL>                  <H4><A NAME="ResourceMgr"></A>Resource         Manager</H4>                  <P>The Resource Manager is used for storage and         retrieval of information stored in the resource fork of many         Mac OS files. Almost all programs make use of the Resource         Manager.</P>                  <P>The PowerPC Resource Manager has been improved in the         following ways: </P>                  <UL>            <LI>The Resource Manager has been moved into the data            fork of the System file to allow for file mapping when            virtual memory is turned on.<BR><BR></li>                        <LI>Routines have been simplified to reduce execution            time. This does not mean there will be a drastic            improvement in Resource Manager execution speed; however,            since many parts of the operating system utilize the            Resource Manager services, there is an overall            improvement in system performance.<BR><BR></li>                        <LI>A resource size cache has been added to retain            information about frequently accessed resources in            memory. This does not mean a major performance gain for            all application resources in general; however,            performance improvements are noticeable for some system            resources (such as color tables), which are accessed            repeatedly by the system and applications.<BR><BR></li>                        <LI>The Resource Manager "knows" to flush the Font            Manager's cache when sfnt's are released by calling            <CODE>ReleaseResource</CODE>. Parts of the Font Manager's            cache depend on the font handle for the active sfnt not            changing when it could be changed by a call to            <CODE>RealFont</CODE>.<BR><BR></li>                        <LI>Calls to <CODE>HOpenResFile</CODE> failing with some            result other than <code>opWrErr</code> (-49, File already open with            write permission) would leave 40 bytes of handle data            floating on the heap. Note: Some developers may not have            noticed this problem when running with debuggers that            patch low-level Resource Manager vectors and later fall            through to the 68K Resource Manager (which does not            contain this bug).<BR><BR></li>         </UL>                  <P>The 68K Resource Manager has been improved in the         following ways: </P>                  <UL>            <LI>A <CODE>GetResource</CODE> patch was calling            <CODE>FlushCodeCacheRange</CODE> on every call. This has            been corrected, so <CODE>FlushCodeCacheRange</CODE> is            called only when necessary.<BR><BR></li>         </UL>                  <H4><A NAME="ScriptMgr"></A>Script         Manager 7.5</H4>                  <P>The Script Manager provides facilities for         display and retrieval of number, date, time, and other         information in a language-independent way.</P>                  <UL>            <LI>The routine <CODE>StringToExtended</CODE> has been            updated to provide better error checking for strings that            do not match the format string.<BR><BR></li>                        <LI>The routines <CODE>StringToFormatRec</CODE> and            <CODE>StringToExtended</CODE> are now installed in a way            that avoids unnecessary mixed mode switches when they are            called.<BR><BR></li>                        <LI>An error in <CODE>StringToFormatRec</CODE> where a            unpredictable memory location was being modified by the            routine has been corrected.<BR><BR></li>         </UL>                  <H4><A NAME="SCSIMgr"></A>SCSI Manager         (PowerPC)</H4>                  <P>The PowerPC SCSI Manager is responsible for         communicating with connected SCSI devices on PowerPC         computers.</P>                  <P>On some systems with the Power Macintosh Card 1.0         installed, a SCSI Manager hang could occur during periods of         high network activity. This problem occurred because the         SCSI Manager was only polling for interrupts when the         interrupt level was 2 or higher, leaving a SCSI Manager         deferred task pending. Now, to correct this problem, the         SCSI Manager polls for interrupts when the interrupt level         is set to 1 or higher on those machines.</P>                  <H4><A NAME="SoundMgr"></A>Sound         Manager 3.2.1</H4>                  <P>The Sound Manager provides services for         playing and recording sounds on Mac OS computers. The new         Sound Manager is built into the System file. If there is a         Sound Manager extension in the Extensions folder when Mac OS         7.6 is being installed, it will be removed.</P>                  <UL>            <LI><CODE>SPBSetDeviceInfo</CODE>, when passed the            <CODE>siVoxRecordInfo</CODE> selector, now starts            recording even if the trigger value is 255. (See also            <CITE>Inside Macintosh: Sound</CITE> at            <a href="http://developer.apple.com/documentation/mac/Sound/Sound-149.html">            &lt;http://developer.apple.com/documentation/mac/Sound/Sound-149.html&gt;</A>,            p. 3-25.)<BR><BR></li>                        <LI>On some models, code maintaining the volume control            buttons on the front of the machine was calling            <CODE>SetSoundVol</CODE> at interrupt time, which could            lead to a system crash. Previously, installing the Video            Startup system extension would correct this problem, and            it has been corrected in Mac OS 7.6.<BR><BR></li>                        <LI><CODE>SPBGetDeviceInfo</CODE>, when passed the            <CODE>siStereoInputGain</CODE> selector, now correctly            returns two 16-bit (8.8) fixed point numbers on PCI-based            machines. Previously, this call would attempt to return            two 32-bit (16.16) fixed point numbers, trashing the            stack.<BR><BR></li>                        <LI>The <CODE>siVoxStopInfo</CODE> selector used with            <CODE>SPBGetDeviceInfo</CODE> was returning incorrect            values on some PCI-based machines (e.g., Power Macintosh            7500, 8100, and 8500 computers) running system 7.5.2 or            7.5.3. This problem has been corrected and            <CODE>siVoxStopInfo</CODE> now returns the correct values            on those machines.<BR><BR></li>         </UL>                  <H4><A NAME="StandardFile"></A>Standard File</H4>                  <P>Standard File provides a consistent user         interface for accessing files by way of the Open and Save As         dialog boxes.</P>                  <P>A problem where <CODE>CustomPutFile</CODE> would crash         when an additional <CODE>editText</CODE> item was added to         the dialog has been corrected.</P>                  <H4><A NAME="StdCLib"></A>StdCLib         3.4.3</H4>                  <P>StdCLib is a shared library located in the         ROM on all PowerPC-based Macintosh computers that provides         functionality for programs compiled using the C language.         Mac OS 7.6 includes a new version of this library that         replaces the ROM library, providing many corrections and         improvements. Previous updated versions of the StdCLib         shared library were available in the StdCLibInit extension,         which is no longer needed and will not install itself during         the Mac OS 7.6 startup sequence. The new StdCLib shared         library now resides in the data fork of the System file.         </P>                  <P>Most of the features and corrections provided by the         StdCLib 3.4.3 have to do with the handling of invalid         parameters, so applications calling the routines with         correct parameters may not have noticed any problems.</P>                  <P>The following changes have been implemented: </P>                  <UL>            <LI>macros LDBL_EPSILON, LDBL_MAX, and LDBL_MIN defined            in &lt;float.h&gt; (corresponding to entry points            "_LDBL_EPSILON", "_LDBL_MAX", and "_LDBL_MIN") are now            correct for the PowerPC. The versions contained in the            ROM-based StdCLib were not valid.<BR><BR></li>                        <LI>The number of files that can be simultaneously open            using the StdIO routines <CODE>fopen()</CODE>,            <CODE>fdopen()</CODE>, and <CODE>freopen()</CODE> has            been increased from 20 to 40 files (the value of _NFILE            in &lt;stdio.h&gt;).<BR><BR></li>                        <LI><CODE>strftime() </CODE>now conforms to the ANSI            standard recognizing an uppercase %P rather than a            lowercase %p for the AM/PM format character.<BR><BR></li>                        <LI><CODE>setvbuf()</CODE> now returns USHRT_MAX if too            large a buffer is requested. The setbuf() function never            allocates a buffer larger than 65535 bytes.<BR><BR></li>                        <LI><CODE>fread()</CODE> performance has been improved on            unbuffered streams.<BR><BR></li>                        <LI>The <CODE>sscanf()</CODE> function's %n option was            corrected to return the correct number of characters when            the matching item goes to the end of the string (with no            spaces following the item).<BR><BR></li>                        <LI>The <CODE>PLstrpbrk()</CODE> function was updated to            handle empty strings correctly.<BR><BR></li>                        <LI>The <CODE>bsearch(key, base, nmemb, size,            compar)</CODE> function was corrected so it no longer            hangs when the value of nmemb is zero.<BR><BR></li>                        <LI>The <CODE>strncpy()</CODE> function no longer copies            65K characters when called with n = 0.<BR><BR></li>                        <LI>The creator and type for files of type TEXT is set to            SimpleText. And, in particular, the creator and type for            the output files "stdout" and "stderr" are now 'ttxt' and            'TEXT', respectively.<BR><BR></li>                        <LI>fopen now sets errno EACCESS when an attempt to open            a locked file with write permission ("w") is made when            file sharing is turned on. This problem only occurred            when file sharing was turned on--the afpAccessDenied            (-5000) result code was being ignored.<BR><BR></li>                        <LI><CODE>strlen() </CODE>now returns zero when the NULL            pointer is passed as a parameter. Previous versions read            data from location zero.<BR><BR></li>                        <LI><CODE>strtol(const char *nptr, char **endptr, int            base) </CODE>was corrected to comply with the ANSI            standard in cases where no conversion is performed. The            ANSI standard says: "If the subject sequence is empty,            does not have the expected form, no conversion is            performed; the value of nptr is stored in the object            pointed to by endptr, provided that endptr is not a null            pointer." (page 153) nptr is now correctly copied to the            object pointed to by endptr when no conversion occurs.<BR><BR></li>                        <LI>The <CODE>strcmp() </CODE>and <CODE>strncmp()</CODE>            functions have been updated to use unsigned comparisons.<BR><BR></li>                        <LI><CODE>PLpos()</CODE> has been corrected to return            zero instead of one when passed two empty strings as            arguments.<BR><BR></li>                        <LI><CODE>PLstrcat() </CODE>now handles the case where            the destination string already contains the maximum            number of characters correctly.<BR><BR></li>                        <LI><CODE>PLstrchr()</CODE> has been corrected to handle            the case where the target string is empty.<BR><BR></li>                        <LI><CODE>fclose() </CODE>now sets errno to ENOENT when            passed a closed file descriptor.<BR><BR></li>                        <LI><CODE>fcntl(F_DUPFD)</CODE> calls now set errno to            EBADF rather than EINVAL when bad file descriptors are            passed in.<BR><BR></li>                        <LI>A problem related to parsing long path names            containing embedded folder aliases has been corrected.<BR><BR></li>                        <LI><CODE>strncat()</CODE> will now copy no characters            from the source string if the n parameter is zero.            Previously, it would copy up to LONG_MAX characters from            the source to the destination if the n parameter was            zero.<BR><BR></li>                        <LI>The routine <CODE>mbtowc ()</CODE> now returns -1            when the number of characters to examine is zero.<BR><BR></li>         </UL>                  <P><B>Known problems and limitations: </B></P>                  <UL>            <LI>The character inquiry routines            <CODE>isalpha(),isupper(),islower(),isdigit(),isalnum(),isspace()</CODE>,            and <CODE>isprint()</CODE> will only function correctly            for 7-bit characters and the value EOF. They do not            support the Macintosh extended character set.<BR><BR></li>                        <LI>If <CODE>abort()</CODE> is called, routines            registered with<CODE> atexit()</CODE> and C++ destructors            are still called even though they shouldn't be.<BR><BR></li>                        <LI><CODE>malloc() </CODE>is limited to about 8 megabytes            per call. If more than 8 megabytes are requested, NULL            will be returned.<BR><BR></li>                        <LI>Reading past the end of a file using            <CODE>fread()</CODE> does not cause an appropriate error            to be reported in the global variable errno or by the            function <CODE>ferror()</CODE>, although            <CODE>fread()</CODE> does correctly return the number of            bytes actually read.<BR><BR></li>                        <LI>An attempt to <CODE>raise()</CODE> an invalid signal            does not report an error.<BR><BR></li>                        <LI>An attempt to install a signal handler for an invalid            signal does not cause <CODE>signal()</CODE> to report an            error.<BR><BR></li>         </UL>                  <H4><A NAME="SysErr"></A>System Error         Alert</H4>                  <P>The System Error Alert box is displayed as a         last ditch attempt to inform the user that a serious, often         unrecoverable, system error has occurred. In some cases,         because of how certain low-memory structures were arranged         when the alert was invoked, the alert was not being         displayed correctly.</P>                  <P>The System Error Alert was causing a system error and         calling itself repeatedly when certain low-memory font         structures were not yet initialized. The net effect was the         appearance of a continually flashing error alert box on the         screen. The system now makes greater effort to ensure these         structures are set up correctly at all times, especially         during the system startup sequence and during the launching         of applications.</P>                  <H4><A NAME="QuickDraw"></A>QuickDraw</H4>                  <P>QuickDraw is used for drawing and displaying         information on the screen. MacOS 7.6 provides the following         corrections in QuickDraw: </P>                  <UL>            <LI>A problem in the 68K implementation of MakeITable            with color tables containing exactly three entries has            been corrected.<BR><BR></li>                        <LI>The PowerPC implementation of            <CODE>GetGWorldPixMap</CODE> has been updated, so its            behavior is consistent with the 68K implementation.            <CODE>GetGWorldPixMap</CODE> would return NULL if the            high order bits of the rowBytes field were cleared.<BR><BR></li>                        <LI><P>NOTE: This change was made so            <CODE>GetGWorldPixMap</CODE> works the same on both            PowerPC and 68K. Developers modifying the            <CODE>rowBytes</CODE> field in PixMap structures should            ensure that the high order bits of <CODE>rowBytes</CODE>            are set correctly as in the following: </P><BR><BR></li>         </UL>                  <BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>    /* SetPixMapRowBytes sets the rowbytesOSErr SetPixMapRowBytes(            PixMapHandle pixmap,            unsigned short newRowBytes) {        /* rowbytes must be even and less than 0x4000.        for best performance, it should be a multiple of 4. */    if (newRowBytes &gt;= 0x4000 || (newRowBytes % 2) != 0) {        return paramErr;    } else {        (**pixmap).rowBytes = (newRowBytes | 0x8000);        return noErr;    }</pre></TD></TR></TABLE></CENTER><BR><BR>                                      <UL>            <LI>A problem in the Palette Manager where a division by            zero error occurred when calculating the best matching            color on a direct device has been corrected.This would            only happen in calls to <CODE>SetDragImage() </CODE>when            at least two monitors were attached to the system with            one monitor in direct mode and another in indexed mode.            This is a problem related to both the 68K and the PowerPC            implementation of the Palette Manager, although it could            only happen during a Transluscent drag.<BR><BR></li>                        <LI>The memory allocation strategy used by            <CODE>GetPictInfo</CODE> could cause the routine to hang            if insufficient memory was available to allocate at least            one scan-line of a pixel map. <CODE>GetPictInfo</CODE>            has been corrected to return a <CODE>memFullErr</CODE>            when there is insufficient memory for it to run.<BR><BR></li>         </UL>                  <H4><A NAME="PowerMgr"></A>Power         Manager</H4>                  <P>The Power Manager provides facilities for         controlling power to the internal hardware devices in         battery-powered Mac OS-compatible computers.</P>                  <P>PowerMgrLib has been moved to the data fork of the System         file.</P>                  <H4><A NAME="TelephoneMgr"></A>Telephone Manager</H4>                  <P>The Telephone Manager works in conjunction         with the Communications Toolbox to provide telephone         services for the Mac OS, such as ISDN connectivity.</P>                  <P>TelephoneLib 3.0 now resides in the System file's data         fork.</P>                  <H4><A NAME="ThreadMgr"></A>Thread         Manager</H4>                  <P>The Thread Manager provides multi-programming         services for use within application programs.</P>                  <P>ThreadsLib 2.1.3 has been moved to the data fork of the         System file.</P>                  <H4><A NAME="WindowMgr"></A>Window         Manager</H4>                  <P>The Window Manager provides facilities for         drawing and maintaining windows on the screen.</P>                  <P>It was possible for <CODE>GrayRgn</CODE> to be allocated         in the current heap zone the first time         <CODE>InitWindows</CODE> was called, making it possible for         the <CODE>GrayRgn</CODE> to be allocated in the application         heap zone by an extension during the system startup         sequence. In this case, the region handle would be destroyed         after the startup sequence had completed, leaving         <CODE>GrayRgn</CODE> undefined. <CODE>InitWindows</CODE> now         takes care to allocate the <CODE>GrayRgn</CODE> in the         system heap zone only once, the first time it is called.         This problem may have occurred in conjunction with         extensions displaying windows at system startup.</p>          <P><A HREF="#top">Back to top</A></P>         <H2><A NAME="AppleMenuItems"></A>Apple         Menu Items</H2>                  <H4><A NAME="AppleSysProfiler"></A>Apple System Profiler 1.1.2</H4>                  <P>Apple System Profiler provides a convenient         and easy-to-use interface for information about the current         system configuration. Its primary purpose is to act as an         aid for telephone-based support representatives in providing         user assistance.</P>                  <P>Apple System Profiler 1.1 has been promoted from the         Apple Extras folder to the Apple Menu Items folder.</P>                  <P>Apple System Profiler is not installed on 68030 machines.         </P>                  <H4><A NAME="Stickies"></A>Stickies         1.0.2</H4>                  <P>The memory partition size for Stickies has         been increased to 150K, which corrects some out-of-memory         problems found in 1.0.1.</p> <P><A HREF="#top">Back to top</A></P>         <H2><A NAME="ControlPanels"></A>Control Panels</H2>                  <P>Control panels are typically located in the         Control Panels folder inside of the System Folder. Some         control panels contain executable resources of type         <CODE>'INIT'</CODE> that the system runs at system startup         time, so the control panel can install its facilities in the         system.</P>                  <P>At system startup time during the extension execution         sequence, <CODE>'INIT'</CODE> resources residing inside of         <CODE>'APPC'</CODE> type files are executed. Although APPC         files are auto-routed by the Finder to the Control Panels         folder in System 7.5 and later versions of the system         software, they cannot be launched using the Finder in system         software releases prior to Mac OS 7.5.3, and INIT resources         residing in these files are not executed in system software         releases prior to Mac OS 7.6.</P>                  <H4><A NAME="AutoONoff"></A>Auto Power         On/Off 1.1</H4>                  <P>The Auto Power On/Off Control Panel no longer         executes a synchronous PPC Toolbox call in its patch to         <CODE>SetDateTime</CODE>. This was rendering         <CODE>SetDateTime</CODE> unsafe to call at interrupt time         even though it was documented as being safe. This change         affects most desktop models from the Macintosh Quadra 840av         forward.</P>                  <H4><A NAME="ColorSync"></A>ColorSync         2.1.1</H4>                  <P>ColorSync is a color management system that         enables the graphics system, applications, and color devices         to present the most accurate and consistent colors to users.         </P>                  <P>Key new features in 2.1 include Named Color System         support, hifi color support, embedding profile by reference,         and expanded bitmap formats.</P>                  <H4><A NAME="EM4"></A>Extensions         Manager 4.0</H4>                  <P>The new Extensions Manager control panel         provides an enhanced user interface with facilities for         developers to provide descriptive information for extensions         and to group related extensions together in packages.</P>                     <P>See <A HREF = "tn1091.html">Technote 1091: Extensions            Manager 4.0</A> for further details.</P>                        <P>See also: </P>                     <UL>            <LI><CITE>Inside Macintosh: Macintosh Toolbox            Essentials</CITE> (7-38), Providing Balloon Help for            non-document icons at            <a href="http://developer.apple.com/documentation/mac/Toolbox/Toolbox-458.html">            &lt;http://developer.apple.com/dev/techsupport/insidemac/Toolbox/Toolbox-458.html&gt;</A>         <BR><BR></li>         </UL>                  <H4><A NAME="EasyOpen"></A>Mac OS Easy         Open 1.1.3</H4>                  <P>Mac OS Easy Open provides translation         services for users opening documents in one application that         have been created by other applications. MacLinkPlus 8.1,         bundled with Mac OS 7.6, provides many different translators         that can be used with Mac OS Easy Open.</P>                  <P>Macintosh Easy Open has been renamed and is now called         Mac OS Easy Open.</P>                  <H4><A NAME="TheMap"></A>Map         7.5.1</H4>                  <P>This new Map control panel adds Cork and         Munich to the cities database.</P>                  <H4><A NAME="Memory"></A>Memory         7.5.7</H4>                  <P>The new Memory control panel attempts to         prevent the user from setting the combination of RAM disk,         VM and disk cache to levels which do not leave the system         enough memory to perform subsequent boots. Along with the         user configuration safety checks, the Memory control panel         includes the following changes: </P>                  <UL>            <LI>The Modern Memory Manager control is no longer            displayed. On PowerPC computers, the Modern Memory            Manager is always on.<BR><BR></li>                        <LI>The "Use 24 Bit Addressing" control is no longer            displayed. 24-bit addressing is no longer available.<BR><BR></li>                        <LI>Table 2 explains virtual memory settings provided by            the installer and the Defaults button in the Memory            control panel.                        <P align=center><B>Table 2</B>. Virtual memory settings</P>                        <CENTER><TABLE BORDER=1>               <TR>                  <td align="left">                     <P><B>Architecture</B></p>                  </TD><td align="left">                     <P ALIGN=CENTER><B>Physical RAM</B></p>                  </TD><td align="left">                     <P></p>                  </TD></TR>               <TR>                  <td align="left">                     <P></p>                  </TD><td align="left">                     <P>16 MB or more</p>                  </TD><td align="left">                     <P>less than 16 MB</p>                  </TD></TR>               <TR>                  <td align="left">                     <P>68K</p>                  </TD><td align="left">                     <P>preserve the current setting</p>                  </TD><td align="left">                     <P>turn VM on and set to 16 MB</p>                  </TD></TR>               <TR>                  <td align="left">                     <P>PowerPC</p>                  </TD><td align="left">                     <P>physical RAM + 1 MB</p>                  </TD><td align="left">                     <P>turn VM on and set to 16 MB</p>                  </TD></TR>            </TABLE></CENTER><BR><BR></li>                        <LI>A memory leak in the Memory control panel's Defaults            button-handling routine has been corrected.<BR><BR></li>                        <LI>The minimum disk cache setting is now 96K.<BR><BR></li>         </UL>                  <H4><A NAME="Monitors"></A>Monitors         7.6.6</H4>                  <P>The Monitors control panel provides user         interface services for configuring and adjusting various         settings for monitors attached to the computer. Some         corrections in the new Monitors control panel are as         follows: </P>                  <UL>            <LI>On some Macintosh computers, a problem would occur            when two attached monitors were configured at different            numbers of color (Thousands and 256). This problem has            been corrected.<BR><BR></li>                        <LI>The Monitors control panel was not saving the            configuration settings for all attached monitors on            systems with more than one monitor attached. This has            been corrected.<BR><BR></li>         </UL>                  <H4><A NAME="QuickTimeSettings"></A>QuickTime Settings</H4>                  <P>The QuickTime 2.5 installation provides a new         control panel allowing you to configure various QuickTime         parameters. See the QuickTime 2.5 Release notes for more         information.</P>                  <H4><A NAME="StartupDisk"></A>Startup         Disk 7.5.3</H4>                  <P>The Startup Disk control panel provides a         user interface for choosing the disk that will be used to         run the computer the next time it starts up.</P>                  <UL>            <LI>This new version sets the PRAM values properly on the            Quadra 660av and Quadra 840av. Previously, on these            machines, the system would ignore whatever the user set            in the Startup Disk control panel and fall back to the            default startup disk selection.<BR><BR></li>                        <LI>Multiple disks with the same name but different            custom color icons now display correctly. Previously, the            incorrect icon would be displayed for all identically            named disks but one.<BR><BR></li>         </UL> <P><A HREF="#top">Back to top</A></P>        <H2><A NAME="ControlStripModules"></A>Control Strip Modules</H2>                  <P>Control Strip modules reside in the Control         Strip Modules folder inside the System Folder. Any Control         Strip modules appropriate for the hardware configuration         will appear in the control strip when it is active.</P>                           <H4><A NAME="CDStrip"></A>CD Strip         1.0</H4>                  <P>This new control strip module interfaces with         the CD drive.</P>                  <H4><A NAME="PrinterSelector"></A>Printer Selector 2.0</H4>                  <P>Allows you to select from multiple desktop         printers if Desktop Printing is installed.</p> <P><A HREF="#top">Back to top</A></P>         <H2><A NAME="SystemExtensions"></A>System Extensions</H2>                  <P>System extensions are located in the         Extensions folder inside the System Folder.</P>                  <P>An error in earlier versions of System 7.5 allows         invisible extensions to be executed at statup time. This has         been corrected and invisible extensions are no longer         executed at startup time.</P>                  <H4><A NAME="AppleCDROM"></A>Apple         CD-ROM 5.3.1</H4>                  <P>The SCSI CD-ROM driver contains some         enhancements for support of new Apple products and corrects         problems found in previous versions of the driver: </P>                  <UL>            <LI>Adds generic support for 6x and beyond SCSI CD-ROM            drives.<BR><BR></li>                        <LI>Corrects some incompatibility problems with some            third-party drives.<BR><BR></li>                        <LI>Corrects a problem that could occur when pausing an            Audio CD during playback.<BR><BR></li>                        <LI>The <CODE>GetSpindleSpeed</CODE> driver control call            now returns 0xFF when the relative speed of the CD-ROM            drive is unknown (indicating the fastest speed--1x on            single-speed-only drives; 2x and greater on drives which            support greater than single speed).<BR><BR></li>                        <LI>Corrects a problem where the sleep timer would never            expire and the drive would never be put to sleep.<BR><BR></li>                        <LI>The internal driver cache is now flushed whenever a            read error occurs.<BR><BR></li>                        <LI>The driver now checks for pending asynchronous calls            with interrupts disabled when returning from synchronous            calls correcting a problem that could occur when sharing            a CD over a network.<BR><BR></li>                        <LI>Corrects a problem where the CD-ROM could go to sleep            while playing an Audio CD<BR><BR></li>         </UL>                  <H4><A NAME="AppleGuide"></A>Apple         Guide 2.1.1</H4>                  <P>Apple Guide provides system wide help         services for users. For more information, check         <A HREF = "http://www.macos.apple.com/Apple_Guide/">         &lt;http://www.macos.apple.com/Apple_Guide/&gt;</A>.         </P>                  <P>This release adds support for multi-process guide files,         so AppleGuide can be used in conjunction with OpenDoc         documents.</P>                  <H4><A NAME="ARA21"></A>Apple Remote         Access Client 2.1</H4>                  <P>The Apple Remote Access Client allows users         to dial in and connect to AppleTalk networks from remote         locations.</P>                  <P>The Mac OS 7.6 installation ships with Apple Remote         Access Client 2.1.</P>                  <BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT: </B><BR>ARA Client 2.1 must not be installed over the Open                  Transport/PPP installation included with Mac OS                  7.6. Installing the ARA Client 2.1 will replace the                  Open Transport/PPP Modem Files, which can cause                  connection problems for Open Transport/PPP.                  However, although it is not safe to install the ARA                  Client 2.1 after you have installed Open                  Transport/PPP, it is perfectly safe to install Open                  Transport/PPP after installing the ARA Client 2.1.</P></TD></TR></TABLE></CENTER><BR><BR>                                      <H4><A NAME="AppleScript"></A>Apple         Script 1.1</H4>                  <P>AppleScript provides a scripting interface         for users to automate actions that would normally require         use of the mouse and keyboard. AppleScript 1.1 is installed         with MacOS 7.6. More information can be found at the         AppleScript ftp site at</P>                  <P><a href="http://developer.apple.com/cgi-bin/ftpchooser.pl?partialURL=Development_Kits/AppleScript">         /cgi-bin/ftpchooser.pl?partialURL=Development_Kits/AppleScript</A>.         </P>                  <H4><A NAME="AppleShare"></A>AppleShare Workstation Client 3.6.4         </H4>                  <P>AppleShare Workstation Client provides file         sharing services for the Finder and applications on Mac         OS-compatible computers networked with file servers.</P>                  <UL>            <LI>The AppleShare client driver was installing a VBL            task redundantly, which caused a loop in the VBL queue            and could orphan some entries. The symptoms were an            intermittent freeze on any machine or a crash on one of            the slower 68K machines. This has been corrected.<BR><BR></li>                        <LI>AppleShare was incorrectly allocating temporary            memory for its caches. In some cases, this was            responsible for the incorrect disposal of handles.            AppleShare 3.6.4 now allocates temporary memory for its            caches correctly, and this problem no longer occurs.<BR><BR></li>         </UL>                  <H4><A NAME="DeskTopPrint"></A>Desktop         Printing 2.0.2</H4>                  <P>Desktop Printing provides a simplified user         interface for accessing printing services provided by Mac         OS.</P>                  <H4><A NAME="OpenDoc"></A>OpenDoc         1.1.2</H4>                  <P>OpenDoc is Mac OS's implementation of the         OpenDoc open, multiplatform architecture for component         software.         </P>                  <H4><A NAME="OpenDocEssentials"></A>OpenDoc Essentials 1.0.1</H4>                  <P>This includes an assortment of parts and         editors for use in OpenDoc.</P>                  <H4><A NAME="OpenTransport"></A>Open         Transport 1.1.1</H4>                  <P>OpenTransport 1.1.1 is the only supported         networking technology for Mac OS 7.6. Several additions to         the programming interfaces along with corrections in the         implementation are provided with this release. Interested         developers should consult the OpenTransport release notes         and Developer notes, or check         <a href="http://developer.apple.com/macos/opentransport/">         &lt;http://developer.apple.com/macos/opentransport/&gt;</A>.         </P>                  <P>OpenTransport 1.1.1 provides corrections in the following         areas: </P>                  <UL>            <LI>General OpenTransport functionality<BR><BR></li>                        <LI>Backward-compatibility for the original AppleTalk API<BR><BR></li>                        <LI>Backward-compatibility for the original TCP/IP API<BR><BR></li>                        <LI>AppleTalk<BR><BR></li>                        <LI>TCP/IP<BR><BR></li>                        <LI>Links<BR><BR></li>         </UL>                  <P>Classic networking APIs are emulated under OpenTransport.         </P>                  <P>Open Transport 1.1.1 is installed with Mac OS 7.6.</P>                  <BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT: </B><BR>Although it is possible to run the Network Software                  Installer 1.5.1 and end up with classic networking                  enabled on machines which did support it in                  previous releases, this option is not recommended,                  since it places the operating system in an                  undefined and unsupported state.</P>                                    <P>Although it is still                  possible to use the Network Software Selector from                  System 7.5.3 to switch a 68K computer to classic                  networking, this option is not recommended, since                  it places the operating system in an undefined and                  unsupported state.</P></TD></TR></TABLE></CENTER><BR><BR>                                      <H4><A NAME="OTPPP"></A>Open         Transport/PPP 1.0</H4>                  <P>Open Transport/PPP provides Point to Point         Protocol connection services for users dialing in and         connecting to the internet. For more information, check         <a href="http://developer.apple.com/macos/opentransport/">         &lt;http://developer.apple.com/macos/opentransport/&gt;</A>.         </P>                  <A NAME="QuickTime"></A>         <H4>QuickTime 2.5</H4>                  <P>QuickTime provides various multimedia         services for the Mac OS, including the ability to display         movies and facilities for the translation and display of         various audio and visual data file formats. For more         information, check          <A HREF = "http://www.apple.com/quicktime/">&lt;http://www.apple.com/quicktime/&gt;</A> and          <A HREF = "http://developer.apple.com/quicktime/">&lt;http://developer.apple.com/quicktime/&gt;</A>.</P>                  <P>QuickTime has been enhanced in several areas, providing         more features for both developers and end users. QuickTime         2.5 supports the following new key features: </P>                  <UL>            <LI>Enhancements to the QuickTime Music Architecture<BR><BR></li>                        <LI>Better quality movie playback<BR><BR></li>                        <LI>Support for more types of hardware accelerated video            decompression.<BR><BR></li>                        <LI>Support for multiple processors<BR><BR></li>                        <LI>Rendering of QuickDraw 3D images<BR><BR></li>                        <LI>Support for closed-captioned text into a text track<BR><BR></li>                        <LI>Enhanced text import/export descriptors<BR><BR></li>                        <LI>Support for low data rate audio capture<BR><BR></li>                        <LI>Graphics mode and modifier track support for Sprites<BR><BR></li>                        <LI>CODEC API extensions to support reliable video field            extraction<BR><BR></li>                        <LI>Enhanced Alpha channel support<BR><BR></li>                        <LI>New native component manager dispatching mechanism<BR><BR></li>                        <LI>Improved video/sound synchronization<BR><BR></li>                        <LI>Asynchronous JPEG display<BR><BR></li>                        <LI>CD Auto start for audio CD's<BR><BR></li>         </UL>                  <P>Interested developers should consult the QuickTime 2.5         Developers Guide.</P>                  <H4><A NAME="QuickDraw3D"></A>QuickDraw 3D 1.0 6</H4>                  <P>QuickDraw 3D provides 3D drawing services for         the Mac OS. For more information, check         <A HREF = "http://quickdraw3d.apple.com/">&lt;http://quickdraw3d.apple.com/&gt;</A>.         </P>                  <H4><A NAME="QuickDrawGX"></A>QuickDraw GX 1.1.5</H4>                  <P>QuickDraw GX provides imaging, printing, and         typography services for the Mac OS. QuickDraw GX 1.1.5 supports the          following changes: </P>                  <UL TYPE=DISC>            <LI>Quickdraw GX 1.1.5 is compatible with ColorSync 2.x.<BR><BR></li>                        <LI>ColorSync is no longer installed with the GX installer, since it is now            installed with the system.<BR><BR></li>                    <LI>Corrects a network-related PAP problem that could cause crashes on PCI-based            computers.<BR><BR></li>                        <LI>Corrects a PostScript problem where the machine could hang when used with            certain third-party spoolers.<BR><BR></li>        </UL>        Known Problems: <BR>        <UL TYPE=DISC>        <LI>Specific bug fixes in QuickDraw GX 1.1.4dx are not present in QuickDraw        GX 1.1.5. Users of QuickDraw GX 1.1.4dx may wish to continue using that version if        they are dependent on those bug fixes. Future versions of QuickDraw GX        will include these bug fixes.  See the QuickDraw GX 1.1.4dx and the GX        1.1.5 Release notes for further information.<BR><BR></li>        </UL>          <P>For more information,         check <A HREF = "http://developer.apple.com/documentation/macos8/Legacy/QuickDrawGX/quickdrawgx.html">         &lt;http://developer.apple.com/documentation/macos8/Legacy/QuickDrawGX/quickdrawgx.html&gt;</A>.</P>                           <H4><A NAME="SpeechManager"></A>Speech         Manager 1.5</H4>                  <P>The Speech Manager provides services for the         translation of text into speech. For more information, check         <A HREF = "http://www.apple.com/macos/speech/">         &lt;http://www.apple.com/macos/speech/&gt;</A>.</p>                   <P><A HREF="#top">Back to top</A></P>                  <H2><A NAME="OtherUtilities"></A>Apple         Extras</H2>                  <H4><A NAME="Cyberdog"></A>Cyberdog         1.2.1</H4>                  <P>Cyberdog is an application and a set of         OpenDoc components which provide access to Internet and         Intranet services including the World Wide Web, e-mail, file         servers and more.         </P>                  <H4><A NAME="DiskFirstAid"></A>Disk         First Aid 7.2.3</H4>                  <P>As mentioned above in the File Manager         section, the system now sets a previously reserved bit in         the drAtrb field of the boot volume's MDB while that volume         is mounted. Disk First Aid 7.2.2 and earlier assume this bit         should be set to zero and report boot volumes that have been         mounted by the new File Manager as damaged when in fact they         are not. Disk First Aid 7.2.3 is aware of the system's use         of this bit and does not report volumes mounted by Mac OS         7.6 as damaged.</P>                  <H4><A NAME="DriveSetup"></A>Drive         Setup 1.2.2</H4>                  <P>Drive Setup provides low-level disk         formatting services and driver updates for Apple hard disks         connected to Mac OS-compatible computers.</P>                  <P>Drive Setup 1.0.4 fixes a problem where three SCSI drives         were marked as able to disconnect/reconnect when they could         not. This would lead to random system hangs.</P>                  <P>Drive Setup 1.2.2 includes a patch correcting a problem         that could cause a hang on PowerPC models employing a MESH         SCSI controller.</p>                  <H4><A NAME="MacsBug"></A>MacsBug 6.5.4</H4>                  <P>MacsBug is a low-level debugger providing          disassembly and memory inspection         services for programmers.  MacsBug is not included with the Mac OS 7.6         installation package;  however, developers should be aware that on some         Mac OS-compatible computers this new version of MacsBug is needed.</p>         <BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>On PCI-based computers running MacOS 7.6, MacsBug 6.5.4 (or later)            is required; prior versions of MacsBug may not function correctly on            these machines.</P></TD></TR></TABLE></CENTER><BR> <P><A HREF="#top">Back to top</A></P>         <H2><A NAME="NotSupported"></A>Items         No Longer Supported</H2>                  <H4><A NAME="ClassicNet"></A>Classic         Networking</H4>                  <P>Support for classic networking has been         removed from the system. Neither MacTCP nor classic         AppleTalk are included in the installation. These features         and facilities are now emulated by OpenTransport, so older         applications should still function correctly.</P>                           <H4><A NAME="PowerTalk"></A>PowerTalk</H4>                  <P>PowerTalk is neither installed nor supported.         If the PowerTalk extensions are present in the System Folder         at system startup, they will not be loaded. If the PowerTalk         extensions are found during installation, they are removed.</P><P><A HREF="#top">Back to top</A></p> <A NAME=Downloads></A>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="500">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (92K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/tn1090.pdf">Download</A></P>               </TD>	</tr>	</table><BR>         <P><A HREF="#top">Back to top</A></P></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1090.html%3Fid%3DDTS10002930-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1090.html%3Fid%3DDTS10002930-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1090.html%3Fid%3DDTS10002930-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --><hr width=500 align=center></BODY></HTML>