<html><head><title>Mac OS X Developer Tools
 Manual Page For libtool(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/libtool" title="Mac OS X Developer Tools
 Manual Page for libtool(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/libtool"; name=libtool(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
LIBTOOL(1)                                                                                        LIBTOOL(1)



<b>NAME</b>
       libtool - create libraries
       ranlib - add or update the table of contents of archive libraries

<b>SYNOPSIS</b>
       <b>libtool</b>  <b>-static</b>  <b>-o</b>  <u>output</u>  [  <b>-sacLT</b>  ]  [  <b>-</b> ] [ <b>-arch_only</b> <u>arch</u><b>_</b><u>type</u> ] <u>file</u>...  [-filelist list-<font color="#ffffff" class="whiteout">file[,dirname]]&nbsp;listfile[,dirname]]</font>
       file[,dirname]]

       <b>libtool</b> <b>-dynamic</b> <b>-o</b> <u>output</u> [ <b>-install_name</b> <u>name</u> ] [ <b>-compatibility_version</b> <u>number</u> ]  [  <b>-current_ver</b>-<font color="#ffffff" class="whiteout">sion&nbsp;-current_version</font>
       <b>sion</b>  <u>number</u>  ]  [  <u>link</u>  <u>editor</u> <u>flags</u> ] [ <b>-v</b> ] [ <b>-noall_load</b> ] [ <b>-</b> ] [ <b>-arch_only</b> <u>arch</u><b>_</b><u>type</u> ] [ <b>-V</b> ]
       <u>file</u>...  [-filelist listfile[,dirname]]

       <b>ranlib</b> [ <b>-sactfqLT</b> ] [ <b>-</b> ] <u>archive</u>...

<b>DESCRIPTION</b>
       The <u>libtool</u> command takes the specified input object files and creates a library  for  use  with  the
       link  editor,  <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>.   The library's name is specified by <u>output</u> (the argument to the <b>-o</b> flag).  The
       input object files may be in any correct format that contains object files (``universal'' files,  ar-<font color="#ffffff" class="whiteout">chives,&nbsp;archives,</font>
       chives,  object  files).   <u>Libtool</u>  will  not  put  any non-object input file into the output library
       (unlike <u>ranlib</u>, which allows this in the archives it operates on).

       When producing a ``universal'' file from objects of the same CPU type  and  differing  CPU  subtypes,
       <u>libtool</u>  and <u>ranlib</u> create at most one library for each CPU type, rather than a separate library in a
       universal file for each of the unique pairings of CPU type and CPU subtype.  Thus, the resulting  CPU
       subtype  for  each library is the _ALL CPU subtype for that CPU type.  This strategy strongly encour-<font color="#ffffff" class="whiteout">ages&nbsp;encourages</font>
       ages the implementor of a library to create one library that chooses optimum code to run at run time,
       rather than at link time.

       <u>Libtool</u>  can  create  either dynamically linked shared libraries, with <b>-dynamic,</b> or statically linked
       (archive) libraries, with <b>-static.</b>

<b>DYNAMICALLY</b> <b>LINKED</b> <b>SHARED</b> <b>LIBRARIES</b>
       Dynamically linked libraries, unlike statically linked libraries, are Mach-O  format  files  and  not
       <a href="../man5/ar.5.html#//apple_ref/doc/man/5/ar"><u>ar</u>(5)</a>  format files.  Dynamically linked libraries have two restrictions: No symbol may be defined in
       more than one object file and no common symbol can be used.  To maximize  sharing  of  a  dynamically
       linked shared library the objects should be compiled with the <b>-dynamic</b> flag of <a href="cc.1.html#//apple_ref/doc/man/1/cc"><u>cc</u>(1)</a> to produce indi-<font color="#ffffff" class="whiteout">rect&nbsp;indirect</font>
       rect undefined references and position-independent code.  To  build  a  dynamically  linked  library,
       <u>libtool</u>,  runs  the  link  editor, <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>, with <b>-dylib</b> once for each architecutre present in the input
       objects and then <a href="lipo.1.html#//apple_ref/doc/man/1/lipo"><u>lipo</u>(1)</a> to create a universal file if needed.

<b>ARCHIVE</b> <b>(or</b> <b>statically</b> <b>linked)</b> <b>LIBRARIES</b>
       <u>Libtool</u> with <b>-static</b> is intended to replace <a href="../man5/ar.5.html#//apple_ref/doc/man/5/ar"><u>ar</u>(5)</a> and <u>ranlib</u>.  For backward compatibility, <u>ranlib</u>  is
       still  available,  and  it supports universal files.  <u>Ranlib</u> adds or updates the table of contents to
       each <u>archive</u> so it can be linked by the link editor, <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>.  The table of contents is an archive mem-<font color="#ffffff" class="whiteout">ber&nbsp;member</font>
       ber  at  the  beginning of the archive that indicates which symbols are defined in which library mem-<font color="#ffffff" class="whiteout">bers.&nbsp;members.</font>
       bers.  Because <u>ranlib</u> rewrites the archive, sufficient temporary file space must be available in  the
       file  system  that contains the current directory.  <u>Ranlib</u> takes all correct forms of libraries (uni-<font color="#ffffff" class="whiteout">versal&nbsp;(universal</font>
       versal files containing archives, and simple archives) and updates the table of contents for all  ar-<font color="#ffffff" class="whiteout">chives&nbsp;archives</font>
       chives in the file.  <u>Ranlib</u> also takes one common incorrect form of archive, an archive whose members
       are universal object files, adding or updating the table of contents and  producing  the  library  in
       correct form (a universal file containing multiple archives).

       The  archive member name for a table of contents begins with ``__.SYMDEF''.  Currently, there are two
       types of table of contents produced by <u>libtool</u> <b>-static</b> and <u>ranlib</u> and understood by the link  editor,
       <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a>.  These are explained below, under the <b>-s</b> and <b>-a</b> options.

<b>OPTIONS</b>
       The following options pertain to <u>libtool</u> only.

       <b>-static</b>
              Produce a statically linked (archive) library from the input files.  This is the default.

       <b>-dynamic</b>
              Produce a dynamically linked shared library from the input files.

       <b>-install_name</b> <u>name</u>
              ror a dynamic shared library this specifies the file <u>name</u> the library will be installed in for
              programs that use it.  If this is not specified the name specified by  the  <b>-o</b>  <u>output</u>  option
              will be used.

       <b>-compatibility_version</b> <u>number</u>
              For  a  dynamic shared library this specifies the compatibility version number of the library.
              When a library is used the compatibility version is checked  and  if  the  user's  version  is
              greater  that  the library's version, an error message is printed and the using program exits.
              The format of <u>number</u> is <u>X[.Y[.Z]]</u> where <u>X</u> must be a positive  non-zero  number  less  than  or
              equal  to  65535,  and <u>.Y</u> and <u>.Z</u> are optional and if present must be non-negative numbers less
              than or equal to 255.  If this is not specified then it has a value of 0 and  no  checking  is
              done when the library is used.

       <b>-current_version</b> <u>number</u>
              For  dynamic  shared  library  files this specifies the current version number of the library.
              The program using the library can obtain the current version of the  library  programmatically
              to  determine  exactly  which  version  of  the  library it is using.  The format of <u>number</u> is
              <u>X[.Y[.Z]]</u> where <u>X</u> must be a positive non-zero number less than or equal to 65535, and  <u>.Y</u>  and
              <u>.Z</u>  are  optional  and  if present must be non-negative numbers less than or equal to 255.  If
              this is not specified then it has a value of 0.

       <b>-noall_load</b>
              For dynamic shared library files this specifies the the default behavior of loading  all  mem-<font color="#ffffff" class="whiteout">bers&nbsp;members</font>
              bers  of  archives on the command line is not to be done.  This option is used by the GNU com-<font color="#ffffff" class="whiteout">piler&nbsp;compiler</font>
              piler driver, <a href="cc.1.html#//apple_ref/doc/man/1/cc"><u>cc</u>(1)</a>, when used with it's <b>-dynamiclib</b> option.  This is done to allow  selective
              loading of the GNU's compiler's runtime support library, libcc_dynamic.a .

       <u>link</u> <u>editor</u> <u>flags</u>
              For  a  dynamic shared library the following <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a> flags are accepted and passed through: <b>-l</b><u>x,</u>
              <b>-weak-l</b><u>x,</u> <b>-search_paths_first</b> <b>-weak_library,</b> <b>-L</b><u>dir,</u> <b>-y</b><u>sym,</u> <b>-u</b><u>sym,</u> <b>-init</b><u>sym,</u> <b>-i</b><u>definition:indi</u>-<font color="#ffffff" class="whiteout">rect,&nbsp;-idefinition:indirect,</font>
              <u>rect,</u>  <b>-seg1addr,</b>  <b>-segs_read_only_addr,</b> <b>-segs_read_write_addr,</b> <b>-seg_addr_table,</b> <b>-seg_addr_ta</b>-<font color="#ffffff" class="whiteout">ble_filename,&nbsp;-seg_addr_table_filename,</font>
              <b>ble_filename,</b> <b>-segprot,</b> <b>-segalign,</b>  <b>-sectcreate,</b>  <b>-sectorder,</b>  <b>-sectorder_detail,</b>  <b>-sectalign,</b>
              <b>-undefined,</b>  <b>-read_only_relocs,</b>  <b>-prebind,</b> <b>-prebind_all_twolevel_modules,</b> <b>-prebind_allow_over</b>-<font color="#ffffff" class="whiteout">lap,&nbsp;-prebind_allow_overlap,</font>
              <b>lap,</b> <b>-noprebind,</b> <b>-framework,</b>  <b>-weak_framework,</b>  <b>-umbrella,</b>  <b>-allowable_client,</b>  <b>-sub_umbrella,</b>
              <b>-sub_library,</b> <b>-F,</b> <b>-U,</b> <b>-Y,</b> <b>-Sn,</b> <b>-Si,</b> <b>-Sp,</b> <b>-S,</b> <b>-X,</b> <b>-x,</b> <b>-whyload,</b> <b>-all_load.</b>  <b>-arch_errors_fatal,</b>
              <b>-dylib_file,</b> <b>-run_init_lazily,</b> <b>-final_output,</b> <b>-macosx_version_min,</b> <b>-multiply_defined,</b>  <b>-multi</b>-<font color="#ffffff" class="whiteout">ply_defined_unused,&nbsp;-multiply_defined_unused,</font>
              <b>ply_defined_unused,</b> <b>-twolevel_namespace,</b> <b>-twolevel_namespace_hints,</b> <b>-flat_namespace,</b> <b>-nomulti</b>-<font color="#ffffff" class="whiteout">defs,&nbsp;-nomultidefs,</font>
              <b>defs,</b>   <b>-headerpad,</b>   <b>-headerpad_max_install_names,</b>   <b>-weak_reference_mismatches,</b>   <b>-M,</b>    <b>-t,</b>
              <b>-no_arch_warnings,</b>  <b>-single_module,</b>  <b>-multi_module,</b>  <b>-exported_symbols_list,</b>  <b>-unexported_sym</b>-<font color="#ffffff" class="whiteout">bols_list,&nbsp;-unexported_symbols_list,</font>
              <b>bols_list,</b> <b>-m,</b>  <b>-dead_strip,</b>  <b>-no_dead_strip_inits_and_terms,</b>  <b>-executable_path,</b>  <b>-syslibroot,</b>
              <b>-no_uuid.</b>   See the <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a> man page for details on these flags.  The flag <b>-image_base</b> is a syn-<font color="#ffffff" class="whiteout">onym&nbsp;synonym</font>
              onym for <b>-seg1addr.</b>

       <b>-v</b>     Verbose mode, which prints the <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a> commands and <a href="lipo.1.html#//apple_ref/doc/man/1/lipo"><u>lipo</u>(1)</a> commands executed.

       <b>-V</b>     Print the version of libtool.

       <b>-filelist</b> <u>listfile[,dirname]</u>
              The <u>listfile</u> contains a list of file names and is an alternative way of specifiying file names
              on the command line.   The file names are listed one per line separated only by newlines (spa-<font color="#ffffff" class="whiteout">ces&nbsp;(spaces</font>
              ces and tabs are assumed to be part of the  file  name).   If  the  optional  directory  name,
              <u>dirname</u> is specified then it is prepended to each name in the list file.

       <b>-arch_only</b> <u>arch</u><b>_</b><u>type</u>
              This option causes libtool to build a library only for the specified <u>arch</u><b>_</b><u>type</u> and ignores all
              other architectures in the input files.  When building a dynamic library, if this is specified
              with  a  specific cpusubtype other than the family cpusubtype then libtool it does not use the
              <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a> <b>-force_cpusubtype_ALL</b> flag and passes the <b>-arch_only</b> argument to <a href="ld.1.html#//apple_ref/doc/man/1/ld"><u>ld</u>(1)</a> as the <b>-arch</b> flag
              so that the output is tagged with that cpusubtype.

       The  following  options  pertain  to  the table of contents for an archive library, and apply to both
       <u>libtool</u> <b>-static</b> and <u>ranlib:</u>

       <b>-s</b>     Produce the preferred type of table of contents, which results in  faster  link  editing  when
              linking  with  the archive.  The order of the table of contents is sorted by symbol name.  The
              library member name of this type of table of contents is ``__.SYMDEF SORTED''.  This  type  of
              table  of  contents  can only be produced when the library does not have multiple members that
              define the same symbol.  This is the default.

       <b>-a</b>     Produce the original type of table of contents, whose order is based on the order of the  mem-<font color="#ffffff" class="whiteout">bers&nbsp;members</font>
              bers  in  the  archive.   The  library  member  name  of  this  type  of  table of contents is
              ``__.SYMDEF''.  This type of table of contents must be used when the library has multiple mem-<font color="#ffffff" class="whiteout">bers&nbsp;members</font>
              bers that define the same symbol.

       <b>-c</b>     Include  common  symbols as definitions with respect to the table of contents.  This is seldom
              the intended behavior for linking from a library, as it forces the linking of a library member
              just  because  it uses an uninitialized global that is undefined at that point in the linking.
              This option is included only because this was the original behavior of <u>ranlib.</u>  This option is
              not the default.

       <b>-L</b>     Use the 4.4bsd archive extended format #1, which allows archive member names to be longer than
              16 characters and have spaces in their names.  This option is the default.

       <b>-T</b>     Truncate archive member names to 16 characters and don't use the 4.4bsd  extended  format  #1.
              This option is not the default.

       <b>-f</b>     Warns  when the output archive is universal and <a href="ar.1.html#//apple_ref/doc/man/1/ar"><u>ar</u>(1)</a> will no longer be able to operate on it.

       <b>-q</b>     Do nothing if a universal file would be created.

       For compatibility, the following <u>ranlib</u> option is accepted (but ignored):

       <b>-t</b>     This option used to request that <u>ranlib</u> only ``touch'' the archives instead of modifying them.
              The option is now ignored, and the table of contents is rebuilt.

       One other option applies to both <u>libtool</u> and <u>ranlib</u>:

       <b>-</b>      Treat all remaining arguments as names of files (or archives) and not as options.

<b>SEE</b> <b>ALSO</b>
       <a href="ld.1.html#//apple_ref/doc/man/1/ld">ld(1)</a>, <a href="ar.1.html#//apple_ref/doc/man/1/ar">ar(1)</a>, <a href="otool.1.html#//apple_ref/doc/man/1/otool">otool(1)</a>, <a href="make.1.html#//apple_ref/doc/man/1/make">make(1)</a>, <a href="redo_prebinding.1.html#//apple_ref/doc/man/1/redo_prebinding">redo_prebinding(1)</a>, <a href="../man5/ar.5.html#//apple_ref/doc/man/5/ar">ar(5)</a>

<b>BUGS</b>
       With  the  way  libraries  used  to be created, errors were possible if the library was modified with
       <a href="ar.1.html#//apple_ref/doc/man/1/ar"><u>ar</u>(1)</a> and the table of contents was not updated by rerunning <a href="ranlib.1.html#//apple_ref/doc/man/1/ranlib"><u>ranlib</u>(1)</a>.  Thus the  link  editor,  <u>ld</u>,
       warns  when  the modification date of a library is more recent than the creation date of its table of
       contents.  Unfortunately, this means that you get the warning even if you only copy the library.



Apple Computer, Inc.                          February 28, 2006                                   LIBTOOL(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/libtool.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/libtool.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/libtool.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
