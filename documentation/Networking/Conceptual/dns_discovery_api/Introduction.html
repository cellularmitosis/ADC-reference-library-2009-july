<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>DNS Service Discovery Programming Guide: Introduction to DNS Service Discovery</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Introduction to DNS Service Discovery"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css">
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002475" title="Introduction to DNS Service Discovery"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000440-TP30000429" target="_top">Networking</a> &gt; <a href="../../Bonjour-date.html#//apple_ref/doc/uid/TP30000440-TP30000429-TP30000566" target="_top">Bonjour</a> &gt; <a href="index.html" target="_top">DNS Service Discovery Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="Articles/registering.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40002475-DontLinkElementID_15" title="Introduction to DNS Service Discovery"></a><hr /><H1>Introduction to DNS Service Discovery</H1>
<!-- This template is being used for both PDF and HTML. -->
<!-- TopicBook.pm currently relies on the element name bmini_toc. -->

    <h4>Contents:</h4>
    
    <p class="blockquote">

        
			
        
			
            
                <a href="Introduction.html#//apple_ref/doc/uid/TP40002475-DontLinkElementID_9">Who Should Read This Document?</a>
                
            <br/>
            
        
			
            
                <a href="Introduction.html#//apple_ref/doc/uid/TP40002475-DontLinkElementID_10">Organization of This Document</a>
                
            <br/>
            
        
			
            
                <a href="Introduction.html#//apple_ref/doc/uid/TP40002475-BBCDCHHI">Before You Start</a>
                
            <br/>
            
        
			
            
                <a href="Introduction.html#//apple_ref/doc/uid/TP40002475-TPXREF103">Requirements</a>
                
            <br/>
            
        
			
            
                <a href="Introduction.html#//apple_ref/doc/uid/TP40002475-TPXREF105">Limitations</a>
                
            <br/>
            
        
			
            
                <a href="Introduction.html#//apple_ref/doc/uid/TP40002475-BABHDFDI">For More Information</a>
                
            <br/>
            
        

    </p><br/>

<p>This document describes how to use the DNS Service Discovery API in your program. The DNS Service Discovery API helps you to perform three main tasks:</p><ul class="ul"><li class="li"><p>Registering a service</p></li><li class="li"><p>Browsing for services</p></li><li class="li"><p>Resolving service names to host names</p></li></ul><p>In support of these main tasks, this API can directly assist you in performing two subsidiary tasks:</p><ul class="ul"><li class="li"><p>Enumerating domains (finding recommended service domains)</p></li><li class="li"><p>Updating registrations (changing your DNS registration data dynamically)</p></li></ul><p>The DNS Service Discovery API is part of Bonjour, Apple’s implementation of zero-configuration networking (ZEROCONF). For an overview of how Bonjour works, please read <em><a href="../../../Cocoa/Conceptual/NetServices/index.html#//apple_ref/doc/uid/10000119i" target="_top">Bonjour Overview</a></em> prior to using DNS Service Discovery.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002475-DontLinkElementID_16" title="Note"></a><p><strong>Note:</strong>&nbsp;This document describes the socket-based DNS Service Discovery API, which is the recommended API that’s available in Mac OS X v10.3 and later. The alternative Mach-based API is deprecated.</p></div><a name="//apple_ref/doc/uid/TP40002475-DontLinkElementID_9" title="Who Should Read This Document?"></a><h2>Who Should Read This Document?</h2><p>This document is meant for developers who want to use Bonjour in their applications. There are a number of reasons to use the DNS Service Discovery API over the Network Services APIs (NSNetServices and CFNetServices):</p><ul class="ul"><li class="li"><p>You are writing BSD-style applications that will not need to link to higher level frameworks.</p></li><li class="li"><p>You are writing cross-platform programs (DNS Service Discovery API is available on Mac OS X, Windows, and other POSIX compatible operating systems).</p></li><li class="li"><p>You are writing an application that requires special purpose low-level routines, such as registering individual records or being able to use only specific network interfaces.</p></li></ul><p>If none of those features are necessary for your program, it is highly recommended that you take a look at NSNetService and CFNetService first.</p><a name="//apple_ref/doc/uid/TP40002475-DontLinkElementID_10" title="Organization of This Document"></a><h2>Organization of This Document</h2><p>This document contains the following articles:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="Articles/registering.html#//apple_ref/doc/uid/TP40002478-SW1">“Registering and Terminating a Service”</a></span> explains how to register and terminate your service with the mDNSResponder daemon.</p></li><li class="li"><p><span class="content_text"><a href="Articles/browse.html#//apple_ref/doc/uid/TP40002486-SW1">“Browsing for Network Services”</a></span> describes how to browse for services.</p></li><li class="li"><p><span class="content_text"><a href="Articles/resolving.html#//apple_ref/doc/uid/TP40002487-SW1">“Resolving the Current Address of a Service”</a></span> explains how to get information on a service based on its name, registration type, and domain.</p></li><li class="li"><p><span class="content_text"><a href="Articles/enumeratingdomains.html#//apple_ref/doc/uid/TP40002488-SW1">“Enumerating Domains”</a></span> helps you understand how to find domains recommended for registration and browsing.</p></li><li class="li"><p><span class="content_text"><a href="Articles/UsingDNSServiceDiscoveryinWindows.html#//apple_ref/doc/uid/TP40002480-SW1">“Using DNS Service Discovery in Windows”</a></span> gives an overview for how to implement DNS Service Discovery in a Windows-based application.</p></li></ul><a name="//apple_ref/doc/uid/TP30000077-199206" title="Before You Start"></a><a name="//apple_ref/doc/uid/TP40002475-BBCDCHHI" title="Before You Start"></a><h2>Before You Start</h2><p>The next few paragraphs describe some things you should know about this API before attempting any of the tasks.</p><p>Most functions in this API do not return all of their data using their function return or parameter block. Instead, they require you to provide a callback function that can handle data sent asynchronously. </p><p>Your callback function may be called multiple times in response to a single function call on your part. For example, you might request a list of available services. Your callback would be called once for each available service that matches your request, then called again whenever a matching service is added or removed.</p><p>Some functions return error codes in the usual way, but many do not. In these cases, any error code and status flags are sent to your callback function as part of the asynchronous reply, along with—or instead of—any returned data.</p><p>Most of the functions in this API use a common set of parameters to describe services. You will need to supply some or all of these parameters, depending on the purpose of your call. In many cases, you will provide some parameters, such as the domain and type of service, and your callback function will receive data corresponding to other parameters, such as the service name of a matching service. </p><p>Here is a list of the common parameters required by the DNS Service Discovery API:</p><ul class="ul"><li class="li"><p>Name—human readable name of the service, such as <code>Sales Laser Printer</code>.</p></li><li class="li"><p>Registration type—the service type followed by the protocol name and separated by a dot (<code>.</code>) ; <code>_printer._tcp</code> is an example.</p></li><li class="li"><p>Domain—the domain for the service, typically <code>NULL</code>.</p></li></ul><ul class="ul"><li class="li"><p>Full domain name—the name that uniquely identifies a service. A full domain name is the concatenation of the name, registration type, and domain. Because the dot (<code>.</code>) character is used as a separator, any dot characters in the name portion of a full domain name must be escaped by a backslash character (<code>\</code>). If the name contains a literal backslash, the backslash must also be escaped by a backslash character. Here is an example of a full domain name: <code>Dr\.Smith’s Home\\Office Server._http._tcp.local</code>.</p></li><li class="li"><p>Port—the port number for the service in network byte order.</p></li><li class="li"><p>Text record—an optional record containing any additional information that may be needed to use the service, such as a print queue name.</p></li></ul><a name="//apple_ref/doc/uid/TP30000964-CH203-177320" title="Requirements"></a><a name="//apple_ref/doc/uid/TP40002475-TPXREF103" title="Requirements"></a><h2>Requirements</h2><p>The DNS Service Discovery API requires the services of the mDNSResponder daemon. Mac OS X, versions 10.2 and later, include an mDNSResponder daemon as part of the operating system. Apple also provides source code for an mDNSResponder daemon to Darwin developers as part of versions 10.2 and later. This API is also available in Bonjour for Windows and when mDNSResponder source code is downloaded and incorporated in the Linux, Solaris, and FreeBSD operating systems.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40002475-DontLinkElementID_17" title="Note"></a><p><strong>Note:</strong>&nbsp;Apple encourages hardware developers to embed the Darwin mDNSResponder daemon code in their hardware.</p></div><a name="//apple_ref/doc/uid/TP30000964-CH203-177376" title="Limitations"></a><a name="//apple_ref/doc/uid/TP40002475-TPXREF105" title="Limitations"></a><h2>Limitations</h2><p>The DNS Service Discovery API does not perform network access setup for services. Similarly, the DNS Service Discovery API does not provide a network connection from an application to a service. It allows applications to browse for services, or to ask for them by name, and provides the IP address, port, and so on. You can use BSD sockets to connect to a service over the network.</p><a name="//apple_ref/doc/uid/TP30000964-CH203-211423" title="For More Information"></a><a name="//apple_ref/doc/uid/TP40002475-BABHDFDI" title="For More Information"></a><h2>For More Information</h2><p>For additional information on Bonjour, including links to standards, specifications, and resources, see <span class="content_text"><a href="http://developer.apple.com/networking/bonjour" target="_top">http://developer.apple.com/networking/bonjour</a></span> and read <em><a href="../../../Cocoa/Conceptual/NetServices/index.html#//apple_ref/doc/uid/10000119i" target="_top">Bonjour Overview</a></em>.</p><p>Documentation on the Java-based DNS Service Discovery API is available at <span class="content_text"><a href="../../../../documentation/Java/Reference/DNSServiceDiscovery_JavaRef/index.html" target="_top">http://developer.apple.com/documentation/Java/Reference/DNSServiceDiscovery_JavaRef/index.html</a></span>.</p><p>For information on dynamic update and shared secrets, see <span class="content_text"><a href="http://www.ietf.org/rfc/rfc2136.txt" target="_blank">http://www.ietf.org/rfc/rfc2136.txt</a></span> and <span class="content_text"><a href="http://www.ietf.org/rfc/rfc2845.txt" target="_blank">http://www.ietf.org/rfc/rfc2845.txt</a></span>, respectively.</p><p>For information Network Address Translation (NAT), see <span class="content_text"><a href="http://www.ietf.org/rfc/rfc3022.txt" target="_blank">http://www.ietf.org/rfc/rfc3022.txt</a></span>, and for information on automatic NAT port mapping, see <span class="content_text"><a href="http://files.dns-sd.org/draft-nat-port-mapping.txt" target="_blank">http://files.dns-sd.org/draft-nat-port-mapping.txt</a></span>.</p>

        <br><br> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="Articles/registering.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-11-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Networking/Conceptual/dns_discovery_api/Introduction.html%3Fid%3DTP30000964-5.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Networking/Conceptual/dns_discovery_api/Introduction.html%3Fid%3DTP30000964-5.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Networking/Conceptual/dns_discovery_api/Introduction.html%3Fid%3DTP30000964-5.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>