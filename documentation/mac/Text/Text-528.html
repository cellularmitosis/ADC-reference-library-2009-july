<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>About WorldScript II(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING528></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-527.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-529.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-514.html"><B>Appendix A - Built-in Script Support</B></A> / <A HREF="Text-527.html"><B>WorldScript II</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING528-0></A>
<H2>About WorldScript II</H2>
 The 2-byte script<DFN> </DFN>systems developed prior <DFN>to system software version 7.1 contain their own code to handle language-specific text processing. Each also has its own initialization and configuration code, installing itself at startup and adding its own modifications to the system. </DFN>Each script system patches three different areas of system software: QuickDraw, the Event Manager, and the script management system. <DFN>This can result in a layering of patches to the same traps, inconsistent behavior, and inefficient use of memory.</DFN><P>
 WorldScript II, working with the Text Services Manager and other parts of system software, eliminates code duplication and provides for the special text-input needs of the 2-byte systems:<P>
<UL>
<LI>Enhancements to QuickDraw and the Font Manager now support the display of the thousands of Chinese, Korean, and Japanese characters. To handle a character set that is larger than the 256-character ASCII range, the Font Manager and other parts of system software contain the code necessary to retrieve and render the characters.
<LI>The Text Services Manager, using enhancements to the Event Manager, provides broad support for input methods. Input methods that employ the Text Services Manager intercept every key-down event, map the event to a character code, and pass the result to the application.
<LI>WorldScript II provides language-specific capabilities for script-aware text-handling routines called <A NAME=MARKER-21-108></A><B>script utilities.</B> For instance, WorldScript II provides routines that tell whether a byte in a string is a 1-byte or 2-byte character.<P>
</UL>
 WorldScript II redefines what a 2-byte script system consists of. WorldScript II combines the executable code for many routines for all 2-byte script systems. Script-specific behavior is encoded in resource-based tables. This reduces memory requirements for multiscript systems and avoids layering of patches.<P>
<A NAME=HEADING528-7></A>
<H3>Shared Script Utilities</H3>
 <A NAME=MARKER-2-146></A>WorldScript II contains the code for all script utilities. Script-specific behavior is determined by tables in each script's international resources. In a multiscript environment, WorldScript II loads only one copy of its code into memory. Furthermore, the user needs only the WorldScript II file in the Extensions folder, rather than one extension file per script system. This eases memory requirements and saves disk space.<P>
 <A HREF=#MARKER-9-43>Table A-11</A> lists the script utilities implemented by WorldScript II, along with the chapters in this book that describe their corresponding high-level routines.<DFN>
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-43></A><B>Table A-15 Script utilities supported by WorldScript II</B> (Continued)</CAPTION>
<TH>Script utility<TH>Chapter in this book<TH>&nbsp;<TR>
<TD><A NAME=MARKER-2-242></A>CharacterByteType<TD>Script Manager<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-113></A>CharacterType<TD>Script Manager<TD>&nbsp;<TR>
<TD><A NAME=MARKER-9-9></A>CharToPixel<TD>QuickDraw Text<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-45></A>DrawJustified<TD>QuickDraw Text<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-46></A>FillParseTable<TD>Script Manager<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-47></A>FindScriptRun<A HREF="#FOOTNOTE-11">[11]</A></A><TD>Text Utilities<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-243></A>FindWordBreaks<A HREF="#FOOTNOTE-11">[11]</A><TD>Text Utilities<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-246></A>GetScriptVariable<A HREF="#FOOTNOTE-12">[12]</A><TD>Script Manager<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-249></A>HiliteText<TD>QuickDraw Text<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-250></A>MeasureJustified<TD>QuickDraw Text<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-251></A>PixelToChar<TD>QuickDraw Text<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-252></A>PortionLine<TD>QuickDraw Text<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-253></A>SetScriptVariable<A HREF="#FOOTNOTE-12">[12]</A><TD>Script Manager<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-257></A>TransliterateText<TD>Script Manager<TD>&nbsp;<TR>
<TD><A NAME=MARKER-2-258></A>VisibleLength<TD>QuickDraw Text<A NAME=MARKER-2-259></A><TD>&nbsp;<TR>
<TD colspan=3>WorldScript II supports the following script utilities for backward compatibility. They call newer versions of themselves to handle their tasks. They are: <CODE>Pixel2Char</CODE> (calls <CODE>PixelToChar</CODE>), <CODE>Char2Pixel</CODE> (calls <CODE>CharToPixel</CODE>), <CODE>DrawJust</CODE> (calls <CODE>DrawJustified</CODE>), <CODE>MeasureJust</CODE> (calls <CODE>MeasureJustified</CODE>), <CODE>PortionText</CODE> (calls <CODE>PortionLine</CODE>), <CODE>CharByte</CODE> (calls <CODE>CharacterByteType</CODE>), <CODE>CharType</CODE> (calls <CODE>CharacterType</CODE>), <CODE>ParseTable</CODE> (calls <CODE>FillParseTable</CODE>), <CODE>Transliterate</CODE> (calls <CODE>TransliterateText</CODE>).</TABLE>
</DFN><P>
<A NAME=HEADING528-10></A>
<H3>Table-Based Script Behavior</H3>
 <A NAME=MARKER-9-260></A>Script-specific text behavior is controlled by tables in each script system's international resources. The encoding/rendering resource (type <CODE>'itl5'</CODE>) contains character encoding information, and the transliteration resource (type <CODE>'trsl'</CODE>) contains information for character conversion among subscripts of a 2-byte script.<P>
 For example, the byte-type table in a script's encoding/rendering resource typically contains information about the type of a specific byte in the range of $00-$FF--whether it can be the high-order byte of a 2-byte character, the low-order byte of a 2-byte character, or a 1-byte character. The character-type table in the same resource gives more detailed information about a character in a particular coding scheme.<P>
 Currently, there are two transliteration formats used by WorldScript II and supported by tables in a script's transliteration resource. One of them is used to transliterate Jamo to Hangul (and Hangul to Jamo) in the Korean system. The other is a more general rule-based transliteration. You cannot customize the Jamo-to-Hangul transliteration. You can customize the rule-based transliteration by supplying the proper tables in a transliteration resource.<P>
 The encoding/rendering resource and the transliteration resource are described in the appendix "International Resources" in this book.<P>
<HR>

<A NAME="FOOTNOTE-11">[11] The Script Manager handles these routines directly if the necessary tables are in the script's 'itl2' resource. Otherwise, they are passed to WorldScript II.
<HR>

<A NAME="FOOTNOTE-12">[12] The Script Manager handles these routines directly if the standard selectors documented in this book are used. The routines are passed to WorldScript II if private selectors are used.
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-527.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-529.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
