<HTML>		<HEAD>		<TITLE>			EODetailDataSource		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>EOControl Reference</font><br><br><!--end of path --><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "CHJDCJCI"><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/occ/cl/EODetailDataSource">EODetailDataSource</a></FONT></h1><br></a><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> <a frame= "conv" href="../Classes/EODataSource.html#EODataSource">EODataSource</a></dd><dd> NSObject</dd></dl></blockquote><blockquote><dl><dt><b>Conforms to: </b></dt><dd> NSObject</dd><dd>(NSObject)</dd></dl></blockquote><blockquote><dl><b>Declared in: </b><dd>EOControl/EODetailDataSource.h</dd></dl></blockquote><br><br><HR SIZE=4><br><h2>Class Description</h2><hr><p>EODetailDataSource defines a data source for use in master-detailconfigurations, where operations in the detail data source are applieddirectly to properties of a master object. EODetailDataSource implementsthe standard  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/fetchObjects">fetchObjects</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/insertObject:">insertObject:</a>,and  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/deleteObject:">deleteObject:</a> methodsto operate on a relationship property of its master object, so itworks for any concrete subclass of EODataSource, including anotherEODetailDataSource (for a chain of three master and detail datasources).</p><p>To set up an EODetailDataSource programmatically, you typicallycreate it by sending a  <a frame= "conv" href="../Classes/EODataSource.html#//apple_ref/occ/instm/EODataSource/dataSourceQualifiedByKey:">dataSourceQualifiedByKey:</a> messageto the master data source, then establish the master object witha  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">qualifyWithRelationshipKey:ofObject:</a> message.The latter method records the name of a relationship for a particularobject to resolve in <b>fetchObjects</b> and tomodify in <b>insertObject:</b>, and <b>deleteObject:</b>. Thesethree methods then manipulate the relationship property of the masterobject to perform the operations requested. See the individual methoddescriptions for more information.</p><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creating instances</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterClassDescription:detailKey:">- initWithMasterClassDescription:detailKey:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterDataSource:detailKey:">- initWithMasterDataSource:detailKey:</a></dd></dl><dl><dt>Qualifying instances</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">- qualifyWithRelationshipKey:ofObject:</a></dd></dl><dl><dt>Examining instances</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/masterDataSource">- masterDataSource</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/masterObject">- masterObject</a></dd></dl><dl><dt>Accessing the masterclass description</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/masterClassDescription">- masterClassDescription</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/setMasterClassDescription:">- setMasterClassDescription:</a></dd></dl><dl><dt>Accessing the objects</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/fetchObjects">- fetchObjects</a></dd></dl><dl><dt>Inserting and deletingobjects</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/insertObject:">- insertObject:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/deleteObject:">- deleteObject:</a></dd></dl><dl><dt>Accessing the masterediting context</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/editingContext">- editingContext</a></dd></dl></blockquote><BR><BR><h2>Instance Methods</h2><hr><a name = "deleteObject_"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/deleteObject:">deleteObject:</a></h3></a><p><code>- (void)<b>deleteObject:</b>(id)<em>anObject</em></code></p>Sends a  <a frame= "conv" href="../Protocols/EORelationshipMnpltn.html#//apple_ref/occ/intfm/EORelationshipManipulation/removeObject:fromPropertyWithKey:">removeObject:fromPropertyWithKey:</a> message(defined in the  <a frame= "conv" href="../Protocols/EORelationshipMnpltn.html#CJFBEDHD">EORelationshipManipulation</a> informalprotocol) to the master object with <em>anObject</em> andthe receiver's detail key as the arguments. Raises an NSInternalInconsistencyException ifthere's no master object or no detail key set.<hr WIDTH=25% ALIGN=LEFT><a name = "CHJCBIHA"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/detailKey">detailKey</a></h3></a><p><code>- (NSString *)<b>detailKey</b></code></p>Returns the name of the relationship for whichthe receiver provides objects, as provided to  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterDataSource:detailKey:">initWithMasterDataSource:detailKey:</a> oras set in  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">qualifyWithRelationshipKey:ofObject:</a>.If none has been set yet, returns nil.<hr WIDTH=25% ALIGN=LEFT><a name = "editingContext"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/editingContext">editingContext</a></h3></a><p><code>- (EOEditingContext *)<b>editingContext</b></code></p>Returns the EOEditingContext of the master object,or nil if there isn't one.<hr WIDTH=25% ALIGN=LEFT><a name = "CHJBBCBC"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/fetchObjects">fetchObjects</a></h3></a><p><code>- (NSArray *)<b>fetchObjects</b></code></p>Sends  <a frame= "conv" href="../Protocols/EOKeyValueCoding.html#//apple_ref/occ/intfm/EOKeyValueCoding/valueForKey:">valueForKey:</a> (defined in the  <a frame= "conv" href="../Protocols/EOKeyValueCoding.html#CIACHFGJ">EOKeyValueCoding</a> informalprotocol) to the master object with the receiver's detail keyas the argument, constructs an array for the returned object orobjects, and returns it. Returns an empty array if there's nomaster object, or returns an array containing the master object itselfif no detail key is set.<hr WIDTH=25% ALIGN=LEFT><a name = "initWithMasterClassDescription_detailKey_"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/initWithMasterClassDescription:detailKey:">initWithMasterClassDescription:detailKey:</a></h3></a><p><code>- <b>initWithMasterClassDescription:</b>(EOClassDescription*)<b>masterClassDescription detailKey:</b>(NSString*)<em>relationshipKey</em></code></p>Initializes a newly allocated EODetailDataSourceto provide objects based on a relationship of objects in the masterobject associated with <em>masterClassDescription</em>.Invokes  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">qualifyWithRelationshipKey:ofObject:</a> with <em>relationshipKey</em> specifiedas the relationship key and nil specified as the object. The receiverinitially has no master object selected; to select one, use <b>qualifyWithRelationshipKey:ofObject:</b>.This is the designated initializer for the EODetailDataSource class.Returns <b>self</b>.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/masterClassDescription">- masterClassDescription</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "initWithMasterDataSource_detailKey_"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/initWithMasterDataSource:detailKey:">initWithMasterDataSource:detailKey:</a></h3></a><p><code>- (id)<b>initWithMasterDataSource:</b>(EODataSource*)<em>masterDataSource</em><b>detailKey:</b>(NSString *)<em>relationshipKey</em></code></p>Initializes a newly allocated EODetailDataSourceto provide objects based on a relationship of objects in <em>masterDataSource</em> namedby <em>relationshipKey</em>. Invokes  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterClassDescription:detailKey:">initWithMasterClassDescription:detailKey:</a> withnil specified for the class description and <em>relationshipKey</em> specifiedas the detail key. The receiver initially has no master object selected;to select one, use  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">qualifyWithRelationshipKey:ofObject:</a>. Returns <b>self</b>.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/masterDataSource">- masterDataSource</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "insertObject_"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/insertObject:">insertObject:</a></h3></a><p><code>- (void)<b>insertObject:</b>(id)<em>anObject</em></code></p>Sends an  <a frame= "conv" href="../Protocols/EORelationshipMnpltn.html#//apple_ref/occ/intfm/EORelationshipManipulation/addObject:toBothSidesOfRelationshipWithKey:">addObject:toBothSidesOfRelationshipWithKey:</a> message(defined in the  <a frame= "conv" href="../Protocols/EORelationshipMnpltn.html#CJFBEDHD">EORelationshipManipulation</a> informalprotocol) to the master object with <em>anObject</em> andthe receiver's detail key as the arguments. Raises an NSInternalInconsistencyException ifthere's no master object or no detail key set.<hr WIDTH=25% ALIGN=LEFT><a name = "masterClassDescription"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/masterClassDescription">masterClassDescription</a></h3></a><p><code>- (EOClassDescription *)<b>masterClassDescription</b></code></p>Returns the EOClassDescription of the receiver'smaster object.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/setMasterClassDescription:">- setMasterClassDescription:</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterClassDescription:detailKey:">- initWithMasterClassDescription:detailKey:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CHJDFDCJ"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/masterDataSource">masterDataSource</a></h3></a><p><code>- (EODataSource *)<b>masterDataSource</b></code></p>Returns the receiver's master data source.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a>,  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterDataSource:detailKey:">- initWithMasterDataSource:detailKey:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CHJBAIGI"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/masterObject">masterObject</a></h3></a><p><code>- (id)<b>masterObject</b></code></p>Returns the object in the master data sourcefor which the receiver provides objects. You can change this witha  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">qualifyWithRelationshipKey:ofObject:</a> message.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CHJEBCFC"><BR><h3><b><a name="//apple_ref/occ/instm/EODetailDataSource/qualifyWithRelationshipKey:ofObject:">qualifyWithRelationshipKey:ofObject:</a></b></a></h3><p><code>- (void)<b>qualifyWithRelationshipKey:</b>(NSString*)<em>relationshipKey</em><b>ofObject:</b>(id)<em>masterObject</em></code></p>Configures the receiver to provide objects basedon the relationship of <em>masterObject</em> namedby <em>relationshipKey</em>. <em>relationshipKey</em> canbe different from the one used with  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/initWithMasterDataSource:detailKey:">initWithMasterDataSource:detailKey:</a>,which changes the relationship the receiver operates on. If <em>masterObject</em> is nil,this method causes the receiver to return an empty array when senta  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/fetchObjects">fetchObjects</a> message.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/detailKey">- detailKey</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "CHJBEGGJ"><BR><h3><a name="//apple_ref/occ/instm/EODetailDataSource/setMasterClassDescription:">setMasterClassDescription:</a></h3></a><p><code>- (void)<b>setMasterClassDescription:</b>(EOClassDescription*)<em>classDescription</em></code></p>Assigns <em>classDescription</em> asthe EOClassDescription for the receiver's master object.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/EODetailDataSource/masterClassDescription">- masterClassDescription</a></p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../EOControlTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>