<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>DBInstallResultHandler(IM:IC)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING519></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="IAC-518.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-520.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="IAC-2.html"><B>Interapplication Communication</B></A> / <BR><DD><A HREF="IAC-469.html"><B>Chapter 12 - Data Access Manager</B></A> / <A HREF="IAC-487.html"><B>Data Access Manager Reference</B></A><BR><DL><DD><A HREF="IAC-492.html"><B>Data Access Manager Routines</B></A> / <A HREF="IAC-518.html"><B>Installing and Removing Result Handlers</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING519-0></A>
<H3>DBInstallResultHandler</H3>
 <A NAME=MARKER-0-391></A><A NAME=MARKER-2-392></A><A NAME=MARKER-2-393></A>The <CODE>DBInstallResultHandler</CODE> function installs a result handler for the data type specified by the <CODE>dataType</CODE> parameter. The result handler is then used by the <CODE>DBResultsToText</CODE> function to convert data of the specified type into a character string.<P>
<PRE>
FUNCTION DBInstallResultHandler (dataType: DBType; 
                                 theHandler: ProcPtr; 
                                 isSysHandler: Boolean): OSErr;
</PRE>
<DL>
<DT>dataType
<DD> <DFN>The type of result handler to install.</DFN>
<DT><CODE>theHandler</CODE>
<DD> A pointer to a result handler.
<DT><CODE>isSysHandler</CODE>
<DD> A Boolean value that specifies whether the result handler is an application result handler--to be used only when the <CODE>DBResultsToText</CODE> function is called by the application that installed the result handler--or a system result handler--to be used by every application running on the system. If the <CODE>isSysHandler</CODE> parameter is <CODE>TRUE</CODE>, the result handler is a system result handler.
</DL>
<A NAME=HEADING519-6></A>
<H5><DFN>DESCRIPTION</DFN></H5>
 When you install an application result handler, it replaces any result handler with the same name previously installed by that application. Similarly, when you install a system result handler, it replaces any existing system result handler with the same name. Before you temporarily replace an existing result handler, use the <CODE>DBGetResultHandler</CODE> function to obtain a pointer to the present handler, and save the present result handler in your application's private storage. Then you can reinstall the original result handler when you are finished using the temporary one.<P>
 Because an application result handler is used in preference to a system result handler if both are available, you can temporarily replace a system result handler for purposes of your application by installing an application result handler for the same data type. You can then use the <CODE>DBRemoveResultHandler</CODE> function to remove the application result handler and return to using the system result handler whenever you wish.<P>
<A NAME=HEADING519-9></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>DBInstallResultHandler</CODE> function may move or purge memory. You should not call this routine from within an interrupt, such as in a completion routine or a VBL task.<P>
<A NAME=HEADING519-11></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for the <CODE>DBInstallResultHandler</CODE> function are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_DBInstallResultHandler<TD>$0514</TABLE>
<P>
<A NAME=HEADING519-13></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>rcDBPackNotInited<TD>-813<TD>The <CODE>InitDBPack</CODE> function has not yet been called</TABLE>
</H5>
<A NAME=HEADING519-14></A>
<H5>SEE ALSO</H5>
 See <A HREF=IAC-501.html#MARKER-9-314>page 12-68</A> for a description of the <CODE>DBResultsToText</CODE> function. For information on application and system result handlers, see <A HREF=IAC-481.html#MARKER-9-189>"Converting Query Results to Text" beginning on page 12-43</A>; that section also lists the data types for which Apple provides system result handlers. <A HREF=IAC-481.html#MARKER-9-207>Listing 12-6 on page 12-46</A> shows a sample result handler. The <CODE>DBRemoveResultHandler</CODE> function is described on <A HREF=IAC-521.html#MARKER-9-399>page 12-90</A>, and the <CODE>DBGetResultHandler</CODE> function is described next. <A NAME=MARKER-2-394></A><A NAME=MARKER-2-395></A><A NAME=MARKER-0-396></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="IAC-518.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="IAC-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="IAC-529.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="IAC-520.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="IAC-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
