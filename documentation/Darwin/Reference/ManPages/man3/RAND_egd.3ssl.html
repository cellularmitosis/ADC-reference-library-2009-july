<html><head><title>Mac OS X Developer Tools
 Manual Page For RAND_egd(3ssl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3ssl/RAND_egd" title="Mac OS X Developer Tools
 Manual Page for RAND_egd(3ssl)"><a name="//apple_ref/doc/man/3/RAND_egd" title="Mac OS X Developer Tools
 Manual Page for RAND_egd(3ssl)"><!-- headerDoc=man; indexgroup=Section 3ssl; uid="//apple_ref/doc/man/3ssl/RAND_egd"; name=RAND_egd(3ssl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
RAND_egd(3)                                        OpenSSL                                       RAND_egd(3)



<b>NAME</b>
       RAND_egd - query entropy gathering daemon

<b>SYNOPSIS</b>
        #include &lt;openssl/rand.h&gt;

        int RAND_egd(const char *path);
        int RAND_egd_bytes(const char *path, int bytes);

        int RAND_query_egd_bytes(const char *path, unsigned char *buf, int bytes);

<b>DESCRIPTION</b>
       <u>RAND</u><b>_</b><u>egd()</u> queries the entropy gathering daemon EGD on socket <b>path</b>.  It queries 255 bytes and uses
       <a href="RAND_add.3ssl.html#//apple_ref/doc/man/3/RAND_add"><u>RAND</u><b>_</b><u>add</u>(3)</a> to seed the OpenSSL built-in PRNG. RAND_egd(path) is a wrapper for RAND_egd_bytes(path,
       255);

       <u>RAND</u><b>_</b><u>egd</u><b>_</b><u>bytes()</u> queries the entropy gathering daemon EGD on socket <b>path</b>.  It queries <b>bytes</b> bytes and
       uses <a href="RAND_add.3ssl.html#//apple_ref/doc/man/3/RAND_add"><u>RAND</u><b>_</b><u>add</u>(3)</a> to seed the OpenSSL built-in PRNG.  This function is more flexible than <u>RAND</u><b>_</b><u>egd()</u>.
       When only one secret key must be generated, it is not necessary to request the full amount 255 bytes
       from the EGD socket. This can be advantageous, since the amount of entropy that can be retrieved from
       EGD over time is limited.

       <u>RAND</u><b>_</b><u>query</u><b>_</b><u>egd</u><b>_</b><u>bytes()</u> performs the actual query of the EGD daemon on socket <b>path</b>. If <b>buf</b> is given,
       <b>bytes</b> bytes are queried and written into <b>buf</b>. If <b>buf</b> is NULL, <b>bytes</b> bytes are queried and used to
       seed the OpenSSL built-in PRNG using <a href="RAND_add.3ssl.html#//apple_ref/doc/man/3/RAND_add"><u>RAND</u><b>_</b><u>add</u>(3)</a>.

<b>NOTES</b>
       On systems without /dev/*random devices providing entropy from the kernel, the EGD entropy gathering
       daemon can be used to collect entropy. It provides a socket interface through which entropy can be
       gathered in chunks up to 255 bytes. Several chunks can be queried during one connection.

       EGD is available from <a href="http://www.lothar.com/tech/crypto/">http://www.lothar.com/tech/crypto/</a> ("perl Makefile.PL; make; make install" to
       install). It is run as <b>egd</b> <u>path</u>, where <u>path</u> is an absolute path designating a socket. When <u>RAND</u><b>_</b><u>egd()</u>
       is called with that path as an argument, it tries to read random bytes that EGD has collected. The
       read is performed in non-blocking mode.

       Alternatively, the EGD-interface compatible daemon PRNGD can be used. It is available from
       <a href="http://www.aet.tu-cottbus.de/personen/jaenicke/postfix_tls/prngd.html">http://www.aet.tu-cottbus.de/personen/jaenicke/postfix_tls/prngd.html</a> .  PRNGD does employ an
       internal PRNG itself and can therefore never run out of entropy.

       OpenSSL automatically queries EGD when entropy is requested via <u>RAND</u><b>_</b><u>bytes()</u> or the status is checked
       via <u>RAND</u><b>_</b><u>status()</u> for the first time, if the socket is located at /var/run/egd-pool, /dev/egd-pool or
       /etc/egd-pool.

<b>RETURN</b> <b>VALUE</b>
       <u>RAND</u><b>_</b><u>egd()</u> and <u>RAND</u><b>_</b><u>egd</u><b>_</b><u>bytes()</u> return the number of bytes read from the daemon on success, and -1 if
       the connection failed or the daemon did not return enough data to fully seed the PRNG.

       <u>RAND</u><b>_</b><u>query</u><b>_</b><u>egd</u><b>_</b><u>bytes()</u> returns the number of bytes read from the daemon on success, and -1 if the
       connection failed. The PRNG state is not considered.

<b>SEE</b> <b>ALSO</b>
       <a href="rand.3.html#//apple_ref/doc/man/3/rand"><u>rand</u>(3)</a>, <a href="RAND_add.3ssl.html#//apple_ref/doc/man/3/RAND_add"><u>RAND</u><b>_</b><u>add</u>(3)</a>, <a href="RAND_cleanup.3ssl.html#//apple_ref/doc/man/3/RAND_cleanup"><u>RAND</u><b>_</b><u>cleanup</u>(3)</a>

<b>HISTORY</b>
       <u>RAND</u><b>_</b><u>egd()</u> is available since OpenSSL 0.9.5.

       <u>RAND</u><b>_</b><u>egd</u><b>_</b><u>bytes()</u> is available since OpenSSL 0.9.6.

       <u>RAND</u><b>_</b><u>query</u><b>_</b><u>egd</u><b>_</b><u>bytes()</u> is available since OpenSSL 0.9.7.

       The automatic query of /var/run/egd-pool et al was added in OpenSSL 0.9.7.



0.9.7l                                           2001-02-10                                      RAND_egd(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/RAND_egd.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/RAND_egd.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/RAND_egd.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
