<html><head><title>Mac OS X
 Manual Page For dyld(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/dyld" title="Mac OS X
 Manual Page for dyld(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/dyld"; name=dyld(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
dyld(3)                  BSD Library Functions Manual                  dyld(3)

<b>NAME</b>
     <b>_dyld_image_count,</b> <b>_dyld_get_image_header,</b> <b>_dyld_get_image_vmaddr_slide,</b> <b>_dyld_get_image_name,</b>
     <b>_dyld_register_func_for_add_image,</b> <b>_dyld_register_func_for_remove_image,</b> <b>NSVersionOfRunTimeLibrary,</b>
     <b>NSVersionOfLinkTimeLibrary</b> <b>_NSGetExecutablePath</b>

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;mach-o/dyld.h&gt;</b>

     <u>uint32</u><b>_</b><u>t</u>
     <b>_dyld_image_count</b>(<u>void</u>);

     <u>const</u> <u>struct</u> <u>mach</u><b>_</b><u>header*</u>
     <b>_dyld_get_image_header</b>(<u>uint32</u><b>_</b><u>t</u> <u>image</u><b>_</b><u>index</u>);

     <u>intptr</u><b>_</b><u>t</u>
     <b>_dyld_get_image_vmaddr_slide</b>(<u>uint32</u><b>_</b><u>t</u> <u>image</u><b>_</b><u>index</u>);

     <u>const</u> <u>char*</u>
     <b>_dyld_get_image_name</b>(<u>uint32</u><b>_</b><u>t</u> <u>image</u><b>_</b><u>index</u>);

     <u>void</u>
     <b>_dyld_register_func_for_add_image</b>(<u>void</u> (<u>*func</u>)(<u>const</u> <u>struct</u> <u>mach</u><b>_</b><u>header*</u> <u>mh,</u> <u>intptr</u><b>_</b><u>t</u> <u>vmaddr</u><b>_</b><u>slide</u>));

     <u>void</u>
     <b>_dyld_register_func_for_remove_image</b>(<u>void</u> (<u>*func</u>)(<u>const</u> <u>struct</u> <u>mach</u><b>_</b><u>header*</u> <u>mh,</u> <u>intptr</u><b>_</b><u>t</u> <u>vmaddr</u><b>_</b><u>slide</u>));

     <u>int32</u><b>_</b><u>t</u>
     <b>NSVersionOfRunTimeLibrary</b>(<u>const</u> <u>char*</u> <u>libraryName</u>);

     <u>int32</u><b>_</b><u>t</u>
     <b>NSVersionOfLinkTimeLibrary</b>(<u>const</u> <u>char*</u> <u>libraryName</u>);

     <u>int</u>
     <b>_NSGetExecutablePath</b>(<u>char*</u> <u>buf</u>, <u>uint32</u><b>_</b><u>t*</u> <u>bufsize</u>);

<b>DESCRIPTION</b>
     These routines provide additional introspection of dyld beyond that provided by <b>dlopen</b>() and <b>dladdr</b>()

     <b>_dyld_image_count</b>() returns the current number of images mapped in by dyld. Note that using this count
     to iterate all images is not thread safe, because another thread may be adding or removing images dur-<font color="#ffffff" class="whiteout">ing&nbsp;during</font>
     ing the iteration.

     <b>_dyld_get_image_header</b>() returns a pointer to the mach header of the image indexed by image_index.  If
     <u>image</u><b>_</b><u>index</u> isout of range, NULL is returned.

     <b>_dyld_get_image_vmaddr_slide</b>() returns the virtural memory address slide amount of the image indexed by
     <u>image</u><b>_</b><u>index.</u> If <u>image</u><b>_</b><u>index</u> is out of range zero is returned.

     <b>_dyld_get_image_name</b>() returns the name of the image indexed by <u>image</u><b>_</b><u>index.</u> The C-string continues to
     be owned by dyld and should not deleted.  If <u>image</u><b>_</b><u>index</u> is out of range NULL is returned.

     <b>_dyld_register_func_for_add_image</b>() registers the specified function to be called when a new image is
     added (a bundle or a dynamic shared library) to the program.  When this function is first registered it
     is called for once for each image that is currently part of the process.

     <b>_dyld_register_func_for_remove_image</b>() registers the specified function to be called when an image is
     removed (a bundle or a dynamic shared library) from the process.

     <b>NSVersionOfRunTimeLibrary</b>() returns the current_version number of the currently loaded dylib specifed
     by the libraryName.  The libraryName parameter would be "bar" for /path/libbar.3.dylib and "Foo" for
     /path/Foo.framework/Versions/A/Foo.  This function returns -1 if no such library is loaded.

     <b>NSVersionOfLinkTimeLibrary</b>() returns the current_version number that the main executable was linked
     against at build time.  The libraryName parameter would be "bar" for /path/libbar.3.dylib and "Foo" for
     /path/Foo.framework/Versions/A/Foo.  This function returns -1 if the main executable did not link
     against the specified library.

     <b>_NSGetExecutablePath</b>() copies the path of the main executable into the buffer <u>buf</u>.  The <u>bufsize</u> parame-<font color="#ffffff" class="whiteout">ter&nbsp;parameter</font>
     ter should initially be the size of the buffer.  This function returns 0 if the path was successfully
     copied.  It returns -1 if the buffer is not large enough, and * <u>bufsize</u> is set to the size required.
     Note that <b>_NSGetExecutablePath</b>() will return "a path" to the executable not a "real path" to the exe-<font color="#ffffff" class="whiteout">cutable.&nbsp;executable.</font>
     cutable.  That is, the path may be a symbolic link and not the real file. With deep directories the
     total bufsize needed could be more than MAXPATHLEN.

<b>SEE</b> <b>ALSO</b>
     <a href="dlopen.3.html#//apple_ref/doc/man/3/dlopen">dlopen(3)</a> <a href="dladdr.3.html#//apple_ref/doc/man/3/dladdr">dladdr(3)</a> <a href="../man1/dyld.1.html#//apple_ref/doc/man/1/dyld">dyld(1)</a> <a href="http://developer.apple.com/documentation/DeveloperTools/Conceptual/MachOTopics/index.html">http://developer.apple.com/documentation/DeveloperTools/Concep-</a>
     <a href="http://developer.apple.com/documentation/DeveloperTools/Conceptual/MachOTopics/index.html">tual/MachOTopics/index.html</a>

                                August 16, 2006
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/dyld.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/dyld.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/dyld.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
