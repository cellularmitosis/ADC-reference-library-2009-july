<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Instruments User Guide: Adding and Configuring Instruments</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Adding and Configuring Instruments"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004652-CH7" title="Adding and Configuring Instruments"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../Performance-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000901" target="_top">Performance</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40004652-CH1-SW1">Instruments User Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../AboutTracing/AboutTracing.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SpecifyingtheProcesstoTrace/SpecifyingtheProcesstoTrace.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40004652-CH7-SW2" title="Adding and Configuring Instruments"></a><a name="//apple_ref/doc/writerid/xrpt_Adding_And_Configuring_Instruments" title="Adding and Configuring Instruments"></a><h1>Adding and Configuring Instruments</h1><p>The Instruments application uses instruments to collect data and display that data to the user. Although there is no theoretical limit to the number of instruments you can include in a document, most documents contain fewer than ten for performance reasons. You can even include the same instrument multiple times, with each instrument configured to gather data from a different process on the system.</p><p>Instruments comes with a wide range of built-in instruments whose job is to gather specific data from one or more processes. Most of these instruments require little or no configuration to use. You simply add them to your trace document and begin gathering trace data. You can also create custom instruments, however, which provide you with a wide range of options for gathering data.  </p><p>This chapter focuses on how to add existing instruments to your trace document and configure them for use. For information on how to create custom instruments, see <span class="content_text"><a href="../CreatingaCustomInstrument/CreatingaCustomInstrument.html#//apple_ref/doc/uid/TP40004652-CH4-SW1">“Creating Custom Instruments with DTrace.”</a></span></p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="WorkingWithInstruments.html#//apple_ref/doc/uid/TP40004652-CH7-SW5">Using the Instrument Library</a>
				
			<br/>
			
        
			
			
				<a href="WorkingWithInstruments.html#//apple_ref/doc/uid/TP40004652-CH7-SW3">Adding and Removing Instruments</a>
				
			<br/>
			
        
			
			
				<a href="WorkingWithInstruments.html#//apple_ref/doc/uid/TP40004652-CH7-SW8">Configuring an Instrument</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004652-CH7-SW5" title="Using the Instrument Library"></a><h2>Using the Instrument Library</h2><p>The instrument library (shown in <span class="content_text">Figure 2-1</span>) displays all of the instruments that you can add to your trace document. The library includes all of the built-in instruments plus any custom instruments you have already defined. To open this window, click the Library button in your trace document or choose Window > Library.  </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW10" title="Figure 2-1The instrument library"></a><p><strong>Figure 2-1&nbsp;&nbsp;</strong>The instrument library</p><img src = "../Art/instrument_library.jpg" alt = "The instrument library" ></div><br/><p>Because the list of instruments in the Library window can get fairly long, especially if you add your own custom-built instruments, the instrument library provides several options for organizing and finding instruments. The following sections discuss these options and show how you use them to organize the available instruments. </p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW9" title="Changing the Library View Mode"></a><h3>Changing the Library View Mode</h3><p>The library provides different view modes to help you organize the available instruments. View modes let you choose the amount of information you want displayed for each instrument and the amount of space you want that instrument to occupy. Instruments supports the following view modes:</p><ul class="spaceabove"><li class="li"><p><strong>View Icons</strong>. Displays only the icon representing each instrument.</p></li><li class="li"><p><strong>View Icons And Labels</strong>. Displays the icon and name of each instrument.</p></li><li class="li"><p><strong>View Icons and Descriptions</strong>. Displays the icon, name, and full description of each instrument.</p></li><li class="li"><p><strong>View Small Icons And Labels</strong>. Displays the name of the instrument and a small version of its icon.</p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40004652-CH7-SW16" title="Note"></a><p><strong>Note:</strong>&nbsp;Regardless of which view mode you choose, the Library window always displays detailed information about the selected instrument in the detail pane.</p></div><p>To change the library’s view mode, select the desired mode from the action menu at the bottom of the Library window. </p><p>In addition to changing the library’s view mode, you can display the parent group of a set of instruments by selecting Show Group Banners from the Action menu. The Library window organizes instruments into groups for convenience and to help you narrow down the list of instruments you want. By default, this group information is not displayed in the main pane of the Library window. Enabling the show Group Banners option adds it, making it easier to identify the general behavior of instruments in some view modes. </p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW17" title="Finding an Instrument in the Library "></a><h3>Finding an Instrument in the Library </h3><p>By default, the Library window shows all of the available instruments. Each instrument, however, belongs to a larger group, which identifies the purpose of instrument and the type of data it collects. You can use the group selection controls at the top of the Library window to select one or more groups and thereby limit the number of instruments displayed by the Library window. When there are many instruments in the library, this feature makes it easier to find the instruments you want. </p><p>The group selection controls have two different configurations. In one configuration, the Library window displays a pop-up menu, from which you can select a single group. If you drag the split bar between the pop-up menu and the instrument pane downward, however, the pop-up menu changes to an outline view. In this configuration, you can select multiple groups by holding down the Command or Shift key and selecting the desired groups. </p><p><span class="content_text">Figure 2-2</span> shows both standard mode and outline mode in the Library window. The window on the left shows standard mode, in which you select a single group using the pop-up menu. The window on the right shows the outline view, in which you can select multiple groups and manage your own custom groups. </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW12" title="Figure 2-2Viewing an instrument group"></a><p><strong>Figure 2-2&nbsp;&nbsp;</strong>Viewing an instrument group</p><img src = "../Art/instrument_group.jpg" alt = "Viewing an instrument group" ></div><br/><p>Another way to filter the contents of the Library window is to use the search field at the bottom of the Library window. Using the search field, you can quickly narrow down the contents of the Library to find the instrument or instruments whose name, description, category, or list of keywords matches the search text. For example, <span class="content_text">Figure 2-3</span> shows instruments that match the search string <code>file</code>. </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW11" title="Figure 2-3Searching for an instrument"></a><p><strong>Figure 2-3&nbsp;&nbsp;</strong>Searching for an instrument</p><img src = "../Art/instrument_library_filter.jpg" alt = "Searching for an instrument" ></div><br/><p>When the pop-up menu is displayed at the top of the Library window, the search field filters the contents based on the currently selected instrument group. If the outline view is displayed, the search field filters the contents based on the entire library of instruments, regardless of which groups are selected.  </p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW18" title="Creating Custom Instrument Groups"></a><h3>Creating Custom Instrument Groups</h3><p>In addition to using the built-in instrument groups, you can create custom groups to organize instruments in a way that better suits your own use patterns. Instruments supports two different types of custom groups: static groups and smart groups. Static groups are just that—static. Instruments does not change their contents at all, leaving you free to configure the group however you want. Smart groups, on the other hand, are dynamic groups whose contents change automatically based on the criteria you specify for the group. You can use smart groups to show the list of recently used instruments or instruments whose name or description contains a specific keyword.</p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW19" title="Creating a Static Group"></a><h4>Creating a Static Group</h4><p>To create a static group, select New Group from the Library window’s action menu, as shown in <span class="content_text">Figure 2-4</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW13" title="Figure 2-4Creating a group"></a><p><strong>Figure 2-4&nbsp;&nbsp;</strong>Creating a group</p><img src = "../Art/inst_lib_new_group.jpg" alt = "Creating a group" ></div><br/><p>Instruments creates a new group and adds it to the Library window. To see the new group and edit its name and contents, drag the separator bar beneath the pop-up menu to open an upper pane showing the group structure of the Library, as shown in <span class="content_text">Figure 2-5</span>. Click on the group and give it a new name. </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW14" title="Figure 2-5Editing the name of a group"></a><p><strong>Figure 2-5&nbsp;&nbsp;</strong>Editing the name of a group</p><img src = "../Art/inst_lib_edit_group.jpg" alt = "Editing the name of a group" ></div><br/><p>To add an instrument to a static group, click Library to display the list of instruments, select the instrument, and drag it to the group in the upper pane as illustrated in <span class="content_text">Figure 2-6</span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW4" title="Figure 2-6Adding an instrument to a custom group"></a><p><strong>Figure 2-6&nbsp;&nbsp;</strong>Adding an instrument to a custom group</p><img src = "../Art/inst_lib_add_instrument.jpg" alt = "Adding an instrument to a custom group" ></div><br/><p>You can create hierarchical organizations of instruments using static groups. Static groups can include other static groups and they can also include smart groups. Smart groups cannot contain other groups, however. To create a hierarchical set of groups, you can do one of the following: </p><ul class="spaceabove"><li class="li"><p>Drag an existing group to the parent static group. </p></li><li class="li"><p>Select a static group and choose New Group or New Smart Group to create a new item as a child of the selected group. </p></li></ul><p>A group that contains other groups displays its own instruments plus the instruments contained in all of its child groups. If the same instrument is present in multiple groups and the Show Group Banners option is enabled, then the same instrument is listed under each group that contains it. If the Show Group Banners option is disabled, however, the Library window coalesces identical copies of an instrument into a single entry. </p><p>To remove an instrument from a static group, do the following:</p><ol class="ol"><li class="li"><p>Select the group.</p></li><li class="li"><p>In the group, select the instrument you want to remove.</p></li><li class="li"><p>Choose Remove From Group from the action menu or simply press the Delete key.</p></li></ol><p>To remove a static group from the Library window, select the group and choose Remove Group from the action menu. If you are currently viewing groups using the outline view, you can also select the group and press the Delete key. Removing a static group removes the group and any nested groups it contains. This operation does not, however, delete the instruments contained in the group from the library. You can always find the instruments again by looking in the Library group.</p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW20" title="Creating a Smart Group"></a><h4>Creating a Smart Group</h4><p>To create a new smart group, choose New Smart Group from the Library window’s action menu. Instruments displays the rule editor shown in <span class="content_text">Figure 2-7</span>. The Label field identifies the name of the group as it appears in the Library window. The rest of the sheet is dedicated to configuring the rules that determine which instruments reside in the group. </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW15" title="Figure 2-7The smart group rule editor"></a><p><strong>Figure 2-7&nbsp;&nbsp;</strong>The smart group rule editor</p><img src = "../Art/inst_lib_rule_editor.jpg" alt = "The smart group rule editor" ></div><br/><p>Every smart group must have at least one rule. You can add additional rules, as needed, using the controls in the rule editor and configure the group to apply all or some of the rules. <span class="content_text">Table 2-1</span> lists the criteria you can use to match instruments. </p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW7" title="Table 2-1Smart group criteria"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 2-1&nbsp;&nbsp;</strong>Smart group criteria</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Criteria</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p>Label</p></td><td ><p>Matches instruments based on their title. This criterion supports the Starts With, Ends With, and Contains comparison operators.</p></td></tr><tr><td  scope="row"><p>Used Within</p></td><td ><p>Matches instruments based on when they were used. You can use this criterion to match only instruments that were used within the last few minutes, hours, days, or weeks.</p></td></tr><tr><td  scope="row"><p>Search Criteria Matches</p></td><td ><p>Matches instruments whose title, description, category, or keywords include the specified string. </p></td></tr><tr><td  scope="row"><p>Category</p></td><td ><p>Matches instruments whose library group name matches the specified string. This criterion does not match against custom groups.</p></td></tr></table></div><p>To edit an existing smart group, select the group in the Library window and choose Edit <em>&lt;Group Name></em> from the action menu, where <em>&lt;Group Name></em> is the name of your smart group. Instruments displays the rule editor again so that you can modify the existing rules. </p><p>To remove a smart group from the Library window, select the group and choose Remove Group from the action menu. If you are currently viewing groups using the outline view, you can also select the group and press the Delete key. </p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW3" title="Adding and Removing Instruments"></a><a name="//apple_ref/doc/writerid/xrpt_Adding_and_Removing_Instruments" title="Adding and Removing Instruments"></a><h2>Adding and Removing Instruments</h2><p>There are two ways to add an instrument to a trace document:</p><ul class="ul"><li class="li"><p>You can drag an instrument from the library and drop it onto your trace document.</p></li><li class="li"><p>You can add an instrument using the action menu of a trace document.</p></li></ul><p> To add an instrument from the library, find the instrument you want and drag it from the Library window to the Instruments pane of your trace document, as shown in <span class="content_text">Figure 2-8</span>.  </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW1" title="Figure 2-8Adding an instrument"></a><p><strong>Figure 2-8&nbsp;&nbsp;</strong>Adding an instrument</p><img src = "../Art/document_add_instrument.jpg" alt = "Adding an instrument" ></div><br/><p>The action menu in the bottom-left corner of a trace document includes an Add Instrument submenu that lists all of the available instruments. Selecting an instrument from this submenu adds it to your trace document. </p><p>You can add as many instruments as you like to the Instruments pane. Although some instruments can track all system processes, many track only a single process. For those instruments, you can use multiple instances of the instrument and assign each one to a different process if you like. In this way, you gather similar information for multiple programs simultaneously. For example, you might do this to sample a server process and one of its corresponding client processes and examine the overall interaction pattern.</p><p>To remove an instrument from the Instruments pane, select the instrument and press Delete.</p><a name="//apple_ref/doc/uid/TP40004652-CH7-SW8" title="Configuring an Instrument"></a><h2>Configuring an Instrument</h2><p>Most instruments are ready to use as soon as you add them to the Instruments pane. Some instruments can be also be configured using the instrument inspector. The content of the inspector varies from instrument to instrument. Most instruments contain options for configuring the contents of the track pane and a few contain additional controls for determining what type of information is gathered by the instrument itself. </p><p>To open the inspector for a given instrument, select the instrument and do one of the following: </p><ul class="ul"><li class="li"><p>Click the inspector icon to the right of the instrument name.</p></li><li class="li"><p>Choose File > Get Info.</p></li><li class="li"><p>Press Command-I. </p></li></ul><p>The inspector panel appears next to the instrument name, as shown in <span class="content_text">Figure 2-9</span>. To dismiss the inspector, click the Done button. (The commands you used to open the inspector can also be used to close it.)  </p><br/><div><a name="//apple_ref/doc/uid/TP40004652-CH7-SW6" title="Figure 2-9Inspector for the ObjectAlloc instrument"></a><p><strong>Figure 2-9&nbsp;&nbsp;</strong>Inspector for the ObjectAlloc instrument</p><img src = "../Art/document_inspect_instrument.jpg" alt = "Inspector for the ObjectAlloc instrument" ></div><br/><p>Controls related to displaying information in the track pane can be configured before, during, or after your record data for the track. Instruments automatically gathers the data it needs for each display option regardless of whether that option is currently displayed in the track pane.</p><p>The Zoom control found in most inspectors controls the vertical magnification of the trace data in the track pane. Changing the zoom value changes the height of the instrument in the track pane. The View > Decrease Deck Size and View > Increase Deck Size commands do a similar job of decreasing and increasing the track pane magnification for the selected instrument. </p><p>For a list of instruments, including their configurable options, see <span class="content_text"><a href="../Built-InInstruments/Built-InInstruments.html#//apple_ref/doc/uid/TP40004652-CH6-SW1">“Built-in Instruments.”</a></span> </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../AboutTracing/AboutTracing.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../SpecifyingtheProcesstoTrace/SpecifyingtheProcesstoTrace.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/WorkingWithInstruments/WorkingWithInstruments.html%3Fid%3DTP40004652-1.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/WorkingWithInstruments/WorkingWithInstruments.html%3Fid%3DTP40004652-1.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/WorkingWithInstruments/WorkingWithInstruments.html%3Fid%3DTP40004652-1.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>