<HTML>	<HEAD>		<META HTTP-EQUIV="content-type" CONTENT="text/html;charset=iso-8859-1">		<META NAME="generator" CONTENT="GoLive CyberStudio">		<script language="JavaScript" src="frametest.js"></script><TITLE>ATA_SetDevConfig</TITLE>	</HEAD>	<BODY BGCOLOR="#ffffff"><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b>	<a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> <a href="../../devicemgrs.html">Device Managers and Drivers</a>	<b>&gt;</b> <a href="../ata.html" target="_top">ATA Devices</a>	<b>&gt;</b> ATA Device Software Guide		</font></td>	</tr>	</table><br><!-- end of path --><P><A HREF="ATA.2a.html"><img src="images/up.gif" border="0"></A> <A HREF="ATA.37.html"><img src="images/previous.gif" border="0"></A> <A HREF="ATA.39.html"><img src="images/next.gif" border="0"></A> <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></a></div><!-- end top navigation --><hr>		<A NAME="pgfId=1460"></A><A NAME="27045"></A><h3>ATA_SetDevConfig</H3>		<P CLASS="T0.Text0"><A NAME="pgfId=1461"></A>The <TT CLASS="cv">ATA_SetDevConfig</TT> function allows an application to set the configuration parameters		of a specified socket. Some of the fields are not appropriate		for a particular socket type. For example, setting the voltage		for the internal device. Part of the device configuration includes		setting up the parameters for I/O transfer mode and timing. The		section <A HREF="ATA.27.html#37315" CLASS="XRef">Setting Data Transfer Timing</A> includes a discussion of how to use the ATA Manager to setup		the software for data transfers, including DMA data transfers.		<A NAME="marker=1465"></A><A NAME="marker=1466"></A><A NAME="marker=1467"></A></P>		<P CLASS="T1.Text1"><A NAME="pgfId=3231"></A>Some of the fields in this structure are changed or are not valid		for ATA Manager 4.0 and later. See the field descriptions section		for additional details.</P>		<P CLASS="T1.Text1"><A NAME="pgfId=1468"></A>The manager function code for the <TT CLASS="cv">ATA_SetDevConfig </TT>function is $8B. </P>		<P CLASS="T1.Text1"><A NAME="pgfId=1469"></A>The parameter block associated with this function is defined as		follows:</P>		<P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=15371"></A><TABLE>			<TR>				<TD COLSPAN="2"><TT>typedef</TT></TD>				<TD WIDTH="100"><TT>struct</TT></TD>				<TD WIDTH="223"></TD>			</TR>			<TR>				<TD COLSPAN="4">{</TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>ataPBHdr </TT></TD>				<TD WIDTH="100" VALIGN="TOP"></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* ataPBHdr parameter block */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>SInt32</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>ConfigSetting;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; 32 bits of */<BR>				/* configuration information */<BR>				</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>ataPIOSpeedMode;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Default PIO mode setting*/</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>Reserved3;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* Reserved for word alignment*/</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcValid;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; PCMCIA unique */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>RWMultipleCount;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* Reserved */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>SectorsPerCyl;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* Reserved */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>Heads;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* Reserved */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>SectorsPerTrack;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* Reserved */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>Reserved4[2];</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* Reserved */<BR>				</TT></TD>			</TR>			<TR>				<TD COLSPAN="4" VALIGN="TOP"><TT>/* PCMCIA unique fields are indicated with a pc prefix. These				*/<BR>				/* fields are not supported in ATA Manager version 4.0 or later				*/<BR>				</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcAccessMode;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Access mode of socket */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcVcc;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; device voltage */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcVpp1;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Vpp 1 voltage */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcVpp2;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Vpp 2 voltage */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcStatus;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Status register setting */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcPin;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Pin register setting */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcCopy;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Copy register setting */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>pcConfigIndex;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Option register setting */</TT></TD>			</TR>			<TR>				<TD COLSPAN="4" VALIGN="TOP"><TT>/* The following fields are valid for parameter block version				*/<BR>				/*3.0 or greater (ataPBVers 3 or greater) */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>ataSingleDMASpeed;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Single word DMA */<BR>				/* timing class */<BR>				</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt8</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>ataMultiDMASpeed;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Multiple word DMA */<BR>				/* timing class */<BR>				</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>ataPIOCycleTime;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Cycle time for PIO mode */</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>ataMultiCycleTime;</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* --&gt; Cycle time for */<BR>				/* multiword DMA mode */<BR>				</TT></TD>			</TR>			<TR>				<TD WIDTH="20" VALIGN="TOP"></TD>				<TD WIDTH="102" VALIGN="TOP"><TT>UInt16</TT></TD>				<TD WIDTH="100" VALIGN="TOP"><TT>Reserved[7];</TT></TD>				<TD WIDTH="223" VALIGN="TOP"><TT>/* Reserved*/</TT></TD>			</TR>			<TR>				<TD COLSPAN="4"><TT>} ATA_SetDevConfig;</TT></TD>			</TR>		</TABLE>		</CODE></P>		<H4>Field descriptions</H4>		<DL COMPACT>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15373"></A><TT CLASS="cv">ataPBHdr</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3213"></A>See the <TT CLASS="cv"><A HREF="ATA.26.html" CLASS="XRef">ataPBHdr</TT> parameter block</A> definition.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15382"></A><TT CLASS="cv">ConfigSetting</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3214"></A>This 32-bit field controls various configuration settings. The			bits have the following definitions:</dd>			<DD CLASS="DD.DefinitionDefCont"><A NAME="pgfId=3221"></A>Bits 0-5:&nbsp;&nbsp;Reserved, should be 0 <br>Bit 6:&nbsp;&nbsp;&nbsp;&nbsp;ATAPI packet DRQ handling			setting <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 = Check for assertion of cammand packet DRQ, this is			the default setting.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 = Check for interrupt DRQ command DRQ.			<br>Bits 7-31: Reserved, must be 0</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15412"></A><TT CLASS="cv">ataPIOSpeedMode</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3216"></A>This field contains the PIO mode to be used for commands and PIO			data transfers for parameter blocks prior to version 3. For parameter			block version 3 or greater, the value is bit-significant, with			the low-order bit signifying PIO Mode 0. Be sure to note the difference			in bit positions between this field and the corresponding &quot;Advanced			PIO Modes&quot; field of the ATA-2 Identify Device information. </dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15421"></A><TT CLASS="cv">pcValid</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3234"></A>This 16-bit field applies to systems that support PCMCIA card			services. The bits indicate which fields in the parameter block			contain valid settings for PCMCIA . The following values are defined:			<br>bit 0 = when set, the value in the <TT CLASS="cv">pcAccessMode</TT> field is valid <br>bit 1 = when set, the value in the <TT CLASS="cv">pcVcc</TT> field is valid <br>bit 2 = when set, the value in the <TT CLASS="cv">pcVpp1</TT> field is valid <br>bit 3 = when set, the value in the <TT CLASS="cv">pcVpp2</TT> field is valid <br>bit 4 = when set, the value in the <TT CLASS="cv">pcStatus</TT> field is valid <br>bit 5 = when set, the value in the <TT CLASS="cv">pcPin</TT> field is valid <br>bit 6 = when set, the value in the <TT CLASS="cv">pcCopy</TT> field is valid <br>bit 7 = when set, the value in the <TT CLASS="cv">pcConfigIndex</TT> field is valid <br>bits 14-8 = reserved (set to 0) <br>bit 15 = reserved</dd>			<DD CLASS="DD.DefinitionDefCont"><A NAME="pgfId=3237"></A>The <TT CLASS="cv">pcValid</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software. </dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15462"></A><TT CLASS="cv">PWMultipleCount</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3235"></A>This field is reserved for future use. To ensure future compatibility,			all reserved fields should be set to 0.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15471"></A><TT CLASS="cv">SectorsPerCylinder</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1525"></A>This field is reserved for future use. To ensure future compatibility,			all reserved fields should be set to 0.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15481"></A><TT CLASS="cv">Heads</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1526"></A><br>This field is reserved for future use. To ensure future compatibility,			all reserved fields should be set to 0.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15490"></A><TT CLASS="cv">SectorsPerTrack</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1527"></A>This field is reserved for future use. To ensure future compatibility,			all reserved fields should be set to 0.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15499"></A><TT CLASS="cv">Reserved4[2]</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1528"></A>This field is reserved.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15508"></A><TT CLASS="cv">pcAccessMode</TT> </dy>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1529"></A>This field specifies the mode of the socket. This field is valid			only when bit 0 of the <TT CLASS="cv">pcValid</TT> filed is set. The mode values are: <br>0 = I/O mode <br>1 = memory mode</dd>			<DD CLASS="DD.DefinitionDefCont"><A NAME="pgfId=3248"></A>The <TT CLASS="cv">pcAccessMode</TT> field is not supported in ATA Manager 4.0 or later.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15525"></A><TT CLASS="cv">pcVcc</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=3252"></A>This field specifies the new voltage setting for Vcc in tenths			of a volt. The value in this field is only valid when bit 1 of			the <TT CLASS="cv">pcValid</TT> field is set. The <TT CLASS="cv">pcVcc</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15534"></A><TT CLASS="cv">pcVpp1</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1531"></A>This field specifies the new voltage setting for Vpp1 in tenths			of a volt. The value in this field is valid only when bit 2 of			the <TT CLASS="cv">pcValid</TT> field is set. The <TT CLASS="cv">pcVpp1</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15543"></A><TT CLASS="cv">pcVpp2</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1532"></A>This field specifies the new voltage setting for Vpp2 in tenths			of a volt. The value in this field is valid only when bit 3 of			the <TT CLASS="cv">pccValid</TT> field is set. The <TT CLASS="cv">pcVpp2</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15552"></A><TT CLASS="cv">pcStatus</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1533"></A>This field specifies the new card register setting for a PCMCIA			device. The value in this field is valid only when bit 4 of the			<TT CLASS="cv">pccValid</TT> field is set. The <TT CLASS="cv">pcStatus</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15561"></A><TT CLASS="cv">pcPin</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1534"></A>This field specifies the new card pin register setting for a PCMCIA			device. The value in this field is valid only when bit 5 of the			<TT CLASS="cv">pccValid</TT> field is set. The <TT CLASS="cv">pcPin</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15570"></A><TT CLASS="cv">pcCopy</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1535"></A>This field specifies the new card socket/copy register setting			for a PCMCIA device. The value in this field is valid only when			bit 6 of the <TT CLASS="cv">pccValid</TT> field is set. The <TT CLASS="cv">pcCopy</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15579"></A><TT CLASS="cv">pcConfigIndex</TT> </CODE>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1536"></A>This field specifies the new card option register setting for			a PCMCIA device. The value in this field is valid only when bit			7 of the <TT CLASS="cv">pccValid</TT> field is set. The <TT CLASS="cv">pcConfigIndex</TT> field is not supported in ATA Manager 4.0 or later, because the			PC Card services are now handled by other system software.</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15588"></A><TT CLASS="cv">ataSingleDMASpeed</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1537"></A>This bit-significant field specifies the singleword DMA mode for			DMA data transfers. It corresponds to the high-order byte of word			62 of the Identify Device data described in the ATA-2 specification.			If word 62 is not supported by the device, then it reflects word			52 converted to bit significance. The ATA software supports word			62 modes 0 through 2, as defined in the ATA-2 specification. If			the specified timing mode is higher than the values supported			by the software, then the highest possible mode is selected for			transfers. <br>The ATA Manager selects the transfer rate that satisfies			the requirements of the mode and the system DMA hardware. The			rate and mode are used on subsequent DMA transfers until changed			by another <TT CLASS="cv">ATA_SetDevConfig</TT> function call. The default singleword DMA mode is mode 0. This			field is valid for parameter block version 3 or greater. For additional			information related to setting the I/O data transfer speed, see			<A HREF="ATA.27.html#37315" CLASS="XRef">Setting Data Transfer Timing</A> .</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15603"></A><TT CLASS="cv">ataMultiDMASpeed</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1541"></A>This bit-significant field specifies the multiword DMA cycle mode			for DMA data transfers. It corresponds to the high-order byte			of word 63 of the Identify Device data described in the ATA-2			specification. If word 63 is not supported by the device, then			this value should be zero which indicates that multiword DMA should			not be attempted. The ATA software supports word 63 modes 0 through			2, as defined in the ATA-2 specification. If the specified timing			mode is higher than the values supported by the software, then			the highest supported mode is selected for DMA transfers. This			field is used in conjunction with the value set in the <TT CLASS="cv">ataMultiCycleTime</TT> field. The ATA Manager selects the transfer rate that satisfies			the requirements of the mode specified in <TT CLASS="cv">ataMultiCycleTime</TT> field and the system DMA hardware. The rate and mode are used			on subsequent DMA transfers until changed by another <TT CLASS="cv">ATA_SetDevConfig</TT> function call. The default setting for DMA mode is singleword			DMA mode 0. This field is valid for parameter block version 3			or greater. <br>For additional information related to setting the			I/O data transfer speed, see <A HREF="ATA.27.html#37315" CLASS="XRef">Setting Data Transfer Timing</A> .</dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15615"></A><TT CLASS="cv">ataPIOCycleTime</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1545"></A>This word field is used in conjunction with the <TT CLASS="cv">ataIOSpeed</TT> field of the <TT CLASS="cv">ataPBHdr</TT> structure to specify the cycle time for command and PIO data			transfers. The value in this field represents word 68 of the Identify			Device information, as defined in the ATA-2 specification. If			this value is not zero, the ATA Manager selects the closest approximation			of the cycle time supported by the system hardware which does			not exceed the value and still meets the timing requirements of			the selected mode. <br><br>If this value is zero, the ATA Manager uses			the minimum cycle times from the ATA-2 specification for the mode.			The resulting cycle timing represents the maximum timing for PIO			mode 2, because that is the highest mode supported without reporting			word 68 of the Identify Device information. </dd>			<DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=15630"></A><TT CLASS="cv">ataMultiCycleTime</TT> </dt>			<DD CLASS="DD.DefinitionDef"><A NAME="pgfId=1546"></A>This word field is used in conjunction with the <TT CLASS="cv">ataMultiDMASpeed</TT> field to specify the cycle time for multiword DMA data transfers.			The value represents the same value reported in word 65 or word			66 of the Identify Device information, as specified in the ATA-2			specification. If the value specified in this field is not zero,			the ATA Manager selects the closest cycle time supported by the			system hardware that does not exceed the value and meets the other			timing requirements of the mode specified in the <TT CLASS="cv">ataMultiDMASpeed</TT> field. <br><br>If the value is zero, the ATA Manager uses the minimum			cycle times specified in the ATA-2 specification for the selected			mode. The resulting cycle timing represents the minimum timing			for multiword DMA mode 0, because that is the highest mode supported			without reporting word 65 or word 66 of the Identify Device information.</dd>		</DL>		<H5>		<DIV><A NAME="pgfId=1547"></A>RESULT CODES</H5>			<P CLASS="T0.Text0"><A NAME="pgfId=1551"></A>See <A HREF="ATA.3a.html#37212" CLASS="XRef">Table&nbsp;A-1</A> for possible result codes returned by the ATA Manager.</P>			<P>		</DIV>		<HR>		&copy; 1999 Apple Computer, Inc.</P>		<P><A HREF="ATA.2a.html"><img src="images/up.gif" border="0"></A> <A HREF="ATA.37.html"><img src="images/previous.gif" border="0"></A> <A HREF="ATA.39.html"><img src="images/next.gif" border="0"></A>  <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!-- document.write(frameLink);//--></script></a><!-- end Show/Hide frames --></P><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer -->	</BODY></HTML>