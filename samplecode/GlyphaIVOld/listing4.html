<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>GlyphaIVOld - /G4Interface.c</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/Games/index.html">Games</a> &gt; <a href="../../samplecode/Games/idxGraphicsImaging-date.html">Graphics & Imaging</a> &gt; <A HREF="javascript:location.replace('index.html');">GlyphaIVOld</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Not Recommended Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>The information in this document is <strong>Not Recommended</strong> and should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Games/idxGraphicsImaging-date.html" target="_blank">Games > Graphics & Imaging</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">GlyphaIVOld</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/G4Interface.c</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/G4Enemy.c</option>
<option value="listing2.html">/G4Externs.h</option>
<option value="listing3.html">/G4Graphics.c</option>
<option value="listing4.html">/G4Interface.c</option>
<option value="listing5.html">/G4Lava.c</option>
<option value="listing6.html">/G4Main.c</option>
<option value="listing7.html">/G4Play.c</option>
<option value="listing8.html">/G4Prefs.c</option>
<option value="listing9.html">/G4SetUpTakeDown.c</option>
<option value="listing10.html">/G4Sound.c</option>
<option value="listing11.html">/G4Utilities.c</option></select>
				</p>
				</form>
				<p><strong><a href="GlyphaIVOld.zip">Download Sample</a></strong> (&#147;GlyphaIVOld.zip&#148;, 106.6K)<BR>
<strong><a href="GlyphaIVOld.dmg">Download Sample</a></strong> (&#147;GlyphaIVOld.dmg&#148;, 175.8K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">/*  File:    G4Interface.c  Contains:  xxx put contents here xxx  Version:  xxx put version here xxx  Copyright:  &copy; 1998 by Apple Computer, Inc., all rights reserved.  File Ownership:    DRI:        xxx put dri here xxx    Other Contact:    xxx put other contact here xxx    Technology:      xxx put technology here xxx  Writers:    (sjb)  Steve Bollinger  Change History (most recent first):     &lt;2&gt;    7/1/98  sjb    Update to CWPro 2*///============================================================================//----------------------------------------------------------------------------//                  Interface.c//----------------------------------------------------------------------------//============================================================================// I put all interface related code in here.  Interface would include event\xC9// handling, menus, dialog boxes, etc.  All the user interaction that takes\xC9// place before and after an actual game is in play.#include &quot;G4Externs.h&quot;#include &lt;Sound.h&gt;#include &lt;Devices.h&gt;#include &lt;AppleEvents.h&gt;#include &lt;ToolUtils.h&gt;#define kAppleMenuID    128#define iAbout        1#define kGameMenuID      129#define iNewGame      1#define iPauseGame      2#define iEndGame      3#define iQuit        5#define kOptionsMenuID    130#define iSettings      1#define iHelp        2#define iHighScores      3#define kAboutPictID    132void DoAppleMenu (short);void DoGameMenu (short);void DoOptionsMenu (short);void UpdateMainWindow (void);void HandleMouseEvent (EventRecord *);void HandleKeyEvent (EventRecord *);void HandleUpdateEvent (EventRecord *);void HandleOSEvent (EventRecord *);void HandleHighLevelEvent (EventRecord *);void DoAbout (void);void DoGameSettings (void);void DrawBanner(void);Rect    mainWindowRect;MenuHandle  appleMenu, gameMenu, optionsMenu;Boolean    switchedOut, quitting, canPlay, openTheScores;extern  prefsInfo  thePrefs;extern  Rect    backSrcRect, workSrcRect;extern  CGrafPtr  backSrcMap, workSrcMap;extern  Boolean    pausing, playing, helpOpen, scoresOpen;//==============================================================  Functions//--------------------------------------------------------------  MenusReflectMode// Depending on whether a game is in progress (paused) or not, I want\xC9// menu items grayed out in one case and not grayed out in the other.// This function, when called, displays the menus correctly depending\xC9// on the mode we're in (playing or not playing, pausing or not).void MenusReflectMode (void){  if (playing)                // If a game is in progress\xC9  {    DisableItem(gameMenu, iNewGame);    // Cannot begin another New Game.    EnableItem(gameMenu, iPauseGame);    // Can Pause Game.    if (pausing)              // If we are paused\xC9      SetMenuItemText(gameMenu, iPauseGame,           &quot;\pResume Game&quot;);      // Rename item &quot;Resume Game&quot;.    else                  // If we are not paused\xC9      SetMenuItemText(gameMenu, iPauseGame,           &quot;\pPause Game&quot;);      // Rename item &quot;Pause Game&quot;.    EnableItem(gameMenu, iEndGame);      // Can End Game.    DisableItem(optionsMenu, 0);      // Cannot change game settings.  }  else                    // Else, if Glypha is idle\xC9  {    EnableItem(gameMenu, iNewGame);      // Can begin a New Game.    DisableItem(gameMenu, iPauseGame);    // Cannot Pause Game.    SetMenuItemText(gameMenu, iPauseGame,         &quot;\pPause Game&quot;);        // Rename item &quot;Pause Game&quot;.    DisableItem(gameMenu, iEndGame);    // Cannot End Game.    EnableItem(optionsMenu, 0);        // Can change game settings.  }}//--------------------------------------------------------------  DoAppleMenu// This function takes care of handling the Apple menu (Desk Assecories and the\xC9// About box).void DoAppleMenu (short theItem){  Str255    daName;  GrafPtr    wasPort;  short    daNumber;    switch (theItem)              // Depending on the item selected\xC9  {    case iAbout:              // If the About item was selected\xC9    if ((scoresOpen) || (helpOpen))      // If high scores or help screens up\xC9    {      CloseWall();            // hide them.      scoresOpen = FALSE;          // High scores no longer open.      helpOpen = FALSE;          // Help screen is no longer open.                        // Uncheck help &amp; high scores menu items.      CheckItem(optionsMenu, iHelp, helpOpen);      CheckItem(optionsMenu, iHighScores, scoresOpen);    }    DoAbout();                // Bring up the About dialog.    break;        default:                // If any other item was selected (DA)\xC9    GetMenuItemText(appleMenu, theItem, daName);  // Get the name of the item selected.    GetPort(&amp;wasPort);            // Remember our port.    daNumber = OpenDeskAcc(daName);      // Launch the Desk Accesory.    SetPort((GrafPtr)wasPort);        // When we return, restore port.    break;  }}//--------------------------------------------------------------  DoGameMenu// This function handles a users interaction with the Game menu.  Quitting\xC9// Glypha, starting a new game, resuming a paused game are handled here.void DoGameMenu (short theItem){  switch (theItem)            // Depending on menu item selected\xC9  {    case iNewGame:            // If user selected New Game item\xC9    if ((scoresOpen) || (helpOpen))    // If high scores or help screen is up,\xC9    {                  // close them first.      CloseWall();      scoresOpen = FALSE;      helpOpen = FALSE;      CheckItem(optionsMenu, iHelp, helpOpen);      CheckItem(optionsMenu, iHighScores, scoresOpen);    }    InitNewGame();            // Initialize variables for a new game.    MenusReflectMode();          // Properly gray out the right menu items.    break;        case iPauseGame:          // If user selected Pause Game item\xC9    if (pausing)            // If we are paused, resume playing.    {      pausing = FALSE;        // Turn off pausing flag.      DumpBackToWorkMap();      // Restore off screen just in case.    }                  // Actually pausing a game (not resuming)\xC9    break;                // is not really handled here.  It's handled\xC9                      // directly within the main game loop.                          case iEndGame:            // Ending a game in progress isn't really\xC9    break;                // handled here - this is a dummy item.                      // Ending a game is handled within the main\xC9                      // game loop by looking for the 'command'\xC9                      // and 'E' key explicitly.        case iQuit:              // If user selected Quit item\xC9    quitting = TRUE;          // Set quitting flag to TRUE.    break;  }}//--------------------------------------------------------------  DoOptionsMenu// This function handles the Options menu.  Options include game settings,\xC9// displaying the high scores, and bringing up the Help screen.void DoOptionsMenu (short theItem){  switch (theItem)          // Depending on which item the user selected\xC9  {    case iSettings:          // If user selected Game Settings item\xC9    if ((scoresOpen) || (helpOpen))  // Close high scores or help screen.    {      CloseWall();      scoresOpen = FALSE;      helpOpen = FALSE;      CheckItem(optionsMenu, iHelp, helpOpen);      CheckItem(optionsMenu, iHighScores, scoresOpen);    }    DoGameSettings();        // Bring up game settings dialog.    break;        case iHelp:            // If user selected Help item\xC9    if (helpOpen)          // If Help open, close it.    {      CloseWall();      helpOpen = FALSE;    }    else              // Else, if Help is not open - open it.    {      if (scoresOpen)        // If the High Scores are up though,\xC9      {        CloseWall();      // Close them first.        scoresOpen = FALSE;        CheckItem(optionsMenu, iHighScores, scoresOpen);      }      OpenHelp();          // Now open the Help screen.    }    CheckItem(optionsMenu, iHelp, helpOpen);    break;        case iHighScores:        // If user selected High Scores\xC9    if (scoresOpen)          // If the High Scores are up, close them.    {      CloseWall();      scoresOpen = FALSE;    }    else              // If the High Scores are not up\xC9    {      if (helpOpen)        // First see if Help is open.      {        CloseWall();      // And close the Help screen.        helpOpen = FALSE;        CheckItem(optionsMenu, iHelp, helpOpen);      }      OpenHighScores();      // Now open the High Scores.    }    CheckItem(optionsMenu, iHighScores, scoresOpen);    break;  }}//--------------------------------------------------------------  DoMenuChoice// This is the main menu-handling function.  It examines which menu was selected\xC9// by the user and passes on to the appropriate function, the item within that\xC9// menu that was selected.void DoMenuChoice (long menuChoice){  short    theMenu, theItem;    if (menuChoice == 0)      // A little error checking.    return;    theMenu = HiWord(menuChoice);  // Extract which menu was selected.  theItem = LoWord(menuChoice);  // Extract which item it was that was selected.    switch (theMenu)        // Now, depending upon which menu was selected\xC9  {    case kAppleMenuID:      // If the Apple menu selected\xC9    DoAppleMenu(theItem);    // Call the function that handles the Apple menu.    break;        case kGameMenuID:      // If the Game menu selected\xC9    DoGameMenu(theItem);    // Call the function that handles the Game menu.    break;        case kOptionsMenuID:    // If the Options menu selected\xC9    DoOptionsMenu(theItem);    // Call the function that handles the Options menu.    break;  }    HiliteMenu(0);          // &quot;De-invert&quot; menu.}//--------------------------------------------------------------  UpdateMainWindow// This is a simple function that simply copies the contents from the\xC9// background offscreen pixmap to the main screen.  It is primarily\xC9// called in response to an update event, but could be called any time\xC9// when I want to force the screen to be redrawn.void UpdateMainWindow (void){  OSStatus theError;    theError = DSpContext_GetBackBuffer( gTheContext, kDSpBufferKind_Normal, &amp;workSrcMap );  if( theError )  {    DSpContext_Release( gTheContext );    gTheContext = NULL;    RedAlert(&quot;\pUnable to get back buffer&quot;);  }  CopyBits(&amp;((GrafPtr)backSrcMap)-&gt;portBits,       &amp;(((GrafPtr)workSrcMap)-&gt;portBits),       &amp;mainWindowRect, &amp;mainWindowRect,       srcCopy, 0L);  DSpContext_SwapBuffers( gTheContext, NULL, NULL );}//--------------------------------------------------------------  HandleMouseEvent// Mouse clicks come here.  This is standard event-handling drivel.  No different // from any other standard Mac program (game or otherwise).void HandleMouseEvent (EventRecord *theEvent){  WindowPtr  whichWindow;  long    menuChoice;  short    thePart;                        // Determine window and where in window.  thePart = FindWindow(theEvent-&gt;where, &amp;whichWindow);    switch (thePart)              // Depending on where mouse was clicked\xC9  {    case inSysWindow:            // In a Desk Accesory.    SystemClick(theEvent, whichWindow);    // (Is this stuff obsolete yet?)    break;        case inMenuBar:              // Selected a menu item.    menuChoice = MenuSelect(theEvent-&gt;where);    if (canPlay)              // Call menu handling routine.      DoMenuChoice(menuChoice);    break;        case inDrag:              // Like the lazy bastard I am\xC9    case inGoAway:              // I'll just ignore these.    case inGrow:              // But, hey, the window isn't\xC9    case inZoomIn:              // movable or growable!    case inZoomOut:    break;        case inContent:              // Click in the window itself.    if (!playing)    {      short h = theEvent-&gt;where.h;      short v = theEvent-&gt;where.v;      short count = 10;            while(count &gt; 0)      {        StartPixelShatter(h, v, 0, 0, kShatterLightningDust);        count--;      }            lightH = h;      lightV = v;      lightningCount = 15;      PlayExternalSound(kLightningSound, kLightningPriority);    }    break;  }}//--------------------------------------------------------------  HandleKeyEvent// More standard issue.  This function handles any keystrokes when no game is// in session.  Command-key strokes handled here too.void HandleKeyEvent (EventRecord *theEvent){  char    theChar;  Boolean    commandDown;    theChar = theEvent-&gt;message &amp; charCodeMask;        // Extract key hit.  commandDown = ((theEvent-&gt;modifiers &amp; cmdKey) != 0);  // See if command key down.    if (commandDown)                // If command key down, call menu\xC9  {                        // handling routine.    if (canPlay)      DoMenuChoice(MenuKey(theChar));  }  else  {    if (helpOpen)                // Handle special keys if the help\xC9    {                      // screen is up.      if (theChar == kUpArrowKeyASCII)    // Up arrow key scrolls help down.      {        if (theEvent-&gt;what == autoKey)          ScrollHelp(-3);        else          ScrollHelp(-1);      }      else if (theChar == kDownArrowKeyASCII)  // Down arrow key scrolls help up.      {        if (theEvent-&gt;what == autoKey)          ScrollHelp(3);        else          ScrollHelp(1);      }      else if (theChar == kPageDownKeyASCII)  // Handle page down for help screen.      {        ScrollHelp(199);      }      else if (theChar == kPageUpKeyASCII)  // Handle page up for help.      {        ScrollHelp(-199);      }      else if ((theChar == kHelpKeyASCII) &amp;&amp; (!playing))      {                    // Hitting Help key closes help\xC9        CloseWall();            // (if it's already open).        helpOpen = FALSE;        CheckItem(optionsMenu, iHelp, helpOpen);      }    }    else if ((theChar == kHelpKeyASCII) &amp;&amp; (!playing))    {                      // Else, if help not open and Help\xC9      if (scoresOpen)              // key is hit, open Help.      {                    // Close high scores if open.        CloseWall();        scoresOpen = FALSE;        CheckItem(optionsMenu, iHighScores, scoresOpen);      }      OpenHelp();                // Open help.      CheckItem(optionsMenu, iHelp, helpOpen);    }  }}//--------------------------------------------------------------  HandleUpdateEvent// This function handles update events.  Standard event-handling stuff.void HandleUpdateEvent (EventRecord *theEvent){  #if !GENERATINGPOWERPC  if ((WindowPtr)theEvent-&gt;message == mainWindow)  {    SetPort((GrafPtr)mainWindow);    // Don't forget this line, BTW.    BeginUpdate((GrafPtr)mainWindow);  // I did once and it took me\xC9    UpdateMainWindow();          // ages to track down that bug.    EndUpdate((GrafPtr)mainWindow);    // Well, it took me a week I think.    canPlay = TRUE;  }#endif}//--------------------------------------------------------------  HandleOSEvent// Handle switchin in and out events.  Standard event-handling stuff.void HandleOSEvent (EventRecord *theEvent){    if (theEvent-&gt;message &amp; 0x01000000)    // If suspend or resume event\xC9  {    if (theEvent-&gt;message &amp; 0x00000001)  // Specifically, if resume event\xC9      switchedOut = FALSE;      // I keep thinking I should do more here.    else                // Or if suspend event\xC9      switchedOut = TRUE;        // What am I forgetting?  }}//--------------------------------------------------------------  HandleHighLevelEvent// Again, it's a fact I'm lazy.  AppleEvents are fairly easy to implement but\xC9// a nightmare to try and explain.  Filling out the below function is left as\xC9// and exercise to the reader.void HandleHighLevelEvent (EventRecord *theEvent){  //  theErr = AEProcessAppleEvent(theEvent);}//--------------------------------------------------------------  HandleEvent// Standard event stuff.  This is the culling function that calls all the above\xC9// functions.  It looks for an event and if it detects one, it calls the appropriate\xC9// function above to handle it.void HandleEvent (void){  EventRecord  theEvent;  long    sleep = 0L;  Boolean    itHappened;                      // See if an event is queued up.#if GENERATINGPOWERPC    canPlay = TRUE;#endif  itHappened = WaitNextEvent(everyEvent, &amp;theEvent, sleep, 0L);    if (itHappened)              // Ah, an event.  I live for events!  {    switch (theEvent.what)        // And what kind of event be ya'?    {      case mouseDown:          // Aiy!  Y' be a mouse click do ya'?      HandleMouseEvent(&amp;theEvent);      break;            case keyDown:          // Key down, key held down events.      case autoKey:      HandleKeyEvent(&amp;theEvent);      break;            case updateEvt:          // Something needs redrawing!      HandleUpdateEvent(&amp;theEvent);      break;            case osEvt:            // Switching in and out events.      HandleOSEvent(&amp;theEvent);      break;            case kHighLevelEvent:      // Hmmmm.  A &quot;what&quot; event?      HandleHighLevelEvent(&amp;theEvent);      break;            default:      break;    }  }  #if 0  else if (openTheScores)          // Check for &quot;auto open&quot; flag.  {                    // If TRUE, set the flag back to\xC9    openTheScores = FALSE;        // FALSE and open the high scores.    OpenHighScores();  }#endif}//--------------------------------------------------------------  DoAbout// This handles the About dialog.  It brings up the About box in a\xC9// simple centered window with no drag bar, close box or anything.// Leaving the dialog is handled with a simple mouse click.void DoAbout (void){  Rect    aboutRect;  WindowPtr  aboutWindow;    SetRect(&amp;aboutRect, 0, 0, 325, 318);    // Bring up centered window.  CenterRectInRect(&amp;aboutRect, &amp;qd.screenBits.bounds);  aboutWindow = GetNewCWindow(129, 0L, kPutInFront);  MoveWindow((GrafPtr)aboutWindow, aboutRect.left, aboutRect.top, TRUE);  ShowWindow((GrafPtr)aboutWindow);  SetPort((GrafPtr)aboutWindow);  LoadGraphic(kAboutPictID);          // Draw About dialog graphic.    do                      // Make sure button not down\xC9  {                      // before proceeding.  }  while (Button());              // Proceed.  do                      // And now wait until the mouse\xC9  {                      // is pressed before closing the\xC9  }                      // window (ABout dialog).  while (!Button());    FlushEvents(everyEvent, 0);          // Flush the queue.    if (aboutWindow != 0L)    DisposeWindow(aboutWindow);        // Close the About dialog.}//--------------------------------------------------------------  DoGameSettings// This one however is a good and proper dialog box.  It handles the meager\xC9// preference settings for Glypha.  Nothing fancy here to report.  Just a\xC9// straight-forward dialog calling routine.void DoGameSettings (void){  #define    kGameSettingsDialogID  133  DialogPtr  theDial;  long    newVolume;  short    i, item;  Boolean    leaving;    CenterDialog(kGameSettingsDialogID);  // Center dialog, then call up.  theDial = GetNewDialog(kGameSettingsDialogID, 0L, kPutInFront);  SetPort((GrafPtr)theDial);  ShowWindow((GrafPtr)theDial);      // Make visible (after centering).  DrawDefaultButton(theDial);        // Draw border around Okay button.  FlushEvents(everyEvent, 0);                      // Put in a default sound volume.  SetDialogNumToStr(theDial, 3, (long)thePrefs.wasVolume);  SelectDialogItemText(theDial, 3, 0, 1024);  // Select it.    leaving = FALSE;    while (!leaving)  {    ModalDialog(0L, &amp;item);        // Simple modal dialog filtering.        if (item == 1)            // Did user hit the Okay button?    {                  // Well see if volume entered is legal.      GetDialogNumFromStr(theDial, 3, &amp;newVolume);      if ((newVolume &gt;= 0) &amp;&amp; (newVolume &lt;= 7))      {                // If it is legal, we'll note it and quit.        thePrefs.wasVolume = newVolume * (0x01000000 / 7) + newVolume * (0x0100 / 7);        SetDefaultOutputVolume (thePrefs.wasVolume);      // get new volume//        SetSoundVol((short)newVolume);        leaving = TRUE;        // Bye.      }      else              // Otherwise, the volume entered is wrong.      {                // So we'll Beep, enter the last legal\xC9        SysBeep(1);          // value and select the text again.        SetDialogNumToStr(theDial, 3, (long)thePrefs.wasVolume);        SelectDialogItemText(theDial, 3, 0, 1024);      }    }    else if (item == 2)          // Did the user hit the &quot;Clear Scores&quot;\xC9    {                  // button?      for (i = 0; i &lt; 10; i++)    // Walk through and zero scores.      {        PasStringCopy(&quot;\pNemo&quot;, thePrefs.highNames[i]);        thePrefs.highScores[i] = 0L;        thePrefs.highLevel[i] = 0;        openTheScores = TRUE;    // Bring up scores when dialog quits.      }      DisableControl(theDial, 2);    // Gray out Clear Scores button.    }  }    DisposeDialog(theDial);          // Clean up before going.}</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/GlyphaIVOld/listing4.html%3Fid%3DDTS10000053-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/GlyphaIVOld/listing4.html%3Fid%3DDTS10000053-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/GlyphaIVOld/listing4.html%3Fid%3DDTS10000053-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>