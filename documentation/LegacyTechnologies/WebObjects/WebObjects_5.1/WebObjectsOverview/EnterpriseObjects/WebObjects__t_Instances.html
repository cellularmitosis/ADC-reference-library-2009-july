<HTML>		<HEAD>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">        <title>WebObjects Support for Enterprise-ObjectInstances</title>		</HEAD>	<BODY bgcolor="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Mapping_You_base_Tables.html" target="_right"><img src="../images/previous.gif" border="0"></a><a href="The_Enterpr_s_Advantage.html" target="_right"><img src="../images/next.gif" border="0"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF104"></a><h2><font face="Lucida Grande,Helvetica,Arial">WebObjects Support for Enterprise-ObjectInstances</font></h2><!-- apple_doc: pageHeadingEnd --><p>After your program has accumulated changes to enterprise-objectinstances, WebObjects analyzes the instances, generates the necessarydatabase operations (SQL code), and executes those operations tosynchronize the database with in-memory enterprise-object instances.WebObjects has mechanisms for ensuring the integrity of your datais maintained between your application and the datasource withoutsacrificing performance or flexibility:</p><dl><dt>Validation</dt><dd>A good part of your application's business logic isusually validation (for example, verifying that customers don'texceed their credit limits, return dates don't come before theircorresponding check-out dates, and so on). In your enterprise-objectclasses, you implement methods that check for invalid data, andWebObjects automatically invokes them before saving anything tothe datasource.</dd></dl><dl><dt>Referential-integrity enforcement</dt><dd>In your model you can specify rules governing the relationshipsbetween entities, such as whether a to-one relationship is optionalor mandatory. You can also specify delete rules&#151;actions that mustoccur when an enterprise-object instance is deleted. For example,if you have a Department entity, you can specify that when instancesof it are deleted, all the related employees in that departmentare also deleted (a cascading delete), all the employees in thatdepartment are updated to have no department (nullify), or the departmentdeletion is rejected if it has any employees (deny).</dd></dl><dl><dt>Automatic primary and foreign key generation</dt><dd>You do not need to maintain database artifacts suchas primary and foreign key values in your application; WebObjectskeeps track of them for you. Primary and foreign keys aren't usuallymeaningful parts of a business model; rather, they're attributescreated in a relational database to express relationships betweenentities. Key values can be generated and propagated automatically.</dd></dl><dl><dt>Transaction management</dt><dd>Most transactions are handled for you, using the nativetransaction management features of your database to group databaseoperations that correspond to the changes that have been made toenterprise-object instances in memory. You don't have to worryabout beginning, committing, or rolling back transactions unlessyou want to fine-tune transaction-management behavior. WebObjectsalso provides a separate in-memory transaction management featurethat allows you to create nested contexts in which a child context'schanges are folded into the parent context only upon successful completionof an in-memory operation.</dd></dl><dl><dt>Locking</dt><dd>WebObjects offers three types of locking: pessimistic,optimistic, and on-demand. Pessimistic locking uses your databaseserver's native locking mechanism to lock rows as they're fetchedand prevents update conflicts by never allowing two users to lookat the same enterprise-object instance at the same time. Optimisticlocking doesn't detect update conflicts until you try to savechanges to the database; if a row has changed since it was originally fetched,the save operation is cancelled. On-demand locking is a mixtureof the other two: it locks a row after you fetch it but before youattempt to modify it. The lock can fail for one of two reasons:either the row has changed since you fetched it (optimistic locking),or because someone else already has a lock on the row (pessimisticlocking).</dd></dl><dl><dt>Faulting</dt><dd>When WebObjects fetches a row, it creates enterprise-objectinstances representing the destinations of the corresponding entity'srelationships. By default, WebObjects doesn't immediately fetchdata for the destination objects of relationships, however. Fetchingis fairly expensive, and further, if WebObjects fetched rows relatedto the one explicitly asked for, it would also have to fetch therows related to those, and so on, until all of the interrelated rowsin the database had been retrieved. For many applications, thiswould be a waste of time and resources. To avoid this, WebObjectscreates empty destination objects, called faults, that fetch theirdata the first time they're accessed. This process, known as <em>faulting</em>,is automatic.</dd></dl><dl><dt>Uniquing</dt><dd>In marrying relational databases to object-orientedprogramming, one of the key requirements is that a row in the databasebe associated with only one enterprise object in a given contextin your application. WebObjects maintains the mapping of each enterprise-objectinstance to its corresponding table row, and uses this informationto ensure that, within a given context, your object set does notinclude two (possibly inconsistent) objects for the same row. Uniquing ofenterprise-object instances, as this process is called, reducesmemory usage and allows you to know with confidence that the objectyou're interacting with represents the true state of its associatedrow as it was last fetched.</dd></dl><br>    <br><a href="Mapping_You_base_Tables.html" target="_right"><img src="../images/previous.gif" border="0"></a><a href="The_Enterpr_s_Advantage.html" target="_right"><img src="../images/next.gif" border="0"></a>&nbsp;<br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated January 3, 2002)</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>