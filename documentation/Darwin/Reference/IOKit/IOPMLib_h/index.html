<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=HTML">
<title>IOPMLib.h</title>
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware & Drivers</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/iokit_fw" target="_top">I/O Kit Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOPMLib.h">IOPMLib.h</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Includes:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a -->&lt;CoreFoundation/CFArray.h&gt;<!-- /a --><br><a href="../IOKitLib_h/index.html#//apple_ref/doc/header/IOKitLib.h" target="_top">&lt;IOKit/IOKitLib.h&gt;</a><br><!-- a -->&lt;IOKit/pwr_mgt/IOPMLibDefs.h&gt;<!-- /a --><br><a href="../IOPMKeys_h/index.html#//apple_ref/doc/header/IOPMKeys.h" target="_top">&lt;IOKit/pwr_mgt/IOPMKeys.h&gt;</a>
</div></div></td>
</tr></table></div>
<h2>Overview</h2>
<!-- begin discussion --><p>IOPMLib provides access to common power management facilites, like initiating 
system sleep, getting current idle timer values, registering for sleep/wake notifications, 
and preventing system sleep.<!-- end discussion -->
</p>
<hr>
<br><h2>Groups</h2>

<h3>Assertions</h3>
<blockquote>
<p> </p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMAssertionCreate" target="_top">IOPMAssertionCreate</a></tt></dt>
<dd><p>Dynamically requests a system behavior from the power management system.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMAssertionRelease" target="_top">IOPMAssertionRelease</a></tt></dt>
<dd><p>Releases the behavior requested in IOPMAssertionCreate
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCopyAssertionsByProcess" target="_top">IOPMCopyAssertionsByProcess</a></tt></dt>
<dd><p>Returns a dictionary mapping processes to the assertions they are holding active.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCopyAssertionsStatus" target="_top">IOPMCopyAssertionsStatus</a></tt></dt>
<dd><p>Returns a list of available assertions and their system-wide level.
</p></dd>
</dl>
</blockquote>
<p>&nbsp;</p>
<h3>Notifications</h3>
<blockquote>
<p> </p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/IOAllowPowerChange" target="_top">IOAllowPowerChange</a></tt></dt>
<dd><p>The caller acknowledges notification of a power state change on a device it has registered for notifications for via IORegisterForSystemPower or IORegisterApp.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOCancelPowerChange" target="_top">IOCancelPowerChange</a></tt></dt>
<dd><p>The caller negatively acknowledges notification of a power state change on a device it is interested in.  This prevents the state change.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IODeregisterForSystemPower" target="_top">IODeregisterForSystemPower</a></tt></dt>
<dd><p>Disconnects the caller from the Root Power Domain IOService after receiving system power state change notifications. (Caller must also release IORegisterForSystemPower's return io_connect_t and returned IONotificationPortRef for complete clean-up).
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/title:func/IODeregisterForSystemPower." target="_top">IODeregisterForSystemPower.</a></tt></dt>
<dd><p>Disconnects the caller from the Root Power Domain IOService after receiving system power state change notifications. (Caller must also release IORegisterForSystemPower's return io_connect_t and returned IONotificationPortRef for complete clean-up).
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IORegisterApp" target="_top">IORegisterApp</a></tt></dt>
<dd><p>Connects the caller to an IOService for the purpose of receiving power state change notifications for the device controlled by the IOService.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IORegisterForSystemPower" target="_top">IORegisterForSystemPower</a></tt></dt>
<dd><p>Connects the caller to the Root Power Domain  IOService for the purpose of receiving Sleep, Wake, ShutDown, PowerUp notifications for the System.
</p></dd>
</dl>
</blockquote>
<p>&nbsp;</p>
<h3>Scheduled</h3>
<blockquote>
<p></p>
<p>Events</p>
</blockquote>
<h4>Group members:</h4>
<blockquote>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCancelScheduledPowerEvent" target="_top">IOPMCancelScheduledPowerEvent</a></tt></dt>
<dd><p>Cancel a previously scheduled power event.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCopyScheduledPowerEvents" target="_top">IOPMCopyScheduledPowerEvents</a></tt></dt>
<dd><p>List all scheduled system power events
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMSchedulePowerEvent" target="_top">IOPMSchedulePowerEvent</a></tt></dt>
<dd><p>Schedule the machine to wake from sleep, power on, go to sleep, or shutdown. 
</p></dd>
</dl>
</blockquote>
<hr>
<h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/IOAllowPowerChange" target="_top">IOAllowPowerChange</a></tt></dt>
<dd><p>The caller acknowledges notification of a power state change on a device it has registered for notifications for via IORegisterForSystemPower or IORegisterApp.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOCancelPowerChange" target="_top">IOCancelPowerChange</a></tt></dt>
<dd><p>The caller negatively acknowledges notification of a power state change on a device it is interested in.  This prevents the state change.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IODeregisterForSystemPower" target="_top">IODeregisterForSystemPower</a></tt></dt>
<dd><p>Disconnects the caller from the Root Power Domain IOService after receiving system power state change notifications. (Caller must also release IORegisterForSystemPower's return io_connect_t and returned IONotificationPortRef for complete clean-up).
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/title:func/IODeregisterForSystemPower." target="_top">IODeregisterForSystemPower.</a></tt></dt>
<dd><p>Disconnects the caller from the Root Power Domain IOService after receiving system power state change notifications. (Caller must also release IORegisterForSystemPower's return io_connect_t and returned IONotificationPortRef for complete clean-up).
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMAssertionCreate" target="_top">IOPMAssertionCreate</a></tt></dt>
<dd><p>Dynamically requests a system behavior from the power management system.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMAssertionRelease" target="_top">IOPMAssertionRelease</a></tt></dt>
<dd><p>Releases the behavior requested in IOPMAssertionCreate
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCancelScheduledPowerEvent" target="_top">IOPMCancelScheduledPowerEvent</a></tt></dt>
<dd><p>Cancel a previously scheduled power event.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCopyAssertionsByProcess" target="_top">IOPMCopyAssertionsByProcess</a></tt></dt>
<dd><p>Returns a dictionary mapping processes to the assertions they are holding active.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCopyAssertionsStatus" target="_top">IOPMCopyAssertionsStatus</a></tt></dt>
<dd><p>Returns a list of available assertions and their system-wide level.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCopyBatteryInfo" target="_top">IOPMCopyBatteryInfo</a></tt></dt>
<dd><p>Request raw battery data from the system. 
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMCopyScheduledPowerEvents" target="_top">IOPMCopyScheduledPowerEvents</a></tt></dt>
<dd><p>List all scheduled system power events
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMFindPowerManagement" target="_top">IOPMFindPowerManagement</a></tt></dt>
<dd><p>Finds the Root Power Domain IOService.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMGetAggressiveness" target="_top">IOPMGetAggressiveness</a></tt></dt>
<dd><p>Retrieves the current value of one of the aggressiveness factors in IOKit Power Management.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMSchedulePowerEvent" target="_top">IOPMSchedulePowerEvent</a></tt></dt>
<dd><p>Schedule the machine to wake from sleep, power on, go to sleep, or shutdown. 
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMSetAggressiveness" target="_top">IOPMSetAggressiveness</a></tt></dt>
<dd><p>Sets one of the aggressiveness factors in IOKit Power Management.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMSleepEnabled" target="_top">IOPMSleepEnabled</a></tt></dt>
<dd><p>Tells whether the system supports full sleep, or just doze
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IOPMSleepSystem" target="_top">IOPMSleepSystem</a></tt></dt>
<dd><p>Request that the system initiate sleep.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IORegisterApp" target="_top">IORegisterApp</a></tt></dt>
<dd><p>Connects the caller to an IOService for the purpose of receiving power state change notifications for the device controlled by the IOService.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/IORegisterForSystemPower" target="_top">IORegisterForSystemPower</a></tt></dt>
<dd><p>Connects the caller to the Root Power Domain  IOService for the purpose of receiving Sleep, Wake, ShutDown, PowerUp notifications for the System.
</p></dd>
</dl>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOAllowPowerChange;   name=IOAllowPowerChange --><a name="//apple_ref/c/func/IOAllowPowerChange"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOAllowPowerChange">IOAllowPowerChange</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>The caller acknowledges notification of a power state change on a device it has registered for notifications for via IORegisterForSystemPower or IORegisterApp.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOAllowPowerChange" target="_top" class="function"><span class="function">IOAllowPowerChange</span></a> (
    <!-- a --><span class="type">io_connect_t</span><!-- /a --> <span class="param">kernelPort</span>,
    <!-- a --><span class="type">long</span><!-- /a --> <span class="param">notificationID</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>kernelPort</code></dt>
<dd><p>Port used to communicate to the kernel,  from IORegisterApp or IORegisterForSystemPower.</p></dd>
<dt><code>notificationID</code></dt>
<dd><p>A copy of the notification ID which came as part of the power state change notification being acknowledged.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Must be used when handling kIOMessageCanSystemSleep and kIOMessageSystemWillSleep messages from IOPMrootDomain system power.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOCancelPowerChange;   name=IOCancelPowerChange --><a name="//apple_ref/c/func/IOCancelPowerChange"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOCancelPowerChange">IOCancelPowerChange</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>The caller negatively acknowledges notification of a power state change on a device it is interested in.  This prevents the state change.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOCancelPowerChange" target="_top" class="function"><span class="function">IOCancelPowerChange</span></a> (
    <!-- a --><span class="type">io_connect_t</span><!-- /a --> <span class="param">kernelPort</span>,
    <!-- a --><span class="type">long</span><!-- /a --> <span class="param">notificationID</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>kernelPort</code></dt>
<dd><p>Port used to communicate to the kernel,  from IORegisterApp or IORegisterForSystemPower.</p></dd>
<dt><code>notificationID</code></dt>
<dd><p>A copy of the notification ID which came as part of the power state change notification being acknowledged.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Should only used when handling kIOMessageCanSystemSleep messages from IOPMrootDomain. IOCancelPowerChange() has no meaning for responding to kIOMessageSystemWillSleep (which is non-abortable) or any other messages.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IODeregisterForSystemPower;   name=IODeregisterForSystemPower --><a name="//apple_ref/c/func/IODeregisterForSystemPower"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IODeregisterForSystemPower">IODeregisterForSystemPower</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Disconnects the caller from the Root Power Domain IOService after receiving system power state change notifications. (Caller must also release IORegisterForSystemPower's return io_connect_t and returned IONotificationPortRef for complete clean-up).
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IODeregisterForSystemPower" target="_top" class="function"><span class="function">IODeregisterForSystemPower</span></a> (
    <!-- a --><span class="type">io_object_t</span><!-- /a --> <span class="type">*</span><span class="param">notifier</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>notifier</code></dt>
<dd><p>An object from IORegisterForSystemPower.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=title:func;  uid=//apple_ref/doc/title:func/IODeregisterForSystemPower.;   name=IODeregisterForSystemPower. --><a name="//apple_ref/doc/title:func/IODeregisterForSystemPower."></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IODeregisterForSystemPower.">IODeregisterForSystemPower.</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Disconnects the caller from the Root Power Domain IOService after receiving system power state change notifications. (Caller must also release IORegisterForSystemPower's return io_connect_t and returned IONotificationPortRef for complete clean-up).
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IODeregisterForSystemPower" target="_top" class="function"><span class="function">IODeregisterForSystemPower</span></a> (
    <!-- a --><span class="type">io_object_t</span><!-- /a --> <span class="type">*</span><span class="param">notifier</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>notifier</code></dt>
<dd><p>An object from IORegisterForSystemPower.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMAssertionCreate;   name=IOPMAssertionCreate --><a name="//apple_ref/c/func/IOPMAssertionCreate"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMAssertionCreate">IOPMAssertionCreate</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Dynamically requests a system behavior from the power management system.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMAssertionCreate" target="_top" class="function"><span class="function">IOPMAssertionCreate</span></a>(
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">AssertionType</span>, 
    <!-- a --><span class="type">IOPMAssertionLevel</span><!-- /a --> <span class="param">AssertionLevel</span>, 
    <!-- a --><span class="type">IOPMAssertionID</span><!-- /a --> <span class="type">*</span><span class="param">AssertionID</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>AssertionType</code></dt>
<dd><p>The CFString assertion type to request from the PM system.</p></dd>
<dt><code>AssertionLevel</code></dt>
<dd><p>Pass kIOPMAssertionLevelOn or kIOPMAssertionLevelOff.</p></dd>
<dt><code>AssertionID</code></dt>
<dd><p>On success, a unique id will be returned in this parameter.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success, any other return indicates
PM could not successfully activate the specified assertion.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>No special privileges necessary to make this call - any process may
activate a power assertion.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMAssertionRelease;   name=IOPMAssertionRelease --><a name="//apple_ref/c/func/IOPMAssertionRelease"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMAssertionRelease">IOPMAssertionRelease</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Releases the behavior requested in IOPMAssertionCreate
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMAssertionRelease" target="_top" class="function"><span class="function">IOPMAssertionRelease</span></a>(
    <!-- a --><span class="type">IOPMAssertionID</span><!-- /a --> <span class="param">AssertionID</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>AssertionID</code></dt>
<dd><p>The assertion_id, returned from IOPMAssertionCreate, to cancel.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>All calls to IOPMAssertionCreate must be paired with calls to IOPMAssertionRelease.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMCancelScheduledPowerEvent;   name=IOPMCancelScheduledPowerEvent --><a name="//apple_ref/c/func/IOPMCancelScheduledPowerEvent"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMCancelScheduledPowerEvent">IOPMCancelScheduledPowerEvent</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Cancel a previously scheduled power event.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMCancelScheduledPowerEvent" target="_top" class="function"><span class="function">IOPMCancelScheduledPowerEvent</span></a>(
    <a href="../../../../CoreFoundation/Reference/CFDateRef/Reference/reference.html#//apple_ref/c/tdef/CFDateRef" target="_top" class="type"><span class="type">CFDateRef</span></a> <span class="param">time_to_wake</span>,
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">my_id</span>,
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">type</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>time_to_wake</code></dt>
<dd><p>Cancel entry with this date and time.</p></dd>
<dt><code>my_id</code></dt>
<dd><p>Cancel entry with this name.</p></dd>
<dt><code>type</code></dt>
<dd><p>Type to cancel</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->kIOReturnSuccess on success, otherwise on failure

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Arguments mirror those to IOPMSchedulePowerEvent. All arguments must match the original arguments from when the power on was scheduled. Must be called as root.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMCopyAssertionsByProcess;   name=IOPMCopyAssertionsByProcess --><a name="//apple_ref/c/func/IOPMCopyAssertionsByProcess"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMCopyAssertionsByProcess">IOPMCopyAssertionsByProcess</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns a dictionary mapping processes to the assertions they are holding active.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMCopyAssertionsByProcess" target="_top" class="function"><span class="function">IOPMCopyAssertionsByProcess</span></a>(
    <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/c/tdef/CFDictionaryRef" target="_top" class="type"><span class="type">CFDictionaryRef</span></a> <span class="type">*</span><span class="param">AssertionsByPID</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>AssertionsByPID</code></dt>
<dd><p>On success, this returns a dictionary of assertions per process.
At the top level, keys to the CFDictionary are pids stored as CFNumbers (kCFNumberIntType).
The value associated with each CFNumber pid is a CFArray of active assertions.
Each entry in the CFArray is an assertion represented as a CFDictionary. See the keys
kIOPMAssertionTypeKey and kIOPMAssertionLevelKey. 
Caller must CFRelease() this dictionary when done.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Notes: One process may have multiple assertions. Several processes may
have asserted the same assertion to different levels.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMCopyAssertionsStatus;   name=IOPMCopyAssertionsStatus --><a name="//apple_ref/c/func/IOPMCopyAssertionsStatus"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMCopyAssertionsStatus">IOPMCopyAssertionsStatus</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Returns a list of available assertions and their system-wide level.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMCopyAssertionsStatus" target="_top" class="function"><span class="function">IOPMCopyAssertionsStatus</span></a>(
    <a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/c/tdef/CFDictionaryRef" target="_top" class="type"><span class="type">CFDictionaryRef</span></a> <span class="type">*</span><span class="param">AssertionsStatus</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>AssertionsStatus</code></dt>
<dd><p>On success, this returns a CFDictionary of all assertions currently available.
The keys in the dictionary are the assertion types, and the value of each is a CFNumber that
represents the aggregate level for that assertion.  Caller must CFRelease() this dictionary when done.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Notes: One process may have multiple assertions. Several processes may
have asserted the same assertion to different levels. The system-wide level is the
maximum of these assertions' levels.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMCopyBatteryInfo;   name=IOPMCopyBatteryInfo --><a name="//apple_ref/c/func/IOPMCopyBatteryInfo"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMCopyBatteryInfo">IOPMCopyBatteryInfo</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Request raw battery data from the system. 
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMCopyBatteryInfo" target="_top" class="function"><span class="function">IOPMCopyBatteryInfo</span></a>(
    <!-- a --><span class="type">mach_port_t</span><!-- /a --> <span class="param">masterPort</span>,
    <a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/c/tdef/CFArrayRef" target="_top" class="type"><span class="type">CFArrayRef</span></a> <span class="type">*</span><span class="param">info</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>masterPort</code></dt>
<dd><p>The master port obtained from IOMasterPort(). Just pass MACH_PORT_NULL.</p></dd>
<dt><code>info</code></dt>
<dd><p>A CFArray of CFDictionaries containing raw battery data.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>WARNING! IOPMCoyBatteryInfo is unsupported on ALL Intel CPU based systems. For PPC CPU based systems, it remains not recommended. For almost all purposes, developers should use the richer IOPowerSources API (with change notifications) instead of using IOPMCopyBatteryInfo. Keys to decipher IOPMCopyBatteryInfo's return CFArray exist in IOPM.h.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMCopyScheduledPowerEvents;   name=IOPMCopyScheduledPowerEvents --><a name="//apple_ref/c/func/IOPMCopyScheduledPowerEvents"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMCopyScheduledPowerEvents">IOPMCopyScheduledPowerEvents</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>List all scheduled system power events
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../CoreFoundation/Reference/CFArrayRef/Reference/reference.html#//apple_ref/c/tdef/CFArrayRef" target="_top" class="type"><span class="type">CFArrayRef</span></a> <a href="index.html#//apple_ref/c/func/IOPMCopyScheduledPowerEvents" target="_top" class="function"><span class="function">IOPMCopyScheduledPowerEvents</span></a>(
    <span class="param">void</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A CFArray of CFDictionaries of power events. 
The CFArray must be released by the caller. 
NULL if there are no scheduled events.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Returns a CFArray of CFDictionaries of power events. Each CFDictionary 
contains keys for CFSTR(kIOPMPowerEventTimeKey), CFSTR(kIOPMPowerEventAppNameKey), 
and CFSTR(kIOPMPowerEventTypeKey).
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMFindPowerManagement;   name=IOPMFindPowerManagement --><a name="//apple_ref/c/func/IOPMFindPowerManagement"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMFindPowerManagement">IOPMFindPowerManagement</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Finds the Root Power Domain IOService.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">io_connect_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/IOPMFindPowerManagement" target="_top" class="function"><span class="function">IOPMFindPowerManagement</span></a>(
    <!-- a --><span class="type">mach_port_t</span><!-- /a --> <span class="param">master_device_port</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>master_device_port</code></dt>
<dd><p>Just pass in MACH_PORT_NULL for master device port.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a io_connect_t handle on the root domain. Must be released with IOServiceClose() when done.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMGetAggressiveness;   name=IOPMGetAggressiveness --><a name="//apple_ref/c/func/IOPMGetAggressiveness"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMGetAggressiveness">IOPMGetAggressiveness</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Retrieves the current value of one of the aggressiveness factors in IOKit Power Management.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMGetAggressiveness" target="_top" class="function"><span class="function">IOPMGetAggressiveness</span></a> (
    <!-- a --><span class="type">io_connect_t</span><!-- /a --> <span class="param">fb</span>,
    <span class="keyword">unsigned</span> <!-- a --><span class="type">long</span><!-- /a --> <span class="param">type</span>,
    <span class="keyword">unsigned</span> <!-- a --><span class="type">long</span><!-- /a --> <span class="type">*</span><span class="param">aggressiveness</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>fb</code></dt>
<dd><p>Representation of the Root Power Domain from IOPMFindPowerManagement.</p></dd>
<dt><code>type</code></dt>
<dd><p>Specifies which aggressiveness factor is being retrieved.</p></dd>
<dt><code>type</code></dt>
<dd><p>Points to where to store the retrieved value of the aggressiveness factor.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMSchedulePowerEvent;   name=IOPMSchedulePowerEvent --><a name="//apple_ref/c/func/IOPMSchedulePowerEvent"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMSchedulePowerEvent">IOPMSchedulePowerEvent</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Schedule the machine to wake from sleep, power on, go to sleep, or shutdown. 
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMSchedulePowerEvent" target="_top" class="function"><span class="function">IOPMSchedulePowerEvent</span></a>(
    <a href="../../../../CoreFoundation/Reference/CFDateRef/Reference/reference.html#//apple_ref/c/tdef/CFDateRef" target="_top" class="type"><span class="type">CFDateRef</span></a> <span class="param">time_to_wake</span>,
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">my_id</span>,
    <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/c/tdef/CFStringRef" target="_top" class="type"><span class="type">CFStringRef</span></a> <span class="param">type</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>time_to_wake</code></dt>
<dd><p>Date and time that the system will power on/off.</p></dd>
<dt><code>my_id</code></dt>
<dd><p>A CFStringRef identifying the calling app by CFBundleIdentifier. May be NULL.</p></dd>
<dt><code>type</code></dt>
<dd><p>The type of power on you desire, either wake from sleep or power on. Choose from:
CFSTR(kIOPMAutoWake) == wake machine, 
CFSTR(kIOPMAutoPowerOn) == power on machine, 
CFSTR(kIOPMAutoWakeOrPowerOn) == wake or power on,
CFSTR(kIOPMAutoSleep) == sleep machine, 
CFSTR(kIOPMAutoShutdown) == power off machine,
CFSTR(kIOPMAutoRestart) == restart the machine.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->kIOReturnSuccess on success, otherwise on failure

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This event will be added to the system's queue of power events and stored persistently on disk. The sleep and shutdown events present a graphical warning and allow a console user to cancel the event. Must be called as root.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMSetAggressiveness;   name=IOPMSetAggressiveness --><a name="//apple_ref/c/func/IOPMSetAggressiveness"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMSetAggressiveness">IOPMSetAggressiveness</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets one of the aggressiveness factors in IOKit Power Management.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMSetAggressiveness" target="_top" class="function"><span class="function">IOPMSetAggressiveness</span></a> (
    <!-- a --><span class="type">io_connect_t</span><!-- /a --> <span class="param">fb</span>,
    <span class="keyword">unsigned</span> <!-- a --><span class="type">long</span><!-- /a --> <span class="param">type</span>,
    <span class="keyword">unsigned</span> <!-- a --><span class="type">long</span><!-- /a --> <span class="param">aggressiveness</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>fb</code></dt>
<dd><p>Representation of the Root Power Domain from IOPMFindPowerManagement.</p></dd>
<dt><code>type</code></dt>
<dd><p>Specifies which aggressiveness factor is being set.</p></dd>
<dt><code>type</code></dt>
<dd><p>New value of the aggressiveness factor.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMSleepEnabled;   name=IOPMSleepEnabled --><a name="//apple_ref/c/func/IOPMSleepEnabled"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMSleepEnabled">IOPMSleepEnabled</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Tells whether the system supports full sleep, or just doze
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">boolean_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/IOPMSleepEnabled" target="_top" class="function"><span class="function">IOPMSleepEnabled</span></a> (
    <span class="param">void</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the system supports sleep, false if some hardware prevents full sleep.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IOPMSleepSystem;   name=IOPMSleepSystem --><a name="//apple_ref/c/func/IOPMSleepSystem"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOPMSleepSystem">IOPMSleepSystem</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Request that the system initiate sleep.
<!-- end abstract --></p>
<p></p>
<pre><a href="../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="index.html#//apple_ref/c/func/IOPMSleepSystem" target="_top" class="function"><span class="function">IOPMSleepSystem</span></a> (
    <!-- a --><span class="type">io_connect_t</span><!-- /a --> <span class="param">fb</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>fb</code></dt>
<dd><p>Port used to communicate to the kernel,  from IOPMFindPowerManagement.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess or an error condition if request failed.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>For security purposes, caller must be root or the console user.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IORegisterApp;   name=IORegisterApp --><a name="//apple_ref/c/func/IORegisterApp"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IORegisterApp">IORegisterApp</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Connects the caller to an IOService for the purpose of receiving power state change notifications for the device controlled by the IOService.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">io_connect_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/IORegisterApp" target="_top" class="function"><span class="function">IORegisterApp</span></a>(
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">refcon</span>, 
    <!-- a --><span class="type">io_service_t</span><!-- /a --> <span class="param">theDriver</span>, 
    <!-- a --><span class="type">IONotificationPortRef</span><!-- /a --> <span class="type">*</span><span class="param">thePortRef</span>, 
    <a href="../IOKitLib_h/index.html#//apple_ref/c/tdef/IOServiceInterestCallback" target="_top" class="type"><span class="type">IOServiceInterestCallback</span></a> <span class="param">callback</span>, 
    <!-- a --><span class="type">io_object_t</span><!-- /a --> <span class="type">*</span><span class="param">notifier</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>refcon</code></dt>
<dd><p>Data returned on power state change notifications and not used by the kernel.</p></dd>
<dt><code>theDriver</code></dt>
<dd><p>Representation of the IOService, probably from IOServiceGetMatchingService.</p></dd>
<dt><code>thePortRef</code></dt>
<dd><p>Pointer to a port on which the caller will receive power state change notifications. The port is allocated by the calling application.</p></dd>
<dt><code>callback</code></dt>
<dd><p>A c-function which is called during the notification.</p></dd>
<dt><code>notifier</code></dt>
<dd><p>Pointer to a notifier which caller must keep and pass to subsequent call to IODeregisterApp.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a io_connect_t session for the IOService or MACH_PORT_NULL if request failed. Caller must close return value via IOServiceClose() after calling IODeregisterApp on the notifier argument.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>IORegisterApp requires that the IOService of interest implement an IOUserClient. In addition, that IOUserClient must implement the allowPowerChange and cancelPowerChange methods defined in IOPMLibDefs.h. If you're interested in receiving power state notifications from a device without an IOUserClient, try using IOServiceAddInterestNotification with interest type gIOGeneralInterest instead.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/IORegisterForSystemPower;   name=IORegisterForSystemPower --><a name="//apple_ref/c/func/IORegisterForSystemPower"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IORegisterForSystemPower">IORegisterForSystemPower</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Connects the caller to the Root Power Domain  IOService for the purpose of receiving Sleep, Wake, ShutDown, PowerUp notifications for the System.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">io_connect_t</span><!-- /a --> <a href="index.html#//apple_ref/c/func/IORegisterForSystemPower" target="_top" class="function"><span class="function">IORegisterForSystemPower</span></a> (
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">refcon</span>, 
    <!-- a --><span class="type">IONotificationPortRef</span><!-- /a --> <span class="type">*</span><span class="param">thePortRef</span>, 
    <a href="../IOKitLib_h/index.html#//apple_ref/c/tdef/IOServiceInterestCallback" target="_top" class="type"><span class="type">IOServiceInterestCallback</span></a> <span class="param">callback</span>, 
    <!-- a --><span class="type">io_object_t</span><!-- /a --> <span class="type">*</span><span class="param">notifier</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>refcon</code></dt>
<dd><p>Data returned on power state change notifications and not used by the kernel.</p></dd>
<dt><code>thePortRef</code></dt>
<dd><p>Pointer to a port on which the caller will receive power state change notifications. The port is allocated by this function and must be later released by the caller (after IODeregisterForSystemPower).</p></dd>
<dt><code>callback</code></dt>
<dd><p>A c-function which is called during the notification.</p></dd>
<dt><code>notifier</code></dt>
<dd><p>On success, returns a pointer to a unique notifier which caller must keep and pass to a subsequent call to IODeregisterForSystemPower.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a io_connect_t session for the IOPMrootDomain or MACH_PORT_NULL if request failed. Caller must close return value via IOServiceClose() after calling IODeregisterForSystemPower on the notifier argument.

<!-- end return value --></p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/IOKit/IOPMLib_h/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/IOKit/IOPMLib_h/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/IOKit/IOPMLib_h/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&nbsp;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2009-02-23
</div>
<!-- headerDoc=Header;  uid=//apple_ref/doc/header/IOPMLib.h;   name=IOPMLib.h --><a name="//apple_ref/doc/header/IOPMLib.h"></a>
</body>
</html>
