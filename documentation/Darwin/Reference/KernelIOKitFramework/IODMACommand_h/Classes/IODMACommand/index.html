<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>IODMACommand</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/class/IODMACommand" title="IODMACommand"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IODMACommand">IODMACommand</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Inherits from:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<a href="../../../IOCommand_h/Classes/IOCommand/index.html#//apple_ref/cpp/cl/IOCommand" target="_top">IOCommand</a>
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IODMACommand.h</a></div></div></td>
</tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>A mechanism to convert memory references to I/O bus addresses.
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IODMACommand is supersedes the IOMemoryCursor and greatly enhances the functionality and power of it.  The command can be specified to output 64-bit physical addresses and also allows driver writers to bypass mapping hardware or get addresses suitable for non-snooped DMA.
<br><br>
IODMAcommand is designed to be very easily subclassable.  Most driver writers need to associate some DMA operations with their memory descriptor and usually use a C structure for that purpose.  This structure is often kept in a linked list.  The IODMACommand has built-in <kern> linkage and can be derived and 'public:' variables added, giving the developer a structure that can associate a memory descriptor with a particular DMA command but will also allow the developer to generate that command and keep the state necessary for tracking it.
<br><br>
It is envisaged that a pool of IODMACommands will be created at driver initialization and that each command will be kept in an IOCommandPool while not in use.  However, if developers wish to maintain their own free lists that is certainly possible.  See the <kern> and <iokit> for more information on manipulating the command's doubly linked list entries.
<br><br>
The IODMACommand can be used in a 'weak-linked' manner.  To do this you must avoid using any static member functions.  Use the much slower but safe weakWithSpecification function.  On success a DMA command instance will be returned.  This instance can then be used to clone as many commands as is needed.  Remember deriving from this class cannot be done weakly, in other words, no weak subclassing!
<!-- end discussion -->
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/clearMemoryDescriptor/IOReturn/(bool)" target="_top">clearMemoryDescriptor</a></tt></dt>
<dd><p>Clears the DMACommand's current memory descriptor
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/cloneCommand/IODMACommand*/(void*)" target="_top">cloneCommand</a></tt></dt>
<dd><p>Creates a new command based on the specification of the current one.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/complete/IOReturn/(bool,bool)" target="_top">complete</a></tt></dt>
<dd><p>Complete processing of DMA mappings after an I/O transfer is finished.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/gen32IOVMSegments/inlineIOReturn/(UInt64*,Segment32*,UInt32*)" target="_top">gen32IOVMSegments</a></tt></dt>
<dd><p>Helper function for a type checked call to genIOVMSegments(qv), for use with an IODMACommand set up with the output function kIODMACommandOutputHost32, kIODMACommandOutputBig32, or kIODMACommandOutputLittle32. If the output function of the IODMACommand is not a 32 bit function, results will be incorrect.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/gen64IOVMSegments/inlineIOReturn/(UInt64*,Segment64*,UInt32*)" target="_top">gen64IOVMSegments</a></tt></dt>
<dd><p>Helper function for a type checked call to genIOVMSegments(qv), for use with an IODMACommand set up with the output function kIODMACommandOutputHost64, kIODMACommandOutputBig64, or kIODMACommandOutputLittle64. If the output function of the IODMACommand is not a 64 bit function, results will be incorrect.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/genIOVMSegments/IOReturn/(UInt64*,void*,UInt32*)" target="_top">genIOVMSegments</a></tt></dt>
<dd><p>Generates a physical scatter/gather for the current DMA command
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/getMemoryDescriptor/constIOMemoryDescriptor*/()" target="_top">getMemoryDescriptor</a></tt></dt>
<dd><p>Get the current memory descriptor
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/initWithSpecification/bool/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*)" target="_top">initWithSpecification</a></tt></dt>
<dd><p>Primary initializer for the IODMACommand class. 
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/OutputBig32/bool/(IODMACommand*,Segment64,void*,UInt32)" target="_top">OutputBig32</a></tt></dt>
<dd><p>Output big-endian Segment32 output segment function.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/OutputBig64/bool/(IODMACommand*,Segment64,void*,UInt32)" target="_top">OutputBig64</a></tt></dt>
<dd><p>Output big-endian Segment64 output segment function.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/OutputHost32/bool/(IODMACommand*,Segment64,void*,UInt32)" target="_top">OutputHost32</a></tt></dt>
<dd><p>Output host natural Segment32 output segment function.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/OutputHost64/bool/(IODMACommand*,Segment64,void*,UInt32)" target="_top">OutputHost64</a></tt></dt>
<dd><p>Output host natural Segment64 output segment function.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/OutputLittle32/bool/(IODMACommand*,Segment64,void*,UInt32)" target="_top">OutputLittle32</a></tt></dt>
<dd><p>Output little-endian Segment32 output segment function.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/OutputLittle64/bool/(IODMACommand*,Segment64,void*,UInt32)" target="_top">OutputLittle64</a></tt></dt>
<dd><p>Output little-endian Segment64 output segment function.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/prepare/IOReturn/(UInt64,UInt64,bool,bool)" target="_top">prepare</a></tt></dt>
<dd><p>Prepare the memory for an I/O transfer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/prepareWithSpecification/IOReturn/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,UInt64,UInt64,bool,bool)" target="_top">prepareWithSpecification</a></tt></dt>
<dd><p>Prepare the memory for an I/O transfer with a new specification.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/readBytes/UInt64/(UInt64,void*,UInt64)" target="_top">readBytes</a></tt></dt>
<dd><p>Copy data from the IODMACommand's buffer to the specified buffer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/setMemoryDescriptor/IOReturn/(constIOMemoryDescriptor*,bool)" target="_top">setMemoryDescriptor</a></tt></dt>
<dd><p>Sets and resets the DMACommand's current memory descriptor
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/synchronize/IOReturn/(IOOptionBits)" target="_top">synchronize</a></tt></dt>
<dd><p>Bring IOMemoryDescriptor and IODMACommand buffers into sync.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/weakWithSpecification/inlineIOReturn/(IODMACommand**,SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*)" target="_top">weakWithSpecification</a></tt></dt>
<dd><p>Creates and initializes an IODMACommand in one operation if this version of the operating system supports it.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/clm/IODMACommand/withSpecification/IODMACommand*/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*)" target="_top">withSpecification</a></tt></dt>
<dd><p>Creates and initializes an IODMACommand in one operation.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IODMACommand/writeBytes/UInt64/(UInt64,constvoid*,UInt64)" target="_top">writeBytes</a></tt></dt>
<dd><p>Copy data to the IODMACommand's buffer from the specified buffer.
</p></dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/clearMemoryDescriptor/IOReturn/(bool);   name=IODMACommand::clearMemoryDescriptor --><a name="//apple_ref/cpp/instm/IODMACommand/clearMemoryDescriptor/IOReturn/(bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="clearMemoryDescriptor">clearMemoryDescriptor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Clears the DMACommand's current memory descriptor
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">clearMemoryDescriptor</span><!-- /a -->(
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">autoComplete</span><!-- /a --> = <span class="keyword">true</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>autoComplete</code></dt>
<dd><p>An optional boolean variable that will call the complete() function automatically before the memory descriptor is processed. Defaults to true.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>completes and invalidates the cache if the DMA command is currently active, copies all data from bounce buffers if necessary and releases all resources acquired during setMemoryDescriptor.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/cloneCommand/IODMACommand*/(void*);   name=IODMACommand::cloneCommand --><a name="//apple_ref/cpp/instm/IODMACommand/cloneCommand/IODMACommand*/(void*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="cloneCommand">cloneCommand</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates a new command based on the specification of the current one.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><!-- a --><span class="function">cloneCommand</span><!-- /a -->(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><!-- a --><span class="type">refCon</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a new IODMACommand object if successfully created and initialized, 0 otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Factory function to create and initialize an IODMACommand in one operation.  The current command's specification will be duplicated in the new object, but none of its state will be duplicated.  This means that it is safe to clone a command even if it is currently active and running, however you must be certain that the command to be duplicated does have a valid reference for the duration.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/complete/IOReturn/(bool,bool);   name=IODMACommand::complete --><a name="//apple_ref/cpp/instm/IODMACommand/complete/IOReturn/(bool,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="complete">complete</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Complete processing of DMA mappings after an I/O transfer is finished.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="../../../IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/complete" target="_top" class="function"><span class="function">complete</span></a>(
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">invalidateCache</span><!-- /a --> = <span class="keyword">true</span>,
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">synchronize</span><!-- /a --> = <span class="keyword">true</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>invalidCache</code></dt>
<dd><p>Invalidate the caches for the memory descriptor.  Defaults to true for kNonCoherent and is ignored by the other types.</p></dd>
<dt><code>synchronize</code></dt>
<dd><p>Copy any buffered data back to the target IOMemoryDescriptor.  Defaults to true, if synchronize() is being used to explicitly copy data, passing false may avoid an unneeded copy.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->kIOReturnNotReady if not prepared, kIOReturnSuccess otherwise. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method should not be called unless a prepare was previously issued; the prepare() and complete() must occur in pairs, before and after an I/O transfer
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/gen32IOVMSegments/inlineIOReturn/(UInt64*,Segment32*,UInt32*);   name=IODMACommand::gen32IOVMSegments --><a name="//apple_ref/cpp/instm/IODMACommand/gen32IOVMSegments/inlineIOReturn/(UInt64*,Segment32*,UInt32*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="gen32IOVMSegments">gen32IOVMSegments</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Helper function for a type checked call to genIOVMSegments(qv), for use with an IODMACommand set up with the output function kIODMACommandOutputHost32, kIODMACommandOutputBig32, or kIODMACommandOutputLittle32. If the output function of the IODMACommand is not a 32 bit function, results will be incorrect.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">inline</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">gen32IOVMSegments</span><!-- /a -->(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="type">*</span><span class="param">offset</span>, 
    <!-- a --><span class="type">Segment32</span><!-- /a --> <span class="type">*</span><span class="param">segments</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">numSegments</span>) ;</pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/gen64IOVMSegments/inlineIOReturn/(UInt64*,Segment64*,UInt32*);   name=IODMACommand::gen64IOVMSegments --><a name="//apple_ref/cpp/instm/IODMACommand/gen64IOVMSegments/inlineIOReturn/(UInt64*,Segment64*,UInt32*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="gen64IOVMSegments">gen64IOVMSegments</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Helper function for a type checked call to genIOVMSegments(qv), for use with an IODMACommand set up with the output function kIODMACommandOutputHost64, kIODMACommandOutputBig64, or kIODMACommandOutputLittle64. If the output function of the IODMACommand is not a 64 bit function, results will be incorrect.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">inline</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">gen64IOVMSegments</span><!-- /a -->(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="type">*</span><span class="param">offset</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="type">*</span><span class="param">segments</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">numSegments</span>) ;</pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/genIOVMSegments/IOReturn/(UInt64*,void*,UInt32*);   name=IODMACommand::genIOVMSegments --><a name="//apple_ref/cpp/instm/IODMACommand/genIOVMSegments/IOReturn/(UInt64*,void*,UInt32*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="genIOVMSegments">genIOVMSegments</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Generates a physical scatter/gather for the current DMA command
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">genIOVMSegments</span><!-- /a -->(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="type">*</span><span class="param">offset</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segments</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">numSegments</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>offset</code></dt>
<dd><p>input/output parameter, defines the starting and ending offset in the memory descriptor, relative to any offset passed to the prepare() method.</p></dd>
<dt><code>segments</code></dt>
<dd><p>Void pointer to base of output physical scatter/gather list.  Always passed directly onto the SegmentFunction.</p></dd>
<dt><code>numSegments</code></dt>
<dd><p>Input/output parameter Number of segments that can fit in the segment array and returns number of segments generated.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->kIOReturnSuccess on success, kIOReturnOverrun if the memory descriptor is exhausted, kIOReturnMessageTooLarge if the output segment function's address bits has insufficient resolution for a segment, kIOReturnNotReady if the DMA command has not be prepared, kIOReturnBadArgument if the DMA command doesn't have a memory descriptor yet or some of the parameters are NULL and kIOReturnNotReady if the DMA command is not prepared.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Generates a list of physical segments from the given memory descriptor, relative to the current position of the descriptor.  The constraints that are set during initialisation will be respected. This function maintains the state across multiple calls for efficiency.  However the state is discarded if the new offset is not the expected one.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/getMemoryDescriptor/constIOMemoryDescriptor*/();   name=IODMACommand::getMemoryDescriptor --><a name="//apple_ref/cpp/instm/IODMACommand/getMemoryDescriptor/constIOMemoryDescriptor*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getMemoryDescriptor">getMemoryDescriptor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Get the current memory descriptor
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <span class="keyword">const</span> <!-- a --><span class="var">IOMemoryDescriptor</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">getMemoryDescriptor</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/initWithSpecification/bool/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*);   name=IODMACommand::initWithSpecification --><a name="//apple_ref/cpp/instm/IODMACommand/initWithSpecification/bool/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="initWithSpecification">initWithSpecification</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Primary initializer for the IODMACommand class. 
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">initWithSpecification</span><!-- /a -->(
    <!-- a --><span class="type">SegmentFunction</span><!-- /a --> <span class="param">outSegFunc</span>, 
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">numAddressBits</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">maxSegmentSize</span>, 
    <!-- a --><span class="type">MappingOptions</span><!-- /a --> <!-- a --><span class="type">mappingOptions</span><!-- /a --> = <span class="param">kMapped</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">maxTransferSize</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">alignment</span><!-- /a --> = <span class="number">1</span>, 
    <!-- a --><span class="type">IOMapper</span><!-- /a --> <span class="type">*</span><!-- a --><span class="type">mapper</span><!-- /a --> = <span class="number">0</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><!-- a --><span class="type">refCon</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>outSegFunc</code></dt>
<dd><p>SegmentFunction to call to output one physical segment. A set of nine commonly required segment functions are provided.</p></dd>
<dt><code>numAddressBits</code></dt>
<dd><p>Number of bits that the hardware uses on its internal address bus. Typically 32 but may be more on modern hardware.  A 0 implies no restriction other than that implied by the output segment function.</p></dd>
<dt><code>maxSegmentSize</code></dt>
<dd><p>Maximum allowable size for one segment.  Defaults to 0, which means any size.</p></dd>
<dt><code>mappingOptions</code></dt>
<dd><p>The type of mapping that is required to translate an IOMemoryDescriptor into the desired number of bits.  For example, if your hardware only supports 32 bits but must run on machines with &gt; 4G of RAM some mapping will be required.  Number of bits will be specified in <code>numAddressBits</code>, see below.This parameter can take 3 values- <code>kNonCoherent</code> - used for non-coherent hardware transfers, <code>Mapped</code> - validates that all I/O bus generated addresses are within the number of addressing bits specified, <code>Bypassed</code> indicates that bypassed addressing is required (this is used when the hardware transferes are into coherent memory but no mapping is required).  See <a href="index.html#//apple_ref/cpp/instm/IODMACommand/prepare/IOReturn/(UInt64,UInt64,bool,bool)" target="_top">prepare</a>  for failure cases.</p></dd>
<dt><code>maxTransferSize</code></dt>
<dd><p>Maximum size of an entire transfer.        Defaults to 0 indicating no maximum.</p></dd>
<dt><code>alignment</code></dt>
<dd><p>Alignment restriction, in bytes, on I/O bus addresses. Defaults to single byte alignment. Not currently implemented.</p></dd>
<dt><code>mapper</code></dt>
<dd><p>For mapping types <code>kMapped</code> and <code>kBypassed</code> mapper is used to define the hardware that will perform the mapping, defaults to the system mapper.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Can fail if the mapping type is not recognized, if one of the 3 mandatory parameters are set to 0, if a 32 bit output function is selected when more than 32 bits of address is required or, if <code>kBypassed</code> is requested on a machine that doesn't support bypassing.  Returns true otherwise.

<!-- end return value --></p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/OutputBig32/bool/(IODMACommand*,Segment64,void*,UInt32);   name=IODMACommand::OutputBig32 --><a name="//apple_ref/cpp/clm/IODMACommand/OutputBig32/bool/(IODMACommand*,Segment64,void*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OutputBig32">OutputBig32</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output big-endian Segment32 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">OutputBig32</span><!-- /a -->(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">seg</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segs</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">ind</span>); </pre>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/OutputBig64/bool/(IODMACommand*,Segment64,void*,UInt32);   name=IODMACommand::OutputBig64 --><a name="//apple_ref/cpp/clm/IODMACommand/OutputBig64/bool/(IODMACommand*,Segment64,void*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OutputBig64">OutputBig64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output big-endian Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">OutputBig64</span><!-- /a -->(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">seg</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segs</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">ind</span>); </pre>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/OutputHost32/bool/(IODMACommand*,Segment64,void*,UInt32);   name=IODMACommand::OutputHost32 --><a name="//apple_ref/cpp/clm/IODMACommand/OutputHost32/bool/(IODMACommand*,Segment64,void*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OutputHost32">OutputHost32</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output host natural Segment32 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">OutputHost32</span><!-- /a -->(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">seg</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segs</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">ind</span>); </pre>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/OutputHost64/bool/(IODMACommand*,Segment64,void*,UInt32);   name=IODMACommand::OutputHost64 --><a name="//apple_ref/cpp/clm/IODMACommand/OutputHost64/bool/(IODMACommand*,Segment64,void*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OutputHost64">OutputHost64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output host natural Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">OutputHost64</span><!-- /a -->(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">seg</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segs</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">ind</span>); </pre>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/OutputLittle32/bool/(IODMACommand*,Segment64,void*,UInt32);   name=IODMACommand::OutputLittle32 --><a name="//apple_ref/cpp/clm/IODMACommand/OutputLittle32/bool/(IODMACommand*,Segment64,void*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OutputLittle32">OutputLittle32</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output little-endian Segment32 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">OutputLittle32</span><!-- /a -->(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">seg</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segs</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">ind</span>); </pre>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/OutputLittle64/bool/(IODMACommand*,Segment64,void*,UInt32);   name=IODMACommand::OutputLittle64 --><a name="//apple_ref/cpp/clm/IODMACommand/OutputLittle64/bool/(IODMACommand*,Segment64,void*,UInt32)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OutputLittle64">OutputLittle64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output little-endian Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">OutputLittle64</span><!-- /a -->(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">seg</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segs</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">ind</span>); </pre>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/prepare/IOReturn/(UInt64,UInt64,bool,bool);   name=IODMACommand::prepare --><a name="//apple_ref/cpp/instm/IODMACommand/prepare/IOReturn/(UInt64,UInt64,bool,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="prepare">prepare</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Prepare the memory for an I/O transfer.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="../../../IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/prepare" target="_top" class="function"><span class="function">prepare</span></a>(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">offset</span><!-- /a --> = <span class="number">0</span>,
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">length</span><!-- /a --> = <span class="number">0</span>,
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">flushCache</span><!-- /a --> = <span class="keyword">true</span>,
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">synchronize</span><!-- /a --> = <span class="keyword">true</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>offset</code></dt>
<dd><p>defines the starting offset in the memory descriptor the DMA command will operate on. genIOVMSegments will produce its results based on the offset and length passed to the prepare method.</p></dd>
<dt><code>length</code></dt>
<dd><p>defines the ending position in the memory descriptor the DMA command will operate on. genIOVMSegments will produce its results based on the offset and length passed to the prepare method.</p></dd>
<dt><code>flushCache</code></dt>
<dd><p>Flush the caches for the memory descriptor and make certain that the memory cycles are complete.  Defaults to true for kNonCoherent and is ignored by the other types.</p></dd>
<dt><code>synchronize</code></dt>
<dd><p>Copy any buffered data back from the target IOMemoryDescriptor.  Defaults to true, if synchronize() is being used to explicitly copy data, passing false may avoid an unneeded copy.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->An IOReturn code. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate the mapping resources neccessary for this transfer, specifying a sub range of the IOMemoryDescriptor that will be the target of the I/O.  The complete() method frees these resources.  Data may be copied to buffers for kIODirectionOut memory descriptors, depending on hardware mapping resource availabilty or alignment restrictions.  It should be noted that the this function may block and should only be called on the clients context, i.e never call this routine while gated; also the call itself is not thread safe though this should be an issue as each IODMACommand is independant.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/prepareWithSpecification/IOReturn/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,UInt64,UInt64,bool,bool);   name=IODMACommand::prepareWithSpecification --><a name="//apple_ref/cpp/instm/IODMACommand/prepareWithSpecification/IOReturn/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,UInt64,UInt64,bool,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="prepareWithSpecification">prepareWithSpecification</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Prepare the memory for an I/O transfer with a new specification.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">prepareWithSpecification</span><!-- /a -->(
    <!-- a --><span class="type">SegmentFunction</span><!-- /a --> <span class="param">outSegFunc</span>, 
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">numAddressBits</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">maxSegmentSize</span>, 
    <!-- a --><span class="type">MappingOptions</span><!-- /a --> <!-- a --><span class="type">mappingOptions</span><!-- /a --> = <span class="param">kMapped</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">maxTransferSize</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">alignment</span><!-- /a --> = <span class="number">1</span>, 
    <!-- a --><span class="type">IOMapper</span><!-- /a --> <span class="type">*</span><!-- a --><span class="type">mapper</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">offset</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">length</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">flushCache</span><!-- /a --> = <span class="keyword">true</span>, 
    <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="type">synchronize</span><!-- /a --> = <span class="keyword">true</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>outSegFunc</code></dt>
<dd><p>SegmentFunction to call to output one physical segment. A set of nine commonly required segment functions are provided.</p></dd>
<dt><code>numAddressBits</code></dt>
<dd><p>Number of bits that the hardware uses on its internal address bus. Typically 32 but may be more on modern hardware.  A 0 implies no-restriction other than that implied by the output segment function.</p></dd>
<dt><code>maxSegmentSize</code></dt>
<dd><p>Maximum allowable size for one segment.  Defaults to 0 which means any size.</p></dd>
<dt><code>mappingOptions</code></dt>
<dd><p>is the type of mapping that is required to translate an IOMemoryDescriptor into the desired number of bits.  For instance if your hardware only supports 32 bits but must run on machines with &gt; 4G of RAM some mapping will be required.  Number of bits will be specified in numAddressBits, see below.This parameter can take 3 values:- kNonCoherent - used for non-coherent hardware transfers, Mapped - Validate that all I/O bus generated addresses are within the number of addressing bits specified, Bypassed indicates that bypassed addressing is required, this is used when the hardware transferes are into coherent memory but no mapping is required.  See also prepare() for failure cases.</p></dd>
<dt><code>maxTransferSize</code></dt>
<dd><p>Maximum size of an entire transfer.        Defaults to 0 indicating no maximum.</p></dd>
<dt><code>alignment</code></dt>
<dd><p>Alignment restriction, in bytes, on I/O bus addresses.  Defaults to single byte alignment.</p></dd>
<dt><code>mapper</code></dt>
<dd><p>For mapping types kMapped &amp; kBypassed mapper is used to define the hardware that will perform the mapping, defaults to the system mapper.</p></dd>
<dt><code>offset</code></dt>
<dd><p>defines the starting offset in the memory descriptor the DMA command will operate on. genIOVMSegments will produce its results based on the offset and length passed to the prepare method.</p></dd>
<dt><code>length</code></dt>
<dd><p>defines the ending position in the memory descriptor the DMA command will operate on. genIOVMSegments will produce its results based on the offset and length passed to the prepare method.</p></dd>
<dt><code>flushCache</code></dt>
<dd><p>Flush the caches for the memory descriptor and make certain that the memory cycles are complete.  Defaults to true for kNonCoherent and is ignored by the other types.</p></dd>
<dt><code>synchronize</code></dt>
<dd><p>Copy any buffered data back from the target IOMemoryDescriptor.  Defaults to true, if synchronize() is being used to explicitly copy data, passing false may avoid an unneeded copy.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->An IOReturn code. Can fail if the mapping type is not recognised, if one of the 3 mandatory parameters are set to 0, if a 32 bit output function is selected when more than 32 bits of address is required or, if kBypassed is requested on a machine that doesn't support bypassing.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Allocate the mapping resources neccessary for this transfer, specifying a sub range of the IOMemoryDescriptor that will be the target of the I/O.  The complete() method frees these resources.  Data may be copied to buffers for kIODirectionOut memory descriptors, depending on hardware mapping resource availabilty or alignment restrictions.  It should be noted that the this function may block and should only be called on the clients context, i.e never call this routine while gated; also the call itself is not thread safe though this should be an issue as each IODMACommand is independant.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/readBytes/UInt64/(UInt64,void*,UInt64);   name=IODMACommand::readBytes --><a name="//apple_ref/cpp/instm/IODMACommand/readBytes/UInt64/(UInt64,void*,UInt64)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="readBytes">readBytes</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Copy data from the IODMACommand's buffer to the specified buffer.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="function">readBytes</span><!-- /a -->(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">offset</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">bytes</span>,
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">length</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>offset</code></dt>
<dd><p>A byte offset into the IODMACommand's memory, relative to the prepared offset.</p></dd>
<dt><code>bytes</code></dt>
<dd><p>The caller supplied buffer to copy the data to.</p></dd>
<dt><code>length</code></dt>
<dd><p>The length of the data to copy.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The number of bytes copied, zero will be returned if the specified offset is beyond the prepared length of the IODMACommand. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method copies data from the IODMACommand's memory at the given offset, to the caller's buffer. The IODMACommand must be prepared, and the offset is relative to the prepared offset.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/setMemoryDescriptor/IOReturn/(constIOMemoryDescriptor*,bool);   name=IODMACommand::setMemoryDescriptor --><a name="//apple_ref/cpp/instm/IODMACommand/setMemoryDescriptor/IOReturn/(constIOMemoryDescriptor*,bool)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setMemoryDescriptor">setMemoryDescriptor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets and resets the DMACommand's current memory descriptor
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="../../../IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/setMemoryDescriptor" target="_top" class="function"><span class="function">setMemoryDescriptor</span></a>(
    <span class="keyword">const</span> <!-- a --><span class="var">IOMemoryDescriptor</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">mem</span><!-- /a -->, 
    <!-- a --><span class="var">bool</span><!-- /a --> <!-- a --><span class="var">autoPrepare</span><!-- /a --> = <!-- a --><span class="var">true</span><!-- /a -->); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mem</code></dt>
<dd><p>A pointer to the current I/Os memory descriptor.</p></dd>
<dt><code>autoPrepare</code></dt>
<dd><p>An optional boolean variable that will call the prepare() function automatically after the memory descriptor is processed. Defaults to true.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess, kIOReturnBusy if currently prepared, kIOReturnNoSpace if the length(mem) &gt;= Maximum Transfer Size or the error codes returned by prepare() (qv).

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The DMA command will configure itself based on the information that it finds in the memory descriptor.  It looks for things like the direction of the memory descriptor and whether the current memory descriptor is already mapped into some IOMMU.  As a programmer convenience it can also prepare the memory descriptor immediately.  See prepare().  Note the IODMACommand is designed to used multiple times with a succession of memory descriptors, making the pooling of commands possible.  It is an error though to attempt to reset a currently prepared() DMA command.  Warning: This routine may block so never try to autoprepare an IODMACommand while in a gated context, i.e. one of the WorkLoops action call outs.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/synchronize/IOReturn/(IOOptionBits);   name=IODMACommand::synchronize --><a name="//apple_ref/cpp/instm/IODMACommand/synchronize/IOReturn/(IOOptionBits)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="synchronize">synchronize</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Bring IOMemoryDescriptor and IODMACommand buffers into sync.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <a href="../../../IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/synchronize" target="_top" class="function"><span class="function">synchronize</span></a>(
    <a href="../../../USB_h/index.html#//apple_ref/c/tag/IOOptionBits" target="_top" class="type"><span class="type">IOOptionBits</span></a> <span class="param">options</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>options</code></dt>
<dd><p>Specifies the direction of the copy:
kIODirectionOut copy IOMemoryDesciptor memory to any IODMACommand buffers. By default this action takes place automatically at prepare().
kIODirectionIn copy any IODMACommand buffers back to the IOMemoryDescriptor. By default this action takes place automatically at complete().
kForceDoubleBuffer copy the entire prepared range to a new page aligned buffer.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->kIOReturnNotReady if not prepared, kIOReturnBadArgument if invalid options are passed, kIOReturnSuccess otherwise. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method should not be called unless a prepare was previously issued. If needed a caller may synchronize any IODMACommand buffers with the original IOMemoryDescriptor buffers.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/weakWithSpecification/inlineIOReturn/(IODMACommand**,SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*);   name=IODMACommand::weakWithSpecification --><a name="//apple_ref/cpp/clm/IODMACommand/weakWithSpecification/inlineIOReturn/(IODMACommand**,SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="weakWithSpecification">weakWithSpecification</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates and initializes an IODMACommand in one operation if this version of the operating system supports it.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <span class="keyword">inline</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">weakWithSpecification</span><!-- /a --> (
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="type">*</span><span class="param">newCommand</span>, 
    <!-- a --><span class="type">SegmentFunction</span><!-- /a --> <span class="param">outSegFunc</span>, 
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">numAddressBits</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">maxSegmentSize</span>, 
    <!-- a --><span class="type">MappingOptions</span><!-- /a --> <!-- a --><span class="type">mapType</span><!-- /a --> = <span class="param">kMapped</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">maxTransferSize</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">alignment</span><!-- /a --> = <span class="number">1</span>, 
    <!-- a --><span class="type">IOMapper</span><!-- /a --> <span class="type">*</span><!-- a --><span class="type">mapper</span><!-- /a --> = <span class="number">0</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><!-- a --><span class="type">refCon</span><!-- /a --> = <span class="number">0</span>) <span class="keyword">__attribute__</span>((<!-- a --><span class="var">always_inline</span><!-- /a -->)); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>newCommand</code></dt>
<dd><p>Output reference variable of the newly created IODMACommand.</p></dd>
<dt><code>outSegFunc</code></dt>
<dd><p>SegmentFunction to call to output one physical segment. A set of nine commonly required segment functions are provided.</p></dd>
<dt><code>numAddressBits</code></dt>
<dd><p>Number of bits that the hardware uses on its internal address bus. Typically 32 but may be more on modern hardware.  A 0 implies no restriction other than that implied by the output segment function.</p></dd>
<dt><code>maxSegmentSize</code></dt>
<dd><p>Maximum allowable size for one segment.  Defaults to 0, which means any size.</p></dd>
<dt><code>mapType</code></dt>
<dd><p>The type of mapping that is required to translate an IOMemoryDescriptor into the desired number of bits.  For example, if your hardware only supports 32 bits but must run on machines with &gt; 4G of RAM some mapping will be required.  Number of bits will be specified in <code>numAddressBits</code>, see below.  This parameter can take 3 values: <code>kNonCoherent</code> - used for non-coherent hardware transfers, <code>Mapped</code> - validates that all I/O bus generated addresses are within the number of addressing bits specified, <code>Bypassed</code> - indicates that bypassed addressing is required (this is used when the hardware transfers are into coherent memory but no mapping is required).  See <a href="index.html#//apple_ref/cpp/instm/IODMACommand/prepare/IOReturn/(UInt64,UInt64,bool,bool)" target="_top">prepare</a>  for failure cases.</p></dd>
<dt><code>maxTransferSize</code></dt>
<dd><p>Maximum size of an entire transfer.  Defaults to 0 indicating no maximum.</p></dd>
<dt><code>alignment</code></dt>
<dd><p>Alignment restriction, in bytes, on I/O bus addresses. Defaults to single byte alignment. Not currently implemented.</p></dd>
<dt><code>mapper</code></dt>
<dd><p>For mapping types <code>kMapped</code> and <code>kBypassed</code> mapper is used to define the hardware that will perform the mapping, defaults to the system mapper.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->kIOReturnSuccess if everything is OK, otherwise <code>kIOReturnBadArgument</code> if <code>newCommand</code> is NULL; <code>kIOReturnUnsupported</code> if the kernel doesn't export IODMACommand; <code>IOReturnError</code> if the new command fails to init (see  <a href="index.html#//apple_ref/cpp/instm/IODMACommand/initWithSpecification/bool/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*)" target="_top">initWithSpecification</a>).

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Factory function to create and initialize an IODMACommand in one operation.  The function allows a developer to 'weak' link with IODMACommand.  This function will return kIOReturnUnsupported if the IODMACommand is unavailable.  This function is actually fairly slow so it will be better to call it once and then clone the successfully created command using <a href="index.html#//apple_ref/cpp/instm/IODMACommand/cloneCommand/IODMACommand*/(void*)" target="_top">cloneCommand</a>.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=clm;  uid=//apple_ref/cpp/clm/IODMACommand/withSpecification/IODMACommand*/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*);   name=IODMACommand::withSpecification --><a name="//apple_ref/cpp/clm/IODMACommand/withSpecification/IODMACommand*/(SegmentFunction,UInt8,UInt64,MappingOptions,UInt64,UInt32,IOMapper*,void*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="withSpecification">withSpecification</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates and initializes an IODMACommand in one operation.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">static</span> <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span> <!-- a --><span class="function">withSpecification</span><!-- /a -->(
    <!-- a --><span class="type">SegmentFunction</span><!-- /a --> <span class="param">outSegFunc</span>, 
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="param">numAddressBits</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">maxSegmentSize</span>, 
    <!-- a --><span class="type">MappingOptions</span><!-- /a --> <!-- a --><span class="type">mappingOptions</span><!-- /a --> = <span class="param">kMapped</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="type">maxTransferSize</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="type">alignment</span><!-- /a --> = <span class="number">1</span>, 
    <!-- a --><span class="type">IOMapper</span><!-- /a --> <span class="type">*</span><!-- a --><span class="type">mapper</span><!-- /a --> = <span class="number">0</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><!-- a --><span class="type">refCon</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>outSegFunc</code></dt>
<dd><p>SegmentFunction to call to output one physical segment. A set of nine commonly required segment functions are provided.</p></dd>
<dt><code>numAddressBits</code></dt>
<dd><p>Number of bits that the hardware uses on its internal address bus. Typically 32 but may be more on modern hardware.  A 0 implies no restriction other than that implied by the output segment function.</p></dd>
<dt><code>maxSegmentSize</code></dt>
<dd><p>Maximum allowable size for one segment.  Defaults to 0, which means any size.</p></dd>
<dt><code>mappingOptions</code></dt>
<dd><p>The type of mapping that is required to translate an IOMemoryDescriptor into the desired number of bits.  For example, if your hardware only supports 32 bits but must run on machines with &gt; 4G of RAM some mapping will be required.  Number of bits will be specified in numAddressBits, see below. This parameter can take 3 values: <code>kNonCoherent</code> - used for non-coherent hardware transfers, <code>Mapped</code> - validates that all I/O bus generated addresses are within the number of addressing bits specified, <code>Bypassed</code> - bypassed addressing is required (this is used when the hardware transfers are into coherent memory but no mapping is required).  See <a href="index.html#//apple_ref/cpp/instm/IODMACommand/prepare/IOReturn/(UInt64,UInt64,bool,bool)" target="_top">prepare</a>  for failure cases.</p></dd>
<dt><code>maxTransferSize</code></dt>
<dd><p>Maximum size of an entire transfer.        Defaults to 0 indicating no maximum.</p></dd>
<dt><code>alignment</code></dt>
<dd><p>Alignment restriction, in bytes, on I/O bus addresses. Defaults to single byte alignment. Not currently implemented.</p></dd>
<dt><code>mapper</code></dt>
<dd><p>For mapping types <code>kMapped</code> and <code>kBypassed</code> mapper is used to define the hardware that will perform the mapping. Defaults to the system mapper.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a new IODMACommand object if successfully created and initialized, 0 otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Factory function to create and initialize an IODMACommand in one operation.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IODMACommand/writeBytes/UInt64/(UInt64,constvoid*,UInt64);   name=IODMACommand::writeBytes --><a name="//apple_ref/cpp/instm/IODMACommand/writeBytes/UInt64/(UInt64,constvoid*,UInt64)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="writeBytes">writeBytes</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Copy data to the IODMACommand's buffer from the specified buffer.
<!-- end abstract --></p>
<p></p>
<pre><tt>public</tt>
<br><!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="function">writeBytes</span><!-- /a -->(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">offset</span>,
    <span class="keyword">const</span> <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">bytes</span><!-- /a -->,
    <!-- a --><span class="var">UInt64</span><!-- /a --> <!-- a --><span class="var">length</span><!-- /a -->); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>offset</code></dt>
<dd><p>A byte offset into the IODMACommand's memory, relative to the prepared offset.</p></dd>
<dt><code>bytes</code></dt>
<dd><p>The caller supplied buffer to copy the data from.</p></dd>
<dt><code>length</code></dt>
<dd><p>The length of the data to copy.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The number of bytes copied, zero will be returned if the specified offset is beyond the prepared length of the IODMACommand. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This method copies data to the IODMACommand's memory at the given offset, from the caller's buffer. The IODMACommand must be prepared, and the offset is relative to the prepared offset.
<!-- end discussion -->
</p>
<p></p>
<h2>Typedefs</h2>
<hr>
<!-- headerDoc=title:tdef;  uid=//apple_ref/doc/title:tdef/IODMACommand/Segment32;   name=IODMACommand::Segment32 --><a name="//apple_ref/doc/title:tdef/IODMACommand/Segment32"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="Segment32">Segment32</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment64" target="_top"><p>Segment64</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/MappingOptions" target="_top"><p>MappingOptions</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tdef/IODMACommand/SegmentFunction" target="_top"><p>SegmentFunction</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><tt>public</tt>
<br><span class="keyword">typedef</span> <!-- a --><span class="type">bool</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">SegmentFunction</span><!-- /a -->)(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">segment</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segments</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">segmentIndex</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>A 32-bit I/O bus address/length pair
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/cpp/tdef/IODMACommand/SegmentFunction;   name=IODMACommand::SegmentFunction --><a name="//apple_ref/cpp/tdef/IODMACommand/SegmentFunction"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SegmentFunction">SegmentFunction</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment64" target="_top"><p>Segment64</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/MappingOptions" target="_top"><p>MappingOptions</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/doc/title:tdef/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><tt>public</tt>
<br><span class="keyword">typedef</span> <!-- a --><span class="type">bool</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">SegmentFunction</span><!-- /a -->)(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">segment</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segments</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">segmentIndex</span>); </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>A 32-bit I/O bus address/length pair
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tdef;  uid=//apple_ref/cpp/tdef/IODMACommand/SegmentFunction_DONTLINK_1;   name=IODMACommand::SegmentFunction --><a name="//apple_ref/cpp/tdef/IODMACommand/SegmentFunction_DONTLINK_1"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="SegmentFunction">SegmentFunction</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">typedef</span> <!-- a --><span class="type">bool</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">SegmentFunction</span><!-- /a -->)(
    <a href="index.html#//apple_ref/cpp/cl/IODMACommand" target="_top" class="type"><span class="type">IODMACommand</span></a> <span class="type">*</span><span class="param">target</span>, 
    <!-- a --><span class="type">Segment64</span><!-- /a --> <span class="param">segment</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">segments</span>, 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">segmentIndex</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>segment</code></dt>
<dd><p>The 64Bit I/O bus address and length.</p></dd>
<dt><code>segments</code></dt>
<dd><p>Base of the output vector of DMA address length pairs.</p></dd>
<dt><code>segmentIndex</code></dt>
<dd><p>Index to output 'segment' in the 'segments' array.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if segment encoding succeeded.  False may be returned if the current segment does not fit in an output segment, i.e. a 38-bit address won't fit into a 32 encoding.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Pointer to a C function that translates a 64 segment and outputs a single desired segment to the array at the requested index. There are a group of pre-implemented SegmentFunctions that may be usefull to the developer below.
<!-- end discussion -->
</p>
<p></p>
<h2>Structs and Unions</h2>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/cpp/tag/IODMACommand/Segment32;   name=IODMACommand::Segment32 --><a name="//apple_ref/cpp/tag/IODMACommand/Segment32"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="Segment32">Segment32</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment64" target="_top"><p>Segment64</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/MappingOptions" target="_top"><p>MappingOptions</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/doc/title:tdef/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tdef/IODMACommand/SegmentFunction" target="_top"><p>SegmentFunction</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><tt>public</tt>
<br><span class="keyword">struct</span> <!-- a --><span class="type">Segment32</span><!-- /a --> { 
    <!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">fIOVMAddr</span><!-- /a -->, <!-- a --><span class="var">fLength</span><!-- /a -->; 
}; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>A 32-bit I/O bus address/length pair
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/cpp/tag/IODMACommand/Segment64;   name=IODMACommand::Segment64 --><a name="//apple_ref/cpp/tag/IODMACommand/Segment64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="Segment64">Segment64</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/MappingOptions" target="_top"><p>MappingOptions</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/doc/title:tdef/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tdef/IODMACommand/SegmentFunction" target="_top"><p>SegmentFunction</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><tt>public</tt>
<br><span class="keyword">struct</span> <!-- a --><span class="type">Segment64</span><!-- /a --> { 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="var">fIOVMAddr</span><!-- /a -->, <!-- a --><span class="var">fLength</span><!-- /a -->; 
}; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>A 32-bit I/O bus address/length pair
<!-- end discussion -->
</p>
<p></p>
<h2>Member Data</h2>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fActive;   name=IODMACommand::fActive --><a name="//apple_ref/cpp/data/IODMACommand/fActive"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fActive">fActive</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">fActive</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>fActive indicates that this DMA command is currently prepared and ready to go<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fAlignMask;   name=IODMACommand::fAlignMask --><a name="//apple_ref/cpp/data/IODMACommand/fAlignMask"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fAlignMask">fAlignMask</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">fAlignMask</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Alignment restriction mask.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fBypassMask;   name=IODMACommand::fBypassMask --><a name="//apple_ref/cpp/data/IODMACommand/fBypassMask"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fBypassMask">fBypassMask</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="var">fBypassMask</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Mask to be OR'ed into the address to bypass the given IOMMU's mapping.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fMapper;   name=IODMACommand::fMapper --><a name="//apple_ref/cpp/data/IODMACommand/fMapper"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fMapper">fMapper</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">IOMapper</span><!-- /a --> <span class="type">*</span><!-- a --><span class="var">fMapper</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Client defined mapper.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fMappingOptions;   name=IODMACommand::fMappingOptions --><a name="//apple_ref/cpp/data/IODMACommand/fMappingOptions"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fMappingOptions">fMappingOptions</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">MappingOptions</span><!-- /a --> <!-- a --><span class="var">fMappingOptions</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>What type of I/O virtual address mapping is required for this command<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fMaxSegmentSize;   name=IODMACommand::fMaxSegmentSize --><a name="//apple_ref/cpp/data/IODMACommand/fMaxSegmentSize"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fMaxSegmentSize">fMaxSegmentSize</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="var">fMaxSegmentSize</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion -->Maximum size of one segment in a scatter/gather list.<!-- end discussion -->
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fMaxTransferSize;   name=IODMACommand::fMaxTransferSize --><a name="//apple_ref/cpp/data/IODMACommand/fMaxTransferSize"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fMaxTransferSize">fMaxTransferSize</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="var">fMaxTransferSize</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Maximum size of a transfer that this memory cursor is allowed to generate.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=clconst;  uid=//apple_ref/cpp/clconst/IODMACommand/fMemory;   name=IODMACommand::fMemory --><a name="//apple_ref/cpp/clconst/IODMACommand/fMemory"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fMemory">fMemory</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">const</span> <!-- a --><span class="var">IOMemoryDescriptor</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">fMemory</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>memory descriptor for current I/O.<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fNumAddressBits;   name=IODMACommand::fNumAddressBits --><a name="//apple_ref/cpp/data/IODMACommand/fNumAddressBits"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fNumAddressBits">fNumAddressBits</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">fNumAddressBits</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Number of bits that the hardware can address<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fNumSegments;   name=IODMACommand::fNumSegments --><a name="//apple_ref/cpp/data/IODMACommand/fNumSegments"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fNumSegments">fNumSegments</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">UInt32</span><!-- /a --> <!-- a --><span class="var">fNumSegments</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Number of contiguous segments required for the current memory descriptor and desired mapping<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fOutSeg;   name=IODMACommand::fOutSeg --><a name="//apple_ref/cpp/data/IODMACommand/fOutSeg"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fOutSeg">fOutSeg</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><!-- a --><span class="type">SegmentFunction</span><!-- /a --> <!-- a --><span class="var">fOutSeg</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion -->The action method called when an event has been delivered<!-- end discussion -->
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/fRefCon;   name=IODMACommand::fRefCon --><a name="//apple_ref/cpp/data/IODMACommand/fRefCon"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="fRefCon">fRefCon</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><!-- a --><span class="var">fRefCon</span><!-- /a -->; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion -->Reference constant, client defined, publicly available<!-- end discussion -->
<p></p>
<hr>
<!-- headerDoc=data;  uid=//apple_ref/cpp/data/IODMACommand/reserved;   name=IODMACommand::reserved --><a name="//apple_ref/cpp/data/IODMACommand/reserved"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="reserved">reserved</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">struct</span> <!-- a --><span class="type">IODMACommandInternal</span><!-- /a --> <span class="type">*</span> <a href="../../../IOFWAddressSpace_h/index.html#//apple_ref/c/data/reserved" target="_top" class="var"><span class="var">reserved</span></a>; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Reserved for future use.  (Internal use only)<!-- end discussion -->
</p>
<p></p>
<h2>Enumerations</h2>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/cpp/tag/IODMACommand/MappingOptions;   name=IODMACommand::MappingOptions --><a name="//apple_ref/cpp/tag/IODMACommand/MappingOptions"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="MappingOptions">MappingOptions</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tag/IODMACommand/Segment64" target="_top"><p>Segment64</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/doc/title:tdef/IODMACommand/Segment32" target="_top"><p>Segment32</p></a>
</dt>
<dd></dd>
<dt>
<a href="index.html#//apple_ref/cpp/tdef/IODMACommand/SegmentFunction" target="_top"><p>SegmentFunction</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><tt>public</tt>
<br><span class="keyword">enum</span> <!-- a --><span class="type">MappingOptions</span><!-- /a --> { 
    <!-- a --><span class="var">kMapped</span><!-- /a --> = <span class="number">0x00000000</span>, 
    <!-- a --><span class="var">kBypassed</span><!-- /a --> = <span class="number">0x00000001</span>, 
    <!-- a --><span class="var">kNonCoherent</span><!-- /a --> = <span class="number">0x00000002</span>, 
    <!-- a --><span class="var">kTypeMask</span><!-- /a --> = <span class="number">0x0000000f</span>,  
    <!-- a --><span class="var">kNoCacheStore</span><!-- /a --> = <span class="number">0x00000010</span>, <span class="comment">// Memory in descriptor</span> 
    <!-- a --><span class="var">kOnChip</span><!-- /a --> = <span class="number">0x00000020</span>, <span class="comment">// Indicates DMA is on South Bridge</span> 
}; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>A 32-bit I/O bus address/length pair
<!-- end discussion -->
</p>
<p></p>
<h2>#defines</h2>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/cpp/macro/kIODMACommandOutputBig32;   name=IODMACommand::kIODMACommandOutputBig32 --><a name="//apple_ref/cpp/macro/kIODMACommandOutputBig32"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputBig32">kIODMACommandOutputBig32</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output big-endian Segment32 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputBig32" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputBig32</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/cpp/macro/kIODMACommandOutputBig64;   name=IODMACommand::kIODMACommandOutputBig64 --><a name="//apple_ref/cpp/macro/kIODMACommandOutputBig64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputBig64">kIODMACommandOutputBig64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output little-endian Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/doc/title:macro/kIODMACommandOutputLittle64" target="_top"><p>kIODMACommandOutputLittle64</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputBig64" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputBig64</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<hr>
<!-- headerDoc=title:macro;  uid=//apple_ref/doc/title:macro/kIODMACommandOutputBig64;   name=IODMACommand::kIODMACommandOutputBig64 --><a name="//apple_ref/doc/title:macro/kIODMACommandOutputBig64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputBig64">kIODMACommandOutputBig64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output big-endian Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputLittle64" target="_top"><p>kIODMACommandOutputLittle64</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputLittle64" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputLittle64</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/cpp/macro/kIODMACommandOutputHost32;   name=IODMACommand::kIODMACommandOutputHost32 --><a name="//apple_ref/cpp/macro/kIODMACommandOutputHost32"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputHost32">kIODMACommandOutputHost32</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output host natural Segment32 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputHost32" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputHost32</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/cpp/macro/kIODMACommandOutputHost64;   name=IODMACommand::kIODMACommandOutputHost64 --><a name="//apple_ref/cpp/macro/kIODMACommandOutputHost64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputHost64">kIODMACommandOutputHost64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output host natural Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputHost64" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputHost64</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/cpp/macro/kIODMACommandOutputLittle32;   name=IODMACommand::kIODMACommandOutputLittle32 --><a name="//apple_ref/cpp/macro/kIODMACommandOutputLittle32"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputLittle32">kIODMACommandOutputLittle32</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output little-endian Segment32 output segment function.
<!-- end abstract --></p>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputLittle32" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputLittle32</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<hr>
<!-- headerDoc=title:macro;  uid=//apple_ref/doc/title:macro/kIODMACommandOutputLittle64;   name=IODMACommand::kIODMACommandOutputLittle64 --><a name="//apple_ref/doc/title:macro/kIODMACommandOutputLittle64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputLittle64">kIODMACommandOutputLittle64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output little-endian Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputBig64" target="_top"><p>kIODMACommandOutputBig64</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputBig64" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputBig64</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/cpp/macro/kIODMACommandOutputLittle64;   name=IODMACommand::kIODMACommandOutputLittle64 --><a name="//apple_ref/cpp/macro/kIODMACommandOutputLittle64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="kIODMACommandOutputLittle64">kIODMACommandOutputLittle64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Output big-endian Segment64 output segment function.
<!-- end abstract --></p>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/doc/title:macro/kIODMACommandOutputBig64" target="_top"><p>kIODMACommandOutputBig64</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/cpp/macro/kIODMACommandOutputLittle64" target="_top" class="preprocessor"><span class="preprocessor">kIODMACommandOutputLittle64</span></a><span class="preprocessor"> </span><span class="ignore"></span><span class="ignore"></span><span class="ignore"></span> </pre>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/IODMACommand_h/Classes/IODMACommand/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/IODMACommand_h/Classes/IODMACommand/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/IODMACommand_h/Classes/IODMACommand/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</iokit></kern></kern></p>
</div>
<!-- headerDoc=cl; uid=//apple_ref/cpp/cl/IODMACommand;  name=IODMACommand--><a name="//apple_ref/cpp/cl/IODMACommand"></a>
</body>
</html>
