<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Alert(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING395></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-394.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-396.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-370.html"><B>Chapter 6 - Dialog Manager</B></A> / <A HREF="Toolbox-386.html"><B>Dialog Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-389.html"><B>Dialog Manager Routines</B></A> / <A HREF="Toolbox-394.html"><B>Creating Alerts</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING395-0></A>
<H3><A NAME=MARKER-9-405></A>Alert</H3>
 <A NAME=MARKER-11-406></A><A NAME=MARKER-2-407></A><A NAME=MARKER-2-408></A>To display an alert box (or, if appropriate for the alert stage, to play an alert sound instead of or in addition to displaying the alert box), you can use the <CODE>Alert</CODE> function. This function does not display a default icon in the upper-left corner of the alert box; <BR>you can leave this area blank, or you can specify your own icon in the alert's item list resource, which in turn is specified in the alert resource.<P>
<PRE>
FUNCTION Alert (alertID: Integer; 
                filterProc: ModalFilterProcPtr): Integer;
</PRE>
<DL>
<DT>alertID
<DD> The resource ID of an alert resource. If the alert resource is missing, the Dialog Manager returns to your application without creating the requested alert.
<DT>filterProc
<DD> A pointer to a function that responds to events not handled by the <CODE>ModalDialog</CODE> procedure.
</DL>
<A NAME=HEADING395-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>Alert</CODE> function creates the alert defined in the specified alert resource. The function calls the current alert sound procedure and passes it the sound number specified in the alert resource for the current alert stage. If no alert box is to be drawn at this stage, <CODE>Alert</CODE> returns -1; otherwise, it uses the <CODE>NewDialog</CODE> function to create and display the alert box. The default system window colors are used unless your application provides an alert color table resource with the same resource ID as the alert resource. <P>
 The <CODE>Alert</CODE> function uses the <CODE>ModalDialog</CODE> <DFN>procedure</DFN>, which repeatedly gets and handles most events for you. The <CODE>ModalDialog</CODE> procedure, in turn, gets each event by calling the Event Manager function <CODE>GetNextEvent</CODE>. If the event is a mouse-down event outside the content region of the alert box, <CODE>ModalDialog</CODE> emits an error sound and gets the next event.<P>
 The <CODE>Alert</CODE> function continues calling <CODE>ModalDialog</CODE> until the user selects an enabled control (typically a button), at which time the <CODE>Alert</CODE> function removes the alert box from the screen and returns the item number of the selected control. Your application then responds as appropriate when the user clicks this item.<P>
 For events inside the alert box, <CODE>ModalDialog</CODE> passes the event to an event filter function before handling the event. The event filter function provides a secondary event-handling loop for events that <CODE>ModalDialog</CODE> doesn't handle. You specify a pointer to your event filter function in the <CODE>filterProc</CODE> parameter of the <CODE>Alert</CODE> function.<P>
 If you set the filterProc parameter to <CODE>NIL</CODE>, the Dialog Manager uses the standard event filter function, which behaves as follows:<P>
<UL>
<LI>If the user presses the Return or Enter key, the event filter function returns <CODE>TRUE</CODE> and returns the item number for the default button.<P>
</UL>
 However, your application should provide a simple event filter function that not only replicates this behavior but also<P>
<UL>
<LI>returns <CODE>TRUE</CODE> and the item number for the Cancel button if the user presses Esc or Command-period 
<LI>updates your windows in response to update events (this also allows background windows to receive update events) and returns <CODE>FALSE</CODE> 
<LI>returns <CODE>FALSE</CODE> for all events that your event filter function doesn't handle<P>
</UL>
 You can also use the event filter function to test for and respond to keyboard equivalents.<P>
 Unless the event filter function handles the event in its own way and returns <CODE>TRUE</CODE>, <CODE>ModalDialog</CODE> handles the event inside the alert box as follows:<P>
<UL>
<LI>If the user presses the mouse button while the cursor is in a control, the Control Manager function <CODE>TrackControl</CODE> tracks the cursor. If the user releases the <BR>mouse button while the cursor is in an enabled control, <CODE>Alert</CODE>, <CODE>StopAlert</CODE>, <CODE>CautionAlert</CODE>, and <CODE>NoteAlert</CODE> remove the alert box and return the control's <BR>item number. (Generally, buttons should be the only controls you use in alert boxes.)
<LI>If the user presses the mouse button while the cursor is in any enabled item other than a control, <CODE>Alert</CODE>, <CODE>StopAlert</CODE>, <CODE>CautionAlert</CODE>, and <CODE>NoteAlert</CODE> remove the alert box and return the item number. (Generally, button controls should be the only enabled items in alert boxes.)
<LI>If user presses the mouse button while the cursor is in a disabled item or in no item,<BR> or if any other event occurs, <CODE>Alert</CODE>, <CODE>StopAlert</CODE>, <CODE>CautionAlert</CODE>, and <CODE>NoteAlert</CODE> do nothing.<P>
</UL>
 The <CODE>Alert</CODE> function uses the QuickDraw routine <CODE>SetPort</CODE> to make the alert box the current graphics port. It's not necessary for your application to call <CODE>SetPort</CODE> again before displaying alert boxes, because you can't draw into any other windows between the time you create an alert box and the time the Dialog Manager displays it.<P>
<A NAME=HEADING395-22></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 If you need to display an alert box while your application is running in the background or is otherwise invisible to the user, you should use the Notification Manager to post a notification to the user. The Notification Manager automatically displays an alert box containing whatever message you specify; you will not need to use the Dialog Manager to create the alert box yourself.<P>
 Note that the Notification Manager provides a one-way communications path from <BR>your application to the user. There is no provision for carrying information back from <BR>the user to your application while it is in the background (although it is possible for <BR>your application to determine if the notification was received). If you need to solicit information from the user, use the Notification Manager to inform the user to bring <BR>your application to the foreground, where the user can then respond to an alert box <BR>that your application presents.<P>
<A NAME=HEADING395-25></A>
<H5>SEE ALSO</H5>
 The <CODE>ModalDialog</CODE> procedure is described on <A HREF=Toolbox-426.html#MARKER-9-551>page 6-128</A>. See <A HREF=Toolbox-385.html#MARKER-9-340>"Writing an Event Filter Function for Alert and Modal Dialog Boxes" beginning on page 6-86</A> for a discussion of how to write an event filter function. See <A HREF=Toolbox-379.html#MARKER-9-89>"Creating Alert Sounds and Alert Boxes" beginning on page 6-18</A> for a discussion of alerts and alert stages. See <A HREF=Toolbox-381.html#MARKER-9-162>"Titles for Buttons, Checkboxes, and Radio Buttons" beginning on page 6-37</A> and <A HREF=Toolbox-381.html#MARKER-9-171>"Text Strings for Static Text and Editable Text Items" beginning on page 6-40</A> for recommendations about button titles and messages in alert boxes. Alert resources are described on <A HREF=Toolbox-437.html#MARKER-9-598>page 6-142</A>. Alert color table resources are described on <A HREF=Toolbox-440.html#MARKER-9-661>page 6-149</A>. The Dialog Manager uses the system alert sound as the error sound unless you change it by calling the <CODE>ErrorSound</CODE> pro- cedure, described on <A HREF=Toolbox-392.html#MARKER-9-394>page 6-97</A>. See <A HREF=Toolbox-385.html#MARKER-9-323>"Responding to Events in Alert Boxes" beginning on page 6-81</A> for a discussion of how to respond to events returned by the <CODE>Alert</CODE> function. See the chapter "Notification Manager" in <I><A HREF="../Processes/Processes-2.html">Inside Macintosh: Processes</A></I> for information about the Notification Manager.<P>
 The <CODE>NoteAlert</CODE>, <CODE>CautionAlert</CODE>, and <CODE>StopAlert</CODE> functions are identical to the <CODE>Alert</CODE> function, except that <CODE>NoteAlert</CODE> (described on <A HREF=Toolbox-397.html#MARKER-9-417>page 6-103</A>), <CODE>CautionAlert</CODE> (described on <A HREF=Toolbox-398.html#MARKER-9-423>page 6-104</A>), and <CODE>StopAlert</CODE> (described next) display icons in the upper-left corners of alert boxes.<A NAME=MARKER-2-409></A> <A NAME=MARKER-2-410></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-394.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-396.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
