<html><head><title>Mac OS X
 Manual Page For constant(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/constant" title="Mac OS X
 Manual Page for constant(3pm)"><a name="//apple_ref/doc/man/3/constant" title="Mac OS X
 Manual Page for constant(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/constant"; name=constant(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
constant(3pm)                         Perl Programmers Reference Guide                         constant(3pm)



<b>NAME</b>
       constant - Perl pragma to declare constants

<b>SYNOPSIS</b>
           use constant PI    =&gt; 4 * atan2(1, 1);
           use constant DEBUG =&gt; 0;

           print "Pi equals ", PI, "...\n" if DEBUG;

           use constant {
               SEC   =&gt; 0,
               MIN   =&gt; 1,
               HOUR  =&gt; 2,
               MDAY  =&gt; 3,
               MON   =&gt; 4,
               YEAR  =&gt; 5,
               WDAY  =&gt; 6,
               YDAY  =&gt; 7,
               ISDST =&gt; 8,
           };

           use constant WEEKDAYS =&gt; qw(
               Sunday Monday Tuesday Wednesday Thursday Friday Saturday
           );

           print "Today is ", (WEEKDAYS)[ (localtime)[WDAY] ], ".\n";

<b>DESCRIPTION</b>
       This will declare a symbol to be a constant with the given value.

       When you declare a constant such as "PI" using the method shown above, each machine your script runs
       upon can have as many digits of accuracy as it can use. Also, your program will be easier to read,
       more likely to be maintained (and maintained correctly), and far less likely to send a space probe to
       the wrong planet because nobody noticed the one equation in which you wrote 3.14195.

       When a constant is used in an expression, perl replaces it with its value at compile time, and may
       then optimize the expression further.  In particular, any code in an "if (CONSTANT)" block will be
       optimized away if the constant is false.

<b>NOTES</b>
       As with all "use" directives, defining a constant happens at compile time. Thus, it's probably not
       correct to put a constant declaration inside of a conditional statement (like "if ($foo) { use con-<font color="#ffffff" class="whiteout">stant&nbsp;constant</font>
       stant ... }").

       Constants defined using this module cannot be interpolated into strings like variables.  However,
       concatenation works just fine:

           print "Pi equals PI...\n";        # WRONG: does not expand "PI"
           print "Pi equals ".PI."...\n";    # right

       Even though a reference may be declared as a constant, the reference may point to data which may be
       changed, as this code shows.

           use constant ARRAY =&gt; [ 1,2,3,4 ];
           print ARRAY-&gt;[1];
           ARRAY-&gt;[1] = " be changed";
           print ARRAY-&gt;[1];

       Dereferencing constant references incorrectly (such as using an array subscript on a constant hash
       reference, or vice versa) will be trapped at compile time.

       Constants belong to the package they are defined in.  To refer to a constant defined in another pack-<font color="#ffffff" class="whiteout">age,&nbsp;package,</font>
       age, specify the full package name, as in "Some::Package::CONSTANT".  Constants may be exported by
       modules, and may also be called as either class or instance methods, that is, as "Some::Package-&gt;CON-<font color="#ffffff" class="whiteout">STANT"&nbsp;"Some::Package-&gt;CONSTANT"</font>
       STANT" or as "$obj-&gt;CONSTANT" where $obj is an instance of "Some::Package".  Subclasses may define
       their own constants to override those in their base class.

       The use of all caps for constant names is merely a convention, although it is recommended in order to
       make constants stand out and to help avoid collisions with other barewords, keywords, and subroutine
       names. Constant names must begin with a letter or underscore. Names beginning with a double under-<font color="#ffffff" class="whiteout">score&nbsp;underscore</font>
       score are reserved. Some poor choices for names will generate warnings, if warnings are enabled at
       compile time.

       <b>List</b> <b>constants</b>

       Constants may be lists of more (or less) than one value.  A constant with no values evaluates to
       "undef" in scalar context.  Note that constants with more than one value do <u>not</u> return their last
       value in scalar context as one might expect.  They currently return the number of values, but <b>this</b>
       <b>may</b> <b>change</b> <b>in</b> <b>the</b> <b>future</b>.  Do not use constants with multiple values in scalar context.

       <b>NOTE:</b> This implies that the expression defining the value of a constant is evaluated in list context.
       This may produce surprises:

           use constant TIMESTAMP =&gt; localtime;                # WRONG!
           use constant TIMESTAMP =&gt; scalar localtime;         # right

       The first line above defines "TIMESTAMP" as a 9-element list, as returned by <u>localtime()</u> in list con-<font color="#ffffff" class="whiteout">text.&nbsp;context.</font>
       text.  To set it to the string returned by <u>localtime()</u> in scalar context, an explicit "scalar" key-<font color="#ffffff" class="whiteout">word&nbsp;keyword</font>
       word is required.

       List constants are lists, not arrays.  To index or slice them, they must be placed in parentheses.

           my @workdays = WEEKDAYS[1 .. 5];            # WRONG!
           my @workdays = (WEEKDAYS)[1 .. 5];          # right

       <b>Defining</b> <b>multiple</b> <b>constants</b> <b>at</b> <b>once</b>

       Instead of writing multiple "use constant" statements, you may define multiple constants in a single
       statement by giving, instead of the constant name, a reference to a hash where the keys are the names
       of the constants to be defined.  Obviously, all constants defined using this method must have a sin-<font color="#ffffff" class="whiteout">gle&nbsp;single</font>
       gle value.

           use constant {
               FOO =&gt; "A single value",
               BAR =&gt; "This", "won't", "work!",        # Error!
           };

       This is a fundamental limitation of the way hashes are constructed in Perl.  The error messages pro-<font color="#ffffff" class="whiteout">duced&nbsp;produced</font>
       duced when this happens will often be quite cryptic -- in the worst case there may be none at all,
       and you'll only later find that something is broken.

       When defining multiple constants, you cannot use the values of other constants defined in the same
       declaration.  This is because the calling package doesn't know about any constant within that group
       until <u>after</u> the "use" statement is finished.

           use constant {
               BITMASK =&gt; 0xAFBAEBA8,
               NEGMASK =&gt; ~BITMASK,                    # Error!
           };

       <b>Magic</b> <b>constants</b>

       Magical values and references can be made into constants at compile time, allowing for way cool stuff
       like this.  (These error numbers aren't totally portable, alas.)

           use constant E2BIG =&gt; ($! = 7);
           print   E2BIG, "\n";        # something like "Arg list too long"
           print 0+E2BIG, "\n";        # "7"

       You can't produce a tied constant by giving a tied scalar as the value.  References to tied vari-<font color="#ffffff" class="whiteout">ables,&nbsp;variables,</font>
       ables, however, can be used as constants without any problems.

<b>TECHNICAL</b> <b>NOTES</b>
       In the current implementation, scalar constants are actually inlinable subroutines. As of version
       5.004 of Perl, the appropriate scalar constant is inserted directly in place of some subroutine
       calls, thereby saving the overhead of a subroutine call. See "Constant Functions" in perlsub for
       details about how and when this happens.

       In the rare case in which you need to discover at run time whether a particular constant has been
       declared via this module, you may use this function to examine the hash %constant::declared. If the
       given constant name does not include a package name, the current package is used.

           sub declared ($) {
               use constant 1.01;              # don't omit this!
               my $name = shift;
               $name =~ s/^::/main::/;
               my $pkg = caller;
               my $full_name = $name =~ /::/ ? $name : "${pkg}::$name";
               $constant::declared{$full_name};
           }

<b>BUGS</b>
       In the current version of Perl, list constants are not inlined and some symbols may be redefined
       without generating a warning.

       It is not possible to have a subroutine or a keyword with the same name as a constant in the same
       package. This is probably a Good Thing.

       A constant with a name in the list "STDIN STDOUT STDERR ARGV ARGVOUT ENV INC SIG" is not allowed any-<font color="#ffffff" class="whiteout">where&nbsp;anywhere</font>
       where but in package "main::", for technical reasons.

       Unlike constants in some languages, these cannot be overridden on the command line or via environment
       variables.

       You can get into trouble if you use constants in a context which automatically quotes barewords (as
       is true for any subroutine call).  For example, you can't say $hash{CONSTANT} because "CONSTANT" will
       be interpreted as a string.  Use $hash{CONSTANT()} or $hash{+CONSTANT} to prevent the bareword quot-<font color="#ffffff" class="whiteout">ing&nbsp;quoting</font>
       ing mechanism from kicking in.  Similarly, since the "=&gt;" operator quotes a bareword immediately to
       its left, you have to say "CONSTANT() =&gt; 'value'" (or simply use a comma in place of the big arrow)
       instead of "CONSTANT =&gt; 'value'".

<b>AUTHOR</b>
       Tom Phoenix, &lt;<u>rootbeer@redcat.com&gt;</u>, with help from many other folks.

       Multiple constant declarations at once added by Casey West, &lt;<u>casey@geeknest.com&gt;</u>.

       Documentation mostly rewritten by Ilmari Karonen, &lt;<u>perl@itz.pp.sci.fi&gt;</u>.

<b>COPYRIGHT</b>
       Copyright (C) 1997, 1999 Tom Phoenix

       This module is free software; you can redistribute it or modify it under the same terms as Perl
       itself.



perl v5.8.8                                      2001-09-21                                    constant(3pm)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/constant.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/constant.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/constant.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
