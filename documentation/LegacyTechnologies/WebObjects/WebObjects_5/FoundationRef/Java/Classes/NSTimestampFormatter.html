<html>	<head>		<title>NSTimestampFormatter (Java) </title>	</head>	<body bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="BGDIECDF"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/NSTimestampFormatter">NSTimestampFormatter</a></font></h1>		<br>		<blockquote>			<dl>				<dt><b>Inherits from: </b>				<dd>java.text.Format : Object 			</dl>		</blockquote>		<blockquote>			<dl>				<dt><b>Package: </b>				<dd>com.webobjects.foundation 			</dl>		</blockquote>		<hr size="4">		<br>		<h2>Class Description</h2>		<hr alt="">		<p>Instances of NSTimestampFormatter format NSTimestamps into their textual representations and convert textual representations of dates and times into NSTimestamps. You can express the representation of dates and times very flexibly: &quot;Thu 22 Dec 1994&quot; is just as acceptable as &quot;12/22/94&quot;.</p>		<p>You can associate an date pattern with a WOString or WOTextField dynamic element. WebObjects uses an NSTimestampFormatter object to perform the appropriate conversions. </p>		<p>You can also create an NSTimestampFormatter with the constructor, provide a date pattern string, and use java.text.Format's <a href="#//apple_ref/java/instm/NSTimestampFormatter/format">format</a> and <a href="#//apple_ref/java/instm/NSTimestampFormatter/parseObject">parseObject</a> methods to convert between NSTimestamps and their textual representations:</p>		<blockquote>			<pre>NSTimestampFormatter formatter = new NSTimestampFormatter(&quot;%m/%d/%y&quot;);String description = formatter.format(myNSTimestamp);</pre>		</blockquote>		<br>		<blockquote>			<pre>NSTimestampFormatter formatter = new NSTimestampFormatter(&quot;%m/%d/%y&quot;);NSTimestamp myNSTimestamp = formatter.parseObject(myTimestampString);</pre>		</blockquote>		<br>		<p>Instances of NSTimestampFormatter are immutable.</p>		<br>		<a name="BABBCGFE"></a>		<h2>The Calendar Pattern</h2>		<p>You must specify a pattern whenever you create a NSTimestampFormatter. This pattern is a string that contains specifiers that are very similar to those used in the standard C library function <b>strftime()</b>. When NSTimestampFormatter converts a date to a string, it uses this pattern.</p>		<p>The date conversion specifiers cover a range of date conventions:</p>		<br>		<table border="1">			<tr>				<td scope="row"><b>Specifier</b></td>				<td><b>Description</b></td>			</tr>			<tr>				<td scope="row"><code>%%</code> </td>				<td>a <code>'%'</code> character</td>			</tr>			<tr>				<td scope="row"><code>%a </code></td>				<td>abbreviated weekday name</td>			</tr>			<tr>				<td scope="row"><code>%A</code> </td>				<td>full weekday name</td>			</tr>			<tr>				<td scope="row"><code>%b</code> </td>				<td>abbreviated month name</td>			</tr>			<tr>				<td scope="row"><code>%B</code> </td>				<td>full month name</td>			</tr>			<tr>				<td scope="row"><code>%c</code> </td>				<td>shorthand for &quot;<code>%X %x</code>&quot;, the locale format for date and time</td>			</tr>			<tr>				<td scope="row"><code>%d </code></td>				<td>day of the month as a decimal number (01-31) </td>			</tr>			<tr>				<td scope="row"><code>%e</code></td>				<td>same as <code>%d</code> but does not print the leading 0 for days 1 through 9</td>			</tr>			<tr>				<td scope="row"><code>%F</code></td>				<td>milliseconds as a decimal number (000-999)</td>			</tr>			<tr>				<td scope="row"><code>%H</code> </td>				<td>hour based on a 24-hour clock as a decimal number (00-23) </td>			</tr>			<tr>				<td scope="row"><code>%I</code> </td>				<td>hour based on a 12-hour clock as a decimal number (01-12)</td>			</tr>			<tr>				<td scope="row"><code>%j</code> </td>				<td>day of the year as a decimal number (001-366) </td>			</tr>			<tr>				<td scope="row"><code>%m</code> </td>				<td>month as a decimal number (01-12) </td>			</tr>			<tr>				<td scope="row"><code>%M</code> </td>				<td>minute as a decimal number (00-59) </td>			</tr>			<tr>				<td scope="row"><code>%p</code></td>				<td>AM/PM designation for the locale</td>			</tr>			<tr>				<td scope="row"><code>%S</code> </td>				<td>second as a decimal number (00-59) </td>			</tr>			<tr>				<td scope="row"><code>%w</code> </td>				<td>weekday as a decimal number (0-6), where Sunday is 0</td>			</tr>			<tr>				<td scope="row"><code>%x</code> </td>				<td>date using the date representation for the locale</td>			</tr>			<tr>				<td scope="row"><code>%X</code> </td>				<td>time using the time representation for the locale</td>			</tr>			<tr>				<td scope="row"><code>%y</code> </td>				<td>year without century (00-99) </td>			</tr>			<tr>				<td scope="row"><code>%Y</code> </td>				<td>year with century (such as 1990)</td>			</tr>			<tr>				<td scope="row"><code>%Z</code> </td>				<td>time zone name (such as Pacific Daylight Time)</td>			</tr>			<tr>				<td scope="row"><code>%z</code> </td>				<td>time zone offset in hours and minutes from GMT (HHMM)</td>			</tr>		</table><br>		<p>Alternatively, you can specify the pattern using Sun's date pattern specifiers. See Sun's documentation for the java.text.SimpleDateFormat class for more information.</p>		<br>		<h2>Converting Date Strings Without Time Zones</h2>		<p>When you convert a string without a time zone specification to an NSTimestamp, the formatter assumes the time zone is the default parse time zone (see the <a href="#//apple_ref/java/instm/NSTimestampFormatter/defaultParseTimeZone">defaultParseTimeZone</a> and <a href="#//apple_ref/java/instm/NSTimestampFormatter/setDefaultParseTimeZone">setDefaultParseTimeZone</a> methods). An analogous time zone, called the default format time zone, is used when converting an NSTimestamp without a time zone to a string.</p>		<p>Sometimes you need to give the user a choice of time zones. For example, you might put the time zones in a pull-down list. In such cases, you can use the <a href="#//apple_ref/java/instm/NSTimestampFormatter/parseObjectInUTC">parseObjectInUTC</a> method to parse a date string for the UTC time zone. The following code shows how you can compute the offset from UTC for the particular time zone the user chooses and add it to the parsed timestamp:</p>		<blockquote>			<pre>NSTimestamp date = (NSTimestamp)myFormatter.parseInUTC(myString);NSTimeZone tz = NSTimeZone.timeZoneWithName(myTimeZoneName);int offset = tz.secondsFromGMTForTimestamp(date);long milliseconds = date.getTime() - offset * 1000;NSTimestamp dateWithTimeZone = new NSTimestamp(milliseconds);</pre>		</blockquote>		<br>		<br>		<br>		<br>		<h2>Constructors</h2>		<hr alt="">		<a name="NSDateFormatter_Constructor_NSDateFormatter"></a><br>		<h3><a name="//apple_ref/java/instm/NSTimestampFormatter/NSTimestampFormatter">NSTimestampFormatter</a></h3>		<p><code>public <b>NSTimestampFormatter</b>()</code></p>		Creates a NSTimestampFormatter with the default pattern (<code>%m/%d/%y</code>). 		<p><code>public <b>NSTimestampFormatter</b>(String <em>pattern</em>)</code></p>		Creates an NSTimestampFormatter with the pattern string <em>pattern</em>. If <em>pattern</em> is <code>null</code>, this constructor uses the default pattern (<code>%m/%d/%y</code>). See <a href="#BABBCGFE">&quot;The Calendar Pattern&quot; (page 300)</a> for more information on specifying the pattern string. 		<p><code>public <b>NSTimestampFormatter</b>(String <em>pattern</em>, java.text.DateFormatSymbols <em>formatSymbols</em>)</code></p>		Creates an NSTimestampFormatter with the specified pattern using the specified date format symbols. If <em>pattern</em> is <code>null</code>, this constructor uses the default pattern (<code>%m/%d/%y</code>) with the slashes replaced by the appropriate date symbol. See <a href="#BABBCGFE">&quot;The Calendar Pattern&quot; (page 300)</a> for more information on specifying the pattern string. 		<p><code>public <b>NSTimestampFormatter</b>(String <em>pattern</em>, java.util.Locale <em>locale</em>)</code></p>		Creates an NSTimestampFormatter with the specified pattern using the date symbols for the specified locale. If <em>pattern</em> is <code>null</code>, this constructor uses the default pattern (<code>%m/%d/%y</code>) with the slashes (&quot;/&quot;) replaced by the appropriate date symbol. See <a href="#BABBCGFE">&quot;The Calendar Pattern&quot; (page 300)</a> for more information on specifying the pattern string. 		<hr width="25%" align="LEFT">		<br>		<br>		<h2>Instance Methods</h2>		<hr alt="">		<a name="BABJBCIC"></a><br>		<h3><b><a name="//apple_ref/java/instm/NSTimestampFormatter/defaultFormatTimeZone">defaultFormatTimeZone</a></b></h3>		<p><code>public NSTimeZone <b>defaultFormatTimeZone</b>()</code></p>		Returns the default time zone the receiver uses for formatting (converting an <a href="NSTimestamp.html#CFBEJEJE">NSTimestamp</a> into a string). If the default format time zone is not <code>null</code>, the receiver uses the default format time zone when it performs the conversion. Otherwise the receiver uses the time zone of the NSTimestamp that it is converting. The default format time zone itself defaults to <code>null</code>. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSTimestampFormatter/defaultParseTimeZone">defaultParseTimeZone</a></p>		<hr width="25%" align="LEFT">		<a name="BABEEADH"></a><br>		<h3><b><a name="//apple_ref/java/instm/NSTimestampFormatter/defaultParseTimeZone">defaultParseTimeZone</a></b></h3>		<p><code>public synchronized NSTimeZone <b>defaultParseTimeZone</b>()</code></p>		Returns the default time zone the receiver uses for parsing (converting a string to an <a href="NSTimestamp.html#CFBEJEJE">NSTimestamp</a>). During the conversion, if the NSTimestamp has a time zone (its <a href="NSTimestamp.html#//apple_ref/java/instm/NSTimestamp/timeZone">timeZone</a> method returns something other than <code>null</code>), the receiver uses the NSTimestamp's time zone. Otherwise the receiver uses the default parse time zone. The default parse time zone itself defaults to the time zone specified by the <code>user.timezone</code> system property. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSTimestampFormatter/defaultFormatTimeZone">defaultFormatTimeZone</a></p>		<hr width="25%" align="LEFT">		<a name="format_NSDateFormatter"></a><br>		<h3><a name="//apple_ref/java/instm/NSTimestampFormatter/format">format</a></h3>		<p><code>public StringBuffer <b>format</b>( Object <em>object</em>, StringBuffer <em>toAppendTo</em>, java.text.FieldPosition <em>position</em>)</code></p>		Formats <em>object</em> to produce a string, appends the string to <em>toAppendTo</em>, and returns the resulting StringBuffer. The <em>position</em> parameter specifies an alignment field to place the formatted object. When the method returns, this parameter contains the position of the alignment field. See Sun's java.text.Format documentation for more information. 		<hr width="25%" align="LEFT">		<a name="BABHFFCD"></a><br>		<h3><a name="//apple_ref/java/instm/NSTimestampFormatter/parseObjectInUTC">parseObjectInUTC</a></h3>		<p><code>public Object <b>parseObjectInUTC</b>( String <em>source</em>, java.text.ParsePosition <em>status</em>)</code></p>		Parses a string to produce an object using UTC as the time zone. This method ignores the time zone specified by the string and the value of the parse time zone. For parameter definitions, see Sun's java.text.Format documentation for the <b>parseObject</b> method. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSTimestampFormatter/parseObject">parseObject</a></p>		<hr width="25%" align="LEFT">		<a name="parseObject_NSDateFormatter"></a><br>		<h3><a name="//apple_ref/java/instm/NSTimestampFormatter/parseObject">parseObject</a></h3>		<p><code>public Object <b>parseObject</b>( String <em>source</em>, java.text.ParsePosition <em>status</em>)</code></p>		Parses a string to produce an object. If the string does not specify a time zone, uses the default parse time zone. See Sun's java.text.Format documentation for more information. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSTimestampFormatter/setDefaultParseTimeZone">setDefaultParseTimeZone</a></p>		<hr width="25%" align="LEFT">		<a name="BABHDJCC"></a><br>		<h3><b><a name="//apple_ref/java/instm/NSTimestampFormatter/pattern">pattern</a></b></h3>		<p><code>public String <b>pattern</b>()</code></p>		Returns the receiver's pattern. See <a href="#BABBCGFE">&quot;The Calendar Pattern&quot; (page 300)</a> for more information about the pattern. 		<hr width="25%" align="LEFT">		<a name="BABHGJHA"></a><br>		<h3><b><a name="//apple_ref/java/instm/NSTimestampFormatter/setDefaultFormatTimeZone">setDefaultFormatTimeZone</a></b></h3>		<p><code>public synchronized void <b>setDefaultFormatTimeZone</b>(NSTimeZone <em>timeZone</em>)</code></p>		Sets the default time zone the receiver uses for formatting (converting an <a href="NSTimestamp.html#CFBEJEJE">NSTimestamp</a> into a string) to <em>timeZone</em>. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSTimestampFormatter/setDefaultParseTimeZone">setDefaultParseTimeZone</a></p>		<hr width="25%" align="LEFT">		<a name="BABCEJCA"></a><br>		<h3><b><a name="//apple_ref/java/instm/NSTimestampFormatter/setDefaultParseTimeZone">setDefaultParseTimeZone</a></b></h3>		<p><code>public synchronized void <b>setDefaultParseTimeZone</b>(NSTimeZone <em>timeZone</em>)</code></p>		Sets the default time zone the receiver uses for parsing (converting a string to an <a href="NSTimestamp.html#CFBEJEJE">NSTimestamp</a>) to <em>timeZone</em>. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSTimestampFormatter/setDefaultFormatTimeZone">setDefaultFormatTimeZone</a></p>		<hr width="25%" align="LEFT">		<br>		<h3><b><a name="//apple_ref/java/instm/NSTimestampFormatter/setPattern">setPattern</a></b></h3>		<p><code>public synchronized void <b>setPattern</b>(String <em>pattern</em>)</code></p>		Sets the receiver's pattern to <em>pattern</em>. See <a href="#BABBCGFE">&quot;The Calendar Pattern&quot; (page 300)</a> for more information about the pattern. 		<hr width="25%" align="LEFT">		<br>		<h3><b><a name="//apple_ref/java/instm/NSTimestampFormatter/toString">toString</a></b></h3>		<p><code>public String <b>toString</b>()</code></p>		Returns a string representation of the receiver that includes the default format time zone, the default parse time zone, and the pattern. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/NSTimestampFormatter/defaultFormatTimeZone">defaultFormatTimeZone</a>, <a href="#//apple_ref/java/instm/NSTimestampFormatter/defaultParseTimeZone">defaultParseTimeZone</a>, <a href="#//apple_ref/java/instm/NSTimestampFormatter/pattern">pattern</a></p>		<hr width="25%" align="LEFT">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 17, 2001)</p>		<br>		<a href="../FoundationTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>