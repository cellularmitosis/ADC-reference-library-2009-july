<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Callbacks Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="QuickTime Callbacks Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004375-DontLinkChapterID_1" title="QuickTime Callbacks Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/QuickTime/index.html#//apple_ref/doc/uid/TP30001281-TP30000433" target="_top">QuickTime</a> &gt; <a href="../index.html" target="_top">QuickTime Callbacks Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../Rev_History/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40004375-DontLinkChapterID_1-DontLinkElementID_3" title="QuickTime Callbacks Reference"></a><h1>QuickTime Callbacks Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../QT_Framework_Ref/index.html#//apple_ref/doc/uid/TP40004374" target="_top">Frameworks</a>/QuickTime.framework</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">QuickTime.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40004375-CH201-DontLinkElementID_2" title="Overview"></a><h2>Overview</h2><p>This reference covers the callbacks common to multiple QuickTime frameworks.</p>



<a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_1" title="Callbacks"></a>
<h2>Callbacks</h2>
















<a name="//apple_ref/c/tdef/ActionsProc" title="ActionsProc"></a><a name="//apple_ref/doc/c_ref/ActionsProc" title="ActionsProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-ActionsProc" title="ActionsProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_5"></a><h3 class="tight">ActionsProc</h3>
<p class="spaceabove">Action callback for a media handler.</p>
<p class="spaceabove"><pre>
typedef OSErr (*ActionsProcPtr) (void *refcon, <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> targetTrack, long targetRefCon, <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/QTEventRecordPtr" target="_top">QTEventRecordPtr</a> theEvent);
</pre></p>
<p>If you name your function <code>MyActionsProc</code>, you would declare it this way:</p>
<p><pre>
OSErr MyActionsProc (
   void                *refcon,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a>               targetTrack,
   long                targetRefCon,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/QTEventRecordPtr" target="_top">QTEventRecordPtr</a>    theEvent );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refcon</em></dt>
<dd><p>A reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd>
<dt><em>targetTrack</em></dt>
<dd><p>The track in which to perform the actions.</p></dd>
<dt><em>targetRefCon</em></dt>
<dd><p>A reference constant for the target track.</p></dd>
<dt><em>theEvent</em></dt>
<dd><p>Pointer to a <code><!--a target="_top" -->QTEventRecord<!--/a--></code> structure.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. Your callback should return <code>noErr</code> if there is no error.</p>

<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MediaHandlers/Reference/reference.html#//apple_ref/c/func/MediaSetActionsCallback" target="_top">MediaSetActionsCallback</a></code> and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewActionsUPP" target="_top">NewActionsUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/DoMCActionProc" title="DoMCActionProc"></a><a name="//apple_ref/doc/c_ref/DoMCActionProc" title="DoMCActionProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DoMCActionProc" title="DoMCActionProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_6"></a><h3 class="tight">DoMCActionProc</h3>
<p class="spaceabove">Undocumented</p>
<p class="spaceabove"><pre>
typedef OSErr (*DoMCActionProcPtr) (void *refcon, short action, void *params, <!--a-->Boolean<!--/a--> *handled);
</pre></p>
<p>If you name your function <code>MyDoMCActionProc</code>, you would declare it this way:</p>
<p><pre>
OSErr MyDoMCActionProc (
   void       *refcon,
   short      action,
   void       *params,
   <!--a-->Boolean<!--/a-->    *handled );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refcon</em></dt>
<dd><p>Pointer to a reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd>
<dt><em>action</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>params</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>handled</em></dt>
<dd><p>A pointer to a Boolean in which you put TRUE if the action was handled, FALSE otherwise.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. Your callback should return <code>noErr</code> if there is no error.</p>

<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetDoActionsProc" target="_top">MCGetDoActionsProc</a></code>, <code><a href="../../QTRef_MediaHandlers/Reference/reference.html#//apple_ref/c/func/MediaSetDoMCActionCallback" target="_top">MediaSetDoMCActionCallback</a></code>, <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/MovieMediaGetDoMCActionCallback" target="_top">MovieMediaGetDoMCActionCallback</a></code>, <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/MovieMediaGetChildDoMCActionCallback" target="_top">MovieMediaGetChildDoMCActionCallback</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewDoMCActionUPP" target="_top">NewDoMCActionUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/ICMConvertDataFormatProc" title="ICMConvertDataFormatProc"></a><a name="//apple_ref/doc/c_ref/ICMConvertDataFormatProc" title="ICMConvertDataFormatProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-ICMConvertDataFormatProc" title="ICMConvertDataFormatProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_7"></a><h3 class="tight">ICMConvertDataFormatProc</h3>
<p class="spaceabove">Undocumented</p>
<p class="spaceabove"><pre>
typedef OSErr (*ICMConvertDataFormatProcPtr) (void *refCon, long flags, <!--a-->Handle<!--/a--> desiredFormat, <!--a-->Handle<!--/a--> sourceDataFormat, void *srcData, long srcDataSize,
void **dstData, long *dstDataSize);
</pre></p>
<p>If you name your function <code>MyICMConvertDataFormatProc</code>, you would declare it this way:</p>
<p><pre>
OSErr MyICMConvertDataFormatProc (
   void      *refCon,
   long      flags,
   <!--a-->Handle<!--/a-->    desiredFormat,
   <!--a-->Handle<!--/a-->    sourceDataFormat,
   void      *srcData,
   long      srcDataSize,
   void      **dstData,
   long      *dstDataSize );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refCon</em></dt>
<dd><p>Pointer to a reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd>
<dt><em>flags</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>desiredFormat</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>sourceDataFormat</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>srcData</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>srcDataSize</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>dstData</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>dstDataSize</em></dt>
<dd><p><em>Undocumented</em></p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. Your callback should return <code>noErr</code> if there is no error.</p>

<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/CDSequenceNewDataSource" target="_top">CDSequenceNewDataSource</a></code> and <code><a href="../../QTRef_ImageComp/Reference/reference.html#//apple_ref/c/func/NewICMConvertDataFormatUPP" target="_top">NewICMConvertDataFormatUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/ICMMemoryDisposedProc" title="ICMMemoryDisposedProc"></a><a name="//apple_ref/doc/c_ref/ICMMemoryDisposedProc" title="ICMMemoryDisposedProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-ICMMemoryDisposedProc" title="ICMMemoryDisposedProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_8"></a><h3 class="tight">ICMMemoryDisposedProc</h3>
<p class="spaceabove">Called before disposing of the memory allocated by a codec.</p>
<p class="spaceabove"><pre>
typedef void (*ICMMemoryDisposedProcPtr) (<!--a-->Ptr<!--/a--> memoryBlock, void *refcon);
</pre></p>
<p>If you name your function <code>MyICMMemoryDisposedProc</code>, you would declare it this way:</p>
<p><pre>
void MyICMMemoryDisposedProc (
   <!--a-->Ptr<!--/a-->     memoryBlock,
   void    *refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>memoryBlock</em></dt>
<dd><p>Pointer to a block of memory.</p></dd>
<dt><em>refcon</em></dt>
<dd><p>Contains a reference constant value that your codec must pass to the <code>memoryGoneProc</code> function.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>This function must be called if the memory block is to be disposed of by the codec instead of by <code><a href="../../QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecDisposeMemory" target="_top">ImageCodecDisposeMemory</a></code>. For example, this would occur if the codec is closed and still has memory allocation outstanding or if the memory is required to complete another operation.</p>
<h5 class="tight">Special Considerations</h5><p>The Image Compression Manager does not currently track memory allocations. When a compressor or decompressor component instance is closed, it must ensure that all blocks allocated by that instance are disposed and call your <code><!--a target="_top" -->ICMMemoryDisposedProc<!--/a--></code>. This callback must not be called at interrupt time.</p>
<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_CompDecomp/Reference/reference.html#//apple_ref/c/func/CDSequenceNewMemory" target="_top">CDSequenceNewMemory</a></code>, <code><a href="../../QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecNewImageBufferMemory" target="_top">ImageCodecNewImageBufferMemory</a></code>, <code><a href="../../QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecNewMemory" target="_top">ImageCodecNewMemory</a></code>, and <code><a href="../../QTRef_ImageComp/Reference/reference.html#//apple_ref/c/func/NewICMMemoryDisposedUPP" target="_top">NewICMMemoryDisposedUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/ModalFilterProc" title="ModalFilterProc"></a><a name="//apple_ref/doc/c_ref/ModalFilterProc" title="ModalFilterProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-ModalFilterProc" title="ModalFilterProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_9"></a><h3 class="tight">ModalFilterProc</h3>
<p class="spaceabove">Determines how events are filtered for modal dialog boxes.</p>
<p class="spaceabove"><pre>
typedef Boolean (*ModalFilterProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/DialogPtr" target="_top">DialogPtr</a> theDialog, <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/EventRecord" target="_top">EventRecord</a> *theEvent, <a href="../../../../Carbon/Reference/Dialog_Manager/Reference/reference.html#//apple_ref/doc/c_ref/DialogItemIndex" target="_top">DialogItemIndex</a> *itemHit);
</pre></p>
<p>If you name your function <code>MyModalFilterProc</code>, you would declare it this way:</p>
<p><pre>
Boolean MyModalFilterProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/DialogPtr" target="_top">DialogPtr</a>          theDialog,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/EventRecord" target="_top">EventRecord</a>        *theEvent,
   <a href="../../../../Carbon/Reference/Dialog_Manager/Reference/reference.html#//apple_ref/doc/c_ref/DialogItemIndex" target="_top">DialogItemIndex</a>    *itemHit );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theDialog</em></dt>
<dd><p>A pointer to the dialog record.</p></dd>
<dt><em>theEvent</em></dt>
<dd><p>A pointer to the event record.</p></dd>
<dt><em>itemHit</em></dt>
<dd><p>The item number.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>Your <code>ModalFilterProc</code> callback returns a Boolean value that reports whether it handled the event. If your function returns a value of FALSE, QuickTime processes the event through its own filters. If your function returns a value of TRUE, QuickTime returns with no further action.</p>
<h5 class="tight">Discussion</h5>
<p>The Standard File Package contains an internal filter function that performs some preliminary processing on each event it receives. If you provide a <code>ModalFilterProc</code> callback, it is called after the internal Standard File Package filter function and before the event is sent to your dialog hook function. You might provide a <code>ModalFilterProc</code> callback for several reasons. If you have customized the Open or Save dialog boxes by adding one or more items, you might want to map some of the user's keypresses to those items in the same way that the internal filter function maps certain keypresses to existing items.</p>
<h5 class="tight">Special Considerations</h5><p>You can supply a <code>ModalFilterProc</code> callback only when you use one of the procedures that displays a customized dialog box. Another reason to provide a <code>ModalFilterProc</code> callback is to avoid a problem that can arise if an update event is received for one of your application's windows while a Standard File Package dialog box is displayed.</p>
<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_ImageCodec/Reference/reference.html#//apple_ref/c/func/ImageCodecRequestSettings" target="_top">ImageCodecRequestSettings</a></code>, <code><a href="../../QTRef_VideoComponents/Reference/reference.html#//apple_ref/c/func/QTVideoOutputCustomConfigureDisplay" target="_top">QTVideoOutputCustomConfigureDisplay</a></code>, <code><!--a target="_top" -->SFPGetFilePreview<!--/a--></code>, and similar functions.</p><a name="//apple_ref/c/tdef/MovieDrawingCompleteProc" title="MovieDrawingCompleteProc"></a><a name="//apple_ref/doc/c_ref/MovieDrawingCompleteProc" title="MovieDrawingCompleteProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-MovieDrawingCompleteProc" title="MovieDrawingCompleteProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_10"></a><h3 class="tight">MovieDrawingCompleteProc</h3>
<p class="spaceabove">Called when movie drawing is complete.</p>
<p class="spaceabove"><pre>
typedef OSErr (*MovieDrawingCompleteProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie, long refCon);
</pre></p>
<p>If you name your function <code>MyMovieDrawingCompleteProc</code>, you would declare it this way:</p>
<p><pre>
OSErr MyMovieDrawingCompleteProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a>    theMovie,
   long     refCon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>Specifies the movie for this operation.</p></dd>
<dt><em>refCon</em></dt>
<dd><p>Contains the reference constant you supplied when your application called the <code>SetMovieDrawingCompleteProc</code> function.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. Your callback should return <code>noErr</code> if there is no error.</p>

<h5 class="tight">Special Considerations</h5><p>Some media handlers may take less efficient playback paths when a <code>MovieDrawingCompleteProc</code> is used, so it should be used only when absolutely necessary.</p>
<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/SetMovieDrawingCompleteProc" target="_top">SetMovieDrawingCompleteProc</a></code> and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieDrawingCompleteUPP" target="_top">NewMovieDrawingCompleteUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/MoviePrePrerollCompleteProc" title="MoviePrePrerollCompleteProc"></a><a name="//apple_ref/doc/c_ref/MoviePrePrerollCompleteProc" title="MoviePrePrerollCompleteProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-MoviePrePrerollCompleteProc" title="MoviePrePrerollCompleteProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_11"></a><h3 class="tight">MoviePrePrerollCompleteProc</h3>
<p class="spaceabove">Undocumented</p>
<p class="spaceabove"><pre>
typedef void (*MoviePrePrerollCompleteProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie, <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> prerollErr, void *refcon);
</pre></p>
<p>If you name your function <code>MyMoviePrePrerollCompleteProc</code>, you would declare it this way:</p>
<p><pre>
void MyMoviePrePrerollCompleteProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a>    theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a>    prerollErr,
   void     *refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>Specifies the movie for this operation.</p></dd>
<dt><em>prerollErr</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>refcon</em></dt>
<dd><p>Pointer to a reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd></dl>
<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/PrePrerollMovie" target="_top">PrePrerollMovie</a></code> and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMoviePrePrerollCompleteUPP" target="_top">NewMoviePrePrerollCompleteUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/MoviePreviewCallOutProc" title="MoviePreviewCallOutProc"></a><a name="//apple_ref/doc/c_ref/MoviePreviewCallOutProc" title="MoviePreviewCallOutProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-MoviePreviewCallOutProc" title="MoviePreviewCallOutProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_12"></a><h3 class="tight">MoviePreviewCallOutProc</h3>
<p class="spaceabove">Controls the playing of a movie's preview.</p>
<p class="spaceabove"><pre>
typedef Boolean (*MoviePreviewCallOutProcPtr) (long refcon);
</pre></p>
<p>If you name your function <code>MyMoviePreviewCallOutProc</code>, you would declare it this way:</p>
<p><pre>
Boolean MyMoviePreviewCallOutProc (
   long    refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>refcon</em></dt>
<dd><p>A reference constant you specified when you called <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/PlayMoviePreview" target="_top">PlayMoviePreview</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>If your function sets this value to FALSE, the Movie Toolbox stops the preview and returns to your application.</p>
<h5 class="tight">Discussion</h5>
<p>If you call <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMovieActiveSegment" target="_top">GetMovieActiveSegment</a></code> from within your callback, the Movie Toolbox can change the active movie segment to be the preview segment of the movie. The Movie Toolbox will restore the active segment when the preview is done playing.</p>
<h5 class="tight">See Also</h5><p>See <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/PlayMoviePreview" target="_top">PlayMoviePreview</a></code>.</p><a name="//apple_ref/c/tdef/MovieProgressProc" title="MovieProgressProc"></a><a name="//apple_ref/doc/c_ref/MovieProgressProc" title="MovieProgressProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-MovieProgressProc" title="MovieProgressProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_13"></a><h3 class="tight">MovieProgressProc</h3>
<p class="spaceabove">Monitors the progress of the Movie Toolbox during long operations.</p>
<p class="spaceabove"><pre>
typedef OSErr (*MovieProgressProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie, short message, short whatOperation, <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> percentDone, long refcon);
</pre></p>
<p>If you name your function <code>MyMovieProgressProc</code>, you would declare it this way:</p>
<p><pre>
OSErr MyMovieProgressProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a>    theMovie,
   short    message,
   short    whatOperation,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a>    percentDone,
   long     refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>Specifies the movie for this operation. The Movie Toolbox sets this parameter to identify the appropriate movie.</p></dd>
<dt><em>message</em></dt>
<dd><p>Constant (see below) that indicates why the Movie Toolbox called your function. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->movieProgressOpen<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieProgressUpdatePercent<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieProgressClose<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>whatOperation</em></dt>
<dd><p>Constant (see below) that indicates the long operation that is currently underway. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->progressOpFlatten<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpInsertTrackSegment<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpInsertMovieSegment<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpPaste<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpAddMovieSelection<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpCopy<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpCut<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpLoadMovieIntoRam<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpLoadTrackIntoRam<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpLoadMediaIntoRam<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpImportMovie<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->progressOpExportMovie<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>percentDone</em></dt>
<dd><p>Contains a fixed-point value indicating how far the operation has progressed. Its value is always between 0.0 and 1.0. This parameter is valid only when the <code>message</code> field is set to <code>movieProgressUpdatePercent</code>.</p></dd>
<dt><em>refcon</em></dt>
<dd><p>Reference constant value for use by your progress function. Your application specifies the value of this reference constant when you assign the progress function to the movie.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>Your progress function should return an error value. The Movie Toolbox examines this value after each <code>movieProgressUpdatePercent</code> message and before continuing the current operation. Set this value to a nonzero value to cancel the operation; set it to <code>noErr</code> to continue.</p>

<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_TrackAndMedia/Reference/reference.html#//apple_ref/c/func/ConvertFileToMovieFile" target="_top">ConvertFileToMovieFile</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/GetMovieProgressProc" target="_top">GetMovieProgressProc</a></code>, <code><a href="../../QTRef_MovieComponents/Reference/reference.html#//apple_ref/c/func/MovieExportSetProgressProc" target="_top">MovieExportSetProgressProc</a></code>, <code><a href="../../QTRef_MovieComponents/Reference/reference.html#//apple_ref/c/func/MovieImportSetProgressProc" target="_top">MovieImportSetProgressProc</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/SetMovieProgressProc" target="_top">SetMovieProgressProc</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieProgressUPP" target="_top">NewMovieProgressUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/MoviesErrorProc" title="MoviesErrorProc"></a><a name="//apple_ref/doc/c_ref/MoviesErrorProc" title="MoviesErrorProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-MoviesErrorProc" title="MoviesErrorProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_14"></a><h3 class="tight">MoviesErrorProc</h3>
<p class="spaceabove">An error-notification function, called each time the current error value is to be set to a nonzero value.</p>
<p class="spaceabove"><pre>
typedef void (*MoviesErrorProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a> theErr, long refcon);
</pre></p>
<p>If you name your function <code>MyMoviesErrorProc</code>, you would declare it this way:</p>
<p><pre>
void MyMoviesErrorProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/OSErr" target="_top">OSErr</a>    theErr,
   long     refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theErr</em></dt>
<dd><p>An error code; see <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p></dd>
<dt><em>refcon</em></dt>
<dd><p>A reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd></dl>
<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/SetMoviesErrorProc" target="_top">SetMoviesErrorProc</a></code> and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMoviesErrorUPP" target="_top">NewMoviesErrorUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/QTCallBackProc" title="QTCallBackProc"></a><a name="//apple_ref/doc/c_ref/QTCallBackProc" title="QTCallBackProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-QTCallBackProc" title="QTCallBackProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_15"></a><h3 class="tight">QTCallBackProc</h3>
<p class="spaceabove">A generic callback function, installed by CallMeWhen.</p>
<p class="spaceabove"><pre>
typedef void (*QTCallBackProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/QTCallBack" target="_top">QTCallBack</a> cb, long refCon);
</pre></p>
<p>If you name your function <code>MyQTCallBackProc</code>, you would declare it this way:</p>
<p><pre>
void MyQTCallBackProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/QTCallBack" target="_top">QTCallBack</a>    cb,
   long          refCon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>cb</em></dt>
<dd><p>A pointer to a <code><!--a target="_top" -->CallBackRecord<!--/a--></code> structure containing the callback's data.</p></dd>
<dt><em>refCon</em></dt>
<dd><p>A reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd></dl>
<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/CallMeWhen" target="_top">CallMeWhen</a></code> and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewQTCallBackUPP" target="_top">NewQTCallBackUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/QTNextTaskNeededSoonerCallbackProc" title="QTNextTaskNeededSoonerCallbackProc"></a><a name="//apple_ref/doc/c_ref/QTNextTaskNeededSoonerCallbackProc" title="QTNextTaskNeededSoonerCallbackProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-QTNextTaskNeededSoonerCallbackProc" title="QTNextTaskNeededSoonerCallbackProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_16"></a><h3 class="tight">QTNextTaskNeededSoonerCallbackProc</h3>
<p class="spaceabove">Called when QuickTime decides that the next task is needed sooner than previously reported by QTGetTimeUntilNextTask.</p>
<p class="spaceabove"><pre>
typedef void (*QTNextTaskNeededSoonerCallbackProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration, unsigned long flags, void *refcon);
</pre></p>
<p>If you name your function <code>MyQTNextTaskNeededSoonerCallbackProc</code>, you would declare it this way:</p>
<p><pre>
void MyQTNextTaskNeededSoonerCallbackProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a>        duration,
   unsigned long    flags,
   void             *refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>duration</em></dt>
<dd><p>The new duration to the next task, expressed in the time scale set by a previous call to <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/QTInstallNextTaskNeededSoonerCallback" target="_top">QTInstallNextTaskNeededSoonerCallback</a></code>.</p></dd>
<dt><em>flags</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>refcon</em></dt>
<dd><p>A pointer to a reference constant. You can use this parameter to point to a data structure containing any information your callback may need.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. Your callback should return <code>noErr</code> if there is no error.</p>
<h5 class="tight">Discussion</h5>
<p>You can use this callback to reschedule the Carbon event loop timer if the next QuickTime task is needed sooner than projected by <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/QTGetTimeUntilNextTask" target="_top">QTGetTimeUntilNextTask</a></code>. This callback may be called at interrupt time or from another thread on Mac OS X.</p>
<h5 class="tight">See Also</h5><p>This callback is installed by <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/QTInstallNextTaskNeededSoonerCallback" target="_top">QTInstallNextTaskNeededSoonerCallback</a></code>. See also <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewQTNextTaskNeededSoonerCallbackUPP" target="_top">NewQTNextTaskNeededSoonerCallbackUPP</a></code>.</p><a name="//apple_ref/c/tdef/TextMediaProc" title="TextMediaProc"></a><a name="//apple_ref/doc/c_ref/TextMediaProc" title="TextMediaProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-TextMediaProc" title="TextMediaProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_17"></a><h3 class="tight">TextMediaProc</h3>
<p class="spaceabove">A callback that can be called whenever a text sample is displayed in a movie.</p>
<p class="spaceabove"><pre>
typedef OSErr (*TextMediaProcPtr) (<!--a-->Handle<!--/a--> theText, <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie, short *displayFlag, long refcon);
</pre></p>
<p>If you name your function <code>MyTextMediaProc</code>, you would declare it this way:</p>
<p><pre>
OSErr MyTextMediaProc (
   <!--a-->Handle<!--/a-->    theText,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a>     theMovie,
   short     *displayFlag,
   long      refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theText</em></dt>
<dd><p>A handle to the text being displayed.</p></dd>
<dt><em>theMovie</em></dt>
<dd><p>Specifies the movie for this operation.</p></dd>
<dt><em>displayFlag</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>refcon</em></dt>
<dd><p>A reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. Your callback should return <code>noErr</code> if there is no error.</p>

<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/TextMediaSetTextProc" target="_top">TextMediaSetTextProc</a></code> and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewTextMediaUPP" target="_top">NewTextMediaUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/TrackTransferProc" title="TrackTransferProc"></a><a name="//apple_ref/doc/c_ref/TrackTransferProc" title="TrackTransferProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-TrackTransferProc" title="TrackTransferProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_18"></a><h3 class="tight">TrackTransferProc</h3>
<p class="spaceabove">Called when a track is forced to draw into a particular graphics world, which may be different from that of the movie.</p>
<p class="spaceabove"><pre>
typedef OSErr (*TrackTransferProcPtr) (<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> t, long refCon);
</pre></p>
<p>If you name your function <code>MyTrackTransferProc</code>, you would declare it this way:</p>
<p><pre>
OSErr MyTrackTransferProc (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a>    t,
   long     refCon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>t</em></dt>
<dd><p>A track designator.</p></dd>
<dt><em>refCon</em></dt>
<dd><p>A reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. Your callback should return <code>noErr</code> if there is no error.</p>

<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/SetTrackGWorld" target="_top">SetTrackGWorld</a></code> and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewTrackTransferUPP" target="_top">NewTrackTransferUPP</a></code> functions.</p><a name="//apple_ref/c/tdef/VdigIntProc" title="VdigIntProc"></a><a name="//apple_ref/doc/c_ref/VdigIntProc" title="VdigIntProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-VdigIntProc" title="VdigIntProc"></a><a name="//apple_ref/doc/uid/TP40004375-GlobalQuickTimeAPICallbacks-DontLinkElementID_19"></a><h3 class="tight">VdigIntProc</h3>
<p class="spaceabove">An interrupt callback called by the video digitizer component each time it starts to display a field.</p>
<p class="spaceabove"><pre>
typedef void (*VdigIntProcPtr) (long flags, long refcon);
</pre></p>
<p>If you name your function <code>MyVdigIntProc</code>, you would declare it this way:</p>
<p><pre>
void MyVdigIntProc (
   long    flags,
   long    refcon );
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>flags</em></dt>
<dd><p><em>Undocumented</em></p></dd>
<dt><em>refcon</em></dt>
<dd><p>A reference constant that the client code supplies to your callback. You can use this reference to point to a data structure containing any information your callback needs.</p></dd></dl>
<h5 class="tight">See Also</h5><p>See the <code><a href="../../QTRef_VideoComponents/Reference/reference.html#//apple_ref/c/func/VDSetDigitizerUserInterrupt" target="_top">VDSetDigitizerUserInterrupt</a></code> and <code><a href="../../QTRef_DataComponents/Reference/reference.html#//apple_ref/c/func/NewVdigIntUPP" target="_top">NewVdigIntUPP</a></code> functions.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../Rev_History/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-05-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/Reference/QTRef_Callbacks/Reference/reference.html%3Fid%3DTP40004375-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/Reference/QTRef_Callbacks/Reference/reference.html%3Fid%3DTP40004375-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/Reference/QTRef_Callbacks/Reference/reference.html%3Fid%3DTP40004375-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>