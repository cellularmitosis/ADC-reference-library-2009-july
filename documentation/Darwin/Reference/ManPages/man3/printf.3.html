<html><head><title>Mac OS X
 Manual Page For printf(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/printf" title="Mac OS X
 Manual Page for printf(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/printf"; name=printf(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PRINTF(3)                BSD Library Functions Manual                PRINTF(3)

<b>NAME</b>
     <b>asprintf</b>, <b>fprintf</b>, <b>printf</b>, <b>snprintf</b>, <b>sprintf</b>, <b>vasprintf</b>, <b>vfprintf,</b> <b>vprintf</b>, <b>vsnprintf</b>, <b>vsprintf</b> -- for-<font color="#ffffff" class="whiteout">matted&nbsp;formatted</font>
     matted output conversion

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;stdio.h&gt;</b>

     <u>int</u>
     <b>asprintf</b>(<u>char</u> <u>**ret</u>, <u>const</u> <u>char</u> <u>*format</u>, <u>...</u>);

     <u>int</u>
     <b>fprintf</b>(<u>FILE</u> <u>*restrict</u> <u>stream</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>...</u>);

     <u>int</u>
     <b>printf</b>(<u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>...</u>);

     <u>int</u>
     <b>snprintf</b>(<u>char</u> <u>*restrict</u> <u>s</u>, <u>size</u><b>_</b><u>t</u> <u>n</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>...</u>);

     <u>int</u>
     <b>sprintf</b>(<u>char</u> <u>*restrict</u> <u>s</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>...</u>);

     <b>#include</b> <b>&lt;stdarg.h&gt;</b>
     <b>#include</b> <b>&lt;stdio.h&gt;</b>

     <u>int</u>
     <b>vasprintf</b>(<u>char</u> <u>**ret</u>, <u>const</u> <u>char</u> <u>*format</u>, <u>va</u><b>_</b><u>list</u> <u>ap</u>);

     <u>int</u>
     <b>vfprintf</b>(<u>FILE</u> <u>*restrict</u> <u>stream</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>va</u><b>_</b><u>list</u> <u>ap</u>);

     <u>int</u>
     <b>vprintf</b>(<u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>va</u><b>_</b><u>list</u> <u>ap</u>);

     <u>int</u>
     <b>vsnprintf</b>(<u>char</u> <u>*restrict</u> <u>s</u>, <u>size</u><b>_</b><u>t</u> <u>n</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>va</u><b>_</b><u>list</u> <u>ap</u>);

     <u>int</u>
     <b>vsprintf</b>(<u>char</u> <u>*restrict</u> <u>s</u>, <u>const</u> <u>char</u> <u>*restrict</u> <u>format</u>, <u>va</u><b>_</b><u>list</u> <u>ap</u>);

<b>DESCRIPTION</b>
     The <b>printf</b>() family of functions produces output according to a <u>format</u>, as described below.  The
     <b>printf</b>() and <b>vprintf</b>() functions write output to stdout, the standard output stream; <b>fprintf</b>() and
     <b>vfprintf</b>() write output to the given output <u>stream</u>; <b>sprintf</b>(), <b>snprintf</b>(), <b>vsprintf</b>(), and <b>vsnprintf</b>()
     write to the character string <u>s</u>; and <b>asprintf</b>() and <b>vasprintf</b>() dynamically allocate a new string with
     <a href="malloc.3.html#//apple_ref/doc/man/3/malloc">malloc(3)</a>.

     Extended locale versions of these functions are documented in <a href="printf_l.3.html#//apple_ref/doc/man/3/printf_l">printf_l(3)</a>.  See <a href="xlocale.3.html#//apple_ref/doc/man/3/xlocale">xlocale(3)</a> for more
     information.

     These functions write the output under the control of a <u>format</u> string that specifies how subsequent
     arguments (or arguments accessed via the variable-length argument facilities of <a href="stdarg.3.html#//apple_ref/doc/man/3/stdarg">stdarg(3)</a>) are con-<font color="#ffffff" class="whiteout">verted&nbsp;converted</font>
     verted for output.

     These functions return the number of characters printed (not including the trailing `\0' used to end
     output to strings) or a negative value if an output error occurs, except for <b>snprintf</b>() and
     <b>vsnprintf</b>(), which return the number of characters that would have been printed if the <u>n</u> were unlimited
     (again, not including the final `\0').

     The <b>asprintf</b>() and <b>vasprintf</b>() functions set <u>*ret</u> to be a pointer to a buffer sufficiently large to
     hold the formatted string.  This pointer should be passed to <a href="free.3.html#//apple_ref/doc/man/3/free">free(3)</a> to release the allocated storage
     when it is no longer needed.  If sufficient space cannot be allocated, <b>asprintf</b>() and <b>vasprintf</b>() will
     return -1 and set <u>ret</u> to be a NULL pointer.

     The <b>snprintf</b>() and <b>vsnprintf</b>() functions will write at most <u>n</u>-1 of the characters printed into the out-<font color="#ffffff" class="whiteout">put&nbsp;output</font>
     put string (the <u>n</u>'th character then gets the terminating `\0'); if the return value is greater than or
     equal to the <u>n</u> argument, the string was too short and some of the printed characters were discarded.
     The output is always null-terminated.

     The <b>sprintf</b>() and <b>vsprintf</b>() functions effectively assume an infinite <u>n</u>.

     The format string is composed of zero or more directives: ordinary characters (not <b>%</b>), which are copied
     unchanged to the output stream; and conversion specifications, each of which results in fetching zero
     or more subsequent arguments.  Each conversion specification is introduced by the <b>%</b> character.  The
     arguments must correspond properly (after type promotion) with the conversion specifier.  After the <b>%</b>,
     the following appear in sequence:

     <b></b><b><u>oo</u></b>   An optional field, consisting of a decimal digit string followed by a <b>$</b>, specifying the next argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
         ment to access.  If this field is not provided, the argument following the last argument accessed
         will be used.  Arguments are numbered starting at <b>1</b>.  If unaccessed arguments in the format string
         are interspersed with ones that are accessed the results will be indeterminate.

     <b></b><b><u>oo</u></b>   Zero or more of the following flags:

         `<b>#</b>'          The value should be converted to an ``alternate form''.  For <b>c</b>, <b>d</b>, <b>i</b>, <b>n</b>, <b>p</b>, <b>s</b>, and <b>u</b>
                      conversions, this option has no effect.  For <b>o</b> conversions, the precision of the num-<font color="#ffffff" class="whiteout">ber&nbsp;number</font>
                      ber is increased to force the first character of the output string to a zero (except
                      if a zero value is printed with an explicit precision of zero).  For <b>x</b> and <b>X</b> conver-<font color="#ffffff" class="whiteout">sions,&nbsp;conversions,</font>
                      sions, a non-zero result has the string `0x' (or `0X' for <b>X</b> conversions) prepended to
                      it.  For <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>, <b>F</b>, <b>g</b>, and <b>G</b> conversions, the result will always contain a dec-<font color="#ffffff" class="whiteout">imal&nbsp;decimal</font>
                      imal point, even if no digits follow it (normally, a decimal point appears in the
                      results of those conversions only if a digit follows).  For <b>g</b> and <b>G</b> conversions,
                      trailing zeros are not removed from the result as they would otherwise be.

         `<b>0</b>' (zero)   Zero padding.  For all conversions except <b>n</b>, the converted value is padded on the left
                      with zeros rather than blanks.  If a precision is given with a numeric conversion (<b>d</b>,
                      <b>i</b>, <b>o</b>, <b>u</b>, <b>i</b>, <b>x</b>, and <b>X</b>), the <b>0</b> flag is ignored.

         `<b>-</b>'          A negative field width flag; the converted value is to be left adjusted on the field
                      boundary.  Except for <b>n</b> conversions, the converted value is padded on the right with
                      blanks, rather than on the left with blanks or zeros.  A <b>-</b> overrides a <b>0</b> if both are
                      given.

         ` ' (space)  A blank should be left before a positive number produced by a signed conversion (<b>a</b>, <b>A</b>,
                      <b>d</b>, <b>e</b>, <b>E</b>, <b>f</b>, <b>F</b>, <b>g</b>, <b>G</b>, or <b>i</b>).

         `<b>+</b>'          A sign must always be placed before a number produced by a signed conversion.  A <b>+</b>
                      overrides a space if both are used.

         `<b>'</b>'          Decimal conversions (<b>d</b>, <b>u</b>, or <b>i</b>) or the integral portion of a floating point conver-<font color="#ffffff" class="whiteout">sion&nbsp;conversion</font>
                      sion (<b>f</b> or <b>F</b>) should be grouped and separated by thousands using the non-monetary sep-<font color="#ffffff" class="whiteout">arator&nbsp;separator</font>
                      arator returned by <a href="localeconv.3.html#//apple_ref/doc/man/3/localeconv">localeconv(3)</a>.

     <b></b><b><u>oo</u></b>   An optional separator character (  <b>,</b> | <b>;</b> |  <b>:</b> | <b>_</b> ) used for separating multiple values when print-<font color="#ffffff" class="whiteout">ing&nbsp;printing</font>
         ing an AltiVec or SSE vector, or other multi-value unit.

         NOTE: This is an extension to the <b>printf</b>() specification.  Behaviour of these values for <b>printf</b>()
         is only defined for operating systems conforming to the AltiVec Technology Programming Interface
         Manual.  (At time of writing this includes only Mac OS X 10.2 and later.)

     <b></b><b><u>oo</u></b>   An optional decimal digit string specifying a minimum field width.  If the converted value has
         fewer characters than the field width, it will be padded with spaces on the left (or right, if the
         left-adjustment flag has been given) to fill out the field width.

     <b></b><b><u>oo</u></b>   An optional precision, in the form of a period <b>.</b> followed by an optional digit string.  If the
         digit string is omitted, the precision is taken as zero.  This gives the minimum number of digits
         to appear for <b>d</b>, <b>i</b>, <b>o</b>, <b>u</b>, <b>x</b>, and <b>X</b> conversions, the number of digits to appear after the decimal-<font color="#ffffff" class="whiteout">point&nbsp;decimalpoint</font>
         point for <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>, and <b>F</b> conversions, the maximum number of significant digits for <b>g</b> and <b>G</b>
         conversions, or the maximum number of characters to be printed from a string for <b>s</b> conversions.

     <b></b><b><u>oo</u></b>   An optional length modifier, that specifies the size of the argument.  The following length modi-<font color="#ffffff" class="whiteout">fiers&nbsp;modifiers</font>
         fiers are valid for the <b>d</b>, <b>i</b>, <b>n</b>, <b>o</b>, <b>u</b>, <b>x</b>, or <b>X</b> conversion:

         <b>Modifier</b>          <b>d</b>, <b>i</b>           <b>o</b>, <b>u</b>, <b>x</b>, <b>X</b>            <b>n</b>
         <b>hh</b>                <u>signed</u> <u>char</u>    <u>unsigned</u> <u>char</u>         <u>signed</u> <u>char</u> <u>*</u>
         <b>h</b>                 <u>short</u>          <u>unsigned</u> <u>short</u>        <u>short</u> <u>*</u>
         <b>l</b> (ell)           <u>long</u>           <u>unsigned</u> <u>long</u>         <u>long</u> <u>*</u>
         <b>ll</b> (ell ell)      <u>long</u> <u>long</u>      <u>unsigned</u> <u>long</u> <u>long</u>    <u>long</u> <u>long</u> <u>*</u>
         <b>j</b>                 <u>intmax</u><b>_</b><u>t</u>       <u>uintmax</u><b>_</b><u>t</u>             <u>intmax</u><b>_</b><u>t</u> <u>*</u>
         <b>t</b>                 <u>ptrdiff</u><b>_</b><u>t</u>      (see note)            <u>ptrdiff</u><b>_</b><u>t</u> <u>*</u>
         <b>z</b>                 (see note)     <u>size</u><b>_</b><u>t</u>                (see note)
         <b>q</b> <u>(deprecated)</u>    <u>quad</u><b>_</b><u>t</u>         <u>u</u><b>_</b><u>quad</u><b>_</b><u>t</u>              <u>quad</u><b>_</b><u>t</u> <u>*</u>

         Note: the <b>t</b> modifier, when applied to a <b>o</b>, <b>u</b>, <b>x</b>, or <b>X</b> conversion, indicates that the argument is of
         an unsigned type equivalent in size to a <u>ptrdiff</u><b>_</b><u>t</u>.  The <b>z</b> modifier, when applied to a <b>d</b> or <b>i</b> con-<font color="#ffffff" class="whiteout">version,&nbsp;conversion,</font>
         version, indicates that the argument is of a signed type equivalent in size to a <u>size</u><b>_</b><u>t</u>.  Simi-<font color="#ffffff" class="whiteout">larly,&nbsp;Similarly,</font>
         larly, when applied to an <b>n</b> conversion, it indicates that the argument is a pointer to a signed
         type equivalent in size to a <u>size</u><b>_</b><u>t</u>.

         The following length modifier is valid for the <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>, <b>F</b>, <b>g</b>, or <b>G</b> conversion:

         <b>Modifier</b>    <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>, <b>F</b>, <b>g</b>, <b>G</b>
         <b>l</b> (ell)     <u>double</u> (ignored, same behavior as without it)
         <b>L</b>           <u>long</u> <u>double</u>

         The following length modifier is valid for the <b>c</b> or <b>s</b> conversion:

         <b>Modifier</b>    <b>c</b>         <b>s</b>
         <b>l</b> (ell)     <u>wint</u><b>_</b><u>t</u>    <u>wchar</u><b>_</b><u>t</u> <u>*</u>

         The AltiVec Technology Programming Interface Manual also defines five additional length modifiers
         which can be used (in place of the conventional length modifiers) for the printing of AltiVec or
         SSE vectors:
         <b>v</b>           Treat the argument as a vector value, unit length will be determined by the conversion
                     specifier (default = 16 8-bit units for all integer conversions, 4 32-bit units for
                     floating point conversions).
         <b>vh,</b> <b>hv</b>      Treat the argument as a vector of 8 16-bit units.
         <b>vl,</b> <b>lv</b>      Treat the argument as a vector of 4 32-bit units.

         NOTE: The vector length specifiers are extensions to the <b>printf</b>() specification.  Behaviour of
         these values for <b>printf</b>() is only defined for operating systems conforming to the AltiVec Technol-<font color="#ffffff" class="whiteout">ogy&nbsp;Technology</font>
         ogy Programming Interface Manual.  (At time of writing this includes only Mac OS X 10.2 and later.)

         As a further extension, for SSE2 64-bit units:
         <b>vll,</b> <b>llv</b>    Treat the argument as a vector of 2 64-bit units.

     <b></b><b><u>oo</u></b>   A character that specifies the type of conversion to be applied.

     A field width or precision, or both, may be indicated by an asterisk `*' or an asterisk followed by one
     or more decimal digits and a `$' instead of a digit string.  In this case, an <u>int</u> argument supplies the
     field width or precision.  A negative field width is treated as a left adjustment flag followed by a
     positive field width; a negative precision is treated as though it were missing.  If a single format
     directive mixes positional (nn$) and non-positional arguments, the results are undefined.

     The conversion specifiers and their meanings are:

     <b>diouxX</b>  The <u>int</u> (or appropriate variant) argument is converted to signed decimal (<b>d</b> and <b>i</b>), unsigned
             octal (<b>o</b>), unsigned decimal (<b>u</b>), or unsigned hexadecimal (<b>x</b> and <b>X</b>) notation.  The letters
             ``abcdef'' are used for <b>x</b> conversions; the letters ``ABCDEF'' are used for <b>X</b> conversions.  The
             precision, if any, gives the minimum number of digits that must appear; if the converted value
             requires fewer digits, it is padded on the left with zeros.

     <b>DOU</b>     The <u>long</u> <u>int</u> argument is converted to signed decimal, unsigned octal, or unsigned decimal, as
             if the format had been <b>ld</b>, <b>lo</b>, or <b>lu</b> respectively.  These conversion characters are deprecated,
             and will eventually disappear.

     <b>eE</b>      The <u>double</u> argument is rounded and converted in the style [-]<u>d</u>.<u>ddd</u>e+-<u>dd</u> where there is one
             digit before the decimal-point character and the number of digits after it is equal to the pre-<font color="#ffffff" class="whiteout">cision;&nbsp;precision;</font>
             cision; if the precision is missing, it is taken as 6; if the precision is zero, no decimal-<font color="#ffffff" class="whiteout">point&nbsp;decimalpoint</font>
             point character appears.  An <b>E</b> conversion uses the letter `E' (rather than `e') to introduce
             the exponent.  The exponent always contains at least two digits; if the value is zero, the
             exponent is 00.

             For <b>a</b>, <b>A</b>, <b>e</b>, <b>E</b>, <b>f</b>, <b>F</b>, <b>g</b>, and <b>G</b> conversions, positive and negative infinity are represented as
             inf and -inf respectively when using the lowercase conversion character, and INF and -INF
             respectively when using the uppercase conversion character.  Similarly, NaN is represented as
             nan when using the lowercase conversion, and NAN when using the uppercase conversion.

     <b>fF</b>      The <u>double</u> argument is rounded and converted to decimal notation in the style [-]<u>ddd</u>.<u>ddd</u>, where
             the number of digits after the decimal-point character is equal to the precision specification.
             If the precision is missing, it is taken as 6; if the precision is explicitly zero, no decimal-<font color="#ffffff" class="whiteout">point&nbsp;decimalpoint</font>
             point character appears.  If a decimal point appears, at least one digit appears before it.

     <b>gG</b>      The <u>double</u> argument is converted in style <b>f</b> or <b>e</b> (or <b>F</b> or <b>E</b> for <b>G</b> conversions).  The precision
             specifies the number of significant digits.  If the precision is missing, 6 digits are given;
             if the precision is zero, it is treated as 1.  Style <b>e</b> is used if the exponent from its conver-<font color="#ffffff" class="whiteout">sion&nbsp;conversion</font>
             sion is less than -4 or greater than or equal to the precision.  Trailing zeros are removed
             from the fractional part of the result; a decimal point appears only if it is followed by at
             least one digit.

     <b>aA</b>      The <u>double</u> argument is rounded and converted to hexadecimal notation in the style
             [-]0x<u>h</u>.<u>hhhp</u>[+-]<u>d</u>, where the number of digits after the hexadecimal-point character is equal to
             the precision specification.  If the precision is missing, it is taken as enough to represent
             the floating-point number exactly, and no rounding occurs.  If the precision is zero, no hexa-<font color="#ffffff" class="whiteout">decimal-point&nbsp;hexadecimal-point</font>
             decimal-point character appears.  The <b>p</b> is a literal character `p', and the exponent consists
             of a positive or negative sign followed by a decimal number representing an exponent of 2.  The
             <b>A</b> conversion uses the prefix ``0X'' (rather than ``0x''), the letters ``ABCDEF'' (rather than
             ``abcdef'') to represent the hex digits, and the letter `P' (rather than `p') to separate the
             mantissa and exponent.

             Note that there may be multiple valid ways to represent floating-point numbers in this hexadec-<font color="#ffffff" class="whiteout">imal&nbsp;hexadecimal</font>
             imal format.  For example, 0x3.24p+0, 0x6.48p-1 and 0xc.9p-2 are all equivalent.  The format
             chosen depends on the internal representation of the number, but the implementation guarantees
             that the length of the mantissa will be minimized.  Zeroes are always represented with a man-<font color="#ffffff" class="whiteout">tissa&nbsp;mantissa</font>
             tissa of 0 (preceded by a `-' if appropriate) and an exponent of +0.

     <b>C</b>       Treated as <b>c</b> with the <b>l</b> (ell) modifier.

     <b>c</b>       The <u>int</u> argument is converted to an <u>unsigned</u> <u>char</u>, and the resulting character is written.

             If the <b>l</b> (ell) modifier is used, the <u>wint</u><b>_</b><u>t</u> argument shall be converted to a <u>wchar</u><b>_</b><u>t</u>, and the
             (potentially multi-byte) sequence representing the single wide character is written, including
             any shift sequences.  If a shift sequence is used, the shift state is also restored to the
             original state after the character.

     <b>S</b>       Treated as <b>s</b> with the <b>l</b> (ell) modifier.

     <b>s</b>       The <u>char</u> <u>*</u> argument is expected to be a pointer to an array of character type (pointer to a
             string).  Characters from the array are written up to (but not including) a terminating NUL
             character; if a precision is specified, no more than the number specified are written.  If a
             precision is given, no null character need be present; if the precision is not specified, or is
             greater than the size of the array, the array must contain a terminating NUL character.

             If the <b>l</b> (ell) modifier is used, the <u>wchar</u><b>_</b><u>t</u> <u>*</u> argument is expected to be a pointer to an array
             of wide characters (pointer to a wide string).  For each wide character in the string, the
             (potentially multi-byte) sequence representing the wide character is written, including any
             shift sequences.  If any shift sequence is used, the shift state is also restored to the origi-<font color="#ffffff" class="whiteout">nal&nbsp;original</font>
             nal state after the string.  Wide characters from the array are written up to (but not includ-<font color="#ffffff" class="whiteout">ing)&nbsp;including)</font>
             ing) a terminating wide NUL character; if a precision is specified, no more than the number of
             bytes specified are written (including shift sequences).  Partial characters are never written.
             If a precision is given, no null character need be present; if the precision is not specified,
             or is greater than the number of bytes required to render the multibyte representation of the
             string, the array must contain a terminating wide NUL character.

     <b>p</b>       The <u>void</u> <u>*</u> pointer argument is printed in hexadecimal (as if by `%#x' or `%#lx').

     <b>n</b>       The number of characters written so far is stored into the integer indicated by the <u>int</u> <u>*</u> (or
             variant) pointer argument.  No argument is converted.

     <b>%</b>       A `%' is written.  No argument is converted.  The complete conversion specification is `%%'.

     The decimal point character is defined in the program's locale (category LC_NUMERIC).

     In no case does a non-existent or small field width cause truncation of a numeric field; if the result
     of a conversion is wider than the field width, the field is expanded to contain the conversion result.

<b>EXAMPLES</b>
     To print a date and time in the form ``Sunday, July 3, 10:02'', where <u>weekday</u> and <u>month</u> are pointers to
     strings:

           #include &lt;stdio.h&gt;
           fprintf(stdout, "%s, %s %d, %.2d:%.2d\n",
                   weekday, month, day, hour, min);

     To print pi to five decimal places:

           #include &lt;math.h&gt;
           #include &lt;stdio.h&gt;
           fprintf(stdout, "pi = %.5f\n", 4 * atan(1.0));

     To allocate a 128 byte string and print into it:

           #include &lt;stdio.h&gt;
           #include &lt;stdlib.h&gt;
           #include &lt;stdarg.h&gt;
           char *newfmt(const char *fmt, ...)
           {
                   char *p;
                   va_list ap;
                   if ((p = <!-- a -->malloc(128)<!-- /a -->) == NULL)
                           return (NULL);
                   va_start(ap, fmt);
                   (void) vsnprintf(p, 128, fmt, ap);
                   va_end(ap);
                   return (p);
           }

<b>SECURITY</b> <b>CONSIDERATIONS</b>
     The <b>sprintf</b>() and <b>vsprintf</b>() functions are easily misused in a manner which enables malicious users to
     arbitrarily change a running program's functionality through a buffer overflow attack.  Because
     <b>sprintf</b>() and <b>vsprintf</b>() assume an infinitely long string, callers must be careful not to overflow the
     actual space; this is often hard to assure.  For safety, programmers should use the <b>snprintf</b>() inter-<font color="#ffffff" class="whiteout">face&nbsp;interface</font>
     face instead.  For example:

     void
     foo(const char *arbitrary_string, const char *and_another)
     {
             char onstack[8];

     #ifdef BAD
             /*
              * This first sprintf is bad behavior.  Do not use sprintf!
              */
             sprintf(onstack, "%s, %s", arbitrary_string, and_another);
     #else
             /*
              * The following two lines demonstrate better use of
              * snprintf().
              */
             snprintf(onstack, sizeof(onstack), "%s, %s", arbitrary_string,
                 and_another);
     #endif
     }

     The <b>printf</b>() and <b>sprintf</b>() family of functions are also easily misused in a manner allowing malicious
     users to arbitrarily change a running program's functionality by either causing the program to print
     potentially sensitive data ``left on the stack'', or causing it to generate a memory fault or bus error
     by dereferencing an invalid pointer.

     <b>%n</b> can be used to write arbitrary data to potentially carefully-selected addresses.  Programmers are
     therefore strongly advised to never pass untrusted strings as the <u>format</u> argument, as an attacker can
     put format specifiers in the string to mangle your stack, leading to a possible security hole.  This
     holds true even if the string was built using a function like <b>snprintf</b>(), as the resulting string may
     still contain user-supplied conversion specifiers for later interpolation by <b>printf</b>().

     Always use the proper secure idiom:

           snprintf(buffer, sizeof(buffer), "%s", string);

<b>ERRORS</b>
     In addition to the errors documented for the <a href="../man2/write.2.html#//apple_ref/doc/man/2/write">write(2)</a> system call, the <b>printf</b>() family of functions may
     fail if:

     [EILSEQ]           An invalid wide character code was encountered.

     [ENOMEM]           Insufficient storage space is available.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/printf.1.html#//apple_ref/doc/man/1/printf">printf(1)</a>, <a href="fmtcheck.3.html#//apple_ref/doc/man/3/fmtcheck">fmtcheck(3)</a>, <a href="printf_l.3.html#//apple_ref/doc/man/3/printf_l">printf_l(3)</a>, <a href="scanf.3.html#//apple_ref/doc/man/3/scanf">scanf(3)</a>, <a href="setlocale.3.html#//apple_ref/doc/man/3/setlocale">setlocale(3)</a>, <a href="stdarg.3.html#//apple_ref/doc/man/3/stdarg">stdarg(3)</a>, <a href="wprintf.3.html#//apple_ref/doc/man/3/wprintf">wprintf(3)</a>

<b>STANDARDS</b>
     Subject to the caveats noted in the <u>BUGS</u> section below, the <b>fprintf</b>(), <b>printf</b>(), <b>sprintf</b>(), <b>vprintf</b>(),
     <b>vfprintf</b>(), and <b>vsprintf</b>() functions conform to ANSI X3.159-1989 (``ANSI C89'') and ISO/IEC 9899:1999
     (``ISO C99'').  With the same reservation, the <b>snprintf</b>() and <b>vsnprintf</b>() functions conform to ISO/IEC
     9899:1999 (``ISO C99'').

<b>HISTORY</b>
     The functions <b>asprintf</b>() and <b>vasprintf</b>() first appeared in the GNU C library.  These were implemented
     by Peter Wemm &lt;peter@FreeBSD.org&gt; in FreeBSD 2.2, but were later replaced with a different implementa-<font color="#ffffff" class="whiteout">tion&nbsp;implementation</font>
     tion from Todd C. Miller &lt;Todd.Miller@courtesan.com&gt; for OpenBSD 2.3.

<b>BUGS</b>
     The conversion formats <b>%D</b>, <b>%O</b>, and <b>%U</b> are not standard and are provided only for backward compatibil-<font color="#ffffff" class="whiteout">ity.&nbsp;compatibility.</font>
     ity.  The effect of padding the <b>%p</b> format with zeros (either by the <b>0</b> flag or by specifying a preci-<font color="#ffffff" class="whiteout">sion),&nbsp;precision),</font>
     sion), and the benign effect (i.e., none) of the <b>#</b> flag on <b>%n</b> and <b>%p</b> conversions, as well as other non-<font color="#ffffff" class="whiteout">sensical&nbsp;nonsensical</font>
     sensical combinations such as <b>%Ld</b>, are not standard; such combinations should be avoided.

     The <b>asprintf</b> family of functions do not correctly handle multibyte characters in the <u>format</u> argument.

BSD                            October 16, 2004                            BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/printf.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/printf.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/printf.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
