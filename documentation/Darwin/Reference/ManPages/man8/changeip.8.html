<html><head><title>Mac OS X Server
 Manual Page For changeip(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/changeip" title="Mac OS X Server
 Manual Page for changeip(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/changeip"; name=changeip(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with Mac&nbsp;OS&nbsp;X&nbsp;Server.  It is
not available on standard Mac OS X (client) installations.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
changeip(8)               BSD System Manager's Manual              changeip(8)

<b>NAME</b>
     <b>changeip</b> -- Change service configuration files with hard-coded IP addresses

<b>SYNOPSIS</b>
     <b>changeip</b> [<b>-v</b>] [<b>-d</b> <u>path</u>] <u>directory-node</u> <u>old-ip</u> <u>new-ip</u> [<u>old-hostname</u> <u>new-hostname</u>]

     <b>changeip</b> <b>-checkhostname</b>

     <b>changeip</b> <b>-h</b>

<b>DESCRIPTION</b>
     <b>changeip</b> is used to update configuration records when a server's IP address or hostname changes.

     In typical usage, this command is used by an administrator to correct affected services when a server's
     network information changes. Preferably, <b>changeip</b> should be invoked before the change is applied. In
     this invocation, the arguments consist of a target directory, the server's current and pending IP
     addresses, and optionally the existing and new host name. Their usage and valid values include

           <u>directory-node</u>  For machines hosting an LDAP directory, this should be <u>/LDAPv3/127.0.0.1</u>.

                           For servers connecting to an external directory, the Open Directory path to the
                           directory node must be used, e.g.  <u>/LDAPv3/192.12.0.43</u>.

                           To manipulate only the local directory, use a dash (<b>-</b>).

                           Depending on the directory, the tool may prompt for administrator credentials to
                           <u>the</u> <u>target</u> <u>directory</u> <u>node.</u>

           <u>old-ip</u>          If the IP address has not yet been changed, this is the existing IP address of
                           the server. If the IP has already been changed, this is the previous address.
                           (This is the value that will be replaced in the server's directory service and
                           relevant configuration files.)

           <u>new-ip</u>          If the IP address has not yet been changed, this is the IP address that will be
                           assigned to the server. If the IP has already been changed, this is the existing
                           IP address. This value will replace old-ip in the machine's configuration.

           <u>old-hostname</u>    As with old-ip, the existing or previous fully qualified domain name ("FQDN" or
                           sometimes "DNS name") for this server. If only the IP address was affected, this
                           argument and the next may be omitted.

           <u>new-hostname</u>    If <u>old-hostname</u> was provided, this argument must also be provided. The machine's
                           fully qualified domain name and related service configuration will be set to this
                           value.

     Once the tool has successfully completed, the administrator must change the machine's network settings
     in the Network Control Panel to match <u>new-ip</u> and immediately reboot the server.

     The second invocation, <b>-checkhostname</b>, provides a diagnostic tool that compares the current IP address
     and hostname to the information returned by DNS.

     The final invocation prints usage information.

     <b>changeip</b> must be run as root.

<b>OPTIONS</b>
     The following options are available:
     <b>-d</b> <u>path</u>      Iterate over the executables in <u>path</u> instead of the default <u>/usr/libexec/changeip</u>.

     <b>-h</b>           Print usage summary and exit.

     <b>-v</b>           Run verbosely, that is with additional diagnostic output.

<b>FILES</b> <b>&amp;</b> <b>FOLDERS</b>
     /usr/sbin/changeip
           <b>-</b>   daemon
     /usr/libexec/changeip/
           <b>-</b>   directory containing service-specific tools

<b>EXAMPLES</b>
     Standard examples can be extrapolated from the above description. One common invocation is to change
     the IP and name of an Open Directory master:
           changeip /LDAPv3/127.0.0.1 192.0.0.12 192.0.1.10 old.example.com new.example.com
     This prepares for changing the address and DNS names of a machine hosting an LDAP master. Note that it
     may still be necessary to change the configuration of machines binding to this master.

     For standalone machines, the above example only needs to replace the directory node:
           changeip - 192.0.0.12 192.0.1.10 old.example.com new.example.com

     As noted above, for machines connecting to another OD master, the master's node path must be used:
           changeip /LDAPv3/192.12.0.43 192.0.0.12 192.0.1.10 old.example.com new.example.com
     Authentication to the directory master will almost certainly be requested.

     It is also possible to leave the host name intact and only change the IP address:
           changeip - 192.0.0.12 192.0.1.10
     Its complement could be used to change only the host names, perhaps because the DNS tables have been
     changed:
           changeip - 192.0.0.12 192.0.0.12 old.example.com new.example.com
     Note how the IP addresses are required, but that they are identical.

<b>DIAGNOSTICS</b>
     The <b>changeip</b> utility exits 0 on success, and &gt;0 if an error occurs.

     <b>changeip</b> <b>must</b> <b>be</b> <b>run</b> <b>as</b> <b>root.</b>  Because <b>changeip</b> modifies system-wide resources, it must be executed by
     the root user.

     <b>Invalid</b> <b>IP</b> <b>Address:</b>  One of the IP address arguments was invalid.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/dscl.1.html#//apple_ref/doc/man/1/dscl">dscl(1)</a>, <a href="../man7/DirectoryServiceAttributes.7.html#//apple_ref/doc/man/7/DirectoryServiceAttributes">DirectoryServiceAttributes(7)</a>, <a href="DirectoryService.8.html#//apple_ref/doc/man/8/DirectoryService">DirectoryService(8)</a>, <a href="scutil.8.html#//apple_ref/doc/man/8/scutil">scutil(8)</a>

<b>KNOWN</b> <b>ISSUES</b>
     The script does not perform the actual change of IP address; this is by design.

<b>HISTORY</b>
     A version of <b>changeip</b> has been present in Mac OS X Server since at least version 10.3 (Panther).

Mac OS X Server 10.5           December 12, 2006          Mac OS X Server 10.5
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/changeip.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/changeip.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/changeip.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
