<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> driver gestalt2</TITLE></HEAD><BODY BGCOLOR="#ffffff"><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b>	<a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> <a href="../../devicemgrs.html">Device Managers and Drivers</a>	<b>&gt;</b> <a href="../ata.html" target="_top">ATA Devices</a>	<b>&gt;</b> ATA Device Software Guide		</font></td>	</tr>	</table><br><!-- end of path --><DIV><!-- top navigation --><P><A HREF="ATA.11.html"><img src="images/up.gif" border="0"></A> <A HREF="ATA.1f.html"><img src="images/previous.gif" border="0"></A> <A HREF="ATA.21.html"><img src="images/next.gif" border="0"></A> <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></a></div><!-- end top navigation --><hr><H3 CLASS="RoH.RoutineHeading"><A NAME="pgfId=1262"> </A>driver gestalt</H3><P CLASS="T0.Text0"><A NAME="pgfId=1263"> </A>The <TT CLASS="cv">driver gestalt</TT> status function provides the application information about the ATA disk driver and the attached device. Several calls are supported under this function. A Gestalt selector is used to specify a particular call. <A NAME="marker=1264"> </A><A NAME="marker=1265"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=1266"> </A>The <TT CLASS="cv">DriverGestaltParam</TT> data type defines the ATA Gestalt structure. Refer to <I CLASS="italics">Designing PCI Cards and Drivers for the Macintosh Family</I> for information related to the ATA gestalt structure. <A NAME="marker=1267"> </A><A NAME="marker=1268"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=1269"> </A>The fields <TT CLASS="cv">driverGestaltSelector</TT> and <TT CLASS="cv">driverGestaltResponse</TT> are 32-bit fields that contain the gestalt selector and possible responses. The selectors and responses are defined in the parameter block definition. </P><P CLASS="PH.ParamHd"><BR><A NAME="pgfId=1440"><B>Parameter block</B> </A></P><TABLE BORDER=1 CELLPADDING=3><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=1987"> </A><TT CLASS="cv">--&gt;</TT></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=1989"> </A><TT>csCode </TT></P></TD><TD ROWSPAN="1" COLSPAN="2"><FONT CLASS="ML.ColsList"><A NAME="pgfId=1991"> </A>A value of 43.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=1995"> </A><TT CLASS="cv">--&gt;</TT></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=1997"> </A><TT>ioVRefNum</TT></P></TD><TD ROWSPAN="1" COLSPAN="2"><FONT CLASS="ML.ColsList"><A NAME="pgfId=1999"> </A>The logical drive number.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2003"> </A><TT CLASS="cv">--&gt;</TT></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2005"> </A><TT>driverGestaltSelector</TT></P></TD><TD ROWSPAN="1" COLSPAN="2"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2007"> </A>Gestalt function selector. This is a 32-bit ASCII field containing one of the following selectors:</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2011"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2013"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2015"> </A><TT CLASS="cv">sync </TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2017"> </A>Indicate synchronous or <BR>asynchronous driver.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2019"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2021"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2023"> </A><TT CLASS="cv">devt</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2025"> </A>Specify type of device the driver <BR>is controlling.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2027"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2029"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2031"> </A><TT CLASS="cv">intf</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2033"> </A>Specify the device interface.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2035"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2037"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2039"> </A><TT CLASS="cv">boot</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2041"> </A>Specify PRAM value to designate this driver or device.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2043"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2045"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2047"> </A><TT CLASS="cv">vers</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2049"> </A>Specify the version number of the driver.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2051"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2053"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2055"> </A>lpwr</FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2057"> </A>Indicates low power mode support.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2059"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2061"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2063"> </A>purg</FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2065"> </A>Request if the driver can be closed and or purged. </FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2067"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2069"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2071"> </A>wide</FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2073"> </A>Indicates large volume support. </FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2075"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2077"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2079"> </A>ejec</FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2081"> </A>Eject control function requirements.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2083"> </A><TT CLASS="cv">&lt;--</TT></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2085"> </A><TT>driverGestaltResponse</TT></P></TD><TD ROWSPAN="1" COLSPAN="2"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2087"> </A>Returned result based on the driver gestalt selector. The possible four-character return values are:</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2091"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2093"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2095"> </A><TT CLASS="cv">TRUE</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2097"> </A>If the <TT CLASS="cv">sync</TT> driver selector is specified, this Boolean value indicates that the driver is synchronous; a value of <TT CLASS="cv">FALSE</TT> indicates asynchronous.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2099"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2101"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2103"> </A><TT CLASS="cv">'disk'</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2105"> </A>If the <TT CLASS="cv">devt</TT> driver selector is specified, this value indicates a hard disk driver.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2107"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2109"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2111"> </A><TT CLASS="cv">'ide '</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2113"> </A>If the <TT CLASS="cv">intf</TT> driver selector is specified, this value indicates the interface is ATA.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2115"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2117"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2119"> </A><I CLASS="italics">nnnn</I></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2121"> </A>If the <TT CLASS="cv">vers</TT> selector is specified, the current version number of the driver is returned.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2123"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2125"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2127"> </A><TT CLASS="cv">TRUE</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2129"> </A>If the <TT CLASS="cv">lpwr</TT> selector is specified, this value indicates the power mode control and status function are supported.</FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2131"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2133"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2135"> </A><TT CLASS="cv">TRUE</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2137"> </A>If the <TT CLASS="cv">wide</TT> selector is specified, this value indicates the driver supports large volumes. </FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2139"> </A></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2141"> </A><TT></TT></P></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2143"> </A><TT CLASS="cv">value</TT></FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2145"> </A>If the <TT CLASS="cv">ejec</TT> selector is specified, this value indicates when the <TT CLASS="cv">ejec</TT> call should be made. Bit 0, if set, means don't issue eject call on Restart. Bit 1, if set, means don't issue eject call on Shutdown.</FONT><FONT CLASS="ML.ColsList"><A NAME="pgfId=2146"> </A>If the <TT CLASS="cv">purg</TT> selector is specified, this value indicates whether the driver can close and or purged from memory. A value of 0 indicates that the driver cannot be closed. A value of 3 indicates that the driver can be closed, but not purged. A value of 7 indicates that the driver can be both closed and purged from memory. </FONT></TD></TR><TR><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2148"> </A><TT CLASS="cv">&lt;--</TT></FONT></TD><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=2150"> </A><TT>ioResult</TT></P></TD><TD ROWSPAN="1" COLSPAN="2"><FONT CLASS="ML.ColsList"><A NAME="pgfId=2152"> </A>See result codes.</FONT></TD></TR></TABLE><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=1460"> </A>RESULT CODES</H5><TABLE BORDER=1 CELLPADDING=3><TR><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=1443"> </A><TT>noErr</TT></P></TD><TD VALIGN="TOP"><FONT CLASS="MLR.RtAlign"><A NAME="pgfId=1445"> </A>0</FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=1447"> </A>Successful completion, no error occurred</FONT></TD></TR><TR><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=1449"> </A><TT>statusErr</TT></P></TD><TD VALIGN="TOP"><FONT CLASS="MLR.RtAlign"><A NAME="pgfId=1451"> </A>-18</FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=1453"> </A>Unknown selector was specified</FONT></TD></TR><TR><TD VALIGN="TOP"><P CLASS="MLCv.MLCode"><A NAME="pgfId=1455"> </A><TT>nsDrvErr</TT></P></TD><TD VALIGN="TOP"><FONT CLASS="MLR.RtAlign"><A NAME="pgfId=1457"> </A>-56</FONT></TD><TD VALIGN="TOP"><FONT CLASS="ML.ColsList"><A NAME="pgfId=1459"> </A>The specified logical drive number does not exist</FONT></TD></TR></TABLE></DIV><HR>&#169 1999 Apple Computer, Inc. &#151; (Last Updated 9 Mar 99) <P><A HREF="ATA.11.html"><img src="images/up.gif" border="0"></A> <A HREF="ATA.1f.html"><img src="images/previous.gif" border="0"></A> <A HREF="ATA.21.html"><img src="images/next.gif" border="0"></A>  <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!-- document.write(frameLink);//--></script></a><!-- end Show/Hide frames --></P><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>