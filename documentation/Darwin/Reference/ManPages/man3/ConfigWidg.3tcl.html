<html><head><title>Mac OS X
 Manual Page For ConfigWidg(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/ConfigWidg" title="Mac OS X
 Manual Page for ConfigWidg(3tcl)"><a name="//apple_ref/doc/man/3/ConfigWidg" title="Mac OS X
 Manual Page for ConfigWidg(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/ConfigWidg"; name=ConfigWidg(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tk_ConfigureWidget(3)                       Tk Library Procedures                      <a href="Tk_ConfigureWidget.3tcl.html#//apple_ref/doc/man/3/Tk_ConfigureWidget">Tk_ConfigureWidget(3)</a>



____________________________________________________________________________________________________________

<b>NAME</b>
       Tk_ConfigureWidget,  Tk_ConfigureInfo,  Tk_ConfigureValue,  Tk_FreeOptions  -  process  configuration
       options for widgets

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tk.h&gt;</b>

       int
       <b>Tk_ConfigureWidget(</b><u>interp,</u> <u>tkwin,</u> <u>specs,</u> <u>argc,</u> <u>argv,</u> <u>widgRec,</u> <u>flags</u><b>)</b>

       int
       <b>Tk_ConfigureInfo(</b><u>interp,</u> <u>tkwin,</u> <u>specs,</u> <u>widgRec,</u> <u>argvName,</u> <u>flags</u><b>)</b>

       int
       <b>Tk_ConfigureValue(</b><u>interp,</u> <u>tkwin,</u> <u>specs,</u> <u>widgRec,</u> <u>argvName,</u> <u>flags</u><b>)</b>

       <b>Tk_FreeOptions(</b><u>specs,</u> <u>widgRec,</u> <u>display,</u> <u>flags</u><b>)</b>

<b>ARGUMENTS</b>
       Tcl_Interp      <u>*interp</u>    (in)      Interpreter to use for returning error messages.

       Tk_Window       <u>tkwin</u>      (in)      Window used to represent widget (needed to set up X  resources).

       Tk_ConfigSpec   <u>*specs</u>     (in)      Pointer to table specifying legal configuration options for this
                                            widget.

       int             <u>argc</u>       (in)      Number of arguments in <u>argv</u>.

       CONST char      <u>**argv</u>     (in)      Command-line options for configuring widget.

       char            <u>*widgRec</u>   (in/out)  Points to widget record structure.  Fields in this structure get
                                            modified  by  <b>Tk_ConfigureWidget</b>  to hold configuration informa-<font color="#ffffff" class="whiteout">tion.&nbsp;information.</font>
                                            tion.

       int             <u>flags</u>      (in)      If non-zero, then it specifies an  OR-ed  combination  of  flags
                                            that   control  the  processing  of  configuration  information.
                                            TK_CONFIG_ARGV_ONLY causes the option database and  defaults  to
                                            be ignored, and flag bits TK_CONFIG_USER_BIT and higher are used
                                            to selectively disable entries in <u>specs</u>.

       type name       <u>type</u>       (in)      The name of the type of a widget record.

       field name      <u>field</u>      (in)      The name of a field in records of type <u>type</u>.

       CONST char      <u>*argvName</u>  (in)      The name used on Tcl command lines  to  refer  to  a  particular
                                            option  (e.g.  when  creating a widget or invoking the <b>configure</b>
                                            widget command).  If non-NULL, then information is returned only
                                            for  this option.  If NULL, then information is returned for all
                                            available options.

       Display         <u>*display</u>   (in)      Display containing widget whose record is being  freed;   needed
                                            in order to free up resources.
____________________________________________________________________________________________________________

<b>DESCRIPTION</b>
       Note:  <b>Tk_ConfigureWidget</b>  should  be replaced with the new <b>Tcl_Obj</b> based API <b>Tk_SetOptions</b>.  The old |
       interface is retained for backward compatibility.

       <b>Tk_ConfigureWidget</b> is called to configure various aspects of a widget, such as colors, fonts,  border
       width,  etc.   It  is  intended  as a convenience procedure to reduce the amount of code that must be
       written in individual widget managers to handle configuration information.  It is  typically  invoked
       when  widgets  are  created,  and again when the <b>configure</b> command is invoked for a widget.  Although
       intended primarily for widgets, <b>Tk_ConfigureWidget</b> can be used in other  situations  where  <u>argc-argv</u>
       information is to be used to fill in a record structure, such as configuring graphical elements for a
       canvas widget or entries of a menu.

       <b>Tk_ConfigureWidget</b> processes a table specifying the configuration options that are supported  (<u>specs</u>)
       and  a  collection of command-line arguments (<u>argc</u> and <u>argv</u>) to fill in fields of a record (<u>widgRec</u>).
       It uses the option database and defaults specified in <u>specs</u> to fill in fields of <u>widgRec</u> that are not
       specified  in  <u>argv</u>.   <b>Tk_ConfigureWidget</b> normally returns the value TCL_OK; in this case it does not
       modify <u>interp</u>.  If an error occurs then TCL_ERROR is returned and <b>Tk_ConfigureWidget</b>  will  leave  an
       error  message  in <u>interp-&gt;result</u> in the standard Tcl fashion.  In the event of an error return, some
       of the fields of <u>widgRec</u> could already have been set, if configuration information for them was  suc-<font color="#ffffff" class="whiteout">cessfully&nbsp;successfully</font>
       cessfully  processed  before  the error occurred.  The other fields will be set to reasonable initial
       values so that <b>Tk_FreeOptions</b> can be called for cleanup.

       The <u>specs</u> array specifies the kinds of configuration options expected by the  widget.   Each  of  its
       entries specifies one configuration option and has the following structure:
              typedef struct {
                int <u>type</u>;
                char *<u>argvName</u>;
                char *<u>dbName</u>;
                char *<u>dbClass</u>;
                char *<u>defValue</u>;
                int <u>offset</u>;
                int <u>specFlags</u>;
                Tk_CustomOption *<u>customPtr</u>;
              } Tk_ConfigSpec;
       The  <u>type</u> field indicates what type of configuration option this is (e.g. TK_CONFIG_COLOR for a color
       value, or TK_CONFIG_INT for an integer value).  The <u>type</u> field indicates how to use the value of  the
       option  (more  on this below).  The <u>argvName</u> field is a string such as ``-font'' or ``-bg'', which is
       compared with the values in <u>argv</u> (if <u>argvName</u> is NULL it means this is a grouped entry;  see  GROUPED
       ENTRIES  below).   The  <u>dbName</u>  and <u>dbClass</u> fields are used to look up a value for this option in the
       option database.  The <u>defValue</u> field specifies a default value for this configuration  option  if  no
       value is specified in either <u>argv</u> or the option database.  <u>Offset</u> indicates where in <u>widgRec</u> to store
       information about this option, and <u>specFlags</u> contains additional information to control the  process-<font color="#ffffff" class="whiteout">ing&nbsp;processing</font>
       ing  of this configuration option (see FLAGS below).  The last field, <u>customPtr</u>, is only used if <u>type</u>
       is TK_CONFIG_CUSTOM;  see CUSTOM OPTION TYPES below.

       <b>Tk_ConfigureWidget</b> first processes <u>argv</u> to see which (if any)  configuration  options  are  specified
       there.   <u>Argv</u> must contain an even number of fields;  the first of each pair of fields must match the
       <u>argvName</u> of some entry in <u>specs</u> (unique abbreviations are acceptable), and the second  field  of  the
       pair  contains the value for that configuration option.  If there are entries in <u>spec</u> for which there
       were no matching entries in <u>argv</u>, <b>Tk_ConfigureWidget</b> uses the <u>dbName</u> and <u>dbClass</u> fields of the  <u>specs</u>
       entry  to  probe  the  option  database;   if  a value is found, then it is used as the value for the
       option.  Finally, if no entry is found in the option database, the <u>defValue</u> field of the <u>specs</u>  entry
       is  used  as  the  value  for  the  configuration option.  If the <u>defValue</u> is NULL, or if the TK_CON-<font color="#ffffff" class="whiteout">FIG_DONT_SET_DEFAULT&nbsp;TK_CONFIG_DONT_SET_DEFAULT</font>
       FIG_DONT_SET_DEFAULT bit is set in <u>flags</u>, then there is no default value and this <u>specs</u> entry will be
       ignored if no value is specified in <u>argv</u> or the option database.

       Once a string value has been determined for a configuration option, <b>Tk_ConfigureWidget</b> translates the
       string value into a more useful form, such as a color if <u>type</u> is TK_CONFIG_COLOR  or  an  integer  if
       <u>type</u>  is  TK_CONFIG_INT.  This value is then stored in the record pointed to by <u>widgRec</u>.  This record
       is assumed to contain information relevant to the manager of the widget;  its exact type  is  unknown
       to  <b>Tk_ConfigureWidget</b>.  The <u>offset</u> field of each <u>specs</u> entry indicates where in <u>widgRec</u> to store the
       information about this configuration option.  You should use the <b>Tk_Offset</b> macro to  generate  <u>offset</u>
       values (see below for a description of <b>Tk_Offset</b>).  The location indicated by <u>widgRec</u> and <u>offset</u> will
       be referred to as the ``target'' in the descriptions below.

       The <u>type</u> field of each entry in <u>specs</u> determines what to do with the string value of that  configura-<font color="#ffffff" class="whiteout">tion&nbsp;configuration</font>
       tion option.  The legal values for <u>type</u>, and the corresponding actions, are:

       <b>TK_CONFIG_ACTIVE_CURSOR</b>
              The  value  must  be  an  ASCII  string identifying a cursor in a form suitable for passing to
              <b>Tk_GetCursor</b>.  The value is converted to a <b>Tk_Cursor</b> by calling <b>Tk_GetCursor</b> and the result is
              stored  in  the target.  In addition, the resulting cursor is made the active cursor for <u>tkwin</u>
              by calling <b>XDefineCursor</b>.  If TK_CONFIG_NULL_OK is specified in <u>specFlags</u> then the  value  may
              be  an  empty  string, in which case the target and <u>tkwin</u>'s active cursor will be set to <b>None</b>.
              If the previous value of the target wasn't <b>None</b>, then it is freed by passing it to <b>Tk_FreeCur</b>-<font color="#ffffff" class="whiteout">sor.&nbsp;Tk_FreeCursor.</font>
              <b>sor</b>.

       <b>TK_CONFIG_ANCHOR</b>
              The  value  must be an ASCII string identifying an anchor point in one of the ways accepted by
              <b>Tk_GetAnchor</b>.  The string is converted to a <b>Tk_Anchor</b> by calling <b>Tk_GetAnchor</b> and  the  result
              is stored in the target.

       <b>TK_CONFIG_BITMAP</b>
              The  value  must  be  an  ASCII  string identifying a bitmap in a form suitable for passing to
              <b>Tk_GetBitmap</b>.  The value is converted to a <b>Pixmap</b> by calling <b>Tk_GetBitmap</b> and  the  result  is
              stored in the target.  If TK_CONFIG_NULL_OK is specified in <u>specFlags</u> then the value may be an
              empty string, in which case the target is set to <b>None</b>.  If the previous value  of  the  target
              wasn't <b>None</b>, then it is freed by passing it to <b>Tk_FreeBitmap</b>.

       <b>TK_CONFIG_BOOLEAN</b>
              The  value  must  be  an ASCII string specifying a boolean value.  Any of the values ``true'',
              ``yes'', ``on'', or ``1'', or an abbreviation of one of these values, means true; any  of  the
              values  ``false'', ``no'', ``off'', or ``0'', or an abbreviation of one of these values, means
              false.  The target is expected to be an integer;  for true values it will be set to 1 and  for
              false values it will be set to 0.

       <b>TK_CONFIG_BORDER</b>
              The value must be an ASCII string identifying a border color in a form suitable for passing to
              <b>Tk_Get3DBorder</b>.  The value is converted to a (<b>Tk_3DBorder</b> <b>*</b>) by calling <b>Tk_Get3DBorder</b> and the
              result is stored in the target.  If TK_CONFIG_NULL_OK is specified in <u>specFlags</u> then the value
              may be an empty string, in which case the target will be set to NULL.  If the  previous  value
              of the target wasn't NULL, then it is freed by passing it to <b>Tk_Free3DBorder</b>.

       <b>TK_CONFIG_CAP_STYLE</b>
              The  value  must  be  an  ASCII  string identifying a cap style in one of the ways accepted by
              <b>Tk_GetCapStyle</b>.  The string is converted to an integer value corresponding to the cap style by
              calling <b>Tk_GetCapStyle</b> and the result is stored in the target.

       <b>TK_CONFIG_COLOR</b>
              The  value  must  be  an  ASCII  string  identifying a color in a form suitable for passing to
              <b>Tk_GetColor</b>.  The value is converted to an (<b>XColor</b> <b>*</b>) by calling <b>Tk_GetColor</b> and the result is
              stored in the target.  If TK_CONFIG_NULL_OK is specified in <u>specFlags</u> then the value may be an
              empty string, in which case the target will be set to <b>None</b>.  If the previous value of the tar-<font color="#ffffff" class="whiteout">get&nbsp;target</font>
              get wasn't NULL, then it is freed by passing it to <b>Tk_FreeColor</b>.

       <b>TK_CONFIG_CURSOR</b>
              This option is identical to <b>TK_CONFIG_ACTIVE_CURSOR</b> except that the new cursor is not made the
              active one for <u>tkwin</u>.

       <b>TK_CONFIG_CUSTOM</b>
              This option allows applications to define new option types.  The <u>customPtr</u> field of the  entry
              points to a structure defining the new option type.  See the section CUSTOM OPTION TYPES below
              for details.

       <b>TK_CONFIG_DOUBLE</b>
              The value must be an ASCII floating-point number in the format accepted by <b>strtol</b>.  The string
              is converted to a <b>double</b> value, and the value is stored in the target.

       <b>TK_CONFIG_END</b>
              Marks  the  end  of the table.  The last entry in <u>specs</u> must have this type;  all of its other
              fields are ignored and it will never match any arguments.

       <b>TK_CONFIG_FONT</b>
              The value must be an ASCII string identifying a font in a form suitable for passing to <b>Tk_Get</b>-<font color="#ffffff" class="whiteout">Font.&nbsp;Tk_GetFont.</font>
              <b>Font</b>.   The  value is converted to a <b>Tk_Font</b> by calling <b>Tk_GetFont</b> and the result is stored in
              the target.  If TK_CONFIG_NULL_OK is specified in <u>specFlags</u> then the value  may  be  an  empty
              string,  in  which  case  the target will be set to NULL.  If the previous value of the target
              wasn't NULL, then it is freed by passing it to <b>Tk_FreeFont</b>.

       <b>TK_CONFIG_INT</b>
              The value must be an ASCII integer string in the format accepted by  <b>strtol</b>  (e.g.  ``0''  and
              ``0x''  prefixes  may  be  used  to  specify octal or hexadecimal numbers, respectively).  The
              string is converted to an integer value and the integer is stored in the target.

       <b>TK_CONFIG_JOIN_STYLE</b>
              The value must be an ASCII string identifying a join style in one  of  the  ways  accepted  by
              <b>Tk_GetJoinStyle</b>.   The string is converted to an integer value corresponding to the join style
              by calling <b>Tk_GetJoinStyle</b> and the result is stored in the target.

       <b>TK_CONFIG_JUSTIFY</b>
              The value must be an ASCII string identifying a  justification  method  in  one  of  the  ways
              accepted  by  <b>Tk_GetJustify</b>.  The string is converted to a <b>Tk_Justify</b> by calling <b>Tk_GetJustify</b>
              and the result is stored in the target.

       <b>TK_CONFIG_MM</b>
              The value must specify a screen distance in one of the  forms  acceptable  to  <b>Tk_GetScreenMM</b>.
              The  string  is  converted  to double-precision floating-point distance in millimeters and the
              value is stored in the target.

       <b>TK_CONFIG_PIXELS</b>
              The value must specify screen units in one of  the  forms  acceptable  to  <b>Tk_GetPixels</b>.   The
              string is converted to an integer distance in pixels and the value is stored in the target.

       <b>TK_CONFIG_RELIEF</b>
              The  value  must  be  an  ASCII  string identifying a relief in a form suitable for passing to
              <b>Tk_GetRelief</b>.  The value is converted to an integer relief value by calling  <b>Tk_GetRelief</b>  and
              the result is stored in the target.

       <b>TK_CONFIG_STRING</b>
              A  copy of the value is made by allocating memory space with <b>malloc</b> and copying the value into
              the dynamically-allocated space.  A pointer to the new string is stored  in  the  target.   If
              TK_CONFIG_NULL_OK  is  specified  in <u>specFlags</u> then the value may be an empty string, in which
              case the target will be set to NULL.  If the previous value of the target wasn't NULL, then it
              is freed by passing it to <b>free</b>.

       <b>TK_CONFIG_SYNONYM</b>
              This  <u>type</u>  value identifies special entries in <u>specs</u> that are synonyms for other entries.  If
              an <u>argv</u> value matches the  <u>argvName</u>  of  a  TK_CONFIG_SYNONYM  entry,  the  entry  isn't  used
              directly.  Instead,  <b>Tk_ConfigureWidget</b> searches <u>specs</u> for another entry whose <u>argvName</u> is the
              same as the <u>dbName</u> field in the TK_CONFIG_SYNONYM entry;  this new entry is used  just  as  if
              its <u>argvName</u> had matched the <u>argv</u> value.  The synonym mechanism allows multiple <u>argv</u> values to
              be used for a single configuration option, such as ``-background'' and ``-bg''.

       <b>TK_CONFIG_UID</b>
              The value is translated to a <b>Tk_Uid</b> (by passing it to  <b>Tk_GetUid</b>).   The  resulting  value  is
              stored  in  the  target.   If  TK_CONFIG_NULL_OK is specified in <u>specFlags</u> and the value is an
              empty string then the target will be set to NULL.

       <b>TK_CONFIG_WINDOW</b>
              The value must be a window path name.  It is translated to a <b>Tk_Window</b> token and the token  is
              stored in the target.


<b>GROUPED</b> <b>ENTRIES</b>
       In  some  cases  it  is useful to generate multiple resources from a single configuration value.  For
       example, a color name might be used both to generate the background color for a widget (using TK_CON-<font color="#ffffff" class="whiteout">FIG_COLOR)&nbsp;TK_CONFIG_COLOR)</font>
       FIG_COLOR) and to generate a 3-D border to draw around the widget (using TK_CONFIG_BORDER).  In cases
       like this it is possible to specify that several consecutive entries in <u>specs</u> are to be treated as  a
       group.   The  first entry is used to determine a value (using its <u>argvName</u>, <u>dbName</u>, <u>dbClass</u>, and <u>def</u>-<font color="#ffffff" class="whiteout">Value&nbsp;defValue</font>
       <u>Value</u> fields).  The value will be processed several times (one for each entry in the group), generat-<font color="#ffffff" class="whiteout">ing&nbsp;generating</font>
       ing  multiple different resources and modifying multiple targets within <u>widgRec</u>.  Each of the entries
       after the first must have a NULL value in its <u>argvName</u> field;  this indicates that the entry is to be
       grouped with the entry that precedes it.  Only the <u>type</u> and <u>offset</u> fields are used from these follow-<font color="#ffffff" class="whiteout">on&nbsp;followon</font>
       on entries.


<b>FLAGS</b>
       The <u>flags</u> argument passed to <b>Tk_ConfigureWidget</b> is used in conjunction with the <u>specFlags</u>  fields  in
       the  entries  of  <u>specs</u>  to  provide additional control over the processing of configuration options.
       These values are used in three different ways as described below.

       First, if the <u>flags</u> argument to <b>Tk_ConfigureWidget</b> has the TK_CONFIG_ARGV_ONLY bit set (i.e., <u>flags</u> |
       TK_CONFIG_ARGV_ONLY  != 0), then the option database and <u>defValue</u> fields are not used.  In this case,
       if an entry in <u>specs</u> doesn't match a field in <u>argv</u> then nothing  happens:  the  corresponding  target
       isn't  modified.   This  feature  is  useful when the goal is to modify certain configuration options
       while leaving others in their current state, such as when a <b>configure</b> widget command  is  being  pro-<font color="#ffffff" class="whiteout">cessed.&nbsp;processed.</font>
       cessed.

       Second, the <u>specFlags</u> field of an entry in <u>specs</u> may be used to control the processing of that entry.
       Each <u>specFlags</u> field may consists of an OR-ed combination of the following values:

       <b>TK_CONFIG_COLOR_ONLY</b>
              If this bit is set then the entry will only be considered if the display for  <u>tkwin</u>  has  more
              than one bit plane.  If the display is monochromatic then this <u>specs</u> entry will be ignored.

       <b>TK_CONFIG_MONO_ONLY</b>
              If this bit is set then the entry will only be considered if the display for <u>tkwin</u> has exactly
              one bit plane.  If the display is not monochromatic then this <u>specs</u> entry will be ignored.

       <b>TK_CONFIG_NULL_OK</b>
              This bit is only relevant for some types of entries (see the descriptions of the various entry
              types  above).   If  this bit is set, it indicates that an empty string value for the field is
              acceptable and if it occurs then the target should be set to NULL or <b>None</b>,  depending  on  the
              type of the target.  This flag is typically used to allow a feature to be turned off entirely,
              e.g. set a cursor value to <b>None</b> so that a window simply inherits its parent's cursor.  If this
              bit  isn't  set  then  empty  strings  are processed as strings, which generally results in an
              error.

       <b>TK_CONFIG_DONT_SET_DEFAULT</b>
              If this bit is one, it means that the <u>defValue</u> field of the entry  should  only  be  used  for
              returning  the  default  value in <b>Tk_ConfigureInfo</b>.  In calls to <b>Tk_ConfigureWidget</b> no default
              will be supplied for entries with this flag set;  it is assumed that the  caller  has  already
              supplied  a  default value in the target location.  This flag provides a performance optimiza-<font color="#ffffff" class="whiteout">tion&nbsp;optimization</font>
              tion where it is expensive to process the default string:  the client can compute the  default
              once, save the value, and provide it before calling <b>Tk_ConfigureWidget</b>.

       <b>TK_CONFIG_OPTION_SPECIFIED</b>
              This  bit is set and cleared by <b>Tk_ConfigureWidget</b>.  Whenever <b>Tk_ConfigureWidget</b> returns, this
              bit will be set in all the entries where a value was specified in <u>argv</u>.  It will  be  zero  in
              all  other  entries.   This  bit provides a way for clients to determine which values actually
              changed in a call to <b>Tk_ConfigureWidget</b>.

       The TK_CONFIG_MONO_ONLY and TK_CONFIG_COLOR_ONLY  flags  are  typically  used  to  specify  different
       default values for monochrome and color displays.  This is done by creating two entries in <u>specs</u> that
       are identical except for their <u>defValue</u> and <u>specFlags</u>  fields.   One  entry  should  have  the  value
       TK_CONFIG_MONO_ONLY  in  its <u>specFlags</u> and the default value for monochrome displays in its <u>defValue</u>;
       the other entry entry should have the value TK_CONFIG_COLOR_ONLY in its <u>specFlags</u> and the appropriate
       <u>defValue</u> for color displays.

       Third,  it is possible to use <u>flags</u> and <u>specFlags</u> together to selectively disable some entries.  This
       feature is not needed very often.  It is useful in cases where several similar kinds of  widgets  are
       implemented  in  one  place.  It allows a single <u>specs</u> table to be created with all the configuration
       options for all the widget types.  When processing a particular widget type, only entries relevant to
       that  type  will be used.  This effect is achieved by setting the high-order bits (those in positions
       equal to or greater than TK_CONFIG_USER_BIT) in <u>specFlags</u> values or in <u>flags</u>.  In order for a partic-<font color="#ffffff" class="whiteout">ular&nbsp;particular</font>
       ular  entry  in  <u>specs</u>  to be used, its high-order bits must match exactly the high-order bits of the
       <u>flags</u> value passed to <b>Tk_ConfigureWidget</b>.  If a <u>specs</u> table is being  used  for  N  different  widget
       types,  then  N of the high-order bits will be used.  Each <u>specs</u> entry will have one of more of those
       bits set in its <u>specFlags</u> field to indicate the widget types for which this  entry  is  valid.   When
       calling  <b>Tk_ConfigureWidget</b>, <u>flags</u> will have a single one of these bits set to select the entries for
       the desired widget type.  For a working example of this feature, see the code in tkButton.c.


<b>TK_OFFSET</b>
       The <b>Tk_Offset</b> macro is provided as a safe way of generating the <u>offset</u> values for entries in  Tk_Con-<font color="#ffffff" class="whiteout">figSpec&nbsp;Tk_ConfigSpec</font>
       figSpec  structures.   It takes two arguments:  the name of a type of record, and the name of a field
       in that record.  It returns the byte offset of the named field in records of the given type.


<b>TK_CONFIGUREINFO</b>
       The <b>Tk_ConfigureInfo</b> procedure may be used to obtain information about one or all of the options  for
       a given widget.  Given a token for a window (<u>tkwin</u>), a table describing the configuration options for
       a class of widgets (<u>specs</u>), a pointer to a widget record containing the  current  information  for  a
       widget (<u>widgRec</u>), and a NULL <u>argvName</u> argument, <b>Tk_ConfigureInfo</b> generates a string describing all of
       the configuration options for the window.  The string is placed in <u>interp-&gt;result</u>.  Under normal cir-<font color="#ffffff" class="whiteout">cumstances&nbsp;circumstances</font>
       cumstances  it  returns TCL_OK;  if an error occurs then it returns TCL_ERROR and <u>interp-&gt;result</u> con-<font color="#ffffff" class="whiteout">tains&nbsp;contains</font>
       tains an error message.

       If <u>argvName</u> is NULL, then the value left in <u>interp-&gt;result</u> by <b>Tk_ConfigureInfo</b> consists of a list  of
       one  or  more  entries,  each  of which describes one configuration option (i.e. one entry in <u>specs</u>).
       Each entry in the list will contain either two or five values.  If the corresponding entry  in  <u>specs</u>
       has  type  TK_CONFIG_SYNONYM,  then the list will contain two values:  the <u>argvName</u> for the entry and
       the <u>dbName</u> (synonym name).  Otherwise the list will contain five values:  <u>argvName</u>, <u>dbName</u>,  <u>dbClass</u>,
       <u>defValue</u>,  and current value.  The current value is computed from the appropriate field of <u>widgRec</u> by
       calling procedures like <b>Tk_NameOfColor</b>.

       If the <u>argvName</u> argument to <b>Tk_ConfigureInfo</b> is non-NULL, then it  indicates  a  single  option,  and
       information  is  returned  only  for that option.  The string placed in <u>interp-&gt;result</u> will be a list
       containing two or five values as described above;  this will be identical to the  corresponding  sub-<font color="#ffffff" class="whiteout">list&nbsp;sublist</font>
       list that would have been returned if <u>argvName</u> had been NULL.

       The <u>flags</u> argument to <b>Tk_ConfigureInfo</b> is used to restrict the <u>specs</u> entries to consider, just as for
       <b>Tk_ConfigureWidget</b>.


<b>TK_CONFIGUREVALUE</b>
       <b>Tk_ConfigureValue</b> takes arguments similar to <b>Tk_ConfigureInfo</b>; instead of returning a list of values,
       it  just  returns the current value of the option given by <u>argvName</u> (<u>argvName</u> must not be NULL).  The
       value is returned in <u>interp-&gt;result</u> and TCL_OK is normally returned as the procedure's result.  If an
       error  occurs in <b>Tk_ConfigureValue</b> (e.g., <u>argvName</u> is not a valid option name), TCL_ERROR is returned
       and an error message is left in <u>interp-&gt;result</u>.  This procedure is typically called to implement <b>cget</b>
       widget commands.


<b>TK_FREEOPTIONS</b>
       The  <b>Tk_FreeOptions</b>  procedure  may  be invoked during widget cleanup to release all of the resources
       associated with configuration options.  It scans through <u>specs</u> and for each entry corresponding to  a
       resource  that must be explicitly freed (e.g. those with type TK_CONFIG_COLOR), it frees the resource
       in the widget record.  If the field in the widget record doesn't refer to a resource (e.g.   it  con-<font color="#ffffff" class="whiteout">tains&nbsp;contains</font>
       tains a null pointer) then no resource is freed for that entry.  After freeing a resource, <b>Tk_FreeOp</b>-<font color="#ffffff" class="whiteout">tions&nbsp;Tk_FreeOptions</font>
       <b>tions</b> sets the corresponding field of the widget record to null.


<b>CUSTOM</b> <b>OPTION</b> <b>TYPES</b>
       Applications can extend the built-in configuration types with additional configuration types by writ-<font color="#ffffff" class="whiteout">ing&nbsp;writing</font>
       ing  procedures  to  parse and print options of the a type and creating a structure pointing to those
       procedures:
              typedef struct Tk_CustomOption {
                Tk_OptionParseProc *<u>parseProc</u>;
                Tk_OptionPrintProc *<u>printProc</u>;
                ClientData <u>clientData</u>;
              } Tk_CustomOption;

              typedef int Tk_OptionParseProc(
                ClientData <u>clientData</u>,
                Tcl_Interp *<u>interp</u>,
                Tk_Window <u>tkwin</u>,
                char *<u>value</u>,
                char *<u>widgRec</u>,
                int <u>offset</u>);

              typedef char *Tk_OptionPrintProc(
                ClientData <u>clientData</u>,
                Tk_Window <u>tkwin</u>,
                char *<u>widgRec</u>,
                int <u>offset</u>,
                Tcl_FreeProc **<u>freeProcPtr</u>);
       The Tk_CustomOption structure contains three fields, which are pointers to the two procedures  and  a
       <u>clientData</u>  value to be passed to those procedures when they are invoked.  The <u>clientData</u> value typi-<font color="#ffffff" class="whiteout">cally&nbsp;typically</font>
       cally points to a structure containing information that is needed by the  procedures  when  they  are
       parsing and printing options.

       The  <u>parseProc</u>  procedure  is invoked by <b>Tk_ConfigureWidget</b> to parse a string and store the resulting
       value in the widget record.  The <u>clientData</u> argument is a copy of the <u>clientData</u> field in the Tk_Cus-<font color="#ffffff" class="whiteout">tomOption&nbsp;Tk_CustomOption</font>
       tomOption  structure.   The  <u>interp</u>  argument  points  to a Tcl interpreter used for error reporting.
       <u>Tkwin</u> is a copy of the <u>tkwin</u> argument to <b>Tk_ConfigureWidget</b>.  The <u>value</u> argument is a string describ-<font color="#ffffff" class="whiteout">ing&nbsp;describing</font>
       ing  the  value  for  the  option;  it could have been specified explicitly in the call to <b>Tk_Config</b>-<font color="#ffffff" class="whiteout">ureWidget&nbsp;Tk_ConfigureWidget</font>
       <b>ureWidget</b> or it could come from the option database or a default.  <u>Value</u> will never be a null pointer
       but  it  may  point  to an empty string.  <u>RecordPtr</u> is the same as the <u>widgRec</u> argument to <b>Tk_Config</b>-<font color="#ffffff" class="whiteout">ureWidget;&nbsp;Tk_ConfigureWidget;</font>
       <b>ureWidget</b>;  it points to the start of the widget record to modify.  The last argument, <u>offset</u>,  gives
       the  offset in bytes from the start of the widget record to the location where the option value is to
       be placed.  The procedure should translate the string to whatever form is appropriate for the  option
       and  store  the value in the widget record.  It should normally return TCL_OK, but if an error occurs
       in translating the string to a value then it should return TCL_ERROR and store an  error  message  in
       <u>interp-&gt;result</u>.

       The  <u>printProc</u> procedure is called by <b>Tk_ConfigureInfo</b> to produce a string value describing an exist-<font color="#ffffff" class="whiteout">ing&nbsp;existing</font>
       ing option.  Its <u>clientData</u>, <u>tkwin</u>, <u>widgRec</u>, and <u>offset</u> arguments all have the same  meaning  as  for
       Tk_OptionParseProc  procedures.   The  <u>printProc</u>  procedure  should examine the option whose value is
       stored at <u>offset</u> in <u>widgRec</u>, produce a string describing that option, and return  a  pointer  to  the
       string.  If the string is stored in dynamically-allocated memory, then the procedure must set <u>*freeP</u>-<font color="#ffffff" class="whiteout">rocPtr&nbsp;*freeProcPtr</font>
       <u>rocPtr</u> to the address of a procedure to call to free the string's memory;  <b>Tk_ConfigureInfo</b> will call
       this  procedure when it is finished with the string.  If the result string is stored in static memory
       then <u>printProc</u> need not do anything with the <u>freeProcPtr</u> argument.

       Once <u>parseProc</u> and <u>printProc</u> have been defined and a Tk_CustomOption structure has been  created  for
       them,  options  of  this new type may be manipulated with Tk_ConfigSpec entries whose <u>type</u> fields are
       TK_CONFIG_CUSTOM and whose <u>customPtr</u> fields point to the Tk_CustomOption structure.


<b>EXAMPLES</b>
       Although the explanation of <b>Tk_ConfigureWidget</b> is  fairly  complicated,  its  actual  use  is  pretty
       straightforward.   The  easiest  way to get started is to copy the code from an existing widget.  The
       library implementation of frames (tkFrame.c) has a simple configuration table, and the library imple-<font color="#ffffff" class="whiteout">mentation&nbsp;implementation</font>
       mentation of buttons (tkButton.c) has a much more complex table that uses many of the fancy <u>specFlags</u>
       mechanisms.


<b>SEE</b> <b>ALSO</b>
       <a href="Tk_SetOptions.3tcl.html#//apple_ref/doc/man/3/Tk_SetOptions">Tk_SetOptions(3)</a>


<b>KEYWORDS</b>
       anchor, bitmap, boolean, border, cap style, color, configuration  options,  cursor,  custom,  double,
       font, integer, join style, justify, millimeters, pixels, relief, synonym, uid



Tk                                                   4.1                               <a href="Tk_ConfigureWidget.3tcl.html#//apple_ref/doc/man/3/Tk_ConfigureWidget">Tk_ConfigureWidget(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/ConfigWidg.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/ConfigWidg.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/ConfigWidg.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
