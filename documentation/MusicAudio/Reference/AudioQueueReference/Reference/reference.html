<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Audio Queue Services Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Audio Queue Services Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005117-DontLinkChapterID_1" title="Audio Queue Services Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/MusicAudio/index.html#//apple_ref/doc/uid/TP30001281-TP30000428" target="_top">Audio</a> &gt; <a href="../../../../../reference/MusicAudio/idxCoreAudio-date.html#//apple_ref/doc/uid/TP30001281-TP30000428-TP30000500" target="_top">Core Audio</a> &gt; <a href="../index.html" target="_top">Audio Queue Services Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005117-DontLinkChapterID_1-DontLinkElementID_21" title="Audio Queue Services Reference"></a><h1>Audio Queue Services Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">AudioToolbox/AudioToolbox.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">AudioQueue.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40005117-CH1-DontLinkElementID_18" title="Overview"></a><h2>Overview</h2><p>This document describes Audio Queue Services, a C programming interface in the Audio Toolbox framework, which is part of Core Audio.</p><p>An audio queue is a software object you use for recording or playing audio in iPhone OS or Mac OS X. An audio queue does the work of:</p><ul class="ul"><li class="li"><p>Connecting to audio hardware</p></li><li class="li"><p>Managing memory</p></li><li class="li"><p>Employing codecs, as needed, for compressed audio formats</p></li><li class="li"><p>Mediating playback or recording</p></li></ul><p>Audio Queue Services enables you to record and play audio in linear PCM, in compressed formats (such as Apple Lossless and AAC), and in other formats for which users have installed codecs. Audio Queue Services also supports scheduled playback and synchronization of multiple audio queues and synchronization of audio with video.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40005117-CH1-DontLinkElementID_22" title="Note"></a><p><strong>Note:</strong>&nbsp;Audio Queue Services provides features similar to those previously offered by the Sound Manager and in Mac OS X. It adds additional features such as synchronization. The Sound Manager is deprecated in Mac OS X v10.5 and does not work with 64-bit applications. Audio Queue Services is recommended for all new development and as a replacement for the Sound Manager in existing Mac OS X applications.</p></div><a name="//apple_ref/doc/uid/TP40005117-DontLinkChapterID_1-DontLinkElementID_19" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_3" title="Controlling Audio Queues"></a>
    
    <h3 class="tasks">Controlling Audio Queues</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueStart">AudioQueueStart</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Begins playing or recording audio.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueuePrime">AudioQueuePrime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Decodes enqueued buffers in preparation for playback.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueFlush">AudioQueueFlush</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Resets an audio queue’s decoder state.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Stops playing or recording audio.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueuePause">AudioQueuePause</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Pauses audio playback or recording.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueReset">AudioQueueReset</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Resets an audio queue.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_4" title="Creating and Disposing of Audio Queues"></a>
    
    <h3 class="tasks">Creating and Disposing of Audio Queues</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueNewOutput">AudioQueueNewOutput</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new playback audio queue object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueNewInput">AudioQueueNewInput</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new recording audio queue object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueDispose">AudioQueueDispose</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Disposes of an audio queue. '/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_7" title="Handling Audio Queue Buffers"></a>
    
    <h3 class="tasks">Handling Audio Queue Buffers</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueAllocateBuffer">AudioQueueAllocateBuffer</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Asks an audio queue object to allocate an audio queue buffer.'/>
            </span></li>
            
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueFreeBuffer">AudioQueueFreeBuffer</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Asks an audio queue to dispose of an audio queue buffer.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBuffer">AudioQueueEnqueueBuffer</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a buffer to the buffer queue of a recording or playback audio queue.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBufferWithParameters">AudioQueueEnqueueBufferWithParameters</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a buffer to the buffer queue of a playback audio queue object, specifying start time and other settings.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_8" title="Manipulating Audio Queue Parameters"></a>
    
    <h3 class="tasks">Manipulating Audio Queue Parameters</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetParameter">AudioQueueGetParameter</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets an audio queue parameter value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetParameter">AudioQueueSetParameter</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a playback audio queue parameter value.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_9" title="Manipulating Audio Queue Properties"></a>
    
    <h3 class="tasks">Manipulating Audio Queue Properties</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetProperty">AudioQueueGetProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets an audio queue property value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetProperty">AudioQueueSetProperty</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets an audio queue property value. '/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetPropertySize">AudioQueueGetPropertySize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the size of the value of an audio queue property.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueAddPropertyListener">AudioQueueAddPropertyListener</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a property listener callback to an audio queue.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueRemovePropertyListener">AudioQueueRemovePropertyListener</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a property listener callback from an audio queue.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_10" title="Handling Timing"></a>
    
    <h3 class="tasks">Handling Timing</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueCreateTimeline">AudioQueueCreateTimeline</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a timeline object for an audio queue.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueDisposeTimeline">AudioQueueDisposeTimeline</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Disposes of an audio queue’s timeline object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueDeviceGetCurrentTime">AudioQueueDeviceGetCurrentTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the current time of the audio hardware device associated with an audio queue.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueDeviceGetNearestStartTime">AudioQueueDeviceGetNearestStartTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the start time, for an audio hardware device, that is closest to a requested start time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueDeviceTranslateTime">AudioQueueDeviceTranslateTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Converts the time for an audio queue’s associated audio hardware device from one time base representation to another.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetCurrentTime">AudioQueueGetCurrentTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the current audio queue time.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_12" title="Performing Offline Rendering"></a>
    
    <h3 class="tasks">Performing Offline Rendering</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetOfflineRenderFormat">AudioQueueSetOfflineRenderFormat</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the rendering mode and audio format for a playback audio queue.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AudioQueueOfflineRender">AudioQueueOfflineRender</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Exports audio to a buffer, instead of to a device, using a playback audio queue.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40005117-CH3-SW13" title="Functions"></a><h2>Functions</h2><a name="//apple_ref/c/func/AudioQueueAddPropertyListener" title="AudioQueueAddPropertyListener"></a><a name="//apple_ref/doc/c_ref/AudioQueueAddPropertyListener" title="AudioQueueAddPropertyListener"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW3" title="AudioQueueAddPropertyListener"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_24"></a><h3 class="tight">AudioQueueAddPropertyListener</h3><p class="spaceabove">Adds a property listener callback to an audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueAddPropertyListener (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyID">AudioQueuePropertyID</a> inID,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyListenerProc">AudioQueuePropertyListenerProc</a> inProc,
   void *inUserData
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that you want to assign a property listener callback to.</p></dd><dt><em>inID</em></dt><dd><p>The ID of the property whose changes you want to respond to. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyID">“Audio Queue Property IDs.”</a></span></p></dd><dt><em>inProc</em></dt><dd><p>The callback to be invoked when the property value changes.</p></dd><dt><em>inUserData</em></dt><dd><p>Custom data for the property listener callback.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Use this function to let your application respond to property value changes in an audio queue. For example, say your application’s user interface has a button that acts as a Play/Stop toggle switch. When an audio file has finished playing, the audio queue stops and the value of the  <code>kAudioQueueProperty_IsRunning</code> property changes from <code>true</code> to <code>false</code>. You can use a property listener callback to update the button text appropriately.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueRemovePropertyListener">AudioQueueRemovePropertyListener</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueAllocateBuffer" title="AudioQueueAllocateBuffer"></a><a name="//apple_ref/doc/c_ref/AudioQueueAllocateBuffer" title="AudioQueueAllocateBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW10" title="AudioQueueAllocateBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_25"></a><h3 class="tight">AudioQueueAllocateBuffer</h3><p class="spaceabove">Asks an audio queue object to allocate an audio queue buffer.</p><p class="spaceabove"><pre>
OSStatus AudioQueueAllocateBuffer (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   UInt32 inBufferByteSize,
   <!--a-->AudioQueueBufferRef<!--/a--> *outBuffer
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue you want to allocate a buffer.</p></dd><dt><em>inBufferByteSize</em></dt><dd><p>The desired capacity of the new buffer, in bytes. Appropriate capacity depends on the processing you will perform on the data as well as on the audio data format.</p></dd><dt><em>outBuffer</em></dt><dd><p>On output, points to the newly allocated audio queue buffer.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Once allocated, the pointer to the audio queue buffer and the buffer’s capacity cannot be changed. The buffer’s size field, <code>mAudioDataByteSize</code>, which indicates the amount of valid data, is initially set to 0.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueFreeBuffer">AudioQueueFreeBuffer</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTest/index.html#//apple_ref/doc/uid/DTS10004001" target="_top">AudioQueueTest</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueCreateTimeline" title="AudioQueueCreateTimeline"></a><a name="//apple_ref/doc/c_ref/AudioQueueCreateTimeline" title="AudioQueueCreateTimeline"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW24" title="AudioQueueCreateTimeline"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_27"></a><h3 class="tight">AudioQueueCreateTimeline</h3><p class="spaceabove">Creates a timeline object for an audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueCreateTimeline (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueTimelineRef">AudioQueueTimelineRef</a> *outTimeline
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue to associate with the new timeline object.</p></dd><dt><em>outTimeLine</em></dt><dd><p>On output, the newly created timeline object.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Create a timeline object if you want to get timeline discontinuity information from an audio queue using the <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetCurrentTime">AudioQueueGetCurrentTime</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueDisposeTimeline">AudioQueueDisposeTimeline</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetCurrentTime">AudioQueueGetCurrentTime</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueDeviceGetCurrentTime" title="AudioQueueDeviceGetCurrentTime"></a><a name="//apple_ref/doc/c_ref/AudioQueueDeviceGetCurrentTime" title="AudioQueueDeviceGetCurrentTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW26" title="AudioQueueDeviceGetCurrentTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_28"></a><h3 class="tight">AudioQueueDeviceGetCurrentTime</h3><p class="spaceabove">Gets the current time of the audio hardware device associated with an audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueDeviceGetCurrentTime (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a> *outTimeStamp
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue whose associated audio device is to be queried.</p></dd><dt><em>outDeviceTime</em></dt><dd><p>On output, the current time of the audio hardware device associated with the audio queue. If the device is not running, the only valid field in the audio timestamp structure is <code>mHostTime</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This function returns a value whether or not the audio hardware device associated with the audio queue is running. The similar <code>AudioDeviceGetCurrentTime</code> function, declared in the <code>AudioHardware.h</code> header file, returns an error in this case.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetCurrentTime">AudioQueueGetCurrentTime</a></code></li><li class="availability">  <code><a href="../../CACoreAudioReference/AudioHardware/CompositePage.html#//apple_ref/c/func/AudioDeviceGetCurrentTime" target="_top">AudioDeviceGetCurrentTime</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueDeviceGetNearestStartTime" title="AudioQueueDeviceGetNearestStartTime"></a><a name="//apple_ref/doc/c_ref/AudioQueueDeviceGetNearestStartTime" title="AudioQueueDeviceGetNearestStartTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW25" title="AudioQueueDeviceGetNearestStartTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_29"></a><h3 class="tight">AudioQueueDeviceGetNearestStartTime</h3><p class="spaceabove">Gets the start time, for an audio hardware device, that is closest to a requested start time.</p><p class="spaceabove"><pre>
OSStatus AudioQueueDeviceGetNearestStartTime (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a> *ioRequestedStartTime,
   UInt32 inFlags
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue whose associated audio hardware device’s start time you want to get.</p></dd><dt><em>ioRequestedDeviceTime</em></dt><dd><p>On input, the requested start time. On output, the actual start time.</p></dd><dt><em>inFlags</em></dt><dd><p>Reserved for future use. Pass <code>0</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This function asks an audio queue’s associated device for a start time to use for recording or playback. The time returned will be equal to or later than the requested start time, depending on device and system factors. For example, the start time might be shifted to allow for aligning buffer access. The device must be running to use this function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueDeviceGetCurrentTime">AudioQueueDeviceGetCurrentTime</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueDeviceTranslateTime" title="AudioQueueDeviceTranslateTime"></a><a name="//apple_ref/doc/c_ref/AudioQueueDeviceTranslateTime" title="AudioQueueDeviceTranslateTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_11" title="AudioQueueDeviceTranslateTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_30"></a><h3 class="tight">AudioQueueDeviceTranslateTime</h3><p class="spaceabove">Converts the time for an audio queue’s associated audio hardware device from one time base representation to another.</p><p class="spaceabove"><pre>
OSStatus AudioQueueDeviceTranslateTime (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a> *inTime,
   <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a> *outTime
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue associated with the device whose times are being translated.</p></dd><dt><em>inDeviceTime</em></dt><dd><p>The time to be translated.</p></dd><dt><em>outDeviceTime</em></dt><dd><p>On output, the translated time.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>The device must be running for this function to provide a result. For an explanation of the various time base representations for an audio hardware device, see <code><a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioTimeStamp" target="_top">AudioTimeStamp</a></code> in <em><a href="../../CoreAudioDataTypesRef/index.html#//apple_ref/doc/uid/TP40004488" target="_top">Core Audio Data Types Reference</a></em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueDispose" title="AudioQueueDispose"></a><a name="//apple_ref/doc/c_ref/AudioQueueDispose" title="AudioQueueDispose"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW14" title="AudioQueueDispose"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_31"></a><h3 class="tight">AudioQueueDispose</h3><p class="spaceabove">Disposes of an audio queue. </p><p class="spaceabove"><pre>
OSStatus AudioQueueDispose (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <!--a-->Boolean<!--/a--> inImmediate
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue you want to dispose of.</p></dd><dt><em>inImmediate</em></dt><dd><p>If you pass <code>true</code>, the audio queue is disposed of immediately (that is, synchronously). If you pass <code>false</code>, disposal does not take place until all enqueued buffers are processed (that is, asynchronously).</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Disposing of an audio queue also disposes of its resources, including its buffers. After you call this function, you can no longer interact with the audio queue. In addition, the audio queue no longer invokes any callbacks.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueFlush">AudioQueueFlush</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTest/index.html#//apple_ref/doc/uid/DTS10004001" target="_top">AudioQueueTest</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueDisposeTimeline" title="AudioQueueDisposeTimeline"></a><a name="//apple_ref/doc/c_ref/AudioQueueDisposeTimeline" title="AudioQueueDisposeTimeline"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW23" title="AudioQueueDisposeTimeline"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_32"></a><h3 class="tight">AudioQueueDisposeTimeline</h3><p class="spaceabove">Disposes of an audio queue’s timeline object.</p><p class="spaceabove"><pre>
OSStatus AudioQueueDisposeTimeline (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueTimelineRef">AudioQueueTimelineRef</a> inTimeline
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue associated with the timeline object you want to dispose of.</p></dd><dt><em>inTimeLine</em></dt><dd><p>The timeline object to dispose of.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Disposing of an audio queue automatically disposes of any associated resources, including a timeline object. Call this function only if you want to dispose of a timeline object and not the audio queue associated with it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueCreateTimeline">AudioQueueCreateTimeline</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueDispose">AudioQueueDispose</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueEnqueueBuffer" title="AudioQueueEnqueueBuffer"></a><a name="//apple_ref/doc/c_ref/AudioQueueEnqueueBuffer" title="AudioQueueEnqueueBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW5" title="AudioQueueEnqueueBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_33"></a><h3 class="tight">AudioQueueEnqueueBuffer</h3><p class="spaceabove">Adds a buffer to the buffer queue of a recording or playback audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueEnqueueBuffer (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>                      inAQ,
   <!--a-->AudioQueueBufferRef<!--/a-->                inBuffer,
   UInt32                             inNumPacketDescs,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription" target="_top">AudioStreamPacketDescription</a> *inPacketDescs
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that owns the audio queue buffer.</p></dd><dt><em>inBuffer</em></dt><dd><p>The audio queue buffer to add to the buffer queue.</p></dd><dt><em>inNumPacketDescs</em></dt><dd><p>The number of packets of audio data in the <em>inBuffer</em> parameter. Use a value of <code>0</code> for any of the following situations:</p><ul class="termdef"><li class="termdef"><p>When playing a constant bit rate (CBR) format.</p></li><li class="termdef"><p>When the audio queue is a recording (input) audio queue.</p></li><li class="termdef"><p>When the buffer you are reenqueuing was allocated with the <code>AudioQueueAllocateBufferWithPacketDescriptions</code> function. In this case, your callback should describe the buffer’s packets in the buffer’s <code>mPacketDescriptions</code> and <code>mPacketDescriptionCount</code> fields.</p></li></ul></dd><dt><em>inPacketDescs</em></dt><dd><p>An array of packet descriptions. Use a value of <code>NULL</code> for any of the following situations:</p><ul class="termdef"><li class="termdef"><p>When playing a constant bit rate (CBR) format.</p></li><li class="termdef"><p>When the audio queue is an input (recording) audio queue.</p></li><li class="termdef"><p>When the buffer you are reenqueuing was allocated with the <code>AudioQueueAllocateBufferWithPacketDescriptions</code> function. In this case, your callback should describe the buffer’s packets in the buffer’s <code>mPacketDescriptions</code> and <code>mPacketDescriptionCount</code> fields.</p></li></ul></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Audio queue callbacks use this function to reenqueue buffers—placing them “last in line” in a buffer queue. A playback (or <em>output</em>) callback reenqueues a buffer after the buffer is filled with fresh audio data (typically from a file). A recording (or <em>input</em>) callback reenqueues a buffer after the buffer’s contents were written (typically to a file).</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBufferWithParameters">AudioQueueEnqueueBufferWithParameters</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTest/index.html#//apple_ref/doc/uid/DTS10004001" target="_top">AudioQueueTest</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueEnqueueBufferWithParameters" title="AudioQueueEnqueueBufferWithParameters"></a><a name="//apple_ref/doc/c_ref/AudioQueueEnqueueBufferWithParameters" title="AudioQueueEnqueueBufferWithParameters"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW4" title="AudioQueueEnqueueBufferWithParameters"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_34"></a><h3 class="tight">AudioQueueEnqueueBufferWithParameters</h3><p class="spaceabove">Adds a buffer to the buffer queue of a playback audio queue object, specifying start time and other settings.</p><p class="spaceabove"><pre>
OSStatus AudioQueueEnqueueBufferWithParameters (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>                       inAQ,
   <!--a-->AudioQueueBufferRef<!--/a-->                 inBuffer,
   UInt32                              inNumPacketDescs,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription" target="_top">AudioStreamPacketDescription</a>  *inPacketDescs,
   UInt32                              inTrimFramesAtStart,
   UInt32                              inTrimFramesAtEnd,
   UInt32                              inNumParamValues,
   const <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueParameterEvent">AudioQueueParameterEvent</a>      *inParamValues,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a>                *inStartTime,
   <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a>                      *outActualStartTime
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue object that owns the audio queue buffer. </p></dd><dt><em>inBuffer</em></dt><dd><p>The audio queue buffer to add to the buffer queue. Before calling this function, the buffer must contain the audio data to be played.</p></dd><dt><em>inNumPacketDescs</em></dt><dd><p>The number of packets of audio data in the <em>inBuffer</em> parameter. Use a value of <code>0</code> for either of the following situations:</p><ul class="termdef"><li class="termdef"><p>When playing a constant bit rate (CBR) format.</p></li><li class="termdef"><p>When the buffer you are reenqueuing was allocated with the <code>AudioQueueAllocateBufferWithPacketDescriptions</code> function. In this case, your callback should describe the buffer’s packets in the buffer’s <code>mPacketDescriptions</code> and <code>mPacketDescriptionCount</code> fields.</p></li></ul></dd><dt><em>inPacketDescs</em></dt><dd><p>An array of packet descriptions. Use a value of <code>NULL</code> for either of the following situations:</p><ul class="termdef"><li class="termdef"><p>When playing a constant bit rate (CBR) format.</p></li><li class="termdef"><p>When the buffer you are reenqueuing was allocated with the <code>AudioQueueAllocateBufferWithPacketDescriptions</code> function. In this case, your callback should describe the buffer’s packets in the buffer’s <code>mPacketDescriptions</code> and <code>mPacketDescriptionCount</code> fields.</p></li></ul></dd><dt><em>inTrimFramesAtStart</em></dt><dd><p>The number of priming frames to skip at the start of the buffer.</p></dd><dt><em>inTrimFramesAtEnd</em></dt><dd><p>The number of frames to skip at the end of the buffer.</p></dd><dt><em>inNumParamValues</em></dt><dd><p>The number of audio queue parameter values pointed to by the <code>inParamValues</code> parameter. If you are not setting parameters, use <code>0</code>.</p></dd><dt><em>inParamValues</em></dt><dd><p>An array of parameters to apply to an audio queue buffer. (In Mac OS X v10.5, there is only one audio queue parameter, <code>kAudioQueueParam_Volume</code>.)  If you are not setting parameters for the buffer, use <code>NULL</code>.</p><p>Assign parameter values before playback—they cannot be changed while a buffer is playing. Changes to audio queue buffer parameters take effect when the buffer starts playing.</p></dd><dt><em>inStartTime</em></dt><dd><p>The desired start time for playing the buffer. To specify a time relative to when the audio queue started, use the <code>mSampleTime</code> field of the <code>AudioTimeStamp</code> structure. Use <code>NULL</code> to indicate that the buffer should play as soon as possible—which may be after previously queued buffers finish playing.</p><p>Buffers play in the order they are enqueued (first in, first out). If multiple buffers are queued, the start times must be in ascending order or <code>NULL</code>; otherwise, an error occurs.  This parameter specifies when audio data is to start playing, ignoring any trim frames specified in the <em>inTrimFramesAtStart</em> parameter.</p></dd><dt><em>outActualStartTime</em></dt><dd><p>On output, the time when the buffer will actually start playing.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>You can exert some control over the buffer queue with this function. You can assign audio queue settings that are, in effect, carried by an audio queue buffer as you enqueue it. Hence, settings take effect when an audio queue buffer begins playing.</p><p>This function applies only to playback. Recording audio queues do not take parameters and do not support variable bit rate (VBR) formats (which might require trimming). </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBuffer">AudioQueueEnqueueBuffer</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueFlush" title="AudioQueueFlush"></a><a name="//apple_ref/doc/c_ref/AudioQueueFlush" title="AudioQueueFlush"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW19" title="AudioQueueFlush"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_35"></a><h3 class="tight">AudioQueueFlush</h3><p class="spaceabove">Resets an audio queue’s decoder state.</p><p class="spaceabove"><pre>
OSStatus AudioQueueFlush (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue to flush.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Call <code>AudioQueueFlush</code> after enqueuing the last audio queue buffer to ensure that all buffered data, as well as all audio data in the midst of processing, gets recorded or played. If you do not call this function, stale data in the audio queue’s decoder may interfere with playback or recording of the next set of buffers.</p><p>Call this function before calling <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code> if you want to ensure that all enqueued data reaches the destination.
</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueDispose">AudioQueueDispose</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueFreeBuffer" title="AudioQueueFreeBuffer"></a><a name="//apple_ref/doc/c_ref/AudioQueueFreeBuffer" title="AudioQueueFreeBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW16" title="AudioQueueFreeBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_36"></a><h3 class="tight">AudioQueueFreeBuffer</h3><p class="spaceabove">Asks an audio queue to dispose of an audio queue buffer.</p><p class="spaceabove"><pre>
OSStatus AudioQueueFreeBuffer (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <!--a-->AudioQueueBufferRef<!--/a--> inBuffer
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that owns the audio queue buffer you want to dispose of.</p></dd><dt><em>inBuffer</em></dt><dd><p>The buffer to dispose of.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Disposing of an audio queue also disposes of its buffers. Call this function only if you want to dispose of a particular buffer while continuing to use an audio queue. You can dispose of a buffer only when the audio queue that owns it is stopped (that is, not processing audio data).</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueAllocateBuffer">AudioQueueAllocateBuffer</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueDispose">AudioQueueDispose</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueGetCurrentTime" title="AudioQueueGetCurrentTime"></a><a name="//apple_ref/doc/c_ref/AudioQueueGetCurrentTime" title="AudioQueueGetCurrentTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW8" title="AudioQueueGetCurrentTime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_37"></a><h3 class="tight">AudioQueueGetCurrentTime</h3><p class="spaceabove">Gets the current audio queue time.</p><p class="spaceabove"><pre>
OSStatus AudioQueueGetCurrentTime (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueTimelineRef">AudioQueueTimelineRef</a> inTimeline,
   <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a> *outTimeStamp,
   <!--a-->Boolean<!--/a--> *outTimelineDiscontinuity
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue whose current time you want to get.</p></dd><dt><em>inTimeline</em></dt><dd><p>The audio queue timeline object to which timeline discontinuities are reported. Use <code>NULL</code> if the audio queue does not have an associated timeline object.</p></dd><dt><em>outTime</em></dt><dd><p>On output, the current audio queue time. The <code>mSampleTime</code> field represents audio queue time in terms of the audio queue sample rate, relative to when the queue started or will start.</p></dd><dt><em>outTimelineDiscontinuity</em></dt><dd><p>On output, <code>true</code> if there has been a timeline discontinuity, or <code>false</code> if there has been no discontinuity. If the audio queue does not have an associated timeline object, this parameter is always <code>NULL</code>.</p><p>A timeline discontinuity may occur, for example, if the sample rate is changed for the audio hardware device associated with an audio queue.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueCreateTimeline">AudioQueueCreateTimeline</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueDeviceGetCurrentTime">AudioQueueDeviceGetCurrentTime</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueGetParameter" title="AudioQueueGetParameter"></a><a name="//apple_ref/doc/c_ref/AudioQueueGetParameter" title="AudioQueueGetParameter"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW17" title="AudioQueueGetParameter"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_38"></a><h3 class="tight">AudioQueueGetParameter</h3><p class="spaceabove">Gets an audio queue parameter value.</p><p class="spaceabove"><pre>
OSStatus AudioQueueGetParameter (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueParameterID">AudioQueueParameterID</a> inParamID,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueParameterValue">AudioQueueParameterValue</a> *outValue
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that you want to get a parameter value from.</p></dd><dt><em>inParamID</em></dt><dd><p>The ID of the parameter whose value you want to get. In Mac OS X v10.5, audio queues have one parameter available: <code>kAudioQueueParam_Volume</code>, which controls playback gain.  See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Audio_Queue_Parameter_IDs">“Audio Queue Parameter ID”</a></span></p></dd><dt><em>outValue</em></dt><dd><p>On output, points to the current value of the specified parameter. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>You can access the current parameter values for an audio queue at any time with this function. An audio queue parameter value is the sum of settings applied at buffer granularity, using the <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBufferWithParameters">AudioQueueEnqueueBufferWithParameters</a></code> function, and settings applied to the audio queue per se, using the <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetParameter">AudioQueueSetParameter</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetParameter">AudioQueueSetParameter</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueGetProperty" title="AudioQueueGetProperty"></a><a name="//apple_ref/doc/c_ref/AudioQueueGetProperty" title="AudioQueueGetProperty"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW21" title="AudioQueueGetProperty"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_39"></a><h3 class="tight">AudioQueueGetProperty</h3><p class="spaceabove">Gets an audio queue property value.</p><p class="spaceabove"><pre>
OSStatus AudioQueueGetProperty (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyID">AudioQueuePropertyID</a> inID,
   void *outData,
   UInt32 *ioDataSize
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that you want to get a property value from.</p></dd><dt><em>inID</em></dt><dd><p>The ID of the property whose value you want to get. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyID">“Audio Queue Property IDs.”</a></span></p></dd><dt><em>outData</em></dt><dd><p>On output, the desired property value.</p></dd><dt><em>ioDataSize</em></dt><dd><p>On input, the maximum bytes of space the caller expects to receive. On output, the actual data size of the property value.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Before calling this function, you can use the <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetPropertySize">AudioQueueGetPropertySize</a></code> function to determine the size, in bytes, of the value of a specified property. Some properties have values of a specific size, as described in <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyID">“Audio Queue Property IDs.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetProperty">AudioQueueSetProperty</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetPropertySize">AudioQueueGetPropertySize</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueGetPropertySize" title="AudioQueueGetPropertySize"></a><a name="//apple_ref/doc/c_ref/AudioQueueGetPropertySize" title="AudioQueueGetPropertySize"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW15" title="AudioQueueGetPropertySize"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_40"></a><h3 class="tight">AudioQueueGetPropertySize</h3><p class="spaceabove">Gets the size of the value of an audio queue property.</p><p class="spaceabove"><pre>
OSStatus AudioQueueGetPropertySize (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyID">AudioQueuePropertyID</a> inID,
   UInt32 *outDataSize
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that has the property value whose size you want to get.</p></dd><dt><em>inID</em></dt><dd><p>The ID of the property value whose size you want to get. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyID">“Audio Queue Property IDs.”</a></span></p></dd><dt><em>outDataSize</em></dt><dd><p>On output, the size of the requested property value.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetProperty">AudioQueueGetProperty</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueNewInput" title="AudioQueueNewInput"></a><a name="//apple_ref/doc/c_ref/AudioQueueNewInput" title="AudioQueueNewInput"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_6" title="AudioQueueNewInput"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_41"></a><h3 class="tight">AudioQueueNewInput</h3><p class="spaceabove">Creates a new recording audio queue object.</p><p class="spaceabove"><pre>
OSStatus AudioQueueNewInput (
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription" target="_top">AudioStreamBasicDescription</a>  *inFormat,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueInputCallback">AudioQueueInputCallback</a>            inCallbackProc,
   void                               *inUserData,
   <a href="../../../../CoreFoundation/Reference/CFRunLoopRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRunLoopRef" target="_top">CFRunLoopRef</a>                       inCallbackRunLoop,
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a>                        inCallbackRunLoopMode,
   UInt32                             inFlags,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>                      *outAQ
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inFormat</em></dt><dd><p>The compressed or uncompressed audio data format to record to. When recording to linear PCM, only interleaved formats are supported.</p></dd><dt><em>inCallbackProc</em></dt><dd><p>A callback function to use with the recording audio queue. The audio queue calls this function when the audio queue has finished filling a buffer. See <code><a href="reference.html#//apple_ref/c/tdef/AudioQueueInputCallback">AudioQueueInputCallback</a></code>.</p></dd><dt><em>inUserData</em></dt><dd><p>A custom data structure for use with the callback function.</p></dd><dt><em>inCallbackRunLoop</em></dt><dd><p>The event loop on which the callback function pointed to by the  <code>inCallbackProc</code> parameter is to be called. If you specify <code>NULL</code>, the callback is called on one of the audio queue’s internal threads.</p></dd><dt><em>inCallbackRunLoopMode</em></dt><dd><p>The run loop mode in which to invoke the callback function specified in the <em>inCallbackProc</em> parameter. Typically, you pass <code>kCFRunLoopCommonModes</code> or use <code>NULL</code>, which is equivalent. You can choose to create your own thread with your own run loops. For more information on run loops, see <em><a href="../../../../CoreFoundation/Conceptual/CFRunLoops/index.html#//apple_ref/doc/uid/10000135i" target="_top">Run Loops</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFRunLoopRef/index.html#//apple_ref/doc/uid/20001441" target="_top">CFRunLoop Reference</a></em>.</p></dd><dt><em>inFlags</em></dt><dd><p>Reserved for future use. Must be <code>0</code>.</p></dd><dt><em>outAQ</em></dt><dd><p>On output, the newly created recording audio queue. </p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetOfflineRenderFormat">AudioQueueNewOutput</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueNewOutput" title="AudioQueueNewOutput"></a><a name="//apple_ref/doc/c_ref/AudioQueueNewOutput" title="AudioQueueNewOutput"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_5" title="AudioQueueNewOutput"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_42"></a><h3 class="tight">AudioQueueNewOutput</h3><p class="spaceabove">Creates a new playback audio queue object.</p><p class="spaceabove"><pre>
OSStatus AudioQueueNewOutput (
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription" target="_top">AudioStreamBasicDescription</a>   *inFormat,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueOutputCallback">AudioQueueOutputCallback</a>            inCallbackProc,
   void                                *inUserData,
   <a href="../../../../CoreFoundation/Reference/CFRunLoopRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRunLoopRef" target="_top">CFRunLoopRef</a>                        inCallbackRunLoop,
   <a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a>                         inCallbackRunLoopMode,
   UInt32                              inFlags,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>                       *outAQ
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inFormat</em></dt><dd><p>The data format of the audio to play. For linear PCM, only interleaved formats are supported. Compressed formats are also supported.</p></dd><dt><em>inCallbackProc</em></dt><dd><p>A callback function to use with the playback audio queue. The audio queue calls this function when the audio queue has finished playing a buffer. See <code><a href="reference.html#//apple_ref/c/tdef/AudioQueueOutputCallback">AudioQueueOutputCallback</a></code>.</p></dd><dt><em>inUserData</em></dt><dd><p>A custom data structure for use with the callback function.</p></dd><dt><em>inCallbackRunLoop</em></dt><dd><p>The event loop on which the callback function pointed to by the <code>inCallbackProc</code> parameter is to be called. If you specify <code>NULL</code>, the callback is invoked on one of the audio queue’s internal threads.</p></dd><dt><em>inCallbackRunLoopMode</em></dt><dd><p>The run loop mode in which to invoke the callback function specified in the <em>inCallbackProc</em> parameter. Typically, you pass <code>kCFRunLoopCommonModes</code> or use <code>NULL</code>, which is equivalent. You can choose to create your own thread with your own run loops. For more information on run loops, see <em><a href="../../../../CoreFoundation/Conceptual/CFRunLoops/index.html#//apple_ref/doc/uid/10000135i" target="_top">Run Loops</a></em> and <em><a href="../../../../CoreFoundation/Reference/CFRunLoopRef/index.html#//apple_ref/doc/uid/20001441" target="_top">CFRunLoop Reference</a></em>.</p></dd><dt><em>inFlags</em></dt><dd><p>Reserved for future use. Must be <code>0</code>.</p></dd><dt><em>outAQ</em></dt><dd><p>On output, the newly created playback audio queue object.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueOfflineRender">AudioQueueNewInput</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTest/index.html#//apple_ref/doc/uid/DTS10004001" target="_top">AudioQueueTest</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueOfflineRender" title="AudioQueueOfflineRender"></a><a name="//apple_ref/doc/c_ref/AudioQueueOfflineRender" title="AudioQueueOfflineRender"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW1" title="AudioQueueOfflineRender"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_43"></a><h3 class="tight">AudioQueueOfflineRender</h3><p class="spaceabove">Exports audio to a buffer, instead of to a device, using a playback audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueOfflineRender (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a> *inTimestamp,
   <!--a-->AudioQueueBufferRef<!--/a--> ioBuffer,
   UInt32 inNumberFrames
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The playback audio queue.</p></dd><dt><em>inTimestamp</em></dt><dd><p>The time corresponding to the beginning of the current audio queue buffer. This function uses the <code>mSampleTime</code> field of the <code><a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioTimeStamp" target="_top">AudioTimeStamp</a></code> data structure.
</p></dd><dt><em>ioBuffer</em></dt><dd><p>On input, a buffer you supply to hold rendered audio data. On output, the rendered audio data, which you can then write to a file.</p></dd><dt><em>inRequestedFrames</em></dt><dd><p>The number of frames of audio to render.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>When you change a playback audio queue’s rendering mode to offline, using the <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetOfflineRenderFormat">AudioQueueSetOfflineRenderFormat</a></code> function, you gain access to the rendered audio. You can then write the audio to a file, rather than have it play to external hardware such as a loudspeaker.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetOfflineRenderFormat">AudioQueueSetOfflineRenderFormat</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueStart">AudioQueueStart</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueuePause" title="AudioQueuePause"></a><a name="//apple_ref/doc/c_ref/AudioQueuePause" title="AudioQueuePause"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW20" title="AudioQueuePause"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_44"></a><h3 class="tight">AudioQueuePause</h3><p class="spaceabove">Pauses audio playback or recording.</p><p class="spaceabove"><pre>
OSStatus AudioQueuePause (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue to pause.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Pausing an audio queue does not affect buffers or reset the audio queue. To resume playback or recording, call <code><a href="reference.html#//apple_ref/c/func/AudioQueueStart">AudioQueueStart</a></code>. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueStart">AudioQueueStart</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueuePrime" title="AudioQueuePrime"></a><a name="//apple_ref/doc/c_ref/AudioQueuePrime" title="AudioQueuePrime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW12" title="AudioQueuePrime"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_45"></a><h3 class="tight">AudioQueuePrime</h3><p class="spaceabove">Decodes enqueued buffers in preparation for playback.</p><p class="spaceabove"><pre>
OSStatus AudioQueuePrime (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   UInt32 inNumberOfFramesToPrepare,
   UInt32 *outNumberOfFramesPrepared
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue to be primed. </p></dd><dt><em>inNumberOfFramesToPrepare</em></dt><dd><p>The number of frames to decode before returning. Pass <code>0</code> to decode all enqueued buffers.</p></dd><dt><em>outNumberOfFramesPrepared</em></dt><dd><p>On output, the number of frames actually decoded and prepared for playback. Pass <code>NULL</code> on input if you you are not interested in this information.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This function decodes enqueued buffers in preparation for playback. It returns when at least the number of audio sample frames specified in <em>inNumberOfFramesToPrepare</em> are decoded and ready to play, or (if you pass <code>0</code> for the <em>inNumberOfFramesToPrepare</em> parameter), when all enqueued buffers are decoded.</p><p>To make a buffer of audio data ready to play, use <code>AudioQueuePrime</code> as follows:</p><ol class="ol"><li class="li"><p>Call <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBuffer">AudioQueueEnqueueBuffer</a></code>.</p></li><li class="li"><p>Call <code>AudioQueuePrime</code>.</p></li><li class="li"><p>Call <code><a href="reference.html#//apple_ref/c/func/AudioQueueStart">AudioQueueStart</a></code>.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueRemovePropertyListener" title="AudioQueueRemovePropertyListener"></a><a name="//apple_ref/doc/c_ref/AudioQueueRemovePropertyListener" title="AudioQueueRemovePropertyListener"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW22" title="AudioQueueRemovePropertyListener"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_46"></a><h3 class="tight">AudioQueueRemovePropertyListener</h3><p class="spaceabove">Removes a property listener callback from an audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueRemovePropertyListener (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyID">AudioQueuePropertyID</a> inID,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyListenerProc">AudioQueuePropertyListenerProc</a> inProc,
   void *inUserData
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that you want to remove a property listener callback from.</p></dd><dt><em>inID</em></dt><dd><p>The ID of the property whose changes you no longer want to respond to. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyID">“Audio Queue Property IDs.”</a></span></p></dd><dt><em>inProc</em></dt><dd><p>The callback to be removed.</p></dd><dt><em>inUserData</em></dt><dd><p>The same custom data for the property listener callback that you passed when calling <code><a href="reference.html#//apple_ref/c/func/AudioQueueAddPropertyListener">AudioQueueAddPropertyListener</a></code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueAddPropertyListener">AudioQueueAddPropertyListener</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueReset" title="AudioQueueReset"></a><a name="//apple_ref/doc/c_ref/AudioQueueReset" title="AudioQueueReset"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW9" title="AudioQueueReset"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_47"></a><h3 class="tight">AudioQueueReset</h3><p class="spaceabove">Resets an audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueReset (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue to reset.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This function immediately resets an audio queue, flushes any queued buffers (invoking callbacks as necessary), removes all buffers from previously scheduled use, and resets decoder and digital signal processing (DSP) state. </p><p>If you queue buffers after calling this function, processing does not begin until the decoder and DSP state of the audio queue are reset. This might create an audible discontinuity (or “glitch”).</p><p>This function is called automatically when you call <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueuePause">AudioQueuePause</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueSetOfflineRenderFormat" title="AudioQueueSetOfflineRenderFormat"></a><a name="//apple_ref/doc/c_ref/AudioQueueSetOfflineRenderFormat" title="AudioQueueSetOfflineRenderFormat"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW2" title="AudioQueueSetOfflineRenderFormat"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_48"></a><h3 class="tight">AudioQueueSetOfflineRenderFormat</h3><p class="spaceabove">Sets the rendering mode and audio format for a playback audio queue.</p><p class="spaceabove"><pre>
OSStatus AudioQueueSetOfflineRenderFormat (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription" target="_top">AudioStreamBasicDescription</a> *inFormat,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioChannelLayout" target="_top">AudioChannelLayout</a> *inLayout
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The playback audio queue whose rendering mode and audio format you want to set.</p></dd><dt><em>inFormat</em></dt><dd><p>The audio format for offline rendering. The format must be some sort of linear PCM. If the format has more than one channel, it must be interleaved. For more information on the <code><a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioStreamBasicDescription" target="_top">AudioStreamBasicDescription</a></code> structure, see <em><a href="../../CoreAudioDataTypesRef/index.html#//apple_ref/doc/uid/TP40004488" target="_top">Core Audio Data Types Reference</a></em>.</p><p>Pass <code>NULL</code> to disable offline rendering and return the audio queue to normal output to an audio device.</p></dd><dt><em>inLayout</em></dt><dd><p>The channel layout for offline rendering.  For more information on the <code><a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioChannelLayout" target="_top">AudioChannelLayout</a></code> structure, see <em><a href="../../CoreAudioDataTypesRef/index.html#//apple_ref/doc/uid/TP40004488" target="_top">Core Audio Data Types Reference</a></em>.</p><p>Pass <code>NULL</code> when using this function to disable offline rendering.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Use this function to set a playback audio queue to perform offline rendering, such as for export to an audio file. In offline rendering mode, a playback audio queue does not connect to external hardware.</p><p>You can also use this function to restore an audio queue to normal rendering mode by passing <code>NULL</code> in the <em>inFormat</em> and <em>inLayout</em> parameters.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueOfflineRender">AudioQueueOfflineRender</a></code></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueSetParameter" title="AudioQueueSetParameter"></a><a name="//apple_ref/doc/c_ref/AudioQueueSetParameter" title="AudioQueueSetParameter"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW11" title="AudioQueueSetParameter"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_49"></a><h3 class="tight">AudioQueueSetParameter</h3><p class="spaceabove">Sets a playback audio queue parameter value.</p><p class="spaceabove"><pre>
OSStatus AudioQueueSetParameter (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueParameterID">AudioQueueParameterID</a> inParamID,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueParameterValue">AudioQueueParameterValue</a> inValue
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The playback audio queue that you want to set a parameter value on.</p></dd><dt><em>inParamID</em></dt><dd><p>The ID of the parameter you want to set. In Mac OS X v10.5, audio queues have one parameter available: <code>kAudioQueueParam_Volume</code>, which controls playback gain.  See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Audio_Queue_Parameter_IDs">“Audio Queue Parameter ID.”</a></span></p></dd><dt><em>inValue</em></dt><dd><p>The parameter value to set.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>Use this function to change the settings for a playback audio queue directly. Changes take effect immediately. To set playback gain at the granularity of an audio queue buffer, use the <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBufferWithParameters">AudioQueueEnqueueBufferWithParameters</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetParameter">AudioQueueGetParameter</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBufferWithParameters">AudioQueueEnqueueBufferWithParameters</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueSetProperty" title="AudioQueueSetProperty"></a><a name="//apple_ref/doc/c_ref/AudioQueueSetProperty" title="AudioQueueSetProperty"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW18" title="AudioQueueSetProperty"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_50"></a><h3 class="tight">AudioQueueSetProperty</h3><p class="spaceabove">Sets an audio queue property value. </p><p class="spaceabove"><pre>
OSStatus AudioQueueSetProperty (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyID">AudioQueuePropertyID</a> inID,
   const void *inData,
   UInt32 inDataSize
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue that you want to set a property value on.</p></dd><dt><em>inID</em></dt><dd><p>The ID of the property whose value you want to set. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyID">“Audio Queue Property IDs.”</a></span></p></dd><dt><em>inData</em></dt><dd><p>The property value to set.</p></dd><dt><em>inDataSize</em></dt><dd><p>The size of the property data.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetProperty">AudioQueueGetProperty</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTest/index.html#//apple_ref/doc/uid/DTS10004001" target="_top">AudioQueueTest</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueStart" title="AudioQueueStart"></a><a name="//apple_ref/doc/c_ref/AudioQueueStart" title="AudioQueueStart"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW7" title="AudioQueueStart"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_51"></a><h3 class="tight">AudioQueueStart</h3><p class="spaceabove">Begins playing or recording audio.</p><p class="spaceabove"><pre>
OSStatus AudioQueueStart (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a> *inStartTime
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue to start.</p></dd><dt><em>inDeviceStartTime</em></dt><dd><p>The time at which the audio queue should start.</p><p>To specify a start time relative to the timeline of the associated audio device, use the <code>mSampleTime</code> field of the <code>AudioTimeStamp</code> structure. Use <code>NULL</code> to indicate that the audio queue should start as soon as possible.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>If the associated audio device is not already running, this function starts it.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueuePause">AudioQueuePause</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTest/index.html#//apple_ref/doc/uid/DTS10004001" target="_top">AudioQueueTest</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/func/AudioQueueStop" title="AudioQueueStop"></a><a name="//apple_ref/doc/c_ref/AudioQueueStop" title="AudioQueueStop"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-SW6" title="AudioQueueStop"></a><a name="//apple_ref/doc/uid/TP40005117-CH3-DontLinkElementID_52"></a><h3 class="tight">AudioQueueStop</h3><p class="spaceabove">Stops playing or recording audio.</p><p class="spaceabove"><pre>
OSStatus AudioQueueStop (
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a> inAQ,
   <!--a-->Boolean<!--/a--> inImmediate
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inAQ</em></dt><dd><p>The audio queue to stop.</p></dd><dt><em>inImmediate</em></dt><dd><p>If you pass <code>true</code>, stopping occurs immediately (that is, <em>synchronously</em>). If you pass <code>false</code>, the function returns immediately, but the audio queue does not stop until its queued buffers are played or recorded (that is, the stop occurs <em>asynchronously</em>). Audio queue callbacks are invoked as necessary until the queue actually stops.</p></dd></dl><h5 class="tight">Return Value</h5><p>A result code. See <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH5g-RCM0127">“Audio Queue Result Codes.”</a></span></p><h5 class="tight">Discussion</h5><p>This function resets an audio queue, stops the audio hardware associated with the queue if it is not in use by other audio services, and stops the audio queue. When recording, this function is typically invoked by a user. When playing back, a playback audio queue callback should call this function when there is no more audio to play.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueStart">AudioQueueStart</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueueReset">AudioQueueReset</a></code></li><li class="availability">  <code><a href="reference.html#//apple_ref/c/func/AudioQueuePause">AudioQueuePause</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTest/index.html#//apple_ref/doc/uid/DTS10004001" target="_top">AudioQueueTest</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AudioQueueTools/index.html#//apple_ref/doc/uid/DTS10004380" target="_top">AudioQueueTools</a></span></li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/doc/uid/TP40005117-DontLinkChapterID_1-DontLinkElementID_20" title="Callbacks by Task"></a><h2>Callbacks by Task</h2>
<a name="//apple_ref/doc/uid/TP40005117-CH4-DontLinkElementID_1" title="Handling Audio Queue Buffers for Recording and Playback"></a>
    
    <h3 class="tasks">Handling Audio Queue Buffers for Recording and Playback</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/tdef/AudioQueueInputCallback">AudioQueueInputCallback</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Defines a pointer to a callback function that is called when a recording audio queue has finished filling an audio queue buffer.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/tdef/AudioQueueOutputCallback">AudioQueueOutputCallback</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Defines a pointer to a callback function that is called when an audio queue buffer is available for reuse.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40005117-CH4-DontLinkElementID_2" title="Defining a Property Listener"></a>
    
    <h3 class="tasks">Defining a Property Listener</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyListenerProc">AudioQueuePropertyListenerProc</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Defines a pointer to a callback function that is called when a specified audio queue property changes value.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40005117-CH4-SW1" title="Callbacks"></a><h2>Callbacks</h2><a name="//apple_ref/c/tdef/AudioQueueInputCallback" title="AudioQueueInputCallback"></a><a name="//apple_ref/doc/c_ref/AudioQueueInputCallback" title="AudioQueueInputCallback"></a><a name="//apple_ref/doc/uid/TP40005117-CH4-SW2" title="AudioQueueInputCallback"></a><a name="//apple_ref/doc/uid/TP40005117-CH4-DontLinkElementID_53"></a><h3 class="tight">AudioQueueInputCallback</h3><p class="spaceabove">Defines a pointer to a callback function that is called when a recording audio queue has finished filling an audio queue buffer.</p><p class="spaceabove"><pre>
typedef void (*AudioQueueInputCallback) (
   void                                *inUserData,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>                       inAQ,
   <!--a-->AudioQueueBufferRef<!--/a-->                 inBuffer,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a>                *inStartTime,
   UInt32                              inNumberPacketDescriptions,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription" target="_top">AudioStreamPacketDescription</a>  *inPacketDescs
);
</pre></p><p>If you name your callback function <code>MyAudioQueueInputCallback</code>, you would declare it like this:</p><p><pre>
void MyAudioQueueInputCallback (
   void                                *inUserData,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>                       inAQ,
   <!--a-->AudioQueueBufferRef<!--/a-->                 inBuffer,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioTimeStamp" target="_top">AudioTimeStamp</a>                *inStartTime,
   UInt32                              inNumberPacketDescriptions,
   const <a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription" target="_top">AudioStreamPacketDescription</a>  *inPacketDescs
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inUserData</em></dt><dd><p>The custom data you’ve specified in the <code>inUserData</code> parameter of the <code><a href="reference.html#//apple_ref/c/func/AudioQueueOfflineRender">AudioQueueNewInput</a></code> function. Typically, this includes format and state information for the audio queue.</p></dd><dt><em>inAQ</em></dt><dd><p>The recording audio queue that invoked the callback.</p></dd><dt><em>inBuffer</em></dt><dd><p>An audio queue buffer, newly filled by the recording audio queue, containing the new audio data your callback needs to write.</p></dd><dt><em>inStartTime</em></dt><dd><p>The sample time for the start of the audio queue buffer. This parameter is not used in basic recording.</p></dd><dt><em>inNumberPacketDescriptions</em></dt><dd><p>The number of packets of audio data sent to the callback in the <em>inBuffer</em> parameter. When recording in a constant bit rate (CBR) format, the audio queue sets this parameter to <code>NULL</code>.</p></dd><dt><em>inPacketDescs</em></dt><dd><p>For compressed formats that require packet descriptions, the set of packet descriptions produced by the encoder for audio data in the <em>inBuffer</em> parameter. When recording in a CBR format, the audio queue sets this parameter to <code>NULL</code>.</p></dd></dl><h5 class="tight">Discussion</h5><p>You specify a recording audio queue callback when calling the <code><a href="reference.html#//apple_ref/c/func/AudioQueueOfflineRender">AudioQueueNewInput</a></code> function. The callback is invoked each time its recording audio queue has filled an audio queue buffer with fresh audio data. Typically, your callback writes the data to a file or other buffer, and then reenqueues the audio queue buffer to receive more data.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueueOutputCallback" title="AudioQueueOutputCallback"></a><a name="//apple_ref/doc/c_ref/AudioQueueOutputCallback" title="AudioQueueOutputCallback"></a><a name="//apple_ref/doc/uid/TP40005117-CH4-SW3" title="AudioQueueOutputCallback"></a><a name="//apple_ref/doc/uid/TP40005117-CH4-DontLinkElementID_54"></a><h3 class="tight">AudioQueueOutputCallback</h3><p class="spaceabove">Defines a pointer to a callback function that is called when an audio queue buffer is available for reuse.</p><p class="spaceabove"><pre>
typedef void (*AudioQueueOutputCallback) (
   void                 *inUserData,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>        inAQ,
   <!--a-->AudioQueueBufferRef<!--/a-->  inBuffer
);
</pre></p><p>If you name your callback function <code>MyAudioQueueOutputCallback</code>, you would declare it like this:</p><p><pre>
void MyAudioQueueOutputCallback (
   void                 *inUserData,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>        inAQ,
   <!--a-->AudioQueueBufferRef<!--/a-->  inBuffer
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inUserData</em></dt><dd><p>The custom data you’ve specified in the <code>inUserData</code> parameter of the <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetOfflineRenderFormat">AudioQueueNewOutput</a></code> function. Typically, this includes format and state information for the audio queue.</p></dd><dt><em>inAQ</em></dt><dd><p>The playback audio queue that invoked the callback.</p></dd><dt><em>inBuffer</em></dt><dd><p>An audio queue buffer, newly available to fill because the playback audio queue has acquired its contents.</p></dd></dl><h5 class="tight">Discussion</h5><p>You specify a callback function when creating a new playback audio queue with the <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetOfflineRenderFormat">AudioQueueNewOutput</a></code> function. The callback is invoked each time its playback audio queue has acquired the data from an audio queue buffer, at which point the buffer is available for reuse. Typically, your callback then fills the newly-available buffer with data from a file or other buffer, and then reenqueues the buffer for playback.</p><p>When your application receives a call to the <code>AudioQueueOutputCallback</code> function, you cannot assume that the audio data from the newly-available buffer has been played. To ensure that all queued audio has finished playing, use the <code><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyListenerProc" target="_self">AudioQueuePropertyListenerProc</a></code> property listener callback function, set to listen to the <code><a href="reference.html#//apple_ref/c/econst/kAudioQueueProperty_IsRunning" target="_top">kAudioQueueProperty_IsRunning</a></code> property.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueuePropertyListenerProc" title="AudioQueuePropertyListenerProc"></a><a name="//apple_ref/doc/c_ref/AudioQueuePropertyListenerProc" title="AudioQueuePropertyListenerProc"></a><a name="//apple_ref/doc/uid/TP40005117-CH4-SW4" title="AudioQueuePropertyListenerProc"></a><a name="//apple_ref/doc/uid/TP40005117-CH4-DontLinkElementID_55"></a><h3 class="tight">AudioQueuePropertyListenerProc</h3><p class="spaceabove">Defines a pointer to a callback function that is called when a specified audio queue property changes value.</p><p class="spaceabove"><pre>
typedef void (*AudioQueuePropertyListenerProc) (
   void                  *inUserData,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>         inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyID">AudioQueuePropertyID</a>  inID
);
</pre></p><p>If you name your callback function <code>MyAudioQueuePropertyListenerProc</code>, you would declare it like this:</p><p><pre>
void MyAudioQueuePropertyListenerProc (
   void                  *inUserData,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueRef">AudioQueueRef</a>         inAQ,
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueuePropertyID">AudioQueuePropertyID</a>  inID
);
</pre></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>inUserData</em></dt><dd><p>The custom data you’ve specified in the <code>inUserData</code> parameter of the <code><a href="reference.html#//apple_ref/c/func/AudioQueueAddPropertyListener">AudioQueueAddPropertyListener</a></code> function.</p></dd><dt><em>inAQ</em></dt><dd><p>The recording or playback audio queue that invoked the callback.</p></dd><dt><em>inID</em></dt><dd><p>The ID of the property whose value changes you want to observe.</p></dd></dl><h5 class="tight">Discussion</h5><p>Install this callback in an audio queue by calling the <code><a href="reference.html#//apple_ref/c/func/AudioQueueAddPropertyListener">AudioQueueAddPropertyListener</a></code> function. For example, your application can get a notification that audio has finished playing by:</p><ol class="ol"><li class="li"><p>Defining this property listener callback function to listen for changes to the <code><a href="reference.html#//apple_ref/c/econst/kAudioQueueProperty_IsRunning" target="_top">kAudioQueueProperty_IsRunning</a></code> property.</p></li><li class="li"><p>Installing this callback function in an audio queue by calling the <code><a href="reference.html#//apple_ref/c/func/AudioQueueAddPropertyListener">AudioQueueAddPropertyListener</a></code> function.</p></li></ol><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/doc/uid/TP40005117-CH6-SW2" title="Data Types"></a><h2>Data Types</h2><a name="//apple_ref/c/tdef/AudioQueueBuffer" title="AudioQueueBuffer"></a><a name="//apple_ref/doc/c_ref/AudioQueueBuffer" title="AudioQueueBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-SW1" title="AudioQueueBuffer"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_56"></a><h3 class="tight">AudioQueueBuffer</h3><p class="spaceabove">Defines an audio queue buffer.</p><p class="spaceabove"><pre>
typedef struct AudioQueueBuffer {
const UInt32                 mAudioDataBytesCapacity;
void                         *const mAudioData;
UInt32                       mAudioDataByteSize;
void                         *mUserData;
const UInt32                 mPacketDescriptionCapacity;
AudioStreamPacketDescription *const mPacketDescriptions;
UInt32                       mPacketDescriptionCount;
} AudioQueueBuffer;
typedef AudioQueueBuffer *AudioQueueBufferRef;
</pre></p><h5 class="tight">Fields</h5><dl class="termdef"><dt><code>mAudioDataBytesCapacity</code></dt><dd><p>The size of the audio queue buffer, in bytes. This size is set when an buffer is allocated and cannot be changed.</p></dd><dt><code>mAudioData</code></dt><dd><p>The audio data owned the audio queue buffer. The buffer address cannot be changed.</p></dd><dt><code>mAudioDataByteSize</code></dt><dd><p>The number of bytes of valid audio data in the audio queue buffer’s <code>mAudioData</code> field, initally set to <code>0</code>. Your callback must this value for a playback audio queue; for recording, the recording audio queue sets the value.</p></dd><dt><code>mUserData</code></dt><dd><p>The custom data structure you specify, for use by your callback function, when creating a recording or playback audio queue.</p></dd><dt><code>mPacketDescriptionCapacity</code></dt><dd><p>The maximum number of packet descriptions that can be stored in the <code>mPacketDescriptions</code> field.</p></dd><dt><code>mPacketDescriptions</code></dt><dd><p>An array of <code>AudioStreamPacketDescription</code> structures for the buffer.</p></dd><dt><code>mPacketDescriptionCount</code></dt><dd><p>The number of valid packet descriptions in the buffer. You set this value when providing buffers for playback. The audio queue sets this value when returning buffers from a recording queue.</p></dd></dl><h5 class="tight">Discussion</h5><p>Each audio queue has an associated set of audio queue buffers.  To allocate a buffer, call the <code><a href="reference.html#//apple_ref/c/func/AudioQueueAllocateBuffer">AudioQueueAllocateBuffer</a></code> function. To dispose of a buffer, call the <code><a href="reference.html#//apple_ref/c/func/AudioQueueFreeBuffer">AudioQueueFreeBuffer</a></code> function.</p><p>If using a VBR compressed audio data format, you may want to instead use the <code><!--a-->AudioQueueAllocateBufferWithPacketDescriptions<!--/a--></code> function. This function allocates a buffer with additional space for packet descriptions. The <code>mPacketDescriptionCapacity</code>, <code>mPacketDescriptions</code>, and <code>mPacketDescriptionCount</code> fields may only be used with buffers allocated with <code><!--a-->AudioQueueAllocateBufferWithPacketDescriptions<!--/a--></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueueRef" title="AudioQueueRef"></a><a name="//apple_ref/doc/c_ref/AudioQueueRef" title="AudioQueueRef"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_13" title="AudioQueueRef"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_57"></a><h3 class="tight">AudioQueueRef</h3><p class="spaceabove">Defines an opaque data type that represents an audio queue.</p><p class="spaceabove"><pre>
typedef struct <!--a-->OpaqueAudioQueue<!--/a--> *AudioQueueRef;
</pre></p><h5 class="tight">Discussion</h5><p>An audio queue is is a software object you use for recording or playing audio in Mac OS X. It does the work of:</p><ul class="ul"><li class="li"><p>Connecting to audio hardware</p></li><li class="li"><p>Managing memory</p></li><li class="li"><p>Employing codecs, as needed, for compressed audio formats</p></li><li class="li"><p>Mediating recording or playback</p></li></ul><p>You create, use, and dispose of audio queues using the functions described in <span class="content_text"><a href="reference.html#//apple_ref/doc/uid/TP40005117-CH3-SW13">“Audio Queue Functions.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueueTimelineRef" title="AudioQueueTimelineRef"></a><a name="//apple_ref/doc/c_ref/AudioQueueTimelineRef" title="AudioQueueTimelineRef"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_14" title="AudioQueueTimelineRef"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_58"></a><h3 class="tight">AudioQueueTimelineRef</h3><p class="spaceabove">Defines an opaque data type that represents an audio queue timeline object.</p><p class="spaceabove"><pre>
typedef struct <!--a-->OpaqueAudioQueueTimeline<!--/a--> *AudioQueueTimelineRef;
</pre></p><h5 class="tight">Discussion</h5><p>You can use a timeline object to observe time discontinuities in the audio hardware device associated with an audio queue. A discontinuity is, for example, a period of silence when sound was expected. Causes of discontinuities include changes in device state or data processing overloads. See Technical Q&amp;A 1467, <em><a href="../../../../../qa/qa2006/qa1467.html#//apple_ref/doc/uid/DTS10003908" target="_top">CoreAudio Overload Warnings</a></em>. You query a timeline object by passing it as a parameter to the <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetCurrentTime">AudioQueueGetCurrentTime</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueueLevelMeterState" title="AudioQueueLevelMeterState"></a><a name="//apple_ref/doc/c_ref/AudioQueueLevelMeterState" title="AudioQueueLevelMeterState"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-SW3" title="AudioQueueLevelMeterState"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_59"></a><h3 class="tight">AudioQueueLevelMeterState</h3><p class="spaceabove">Specifies the current level metering information for one channel of an audio queue..</p><p class="spaceabove"><pre>
typedef struct AudioQueueLevelMeterState {
<!--a-->Float32<!--/a-->     mAveragePower;
<!--a-->Float32<!--/a-->     mPeakPower;
};  AudioQueueLevelMeterState;
</pre></p><h5 class="tight">Fields</h5><dl class="termdef"><dt><code>mAveragePower</code></dt><dd><p>The audio channel's average RMS power.</p></dd><dt><code>mPeakPower</code></dt><dd><p>The audio channel's peak RMS power.</p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueueParameterEvent" title="AudioQueueParameterEvent"></a><a name="//apple_ref/doc/c_ref/AudioQueueParameterEvent" title="AudioQueueParameterEvent"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_15" title="AudioQueueParameterEvent"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_60"></a><h3 class="tight">AudioQueueParameterEvent</h3><p class="spaceabove">Specifies an audio queue parameter and associated value.</p><p class="spaceabove"><pre>
struct AudioQueueParameterEvent {
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueParameterID">AudioQueueParameterID</a>     mID;
   <a href="reference.html#//apple_ref/doc/c_ref/AudioQueueParameterValue">AudioQueueParameterValue</a>  mValue;
};  typedef struct AudioQueueParameterEvent AudioQueueParameterEvent;
</pre></p><h5 class="tight">Fields</h5><dl class="termdef"><dt><code>mID</code></dt><dd><p>The parameter.</p></dd><dt><code>mValue</code></dt><dd><p>The value of the specified parameter.</p></dd></dl><h5 class="tight">Discussion</h5><p>You use this structure with the <code><a href="reference.html#//apple_ref/c/func/AudioQueueEnqueueBufferWithParameters">AudioQueueEnqueueBufferWithParameters</a></code> function. See that function, and <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/Audio_Queue_Parameter_IDs">“Audio Queue Parameter IDs,”</a></span> for more information.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueueParameterID" title="AudioQueueParameterID"></a><a name="//apple_ref/doc/c_ref/AudioQueueParameterID" title="AudioQueueParameterID"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_16" title="AudioQueueParameterID"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_61"></a><h3 class="tight">AudioQueueParameterID</h3><p class="spaceabove">A <code>UInt32</code> value that uniquely identifies an audio queue parameter.</p><p class="spaceabove"><pre>
typedef UInt32 AudioQueueParameterID;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/c/tdef/AudioQueueParameterValue" title="AudioQueueParameterValue"></a><a name="//apple_ref/doc/c_ref/AudioQueueParameterValue" title="AudioQueueParameterValue"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_17" title="AudioQueueParameterValue"></a><a name="//apple_ref/doc/uid/TP40005117-CH6-DontLinkElementID_62"></a><h3 class="tight">AudioQueueParameterValue</h3><p class="spaceabove">A <code>Float32</code> value for an audio queue parameter.</p><p class="spaceabove"><pre>
typedef <!--a-->Float32<!--/a--> AudioQueueParameterValue;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/doc/uid/TP40005117-CH5-SW3" title="Constants"></a><h2>Constants</h2><a name="//apple_ref/c/tdef/AudioQueuePropertyID" title="Audio Queue Property IDs" role="Enum"></a><a name="//apple_ref/doc/c_ref/AudioQueuePropertyID" title="Audio Queue Property IDs" role="Enum"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-SW2" title="Audio Queue Property IDs" role="Enum"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_63"></a><h3 class="tight">Audio Queue Property IDs</h3><p class="spaceabove">Identifiers for audio queue properties.</p><p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueProperty_IsRunning">kAudioQueueProperty_IsRunning</a>               = 'aqrn',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueDeviceProperty_SampleRate">kAudioQueueDeviceProperty_SampleRate</a>        = 'aqsr',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueDeviceProperty_NumberChannels">kAudioQueueDeviceProperty_NumberChannels</a>    = 'aqdc',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueProperty_CurrentDevice">kAudioQueueProperty_CurrentDevice</a>           = 'aqcd',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueProperty_MagicCookie">kAudioQueueProperty_MagicCookie</a>             = 'aqmc',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueProperty_ChannelLayout">kAudioQueueProperty_ChannelLayout</a>           = 'aqcl',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueProperty_EnableLevelMetering">kAudioQueueProperty_EnableLevelMetering</a>     = 'aqme',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueProperty_CurrentLevelMeter">kAudioQueueProperty_CurrentLevelMeter</a>       = 'aqmv',
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueProperty_CurrentLevelMeterDB">kAudioQueueProperty_CurrentLevelMeterDB</a>     = 'aqmd',
};
typedef UInt32 AudioQueuePropertyID;
</pre></p><h5 class="tight">Constants</h5><dl class="termdef"><a name="//apple_ref/c/econst/kAudioQueueProperty_IsRunning" title="kAudioQueueProperty_IsRunning"></a><a name="//apple_ref/doc/c_ref/kAudioQueueProperty_IsRunning" title="kAudioQueueProperty_IsRunning"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_64"></a><dt><code>kAudioQueueProperty_IsRunning</code></dt><dd><p>A read-only property whose value is a <code>UInt32</code>. Any nonzero value means running, and <code>0</code> means stopped. A notification is sent when the associated audio queue starts or stops, which may occur sometime after the <code><a href="reference.html#//apple_ref/c/func/AudioQueueStart">AudioQueueStart</a></code> or <code><a href="reference.html#//apple_ref/c/func/AudioQueueStop">AudioQueueStop</a></code> function is called.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueDeviceProperty_SampleRate" title="kAudioQueueDeviceProperty_SampleRate"></a><a name="//apple_ref/doc/c_ref/kAudioQueueDeviceProperty_SampleRate" title="kAudioQueueDeviceProperty_SampleRate"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_65"></a><dt><code>kAudioQueueDeviceProperty_SampleRate</code></dt><dd><p>A read-only property whose value is a <code>Float64</code>. The value is the sampling rate of the audio hardware device associated with an audio queue.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueDeviceProperty_NumberChannels" title="kAudioQueueDeviceProperty_NumberChannels"></a><a name="//apple_ref/doc/c_ref/kAudioQueueDeviceProperty_NumberChannels" title="kAudioQueueDeviceProperty_NumberChannels"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_66"></a><dt><code>kAudioQueueDeviceProperty_NumberChannels</code></dt><dd><p>A read-only property whose value is a <code>UIInt32</code>. The value is the number of channels in the audio hardware device associated with an audio queue.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueProperty_CurrentDevice" title="kAudioQueueProperty_CurrentDevice"></a><a name="//apple_ref/doc/c_ref/kAudioQueueProperty_CurrentDevice" title="kAudioQueueProperty_CurrentDevice"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_67"></a><dt><code>kAudioQueueProperty_CurrentDevice</code></dt><dd><p>A read-write property whose value is of type <code>CFStringRef</code>. The value contains the unique identifier (UID) of the audio hardware device associated with an audio queue.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueProperty_MagicCookie" title="kAudioQueueProperty_MagicCookie"></a><a name="//apple_ref/doc/c_ref/kAudioQueueProperty_MagicCookie" title="kAudioQueueProperty_MagicCookie"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_68"></a><dt><code>kAudioQueueProperty_MagicCookie</code></dt><dd><p>A read-write property whose value is a void pointer to a block of memory, which you set up, containing an audio format magic cookie. If the audio format you are playing or recording to requires a magic cookie, you must set a value for this property before enqueuing any buffers.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueProperty_ChannelLayout" title="kAudioQueueProperty_ChannelLayout"></a><a name="//apple_ref/doc/c_ref/kAudioQueueProperty_ChannelLayout" title="kAudioQueueProperty_ChannelLayout"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_71"></a><dt><code>kAudioQueueProperty_ChannelLayout</code></dt><dd><p>A read-write property whose value is an <code><a href="../../CoreAudio/core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioChannelLayout" target="_top">AudioChannelLayout</a></code> structure that describes an audio queue channel layout. The number of channels in the layout must match the number of channels in the audio format. This property is typically not used in the case of one or two channel audio. For more than two channels (such as in the case of 5.1 surround sound), you may need to specify a channel layout to indicate channel order, such as left, then center, then right.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueProperty_EnableLevelMetering" title="kAudioQueueProperty_EnableLevelMetering"></a><a name="//apple_ref/doc/c_ref/kAudioQueueProperty_EnableLevelMetering" title="kAudioQueueProperty_EnableLevelMetering"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_72"></a><dt><code>kAudioQueueProperty_EnableLevelMetering</code></dt><dd><p>A read-write property whose value is a <code>UInt32</code> that indicates whether audio level metering is enabled for an audio queue. <code>0</code> = metering off, <code>1</code> = metering on.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueProperty_CurrentLevelMeter" title="kAudioQueueProperty_CurrentLevelMeter"></a><a name="//apple_ref/doc/c_ref/kAudioQueueProperty_CurrentLevelMeter" title="kAudioQueueProperty_CurrentLevelMeter"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_73"></a><dt><code>kAudioQueueProperty_CurrentLevelMeter</code></dt><dd><p>A read-only property whose value is an array of <code><a href="reference.html#//apple_ref/c/tdef/AudioQueueLevelMeterState" target="_self">AudioQueueLevelMeterState</a></code> structures, one array element per audio channel. The member values in the structure are in the range <code>0</code> (for silence) to <code>1</code> (indicating maximum level).</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd><a name="//apple_ref/c/econst/kAudioQueueProperty_CurrentLevelMeterDB" title="kAudioQueueProperty_CurrentLevelMeterDB"></a><a name="//apple_ref/doc/c_ref/kAudioQueueProperty_CurrentLevelMeterDB" title="kAudioQueueProperty_CurrentLevelMeterDB"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_74"></a><dt><code>kAudioQueueProperty_CurrentLevelMeterDB</code></dt><dd><p>A read-only property whose value is an array of <code><a href="reference.html#//apple_ref/c/tdef/AudioQueueLevelMeterState" target="_self">AudioQueueLevelMeterState</a></code> structures, one array element per audio channel. The member values in the structure are in decibels.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd></dl><h5 class="tight">Discussion</h5><p>To receive a notification that a specific audio queue property has changed:</p><ol class="ol"><li class="li"><p>Define a property listener callback, referencing the desired audio queue property ID. Base the callback on the <code><a href="reference.html#//apple_ref/c/tdef/AudioQueuePropertyListenerProc">AudioQueuePropertyListenerProc</a></code> callback function declaration.</p></li><li class="li"><p>Assign the callback to an audio queue using the <code><a href="reference.html#//apple_ref/c/func/AudioQueueAddPropertyListener">AudioQueueAddPropertyListener</a></code> function.</p></li><li class="li"><p>When you get a property-changed notification, call the <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetProperty">AudioQueueGetProperty</a></code> function to get the current value of the property.</p></li></ol><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/doc/constant_group/Audio_Queue_Parameter_IDs" title="Audio Queue Parameter IDs" role="Enum"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-SW1" title="Audio Queue Parameter IDs" role="Enum"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_76"></a><h3 class="tight">Audio Queue Parameter IDs</h3><p class="spaceabove">Identifiers for audio queue parameters. </p><p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kAudioQueueParam_Volume">kAudioQueueParam_Volume</a> = 1
};
typedef UInt32 AudioQueueParameterID;
</pre></p><h5 class="tight">Constants</h5><dl class="termdef"><a name="//apple_ref/c/econst/kAudioQueueParam_Volume" title="kAudioQueueParam_Volume"></a><a name="//apple_ref/doc/c_ref/kAudioQueueParam_Volume" title="kAudioQueueParam_Volume"></a><a name="//apple_ref/doc/uid/TP40005117-CH5-DontLinkElementID_77"></a><dt><code>kAudioQueueParam_Volume</code></dt><dd><p>A value from  <code>0.0</code> to  <code>1.0</code> indicating the linearly scaled gain for an audio queue. A value of <code>1.0</code> (the default) indicates unity gain. A value of <code>0.0</code> indicates zero gain, or silence.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>AudioQueue.h</code>.</p></dd></dl><h5 class="tight">Discussion</h5><p>In Mac OS X v10.5, audio queues have one parameter available: <code>kAudioQueueParam_Volume</code>. This parameter applies only to playback audio queues.</p><p>You can set a playback audio queue parameter in one of two ways:</p><ul class="ul"><li class="li"><p>Set the value to take effect immediately using the <code><a href="reference.html#//apple_ref/c/func/AudioQueueSetParameter">AudioQueueSetParameter</a></code> function.</p></li><li class="li"><p>Schedule a value to take effect when a particular audio queue buffer plays. You supply the parameter when you enqueue the buffer. The new value is applied to the audio queue that owns the buffer when that buffer is rendered.</p></li></ul><p>The <code><a href="reference.html#//apple_ref/c/func/AudioQueueGetParameter">AudioQueueGetParameter</a></code> function always returns the current value of the parameter for an audio queue.</p><h5 class="tight">Declared In</h5><code>AudioQueue.h</code><a name="//apple_ref/doc/uid/TP40005117-CH5g-RCM0127" title="Result Codes"></a><h2><a name="//apple_ref/doc/uid/TP40005117-CH5g-468007" title="Result Codes"></a><a name="//apple_ref/doc/uid/TP40005117-CH5g-TPXREF291" title="Result Codes"></a>Result Codes</h2>
<p>This table lists result codes defined for Audio Queue Services.</p>


<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><strong>Result Code</strong></th><th scope="col" align="left"><strong>Value</strong></th><th scope="col" align="left"><strong>Description</strong></th></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_78"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_InvalidBuffer" title="kAudioQueueErr_InvalidBuffer"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_InvalidBuffer" title="kAudioQueueErr_InvalidBuffer"></a><code>kAudioQueueErr_InvalidBuffer</code></td>
<td align="right" valign="top" class="content_text noWrap">-66687</td>

<td valign="top" class="content_text"><p>The specified audio queue buffer does not belong to the specified audio queue.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_79"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_BufferEmpty" title="kAudioQueueErr_BufferEmpty"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_BufferEmpty" title="kAudioQueueErr_BufferEmpty"></a><code>kAudioQueueErr_BufferEmpty</code></td>
<td align="right" valign="top" class="content_text noWrap">-66686</td>

<td valign="top" class="content_text"><p>The audio queue buffer is empty (that is, the <code>mAudioDataByteSize</code> field = <code>0</code>).</p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_80"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_DisposalPending" title="kAudioQueueErr_DisposalPending"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_DisposalPending" title="kAudioQueueErr_DisposalPending"></a><code>kAudioQueueErr_DisposalPending</code></td>
<td align="right" valign="top" class="content_text noWrap">-66685</td>
<td valign="top" class="content_text"><p>The function cannot act on the audio queue because it is being asynchronously disposed of.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_InvalidProperty" title="kAudioQueueErr_InvalidProperty"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_InvalidProperty" title="kAudioQueueErr_InvalidProperty"></a><a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_81"></a><code>kAudioQueueErr_InvalidProperty</code></td>
<td align="right" valign="top" class="content_text noWrap">-66684</td>

<td valign="top" class="content_text"><p>The specified property ID is invalid.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_InvalidPropertySize" title="kAudioQueueErr_InvalidPropertySize"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_InvalidPropertySize" title="kAudioQueueErr_InvalidPropertySize"></a><a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_82"></a><code>kAudioQueueErr_InvalidPropertySize</code></td>
<td align="right" valign="top" class="content_text noWrap">-66683</td>

<td valign="top" class="content_text"><p>The size of the specified property is invalid. </p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_83"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_InvalidParameter" title="kAudioQueueErr_InvalidParameter"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_InvalidParameter" title="kAudioQueueErr_InvalidParameter"></a><code>kAudioQueueErr_InvalidParameter</code></td>
<td align="right" valign="top" class="content_text noWrap">-66682</td>

<td valign="top" class="content_text"><p>The specified parameter ID is invalid. </p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_84"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_CannotStart" title="kAudioQueueErr_CannotStart"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_CannotStart" title="kAudioQueueErr_CannotStart"></a><code>kAudioQueueErr_CannotStart</code></td>
<td align="right" valign="top" class="content_text noWrap">-66681</td>

<td valign="top" class="content_text"><p>The audio queue has encountered a problem and cannot start.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_85"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_InvalidDevice" title="kAudioQueueErr_InvalidDevice"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_InvalidDevice" title="kAudioQueueErr_InvalidDevice"></a><code>kAudioQueueErr_InvalidDevice</code></td>
<td align="right" valign="top" class="content_text noWrap">-66680</td>

<td valign="top" class="content_text"><p>The specified audio hardware device could not be located.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr>
<tr>
<a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_86"></a><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_BufferInQueue" title="kAudioQueueErr_BufferInQueue"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_BufferInQueue" title="kAudioQueueErr_BufferInQueue"></a><code>kAudioQueueErr_BufferInQueue</code></td>
<td align="right" valign="top" class="content_text noWrap">-66679</td>

<td valign="top" class="content_text"><p>The audio queue buffer cannot be disposed of when it is enqueued.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr><tr><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_InvalidRunState" title="kAudioQueueErr_InvalidRunState"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_InvalidRunState" title="kAudioQueueErr_InvalidRunState"></a><a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_87"></a><code>kAudioQueueErr_InvalidRunState</code></td><td align="right" valign="top" class="content_text noWrap">-66678</td><td valign="top" class="content_text"><p>The queue is running but the function can only operate on the queue when it is stopped, or vice versa.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr><tr><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioQueueErr_InvalidQueueType" title="kAudioQueueErr_InvalidQueueType"></a><a name="//apple_ref/doc/c_ref/kAudioQueueErr_InvalidQueueType" title="kAudioQueueErr_InvalidQueueType"></a><a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_88"></a><code>kAudioQueueErr_InvalidQueueType</code></td><td align="right" valign="top" class="content_text noWrap">-66677</td><td valign="top" class="content_text"><p>The queue is an input queue but the function can only operate on an output queue, or vice versa.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr><tr><td valign="top" scope="row"><a name="//apple_ref/c/econst/kAudioFormatUnsupportedDataFormatError" title="kAudioFormatUnsupportedDataFormatError"></a><a name="//apple_ref/doc/c_ref/kAudioFormatUnsupportedDataFormatError" title="kAudioFormatUnsupportedDataFormatError"></a><a name="//apple_ref/doc/uid/TP40005117-CH5g-DontLinkElementID_91"></a><code>kAudioFormatUnsupportedDataFormatError</code></td><td align="right" valign="top" class="content_text noWrap">1718449215 = ‘fmt?’</td><td valign="top" class="content_text"><p>The playback data format is unsupported (declared in <code>AudioFormat.h</code>).</p><p>Available in Mac OS X v10.3 and later.</p></td></tr>
</table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-07-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MusicAudio/Reference/AudioQueueReference/Reference/reference.html%3Fid%3DTP40005117-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MusicAudio/Reference/AudioQueueReference/Reference/reference.html%3Fid%3DTP40005117-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MusicAudio/Reference/AudioQueueReference/Reference/reference.html%3Fid%3DTP40005117-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>