<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Core Animation Programming Guide: Layer Style Properties</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Layer Style Properties"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006074" title="Layer Style Properties"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../GraphicsImaging/index.html#//apple_ref/doc/uid/TP30000440-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../../GraphicsImaging/Quartz-date.html#//apple_ref/doc/uid/TP30000440-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../index.html" target="_top">Core Animation Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="KVCAdditions.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Headstart.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40006074-SW1" title="Layer Style Properties"></a><hr /><H1>Layer Style Properties</H1><p>Regardless of the type of media a layer displays, a layer’s style properties are applied by the render-tree as it composites layers. </p><p>This chapter describes the layer style properties and provides examples of their effect on an example layer.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_5" title="Note"></a><p><strong>Note:</strong>&nbsp;The layer style properties available on Mac OS X and iPhone OS differ and are noted below.</p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW11">Geometry Properties</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW12">Background Properties</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW13">Layer Content</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW15">Sublayers Content</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW16">Border Attributes</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW17">Filters Property</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW18">Shadow Properties</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW19">Opacity Property</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW20">Composite Property</a>
				
			<br/>
			
        
			
			
				<a href="LayerVisProps.html#//apple_ref/doc/uid/TP40006074-SW21">Mask Properties</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006074-SW11" title="Geometry Properties"></a><h2>Geometry Properties</h2><p>A layer’s geometry properties specify how it is displayed relative to its parent layer. The geometry also specifies the radius used to round the layer corners (available only on Mac OS X) and a transform that is applied to the layer and its sublayers.</p><p><span class="content_text">Figure 1</span> shows the geometry of the example layer.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW2" title="Figure 1Layer geometry"></a><p><strong>Figure 1&nbsp;&nbsp;</strong>Layer geometry</p><img src = "../Art/visual-geometry.jpg" alt = "Layer geometry" ></div><br/><p>The following <code>CALayer</code> properties specify a layer’s geometry:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/frame" target="_top">frame</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/bounds" target="_top">bounds</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/position" target="_top">position</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/anchorPoint" target="_top">anchorPoint</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/cornerRadius" target="_top">cornerRadius</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/transform" target="_top">transform</a></code></p></li><li class="li"><p><code><!--a target="_top" -->zPosition<!--/a--></code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_6" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;iPhone OS does not support the <code>cornerRadius</code> property. To simulate the visual effect of a corner radius you can draw the content using the appropriate clipping regions. You can override the hit testing behavior of a layer and exclude touches as appropriate to emulate a geometry with a corner radius, although this is rarely necessary in a touch-based user interface.</p></div><a name="//apple_ref/doc/uid/TP40006074-SW12" title="Background Properties"></a><h2>Background Properties</h2><p>Next, the layer renders its background. You can define a color for the background as well as a Core Image filter.</p><p><span class="content_text">Figure 2</span> illustrates the sample layer with its <code>backgroundColor</code> set.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW3" title="Figure 2Layer with background color"></a><p><strong>Figure 2&nbsp;&nbsp;</strong>Layer with background color</p><img src = "../Art/visual-backgroundcolor.jpg" alt = "Layer with background color" ></div><br/><p> The background filter is applied to the content behind the layer.  For example, you may wish to apply a blur filter as a background filter to make the layer content stand out better.</p><p>The following <code>CALayer</code> properties affect the display of a layer’s background:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/backgroundColor" target="_top">backgroundColor</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/backgroundFilters" target="_top">backgroundFilters</a></code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_7" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;While the <code>CALayer</code> class in iPhone OS exposes the <code>backgroundFilters</code> property, Core Image is not available. The filters available for this property are currently undefined. </p></div><a name="//apple_ref/doc/uid/TP40006074-SW13" title="Layer Content"></a><h2>Layer Content</h2><p>Next, if set, the content of the layer is rendered.  The layer content can be created using the Quartz graphics environment, OpenGL, QuickTime, or Quartz Composer.</p><p><span class="content_text">Figure 4</span> shows the example layer with its content composited.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW14" title="Figure 3Layer displaying a content image"></a><p><strong>Figure 3&nbsp;&nbsp;</strong>Layer displaying a content image</p><img src = "../Art/visual-contents.jpg" alt = "Layer displaying a content image" ></div><br/><p>By default, the content of a layer is not clipped to its bounds and corner radius. The <code>masksToBounds</code> property can be set to <code>true</code> to clip the layer content to those values.</p><p>The following <code>CALayer</code> properties affect the display of a layer’s content:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/contents" target="_top">contents</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/contentsGravity" target="_top">contentsGravity</a></code></p></li></ul><a name="//apple_ref/doc/uid/TP40006074-SW15" title="Sublayers Content"></a><h2>Sublayers Content</h2><p>It is typical that a layer will have a hierarchy of child layers, its sublayers. These sublayers are rendered recursively, relative to the parent layer's geometry. The parent layer’s <code>sublayerTransform</code> is applied to each sublayer, relative to the parent layer’s anchor point.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW4" title="Figure 4Layer displaying the sublayers content"></a><p><strong>Figure 4&nbsp;&nbsp;</strong>Layer displaying the sublayers content</p><img src = "../Art/visual-sublayers.jpg" alt = "Layer displaying the sublayers content" ></div><br/><p>By default, a layer’s sublayers are not clipped to the layer’s bounds and corner radius. The <code>masksToBounds</code> property can be set to <code>true</code> to clip the layer content to those values. The example layer’s <code>maskToBounds</code> property is <code>false</code>; notice that the sublayer displaying the monitor and test pattern is partially outside of its parent layer’s bounds.</p><p>The following <code>CALayer</code> properties affect the display of a layer’s sublayers:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/sublayers" target="_top">sublayers</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/masksToBounds" target="_top">masksToBounds</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/sublayerTransform" target="_top">sublayerTransform</a></code></p></li></ul><a name="//apple_ref/doc/uid/TP40006074-SW16" title="Border Attributes"></a><h2>Border Attributes</h2><p>A layer can display an optional border using a specified color and width. <span class="content_text">Figure 5</span> shows the example layer after applying a border.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW5" title="Figure 5Layer displaying the border attributes content"></a><p><strong>Figure 5&nbsp;&nbsp;</strong>Layer displaying the border attributes content</p><img src = "../Art/visual-borderwidth.jpg" alt = "Layer displaying the border attributes content" ></div><br/><p>The following <code>CALayer</code> properties affect the display of a layer’s borders:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/borderColor" target="_top">borderColor</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/borderWidth" target="_top">borderWidth</a></code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_8" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;As a performance consideration, iPhone OS does not support the <code>borderColor</code> and <code>borderWidth</code> properties. Drawing a border for layer content is the responsibility of the developer. </p></div><a name="//apple_ref/doc/uid/TP40006074-SW17" title="Filters Property"></a><h2>Filters Property</h2><p>An array of Core Image filters can be applied to the layer.  These filters affect the layer's border, content, and background. <span class="content_text">Figure 6</span> shows the example layer with the Core Image posterize filter applied.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW6" title="Figure 6Layer displaying the filters properties"></a><p><strong>Figure 6&nbsp;&nbsp;</strong>Layer displaying the filters properties</p><img src = "../Art/visual-filters.jpg" alt = "Layer displaying the filters properties" ></div><br/><p>The following <code>CALayer</code> property specifies a layers content filters:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/filters" target="_top">filters</a></code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_9" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;While the <code>CALayer</code> class in iPhone OS exposes the <code>filters</code> property, Core Image is not available. Currently the filters available for this property are undefined. </p></div><a name="//apple_ref/doc/uid/TP40006074-SW18" title="Shadow Properties"></a><h2>Shadow Properties</h2><p>Optionally, a layer can display a shadow, specifying its opacity, color, offset, and blur radius. <span class="content_text">Figure 7</span> shows the example layer with a red shadow applied.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW7" title="Figure 7Layer displaying the shadow properties"></a><p><strong>Figure 7&nbsp;&nbsp;</strong>Layer displaying the shadow properties</p><img src = "../Art/visual-shadow.jpg" alt = "Layer displaying the shadow properties" ></div><br/><p>The following <code>CALayer</code> properties affect the display of a layer’s shadow:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/shadowColor" target="_top">shadowColor</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/shadowOffset" target="_top">shadowOffset</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/shadowOpacity" target="_top">shadowOpacity</a></code></p></li><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/shadowRadius" target="_top">shadowRadius</a></code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_10" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;As a performance consideration, iPhone OS does not support the <code>shadowColor</code>, <code>shadowOffset</code>, <code>shadowOpacity</code>, and <code>shadowRadius</code> properties.</p></div><a name="//apple_ref/doc/uid/TP40006074-SW19" title="Opacity Property"></a><h2>Opacity Property</h2><p>By setting the opacity of a layer, you can control the layer’s transparency. <span class="content_text">Figure 8</span> shows the example layer with an opacity of 0.5.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW8" title="Figure 8Layer including the opacity property"></a><p><strong>Figure 8&nbsp;&nbsp;</strong>Layer including the opacity property</p><img src = "../Art/visual-opacity.jpg" alt = "Layer including the opacity property" ></div><br/><p>The following <code>CALayer</code> property specifies the opacity of a layer:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/opacity" target="_top">opacity</a></code></p></li></ul><a name="//apple_ref/doc/uid/TP40006074-SW20" title="Composite Property"></a><h2>Composite Property</h2><p>A layer’s compositing filter is used to combine the layer content with the layers behind it. By default, a layer is composited using source-over. <span class="content_text">Figure 9</span> shows the example layer with a compositing filter applied. </p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW9" title="Figure 9Layer composited using the compositingFilter property"></a><p><strong>Figure 9&nbsp;&nbsp;</strong>Layer composited using the compositingFilter property</p><img src = "../Art/visual-composite.jpg" alt = "Layer composited using the compositingFilter property" ></div><br/><p>The following <code>CALayer</code> property specifies the composting filter for a layer:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/compositingFilter" target="_top">compositingFilter</a></code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_11" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;While the <code>CALayer</code> class in iPhone OS exposes the <code>compositingFilter</code> property, Core Image is not available. Currently the filters available for this property are undefined. </p></div><a name="//apple_ref/doc/uid/TP40006074-SW21" title="Mask Properties"></a><h2>Mask Properties</h2><p>Finally, you can specify a layer that will serve as a mask, further modifying how the rendered layer appears.  The opacity of the mask layer determines masking when the layer is composited. <span class="content_text">Figure 10</span> shows the example layer composited with a mask layer.</p><br/><div><a name="//apple_ref/doc/uid/TP40006074-SW10" title="Figure 10Layer composited with the mask property"></a><p><strong>Figure 10&nbsp;&nbsp;</strong>Layer composited with the mask property</p><img src = "../Art/visual-mask.jpg" alt = "Layer composited with the mask property" ></div><br/><p>The following <code>CALayer</code> property specifies the mask for a layer:</p><ul class="ul"><li class="li"><p><code><a href="../../../../GraphicsImaging/Reference/CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instp/CALayer/mask" target="_top">mask</a></code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40006074-DontLinkElementID_12" title="iPhone OS Note"></a><p><strong>iPhone OS Note:</strong>&nbsp;As a performance consideration, iPhone OS does not support the <code>mask</code> property.</p></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="KVCAdditions.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Headstart.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-11-13<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/LayerVisProps.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/LayerVisProps.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/CoreAnimation_guide/Articles/LayerVisProps.html%3Fid%3DTP40004514-5.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
