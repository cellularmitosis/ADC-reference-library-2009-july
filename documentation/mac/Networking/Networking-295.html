<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Multinode Parameter Block(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING295></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-294.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-296.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-284.html"><B>Chapter 12 - Multinode Architecture</B></A> / <A HREF="Networking-291.html"><B>Multinode Architecture Reference</B></A><BR><DL><DD><A HREF="Networking-292.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING295-0></A>
<H3><A NAME=MARKER-9-63></A>The Multinode Parameter Block</H3>
 <A NAME=MARKER-2-64></A>The multinode routines that you use to add and remove a node and send a packet from a multinode require a pointer to a<A NAME=MARKER-2-65></A> multinode parameter block. The multinode parameter block holds all of the input and output values associated with the routine. The multinode parameter block is a variant record parameter block, defined by the <CODE>MNParamBlock</CODE> <BR>data type. <P>
<DL>
<DT><B>IMPORTANT</B>
<DD>For the multinode parameter block, you must define the <CODE>MNParamBlock</CODE> type in your application because it is not <BR>included in the MPW interface files.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 This section defines the fields that are common to the three multinode routines that use the multinode parameter block. It does not define reserved fields, which are used either internally by the .MPP driver or not at all. The fields that are used for specific routines only are defined in the description of the routines to which they apply.<P>
<PRE>
TYPE
MNParmType =   (AddNodeParm,RemoveNodeParm);
MNParamBlock   = 
PACKED RECORD
      qLink:            QElemPtr;         {reserved}
      qType:            Integer;          {reserved}
      ioTrap:           Integer;          {reserved}
      ioCmdAddr:        Ptr;              {reserved}
      ioCompletion:     ProcPtr;          {completion routine}
      ioResult:         OSErr;            {result code}
      ioNamePtr:        StringPtr;        {reserved}
      ioVRefNum:        Integer;          {reserved}
      ioRefNum:         Integer;          {driver reference number}
      csCode:           Integer;          {command code}
      filler1:          Byte;
      checkSumFlag:     Byte;             {perform checksum on datagram}
         wdsPointer:    Ptr;              {pointer to write-data structure}
         filler2:       Integer;
         CASE MNParmType of
            AddNodeParm:
               (reqNodeAddr:  AddrBlock;  {preferred address requested}
               actNodeAddr:   AddrBlock;  {actual node address acquired}
               recvRoutine:   ProcPtr;    {address of packet receive routine}
               reqCableLo:    Integer;    {preferred network range for the }
               reqCableHi:    Integer;    { node being acquired}
               reserved: PACKED ARRAY[1..70] OF Byte);
            RemoveNodeParm:
               (nodeAddr: AddrBlock);     {node address to be deleted}
         END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>ioResult</CODE>
<DD> The result of the function. When you execute the function asynchro-<BR>nously, the function sets this field to 1 and returns a function result of <CODE>noErr</CODE> as soon as the function begins execution. When the function completes execution, it sets the <CODE>ioResult</CODE> field to the actual result code.
<DT><CODE><A NAME=MARKER-2-66></A>ioRefNum</CODE>
<DD> The .MPP driver reference number. You must fill in this value. 
<DT><CODE><A NAME=MARKER-2-67></A>csCode</CODE>
<DD> The command code of the multinode command to be executed. You must fill in a numeric value <A NAME=MARKER-2-68></A>for this<A NAME=MARKER-2-69></A> field.<A NAME=MARKER-2-70></A> 
</DL>



</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-294.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-296.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
