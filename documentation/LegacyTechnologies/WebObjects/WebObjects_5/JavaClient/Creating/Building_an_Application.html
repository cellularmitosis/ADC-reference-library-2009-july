<HTML>		<HEAD>        <title>Buildingand Testing Your Application</title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Creating_th_r_Interface.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../Enhancing/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF125"></a><h2><font face="Helvetica,Arial,Lucida Grande">Buildingand Testing Your Application</font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">You have now created a Java Client application-a fairlytrivial one, to be sure, but still one with all the essential ingredients.Now it is a good idea to build and test your application to catchany problems. Interface Builder gives you a way to test your userinterface even before any code is compiled. However, to gauge thecomplete picture, you still should build your application and testit.</font></p><br><a name = "TPXREF127"></a><h3><font face="Helvetica,Arial,Lucida Grande">Buildingthe Application</font></h3><p><font face="Times">You build a Java Client project using Project Builder.</font></p><ol><p><li>Go to theProject Builder main window and Make sure that the StudioManagertarget is selected in the target pop-up menu.</li></p><p><li>Click  <img src = "../Art/buildicon.gif" alt = "[image: ../Art/buildicon.gif]"> tobuild the application.</li></p></ol><p><font face="Times">If there are any coding or linking errors, the Build panedisplays them; click an error message in the upper part of the paneto go to the site of the error in the code editor.</font></p> <img src = "../Art/buildwitherror.gif" alt = "[image: ../Art/buildwitherror.gif]"><p><font face="Times">For information about debugging, see  <a sector="mod" href="../Advanced/iDebugging_J_pplications.html" target="_top">"Debugging Java Client WebObjects Applications"</a>.</font></p><br><a name = "BCIGGCFI"></a><h3><font face="Helvetica,Arial,Lucida Grande">BrowserLaunch by Project Builder</font></h3><p><font face="Times">When launching a WebObjects application, Project Builder'sdefault behavior is to launch your Web browser. Unless you are usingapplets, this is not the desired behavior for Java Client applications.Therefore, you must tell Project Builder not to launch your browser whenyou run the StudioManager server-side application.</font></p><ol><p><li>Click theTargets tab.</li></p><p><li>Select the StudioManager target in the Targets list.</li></p><p><li>Click the Executables tab in the content area.</li></p><p><li>Click Add on the lower-right corner of the content area.</li></p><p><li>Type <code>-WOAutoOpenInBrowser NO</code> inthe Launch Arguments column of the Arguments panel.</li></p></ol> <img src = "../Art/browserdisplay.gif" alt = "[image: ../Art/browserdisplay.gif]"><br><a name = "BCIFBBIE"></a><h3><font face="Helvetica,Arial,Lucida Grande">Runninga Java Client Application</font></h3><p><font face="Times">A Java Client application is really two applications: a server-sideapplication and a client-side application (or applet); they mustbe running concurrently. You start the server application as youdo any WebObjects application in one of the following ways:</font></p><ul><p><li>using ProjectBuilder (during development and testing)</li></p><p><li>from the command line</li></p><p><li>using the Monitor application (the preferred deployment mechanism)</li></p></ul><p><font face="Times">For the procedures for the last two options, check <em>ServingWebObjects</em>. You can launch the server application fromProject Builder by clicking the Launch icon.</font></p> <img src = "../Art/launchicon.gif" alt = "[image: ../Art/launchicon.gif]"><p><font face="Times">After starting the server application, start the client application;there are several ways to do this:</font></p><ul><p><li><b>Usingthe Java interpreter (java)</b> To start the client as astand-alone Java application outside a browser, use the <code>java</code> interpreter.The syntax for using <code>java</code> tostart a Java Client application is<pre>    java [-classpath classpath]      com.apple.client.eoapplication.EOApplication     -applicationURLurl      [-page pageName]</pre><p>Youmight want to create a script file to make this command automaticand hidden.</p><p>It might not be necessary to specify the <code>-classpath</code> option,but if the interpreter cannot find classes, you must either modifyyour <code>CLASSPATH</code> environmentvariable or add the <code>-classpath</code> optionto the command. The <code>-applicationURL</code> optionspecifies the application's URL that you would also use in a browserand the <code>-page</code> optionspecifies the name of the page that contains the WOJavaClientAppletcomponent. If <code>pageName</code> is notspecified, "Main" is assumed.</p><p>Please note that <code>com.webobjects.eoapplication.EOApplication</code> isthe name of the class that contains the static <tt>main</tt> functionthat is usually used to start up a Java Client WebObjects application.If you have a different <tt>main</tt> functionyou must specify the name of the class that implements it instead.</p></li></p><p><li><b>Running the client launch script</b> Thisis another way to launch the client as a stand-alone application.The launch script is named after your project, with the <code>_Client</code> postfix.It's located in your project folder in <code>build/StudioManager.woa/Contents/MacOS</code>. Thescript takes as its argument the server application's URL (displayedin the console output).<p>For example, to run the StudioManagerclient application, you would type something similar to the followingin your shell:</p><pre>cd ~/Projects/StudioManager/build/StudioManager.woa/Contents/MacOS./StudioManager_Client http://localhost:49387/cgi-bin/WebObjects/StudioManager</pre></li></p><p><li><b>Using MRJAppBuilder</b> You can use theMRJAppBuilder application to build a double-clickable application.</li></p><p><li><b>Using appletviewer</b> The JDK's <code>appletviewer</code> toolis very useful during development because it minimizes your start-uptime by removing the need to launch a browser. It also lets youview the debugging output inside the shell where you run <code>appletviewer</code>. Touse the tool, copy the URL of the server application (displayedin the console output) and paste it in a shell window as the argument,for example:<pre>appletviewer http://&lt;host&gt;:1234</pre><p>Ifyou are running <code>appletviewer</code> onthe same machine as the WebObjects application, <em>&lt;host&gt;</em> is"localhost"; otherwise it is the host name of the machine onwhich the application is running.</p></li></p><p><li><b>Using browsers</b> see explanation below.</li></p></ul><p><font face="Times">There are a few considerations to keep in mind when runninga Java Client WebObjects application:</font></p><ul><p><li>You can specify <code>-WOAutoOpenInBrowserNO</code> on the command line to avoid auto-launching abrowser when you start up your server application. See  <a href="#BCIGGCFI">"Browser Launch by Project Builder"</a> formore information.</li></p><p><li>The <code>CLASSPATH</code> environmentvariable must be correctly set so your application can find allnecessary Java classes. If you're using <code>appletviewer</code> orthe Java interpreter, you need to include the directory containingyour client-side classes. The following <code>CLASSPATH</code> worksfor a development environment where the client application is runningon the server.<p>Type the following command into the Terminalwindow from which you execute <code>appletviewer</code> orthe Java interpreter.</p><pre>setenv CLASSPATH "/System/Library/Java:/System/Library/Frameworks /JavaVM.framework/Classes/swingall.jar:&lt;DirectoryContainingStudioManager &gt;/StudioManager/StudioManager.woa/WebServerResources/Java"</pre></li></p><p><li><code>Using Web browsers</code>:If you run the application in a Microsoft Internet Explorer or Netscapebrowser, you have to use Sun's Java Plug-in.<p>These browserscurrently do not implement the J2SE specification exactly or havebugs that prevent Java Client applications from working correctly.In particular, Microsoft Internet Explorer does not reset the Javavirtual machine, which can cause the application to freeze. In addition,if you start a new applet in a browser that has run another applet,the new applet freezes because the browser's Java virtual machineis not restarted. You will need to restart the browser every timeyou launch your application, quit the browser and then launch theclient. This procedure is not necessary if you use Sun's JavaPlug-in. The first time you start an application using the plug-in,the browser will ask you to download the plug-in (the concrete behavior dependson the browser). Afterwards, the plug-in is loaded automatically.Please refer to Sun's documentation at http://java.sun.com/products formore information.</p></li></p></ul><br><a name = "TPXREF128"></a><h3><font face="Helvetica,Arial,Lucida Grande">WhatIf It Doesn't Work? </font></h3><p><font face="Times">What if you test-run the application and it doesn't work?</font></p><ul><p><li>If no dataappears in the table, look in the Attributes pane of the Studio EODisplayGroupInfo window to make sure that "Fetch on load" is selected.</li></p><p><li>If the buttons don't have the desired effect, make surethat they're connected to the appropriate action method in theappropriate object.</li></p><p><li>If you get database errors when you try to add and deletestudios or save changes, make sure that your model is properly specified.In particular, check that all of your entities have primary keys.Finally, choose Check Consistency from the Model menu in EOModelerto confirm that there are no problems in your model.</li></p></ul><br><a name = "TPXREF129"></a><h3><font face="Helvetica,Arial,Lucida Grande">WhatYou've Got So Far</font></h3><p><font face="Times">Until now you have still not written a single line of code.However, because of the built-in features of Enterprise ObjectsFramework, all of the following have been provided for you:</font></p><ul><p><li>automaticprimary-key generation when you insert a new object<p>Every rowin a database is uniquely identified by the value of its primary-keycolumn. When you create a new object in your application and saveit to the database, you're adding a new row to a database table,and this row needs a primary key (that is, it needs to have a uniquevalue for the primary-key attribute you set in EOModeler). Enterprise ObjectsFramework handles generating this unique value for you.</p></li></p><p><li>formatting of currency values and dates</li></p><p><li>coordinating the user interface with your data<p>EnterpriseObjects Framework keeps all parts of an application synchronizedwith the current view of the data. For example, if you have twowindows in an application that are displaying the same data andyou change the values in one window, the other is automaticallyupdated to reflect the changes.</p></li></p></ul><br><a name = "TPXREF7"></a><h3><font face="Helvetica,Arial,Lucida Grande">OptionalExercise </font></h3><p><font face="Times">Enterprise Objects Framework provides additional action methodsthat you can use in connections: <tt>fetch</tt> (EODisplayGroup)and <tt>refetch</tt> (EOEditingContext). Tryadding controls (such as buttons or menu items) to the applicationand connecting them to some of these action methods.</font></p><br><a href="Creating_th_r_Interface.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="../Enhancing/index.html" target="_top"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>