<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Sync Services Programming Guide: Creating a Sync Schema</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating a Sync Schema"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001153" title="Creating a Sync Schema"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../Syncing-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP40001899" target="_top">Syncing</a> &gt; <a href="../index.html" target="_top">Sync Services Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SessionManagement.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="RegisteringSchemas.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40001153-CJBEHAAG" title="Creating a Sync Schema"></a><hr /><H1>Creating a Sync Schema</H1><p>A sync schema consists of a property list, image files, and localization files contained in a bundle that you specify when registering a schema. If you are using Core Data, then it might contain one or more managed object models, too. You can create a schema to extend an existing schema or to define your own schema. The schema property list contains a description of the entities and properties used by the client as well as other attributes used by the sync engine.</p><p>See <span class="content_text"><a href="../../CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6" target="_top">Cocoa Design Patterns</a></span> in <em><a href="../../CocoaFundamentals/index.html#//apple_ref/doc/uid/TP40002974" target="_top">Cocoa Fundamentals Guide</a></em> for a description of entity-relationship models and terminology. See <span class="content_text"><a href="RegisteringSchemas.html#//apple_ref/doc/uid/TP40001154-CJBEHAAG">“Registering Schemas”</a></span> for how to register your own schemas.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001153-DontLinkElementID_28" title="Note"></a><p><strong>Note:</strong>&nbsp;Core Data syncing and the managed object models schema property are available in Mac OS X v10.5 and later.</p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-139189">Sync Schema Components</a>
				
			<br/>
			
        
			
			
				<a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-159273">Creating a Sync Schema Bundle</a>
				
			<br/>
			
        
			
			
				<a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-139225-BCIEFHFI">Creating a Sync Schema Property List</a>
				
			<br/>
			
        
			
			
				<a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-174609-BCIHAJJE">Localizing Property Names</a>
				
			<br/>
			
        
			
			
				<a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-182015-CJBHGEAJ">Creating a Schema Extension</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001153-139189" title="Sync Schema Components"></a><h2>Sync Schema Components</h2><p>A sync schema is a property list stored in a <code>.syncschema</code> bundle along with other related files such as localization and image files. A property list is made up of primitive types such as arrays, dictionaries, and string values, not arbitrary types. Nevertheless, it’s helpful to view a property list as a pseudo object model.<span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-140524-BBCJCAGC">Figure 1</a></span> illustrates the components in a sync schema: the schema itself, entities, data classes, attributes, and relationships. The double arrowheads in the diagram imply a to-many relationship (implemented as an array in the property list) between components.</p><br/><div><a name="//apple_ref/doc/uid/TP40001153-140524-BBCJCAGC" title="Figure 1Sync schema components"></a><p><a name="//apple_ref/doc/uid/TP40001153-140524" title="Figure 1Sync schema components"></a><strong>Figure 1&nbsp;&nbsp;</strong>Sync schema components</p><img src = "../art/sync_schema.gif" alt = "Sync schema components" width="488" height="257"></div><br/><a name="//apple_ref/doc/uid/TP40001153-159273" title="Creating a Sync Schema Bundle"></a><h2>Creating a Sync Schema Bundle</h2><p>You can create a schema bundle using Xcode. Just select New Project from the File menu and select the Sync Schema template from the Assistant. Then edit the <code>Schema.plist</code> file to define your entities and properties as described in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-139225">“Creating a Sync Schema Property List.”</a></span> You can also localize the names of entities and properties using the <code>Schema.strings</code> file as described in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-174609">“Localizing Property Names.”</a></span></p><a name="//apple_ref/doc/uid/TP40001153-139225" title="Creating a Sync Schema Property List"></a><a name="//apple_ref/doc/uid/TP40001153-139225-BCIEFHFI" title="Creating a Sync Schema Property List"></a><h2>Creating a Sync Schema Property List</h2><p>After you create a schema bundle, you edit the <code>Schema.plist</code> file to define your entities and properties. Unless otherwise stated, the following high-level sync schema properties are optional:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>Comment</code></p></td><td ><p>A string used to document the schema.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>DataClasses</code></p></td><td ><p>An array containing one or more dictionaries that describe a data class. The properties of a data class are described in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-139879">“Data Class Properties.”</a></span> If this is not a schema extension, this key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Entities</code></p></td><td ><p>An array of dictionaries describing new record types and record type extensions. The entity properties are described in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-139948">“Entity Properties.”</a></span></p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>ManagedObjectModels</code></p></td><td ><p>An array of strings containing the paths to the Core Data managed object model files (files with a <code>.mom</code> suffix) associated with this schema.</p><p>Relative paths are relative to the location of the schema bundle. Use a relative path to load a model that lives outside the schema bundle—for example, use <code>../../../MyModel.mom</code> to load a model located in the application's <code>Resources</code> directory.</p><p>Use this property if you want to sync Core Data managed objects. By default, all entities and properties defined in a managed object model are registered with the sync manager. Read <span class="content_text"><a href="UsingCoreData.html#//apple_ref/doc/uid/TP40005232-SW1">“Syncing Core Data Applications”</a></span> for how to designate a subset of entities and properties to sync and set other required sync information in a managed object model.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr><tr><td  scope="row"><p><code>Name</code></p></td><td ><p>A string providing a unique name for this schema. Typically, a reverse DNS-style name such as <code>com.mycompany.SyncExamples</code>. You should never change the schema name. Doing so orphans the old schema definition, which you then must remove. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>StrictParsing</code></p></td><td ><p>Set to <code>true</code> if you want to use strict validation, <code>false</code> otherwise. If not specified, uses the validation corresponding to the binary registering the schema. If the binary was built on Mac OS X v10.5 and later, uses strict validation.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr><tr><td  scope="row"><p><code>UIHelperClass</code></p></td><td ><p>Set to the class that implements the <code>ISyncUIHelper</code> informal protocol. Use this key if you want to customize the presentation of your records and schema in the iSync user interface.</p><p>When the sync schema bundle is loaded, an instance of this class is created to handle presentation requests from the data change alert and conflict resolver user interfaces. Therefore, if this key is set, the class must be included in this schema bundle.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr></table></div><p>For example, the following property list fragment specifies the name of the sync schema as <code>com.mycompany.SyncExamples</code>. Typically, you use reverse DNS-style names for schemas, entities, and client identifiers. (Working applications using this example schema are located in <code>/Developer/Examples/Sync Services/MediaExample</code>.)</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;plist version="1.0"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>com.mycompany.SyncExamples&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>DataClasses&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>     ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Entities&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>     ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/plist><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-139879" title="Data Class Properties"></a><a name="//apple_ref/doc/uid/TP40001153-139879-BBCCGIJA" title="Data Class Properties"></a><h3>Data Class Properties</h3><p>A data class is a logical grouping of related entities. Typically, it is a grouping that makes sense to a user—for example, a group of entities that a user might want to sync over .Mac such as contacts. You can add an entity to a data class by setting the entity’s <code>DataClass</code> attribute. Any data class you create should be added to the schema’s <code>DataClasses</code> property.</p><p>The properties of a data class are as follows: </p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>ImagePath</code></p></td><td ><p>Path to an image representing this data class. If it is a relative path, then it is assumed to be relative to the schema bundle. Typically, the image is an icon file that can be displayed at different resolutions. Otherwise, it should be at least 32 x 32 pixels. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Name</code></p></td><td ><p>A unique name for the data class. Typically, a reverse DNS-style name such as <code>com.apple.Contacts</code>. Can be localized using the <code>Schema.strings</code> file located in the schema bundle. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr></table></div><p>For example, the following property list fragment specifies the data classes for an example application:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;key>DataClasses&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>com.mycompany.SyncExamples&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>ImagePath&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>SyncExamples.icns&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-139948" title="Entity Properties"></a><a name="//apple_ref/doc/uid/TP40001153-139948-BBCGGABI" title="Entity Properties"></a><h3>Entity Properties</h3><p>The properties of an entity within a sync schema are described below and are optional unless explicitly stated otherwise:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>Attributes</code></p></td><td ><p>An array containing dictionaries describing the attributes in the entity or extension. Attribute properties are described in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-140094">“Attribute Properties.”</a></span></p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>DataClass</code></p></td><td ><p>The name of the data class this entity belongs to. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>ExcludeFromDataChangeAlert</code></p></td><td ><p>Set to <code>true</code> if you want to exclude changes to records of this entity type from the total count of changed records used in alert messages, <code>false</code> otherwise. The default value is <code>false</code>.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>ExtensionName</code></p></td><td ><p>A unique name for this extension, if you are adding attributes to an existing entity. The extension name is used to scope the attribute and relationship names to prevent collisions. Typically, a reverse DNS-style name such as <code>com.apple.iCal.CalendarExtensions</code>. If this is a schema extension, this key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>IdentityProperties</code></p></td><td ><p>An array containing the names of the entity properties that are used to match a new record from a sync client with an existing record. If the target of a to-one relationship is used, the name of the relationship is specified.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Name</code></p></td><td ><p>A unique name for the entity. Typically, a reverse DNS-style name such as <code>com.apple.Contacts</code>. Can be localized using the <code>Schema.strings</code> file located in the schema bundle. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Parent</code></p></td><td ><p>The name of the relationship that contains or encloses records belonging to this entity. Used to display a user friendly entity name when conflicts occur during syncing. For example, in the contacts schema, the target of the <code>contact</code> relationship is the parent of a Phone Number record.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>PropertyDependencies</code></p></td><td ><p>An array containing arrays of groups of properties that are dependent on each other. A dependent property is one which must be pushed to a client if any of its dependencies are changed. Each entry in this array is itself an array of strings, specifying the names of the codependent properties. Entries in these arrays may be an attribute name or a relationship name.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Relationships</code></p></td><td ><p>An array containing dictionaries describing the relationships in the entity or extension. Relationship properties are described in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-140186">“Relationship Properties.”</a></span></p><p>Available in Mac OS X v10.4 and later.</p></td></tr></table></div><p>For example, the following property list fragment describes the properties of the <code>com.mycompany.syncexamples.Media</code> entity. Sample values for the <code>Attributes</code> and <code>Relationships</code> properties appear in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-140094">“Attribute Properties”</a></span> and <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-140186">“Relationship Properties.”</a></span></p><div class="codesample"><table><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>com.mycompany.syncexamples.Media&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>DataClass&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>com.mycompany.SyncExamples&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Attributes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Relationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>IdentityProperties&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-140094" title="Attribute Properties"></a><a name="//apple_ref/doc/uid/TP40001153-140094-BBCCDIGH" title="Attribute Properties"></a><h4>Attribute Properties</h4><p>The properties of an attribute belonging to an entity are as follows:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>ExcludeFromDataChangeAlert</code></p></td><td ><p>Set to <code>true</code> if you want to exclude changes to this attribute from the total count of changed attributes used in alert messages, <code>false</code> otherwise.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Name</code></p></td><td ><p>The name of the attribute. Can be localized using the <code>Schema.strings</code> file located in the schema bundle. The localization key is <code>$entity/$attribute_name</code>. For example, the localization key for the <code>title</code> attribute of the <code>com.mycompany.syncexamples.Media</code> entity would be <code>com.mycompany.syncexamples.Media/title</code>. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Required</code></p></td><td ><p>Set to <code>true</code> if required, <code>false</code> otherwise. The sync engine will reject a record that doesn’t have a required attribute set. The default value is <code>false</code>.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Type</code></p></td><td ><p>The type of the attribute. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr></table></div><p>Sync Services supports the following types of attributes. Note that the types are case-sensitive and expected to appear in lowercase.</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute type</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Objective-C class</p></th></tr><tr><td  scope="row"><p><code>array</code></p></td><td ><p>NSArray</p></td></tr><tr><td  scope="row"><p><code>boolean</code></p></td><td ><p>NSNumber</p></td></tr><tr><td  scope="row"><p><code>calendar date</code></p></td><td ><p>NSCalendarDate</p></td></tr><tr><td  scope="row"><p><code>color</code></p></td><td ><p>NSColor</p></td></tr><tr><td  scope="row"><p><code>data</code></p></td><td ><p>NSData</p></td></tr><tr><td  scope="row"><p><code>date</code></p></td><td ><p>NSDate</p></td></tr><tr><td  scope="row"><p><code>dictionary</code></p></td><td ><p>NSDictionary</p></td></tr><tr><td  scope="row"><p><code>enum</code></p></td><td ><p>NSString</p></td></tr><tr><td  scope="row"><p><code>number</code></p></td><td ><p>NSNumber</p></td></tr><tr><td  scope="row"><p><code>string</code></p></td><td ><p>NSString</p></td></tr><tr><td  scope="row"><p><code>url</code></p></td><td ><p>NSURL</p></td></tr></table></div><p>For example, the following property list fragment describes the attributes of the <code>com.mycompany.syncexamples.Media</code> entity. Each dictionary below contains the name and type of each attribute. For example, the <code>date</code> attribute is specified as a <code>calendar date</code> type. Therefore, when pushing or pulling a <code>com.mycompany.syncexamples.Media</code> record, the value for the <code>date</code> key will be an instance of NSCalendarDate.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>Attributes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>date&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Type&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>calendar date&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>imageURL&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Type&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>url&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>title&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Type&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>string&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><p>If you use an <code>array</code> type, you can further limit the contents of the array to instances of a class and its subclasses using the <code>Subtype</code> key. For example, the following property list fragment describes a <code>dates</code> attribute as an array containing NSCalendarDate objects. The <code>Subtype</code> key is optional but if used, is enforced by the sync engine.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>Attributes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>dates&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Type&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>array&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Subtype&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>calendar date&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><p>If you use an <code>enum</code> type, you must also specify the possible <code>enum</code> values using the <code>EnumValues</code> key. In this example, the <code>display order</code> attribute is an <code>enum</code> that can be either <code>firstNameFirst</code> or <code>lastNameFirst</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>EnumValues&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>firstNameFirst&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>lastNameFirst&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>display order&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Type&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>enum&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-140186" title="Relationship Properties"></a><a name="//apple_ref/doc/uid/TP40001153-140186-BBCHFIIB" title="Relationship Properties"></a><h4>Relationship Properties</h4><p>Relationships from one entity to another are allowed only if the entities belong to the same data class. If you attempt to define a relationship to an entity in another data class, validation fails at runtime and an exception is raised. Schema validation may fail as well.</p><p>The properties of a relationship belonging to an entity are:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>ExcludeFromDataChangeAlert</code></p></td><td ><p>Set to <code>true</code> if you want to exclude changes to this relationship from the total count of changed relationships used in alert messages, <code>false</code> otherwise.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>DeleteRule</code></p></td><td ><p>A value of <code>cascade</code> or <code>nullify</code>. If set to <code>cascade</code>, then when the source record of the relationship is deleted, all the target records are deleted. If set to <code>nullify</code>, then when the target record is deleted, the reference from the source’s relationship is removed. If it is a to-one relationship, the relationship is set to <code>null</code>. If it is a to-many relationship, then it is removed from that relationship.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>InverseRelationships</code></p></td><td ><p>An array of dictionaries specifying this relationship’s inverse relationships. The keys in an inverse relationship dictionary are described in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-149972">“Inverse Relationship Properties.”</a></span></p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Name</code></p></td><td ><p>The name of the relationship. Can be localized using the <code>Schema.strings</code> file located in the schema bundle. The localization key is <code>$entity/$relationship_name</code>. For example, the localization key for the <code>event</code> relationship of the <code>com.mycompany.syncexamples.Media</code> entity would be <code>com.mycompany.syncexamples.Media/event</code>. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Ordinality</code></p></td><td ><p>Indicates a to-one or to-many relationship, value of <code>one</code> or <code>many</code>. The default value is <code>one</code>.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Ordering</code></p></td><td ><p>Value of <code>none</code>, <code>weak</code> or <code>strong</code>. If the value is <code>none</code>, then no order is maintained. If the value is <code>strong</code>, then the order is maintained and alert panels appear when conflicts occur. If the value is <code>weak</code>, then the order is maintained but alert panels do not appear when conflicts occur—the sync engine merges ordering conflicts. The default value is <code>none</code>.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Required</code></p></td><td ><p>Set to <code>true</code> if required, <code>false</code> otherwise. The sync engine will reject a record that doesn’t have a required relationship set. The default value is <code>false</code>.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>Target</code></p></td><td ><p>An array containing the names of the target entities belonging to the same data class. Generally, a relationship has a single target. However, you can specify multiple entities as the target if the target can be a number of different types. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr></table></div><p>For example, the following property list fragment describes the relationships of the <code>com.mycompany.syncexamples.Media</code> entity. The fragment defines a to-one relationship, called <code>event</code>, from <code>com.mycompany.syncexamples.Media</code> to <code>com.mycompany.syncexamples.Event</code>.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>Relationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Ordinality&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>one&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Target&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-149972" title="Inverse Relationship Properties"></a><a name="//apple_ref/doc/uid/TP40001153-149972-BBCEIFGC" title="Inverse Relationship Properties"></a><h4>Inverse Relationship Properties</h4><p>The properties of an inverse relationship belonging to a relationship are as follows:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Property</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code>EntityName</code></p></td><td ><p>The name of the entity belonging to the same data class. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr><tr><td  scope="row"><p><code>RelationshipName</code></p></td><td ><p>The name of the entity that has the inverse relationship. This key is required.</p><p>Available in Mac OS X v10.4 and later.</p></td></tr></table></div><p>For example, the following property list fragment describes the inverse relationship between the <code>event</code> relationship of the <code>com.mycompany.syncexamples.Media</code> entity and the <code>media</code> relationship of the <code>com.mycompany.syncexamples.Event</code> entity. The <code>media</code> relationship is a to-many relationship from <code>com.mycompany.syncexamples.Event</code> to <code>com.mycompany.syncexamples.Media</code>.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>InverseRelationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>EntityName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>RelationshipName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>media&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-149660" title="Identity Properties"></a><a name="//apple_ref/doc/uid/TP40001153-149660-BBCHBBHI" title="Identity Properties"></a><h4>Identity Properties</h4><p>The value of the <code>IdentityProperties</code> key is an array containing the names of the properties that are used to identify a record of this entity type if there is a conflict. For example, the identity properties for a <code>com.mycompany.syncexamples.Media</code> entity are specified as the <code>date</code> and <code>title</code> properties below. The <code>com.mycompany.syncexamples.Media</code> entity may have other properties, such as <code>imageURL</code>, which are not in this array.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>IdentityProperties&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>date&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>title&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><div class="warningbox"><img src="../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40001153-DontLinkElementID_29" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;You should always push the identity properties for a record. Otherwise, you might create duplicate records during the first sync or a refresh sync.</p><p></p><div class="clear"></div></div><a name="//apple_ref/doc/uid/TP40001153-159938" title="Property Dependencies"></a><h4>Property Dependencies</h4><p>In some cases, if one property changes, you might want to push another related property, even if its value didn’t change. For example, suppose you change a calendar event to an all day event in iCal and using your phone you change the start time of the same event. Even though each client changed a different property, the changes conflict and need to be resolved. You can inform the sync engine about dependent properties within your entities so that these types of conflicts are recognized when syncing.</p><p>The value of the <code>PropertyDependencies</code> key is an array of arrays containing the dependent properties. Each array contains the set of properties that are dependent on each other. For example, you might declare that the <code>startDate</code>, <code>endDate</code> and <code>allDayEvent</code> properties are dependent as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>PropertyDependencies&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>startDate&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>endDate&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>allDayEvent&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/array><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-174609" title="Localizing Property Names"></a><a name="//apple_ref/doc/uid/TP40001153-174609-BCIHAJJE" title="Localizing Property Names"></a><h2>Localizing Property Names</h2><p>You can define user-friendly names for data classes, entities, and properties by editing the <code>Schema.strings</code> schema bundle localization file. Localized names are used by Sync Services applications that present records to users.</p><p>For example, an alert message might appear using a data class name in a message—for example, a panel might appear asking the user if it’s okay to syncronize with other applications. If no localization is provided, the DNS-style data class name is used in the alert message which might be confusing to the user. You should modify your <code>Schema.strings</code> file to provide both plural and singular forms of data class names.</p><p>Specifically, you can define a localized string for the DataClass, Entity, Relationship, and Attribute components illustrated in <span class="content_text"><a href="SchemaDesign.html#//apple_ref/doc/uid/TP40001153-140524-BBCJCAGC">Figure 1</a></span>. The key for the DataClass and Entity localized string is simply the Name attribute of the DataClass component. The key for an Attribute or Relationship component is of the form:</p><div class="codesample"><table><tr><td scope="row"><pre>$entity/$property<span></span></pre></td></tr></table></div><p>For example, the <code>Schema.strings</code> file for the MediaExample application located in <code>/Developer/Examples/Sync Services</code> is:</p><div class="codesample"><table><tr><td scope="row"><pre>/* Data Class: The data class for the Sync Services examples.*/<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.SyncExamples" = "Media Example Data";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Singular Data Class Name: Used for any UI that needs a singular name.*/<span></span></pre></td></tr><tr><td scope="row"><pre>"Singular:com.mycompany.SyncExamples" = "Media Example Data";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Entity: A media item such as a photo taken at an event. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Media" = "Media";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Attribute: The date a photo was taken. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Media/date" = "Creation Date";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Attribute: The file URL for the image. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Media/imageURL" = "Image URL";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Attribute: A user-friendly title of the photo. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Media/title" = "Image Title";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Relationship: The event where the photo was taken. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Media/event" = "Event";<span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001153-182015" title="Creating a Schema Extension"></a><a name="//apple_ref/doc/uid/TP40001153-182015-CJBHGEAJ" title="Creating a Schema Extension"></a><h2>Creating a Schema Extension</h2><p>Sync Services also allows you to extend an existing schema without changing it directly—for example, when you don’t have permission to change it directly or you want to encapsulate your extensions from other applications. Sync Services ensures that only those applications that use the extension see the entities and properties defined by them. You can even extend existing Apple Applications schemas without adversely affecting other desktop applications. Read <em><a href="../../../../AppleApplications/Reference/SyncServicesSchemaRef/index.html#//apple_ref/doc/uid/TP40001543" target="_top">Apple Applications Schema Reference</a></em> for details on these schemas.</p><p>Schema extensions reside in a bundle structure that is identical to sync schema bundles. The only difference is that the <code>Schema.plist</code> and <code>Schema.strings</code> files pertain only to entity and property extensions.</p><p>For example, suppose you want to add an entity called Calendar to the MediaExample schema, which maintains a collection of Event records. That way, when you import an iCal file, you can group the events together. You can do this by creating a Calendar entity with an identity attribute, such as a name or title, and an inverse to-many relationship to Event.</p><p>Follow these steps to create a schema extension that adds a Calendar entity to <code>SyncExamples.syncschema</code>:</p><ol class="ol"><li class="li"><p>Define a unique name for the schema extension in <code>Schema.plist</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;string>SyncExamplesExtension&lt;/string><span></span></pre></td></tr></table></div></li><li class="li"><p>Add new properties to existing entities in <code>Schema.plist</code>. Specifically, add an inverse to-one relationship from Event to Calendar:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>ExtensionName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>com.mycompany.syncexamples.EventExtensions&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Relationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>InverseRelationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>EntityName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>com.mycompany.syncexamples.Calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>RelationshipName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>events&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Ordinality&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>one&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Target&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>com.mycompany.syncexamples.Calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr></table></div></li><li class="li"><p>Add new entity definitions to <code>Schema.plist</code>: Specifically, add a Calendar entity and to-many inverse relationship from Calendar to Event. You can use the same data class, <code>com.mycompany.SyncExamples</code>, defined in <code>SyncExamples.syncschema</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Attributes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>title&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Type&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>string&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>DataClass&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>com.mycompany.SyncExamples&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>IdentityProperties&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>title&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>com.mycompany.syncexamples.Calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Relationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>InverseRelationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>EntityName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>RelationshipName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>events&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Ordinality&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>many&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Target&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr></table></div></li><li class="li"><p>Finally, add localization strings for new entities and properties to <code>Schema.strings</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>/* Relationship: The calendar associated with an event. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Event/calendar" = "Calendar";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Entity: A calendar, group of events.*/<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Calendar" = "Calendar";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Attribute: The calendar title. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Calendar/title" = "Title";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* Relationship: The events associated with a calendar. */<span></span></pre></td></tr><tr><td scope="row"><pre>"com.mycompany.syncexamples.Calendar/events" = "Events";<span></span></pre></td></tr></table></div></li></ol><div class="notebox"><a name="//apple_ref/doc/uid/TP40001153-DontLinkElementID_30" title="Note"></a><p><strong>Note:</strong>&nbsp;Make sure that the original schema is registered with the sync engine before registering a schema extension.</p></div><p>The schema extensions file should look similar to the file in <span class="content_text">Listing 1</span>.</p><a name="//apple_ref/doc/uid/TP40001153-SW1" title="Listing 1Schema Extensions Example"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>Schema Extensions Example</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;plist version="1.0"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Entities&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>ExtensionName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>com.mycompany.syncexamples.EventExtensions&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Relationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>InverseRelationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;key>EntityName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;string>com.mycompany.syncexamples.Calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;key>RelationshipName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;string>events&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Ordinality&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>one&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Target&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                        &lt;string>com.mycompany.syncexamples.Calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Attributes&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>title&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Type&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>string&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>DataClass&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>com.mycompany.SyncExamples&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>IdentityProperties&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;string>title&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>com.mycompany.syncexamples.Calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>Relationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>InverseRelationships&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;key>EntityName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;key>RelationshipName&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                            &lt;string>calendar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>events&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Ordinality&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;string>many&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;key>Target&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;array><span></span></pre></td></tr><tr><td scope="row"><pre>                        &lt;string>com.mycompany.syncexamples.Event&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>                    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>                &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/array><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>SyncExamplesExtension&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/plist><span></span></pre></td></tr></table></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SessionManagement.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="RegisteringSchemas.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/SyncServices/Articles/SchemaDesign.html%3Fid%3DTP40001178-5.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/SyncServices/Articles/SchemaDesign.html%3Fid%3DTP40001178-5.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/SyncServices/Articles/SchemaDesign.html%3Fid%3DTP40001178-5.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
