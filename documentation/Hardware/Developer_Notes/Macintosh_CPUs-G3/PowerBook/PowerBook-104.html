<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> Boot Process</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><A HREF="PowerBook-102.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="PowerBook-103.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="PowerBook-105.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><TABLE border="0" cellpadding="0" cellspacing="2" width="432">          <TR>        <TD><FONT face="Geneva,Helvetica,Arial" size="1">        <B>PATH<IMG src="images/space.gif" width="6" height="12"></B><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->         <B>></B> PowerBook Developer Note                </FONT></TD>        </TR>        </TABLE><BR><hr></DIV><H1 CLASS="H2-Heading2"><A NAME="pgfId-6198"></A>Boot Process<A NAME="marker-6197"></A></H1><P CLASS="T1-Text1"><A NAME="pgfId-6199"></A>The boot process for the PowerBook computer is similar to that for other Macintosh computers that use the ROM-in-RAM approach. The PowerPC processor executes its reset vector as defined by the Hardware Initialization code. This code runs diagnostics tests, and when enough hardware initialization has been performed to run Open Firmware, the boot beep sound is played and Open Firmware begins executing. The Open Firmware module probes the system's I/O buses to determine the device configuration and builds a device tree describing the hardware it finds.<A NAME="marker-6263"></A></P><P CLASS="T1-Text1"><A NAME="pgfId-5878"></A>The boot device, selected by the user with the Startup Disk control panel, is stored in Open Firmware's NV-RAM. Open Firmware attempts to locate that boot device, which can be a hard disk, a CD, a USB or FireWire storage device, or a network connection. If the selected boot device is not found, Open Firmware searches for a suitable boot device according to a predetermined search order. </P><P CLASS="T1-Text1"><A NAME="pgfId-5879"></A>Once the boot device has been found, the Mac OS ROM image is loaded into memory, decompressed, and write-protected so that it behaves just like actual ROM.</P><P CLASS="T1-Text1"><A NAME="pgfId-5881"></A>Some of the Mac OS ROM boot code is written in 68K code. In order to run the 68K ROM, the PowerPC Nanokernel is loaded, and the emulator task is started. The emulator begins executing code in the 68K ROM. This code uses the device tree provided by Open Firmware to install device drivers, Macintosh OS Services (referred to as Toolbox Managers), and finally the ROM loads the rest of the operating system from the startup device.</P><HR>&#169 1999-2000 Apple Computer, Inc. (Last Updated 15 February 00)<P><A HREF="PowerBook-102.html"><img src="images/up.gif" border="0" alt="Up"></A><nobr>&nbsp;</nobr><A HREF="PowerBook-103.html"><img src="images/previous.gif" border="0" alt="Previous"></A><nobr>&nbsp;</nobr><A HREF="PowerBook-105.html"><img src="images/next.gif" border="0" alt="Next"></A><nobr>&nbsp;</nobr><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>