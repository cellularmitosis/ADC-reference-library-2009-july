<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="GoLive CyberStudio 3">		<title>EOObserverCenter (Java) </title>	</head>	<body bgcolor="white">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../EOControlTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="EOObserverCenter"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/EOObserverCenter"></a>EOObserverCenter</font></h1>		<p><br>		<blockquote>			<b>Inherits from: </b>Object</blockquote>		<blockquote>			<b>Package: </b>com.webobjects.eocontrol</blockquote>		<p>		<hr size="4">		<br>		<h2>Class Description</h2>		<p>		<hr alt="">		<p>EOObserverCenter is the central player in EOControl's change tracking mechanism. EOObserverCenter records observers and the objects they observe, and it distributes notifications when the observable objects change. For an overview of the change tracking mechanism, see <a href="../Introduction.html#BIADGEAG">&quot;Tracking Enterprise Objects Changes&quot; (page 22)</a> in the introduction to the EOControl Framework.</p>		<p>You don't ever create instances of EOObserverCenter. Instead, the class itself acts as the central manager of change notification, registering observers and notifying them of changes. The EOObserverCenter API is provided entirely in static methods.</p>		<p>EOObserverCenter is implemented using weak references (see the Sun documentation of java.lang.ref for details). Thus, if EOObserverCenter is the last object in your application with a reference to either an object which is registered to receive notifications, or to an object which is being observed, the object is garbage collected. </p>		<p><br>		<h2>Registering an Observer</h2>		<p>Objects that directly observe others must implement the EOObserving interface, which consists of the single method objectWillChange. To register an object as an observer, invoke EOObserverCenter's <a href="#//apple_ref/java/clm/EOObserverCenter/addObserver">addObserver</a> with the observer and the object to be observed. Once this is done, any time the observed object invokes its willChange method, the observer is sent an <b>objectWillChange</b> message informing it of the pending change. You can also register an observer to be notified when any object changes using <a href="#//apple_ref/java/clm/EOObserverCenter/addOmniscientObserver">addOmniscientObserver</a>. This can be useful in certain situations, but as it's very costly to deal out frequent change notifications, you should use omniscient observers sparingly. To unregister either kind of observer, simply use the corresponding <b>remove...</b> method.</p>		<p><br>		<h2>Change Notification</h2>		<p>Objects that are about to change invoke willChange, a method defined by the EOEnterpriseObject interface. The implementations of this method invoke EOObserverCenter's <a href="#//apple_ref/java/clm/EOObserverCenter/notifyObserversObjectWillChange">notifyObserversObjectWillChange</a>, which sends an objectWillChange message to all observers registered for the object that's changing, as well as to any omniscient observers. <b>notifyObserversObjectWillChange</b> optimizes the process by suppressing redundant <b>objectWillChange</b> messages when the same object invokes willChange several times in a row (as often happens when multiple properties are changed). Change notification is immediate, and takes place <em>before</em> the object's state changes. If you need to compare the object's state before and after the change, you must arrange to examine the new state at the end of the run loop.</p>		<p>You can suppress change notification when necessary, using the <a href="#//apple_ref/java/clm/EOObserverCenter/suppressObserverNotification">suppressObserverNotification</a> and <a href="#//apple_ref/java/clm/EOObserverCenter/enableObserverNotification">enableObserverNotification</a> methods. While notification is suppressed, neither regular nor omniscient observers are informed of changes. These methods nest, so you can invoke <b>suppressObserverNotification</b> multiple times, and notification isn't re-enabled until a matching number of <b>enableObserverNotification</b> message have been sent.</p>		<p><br>		<br>		<br>		<h2>Method Types</h2>		<p>		<hr alt="">		<blockquote>			Registering and unregistering observers<a href="#//apple_ref/java/clm/EOObserverCenter/addObserver">addObserver</a><a href="#//apple_ref/java/clm/EOObserverCenter/removeObserver">removeObserver</a><a href="#//apple_ref/java/clm/EOObserverCenter/addOmniscientObserver">addOmniscientObserver</a><a href="#//apple_ref/java/clm/EOObserverCenter/removeOmniscientObserver">removeOmniscientObserver</a>Notifying observers of change<a href="#//apple_ref/java/clm/EOObserverCenter/notifyObserversObjectWillChange">notifyObserversObjectWillChange</a>Getting observers<a href="#//apple_ref/java/clm/EOObserverCenter/observersForObject">observersForObject</a><a href="#//apple_ref/java/clm/EOObserverCenter/observerForObject">observerForObject</a>Suppressing change notification<a href="#//apple_ref/java/clm/EOObserverCenter/suppressObserverNotification">suppressObserverNotification</a><a href="#//apple_ref/java/clm/EOObserverCenter/enableObserverNotification">enableObserverNotification</a><a href="#//apple_ref/java/clm/EOObserverCenter/observerNotificationSuppressCount">observerNotificationSuppressCount</a></blockquote>		<p><br>		<br>		<h2>Constructors</h2>		<p>		<hr alt="">		<br>		<h3><a name="//apple_ref/java/instm/EOObserverCenter/EOObserverCenter"></a>EOObserverCenter</h3>		<p><code>public <b>EOObserverCenter</b>()</code></p>		<p>Description forthcoming. 		<hr width="25%" align="left">		<br>		<br>		<h2>Static Methods</h2>		<p>		<hr alt="">		<a name="addObserver_forObject_"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/addObserver"></a>addObserver</h3>		<p><code>public static synchronized void <b>addObserver</b>( EOObserving <em>anObserver</em>, Object <em>anObject</em>)</code></p>		<p>Records <em>anObserver</em> to be notified with an objectWillChange message when <em>anObject</em> changes. 		<p><b>See Also: </b><a href="#//apple_ref/java/clm/EOObserverCenter/removeObserver">removeObserver</a></p>		<p>		<hr width="25%" align="left">		<a name="addOmniscientObserver_"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/addOmniscientObserver"></a>addOmniscientObserver</h3>		<p><code>public static synchronized void <b>addOmniscientObserver</b>(EOObserving <em>anObserver</em>)</code></p>		<p>Records <em>anObserver</em> to be notified with an objectWillChange message when any object changes. This can cause significant performance degradation, and so should be used with care. The ominiscient observer must be prepared to receive the <b>objectWillChange</b> message with a null argument. 		<p><b>See Also: </b><a href="#//apple_ref/java/clm/EOObserverCenter/addObserver">addObserver</a>, <a href="#//apple_ref/java/clm/EOObserverCenter/removeOmniscientObserver">removeOmniscientObserver</a></p>		<p>		<hr width="25%" align="left">		<a name="BBIDEFIA"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/enableObserverNotification"></a>enableObserverNotification</h3>		<p><code>public static void <b>enableObserverNotification</b>()</code></p>		<p>Counters a prior <a href="#//apple_ref/java/clm/EOObserverCenter/suppressObserverNotification">suppressObserverNotification</a> message. When no such messages remain in effect, the <a href="#//apple_ref/java/clm/EOObserverCenter/notifyObserversObjectWillChange">notifyObserversObjectWillChange</a> method is re-enabled. Throws an exception if not paired with a prior <a href="#//apple_ref/java/clm/EOObserverCenter/suppressObserverNotification">suppressObserverNotification</a> message. 		<hr width="25%" align="left">		<a name="notifyObserversObjectWillChange_"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/notifyObserversObjectWillChange"></a>notifyObserversObjectWillChange</h3>		<p><code>public synchronized void <b>notifyObserversObjectWillChange</b>(Object <em>anObject</em>)</code></p>		<p>Unless change notification is suppressed, sends an objectWillChange to all observers registered for <em>anObject</em> with that object as the argument, and sends that message to all omniscient observers as well. If invoked several times in a row with the same object, only the first invocation has any effect, since subsequent change notifications are redundant. 		<p>If an observer wants to ensure that it receives notification the next time the last object to change changes again, it should use the statement:</p>		<pre><blockquote>EOObserverCenter.notifyObserversObjectWillChange(null);</blockquote></pre>		<p><br>		<p>An observable object (typically an enterprise object) invokes this method from its willChange implementation, so you should never have to invoke this method directly.</p>		<p><b>See Also: </b><a href="#//apple_ref/java/clm/EOObserverCenter/suppressObserverNotification">suppressObserverNotification</a>, <a href="#//apple_ref/java/clm/EOObserverCenter/addObserver">addObserver</a>, <a href="#//apple_ref/java/clm/EOObserverCenter/addOmniscientObserver">addOmniscientObserver</a></p>		<p>		<hr width="25%" align="left">		<a name="observerForObject_ofClass_"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/observerForObject"></a>observerForObject</h3>		<p><code>public static synchronized EOObserving <b>observerForObject</b>( Object <em>anObject</em>, Class <em>aClass</em>)</code></p>		<p>Returns an observer for <em>anObject</em> that's a kind of <em>aClass</em>. If more than one observer of <em>anObject</em> is a kind of <em>aClass</em>, the specific observer returned is undetermined. You can use <a href="#//apple_ref/java/clm/EOObserverCenter/observersForObject">observersForObject</a> instead to get all observers and examine their class membership. 		<hr width="25%" align="left">		<a name="BBIBHEFF"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/observerNotificationSuppressCount"></a>observerNotificationSuppressCount</h3>		<p><code>public static int <b>observerNotificationSuppressCount</b>()</code></p>		<p>Returns the number of <a href="#//apple_ref/java/clm/EOObserverCenter/suppressObserverNotification">suppressObserverNotification</a> messages in effect. 		<p><b>See Also: </b><a href="#//apple_ref/java/clm/EOObserverCenter/enableObserverNotification">enableObserverNotification</a></p>		<p>		<hr width="25%" align="left">		<a name="observersForObject_"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/observersForObject"></a>observersForObject</h3>		<p><code>public static synchronized NSArray <b>observersForObject</b>(Object <em>anObject</em>)</code></p>		<p>Returns all observers of <em>anObject</em>. 		<hr width="25%" align="left">		<a name="removeObserver_forObject_"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/removeObserver"></a>removeObserver</h3>		<p><code>public static synchronized void <b>removeObserver</b>( EOObserving <em>anObserver</em>, Object <em>anObject</em>)</code></p>		<p>Removes <em>anObserver</em> as an observer of <em>anObject</em>. 		<p><b>See Also: </b><a href="#//apple_ref/java/clm/EOObserverCenter/addObserver">addObserver</a></p>		<p>		<hr width="25%" align="left">		<a name="removeOmniscientObserver_"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/removeOmniscientObserver"></a>removeOmniscientObserver</h3>		<p><code>public static synchronized void <b>removeOmniscientObserver</b>(EOObserving <em>anObserver</em>)</code></p>		<p>Unregisters <em>anObserver</em> as an observer of all objects. 		<p><b>See Also: </b><a href="#//apple_ref/java/clm/EOObserverCenter/removeObserver">removeObserver</a>, <a href="#//apple_ref/java/clm/EOObserverCenter/addOmniscientObserver">addOmniscientObserver</a></p>		<p>		<hr width="25%" align="left">		<a name="BBIDDCCF"></a><br>		<h3><a name="//apple_ref/java/clm/EOObserverCenter/suppressObserverNotification"></a>suppressObserverNotification</h3>		<p><code>public static void <b>suppressObserverNotification</b>()</code></p>		<p>Disables the <a href="#//apple_ref/java/clm/EOObserverCenter/notifyObserversObjectWillChange">notifyObserversObjectWillChange</a> method, so that no change notifications are sent. This method can be invoked multiple times; <a href="#//apple_ref/java/clm/EOObserverCenter/enableObserverNotification">enableObserverNotification</a> must then be invoked an equal number of times to re-enable change notification. 		<hr width="25%" align="left">		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 19, 2001)</p>		<p><br>		<a href="../EOControlTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>