<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>FindWindow(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING242></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-241.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-243.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-188.html"><B>Chapter 4 - Window Manager</B></A> / <A HREF="Toolbox-213.html"><B>Window Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-221.html"><B>Window Manager Routines</B></A> / <A HREF="Toolbox-241.html"><B>Retrieving Window Information</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING242-0></A>
<H3>FindWindow</H3>
 <A NAME=MARKER-11-411></A><A NAME=MARKER-2-412></A>When your application receives a mouse-down event, call the <CODE>FindWindow</CODE> function to map the location of the cursor to a part of the screen or a region of a window.<P>
<PRE>
FUNCTION FindWindow (thePoint: Point;
                     VAR theWindow: WindowPtr): Integer;
</PRE>
<DL>
<DT>thePoint
<DD> The point, in global coordinates, where the mouse-down event occurred. Your application retrieves this information from the <CODE>where</CODE> field of the event record.
<DT>theWindow
<DD> A parameter in which <CODE>FindWindow</CODE> returns a pointer to the window in which the mouse-down event occurred, if it occurred in a window. If it didn't occur in a window, <CODE>FindWindow</CODE> sets <CODE>theWindow</CODE> to <CODE>NIL</CODE>.
</DL>
<A NAME=HEADING242-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>FindWindow</CODE> function returns an integer that specifies where the cursor was when the user pressed the mouse button. You typically call <CODE>FindWindow</CODE> whenever you receive a mouse-down event. The <CODE>FindWindow</CODE> function helps you dispatch the event by reporting whether the cursor was in the menu bar or in a window when the mouse button was pressed and, if it was in a window, which window and which region of the window. If the mouse-down event occurred in a window, <CODE>FindWindow</CODE> places a pointer to the window in the parameter <CODE>theWindow</CODE>.<P>
 The <CODE>FindWindow</CODE> function returns an integer that specifies one of nine regions:<P>
<PRE>
CONST inDesk      = 0;  {none of the following}
      inMenuBar   = 1;  {in menu bar}
      inSysWindow = 2;  {in desk accessory window}
      inContent   = 3;  {anywhere in content region except size }
                        { box if window is active, }
                        { anywhere including size box if window }
                        { is inactive}
      inDrag      = 4;  {in drag (title bar) region}
      inGrow      = 5;  {in size box (active window only)}
      inGoAway    = 6;  {in close box}
      inZoomIn    = 7;  {in zoom box (window in standard state)}
      inZoomOut   = 8;  {in zoom box (window in user state)}
</PRE>
 The <CODE>FindWindow</CODE> function returns <CODE>inDesk</CODE> if the cursor is not in the menu bar, a desk accessory window, or any window that belongs to your application. The <CODE>FindWindow</CODE> function might return this value if, for example, the user presses the mouse button while the cursor is on the window frame but not in the title bar, close box, or zoom box. When <CODE>FindWindow</CODE> returns <CODE>inDesk</CODE>, your application doesn't need to do anything. In System 7, when the user presses the mouse button while the cursor is on the desktop or in a window that belongs to another application, the Event Manager sends your application a suspend event and switches to the Finder or another application.<P>
 <A NAME=MARKER-13-413></A>The <CODE>FindWindow</CODE> function returns <A NAME=MARKER-2-414></A><CODE>inMenuBar</CODE> when the user presses the mouse button with the cursor in the menu bar. Your application typically adjusts its menus and then calls the Menu Manager's function <CODE>MenuSelect</CODE> to let the user choose menu items.<P>
 The FindWindow function returns <CODE>inSysWindow</CODE> when the user presses the mouse button while the cursor is in a window belonging to a desk accessory that was launched in your application's partition. This situation seldom arises in System 7. When the user clicks in a window belonging to a desk accessory launched independently, the Event Manager sends your application a suspend event and switches to the desk accessory.<P>
 If <CODE>FindWindow</CODE> does return <CODE>inSysWindow</CODE>, your application calls the <CODE>SystemClick</CODE> procedure, documented in the chapter "Event Manager" in this book. The <BR><CODE>SystemClick</CODE> procedure routes the event to the desk accessory. If the user presses <BR>the mouse button with the cursor in the content region of an inactive desk <BR>accessory window, <CODE>SystemClick</CODE> makes the window active by sending your application and the desk accessory the appropriate activate events.<P>
 <A NAME=MARKER-13-415></A>The <CODE>FindWindow</CODE> function returns <A NAME=MARKER-9-367></A><CODE>inContent</CODE> when the user presses the mouse button with the cursor in the content area (excluding the size box in an active window) of one of your application's windows. Your application then calls its routine for handling clicks in the content region.<P>
 <A NAME=MARKER-13-417></A>The <CODE>FindWindow</CODE> function returns <A NAME=MARKER-2-418></A><CODE>inDrag</CODE> when the user presses the mouse button with the cursor in the drag region of a window (that is, the title bar, excluding the close box and zoom box). Your application then calls the Window Manager's <CODE>DragWindow</CODE> procedure to let the user drag the window to a new location.<P>
 <A NAME=MARKER-13-419></A>The <CODE>FindWindow</CODE> function returns <A NAME=MARKER-2-420></A><CODE>inGrow</CODE> when the user presses the mouse button with the cursor in an active window's size box. Your application then calls its own routine for resizing a window.<P>
 <A NAME=MARKER-13-421></A>The <CODE>FindWindow</CODE> function returns <A NAME=MARKER-2-422></A><CODE>inGoAway</CODE> when the user presses the mouse <BR>button with the cursor in an active window's close box. Your application calls the <CODE>TrackGoAway</CODE> function to track mouse activity while the button is down and then <BR>calls its own routine for closing a window if the user releases the button while the <BR>cursor is in the close box.<P>
 <A NAME=MARKER-13-423></A><A NAME=MARKER-13-424></A>The <CODE>FindWindow</CODE> function returns <A NAME=MARKER-2-425></A><CODE>inZoomIn</CODE> or <A NAME=MARKER-2-386></A><CODE>inZoomOut</CODE> when the user presses the mouse button with the cursor in an active window's zoom box. Your application calls the <CODE>TrackBox</CODE> function to track mouse activity while the button is down and then calls its own routine for zooming a window if the user releases the button while the cursor is in the zoom box.<P>
<A NAME=HEADING242-18></A>
<H5>SEE ALSO</H5>
 See <A HREF=Toolbox-207.html#MARKER-9-200>Listing 4-9</A> on <A HREF=Toolbox-207.html#MARKER-9-200>page 4-44</A> for an example that calls <CODE>FindWindow</CODE> to determine the location of the cursor and then dispatches the mouse-down event depending on <BR>the results.<A NAME=MARKER-2-391></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-241.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-243.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
