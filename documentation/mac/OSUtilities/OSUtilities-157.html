<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Summary of the Queue Utilities (IM: U)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING157></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="OSUtilities-156.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-158.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="OSUtilities-2.html"><B>Operating System Utilities</B></A> / <BR><DD><A HREF="OSUtilities-147.html"><B>Chapter 6 - Queue Utilities</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING157-0></A>
<H1>Summary of the Queue Utilities</H1>
<A NAME=HEADING157-1></A>
<H2>Pascal Summary</H2>
<A NAME=HEADING157-2></A>
<H3>Constants</H3>
<PRE>
CONST    {queue types}
   vType    = 1;           {vertical retrace queue type}
   ioQType  = 2;           {file I/O or driver I/O queue type}
   drvQType = 3;           {drive queue type}
   evType   = 4;           {event queue type}
   fsQType  = 5;           {volume-control-block queue type}
   sIQType  = 6;           {slot interrupt queue type}
   dtQType  = 7;           {deferred task queue type}
   nmType   = 8;           {notification queue type}
   slpQType = 16;          {sleep queue type}
</PRE>
<A NAME=HEADING157-4></A>
<H3>Data Types</H3>
<PRE>
TYPE QHdr =    {queue header record}
   RECORD
      qFlags:     Integer;       {information on queue}
      qHead:      QElemPtr;      {pointer to the first queue element}
      qTail:      QElemPtr;      {pointer to the last queue element}
   END;
   QHdrPtr = ^QHdr;
   QTypes = (  {queue types}
      dummyType,                 {reserved}
      vType,                     {vertical retrace queue type}
      ioQType,                   {file I/O or driver I/O queue type}
      drvQType,                  {drive queue type}
      evType,                    {event queue type}
      fsQType,                   {volume-control-block queue type}
      sIQType,                   {slot interrupt queue type}
      dtQType,                   {deferred task queue type}
      {nmType,}                  {notification queue type}
      {slpQType}                 {sleep queue type}
   );
   QElem =     {queue element record}
   RECORD
      CASE QTypes OF
         dtQType:    (dtQElem:   DeferredTask);    {deferred task }
                                                   { queue element}
         vType:      (vblQElem:  VBLTask);         {vertical retrace }
                                                   { queue element}
         ioQType:    (ioQElem:   ParamBlockRec);   {file I/O queue element}
         drvQType:   (drvQElem:  DrvQEl);          {drive queue element}
         evType:     (evQElem:   EvQEl);           {event queue element}
         fsQType:    (vcbQElem:  VCB);             {volume-control-block }
                                                   { queue element}
         {sIQType:   (siQElem:   SlotIntQElement;} {slot interupt }
                                                   { queue element}
         {nmType:    (nmQElem:   NMRec);}          {notification }
                                                   { queue element}
         {slpQType:  (slpQElem:  SleepQRec);}      {sleep queue element}
   END;
   QElemPtr = ^QElem;
</PRE>
<A NAME=HEADING157-8></A>
<H3>Routines</H3>
<PRE>
PROCEDURE Enqueue		(qElement: QElemPtr; qHeader: QHdrPtr);
FUNCTION Dequeue		(qElement: QElemPtr; qHeader: QHdrPtr): OSErr;
</PRE>
<A NAME=HEADING157-11></A>
<H2>C Summary</H2>
<A NAME=HEADING157-12></A>
<H3>Constants</H3>
<PRE>
enum {      /*queue types*/
   vType    = 1,              /*vertical retrace queue type*/
   ioQType  = 2,              /*file I/O or driver I/O queue type*/
   drvQType = 3,              /*drive queue type*/
   evType   = 4,              /*event queue type*/
   fsQType  = 5,              /*volume-control-block queue type*/
   sIQType  = 6,              /*slot interrupt queue type*/
   dtQType  = 7,              /*deferred task queue type*/
};
enum {      /*value for the notification queue type*/
   nmType   = 8               /*notification queue type*/
};
enum {      /*value for the sleep queue type*/
   slpQType = 16              /*sleep queue type*/
};

</PRE>
<A NAME=HEADING157-17></A>
<H3>Data Types</H3>
<PRE>
struct QHdr {  /*queue header record*/
   short          qFlags;     /*information on queue*/
   QElemPtr       qHead;      /*pointer to the first queue element*/
   QElemPtr       qTail;      /*pointer to the last queue element*/
};
typedef struct QHdr QHdr;
typedef QHdr *QHdrPtr;
typedef unsigned short QTypes;   /*queue types*/
struct QElem { /*queue element record*/
   struct QElem   *qLink;     /*pointer to the next queue element*/
   short          qType;      /*type of queue element*/
   short          qData[1];   /*variable array of data; type of data and */
                              /* length depend on the queue type, */
                              /* specified in the qType field*/
};
typedef struct QElem QElem;
typedef QElem *QElemPtr;
</PRE>
<A NAME=HEADING157-21></A>
<H3>Routines</H3>
<PRE>
pascal void Enqueue		(QElemPtr qElement, QHdrPtr qHeader);
pascal OSErr Dequeue		(QElemPtr qElement, QHdrPtr qHeader);
</PRE>
<A NAME=HEADING157-24></A>
<H2>Assembly-Language Summary</H2>
<A NAME=HEADING157-25></A>
<H4>QHdr Data Structure
<TABLE BORDER="0" CELLPADDING=3><TD>0<TD>qFlags<TD>word<TD>information on queue<TR>
<TD>2<TD>qHead<TD>long<TD>pointer to first queue entry<TR>
<TD>6<TD>qTail<TD>long<TD>pointer to last queue entry</TABLE>
</H4>
<A NAME=HEADING157-26></A>
<H4>QElem Data Structure
<TABLE BORDER="0" CELLPADDING=3><TD>0<TD>qLink<TD>long<TD>pointer to the next queue element<TR>
<TD>4<TD>qType<TD>word<TD>type of queue element<TR>
<TD>6<TD>qData<TD>word<TD>variable array of data; type of data and length depend on the queue type, specified in the <CODE>qType</CODE> field</TABLE>
</H4>
<A NAME=HEADING157-27></A>
<H2>Result Codes
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>qErr<TD>-1<TD>Entry is not in specified queue</TABLE>
</H2>
 <A NAME=MARKER-2-98></A><A NAME=MARKER-2-91></A><P>
</BLOCKQUOTE><P>

</BLOCKQUOTE>
<HR>
<center>
<A HREF="OSUtilities-156.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="OSUtilities-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="OSUtilities-222.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="OSUtilities-158.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="OSUtilities-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
