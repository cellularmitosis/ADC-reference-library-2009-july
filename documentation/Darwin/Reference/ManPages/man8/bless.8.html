<html><head><title>Mac OS X
 Manual Page For bless(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/bless" title="Mac OS X
 Manual Page for bless(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/bless"; name=bless(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
BLESS(8)                  BSD System Manager's Manual                 BLESS(8)

<b>NAME</b>
     <b>bless</b> -- set volume bootability and startup disk options

<b>SYNOPSIS</b>
     <b>bless</b> <b>--help</b>

     <b>bless</b> <b>--folder</b> <u>directory</u> [<b>--folder9</b> <u>directory</u>] [<b>--file</b> <u>file</u>] [<b>--bootinfo</b> [<u>file</u>]] [<b>--bootefi</b> [<u>file</u>]]
           [<b>--bootBlockFile</b> <u>file</u>] [<b>--save9</b>] [<b>--saveX</b>] [<b>--use9</b>] [<b>--label</b> <u>name</u> | <b>--labelfile</b> <u>file</u>] [<b>--setBoot</b>]
           [<b>--openfolder</b> <u>directory</u>] [<b>--nextonly</b>] [<b>--shortform</b>] [<b>--legacy</b>] [<b>--legacydrivehint</b> <u>device</u>]
           [<b>--options</b> <u>string</u>] [<b>--quiet</b> | <b>--verbose</b>]

     <b>bless</b> <b>--mount</b> <u>directory</u> [<b>--file</b> <u>file</u>] [<b>--setBoot</b>] [<b>--nextonly</b>] [<b>--shortform</b>] [<b>--legacy</b>]
           [<b>--legacydrivehint</b> <u>device</u>] [<b>--options</b> <u>string</u>] [<b>--quiet</b> | <b>--verbose</b>]

     <b>bless</b> <b>--device</b> <u>device</u> [<b>--label</b> <u>name</u> | <b>--labelfile</b> <u>file</u>] [<b>--startupfile</b> <u>file</u>] [<b>--setBoot</b>] [<b>--nextonly</b>]
           [<b>--shortform</b>] [<b>--legacy</b>] [<b>--legacydrivehint</b> <u>device</u>] [<b>--options</b> <u>string</u>] [<b>--quiet</b> | <b>--verbose</b>]

     <b>bless</b> <b>--netboot</b> <b>--server</b> <u>url</u> [<b>--nextonly</b>] [<b>--options</b> <u>string</u>] [<b>--quiet</b> | <b>--verbose</b>]

     <b>bless</b> <b>--info</b> [<u>directory</u>] [<b>--getBoot</b>] [<b>--plist</b>] [<b>--quiet</b> | <b>--verbose</b>] [<b>--version</b>]

<b>DESCRIPTION</b>
     <b>bless</b> is used to modify the volume bootability characteristics of filesystems, as well as select the
     active boot volume.  <b>bless</b> has 5 modes of execution: Folder Mode, Mount Mode, Device Mode, NetBoot
     Mode, and Info Mode.

     Folder Mode allows you to select a directory on a mounted volume to act as the ``blessed'' directory,
     which causes the system firmware to look in that directory for boot code. EFI-based systems also sup-<font color="#ffffff" class="whiteout">port&nbsp;support</font>
     port a ``blessed'' system file, which is the primary mechanism of specifying the booter for a volume
     for those systems. In Folder Mode, if you are operating on an HFS+ volume, the HFS+ Volume Header is
     updated to reflect these files/directories given.

     Mount Mode does not make permament modifications to the filesystem, but rather set the system firmware
     to boot from the specified volume, assuming it has been properly blessed. This is a subset of the func-<font color="#ffffff" class="whiteout">tionality&nbsp;functionality</font>
     tionality of Folder Mode with the <b>--setBoot</b> option, but is convenient when you don't want to change or
     interrogate the filesystem for its blessed status.

     Device Mode is similar to Mount Mode, but allows selection of unmounted filesystems, for instance while
     in single user mode. It can also perform certain offline modifications to the filesystem, but is not
     generally recommended.

     NetBoot Mode sets the system firmware to boot from the network, using a URL syntax to specify the pro-<font color="#ffffff" class="whiteout">tocol&nbsp;protocol</font>
     tocol and server.  <b>bless</b> only sets the local system to go into NetBoot mode, and does not communicate
     to the server what image should be used, if there are multiple images. Some other mechanism, such as
     using Startup Disk, should be used to select that.

     Info Mode will print out the currently-blessed directory of a volume, or if no mountpoint is specified,
     the active boot volume that the firmware is set to boot from.

     Additionally, <b>--help</b> can be used to display the command-line usage summary.

   <b>FILE/FOLDER</b> <b>MODE</b>
     Folder Mode has the following options:
     <b>--folder</b> <u>directory</u>       Set this directory to be the Mac OS X/Darwin blessed directory, containing a
                              <u>BootX</u> secondary loader for New World machines.
     <b>--folder9</b> <u>directory</u>      Set this directory to be the Mac OS 9/Classic system folder. If both <b>--folder</b>
                              and <b>--folder9</b> are given, preference can be given to boot into Mac OS 9 by also
                              using the <b>--use9</b> flag. By default, Mac OS X will be the default OS if both
                              <b>--folder</b> and <b>--folder9</b> are provided.
     <b>--file</b> <u>file</u>              Set this file to be the Mac OS X/Darwin blessed boot file, containing a booter
                              for EFI-based systems. If this option is not provided, a default boot file is
                              used based on the blessed directory.
     <b>--bootinfo</b> [<u>file</u>]        Create a <u>BootX</u> file in the Mac OS X/Darwin system folder using <u>file</u> as a
                              source. If <u>file</u> is not provided, a default is used (see FILES), using a path
                              relative to the mountpoint you are blessing. This attempts to ensure that a
                              <u>BootX</u> is used that is compatible with the OS on the target volume.
     <b>--bootefi</b> [<u>file</u>]         Create a <u>boot.efi</u> file in the Mac OS X/Darwin system folder using <u>file</u> as a
                              source. If <u>file</u> is not provided, a default is used (see FILES), using a path
                              relative to the mountpoint you are blessing. This attempts to ensure that a
                              <u>boot.efi</u> is used that is compatible with the OS on the target volume. If
                              <b>--file</b> is also provided, the new file will be created at that path instead.
     <b>--bootBlockFile</b> <u>file</u>     Set the boot blocks on the volume using the contents of <u>file</u> . This is
                              required for volumes that will boot Mac OS 9.
     <b>--save9</b>                  Used if no <b>--folder9</b> flag was given, but if the pre-existing Mac OS 9 blessed
                              system folder should be preserved.
     <b>--saveX</b>                  Used if no <b>--folder</b> flag was given, but if the pre-existing Mac OS X/Darwin
                              blessed directory should be preserved.
     <b>--use9</b>                   Used if both <b>--folder</b> and <b>--folder9</b> were given, but Mac OS 9 should be the
                              default for the volume.
     <b>--label</b> <u>name</u>             Render a text label used in the firmware-based OS picker
     <b>--labelfile</b> <u>file</u>         Use a pre-rendered label used for the firmware-based OS picker
     <b>--openfolder</b> <u>directory</u>   Specify a folder to be opened in the Finder when the volume is mounted by the
                              system.
     <b>--setBoot</b>                Set the system to boot off the specified partition. This is implemented in a
                              platform-specific manner. On Open Firmware-based systems, the <u>boot-device</u>
                              variable is modified. On EFI-based systems, the <u>efi-boot-device</u> variable is
                              changed.
     <b>--nextonly</b>               Only change the boot device selection for the next boot. This is only sup-<font color="#ffffff" class="whiteout">ported&nbsp;supported</font>
                              ported on EFI-based systems.
     <b>--shortform</b>              Use an abbreviated device path form. This option can allow for booting from
                              new devices, at the expense of boot time performance. This is only supported
                              on EFI-based systems.
     <b>--legacy</b>                 If <b>--setBoot</b> is given, set the firmware to boot a legacy BIOS-based operating
                              system from the specified disk. The active flag of an MBR-partitioned disk is
                              not modified, which can be done with <a href="fdisk.8.html#//apple_ref/doc/man/8/fdisk">fdisk(8)</a> . This is only supported on EFI-<font color="#ffffff" class="whiteout">based&nbsp;EFIbased</font>
                              based systems.
     <b>-legacydrivehint</b> <u>device</u>  Instruct the firmware to treat the specified whole disk as the primary, master
                              IDE drive. This is only supported on EFI-based systems.
     <b>--options</b>                Set load options associated with the new boot option. This is only supported
                              on EFI-based systems, and in general should be avoided. Instead, use <a href="nvram.8.html#//apple_ref/doc/man/8/nvram">nvram(8)</a>
                              to set "boot-args" , which will work with both Open Firmware- and EFI-based
                              systems.
     <b>--quiet</b>                  Do not print any output
     <b>--verbose</b>                Print verbose output

   <b>MOUNT</b> <b>MODE</b>
     Mount Mode has the following options:
     <b>--mount</b> <u>directory</u>        Use the volume mounted at <u>directory</u> to change the active boot volume, in con-<font color="#ffffff" class="whiteout">junction&nbsp;conjunction</font>
                              junction with <b>--setBoot</b> . The volume must already be properly blessed.
     <b>--file</b> <u>file</u>              Instead of allowing the firmware to discover the booter based on the blessed
                              directory or file, pass an explicit path to the firmware to boot from. This
                              can be used to run EFI applications or EFI booters for alternate OSes, but
                              should not be normally used. This is only supported on EFI-based systems.
     <b>--setBoot</b>                Same as for Folder Mode.
     <b>--nextonly</b>               Same as for Folder Mode.
     <b>--shortform</b>              Same as for Folder Mode.
     <b>--options</b>                Same as for Folder Mode.
     <b>--legacy</b>                 Same as for Folder Mode.
     <b>--legacydrivehint</b> <u>device</u>
                              Same as for Folder Mode.
     <b>--quiet</b>                  Do not print any output
     <b>--verbose</b>                Print verbose output

   <b>DEVICE</b> <b>MODE</b>
     Device Mode has the following options:
     <b>--device</b> <u>device</u>          Use the block device <u>device</u> to change the active boot volume. No volumes
                              should be mounted from <u>device</u> , and the filesystem should already be properly
                              blessed.
     <b>--label</b> <u>name</u>             Set the firmware-based OS picker label for the unmounted filesystem, using
                              <u>name</u> , which should be in UTF-8 encoding.
     <b>--labelfile</b> <u>file</u>         Use a pre-rendered label used with the firmware-based OS picker.
     <b>--setBoot</b>                Set the system to boot off the specified partition, as with Folder and Mount
                              Modes.
     <b>--startupfile</b> <u>file</u>       Add the <u>file</u> as the HFS+ StartupFile, and update other information on disk as
                              appropriate for the startup file type.
     <b>--nextonly</b>               Same as for Folder Mode.
     <b>--shortform</b>              Same as for Folder Mode.
     <b>--options</b>                Same as for Folder Mode.
     <b>--legacy</b>                 Same as for Folder Mode.
     <b>--legacydrivehint</b> <u>device</u>
                              Same as for Folder Mode.
     <b>--quiet</b>                  Do not print any output
     <b>--verbose</b>                Print verbose output

   <b>NETBOOT</b> <b>MODE</b>
     NetBoot Mode has the following options:
     <b>--netboot</b>                Instead of setting the active boot selection to a disk-based volume, set the
                              system to NetBoot.
     <b>--server</b> <u>protocol://[interface@]server</u>
                              A URL specification of how to boot the system. Currently, the only <u>protocol</u>
                              supported is BSDP ("bsdp"), Apple's Boot Service Discovery Protocol. The
                              <u>interface</u> is optional, and the <u>server</u> is the IPv4 address of the server in
                              dotted-quad notation. If there is not a specific server you'd like to use,
                              pass "255.255.255.255" to have the firmware broadcast for the first available
                              server. Examples of this notation would be "bsdp://255.255.255.255" and
                              "bsdp://en1@17.203.12.203".
     <b>--nextonly</b>               Same as for Folder Mode.
     <b>--options</b>                Same as for Folder Mode.
     <b>--quiet</b>                  Do not print any output
     <b>--verbose</b>                Print verbose output

   <b>INFO</b> <b>MODE</b>
     Info Mode has the following options:
     <b>--info</b> [<u>directory</u>]       Print out the blessed system folder for the volume mounted at <u>directory</u> . If
                              <u>directory</u> is not specified, print information for the currently selected boot
                              volume (which may not necessarily be `/' .
     <b>--getBoot</b>                Print out the logical boot volume, based on what is currently selected. This
                              option will take into account the fact that the firmware may be pointing to an
                              auxiliary booter partition, and will print out the corresponding root parti-<font color="#ffffff" class="whiteout">tion&nbsp;partition</font>
                              tion for those cases. If the system is configured to NetBoot, a URL matching
                              the format of the <b>--server</b> specification for NetBoot mode will be printed.
     <b>--plist</b>                  Output all information in Property List (.plist) format, suitable for parsing
                              by CoreFoundation. This is most useful when <b>bless</b> is executed from another
                              program and its standard output must be parsed.
     <b>--quiet</b>                  Do not print any output
     <b>--verbose</b>                Print verbose output
     <b>--version</b>                Print bless version and exit immediately

<b>FILES</b>
     /usr/standalone/ppc/bootx.bootinfo  Secondary loader with XML headers, used with the <b>--bootinfo</b> flag.
                                         Used for booting New World PPC-based Macintoshes. If the argument
                                         to <b>--bootinfo</b> is ommitted, this file will be used as the default
                                         input.
     /usr/standalone/i386/boot.efi       Booter for EFI-based systems, used with the <b>--bootefi</b> flag. If the
                                         argument to <b>--bootefi</b> is ommitted, this file will be used as the
                                         default input.
     /System/Library/CoreServices        Typical blessed folder for Mac OS X and Darwin

<b>EXAMPLES</b>
   <b>FOLDER</b> <b>MODE</b>
     To bless a volume with only Mac OS 9:

           <b>bless</b> <b>--folder9</b> "/Volumes/Mac OS 9/System Folder" <b>--bootBlockFile</b> "/usr/share/misc/bootblockdata"

     To bless a volume with only Mac OS X or Darwin, and create the BootX and boot.efi files as needed:

           <b>bless</b> <b>--folder</b> "/Volumes/Mac OS X/System/Library/CoreServices" <b>--bootinfo</b> <b>--bootefi</b>

   <b>MOUNT</b> <b>MODE</b>
     To set a volume containing either Mac OS 9 and Mac OS X to be the active volume:

           <b>bless</b> <b>--mount</b> "/Volumes/Mac OS" <b>--setBoot</b>

   <b>NETBOOT</b> <b>MODE</b>
     To set the system to NetBoot and broadcast for an available server:

           <b>bless</b> <b>--netboot</b> <b>--server</b> <u>bsdp://255.255.255.255</u>

   <b>INFO</b> <b>MODE</b>
     To gather information about the currently selected volume (as determined by the firmware), suitable for
     piping to a program capable of parsing Property Lists:

           <b>bless</b> <b>--info</b> <b>--plist</b>

<b>SEE</b> <b>ALSO</b>
     <a href="mount.8.html#//apple_ref/doc/man/8/mount">mount(8)</a>, <a href="newfs.8.html#//apple_ref/doc/man/8/newfs">newfs(8)</a>, <a href="nvram.8.html#//apple_ref/doc/man/8/nvram">nvram(8)</a>

Mac OS X                       October 26, 2007                       Mac OS X
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/bless.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/bless.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/bless.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
