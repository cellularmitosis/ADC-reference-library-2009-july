<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 03-24-01 --><!--Includes revisions to code listings--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css">   <title>Technical Note TN1091: Extension Manager 4.0</title>    <meta name="keywords" content="Mac OS 8 Extensions Manager 4.0 control panels package handling">    <meta name="Description" content="Technical Note TN1091: This Technical Note  is intended asa brief overview of Extensions Manager 4.0, which is includedin Mac 0S 7.6. There are a number of new and enhanced featuresin the Extensions Manager which will be of interest to anyonewho develops control panels, extensions or applications whichmight be controlled by it. "><meta name="categories" content="System Releases"><meta name="week-posted" content="Dec 30, 1996 - Jan 3, 1997"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002931" title="Extension Manager 4.0"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1091</div>
<div id="pageheadsub">Extension Manager 4.0</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                   <td background="images/tnmenubody.gif" width=300 align=left>                        <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->					<p id="menutext"><A HREF = "#Section1">A New Look</A><BR><BR>                  <A HREF = "#Section2">How the Extensions Manager         Interacts With Your Extension</A><BR><BR>                  <A HREF = "#Section3">Package Handling</A><BR><BR>                  <A HREF = "#Section4">The Item Information Window</A><BR><BR>                  <A HREF="#References">References</A><BR>                  <BR>                                    <A HREF="#Downloads">Downloadables</A></P>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>		<td width=300 valign="top" align=left>	<!-- begin_intro_text -->                        <P id = introtext>This Technote is         intended as a brief overview of Extensions Manager 4.0,         which is included in Mac 0S 7.6. There are a number of new         and enhanced features in the Extensions Manager which will         be of interest to anyone who develops control panels,         extensions or applications which might be controlled by it.         </P>                  <P id = introtext> This Technote is a companion to         <A HREF = "tn1090.html">Technote 1090, Mac OS 7.6</A>, which         provides a full overview of the new release. We highly         recommend that you read Technote 1090 in addition to this         document.</p>      <!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Jan 17 1997]</h3><!-- end_date -->                </TD>             </TR>          </TABLE> <!-- end_header_box --><BR><BR><hr width=500 align=center><BR><BR>          <!-- begin_content -->         <P><A NAME="Section1"></A></P>                  <H2>A New Look</H2>                  <P>The first change you will notice in Extensions Manager         4.0 is the new look. It's called the Apple Grayscale         Appearance, as shown in Figure 1.</P>                                    <P align=center><img src="images/tn1091_001.gif" alt="The new look for Extensions Manager 4.0" align="bottom" width=549 height=247><BR>         <b>Figure 1.</b> The new look for Extensions Manager 4.0</p><P><A HREF="#top">Back to top</A></P>         <P><A NAME="Section2"></A></P>                  <H2>How the Extensions Manager         Interacts With Your Extension </H2>                  <P>The Extensions Manager 4.0 disables and enables         extensions as past versions did by moving the disabled         extensions to various folders inside the current System         Folder with the string "(Disabled)" appended to the source         folders' name. It enables extensions by moving from the         disabled folder to their appropriate folder. </P>                  <P>This movement of extensions between the active folders         and the disabled folders brings up a warning for developers         of extensions.</p>                  <BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>WARNING:</B><BR>         As a developer, you need to make sure that your         extension or control panel functions correctly when it is         installed (i.e., its code ran at boot time), but it is no         longer in the same folder it was at boot time. For example,         your control panel was in the Control Panels folder and now         it is in the Control Panels (Disabled) folder. Also, make         sure that it functions correctly when it was not run at boot         time, i.e., it's not installed, but it is now in the Control         Panels or Extensions folder, meaning that it will run at         next boot. For example, a control panel might put up an         alert when opened in this case, saying that changing its         settings will have no effect until the Macintosh has been         restarted. </p></TD></TR></TABLE></CENTER><BR>                  <P><A HREF="#top">Back to top</A></P>         <A NAME="Section3"></A>         <H2>Package Handling</H2>                  <P>Beyond the new look, the second area of improvement is         the ability to deal with "packages". A package is a group of         extensions that go together, either because they are from         the same manufacturer or because the extensions rely on each         other. When viewing the extensions list by package, users         can easily turn all related extensions on or off with one         click of the mouse.</P>                  <P>Extensions Manager 4.0 provides three different ways to         view the list of extensions: </P>                  <UL>            <LI>as Folders (the view shown in the above picture)</li>                        <LI>as Packages </li>                        <LI>as Items. </li>         </UL>                  <P>The "as Folders" option resembles the previous Extensions         Manager's list, which separated all the extensions from all         the control panels from the System Folder items. The "as         Items" list removes the folders from the list, so you don't         have to be concerned with whether or not the item is a         control panel or an extension.</P>                  <P>The newest and most powerful feature of Extensions         Manager 4.0 is its ability to sort extensions "as Packages".         Extensions Manager 3.0.X had a "System 7.5.X" selection in         its pop-up menu -- a built-in package of those extensions         that shipped with System 7.5.X. Extensions Manager 4.0 takes         this idea to its logical conclusion, since it allows any         vendor to define extension packages in an intuitive and         flexible manner.</P>                  <P>Extensions Manager constructs packages by looking at the         <CODE>'vers'</CODE> 2 resource, which the Finder uses to         display information via the "Get Info" window, like this one         for QuickTime 2.5. Figure 2 shows an example of the Get Info         window.</P>                                   <P align=center>         <img src="images/tn1091_002.gif" alt="Example of Get Info window" align="bottom" width=496 height=290><BR>         <b>Figure 2.</b> Example of Get Info window</p>                <P>Extensions Manager uses the <CODE>'vers'</CODE> resource         to not only inform the user about an extension, but also to         group extensions with the same <CODE>'vers'</CODE> 2 long         version string together.</P>                  <P>Figure 3 shows what a <CODE>'vers'</CODE> resource looks         like in ResEdit.</P>                  <P align=center>         <img src="images/tn1091_003.gif" alt="ResEdit window, showing 'vers'         information" align="bottom" width=356 height=282><BR>         <b>Figure 3.</b> ResEdit window, showing <CODE>'vers'</CODE>         information</p> <P>Extensions Manager 4.0 retrieves the version number from         the <CODE>'vers'</CODE> 1 resource's short version string,         or if there is no <CODE>'vers'</CODE> 1 resource, it         attempts to retrieve the version number from the short         version string of the <CODE>'vers'</CODE> 2 resource.</P>                  <P>Extensions Manager 4.0 uses the short version string to         display the version of a file in its window, and it uses the         long version string as the package identifier for each         extension. The short version string does not have to be         limited to just a number, but it should be short. To use the         package feature of Extensions Manager 4.0, the long version         string of all extensions in the same package must match         exactly.</P>                  <P>If you are a vendor of extensions or other items which go         into the System Folder (or one of its subfolders) and you         have multiple extensions that work as a group, you can make         them into a package by simply giving all of them the same         long version string in their <CODE>'vers'</CODE> 2 resource.         Extensions Manager 4.0 will treat those extensions as being         in the same package, as Figure 4 demonstrates.</P>                  <P>Developers creating groups of extensions should package         all of those extensions into one package, even if those         extensions do not function together as a group. By doing so,         your extensions appear as a complete software package and         will be organized in a way that can be easily identified by         the user when Extensions Manager 4.0's display is in the         package mode.</P>                <P align=center><img src="images/tn1091_004.gif" alt="Examples of Different Packages" align="bottom" width=641 height=449><BR>         <b>Figure 4.</b> Examples of Different Packages</p><P>As you can see in Figure 4, if there are two or more         items in a package, then a checkbox is shown, a special         package icon is displayed and the name of the package (taken         from the long version string in the <CODE>'vers'</CODE> 2         resource) is shown in bold. The user can use the triangles         to compress or expand the view and can enable or disable         entire packages by clicking on the checkbox for the main         package (as is the case with the QuickDraw 3D v1.0.6 package         in Figure 4). The user can also disable only some items in a         package (as is the case with the Cyberdog 1.1 package in         Figure 4).</P>                  <P>Extensions Manager 4.0 incorporates tri-state checkboxes         which let the user easily know that only some items in a         group are on, just as the Installer lets you know that only         some items in a custom install package will be installed, as         in Figure 4.</P>                  <P>If the check box has a horizontal line through it, like         this: </P>         <P align = center><img src="images/tn1091_005.gif" alt="Partially-disabled package checkbox" align="bottom" width=17 height=17><BR><b>Figure 5.</b> Partially-disabled package checkbox</p>               <P>it means that one or more items in the group are not         active, as is the case of the Cyberdog 1.1 package in Figure         4.</P>                  <P><A HREF="#top">Back to top</A></P>                  <P><A NAME="Section4"></A></P>                  <H2>The Item Information Window</H2>                  <P>The "Item Information" window, shown in Figure 6,         provides a place for the display of textual information         describing the facilities provided by an extension. Vendors         can provide this information by including necessary         resources in their extension files. Extensions Manager 4.0         retrieves the textual information displayed in this window         from one of four places. The search order for finding that         information is as follows: </P>                  <OL>            <LI>It first looks in resource            <CODE>'CCI<img src="images/tn1091_006.gif" alt="tm" align=top width=11 height=12>'</CODE><SUP>1</SUP> 128 </li>                        <LI>If that resource does not exist, it looks in an            internal Extensions Manager Info database. </li>                        <LI>If it doesn't find a match in the database, then it            looks in the file for resource <CODE>'hfdr'</CODE> -5696,            which is the Finder Balloon Help resource. </li>                        <LI>Finally, it looks in the Finder Help file for            information about the file. </li>         </OL>                  <P>Here is an example from MacsBug's <CODE>'hfdr'</CODE>         -5696 resource: </P>                                           <P align=center><img src="images/tn1091_007.gif" alt="Item Information window" align="bottom" width=641 height=256><BR>         <b>Figure 6.</b> Item Information window</p>                  <P>If no information is found in any of these places, it         displays the default information (which is the same         information that the Finder displays in Balloon Help where         there is no <CODE>'hfdr'</CODE> -5696). It is a generic         message, as shown in Figure 7.</P>         <p align=center><img src="images/tn1091_008.gif" alt="Generic Item Information" align="bottom" width=641 height=256><Br>         <b>Figure 7.</b> Generic Item Information</p>                   <P>The format of the <CODE>'CCI<img src="images/tn1091_009.gif" alt="tm" align=top width=11 height=12>'</CODE> (<img src="images/tn1091_010.gif" alt="" align=top width=11 height=12> is the         option-2 character, hex AA) resource is exactly the same as         a <CODE>'TEXT'</CODE> resource, a pure text stream with no         extraneous information. Figure 8 showns how it appears in         ResEdit.</P>                           <P align=center><img src="images/tn1091_012.gif" alt="ResEdit view" align="bottom" width=284 height=186><BR>         <b>Figure 8.</b> ResEdit view of <CODE>'CCI<img src="images/tn1091_011.gif" alt="tm" align=top width=11 height=12>'</CODE>         resource</p>        <P>The format of the <CODE>'hfdr'</CODE> resource is         described in         <a href="../../documentation/mac/Toolbox/Toolbox-458.html">         Inside Macintosh: More Macintosh Toolbox</A>.</P>                  <P>Using the 'CCI<img src="images/tn1091_013.gif" alt="tm" align=top width=11 height=12>' resource allows your extension to         display useful information in Extensions Manager (i.e., what         functionality this extension provides or what other         extensions this extension requires) while allowing your         <CODE>'hfdr'</CODE> -5696 resource to say things like "This         must be in the Extensions folder to be active," or other         things which don't make sense when viewed in the Extensions         Manager's context.</p>         <P><A HREF="#top">Back to top</A></P><a name="References"></a><H2>References</H2>            <p><a href="../../documentation/mac/Toolbox/Toolbox-458.html">            Inside Macintosh: More Macintosh Toolbox</A>, page 3-86,            regarding the <CODE>'hfdr' </CODE>resource.</p>            <p><a href="../../documentation/mac/Toolbox/Toolbox-454.html">            Inside Macintosh: Macintosh Toolbox Essentials</A>, pages 7-31            through 7-33, regarding the <CODE>'vers'</CODE> resource.</p>                        <p>The Writing a System Extension chapter in            <a href="../../documentation/mac/OSUtilities/OSUtilities-192.html">            Inside Macintosh: Operating System Utilities</A> (chapters 9 and 10)</p>                        <p>The Control Panels chapter in             <a href="../../documentation/mac/MoreToolbox/MoreToolbox-453.html">            Inside Macintosh: More Macintosh Toolbox</A> (8-1)</p>                        <p><A HREF = "../tb/tb_15.html">Technote TB15-"New" cdev Messages</A></p>                        <p><A HREF = "../tb/tb_515.html">Technote TB515-Control Panel Q&amp;As</A></p>                        <p><A HREF = "../ov/ov_18.html">Technote OV18-Resource in CDEV?</A></p>                        <p>Developers building safe "fat" accelerated extensions            should refer to the sections of             <a href="../../documentation/mac/PPCSoftware/PPCSoftware-11.html">            Inside Macintosh: PowerPC System Software</A> beginning on pages 1-34 and 2-24.</p>                                  <p>A piece of Extensions Manager trivia:             <CODE>'CCI<img src="images/tn1091_014.gif" alt="tm" align=top height=12 width=11>'</CODE> means "Conflict Catcher Information<img src="images/tn1091_015.gif" alt="" align=top width=11 height=12>".</p>  <P><A HREF="#top">Back to top</A></P>                           <P><A NAME=Downloads></A></P>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" alt="acrobat" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (600K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/tn1091.pdf">Download</A></P>               </TD>            </TR>                </TABLE>         <BR>                  <P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1091.html%3Fid%3DDTS10002931-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1091.html%3Fid%3DDTS10002931-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1091.html%3Fid%3DDTS10002931-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --><hr width=500 align=center></BODY></HTML>