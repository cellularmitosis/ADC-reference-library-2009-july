<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>64-Bit Guide for Carbon Developers: Modifying Your Application to Use 64-Bit Addressing</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Modifying Your Application to Use 64-Bit Addressing"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004381-CH3" title="Modifying Your Application to Use 64-Bit Addressing"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../Performance-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000901" target="_top">Performance</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40004381-CH1-DontLinkElementID_5">64-Bit Guide for Carbon Developers</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TransitionTo64Bit/TransitionTo64Bit.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../HIToolboxChanges/HIToolboxChanges.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40004381-CH3-SW1" title="Modifying Your Application to Use 64-Bit Addressing"></a><h1>Modifying Your Application to Use 64-Bit Addressing</h1><p>This chapter explains what kinds of modifications are needed in existing Carbon applications to make them compile and run as 64-bit executables.</p><p>Mac OS X v10.5 (Leopard) provides two different implementations of its programming interfaces: one for 32-bit applications and another for 64-bit applications. You may choose to build your application using either one or both of these implementations. Some Leopard header files have been modified to support both implementations, and these header files often select or remove code for 64-bit compilation.</p><p>For 32-bit applications, Apple’s goal is to maintain complete source compatibility; when recompiled on Leopard, 32-bit applications should not need to change their sources to compile against Leopard headers. If you find instances where changes to the Leopard headers have broken the compilation of your 32-bit application, you should treat these as bugs and report them to Apple.</p><p>If you plan to modify your application to use 64-bit addressing, you may need to adopt standard data types that can be used identically in both 32-bit and 64-bit applications. You also need to be aware that the APIs used to implement a Carbon user interface—menus, windows, views, toolbars, navigation dialogs, and so on—are generally not available. If you want to create a 64-bit application, you need to use Cocoa to implement its user interface.</p><p>Later in this document, you’ll learn more about replacement alternatives for the APIs and technologies that aren’t available to 64-bit applications.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="PortingTo64Bit.html#//apple_ref/doc/uid/TP40004381-CH3-SW3">Conditional Compilation</a>
				
			<br/>
			
        
			
			
				<a href="PortingTo64Bit.html#//apple_ref/doc/uid/TP40004381-CH3-SW4">Standard Types</a>
				
			<br/>
			
        
			
			
				<a href="PortingTo64Bit.html#//apple_ref/doc/uid/TP40004381-CH3-SW14">What’s Not Available to 64-Bit Applications</a>
				
			<br/>
			
        
			
			
				<a href="PortingTo64Bit.html#//apple_ref/doc/uid/TP40004381-CH3-SW2">Choosing a Development Path for Your Carbon User Interface</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40004381-CH3-SW3" title="Conditional Compilation"></a><h2>Conditional Compilation</h2><p>The differences between the 32-bit and 64-bit programming interfaces are marked in header files using the following preprocessor conditionals:</p><div class="codesample"><table><tr><td scope="row"><pre>#if __LP64__<span></span></pre></td></tr><tr><td scope="row"><pre>(code available only to 64-bit applications)<span></span></pre></td></tr><tr><td scope="row"><pre>#endif<span></span></pre></td></tr></table></div><div class="codesample"><table><tr><td scope="row"><pre>#if !__LP64__<span></span></pre></td></tr><tr><td scope="row"><pre>(code available only to 32-bit applications)<span></span></pre></td></tr><tr><td scope="row"><pre>#endif<span></span></pre></td></tr></table></div><p>These two conditionals are used to select or remove code for 64-bit compilation in a manner that is independent of the machine architecture (PowerPC or Intel). This is the primary mechanism used to provide 32-bit and 64-bit versions of an API or a standard data type such as <code>CGFloat</code>.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW4" title="Standard Types"></a><h2>Standard Types</h2><p>In the context of this document, standard types are Apple-defined data types that can be used identically in both 32-bit and 64-bit applications. In Mac OS X v10.5, Apple has redefined some of these types (or defined new types) to make it easier for you to maintain a source base that compiles for both 32-bit and 64-bit targets. These standard types are used in function parameters and return values to implement 64-bit addressing and 64-bit quantities when compiling 64-bit targets. You may need to modify your source code to take full advantage of these wider parameters and return values.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW5" title="Changes in Standard Types"></a><h3>Changes in Standard Types</h3><p>Commonly used standard types such as <code>ByteCount</code>, <code>ByteOffset</code>, <code>ItemCount</code>, and <code>UniCharCount</code> have been defined as <code>long</code>, which makes them 64-bit types for 64-bit applications:</p><div class="codesample"><table><tr><td scope="row"><pre>typedef unsigned long     ByteCount;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef unsigned long     ByteOffset;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef unsigned long     ItemCount;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef unsigned long     UniCharCount;<span></span></pre></td></tr></table></div><p>New standard types have been added to provide consistent representation of user-specified data:</p><div class="codesample"><table><tr><td scope="row"><pre>typedef void *            PRefCon;<span></span></pre></td></tr><tr><td scope="row"><pre>#if __LP64__<span></span></pre></td></tr><tr><td scope="row"><pre>typedef void *            URefCon;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef void *            SRefCon;<span></span></pre></td></tr><tr><td scope="row"><pre>#else<span></span></pre></td></tr><tr><td scope="row"><pre>typedef UInt32            URefCon;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef SInt32            SRefCon;<span></span></pre></td></tr><tr><td scope="row"><pre>#endif<span></span></pre></td></tr></table></div><p>Core Foundation has redefined several standard types to accommodate wide values for 64-bit applications:</p><div class="codesample"><table><tr><td scope="row"><pre>typedef unsigned long     CFTypeID;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef unsigned long     CFOptionFlags;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef unsigned long     CFHashCode;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef signed long       CFIndex;<span></span></pre></td></tr></table></div><p>Core Graphics (Quartz) has defined a new standard type to increase the precision of floating-point values for 64-bit applications:</p><div class="codesample"><table><tr><td scope="row"><pre>#if __LP64__<span></span></pre></td></tr><tr><td scope="row"><pre>typedef double CGFloat;<span></span></pre></td></tr><tr><td scope="row"><pre>#else<span></span></pre></td></tr><tr><td scope="row"><pre>typedef float CGFloat;<span></span></pre></td></tr><tr><td scope="row"><pre>#endif<span></span></pre></td></tr></table></div><p>It’s also worth noting that declarations of the fixed-size types <code>SInt32</code> and <code>UInt32</code> have been changed to make them remain 32-bit quantities for 64-bit applications:</p><div class="codesample"><table><tr><td scope="row"><pre>#if __LP64__<span></span></pre></td></tr><tr><td scope="row"><pre>typedef unsigned int      UInt32;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef signed int        SInt32;<span></span></pre></td></tr><tr><td scope="row"><pre>#else<span></span></pre></td></tr><tr><td scope="row"><pre>typedef unsigned long     UInt32;<span></span></pre></td></tr><tr><td scope="row"><pre>typedef signed long       SInt32;<span></span></pre></td></tr><tr><td scope="row"><pre>#endif<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40004381-CH3-SW6" title="Adopting Standard Types"></a><h3>Adopting Standard Types</h3><p>The following general changes have been made in a number of C APIs to adopt standard types. These changes should have no effect on your application.</p><ul class="spaceabove"><li class="li"><p>Many functions and data structures now use standard types, such as <code>ItemCount</code>, <code>ByteCount</code>, <code>ByteOffset</code>, and <code>UniCharCount</code>, rather than fixed-size types, such as <code>UInt32</code> and <code>SInt32</code>.</p></li><li class="li"><p>Function parameters that contain user-specified data and that were previously typed as a 32-bit integer value (<code>SInt32</code> or <code>UInt32</code>) are now typed as <code>SRefCon</code> or <code>URefCon</code>. For 64-bit applications, these new standard types will widen as necessary to allow a pointer to be passed in and out.</p></li><li class="li"><p>Graphics-related functions that formerly used the <code>float</code> type now use the <code>CGFloat</code> type defined by Core Graphics. This type expands to <code>double</code> for 64-bit applications.</p></li></ul><p>To advance your application toward the goal of being 64-bit capable, you are encouraged to adopt these standard types in your own source code. At a minimum, you need to make sure that the data you pass to and receive from system functions uses compatible types.</p><p>For example, if you are currently casting a pointer to <code>SInt32</code> or <code>UInt32</code> before passing it as user-specified data, you should instead cast the pointer to <code>SRefCon</code> or <code>URefCon</code> to avoid truncating your pointer in 64-bit targets. If you are currently passing an integer value as user-specified data, you will need to add a cast to <code>SRefCon</code> or <code>URefCon</code> to avoid errors when compiling your code for 64-bit targets.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW7" title="Common Pitfalls"></a><h3>Common Pitfalls</h3><p>If you’re already using standard types, your code may be making assumptions about their sizes that no longer hold true in 64-bit applications. Here are some examples.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW8" title="Example 1"></a><h4>Example 1</h4><p>In this example, the code assumes that <code>ItemCount</code> is a 32-bit type.</p><div class="codesample"><table><tr><td scope="row"><pre>ItemCount count;   // Used to be declared as UInt32, now unsigned long<span></span></pre></td></tr><tr><td scope="row"><pre>memmove(mem, &amp;count, 4);<span></span></pre></td></tr></table></div><p>Instead of <code>4</code>, <code>sizeof(ItemCount)</code> should have been used.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW9" title="Example 2"></a><h4>Example 2</h4><p>In this example, the code assumes that <code>CFIndex</code> is the same size as <code>SInt32</code>.</p><div class="codesample"><table><tr><td scope="row"><pre>CFIndex c;   // Used to be declared as SInt32, now long<span></span></pre></td></tr><tr><td scope="row"><pre>CFNumberRef n = CFNumberCreate(NULL, &amp;c, kCFNumberSInt32Type);<span></span></pre></td></tr></table></div><p>Instead of <code>kCFNumberSInt32Type</code>, <code>kCFNumberCFIndexType</code> should have been used.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW10" title="Example 3"></a><h4>Example 3</h4><p>In this example, the code assumes that a prototype exists for a function that returns a pointer-sized type.</p><div class="codesample"><table><tr><td scope="row"><pre>CFStringRef s = SomeGetStringFunction();<span></span></pre></td></tr></table></div><p>If a prototype for <code>SomeGetStringFunction</code> is not encountered, the compiler assumes an <code>int</code>, hence 32-bit, return value.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW11" title="Example 4"></a><h4>Example 4</h4><p>This example uses variable-sized data across process boundaries—in this case, by writing the data to a file.</p><div class="codesample"><table><tr><td scope="row"><pre>/* 32-bit process */<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat floatValue;<span></span></pre></td></tr><tr><td scope="row"><pre>fwrite(&amp;floatValue, sizeof(floatValue), 1, file);  // writes out 4 bytes<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* 64-bit process */<span></span></pre></td></tr><tr><td scope="row"><pre>CGFloat floatValue;<span></span></pre></td></tr><tr><td scope="row"><pre>fread(&amp;floatValue, sizeof(floatValue), 1, file);  // tries to read back 8 bytes<span></span></pre></td></tr></table></div><p>Basically, any use of variable-size types in data structures that go outside the address space of a process should be examined.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW12" title="Example 5"></a><h4>Example 5</h4><p>The Collection Manager is available to 64-bit applications, but unlike many other APIs, the <code>itemSize</code> parameters have not been widened to 64 bits; they remain <code>SInt32</code>. This can cause problems if your code is already casting an <code>itemSize</code> parameter to an <code>SInt32*</code> type before calling a Collection Manager function. For example, this code will compile without warnings in a 64-bit target but will fail at runtime because <code>sizeof(ByteCount)</code> is no longer equal to <code>sizeof(SInt32)</code>.</p><div class="codesample"><table><tr><td scope="row"><pre>MyData data;<span></span></pre></td></tr><tr><td scope="row"><pre>ByteCount itemSize = sizeof(data);<span></span></pre></td></tr><tr><td scope="row"><pre>GetCollectionItem (collection, kDataTag, kDataID, (SInt32*) &amp;itemSize, &amp;data);<span></span></pre></td></tr></table></div><p>Passing the address of a <code>ByteCount</code> (or <code>long</code>) variable to <code><a href="../../../Reference/Collection_Manager/Reference/reference.html#//apple_ref/c/func/GetCollectionItem" target="_top">GetCollectionItem</a></code> causes this function to return zero bytes instead of <code>sizeof(data)</code> bytes. The same issue applies to <code><a href="../../../Reference/Collection_Manager/Reference/reference.html#//apple_ref/c/func/GetIndexedCollectionItem" target="_top">GetIndexedCollectionItem</a></code> and <code><a href="../../../Reference/Collection_Manager/Reference/reference.html#//apple_ref/c/func/GetTaggedCollectionItem" target="_top">GetTaggedCollectionItem</a></code>. Consider reviewing your use of these functions to verify that you are using the correct parameter type for the <code>itemSize</code> parameter.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW13" title="Example 6"></a><h4>Example 6</h4><p>Some Core Foundation functions return a value by reference rather than as the function result. It’s easy to pass the address of an incorrectly sized variable to one of these functions. For example, suppose you have stored an integer in a dictionary and you wish to retrieve its value.</p><div class="codesample"><table><tr><td scope="row"><pre>UInt32 value = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>if (CFDictionaryGetValueIfPresent (dict, CFSTR("key"), (void**) &amp;value))<span></span></pre></td></tr><tr><td scope="row"><pre>    DoSomething (value);<span></span></pre></td></tr></table></div><p>In a 64-bit target, this code will compile without warnings but will fail at runtime because <code>sizeof(UInt32)</code> is no longer equal to <code>sizeof(void*)</code>. The <code><a href="../../../../CoreFoundation/Reference/CFDictionaryRef/Reference/reference.html#//apple_ref/c/func/CFDictionaryGetValueIfPresent" target="_top">CFDictionaryGetValueIfPresent</a></code> function will write an 8-byte value into the 4-byte memory location that you have provided, overwriting some other memory. To fix this, use a variable of type <code>long</code>, <code>unsigned long</code>, <code>CFIndex</code>, or <code>intptr_t</code>, any of which will properly resize to match the size of a pointer.</p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW14" title="What&acirc;&#128;&#153;s Not Available to 64-Bit Applications"></a><h2>What’s Not Available to 64-Bit Applications</h2><p>This section lists a few of the managers, services, and individual functions that are not available to 64-bit applications. You can find more detailed information about these changes in the next two chapters, <span class="content_text"><a href="../HIToolboxChanges/HIToolboxChanges.html#//apple_ref/doc/uid/TP40004381-CH4-SW1">“Changes in the Human Interface Toolbox”</a></span> and <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW4">“Changes in Other C APIs.”</a></span></p><a name="//apple_ref/doc/uid/TP40004381-CH3-SW15" title="Deprecated Technologies"></a><h3>Deprecated Technologies</h3><p>A number of legacy Carbon technologies have been either wholly or partially deprecated in favor of more modern equivalents. You are discouraged from using these technologies in 32-bit applications. If you are creating 64-bit applications, you must use alternative technologies.</p><p>For example, these deprecated technologies are not available to 64-bit applications:</p><ul class="spaceabove"><li class="li"><p>QuickDraw. Functions to manipulate regions and simple data structures (<code>Point</code> and <code>Rect</code>) are still available, but you cannot use QuickDraw to draw in a 64-bit application. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW3">“QuickDraw.”</a></span></p></li><li class="li"><p>The <code>FSSpec</code> data type and functions that use this type. Most of these functions have replacements that use the <code>FSRef</code> type. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW2">“File Manager.”</a></span></p></li><li class="li"><p>Classic icon formats such as <code>'ICON'</code>, <code>'cicn'</code>, and icon suites. You must use the <code>IconRef</code> data type or a CGImage to represent an icon. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW16">“Icon Services and Utilities.”</a></span></p></li><li class="li"><p>Memory Manager. A number of deprecated or obsolete functions are not available. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW6">“Memory Manager.”</a></span></p></li><li class="li"><p>Scrap Manager. You can use the Pasteboard Manager or <code>NSPasteboard</code> instead. See <span class="content_text"><a href="../HIToolboxChanges/HIToolboxChanges.html#//apple_ref/doc/uid/TP40004381-CH4-SW6">“Scrap Manager.”</a></span></p></li><li class="li"><p>Display Manager. You must use the <code>CGDirectDisplayID</code> data type and Quartz Display Services instead. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW5">“Display Manager.”</a></span></p></li><li class="li"><p>Sound Manager. You should use Core Audio instead. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW15">“Sound Manager.”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP40004381-CH3-SW16" title="Supported Technologies"></a><h3>Supported Technologies</h3><p>Some other technologies are still supported for 32-bit applications but are not available to 64-bit applications. Among these technologies are the following:</p><ul class="spaceabove"><li class="li"><p>Carbon Human Interface Toolbox. APIs such as the Window Manager, Menu Manager, Data Browser, HIView, HIToolbar, and HIArchive are not available to 64-bit applications. You must implement your user interface with Cocoa. See <span class="content_text"><a href="PortingTo64Bit.html#//apple_ref/doc/uid/TP40004381-CH3-SW2">“Choosing a Development Path for Your Carbon User Interface.”</a></span></p></li><li class="li"><p>Navigation Services. You must use Cocoa to implement dialogs for navigating, opening, and saving files. See <span class="content_text"><a href="../HIToolboxChanges/HIToolboxChanges.html#//apple_ref/doc/uid/TP40004381-CH4-SW5">“Navigation Services.”</a></span></p></li><li class="li"><p>The Carbon Printing API. You must use Cocoa to implement printing features that display a user interface. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW7">“Printing.”</a></span></p></li><li class="li"><p>QuickTime C APIs. You must use QuickTime Kit instead. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW8">“QuickTime.”</a></span></p></li><li class="li"><p>MLTE. You should use the Cocoa text system instead. See <span class="content_text"><a href="../HIToolboxChanges/HIToolboxChanges.html#//apple_ref/doc/uid/TP40004381-CH4-SW2">“Multilingual Text Engine (MLTE).”</a></span></p></li><li class="li"><p>ATSUI. You should use Core Text or Cocoa instead. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW9">“Apple Type Services for Unicode Imaging (ATSUI).”</a></span></p></li><li class="li"><p>Carbon APIs for displaying standard color and font selection windows. You should use Cocoa to display these windows. See <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW10">“Color Picker Manager”</a></span> and <span class="content_text"><a href="../OtherAPIChanges/OtherAPIChanges.html#//apple_ref/doc/uid/TP40004381-CH5-SW11">“Fonts Window Services.”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP40004381-CH3-SW2" title="Choosing a Development Path for Your Carbon User Interface"></a><h2>Choosing a Development Path for Your Carbon User Interface</h2><p>During the evolution of Mac OS X, a number of improvements and new features have been added to Carbon to help you modernize your Carbon user interface (UI) and begin to incorporate Cocoa features. You have been encouraged to adopt newer UI technologies such as composited windows, HIView-based controls, and Quartz 2D for drawing. In Mac OS X v10.5, the addition of HICocoaView has opened up a number of possibilities for adding Cocoa features to applications that use Carbon windows.</p><p>Because most Carbon UI functions are not available to 64-bit applications, you have two possible development paths. You can continue modernizing and improving your Carbon UI with the expectation that your application will remain a 32-bit application for the foreseeable future. Apple plans to support and maintain the 32-bit Carbon Human Interface Toolbox, although Apple will not be adding any significant new features to these APIs. The other development path is more challenging and also potentially more rewarding in the long term. You can develop a 64-bit version of your application, using Cocoa to implement your UI. As you do so, consider going one step further and implementing other parts of your application using Cocoa. For an introduction to Cocoa programming, see <em><a href="../../../../Cocoa/Conceptual/CocoaFundamentals/index.html#//apple_ref/doc/uid/TP40002974" target="_top">Cocoa Fundamentals Guide</a></em>.</p><p>At this time, a reasonable approach would be to compare the amount of work required for each development path, assess the potential benefits, and decide which option is more attractive.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../TransitionTo64Bit/TransitionTo64Bit.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../HIToolboxChanges/HIToolboxChanges.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-12-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/Carbon64BitGuide/PortingTo64Bit/PortingTo64Bit.html%3Fid%3DTP40004381-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/Carbon64BitGuide/PortingTo64Bit/PortingTo64Bit.html%3Fid%3DTP40004381-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/Carbon64BitGuide/PortingTo64Bit/PortingTo64Bit.html%3Fid%3DTP40004381-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>