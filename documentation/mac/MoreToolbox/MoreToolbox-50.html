<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>GetResource (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING50></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-49.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-51.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-9.html"><B>Chapter 1 - Resource Manager</B></A> / <A HREF="MoreToolbox-24.html"><B>Resource Manager Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-30.html"><B>Resource Manager Routines</B></A> / <A HREF="MoreToolbox-49.html"><B>Reading Resources Into Memory</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING50-0></A>
<H3><A NAME=MARKER-9-287></A><A NAME=MARKER-9-288></A>GetResource</H3>
 <A NAME=MARKER-11-289></A><A NAME=MARKER-2-290></A>You can use the <CODE>GetResource</CODE> function to get resource data for a resource specified by resource type and resource ID.<P>
<PRE>
FUNCTION GetResource (theType: ResType; theID: Integer): Handle;
</PRE>
<DL>
<DT><CODE>theType</CODE>
<DD> A resource type.
<DT><CODE>theID</CODE>
<DD> An integer that uniquely identifies a resource of the specified type.
</DL>
<A NAME=HEADING50-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>GetResource</CODE> function searches the resource maps in memory for the resource specified by the parameters <CODE>theType</CODE> and <CODE>theID</CODE>. The resource maps in memory, which represent all the open resource forks, are arranged as a linked list. When searching this list, <CODE>GetResource</CODE> starts with the current resource file and progresses through the list (that is, searching the resource maps in reverse order of opening) until it finds the resource's entry in one of the resource maps. <P>
 If the <CODE>GetResource</CODE> function finds the specified resource entry in one of the resource maps and the entry contains a valid handle, it returns that handle. If the entry contains a a handle whose value is <CODE>NIL</CODE>, and if you haven't called <CODE>SetResLoad</CODE> with the <CODE>load</CODE> parameter set to <CODE>FALSE</CODE>, <CODE>GetResource</CODE> attempts to read the resource into memory.<P>
 If <CODE>GetResource</CODE> can't find the resource data, it returns <CODE>NIL</CODE>, and <CODE>ResError</CODE> returns the result code <CODE>resNotFound</CODE>. The <CODE>GetResource</CODE> function also returns <CODE>NIL</CODE> if the resource data to be read into memory won't fit, in which case <CODE>ResError</CODE> returns an appropriate Memory Manager result code. If you call <CODE>GetResource</CODE> with a resource type that can't be found in any of the resource maps of the open resource forks, the function returns <CODE>NIL</CODE>, but <CODE>ResError</CODE> returns the result code <CODE>noErr</CODE>. You should always check that the value of the returned handle is not <CODE>NIL</CODE>.<P>
 You can change the resource map search order by calling the <CODE>UseResFile</CODE> procedure before <CODE>GetResource</CODE>.<P>
<A NAME=HEADING50-10></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 Calling <CODE>GetResource</CODE> may move or purge memory blocks in the application heap. Your application should not call this function at interrupt time.<P>
<A NAME=HEADING50-12></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>resNotFound<TD>-192<TD>Resource not found</TABLE>
</H5>
<A NAME=HEADING50-13></A>
<H5>SEE ALSO</H5>
 To check for errors, call the <CODE>ResError</CODE> function as described on <A HREF=MoreToolbox-35.html#MARKER-9-220>page 1-47</A>.<P>
 For examples of the use of <CODE>GetResource</CODE>, see <A HREF=MoreToolbox-18.html#MARKER-9-128>page 1-14</A> through <A HREF=MoreToolbox-20.html#MARKER-9-145>page 1-18</A>.<P>
 To include ROM-resident system resources in the Resource Manager's search of the resource maps of open resource forks, use the <CODE>RGetResource</CODE> function as described on <A HREF=MoreToolbox-54.html#MARKER-9-301>page 1-73</A>.<P>
 For information about the <CODE>UseResFile</CODE> and <CODE>SetResLoad</CODE> procedures, see <A HREF=MoreToolbox-47.html#MARKER-9-273>page 1-65</A> and <A HREF=MoreToolbox-55.html#MARKER-9-305>page 1-74</A>, respectively. <A NAME=MARKER-2-453></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-49.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-51.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
