<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Attenuation and Fall-Off Values</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH3.RoutineHd3"><A NAME="pgfId=10091"> </A><A NAME="30491"> </A><A NAME="marker=14121"> </A>Attenuation and Fall-Off Values</H1><P CLASS="T1.Text1"><A NAME="pgfId=10093"> </A>Some lights suffer attenuation; that is, a loss of intensity over distance. The application determines the degree of attenuation of a light by specifying substituends for three distinct variables in a complex term that occurs in whatever formula it uses to compute the intensity of that light at a given distance from its source. The choice of constants determines whether the light suffers attenuation and, if so, the degree to which its intensity diminishes as a function of distance. These constants are specified in a data structure of the type described here.</P><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=10094"> </A>Attenuation DataType</H3><CODE CLASS="Cv.Code"><A NAME="pgfId=33191"> </A>Float32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c0<BR>Float32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<BR>Float32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<BR></CODE></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=10096"> </A>Description</H3><P CLASS="T1.Text1"><A NAME="pgfId=10097"> </A>The attenuation factor determined by an attenuation data type is expressed by the result of replacing the variables <I CLASS="italics">c</I>0, <I CLASS="italics">c</I>1, <I CLASS="italics">c</I>2 by the values of the fields <TT CLASS="cv">c0</TT>, <TT CLASS="cv">c1</TT>, <TT CLASS="cv">c2</TT> in the complex term</P><DIV><IMG SRC="qd3dmetafile-22.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=10101"> </A>(Here <I CLASS="italics">l</I> is the location of the light source, <I CLASS="italics">p</I> is the illuminated point, and <I CLASS="italics">dl, p</I> is the distance from <I CLASS="italics">l</I> to <I CLASS="italics">p</I>.)</P><P CLASS="T1.Text1"><A NAME="pgfId=10102"> </A>The initial intensity of a light is multiplied by its attenuation factor when the intensity of the light at a point is computed. Thus, if <I CLASS="italics">c</I>0 = 1 and <I CLASS="italics">c</I>1 = <I CLASS="italics">c</I>2 = 0, then the light does not suffer attenuation over distance. If <I CLASS="italics">c</I>1 = 1 and <I CLASS="italics">c</I>0 = <I CLASS="italics">c</I>2 = 0, then the intensity of the light at a point <I CLASS="italics">p</I> diminishes in proportion to the distance between <I CLASS="italics">p</I> and the light source, provided that that distance is at least one unit. If <I CLASS="italics">c</I>2 = 1 and <I CLASS="italics">c</I>0 = <I CLASS="italics">c</I>1 = 0, then the intensity of the light at <I CLASS="italics">p</I> diminishes in proportion to the square of the distance between <I CLASS="italics">p</I> and the light source, again provided that that distance is at least one unit. If <I CLASS="italics">c</I>0 = <I CLASS="italics">c</I>2 = 1 and <I CLASS="italics">c</I>1 = 0, then the intensity of the light at <I CLASS="italics">p</I> diminishes in proportion to the sum of 1 and the square of the distance between <I CLASS="italics">p</I> and the light source.</P><P CLASS="T1.Text1"><A NAME="pgfId=10103"> </A>The attenuation factor is not clamped to a maximum value. Thus, for some choices of <I CLASS="italics">c</I>0, <I CLASS="italics">c</I>1, <I CLASS="italics">c</I>2, the intensity of a light may exceed its source intensity at distances of less than one unit, driving the RGB color values of the light toward the maximum of (1, 1, 1), or pure white.</P><P CLASS="T1.Text1"><A NAME="pgfId=10104"> </A>The amount of illumination that a point illuminated by a light receives from that light also depends on several other factors. Among these factors are the diffuse and specular reflection characteristics of the surface that contains that point and the relative positions of the light source, the illuminated point, and the viewer (the camera).<A NAME="marker=14122"> </A></P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=10105"> </A>Light Fall-Off Values</H3><P CLASS="T1.Text1"><A NAME="pgfId=10106"> </A><A NAME="marker=14123"> </A>A spot light specifies a cone of light emanating from a source location. Within the inner cone defined by the hot angle of a spot light, the light may suffer attenuation over distance from the light source. Within the outer section of the cone between the hot angle and the outer angle of a spot light, the light may suffer further attenuation.</P><P CLASS="T1.Text1"><A NAME="pgfId=10107"> </A>Spot lights have a fall-off value that determines the manner of attenuation of the light from the edge of the cone defined by the hot angle to the edge of the cone defined by the outer angle. The direction of fall off is perpendicular to the ray from the source location through the center of the cone. The amount of additional attenuation determined by any fall-off value is the same along all rays from the location of the light source forming the same angle with the axis of the cone.</P><P CLASS="T1.Text1"><A NAME="pgfId=10108"> </A>The following constants specify four fall-off values a spot light may have.</P></DIV><DIV><H3 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=10109"> </A>FallOff VALUES</H3><CODE CLASS="Cv.Code"><A NAME="pgfId=33195"> </A>None&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x00000000<BR>Linear&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x00000001<BR>Exponential&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x00000002<BR>Cosine&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0x00000003<BR></CODE></DIV><DIV><H2 CLASS="UH.UserHd"><A NAME="pgfId=10111"> </A>Constant descriptions</H2><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=30770"> </A><TT CLASS="cv">None</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=10112"> </A>The intensity of the light is not affected by the distance from the center of the cone to the edge of the cone.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=30779"> </A><TT CLASS="cv">Linear</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=10113"> </A>The intensity of the light at the edge of the cone falls off at a constant rate from the intensity of the light at the center of the cone.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=30788"> </A><TT CLASS="cv">Exponential</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=10114"> </A>The intensity of the light at the edge of the cone falls off exponentially from the intensity of the light at the center of the cone.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=30797"> </A>Cosine</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=10115"> </A>The intensity of the light at the edge of the cone falls off as the cosine of the outer angle from the intensity of the light at the center of the cone.<A NAME="marker=14124"> </A></DD></DL COMPACT></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>