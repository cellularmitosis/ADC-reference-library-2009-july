<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Locales Programming Guide: Locale Concepts</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Locale Concepts"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002240" title="Locale Concepts"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000421" target="_top">Core Foundation</a> &gt; <a href="../../../Internationalization-date.html#//apple_ref/doc/uid/TP30000440-TP30000421-TP30001072" target="_top">Internationalization</a> &gt; <a href="../index.html" target="_top">Locales Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../CFLocales.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CFLocaleWorking.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002240-CJBDBHCB" title="Locale Concepts"></a><hr /><H1>Locale Concepts</H1><p>Some computational tasks require information about the current user context to be able to process data—particularly when formatting output for presentation to the user or when interpreting input. A locale object provides a repository for that information. An operation that requires a locale object to perform its task is called <strong>locale-sensitive</strong>.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="CFLocaleConcepts.html#//apple_ref/doc/uid/20002240-163790">What is a Locale?</a>
				
			<br/>
			
        
			
			
				<a href="CFLocaleConcepts.html#//apple_ref/doc/uid/20002240-164993">Why Are Locales Necessary?</a>
				
			<br/>
			
        
			
			
				<a href="CFLocaleConcepts.html#//apple_ref/doc/uid/20002240-164446-BCIGEEJE">Locale Naming Conventions</a>
				
			<br/>
			
        
			
			
				<a href="CFLocaleConcepts.html#//apple_ref/doc/uid/20002240-164877-BAJJHEFJ">Locale Hierarchies</a>
				
			<br/>
			
        
			
			
				<a href="CFLocaleConcepts.html#//apple_ref/doc/uid/20002240-164503-BAJIHHBB">Interaction Between Locales and Preferences</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002240-163790" title="What is a Locale?"></a><h2>What is a Locale?</h2><p>A locale is not a language; it’s a set of conventions for handling written language text and various units (for example, date and time formats, currency used, and the decimal separator).</p><p>Conceptually, a locale identifies a specific user community—a group of users who have similar cultural and linguistic expectations for human-computer interaction (and the kinds of data they process). A locale’s <strong>identifier</strong> is a label for a given set of settings. For example, “en” (representing “English”) is an identifier for a linguistic (and to some extent cultural) locale that includes (among others) Australia, Great Britain, and the United States. There are also specific regional locales for Australian English, British English, U.S. English, and so on.</p><p>Practically, a locale is a set of default settings for a given identifier: A given locale object is simply a collection of settings. In Core Foundation, locales are represented by instances of CFLocaleRef. In Cocoa, with Mac OS X version 10.4 and later, locales are represented by instances of NSLocale.</p><p>In Mac OS X the locale preference need not be the same as the language preference—they are set independently. Users choose their locale in System Preferences > International, using the Region pop-up menu in the Formats pane. You can programmatically retrieve the array of language preferences from System Preferences using the key <code><!--a  -->AppleLanguages<!--/a--></code>. You retrieve the locale preference using the key <code><!--a  -->AppleLocale<!--/a--></code>. </p><p>Note that it is also possible for users to specify their own preferences, which override the system-defined defaults for the chosen locale (see <span class="content_text"><a href="CFLocaleConcepts.html#//apple_ref/doc/uid/20002240-164503">“Interaction Between Locales and Preferences”</a></span>).</p><a name="//apple_ref/doc/uid/20002240-164993" title="Why Are Locales Necessary?"></a><h2>Why Are Locales Necessary?</h2><p>When you display data to a user it should be formatted according to the conventions of the user’s native country, region, or culture. Conversely, when users enter data, they may do so according to their own customs or preferences. Locale objects are used to provide information required to localize the presentation or interpretation of data. This information can include decimal separators, date formats, and units of measurement, as well as language and region information.</p><p>For example, by convention in the United States “7/4/76” represents the Bicentennial of the Declaration of Independence. However, in Great Britain, it represents the “7th of April, 1976”; in Thailand using the Thai Traditional Calendar it might represent “April 7th, 2519”; and in France it represents “7 avril 1976”. To take a more subtle example, in the United States“12.125” represents the decimal number twelve and one eighth, whereas in Germany it represents twelve thousand one hundred and twenty-five.</p><a name="//apple_ref/doc/uid/20002240-164446" title="Locale Naming Conventions"></a><a name="//apple_ref/doc/uid/20002240-164446-BCIGEEJE" title="Locale Naming Conventions"></a><h2>Locale Naming Conventions</h2><p>A locale’s <strong>identifier</strong> is based on the naming convention defined by the International Components for Unicode (ICU). See <span class="content_text"><a href="http://icu.sourceforge.net/userguide/locale.html" target="_blank">http://icu.sourceforge.net/userguide/locale.html</a></span> for information on their convention. The identifier consists of up to three pieces of ordered information: a <strong>language code</strong>, a <strong>region code</strong>, and a <strong>variant code</strong>.</p><ul class="simple"><li><p>The language code is based on the ISO 639-x/IETF <span class="content_text"><a href="http://www.rfc-editor.org/rfc/bcp/bcp47.txt" target="_blank">BCP 47</a></span> standard. ISO 639-1 defines two-character codes, such as “en” and “fr”, for the world’s most commonly used languages. If a two-letter ISO 639-1 code is not available, then ISO 639-2 three-letter identifiers are accepted as well, for example “haw” for Hawaiian. For more details, see <span class="content_text"><a href="http://www.loc.gov/standards/iso639-2/php/English_list.php" target="_blank">http://www.loc.gov/standards/iso639-2/php/English_list.php</a></span>.</p></li><li><p>The region code is defined by ISO 3166-1 (see, for example, <span class="content_text"><a href="http://www.iso.org/iso/country_codes/iso_3166_code_lists/english_country_names_and_code_elements.htm" target="_blank">http://www.iso.org/iso/country_codes/iso_3166_code_lists/english_country_names_and_code_elements.htm</a></span>). The region code is given in capital letters and appended, after an underscore, after the language code, for example “en_US”, “en_GB”, and “fr_FR”.</p></li><li><p>The variant code is arbitrary and may have any number of keywords (which may be application-specific), each separated by an underscore. Developers are discouraged from using variant codes, as the format may change in the future.</p></li></ul><p><span class="content_text">Table 1</span> provides further examples.</p><a name="//apple_ref/doc/uid/20002240-168834" title="Table 1Components of a locale: language, country and variant"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 1&nbsp;&nbsp;</strong>Components of a locale: language, country and variant</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Locale ID</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Language</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Country</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Variant</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th></tr><tr><td  scope="row"><p>es_PE</p></td><td ><p>es</p></td><td ><p>PE</p></td><td ><p></p></td><td ><p>Spanish, Peru</p></td></tr><tr><td  scope="row"><p>es_ES</p></td><td ><p>es</p></td><td ><p>ES</p></td><td ><p></p></td><td ><p>Spanish, Spain</p></td></tr><tr><td  scope="row"><p>es_ES_PREEURO</p></td><td ><p>es</p></td><td ><p>ES</p></td><td ><p>PREEURO</p></td><td ><p>Spanish, Spain prior to Euro support</p></td></tr><tr><td  scope="row"><p>kl_GL</p></td><td ><p>kl</p></td><td ><p>GL</p></td><td ><p></p></td><td ><p>Kalaallisut, Greenland</p></td></tr></table></div><p>Locale names such as “English”, “French”, and “Japanese” are deprecated in Mac OS X and are supported solely for backward compatibility. The Script Manager and all its concepts are deprecated. CFLocale never uses old-style Script Manager codes (except for one compatibility function,  <code><a href="../../../Reference/CFLocaleRef/Reference/reference.html#//apple_ref/c/func/CFLocaleCreateCanonicalLocaleIdentifierFromScriptManagerCodes" target="_top">CFLocaleCreateCanonicalLocaleIdentifierFromScriptManagerCodes</a></code>). </p><p>Note that you should typically have no reason to use locale identifiers directly in your code.</p><a name="//apple_ref/doc/uid/20002240-164877" title="Locale Hierarchies"></a><a name="//apple_ref/doc/uid/20002240-164877-BAJJHEFJ" title="Locale Hierarchies"></a><h2>Locale Hierarchies</h2><p>Locales are arranged in a hierarchy. At the root is the system locale, which provides default values for all settings. Below the root hierarchy are language locales. These encapsulate settings for language groups, such as English, German and Chinese (using identifiers “en”, “de”, and “zh”). Normal locales specify a language in a particular region (for example “en_GB”, “de_AT”, and “zh_SG”).</p><p>When you look up a value in a locale, the receiver itself will be searched first for a value specific to that locale. If the value is not found in that locale, its parent is searched, and so on, up to the root locale.</p><a name="//apple_ref/doc/uid/20002240-164503" title="Interaction Between Locales and Preferences"></a><a name="//apple_ref/doc/uid/20002240-164503-BAJIHHBB" title="Interaction Between Locales and Preferences"></a><h2>Interaction Between Locales and Preferences</h2><p>It is common to think of locales as providing information which is shared by a community of users. Every individual, however, may have their own preferences. To interpret input data from the current user, or to format data to display to the current user, you should use the user’s locale. You access the logical “user” locale for the current user using <code>CFLocaleCopyCurrent</code> (see <span class="content_text"><a href="CFLocaleWorking.html#//apple_ref/doc/uid/20002241-163541">“Locale for the Current User”</a></span>). This returns a locale object which represents the settings for the current user’s chosen system locale overlaid with any custom settings the user has specified in System Preferences.</p><p>There are four separate settings in International Preferences that involve language. The first three are set in the Languages tab, and the last is set in the Formats tab.</p><ol class="ol"><li class="li"><p>Primary language: affects user interface, used for other places where a *language* (not locale) preference is operative (e.g., Safari)</p></li><li class="li"><p>Collation (sort) order. This is set by default to match the primary language, but it can be overridden by the user. It only affects collation (localized string comparison).</p></li><li class="li"><p>Text break. This is set by default to match the primary language, but it can be overridden by the user. It only affects text boundary analysis (words, lines, and so on).</p></li><li class="li"><p>Region (Locale). This is set in Setup Assistant to combine the primary language at install time and the country specified in Setup Assistant. It can be changed by the user. If it doesn't match the primary language, the user gets a warning in the Languages tab.</p></li></ol><p>Note that <em>only the setting in the Formats tab affects CFLocale properties</em>. The primary language has no influence on CFLocale properties—it only affects the user interface, not regional settings.</p><p>If a user should be able to specify their own settings for an application, the application can store those in the Preferences system (using the appropriate key). If the user updates their preferences (internally or externally to the application), these changes must be propagated through the application by synchronizing preferences and re-fetching Locale objects (see <span class="content_text"><a href="CFLocaleWorking.html#//apple_ref/doc/uid/20002241-164844">“Lifetime of Locale Objects”</a></span>).</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../CFLocales.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CFLocaleWorking.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/CoreFoundation/Conceptual/CFLocales/Articles/CFLocaleConcepts.html%3Fid%3D10000181i-2.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/CoreFoundation/Conceptual/CFLocales/Articles/CFLocaleConcepts.html%3Fid%3D10000181i-2.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/CoreFoundation/Conceptual/CFLocales/Articles/CFLocaleConcepts.html%3Fid%3D10000181i-2.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
