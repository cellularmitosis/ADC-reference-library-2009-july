<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note NW540: AppleTalk Ethernet Driver Q&amp;As</title> <meta name="keywords" content=""><meta name="Description" content="Technical Note NW540: ">    <meta name="categories" content="Networking"><meta name="week-posted" content="Oct 1, 1990 - Oct 5, 1990"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><a name="//apple_ref/doc/uid/DTS10002578" title="AppleTalk Ethernet Driver Q&As"></a><a name="top"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMusicAudio-date.html">Audio</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/MusicAudio/idxHardwareDrivers-date.html" target="_blank">Audio > Hardware & Drivers</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note NW540</div>
<div id="pageheadsub">AppleTalk Ethernet Driver Q&amp;As</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"><!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr>        <td width=300 valign="top" align=left scope="row">            <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>                                         <span id="menutitle">                            CONTENTS                             <br>                            <br>                        </span>                    </td>                </tr>                <tr bgcolor="#e6e6e6">                    <td background="images/tnmenubody.gif" width=300 align=left>					<!-- begin_toc -->					<p id="menutext">										<a href="#Section1">"Undefined entry" link errors when opening Ethernet Driver</a><BR><BR>					<a href="#Section2">IEEE assigns Ethernet card addresses</a><BR><BR>					<a href="#Section3">Apple Ethernet Cable System power requirements</a><BR><BR>					<a href="#Section4">EtherTalk DriverClose function</a><BR><BR>					<a href="#Section5">Ethernet and Quadra systems</a><BR><BR>					<a href="#Section6">Selecting alternate AppleTalk driver at system startup</a><BR><BR>					 <a href="#Downloads">Downloadables</a></p>                   <!-- end_toc -->                  </td>                </tr>                <tr>                    <td width=300 align=left scope="row">                        <img src="images/tnmenubottom.gif" alt="" width=300 height=16>                    </td>                </tr>            </table>        </td>        <td width=300 valign="top" align=left><!-- begin_intro_text --><P id = "introtext">This Technical Note contains a collection of archived Q&amp;As relating to a specifictopic  - questions sent the Developer Support Center (DSC) along withanswers from the DSC engineers. Current Q&amp;A's can be found on the <a href="../../qa/index.html">Macintosh Technical Q&amp;A's web site</a>.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>[Oct 01 1990]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR><!-- begin_content --><a name="Section1"></a><h2>"Undefined entry" link errors when opening Ethernet Driver</h2><p>Date Written:  8/8/91</p><p>Last reviewed:  6/14/93</p><p>When I try to open the EtherNet driver as described in <i>Inside Macintosh</i>Volume VI on pages 32-80 and 32-81, I get the following undefined entry errormessages:</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>    ### Link: Error: Undefined entry, name: (Error 28) &quot;DisplaySInfo&quot;      Referenced from: Init_Enet in file: Mac_Raid.c.o    ### Link: Error: Undefined entry, name: (Error 28) &quot;SaveSInfo&quot;      Referenced from: Init_Enet in file: Mac_Raid.c.o    ### Link: Error: Undefined entry, name: (Error 28) &quot;SGetTypeSRsrc&quot;</pre>	</TD></TR></TABLE></CENTER><p>Any clue as to where these are?</p><p>The <code>DisplaySInfo</code> and <code>SaveSInfo</code> are bogus procs that the sample writer didn't take out or comment out.</p><p>However, <code>SGetTypeSRsrc</code> is a legal Slot Manager trap, IF you are using the newversion of the Slot Manager. The definitions from the latest interfaces (slots.p, slots.h) are as follows:</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>    FUNCTION SGetTypeSRsrc(spBlkPtr: SpBlockPtr): OSErr;        INLINE $205F,$700C,$A06E,$3E80;    #pragma parameter __D0 SGetTypeSRsrc(__A0)    pascal OSErr SGetTypeSRsrc(SpBlockPtr spBlkPtr)</pre>	</TD></TR></TABLE></CENTER><p>The Slot Manager is dispatched via D0 selectors; there is no glue.</p><P><A HREF="#top">Back to top</A></P><a name="Section2"></a><h2>IEEE assigns Ethernet card addresses</h2><p>Date Written:  9/16/91</p><p>Last reviewed:  6/14/93</p><p>We need a range of Ethernet card addresses to uniquely identify each Ethernetcard we manufacture. We received board IDs and equates from Apple, but not therange of Ethernet addresses.</p><p>You weren't sent a range of Ethernet addresses because Apple does not assignthem. IEEE is the governing body that you have to contact to get a range ofnumbers; Apple had to do the same thing to get the numbers for its boards. IEEEwill assign you a block of numbers that includes a unique manufacturer's IDallowing network sniffers to recognize your products.</p><P><A HREF="#top">Back to top</A></P><a name="Section3"></a><h2>Apple Ethernet Cable System power requirements</h2><p>Date Written:  9/17/91</p><p>Last reviewed:  6/14/93</p><p>Sections 3.1.2 and 3.1.3 of the "Apple Ethernet Cable System Product FamilyOverview and Interface Descriptions"  state that pin 1 provides either 12V/2.1W or 5 V/1.9 W, and that 5 volts will be made available on pins 7 and 8,if the host can supply greater than or equal to 1.9W @ 5 V. Which models do nothave 5 V available on pins 7 and 8, which models have 12 V on pin 1, and whichhave 5 V on pin 1?</p><p>All known hosts will provide 5 V at pins 7 and 8. It is absolutely NOTrecommended that a Multiple Access Unit (MAU) designer use Voltage Agile (pins1 and 14) powering to power a 5 V-only MAU. It is anticipated that allfriendlynet-compliant hosts will supply +5 V to pins 7 and 8. Third partiesdesiring a 5 V-only MAU should use these pins. </p><p>MAUs using pins 1 and 14 MUST have a DC-DC converter.</p><p>Apple doesn't presently have a product that uses +12 V on pins 1 and 14 but mayin the future. As this is an "open standard," at least one clone maker andseveral third-party Apple printer and card manufacturers use this interface,and others are expected.</p><P><A HREF="#top">Back to top</A></P><a name="Section4"></a><h2>EtherTalk DriverClose function</h2><p>Date Written:  11/27/91</p><p>Last reviewed:  11/27/91</p><p>My EtherTalk DriverClose function is never called by the system, so my VBL andinterrupt service routines remain active, even though another network device isactive. Any ideas or tips on what might be going on?</p><p>Your findings are as per design. Just because the user decides not to useEtherTalk doesn't mean that the user no longer wants Ethernet services. Forexample, the user might be using MacTCP. MacTCP accesses the .ENET driverdirectly, bypassing the LAP Manager. Should the NetWork cdev close the .ENETdriver when the user switches to LocalTalk or TokenTalk while MacTCP is stillusing the driver, a system crash would likely result.</p><P><A HREF="#top">Back to top</A></P><a name="Section5"></a><h2>Ethernet and Quadra systems</h2><p>Date Written:  12/6/91</p><p>Last reviewed:  6/14/93</p><p>The Ethernet connection on our new Quadra system is different from theconnection on our Macintosh II Ethernet card. Apparently we need to purchase"Apple Ethernet Media Adapters." We may reconfigure our existing thin-wireEthernet network. Do you know of any publications describing the latesttechnology in setting up an Ethernet network? What are the pros and cons ofthin coax, thick coax, twisted pair, or other cables? Does Apple manufactureEthernet Media Adapters? Is there a cable available that plugs directly intothe Quadra's Ethernet port? Does System 7 File Sharing software execute over anEthernet network? Under System 7, is it still necessary to activate AppleTalkin order to run EtherTalk?</p><p>Addison-Wesley has just published a book titled, "Planning and ManagingAppleTalk Networks" (ISBN #0-201-52345-0). Networking periodicals such asNetWorld are other good resources for learning about current technology andnetwork cabling system vendors. You might also contact N&amp;C vendors directlyfor specific information.</p><p>Twisted pair is cheaper and easier to implement than the other media; however,the supported distance is not nearly as great as for thin and thick-wire media.For backbone connections, Fiberoptic Data Distribution Interface (FDDI), whileexpensive, handles the highest bandwidth.</p><p>Apple manufactures the Apple Ethernet Thin Coax Transceiver (M0329LL/A), as wellas a Transceiver for UTP (Unshielded Twisted Pair) and an Adapter for EthernetAUI (Attachment Unit Interface), for adapting to third-party fiber and thickcoax transceivers. Each of these transceiver/adapter units has a cable thatplugs into the 14-pin connector on the back of the Quadra, the LC Ethernetcard, and the new Ethernet NB card (completely different from the olderEtherTalk NB card).</p><p>System 7 File Sharing works independently of the hardware connection, so itdefinitely executes over an Ethernet network. Under System 7 AppleTalk still isrequired for EtherTalk, although it is possible to bypass AppleTalk. Forexample, MacTCP, running with the NCSA Telnet Software Package, accesses theEthernet driver software directly.</p><P><A HREF="#top">Back to top</A></P><a name="Section6"></a><h2>Selecting alternate AppleTalk driver at system startup</h2><p>Date Written:  5/3/89</p><p>Last reviewed:  6/14/93</p><p>I need to know how to set the Macintosh parameter RAM field that controls whichalternate AppleTalk driver is used at system startup (for example,EtherTalk).</p><p>We discourage directly setting the parameter RAM. The Network <code>'cdev'</code> and the<code>'adev'</code> device work together to handle this. Each type of AppleTalk connection(other than LocalTalk) must have its own <code>'adev'</code> file. The construction of the<code>'adev'</code> file is similar to that of a <code>'cdev'</code> file. For each type of AppleTalkconnection, such as EtherTalk, the <code>'adev'</code> file must contain the following resources:</p><ul type="disc">	<li>'ICN#'</li>	<li>'STR '</li>	<li>'BNDL'</li>	<li>'FREF'</li>	<li>owner resource</li>	<li>'adev' code resource</li>	<li>'atlk' code resource</li></ul><p>The <code>'adev'</code> and <code>'atlk'</code> resources are pieces of stand-alone code that reside inthe adev file. The <code>'adev'</code> resource is responsible for handling all controlpanel interactions with the Network <code>'cdev'</code>. The <code>'atlk'</code> resource contains theactual implementation code for the supported AppleTalk connection. When theuser selects an AppleTalk connection from the Network control panel, theNetwork <code>'cdev'</code> updates parameter RAM with a value that represents theAppleTalk connection that is currently selected. This value remains inparameter RAM after the user turns off the Macintosh.</p><p>More information about this can be obtained from EtherTalk and AlternateAppleTalk Connections Reference, available from APDA.</p><P><A HREF="#top">Back to top</A></P><P><A NAME=Downloads></A></P>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (56K)</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/nw_540.pdf">Download</A></P>               </TD>            </TR>                     </TABLE>         <BR>         <P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/nw/nw_540.html%3Fid%3DDTS10002578-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/nw/nw_540.html%3Fid%3DDTS10002578-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/nw/nw_540.html%3Fid%3DDTS10002578-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>