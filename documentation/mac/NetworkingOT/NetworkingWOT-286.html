<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>OTCreatePortRef</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING286></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-285.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-287.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-263.html"><B>Chapter 26 - Ports Reference</B></A> / <A HREF="NetworkingWOT-273.html"><B>Functions</B></A><BR><DL><DD><A HREF="NetworkingWOT-284.html"><B>Registering New Ports</B></A> / </DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING286-0></A>
<H3><A NAME=MARKER-13-133></A><A NAME=MARKER-9-134></A>OTCreatePortRef</H3>
 Creates a port reference that describes a unique port.<P>
<A NAME=HEADING286-2></A>
<H5>C INTERFACE </H5>
<PRE>
<A NAME=MARKER-0-95></A>OTPortRef OTCreatePortRef(UInt8 busType, 
                                          UInt16 devType,
                                          UInt16 slot, 
                                     
</PRE>
<A NAME=HEADING286-4></A>
<H5>C++ INTERFACE</H5>
 None. C++ applications use the C interface to this function.<P>
<A NAME=HEADING286-6></A>
<H5>PARAMETERS </H5>
<DL>
<DT><CODE>busType</CODE>
<DD> The type of bus to which the hardware port is connected; for example, a NuBus or PCI bus. See <A HREF=NetworkingWOT-263.html#MARKER-9-35>"The Port Reference"</A> for possible values for this parameter.
<DT><CODE>devType</CODE>
<DD> The type of hardware device connected to the port, such as LocalTalk or Ethernet. See <A HREF=NetworkingWOT-263.html#MARKER-9-35>"The Port Reference"</A> for possible values for this parameter.
<DT><CODE>slot</CODE>
<DD> The number of the physical slot containing the device.
<DT><CODE>other</CODE>
<DD> The port's multiport identifier--that is, a numeric value that distinguishes between ports when more than one hardware port is connected to a given slot. 
<DT><I>function result</I>
<DD> A 32-bit port reference value.
</DL>
<A NAME=HEADING286-12></A>
<H5>DISCUSSION</H5>
 The <CODE>OTCreatePortRef</CODE> function creates a port reference structure, which is a 32-bit value that describes a port: its device and bus type, its physical slot number, and, where applicable, its multiport identifier. Once you have created a port reference, you can use the <CODE>OTFindPortByRef</CODE> function to find a specific port with that particular set of characteristics. <P>
 To create a port reference, you use the <CODE>OTCreatePortRef</CODE> function. You must know all the port's hardware characteristics: its device and bus type, its slot number, and its multiport identifier (if it has one). You cannot use wildcards to fill in any element you don't know, although you can use a device type of 0 to allow matches on every kind of device type.To create a port reference for a pseudodevice, use 0 as the value for the bus type, slot number, and multiport identifier, and use the constant <CODE>kOTPseudoDevice</CODE> for the device type. <P>
 Open Transport has <A NAME=MARKER-13-136></A>predefined variants of the <CODE>OTCreatePortRef</CODE> function for the most commonly used hardware devices, such as the NuBus, PCI, and PCCard devices. Three variants are listed here:<P>
<PRE>
<A NAME=MARKER-0-95></A>#define OTCreateNuBusPortRef(devType, slot, other)\
      OTCreatePortRef(kOTNuBus, devType, slot, other)<P>
<A NAME=MARKER-0-95></A>#define OTCreatePCIPortRef(devType, slot, other)\
      OTCreatePortRef(kOTPCIBus, devType, slot, other)<P>
<A NAME=MARKER-0-95></A>#define OTCreatePCCard PortRef(devType, slot, other)\
      OTCreatePortRef(kOTPCCardBus, devType, slot, other)<P>
</PRE>
 Once you have identified the port structure you want, you can access the information in its port reference, by using the <A HREF=NetworkingWOT-281.html#MARKER-9-123><CODE>OTGetDeviceTypeFromPortRef</CODE></A> function, the <A HREF=NetworkingWOT-282.html#MARKER-9-126><CODE>OTGetBusTypeFromPortRef</CODE></A> function, and the <A HREF=NetworkingWOT-283.html#MARKER-9-129><CODE>OTGetSlotFromPortRef</CODE> </A>function.<P>
<A NAME=HEADING286-20></A>
<H5>SPECIAL CONSIDERATIONS </H5>
 In Open Transport port references the slot numbers are physical slot numbers; that is, they are the slot numbers returned by the Slot Manager and not the slots seen in various network configuration applications. Physical slot numbers depend on the type of card installed. For example, NuBus cards number their slots 9-13, which appear in the AppleTalk or TCP control panels as slots 1-5.<P>
<A NAME=HEADING286-22></A>
<H5>SEE ALSO</H5>
 <A HREF=NetworkingWOT-42.html#MARKER-9-37>"Obtaining Port Information"</A>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-285.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-287.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
