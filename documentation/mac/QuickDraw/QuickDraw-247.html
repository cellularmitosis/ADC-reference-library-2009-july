<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>NewPixPat (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING247></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-246.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-248.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-197.html"><B>Chapter 4 - Color QuickDraw</B></A> / <A HREF="QuickDraw-200.html"><B>Color QuickDraw Reference</B></A><BR><DL><DD><A HREF="QuickDraw-211.html"><B>Color QuickDraw Routines</B></A> / <A HREF="QuickDraw-245.html"><B>Creating and Disposing of Pixel Patterns</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING247-0></A>
<H3><A NAME=MARKER-9-521></A>NewPixPat</H3>
 <A NAME=MARKER-11-523></A><A NAME=MARKER-11-523></A><A NAME=MARKER-2-521></A>Although you should generally create a pixel pattern in a <CODE>'ppat'</CODE> resource and retrieve it with the <CODE>GetPixPat</CODE> function, you can use the <CODE>NewPixPat</CODE> function to create a new pixel pattern. <P>
<PRE>
FUNCTION NewPixPat: PixPatHandle; 
</PRE>
<A NAME=HEADING247-3></A>
<H5>DESCRIPTION</H5>
 The <CODE>NewPixPat</CODE> function creates a new <CODE>PixPat</CODE> record (described on <A HREF=QuickDraw-208.html#MARKER-9-283>page 4-49</A>) and returns a handle to it. This function calls the <CODE>NewPixMap</CODE> function to allocate the pattern's <CODE>PixMap</CODE> record (described on <A HREF=QuickDraw-202.html#MARKER-9-165>page 4-37</A>) and initialize it to the same settings as the pixel map of the current <CODE>GDevice</CODE> record--that is, as stored in the <CODE>gdPMap</CODE> field of the global variable <CODE>TheGDevice</CODE>. This function also sets the <CODE>pat1Data</CODE> field of the new <CODE>PixPat</CODE> record to a 50 percent gray pattern. <CODE>NewPixPat</CODE> allocates new handles for the <CODE>PixPat</CODE> record's data, expanded data, expanded map, and color table but does not initialize them; instead, your application must initialize them.<P>
 Set the <CODE>rowBytes</CODE>, <CODE>bounds</CODE>, and <CODE>pixelSize</CODE> fields of the pattern's <CODE>PixMap</CODE> record to the dimensions of the desired pattern. The <CODE>rowBytes</CODE> value should be equal to <P>
 (width of bounds)  <CODE>pixelSize</CODE>/8<P>
 The <CODE>rowBytes</CODE> value need not be even. The width and height of the bounds must be a power of 2. Each scan line of the pattern must be at least 1 byte in length--that is, ([width of bounds]  <CODE>pixelSize</CODE>) must be at least 8.<P>
 Your application can explicitly specify the color corresponding to each pixel value with a color table. The color table for the pattern must be placed in the <CODE>pmTable</CODE> field in the pattern's <CODE>PixMap</CODE> record.<P>
 Including the <CODE>PixPat</CODE> record itself, <CODE>NewPixPat</CODE> allocates a total of five handles. The sizes of the handles to the <CODE>PixPat</CODE> and <CODE>PixMap</CODE> records are the sizes of their respective data structures. The other three handles are initially small in size. Once the pattern is drawn, the size of the expanded data is proportional to the size of the pattern data, but adjusted to the depth of the screen. The color table size is the size of the record plus 8 bytes times the number of colors in the table.<P>
 When you are finished using the pixel pattern, use the <CODE>DisposePixPat</CODE> procedure, which is described on <A HREF=QuickDraw-250.html#MARKER-9-536>page 4-82</A>, to make the memory used by the pixel pattern available again.<P>
<A NAME=HEADING247-11></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>NewPixPat</CODE> function may move or purge memory blocks in the application heap. Your application should not call this function at interrupt time.<A NAME=MARKER-2-262></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-246.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-248.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
