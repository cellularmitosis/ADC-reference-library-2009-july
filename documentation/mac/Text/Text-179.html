<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>MyRlDirProc(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING179></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-178.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-180.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-126.html"><B>Chapter 3 - QuickDraw Text</B></A> / <A HREF="Text-143.html"><B>QuickDraw Text Reference</B></A><BR><DL><DD><A HREF="Text-178.html"><B>Application-Supplied Routine</B></A> / <A HREF="Text-175.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING179-0></A>
<H3>MyRlDirProc</H3>
 The <CODE>MyRlDirProc</CODE> function is a callback routine that you supply for use by the <CODE><A NAME=MARKER-2-815></A>GetFormatOrder</CODE> procedure. The <CODE>MyRlDirProc</CODE> function is a Boolean function that calculates, for a style run identified by number, the direction of that style run. Your routine returns <CODE>TRUE</CODE> for right-to-left text direction, <CODE>FALSE</CODE> for left-to-right. <CODE>MyRlDirProc</CODE> is pointed to by the <CODE>rlDirProc</CODE> parameter of <CODE>GetFormatOrder</CODE>.<P>
<PRE>
FUNCTION MyRlDirProc (theFormat: Integer; 
                      dirParam: Ptr): Boolean;
</PRE>
<DL>
<DT><CODE>theFormat</CODE>
<DD> A value that identifies the style run whose direction is needed.
<DT><CODE>dirParam</CODE>
<DD> A pointer to an application-defined parameter block that contains the font and script information for each style run in the text. The contents of this parameter block are used to determine the direction of the style run. Because of the relationship between the font family ID and the script code, the font family ID can be used to determine the text direction.
</DL>
<A NAME=HEADING179-5></A>
<H5>DESCRIPTION</H5>
 To fill the ordering array (type <CODE>FormatOrder</CODE>) for style runs on a line, the <CODE>GetFormatOrder</CODE> procedure calls <CODE>MyRlDirProc</CODE> for each style run numbered from <CODE>firstFormat</CODE> to <CODE>lastFormat</CODE>. <CODE>GetFormatOrder</CODE> passes <CODE>MyRlDirProc</CODE> a number identifying the style run in storage order, and a pointer to the parameter information block, <CODE>dirParam</CODE>, that contains the font and style information for the style run. Given <CODE>dirParam</CODE> and a style run identifier, the application-defined <CODE>MyRlDirProc</CODE> routine should be able to determine the style run direction.<P>
 You should store your style run information in a way that makes it convenient for <CODE>MyRLDirProc</CODE>. One obvious way to do this is to declare a record type for style runs that allows you to save things like font style, font family ID, script number, and so forth. You then can store these records in an array. When the time comes for <CODE>GetFormatOrder</CODE> to fill the ordering array, <CODE>MyRlDirProc</CODE> can consult the style run array for direction information for each of the numbered style runs in turn.<P>
 For more information, see <A HREF=Text-168.html#MARKER-9-338>"GetFormatOrder" on page 3-84</A>.<A NAME=MARKER-2-909></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-178.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-180.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
