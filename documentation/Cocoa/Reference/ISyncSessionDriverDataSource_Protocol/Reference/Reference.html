<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>ISyncSessionDriverDataSource Protocol Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="ISyncSessionDriverDataSource Protocol Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004601-CH3" title="ISyncSessionDriverDataSource"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Cocoa/index.html#//apple_ref/doc/uid/TP30001281-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../../reference/Cocoa/idxSyncing-date.html#//apple_ref/doc/uid/TP30001281-TP30000416-TP40001899" target="_top">Syncing</a> &gt; <a href="../index.html" target="_top">ISyncSessionDriverDataSource Protocol Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/intf/ISyncSessionDriverDataSource" title="ISyncSessionDriverDataSource"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_13" title="ISyncSessionDriverDataSource"></a><h1>ISyncSessionDriverDataSource Protocol Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/<a href="../../SyncServicesRef_ObjC/index.html#//apple_ref/doc/uid/TP40001177" target="_top">SyncServices.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Available in Mac OS X v10.5 and later.</div></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">ISyncSessionDriver.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_1" title="Overview"></a><h2>Overview</h2><p class="spaceabove">The <code>ISyncSessionDriverDataSource</code> protocol defines a set of methods that the data source of an <code>ISyncSessionDriver</code> object must implement. This document also includes optional informal protocol methods that a data source can implement.</p><p>A data source must implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/clientIdentifier">clientIdentifier</a></code> and <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/clientDescriptionURL">clientDescriptionURL</a></code> methods in order for a driver to create an <code>ISyncClient</code> object. A data source must implement <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">preferredSyncModeForEntityName:</a></code> to request a sync mode—for example, a slow sync when an application doesn't have information on changes since the last sync. However, as with any sync session, the sync engine decides on the actual sync mode used, which depends on many other factors.</p><p>A data source also needs to implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/recordsForEntityName:moreComing:error:">recordsForEntityName:moreComing:error:</a></code> method to support slow syncing, and optionally, implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changedRecordsForEntityName:moreComing:error:">changedRecordsForEntityName:moreComing:error:</a></code> or <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:">changesForEntityName:moreComing:error:</a></code> methods to support fast syncing. All of these pushing methods allow you to batch records and changes.</p><p>Similarly, the data source must implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:">applyChange:forEntityName:remappedRecordId:formattedRecord:error:</a></code> and <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/deleteAllRecordsForEntityName:error:">deleteAllRecordsForEntityName:error:</a></code> methods to apply changes during the pulling phase of a sync session.</p><p>Optional methods include <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToSync">entityNamesToSync</a></code> and <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToPull">entityNamesToPull</a></code> which can return a subset of the entities used by the client. The default is to push and pull records for all the entities provided in the client description.</p><p>You should use sync anchors to improve performance and avoid serious errors. A sync anchor is an object that is unique per client and per entity, that is saved periodically throughout a sync session. The sync engine compares the clients locally stored sync anchors with its copies to determine the next sync mode. For example, if there is a discrepancy in sync anchors, the client must slow sync. Read <em><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/index.html#//apple_ref/doc/uid/TP40004414" target="_top">ISyncSession Class Reference</a></em> for details.</p><p>To use sync anchors, implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/lastAnchorForEntityName:">lastAnchorForEntityName:</a></code> method to return the previous sync anchor for the specified entity, and implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/nextAnchorForEntityName:">nextAnchorForEntityName:</a></code> method to return the new sync anchor for the specified entity. It is your responsibility to save the sync anchors returned by the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/nextAnchorForEntityName:">nextAnchorForEntityName:</a></code> method locally, and return them in a subsequent call to the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/lastAnchorForEntityName:">lastAnchorForEntityName:</a></code> method during the next sync session. Although these methods are optional, if you implement one, you must implement the other.</p><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_6" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_7" title="Getting Client Information"></a>
		<h3 class="tasks">Getting Client Information</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/clientIdentifier">&#8211;&#xA0;clientIdentifier</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the client’s unique identifier specified when registering the client.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/clientDescriptionURL">&#8211;&#xA0;clientDescriptionURL</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an NSURL object representing the path to the client description property list.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/schemaBundleURLs">&#8211;&#xA0;schemaBundleURLs</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an array containing NSURL objects representing the path to schemas this client uses.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToSync">&#8211;&#xA0;entityNamesToSync</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an array of NSString objects representing the names of entities this client wants to sync.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToPull">&#8211;&#xA0;entityNamesToPull</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an array of NSString objects representing the names of entities this client wants to pull.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/sessionBeginTimeout">&#8211;&#xA0;sessionBeginTimeout</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the time, in seconds, that the client is willing to wait for a sync session to begin.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/sessionPullChangesTimeout">&#8211;&#xA0;sessionPullChangesTimeout</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the time, in seconds, that the client is willing to wait for a sync session to mingle—that is, prepare to pull changes.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_8" title="Negotiating"></a>
		<h3 class="tasks">Negotiating</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">&#8211;&#xA0;preferredSyncModeForEntityName:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the client&#8217;s preferred sync mode for the session.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_9" title="Pulling"></a>
		<h3 class="tasks">Pulling</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:">&#8211;&#xA0;applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Applies the given changes to a client&#8217;s record during the pulling phase of a sync session.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/deleteAllRecordsForEntityName:error:">&#8211;&#xA0;deleteAllRecordsForEntityName:error:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Deletes all records for the specified entity.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_10" title="Pushing"></a>
		<h3 class="tasks">Pushing</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/recordsForEntityName:moreComing:error:">&#8211;&#xA0;recordsForEntityName:moreComing:error:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns records for the given entity name that should be pushed to the sync engine during a slow sync.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changedRecordsForEntityName:moreComing:error:">&#8211;&#xA0;changedRecordsForEntityName:moreComing:error:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns changed records for the given entity name that should be pushed to the sync engine during a fast sync.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:">&#8211;&#xA0;changesForEntityName:moreComing:error:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the changes to records that should be pushed to the sync engine during a fast sync.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/identifiersForRecordsToDeleteForEntityName:moreComing:error:">&#8211;&#xA0;identifiersForRecordsToDeleteForEntityName:moreComing:error:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the record identifiers for deleted records that should be pushed to the sync engine during a fast sync.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_11" title="Using Sync Anchors"></a>
		<h3 class="tasks">Using Sync Anchors</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/lastAnchorForEntityName:">&#8211;&#xA0;lastAnchorForEntityName:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the last sync anchor for the specified entity name.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/nextAnchorForEntityName:">&#8211;&#xA0;nextAnchorForEntityName:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the next sync anchor for the specified entity name.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_12" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:" title="applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW9" title="applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_16"></a><h3 class="verytight">applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:</h3><p class="spaceabove">Applies the given changes to a client's record during the pulling phase of a sync session.</p><p class="spaceabovemethod">- (<a href="../../SyncServicesFramework/Miscellaneous/SyncServices_Constants/Reference/reference.html#//apple_ref/doc/c_ref/ISyncSessionDriverChangeResult" target="_top">ISyncSessionDriverChangeResult</a>)applyChange:(<a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ISyncChange" target="_top">ISyncChange</a> *)<em>change</em> forEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em> remappedRecordIdentifier:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> **)<em>outRecordIdentifier</em> formattedRecord:(<a href="../../Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> **)<em>outRecord</em> error:(<a href="../../Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSError" target="_top">NSError</a> **)<em>outError</em></p><h5 class="tight">Discussion</h5><p>This method applies the changes from the truth database to the local copy of the record. The <em>change</em> parameter is an <code>ISyncChange</code> object that describes the changes to a record since the last sync.</p><p>If the change is of type <code><a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncChangeTypeDelete" target="_top">ISyncChangeTypeDelete</a></code>, then the <em>outRecordIdentifier</em> and <em>outRecord</em> parameters are ignored. Otherwise, they may be used to pass back additional information to the driver.</p><p>If the change is of type <code><a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncChangeTypeAdd" target="_top">ISyncChangeTypeAdd</a></code> or <code><a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncChangeTypeModify" target="_top">ISyncChangeTypeModify</a></code> and this method accepts the change, then it may set the value referenced by <em>outRecordIdentifier</em> to an alternate local record identifier. The sync engine uses the returned local record identifier when communicating future changes.</p><p>If the change is of type <code><a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncChangeTypeAdd" target="_top">ISyncChangeTypeAdd</a></code> or <code><a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncChangeTypeModify" target="_top">ISyncChangeTypeModify</a></code> and this method accepts the change, then it may specify an alternate format by setting the value referenced by <em>outRecord</em> to the new format. See <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:" target="_top">clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier: </a></code> for more details on formatting records.</p><p>This method returns <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverChangeAccepted">ISyncSessionDriverChangeAccepted</a></code> if the change is accepted (successfully applied),  <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverChangeRefused">ISyncSessionDriverChangeRefused</a></code> if it is refused, and <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverChangeIgnored">ISyncSessionDriverChangeIgnored</a></code> if it is neither accepted nor refused. If a client refuses a change, the sync engine does not send the same change during any subsequent syncs unless the record is modified.</p><p>If an error occurs, this method returns <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverChangeError">ISyncSessionDriverChangeError</a></code> and sets <em>outError</em> to an NSError object that describes the error. If this method returns <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverChangeError">ISyncSessionDriverChangeError</a></code>, the <code>ISyncSessionDriver</code> object that invoked this method cancels the sync session.</p><p>This method is invoked by the driver during the pulling phase of a sync session, after pushing records. </p><p>This method is required.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:" target="_top">&#8211;&#xA0;clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:</a></code> (<code>ISyncSession</code>)</li><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:" target="_top">&#8211;&#xA0;clientRefusedChangesForRecordWithIdentifier:</a></code> (<code>ISyncSession</code>)</li></ul><h5 class="tight">Declared In</h5><code>ISyncSessionDriver.h</code><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changedRecordsForEntityName:moreComing:error:" title="changedRecordsForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW7" title="changedRecordsForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_17"></a><h3 class="verytight">changedRecordsForEntityName:moreComing:error:</h3><p class="spaceabove">Returns changed records for the given entity name that should be pushed to the sync engine during a fast sync.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)changedRecordsForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em> moreComing:(BOOL *)<em>moreComing</em> error:(<a href="../../Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSError" target="_top">NSError</a> **)<em>outError</em></p><h5 class="tight">Discussion</h5><p>Returns a dictionary where the keys are record identifiers and the values are dictionary records that you want to push during a fast sync. The dictionary records must be suitable for pushing to the sync engine and belong to the entity specified by <em>entityName</em>. A dictionary record contains the properties of a record that you want to sync. All dictionary records must contain a value for the <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncRecordEntityNameKey" target="_top">ISyncRecordEntityNameKey</a></code> key that identifies the record’s entity. This method returns an empty dictionary if there are no records to push for this entity.</p><p>The <em>moreComing</em> parameter is used to batch records. If this method sets the value referenced by <em>moreComing</em> to <code>YES</code>, then this method is invoked repeatedly during the pushing phase of a sync session until <em>moreComing</em> is set to <code>NO</code>.</p><p>Because this method is invoked during a fast sync, it returns only records that changed since the last sync session. If this method batches the records, all changes should be returned by multiple invocations of this method before <em>moreComing</em> is set to <code>NO</code>. The sync engine compares each dictionary record with the previous version to determine which properties changed. Use the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:">changesForEntityName:moreComing:error:</a></code> method instead if you know which properties changed.</p><p>If an error occurs, this method returns <code>nil</code> and sets <em>outError</em> to an NSError object that describes the error. If this method returns <code>nil</code>, the <code>ISyncSessionDriver</code> object that invoked this method cancels the sync session.</p><p>This method is invoked by the driver during the pushing phase of a sync session, before pulling records. A data source of an <code>ISyncSessionDriver</code> object is required to implement this method or the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:">changesForEntityName:moreComing:error:</a></code> method if it requests a fast sync—that is, if the  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">preferredSyncModeForEntityName:</a></code> method may return <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverModeFast">ISyncSessionDriverModeFast</a></code>.</p><p>This method is optional.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:">&#8211;&#xA0;changesForEntityName:moreComing:error:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">&#8211;&#xA0;preferredSyncModeForEntityName:</a></code></li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:" title="changesForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW4" title="changesForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_18"></a><h3 class="verytight">changesForEntityName:moreComing:error:</h3><p class="spaceabove">Returns the changes to records that should be pushed to the sync engine during a fast sync.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)changesForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em> moreComing:(BOOL *)<em>moreComing</em> error:(<a href="../../Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSError" target="_top">NSError</a> **)<em>outError</em></p><h5 class="tight">Discussion</h5><p>Returns an array of <code>ISyncChange</code> objects describing the changes made to records since the last sync session. The array should only contain changes to records belonging to the entity specified by <em>entityName</em>. Returns an empty array if there are no changes to push for this entity.</p><p>The <em>moreComing</em> parameter is used to batch changes. If this method sets the value referenced by <em>moreComing</em> to <code>YES</code>, then this method is invoked repeatedly during the pushing phase of a sync session until <em>moreComing</em> is set to <code>NO</code>.</p><p>Because this method is invoked during a fast sync, it should return all changes since the last sync session. If this method batches the records, all changed records should be returned by multiple invocations of this method before <em>moreComing</em> is set to <code>NO</code>. Use the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changedRecordsForEntityName:moreComing:error:">changedRecordsForEntityName:moreComing:error:</a></code> method instead if you don't know which properties changed.</p><p>If an error occurs, this method returns <code>nil</code> and sets <em>outError</em> to an NSError object that describes the error. If this method returns <code>nil</code>, the <code>ISyncSessionDriver</code> object that invoked this method cancels the sync session.</p><p>This method is invoked by the driver during the pushing phase of a sync session, before pulling records. A data source of an <code>ISyncSessionDriver</code> object is required to implement this method or the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changedRecordsForEntityName:moreComing:error:">changedRecordsForEntityName:moreComing:error:</a></code> method if it requests a fast sync—that is, if the  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">preferredSyncModeForEntityName:</a></code> method may return <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverModeFast">ISyncSessionDriverModeFast</a></code>.</p><p>This method is optional.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changedRecordsForEntityName:moreComing:error:">&#8211;&#xA0;changedRecordsForEntityName:moreComing:error:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">&#8211;&#xA0;preferredSyncModeForEntityName:</a></code></li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/clientDescriptionURL" title="clientDescriptionURL"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW10" title="clientDescriptionURL"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_19"></a><h3 class="verytight">clientDescriptionURL</h3><p class="spaceabove">Returns an NSURL object representing the path to the client description property list.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSURL_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSURL" target="_top">NSURL</a> *)clientDescriptionURL</p><h5 class="tight">Discussion</h5><p>The client description property list specifies client information that the sync engine needs to know to sync its records. See <em><a href="../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for a complete description of the client description file. </p><p>This method is required.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncManager_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncManager/registerClientWithIdentifier:descriptionFilePath:" target="_top">&#8211;&#xA0;registerClientWithIdentifier:descriptionFilePath:</a></code> (<code>ISyncManager</code>)</li></ul><h5 class="tight">Declared In</h5><code>ISyncSessionDriver.h</code><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/clientIdentifier" title="clientIdentifier"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW3" title="clientIdentifier"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_20"></a><h3 class="verytight">clientIdentifier</h3><p class="spaceabove">Returns the client’s unique identifier specified when registering the client.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)clientIdentifier</p><h5 class="tight">Discussion</h5><p>There are no restrictions on the content or length of the client identifier, but it must be unique across all clients. Typically, it’s a DNS-style name such as <code>com.apple.iCal</code>. </p><p>This method is required.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncManager_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncManager/registerClientWithIdentifier:descriptionFilePath:" target="_top">&#8211;&#xA0;registerClientWithIdentifier:descriptionFilePath:</a></code> (<code>ISyncManager</code>)</li></ul><h5 class="tight">Declared In</h5><code>ISyncSessionDriver.h</code><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/deleteAllRecordsForEntityName:error:" title="deleteAllRecordsForEntityName:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW12" title="deleteAllRecordsForEntityName:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_21"></a><h3 class="verytight">deleteAllRecordsForEntityName:error:</h3><p class="spaceabove">Deletes all records for the specified entity.</p><p class="spaceabovemethod">- (BOOL)deleteAllRecordsForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em> error:(<a href="../../Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSError" target="_top">NSError</a> **)<em>outError</em></p><h5 class="tight">Discussion</h5><p>Returns <code>YES</code> if the request to delete all records belonging to the entity specified by <em>entityName</em> is accepted, otherwise <code>NO</code>. This method only returns <code>NO</code> and sets <em>outError</em> to an NSError object that describes the error if a serious error occurred deleting all records.</p><p>This method is required.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>ISyncSessionDriver.h</code><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToPull" title="entityNamesToPull"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW14" title="entityNamesToPull"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_22"></a><h3 class="verytight">entityNamesToPull</h3><p class="spaceabove">Returns an array of NSString objects representing the names of entities this client wants to pull.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)entityNamesToPull</p><h5 class="tight">Discussion</h5><p>Optionally implement this method to return the names of the entities to pull that must be a subset of the entity names returned by the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToSync">entityNamesToSync</a></code> method. If this method is not implemented, the sync session pulls the entities returned by the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToSync">entityNamesToSync</a></code> method. Returns an empty array if this client doesn't want to pull any entities.</p><p>This method is optional.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToSync">&#8211;&#xA0;entityNamesToSync</a></code></li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToSync" title="entityNamesToSync"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW6" title="entityNamesToSync"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_23"></a><h3 class="verytight">entityNamesToSync</h3><p class="spaceabove">Returns an array of NSString objects representing the names of entities this client wants to sync.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)entityNamesToSync</p><h5 class="tight">Discussion</h5><p>Returns an empty array if this client doesn't want to sync any entities. The sync session pushes and pulls the entities returned by this method unless an alternate set of entities is specified by the optional <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToPull">entityNamesToPull</a></code> method. If this method is not implemented, the driver syncs all enabled entities contained in the client description property list. </p><p>This method is optional.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/entityNamesToPull">&#8211;&#xA0;entityNamesToPull</a></code></li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/identifiersForRecordsToDeleteForEntityName:moreComing:error:" title="identifiersForRecordsToDeleteForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_5" title="identifiersForRecordsToDeleteForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_24"></a><h3 class="verytight">identifiersForRecordsToDeleteForEntityName:moreComing:error:</h3><p class="spaceabove">Returns the record identifiers for deleted records that should be pushed to the sync engine during a fast sync.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)identifiersForRecordsToDeleteForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em> moreComing:(BOOL *)<em>moreComing</em> error:(<a href="../../Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSError" target="_top">NSError</a> **)<em>outError</em></p><h5 class="tight">Discussion</h5><p>Returns an array of NSString objects representing the record identifiers of records that the client deleted since the last sync. The array should contain only identifiers of deleted records belonging to the entity specified by <em>entityName</em>. This method is invoked during a fast sync only. Returns an empty array if there are no deleted records to push for this entity.</p><p>The <em>moreComing</em> parameter is used to batch changes. If this method sets the value referenced by <em>moreComing</em> to <code>YES</code>, then this method is invoked repeatedly during the pushing phase of a sync session until <em>moreComing</em> is set to <code>NO</code>.</p><p>Alternatively, you can implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changedRecordsForEntityName:moreComing:error:">changedRecordsForEntityName:moreComing:error:</a></code> method using the<code><a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncChangeTypeDelete" target="_top">ISyncChangeTypeDelete</a></code> constant to denote a deleted record.</p><p>If an error occurs, this method returns <code>nil</code> and sets <em>outError</em> to an NSError object that describes the error. If this method returns <code>nil</code>, the <code>ISyncSessionDriver</code> object that invoked this method cancels the sync session.</p><p>This method is invoked by the driver during the pushing phase of a sync session, before pulling records. A data source of an <code>ISyncSessionDriver</code> object can optionally implement this method or the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:">changesForEntityName:moreComing:error:</a></code> method using the<code><a href="../../SyncServicesFramework/Classes/ISyncChange_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncChangeTypeDelete" target="_top">ISyncChangeTypeDelete</a></code> constant to denote a deleted record.</p><p>This method is optional.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/changesForEntityName:moreComing:error:">&#8211;&#xA0;changesForEntityName:moreComing:error:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">&#8211;&#xA0;preferredSyncModeForEntityName:</a></code></li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/lastAnchorForEntityName:" title="lastAnchorForEntityName:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW2" title="lastAnchorForEntityName:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_25"></a><h3 class="verytight">lastAnchorForEntityName:</h3><p class="spaceabove">Returns the last sync anchor for the specified entity name.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)lastAnchorForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>entityName</em></dt><dd><p>An entity name.</p></dd></dl><h5 class="tight">Return Value</h5><p>A sync anchor corresponding to the entity name that was saved locally and returned by the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/nextAnchorForEntityName:">nextAnchorForEntityName:</a></code> method in the previous sync session. </p><h5 class="tight">Discussion</h5><p>This method is invoked immediately after a sync session is created and before pushing records. This method is optional. However, if you implement this method you must also implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/nextAnchorForEntityName:">nextAnchorForEntityName:</a></code> method.</p><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/nextAnchorForEntityName:">&#8211;&#xA0;nextAnchorForEntityName:</a></code></li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/nextAnchorForEntityName:" title="nextAnchorForEntityName:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW5" title="nextAnchorForEntityName:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_26"></a><h3 class="verytight">nextAnchorForEntityName:</h3><p class="spaceabove">Returns the next sync anchor for the specified entity name.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)nextAnchorForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>entityName</em></dt><dd><p>An entity name.</p></dd></dl><h5 class="tight">Return Value</h5><p>A new sync anchor corresponding to the entity name that is saved locally. </p><p>Sync anchors must be globally unique <code>NSString</code> objects. Typically, sync anchors contain a UUID or date.</p><h5 class="tight">Discussion</h5><p>This method is invoked once per entity name after pushing records just before mingling, and once per entity name after pulling records just before accepting changes. This method is optional. However, if you implement this method you must also implement the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/lastAnchorForEntityName:">lastAnchorForEntityName:</a></code> method.</p><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/lastAnchorForEntityName:">&#8211;&#xA0;lastAnchorForEntityName:</a></code></li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:" title="preferredSyncModeForEntityName:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW1" title="preferredSyncModeForEntityName:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_27"></a><h3 class="verytight">preferredSyncModeForEntityName:</h3><p class="spaceabove">Returns the client's preferred sync mode for the session.</p><p class="spaceabovemethod">- (<a href="../../SyncServicesFramework/Miscellaneous/SyncServices_Constants/Reference/reference.html#//apple_ref/doc/c_ref/ISyncSessionDriverMode" target="_top">ISyncSessionDriverMode</a>)preferredSyncModeForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entity</em></p><h5 class="tight">Discussion</h5><p>Returns one of these constants that specifies the preferred sync mode for this client: <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverModeFast">ISyncSessionDriverModeFast</a></code>, <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverModeSlow">ISyncSessionDriverModeSlow</a></code>, and <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionDriverModeRefresh">ISyncSessionDriverModeRefresh</a></code>. This method is invoked by the driver during the negotiation phase of a sync session, before pushing records.</p><p>This method is required.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:" target="_top">&#8211;&#xA0;clientDidResetEntityNames: </a></code> (<code>ISyncSession</code>)</li><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/clientWantsToPushAllRecordsForEntityNames:" target="_top">&#8211;&#xA0;clientWantsToPushAllRecordsForEntityNames: </a></code> (<code>ISyncSession</code>)</li><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushChangesForEntityName:" target="_top">&#8211;&#xA0;shouldPushChangesForEntityName: </a></code> (<code>ISyncSession</code>)</li><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:" target="_top">&#8211;&#xA0;shouldPushAllRecordsForEntityName: </a></code> (<code>ISyncSession</code>)</li><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPullChangesForEntityName:" target="_top">&#8211;&#xA0;shouldPullChangesForEntityName: </a></code> (<code>ISyncSession</code>)</li><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/shouldReplaceAllRecordsOnClientForEntityName:" target="_top">&#8211;&#xA0;shouldReplaceAllRecordsOnClientForEntityName: </a></code> (<code>ISyncSession</code>)</li></ul><h5 class="tight">Declared In</h5><code>ISyncSessionDriver.h</code><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/recordsForEntityName:moreComing:error:" title="recordsForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW11" title="recordsForEntityName:moreComing:error:"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_28"></a><h3 class="verytight">recordsForEntityName:moreComing:error:</h3><p class="spaceabove">Returns records for the given entity name that should be pushed to the sync engine during a slow sync.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)recordsForEntityName:(<a href="../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em> moreComing:(BOOL *)<em>moreComing</em> error:(<a href="../../Foundation/Classes/NSError_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSError" target="_top">NSError</a> **)<em>outError</em></p><h5 class="tight">Discussion</h5><p>Returns a dictionary where the keys are record identifiers and the values are dictionary records that you want to push. The dictionary records must be suitable for pushing to the sync engine and belong to the entity specified by <em>entityName</em>. A dictionary record contains the properties of a record that you want to sync. All dictionary records must contain a value for the <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/c/econst/ISyncRecordEntityNameKey" target="_top">ISyncRecordEntityNameKey</a></code> key that identifies the record’s entity. This method returns an empty dictionary if there are no records to push for this entity.</p><p>The <em>moreComing</em> parameter is used to batch records. If this method sets the value referenced by <em>moreComing</em> to <code>YES</code>, then this method is invoked repeatedly during the pushing phase of a sync session until <em>moreComing</em> is set to <code>NO</code>.</p><p>Because this method is invoked during a slow sync, it should return all records for the given entity. If this method batches the records, all records should be returned by multiple invocations of this method before <em>moreComing</em> is set to <code>NO</code>. Otherwise, the sync engine assumes you deleted the records that you did not push and data loss may result.</p><p>If an error occurs, this method returns <code>nil</code> and sets <em>outError</em> to an NSError object that describes the error. If this method returns <code>nil</code>, the <code>ISyncSessionDriver</code> object that invoked this method cancels the sync session.</p><p>This method is invoked by the driver during the pushing phase of a sync session, before pulling records. </p><p>This method is required.</p><div class="warningbox"><img src="../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_14" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;If this method does not return all the records that the client was known to have on the last sync, the sync engine assumes the record was deleted and deletes it from the truth database.</p><p></p><div class="clear"></div></div><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>ISyncSessionDriver.h</code><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/schemaBundleURLs" title="schemaBundleURLs"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_2" title="schemaBundleURLs"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_29"></a><h3 class="verytight">schemaBundleURLs</h3><p class="spaceabove">Returns an array containing NSURL objects representing the path to schemas this client uses.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)schemaBundleURLs</p><h5 class="tight">Discussion</h5><p>A schema can define new entities and properties, and extend existing entities. A schema bundle may contain other files, such as images and localization files. The returned array should contain URLs for all the schemas—including the public schemas—that this client intends to use. See <em><a href="../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for more details on the schema format and contents of a schema bundle.</p><p>This method is required.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncManager_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncManager/registerSchemaWithBundlePath:" target="_top">&#8211;&#xA0;registerSchemaWithBundlePath:</a></code> (<code>ISyncManager</code>)</li></ul><h5 class="tight">Declared In</h5><code>ISyncSessionDriver.h</code><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/sessionBeginTimeout" title="sessionBeginTimeout"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_3" title="sessionBeginTimeout"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_30"></a><h3 class="verytight">sessionBeginTimeout</h3><p class="spaceabove">Returns the time, in seconds, that the client is willing to wait for a sync session to begin.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSTimeInterval" target="_top">NSTimeInterval</a>)sessionBeginTimeout</p><h5 class="tight">Discussion</h5><p>The default value is <code>60.0</code> seconds. This method is optional.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:" target="_top">+&#xA0;beginSessionWithClient:entityNames:beforeDate:</a></code> (<code>ISyncSession</code>)</li></ul><a name="//apple_ref/occ/intfm/ISyncSessionDriverDataSource/sessionPullChangesTimeout" title="sessionPullChangesTimeout"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_4" title="sessionPullChangesTimeout"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_31"></a><h3 class="verytight">sessionPullChangesTimeout</h3><p class="spaceabove">Returns the time, in seconds, that the client is willing to wait for a sync session to mingle—that is, prepare to pull changes.</p><p class="spaceabovemethod">- (<a href="../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSTimeInterval" target="_top">NSTimeInterval</a>)sessionPullChangesTimeout</p><h5 class="tight">Discussion</h5><p>The default value is <code>600.0</code> seconds. This method is optional.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesForEntityNames:beforeDate:" target="_top">&#8211;&#xA0;prepareToPullChangesForEntityNames:beforeDate: </a></code> (<code>ISyncSession</code>)</li></ul><a name="//apple_ref/doc/uid/TP40004601-CH3-42638" title="Constants"></a><h2>Constants</h2><p class="spaceabove">Use these constants as possible return values for the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">preferredSyncModeForEntityName:</a></code> method. Read <span class="content_text"><a href="../../../Conceptual/SyncServices/Articles/SessionManagement.html#//apple_ref/doc/uid/TP40001162" target="_top">Managing Your Sync Session</a></span> in <em><a href="../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for a description of the different sync modes.</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><p><strong>Constant</strong></p></th><th scope="col" align="left"><p><strong>Description</strong></p></th></tr><tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionDriverModeFast" title="ISyncSessionDriverModeFast"></a><a name="//apple_ref/doc/c_ref/ISyncSessionDriverModeFast" title="ISyncSessionDriverModeFast"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW8" title="ISyncSessionDriverModeFast"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_32"></a><span class="content_text"><code>ISyncSessionDriverModeFast</code></span></td><td><p>Indicates that the client wants to fast sync.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>ISyncSessionDriver.h</code>.</p></td></tr><tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionDriverModeSlow" title="ISyncSessionDriverModeSlow"></a><a name="//apple_ref/doc/c_ref/ISyncSessionDriverModeSlow" title="ISyncSessionDriverModeSlow"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW17" title="ISyncSessionDriverModeSlow"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_33"></a><span class="content_text"><code>ISyncSessionDriverModeSlow</code></span></td><td><p>Indicates that the client wants to slow sync. If the client slow syncs, it needs to push every record.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>ISyncSessionDriver.h</code>.</p></td></tr><tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionDriverModeRefresh" title="ISyncSessionDriverModeRefresh"></a><a name="//apple_ref/doc/c_ref/ISyncSessionDriverModeRefresh" title="ISyncSessionDriverModeRefresh"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW18" title="ISyncSessionDriverModeRefresh"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_34"></a><span class="content_text"><code>ISyncSessionDriverModeRefresh</code></span></td><td><p>Indicates that the client wants to refresh sync. If the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/preferredSyncModeForEntityName:">preferredSyncModeForEntityName:</a></code> method returns this constant, the <code>ISyncSessionDriver</code> object sends <code><a href="../../SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:" target="_top">clientDidResetEntityNames: </a></code> to the <code>ISyncSession</code> object.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>ISyncSessionDriver.h</code>.</p></td></tr></table></div><p class="spaceabove">Use these constants as possible return values for the <code><a href="Reference.html#//apple_ref/occ/intfm/ISyncSessionDriverDataSource/applyChange:forEntityName:remappedRecordIdentifier:formattedRecord:error:">applyChange:forEntityName:remappedRecordId:formattedRecord:error:</a></code> method.</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><p><strong>Constant</strong></p></th><th scope="col" align="left"><p><strong>Description</strong></p></th></tr><tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionDriverChangeRefused" title="ISyncSessionDriverChangeRefused"></a><a name="//apple_ref/doc/c_ref/ISyncSessionDriverChangeRefused" title="ISyncSessionDriverChangeRefused"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW16" title="ISyncSessionDriverChangeRefused"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_35"></a><span class="content_text"><code>ISyncSessionDriverChangeRefused</code></span></td><td><p>Indicates the client refused the change.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>ISyncSessionDriver.h</code>.</p></td></tr><tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionDriverChangeAccepted" title="ISyncSessionDriverChangeAccepted"></a><a name="//apple_ref/doc/c_ref/ISyncSessionDriverChangeAccepted" title="ISyncSessionDriverChangeAccepted"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW15" title="ISyncSessionDriverChangeAccepted"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_36"></a><span class="content_text"><code>ISyncSessionDriverChangeAccepted</code></span></td><td><p>Indicates the client accepted the change.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>ISyncSessionDriver.h</code>.</p></td></tr><tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionDriverChangeIgnored" title="ISyncSessionDriverChangeIgnored"></a><a name="//apple_ref/doc/c_ref/ISyncSessionDriverChangeIgnored" title="ISyncSessionDriverChangeIgnored"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW19" title="ISyncSessionDriverChangeIgnored"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_37"></a><span class="content_text"><code>ISyncSessionDriverChangeIgnored</code></span></td><td><p>Indicates the client ignored the change.</p><p>Available in Mac OS X v10.5 and later.</p><p>Declared in <code>ISyncSessionDriver.h</code>.</p></td></tr><tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionDriverChangeError" title="ISyncSessionDriverChangeError"></a><a name="//apple_ref/doc/c_ref/ISyncSessionDriverChangeError" title="ISyncSessionDriverChangeError"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-SW13" title="ISyncSessionDriverChangeError"></a><a name="//apple_ref/doc/uid/TP40004601-CH3-DontLinkElementID_38"></a><span class="content_text"><code>ISyncSessionDriverChangeError</code></span></td><td><p>Indicates an error occurred while applying the change.</p><p>Declared in <code>ISyncSessionDriver.h</code>.</p><p>Available in Mac OS X v10.5 and later.</p></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Reference/ISyncSessionDriverDataSource_Protocol/Reference/Reference.html%3Fid%3DTP40004601-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Reference/ISyncSessionDriverDataSource_Protocol/Reference/Reference.html%3Fid%3DTP40004601-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Reference/ISyncSessionDriverDataSource_Protocol/Reference/Reference.html%3Fid%3DTP40004601-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>