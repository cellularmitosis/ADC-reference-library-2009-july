<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Providing PDF Workflow Options in the Print Dialog: Creating PDF Workflow Options</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating PDF Workflow Options"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000167" title="Creating PDF Workflow Options"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000432" target="_top">Printing</a> &gt; <a href="../../../Carbon-date.html#//apple_ref/doc/uid/TP30000440-TP30000432-TP30000494" target="_top">Carbon</a> &gt; <a href="../pdfwf_intro/pdfwf_intro.html#//apple_ref/doc/uid/TP30000166-TPXREF101">Providing PDF Workflow Options in the Print Dialog</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../pdfwf_intro/pdfwf_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../pdfwf_revhist/pdfwf_revhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000167-TPXREF101" title="Creating PDF Workflow Options"></a><h1>Creating PDF Workflow Options</h1><p>You can access PDF workflow options by clicking the PDF button in the Print dialog, as shown in <span class="content_text">Figure 1-1</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000167-SW1" title="Figure 1-1A Print dialog that provides PDF workflow options"></a><p><a name="//apple_ref/doc/uid/TP30000167-CJBIFGAG" title="Figure 1-1A Print dialog that provides PDF workflow options"></a><strong>Figure 1-1&nbsp;&nbsp;</strong>A Print dialog that provides PDF workflow options</p><img src = "../art/pdf_menu.jpg" alt = "A Print dialog that provides PDF workflow options" ></div><br/><p>The PDF button is always visible. When the button is pressed, the PDF pop-up menu appears. In addition to several built-in options, this menu contains a section for additional PDF workflow options. Menu options appear in this section of the menu if the system detects items in one or more of these directories:</p><ul class="ul"><li class="li"><p><code>/Library/PDF Services</code></p><p>The printing system installs several items in this directory.</p></li><li class="li"><p><code>~/Library/PDF Services</code></p><p>Users can place items in this directory. The tilde (~) character indicates the user’s home directory.</p></li><li class="li"><p><code>/Network/Library/PDF Services</code></p><p>A system administrator can place items in this directory, to make custom PDF workflow options available to many users.</p></li></ul><p>You can add workflow options to the PDF pop-up menu simply by adding items to the one of these directories. The type of item placed in the directory determines what the item does when the user selects the corresponding option from the PDF pop-up menu. For example, if the item is a folder alias, then the PDF is copied to that location. The name of the item appears as an option in the PDF pop-up menu, so it is important that the item is named appropriately.</p><p>You can place the following items in a PDF Services directory:</p><ul class="ul"><li class="li"><p>A folder</p></li><li class="li"><p>An alias to a folder</p></li><li class="li"><p>An application or an alias to an application</p></li><li class="li"><p>A UNIX tool or an alias to a UNIX tool</p></li><li class="li"><p>A compiled AppleScript file or an alias to a compiled AppleScript file</p></li><li class="li"><p>An Automator workflow</p></li></ul><p>Each item’s behavior is described in the sections that follow.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="pdfwf_concepts.html#//apple_ref/doc/uid/TP30000167-DontLinkElementID_1">Folder</a>
				
			<br/>
			
        
			
			
				<a href="pdfwf_concepts.html#//apple_ref/doc/uid/TP30000167-DontLinkElementID_2">Folder Alias</a>
				
			<br/>
			
        
			
			
				<a href="pdfwf_concepts.html#//apple_ref/doc/uid/TP30000167-DontLinkElementID_3">Application or Application Alias</a>
				
			<br/>
			
        
			
			
				<a href="pdfwf_concepts.html#//apple_ref/doc/uid/TP30000167-DontLinkElementID_4">UNIX Tool or UNIX Tool Alias</a>
				
			<br/>
			
        
			
			
				<a href="pdfwf_concepts.html#//apple_ref/doc/uid/TP30000167-DontLinkElementID_5">AppleScript File or AppleScript Alias</a>
				
			<br/>
			
        
			
			
				<a href="pdfwf_concepts.html#//apple_ref/doc/uid/TP30000167-DontLinkElementID_6">Automator Workflow</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000167-DontLinkElementID_1" title="Folder"></a><h2>Folder</h2><p>You can use a folder to add a submenu to the PDF workflow pop-up menu in the Print dialog. You should place the folder inside one of the PDF Services directories described above. A folder of this type typically contains one or more PDF workflow items. When the user displays the PDF pop-up menu, the user sees a submenu containing the workflow items in the folder.</p><p>Example:</p><p>A user creates a folder named “My Workflows”, adds a custom workflow item to the folder, and drags the folder into the <code>~/Library/PDF Services</code> directory. When the user displays the PDF pop-up menu in the Print dialog, the user sees a submenu named “My Workflows”. Inside the submenu is a PDF workflow item. If the user chooses the item, The printing system creates a PDF file and the workflow is performed.</p><a name="//apple_ref/doc/uid/TP30000167-DontLinkElementID_2" title="Folder Alias"></a><h2>Folder Alias</h2><p>A folder alias triggers a copy action. The printing system creates a PDF and then places the PDF into the resolved folder alias provided. The name of the generated PDF file is the document's title as specified by the printing application with a .pdf extension. If there is a naming conflict, the name is made unique within the folder by appending a serial number.</p><p>Example:</p><p>A user creates an alias of their iDisk Public folder and drags it to the <code>~/Library/PDF Services</code> directory. The user then renames the alias to something meaningful, such as “Copy PDF to Public Folder.” This item now appears as a choice in the PDF pop-up menu in the Print dialog. When the user chooses “Copy PDF to Public Folder" from the menu, the printing system creates a PDF file and copies it to the user’s iDisk Public folder.</p><a name="//apple_ref/doc/uid/TP30000167-DontLinkElementID_3" title="Application or Application Alias"></a><h2>Application or Application Alias</h2><p>An application or application alias triggers an open event with the spooled PDF file. It is the application's responsibility to delete the file when the user closes the PDF document. Existing applications do not know that the PDF spool file should be deleted and so the PDF file is left in the <code>/tmp</code> directory. </p><p>Example: </p><p>A user creates an alias of the Adobe Acrobat application and drags it o the <code>~/Library/PDF Services</code> directory. The user then renames the alias to something meaningful, such as “Open PDF With Acrobat.” This item now appears as a choice in the PDF pop-up menu in the Print dialog. When the user chooses “Open PDF With Acrobat” from the menu, the printing system creates a PDF file and then opens the PDF in Acrobat.</p><p>What the user can do to the PDF depends on the application. Users who want to edit PDF files, can provide an alias to Adobe Illustrator or Adobe Photoshop. Users who want to examine the PDF stream can provide an alias to a text editor such as BBEdit or TextEdit.</p><a name="//apple_ref/doc/uid/TP30000167-DontLinkElementID_4" title="UNIX Tool or UNIX Tool Alias"></a><h2>UNIX Tool or UNIX Tool Alias</h2><p>A tool is a file that is not an application and has at least one execute bit set. Tools can be written in C, Perl, Python, Bash, or using any other language that can create an executable file.</p><p>A UNIX tool or tool alias triggers an action by the tool on the PDF file. Tools are passed three parameters:</p><ul class="ul"><li class="li"><p>the title of the PDF document</p></li><li class="li"><p>a string that specifies the CUPS print options for the print job</p></li><li class="li"><p>the path to the spooled PDF file</p></li></ul><p>The tool can perform any processing based on these parameters, usually creating a new file, and then the tool should delete the spooled PDF file.</p><p>Example:</p><p>The code listing shown in <span class="content_text">Listing 1-1</span> defines a script that executes the pdfcrypt tool available from <span class="content_text"><a href="http://www.sanface.com/pdfcrypt.html " target="_blank">http://www.sanface.com/pdfcrypt.html</a></span>. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000167-DontLinkElementID_9" title="Note"></a><p><strong>Note:</strong>&nbsp;The pdfcrypt tool requires a registration fee which you must pay before you use it. It is shown here simply as an example.</p></div><p>The code in <span class="content_text">Listing 1-1</span> encrypts the PDF file with the password “snooker.” When the encrypted file is opened in Preview, the user is prompted for the password. </p><a name="//apple_ref/doc/uid/TP30000167-SW2" title="Listing 1-1Code that encrypts a PDF"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30000167-CJBBHFBI" title="Listing 1-1Code that encrypts a PDF"></a><strong>Listing 1-1&nbsp;&nbsp;</strong>Code that encrypts a PDF</p><div class="codesample"><table><tr><td scope="row"><pre>#!/bin/sh<span></span></pre></td></tr><tr><td scope="row"><pre>#<span></span></pre></td></tr><tr><td scope="row"><pre># usage: pdfcrypt title options inputfile<span></span></pre></td></tr><tr><td scope="row"><pre>#<span></span></pre></td></tr><tr><td scope="row"><pre>/usr/bin/pdfcrypt -input="$3" -output="/Users/rich/$1.pdf" -pass="snooker"<span></span></pre></td></tr><tr><td scope="row"><pre>open -a "Preview" "/Users/rich/$1.pdf"<span></span></pre></td></tr><tr><td scope="row"><pre>rm "$3"<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000167-DontLinkElementID_5" title="AppleScript File or AppleScript Alias"></a><h2>AppleScript File or AppleScript Alias</h2><p>A compiled data fork AppleScript is executed from within the printing application. The script is sent an open event with the PDF spool file as the document to be opened.</p><p>Example:</p><p>A user creates an AppleScript and saves the compiled AppleScript (or an alias to it) in the <code>~/Library/PDF Services</code> directory. The user names the AppleScript file appropriately. For the AppleScript shown in <span class="content_text">Listing 1-2</span> an appropriate name would be “Send PDF via Email” because the AppleScript file opens a new message in the Mail application and attaches the PDF file.</p><a name="//apple_ref/doc/uid/TP30000167-SW3" title="Listing 1-2An AppleScript that creates an email message and attaches a PDF file"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30000167-CJBJJIEH" title="Listing 1-2An AppleScript that creates an email message and attaches a PDF file"></a><strong>Listing 1-2&nbsp;&nbsp;</strong>An AppleScript that creates an email message and attaches a PDF file</p><div class="codesample"><table><tr><td scope="row"><pre>on open these_items<span></span></pre></td></tr><tr><td scope="row"><pre>tell application "Mail"<span></span></pre></td></tr><tr><td scope="row"><pre>set composeMessage to (make new outgoing message with properties {visible:true})<span></span></pre></td></tr><tr><td scope="row"><pre>tell composeMessage<span></span></pre></td></tr><tr><td scope="row"><pre>tell content<span></span></pre></td></tr><tr><td scope="row"><pre>repeat with aFile in these_items<span></span></pre></td></tr><tr><td scope="row"><pre>make new attachment with properties {file name:aFile} at before the first character<span></span></pre></td></tr><tr><td scope="row"><pre>end repeat<span></span></pre></td></tr><tr><td scope="row"><pre>end tell<span></span></pre></td></tr><tr><td scope="row"><pre>end tell<span></span></pre></td></tr><tr><td scope="row"><pre>end tell<span></span></pre></td></tr><tr><td scope="row"><pre>end open<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000167-DontLinkElementID_6" title="Automator Workflow"></a><h2>Automator Workflow</h2><p>Introduced in Mac OS X v10.4, the Automator application makes it easy to automate repetitive tasks. Automator lets you skip the programming and scripting that is sometimes required to create  workflows. Individual steps called actions can be assembled into a complete task by dragging items into an Automator workflow pane. When the workflow executes, data is piped from one action to the next until the desired result is achieved. For more information about developing Automator workflows, see <em><a href="../../../../AppleApplications/Conceptual/AutomatorConcepts/index.html#//apple_ref/doc/uid/TP40001450" target="_top">Automator Programming Guide</a></em>.</p><p>Example:</p><p>A user launches Automator and selects PDF in the Library list. The Action list shows a set of actions which accept PDF files as input. The user drags an action such as “Watermark PDF”  into the workflow pane as the first action, and configures the action. Optionally, the user could add other actions to process the output of the first action as needed.</p><p>To save the workflow so that it appears in the Print dialog, the user can follow these steps:</p><ol class="ol"><li class="li"><p>In Automator, choose File > Save As Plug-in.</p></li><li class="li"><p>Assign a meaningful name such as “Add Watermark to PDF” to the workflow.</p></li><li class="li"><p>From the pop-up menu, choose Print Workflow and click Save.</p></li></ol><p>Automator saves the workflow as an application in the <code>~Library/PDF Services</code> folder.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../pdfwf_intro/pdfwf_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../pdfwf_revhist/pdfwf_revhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Printing/Conceptual/PDF_Workflow/pdfwf_concepts/pdfwf_concepts.html%3Fid%3DTP40000934-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Printing/Conceptual/PDF_Workflow/pdfwf_concepts/pdfwf_concepts.html%3Fid%3DTP40000934-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Printing/Conceptual/PDF_Workflow/pdfwf_concepts/pdfwf_concepts.html%3Fid%3DTP40000934-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>