<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebKit DOM Programming Topics: Using the Document Object Model From JavaScript</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Using the Document Object Model From JavaScript"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/30001237" title="Using the Document Object Model From JavaScript"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../Safari-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP30001042" target="_top">Safari</a> &gt; <a href="../index.html" target="_top">WebKit DOM Programming Topics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/AboutJavaScript.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Canvas.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/30001237-BAJGJJAH" title="Using the Document Object Model From JavaScript"></a><hr /><H1>Using the Document Object Model From JavaScript</H1><p>The JavaScript Document Object Model implements the Document Object Model (DOM) specification, developed by the World Wide Web Consortium. This specification provides a platform and language-neutral interface that allows programs and scripts to dynamically access and change the content, structure and style of a document —usually HTML or XML—by providing a structured set of objects that correspond to the document’s elements.</p><p>The Level 2 DOM specification in particular added the ability to create object trees from style sheets, and manipulate the style data of document elements.</p><p>The Document Object Model is already implemented in a wide variety of languages, most notably JavaScript. Each declaration in the JavaScript DOM was created using the Interface Definition Language (IDL) files from the W3C.</p><p>By taking advantage of the DOM, you can:</p><ul class="ul"><li class="li"><p>Rearrange sections of a document without altering their contents</p></li><li class="li"><p>Create and delete existing elements as discrete objects</p></li><li class="li"><p>Search and traverse the document tree and the subtrees of any element on the tree</p></li><li class="li"><p>Completely isolate the document’s structure from its contents</p></li></ul>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="DOM.html#//apple_ref/doc/uid/30001237-186912">Accessing a Document’s Structure with the DOM</a>
				
			<br/>
			
        
			
			
				<a href="DOM.html#//apple_ref/doc/uid/30001237-186171">Using the Document Object Model</a>
				
			<br/>
			
        
			
			
				<a href="DOM.html#//apple_ref/doc/uid/30001237-187166-BAJGCJHD">Other Resources</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/30001237-186912" title="Accessing a Document&acirc;&#128;&#153;s Structure with the DOM"></a><h2>Accessing a Document’s Structure with the DOM</h2><p>The primary function of the Document Object Model is to view, access, and change the structure of an HTML document separate from the content contained within it. You can access certain HTML elements based on their <code>id</code> identifier, or allocate arrays of elements by their tag or CSS class type. All transformations are done according to the most recent HTML specification. More importantly, they happen dynamically—any transformation will happen without reloading the page.</p><p>The DOM tree is completely comprised of JavaScript objects. Some of the fundamental and most commonly-used ones are listed in <span class="content_text">Table 1</span>.</p><a name="//apple_ref/doc/uid/30001237-186941-BAJDDEHD" title="Table 1Commonly used JavaScript DOM types"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/30001237-186941" title="Table 1Commonly used JavaScript DOM types"></a><strong>Table 1&nbsp;&nbsp;</strong>Commonly used JavaScript DOM types</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>DOM object</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th></tr><tr><td  scope="row"><p><code>document</code></p></td><td ><p>Returns the document object for the page. Represents the root node of the DOM tree, and actions on it will affect the entirety of the page.</p></td></tr><tr><td  scope="row"><p><code>element</code></p></td><td ><p>Represents an instance of most structures and sub-structures in the DOM tree. For example, a text block can be an element, and so can the entire<code> body</code> section of an HTML document.</p></td></tr><tr><td  scope="row"><p><code>nodeList</code></p></td><td ><p>A <code>nodeList</code> is equivalent to an array, but it is an array specific to storing elements. You can access items in a nodeList through common syntax like <code>myList[n]</code>, where <code>n</code> is an integer.</p></td></tr></table></div><p>There are a number of JavaScript methods specified by the DOM which allow you to access its structure. Some of the fundamental and most commonly-used ones are listed in <span class="content_text">Table 2</span>.</p><a name="//apple_ref/doc/uid/30001237-185622-BAJIJDGC" title="Table 2Commonly used JavaScript DOM methods"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/30001237-185622" title="Table 2Commonly used JavaScript DOM methods"></a><strong>Table 2&nbsp;&nbsp;</strong>Commonly used JavaScript DOM methods</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>DOM method</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Parent class(es)</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Definition</p></th></tr><tr><td  scope="row"><p><code>element </code><code>getElementById</code><code>(</code><em>id</em><code>)</code></p></td><td ><p>document, element </p></td><td ><p>Returns the element uniquely identified by its <code>id</code> identifier. </p></td></tr><tr><td  scope="row"><p><code>nodeList </code><code>getElementsByTagName</code><code>(</code><em>name</em><code>)</code></p></td><td ><p>document, element </p></td><td ><p>Returns a <code>nodeList</code> of any elements that have a given tag (such as <code>p</code> or <code>div</code>), specified by <em>name.</em></p></td></tr><tr><td  scope="row"><p><code>element </code><code>createElement</code><code>(</code><em>type</em><code>)</code></p></td><td ><p>element </p></td><td ><p>Creates an element with the type specified by <em>type</em> (such as <code>p</code> or <code>div</code>)</p></td></tr><tr><td  scope="row"><p><code>void </code><code>appendChild</code><code>(</code><em>node</em><code>)</code></p></td><td ><p>element, node </p></td><td ><p>Appends the node specified by <em>node</em> onto the receiving node or element.</p></td></tr><tr><td  scope="row"><p><code>string </code><code>style</code><code></code></p></td><td ><p>element </p></td><td ><p>Returns the style rules associated with an element, in string form. You can also use this to set the style rules, by calling something like <code>div.style.margin = "10px";</code></p></td></tr><tr><td  scope="row"><p><code>string </code><code>innerHTML</code><code></code></p></td><td ><p>element </p></td><td ><p>Returns the HTML that contains the current element and all the content within it. You can also use this to set the innerHTML of an element, by using something like <code>element.innerHTML = "&lt;p>test&lt;/p>";</code></p></td></tr><tr><td  scope="row"><p><code>void </code><code>setAttribute</code><code></code><code>(</code><em>name</em>, <em>value</em><code>)</code></p></td><td ><p>element </p></td><td ><p>Adds (or changes) an attribute of the receiving element, such as its <code>id</code> or <code>align</code> attribute.</p></td></tr><tr><td  scope="row"><p><code>string </code><code>getAttribute</code><code></code><code>(</code><em>name</em><code>)</code></p></td><td ><p>element </p></td><td ><p>Returns the value of the element attribute specified by <em>name</em>.</p></td></tr></table></div><p>The entire DOM reference can be found in <span class="content_text"><a href="DOM.html#//apple_ref/doc/uid/30001237-187166">“Other Resources.”</a></span></p><a name="//apple_ref/doc/uid/30001237-186171" title="Using the Document Object Model"></a><h2>Using the Document Object Model</h2><p>This section introduces some code examples to familiarize you with the Document Object Model.</p><p>To work with DOM code examples, you need to create a sample HTML file. The code below represents the HTML file you will use in the following examples:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;HTML><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;HEAD><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TITLE>My Sample HTML file&lt;/TITLE><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HEAD><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;BODY><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;DIV id="allMyParas" style="border-top: 1px #000 solid;"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;P id="firstParagraph"><span></span></pre></td></tr><tr><td scope="row"><pre>        This is my first paragraph.<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/P><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;P id="secondParagraph"><span></span></pre></td></tr><tr><td scope="row"><pre>        This is my second paragraph.<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/P><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/DIV><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/BODY><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HTML><span></span></pre></td></tr></table></div><p>Now that you have an HTML document to work with, you’re ready to do some DOM transformations. This first example appends a paragraph to the DOM tree, following the <code>firstParagraph</code> and<code> secondParagraph</code> elements:</p><div class="codesample"><table><tr><td scope="row"><pre>parasDiv = document.getElementById("allMyParas");<span></span></pre></td></tr><tr><td scope="row"><pre>thirdPara = document.createElement("p");<span></span></pre></td></tr><tr><td scope="row"><pre>thirdPara.setAttribute("id", "thirdParagraph");<span></span></pre></td></tr><tr><td scope="row"><pre>parasDiv.appendChild(thirdPara);<span></span></pre></td></tr></table></div><p>Of course, the paragraph has no text in it right now. Using the DOM, you can even add text to that new paragraph:</p><div class="codesample"><table><tr><td scope="row"><pre>thirdPara.innerHTML = "This is my third paragraph.";<span></span></pre></td></tr></table></div><p>You may also want to add a bottom margin to the enclosing <code>div</code> element, where there is currently only a top margin. You could do that with <code>setAttribute</code>, but you would have to copy the existing <code>style</code> attribute with <code>getAttribute</code>, append to it, and then send it back using <code>setAttribute</code>. Instead, use the <code>style</code> block:</p><div class="codesample"><table><tr><td scope="row"><pre>parasDiv.style.borderBottom = "1px #000 solid";<span></span></pre></td></tr></table></div><p>Finally, maybe you want to change the style on all the paragraph elements within the enclosing <code>div</code> element. You can use the <code>nodeList</code>-generating <code>getElementsByTagName</code> method to get an array of the paragraph elements, and then cycle through them. In this example, we’ll add a gray background to all the paragraphs:</p><div class="codesample"><table><tr><td scope="row"><pre>parasInDiv = parasDiv.getElementsByTagName("p");<span></span></pre></td></tr><tr><td scope="row"><pre>for(var i = 0; i &lt; parasInDiv.length; i++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    parasInDiv[i].style.backgroundColor = "lightgrey";<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The combination of the JavaScript Document Object Model with WebKit-based applications or Dashboard widgets is powerful. By tying these scripts to mouse events or button clicks, for example, you can create very dynamic and fluid content on your web page or within your WebKit-based applications, including Dashboard widgets.</p><a name="//apple_ref/doc/uid/30001237-187166" title="Other Resources"></a><a name="//apple_ref/doc/uid/30001237-187166-BAJGCJHD" title="Other Resources"></a><h2>Other Resources</h2><p>The following resources will help you use the JavaScript Document Object Model:</p><ul class="ul"><li class="li"><p><em><!--a target="_top" -->WebKit DOM Reference<!--/a--></em> is Apple’s reference for the JavaScript functions and properties supported by Safari and WebKit.</p></li><li class="li"><p>Mozilla <span class="content_text"><a href="http://www.mozilla.org/docs/dom/domref/" target="_blank">Gecko DOM Reference</a></span> is one of the most comprehensive references for the JavaScript DOM.</p></li></ul>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Concepts/AboutJavaScript.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="Canvas.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/SafariJSProgTopics/Tasks/DOM.html%3Fid%3DTP40001483-4.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/SafariJSProgTopics/Tasks/DOM.html%3Fid%3DTP40001483-4.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/SafariJSProgTopics/Tasks/DOM.html%3Fid%3DTP40001483-4.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
