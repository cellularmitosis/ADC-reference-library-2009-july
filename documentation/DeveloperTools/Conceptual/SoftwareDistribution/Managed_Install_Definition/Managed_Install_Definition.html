<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Software Delivery Guide: Defining a Managed Install</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Defining a Managed Install"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/10000145i-CH9" title="Defining a Managed Install"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../FilesSoftwareInstallation-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000524" target="_top">Files &amp; Software Installation</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/10000145i-CH1-DontLinkElementID_69">Software Delivery Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Component_Packages/Component_Packages.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Install_Operations/Install_Operations.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/10000145i-CH9-SW1" title="Defining a Managed Install"></a><h1>Defining a Managed Install</h1><p>With a set of component packages, you have the essential ingredients for developing an install experience for the users of your product. There are two mechanisms for creating an install experience: using metapackages and using distribution packages, described in <span class="content_text"><a href="../Overview/Overview.html#//apple_ref/doc/uid/10000145i-CH3-SW3">“Overview of Software Delivery.”</a></span></p><p>Distribution packages are a major improvement over metapackages because, using distribution packages, you can separate the configuration of a package’s payload from the definition of the install experience it provides.</p><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_73" title="Compatibility"></a><p><strong>Compatibility:</strong>&nbsp;Distribution packages can be installed only on Mac OS X v10.4–based systems. Metapackages can be installed in computers running Mac OS X v10.2 and later.</p></div><p>To support Jaguar and Panther users while at the same time providing Tiger uses the enhanced install experience distribution packages offer, you can create <strong>hybrid metapackages</strong>. These are metapackages into which you copy the distribution script from a corresponding distribution package.</p><p>As described in <span class="content_text"><a href="../Managed_Installs/Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW9">“What Is a Package?,”</a></span> an installation process is defined through four aspects of installation packages: product information, package properties, installation properties (which include system and volume requirements), and install operations. Metapackages and distribution packages add an additional aspect: <strong>install choices</strong>. Install choices allow users to customize an install to, for example, prevent the installation of a product’s tutorial component.</p><p>The following sections describe in detail how to create compelling install experiences using metapackages, distribution packages, and hybrid metapackages.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-SW12">Creating a Metapackage</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-SW13">Creating a Distribution Package</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-SW15">Creating a Hybrid Metapackage</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_21">Placing a Packaged Product in a Container</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_22">Testing the Install Experience</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/10000145i-CH9-SW12" title="Creating a Metapackage"></a><h2>Creating a Metapackage</h2><p>To create a metapackage, you perform the following tasks:</p><ol class="ol"><li class="li"><p>Create the metapackage project directory.</p></li><li class="li"><p>Create the metapackage file.</p></li></ol><p>The following sections describe these tasks in detail.</p><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_15" title="Create the Metapackage Project Directory"></a><h3>Create the Metapackage Project Directory</h3><p>To facilitate the creation of an installation package, you should create a metapackage project directory to store all the files you need in the process. The metapackage project directory contains directories that hold the product’s component packages, product information files, executable-based installation requirements, and install-operation files. <span class="content_text">Listing 6-1</span> shows a metapackage project directory.</p><a name="//apple_ref/doc/uid/10000145i-CH9-SW2" title="Listing 6-1A metapackage project directory"></a><p class="codesample"><strong>Listing 6-1&nbsp;&nbsp;</strong>A metapackage project directory</p><div class="codesample"><table><tr><td scope="row"><pre>LevonMeta-1.0.0/<span></span></pre></td></tr><tr><td scope="row"><pre>    packages/<span></span></pre></td></tr><tr><td scope="row"><pre>        Levon.pkg<span></span></pre></td></tr><tr><td scope="row"><pre>        LevonDoc.pkg<span></span></pre></td></tr><tr><td scope="row"><pre>        SharedServices.pkg<span></span></pre></td></tr><tr><td scope="row"><pre>    product_info/<span></span></pre></td></tr><tr><td scope="row"><pre>        Welcome.rtf<span></span></pre></td></tr><tr><td scope="row"><pre>        ReadMe.rtf<span></span></pre></td></tr><tr><td scope="row"><pre>        License.rtf<span></span></pre></td></tr><tr><td scope="row"><pre>        Conclusion.rtf<span></span></pre></td></tr><tr><td scope="row"><pre>    extras/<span></span></pre></td></tr><tr><td scope="row"><pre>        InstallationCheck<span></span></pre></td></tr><tr><td scope="row"><pre>        VolumeCheck<span></span></pre></td></tr><tr><td scope="row"><pre>        preflight<span></span></pre></td></tr><tr><td scope="row"><pre>        postinstall<span></span></pre></td></tr><tr><td scope="row"><pre>        postupgrade<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_16" title="Create the Metapackage File"></a><h3>Create the Metapackage File</h3><p>A metapackage project specifies the following items:</p><ul class="spaceabove"><li class="li"><p><strong>Title:</strong> The name used to identify this metapackage to the user during installation.</p></li><li class="li"><p><strong>Description:</strong> This package’s description, displayed by the Installer application in the Customization pane for an enclosing metapackage when the user highlights this metapackage.</p></li><li class="li"><p><strong>Packages directory:</strong> The directory that contains the packages this metapackage contains.</p><p>The directory may reside inside or outside the generated metapackage, depending on whether you want to discourage users from installing packages individually. If the directory resides inside the metapackage, you must copy the component packages from the packages directory in the metapackage project directory to the directory you designated as the package holder in the metapackage.</p></li><li class="li"><p><strong>Extras directory:</strong> The directory that contains executable files that specify installation requirements and install operations.</p></li></ul><p>To define a metapackage-based installation process, use PackageMaker to:</p><ol class="ol"><li class="li"><p>Create a metapackage project.</p></li><li class="li"><p>Add product information files to the project by using Installer Interface Editor.</p></li><li class="li"><p>In the metapackage project directory, identify the subdirectory that contains executable files specifying installation requirements and install operations.</p></li><li class="li"><p>Add install choices by adding the packages in the <code>packages</code> subdirectory of the project directory to the metapackage project’s packages list.</p><p>Specify the initial selection state of each choice. Choices you identify as required are selected in the Installer Custom Install pane, but the user cannot deselect them.</p></li><li class="li"><p>Build the metapackage.</p><p>If you choose to place the metapackage’s packages inside the metapackage itself (mainly to discourage the individual installation of product components), copy the packages to the appropriate directory in the generated metapackage file. (You can reveal the contents of the metapackage in the Finder using the Show Package Contents command.)</p></li></ol><a name="//apple_ref/doc/uid/10000145i-CH9-SW13" title="Creating a Distribution Package"></a><h2>Creating a Distribution Package</h2><p>Distribution packages provide a more direct, JavaScript-based mechanism for developing an install experience. One of the benefits a JavaScript-based install experience provides is the ability to update install choices dynamically, in response to a user’s choice selection. In addition, system and volume requirements are also specified using JavaScript code. Other benefits of using distribution packages are that:</p><ul class="ul"><li class="li"><p>Users can specify custom installation destinations for relocatable choices individually, rather than as a group.</p></li><li class="li"><p>Using JavaScript code virtually eliminates the need for the Installer application to display a dialog informing users that it needs to run an external program as part of the installation process.</p></li><li class="li"><p>You specify the installation requirements for a product in one place instead of across its component packages. This centralization makes it easier to set up and change a product’s requirements.</p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_74" title="Note"></a><p><strong>Note:</strong>&nbsp;When a user installs a distribution package, the <code>InstallationCheck</code> and <code>VolumeCheck</code> files in the contained packages are not executed. This is the opposite of what happens when a user installs a metapackage.</p></div><p>To create a distribution package, you perform the following tasks:</p><ol class="ol"><li class="li"><p>Create the distribution package project directory.</p></li><li class="li"><p>Create the distribution package file.</p></li></ol><p>These tasks are described in the following sections.</p><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_17" title="Create the Distribution Package Project Directory"></a><h3>Create the Distribution Package Project Directory</h3><p>The distribution package project directory contains directories that hold the product’s component packages and product information files (background image, Read Me file, and so on). <span class="content_text">Listing 6-2</span> shows a distribution package project directory.</p><a name="//apple_ref/doc/uid/10000145i-CH9-SW3" title="Listing 6-2Distribution package project directory"></a><p class="codesample"><strong>Listing 6-2&nbsp;&nbsp;</strong>Distribution package project directory</p><div class="codesample"><table><tr><td scope="row"><pre>LevonDist-1.0.0./<span></span></pre></td></tr><tr><td scope="row"><pre>    packages/<span></span></pre></td></tr><tr><td scope="row"><pre>        Levon.pkg<span></span></pre></td></tr><tr><td scope="row"><pre>        LevonDoc.pkg<span></span></pre></td></tr><tr><td scope="row"><pre>        SharedServices.pkg<span></span></pre></td></tr><tr><td scope="row"><pre>    product_info/<span></span></pre></td></tr><tr><td scope="row"><pre>        Welcome.rtf<span></span></pre></td></tr><tr><td scope="row"><pre>        ReadMe.rtf<span></span></pre></td></tr><tr><td scope="row"><pre>        License.rtf<span></span></pre></td></tr><tr><td scope="row"><pre>        Conclusion.rtf<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_18" title="Create the Distribution Package File"></a><h3>Create the Distribution Package File</h3><p>PackageMaker allows you to specify the product information, installation properties, and install choices that define a product’s installation process. Package properties and install operations are specified by each package contained in a distribution package.</p><p>As you do with metapackages, you use Installer Interface Editor to specify product information. The Requirements Editor window allows you to specify JavaScript-based installation requirements.</p><p>You create install choices using a hierarchical interface. Each install choice can have one or more packages associated with it. To create choice groups, you add choices to an existing choice.</p><p>Just as when the Installer application processes a metapackage-based custom install, when the user selects a choice in a custom install, the packages the choice represents are installed. The packages of unselected choices are not installed. However, distribution packages provide additional granularity by allowing you to specify disabled unselected choices (which the user cannot select). You can also define invisible choices (whose existence is not revealed to the user). Three attributes specify the selection and visibility state of an install choice:</p><ul class="spaceabove"><li class="li"><p><strong>Selected:</strong> Determines whether the choice is selected.</p></li><li class="li"><p><strong>Enabled:</strong> Determines whether the choice’s selected state is modifiable by the user.</p></li><li class="li"><p><strong>Visible:</strong> Determines whether the choice appears in the Installer Custom Install pane.</p></li></ul><p>You can specify initial values for each of the selection and appearance attributes. But you can also use JavaScript code to compute the initial values before Installer displays the Custom Install pane (see <span class="content_text"><a href="../Managed_Installs/Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW1">“The User Install Experience”</a></span> for more information). For example, if a component requires the presence of software that is unavailable in the installation host, you can make the install choice for that component invisible. You can also specify dynamic values for the choice attributes. This capability allows you to, for example, select or deselect options in response to the user’s actions. You can take advantage of this flexibility in products with interrelated components in which option groups provide no appropriate selection mechanism. For example, a product with a plug-in component that requires a font component could be automatically deselected when the user deselects the option that installs the font package.</p><p>These are the tasks you perform to create a distribution package:</p><ol class="ol"><li class="li"><p>Create a distribution project.</p></li><li class="li"><p>Add product information files to the project.</p></li><li class="li"><p>Specify system and volume requirements.</p><div class="importantbox"><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_75" title="Important:"></a><p><strong>Important:</strong>&nbsp;The system and volume requirements for a distribution package must include all the system and volume requirements of each of the component packages the distribution package contains.</p><p></p></div></li><li class="li"><p>Configure install choices.</p></li></ol><p>In PackageMaker, create a distribution project and perform the tasks described in the following sections.</p><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_19" title="Add Product Information Files"></a><h4>Add Product Information Files</h4><p>Use Installer Interface Editor to add project information files to the package. These files may include a background image and a Read Me file.</p><a name="//apple_ref/doc/uid/10000145i-CH9-SW14" title="Specify System and Volume Requirements"></a><h4>Specify System and Volume Requirements</h4><p>You can specify system and volume requirements using the requirements editor. You first need to add a global function to the project. When editing the function, use the requirements editor to specify an installation requirement. For example, <span class="content_text">Figure 6-1</span> shows the definition of a system requirement.</p><br/><div><a name="//apple_ref/doc/uid/10000145i-CH9-SW4" title="Figure 6-1Defining a system requirement in a distribution package"></a><p><strong>Figure 6-1&nbsp;&nbsp;</strong>Defining a system requirement in a distribution package</p><img src = "../art/pm_sreq.jpg" alt = "" ></div><br/><p>The requirements editor provides access to several system and volume properties. For example, <span class="content_text">Figure 6-2</span> shows the specification for a volume requirement.</p><br/><div><a name="//apple_ref/doc/uid/10000145i-CH9-SW5" title="Figure 6-2Defining a volume requirement in a distribution package"></a><p><strong>Figure 6-2&nbsp;&nbsp;</strong>Defining a volume requirement in a distribution package</p><img src = "../art/pm_vreq.jpg" alt = "" ></div><br/><p>Before this volume requirement can work, however, you need to modify the JavaScript code generated by the requirements editor. Modify the code as indicated in <span class="content_text">Listing 6-3</span>.</p><a name="//apple_ref/doc/uid/10000145i-CH9-SW6" title="Listing 6-3JavaScript code for a volume requirement"></a><p class="codesample"><strong>Listing 6-3&nbsp;&nbsp;</strong>JavaScript code for a volume requirement</p><div class="codesample"><table><tr><td scope="row"><pre>/* js:pkmk:start */<span></span></pre></td></tr><tr><td scope="row"><pre>function disk_space_volume_req() {<span></span></pre></td></tr><tr><td scope="row"><pre>     return  ten() ;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>/* js:pkmk:end */<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* js:pkmk:start */<span></span></pre></td></tr><tr><td scope="row"><pre>function ten() {<span></span></pre></td></tr><tr><td scope="row"><pre>    var result = false;<span></span></pre></td></tr><tr><td scope="row"><pre>    try {<span></span></pre></td></tr><tr><td scope="row"><pre class="bold">        result = my.target.kilobytesAvailable > 10;                 // Remove</pre><pre><span></span></pre></td></tr><tr><td scope="row"><pre class="bold">        result = my.target.availableKilobytes > 10*1024*1024*1024;  // Add</pre><pre><span></span></pre></td></tr><tr><td scope="row"><pre>    } catch (e) {}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if(!result) {<span></span></pre></td></tr><tr><td scope="row"><pre>        my.result.type = 'Fatal';<span></span></pre></td></tr><tr><td scope="row"><pre>        my.result.title = '';<span></span></pre></td></tr><tr><td scope="row"><pre>        my.result.message = 'This product requires 10GB of free space to operate.';<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    return result;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>/* js:pkmk:end */<span></span></pre></td></tr></table></div><p>After the functions are defined, choose them as the system requirement and volume requirement scripts in the distribution package project.</p><p>Installer checks system requirements as soon as it opens a distribution package. <span class="content_text">Figure 6-3</span> shows what users see when their systems don’t meet that requirement.</p><br/><div><a name="//apple_ref/doc/uid/10000145i-CH9-SW8" title="Figure 6-3Installer informs users of an unsatisfied system requirement"></a><p><strong>Figure 6-3&nbsp;&nbsp;</strong>Installer informs users of an unsatisfied system requirement</p><img src = "../art/installer_sreq.jpg" alt = "" ></div><br/><p>If any package in the distribution package does not specify that it’s a boot-volume-only install, Installer displays the Select Destination page. Just before displaying this page, however, Installer runs the volume requirement script against all the available volumes in the system. Volumes that do not meet the requirement are badged. When the user selects such a volume, Installer displays the failure message in the volume requirement specification, as shown in <span class="content_text">Figure 6-4</span>. The user can continue only after selecting a volume that meets the requirements.</p><br/><div><a name="//apple_ref/doc/uid/10000145i-CH9-SW9" title="Figure 6-4Installer indicates which volumes do not meet requirements"></a><p><strong>Figure 6-4&nbsp;&nbsp;</strong>Installer indicates which volumes do not meet requirements</p><img src = "../art/installer_vreq.jpg" alt = "" ></div><br/><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_20" title="Configure Install Choices"></a><h4>Configure Install Choices</h4><p>When Installer first displays the Custom Install pane, it uses the attributes that specify the initial state of each option. As the user selects or deselects choices, Installer applies the attributes that specify dynamic state to each choice.</p><p>Attribute clauses are JavaScript Boolean expressions. You can use <code>true</code>, <code>false</code>, or a Boolean expression that may include function invocations. You specify such functions as a global script of the project, similar to the way you specify installation requirements. If you use the requirements editor to generate the JavaScript code for such functions, the type of the requirement must be None.</p><div class="importantbox"><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_76" title="Important:"></a><p><strong>Important:</strong>&nbsp;Although the requirements editor is accessible when you edit attribute clauses, you must not use it. Attribute clauses are not complete JavaScript scripts, which is what the requirements editor generates. Functions for use as part of attribute clauses must be defined as global scripts in the distribution project.</p><p></p></div><p>In addition to the visibility attributes, each choice has the following properties:</p><ul class="spaceabove"><li class="li"><p><strong>Title</strong></p><p>Users see this title in the Custom Install pane.</p></li><li class="li"><p><strong>Identifier</strong></p><p>You use this identifier to access a choice’s attributes.</p></li><li class="li"><p><strong>Description</strong></p><p>Users see this description when they highlight an option in the Custom Install pane.</p></li><li class="li"><p><strong>Custom Location</strong></p><p>The initial installation destination of the choice’s packages if you want users to be able to specify a custom installation destination. Leave empty if you don’t want users to choose a different installation destination for the choice’s packages.</p></li><li class="li"><p><strong>Allow Alternate Volumes</strong></p><p>Specifies whether users can choose a volume other than the boot volume for the install.</p></li></ul><p>After adding an install choice to the distribution project, you associate one or more packages with it. The Installer application installs these packages if the choice is selected in the Custom Install pane when the user clicks Install. Otherwise, these packages are not installed. To associate a package with a choice, drag the package from a Finder window to the choice in the distribution project window, or select the choice in the project and use the Add Package command.</p><p><span class="content_text">Figure 6-5</span> shows the definition of the “Levon application” install choice for the Levon product.</p><br/><div><a name="//apple_ref/doc/uid/10000145i-CH9-SW10" title="Figure 6-5Defining an install choice for a distribution package"></a><p><strong>Figure 6-5&nbsp;&nbsp;</strong>Defining an install choice for a distribution package</p><img src = "../art/pm_choice.jpg" alt = "" ></div><br/><p>The user can choose to install the choice’s package in a location other than <code>Applications</code> on a volume other than the boot volume. This choice is also selected the first time the user sees the customization pane. However, its selection state is tied to the selection state of the “SharedServices framework” choice. If the user deselects the framework choice, the application choice becomes deselected.</p><p>You use the expression <code>choices['&lt;choice_identifier>'].&lt;attribute></code> to access the attributes of other choices. Therefore, the first part of the clause for selected attribute of the “Levon application” choice evaluates to <code>true</code> if the user selects the “SharedServices framework” choice. That is, <code>choices['sharedservices_fwk_choice'].selected</code> evaluates to <code>true</code>. The second part of the clause, <code>my.choice.selected</code>, is needed because Installer—when the user selects or deselects a choice—evaluates the attributes of all install choices except the choice the user changed.</p><p>For each of a choice’s packages, you can specify its authentication requirement and postinstall action.</p><p>After you’ve configured the install choices, build the distribution package using the PackageMaker Build command.</p><a name="//apple_ref/doc/uid/10000145i-CH9-SW15" title="Creating a Hybrid Metapackage"></a><h2>Creating a Hybrid Metapackage</h2><p>Although distribution packages are supported only on Mac OS X v10.4 and later, if your product supports Mac OS X v10.2 and v10.3, you can create a single delivery solution that works on Tiger and pre-Tiger systems. Such a solution is called a <strong>hybrid metapackage</strong>.</p><p>To create a hybrid metapackage, follow these steps:</p><ol class="ol"><li class="li"><p>Create component packages for your product’s components, as described in <span class="content_text"><a href="../Component_Packages/Component_Packages.html#//apple_ref/doc/uid/10000145i-CH7-SW1">“Packaging Product Components.”</a></span></p></li><li class="li"><p>Create a metapackage for your product, as described in <span class="content_text"><a href="Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-SW12">“Creating a Metapackage.”</a></span></p><p>Place the component packages inside the metapackage file at <code>./Contents/Packages</code>.</p></li><li class="li"><p>Create a distribution package using the same packages you used in step 1, as described in <span class="content_text"><a href="Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-SW13">“Creating a Distribution Package.”</a></span></p></li><li class="li"><p>Copy the <code>distribution.dist</code> file from the distribution package file to the <code>Contents</code> directory of the metapackage file.</p></li></ol><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_21" title="Placing a Packaged Product in a Container"></a><h2>Placing a Packaged Product in a Container</h2><p>If you do not have access to the computers of your product’s users, you must place your packaged product in a container to facilitate its delivery to your customers, as illustrated in <span class="content_text">Figure 6-6</span>. <span class="content_text"><a href="../Containers/Containers.html#//apple_ref/doc/uid/10000145i-CH4-SW4">“Product Containers”</a></span> provides information on how to place products in containers.</p><br/><div><a name="//apple_ref/doc/uid/10000145i-CH9-SW7" title="Figure 6-6Delivering a packaged product using a disk image"></a><p><strong>Figure 6-6&nbsp;&nbsp;</strong>Delivering a packaged product using a disk image</p><img src = "../art/package_distribution_flow.jpg" alt = "" ></div><br/><a name="//apple_ref/doc/uid/10000145i-CH9-DontLinkElementID_22" title="Testing the Install Experience"></a><h2>Testing the Install Experience</h2><p>Before shipping a product to users, you should ensure that the install experience is what you expect and that the product’s files are installed correctly. You should perform this test in systems that represent the systems your customers use while logged in as a nonadministrative user. In this way, you can make sure that the Installer application asks for authentication when a package requires it and that the installed component files have the appropriate ownership and access-permissions settings.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Component_Packages/Component_Packages.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Install_Operations/Install_Operations.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-07-24<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Managed_Install_Definition/Managed_Install_Definition.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Managed_Install_Definition/Managed_Install_Definition.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Managed_Install_Definition/Managed_Install_Definition.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>