<html><head><title>Mac OS X Developer Tools
 Manual Page For Tcl_VarEval(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tcl_VarEval" title="Mac OS X Developer Tools
 Manual Page for Tcl_VarEval(3tcl)"><a name="//apple_ref/doc/man/3/Tcl_VarEval" title="Mac OS X Developer Tools
 Manual Page for Tcl_VarEval(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tcl_VarEval"; name=Tcl_VarEval(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tcl_Eval(3)                                Tcl Library Procedures                                <a href="Tcl_Eval.3tcl.html#//apple_ref/doc/man/3/Tcl_Eval">Tcl_Eval(3)</a>



____________________________________________________________________________________________________________

<b>NAME</b>
       Tcl_EvalObjEx,  Tcl_EvalFile,  Tcl_EvalObjv, Tcl_Eval, Tcl_EvalEx, Tcl_GlobalEval, Tcl_GlobalEvalObj,
       Tcl_VarEval, Tcl_VarEvalVA - execute Tcl scripts

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       int                                                                                                   |
       <b>Tcl_EvalObjEx</b>(<u>interp,</u> <u>objPtr,</u> <u>flags</u>)                                                                  |

       int                                                                                                   |
       <b>Tcl_EvalFile</b>(<u>interp,</u> <u>fileName</u>)                                                                        |

       int                                                                                                   |
       <b>Tcl_EvalObjv</b>(<u>interp,</u> <u>objc,</u> <u>objv,</u> <u>flags</u>)                                                               |

       int                                                                                                   |
       <b>Tcl_Eval</b>(<u>interp,</u> <u>script</u>)                                                                              |

       int                                                                                                   |
       <b>Tcl_EvalEx</b>(<u>interp,</u> <u>script,</u> <u>numBytes,</u> <u>flags</u>)                                                           |

       int                                                                                                   |
       <b>Tcl_GlobalEval</b>(<u>interp,</u> <u>script</u>)                                                                        |

       int                                                                                                   |
       <b>Tcl_GlobalEvalObj</b>(<u>interp,</u> <u>objPtr</u>)                                                                     |

       int                                                                                                   |
       <b>Tcl_VarEval</b>(<u>interp,</u> <u>string,</u> <u>string,</u> <u>...</u> <b>(char</b> <b>*)</b> <b>NULL</b>)                                                |

       int                                                                                                   |
       <b>Tcl_VarEvalVA</b>(<u>interp,</u> <u>argList</u>)                                                                        |

<b>ARGUMENTS</b>                                                                                                    |
       Tcl_Interp   <u>*interp</u>      (in)                                                                        ||
                                           Interpreter  in  which  to execute the script.  The interpreter's |
                                           result is modified to hold the result or error message  from  the |
                                           script.                                                           |

       Tcl_Obj      <u>*objPtr</u>      (in)                                                                        ||
                                           A Tcl object containing the script to execute.                    |

       int          <u>flags</u>        (in)                                                                        ||
                                           ORed  combination  of  flag bits that specify additional options. |
                                           <b>TCL_EVAL_GLOBAL</b> and <b>TCL_EVAL_DIRECT</b> are currently supported.      |

       CONST char   <u>*file-</u>                                                                                   |
       <u>Name</u>    (in)                                                                        |                 |
                                           Name of a file containing a Tcl script.                           |

       int          <u>objc</u>         (in)                                                                        ||
                                           The number of objects in the array pointed to by <u>objPtr</u>; this  is |
                                           also the number of words in the command.                          |

       Tcl_Obj      <u>**objv</u>       (in)                                                                        ||
                                           Points to an array of pointers to objects; each object holds  the |
                                           value of a single word in the command to execute.                 |

       int          <u>num-</u>                                                                                     |
       <u>Bytes</u>     (in)                                                                        |               |
                                           The number of bytes in <u>script</u>, not including any null terminating |
                                           character.   If -1, then all characters up to the first null byte |
                                           are used.                                                         |

       CONST                                                                                                 |
       char   <u>*script</u>      (in)                                                                        |     |
                                           Points  to  first  byte of script to execute (null-terminated and |
                                           UTF-8).                                                           |

       char         <u>*string</u>      (in)                                                                        ||
                                           String forming part of a Tcl script.                              |

       va_list      <u>argList</u>      (in)                                                                        ||
                                           An  argument  list  which  must  have  been   initialised   using |
                                           <b>TCL_VARARGS_START</b>, and cleared using <b>va_end</b>.                      |
____________________________________________________________________________________________________________ |


<b>DESCRIPTION</b>                                                                                                  |
       The  procedures described here are invoked to execute Tcl scripts in various forms.  <b>Tcl_EvalObjEx</b> is |
       the core procedure and is used by many of the others.  It executes the commands in the script  stored |
       in  <u>objPtr</u>  until  either  an error occurs or the end of the script is reached.  If this is the first |
       time <u>objPtr</u> has been executed, its commands are compiled into bytecode instructions  which  are  then |
       executed.   The  bytecodes  are  saved  in  <u>objPtr</u> so that the compilation step can be skipped if the |
       object is evaluated again in the future.                                                              |

       The return value from <b>Tcl_EvalObjEx</b> (and all the other procedures described here) is a Tcl completion |
       code  with  one  of the values <b>TCL_OK</b>, <b>TCL_ERROR</b>, <b>TCL_RETURN</b>, <b>TCL_BREAK</b>, or <b>TCL_CONTINUE</b>, or possibly |
       some other integer value originating in an extension.  In addition, a result value or  error  message |
       is left in <u>interp</u>'s result; it can be retrieved using <b>Tcl_GetObjResult</b>.                               |

       <b>Tcl_EvalFile</b> reads the file given by <u>fileName</u> and evaluates its contents as a Tcl script.  It returns |
       the same information as <b>Tcl_EvalObjEx</b>.  If the file couldn't be read then a Tcl error is returned  to |
       describe  why  the file couldn't be read.  The eofchar for files is '\32' (^Z) for all platforms.  If |
       you require a ``^Z'' in code for string comparison, you can use ``\032'' or ``\u001a'', which will be |
       safely substituted by the Tcl interpreter into ``^Z''.

       <b>Tcl_EvalObjv</b>  executes  a single pre-parsed command instead of a script.  The <u>objc</u> and <u>objv</u> arguments
       contain the values of the words for the Tcl command, one word in each object in  <u>objv</u>.   <b>Tcl_EvalObjv</b>
       evaluates the command and returns a completion code and result just like <b>Tcl_EvalObjEx</b>.

       <b>Tcl_Eval</b>  is  similar  to <b>Tcl_EvalObjEx</b> except that the script to be executed is supplied as a string
       instead of an object and no compilation occurs.  The string should be a proper UTF-8 string  as  con-<font color="#ffffff" class="whiteout">verted&nbsp;converted</font>
       verted  by  <b>Tcl_ExternalToUtfDString</b>  or <b>Tcl_ExternalToUtf</b> when it is known to possibly contain upper
       ASCII characters who's possible combinations might be a UTF-8 special code.  The string is parsed and
       executed directly (using <b>Tcl_EvalObjv</b>) instead of compiling it and executing the bytecodes.  In situ-<font color="#ffffff" class="whiteout">ations&nbsp;situations</font>
       ations where it is known that the script will never be executed again, <b>Tcl_Eval</b> may  be  faster  than
       <b>Tcl_EvalObjEx</b>.
        <b>Tcl_Eval</b>  returns a completion code and result just like <b>Tcl_EvalObjEx</b>.  Note: for backward compati-<font color="#ffffff" class="whiteout">bility&nbsp;compatibility</font>
       bility with versions before Tcl 8.0, <b>Tcl_Eval</b> copies the object result in  <u>interp</u>  to  <u>interp-&gt;result</u>
       (use is deprecated) where it can be accessed directly.
        This makes <b>Tcl_Eval</b> somewhat slower than <b>Tcl_EvalEx</b>, which doesn't do the copy.

       <b>Tcl_EvalEx</b>  is  an  extended  version of <b>Tcl_Eval</b> that takes additional arguments <u>numBytes</u> and <u>flags</u>.
       For the efficiency reason given above, <b>Tcl_EvalEx</b> is generally preferred over <b>Tcl_Eval</b>.

       <b>Tcl_GlobalEval</b> and <b>Tcl_GlobalEvalObj</b> are older procedures that are now deprecated.  They are  similar
       to  <b>Tcl_EvalEx</b>  and <b>Tcl_EvalObjEx</b> except that the script is evaluated in the global namespace and its
       variable context consists of global variables only (it ignores any Tcl procedures that  are  active).
       These functions are equivalent to using the <b>TCL_EVAL_GLOBAL</b> flag (see below).

       <b>Tcl_VarEval</b>  takes  any  number  of  string  arguments of any length, concatenates them into a single
       string, then calls <b>Tcl_Eval</b> to execute that string as a Tcl command.  It returns the  result  of  the
       command  and  also  modifies  <u>interp-&gt;result</u>  in  the  same  way  as  <b>Tcl_Eval</b>.  The last argument to
       <b>Tcl_VarEval</b> must be NULL to indicate the end of arguments.  <b>Tcl_VarEval</b> is now deprecated.

       <b>Tcl_VarEvalVA</b> is the same as <b>Tcl_VarEval</b> except that instead of taking a variable number of arguments
       it takes an argument list. Like <b>Tcl_VarEval</b>, <b>Tcl_VarEvalVA</b> is deprecated.


<b>FLAG</b> <b>BITS</b>
       Any ORed combination of the following values may be used for the <u>flags</u> argument to procedures such as
       <b>Tcl_EvalObjEx</b>:

       <b>TCL_EVAL_DIRECT</b>        This flag is only used by <b>Tcl_EvalObjEx</b>; it is ignored  by  other  procedures.
                              If  this  flag bit is set, the script is not compiled to bytecodes; instead it
                              is executed directly as is done by <b>Tcl_EvalEx</b>.  The  <b>TCL_EVAL_DIRECT</b>  flag  is
                              useful in situations where the contents of an object are going to change imme-<font color="#ffffff" class="whiteout">diately,&nbsp;immediately,</font>
                              diately, so the bytecodes won't be reused in  a  future  execution.   In  this
                              case, it's faster to execute the script directly.

       <b>TCL_EVAL_GLOBAL</b>        If this flag is set, the script is processed at global level.  This means that
                              it is evaluated in the global namespace and its variable context  consists  of
                              global variables only (it ignores any Tcl procedures at are active).


<b>MISCELLANEOUS</b> <b>DETAILS</b>
       During  the  processing  of a Tcl command it is legal to make nested calls to evaluate other commands
       (this is how procedures and some control structures are implemented).  If a code other than <b>TCL_OK</b> is
       returned  from a nested <b>Tcl_EvalObjEx</b> invocation, then the caller should normally return immediately,
       passing that same return code back to its caller, and  so  on  until  the  top-level  application  is
       reached.   A few commands, like <b>for</b>, will check for certain return codes, like <b>TCL_BREAK</b> and <b>TCL_CON</b>-<font color="#ffffff" class="whiteout">TINUE,&nbsp;TCL_CONTINUE,</font>
       <b>TINUE</b>, and process them specially without returning.

       <b>Tcl_EvalObjEx</b> keeps track of how many nested <b>Tcl_EvalObjEx</b> invocations are in  progress  for  <u>interp</u>.
       If  a  code  of  <b>TCL_RETURN</b>,  <b>TCL_BREAK</b>,  or  <b>TCL_CONTINUE</b>  is  about to be returned from the topmost
       <b>Tcl_EvalObjEx</b> invocation for <u>interp</u>, it converts the return  code  to  <b>TCL_ERROR</b>  and  sets  <u>interp</u>'s
       result  to  an error message indicating that the <b>return</b>, <b>break</b>, or <b>continue</b> command was invoked in an
       inappropriate place.  This means that top-level applications should never  see  a  return  code  from
       <b>Tcl_EvalObjEx</b> other then <b>TCL_OK</b> or <b>TCL_ERROR</b>.


<b>KEYWORDS</b>
       execute, file, global, object, result, script



Tcl                                                  8.1                                         <a href="Tcl_Eval.3tcl.html#//apple_ref/doc/man/3/Tcl_Eval">Tcl_Eval(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_VarEval.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_VarEval.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_VarEval.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
