<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>About Single Link Multi-Homing</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING55></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-54.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-56.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-10.html"><B>Part 1 - Open Transport Essentials</B></A><BR><DD><A HREF="NetworkingWOT-51.html"><B>Chapter 11 - TCP/IP Services</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING55-0></A>
<H1>About Single Link Multi-Homing</H1>
 Open Transport version 1.3 introduces single link multi-homing, a mechanism by which Open Transport can support multiple IP addresses on the same hardware interface. This is useful for users that want to give each of their clients a distinct IP address without requiring separate computers for each address.<P>
 In order to use this feature, you must check to see that you are using version 1.3 or later. See <A HREF=#MARKER-9-51>"Checking for Availability"</A>.<P>
<A NAME=HEADING55-3></A>
<H2>Configuring Your System to Use Multiple IP Addresses</H2>
 To configure your system, you must do the following:<P>
<OL>
<P><LI>Configure the TCP/IP control panel for manual addressing.
<P><LI>Create a text file with the name "IP Secondary Addresses".
<P><LI>Place the file in the Preferences folder.<P>
</OL>
 Each line of the file contains a secondary IP address to be used by the system, and an optional subnet mask and router address for the secondary IP address. If there is not subnet mask entry, then Open Transport will use a default subnet mask for the IP address class. If there is not router entry, the default router associated with the primary address will be used.<P>
 <A HREF=#MARKER-9-49>Listing 11-1</A> shows a sample IP Secondary Addresses file. Each secondary address listed in the file must be prefixed by <CODE>ip=</CODE>. Each subnet mask entry must be prefixed by <CODE>sm=</CODE>. Each router address entry must be prefixed by <CODE>rt</CODE>. Note that the order of the entries is important. The router entry must follow the secondary name entry.<P>
<B>Listing 11-1  <A NAME=MARKER-9-49></A>Sample IP Secondary Addresses file</B><P>
<PRE>
<A NAME=MARKER-0-95></A>
ip=17.201.22.200       sm=255.255.255.0      rt=17.201.20.1
ip=17.201.22.201                             rt=17.201.20.1
ip=17.201.22.202
</PRE>
 When Open Transport activates TCP/IP, it obtains the primary address from the TCP/IP Control Panel setting.  Open Transport then looks for the IP Secondary Addresses file in the Preferences folder, to determine what other IP addresses the system must support.  If it finds duplicate IP address entries in the IP Secondary Addresses file, it ignores them. When Open Transport binds a TCP/IP connection, if there is an address conflict of the primary or any secondary addresses with another host system, Open Transport will raise an Alert with an error message to this problem.<P>
<A NAME=HEADING55-13></A>
<H2><A NAME=MARKER-9-51></A>Checking for Availability</H2>
 To check whether Open Transport version 1.3 is present, use the <CODE>Gestalt</CODE> function with the <CODE>gestaltOpenTptVersions</CODE> <CODE>'otvr'</CODE> selector. If the result is greater than or equal to <CODE>kOTIPSingleLinkMultihomingVersion</CODE>, you can use this feature.<P>
<A NAME=HEADING55-15></A>
<H2>Getting Information About Secondary Addresses</H2>
 You can use the function <CODE>OTGetInterfaceInfo</CODE> to return information about the number of secondary addresses that are supported. The <CODE>fIPSecondaryCount</CODE> field of the structure returned by this function specifies that number. Then, you can call the function <CODE>OTInetGetSecondaryAddresses</CODE>, passing this number for the <CODE>count</CODE> parameter, to obtain all the addresses. For more information, see <A HREF=NetworkingWOT-412.html#MARKER-9-157>"Single Link Multi-Homing"</A>.<P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DT><A HREF="NetworkingWOT-55.html#HEADING55-3">Configuring Your System to Use Multiple IP Addresses</A>
<DD>
<DT><A HREF="NetworkingWOT-55.html#HEADING55-13">Checking for Availability</A>
<DD>
<DT><A HREF="NetworkingWOT-55.html#HEADING55-15">Getting Information About Secondary Addresses</A>
<DD>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-54.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-56.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
