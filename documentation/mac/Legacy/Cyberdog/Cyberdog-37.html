<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Enabling Menu Items From an Embedded Display Part(Cyberdog)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING37></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="Cyberdog-36.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Cyberdog-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Cyberdog-319.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Cyberdog-38.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Cyberdog-2.html"><B>Cyberdog Programmer's Kit</B></A> / <A HREF="Cyberdog-20.html"><B>Part 2 - Programming in Cyberdog</B></A><BR><DD><A HREF="Cyberdog-32.html"><B>Chapter 5 - Embedding a Cyberdog Display Part in a Navigator</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING37-0></A>
<H1><A NAME=MARKER-9-59></A>Enabling Menu Items From an Embedded Display Part</H1>
 <A NAME=MARKER-2-60></A>A navigator allows an embedded display part to specify whether it wishes to enable several Document menu items. These commands are Save a Copy, Page Setup, and Print. The navigator calls the part extension's <CODE>HandleCommand</CODE> method for each command. Your part extension's <A NAME=MARKER-2-61></A><CODE>HandleCommand</CODE> method should return kODTrue if your embedded display part handles the command or kODFalse if it does not. If your part does not handle the command, you must call the part extension's inherited <CODE>HandleCommand</CODE> method.<P>
 The last parameter to the <CODE>HandleCommand</CODE> method for these commands specifies whether or not the menu item should be enabled. If your <CODE>HandleCommand</CODE> method returns kODTrue, you can set this parameter to kODTrue if you want the menu item enabled or kODFalse if you want the menu item to be disabled.<P>
 <A HREF=#MARKER-9-62>Listing 5-11</A> shows the embedded text-viewer part extension's <CODE>HandleCommand</CODE> method. It calls its part's <CODE>HandleCommand</CODE> method to specify whether it handles commands.<P>
<B>Listing 5-11  <A NAME=MARKER-9-62></A>The <CODE>HandleCommand</CODE> method of the embedded text-viewer's part extension</B><P>
<PRE>
SOM_Scope ODBoolean  SOMLINK som_CybTxtNavViewerCyberExt__HandleCommand
                     (Apple_som_CybTxtNavViewerCyberExt *somSelf,
                      Environment *ev,
                      long commandCreator,
                      long commandID,
                      ODFrame* frame,
                      void* commandData)
{
   ...
   ODBoolean handled = kODFalse;
   
   SOM_TRY
      
      CybTxtNavViewer* realPart 
                        = (CybTxtNavViewer*) somThis-&gt;fBasePart;
      if (realPart)
         handled = realPart-&gt;HandleCommand(ev, 
                                 commandCreator, 
                                 commandID, 
                                 frame, 
                                 commandData);
      
      if(handled == kODFalse)
         handled = Apple_som_CybTxtNavViewerCyberExt_parent
                              _CyberPartExtension_HandleCommand
                              (somSelf,ev,
                               commandCreator,
                               commandID,
                               frame,
                               commandData);
         
   SOM_CATCH_ALL
      handled = kODFalse;
   SOM_ENDTRY
   
   return handled;
}
</PRE>
 <A HREF=#MARKER-9-63>Listing 5-12</A> shows the embedded text-viewer part's <CODE>HandleCommand</CODE> method. The <CODE>commandCreator</CODE> parameter is used to qualify the commands to only those issued by the navigator, as specified by kNavigatorCreator. The embedded text-viewer part indicates that each of the commands are handled; however, they appear disabled in the menu.<P>
<B>Listing 5-12  <A NAME=MARKER-9-63></A>The <CODE>HandleCommand</CODE> method of the embedded text-viewer's part</B><P>
<PRE>
ODBoolean CybTxtNavViewer::HandleCommand(Environment*, 
                               long commandCreator, 
                               long commandID, 
                               ODFrame* , 
                               void* cmdData)
{
   ODBoolean handled = kODFalse;
   
   switch(commandCreator)
   {
      case kNavigatorCreator:
         {
            // This sample handles all of these commands but
            // leaves them disabled.
            ODBoolean* enableTheMenuCommand = (ODBoolean*)cmdData;
            switch(commandID)
            {
               case kODCommandPrint:
               case kODCommandPageSetup:
               case kODCommandSaveACopy:
                  *enableTheMenuCommand = kODFalse;
                  handled = kODTrue;
                  break;
            }
         }
         break;
   }
      
   return handled;
}

</PRE>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Cyberdog-36.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Cyberdog-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Cyberdog-319.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Cyberdog-38.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Cyberdog-3.html">&copy; Apple Computer, Inc.</A><br>13 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>   
