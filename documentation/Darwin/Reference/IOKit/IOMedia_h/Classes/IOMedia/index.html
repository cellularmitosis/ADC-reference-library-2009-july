<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=HTML">
<title>IOMedia</title>
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware & Drivers</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/iokit_fw" target="_top">I/O Kit Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOMedia">IOMedia</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox">
<tr>
<td scope="row"><b>Inherits from:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<a href="../../../IOStorage_h/Classes/IOStorage/index.html#//apple_ref/cpp/cl/IOStorage" target="_top">IOStorage</a>
</div></div></td>
</tr>
<tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOMedia.h</a></div></div></td>
</tr>
</table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>A random-access disk device abstraction.
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IOMedia class is a random-access disk device abstraction.   It provides a
consistent interface for both real and virtual disk devices, for subdivisions
of disks such as partitions, for supersets of disks such as RAID volumes, and
so on.   It extends the IOStorage class by implementing the appropriate open,
close, read, write, and matching semantics for media objects.  The properties
it has reflect the properties of real disk devices,  such as ejectability and
writability.
</p>
<p>The read and write interfaces support byte-level access to the storage space,
with the appropriate deblocking handled by the block storage driver, however,
a typical client will want to get the natural block size in order to optimize
access to the real disk device.  A read or write is accepted so long as the
client's access is valid, the media is formatted and the transfer is within
the bounds of the media.  An optional non-zero base (offset) is then applied
before the read or write is passed to provider object.
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/getAttributes/IOMediaAttributeMask/()" target="_top">getAttributes</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/getBase/UInt64/()" target="_top">getBase</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/getContent/constchar*/()" target="_top">getContent</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/getContentHint/constchar*/()" target="_top">getContentHint</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/getPreferredBlockSize/UInt64/()" target="_top">getPreferredBlockSize</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/getSize/UInt64/()" target="_top">getSize</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/handleClose/void/(IOService*,IOOptionBits)" target="_top">handleClose</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/handleIsOpen/bool/(constIOService*)" target="_top">handleIsOpen</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/handleOpen/bool/(IOService*,IOOptionBits,void*)" target="_top">handleOpen</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/init/bool/(UInt64,UInt64,UInt64,IOMediaAttributeMask,bool,bool,constchar*,OSDictionary*)" target="_top">init</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/isEjectable/bool/()" target="_top">isEjectable</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/isFormatted/bool/()" target="_top">isFormatted</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/isWhole/bool/()" target="_top">isWhole</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/isWritable/bool/()" target="_top">isWritable</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/read/void/(IOService*,UInt64,IOMemoryDescriptor*,IOStorageCompletion)" target="_top">read</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/synchronizeCache/IOReturn/(IOService*)" target="_top">synchronizeCache</a></tt></dt>
<dd></dd>
<dt><tt><a href="index.html#//apple_ref/cpp/instm/IOMedia/write/void/(IOService*,UInt64,IOMemoryDescriptor*,IOStorageCompletion)" target="_top">write</a></tt></dt>
<dd></dd>
</dl>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/getAttributes/IOMediaAttributeMask/();  indexgroup=Storage ;   name=IOMedia::getAttributes --><a name="//apple_ref/cpp/instm/IOMedia/getAttributes/IOMediaAttributeMask/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getAttributes">getAttributes</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../index.html#//apple_ref/c/tag/IOMediaAttributeMask" target="_top" class="type"><span class="type">IOMediaAttributeMask</span></a> <!-- a --><span class="function">getAttributes</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Media attributes, such as ejectability and removability.  See
IOMediaAttributeMask.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object for its attributes.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/getBase/UInt64/();  indexgroup=Storage ;   name=IOMedia::getBase --><a name="//apple_ref/cpp/instm/IOMedia/getBase/UInt64/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getBase">getBase</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="function">getBase</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object for its byte offset relative to its provider media
object below it in the storage hierarchy.
Media offset, in bytes.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/getContent/constchar*/();  indexgroup=Storage ;   name=IOMedia::getContent --><a name="//apple_ref/cpp/instm/IOMedia/getContent/constchar*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getContent">getContent</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">getContent</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Description of media's contents.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object for a description of its contents.  The description
is the same as the hint at the time of the object's creation,  but it is
possible that the description has been overridden by a client (which has probed
the media and identified the content correctly) of the media object.  It
is more accurate than the hint for this reason.  The string is formed in
the likeness of Apple's "Apple_HFS" strings or in the likeness of a UUID.
</p>
<p>The content description can be overridden by any client that matches onto
this media object with a match category of kIOStorageCategory.  The media
object checks for a kIOMediaContentMaskKey property in the client, and if
it finds one, it copies it into kIOMediaContentKey property.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/getContentHint/constchar*/();  indexgroup=Storage ;   name=IOMedia::getContentHint --><a name="//apple_ref/cpp/instm/IOMedia/getContentHint/constchar*/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getContentHint">getContentHint</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">getContentHint</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Hint of media's contents.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object for a hint of its contents.  The hint is set at the
time of the object's creation, should the creator have a clue as to what
it may contain.  The hint string does not change for the lifetime of the
object and is also formed in the likeness of Apple's "Apple_HFS" strings
or in the likeness of a UUID.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/getPreferredBlockSize/UInt64/();  indexgroup=Storage ;   name=IOMedia::getPreferredBlockSize --><a name="//apple_ref/cpp/instm/IOMedia/getPreferredBlockSize/UInt64/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getPreferredBlockSize">getPreferredBlockSize</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="function">getPreferredBlockSize</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Natural block size, in bytes.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object for its natural block size.  This information
is useful to clients that want to optimize access to the media.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/getSize/UInt64/();  indexgroup=Storage ;   name=IOMedia::getSize --><a name="//apple_ref/cpp/instm/IOMedia/getSize/UInt64/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getSize">getSize</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">UInt64</span><!-- /a --> <!-- a --><span class="function">getSize</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Media size, in bytes.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object for its total length in bytes.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/handleClose/void/(IOService*,IOOptionBits);  indexgroup=Storage ;   name=IOMedia::handleClose --><a name="//apple_ref/cpp/instm/IOMedia/handleClose/void/(IOService*,IOOptionBits)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="handleClose">handleClose</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">handleClose</span><!-- /a -->(
    <a href="../../../../KernelIOKitFramework/IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">client</span>,
    <a href="../../../USB_h/index.html#//apple_ref/c/tag/IOOptionBits" target="_top" class="type"><span class="type">IOOptionBits</span></a> <span class="param">options</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>client</code></dt>
<dd><p>Client requesting the close.</p></dd>
<dt><code>options</code></dt>
<dd><p>Options for the close.  Set to zero.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The handleClose method closes the client's access to this object.
</p>
<p>This implementation replaces the IOService definition of handleClose().
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/handleIsOpen/bool/(constIOService*);  indexgroup=Storage ;   name=IOMedia::handleIsOpen --><a name="//apple_ref/cpp/instm/IOMedia/handleIsOpen/bool/(constIOService*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="handleIsOpen">handleIsOpen</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">handleIsOpen</span><!-- /a -->(
    <span class="keyword">const</span> <!-- a --><span class="var">IOService</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">client</span><!-- /a -->) <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>client</code></dt>
<dd><p>Client to check the open state of.  Set to zero to check the open state
of all clients.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the client was (or clients were) open, false otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The handleIsOpen method determines whether the specified client, or any
client if none is specified, presently has an open on this object.
</p>
<p>This implementation replaces the IOService definition of handleIsOpen().
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/handleOpen/bool/(IOService*,IOOptionBits,void*);  indexgroup=Storage ;   name=IOMedia::handleOpen --><a name="//apple_ref/cpp/instm/IOMedia/handleOpen/bool/(IOService*,IOOptionBits,void*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="handleOpen">handleOpen</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>protected</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">handleOpen</span><!-- /a -->(
    <a href="../../../../KernelIOKitFramework/IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">client</span>, 
    <a href="../../../USB_h/index.html#//apple_ref/c/tag/IOOptionBits" target="_top" class="type"><span class="type">IOOptionBits</span></a> <span class="param">options</span>, 
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">access</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>client</code></dt>
<dd><p>Client requesting the open.</p></dd>
<dt><code>options</code></dt>
<dd><p>Options for the open.  Set to zero.</p></dd>
<dt><code>access</code></dt>
<dd><p>Access level for the open.  Set to kIOStorageAccessReader or
kIOStorageAccessReaderWriter.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the open was successful, false otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The handleOpen method grants or denies permission to access this object
to an interested client.  The argument is an IOStorageAccess value that
specifies the level of access desired -- reader or reader-writer.
</p>
<p>This method can be invoked to upgrade or downgrade the access level for
an existing client as well.  The previous access level will prevail for
upgrades that fail, of course.   A downgrade should never fail.  If the
new access level should be the same as the old for a given client, this
method will do nothing and return success.  In all cases, one, singular
close-per-client is expected for all opens-per-client received.
</p>
<p>This implementation replaces the IOService definition of handleOpen().
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/init/bool/(UInt64,UInt64,UInt64,IOMediaAttributeMask,bool,bool,constchar*,OSDictionary*);  indexgroup=Storage ;   name=IOMedia::init --><a name="//apple_ref/cpp/instm/IOMedia/init/bool/(UInt64,UInt64,UInt64,IOMediaAttributeMask,bool,bool,constchar*,OSDictionary*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="init">init</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <a href="../../../../KernelIOKitFramework/IOFWPhysicalAddressSpace_h/index.html#//apple_ref/c/func/init" target="_top" class="function"><span class="function">init</span></a>(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">base</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">size</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">preferredBlockSize</span>, 
    <a href="../../index.html#//apple_ref/c/tag/IOMediaAttributeMask" target="_top" class="type"><span class="type">IOMediaAttributeMask</span></a> <span class="param">attributes</span>, 
    <!-- a --><span class="type">bool</span><!-- /a --> <span class="param">isWhole</span>, 
    <!-- a --><span class="type">bool</span><!-- /a --> <span class="param">isWritable</span>, 
    <span class="keyword">const</span> <!-- a --><span class="var">char</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">contentHint</span><!-- /a --> = <span class="number">0</span>, 
    <a href="../../../../KernelIOKitFramework/OSDictionary_h/Classes/OSDictionary/index.html#//apple_ref/cpp/cl/OSDictionary" target="_top" class="type"><span class="type">OSDictionary</span></a> <span class="type">*</span><!-- a --><span class="type">properties</span><!-- /a --> = <span class="number">0</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>base</code></dt>
<dd><p>Media offset, in bytes.</p></dd>
<dt><code>size</code></dt>
<dd><p>Media size, in bytes.</p></dd>
<dt><code>preferredBlockSize</code></dt>
<dd><p>Natural block size, in bytes.</p></dd>
<dt><code>attributes</code></dt>
<dd><p>Media attributes, such as ejectability and removability.  See
IOMediaAttributeMask.</p></dd>
<dt><code>isWhole</code></dt>
<dd><p>Indicates whether the media represents the whole disk.</p></dd>
<dt><code>isWritable</code></dt>
<dd><p>Indicates whether the media is writable.</p></dd>
<dt><code>contentHint</code></dt>
<dd><p>Hint of media's contents (optional).  See getContentHint().</p></dd>
<dt><code>properties</code></dt>
<dd><p>Substitute property table for this object (optional).</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true on success, false otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Initialize this object's minimal state.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/isEjectable/bool/();  indexgroup=Storage ;   name=IOMedia::isEjectable --><a name="//apple_ref/cpp/instm/IOMedia/isEjectable/bool/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isEjectable">isEjectable</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">isEjectable</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the media is ejectable, false otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object whether it is ejectable.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/isFormatted/bool/();  indexgroup=Storage ;   name=IOMedia::isFormatted --><a name="//apple_ref/cpp/instm/IOMedia/isFormatted/bool/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isFormatted">isFormatted</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">isFormatted</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the media is formatted, false otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object whether it is formatted.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/isWhole/bool/();  indexgroup=Storage ;   name=IOMedia::isWhole --><a name="//apple_ref/cpp/instm/IOMedia/isWhole/bool/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isWhole">isWhole</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">isWhole</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the media represents the whole disk, false otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object whether it represents the whole disk.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/isWritable/bool/();  indexgroup=Storage ;   name=IOMedia::isWritable --><a name="//apple_ref/cpp/instm/IOMedia/isWritable/bool/()"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="isWritable">isWritable</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <!-- a --><span class="type">bool</span><!-- /a --> <!-- a --><span class="function">isWritable</span><!-- /a -->() <span class="keyword">const</span>; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns true if the media is writable, false otherwise.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Ask the media object whether it is writable.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/read/void/(IOService*,UInt64,IOMemoryDescriptor*,IOStorageCompletion);  indexgroup=Storage ;   name=IOMedia::read --><a name="//apple_ref/cpp/instm/IOMedia/read/void/(IOService*,UInt64,IOMemoryDescriptor*,IOStorageCompletion)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="read">read</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">read</span><!-- /a -->(
    <a href="../../../../KernelIOKitFramework/IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">client</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">byteStart</span>, 
    <a href="../../../../KernelIOKitFramework/IOMemoryDescriptor_h/Classes/IOMemoryDescriptor/index.html#//apple_ref/cpp/cl/IOMemoryDescriptor" target="_top" class="type"><span class="type">IOMemoryDescriptor</span></a> <span class="type">*</span><span class="param">buffer</span>, 
    <a href="../../../IOStorage_h/index.html#//apple_ref/c/tag/IOStorageCompletion" target="_top" class="type"><span class="type">IOStorageCompletion</span></a> <span class="param">completion</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>client</code></dt>
<dd><p>Client requesting the read.</p></dd>
<dt><code>byteStart</code></dt>
<dd><p>Starting byte offset for the data transfer.</p></dd>
<dt><code>buffer</code></dt>
<dd><p>Buffer for the data transfer.  The size of the buffer implies the size of
the data transfer.</p></dd>
<dt><code>completion</code></dt>
<dd><p>Completion routine to call once the data transfer is complete.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Read data from the storage object at the specified byte offset into the
specified buffer, asynchronously.   When the read completes, the caller
will be notified via the specified completion action.
</p>
<p>The buffer will be retained for the duration of the read.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/synchronizeCache/IOReturn/(IOService*);  indexgroup=Storage ;   name=IOMedia::synchronizeCache --><a name="//apple_ref/cpp/instm/IOMedia/synchronizeCache/IOReturn/(IOService*)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="synchronizeCache">synchronizeCache</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> <!-- a --><span class="function">synchronizeCache</span><!-- /a -->(
    <a href="../../../../KernelIOKitFramework/IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">client</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>client</code></dt>
<dd><p>Client requesting the cache synchronization.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns the status of the cache synchronization.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Flush the cached data in the storage object, if any, synchronously.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=instm;  uid=//apple_ref/cpp/instm/IOMedia/write/void/(IOService*,UInt64,IOMemoryDescriptor*,IOStorageCompletion);  indexgroup=Storage ;   name=IOMedia::write --><a name="//apple_ref/cpp/instm/IOMedia/write/void/(IOService*,UInt64,IOMemoryDescriptor*,IOStorageCompletion)"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="write">write</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><tt>public</tt>
<br><span class="keyword">virtual</span> <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <!-- a --><span class="function">write</span><!-- /a -->(
    <a href="../../../../KernelIOKitFramework/IOService_h/Classes/IOService/index.html#//apple_ref/cpp/cl/IOService" target="_top" class="type"><span class="type">IOService</span></a> <span class="type">*</span><span class="param">client</span>, 
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">byteStart</span>, 
    <a href="../../../../KernelIOKitFramework/IOMemoryDescriptor_h/Classes/IOMemoryDescriptor/index.html#//apple_ref/cpp/cl/IOMemoryDescriptor" target="_top" class="type"><span class="type">IOMemoryDescriptor</span></a> <span class="type">*</span><span class="param">buffer</span>, 
    <a href="../../../IOStorage_h/index.html#//apple_ref/c/tag/IOStorageCompletion" target="_top" class="type"><span class="type">IOStorageCompletion</span></a> <span class="param">completion</span>); </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>client</code></dt>
<dd><p>Client requesting the write.</p></dd>
<dt><code>byteStart</code></dt>
<dd><p>Starting byte offset for the data transfer.</p></dd>
<dt><code>buffer</code></dt>
<dd><p>Buffer for the data transfer.  The size of the buffer implies the size of
the data transfer.</p></dd>
<dt><code>completion</code></dt>
<dd><p>Completion routine to call once the data transfer is complete.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Write data into the storage object at the specified byte offset from the
specified buffer, asynchronously.   When the write completes, the caller
will be notified via the specified completion action.
</p>
<p>The buffer will be retained for the duration of the write.
<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/IOKit/IOMedia_h/Classes/IOMedia/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/IOKit/IOMedia_h/Classes/IOMedia/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/IOKit/IOMedia_h/Classes/IOMedia/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&nbsp;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2009-02-23
</div>
<!-- headerDoc=cl; uid=//apple_ref/cpp/cl/IOMedia; indexgroup=Storage ; name=IOMedia--><a name="//apple_ref/cpp/cl/IOMedia"></a>
</body>
</html>
