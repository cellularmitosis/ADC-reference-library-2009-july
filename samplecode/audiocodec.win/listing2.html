<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>audiocodec.win - /README.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/QuickTime/index.html">QuickTime</a> &gt; <a href="../../samplecode/QuickTime/idxQuickTimeComponentCreation-date.html">QuickTime Component Creation</a> &gt; <A HREF="javascript:location.replace('index.html');">audiocodec.win</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">audiocodec.win</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/README.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/dllmain.c</option>
<option value="listing2.html">/README.txt</option>
<option value="listing3.html">/uLawCodec.h</option>
<option value="listing4.html">/uLawCodec.r</option>
<option value="listing5.html">/uLawCodecDispatch.h</option>
<option value="listing6.html">/uLawCompressor.c</option>
<option value="listing7.html">/uLawDecompressor.c</option></select>
				</p>
				</form>
				<p><strong><a href="audiocodec.win.zip">Download Sample</a></strong> (&#147;audiocodec.win.zip&#148;, 54.8K)<BR>
<strong><a href="audiocodec.win.dmg">Download Sample</a></strong> (&#147;audiocodec.win.dmg&#148;, 116.9K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">README - AudioCodec

This is a Sound Manager codec example. It will create a compressor and 
decompressor supporting the uLaw format. This compressor is a built-in 
codec already present in the Sound Manager. To install this example it 
would require the version to be greater than the one already installed 
by the Sound Manager. The example has a high version of 5.0 only for 
this reason.

Use the latest QuickTime interfaces, which includes the &quot;ComponentIncludes&quot;
headers.

Keep your data in the component globals long word aligned for best
performance.

The kSoundComponentManufacturer is set to '????' and should be set to 
your company's four char code. It's up to you to create this.

Your compression format needs a new four char code as well. The constant 
kCodecFormat is where you define this. You should report your format to 
Apple so that it can be included in the Sound Manager interfaces.  Note 
that all lower-case codes are reserved for Apple's use.  Your code must
have at least one non-lowercase character.

A set of tables has been used to improve the performance of these codecs.
These tables are created as resources, which get loaded by the component's
Open method. Then they're used as part of the globals. Using a resource 
in this manner avoids the difficulties of creating static globals which 
require dependacies on the target OS runtime.

Windows only

You will need to open the .mak file as a MSDEV project, and then modify
the include paths and library paths by hand (Build/Settings) to match
wherever it is that you have your headers and libs.  Don't forget to 
modify the include paths on the Rez command line in the Custom Build
settings for uLawCodec.r (both Release and Debug).  On that same command 
line, you will also need to put in the full path to Rez.exe on your system.

Mac only

Linker gives the warning, &quot;entry-point __uLawDecompComponentDispatchRD is 
not a descriptor&quot;.  This is normal due to the nature of creating PowerPC 
components. The entry point of a component has to be a RoutineDescriptor, 
which is a structure, not code.

You can build a debug and a release version of the codec. To build both 
choose &quot;Build All&quot; as the current target.

Once the codec is built, you can drag it to the &quot;Reinstaller&quot; utility or 
restart your system with the codec in the extensions folder.

Source level debugging is a little bit of a challenge. Since the Sound 
Manager runs at interrupt level, you cannot source level debug the code. 
You can use MoviePlayer to &quot;Export&quot; a sound file which does not run at 
interrupt level. Choose the target such as &quot;Compressor PPC Debug&quot; and then
&quot;Run&quot; and set your break points. Drag the built codec file to Reinstaller 
to install the new component. Open an AIFF file (or any movie file with 
audio) in MoviePlayer and then choose Export. Select your codec as the 
compressor type.


Enjoy,
QuickTime Team
</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/audiocodec.win/listing2.html%3Fid%3DDTS10000813-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/audiocodec.win/listing2.html%3Fid%3DDTS10000813-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/audiocodec.win/listing2.html%3Fid%3DDTS10000813-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>