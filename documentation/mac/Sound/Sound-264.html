<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Pronunciation Dictionary Resource (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING264></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-263.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-265.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-187.html"><B>Chapter 4 - Speech Manager</B></A> / <A HREF="Sound-203.html"><B>Speech Manager Reference</B></A><BR><DL><DD><A HREF="Sound-263.html"><B>Resources</B></A></DL></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING264-0></A>
<H3><A NAME=MARKER-9-563></A>The Pronunciation Dictionary Resource<A NAME=MARKER-2-564></A></H3>
 <A NAME=MARKER-2-565></A><A NAME=MARKER-2-566></A><A NAME=MARKER-2-567></A>You can store a list of words and their associated pronunciations in a resource of resource type <CODE>'dict'</CODE>. You can associate any number of dictionary resources with a speech channel. Before using its internal rules to pronounce a word, the Speech Manager searches the dictionary resources that your application has associated with the speech channel in a last-in, first-searched order.<P>
<DL>
<DT><B>Note</B>
<DD>Because your application is responsible for loading data from a pronunciation dictionary into memory, you can, if desired, store pronunciation information in the data fork of a file rather than in the resource fork. Also, you can devise your own format in which to store pronunciation data, as long as you convert that data into the format described in this section before calling the <CODE>UseDictionary</CODE> function.<EM></EM><A NAME=MARKER-2-568></A><A NAME=MARKER-2-270></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 <A HREF=#MARKER-9-570>Figure 4-5</A> shows the format of a pronunciation dictionary resource.<P>
<B>Figure 4-5  <A NAME=MARKER-9-570></A>Format of a pronunciation dictionary resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/SP-L-04.jpg"><P>
<DL>
<DT><B>Note</B>
<DD>Some synthesizers might use resources (such as resources of type<CODE> 'ttsd'</CODE>) to store their internal pronunciation dictionaries. These internal dictionaries are not necessarily in the same format as the pronunciation dictionaries described here.<EM></EM><A NAME=MARKER-2-295></A><A NAME=MARKER-2-572></A><A NAME=MARKER-2-142></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 To define a dictionary resource, you ordinarily use a resource of type <CODE>'dict'</CODE>. Such a resource contains a pronunciation dictionary resource header, which is at the start of the resource and defines characteristics of the dictionary as a whole, and any number of pronunciation dictionary entries. Each pronunciation dictionary entry corresponds to one word and contains one or more pronunciation dictionary entry fields. Each pronunciation dictionary entry field contains one piece of information about the word being described in the entry; for example, a dictionary entry would include a field with a textual representation of the word.<P>
 The pronunciation dictionary resource header includes the following:<A NAME=MARKER-2-296></A><P>
<UL>
<LI>Total byte length. The total number of bytes of the dictionary, including the entire pronunciation dictionary resource header in addition to the dictionary's entries.
<LI>Atom type. The currently defined atom type is <CODE>'dict'</CODE>. Future versions of the Speech Manager might define additional atom types for other types of dictionaries.<A NAME=MARKER-2-575></A>
<LI>Format version. The currently defined format version is 1. Future versions of the Speech Manager might support additional format versions for the <CODE>'dict'</CODE> atom type.<A NAME=MARKER-2-300></A>
<LI>Script code. The script code of words defined in the pronunciation dictionary (for example, <CODE>smRoman</CODE>). All words in a dictionary must be in the same script.
<LI>Language code. The language code of words defined in the pronunciation dictionary (for example, <CODE>langEnglish</CODE>). All words in a dictionary must be in the same language.
<LI>Region code. The region code of pronunciations in the dictionary (for example, <CODE>verUS</CODE>). All words in a dictionary must target the same region.
<LI>Date last modified. The number of seconds between midnight, January 1, 1904, and the modification time. You can use the <CODE>GetDateTime</CODE> procedure to determine the number of seconds between midnight, January 1, 1904, and the current time. For more information, see <I><A HREF="../OSUtilities/OSUtilities-2.html">Inside Macintosh: Operating System Utilities</A></I>.
<LI>Reserved. These 16 bytes are reserved for future use. You should set them to 0.
<LI>Entry count. The number of dictionary entries.<A NAME=MARKER-2-293></A><P>
</UL>
 Immediately following the pronunciation dictionary resource header is a list of the pronunciation dictionary entries.<P>
 <A HREF=#MARKER-9-578>Figure 4-6</A> shows the format of a pronunciation dictionary entry.<P>
<B>Figure 4-6  <A NAME=MARKER-9-578></A>Format of a dictionary entry in a dictionary resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/SP-L-05.jpg"><P>
 Each pronunciation dictionary entry consists of the following:<P>
<UL>
<LI>Entry byte length. The total number of bytes in the entry, including this word.
<LI>Entry type. A code for the type of pronunciation dictionary entry. The code $0000 represents a null entry, and codes $0001 through $0020 are reserved for future use by Apple Computer, Inc. You should thus ordinarily fill in this field with $0021, which is the code for a pronunciation entry, or $0022, which is the code for an abbreviation entry. In the current version of the Speech Manager, abbreviation entries work just like pronunciation entries.<A NAME=MARKER-2-579></A><A NAME=MARKER-2-253></A><A NAME=MARKER-2-581></A>
<LI>Field count. The number of pronunciation dictionary entry fields contained within this entry.<P>
</UL>
 Immediately following the field count indicator are the fields themselves. Typically, a pronunciation entry always includes a field containing the word in textual format and a field containing the phonetic pronunciation of the word.<A NAME=MARKER-2-259></A><P>
 Each field within a dictionary entry has the format illustrated in <A HREF=#MARKER-9-583>Figure 4-7</A>.<P>
<B>Figure 4-7  <A NAME=MARKER-9-583></A>Format of a dictionary entry field</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/SP-L-06.jpg"><P>
 The three parts of a dictionary entry field are as follows:<P>
<UL>
<LI>Field byte length. The total number of bytes in the pronunciation entry field, not including the pad byte of the field data when applicable.
<LI>Field type. A code for the format of the pronunciation dictionary entry field's data. The code $0000 represents a null entry field, and Apple reserves codes $0001 through $0020 as well as code $0023 for future use. Code $0021 represents a textual representation of the word being described in the entry. Code $0022 represents a phonetic pronunciation of the word, including a complete set of syllable, lexical stress, word prominence, and prosodic marks, all represented in textual format.<A NAME=MARKER-2-252></A>
<LI>Field data. If the field type is $0021 or $0022, then this field contains characters representing the word textually or phonetically, respectively. The characters are not preceded by a length byte and are not followed by a null character. However, if there are an odd number of characters, then a byte must be added as padding to ensure that fields align on word boundaries. The pad byte need not be set to a particular value.<A NAME=MARKER-2-585></A><A NAME=MARKER-2-586></A><A NAME=MARKER-9-314></A><A NAME=MARKER-2-588></A><A NAME=MARKER-2-589></A><P>
</UL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-263.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-265.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
