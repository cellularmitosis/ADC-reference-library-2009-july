<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>MyCMBitmapCallBackProc(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING310></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-309.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-311.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-218.html"><B>ColorSync Manager Functions</B></A><BR><DL><DD><A HREF="ACIReference-308.html"><B>Application-Defined Functions for the ColorSync Manager </B></A> / <A HREF="ACIReference-282.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING310-0></A>
<H3><A NAME=MARKER-11-473></A><A NAME=MARKER-9-474></A>MyCMBitmapCallBackProc</H3>
 Application-defined function that reports on the progress of a color-matching or color-checking session being performed for a bitmap or a pixel map.<P>
 This application-supplied function must conform to the following declaration, although the function name is arbitrary:<P>
<PRE>
pascal Boolean MyCMBitmapCallBackProc (
long progress, 
void *refCon);
</PRE>
<DL>
<DT><CODE>progress</CODE>
<DD> A byte count that begins at an arbitrary value and counts down to 1 when the matching is complete.
<DT><CODE>refCon</CODE>
<DD> The reference constant passed to your <CODE>MyCMBitmapCallBackProc</CODE> function each time the color management module (CMM) calls your function. 
<DT><I>function result</I>
<DD> A result code of type Boolean. A return value of <CODE>false</CODE> indicates the color-matching or color-checking session should continue. A return value of <CODE>true</CODE> indicates the session should be aborted--for example, the user may be holding down the Command-period keys.
</DL>
<A NAME=HEADING310-7></A>
<H5>DISCUSSION</H5>
 Your <CODE>MyCMBitmapCallBackProc</CODE> function allows your application to monitor the progress of a color-matching or color-checking session for a bitmap or a pixel map. Your function can also terminate the matching or checking operation. <P>
 Your callback function is called by the CMM performing the matching or checking process if your application passes a pointer to your callback function in the <CODE>progressProc</CODE> parameter when it calls one of the following functions: <CODE>CWMatchPixMap</CODE> <A HREF=ACIReference-263.html#MARKER-9-401>(page 3-116)</A>, <CODE>CWCheckPixMap</CODE> <A HREF=ACIReference-264.html#MARKER-9-403>(page 3-118)</A>, <CODE>CWMatchBitmap</CODE> <A HREF=ACIReference-265.html#MARKER-9-405>(page 3-120)</A>, and <CODE>CWCheckBitMap</CODE> <A HREF=ACIReference-266.html#MARKER-9-407>(page 3-123)</A>.<P>
 The CMM used for the color-matching session calls your function at regular intervals. For example, the Apple CMM calls your function approximately every half-second unless the color matching or checking occurs in less time; this happens when there is a small amount of data to match or check. <P>
 Each time the ColorSync Manager calls your function, it passes to the function any data stored in the reference constant. This is the data that your application specified in the <CODE>refCon</CODE> parameter when it called one of the color-matching or checking functions. <P>
 For large bitmaps and pixel maps, your application could display an indicator to users, such as a progress thermometer, to register how much has been completed and how much remains. If your application were to do this, for example, you could use the reference constant to pass the dialog box's window reference to the callback function.<P>
 To terminate the matching or checking operation, your function should return a value of <CODE>true</CODE>. Because pixel-map matching is done in place, an application that allows the user to terminate the process should revert to the prematched image to avoid partial mapping.<P>
 For bitmap matching, if the <CODE>matchedBitMap</CODE> parameter of the <CODE>CWMatchBitmap</CODE> function specifies <CODE>NULL</CODE>, to indicate that the source bitmap is to be matched in place, and the application allows the user to abort the process, you should also revert to the prematched bitmap if the user terminates the operation. <P>
 Each time the ColorSync Manager calls your progress function, it passes a byte count in the <CODE>progress</CODE> parameter. The last time the ColorSync Manager calls your progress function, it passes a byte count of 0 to indicate the completion of the matching or checking process. You should use the 0 byte count as a signal to perform any cleanup operations your function requires, such as filling the thermometer or progress bar to completion to indicate to the user the end of the checking or matching session, and then removing the dialog box used for the display. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-309.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-311.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
