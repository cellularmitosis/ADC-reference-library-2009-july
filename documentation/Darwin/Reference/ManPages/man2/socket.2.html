<html><head><title>Mac OS X Developer Tools
 Manual Page For socket(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/socket" title="Mac OS X Developer Tools
 Manual Page for socket(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/socket"; name=socket(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SOCKET(2)                   BSD System Calls Manual                  SOCKET(2)

<b>NAME</b>
     <b>socket</b> -- create an endpoint for communication

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/socket.h&gt;</b>

     <u>int</u>
     <b>socket</b>(<u>int</u> <u>domain</u>, <u>int</u> <u>type</u>, <u>int</u> <u>protocol</u>);

<b>DESCRIPTION</b>
     <b>Socket</b>() creates an endpoint for communication and returns a descriptor.

     The <u>domain</u> parameter specifies a communications domain within which communication will take place; this
     selects the protocol family which should be used.  These families are defined in the include file
     &lt;<u>sys/socket.h&gt;</u>.  The currently understood formats are

           AF_UNIX         (UNIX internal protocols),
           AF_INET         (ARPA Internet protocols),
           AF_ISO          (ISO protocols),
           AF_NS           (Xerox Network Systems protocols), and
           AF_IMPLINK      (IMP host at IMP link layer).

     The socket has the indicated <u>type</u>, which specifies the semantics of communication.  Currently defined
     types are:

           SOCK_STREAM
           SOCK_DGRAM
           SOCK_RAW
           SOCK_SEQPACKET
           SOCK_RDM

     A SOCK_STREAM type provides sequenced, reliable, two-way connection based byte streams.  An out-of-band
     data transmission mechanism may be supported.  A SOCK_DGRAM socket supports datagrams (connectionless,
     unreliable messages of a fixed (typically small) maximum length).  A SOCK_SEQPACKET socket may provide
     a sequenced, reliable, two-way connection-based data transmission path for datagrams of fixed maximum
     length; a consumer may be required to read an entire packet with each read system call.  This facility
     is protocol specific, and presently implemented only for PF_NS.  SOCK_RAW sockets provide access to
     internal network protocols and interfaces.  The types SOCK_RAW, which is available only to the super-<font color="#ffffff" class="whiteout">user,&nbsp;superuser,</font>
     user, and SOCK_RDM, which is planned, but not yet implemented, are not described here.

     The <u>protocol</u> specifies a particular protocol to be used with the socket.  Normally only a single proto-<font color="#ffffff" class="whiteout">col&nbsp;protocol</font>
     col exists to support a particular socket type within a given protocol family.  However, it is possible
     that many protocols may exist, in which case a particular protocol must be specified in this manner.
     The protocol number to use is particular to the communication domain in which communication is to take
     place; see <a href="../man5/protocols.5.html#//apple_ref/doc/man/5/protocols">protocols(5)</a>.

     Sockets of type SOCK_STREAM are full-duplex byte streams, similar to pipes.  A stream socket must be in
     a <u>connected</u> state before any data may be sent or received on it.  A connection to another socket is
     created with a <a href="connect.2.html#//apple_ref/doc/man/2/connect">connect(2)</a> call.  Once connected, data may be transferred using <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a> and <a href="write.2.html#//apple_ref/doc/man/2/write">write(2)</a>
     calls or some variant of the <a href="send.2.html#//apple_ref/doc/man/2/send">send(2)</a> and <a href="recv.2.html#//apple_ref/doc/man/2/recv">recv(2)</a> calls.  When a session has been completed a <a href="close.2.html#//apple_ref/doc/man/2/close">close(2)</a>
     may be performed.  Out-of-band data may also be transmitted as described in <a href="send.2.html#//apple_ref/doc/man/2/send">send(2)</a> and received as
     described in <a href="recv.2.html#//apple_ref/doc/man/2/recv">recv(2)</a>.

     The communications protocols used to implement a SOCK_STREAM insure that data is not lost or dupli-<font color="#ffffff" class="whiteout">cated.&nbsp;duplicated.</font>
     cated.  If a piece of data for which the peer protocol has buffer space cannot be successfully trans-<font color="#ffffff" class="whiteout">mitted&nbsp;transmitted</font>
     mitted within a reasonable length of time, then the connection is considered broken and calls will
     indicate an error with -1 returns and with ETIMEDOUT as the specific code in the global variable <u>errno</u>.
     The protocols optionally keep sockets ``warm'' by forcing transmissions roughly every minute in the
     absence of other activity.  An error is then indicated if no response can be elicited on an otherwise
     idle connection for a extended period (e.g. 5 minutes).  A SIGPIPE signal is raised if a process sends
     on a broken stream; this causes naive processes, which do not handle the signal, to exit.

     SOCK_SEQPACKET sockets employ the same system calls as SOCK_STREAM sockets.  The only difference is
     that <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a> calls will return only the amount of data requested, and any remaining in the arriving
     packet will be discarded.

     SOCK_DGRAM and SOCK_RAW sockets allow sending of datagrams to correspondents named in <a href="send.2.html#//apple_ref/doc/man/2/send">send(2)</a> calls.
     Datagrams are generally received with <a href="recvfrom.2.html#//apple_ref/doc/man/2/recvfrom">recvfrom(2)</a>, which returns the next datagram with its return
     address.

     An <a href="fcntl.2.html#//apple_ref/doc/man/2/fcntl">fcntl(2)</a> call can be used to specify a process group to receive a SIGURG signal when the out-of-band
     data arrives.  It may also enable non-blocking I/O and asynchronous notification of I/O events via
     SIGIO.

     The operation of sockets is controlled by socket level <u>options</u>.  These options are defined in the file
     &lt;<u>sys/socket.h&gt;</u>.  <!-- a -->Setsockopt(2)<!-- /a --> and <a href="getsockopt.2.html#//apple_ref/doc/man/2/getsockopt">getsockopt(2)</a> are used to set and get options, respectively.

<b>RETURN</b> <b>VALUES</b>
     A -1 is returned if an error occurs, otherwise the return value is a descriptor referencing the socket.

<b>ERRORS</b>
     The <b>socket</b>() system call fails if:

     [EACCES]           Permission to create a socket of the specified type and/or protocol is denied.

     [EAFNOSUPPORT]     The specified address family is not supported.

     [EISCONN]          The per-process descriptor table is full.

     [EMFILE]           The per-process descriptor table is full.

     [ENFILE]           The system file table is full.

     [ENOBUFS]          Insufficient buffer space is available.  The socket cannot be created until suffi-<font color="#ffffff" class="whiteout">cient&nbsp;sufficient</font>
                        cient resources are freed.

     [ENOMEM]           Insufficient memory was available to fulfill the request.

     [EPROTONOSUPPORT]  The protocol type or the specified protocol is not supported within this domain.

     [EPROTOTYPE]       The socket type is not supported by the protocol.

     If a new protocol family is defined, the socreate process is free to return any desired error code.
     The <b>socket</b>() system call will pass this error code along (even if it is undefined).

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/types.h&gt;</b>
     <b>#include</b> <b>&lt;sys/socket.h&gt;</b>

     The include file &lt;<u>sys/types.h&gt;</u> is necessary.

<b>SEE</b> <b>ALSO</b>
     <a href="accept.2.html#//apple_ref/doc/man/2/accept">accept(2)</a>, <a href="bind.2.html#//apple_ref/doc/man/2/bind">bind(2)</a>, <a href="connect.2.html#//apple_ref/doc/man/2/connect">connect(2)</a>, <a href="getsockname.2.html#//apple_ref/doc/man/2/getsockname">getsockname(2)</a>, <a href="getsockopt.2.html#//apple_ref/doc/man/2/getsockopt">getsockopt(2)</a>, <a href="ioctl.2.html#//apple_ref/doc/man/2/ioctl">ioctl(2)</a>, <a href="listen.2.html#//apple_ref/doc/man/2/listen">listen(2)</a>, <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a>, <a href="recv.2.html#//apple_ref/doc/man/2/recv">recv(2)</a>,
     <a href="select.2.html#//apple_ref/doc/man/2/select">select(2)</a>, <a href="send.2.html#//apple_ref/doc/man/2/send">send(2)</a>, <a href="shutdown.2.html#//apple_ref/doc/man/2/shutdown">shutdown(2)</a>, <a href="socketpair.2.html#//apple_ref/doc/man/2/socketpair">socketpair(2)</a>, <a href="write.2.html#//apple_ref/doc/man/2/write">write(2)</a>, <a href="../man3/getprotoent.3.html#//apple_ref/doc/man/3/getprotoent">getprotoent(3)</a>, <a href="../man4/inet.4.html#//apple_ref/doc/man/4/inet">inet(4)</a>, <a href="../man4/inet6.4.html#//apple_ref/doc/man/4/inet6">inet6(4)</a>, <a href="../man4/unix.4.html#//apple_ref/doc/man/4/unix">unix(4)</a>,
     <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>

     <u>An</u> <u>Introductory</u> <u>4.3</u> <u>BSD</u> <u>Interprocess</u> <u>Communication</u> <u>Tutorial</u>, reprinted in UNIX Programmer's
     Supplementary Documents Volume 1.

     <u>BSD</u> <u>Interprocess</u> <u>Communication</u> <u>Tutorial</u>, reprinted in UNIX Programmer's Supplementary Documents Volume
     1.

<b>HISTORY</b>
     The <b>socket</b>() function call appeared in 4.2BSD.

4.2 Berkeley Distribution        June 4, 1993        4.2 Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/socket.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/socket.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/socket.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
