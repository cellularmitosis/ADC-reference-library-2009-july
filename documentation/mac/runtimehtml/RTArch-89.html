<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>PEF Structure</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING89></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="RTArch-88.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-90.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="RTArch-2.html"><B>Mac OS Runtime Architectures</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING89-0></A>
<H1>Chapter 8 - <A NAME=MARKER-9-32></A>PEF Structure</H1>
 This chapter describes the structure of the PEF storage standard, which is the format used to store programs in the Code Fragment Manager-based runtime architecture. You need this information if you read from or write to PEF containers--if you are writing a compiler or other development tool, for example.<P>
 After a high-level view of a PEF container in the <A HREF=RTArch-90.html#MARKER-9-33>"Overview"</A> section, there follow sections that describe the elements of a PEF container in more detail. <P>
 Note that the PEF storage standard is not exclusive to the CFM-based architecture. Other architectures can follow the specification described here and use PEF containers to store their code and data. In such cases, the appropriate PEF handler for that architecture takes the role of the Code Fragment Manager. <P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="RTArch-90.html#HEADING90-0">Overview</A>
<DD>
<DT><A HREF="RTArch-91.html#HEADING=91-0">The Container Header</A>
<DD>
<DT><A HREF="RTArch-92.html#HEADING92-0">PEF Sections</A>
<DD>
<DL>
<DT><A HREF="RTArch-93.html#HEADING93-0">The Section Name Table</A>
<DD>
<DT><A HREF="RTArch-94.html#HEADING94-0">Section Contents </A>
<DD>
<DL>
<DT><A HREF="RTArch-94.html#HEADING94-3">Pattern-Initialized Data</A>
<DD>
<DT><A HREF="RTArch-94.html#HEADING94-18">Pattern-Initialization Opcodes</A>
<DD>
<DT><A HREF="RTArch-94.html#HEADING94-20">Zero (Opcode 000)  </A>
<DD>
<DT><A HREF="RTArch-94.html#HEADING94-23">blockCopy (Opcode 001) </A>
<DD>
<DT><A HREF="RTArch-94.html#HEADING94-26">repeatedBlock (Opcode 010) </A>
<DD>
<DT><A HREF="RTArch-94.html#HEADING94-30">interleaveRepeatBlockWithBlockCopy (Opcode 011) </A>
<DD>
<DT><A HREF="RTArch-94.html#HEADING94-35">interleaveRepeatBlockWithZero (Opcode 100) </A>
<DD>
</DL>
</DL>
<DT><A HREF="RTArch-95.html#HEADING95-0">The Loader Section</A>
<DD>
<DL>
<DT><A HREF="RTArch-96.html#HEADING96-0">The Loader Header</A>
<DD>
<DT><A HREF="RTArch-97.html#HEADING97-0">Imported Libraries and Symbols</A>
<DD>
<DL>
<DT><A HREF="RTArch-97.html#HEADING97-2">Imported Library Descriptions</A>
<DD>
<DT><A HREF="RTArch-97.html#HEADING97-15">The Imported Symbol Table</A>
<DD>
</DL>
<DT><A HREF="RTArch-98.html#HEADING98-0">Relocations</A>
<DD>
<DL>
<DT><A HREF="RTArch-98.html#HEADING98-14">The Relocation Headers Table</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-24">The Relocation Area</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-26">A Relocation Example</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-45">Relocation Instruction Set</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-52">RelocBySectDWithSkip</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-57">The Relocate Value Group</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-63">The Relocate By Index Group</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-68">RelocIncrPosition</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-74">RelocSmRepeat</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-80">RelocSetPosition</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-86">RelocLgByImport</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-92">RelocLgRepeat</A>
<DD>
<DT><A HREF="RTArch-98.html#HEADING98-99">RelocLgSetOrBySection</A>
<DD>
</DL>
<DT><A HREF="RTArch-99.html#HEADING99-0">The Loader String Table</A>
<DD>
<DT><A HREF="RTArch-100.html#HEADING100-0">Exported Symbols</A>
<DD>
<DL>
<DT><A HREF="RTArch-100.html#HEADING100-18">The Export Hash Table</A>
<DD>
<DT><A HREF="RTArch-100.html#HEADING100-26">The Export Key Table</A>
<DD>
<DT><A HREF="RTArch-100.html#HEADING100-33">The Exported Symbol Table</A>
<DD>
<DT><A HREF="RTArch-100.html#HEADING100-46">Hashing Functions</A>
<DD>
<DT><A HREF="RTArch-100.html#HEADING100-48">The Name to Hash Word Function</A>
<DD>
<DT><A HREF="RTArch-100.html#HEADING100-52">The Hash Word to Hash Index Function</A>
<DD>
<DT><A HREF="RTArch-100.html#HEADING100-56">The Exported Symbol Count to Hash Table Size Function</A>
<DD>
</DL>
</DL>
<DT><A HREF="RTArch-101.html#HEADING101-0">PEF Size Limits</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="RTArch-88.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="RTArch-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="RTArch-147.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="RTArch-90.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="RTArch-3.html">&copy; Apple Computer, Inc.</A><br>11 MARCH 1997<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
