<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A GXPD25: Using PICT Comments to Stretch and Rotate Objects</title><meta name="keywords" content="Mac OS 7 QuickDraw GX PICT comments objects disappearing translator"><meta name="Description" content="Technical Q&amp;A GXPD25: NOTE: QuickDraw GX printer driversand GX printing extensions will not be supported in Mac OS8.0 or in future Mac OS releases. Q&amp;A explains why objectsthat use PICT comments to stretch and rotate sometimes disappearcompletely. Q&amp;A also provides a code snippet as a startingpoint for creating a translator to handle PICT comments."><meta name="categories" content="QuickDraw GX"><meta name="week-posted" content="Jun 26, 1995 - Jul 7, 1995"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001240" title="Using PICT Comments to Stretch and Rotate Objects"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalqas/LegacyTechnologies/idxGraphicsImaging-date.html">Graphics & Imaging</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/GraphicsImaging/index.html" target="_blank">Reference Library > Graphics & Imaging</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A GXPD25</div>
<div id="pageheadsub">Using PICT Comments to Stretch and Rotate Objects</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <td align="left"><hr width=500 align=center><TABLE BORDER="0"><TR>	<td bgcolor="#e6e6e6" align=left>		<B>Important for all Apple Printing and Graphics Developers: </B><p id=p4>		The information in this Technical Q &amp; A is still relevant up to and including		<A HREF="../../technotes/tn/tn1090.html" target="_blank">Mac OS 7.6</A>		with QuickDraw GX 1.1.5. Beginning with the release of Mac OS 8.0,		however, Apple plans to deliver a system which incorporates QuickDraw GX		graphics and typography <B>only</B>. QuickDraw GX printer drivers and GX printing		extensions will <B>not</B> be supported in Mac OS 8.0 or in future Mac OS releases. Apple's		goal is to simplify the user experience of printing by unifying the Macintosh		graphic and printing architectures and standardizing on the classic Printing		Manager. </P>				For details on Apple's official announcement, refer to 		<A HREF="../../technotes/gxchange.html" target="_blank">		&lt;/dev/technotes/gxchange.html&gt;</A>	</TD></TR></TABLE><BR><p id = p2>Q:  We are trying to add full GX-printing support to our drawing program, whichisn't a GX-aware application, and we're running into some problems with the translator. When we use PICT comments to stretch and rotateobjects, the objects sometimes disappear completely. Using direct <code>GXRotateShape</code>routines to rotate a shape has the same result. However, direct rotation andconcatenation of the mappings works properly.</p><p id=p4>A:  This happens because support for flipping with picture comments was notincluded in the current implementation of GX. This will be fixed in a futurerelease.</p><p id=p4>If you are using the translator, you're limited by the way it performs itstranslation. You would be better off providing your own replacement for thetranslator, because you understand your data structures better.</p><p id=p4>You can use the following code snippet as a starting point to create your owntranslator. It creates a GX Ink with a simple 8 x 8 black and white bitpattern, allows an arbitrary color for foreground and another for background,and can be added to a frame or fill:</p><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>//Code for calling SetShapeQDPattern()            {                char        pattern[] = {0xAA,0x55,0xAA,0x55,0xAA,0x55,0xAA,0x55};                RGBColor    fore, back;                fore.red = 0xFFFF;                fore.green = 0;                fore.blue = 0;                back.red = 0;                back.green = 0xFFFF;                back.blue = 0;                SetShapeQDPattern(tempShape, (PatPtr)&amp;pattern, &amp;fore, &amp;back);            }//SetShapeQDPattern()// -------------------------------------------------------------------------------------static void SetShapeQDPattern(                gxShape theShape,               // shape to set pattern on                PatPtr pPattern,                // 1 bit QD pattern to use                RGBColor *pForeColor,           // color of the 0 bits (or is this 1?)                RGBColor *pBackColor)           // color of the 1 bits (or is this 0?){    gxPatternRecord     pattern;    gxBitmap            bits;    gxSetColor          colors[2];    pattern.attributes  = 0;    pattern.u.x         = ff(8);    pattern.u.y         = ff(0);    pattern.v.x         = ff(0);    pattern.v.y         = ff(8);    colors[0].rgb.red = pForeColor-&gt;red;    colors[0].rgb.green = pForeColor-&gt;green;    colors[0].rgb.blue = pForeColor-&gt;blue;    colors[1].rgb.red = pBackColor-&gt;red;    colors[1].rgb.green = pBackColor-&gt;green;    colors[1].rgb.blue = pBackColor-&gt;blue;    bits.image      = (char*)pPattern;    bits.width      = 8;    bits.height     = 8;    bits.rowBytes   = 1;    bits.pixelSize  = 1;    bits.space      = gxIndexedSpace;    bits.set        = GXNewColorSet(gxRGBSpace, 2, &amp;colors);    bits.profile    = nil;    pattern.pattern = GXNewBitmap(&amp;bits, nil);    GXDisposeColorSet(bits.set);    GXSetShapePattern(theShape, &amp;pattern);    GXDisposeShape(pattern.pattern);} // SetShapeQDPattern//--------------------------------------------------</pre>	</TD></TR></TABLE></CENTER></td></tr></table></center><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[May 01 1995]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/gxpd/gxpd25.html%3Fid%3DDTS10001240-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/gxpd/gxpd25.html%3Fid%3DDTS10001240-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/gxpd/gxpd25.html%3Fid%3DDTS10001240-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <hr width=500 align=center> </BODY> </HTML>