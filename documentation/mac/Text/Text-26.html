<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Components of the Macintosh Script Management System(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING26></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-25.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-27.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-13.html"><B>Chapter 1 - Introduction to Text on the Macintosh</B></A> / <A HREF="Text-24.html"><B>Writing Systems and Script Systems</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING26-0></A>
<H2><A NAME=MARKER-9-184></A>Components of the Macintosh Script Management System</H2>
 <A NAME=MARKER-2-85></A>This section describes the organization of the Macintosh script management system, those parts of the system software that provide support for the writing-system features described in the previous section, <A HREF=Text-25.html#MARKER-9-113>"Features of the World's Writing Systems."</A><P>
 The Macintosh script management system makes it possible to represent many writing systems and languages on the Macintosh computer. With the Macintosh script management system, your application's text-manipulation capabilities can extend far beyond the Roman writing system and its languages. If you use its features your application can have a much wider market worldwide. You can implement text-handling capabilities that work properly with any supported writing system, or you can tailor your application to work correctly with any specific writing system or any regional variation of a writing system.<P>
 The script management system supplies much of the same basic capability for entering and displaying text as does a multi-language word processor--but on a system level. Since the capability is built into the system, you do not have to duplicate the code necessary to support each writing system; instead, you can devote your efforts to the primary functions of your application.<P>
 As <A HREF=#MARKER-9-186>Figure 1-31</A> shows, the script management system consists of<P>
<UL>
<LI>routines in various components (managers) of system software
<LI>two WorldScript extensions (optional)
<LI>one or more script systems
<LI>one or more fonts<P>
</UL>
 The text managers and the script extensions are mostly code; they execute the script-aware calls your application makes when handling text. The script systems and fonts are mostly data; they consist largely of tables of script-specific information used by the text routines, and glyph descriptions.<P>
<B>Figure 1-31  <A NAME=MARKER-9-186></A>Components of the script management system for text display</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/IS_L-43.jpg">
<A NAME=HEADING26-12></A>
<H3>The Macintosh Text Managers</H3>
 Several parts of Macintosh system software work together to provide specific text-handling services to your application. These text-related managers include the Script Manager, the text-handling components of QuickDraw, the Font Manager, the Text Utilities, the Text Services Manager, and the Dictionary Manager.<P>
<A NAME=HEADING26-14></A>
<H4>The Script Manager</H4>
 <A NAME=MARKER-2-299></A>The Script Manager is at the center of the Macintosh script management system. It initializes script systems and makes them available to applications; it maintains important data structures and provides a standard application interface to script systems; it supports switching text input among different script systems; and it provides several text-manipulation services.<P>
 The Script Manager works closely with the Text Utilities and with QuickDraw. Your program typically makes calls to all three managers in the course of text-handling, and in many cases a call to one of these managers results in internal calls among them. TextEdit also relies on the Script Manager, Text Utilities, and QuickDraw to make sure that it handles text correctly in any script system.<P>
 The Script Manager provides routines with which you can<P>
<UL>
<LI>control the values of many script-related settings, including the <I>system direction</I> and the keyboard script
<LI>get information about script systems, such as script codes, character-type information, and direct access to a script's international resources
<LI>modify text through lexical conversion to tokens or phonetic conversion within a script system
<LI>modify script systems by replacing international resources or routines<P>
</UL>
 In particular, the Script Manager gives you access to <I><A NAME=MARKER-2-299></A>Script Manager variables,</I> which control many overall settings of the text environment, and <A NAME=MARKER-2-298></A><I>script variables,</I> which control settings specific to each enabled script system.<A NAME=MARKER-2-300></A><P>
<A NAME=HEADING26-23></A>
<H4>QuickDraw</H4>
 <A NAME=MARKER-2-301></A>QuickDraw is the graphics manager of Macintosh system software. The graphics components of QuickDraw are described in the QuickDraw chapters in <I>Inside Macintosh: Imaging;</I> the text-handling components of QuickDraw are described in the chapter "QuickDraw Text" in this book.<P>
 Your application makes QuickDraw calls to write text to the screen or to a printer. When QuickDraw draws text, it places bitmapped shapes on the display device that represent the characters it is drawing. The characters are drawn according to the settings of the currrent window's graphics port record, which includes the location at which to draw and a specification of the font and character attributes with which to draw.<P>
 For text in various script systems, the QuickDraw text routines allow you to<P>
<UL>
<LI>set the characteristics of the drawing environment
<LI>draw text
<LI>measure the width of text
<LI>lay out lines of text
<LI>determine caret positions and highlight text<A NAME=MARKER-2-452></A><P>
</UL>
<A NAME=HEADING26-32></A>
<H4>Font Manager</H4>
 <A NAME=MARKER-2-302></A>QuickDraw cannot draw text without a font. The Font Manager supports QuickDraw by providing the character bitmaps that QuickDraw needs, in the typefaces, sizes, and styles that QuickDraw requests. The Font Manager keeps track of all fonts available to an application. The Font Manager supports fonts in many languages, for both bitmapped and outline fonts, and for both 1-byte and 2-byte fonts.<P>
 Besides providing QuickDraw with the bitmaps it needs, the Font Manager provides routines with which you can<P>
<UL>
<LI>determine the characteristics of a font
<LI>change certain font settings, such as fractional widths or scaling
<LI>favor outline fonts over bitmapped fonts
<LI>manipulate fonts in memory<A NAME=MARKER-2-8></A><P>
</UL>
<A NAME=HEADING26-39></A>
<H4>Text Utilities</H4>
 <A NAME=MARKER-2-421></A>The Text Utilities are an integrated collection of routines for performing a variety of operations on text, ranging from sorting strings to formatting dates and times to finding word boundaries. The Text Utilities work in conjunction with the Macintosh script management system and can take into account the differences in text-handling among script systems. If you use these routines you can handle text operations in a manner that is transportable to different parts of the world.<P>
 Many of the Text Utilities routines are script-aware; they work in conjunction with the Script Manager and with QuickDraw to determine the script-system characteristics of text and to prepare the text for drawing to the screen or printing.<P>
 The Text Utilities provide routines that, for text in any script system, allow you to<P>
<UL>
<LI>define strings in various ways
<LI>compare and sort strings
<LI>modify the contents of strings by truncation, stripping of diacritical marks, case conversion, or replacement
<LI>find boundaries of words, lines, and runs of Roman characters
<LI>convert and format date and time strings
<LI>convert and format numeric strings<A NAME=MARKER-2-853></A><P>
</UL>
<A NAME=HEADING26-49></A>
<H4>Text Services Manager</H4>
 <A NAME=MARKER-2-201></A>The Text Services Manager is the part of Macintosh system software that provides an environment for applications to use text services such as input methods. The Text Services Manager handles communication between client applications and text service components.<A NAME=MARKER-2-536></A> <B>Text service components</B> are specialized software modules for entry, processing, or formatting of text.<P>
 Client applications can use the Text Services Manager to<P>
<UL>
<LI>make text services available to the user
<LI>search for and communicate with text service components
<LI>accept text input or other information from text service components
<LI>ask for a special floating input window service<P>
</UL>
 Text service components can use the Text Services Manager to<P>
<UL>
<LI>make their text service available to an application
<LI>act on events involving their windows, menus, or cursor
<LI>pass text input or other information to an application
<LI>display floating utility windows<A NAME=MARKER-2-39></A><P>
</UL>
<A NAME=HEADING26-61></A>
<H4>Dictionary Manager</H4>
 <A NAME=MARKER-2-40></A>The Dictionary Manager is the part of Macintosh system software that allows you to create dictionaries for input methods and other text services that let the user enter, format, and process text. A dictionary is a data file with information essential to the conversion of text from one form to another. Most input methods provide both a <A NAME=MARKER-2-200></A><B>main dictionary,</B> which contains standard information for conversion between forms, and a <B><A NAME=MARKER-2-574></A>user dictionary,</B> which allows users to add custom information.<P>
 The Dictionary Manager defines a uniform and public dictionary format that you can apply to your text service's dictionaries. The Dictionary Manager provides routines with which you can<P>
<UL>
<LI>create and access a dictionary
<LI>locate, insert, or delete records in a dictionary
<LI>compact data in a dictionary<A NAME=MARKER-2-182></A><P>
</UL>
<A NAME=HEADING26-67></A>
<H3>The WorldScript Extensions</H3>
 The Roman script system, always available on every Macintosh, needs only the previously mentioned managers to function correctly. Several other similar script systems also need no other software. However, for those 1-byte script systems that have contextual characters or right-to-left line direction, additional code is needed so that the Script Manager, Text Utilities, and QuickDraw routines can work properly. Likewise, 2-byte script systems need code extensions in order to properly handle the thousands of characters they use.<P>
 Although each writing system has unique requirements and procedures for presenting, sorting, and formatting text, in many cases separate script systems can use similar algorithms. Therefore, to avoid inconsistencies and unnecessary duplication of code, the script management system supplies two system extension files--WorldScript I and WorldScript II--that support 1-byte complex script systems and 2-byte script systems, respectively (see <A HREF=Text-28.html#MARKER-9-224>"Types of Script Systems" on page 1-46</A>). They contain code that implements many script-aware text-manipulation routines, eliminating the need for each script system to maintain its own code extensions. Script-specific behavior is encoded in resource-based tables accessed by the extensions.<P>
 WorldScript I and WorldScript II are described in the appendix "Built-in Script Support" in this book.<P>
<A NAME=HEADING26-71></A>
<H4>WorldScript I</H4>
 <A NAME=MARKER-2-28></A>WorldScript I is the script extension that implements table-driven text measuring and drawing behavior for all 1-byte complex script systems (such as Hebrew, Arabic, Thai, and Devanagari). Using tables in each script system's international resources, WorldScript I performs text manipulation properly for all supported scripts. WorldScript I is a single file located in the Extensions folder within the System Folder on the user's Macintosh. It installs all compatible 1-byte script systems that are present in the System file, and provides them with a standard set of script-aware text-manipulation routines.<P>
 WorldScript I implements <B>script utilities,</B> the low-level routines through which an individual script system implements script-aware Text Utilities, QuickDraw, and Script Manager routines. WorldScript I also implements patches to certain QuickDraw and Font Manager text-handling routines.<P>
 The Script Manager provides routines that allow you to modify or replace a 1-byte complex script system's script utilities and QuickDraw patches. See the chapter "Script Manager" in this book.<A NAME=MARKER-2-149></A><P>
<A NAME=HEADING26-75></A>
<H4>WorldScript II</H4>
 <A NAME=MARKER-2-183></A>WorldScript II is the script extension that implements table-driven text measuring and drawing behavior for all 2-byte (Chinese, Japanese, Korean) script systems. Using tables in each script system's international resources, WorldScript II performs text manipulation properly for all supported scripts. WorldScript II is a single file located in the Extensions folder within the System Folder on the user's Macintosh. It installs all compatible 2-byte script systems that are present in the System file, and provides them with a standard set of script-aware text-manipulation routines.<P>
 Like WorldScript I, WorldScript II implements script utilities that implement script-aware Text Utilities, QuickDraw, and Script Manager routines. Unlike WorldScript I, WorldScript II does not support the Script Manager routines that allow replacement of script utilities.<A NAME=MARKER-2-150></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-25.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-27.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
