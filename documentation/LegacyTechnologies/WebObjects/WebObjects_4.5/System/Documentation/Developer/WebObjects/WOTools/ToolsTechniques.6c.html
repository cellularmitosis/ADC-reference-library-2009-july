<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Representation of Relationships</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Tools and Techniques</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="ToolsTechniques.6a.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="ToolsTechniques.6b.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="ToolsTechniques.6d.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><HR></DIV><H1><A NAME="pgfld=11141"> </A><A NAME=21759"> </A>Representation of Relationships</H1><P CLASS="Body"><A NAME="pgfId=11139"> </A>Properties that are relationships (instead of attributes) have their own set of display components that you can use. Take the following list page as an example:</P><A NAME="pgfId=11808"> </A></P><DIV><IMG SRC="images/ListPage2.gif"></DIV><A NAME="pgfId=11824"> </A></P><P CLASS="Body"><A NAME="pgfId=15206"> </A>There are four relationships on this page. Two are to-one relationships (Studio and Plot Summary) and two are to-many relationships (Directors and Roles). By default, all to-many relationships are displayed using DisplayToManyFault, and to-one relationships use DisplayToOneFault. &quot;Fault&quot; indicates that the records in the relationship aren't displayed until they are asked for; that is, until the user clicks Inspect. When you click Inspect, a list page appears, showing all the records in the relationship (such as all roles in the movie). </P><P CLASS="Body"><A NAME="pgfId=11809"> </A>You can change the display component for the relationship to get a different presentation. Consider the Roles relationship in the Movie-List page example above. Using your browser, navigate to the list page for the Movie entity. Move the roles property to the Show list using the Web Assistant and select the DisplayToManyBrowser component from the WOComponent pop-up list. The right side of the Web Assistant should look similar to the following example:</P><A NAME="pgfId=11846"> </A></P><DIV><IMG SRC="images/WA_DisplayToManyBrowser.gif"></DIV><A NAME="pgfId=11885"> </A></P><P CLASS="Body"><A NAME="pgfId=15208"> </A>In addition to the Alignment pop-up list, the WOComponent group includes two controls specific to the display of relationships. The items in the Target Keys browser are selected attributes of the destination entity; these &quot;target keys&quot; refer to a string identifying a to-many relationship. In this case the Movie Roles entity has one target key, <B>roleName</B>. In addition, Direct to Web provides a default key called <B>userPresentableDescription</B>, which is usually a combination of the relationship's keys, if there are multiple keys. </P><P CLASS="Body"><A NAME="pgfId=11847"> </A>The Allow Collapsing checkbox, when checked, causes the relationship initially to be presented as a disclosure triangle followed by a number and the plural form of the display name for the destination entity (for example, &quot;6 Movie Roles&quot;). When the user clicks the triangle, the table cell expands to display the items in the form appropriate to the display component; in this case, a browser:</P><A NAME="pgfId=11866"> </A></P><DIV><IMG SRC="images/DisplayToManyBrowser.gif"></DIV><A NAME="pgfId=11867"> </A></P><P CLASS="Body"><A NAME="pgfId=15210"> </A>To get a better sense of the control you have over the presentation of relationships, set the display component for the Movie Roles relationship to DisplayToMany and uncheck the Allow Collapsing checkbox. When you update your browser, a cell in the Roles table should look similar to this:</P><A NAME="pgfId=11956"> </A></P><DIV><IMG SRC="images/DisplayToMany.gif"></DIV><A NAME="pgfId=11957"> </A></P><P CLASS="Body"><A NAME="pgfId=15212"> </A>To-one relationships by their nature offer fewer possibilities for presentation.The DisplayToOneFault component presents an Inspect button which, when clicked, displays the relationship record in an inspect page. The other choice of component, DisplayToOne, displays the target key for the single destination record as a hyperlink which, when clicked, brings you to the same inspect page. </P><P CLASS="Body"><A NAME="pgfId=11958"> </A>A note of caution: The type of display component appropriate to a relationship depends on the likely number of records in that relationship. For example, the Studio entity has a Movies to-many relationship; if some studios have produced hundreds of movies, it might make more sense to use DisplayToManyFault (that is, the Inspect button) rather than display the titles of all those movies in a cell in the table.</P><P CLASS="Body"><A NAME="pgfId=11948"> </A>To find out more about a display component for a relationship, click the Info button in the Web Assistant after selecting the component.</P><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated July 27 99)<P><A HREF="ToolsTechniques.6a.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="ToolsTechniques.6b.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="ToolsTechniques.6d.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>