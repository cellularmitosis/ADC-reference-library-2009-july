<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 03-24-01 --><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note TN1027: On the Importance of Print Testing: A Brief Checklist</title>    <meta name="keywords" content="Mac OS 8 Print Testing guidelines compatibility Manager Non-PostScript">    <meta name="Description" content="Technical Note TN1027: This Technical Note provides a fewimportant guidelines, such as only make Print Manager callsfrom within PrOpen-PrClose, to alert you to problem printingareas, and to help you test your application."><meta name="categories" content="Printing"><meta name="week-posted" content="Jan 29, 1996 - Feb 2, 1996"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002869" title="On the Importance of Print Testing: A Brief Checklist"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxPrinting-date.html">Printing</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Printing/idxHardwareDrivers-date.html" target="_blank">Printing > Hardware & Drivers</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1027</div>
<div id="pageheadsub">On the Importance of Print Testing: A Brief Checklist</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"> <!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">    <tr><td width=300 valign="top" align=left scope="row">    <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td></tr><tr bgcolor="#e6e6e6">    <td background="images/tnmenubody.gif" width=300 align=left><span id="menutitle">    CONTENTS     <BR>    <BR></span>    </td></tr><tr bgcolor="#e6e6e6">    <td background="images/tnmenubody.gif" width=300 align=left><!-- begin_toc --><P id = "menutext"><A HREF = "#RTFToC1">Testing on a Non-PostScript Printer: Check #1</a><br><br><A HREF = "#RTFToC2">One-pass vs Two-pass Printing: Check #2</a><br><br><A HREF = "#RTFToC3">Only Make Print Manager Calls Inside<BR>PrOpen-PrClose: Check #3</a><br><br><A HREF = "#RTFToC4">Make Sure You Check Error Codes: Check #4</a><br><br><A HREF = "#RTFToC5">Printing Based on QuickDraw GX: Check #5</a><br><br><A HREF = "#Summary">Summary</a><br><br><A HREF = "#References">References</a><br><br><A HREF="#Downloads">Downloadables</A></P>   <!-- end_toc -->  </td></tr><tr>    <td width=300 align=left scope="row"><img src="images/tnmenubottom.gif" alt="" width=300 height=16>    </td></tr>    </table></td><td width=300 valign="top" align=left><!-- begin_intro_text -->  <P id = "introtext">Although the Macintosh printing architecture has only two major flavors --  QuickDraw GX and traditional, Print Manager printing -- many applications just can't seem to get printing right. (No fingers pointed here: you know who you are). For example, some apps require a specific driver in order to print correctly; other apps assume that certain undocumented APIs and structures will remain constant across different versions of printer drivers. (There's a reason we don't document LaserPrep, or how a driver uses the fields within PrintX).</p><P id = "introtext">This Technote provides you with a few, important guidelines to alert you to problem printing areas, and to help you test your application. If your application is guilty of breaking the rules, you should at least think about fixing the incompatibilities, since there will only be more change in the future.</p><!-- end_intro_text --><!-- begin_date --><h3 align=center>&nbsp;[Feb 1 1996]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_table_box --> <BR><BR>          <hr width=500 align=center>          <BR><BR> <!-- begin_content --><a name="RTFToC1"></a><h2>Testing on a Non-PostScript Printer: Check #1</h2><P>The LaserWriter driver supports sending PostScript to a printer within PicComments. If your application generates its own PostScript, you should verify that you can at least print to non-PostScript printers. Currently, the StyleWriter 2400 is a popular QuickDraw printer, so that's a good non-PostScript printer to test with, but the important point is to try printing with more than one print driver.</p><P>Things to look for:</p><ul><li>do your images still print?</li><li>does text print?</li><li>does text print with the same line-breaks?</li><li>do you use entries from &lt;&lt;shudder&gt;&gt; LaserPrep?</li></ul><P>In general, anytime you supply PostScript to draw objects on the page on a PS printer, you should also supply QuickDraw, so the same page can be printed on a QuickDraw printer. These things may seem obvious, but they'll make a big difference in how your customers will perceive the usefulness of your app. While the customer may have a PostScript printer, it may be busy printing another job at the moment, or they may just consider it more convenient to print to the StyleWriter that's sitting on their desk. If your application will only print with a certain driver, make sure you're prepared to deal with customers who may want to print from another print driver.</p><BR><P><A HREF="#top">Back to top</A></P><a name="RTFToC2"></a><h2>One-pass vs Two-pass Printing: Check #2</h2><P>LaserWriter 7.x and earlier implements one-pass (or direct) printing. It also supports two-pass (background) printing. LaserWriter 8 always does two-pass printing, as does QuickDraw GX. The two-passes through the printed data allow the driver to optimize the code that it generates for the printer. This comes at the penalty of needing enough space to store all the data on the system (boot) hard drive.</p><P>LaserWriter 8.4 will again support one-pass printing when it is released, so you should test with LaserWriter 7 with background printing off, and also with LaserWriter 8 to ensure the best compatibility with both printing methods.</p><P>There are two common mistakes applications make here. One is not handling errors correctly when a spooling print driver runs out of disk space (don't just put up an alert saying "Printing Error Code 575789390," use a descriptive message), and the other is depending on the driver somehow mystically divining what you really mean and doing the right thing as it optimizes your print job. This last falls into the category of depending on the specific behavior of a driver, but it's often unintentional.</p><P>An example is an application that "knows" that the LaserWriter driver will make a font available in PostScript if you print any character in that font, so the application will print a space character, and then ask for the font via PostScript. One problem is that the driver may not send the complete font when all you ask for is a space character. Another is that the driver may decide to name the font it sends something other than what you expect.</p><BR><P><A HREF="#top">Back to top</A></P><a name="RTFToC3"></a><h2>Only Make Print Manager Calls Inside PrOpen-PrClose: Check #3</h2><P>An application should only make Print Manager calls between PrOpen and PrClose.</p><P>A lot of apps make the mistake of calling PrintDefault() with a closeddriver. Although recent Apple QuickDraw drivers and the LaserWriter 8.4driver are "smart" about this, older drivers still in use (such asLaserWriter 8.2.3f, LaserWriter 8.3.x, and Color StyleWriter Pro) arenot. <a href="http://developer.apple.com/documentation/mac/QuickDraw/QuickDraw-2.html"><CITE>Inside Macintosh: Imaging with QuickDraw</CITE></A> is vague on this point. In Chapter 9, the general sections maintainthat the app must call PrOpen() before making any Print Manager calls,but the reference for PrintDefault() doesn't say explicitly that appsmust call PrOpen() first. The documentation for all other functionsstates explicitly that PrOpen() is a necessary call.</p><P>The solution is to wrap calls to PrDefault with PrOpen-PrClose.</p><BR><P><A HREF="#top">Back to top</A></P><a name="RTFToC4"></a><h2>Make Sure You Check Error Codes: Check #4</h2><P>Some apps aren't prepared for PrStlDialog(), PrJobDialog(), PrJobDlgMain(), or PrValidate() to return errors. With LaserWriter 8, if there is no chosen printer, the driver doesn't know what settings to use and returns an error. Some apps just keep right on going and crash because they have a nil handle for a dialog resource.</p><P>The solution is to check your errors and handle them gracefully.</p><BR><P><A HREF="#top">Back to top</A></P><a name="RTFToC5"></a><h2>Printing Based on QuickDraw GX: Check #5</h2><P>QuickDraw GX has its own printing architecture, which is vastly different from the old way of doing things. More than likely, future versions of the Mac OS may be based on QuickDraw GX printing. At an absolute minimum, you should make sure your application can still print correctly with QuickDraw GX installed. A good minimum step to take is to use the QuickDraw GX printing dialogs, even if you still image via QuickDraw. If your application supports QuickDraw GX printing, you should test that more thoroughly, of course.</p><BR><P><A HREF="#top">Back to top</A></P><a name="Summary"></a><h2>Summary</h2><P>This has been a pretty short list of things to test in your application.Checking all of them in advance will at least let you know of and hopefully fixany compatibility problems your application faces now and in the future.It will also help you gauge the effort you'll need to make to get readyfor future Mac OS developments.</p><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>This Technote will be revised and updated as new drivers come out.</P></TD></TR></TABLE></CENTER><BR><BR><P><A HREF="#top">Back to top</A></P><A NAME="References"></A><H2>References</h2><P><a href="http://developer.apple.com/dev/techsupport/develop/issue19toc.shtml">Print Hints: "Top 10 Printing Crimes,"</A> <CITE>develop</CITE>, Issue 10</p><P><a href="http://developer.apple.com/documentation/mac/QuickDraw/QuickDraw-406.html"><i>Inside Macintosh: Imaging with QuickDraw,</i></A> Chapter 9</p><P>Technote <A HREF = "../pr/pr_10.html">PR 10  "A Print Loop That Cares."</a>"Adding QuickDraw GX Printing to QuickDraw Applications," by Dave Hersey, <a href="http://developer.apple.com/dev/techsupport/develop/issue19toc.shtml"><CITE>develop</CITE>, Issue 19</a></p><BR><P><A HREF="#top">Back to top</A></P>          <A NAME=Downloads></A>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="100%">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (168K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/tn1027.pdf">Download</A></P>               </TD>            </TR>         </TABLE>         <BR><BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER>		<!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1027.html%3Fid%3DDTS10002869-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1027.html%3Fid%3DDTS10002869-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1027.html%3Fid%3DDTS10002869-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>