<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects Direct to Web Guide: Customizing a Direct to Web Application</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Customizing a Direct to Web Application"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3" title="Customizing a Direct to Web Application"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../InternetWeb/index.html#//apple_ref/doc/uid/TP30000440-TP30000469" target="_top">Internet &amp; Web</a> &gt; <a href="../../../InternetWeb/WebObjects-date.html#//apple_ref/doc/uid/TP30000440-TP30000469-TP30000592" target="_top">WebObjects</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_4-TPXREF101">WebObjects Direct to Web Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Architecture/Architecture.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Appendix/Appendix.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABJCFJA" title="Customizing a Direct to Web Application"></a><h1>Customizing a Direct to Web Application</h1><p>This chapter shows some of the ways you can customize the behavior of a Direct to Web application. Specifically, this chapter discusses how to</p><ul class="ul"><li class="li"><p>add a logo to your Direct to Web pages</p></li><li class="li"><p>use Direct to Web in other WebObjects applications</p></li><li class="li"><p>modify the Direct to Web factory</p></li><li class="li"><p>create a custom property-level component</p></li><li class="li"><p>modify a Direct to Web task</p></li><li class="li"><p>add a task to Direct to Web</p></li><li class="li"><p>add methods to the Direct to Web rule engine</p></li></ul>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF101">Adding a Logo to Your Direct to Web Pages</a>
				
			<br/>
			
        
			
			
				<a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF102">Using Direct to Web in Other WebObjects Applications</a>
				
			<br/>
			
        
			
			
				<a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIBCHDI">Modifying the Direct to Web Factory</a>
				
			<br/>
			
        
			
			
				<a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF108">Creating a Custom Property-Level Component</a>
				
			<br/>
			
        
			
			
				<a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIBCIIE">Modifying a Direct to Web Template</a>
				
			<br/>
			
        
			
			
				<a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIIJGIJ">Adding a New Direct to Web Task to Your Application</a>
				
			<br/>
			
        
			
			
				<a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABGHDED">Adding Authentication to the Main Component</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF101" title="Adding a Logo to Your Direct to Web Pages"></a><h2>Adding a Logo to Your Direct to Web Pages</h2><p>The Neutral look is well-suited for adding a logo because it doesn’t already display the Apple or WebObjects logos, unlike the Basic and WebObjects looks. To add a company logo to your Direct to Web pages, you need to add the HTML code that displays the logo to two components: <code>Main.wo</code>, which implements the login page, and <code>PageWrapper.wo</code>, which provides the backdrop for all of the pages Direct to Web generates. In this example, the Apple logo is added to <code>PageWrapper.wo</code>.</p><ol class="ol"><li class="li"><p>Edit <code>PageWrapper.html</code>. Line five reads:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;TABLE BORDER=0 CELLPADDING=4 CELLSPACING=0WIDTH="99%"><span></span></pre></td></tr></table></div><p>After this line add</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;TR><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TD>&lt;WEBOBJECTNAME=Image1>&lt;/WEBOBJECT>&lt;/TD><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;TD COLSPAN=3>&lt;/TD><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/TR><span></span></pre></td></tr></table></div></li><li class="li"><p>Edit <code>PageWrapper.wod</code> to specify the bindings for the WOImage. Add the following lines:</p><div class="codesample"><table><tr><td scope="row"><pre>Image1:WOImage {<span></span></pre></td></tr><tr><td scope="row"><pre>    filename = "Apple-fade.gif";<span></span></pre></td></tr><tr><td scope="row"><pre>    framework = "JavaDirectToWeb";<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li></ol><p>Now all of the pages Direct to Web generates appear with the Apple logo. If you want to use a custom image already added to your WebObjects project, <code>filename</code> would be the image name, and <code>framework</code> would most likely be <code>"app"</code>.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF102" title=" Using Direct to Web in Other WebObjects Applications"></a><h2> Using Direct to Web in Other WebObjects Applications</h2><p>WebObjects applications that were not generated using the Direct to Web option in the wizard can use the Direct to Web framework to display query, list, edit, and other pages in the Direct to Web repertoire. Making use of Direct to Web can be a convenient shortcut for many applications when all they need is a standard database-related page. They can use Direct to Web in one of two ways:</p><ul class="ul"><li class="li"><p>by embedding Direct to Web components in the pages of their application</p></li><li class="li"><p>by linking to a dynamically created Direct to Web page and appropriately implementing the action method invoked when the link is clicked</p></li></ul><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF103" title="Embedding Direct to Web Components"></a><h3>Embedding Direct to Web Components</h3><p>Using a Direct To Web component is not much different than using any other reusable component. In this section you create a D2WQuery that searches for Listing entities based on the address. The procedure is the following:</p><p></p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-DontLinkElementID_1" title="Note"></a><p><strong>Note:</strong>&nbsp;The example below uses a WODisplayGroup with Listing as its entity from the RealEstate EOModel. The easiest way to put a WODisplayGroup in your component is using drag-and-drop. Drag the Listing entity in EOModeler onto your component in WebObjects Builder, and the WODisplayGroup will be created. You shouldn’t need to configure anything, so just click Add when prompted.</p></div><ol class="ol"><li class="li"><p>Add the Direct to Web and the Direct to Web Generation frameworks to your project. The path for these frameworks is <code>/System/Library/Frameworks</code> and the file names are <code>JavaDirectToWeb.framework</code>, <code>JavaDTWGeneration.framework</code>, and <code>JavaEOProject.framework</code>.</p></li><li class="li"><p>Decide which Direct to Web component you want to use and become familiar with its API.</p><p>See the “D2W” class reference in the WebObjects API Reference for summaries of these components.</p></li><li class="li"><p>Put a WebObjects tag for the component in the page that is to display it.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;WEBOBJECT NAME=MyD2WQuery>&lt;/WEBOBJECT><span></span></pre></td></tr></table></div><p>This is a step you can complete in WebObjects Builder. The reusable components are available from the “DirectToWeb” palette.</p></li><li class="li"><p>Make the appropriate bindings for the component.</p><div class="codesample"><table><tr><td scope="row"><pre>MyD2WQuery:D2WQuery {<span></span></pre></td></tr><tr><td scope="row"><pre>    entityName="Listing";<span></span></pre></td></tr><tr><td scope="row"><pre>    displayKeys="(address.city,address.state, address.zip)";<span></span></pre></td></tr><tr><td scope="row"><pre>    queryDataSource=listingDisplayGroup.dataSource;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>All embedded components require an <code>entityName</code> binding to specify the entity the page works with. Extra bindings could be required, depending on the functionality of the page. For example, List pages require a <code>dataSource</code> binding. If you want to use a named configuration, specify it with a <code>pageConfiguration</code> binding. See <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BABCJDCC">“Named Configurations”</a></span> for more information about named configurations.</p><p>You can also complete this step in WebObjects Builder.</p></li><li class="li"><p>If necessary, implement the action method for the component. </p></li><li class="li"><p>You can customize embedded Direct to Web components using the Web Assistant. You can launch the Web Assistant using the <code>appletviewer</code> tool. </p><p>When the Web Assistant acts upon an application that was not generated using Direct to Web, it does not automatically track which page is displayed. Thus you must set the task and entity for the page you want to modify in Expert mode. For example, if you want to customize a list page for Customers, click Expert mode and select the list task and the Customer entity. You can then customize a component in the same way you customize Direct to Web pages. Also, when you click Update to send the new settings to the application, the browser does not automatically refresh your page. You must either click the Reload button in your browser or (especially when you select a new task or entity) you must renavigate to the page.</p></li></ol><p>By default, your component appears in the Neutral look.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-DontLinkElementID_2" title="Note"></a><p><strong>Note:</strong>&nbsp;If you set the display keys as shown above—hard-wire the values in the code—then those values are used not any rules you set using the WebAssistant.</p></div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF104" title="Linking to a Direct to Web Page"></a><h3>Linking to a Direct to Web Page</h3><p>The second way to use Direct to Web in you application is to link directly to a dynamically generated page of the appropriate type. The D2W class defines methods that create components (inspect, query, list, and so on) defined for an entity in a session. The returned component objects implement the appropriate interface:</p><div class="codesample"><table><tr><td scope="row"><pre>QueryPageInterfacequeryPageForEntityNamed (String entity,<span></span></pre></td></tr><tr><td scope="row"><pre>    WOSession session);<span></span></pre></td></tr><tr><td scope="row"><pre>ListPageInterface listPageForEntityNamed(String entity,<span></span></pre></td></tr><tr><td scope="row"><pre>    WOSession session);<span></span></pre></td></tr><tr><td scope="row"><pre>EditPageInterface editPageForEntityNamed(String entity,<span></span></pre></td></tr><tr><td scope="row"><pre>    WOSession session);<span></span></pre></td></tr><tr><td scope="row"><pre>InspectPageInterface inspectPageForEntityNamed(String entity,<span></span></pre></td></tr><tr><td scope="row"><pre>    WOSession session);<span></span></pre></td></tr><tr><td scope="row"><pre>SelectPageInterface selectPageForEntityNamed(String entity,<span></span></pre></td></tr><tr><td scope="row"><pre>    WOSession session);<span></span></pre></td></tr><tr><td scope="row"><pre>EditRelationshipPageInterfaceeditRelationshipPageForEntityNamed<span></span></pre></td></tr><tr><td scope="row"><pre>    (String entity, WOSessionsession);<span></span></pre></td></tr><tr><td scope="row"><pre>QueryAllPageInterface queryAllPage(WOSession session);<span></span></pre></td></tr></table></div><p>To create a named configuration page, you use the method</p><div class="codesample"><table><tr><td scope="row"><pre>WOComponentpageForConfigurationNamed<span></span></pre></td></tr><tr><td scope="row"><pre>    (String namedConfiguration,WOSession session);<span></span></pre></td></tr></table></div><p>To link to a Direct to Web page, you need to implement an action method that returns a Direct to Web component implementing the appropriate page interface.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF105" title="Implementing the Action Method"></a><h4>Implementing the Action Method</h4><p>To implement the action methods that link to Direct to Web pages, you must use methods of the D2W class and the page-specific Direct to Web interfaces. You also need to specify a hyperlink, active image, or similar HTML control that invokes the action method. The following example shows such a hyperlink; first, the <code>WEBOBJECT</code> tag in the HTML template file:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;WEBOBJECTname=D2WListPage>D2W list page&lt;/WEBOBJECT><span></span></pre></td></tr></table></div><p>Then, in the <code>.wod</code> file, bind the hyperlink to the <code>d2wList</code> action method:</p><div class="codesample"><table><tr><td scope="row"><pre>D2WListPage:WOHyperlink {<span></span></pre></td></tr><tr><td scope="row"><pre>    action = d2wList;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The action method must return a component (that is, a WOComponent object) that implements the interface appropriate to the required type of page. For example, if you want to link to a dynamically generated list page, the component returned must implement the ListPageInterface interface. The D2W class provides methods that create such components:</p><div class="codesample"><table><tr><td scope="row"><pre>importcom.webobjects.directtoweb.*;<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>.<span></span></pre></td></tr><tr><td scope="row"><pre>public WOComponent d2wList(){<span></span></pre></td></tr><tr><td scope="row"><pre>    ListPageInterface lpi =<span></span></pre></td></tr><tr><td scope="row"><pre>        D2W.factory().listPageForEntityNamed("Listing",session());<span></span></pre></td></tr><tr><td scope="row"><pre>    lpi.setDataSource(listingDisplayGroup.dataSource());<span></span></pre></td></tr><tr><td scope="row"><pre>    lpi.setNextPage(this);<span></span></pre></td></tr><tr><td scope="row"><pre>    return (WOComponent)lpi;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Notice that before you return the component, you must set things such as the data source for the component and the page to go to when users click Return (<code>setNextPage</code>). This example assumes that the data you want to display is contained in the EODataSource for a WODisplayGroup called <code>listingDisplayGroup</code>.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF106" title="Setting Up a Next-Page Delegate"></a><h4>Setting Up a Next-Page Delegate</h4><p>For some pages, you need to specify the action method that navigates to the next page. Consider a component called MyListPage that displays a list of objects and has a hyperlink that adds objects to the list. To determine which objects to add, the component invokes a Direct to Web query page.</p><p>The query page behavior differs from the normal Direct to Web query page behavior in two ways:</p><ul class="spaceabove"><li class="li"><p>Normally a query page creates a Direct to Web list page when the user clicks the Search DB button. In this example, however, the query page jumps back to the MyListPage component.</p></li><li class="li"><p>When the query executes, it adds the objects to the list of objects displayed by the MyListPage component, an action the normal query component does not perform.</p></li></ul><p>To implement this custom behavior, you need to define and instantiate a delegate object in addition to creating the query component. The delegate object must implement the NextPageDelegate interface and include a method called <code>nextPage</code>, which is invoked when the user clicks the submit button for the query page (Query DB). The query component’s next page delegate must be assigned to this object using the <code>nextPageDelegate</code> method.</p><p><span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABBEHFB">Listing 3-1</a></span> shows how this can be done.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABBEHFB" title="Listing 3-1Sample code that sets up a next-page delegate"></a><p class="codesample"><strong>Listing 3-1&nbsp;&nbsp;</strong>Sample code that sets up a next-page delegate</p><div class="codesample"><table><tr><td scope="row"><pre>publicclass MyListPage extends WOComponent {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public WODisplayGroup myDisplayGroup;<span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public WOComponent showD2WQuery(){<span></span></pre></td></tr><tr><td scope="row"><pre>        QueryPageInterface qpi=<span></span></pre></td></tr><tr><td scope="row"><pre>            D2W.factory().queryPageForEntityNamed("Customer",session());<span></span></pre></td></tr><tr><td scope="row"><pre>        qpi.setNextPageDelegate(new NextPageDelegate() {<span></span></pre></td></tr><tr><td scope="row"><pre>            // delegate implementation<span></span></pre></td></tr><tr><td scope="row"><pre>            public WOComponentnextPage(WOComponent sender) {<span></span></pre></td></tr><tr><td scope="row"><pre>                EODataSourceds;<span></span></pre></td></tr><tr><td scope="row"><pre>                NSArray objectsToAdd;<span></span></pre></td></tr><tr><td scope="row"><pre>                Enumeratione;<span></span></pre></td></tr><tr><td scope="row"><pre>                ds =((QueryPageInterface)sender).queryDataSource();<span></span></pre></td></tr><tr><td scope="row"><pre>                objectsToAdd= ds.fetchObjects();<span></span></pre></td></tr><tr><td scope="row"><pre>                e = objectsToAdd.objectEnumerator();<span></span></pre></td></tr><tr><td scope="row"><pre>                while (e.hasMoreElements()){<span></span></pre></td></tr><tr><td scope="row"><pre>                    EOEnterpriseObjecteo;<span></span></pre></td></tr><tr><td scope="row"><pre>                    eo =(EOEnterpriseObject)e.nextElement();<span></span></pre></td></tr><tr><td scope="row"><pre>                    MyListPage.this.myDisplayGroup.<span></span></pre></td></tr><tr><td scope="row"><pre>                        insertObjectAtIndex(eo,0);<span></span></pre></td></tr><tr><td scope="row"><pre>                }<span></span></pre></td></tr><tr><td scope="row"><pre>                return MyListPage.this;<span></span></pre></td></tr><tr><td scope="row"><pre>            }<span></span></pre></td></tr><tr><td scope="row"><pre>        });<span></span></pre></td></tr><tr><td scope="row"><pre>        return (WOComponent)qpi;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The <code>showD2WQuery</code> method first creates a query page component. It then creates a delegate object and sets the query page’s next-page delegate to the newly created object. Finally, the method returns the new query page component, which causes WebObjects to display the query page.</p><p>The next-page delegate object contains an action method called <code>nextPage</code>, which is invoked when the user clicks Query DB on the query page. This method gets the query data source containing the query specification. Next, the <code>nextPage</code> method fetches the objects matching the query specification and adds them to the display group in the MyListPage component. Finally, it returns the MyListPage component, where you have access to the newly fetched objects in the WODisplayGroup. The WODisplayGroup could be hooked up to a WORepetition which then lists all the fetched objects.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-DontLinkElementID_3" title="Note"></a><p><strong>Note:</strong>&nbsp;If you get a null pointer exception when trying this example, one thing to check is that the WODisplayGroup <code>myDisplayGroup</code> gets instantiated.</p></div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF107" title="Setting Up the Page Wrapper"></a><h4>Setting Up the Page Wrapper</h4><p>Every application that links to a dynamically created Direct to Web page should have a component called <code>PageWrapper.wo</code>. This component acts as a “wrapper” for the dynamically generated content and can have customized header and footer material. If your application does not have a page wrapper, Direct to Web displays your pages in an empty page wrapper. <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABDHFDJ">Listing 3-2</a></span> and <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABFCCJH">Listing 3-3</a></span> show how a <code>PageWrapper.wo</code> component might be set up. You can use a text editor, Project Builder, or WebObjects Builder to construct this component.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABDHFDJ" title="Listing 3-2PageWrapper.html example"></a><p class="codesample"><strong>Listing 3-2&nbsp;&nbsp;</strong>PageWrapper.html example</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;HTML><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;WEBOBJECT name=Head>&lt;/WEBOBJECT><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;BODY><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;WEBOBJECT name=BodyContainer><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;WEBOBJECT name=Body>&lt;/WEBOBJECT><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/WEBOBJECT><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/BODY><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HTML><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABFCCJH" title="Listing 3-3PageWrapper.wod example"></a><p class="codesample"><strong>Listing 3-3&nbsp;&nbsp;</strong>PageWrapper.wod example</p><div class="codesample"><table><tr><td scope="row"><pre>BodyContainer:WOBody {<span></span></pre></td></tr><tr><td scope="row"><pre>    filename = "Background.gif";<span></span></pre></td></tr><tr><td scope="row"><pre>    framework = "JavaDirectToWeb";<span></span></pre></td></tr><tr><td scope="row"><pre>    bgcolor="#c0c0c0";<span></span></pre></td></tr><tr><td scope="row"><pre>    TEXT = "#000000";<span></span></pre></td></tr><tr><td scope="row"><pre>    LINK = "#0000F0";<span></span></pre></td></tr><tr><td scope="row"><pre>    VLINK = "#0000F0";<span></span></pre></td></tr><tr><td scope="row"><pre>    ALINK = "#FF0000";<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Head : D2WHead {<span></span></pre></td></tr><tr><td scope="row"><pre>    _unroll = true;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Body: WOComponentContent {<span></span></pre></td></tr><tr><td scope="row"><pre>    _unroll = true;<span></span></pre></td></tr><tr><td scope="row"><pre>};<span></span></pre></td></tr></table></div><p>The only required component in <code>PageWrapper.wo</code> is the WOComponentContent. The other components shown in the example are optional, and you can create your own header, footer, and body-container components for your dynamically generated pages.</p><p>The <code>_unroll</code> attribute, when set to <code>true</code>, enables the Web Assistant to generate a static component from the dynamically generated one.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIBCHDI" title="Modifying the Direct to Web Factory"></a><h2>Modifying the Direct to Web Factory</h2><p>You can override the page-creation methods of the D2W class to customize the components they return. The <code>defaultPage</code> method of the D2W class is one you might want to override; this method returns the application’s default page, which is the query-all page by default.</p><p>If you make a subclass of D2W to override or add certain methods, make sure you call the <code>setFactory</code> class method with an instance of the new class as the argument.</p><p><span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABGAAHH">Listing 3-4</a></span> is an example of how to extend the D2W class.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABGAAHH" title="Listing 3-4Customizing the D2W class"></a><p class="codesample"><strong>Listing 3-4&nbsp;&nbsp;</strong>Customizing the D2W class</p><div class="codesample"><table><tr><td scope="row"><pre>importcom.webobjects.foundation.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.eocontrol.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.directtoweb.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.appserver.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public class D2WExtendedFactory extends D2W {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public WOComponent defaultPage(WOSession session) {<span></span></pre></td></tr><tr><td scope="row"><pre>        return WOApplication.application().<span></span></pre></td></tr><tr><td scope="row"><pre>            pageWithName("MyDefaultPage",session.context());<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Add the following Java code to the application constructor in the <code>application.java</code> file:</p><div class="codesample"><table><tr><td scope="row"><pre>D2W.setFactory(newD2WExtendedFactory());<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF108" title="Creating a Custom Property-Level Component"></a><h2>Creating a Custom Property-Level Component</h2><p>Sometimes you need a custom property-level component that implements specialized behavior or that works with a type of attribute that Direct to Web doesn’t already support (such as a QuickTime movie). Direct to Web provides a property-level component called D2WCustomComponent to make it easier to create such a component. To use the D2WCustomComponent, you first create a custom component. Then you use the Web Assistant to tell Direct to Web to use it.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF109" title="Specifying the Custom Component"></a><h3>Specifying the Custom Component</h3><p>The custom property-level component must be a reusable component that defines two keys: <code>object</code> and <code>key</code>. The value for <code>object</code> specifies the enterprise object that the reusable component manipulates, for example, a Customer object. The value for <code>key</code> specifies the key of the property that the component manipulates, for example, <code>firstName</code>.</p><p>You can get the property by defining two instance variables in your component:</p><div class="codesample"><table><tr><td scope="row"><pre>EOEnterpriseObjectobject;<span></span></pre></td></tr><tr><td scope="row"><pre>String key;<span></span></pre></td></tr></table></div><p>and using the EOKeyValueCoding method <code>valueForKey</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>Stringfirst = object.valueForKey(key);<span></span></pre></td></tr></table></div><p>To store a value for the property, you use <code>takeValueForKey</code>:</p><div class="codesample"><table><tr><td scope="row"><pre>object.takeValueForKey(first,key);<span></span></pre></td></tr></table></div><p>If you are using a nonsynchronizing component, you need to get the values for the <code>object</code> and <code>key</code> bindings using the <code>valueForBinding</code> method before you get or store the property.</p><div class="codesample"><table><tr><td scope="row"><pre>EOEnterpriseObjectobject = valueForBinding("object");<span></span></pre></td></tr><tr><td scope="row"><pre>String key = valueForBinding("key");<span></span></pre></td></tr></table></div><p><span class="content_text"><a href="../Appendix/Appendix.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_1-TPXREF101">“EditStatePopup Listings”</a></span> shows an example custom component called EditStatePopup that uses a pop-up list to edit US states. The example lists the <code>.html</code>, <code>.wod</code>, and <code>.java</code> files that specify the custom component.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF110" title="Using the Custom Component With Direct to Web"></a><h3>Using the Custom Component With Direct to Web</h3><p>Once the custom component has been compiled, you can use the Web Assistant to instruct your Direct to Web application to use it. Follow these steps to configure your application to use the pop-up list state editing component for the <code>state </code>attribute on the ListingAddress edit page:</p><ol class="ol"><li class="li"><p>Open the Web Assistant. See <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BCIHGJBJ">“Customizing Your Application With the WebAssistant.”</a></span></p></li><li class="li"><p>Click the “Expert mode” button.</p><p>In Expert mode, you can make changes that affect all pages for a given task.</p></li><li class="li"><p>Select the Properties tab.</p></li><li class="li"><p>Select the <code>edit</code> task and the ListingAddress entity.</p></li><li class="li"><p>Click <code>state</code> in the Show column.</p></li><li class="li"><p>In the right column, choose D2WCustomComponent from the pop-up list.</p></li><li class="li"><p>Enter the name <code>EditStatePopup</code> in the Component text box.</p></li></ol><p>You can also use the Web Assistant to configure your application to use a custom component on every edit page by following these steps:</p><ol class="ol"><li class="li"><p>Select the <code>edit</code> task and “*all*” for the entity.</p></li><li class="li"><p>Select the data type your component handles in the type browser in the second column.</p></li><li class="li"><p>In the right column, choose D2WCustomComponent from the pop-up list.</p></li><li class="li"><p>Enter the name <code>of</code> your component in the Component text box.</p></li></ol><p>You can also configure your application to use the custom component by setting rules with the rule editor instead of using Web Assistant. To do so, use the rules shown in <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABEIEGI">Listing 3-5</a></span>. (To open the <code>user.d2wmodel</code> in the Resources group of Project Builder’s main window, drag its icon in Project Builder onto the RuleEditor icon in the Dock.)</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABEIEGI" title="Listing 3-5Setting Rules With Rule Editor"></a><p class="codesample"><strong>Listing 3-5&nbsp;&nbsp;</strong>Setting Rules With Rule Editor</p><div class="codesample"><table><tr><td scope="row"><pre>((task= "edit") and (entity.name = "ListingAddress")<span></span></pre></td></tr><tr><td scope="row"><pre>    and (propertyKey = "state")<span></span></pre></td></tr><tr><td scope="row"><pre>    => componentName = "D2WCustomComponent"<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>((task = "edit") and (entity.name= "ListingAddress")<span></span></pre></td></tr><tr><td scope="row"><pre>    and (propertyKey = "state")<span></span></pre></td></tr><tr><td scope="row"><pre>    => customComponentName= "EditDatePopup"<span></span></pre></td></tr></table></div><p>You also need to set the assignment class (Assignment) and the priority (100) for each rule. For more information about using the rule editor, see <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCICDEDH">“Adding Rules to Define the Default Behavior.”</a></span></p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIBCIIE" title="Modifying a Direct to Web Template"></a><h2>Modifying a Direct to Web Template</h2><p>To change the appearance and function of all the pages Direct to Web generates for a particular task, you need to modify its template. You can use the Web Assistant to generate the template and WebObjects Builder to edit it.</p><p>To illustrate how to modify a template, this example shows how to add a hyperlink to the NEUListPage Direct to Web template. The hyperlink simply redraws the page for now, but in <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIIJGIJ">“Adding a New Direct to Web Task to Your Application”</a></span> it will be modified to navigate to a new task page. For this example, it is easiest to start by creating a new project.</p><ol class="ol"><li class="li"><p>Create a Direct to Web application using the Real Estate database. For the look, use the Neutral look. See <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BABJIBIC">“Creating a Direct to Web Project.”</a></span></p></li><li class="li"><p>Launch your application and run the Web Assistant. See <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BCIGHACJ">“Using Your Direct to Web Application”</a></span> and <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BCIHGJBJ">“Customizing Your Application With the WebAssistant.”</a></span></p></li><li class="li"><p>Generate a Direct to Web template for the list task called “NEUListPage2” using the Web Assistant. <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BABGIBAC">“Generating a Template.”</a></span></p></li><li class="li"><p>From Project Builder, double-click <code>NEUListPage2.wo</code> in the project’s Web Components group. This opens the Direct to Web template in WebObjects Builder.</p><p>Add a hyperlink after the first instance of the metallic Return button. This instance is displayed when the list is not empty.</p><p>Add a WOImage inside the hyperlink.</p><p>Bind the following attributes to the WOImage:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Attribute</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Value</p></th></tr><tr><td  scope="row"><p><code>filename</code></p></td><td ><p>“EditMetalBtn.gif”</p></td></tr><tr><td  scope="row"><p><code>framework</code></p></td><td ><p>“JavaDirectToWeb”</p></td></tr><tr><td  scope="row"><p><code>border</code></p></td><td ><p>“0”</p></td></tr></table></div><p>Add an action called <code>editList</code> that returns <code>null</code>. </p><p>Bind the action to the Edit List hyperlink’s <code>action</code> attribute.</p></li><li class="li"><p>Save your template.</p></li><li class="li"><p>Build and launch your application. Navigate to a list page. It should now appear with an Edit button.</p><p>Since the <code>editList</code> action returns <code>null</code>, the hyperlink just redraws the page. In <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIIJGIJ">“Adding a New Direct to Web Task to Your Application,”</a></span> you will modify the action to create a new task page.</p></li></ol><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF111" title="Freezing Your Modified Direct to Web Template"></a><h3>Freezing Your Modified Direct to Web Template</h3><p>You can freeze a page based on your Direct to Web template using the Web Assistant. See <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BCIJIIDE">“Generating Components”</a></span> for more details. Make sure that your template is selected in the template pop-up list in the third column of the Web Assistant.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-DontLinkElementID_4" title="Note"></a><p><strong>Note:</strong>&nbsp;When you freeze a Direct to Web template, you lose any instance variables and methods you add to it. To avoid an unknown key exception when you display the frozen component, you need to add the same variables and methods to your frozen component.</p></div><p>In the example above, the <code>editList</code> action is missing from any component created by freezing the NEUListPage2 template.</p><p>Sometimes you add components to your Direct to Web template that have child components. For example, tables, WOConditionals, WORepetitions, and any reusable components with a WOComponentContent dynamic element all have child components. If you add such components to your Direct to Web template, add an attribute called <code>_unroll</code> and bind it to <code>YES</code>. This attribute enables Direct to Web to include the component’s children when you freeze the template.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIIJGIJ" title="Adding a New Direct to Web Task to Your Application"></a><h2>Adding a New Direct to Web Task to Your Application</h2><p>A Direct to Web application can be expanded to handle new tasks. This section describes how to add an example task called edit-list. The edit-list task page looks like a regular list page but renders the data in text fields so the user can edit the data. To create a task and use it in a Direct to Web application you need to</p><ul class="ul"><li class="li"><p>create the Direct to Web template that executes the task</p></li><li class="li"><p>add rules to configure the default behavior of the page and make it available to the Web Assistant</p></li><li class="li"><p>add a hyperlink to an existing Direct to Web template that links to the new task page</p></li></ul><p>Once you have added the task, you can use it with any entity and configure it with the Web Assistant.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF112" title="Creating the Direct to Web Template"></a><h3>Creating the Direct to Web Template</h3><p>The easiest way to create a Direct to Web template is to modify one that the Web Assistant generates. The edit-list page most closely resembles the list page.</p><ol class="ol"><li class="li"><p>For this example, begin with the project you created in the last section, <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIBCIIE">“Modifying a Direct to Web Template.”</a></span> You should have a modified NEUListPage2 Direct to Web template in your project.</p></li><li class="li"><p>Create a Direct to Web template called “NEUEditListPage” based on the NEUListPage by following steps 2–4 in <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIBCIIE">“Modifying a Direct to Web Template.”</a></span></p></li><li class="li"><p>Open <code>NEUEditListPage.wo</code> in WebObjects Builder. Follow the directions below to modify the template.</p></li><li class="li"><p>Remove the first and last columns of the main table. The left column contains an icon that opens the edit page. The right column contains an icon that deletes the record. Since the list page provides these functions, they are not duplicated on the edit-list page.</p></li><li class="li"><p>Now wrap the main table inside a WOForm. The easiest way to do this is to use the source view. Find the line</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;WEBOBJECTNAME=NavBar>&lt;/WEBOBJECT><span></span></pre></td></tr></table></div><p>Change it to</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;WEBOBJECT NAME=NavBar>&lt;/WEBOBJECT>&lt;WEBOBJECTNAME=Form1><span></span></pre></td></tr></table></div><p>Find the first <code>&lt;/CENTER></code> tag in the file. Add a closing <code>&lt;/WEBOBJECT></code> above this line.</p></li><li class="li"><p>In the next three steps, you change the Return hyperlink into a submit button and add a Save submit button that saves the changes to the database. Find the line</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;WEBOBJECT NAME=ShowCancel>&lt;WEBOBJECTNAME=BackLink>&lt;WEBOBJECT<span></span></pre></td></tr><tr><td scope="row"><pre>NAME=ReturnButton>&lt;/WEBOBJECT>&lt;/WEBOBJECT>&lt;/WEBOBJECT><span></span></pre></td></tr></table></div><p>Add</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;WEBOBJECTNAME=SubmitChanges>&lt;/WEBOBJECT><span></span></pre></td></tr></table></div><p>between the last two <code>&lt;/WEBOBJECT></code> tags. The line should now look like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;WEBOBJECTNAME=ShowCancel>&lt;WEBOBJECT NAME=BackLink>&lt;WEBOBJECT<span></span></pre></td></tr><tr><td scope="row"><pre>NAME=ReturnButton>&lt;/WEBOBJECT>&lt;/WEBOBJECT>&lt;WEBOBJECTNAME=SubmitChanges><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/WEBOBJECT>&lt;/WEBOBJECT><span></span></pre></td></tr></table></div></li><li class="li"><p>In the bindings file, find the bindings for the ReturnButton WebObjects element. Change it so it reads as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>ReturnButton:WOImage {<span></span></pre></td></tr><tr><td scope="row"><pre>    alt = "Cancels changes";<span></span></pre></td></tr><tr><td scope="row"><pre>    border = "0";<span></span></pre></td></tr><tr><td scope="row"><pre>    filename = "CancelMetalBtn.gif";<span></span></pre></td></tr><tr><td scope="row"><pre>    framework = "JavaDirectToWeb";<span></span></pre></td></tr><tr><td scope="row"><pre>    name = "Cancels changes";<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li><li class="li"><p>Add the following bindings to the bindings file:</p><div class="codesample"><table><tr><td scope="row"><pre>Form1:WOForm {<span></span></pre></td></tr><tr><td scope="row"><pre>    action = backAction;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>SubmitChanges: WOImageButton{<span></span></pre></td></tr><tr><td scope="row"><pre>    action = saveChanges;<span></span></pre></td></tr><tr><td scope="row"><pre>    alt = "Saves your changes";<span></span></pre></td></tr><tr><td scope="row"><pre>    border = "0";<span></span></pre></td></tr><tr><td scope="row"><pre>    filename = "SaveMetalBtn.gif";<span></span></pre></td></tr><tr><td scope="row"><pre>    framework = "JavaDirectToWeb";<span></span></pre></td></tr><tr><td scope="row"><pre>    name = "Saves yourchanges";<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The <code>backAction</code> method is defined by the NEUEditListPage component’s superclass, D2WListPage.</p></li><li class="li"><p>Switch back to the layout view to check for HTML syntax errors.</p></li><li class="li"><p>Save the <code>NEUEditListPage.wo</code> file.</p></li><li class="li"><p>Modify <code>NEUEditListPage.java</code> by adding the saveChanges method defined in <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABHDHIH">Listing 3-6</a></span>.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABHDHIH" title="Listing 3-6Implementation of the saveChanges method in NEUEditListPage.java"></a><br/><br/><p class="codesample"><strong>Listing 3-6&nbsp;&nbsp;</strong>Implementation of the saveChanges method in NEUEditListPage.java</p><div class="codesample"><table><tr><td scope="row"><pre>publicWOComponent saveChanges() {<span></span></pre></td></tr><tr><td scope="row"><pre>    WOComponent nextPage = this.nextPage();<span></span></pre></td></tr><tr><td scope="row"><pre>    try {<span></span></pre></td></tr><tr><td scope="row"><pre>        session().defaultEditingContext().saveChanges();<span></span></pre></td></tr><tr><td scope="row"><pre>    } catch (Exception exception){<span></span></pre></td></tr><tr><td scope="row"><pre>        ErrorPageInterface epi= (ErrorPageInterface)<span></span></pre></td></tr><tr><td scope="row"><pre>            D2W.factory().errorPage(session());<span></span></pre></td></tr><tr><td scope="row"><pre>        epi.setMessage(exception.toString());<span></span></pre></td></tr><tr><td scope="row"><pre>        epi.setNextPage(this);<span></span></pre></td></tr><tr><td scope="row"><pre>        nextPage = (WOComponent)epi;<span></span></pre></td></tr><tr><td scope="row"><pre>    } finally {<span></span></pre></td></tr><tr><td scope="row"><pre>        return nextPage;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div></li></ol><p>This Java code tries to save changes to the session’s editing context. If it fails, it returns an error page. Otherwise, it returns to the page that called it.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCICDEDH" title="Adding Rules to Define the Default Behavior"></a><h3>Adding Rules to Define the Default Behavior</h3><p>When a Direct to Web application launches, it looks for rules in two files in your project, <code>user.d2wmodel</code> and <code>d2w.d2wmodel</code>, and merges them with the rules defined in the Direct to Web framework. The Web Assistant modifies the rules in the <code>user.d2wmodel</code> file. For basic customization tasks you don’t need to edit this file by hand. When you add rules that change the default behavior of your application, you modify the <code>d2w.d2wmodel</code> file.</p><p>Defining the default behavior of a new task page also informs the Web Assistant of the new task. Specifically, the Web Assistant collects a list of tasks based on the <code>task =</code><em>“taskName” </em>clauses on the left-hand side of rules.</p><p>Direct to Web provides an application called RuleEditor to edit the rules.</p><p>For the edit-list page example, you need to</p><ul class="spaceabove"><li class="li"><p>revise the Web Assistant rules in the <code>user.d2wmodel</code> file</p><p>The Web Assistant created two rules when you generated the NEUEditListPage Direct to Web template. These rules state that the NEUEditListPage can and should be used with the list task. Since you are creating an edit-list task, which exclusively uses the NEUEditListPage Direct to Web template, these rules must be changed.</p></li><li class="li"><p>create a <code>d2w.d2wmodel file</code> and put rules that define the edit-list page default behavior in it</p></li></ul><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF113" title="Modifying the Web Assistant Rules"></a><h4>Modifying the Web Assistant Rules</h4><ol class="ol"><li class="li"><p>Quit the Web Assistant if it is still running. You will modify the <code>user.d2wmodel</code> file using RuleEditor instead of the Web Assistant because the Web Assistant can’t perform the change.</p></li><li class="li"><p>Open the <code>user.d2wmodel</code> in the Resources group of Project Builder in RuleEditor.</p><p>The top half of the window lists the rules. The bottom half of the window edits the selected rule.</p></li><li class="li"><p>Select this rule: </p><div class="codesample"><table><tr><td scope="row"><pre>((task = "list") and (look = "NeutralLook"))<span></span></pre></td></tr><tr><td scope="row"><pre>    => pageAvailable = "NEUEditListPage"<span></span></pre></td></tr></table></div><p>by clicking on it, and click Delete. The NEUEditListPage is now no longer a candidate to perform the list task.</p></li><li class="li"><p>Select this rule:</p><div class="codesample"><table><tr><td scope="row"><pre>(task = "list") => pageName= "NEUEditListPage"<span></span></pre></td></tr></table></div><p>In the Value text field in the bottom right corner of the screen, enter <code>"NEUListPage2"</code> (including the quotation marks) and press Return. Direct to Web displays a NEUListPage2 component as the default list page.</p></li><li class="li"><p>Save the rule file.</p><p>Choose File > Save.</p></li></ol><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF114" title="Adding New Default Rules"></a><h4>Adding New Default Rules</h4><ol class="ol"><li class="li"><p>Create a new rule file.</p><p>In RuleEditor, choose File > New.</p></li><li class="li"><p>Click New to create a new rule.</p><p>The first rule you add is</p><div class="codesample"><table><tr><td scope="row"><pre>(task = "editList") => displayPropertyKeys=<span></span></pre></td></tr><tr><td scope="row"><pre>    "defaultPropertyKeysFromEntityWithoutRelationships"<span></span></pre></td></tr></table></div><p>using DefaultAssignment as the custom class. The rule’s priority is 50, which overrides the default Direct to Web framework rules but not the Web Assistant rules. The details of adding this rule are covered in the next step.</p><p>This rule specifies that the properties on the edit-list page include the entity’s attributes but not its relationships. The <code>defaultPropertyKeysFromEntityWithoutRelationships</code> method is defined in the DefaultAssignment class in the Direct to Web framework.</p></li><li class="li"><p>In the first line of the browser labeled “Left-Hand Side,” enter <code>(task = "editList")</code>, and press Enter.</p><p>Choose Custom from the Class pop-up list and enter <code>com.webobjects.directtoweb.DefaultAssignment</code> in the Custom text box. The DefaultAssignment class contains methods that derive values from the state in the Direct to Web context.</p><p>Enter <code>displayPropertyKeys</code> in the Key text box.</p><p>Enter <code>defaultPropertyKeysFromEntityWithoutRelationships</code> in the Value text box.</p><p>Enter <code>50</code> in the Priority text box.</p></li><li class="li"><p>Add the following rules by repeating step 3. All of the rules have a priority of 50 and use the Assignment class (not the DefaultAssignment class). Assignment is available in the Class pop-up list; do not choose Custom.</p><p>This rule specifies that the NEUEditListPage Direct to Web template can be used to display an edit-list page:</p><div class="codesample"><table><tr><td scope="row"><pre>(task ="editList") => pageAvailable = "NEUEditListPage"<span></span></pre></td></tr></table></div><p>This rule specifies that the default edit-list Direct to Web template is NEUEditListPage:</p><div class="codesample"><table><tr><td scope="row"><pre>(task = "editList") => pageName= "NEUEditListPage"<span></span></pre></td></tr></table></div><p>This rule specifies the name of the banner for the edit-list page:</p><div class="codesample"><table><tr><td scope="row"><pre>(task ="editList") => bannerFileName = "EditMetalBan.gif"<span></span></pre></td></tr></table></div><p>The following rule specifies that the D2WEditString property-level component can be used to edit strings on the edit-list page. To enter the left-hand side, use the And and Not buttons.</p><div class="codesample"><table><tr><td scope="row"><pre>((task= "editList") and (not (attribute = null))<span></span></pre></td></tr><tr><td scope="row"><pre>    and (attribute.className= "java.lang.String"))<span></span></pre></td></tr><tr><td scope="row"><pre>    => componentAvailable= "D2WEditString"<span></span></pre></td></tr></table></div><p>This rule specifies that the default property-level component that edits strings on an edit-list page is D2WEditString:</p><div class="codesample"><table><tr><td scope="row"><pre>((task= "editList") and (not (attribute = null))<span></span></pre></td></tr><tr><td scope="row"><pre>    and (attribute.className= "java.lang.String"))<span></span></pre></td></tr><tr><td scope="row"><pre>    => componentName = "D2WEditString"<span></span></pre></td></tr></table></div><p>This rule specifies that the D2WEditNumber property-level component can be used to edit numbers on the edit-list page:</p><div class="codesample"><table><tr><td scope="row"><pre>((task= "editList") and (not (attribute = null))<span></span></pre></td></tr><tr><td scope="row"><pre>    and ((attribute.className= "java.math.BigDecimal")<span></span></pre></td></tr><tr><td scope="row"><pre>        or (attribute.className= "java.lang.Number")))<span></span></pre></td></tr><tr><td scope="row"><pre>    => componentAvailable= "D2WEditNumber"<span></span></pre></td></tr></table></div><p>This rule specifies that the default property-level component that edits numbers on an edit-list page is D2WEditNumber:</p><div class="codesample"><table><tr><td scope="row"><pre>((task= "editList") and (not (attribute = null))<span></span></pre></td></tr><tr><td scope="row"><pre>    and ((attribute.className= "java.math.BigDecimal")<span></span></pre></td></tr><tr><td scope="row"><pre>        or (attribute.className= "java.lang.Number")))<span></span></pre></td></tr><tr><td scope="row"><pre>    => componentName = "D2WEditNumber"<span></span></pre></td></tr></table></div><p>If your EOModel had dates as some of the attributes, you would also add the two following rules:</p><div class="codesample"><table><tr><td scope="row"><pre>((task = "editList") and(not (attribute = null))<span></span></pre></td></tr><tr><td scope="row"><pre>    and (attribute.className= "com.webobjects.foundation.NSTimestamp"))<span></span></pre></td></tr><tr><td scope="row"><pre>    => componentAvailable= "D2WEditDate"<span></span></pre></td></tr></table></div><div class="codesample"><table><tr><td scope="row"><pre>((task= "editList") and (not (attribute = null))<span></span></pre></td></tr><tr><td scope="row"><pre>    and (attribute.className= "com.webobjects.foundation.NSTimestamp"))<span></span></pre></td></tr><tr><td scope="row"><pre>    => componentName = "D2WEditDate"<span></span></pre></td></tr></table></div></li><li class="li"><p>Save the file as <code>d2w.d2wmodel</code> in the top-level directory of your project.</p></li><li class="li"><p>Add the <code>d2w.d2wmodel</code> file to your project.</p><p>Choose Project > Add Files.</p><p>Select the <code>d2w.d2wmodel</code> file created in the previous step and click Open.</p><p>Select the Application Server target and click Add.</p></li></ol><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF115" title="Adding a Hyperlink to the New Task Page"></a><h3>Adding a Hyperlink to the New Task Page</h3><p>Now that Direct to Web can display the edit-list task page, you need to add a hyperlink to the list page to bring up the edit-list page.</p><ol class="ol"><li class="li"><p>Modify the editList method in<code> NEUListPage2.java</code> so it matches the implementation in listing below:</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF121" title="Listing 3-7Implementation of the editList method in NEUListPage2.java"></a><br/><br/><p class="codesample"><strong>Listing 3-7&nbsp;&nbsp;</strong>Implementation of the editList method in NEUListPage2.java</p><div class="codesample"><table><tr><td scope="row"><pre>publicListPageInterface editList {<span></span></pre></td></tr><tr><td scope="row"><pre>    ListPageInterface lpi =(ListPageInterface)D2W.factory().<span></span></pre></td></tr><tr><td scope="row"><pre>        pageForTaskAndEntityNamed("editList",entity().name(),<span></span></pre></td></tr><tr><td scope="row"><pre>        session());<span></span></pre></td></tr><tr><td scope="row"><pre>    lpi.setNextPage(this);<span></span></pre></td></tr><tr><td scope="row"><pre>    lpi.setDataSource(displayGroup().dataSource());<span></span></pre></td></tr><tr><td scope="row"><pre>    return lpi;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The edit-list page uses the same interface as the list page (ListPageInterface) because the pages are very similar. The action method <code>editList</code> creates a new page using <code>pageForTaskAndEntityNamed</code> because the factory has no special method to create an edit-list page. You could add such a method if you like. See <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BCIBCHDI">“Modifying the Direct to Web Factory.”</a></span></p><p>To specify the page to display when the user cancels the edits, the action method invokes <code>setNextPage</code>. When the user clicks the Cancel button, this list page will display. Finally, the action method sets the data source for the display group so it matches the list page’s data source. This ensures that the edit-list page displays the same objects the list page displays.</p></li><li class="li"><p>Build and launch your application. Navigate to a list page. Click the Edit button.</p><p>The edit-list page should appear. You can type in a field to edit its contents. If you click cancel, the edits are discarded. If you click save, the edits are saved to the database. You can page through the displayed objects with the navigation bar at the top of the screen. When you move from one page to another, the edit-list page discards the edits.</p></li><li class="li"><p>You can use the Web Assistant to further customize the edit-list page.</p></li></ol><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABGHDED" title="Adding Authentication to the Main Component"></a><h2>Adding Authentication to the Main Component</h2><p>This section describes how to implement basic authentication in a Direct to Web application.</p><p>The default Main component in a Direct to Web application includes a login panel that resembles <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABBABEF">Figure 3-1</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABBABEF" title="Figure 3-1Default Main component"></a><p><strong>Figure 3-1&nbsp;&nbsp;</strong>Default Main component</p><img src = "../art/neutrallook.gif" alt = "Default Main component" width="326" height="102"></div><br/><p>Unless you write custom code, clicking the Login button always lets the user into the application, regardless of what was entered into the Username and Password fields. Since the point of the login page is to protect the application from unauthorized users, it makes sense to implement a real authentication mechanism.</p><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF118" title="Hooking Up the Main Component"></a><h3>Hooking Up the Main Component</h3><p>To implement login authentication, you need to edit the Main component and add some custom Java code. Open Main.wo in WebObjects Builder and add a new action called “login” returning <code>null</code>, as shown in <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABFHGHJ">Figure 3-2</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABFHGHJ" title="Figure 3-2Add the login action"></a><p><strong>Figure 3-2&nbsp;&nbsp;</strong>Add the login action</p><img src = "../art/addloginaction.gif" alt = "Add the login action" width="268" height="119"></div><br/><p>Change the binding for the <code>action</code> attribute of the Login button by dragging from the <code>login</code> action to the Login button, as shown in <span class="content_text"><a href="Customizing.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABBHAIF">Figure 3-3</a></span>. Choose “action” from the menu that pops up to bind it.</p><br/><div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-BABBHAIF" title="Figure 3-3Dragging from the action method to the Login button"></a><p><strong>Figure 3-3&nbsp;&nbsp;</strong>Dragging from the action method to the Login button</p><img src = "../art/dragactiontobutton.gif" alt = "Dragging from the action method to the Login button" width="415" height="369"></div><br/><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF119" title="Add Logic"></a><h3>Add Logic</h3><p>When you add an action to the Main component, WebObjects Builder generates Java code for the method based on the inputs specified in the Add Action dialog. In Main.java, you should see this code for the <code>login</code> action you added:</p><div class="codesample"><table><tr><td scope="row"><pre>publicWOComponent login() {<span></span></pre></td></tr><tr><td scope="row"><pre>    return null;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>Clicking the Login button causes its <code>action</code> binding to be resolved. Since the action binding is “login”, this calls the <code>login</code> method defined in the component. The login method simply returns <code>null</code>, which returns a new instance of the component calling the method in WebObjects. In our example, this means a new instance of the Main component is created, returned, and displayed when the Login button is clicked. See the WebObjects API Reference for the WOComponent class to better understand this behavior.</p><p>Rather than return the calling component (Main), you can add logic that returns a different page depending on the success of the authentication. To authenticate a user, you need to add some data to authenticate against. For now, simply add fields to Main.java. Later on, you’ll implement authentication against a data source.</p><p>Add these fields:</p><div class="codesample"><table><tr><td scope="row"><pre>   private final String _username = "bucky";<span></span></pre></td></tr><tr><td scope="row"><pre>    private final String _password= "longfang";<span></span></pre></td></tr></table></div><p>You should notice that there are two instance variables already in Main.java, <code>username</code> and <code>password</code>. If you switch to WebObjects Builder, you can see that these variables are bound to the <code>value</code> attribute of the Username and Password WOTextFields, respectively. When the Login button is clicked, the strings contained in these textfields are automatically put into their corresponding variables, <code>username</code> and <code>password</code>. This means that you can add logic to test the value of each textfield against login information in a data store, or in this simple case, against variables in the class. </p><p>Before you add authentication logic, look at the <code>defaultPage</code> method in the class:</p><div class="codesample"><table><tr><td scope="row"><pre>publicWOComponent defaultPage() {<span></span></pre></td></tr><tr><td scope="row"><pre>    if (isAssistantCheckboxVisisble()){<span></span></pre></td></tr><tr><td scope="row"><pre>        D2W.factory().setWebAssistantEnabled(wantsWebAssistant);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    return D2W.factory().defaultPage(session());<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>In an uncustomized Direct to Web application, this returns the <code>queryAll</code> page. See <span class="content_text"><a href="../WalkThrough/WalkThrough.html#//apple_ref/doc/uid/TP30001015-DontLinkChapterID_5-BCICFHEJ">“Query Pages”</a></span> for more information. If a user successfully authenticates, they will see this page. You will alter the <code>login</code> method to return this page if the user authenticates successfully. To do this, use a simple conditional:</p><p><code>if (_username.equals(username) &amp;&amp; _password.equals(password))</code></p><p>If the conditional is true, return the default <code>queryAll</code> page. Otherwise, return the Main page with the login form. The complete code for Main.java is shown below:</p><div class="codesample"><table><tr><td scope="row"><pre>importcom.webobjects.foundation.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.appserver.*;<span></span></pre></td></tr><tr><td scope="row"><pre>import com.webobjects.directtoweb.*;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>public class Main extends WOComponent{<span></span></pre></td></tr><tr><td scope="row"><pre>    public String username;<span></span></pre></td></tr><tr><td scope="row"><pre>    public String password;<span></span></pre></td></tr><tr><td scope="row"><pre>    public boolean wantsWebAssistant= false;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    private final String _username= "bucky";<span></span></pre></td></tr><tr><td scope="row"><pre>    private final String _password= "longfang";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public Main(WOContext aContext){<span></span></pre></td></tr><tr><td scope="row"><pre>        super(aContext);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public WOComponent defaultPage(){<span></span></pre></td></tr><tr><td scope="row"><pre>        if (isAssistantCheckboxVisible()){<span></span></pre></td></tr><tr><td scope="row"><pre>            D2W.factory().setWebAssistantEnabled(wantsWebAssistant);<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        return D2W.factory().defaultPage(session());<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public boolean isAssistantCheckboxVisible(){<span></span></pre></td></tr><tr><td scope="row"><pre>        return null == NSProperties.stringForKey("D2WWebAssistantEnabled")<span></span></pre></td></tr><tr><td scope="row"><pre>        || NSProperties.booleanForKey("D2WWebAssistantEnabled");<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public WOComponent login(){<span></span></pre></td></tr><tr><td scope="row"><pre>        if (_username.equals(username)&amp;&amp; _password.equals(password))<span></span></pre></td></tr><tr><td scope="row"><pre>            return defaultPage();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        return null;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP30001015-DontLinkChapterID_3-TPXREF120" title="Add Better Logic"></a><h3>Add Better Logic</h3><p>In a deployed application, you would likely want to authenticate users to information in a data store. Fortunately, WebObjects make this easy for you. By packaging the username and password into a dictionary object, you can use the EOUtilities class to query a data store for a match of the given username and password. To use EOUtilities, be sure to import the <code>com.webobjects.eoaccess</code> package.</p><p>The following code example uses the RealEstate EOModel. The <code>isAuthenticated</code> method checks to see if the given username and password match an Agent entitity’s <code>login</code> and <code>password</code> attributes, respectively. Here is the code:</p><div class="codesample"><table><tr><td scope="row"><pre>publicboolean isAuthenticated() {<span></span></pre></td></tr><tr><td scope="row"><pre>    NSMutableDictionary userCredentials= new NSMutableDictionary();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if (username == null ||password == null)<span></span></pre></td></tr><tr><td scope="row"><pre>        return false;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    userCredentials.setObjectForKey(username,"login");    userCredentials.setObjectForKey(password, "password");    NSArray foundObjects =<span></span></pre></td></tr><tr><td scope="row"><pre>    EOUtilities.objectsMatchingValues(session().defaultEditingContext(),<span></span></pre></td></tr><tr><td scope="row"><pre>    "Agent", userCredentials);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (foundObjects.count()== 1)        return true;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    NSLog.out.appendln("Authenticationfailed.");    return false;}<span></span></pre></td></tr></table></div><p>Lastly, you want to modify the <code>login</code> method as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>publicWOComponent login() {<span></span></pre></td></tr><tr><td scope="row"><pre>    if (isAuthenticated())<span></span></pre></td></tr><tr><td scope="row"><pre>        return defaultPage();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return null;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>When a user successfully authenticates, the default Direct to Web page is returned.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Architecture/Architecture.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Appendix/Appendix.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/Developing_With_D2W/Customizing/Customizing.html%3Fid%3DTP30001015-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/Developing_With_D2W/Customizing/Customizing.html%3Fid%3DTP30001015-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/Developing_With_D2W/Customizing/Customizing.html%3Fid%3DTP30001015-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>