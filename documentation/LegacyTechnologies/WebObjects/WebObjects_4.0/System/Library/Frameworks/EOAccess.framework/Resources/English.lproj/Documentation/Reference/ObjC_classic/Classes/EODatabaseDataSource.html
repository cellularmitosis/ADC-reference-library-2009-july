<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>EODatabaseDataSource</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">EOAccess Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="More/EODatabaseContext_more.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="EODatabaseOperation.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/occ/cl/EODatabaseDataSource">EODatabaseDataSource</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
EODataSource : NSObject

<p><B>Conforms To:</B>
NSObject (NSObject)

<p><B>Declared in:</B>
EOAccess/EODatabaseDataSource.h

<p><a name="8566">
<hr width=50% align=left>
<h2>Class Description </h2>
</a>EODatabaseDataSource is a concrete subclass of EODataSource (defined in EOControl) that fetches objects based on an EOModel, using an EODatabaseContext that services the data source's EOEditingContext (defined in EOControl). An EODatabaseDataSource can be set up to fetch all objects for its root entity, to fetch objects matching a particular EOFetchSpecification, and to further filter its fetching with an auxiliary qualifier.<p>
EODatabaseDataSource implements all the functionality defined by EODataSource: In addition to fetching objects, it can insert and delete them (provided the entity isn't read-only). See the EODataSource class specification for more information on these topics.<p>
As with other data sources, EODatabaseDataSource can also provide a detail data source. The most significant consequence of using an master-detail configuration is that the detail operates directly on the master's object graph. The EODetailDataSource has a <em>master object</em> and a <em>detail key</em> through which the detail data source accesses the its objects. The master object is simply the object that's selected in the master display group, and the detail key is the name of a relationship property in the master object. When the detail display group asks its data source to fetch, the EODetailDataSource simply gets the value for the relationship property named <em>detail key</em> from its master object and returns it. When you add and remove objects from the detail, you're directly modifying the master's relationship array. In fact, you can think of EODetailDataSource as an interface to its master object's relationship property.<p>
<a name="3326">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Creating instances
<dl><dt><a href="EODatabaseDataSource.html#8118">- initWithEditingContext:entityName:fetchSpecificationName:</a>
<dt><a href="EODatabaseDataSource.html#8118">- initWithEditingContext:entityName:fetchSpecificationName:</a>
</dl><dt>Accessing selection criteria
<dl><dt><a href="EODatabaseDataSource.html#2629">- auxiliaryQualifier</a>
<dt><a href="EODatabaseDataSource.html#2797">- fetchSpecification</a>
<dt><a href="EODatabaseDataSource.html#243">- fetchSpecificationForFetch</a>
<dt><a href="EODatabaseDataSource.html#8151">- fetchSpecificationName</a>
<dt><a href="EODatabaseDataSource.html#8481">- setAuxiliaryQualifier:</a>
<dt><a href="EODatabaseDataSource.html#262">- setFetchSpecification:</a>
<dt><a href="EODatabaseDataSource.html#8190">- setFetchSpecificationByName:</a>
</dl><dt>Accessing objects used for fetching
<dl><dt><a href="EODatabaseDataSource.html#8337">- entity</a>
<dt><a href="EODatabaseDataSource.html#233">- databaseContext</a>
</dl><dt>Enabling fetching
<dl><dt><a href="EODatabaseDataSource.html#258">- setFetchEnabled:</a>
<dt><a href="EODatabaseDataSource.html#250">- isFetchEnabled</a>
</dl><dt>Accessing qualifier bindings
<dl><dt><a href="EODatabaseDataSource.html#8593">- qualifierBindingKeys</a>
<dt><a href="EODatabaseDataSource.html#8602">- qualifierBindings</a>
<dt><a href="EODatabaseDataSource.html#8639">- setQualifierBindings:</a>
</dl></dl><a name="2627">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="2629">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/auxiliaryQualifier">auxiliaryQualifier</a></h3>
</a>- (EOQualifier *)<code>auxiliaryQualifier</code><p>
Returns the EOQualifier used to further filter the objects fetched by the receiver's EOFetchSpecification (in EOControl). <p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8481">- <code>setAuxiliaryQualifier:</code></a>, <a href="EODatabaseDataSource.html#243">- <code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2797">- <code>fetchSpecification</code></a>
<p><a name="233">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/databaseContext">databaseContext</a></h3>
</a>- (EODatabaseContext *)<code>databaseContext</code><p>
Returns the EODatabaseContext that the receiver uses to access the external database. This is either the root EOObjectStore for the receiver's EOEditingContext, or if the root is an EOCooperatingObjectStore, it's the EODatabaseContext under that EOCooperatingObjectStore that services the EOModel containing the EOEntity for the receiver. (EOObjectStore, EOEditingContext, and EOCooperatingObjectStore are all defined in EOControl.)<p>
<B> </B>Deletes <em>anObject</em> from the data source. This method raises an exception on failure. If the receiver registers undos for the deletion, the receiver may receive a possibly redundant <code>insertObject</code> call.<p>
<a name="8337">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/entity">entity</a></h3>
</a>- (EOEntity *)<code>entity</code><p>
Returns the EOEntity from which the receiver fetches objects.<p>
<a name="2797">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/fetchSpecification">fetchSpecification</a></h3>
</a>- (EOFetchSpecification *)<code>fetchSpecification</code><p>
Returns the receiver's basic EOFetchSpecification. Its EOQualifier is conjoined with the receiver's auxiliary EOQualifier when the receiver fetches objects. The sender of this message can alter the EOFetchSpecification directly, or replace it using <a href="EODatabaseDataSource.html#262"><code>setFetchSpecification:</code></a>.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#243"><code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2629"><code>auxiliaryQualifier</code></a>
<p><a name="243">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/fetchSpecificationForFetch">fetchSpecificationForFetch</a></h3>
</a>- (EOFetchSpecification *)<code>fetchSpecificationForFetch</code><p>
Returns a copy of the EOFetchSpecification that the receiver uses to fetch. This is constructed by conjoining the EOQualifier of the receiver's EOFetchSpecification with its auxiliary EOQualifier. Modifying the returned EOFetchSpecification doesn't affect the receiver's fetching behavior; use <a href="EODatabaseDataSource.html#262"><code>setFetchSpecification:</code></a> and <a href="EODatabaseDataSource.html#8481"><code>setAuxiliaryQualifier:</code></a> for that purpose.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#2797">- <code>fetchSpecification</code></a>, <a href="EODatabaseDataSource.html#2629">- <code>auxiliaryQualifier</code></a>
<p><a name="8151">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/fetchSpecificationName">fetchSpecificationName</a></h3>
</a>- (NSString *)<code>fetchSpecificationName</code><p>
Returns the name of the fetch specification (or <code>nil</code> if there is no name).<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8190">- <code>setFetchSpecificationByName:</code></a>
<p><a name="6227">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/initWithEditingContext:entityName:">initWithEditingContext:entityName:</a></h3>
</a>- (id)<code>initWithEditingContext:</code>(EOEditingContext *)<em>anEditingContext</em><em> </em><code>entityName:</code>(NSString *)<em>anEntityName</em><p>
Initializes a newly allocated EODatabaseDataSource to fetch objects into <em>anEditingContext</em> for the EOEntity named by <em>anEntityName</em>. This method checks <em>anEditingContext</em>'s EOObjectStoreCoordinator for an EODatabaseChannel that services the EOModel containing the named EOEntity. If none exists, this method creates one. This method works by calling <a href="EODatabaseDataSource.html#8118"><code>initWithEditingContext:entityName:fetchSpecificationName:</code></a> and specifying <code>nil</code> for the fetchSpecificationName.<p>
<a name="8118">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/initWithEditingContext:entityName:fetchSpecificationName:">initWithEditingContext:entityName:fetchSpecificationName:</a></h3>
</a>- (id)<code>initWithEditingContext:</code>(EOEditingContext *)<em>anEditingContext</em><em> <br></em><code>entityName:</code>(NSString *)<em>anEntityName<br></em><code>fetchSpecificationName:</code>(NSString *)<em>fetchSpecificationName</em><p>
Initializes a newly allocated EODatabaseDataSource to fetch objects into <em>anEditingContext</em> for the EOEntity named by <em>anEntityName</em>. This method checks <em>anEditingContext</em>'s EOObjectStoreCoordinator for an EODatabaseChannel that services the EOModel containing the named EOEntity. If none exists, this method creates one. The <em>fetchSpecificationName</em> argument is used to find the named fetch specification in the entity. If the <em>fetchSpecificationName</em> is <code>nil</code>, a new fetch specification will be instantiated that will fetch all objects of the entity. This is the primitive initializer. Returns <code>self</code>.<p>
<B> </B>Inserts <em>object into the data source</em>.<p>
<a name="250">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/isFetchEnabled">isFetchEnabled</a></h3>
</a>- (BOOL)<code>isFetchEnabled</code><p>
Returns YES if the receiver's <code>fetchObjects</code> method actually fetches objects, NO if it returns an empty array without fetching. Fetching is typically disabled in a master-peer configuration when no object is selected in the master.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#258">- <code>setFetchEnabled:</code></a>
<p><a name="8593">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/qualifierBindingKeys">qualifierBindingKeys</a></h3>
</a>- (NSArray *)<code>qualifierBindingKeys</code><p>
Returns an array of strings which is a union of the binding keys from the fetch specification's qualifier and the data source's auxiliary qualifier.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8639">- <code>setQualifierBindings:</code></a>
<p><a name="8602">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/qualifierBindings">qualifierBindings</a></h3>
</a>- (NSDictionary *)<code>qualifierBindings</code><p>
Returns a set of bindings that will be used for variable replacement on the fetch specification's qualifier and the auxiliary qualifier before the fetch is executed.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8639">- <code>setQualifierBindings:</code></a>
<p><a name="8481">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/setAuxiliaryQualifier:">setAuxiliaryQualifier:</a></h3>
</a>- (void)<code>setAuxiliaryQualifier:</code>(EOQualifier *)<em>aQualifier</em><p>
Sets the receiver's auxiliary qualifier to <em>aQualifier</em>. The auxiliary qualifier usually adds conditions to the primary qualifier and is useful for narrowing the scope of a data source without altering its primary qualifier. This is especially useful for setting a qualifier on a qualified peer data source, since a peer's primary qualifiers specifies the matching criteria for the relationship it fetches for. For more information on auxiliary qualifiers, see "Creating a Master-Peer Configuration" in the "WebObjects Programming Topics." <p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#243">- <code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2797">- <code>fetchSpecification</code></a>, <a href="EODatabaseDataSource.html#2629">- <code>auxiliaryQualifier</code></a>
<p><a name="258">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/setFetchEnabled:">setFetchEnabled:</a></h3>
</a>- (void)<code>setFetchEnabled:</code>(BOOL)<em>flag</em><p>
Controls whether the receiver can fetch. If <em>flag</em> is YES the receiver's <code>fetchObjects</code> method actually fetches objects, if NO it returns an empty array without fetching. Fetching is typically disabled in a master-peer configuration when no object is selected in the master. For example, EODatabaseDataSource's implementation of <HR WIDTH=50% ALIGN=LEFT>
<h1></h1>  
qualifyWithRelationshipKey:ofObject:
 invokes this method to enable or disable fetching based on whether a master object is provided.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#250">- <code>isFetchEnabled</code></a>
<p><a name="262">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/setFetchSpecification:">setFetchSpecification:</a></h3>
</a>- (void)<code>setFetchSpecification:</code>(EOFetchSpecification *)<em>aFetchSpecification</em><p>
Sets the receiver's basic EOFetchSpecification to <em>aFetchSpecification</em>. Its EOQualifier is conjoined with the receiver's auxiliary EOQualifier when the receiver fetches objects. This method also sets the name of the fetch specification to nil.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8481">- <code>setAuxiliaryQualifier:</code></a>, <a href="EODatabaseDataSource.html#243">- <code>fetchSpecificationForFetch</code></a>, <a href="EODatabaseDataSource.html#2797">- <code>fetchSpecification</code></a>, 
<a href="EODatabaseDataSource.html#8190">- <code>setFetchSpecificationByName:</code></a>
<p><a name="8190">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/setFetchSpecificationByName:">setFetchSpecificationByName:</a></h3>
</a>- (void)<code>setFetchSpecificationByName:</code>(NSString *)<em>fetchSpecificationName</em><p>
Sets the <em>fetchSpecificationName</em> as given, and sets the fetch specification (used when supplying objects) to the named fetch specification of the entity that was used to initialize the data source. This method is an alternative to <a href="EODatabaseDataSource.html#262"><code>setFetchSpecification:</code></a>.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8151">- <code>fetchSpecificationName</code></a>
<p><a name="8639">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EODatabaseDataSource/setQualifierBindings:">setQualifierBindings:</a></h3>
</a>- (NSDictionary *)<code>setQualifierBindings:</code>(NSDictionary *)<em>bindings</em><p>
Sets a set of bindings that will be used for variable replacement on the fetch specification's qualifier and the auxiliary qualifier before the fetch is executed.<p>
<B>See also: </B>  
<a href="EODatabaseDataSource.html#8593">- <code>qualifierBindingKeys</code></a>, <a href="EODatabaseDataSource.html#8602">- <code>qualifierBindings</code></a>
<p>
<hr><br>
<a href="More/EODatabaseContext_more.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="EODatabaseOperation.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/17/98 17:44:08 -->

</body>
</html>
