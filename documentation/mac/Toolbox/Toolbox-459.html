<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Using Aliases(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING459></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-458.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-460.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-443.html"><B>Chapter 7 - Finder Interface</B></A> / <A HREF="Toolbox-446.html"><B>Using the Finder Interface</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING459-0></A>
<H2><A NAME=MARKER-9-427></A><A NAME=MARKER-21-428></A>Using Aliases</H2>
 The Finder allows the user to create multiple icons to represent a single document or other desktop object (such as a disk, a folder, or the Trash). One of the icons represents the actual file; the others are aliases that point to the file. An <B>alias</B> is an object that represents some other file, directory, or volume. An alias looks like the icon of its target, but its name is displayed in a different style. The style depends on the system script; for Roman and most other scripts, alias names are displayed in italic.<A NAME=MARKER-2-429></A><P>
 To the user, the icons of the actual file and its aliases are functionally identical. Aliases give the user more flexibility in organizing files and offer a convenient way to store a local copy of a large or dynamic file that resides on a file server.<P>
 Ordinarily, when the user wants to open or print files, your application does not need to be concerned with whether they are aliases because both the Finder and the Standard File Package resolve aliases before passing them to your application. If the user opens an alias that represents a document created by your application, the Finder passes your application the name and location of the document itself, not the alias. Similarly, when the user opens an alias from within your application, the Standard File Package passes your application the name of the target document.<P>
 If your application opens a file or a directory without going through the Finder or the Standard File Package (if, for example, it uses preference files or dictionary files), your application should always call the <CODE>ResolveAliasFile</CODE> function just before opening <BR>the file.<A NAME=MARKER-9-223></A><P>
 As a Finder object, the alias depicts a file called the <B>alias file,</B> which contains a record that points to the file, directory, or volume represented by the icon. Alias files are created and managed by the user through the Finder.<A NAME=MARKER-2-431></A><P>
 Although your application shouldn't create alias files or change users' aliases, your application can create and use its own alias records for storing identifying information about files or directories. An <B>alias record </B>is a data structure that identifies a file, folder, or volume. Whenever your application needs to store file or directory information, you can record the location and other identifying information in an alias record. The next time your application needs the file or directory, you can use the Alias Manager to locate it, even if the user has renamed it, copied it, restored it from backup, or moved it. You can also use alias records to identify objects on other volumes, including AppleShare volumes. See the chapter "Alias Manager" in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I> for details about creating and managing information in alias records.<A NAME=MARKER-2-432></A><P>
 An alias file contains an alias record, stored as a resource of type <CODE>'alis'</CODE>, that points to the target of the alias. (The <B>alias target</B> is the file, directory, or volume described by the alias record.) The alias file might also contain the target object's icon descriptions. The Finder identifies an alias file by setting the <CODE>isAlias</CODE> bit in the file's Finder flags field (see <A HREF=Toolbox-464.html#MARKER-9-493>"File Information Record" beginning on page 7-44</A> for a description of Finder flags).<A NAME=MARKER-2-433></A><A NAME=MARKER-2-434></A><A NAME=MARKER-2-435></A><A NAME=MARKER-2-436></A><P>
 <A NAME=MARKER-2-437></A><A NAME=MARKER-2-438></A>An alias file that represents a document typically has the same type and creator as the file it represents. However, many Finder objects--such as disks, folders, and the Trash--do not have file types. Instead, alias files for these objects are assigned special file <BR>types, called <I>alias types.</I> Here are the alias types for those objects for which users can create aliases: 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Object<TH>Alias type<TH>Constant<TR>
<TD>Apple Menu Items folder<TD><CODE><BR>'faam'</CODE><TD><CODE><BR>kAppleMenuFolderAliasType</CODE> <A NAME=MARKER-2-21></A><A NAME=MARKER-2-22></A><A NAME=MARKER-2-23></A><TR>
<TD>AppleShare drop folder<TD><CODE>'fadr'</CODE><TD><CODE>kDropFolderAliasType</CODE> <A NAME=MARKER-2-24></A><A NAME=MARKER-2-25></A><A NAME=MARKER-2-26></A><TR>
<TD>Application<TD><CODE>'adrp'</CODE><TD><CODE>kApplicationAliasType</CODE> <A NAME=MARKER-2-27></A><A NAME=MARKER-2-28></A><TR>
<TD>Control Panels folder<TD><CODE>'fact'</CODE><TD><CODE>kControlPanelFolderAliasType</CODE> <A NAME=MARKER-2-29></A><A NAME=MARKER-2-30></A><A NAME=MARKER-2-31></A><TR>
<TD>Exported <BR>AppleShare folder<TD><BR><CODE>'faet'</CODE><TD><BR><CODE>kExportedFolderAliasType<A NAME=MARKER-2-32></A><A NAME=MARKER-2-33></A><A NAME=MARKER-2-34></A></CODE><TR>
<TD>Extensions folder<TD><CODE>'faex'</CODE><TD><CODE>kExtensionFolderAliasType</CODE> <A NAME=MARKER-2-35></A><A NAME=MARKER-2-36></A><A NAME=MARKER-2-37></A><TR>
<TD>File server<TD><CODE>'srvr'</CODE><TD><CODE>kContainerServerAliasType</CODE> <A NAME=MARKER-2-38></A><A NAME=MARKER-2-39></A><A NAME=MARKER-2-40></A><TR>
<TD>Floppy disk<TD><CODE>'flpy'</CODE><TD><CODE>kContainerFloppyAliasType</CODE> <A NAME=MARKER-2-41></A><A NAME=MARKER-2-42></A><A NAME=MARKER-2-43></A><TR>
<TD>Folder<TD><CODE>'fdrp'</CODE><TD><CODE>kContainerFolderAliasType</CODE> <A NAME=MARKER-2-44></A><A NAME=MARKER-2-45></A><A NAME=MARKER-2-46></A><TR>
<TD>Hard disk<TD><CODE>'hdsk'</CODE><TD><CODE>kContainerHardDiskAliasType</CODE> <A NAME=MARKER-2-47></A><A NAME=MARKER-2-48></A><A NAME=MARKER-2-49></A><TR>
<TD>Mounted <BR>AppleShare folder<TD><BR><CODE>'famn'</CODE><TD><BR><CODE>kMountedFolderAliasType</CODE> <A NAME=MARKER-2-50></A><A NAME=MARKER-2-51></A><A NAME=MARKER-2-52></A><TR>
<TD>Other objects that <BR>can hold files<TD><BR><CODE>'drop'</CODE><TD><BR><CODE>kContainerAliasType</CODE> <A NAME=MARKER-2-53></A><TR>
<TD>Preferences folder<TD><CODE>'fapf'</CODE><TD><CODE>kPreferencesFolderAliasType</CODE> <A NAME=MARKER-2-54></A><A NAME=MARKER-2-55></A><A NAME=MARKER-2-56></A><TR>
<TD>PrintMonitor <BR>Documents folder<TD><BR><CODE>'fapn'</CODE><TD><BR>kPrintMonitorDocsFolderAliasType<A NAME=MARKER-2-57></A><A NAME=MARKER-2-58></A><A NAME=MARKER-2-59></A><TR>
<TD>Shared <BR>AppleShare folder<TD><BR><CODE>'fash'</CODE><TD><BR><CODE>kSharedFolderAliasType</CODE> <A NAME=MARKER-2-60></A><A NAME=MARKER-2-61></A><A NAME=MARKER-2-62></A><TR>
<TD>Startup Items folder<TD><CODE>'fast'</CODE><TD><CODE>kStartupFolderAliasType</CODE> <A NAME=MARKER-2-63></A><A NAME=MARKER-2-64></A><A NAME=MARKER-2-65></A><TR>
<TD>System Folder<TD><CODE>'fasy'</CODE><TD><CODE>kSystemFolderAliasType</CODE> <A NAME=MARKER-2-66></A><A NAME=MARKER-2-67></A><A NAME=MARKER-2-68></A><TR>
<TD>Trash<TD><CODE>'trsh'</CODE><TD><CODE>kContainerTrashAliasType</CODE> <A NAME=MARKER-2-69></A><A NAME=MARKER-2-70></A><A NAME=MARKER-2-71></A><A NAME=MARKER-2-72></A><A NAME=MARKER-2-73></A></TABLE>
<P>
 (The Extensions, Preferences, Apple Menu Items, Control Panels, Startup Items, and PrintMonitor Documents folders are described in <A HREF=Toolbox-460.html#MARKER-9-442>"Using the System Folder and Its Related Directories" beginning on page 7-39</A>.)<A NAME=MARKER-2-439></A><P>
 When opening a file without going through the Finder or the Standard File Package, <BR>you call <CODE>ResolveAliasFile</CODE> immediately before opening the file. (The <CODE>ResolveAliasFile</CODE> function is described in detail on <A HREF=Toolbox-470.html#MARKER-9-543>page 7-49</A>.) In <A HREF=#MARKER-9-440>Listing 7-13</A>, <BR>the customized open function <CODE>MyOpen</CODE> ensures that the file to be opened is the target <BR>file and then opens the data fork with the File Manager function <CODE>FSpOpenDF</CODE>.<P>
<B>Listing 7-13  <A NAME=MARKER-9-440></A><A NAME=MARKER-21-441></A>Using the <CODE>ResolveAliasFile</CODE> function to open a file</B><P>
<PRE>
FUNCTION MyOpen (VAR theSpec: FSSpec; perm: SignedByte; 
                 VAR fRefNum: Integer): OSErr;
VAR
   myErr:            OSErr;
   targetIsFolder:   Boolean;
   wasAliased:       Boolean;
BEGIN 
   myErr := ResolveAliasFile(theSpec, TRUE, targetIsFolder, wasAliased);
   IF targetIsFolder THEN
      myErr := paramErr                {cannot open a folder}
   ELSE IF (myErr &lt;&gt; noErr ) THEN      {try to open it}
      myErr := FSpOpenDF(theSpec, perm, fRefNum);
   MyOpen := myErr;
END;
</PRE>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-458.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-460.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
