<html><head><title>Mac OS X
 Manual Page For IO::Handle(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/IO::Handle" title="Mac OS X
 Manual Page for IO::Handle(3pm)"><a name="//apple_ref/doc/man/3/IO::Handle" title="Mac OS X
 Manual Page for IO::Handle(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/IO::Handle"; name=IO::Handle(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
IO::Handle(3pm)                       Perl Programmers Reference Guide                       IO::Handle(3pm)



<b>NAME</b>
       IO::Handle - supply object methods for I/O handles

<b>SYNOPSIS</b>
           use IO::Handle;

           $io = new IO::Handle;
           if ($io-&gt;fdopen(fileno(STDIN),"r")) {
               print $io-&gt;getline;
               $io-&gt;close;
           }

           $io = new IO::Handle;
           if ($io-&gt;fdopen(fileno(STDOUT),"w")) {
               $io-&gt;print("Some text\n");
           }

           # setvbuf is not available by default on Perls 5.8.0 and later.
           use IO::Handle '_IOLBF';
           $io-&gt;setvbuf($buffer_var, _IOLBF, 1024);

           undef $io;       # automatically closes the file if it's open

           autoflush STDOUT 1;

<b>DESCRIPTION</b>
       "IO::Handle" is the base class for all other IO handle classes. It is not intended that objects of
       "IO::Handle" would be created directly, but instead "IO::Handle" is inherited from by several other
       classes in the IO hierarchy.

       If you are reading this documentation, looking for a replacement for the "FileHandle" package, then I
       suggest you read the documentation for "IO::File" too.

<b>CONSTRUCTOR</b>
       new ()
           Creates a new "IO::Handle" object.

       new_from_fd ( FD, MODE )
           Creates an "IO::Handle" like "new" does.  It requires two parameters, which are passed to the
           method "fdopen"; if the fdopen fails, the object is destroyed. Otherwise, it is returned to the
           caller.

<b>METHODS</b>
       See perlfunc for complete descriptions of each of the following supported "IO::Handle" methods, which
       are just front ends for the corresponding built-in functions:

           $io-&gt;close
           $io-&gt;eof
           $io-&gt;fileno
           $io-&gt;format_write( [FORMAT_NAME] )
           $io-&gt;getc
           $io-&gt;read ( BUF, LEN, [OFFSET] )
           $io-&gt;print ( ARGS )
           $io-&gt;printf ( FMT, [ARGS] )
           $io-&gt;stat
           $io-&gt;sysread ( BUF, LEN, [OFFSET] )
           $io-&gt;syswrite ( BUF, [LEN, [OFFSET]] )
           $io-&gt;truncate ( LEN )

       See perlvar for complete descriptions of each of the following supported "IO::Handle" methods.  All
       of them return the previous value of the attribute and takes an optional single argument that when
       given will set the value.  If no argument is given the previous value is unchanged (except for
       $io-&gt;autoflush will actually turn ON autoflush by default).

           $io-&gt;autoflush ( [BOOL] )                         $|
           $io-&gt;format_page_number( [NUM] )                  $%
           $io-&gt;format_lines_per_page( [NUM] )               $=
           $io-&gt;format_lines_left( [NUM] )                   $-<font color="#ffffff" class="whiteout">$io-&gt;format_name(&nbsp;$$io-&gt;format_name(</font>
           $io-&gt;format_name( [STR] )                         $~
           $io-&gt;format_top_name( [STR] )                     $^
           $io-&gt;input_line_number( [NUM])                    $.

       The following methods are not supported on a per-filehandle basis.

           IO::Handle-&gt;format_line_break_characters( [STR] ) $:
           IO::Handle-&gt;format_formfeed( [STR])               $^L
           IO::Handle-&gt;output_field_separator( [STR] )       $,
           IO::Handle-&gt;output_record_separator( [STR] )      $\

           IO::Handle-&gt;input_record_separator( [STR] )       $/

       Furthermore, for doing normal I/O you might need these:

       $io-&gt;fdopen ( FD, MODE )
           "fdopen" is like an ordinary "open" except that its first parameter is not a filename but rather
           a file handle name, an IO::Handle object, or a file descriptor number.

       $io-&gt;opened
           Returns true if the object is currently a valid file descriptor, false otherwise.

       $io-&gt;getline
           This works like &lt;$io&gt; described in "I/O Operators" in perlop except that it's more readable and
           can be safely called in a list context but still returns just one line.  If used as the condi-<font color="#ffffff" class="whiteout">tional&nbsp;conditional</font>
           tional +within a "while" or C-style "for" loop, however, you will need to +emulate the function-<font color="#ffffff" class="whiteout">ality&nbsp;functionality</font>
           ality of &lt;$io&gt; with "defined($_ = $io-&gt;getline)".

       $io-&gt;getlines
           This works like &lt;$io&gt; when called in a list context to read all the remaining lines in a file,
           except that it's more readable.  It will also <u>croak()</u> if accidentally called in a scalar context.

       $io-&gt;ungetc ( ORD )
           Pushes a character with the given ordinal value back onto the given handle's input stream.  Only
           one character of pushback per handle is guaranteed.

       $io-&gt;write ( BUF, LEN [, OFFSET ] )
           This "write" is like "write" found in C, that is it is the opposite of read. The wrapper for the
           perl "write" function is called "format_write".

       $io-&gt;error
           Returns a true value if the given handle has experienced any errors since it was opened or since
           the last call to "clearerr", or if the handle is invalid. It only returns false for a valid han-<font color="#ffffff" class="whiteout">dle&nbsp;handle</font>
           dle with no outstanding errors.

       $io-&gt;clearerr
           Clear the given handle's error indicator. Returns -1 if the handle is invalid, 0 otherwise.

       $io-&gt;sync
           "sync" synchronizes a file's in-memory state  with  that  on the physical medium. "sync" does not
           operate at the perlio api level, but operates on the file descriptor (similar to sysread, sysseek
           and systell). This means that any data held at the perlio api level will not be synchronized. To
           synchronize data that is buffered at the perlio api level you must use the flush method. "sync"
           is not implemented on all platforms. Returns "0 but true" on success, "undef" on error, "undef"
           for an invalid handle. See <!-- a --><u>fsync</u>(3c)<!-- /a -->.

       $io-&gt;flush
           "flush" causes perl to flush any buffered data at the perlio api level.  Any unread data in the
           buffer will be discarded, and any unwritten data will be written to the underlying file descrip-<font color="#ffffff" class="whiteout">tor.&nbsp;descriptor.</font>
           tor. Returns "0 but true" on success, "undef" on error.

       $io-&gt;printflush ( ARGS )
           Turns on autoflush, print ARGS and then restores the autoflush status of the "IO::Handle" object.
           Returns the return value from print.

       $io-&gt;blocking ( [ BOOL ] )
           If called with an argument "blocking" will turn on non-blocking IO if "BOOL" is false, and turn
           it off if "BOOL" is true.

           "blocking" will return the value of the previous setting, or the current setting if "BOOL" is not
           given.

           If an error occurs "blocking" will return undef and $! will be set.

       If the C functions <u>setbuf()</u> and/or <u>setvbuf()</u> are available, then "IO::Handle::setbuf" and "IO::Han-<font color="#ffffff" class="whiteout">dle::setvbuf"&nbsp;"IO::Handle::setvbuf"</font>
       dle::setvbuf" set the buffering policy for an IO::Handle.  The calling sequences for the Perl func-<font color="#ffffff" class="whiteout">tions&nbsp;functions</font>
       tions are the same as their C counterparts--including the constants "_IOFBF", "_IOLBF", and "_IONBF"
       for <u>setvbuf()</u>--except that the buffer parameter specifies a scalar variable to use as a buffer. You
       should only change the buffer before any I/O, or immediately after calling flush.

       WARNING: The <u>IO::Handle::setvbuf()</u> is not available by default on Perls 5.8.0 and later because
       <u>setvbuf()</u> is rather specific to using the stdio library, while Perl prefers the new perlio subsystem
       instead.

       WARNING: A variable used as a buffer by "setbuf" or "setvbuf" <b>must</b> <b>not</b> <b>be</b> <b>modified</b> in any way until
       the IO::Handle is closed or "setbuf" or "setvbuf" is called again, or memory corruption may result!
       Remember that the order of global destruction is undefined, so even if your buffer variable remains
       in scope until program termination, it may be undefined before the file IO::Handle is closed. Note
       that you need to import the constants "_IOFBF", "_IOLBF", and "_IONBF" explicitly. Like C, setbuf
       returns nothing. setvbuf returns "0 but true", on success, "undef" on failure.

       Lastly, there is a special method for working under <b>-T</b> and setuid/gid scripts:

       $io-&gt;untaint
           Marks the object as taint-clean, and as such data read from it will also be considered
           taint-clean. Note that this is a very trusting action to take, and appropriate consideration for
           the data source and potential vulnerability should be kept in mind. Returns 0 on success, -1 if
           setting the taint-clean flag failed. (eg invalid handle)

<b>NOTE</b>
       An "IO::Handle" object is a reference to a symbol/GLOB reference (see the "Symbol" package).  Some
       modules that inherit from "IO::Handle" may want to keep object related variables in the hash table
       part of the GLOB. In an attempt to prevent modules trampling on each other I propose the that any
       such module should prefix its variables with its own name separated by _'s. For example the
       IO::Socket module keeps a "timeout" variable in 'io_socket_timeout'.

<b>SEE</b> <b>ALSO</b>
       perlfunc, "I/O Operators" in perlop, IO::File

<b>BUGS</b>
       Due to backwards compatibility, all filehandles resemble objects of class "IO::Handle", or actually
       classes derived from that class.  They actually aren't.  Which means you can't derive your own class
       from "IO::Handle" and inherit those methods.

<b>HISTORY</b>
       Derived from FileHandle.pm by Graham Barr &lt;<u>gbarr@pobox.com&gt;</u>



perl v5.8.8                                      2001-09-21                                  IO::Handle(3pm)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/IO__Handle.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/IO__Handle.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/IO__Handle.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
