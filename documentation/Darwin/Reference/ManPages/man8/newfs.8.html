<html><head><title>Mac OS X
 Manual Page For newfs(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/newfs" title="Mac OS X
 Manual Page for newfs(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/newfs"; name=newfs(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
NEWFS(8)                  BSD System Manager's Manual                 NEWFS(8)

<b>NAME</b>
     <b>newfs</b> -- construct a new file system

<b>ALERT</b>
     UFS SUPPORT IS IN THE PROCESS OF BEING DEPRECATED.

<b>SYNOPSIS</b>
     <b>newfs</b> [<b>-NO</b>] [<b>-S</b> <u>sector-size</u>] [<b>-T</b> <u>disktype</u>] [<b>-a</b> <u>maxcontig</u>] [<b>-b</b> <u>block-size</u>] [<b>-c</b> <u>cylinders</u>] [<b>-d</b> <u>rotdelay</u>]
           [<b>-e</b> <u>maxbpg</u>] [<b>-f</b> <u>frag-size</u>] [<b>-i</b> <u>bytes</u>] [<b>-k</b> <u>skew</u>] [<b>-l</b> <u>interleave</u>] [<b>-m</b> <u>free</u> <u>space</u>]
           [<b>-n</b> <u>rotational</u> <u>positions</u>] [<b>-o</b> <u>optimization</u>] [<b>-p</b> <u>sectors</u>] [<b>-r</b> <u>revolutions</u>] [<b>-s</b> <u>size</u>] [<b>-t</b> <u>tracks</u>]
           [<b>-u</b> <u>sectors</u>] [<b>-v</b> <u>volume</u> <u>name</u>] [<b>-x</b> <u>sectors</u>] <u>special</u>

<b>DESCRIPTION</b>
     The <b>newfs</b> utility replaces the more obtuse <!-- a -->mkfs(8)<!-- /a --> program.  The <b>newfs</b> utility builds a file system on
     the specified special device basing its defaults on the information in the disk label.  Typically the
     defaults are reasonable, however <b>newfs</b> has numerous options to allow the defaults to be selectively
     overridden.

     The following options define the general layout policies.

     <b>-N</b>          Causes the file system parameters to be printed out without really creating the file sys-<font color="#ffffff" class="whiteout">tem.&nbsp;system.</font>
                 tem.

     <b>-O</b>          Creates a 4.3BSD format filesystem.  This options is primarily used to build root filesys-<font color="#ffffff" class="whiteout">tems&nbsp;filesystems</font>
                 tems that can be understood by older boot ROMs.

     <b>-T</b> <u>disktype</u>
                 This specifies the disk type.

     <b>-a</b> <u>maxcontig</u>
                 This specifies the maximum number of contiguous blocks that will be laid out before forcing
                 a rotational delay (see the <b>-d</b> option).  The default value is one.  See <a href="tunefs.8.html#//apple_ref/doc/man/8/tunefs">tunefs(8)</a> for more
                 details on how to set this option.

     <b>-b</b> <u>block-size</u>
                 The block size of the file system, in bytes.

     <b>-c</b> <u>#cylinders/group</u>
                 The number of cylinders per cylinder group in a file system.  The default value is 16.

     <b>-d</b> <u>rotdelay</u>
                 This specifies the expected time (in milliseconds) to service a transfer completion inter-<font color="#ffffff" class="whiteout">rupt&nbsp;interrupt</font>
                 rupt and initiate a new transfer on the same disk.  The default is 4 milliseconds.  See
                 <a href="tunefs.8.html#//apple_ref/doc/man/8/tunefs">tunefs(8)</a> for more details on how to set this option.

     <b>-e</b> <u>maxbpg</u>   This indicates the maximum number of blocks any single file can allocate out of a cylinder
                 group before it is forced to begin allocating blocks from another cylinder group.  The
                 default is about one quarter of the total blocks in a cylinder group.  See <a href="tunefs.8.html#//apple_ref/doc/man/8/tunefs">tunefs(8)</a> for
                 more details on how to set this option.

     <b>-f</b> <u>frag-size</u>
                 The fragment size of the file system in bytes.

     <b>-i</b> <u>number</u> <u>of</u> <u>bytes</u> <u>per</u> <u>inode</u>
                 This specifies the density of inodes in the file system.  The default is to create an inode
                 for each 2048 bytes of data space.  If fewer inodes are desired, a larger number should be
                 used; to create more inodes a smaller number should be given.

     <b>-m</b> <u>free</u> <u>space</u> <u>%</u>
                 The percentage of space reserved from normal users; the minimum free space threshold.  The
                 default value used is 10%.  See <a href="tunefs.8.html#//apple_ref/doc/man/8/tunefs">tunefs(8)</a> for more details on how to set this option.

     <b>-n</b> <u>rotational</u> <u>positions</u>
                 Determines how many rotational time slots there are in one revolution of the disk.

     <b>-o</b> <u>optimization</u> <u>preference</u>
                 (``space'' or ``time'') The file system can either be instructed to try to minimize the
                 time spent allocating blocks, or to try to minimize the space fragmentation on the disk.
                 If the value of minfree (see above) is less than 10%, the default is to optimize for space;
                 if the value of minfree is greater than or equal to 10%, the default is to optimize for
                 time.  See <a href="tunefs.8.html#//apple_ref/doc/man/8/tunefs">tunefs(8)</a> for more details on how to set this option.

     <b>-s</b> <u>size</u>     The size of the file system in sectors.

     The following options override the standard sizes for the disk geometry.  Their default values are
     taken from the disk label.  Changing these defaults is useful only when using <b>newfs</b> to build a file
     system whose raw image will eventually be used on a different type of disk than the one on which it is
     initially created (for example on a write-once disk).  Note that changing any of these values from
     their defaults will make it impossible for fsck to find the alternate superblocks if the standard
     superblock is lost.

     <b>-S</b> <u>sector-size</u>
                 The size of a sector in bytes (almost never anything but 512).

     <b>-k</b> <u>sector</u> <u>0</u> <u>skew</u>, <u>per</u> <u>track</u>
                 Used to describe perturbations in the media format to compensate for a slow controller.
                 Track skew is the offset of sector 0 on track N relative to sector 0 on track N-1 on the
                 same cylinder.

     <b>-l</b> <u>hardware</u> <u>sector</u> <u>interleave</u>
                 Used to describe perturbations in the media format to compensate for a slow controller.
                 Interleave is physical sector interleave on each track, specified as the denominator of the
                 ratio:
                       sectors read/sectors passed over
                 Thus an interleave of 1/1 implies contiguous layout, while 1/2 implies logical sector 0 is
                 separated by one sector from logical sector 1.

     <b>-p</b> <u>spare</u> <u>sectors</u> <u>per</u> <u>track</u>
                 Spare sectors (bad sector replacements) are physical sectors that occupy space at the end
                 of each track.  They are not counted as part of the sectors/track (<b>-u</b>) since they are not
                 available to the file system for data allocation.

     <b>-r</b> <u>revolutions/minute</u>
                 The speed of the disk in revolutions per minute.

     <b>-t</b> <u>#tracks/cylinder</u>
                 The number of tracks/cylinder available for data allocation by the file system.

     <b>-u</b> <u>sectors/track</u>
                 The number of sectors per track available for data allocation by the file system.  This
                 does not include sectors reserved at the end of each track for bad block replacement (see
                 the <b>-p</b> option.)

     <b>-v</b> <u>volume</u> <u>name</u>
                 Volume name (file system name) in ASCII or UTF-8 format.  The default is "untitled".

     <b>-x</b> <u>spare</u> <u>sectors</u> <u>per</u> <u>cylinder</u>
                 Spare sectors (bad sector replacements) are physical sectors that occupy space at the end
                 of the last track in the cylinder.  They are deducted from the sectors/track (<b>-u</b>) of the
                 last track of each cylinder since they are not available to the file system for data allo-<font color="#ffffff" class="whiteout">cation.&nbsp;allocation.</font>
                 cation.

<b>SEE</b> <b>ALSO</b>
     <a href="../man5/fs.5.html#//apple_ref/doc/man/5/fs">fs(5)</a>, <a href="dumpfs.8.html#//apple_ref/doc/man/8/dumpfs">dumpfs(8)</a>, <a href="fdisk.8.html#//apple_ref/doc/man/8/fdisk">fdisk(8)</a>, <a href="fsck.8.html#//apple_ref/doc/man/8/fsck">fsck(8)</a>, <a href="mount.8.html#//apple_ref/doc/man/8/mount">mount(8)</a>, <a href="pdisk.8.html#//apple_ref/doc/man/8/pdisk">pdisk(8)</a>, <a href="tunefs.8.html#//apple_ref/doc/man/8/tunefs">tunefs(8)</a>

     M. McKusick, W. Joy, S. Leffler, and R. Fabry, "A Fast File System for UNIX,", <u>ACM</u> <u>Transactions</u> <u>on</u>
     <u>Computer</u> <u>Systems</u> <u>2</u>, 3, pp 181-197, August 1984, (reprinted in the BSD System Manager's Manual).

<b>HISTORY</b>
     The <b>newfs</b> command appeared in 4.2BSD.

4.2 Berkeley Distribution         May 3, 1995        4.2 Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/newfs.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/newfs.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/newfs.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
