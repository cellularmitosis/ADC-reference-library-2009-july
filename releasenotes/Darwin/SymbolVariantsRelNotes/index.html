<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Symbol Variants Release Notes: Symbol Variants: Why Those Dollar Signs?</title>
	<meta name="Generator" content="Gutenberg"/>
	<meta name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta name = "Copyright" content="Copyright 2009 AppleInc. All Rights Reserved."/>
	<meta name="IndexTitle" content="Symbol Variants: Why Those Dollar Signs?"/>
	<meta name="xcode-display" content="render"/>
	<meta id="RESOURCES" content="../../../documentation/Resources" />
	<link rel="stylesheet" type="text/css" href="../../../documentation/Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../documentation/Resources/JavaScript/pedia.js"></script>
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40006658" title="Symbol Variants: Why Those Dollar Signs?"></a>
        <a name="top"></a>
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000872" target="_top">Release Notes</a> &gt; <!--a  -->Darwin<!--/a--> &gt; <a href="../idxPorting-date.html#//apple_ref/doc/uid/TP30000872-TP30000422-TP30000553">Porting</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
                
        
        <a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_7" title="Symbol Variants: Why Those Dollar Signs?"></a><h1>Symbol Variants: Why Those Dollar Signs?</h1><p>Since Mac OS X v10.4, in the system library, <code>libSystem.dylib</code>, new symbols that contain dollar signs (<code><!--a-->$<!--/a--></code>) have been added. This release note explains why they are there, and how a developer might want to take advantage of them.</p>
<!-- This template is being used for both PDF and HTML. -->
<!-- TopicBook.pm currently relies on the element name bmini_toc. -->

    <h4>Contents:</h4>
    
    <p class="blockquote">

        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006658-DontLinkElementID_1" target="_top">Software Evolution vs. Backward Compatibility</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006658-DontLinkElementID_2" target="_top">Symbol Variants</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006658-DontLinkElementID_3" target="_top">Prototypes in Header Files</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006658-DontLinkElementID_4" target="_top">Preprocessor Macros Controlling the Variants</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006658-DontLinkElementID_5" target="_top">Summary of Variants</a>
                
            <br/>
            
        
			
            
                <a href="index.html#//apple_ref/doc/uid/TP40006658-DontLinkElementID_6" target="_top">gdb Support</a>
                
            <br/>
            
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_1" title="Software Evolution vs. Backward Compatibility"></a><h2>Software Evolution vs. Backward Compatibility</h2><p>Software is always changing. New demands require new features to be implemented. Bugs are discovered and fixed. Hardware and lower layers of the OS change, sometimes requiring upper layers to adapt.</p><p>For a commercial operating system like Mac OS X, third-party software expects that the system software will always act the same way. This backward compatibility prolongs the users’ investment in software and fosters the notion of greater stability in the system.</p><p>The need to evolve the software often conflicts with the desire to provide backward compatibility, but innovative solutions can allow both. If you remember the (classic) Mac OS before Mac OS X, a Classic environment was created specifically to run old applications on Mac OS X. Similarly, the transition to Intel-based hardware spurred the creation of the Rosetta dynamic translation software to provide compatibility with PowerPC-based applications.</p><p>Early in the Mac OS X v10.4 timeframe, two major software initiatives required an equally innovative solution to maintain backward compatibility. First, to be certified for UNIX™ conformance, hundreds of system routines needed to be modified. Some changes were considered just bug fixes, but many of the changes required significant change in behavior to the largely BSD-style routines. These changes would surely break existing applications.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_8" title="Note"></a><p><strong>Note:</strong>&nbsp;With regard to Mac OS X, the general term, UNIX™ conformance, refers to the Single UNIX Specification, Version 3 (<em>SUSv3</em>), a combination of IEEE, ISO and Open Group standards, including that referred to as <em>POSIX</em>. Furthermore, <em>UNIX 03</em> is the Open Group certified brand for <em>SUSv3</em> conformance, which Mac OS X 10.5 is registered. Previous brands include <em>UNIX 95</em> and <em>UNIX 98</em>, and so we sometimes refer to UNIX 2003 just to avoid date confusion.</p></div><p>Secondly, up until v10.4, there was no support for real (PowerPC) long double floating-point numbers (or more correctly, the long double type was the same size as the regular 64-bit double floating-point type). Support for a real, 128-bit long double type would mean incompatible API changes. Code compiled for one type of long double would crash or produce incorrect results when using routines for the other long double type.</p><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_2" title="Symbol Variants"></a><h2>Symbol Variants</h2><p>One way to allow routines to behave in new ways for new code but maintain the legacy behavior for previously compiled code is to use <em>symbol versioning</em>. In symbol versioning, different code can have the same symbol name, but have different version numbers. Unfortunately, this would require lots of changes to the compiler, linker and binary file format; a major undertaking that would have to happen before the real work could even be started.</p><p>So as an alternative, a feature of the <code>gcc</code> compiler was used; the <code><!--a-->__asm<!--/a--></code> command can be used to rename a symbol. A special suffix was added to the symbol, and by using different suffixes, we can generate families of <em>symbol variants</em>.</p><p>That is where the dollar sign comes in. It is used as a separator between the real symbol name and the variant name. Since it can’t occur in normal C code, this avoids the possibility of symbol name collision.</p><p>This is what it looks like:</p><div class="codesample"><table><tr><td scope="row"><pre>% nm /usr/lib/libSystem.dylib<span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>00086e9f T _fputs<span></span></pre></td></tr><tr><td scope="row"><pre>0003a14f T _fputs$UNIX2003<span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr></table></div>	<p>By Mac OS X convention, all variables and routine names are automatically prefixed with an underscore. The <code><!--a-->_fputs<!--/a--></code> symbol is the legacy variant, while the <code><!--a-->_fputs$UNIX2003<!--/a--></code> symbol is the new, UNIX™ conforming one. All programs previously built will only know about the <code><!--a-->_fputs<!--/a--></code> symbol, and will continue to use it and get legacy behavior, while new code can link to the new <code><!--a-->_fputs$UNIX2003<!--/a--></code> symbol and get UNIX™ conforming behavior.</p><p>A symbol may have more than one suffix. For instance:</p><div class="codesample"><table><tr><td scope="row"><pre>000a6905 T _ftw<span></span></pre></td></tr><tr><td scope="row"><pre>000a6603 T _ftw$INODE64$UNIX2003<span></span></pre></td></tr><tr><td scope="row"><pre>000a6dc7 T _ftw$UNIX2003<span></span></pre></td></tr></table></div>	<div class="notebox"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_9" title="Note"></a><p><strong>Note:</strong>&nbsp;Multiple suffixes are always ordered alphabetically so that there is only one legal arrangement of the suffixes.</p></div><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_3" title="Prototypes in Header Files"></a><h2>Prototypes in Header Files</h2><p>It is in the header files that the real magic occurs. For instance, to generate the <code><!--a-->_fputs$UNIX2003<!--/a--></code> symbol, we would need something like:</p><div class="codesample"><table><tr><td scope="row"><pre>int fputs(const char * __restrict, FILE * __restrict) __asm("_fputs$UNIX2003");<span></span></pre></td></tr></table></div>	<p>In <code>&lt;stdio.h></code>, the actual prototype looks like:</p><div class="codesample"><table><tr><td scope="row"><pre>int fputs(const char * __restrict, FILE * __restrict) __DARWIN_ALIAS(fputs);<span></span></pre></td></tr></table></div>	<p>The <code>__DARWIN_ALIAS</code> macro resolves to the necessary <code><!--a-->__asm<!--/a--></code> command, as appropriate for the legacy or UNIX™ conforming variant.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_10" title="Important:"></a><p><strong>Important:</strong>&nbsp;Including the appropriate header file for each system variable and routine used is now more important than ever. Use the <code>−Wmissing-prototypes</code> or equivalent option to the compiler to detect a global function without a prototype, and then see the manual page to find out what header file or files to include. (See the documentation for <code><a href="../../../documentation/Darwin/Reference/ManPages/man1/man.1.html#//apple_ref/doc/man/1/man" target="_top">man(1)</a></code> and <code><a href="../../../documentation/Darwin/Reference/ManPages/man5/manpages.5.html#//apple_ref/doc/man/5/manpages" target="_top">manpages(5)</a></code> for more information about manual pages.)</p><p></p></div><div class="importantbox"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_11" title="Important:"></a><p><strong>Important:</strong>&nbsp;As per convention, preprocessor macros beginning with two underscores are private to the implementation and should <strong>not</strong> be used by the user because they may change at any time. Preprocessor macros beginning with a single underscore are owned by the implementation, but can be used by the user when appropriate.</p><p></p></div><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_4" title="Preprocessor Macros Controlling the Variants"></a><h2>Preprocessor Macros Controlling the Variants</h2><p>The UNIX™ conformance variants use the <code><!--a-->$UNIX2003<!--/a--></code> suffix.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_12" title="Note"></a><p><strong>Note:</strong>&nbsp;When the UNIX™ conformance variants are used, the feature test macro <code>_DARWIN_FEATURE_UNIX_CONFORMANCE</code> is defined. Its value is 3, corresponding to <em>SUSv3</em>. The macro will be undefined otherwise (legacy behavior).</p></div><div class="importantbox"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_13" title="Important:"></a><p><strong>Important:</strong>&nbsp;The work for UNIX™ conformance started in Mac OS 10.4, but was not completed until 10.5. Thus, in the 10.4 versions of <code>libSystem.dylib</code>, many of the conforming variant symbols (with the <code><!--a-->$UNIX2003<!--/a--></code> suffix) exist. The list is not complete, and the conforming behavior of the variant symbols may not be complete, so they should be avoided.</p><p></p></div><p>Because the 64-bit environment has no legacy to maintain, it was created to be UNIX™ conforming from the start, without the use of the <code><!--a-->$UNIX2003<!--/a--></code> suffix. So, for example, <code><!--a-->_fputs$UNIX2003<!--/a--></code> in 32-bit and <code><!--a-->_fputs<!--/a--></code> in 64-bit will have the same conforming behavior.</p><p>As of Mac OS X 10.5, UNIX™ conformance is on by default, and newly compiled code will link against the UNIX™ conformance variants, unless overridden with the following five macros.</p><dl class="termdef">	<dt><code>_POSIX_C_SOURCE</code> and <code>_XOPEN_SOURCE</code></dt><dd><p>The <code>_POSIX_C_SOURCE</code> and <code>_XOPEN_SOURCE</code> macros are often set to specify the various levels of standards support. On Mac OS X, only <em>SUSv3</em> is supported, so the actual value of these macros is not used (but they are reset to appropriate values when necessary).</p><p>When either or both of these macros are set, the UNIX™ conforming variants will be used. In addition, unless <code>_DARWIN_C_SOURCE</code> is also set (see below), these macros will cause the hiding of any variable, routine, structure, etc., in covered header files that are not specified in the standards. (These extra definitions are referred to as <em>extensions</em> to the standards.) Thus, only <em>SUSv3</em> definitions will be visible in those header files.</p></dd></dl><dl class="termdef">	<dt><code>_DARWIN_C_SOURCE</code></dt><dd><p>The <code>_DARWIN_C_SOURCE</code> macro (defined to any value), causes the UNIX™ conforming variants to be used, but does not hide the extensions to the standards, as <code>_POSIX_C_SOURCE</code> and <code>_XOPEN_SOURCE</code> do. The <code>_DARWIN_C_SOURCE</code> macro can be used in conjunction with the <code>_POSIX_C_SOURCE</code> and <code>_XOPEN_SOURCE</code> macros, with the <code>_DARWIN_C_SOURCE</code> behavior overriding the other two, allowing the extensions to the standards to be visible.</p><p>In addition, the <code>_DARWIN_C_SOURCE</code> macro will enable a few other extensions to the standards. These extensions occur where the <em>SUSv3</em> standard puts additional limitations on the functionality beyond that of legacy (and, typically, BSD) behavior. The extension variants use the <code><!--a-->$DARWIN_EXTSN<!--/a--></code> suffix, and can also be enabled with separate macros. (See the macro descriptions below.)</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_14" title="Note"></a><p><strong>Note:</strong>&nbsp;The difference between setting the <code>_DARWIN_C_SOURCE</code> macro and not setting any macro, is that the variants with the <code><!--a-->$DARWIN_EXTSN<!--/a--></code> suffix will also be used.</p></p></div></dd></dl><dl class="termdef">	<dt><code>_NONSTD_SOURCE</code></dt><dd><p>The <code>_NONSTD_SOURCE</code> macro can be used to turn off the default UNIX™ conformance, and allow code to be built with legacy behavior. However, this macro will produce a compiler error when any of the above macros are set.</p><div class="importantboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_15" title="Important:"></a><p><strong>Important:</strong>&nbsp;The <code>_NONSTD_SOURCE</code> macro is not recommended, and should not be used in new code. Its only use should be to allow <strong>temporary</strong> functionality of old code until it can properly be updated for UNIX™ compliance.</p><p></p></div><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_16" title="Note"></a><p><strong>Note:</strong>&nbsp;The use of the <code>_NONSTD_SOURCE</code> macro in the 64-bit environment is illegal.</p></p></div></dd></dl><dl class="termdef">	<dt><code>MACOSX_DEPLOYMENT_TARGET</code></dt><dd><p>When none of the previous four macros are set, the variants chosen are affected by the environment variable <code>MACOSX_DEPLOYMENT_TARGET</code> or the <code>−mmacosx-version-min=...</code> argument passed to the compiler. For example, you might pass <code>−mmacosx-version-min=10.5</code> to the compiler or set <code>MACOSX_DEPLOYMENT_TARGET=10.5</code> to target Mac OS X v10.5.</p><p>If you target version 10.5 or later, the UNIX™ conforming variants are used automatically. If you target version 10.4 or earlier, the legacy variants are used. (There are other side effects as well, such as disabling newer linker features.)</p><p>In Mac OS X 10.5 or later, if you do not use this or the previous four macros, the UNIX™ conforming variants are used by default.</p><p>In addition, if you target version 10.5 or later (or by default if you do not target a specific version), the Mac OS X 10.5 variants (those with the <code><!--a-->$1050<!--/a--></code> suffix) are used. These variants have significant new behavior that might cause previously compiled programs to misbehave. For example, the (legacy) <code>_select</code> routine imposed a minimum timeout value of 10 milliseconds; the new <code>_select$1050</code> routine has no such minimum.</p></dd></dl><dl class="termdef">	<dt><code>MACOSX_DEPLOYMENT_TARGET</code> (32-bit PowerPC only)</dt><dd><p>Setting <code>MACOSX_DEPLOYMENT_TARGET</code> to 10.4 or later (or passing <code>−mmacosx-version-min=10.4</code> or later to the compiler) enables 128-bit long double support. Routines that pass long doubles either directly (like <code><!--a-->strtold<!--/a--></code>) or indirectly (like <code><!--a-->printf<!--/a--></code> and family) have the 128-bit long double variant which uses the <code><!--a-->$LDBL128<!--/a--></code> suffix, while the legacy 64-bit long double variants are unadorned.</p><div class="importantboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_17" title="Important:"></a><p><strong>Important:</strong>&nbsp;There is also a variant with the <code><!--a-->$LDBL64<!--/a--></code> suffix; these symbols are currently unused, and might be used in the future, or even removed. Do not use them.</p><p></p></div><p>What happens when <code>MACOSX_DEPLOYMENT_TARGET</code> is set to 10.3 or earlier (or is not set at all) is more complicated. During the development of Mac OS X v10.4, it was desired to have 128-bit long double support be the default. However, when <code>MACOSX_DEPLOYMENT_TARGET</code> is not set, things would default to the behavior three releases before—that of 10.1. While it was possible to back-port the standard C library routines that used long double support to 10.3 (though not the math routines), they couldn’t be back-ported to 10.1 or 10.2.</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_18" title="Note"></a><p><strong>Note:</strong>&nbsp;Only the latest update to 10.3 (10.3.9) contains the back-ported routines.</p></p></div><p>As a compromise, when <code>MACOSX_DEPLOYMENT_TARGET</code> is not set, or set to 10.3 or earlier, the header files would use a different variant, with the <code><!--a-->$LDBLStub<!--/a--></code> suffix. The compiler would instruct the loader to link against <code>/usr/lib/libSystemStubs.a</code>, where the <code><!--a-->$LDBLStub<!--/a--></code> suffixed symbols are defined. At runtime, these assembly language stubs try to lookup the symbol with the same base name and a <code><!--a-->$LDBL128<!--/a--></code> suffix, and if it finds it, uses it. Otherwise, it will call the unadorned symbol name. This allows the code to adapt to whichever symbols are actually available in the current system library.</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_19" title="Note"></a><p><strong>Note:</strong>&nbsp;This is not without risk. Code compiled using 128-bit long doubles may still crash or give incorrect results on systems without 128-bit long double support. However, given that the actual use of long doubles is minimal, this scheme allows 128-bit long doubles to be the default, and at the same time, if long doubles are not actually used (or if the code adapts to using 64-bit long doubles), the code will safely run on previous versions of Mac OS X without 128-bit long double support.</p></p></div><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_20" title="Note"></a><p><strong>Note:</strong>&nbsp;While the compiler will instruct the loader to link against <code>/usr/lib/libSystemStubs.a</code>, the loader itself does not know to do this. Projects that call the loader directly may fail to resolve the <code><!--a-->$LDBLStub<!--/a--></code> variants. In these cases, calls to the loader should be replaced with calls to the compiler to do the linking.</p></p></div><p>On Mac OS X 10.5, not setting <code>MACOSX_DEPLOYMENT_TARGET</code> and not using <code>−mmacosx-version-min</code> will result in 10.5 behavior by default, so the <code><!--a-->$LDBL128<!--/a--></code> variants are used instead of the <code><!--a-->$LDBLStub<!--/a--></code> variants. However, as before, if <code>MACOSX_DEPLOYMENT_TARGET</code> is set to 10.3 or earlier, the <code><!--a-->$LDBLStub<!--/a--></code> variants are used.</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_21" title="Note"></a><p><strong>Note:</strong>&nbsp;Passing the <code>−mlong-double-64</code> option to the compiler also forces legacy 64-bit long double support.</p></p></div><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_22" title="Note"></a><p><strong>Note:</strong>&nbsp;When legacy 64-bit long double support is used, the feature test macro <code>_DARWIN_FEATURE_LONG_DOUBLE_IS_DOUBLE</code> is defined and set to 1. When 128-bit long double support is used, this macro is undefined. It is also undefined for architectures other than 32-bit PowerPC.</p></p></div></dd></dl><dl class="termdef">	<dt><code>_DARWIN_UNLIMITED_SELECT</code></dt><dd><p>Setting the <code>_DARWIN_UNLIMITED_SELECT</code> macro will select the extension variants of <code><!--a-->select()<!--/a--></code> and <code><!--a-->pselect()<!--/a--></code>, which uses the <code><!--a-->$DARWIN_EXTSN<!--/a--></code> suffix. The extended versions do not fail if the first argument is greater than <code>FD_SETSIZE</code>. This was the original BSD behavior.</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_23" title="Note"></a><p><strong>Note:</strong>&nbsp;Setting <code>_DARWIN_C_SOURCE</code> will also enable the extension variants.</p></p></div></dd></dl><dl class="termdef">	<dt><code>_DARWIN_BETTER_REALPATH</code></dt><dd><p>Setting the <code>_DARWIN_BETTER_REALPATH</code> macro selects the extension variant of <code><!--a-->realpath()<!--/a--></code>, which uses the <code><!--a-->$DARWIN_EXTSN<!--/a--></code> suffix. The extended version uses a fast shortcut to determine the current working directory, but this shortcut does not fail if the parent directories are not readable, as is dictated by the standards.</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_24" title="Note"></a><p><strong>Note:</strong>&nbsp;Setting <code>_DARWIN_C_SOURCE</code> will also enable the extension variant.</p></p></div></dd></dl><dl class="termdef">	<dt><code>_DARWIN_USE_64_BIT_INODE</code></dt><dd><p>Setting the <code>_DARWIN_USE_64_BIT_INODE</code> macro selects the 64-bit inode variants (those with a <code><!--a-->$INODE64<!--/a--></code> suffix) of routines like <code><!--a-->stat()<!--/a--></code> and <code><!--a-->readdir()<!--/a--></code>, which return an <code>ino_t</code> value. The current default is to return legacy 32-bit <code>ino_t</code> values, but 64-bit <code>ino_t</code> values will become the default in the future. Structures containing <code>ino_t</code> fields, like <code>struct stat</code>, are larger than the 32-bit <code>ino_t</code> versions, may have different ordering of the fields (to improve packing efficiency) and may have entirely new fields.</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_25" title="Note"></a><p><strong>Note:</strong>&nbsp;When 64-bit inode support is used, the feature test macro <code>_DARWIN_FEATURE_64_BIT_INODE</code> is defined and set to 1. It is undefined otherwise (for 32-bit inodes)</p></p></div><div class="importantboxdef"><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_26" title="Important:"></a><p><strong>Important:</strong>&nbsp;Some of the routines returning <code>ino_t</code> values also have symbols ending in “64”, like <code><!--a-->stat64()<!--/a--></code> and <code><!--a-->getmntinfo64()<!--/a--></code>. These routines always return 64-bit <code>ino_t</code> values, and were used for early adoption before the 64-bit inode variants were available. These “early adoption” symbols will likely be deprecated in the future, so the use of the <code>_DARWIN_USE_64_BIT_INODE</code> macro for 64-bit inode variants is the recommended way to get 64-bit inodes.</p><p></p></div></dd></dl><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_5" title="Summary of Variants"></a><h2>Summary of Variants</h2><p>Below is a table that summarizes the variant suffixes and the corresponding, controlling and feature test macros.</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Variant Suffix</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Controlling Preprocessor Macro</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Feature Test Macro</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th></tr><tr><td  scope="row"><p><code><!--a-->$1050<!--/a--></code></p></td><td ><p><code>MACOSX_DEPLOYMENT_TARGET</code></p></td><td ><p></p></td><td ><p>Mac OS X 10.5 and later behavior change</p></td></tr><tr><td  scope="row"><p><code><!--a-->$DARWIN_EXTSN<!--/a--></code></p></td><td ><p><code>_DARWIN_C_SOURCE</code> or specific extension macro</p></td><td ><p></p></td><td ><p>Extended behavior beyond standards</p></td></tr><tr><td  scope="row"><p><code><!--a-->$INODE64<!--/a--></code></p></td><td ><p><code>_DARWIN_USE_64_BIT_INODE</code></p></td><td ><p><code>_DARWIN_FEATURE_64_BIT_INODE</code></p></td><td ><p>64-bit <code>ino_t</code> values</p></td></tr><tr><td  scope="row"><p><code><!--a-->$LDBL128<!--/a--></code></p></td><td ><p><code>MACOSX_DEPLOYMENT_TARGET</code></p></td><td ><p><code>_DARWIN_FEATURE_LONG_DOUBLE_IS_DOUBLE</code> (negation)</p></td><td ><p>128-bit long double support (32-bit PowerPC only)</p></td></tr><tr><td  scope="row"><p><code><!--a-->$UNIX2003<!--/a--></code></p></td><td ><p><code>_POSIX_C_SOURCE</code></p><p><code>_XOPEN_SOURCE</code></p><p><code>_DARWIN_C_SOURCE</code></p><p><code>_NONSTD_SOURCE</code></p><p><code>MACOSX_DEPLOYMENT_TARGET</code></p></td><td ><p><code>_DARWIN_FEATURE_UNIX_CONFORMANCE</code></p></td><td ><p>UNIX™ conformance</p></td></tr><tr><td  scope="row"><p><code><!--a-->$NOCANCEL<!--/a--></code></p><p><code><!--a-->$fenv_access_off<!--/a--></code></p></td><td ><p></p></td><td ><p></p></td><td ><p>(used internally)</p></td></tr><tr><td  scope="row"><p><code><!--a-->$LDBL64<!--/a--></code></p></td><td ><p></p></td><td ><p></p></td><td ><p>(unused; may be removed)</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP40006658-DontLinkElementID_6" title="gdb Support"></a><h2>gdb Support</h2><p>When setting a breakpoint at a routine that has multiple variants, <code>gdb</code> will set a breakpoint at each variant. The <code>delete</code> command can be used to remove any unwanted breakpoint at any of the variants. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>(gdb) b select
Breakpoint 1 at 0x85edd
Breakpoint 2 at 0x54592
Breakpoint 3 at 0x4ff50
Breakpoint 4 at 0x37b44
Breakpoint 5 at 0x37b09
warning: Multiple breakpoints were set.
Use the "delete" command to delete unwanted breakpoints.
(gdb) info breakpoints
Num Type           Disp Enb Address    What
1   breakpoint     keep y   0x00085edd &lt;select+6>
2   breakpoint     keep y   0x00054592 &lt;select$UNIX2003+6>
3   breakpoint     keep y   0x0004ff50 &lt;select$DARWIN_EXTSN>
4   breakpoint     keep y   0x00037b44 &lt;select$DARWIN_EXTSN$NOCANCEL>
5   breakpoint     keep y   0x00037b09 &lt;select$NOCANCEL$UNIX2003+6>
<span></span></pre></td></tr></table></div>	

        <br/><br/> 
        
        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-16<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/releasenotes/Darwin/SymbolVariantsRelNotes/index.html%3Fid%3DTP40006658-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/releasenotes/Darwin/SymbolVariantsRelNotes/index.html%3Fid%3DTP40006658-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/releasenotes/Darwin/SymbolVariantsRelNotes/index.html%3Fid%3DTP40006658-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
</body>
</html>