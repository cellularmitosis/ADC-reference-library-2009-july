<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Shark User Guide: Getting Started with Shark</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Getting Started with Shark"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005233-CH2" title="Getting Started with Shark"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../Performance-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000901" target="_top">Performance</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40005233-CH1-DontLinkElementID_6">Shark User Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../TimeProfiling/TimeProfiling.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40005233-CH2-SW3" title="Getting Started with Shark"></a><h1>Getting Started with Shark</h1><p>Starting to use Shark is a relatively simple process. You only need to choose one or two items from menus and press a big “Start” button in order to start sampling your applications. This chapter describes these basic steps and a few other general Shark features, such as its preferences.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW4">Main Window</a>
				
			<br/>
			
        
			
			
				<a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW8">Perform Sampling</a>
				
			<br/>
			
        
			
			
				<a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW7">Session Windows and Files</a>
				
			<br/>
			
        
			
			
				<a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW5">Shark Preferences</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40005233-CH2-SW4" title="Main Window"></a><h2>Main Window</h2><br/><div><a name="//apple_ref/doc/uid/TP40005233-CH2-SW1" title="Figure 1-1Main Window"></a><p><strong>Figure 1-1&nbsp;&nbsp;</strong>Main Window</p><img src = "../Art/MainWindow.jpg" alt = "Main Window" ></div><br/><p>After launching Shark, you will be presented with Shark’s main window, as illustrated in <span class="content_text">Figure 1-1</span>. The default sampling configuration is timer-based sampling (<em>Time Profile</em>) of everything running on the system. By default, the <em>Time Profile</em> configuration uses a 1 ms timer as the trigger for sampling and will record for 30 seconds (30,000 samples per processor). Opening the <em>Sampling Configuration</em> menu (#1) allows you to select from various built-in profiling configurations. Here is a list:</p><ul class="ul"><li class="li"><p><strong>Time Profile</strong>— This configuration, the default, performs timer-based sampling, interrupting your system after a regular interval and taking a sample of what is executing. It is a great starting point, as it allows you to very quickly see what code in your application is actually executing most frequently. Knowing this is the first step to successfully optimizing CPU-bound applications. See <span class="content_text"><a href="../TimeProfiling/TimeProfiling.html#//apple_ref/doc/uid/TP40005233-CH3-SW1">“Time Profiling”</a></span> for more information.</p></li><li class="li"><p><strong>System Trace</strong>— This configuration records an exact trace of calls into the Mac OS X kernel by your program, and which threads are running. It is useful for examining your program’s interactions with Mac OS X and for visualizing how your threads are interacting in multithreaded programs. System Trace is discussed in depth in <span class="content_text"><a href="../SystemTracing/SystemTracing.html#//apple_ref/doc/uid/TP40005233-CH4-SW12">“System Tracing.”</a></span></p></li><li class="li"><p><strong>Time Profile (All Thread States)</strong>— This variation on time profiling also records the state of all blocked, inactive threads. As a result, it’s a great way to see how much and why your threads are blocked. This is quite helpful in the development of multithreaded programs that do a lot of synchronization. This configuration is described in <span class="content_text"><a href="../OtherProfilingandTracingTechniques/OtherProfilingandTracingTechniques.html#//apple_ref/doc/uid/TP40005233-CH6-SW18">“Time Profile (All Thread States).”</a></span></p></li><li class="li"><p><strong>Malloc Trace</strong>— If your program allocates and deallocates a lot of memory, performance can suffer and the odds of accidental memory leaks increase. Shark can help you find and analyze these allocations. <span class="content_text"><a href="../OtherProfilingandTracingTechniques/OtherProfilingandTracingTechniques.html#//apple_ref/doc/uid/TP40005233-CH6-SW16">“Malloc Trace”</a></span> talks about this more.</p></li><li class="li"><p><strong>Static Analysis</strong>— Shark can provide some basic optimization hints without actually running code. See <span class="content_text"><a href="../OtherProfilingandTracingTechniques/OtherProfilingandTracingTechniques.html#//apple_ref/doc/uid/TP40005233-CH6-SW19">“Static Analysis”</a></span> for more information.</p></li><li class="li"><p><strong>Java Profiling</strong>— Because Java programs run within the Java Virtual Machine (JVM), normally sampling them with Shark produces little useful information. However, Shark also includes several configurations that simulate the normal <em>Time Profile</em>, <em>Malloc Trace</em>, and even an exact trace of method calls, but while collecting information about what the JVM is executing instead of the native machine. A full description of these options and how to attach Shark to your Java programs is given in <span class="content_text"><a href="../OtherProfilingandTracingTechniques/OtherProfilingandTracingTechniques.html#//apple_ref/doc/uid/TP40005233-CH6-SW20">“Using Shark with Java Programs.”</a></span></p></li><li class="li"><p><strong>Hardware Measurements</strong>— The <em>L2 cache miss</em> and <em>Processor Bandwidth</em> (x86 systems) or <em>Memory Bandwidth</em> (PowerPC systems) configurations measure memory system activity using counters built into the hardware. They are a great way to see how your program is being slowed because of poor cache memory use. See <span class="content_text"><a href="../OtherProfilingandTracingTechniques/OtherProfilingandTracingTechniques.html#//apple_ref/doc/uid/TP40005233-CH6-SW21">“Event Counting and Profiling Overview”</a></span> for an overview of Shark’s counter measurement capabilities.</p></li></ul><p>These built-in configurations are adequate for sampling most applications. After you have used Shark for awhile, however, you may decide that you would like to sample something in your application that is not covered by the built-in collection of options. In particular, you may want to perform hardware measurements using counters that are not used by the default hardware measurement configurations. The process for building your own configurations is described in <span class="content_text"><a href="../CustomConfigurations/CustomConfigurations.html#//apple_ref/doc/uid/TP40005233-CH8-SW1">“Custom Configurations.”</a></span> This process is complex enough that you should probably familiarize yourself with Shark before attempting the creation of configurations.</p><p>By default, Shark samples your entire system, as indicated by the “Everything” item selected for you in the <em>Target</em> pop-up menu (#2). Popping open this menu allows you to select a specific process or file (<span class="content_text">Figure 1-2</span>). You may also choose different targets using the keyboard: <em>Command-1</em> for everything, <em>Command-2</em> for an executing process, and <em>Command-3</em> for a file. For a <em>Time Profile</em>, it is unnecessary to select a specific target, but others like <em>Malloc Trace</em> and <em>Static Analysis</em> require you to target a specific process or file. If you select the “Process” target, you can also choose to launch a new process. See <span class="content_text"><a href="../SelectingExecutiontoSampleorTrace/SelectingExecutiontoSampleorTrace.html#//apple_ref/doc/uid/TP40005233-CH13-SW12">“Process Attach”</a></span> and <span class="content_text"><a href="../SelectingExecutiontoSampleorTrace/SelectingExecutiontoSampleorTrace.html#//apple_ref/doc/uid/TP40005233-CH13-SW13">“Process Launch”</a></span> for full instructions on the process attaching and launching target selection techniques.</p><br/><div><a name="//apple_ref/doc/uid/TP40005233-CH2-SW2" title="Figure 1-2Process Target"></a><p><strong>Figure 1-2&nbsp;&nbsp;</strong>Process Target</p><img src = "../Art/figure2-2.jpg" alt = "Process Target" ></div><br/><a name="//apple_ref/doc/uid/TP40005233-CH2-SW10" title="Mini Configuration Editors"></a><h3>Mini Configuration Editors</h3><p>Each configuration typically has a few parameters that are frequently modified. Shark allows you to edit these easily using the <em>mini configuration editors</em> associated with each configuration. You can enable mini configuration editors by selecting the <em>Config</em>→<em>Show Mini Config Editor</em> menu item (<em>Command-Shift-C</em>). Most mini configuration editors are similar to the one depicted in <span class="content_text">“Shark Preferences,”</span> but all have small configuration-specific variations. The selection of controls available in each min configuration editor are described in the chapters associated with each type of configuration.</p><br/><div><a name="//apple_ref/doc/uid/TP40005233-CH2-SW13" title="Figure 1-3Mini Configuration Editor"></a><p><strong>Figure 1-3&nbsp;&nbsp;</strong>Mini Configuration Editor</p><img src = "../Art/figure5-10.jpg" alt = "Mini Configuration Editor" ></div><br/><a name="//apple_ref/doc/uid/TP40005233-CH2-SW8" title="Perform Sampling"></a><h2>Perform Sampling</h2><p>After you choose what you would like to sample (or trace, with some configurations) and how, then actually using Shark to sample your program is extremely simple. There are two main ways to start sampling:</p><ol class="ol"><li class="li"><p>Click the <em>Start</em> button (#3 in <span class="content_text">“Main Window”</span>).</p></li><li class="li"><p>Press the current “Hot Key” (<em>Option-Esc</em>, by default).</p></li></ol><p>Shark will emit a brief tone and the Shark icon in the dock will turn bright red to let you know that Shark is now actively sampling. At this point, you should exercise your program appropriately to trigger the execution of code that you want to measure. Sometimes this may require no active input on your part, but if you are measuring something like user interface performance then you may need to manually perform several steps while Shark samples.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40005233-CH2-DontLinkElementID_4" title="Note"></a><p><strong>Note:</strong>&nbsp;Occasionally you may notice a small delay while Shark allocates the sample buffers it needs to record data, due to time spent in the Mac OS X virtual memory system performing the necessary memory allocations. If this delay is long enough to cause you to miss the key events that you wanted to measure, you should just stop Shark and try to repeat your experiment, since memory allocation delays are usually much shorter for second and subsequent repeated Shark invocations.</p></div><p>After you have finished sampling the interesting portion of your program, you will need to stop Shark’s sampling. Again, this is a simple process. You will typically use one of the following three options:</p><ol class="ol"><li class="li"><p>Click the <em>Stop</em> button, which is what the “Start” button becomes once sampling has started.</p></li><li class="li"><p>Press the current “Hot Key” (<em>Option-Esc</em>, by default).</p></li><li class="li"><p>Wait for the maximum profiling time or number of samples specified by the configuration to pass. When either of these conditions is met, Shark will automatically stop.</p></li></ol><p>After Shark stops sampling, you will see a progress bar appear at the bottom of the main Shark window as samples are processed and symbols are gathered. During processing, Shark sorts samples both by process and by thread. Shark also looks up the symbols corresponding to each sampled address and caches any other information that may be needed for later browsing of your program. All of this work is done only <em>after</em> sampling is complete, in order to minimize the system overhead of Shark <em>during</em> sampling.</p><p>If you would like to use the “Hot Key” technique, but your application already uses <em>Option-Esc</em> for another purpose, then you should reassign Shark’s “Hot Key” to another key combination. See <span class="content_text"><a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW5">“Shark Preferences”</a></span> for information on how to do this.</p><p>In addition to the basic timing options shown here, Shark also offers many other techniques for very fine selection of the time used for Shark’s sampling, should you need more control. See <span class="content_text"><a href="../SelectingExecutiontoSampleorTrace/SelectingExecutiontoSampleorTrace.html#//apple_ref/doc/uid/TP40005233-CH13-SW15">“Advanced Profiling Control”</a></span> if you find that the basic start/stop operation described here is not enough to focus Shark’s sampling on the parts of your application that you would like to measure.</p><a name="//apple_ref/doc/uid/TP40005233-CH2-SW7" title="Session Windows and Files"></a><h2>Session Windows and Files</h2><p>Once you’ve recorded samples or a trace, Shark will open up a new <em>session window</em> to display the results. Depending upon the configuration you chose, the appearance of this window will vary. See the chapter on the particular configuration that you chose for more information (in <span class="content_text"><a href="../TimeProfiling/TimeProfiling.html#//apple_ref/doc/uid/TP40005233-CH3-SW1">“Time Profiling,”</a></span> <span class="content_text"><a href="../SystemTracing/SystemTracing.html#//apple_ref/doc/uid/TP40005233-CH4-SW12">“System Tracing,”</a></span> and <span class="content_text"><a href="../OtherProfilingandTracingTechniques/OtherProfilingandTracingTechniques.html#//apple_ref/doc/uid/TP40005233-CH6-SW17">“Other Profiling and Tracing Techniques”</a></span>). Nevertheless, all session windows have some basic features in common.</p><p>Shark allows you to work with multiple sampling sessions at a time, displaying a separate window for each session. This is useful for comparing two or more sampling sessions side-by-side. The currently displayed session can be changed using the <em>Window</em> menu. By default, sessions are listed in the order they are loaded or created. In addition, each new session is given a unique name, in the format of “Session # - Configuration.”</p><a name="//apple_ref/doc/uid/TP40005233-CH2-SW6" title="Session Files"></a><h3>Session Files</h3><p>Shark makes it easy to save any sessions to <code>.mshark</code> “session” files at any time. There are several reasons why you might want to do this: for later analysis, to keep as archives to track performance regressions, or to share your results. These files are particularly convenient when attached to performance bug reports, as a session file that records samples of slow code offers a simple and effective way to document the performance problem. Each session file contains all of the necessary data (symbols, source, and — optionally — even program text, see <span class="content_text"><a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW5">“Shark Preferences”</a></span>) needed to display and explore the session on <em>any</em> computer running Mac OS X, independent of that system’s hardware or software configuration. Because of this, you can freely share your session files with any other coworkers using Shark, without regard to what type of Mac they might have.</p><p>A session is saved to disk as a single, compressed file when you use the <em>File</em>→<em>Save</em> menu item (<em>Command-S</em>). The first time you save a session, you will need to name the new session. This name will be used to name the new session file and to replace the “Session #” part of the original window name. If you want to save the session again at any point in time using a new name, then just choose the <em>File</em>→<em>Save as...</em> menu item (<em>Command-Shift-S</em>).</p><p>You may even choose to have Shark email your session file to someone else at any time, using the <em>File</em>→<em>Mail This Session</em> menu item. When chosen, this will send your default email program a remote message asking it to start up a new email message for sending. Subsequently, Shark will automatically attach a session file of the current session (saving it first, if necessary). You may then finish composing your message and send it using the normal procedures for your email program.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40005233-CH2-DontLinkElementID_5" title="Note"></a><p><strong>Note:</strong>&nbsp;Shark’s session files have slowly evolved and changed over time, as new features have been added that made it difficult to keep backwards-compatible file formats. The current file format (<code>.mshark</code>) is <em>only</em> compatible with Shark 4.6 and later. Shark 4.0–4.5 use a transitional file format (also called<code>.mshark</code>) that can still be read by more recent versions of Shark. However, users of these versions of Shark who need to read Shark 4.6 or later files will need to upgrade. Old <code>.shark</code> files from Shark 3 and before and the <code>.sample</code> files created by the Sampler application or command-line tool can only be read by Shark 4.3 or earlier.</p></div><a name="//apple_ref/doc/uid/TP40005233-CH2-SW11" title="Session Information Sheet"></a><h3>Session Information Sheet</h3><p>You can see many underlying details about the session by using <em>File</em>→<em>Get Info</em> (<em>Command-I</em>). This will drop down the sheet shown in <span class="content_text">“Session Report”</span> over the top of your session window. </p><br/><div><a name="//apple_ref/doc/uid/TP40005233-CH2-SW14" title="Figure 1-4Session Inspector Panel"></a><p><strong>Figure 1-4&nbsp;&nbsp;</strong>Session Inspector Panel</p><img src = "../Art/SessionInspector.jpg" alt = "Session Inspector Panel" ></div><br/><p>This panel contains four tabbed panes:</p><ul class="spaceabove"><li class="li"><p><strong>Summary</strong>— Because Shark records samples at a very low level, the configuration of the sampled system can often be critical when interpreting results. This pane, shown in <span class="content_text">“Session Report,”</span> displays many facts about the system setup when the session was originally recorded. This is very useful if you send a session file to another person, as they can call up your system’s configuration with a single key combination. Four different types of information are presented in the four quadrants of the view:</p><ol class="ol"><li class="li"><p><em>Basic Statistics</em>— This section of the pane contains basic information about the system at the time the session was recorded. The system’s name, the current user, date, and time are available here.</p></li><li class="li"><p><em>Software Configuration</em>— This shows version information about Shark and the underlying Mac OS X and frameworks.</p></li><li class="li"><p><em>Sampling Configuration</em>— This shows a text description of the configuration used for recording the session. This is the same sort of summary description that you can see in the upper right corner of the custom configuration window (as shown in <span class="content_text"><a href="../CustomConfigurations/CustomConfigurations.html#//apple_ref/doc/uid/TP40005233-CH8-SW13">“The Config Editor”</a></span>).</p></li><li class="li"><p><em>Hardware Configuration</em>— This shows key characteristics about the machine used for sampling and its underlying hardware components: processor, main memory, memory controller, I/O subsystem controller, and such.</p></li></ol></li><li class="li"><p><strong>Notes</strong>— This pane is just a text box. You can type any notes and messages that you want here, and they will be saved with the session file. This is helpful when you would like to record some additional information about how the session was recorded, making notes about insights gained by you during analysis, and the like.</p></li><li class="li"><p><strong>Symbols</strong>— Here you can see a list of all binaries (application binaries, dynamic libraries, and the like) that were sampled during the session. It also provides controls for selecting and “symbolicating” (adding symbols to) samples taken from those binaries. See <span class="content_text"><a href="../AdvancedProfileAnalysisandDataMining/AdvancedProfileAnalysisandDataMining.html#//apple_ref/doc/uid/TP40005233-CH7-SW3">“Manual Session Symbolication”</a></span> for instructions on how to do this.</p></li><li class="li"><p><strong>Plug Ins</strong>— This pane displays a list of the Shark PlugIns that were used to record, analyze, and view the session. See <span class="content_text"><a href="../CustomConfigurations/CustomConfigurations.html#//apple_ref/doc/uid/TP40005233-CH8-SW1">“Custom Configurations”</a></span> for more information on these.</p></li></ul><a name="//apple_ref/doc/uid/TP40005233-CH2-SW12" title="Session Report"></a><h3>Session Report</h3><p>At any time, you may open a window containing a brief text summary of your session’s findings by using the <em>File</em>→<em>Generate Report...</em> menu item (<em>Command-J</em>). This report includes some information about what the configuration was, the underlying system configuration, and a brief summary of the recorded samples. If you need to give a quick overview of a session to someone who does not have Shark on their computer, then this can be a useful command. Otherwise, it is probably easier just to send them your entire session file.</p><a name="//apple_ref/doc/uid/TP40005233-CH2-SW9" title="Advanced Settings Drawer"></a><h3>Advanced Settings Drawer</h3><p>Most session windows in Shark have a variety of settings that can modify how the information in that window is presented. For consistency, the controls for these settings are always presented in the <em>Advanced Settings Drawer</em>, a drawer that can slide in and out of the right side of the session window by choosing the <em>Window</em>→<em>Show Advanced Settings</em> menu item (<em>Command-Shift-M</em>). An example is depicted below in <span class="content_text">“Main Window.”</span> The controls presented will vary depending upon the current session viewer visible in the window, and so instructions on how to use these controls are provided in sections following the descriptions of the session viewers themselves.</p><br/><div><a name="//apple_ref/doc/uid/TP40005233-CH2-SW15" title="Figure 1-5Sample Window with Advanced Settings Drawer visible at right"></a><p><strong>Figure 1-5&nbsp;&nbsp;</strong>Sample Window with Advanced Settings Drawer visible at right</p><img src = "../Art/figure3-1.jpg" alt = "Sample Window with Advanced Settings Drawer visible at right" ></div><br/><a name="//apple_ref/doc/uid/TP40005233-CH2-SW5" title="Shark Preferences"></a><h2>Shark Preferences</h2><p>Shark’s global preferences are accessed from the <em>Shark</em>→<em>Preferences...</em> menu item. This window allows you to set some global options that Shark uses while recording and displaying all of your sessions. Shark’s preference panel is divided into four tabbed panes:</p><ul class="ul"><li class="li"><p><strong>Appearance</strong>— The first tab lets you control the appearance of Shark’s main window (1–2) and session windows (3–5).</p><ol class="ol"><li class="li"><p><em>Sort Process Lists By</em>— Choose whether you want the process menu in Shark’s main window to be sorted by name or process ID here.</p></li><li class="li"><p><em>Show Only Owned Processes</em>— This option, selected by default, reduces clutter in the process menu by removing root (mostly daemon) processes and any processes from other users, on a multi-user system.</p></li><li class="li"><p><em>Alternating/Solid Table Background</em>— For tabular session window views, such as the profile browsers and code browsers described in <span class="content_text"><a href="../TimeProfiling/TimeProfiling.html#//apple_ref/doc/uid/TP40005233-CH3-SW19">“Profile Browser”</a></span> and <span class="content_text"><a href="../TimeProfiling/TimeProfiling.html#//apple_ref/doc/uid/TP40005233-CH3-SW20">“Code Browser,”</a></span> Shark can use either a solid background color behind the text or alternate between a color and white on every row. Select the viewing option that you prefer here.</p></li><li class="li"><p><em>Background Color</em>— Choose either the solid background color or the color to alternate with white by clicking on this color well.</p></li><li class="li"><p><em>Grid Color</em>— Choose the color to use as a grid between rows in tabular session views by clicking on this color well. If it is the same as the background color, previous, then the grid will essentially disappear.</p></li></ol><div class="item_figure"><a name="//apple_ref/doc/uid/TP40005233-CH2-SW16" title="Figure 1-6Shark Preferences &acirc;&#128;&#148; Appearance"></a><p><strong>Figure 1-6&nbsp;&nbsp;</strong>Shark Preferences — Appearance</p><img src = "../Art/PrefsAppearance.jpg" alt = "Shark Preferences — Appearance" ></div></li><li class="li"><p><strong>Sampling</strong>— The options in this tab let you vary some of Shark’s behaviors as it starts and stops sampling.</p><ol class="ol"><li class="li"><p><em>Play Alert Sound</em>— Choose whether or not you want to have Shark play an alert sound when you start and stop sampling. This is on by default, but if you are sampling for a very short time or are testing out something like an audio application, you may want Shark to stay quiet, instead. If you choose to have Shark play these alert sounds, then you can choose any alert sound installed on your system using the popup menu.</p></li><li class="li"><p><em>Auto Hide/Unhide</em>— When checked, this option causes Shark to automatically hide its windows whenever sampling starts and unhide them afterwards. It is useful if you need to see another application covering the entire screen during sampling. Because you cannot press the “Stop” button while Shark is hidden, this option is of most use if you use the “hot key” chosen below to start and stop Shark.</p></li><li class="li"><p><em>Remain in Background</em>— Shark normally brings itself to the front when sampling completes. This means that it will be the main application while it analyzes samples and then displays a session window. Generally, this is the desirable behavior, because most users want to examine their sampled sessions immediately. However, if you want to quickly capture several sessions in a row, then this option will force Shark to stay in the background while it processes samples. Because you cannot press the “Stop” button without bringing Shark to the front first, this option is of most use if you use the “hot key” chosen below to start and stop Shark.</p></li><li class="li"><p><em>Hot Key Capture</em>— The current “hot key” used to start Shark, as described in <span class="content_text"><a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW8">“Perform Sampling,”</a></span> can be set here. <em>Option-Esc</em> is the default, because it is rarely used by other programs, but you may want to use a different key if this collides with one of your own key combinations. Press the Capture button and then press the new key combination immediately afterwards to change the setting.</p></li><li class="li"><p><em>Cache Options</em>— Caching of <em>Program Text</em>, <em>Source Files</em>, and <em>Exited Processes</em> allows Shark to provide useful information for short-lived processes after they complete, but may require more memory usage and increase sample processing time. You can disable these features if your applications of interest will not normally exit during sampling.</p></li></ol><div class="item_figure"><a name="//apple_ref/doc/uid/TP40005233-CH2-SW17" title="Figure 1-7Shark Preferences &acirc;&#128;&#148; Sampling"></a><p><strong>Figure 1-7&nbsp;&nbsp;</strong>Shark Preferences — Sampling</p><img src = "../Art/PrefsSampling.jpg" alt = "Shark Preferences — Sampling" ></div></li><li class="li"><p><strong>Sessions</strong>— This tab contains some options about the saving of source files.</p><ol class="ol"><li class="li"><p><em>Ask About Unsaved Sessions</em>— With Shark, you can optionally disable the usual behavior of asking if you want to individually save each session file when closing it or quitting Shark. Some users tend to examine their data right after sampling, and therefore will rarely need to save Shark session files. If you tend to work this way, then you might find the default behavior annoying and wish to uncheck this box.</p></li><li class="li"><p><em>Embed Source Files</em>— Shark allows you to optionally embed source information right into your sessions when you save them, as discussed in <span class="content_text"><a href="GettingStartedwithShark.html#//apple_ref/doc/uid/TP40005233-CH2-SW6">“Session Files,”</a></span> allowing anyone who opens the session to see source code, even if the source files are not actually available on their system at the time. This is usually very convenient, but may be problematic if you have a large amount of source code — since the session file can become enormous — or if you may be sending the file to a person who does not have permission to see all of the source. In these situations, you can choose not to include source code. For your convenience, this preference lets you tell Shark to never embed source, to always embed source, or to ask each time if you want to embed source (the default).</p></li></ol><div class="item_figure"><a name="//apple_ref/doc/uid/TP40005233-CH2-SW18" title="Figure 1-8Shark Preferences &acirc;&#128;&#148; Sessions"></a><p><strong>Figure 1-8&nbsp;&nbsp;</strong>Shark Preferences — Sessions</p><img src = "../Art/PrefsSessions.jpg" alt = "Shark Preferences — Sessions" ></div></li><li class="li"><p><strong>Search Paths</strong>— This tab lets you add (using the “+” button) or delete (using the “–” button) default directories where Shark will search for various types of files when it needs them. Shark lets you specify default paths for four different types of files:</p><ol class="ol"><li class="li"><p><em>Source</em>— Shark will usually find source files automatically if they are not moved between compilation and session viewing times. If you must move the source at all, however, then you will need to specify a path to the new source location here so that Shark can find your source. Probably the most common reason why you might need to use this is if you compile the source on one system and then execute your code and examine your session on another.</p></li><li class="li"><p><em>Kext</em>— This tells Shark where to look for kernel extension binaries in order to find debugging information for non-user code. By default, the standard system paths for kernel extensions are included here.</p></li><li class="li"><p><em>Symbol-Rich</em>— Shark will use these paths when it looks for symbol-rich binary files during attempts at Symbolication of sessions, as described in <span class="content_text"><a href="../AdvancedProfileAnalysisandDataMining/AdvancedProfileAnalysisandDataMining.html#//apple_ref/doc/uid/TP40005233-CH7-SW4">“Automatic Symbolication Troubleshooting.”</a></span></p></li><li class="li"><p><em>UUID Server</em>— Shark can use these paths to automatically look up symbol-rich binary files and libraries by matching the UUID information in the stripped version of the binary to the symbol-rich versions of the files located here.</p></li></ol><div class="item_figure"><a name="//apple_ref/doc/uid/TP40005233-CH2-SW19" title="Figure 1-9Shark Preferences &acirc;&#128;&#148; Search Paths"></a><p><strong>Figure 1-9&nbsp;&nbsp;</strong>Shark Preferences — Search Paths</p><img src = "../Art/PrefsSearchPaths.jpg" alt = "Shark Preferences — Search Paths" ></div></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Introduction/Introduction.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../TimeProfiling/TimeProfiling.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-04-14<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/SharkUserGuide/GettingStartedwithShark/GettingStartedwithShark.html%3Fid%3DTP40005233-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/SharkUserGuide/GettingStartedwithShark/GettingStartedwithShark.html%3Fid%3DTP40005233-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/SharkUserGuide/GettingStartedwithShark/GettingStartedwithShark.html%3Fid%3DTP40005233-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>