<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Event Data Structure(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING79></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-78.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-80.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-55.html"><B>Chapter 2 - Color Picker Manager Reference</B></A> / <A HREF="ACIReference-10.html"><B></B></A><BR><DL><DD><A HREF="ACIReference-56.html"><B>Constants and Data Types</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING79-0></A>
<H3><A NAME=MARKER-9-92></A>Event Data Structure</H3>
 <A NAME=MARKER-2-93></A>When your application uses the <CODE>DoPickerEvent</CODE> function <A HREF=ACIReference-102.html#MARKER-9-116>(page 2-44)</A> to pass an event to a color picker for handling, your application uses an <CODE>EventData</CODE> structure to supply the color picker with information about the event and to receive information about how the color picker handled the event.<P>
<PRE>
typedef struct EventData {
   EventRecord *event;     /* an event record */
   PickerActionaction;     /* the action performed by 
                              the color picker */
   short       itemHit;    /* the item number for the item 
                              associated with the event */
   Boolean     handled;    /* true if the color picker 
                              handled the event */
   ColorChangedProc
               colorProc;  /* application-defined function for 
                              changing colors in a document */
   long        colorProcData;/* data used by application for 
                              function in ColorChangedProc 
                              field */
   EventForcasterforcast;  /* event forecaster */
} EventData;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>event</CODE>
<DD> An event record. Your application supplies this field with an event to pass to the color picker. The event record is described in the chapter "Event Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>.
<DT><CODE>action</CODE>
<DD> The nature of the event. In this field, the Color Picker Manager returns a value, defined in the <CODE>PickerAction</CODE> enumeration, describing the event. See the description of the <CODE>PickerAction</CODE> enumeration <A HREF=ACIReference-58.html#MARKER-9-21>(page 2-5)</A> for a discussion about how your application should respond to these actions.
</DL>
<PRE>
               enum PickerAction {
                kDidNothing,  /* no action worth reporting */
                kColorChanged,/* user chose different color */
                kOkHit,       /* user clicked OK */
                kCancelHit,   /* user clicked Cancel */
                kNewPickerChosen,
                              /* user chose new color picker */
                kApplItemHit  /* Dialog Manager returned an 
                                 item in an application-owned 
                                 dialog box */
               };
               typedef short PickerAction;
</PRE>
<DL>
<DT><CODE>itemHit</CODE>
<DD> For the item associated with the event, the number corresponding to the item's position with the item list resource of the color picker's dialog box. See the chapter "Dialog Manager" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I> for information about items, item list resources, and dialog boxes.
<DT><CODE>handled</CODE>
<DD> A Boolean value indicating whether the color picker or the Color Picker Manager handled the event. If the Color Picker Manager returns the value <CODE>true</CODE> in this field, then the event was handled; otherwise, your application should process the event. 
<DT>
<DD> If your application sends an event forecaster to the color picker, the color picker informs your application about whether the color picker is ready for the action to occur by setting this field to <CODE>true</CODE> if it's not ready and <CODE>false</CODE> if it is.
<DT><CODE>colorProc</CODE>
<DD> A pointer to an application-defined function to handle color changes <A HREF=ACIReference-128.html#MARKER-9-135>(page 2-58)</A>. This function should support the updating of colors in a document as the user selects them. 
<DT><CODE>colorProcData</CODE>
<DD> A long integer that the Color Picker Manager passes to the application-defined function supplied in the <CODE>colorProc</CODE> field. Your application-defined function can use this value for any purpose it needs.
<DT><CODE>forcast</CODE>
<DD> An event forecaster (that is, a warning) for the color picker. To send an event forecaster to the color picker, set the <CODE>event</CODE> field to <CODE>nil</CODE> and set the <CODE>forcast</CODE> field to a value from the following enumeration. See <A HREF=#nonexistent-marker>"Sending Event Forecasters to the Color Picker" (page 2-23)</A> in <I>Advanced Color Imaging on the Mac OS</I> for more information.
</DL>
<PRE>
               enum EventForcasters {
                kNoForcast,   /* no forecast (e.g., an update 
                                 event) */
                kMenuChoice,  /* this event causes a menu to  
                                 be chosen */
                kDialogAccept,/* the dialog box will be  
                                 accepted */
                kDialogCancel,/* the dialog box will be  
                                 canceled */
                kLeaveFocus,  /* the focus will leave the  
                                 color picker */
                kPickerSwitch,/* new color picker chosen in  
                                 More Choices list */
                kNormalKeyDown,/* a normal key-down event in an 
                                 edit field */
                kNormalMouseDown/* a normal click in the  
                                 color picker's focus */
               };
               typedef short EventForcaster;
</PRE>
</BLOCKQUOTE><HR>
<center>
<A HREF="ACIReference-78.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-80.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
