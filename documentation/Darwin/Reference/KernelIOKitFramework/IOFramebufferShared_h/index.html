<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>IOFramebufferShared.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/header/IOFramebufferShared.h" title="IOFramebufferShared.h"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOFramebufferShared.h">IOFramebufferShared.h</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Includes:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a -->&lt;IOKit/hidsystem/IOHIDTypes.h&gt;<!-- /a --><br><a href="../IOGraphicsTypes_h/index.html#//apple_ref/doc/header/IOGraphicsTypes.h" target="_top">&lt;IOKit/graphics/IOGraphicsTypes.h&gt;</a>
</div></div></td>
</tr></table></div>
<h2>Overview</h2>
<!-- begin discussion --><p>The IOFramebufferShared.h header contains definitions of objects and types shared between a kernel level IOFrameBuffer service and a non-kernel window server. In Mac OS X this structure is used by the CoreGraphics server and IOGraphics Family, and is not available to other clients. IOFramebuffer subclasses and IOFramebuffer clients within the kernel should also not rely on this structure definition and constants. It is public only for use on Darwin based window servers. Cursor and window server state data is exchanged by kernel and non-kernel tasks through a slice of shared memory containing a StdFBShmem_t structure.<br>
For a non-kernel task to get access to this slice of shared memory, a connection to an IOFramebuffer service must be made. A connection is made with the IOServiceOpen() function described in IOKitLib.h. A connection type of kIOFBServerConnectType or kIOFBSharedConnectType (for read-only access) should be specified. An io_connect_t handle is returned by IOServiceOpen(). This handle must be passed to IOFBCreateSharedCursor() to create the slice of shared memory. Then IOConnectMapMemory() may be called with a memory type of kIOFBCursorMemory to map the shared memory into the non-kernel task.
</p>
<!-- end discussion -->
<hr>
<br><h2>Structs and Unions</h2>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/bm12Cursor;  indexgroup=Graphics ;   name=bm12Cursor --><a name="//apple_ref/c/tag/bm12Cursor"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="bm12Cursor">bm12Cursor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Cursor image for 1-bit cursor.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm12Cursor" target="_top" class="type"><span class="type">bm12Cursor</span></a> { 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="type">image</span><!-- /a -->[<span class="number">4</span>][<span class="number">16</span>]; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="type">mask</span><!-- /a -->[<span class="number">4</span>][<span class="number">16</span>]; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="type">save</span><!-- /a -->[<span class="number">16</span>]; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>image</code></dt>
<dd><p>This array contains the cursor images.</p></dd>
<dt><code>mask</code></dt>
<dd><p>This array contains the cursor mask.</p></dd>
<dt><code>save</code></dt>
<dd><p>This array stores the pixel values of the region underneath the cursor in its last drawn position.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure stores 16 pixel x 16 pixel cursors to be used with 1-bit color depth. This structure is only defined if IOFB_ARBITRARY_SIZE_CURSOR is not defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/bm18Cursor;  indexgroup=Graphics ;   name=bm18Cursor --><a name="//apple_ref/c/tag/bm18Cursor"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="bm18Cursor">bm18Cursor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Cursor image for 8-bit cursor.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm18Cursor" target="_top" class="type"><span class="type">bm18Cursor</span></a> { 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">image</span><!-- /a -->[<span class="number">4</span>][<span class="number">256</span>]; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">mask</span><!-- /a -->[<span class="number">4</span>][<span class="number">256</span>]; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">save</span><!-- /a -->[<span class="number">256</span>]; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>image</code></dt>
<dd><p>This array contains cursor color values, which are converted to displayed colors through the color table. The array is two dimensional and its first index is the cursor frame and the second index is the cursor pixel.</p></dd>
<dt><code>mask</code></dt>
<dd><p>This array contains the cursor alpha mask. The array is two dimensional with the same indexing as the image. If an alpha mask pixel is 0 and the corresponding image pixel is set to white for the display, then this cursor pixel will invert pixels on the display.</p></dd>
<dt><code>save</code></dt>
<dd><p>This array stores the color values of the region underneath the cursor in its last drawn position.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure stores 16 pixel x 16 pixel cursors to be used with 8-bit color depth. This structure is only defined if IOFB_ARBITRARY_SIZE_CURSOR is not defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/bm34Cursor;  indexgroup=Graphics ;   name=bm34Cursor --><a name="//apple_ref/c/tag/bm34Cursor"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="bm34Cursor">bm34Cursor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Cursor image for 15-bit cursor.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm34Cursor" target="_top" class="type"><span class="type">bm34Cursor</span></a> { 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">short</span><!-- /a --> <!-- a --><span class="type">image</span><!-- /a -->[<span class="number">4</span>][<span class="number">256</span>]; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">short</span><!-- /a --> <!-- a --><span class="type">save</span><!-- /a -->[<span class="number">256</span>]; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>image</code></dt>
<dd><p>This array defines the cursor color values and transparency. The array is two dimensional and its first index is the cursor frame and the second index is the cursor pixel. A value of 0 means the pixel is transparent. Non-zero values are stored with the red, green, blue, and alpha values encoded with the following masks:<br>
red mask = 0xF000<br>
blue mask 0x0F00<br>
green mask 0x00F0<br>
alpha mask = 0x000F<br>
Note, only 4 bits are allocated for each color component.</p></dd>
<dt><code>save</code></dt>
<dd><p>This array stores the color values of the region underneath the cursor in its last drawn position.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure stores 16 pixel x 16 pixel cursors to be used with 15-bit color depth. This structure is only defined if IOFB_ARBITRARY_SIZE_CURSOR is not defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/bm38Cursor;  indexgroup=Graphics ;   name=bm38Cursor --><a name="//apple_ref/c/tag/bm38Cursor"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="bm38Cursor">bm38Cursor</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Cursor image for 24-bit cursor.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm38Cursor" target="_top" class="type"><span class="type">bm38Cursor</span></a> { 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="type">image</span><!-- /a -->[<span class="number">4</span>][<span class="number">256</span>]; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="type">save</span><!-- /a -->[<span class="number">256</span>]; 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>image</code></dt>
<dd><p>This array defines the cursor color values and transparency. The array is two dimensional and its first index is the cursor frame and the second index is the cursor pixel. The lower 24 bits of a pixel's value contain the RGB color, while the upper 8 bits contain the alpha value.</p></dd>
<dt><code>save</code></dt>
<dd><p>This array stores the color values of the region underneath the cursor in its last drawn position.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure stores 16 pixel x 16 pixel cursors to be used with 24-bit color depth. This structure is only defined if IOFB_ARBITRARY_SIZE_CURSOR is not defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/StdFBShmem_t;  indexgroup=Graphics ;   name=StdFBShmem_t --><a name="//apple_ref/c/tag/StdFBShmem_t"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="StdFBShmem_t">StdFBShmem_t</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/StdFBShmem_t" target="_top" class="type"><span class="type">StdFBShmem_t</span></a> { 
    <!-- a --><span class="type">ev_lock_data_t</span><!-- /a --> <!-- a --><span class="var">cursorSema</span><!-- /a -->; 
    <!-- a --><span class="type">int</span><!-- /a --> <a href="../../../../Carbon/Reference/QuickDraw_Ref/Reference/reference.html#//apple_ref/c/econst/frame" target="_top" class="var"><span class="var">frame</span></a>; 
    <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="var">cursorShow</span><!-- /a -->; 
    <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="var">cursorObscured</span><!-- /a -->; 
    <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="var">shieldFlag</span><!-- /a -->; 
    <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="var">shielded</span><!-- /a -->; 
    <!-- a --><span class="type">IOGBounds</span><!-- /a --> <!-- a --><span class="var">saveRect</span><!-- /a -->; 
    <!-- a --><span class="type">IOGBounds</span><!-- /a --> <!-- a --><span class="var">shieldRect</span><!-- /a -->; 
    <!-- a --><span class="type">IOGPoint</span><!-- /a --> <!-- a --><span class="var">cursorLoc</span><!-- /a -->; 
    <!-- a --><span class="type">IOGBounds</span><!-- /a --> <!-- a --><span class="var">cursorRect</span><!-- /a -->; 
    <!-- a --><span class="type">IOGBounds</span><!-- /a --> <!-- a --><span class="var">oldCursorRect</span><!-- /a -->; 
    <!-- a --><span class="type">IOGBounds</span><!-- /a --> <!-- a --><span class="var">screenBounds</span><!-- /a -->; 
    <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="var">version</span><!-- /a -->; 
    <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="var">structSize</span><!-- /a -->; 
    <!-- a --><span class="type">AbsoluteTime</span><!-- /a --> <!-- a --><span class="var">vblTime</span><!-- /a -->; 
    <!-- a --><span class="type">AbsoluteTime</span><!-- /a --> <!-- a --><span class="var">vblDelta</span><!-- /a -->; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="var">vblCount</span><!-- /a -->; 
    <span class="">#if</span><span class="preprocessor"> </span><span class="preprocessor">1</span> 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="type">reservedC</span><!-- /a -->[<span class="number">29</span>]; 
    <span class="">#else</span> 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">int</span><!-- /a --> <!-- a --><span class="type">reservedC</span><!-- /a -->[<span class="number">28</span>]; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">hardwareCursorFlags</span><!-- /a -->[<!-- a --><span class="type">kIOFBNumCursorFrames</span><!-- /a -->]; 
    <span class="">#endif</span>  
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="var">hardwareCursorCapable</span><!-- /a -->; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="var">hardwareCursorActive</span><!-- /a -->; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="var">hardwareCursorShields</span><!-- /a -->; 
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">reservedB</span><!-- /a -->[<span class="number">1</span>]; 
    <span class="">#if</span><span class="preprocessor"> </span><span class="preprocessor">1</span> 
    <!-- a --><span class="type">IOGSize</span><!-- /a --> <!-- a --><span class="type">cursorSize</span><!-- /a -->[<!-- a --><span class="type">kIOFBNumCursorIndex</span><!-- /a -->]; 
    <!-- a --><span class="type">IOGPoint</span><!-- /a --> <!-- a --><span class="type">hotSpot</span><!-- /a -->[<!-- a --><span class="type">kIOFBNumCursorIndex</span><!-- /a -->]; 
    <span class="">#else</span> 
    <!-- a --><span class="type">IOGSize</span><!-- /a --> <!-- a --><span class="type">cursorSize</span><!-- /a -->[<!-- a --><span class="type">kIOFBNumCursorFrames</span><!-- /a -->]; 
    <!-- a --><span class="type">IOGPoint</span><!-- /a --> <!-- a --><span class="type">hotSpot</span><!-- /a -->[<!-- a --><span class="type">kIOFBNumCursorFrames</span><!-- /a -->]; 
    <span class="">#endif</span>  
    <span class="">#ifndef</span><span class="preprocessor"> </span><!-- a --><span class="preprocessor">IOFB_ARBITRARY_SIZE_CURSOR</span><!-- /a --> 
    <span class="keyword">union</span> { 
        <span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm12Cursor" target="_top" class="type"><span class="type">bm12Cursor</span></a> <!-- a --><span class="var">bw</span><!-- /a -->; 
        <span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm18Cursor" target="_top" class="type"><span class="type">bm18Cursor</span></a> <!-- a --><span class="var">bw8</span><!-- /a -->; 
        <span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm34Cursor" target="_top" class="type"><span class="type">bm34Cursor</span></a> <!-- a --><span class="var">rgb</span><!-- /a -->; 
        <span class="keyword">struct</span> <a href="index.html#//apple_ref/c/tag/bm38Cursor" target="_top" class="type"><span class="type">bm38Cursor</span></a> <!-- a --><span class="var">rgb24</span><!-- /a -->; 
        } <!-- a --><span class="var">cursor</span><!-- /a -->; 
    <span class="">#else</span><span class="preprocessor"> </span><span class="comment"><span class="comment">/*</span><span class="comment"></span><span class="comment"> </span><span class="comment">IOFB_ARBITRARY_SIZE_CURSOR </span><span class="comment">*/</span></span>
    <span class="keyword">unsigned</span> <!-- a --><span class="type">char</span><!-- /a --> <!-- a --><span class="type">cursor</span><!-- /a -->[<span class="number">0</span>]; 
    <span class="">#endif</span> 
    <span class="comment">/* IOFB_ARBITRARY_SIZE_CURSOR */</span>
}; </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Fields</font></h5>
<dl>
<dt><code>cursorSema</code></dt>
<dd><p>Semaphore lock for write access to the shared data in this structure.</p></dd>
<dt><code>frame</code></dt>
<dd><p>The current cursor frame index.</p></dd>
<dt><code>cursorShow</code></dt>
<dd><p>The cursor is displayed when cursorShow is 0.</p></dd>
<dt><code>cursorObscured</code></dt>
<dd><p>If this is true, the cursor has been obscured and cursorShow should not be 0. The cursor will be shown again the next time it is moved.</p></dd>
<dt><code>shieldFlag</code></dt>
<dd><p>When this is set to true the cursor will not be displayed in the region specified by shieldRect.</p></dd>
<dt><code>shielded</code></dt>
<dd><p>True if the cursor has been hidden because it entered the shielded region.</p></dd>
<dt><code>saveRect</code></dt>
<dd><p>The region that is saved underneath the cursor in software cursor mode.</p></dd>
<dt><code>shieldRect</code></dt>
<dd><p>The region that the cursor will not be displayed in if shieldFlag is true.</p></dd>
<dt><code>cursorLoc</code></dt>
<dd><p>The location of the cursor hot spot.</p></dd>
<dt><code>cursorRect</code></dt>
<dd><p>The region that the cursor image currently occupies in software cursor mode.</p></dd>
<dt><code>oldCursorRect</code></dt>
<dd><p>The region that the cursor image occupied the last time the cursor was drawn in software cursor mode.</p></dd>
<dt><code>screenBounds</code></dt>
<dd><p>The region that the current screen occupies.</p></dd>
<dt><code>version</code></dt>
<dd><p>Contains kIOFBCurrentShmemVersion so that a user client can ensure it is using the same version of this structure as the kernel.</p></dd>
<dt><code>structSize</code></dt>
<dd><p>Contains the size of this structure.</p></dd>
<dt><code>vblTime</code></dt>
<dd><p>The time of the most recent vertical blanking.</p></dd>
<dt><code>vblDelta</code></dt>
<dd><p>The interval between the two most recent vertical blankings.</p></dd>
<dt><code>vblCount</code></dt>
<dd><p>A running count of vertical blank interrupts.</p></dd>
<dt><code>reservedC</code></dt>
<dd><p>Reserved for future use.</p></dd>
<dt><code>hardwareCursorCapable</code></dt>
<dd><p>True if the hardware is capable of using hardware cursor mode.</p></dd>
<dt><code>hardwareCursorActive</code></dt>
<dd><p>True if currently using the hardware cursor mode.</p></dd>
<dt><code>reservedB</code></dt>
<dd><p>Reserved for future use.</p></dd>
<dt><code>cursorSize</code></dt>
<dd><p>This array contains the cursor sizes indexed by frame.</p></dd>
<dt><code>hotSpot</code></dt>
<dd><p>This array contains the location of the cursor hot spots indexed by frame. The hot spots coordinates are given relative to the top left corner of the cursor image.</p></dd>
<dt><code>cursor</code></dt>
<dd><p>A union of structures that define the cursor images. The structure used depends on the framebuffer's bit depth. These structures are defined above.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This structure contains cursor and window server state data and occupies a slice of shared memory between the kernel and window server. Several elements of this structure are only used in software cursor mode. Unless otherwise indicated, the coordinates in this structure are given in display space. Display space is the coordinate space that encompasses all the screens. The positions of the screens within display space indicate their location relative to each other as the cursor moves between them. If there is only one screen, the screen coordinates and display space coordinates will be the same.
<!-- end discussion -->
</p>
<p></p>
<h2>Enumerations</h2>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/CursorParameters;  indexgroup=Graphics ;   name=CursorParameters --><a name="//apple_ref/c/tag/CursorParameters"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CursorParameters">CursorParameters</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">enum</span> { 
    <span class="">#if</span><span class="preprocessor"> </span><span class="preprocessor">1</span> 
    <!-- a --><span class="var">kIOFBMainCursorIndex</span><!-- /a --> = <span class="number">0</span>, 
    <!-- a --><span class="var">kIOFBWaitCursorIndex</span><!-- /a --> = <span class="number">1</span>, 
    <!-- a --><span class="var">kIOFBNumCursorIndex</span><!-- /a --> = <span class="number">4</span>, 
    <span class="">#else</span> 
    <!-- a --><span class="var">kIOFBNumCursorFrames</span><!-- /a --> = <span class="number">4</span>, 
    <!-- a --><span class="var">kIOFBNumCursorFramesShift</span><!-- /a --> = <span class="number">2</span>, 
    <span class="">#endif</span>  
    <!-- a --><span class="var">kIOFBMaxCursorDepth</span><!-- /a --> = <span class="number">32</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/CursorParameters/kIOFBNumCursorFrames"><code>kIOFBNumCursorFrames</code></a></dt>
<dd><p>The number of cursor images stored in the StdFBShmem_t structure.</p></dd>
<dt><a name="//apple_ref/c/econst/CursorParameters/kIOFBNumCursorFramesShift"><code>kIOFBNumCursorFramesShift</code></a></dt>
<dd><p>Used with waiting cursors.</p></dd>
<dt><a name="//apple_ref/c/econst/CursorParameters/kIOFBMaxCursorDepth"><code>kIOFBMaxCursorDepth</code></a></dt>
<dd><p>The maximum cursor pixel depth.</p></dd>
</dl>
</blockquote>
<p></p>
<hr>
<!-- headerDoc=tag;  uid=//apple_ref/c/tag/FramebufferConstants;  indexgroup=Graphics ;   name=FramebufferConstants --><a name="//apple_ref/c/tag/FramebufferConstants"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="FramebufferConstants">FramebufferConstants</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="keyword">enum</span> { 
    <span class="comment">// version for IOFBCreateSharedCursor</span> 
    <!-- a --><span class="var">kIOFBShmemVersionMask</span><!-- /a --> = <span class="number">0x000000ff</span>, 
    <!-- a --><span class="var">kIOFBTenPtOneShmemVersion</span><!-- /a --> = <span class="number">2</span>, 
    <!-- a --><span class="var">kIOFBTenPtTwoShmemVersion</span><!-- /a --> = <span class="number">3</span>, 
    <!-- a --><span class="var">kIOFBCurrentShmemVersion</span><!-- /a --> = <span class="number">2</span>,  
    <span class="comment">// number of frames in animating cursor (if &gt; kIOFBTenPtTwoShmemVersion)</span> 
    <!-- a --><span class="var">kIOFBShmemCursorNumFramesMask</span><!-- /a --> = <span class="number">0x00ff0000</span>, 
    <!-- a --><span class="var">kIOFBShmemCursorNumFramesShift</span><!-- /a --> = <span class="number">16</span>,  
    <span class="comment">// memory types for IOConnectMapMemory.</span> 
    <span class="comment">// 0..n are apertures</span> 
    <!-- a --><span class="var">kIOFBCursorMemory</span><!-- /a --> = <span class="number">100</span>, 
    <!-- a --><span class="var">kIOFBVRAMMemory</span><!-- /a --> = <span class="number">110</span> 
};  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Constants</font></h5>
<blockquote>
<dl>
<dt><a name="//apple_ref/c/econst/FramebufferConstants/kIOFBCurrentShmemVersion"><code>kIOFBCurrentShmemVersion</code></a></dt>
<dd><p>The current version of the slice of shared memory that contains the cursor and window server state data in the StdFBShmem_t structure.</p></dd>
<dt><a name="//apple_ref/c/econst/FramebufferConstants/kIOFBCursorMemory"><code>kIOFBCursorMemory</code></a></dt>
<dd><p>The memory type for IOConnectMapMemory() to get a slice of shared memory that contains the StdFBShmem_t structure.</p></dd>
<dt><a name="//apple_ref/c/econst/FramebufferConstants/kIOFBVRAMMemory"><code>kIOFBVRAMMemory</code></a></dt>
<dd><p>The memory type for IOConnectMapMemory() to get the VRAM memory. Use a memory type equal to the IOPixelAperture index to get a particular pixel aperture.</p></dd>
</dl>
</blockquote>
<p></p>
<h2>#defines</h2>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CURSORHEIGHT;  indexgroup=Graphics ;   name=CURSORHEIGHT --><a name="//apple_ref/c/macro/CURSORHEIGHT"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CURSORHEIGHT">CURSORHEIGHT</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CURSORHEIGHT" target="_top" class="preprocessor"><span class="preprocessor">CURSORHEIGHT</span></a><span class="preprocessor"> </span><span class="preprocessor">16</span><span class="preprocessor"> </span><span class="comment"><span class="comment">/*</span><span class="comment"></span><span class="comment"> </span><span class="comment">height in pixels </span><span class="comment">*/</span></span></pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The maximum height of the cursor image in pixels. This is only defined if IOFB_ARBITRARY_SIZE_CURSOR is not defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/CURSORWIDTH;  indexgroup=Graphics ;   name=CURSORWIDTH --><a name="//apple_ref/c/macro/CURSORWIDTH"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="CURSORWIDTH">CURSORWIDTH</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/CURSORWIDTH" target="_top" class="preprocessor"><span class="preprocessor">CURSORWIDTH</span></a><span class="preprocessor"> </span><span class="preprocessor">16</span><span class="preprocessor"> </span><span class="comment"><span class="comment">/*</span><span class="comment"></span><span class="comment"> </span><span class="comment">width in pixels </span><span class="comment">*/</span></span></pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The maximum width of the cursor image in pixels. This is only defined if IOFB_ARBITRARY_SIZE_CURSOR is not defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/IOFB_ARBITRARY_FRAMES_CURSOR;  indexgroup=Graphics ;   name=IOFB_ARBITRARY_FRAMES_CURSOR --><a name="//apple_ref/c/macro/IOFB_ARBITRARY_FRAMES_CURSOR"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOFB_ARBITRARY_FRAMES_CURSOR">IOFB_ARBITRARY_FRAMES_CURSOR</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/doc/title:macro/IOFB_ARBITRARY_SIZE_CURSOR" target="_top"><p>IOFB_ARBITRARY_SIZE_CURSOR</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/IOFB_ARBITRARY_FRAMES_CURSOR" target="_top" class="preprocessor"><span class="preprocessor">IOFB_ARBITRARY_FRAMES_CURSOR</span></a><span class="preprocessor"> </span><span class="preprocessor">1</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>When IOFB_ARBITRARY_SIZE_CURSOR is not defined, the maximum cursor size is assumed to be CURSORWIDTH x CURSORHEIGHT and this header file will define a number of structures for storing cursor images accordingly. A non-kernel task may define IOFB_ARBITRARY_SIZE_CURSOR and use cursors up to the size specified when IOFBCreateSharedCursor() was called. In this case appropriate structures for storing cursor images must be defined elsewhere. In the kernel, IOFB_ARBITRARY_SIZE_CURSOR is always defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=title:macro;  uid=//apple_ref/doc/title:macro/IOFB_ARBITRARY_SIZE_CURSOR;  indexgroup=Graphics ;   name=IOFB_ARBITRARY_SIZE_CURSOR --><a name="//apple_ref/doc/title:macro/IOFB_ARBITRARY_SIZE_CURSOR"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOFB_ARBITRARY_SIZE_CURSOR">IOFB_ARBITRARY_SIZE_CURSOR</a></h3>
</td></tr></table>
<hr>
<p></p>
<b>See Also:</b><blockquote><dl>
<dt>
<a href="index.html#//apple_ref/c/macro/IOFB_ARBITRARY_FRAMES_CURSOR" target="_top"><p>IOFB_ARBITRARY_FRAMES_CURSOR</p></a>
</dt>
<dd></dd>
</dl></blockquote>
<pre><span class="">#define</span><span class="preprocessor"> </span><!-- a --><span class="preprocessor">IOFB_ARBITRARY_SIZE_CURSOR</span><!-- /a --> 
<span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/IOFB_ARBITRARY_FRAMES_CURSOR" target="_top" class="preprocessor"><span class="preprocessor">IOFB_ARBITRARY_FRAMES_CURSOR</span></a><span class="preprocessor"> </span><span class="preprocessor">1</span> 
</pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>When IOFB_ARBITRARY_SIZE_CURSOR is not defined, the maximum cursor size is assumed to be CURSORWIDTH x CURSORHEIGHT and this header file will define a number of structures for storing cursor images accordingly. A non-kernel task may define IOFB_ARBITRARY_SIZE_CURSOR and use cursors up to the size specified when IOFBCreateSharedCursor() was called. In this case appropriate structures for storing cursor images must be defined elsewhere. In the kernel, IOFB_ARBITRARY_SIZE_CURSOR is always defined.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=macro;  uid=//apple_ref/c/macro/IOFRAMEBUFFER_CONFORMSTO;  indexgroup=Graphics ;   name=IOFRAMEBUFFER_CONFORMSTO --><a name="//apple_ref/c/macro/IOFRAMEBUFFER_CONFORMSTO"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="IOFRAMEBUFFER_CONFORMSTO">IOFRAMEBUFFER_CONFORMSTO</a></h3>
</td></tr></table>
<hr>
<p></p>
<pre><span class="">#define</span><span class="preprocessor"> </span><a href="index.html#//apple_ref/c/macro/IOFRAMEBUFFER_CONFORMSTO" target="_top" class="preprocessor"><span class="preprocessor">IOFRAMEBUFFER_CONFORMSTO</span></a><span class="preprocessor"> </span><span class="preprocessor">"</span><!-- a --><span class="preprocessor">IOFramebuffer</span><!-- /a --><span class="preprocessor">"</span> </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The class name of the framebuffer service.
<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOFramebufferShared_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOFramebufferShared_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/IOFramebufferShared_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=Header;  uid=//apple_ref/doc/header/IOFramebufferShared.h;  indexgroup=Graphics ;   name=IOFramebufferShared.h --><a name="//apple_ref/doc/header/IOFramebufferShared.h"></a>
</body>
</html>
