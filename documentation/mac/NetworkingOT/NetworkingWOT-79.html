<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>About Serial Endpoint Providers</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING79></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-78.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-80.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-10.html"><B>Part 1 - Open Transport Essentials</B></A><BR><DD><A HREF="NetworkingWOT-78.html"><B>Chapter 19 - Serial Endpoint Providers</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING79-0></A>
<H1>About Serial Endpoint Providers</H1>
 Open Transport serial endpoint providers provide full-duplex low-level support for asynchronous serial data transfers through the built-in serial port and any serial choice registered with the Communications Resource Map. Serial endpoint providers use connection-oriented data streams. They do not support the functions that provide connectionless or transaction-based service.  Because of the point-to-point nature of serial communications, there are a few differences between using a serial endpoint and using other connection-oriented endpoints.<P>
 One of the key differences is that there are no addresses for serial endpoints because serial communications is point-to-point. As such, no addressing information is possible and all address parameters for serial endpoint functions need to be set to zero.<P>
 The other important difference is that only one serial endpoint can own the hardware at a given time. That is, only one serial endpoint provider can initiate and accept a connection on a given port at a time, although there can be several listening endpoints on a given port simultaneously. <P>
<A NAME=HEADING79-4></A>
<H2>About Serial Communication</H2>
 <A NAME=MARKER-13-24></A>Open Transport serial communication, like any data transfer between endpoints, requires coordination between the sender and receiver; for example, when to start the transmission and when to end it, when one particular bit or byte ends and another begins, when the receiver's capacity has been exceeded, and so on. The scope of serial data transmission protocols is large and complex, encompassing everything from electrical connections to data encoding methods. This section provides a brief overview of the protocol that governs the lowest level of data transmission--how serialized bits are sent over a single electrical line. <P>
 When a sender is connected to a receiver over an electrical connecting line, the line is initially in an idle state, called the <A NAME=MARKER-13-25></A><B>mark</B> <B>state</B>. Changing the state of the line by shifting the voltage is called a <A NAME=MARKER-13-26></A><B>space.</B> The receiver interprets a space as a 0 bit, and a mark as a 1 bit. These transitions are shown in <A HREF=#MARKER-9-30>Figure 19-1</A>. <P>
 The change from the mark state to a space is known as the <A NAME=MARKER-13-27></A><B>start bit,</B> and this triggers the synchronization necessary for asynchronous serial transmission. The start bit delineates the beginning of the transmission unit defined as a <A NAME=MARKER-13-28></A><B>character frame.</B> The receiver then samples the state at periodic intervals, known as the<B> <A NAME=MARKER-13-29></A>bit time,</B> to determine whether a 0 bit or a 1 bit is present on the line.<P>
<B>Figure 19-1  <A NAME=MARKER-9-30></A>The format of serialized bits</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/OTSE-L-01.gif"><P>
 The bit time is expressed in samples per second, known as the <A NAME=MARKER-13-31></A><A NAME=MARKER-13-32></A><B>baud</B> <B>rate.</B> The baud rate must be agreed upon by sender and receiver before transmitting data in order for a successful transfer to occur. Common values are 1200 baud and 2400 baud. In the case where one sampling interval can signal a single bit, a baud rate of 1200 results in a transfer rate of 1200 bits per second (bps). Note that because modern protocols can express more than one bit value within the sampling interval, the baud rate and the transfer rate may not be identical.<P>
 Before transmission, the sender and receiver also agree on a serial data format; that is, how many bits of data constitute a character frame and what happens after those bits are sent. Open Transport serial endpoints support frames of 5, 6, 7, or 8 bits in length. Character frames of 7 or 8 <A NAME=MARKER-13-59></A>data bits are commonly used for transmitting ASCII characters.<P>
 After the data bits in the frame are sent, the sender can optionally transmit a <A NAME=MARKER-13-63></A>parity bit for error-checking. There are various parity schemes, which the sender and receiver must agree upon prior to transmission. In odd parity, a bit is sent so that the entire frame always contains an odd number of 1 bits. Conversely, in even parity, the parity bit results in an even number of 1 bits. No parity means that no additional bit is sent. <P>
 To signify the end of the character frame, the sender places the line back to the mark state for a minimum specified time interval. This interval has one of several possible values: 1 bit time, 2 bit times, or 1-1/2 bit times. This signal is known as the <A NAME=MARKER-13-61></A><B>stop bit,</B> and returns the transmission line back to the mark state.<P>
 Electrical lines are always subject to environmental perturbations known as <A NAME=MARKER-13-36></A><B>noise.</B> This noise can cause errors in transmission by altering voltage levels so that a bit is reversed, shortened, or lengthened. When this occurs, the ability of the receiver to distinguish a character frame may be affected, resulting in a framing error.<P>
 The <A NAME=MARKER-13-82></A><B>break signal</B> is a special signal that falls outside the character frame. The break signal occurs when the line is switched from the mark state to a space and held there for longer than a character frame. The break signal resembles an ASCII NUL character (a string of 0-bits), but exists at a lower level than the ASCII encoding scheme that commonly governs the encoding of information within the character frame. <A NAME=MARKER-13-38></A><P>
<A NAME=HEADING79-16></A>
<H2><A NAME=MARKER-13-39></A><A NAME=MARKER-13-40></A>DTR and CTS Signals</H2>
 The electrical characteristics of a serial communications connection are specified by various interfacing standards. The specifications of these standards are contained in documents available from the Electronic Industries Association (EIA) that cover aspects of the connection, such as its electrical signal characteristics and its interface circuits. <P>
 The principal signals used by Open Transport serial endpoint providers are the <B>Data Terminal Ready (DTR)</B> and <B>Clear To Send (CTS) signals.</B> These two signals are connected to each other. Note that in the definitions of these signals which follow, the term <A NAME=MARKER-13-41></A><I>data terminal equipment (DTE)</I> is used to describe the initiator or controller of the serial connection, typically the computer. The term <I><A NAME=MARKER-13-42></A>data communication equipment (DCE)</I> describes the device that is connected to the DTE, such as a modem or printer. For specific information about how these signals are used in Macintosh computers, see <I>Guide to the Macintosh Family Hardware</I>, second edition. <P>
<UL>
<P><LI>The Data Terminal Ready (DTR) signal indicates that the DTE (that is, your computer) is ready to communicate. Deasserting this signal causes the DCE (that is, your modem or printer) to suspend transmission. 
<P><LI>The Clear To Send <I></I>(CTS) signal indicates that the DCE (your modem or printer) is ready to send data.<P>
</UL>
<A NAME=HEADING79-21></A>
<H2><A NAME=MARKER-13-43></A><A NAME=MARKER-13-44></A>Asynchronous and Synchronous Communication</H2>
 Serial data transfers depend on accurate timing in order to differentiate bits in the data stream. This timing can be handled in one of two ways: asynchronously or synchronously. In asynchronous communication, the peers agree on a clocking mechanism before data is transferred; in synchronous communication, the signal carries the clocking information. The terms <I>asynchronous</I> and <I>synchronous</I> are slightly misleading because both kinds of communication require synchronization between the sender and receiver.<P>
 <B>Asynchronous communication</B> is the prevailing standard in the personal computer industry.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>Do not confuse asynchronous communication with asynchronous execution. <I>Asynchronous communication</I> is a protocol for coordinating serial data transfers. <I>Asynchronous execution</I> refers to the capability of a device driver to carry out background processing. Serial endpoints support both asynchronous communication and asynchronous execution.  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 Open Transport serial endpoints do not support synchronous communications protocols. However, they do support synchronous clocking supplied by an external device.<P>
<A NAME=HEADING79-26></A>
<H2><A NAME=MARKER-13-45></A><A NAME=MARKER-13-46></A>Handshaking Methods for Flow Control</H2>
 Because a sender and receiver can't always process data at the same rate, some method of negotiating when to start and stop transmission is required. Open Transport serial endpoint providers support two methods of controlling serial data flow, known as <B>handshaking.</B> One method relies on the serial port hardware, the other is implemented in software.<P>
 Hardware handshaking uses two of the serial port signal lines to control data transmission. When the serial endpoint provider is ready to accept data from an external device, it asserts the <A NAME=MARKER-13-47></A>Data Terminal Ready (DTR) signal on pin 1 of the serial port, which the external device receives through its <A NAME=MARKER-13-48></A>Clear To Send (CTS) input. Likewise, the Macintosh receives the external device's DTR signal through the CTS input on pin 2 of the serial port. When either the Macintosh or the external device is unable to receive data, it deasserts its DTR signal, and the sender suspends transmission until the signal is asserted again.<P>
 Software handshaking uses an agreed-upon set of characters for the start and stop signals. Open Transport serial endpoints support <A NAME=MARKER-13-49></A>XON/XOFF handshaking, which typically assigns the ASCII DC1 character (Control-Q) as the start signal and the DC3 character (Control-S) as the stop signal, although you can choose different characters. <P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DT><A HREF="NetworkingWOT-79.html#HEADING79-4">About Serial Communication</A>
<DD>
<DT><A HREF="NetworkingWOT-79.html#HEADING79-16">DTR and CTS Signals</A>
<DD>
<DT><A HREF="NetworkingWOT-79.html#HEADING79-21">Asynchronous and Synchronous Communication</A>
<DD>
<DT><A HREF="NetworkingWOT-79.html#HEADING79-26">Handshaking Methods for Flow Control</A>
<DD>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-78.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-80.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
