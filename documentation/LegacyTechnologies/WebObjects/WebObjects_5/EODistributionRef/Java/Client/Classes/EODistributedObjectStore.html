<html>	<head>		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">		<meta name="generator" content="GoLive CyberStudio 3">		<title>EODistributedObjectStore (Java) </title>	</head>	<body bgcolor="white">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../../../index.html" target="_top">Documentation</a> <b>></b> <a href="../../../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path -->		<a href="../../EODistributionTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <a name="EODistributedObjectStore"></a><br>		<h1><font color="#000066"><a name="//apple_ref/java/cl/EODistributedObjectStore"></a>EODistributedObjectStore</font></h1>		<p><br>		<blockquote>			<dl>				<dt><b>Inherits from: </b>				<dd>com.webobjects.eocontrol.EOObjectStore 			</dl>		</blockquote>		<blockquote>			<dl>				<dt><b>Package: </b>				<dd>com.webobjects.eodistribution.client 			</dl>		</blockquote>		<p>		<hr size="4">		<br>		<h2>Class Description</h2>		<p>		<hr alt="">		<p>An EODistributedObjectStore functions as an object store on the Java client. It handles interaction with the distribution layer's channel (an EODistributionChannel object), incorporating knowledge of that channel so it can forward messages it receives from the server to its editing contexts and forward messages from its editing contexts to the server. With the channel, it represents a single connection to the server, fetching and saving objects on behalf of one or more client-side editing contexts. In this regard, an EODistributedObjectStore acts like an EODatabaseContext on the server; it differs from EODatabaseContext in that its editing contexts interact directly with it without the intervention of an object store coordinator.</p>		<p>EODistributedObjectStore provides several methods in addition to those defined by EOObjectStore. The invocation methods <a href="#//apple_ref/java/instm/EODistributedObjectStore/invokeRemoteMethod">invokeRemoteMethod</a> (two overloaded versions) and <a href="#//apple_ref/java/instm/EODistributedObjectStore/invokeRemoteMethodWithKeyPath">invokeRemoteMethodWithKeyPath</a> allow you to send messages to any object on the server and receive responses from them. The methods <a href="#//apple_ref/java/instm/EODistributedObjectStore/classDescriptionForGlobalID">classDescriptionForGlobalID</a> and <a href="#//apple_ref/java/instm/EODistributedObjectStore/snapshotForSourceGlobalID">snapshotForSourceGlobalID</a> return information related to enterprise objects in the distributed object store given an object's global ID.</p>		<p><br>		<br>		<br>		<h2>Method Types</h2>		<p>		<hr alt="">		<blockquote>			<dl>				<dt>Initializing objects 				<dl>					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/initializeObject">initializeObject</a> 				</dl>			</dl>			<dl>				<dt>Getting objects 				<dl>					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/objectsWithFetchSpecification">objectsWithFetchSpecification</a> 					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/objectsForSourceGlobalID">objectsForSourceGlobalID</a> 				</dl>			</dl>			<dl>				<dt>Getting faults 				<dl>					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/faultForGlobalID">faultForGlobalID</a> 					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a> 					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/refaultObject">refaultObject</a> 				</dl>			</dl>			<dl>				<dt>Saving changes to objects 				<dl>					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/saveChangesInEditingContext">saveChangesInEditingContext</a> 				</dl>			</dl>			<dl>				<dt>Invalidating objects 				<dl>					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/invalidateAllObjects">invalidateAllObjects</a> 					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/invalidateObjectsWithGlobalIDs">invalidateObjectsWithGlobalIDs</a> 				</dl>			</dl>			<dl>				<dt>Invoking methods on the server 				<dl>					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/invokeRemoteMethod">invokeRemoteMethod</a> 					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/invokeRemoteMethodWithKeyPath">invokeRemoteMethodWithKeyPath</a> 				</dl>			</dl>			<dl>				<dt>Getting object data via global IDs 				<dl>					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/classDescriptionForGlobalID">classDescriptionForGlobalID</a> 					<dd><a href="#//apple_ref/java/instm/EODistributedObjectStore/snapshotForSourceGlobalID">snapshotForSourceGlobalID</a> 				</dl>			</dl>		</blockquote>		<p><br>		<br>		<h2>Constructors</h2>		<p>		<hr alt="">		<br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/EODistributedObjectStore"></a>EODistributedObjectStore</h3>		<p><code>public <b>EODistributedObjectStore</b>(EODistributionChannel <em>aDistributionChannel</em>)</code></p>		<p>Returns an EODistributedObjectStore instance initialized with a distribution channel. 		<hr width="25%" align="left">		<br>		<br>		<h2>Instance Methods</h2>		<p>		<hr alt="">		<a name="CCJCIFCE"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/arrayFaultWithSourceGlobalID"></a>arrayFaultWithSourceGlobalID</h3>		<p><code>public NSArray <b>arrayFaultWithSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>relationshipName</em>, com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Creates a to-many fault in the editing context <em>editingContext</em> and returns the destination objects for the to-many relationship identified by <em>relationshipName</em>; <em>globalID</em> identifies the source object for the relationship (which doesn't necessarily exist in memory yet). 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODistributedObjectStore/faultForGlobalID">faultForGlobalID</a>, <a href="#//apple_ref/java/instm/EODistributedObjectStore/refaultObject">refaultObject</a></p>		<p>		<hr width="25%" align="left">		<a name="CCJDHABC"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/classDescriptionForGlobalID"></a>classDescriptionForGlobalID</h3>		<p><code>public com.webobjects.eocontrol.EOClassDescription <b>classDescriptionForGlobalID</b>(com.webobjects.eocontrol.EOGlobalID <em>globalID</em>)</code></p>		<p>Returns the class description for the enterprise object identified by <em>globalID</em>. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODistributedObjectStore/snapshotForSourceGlobalID">snapshotForSourceGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="CCJEAIIH"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/faultForGlobalID"></a>faultForGlobalID</h3>		<p><code>public com.webobjects.eocontrol.EOEnterpriseObject <b>faultForGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Creates a to-one fault from the enterprise object identified by <em>globalID</em>, registers it in <em>editingContext</em>, and returns the fault. This method could return an already existing object. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODistributedObjectStore/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a>, <a href="#//apple_ref/java/instm/EODistributedObjectStore/refaultObject">refaultObject</a></p>		<p>		<hr width="25%" align="left">		<a name="CCJBIIGA"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/initializeObject"></a>initializeObject</h3>		<p><code>public void <b>initializeObject</b>( com.webobjects.eocontrol.EOEnterpriseObject <em>anObject</em>, com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Initializes the enterprise object <em>anObject</em> with its attributes and relationships using key-value coding; the properties of <em>anObject</em> are identified and accessed using the global ID <em>globalID</em>. For properties with EONullValues, a <b>null</b> is substituted. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODistributedObjectStore/classDescriptionForGlobalID">classDescriptionForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="CCJEAHGI"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/invalidateAllObjects"></a>invalidateAllObjects</h3>		<p><code>public void <b>invalidateAllObjects</b>()</code></p>		<p>Invoked to notify the receiver that all the properties it caches are no longer valid and that they should be refaulted. Any child object stores are also notified that the objects are no longer valid. Posts InvalidatedAllObjectsInStoreNotification after removing objects from the object store. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODistributedObjectStore/invalidateObjectsWithGlobalIDs">invalidateObjectsWithGlobalIDs</a></p>		<p>		<hr width="25%" align="left">		<a name="CCJCCFBI"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/invalidateObjectsWithGlobalIDs"></a>invalidateObjectsWithGlobalIDs</h3>		<p><code>public void <b>invalidateObjectsWithGlobalIDs</b>(NSArray <em>gidArray</em>)</code></p>		<p>Invoked to notify the receiver that all of the objects identified by the global IDs in <em>gidArray</em> are no longer valid. Any child object stores are also notified that the specified objects are no longer valid. After invalidating the objects, this method posts <a href="#CCJDIEFH">ObjectsChangedInStoreNotification</a>. 		<hr width="25%" align="left">		<a name="CCJDJGBC"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/invokeRemoteMethod"></a>invokeRemoteMethod</h3>		<p><code>public Object <b>invokeRemoteMethod</b>( com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>, com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>methodName</em>, Class[] <em>anArray</em> Object[] <em>arguments</em>)</code></p>		<p><code>public Object <b>invokeRemoteMethod</b>( com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>, com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>methodName</em>, Object[] <em>arguments</em>, Class[] <em>anArray</em> boolean <em>shouldPush</em>)</code></p>		<p>Invokes the method identified by <em>methodName</em> on the server-side enterprise object identified by the editing context <em>editingContext</em> and the EOGlobalID <em>globalID</em>. The result of the invocation is returned. The four-argument method (and the five-argument method, if <em>shouldPush</em> is <b>true</b>) pushes all changes pending on the client to the server before sending the invocation; this ensures that the states of the server and client are synchronized before the method is executed. If for performance or other reasons you do not want to push pending changes to the server, use the second method with <em>shouldPush</em> set to <b>false</b>. Note that the method without the <em>shouldPush</em> argument typically originates with one of the receiver's editing contexts. 		<p>The EODistributionContext on the server by default refuses the remote invocation unless <em>methodName</em> is prefixed with &quot;clientSideRequest&quot; or unless its delegate (usually the session object) implements the distributionContextShouldAllowInvocation method to return <code>true</code>. This mechanism exists to provide security on the server. </p>		<p>		<hr width="25%" align="left">		<a name="CCJDEJDI"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/invokeRemoteMethodWithKeyPath"></a>invokeRemoteMethodWithKeyPath</h3>		<p><code>public Object <b>invokeRemoteMethodWithKeyPath</b>( com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>, String <em>keyPath</em>, String <em>methodName</em>, Class[] <em>anArray </em>Object[] <em>arguments</em>, boolean <em>shouldPush</em>)</code></p>		<p>This method is similar to <a href="#//apple_ref/java/instm/EODistributedObjectStore/invokeRemoteMethod">invokeRemoteMethod</a> except for two things. The receiver of the invocation can be any object (not just an enterprise object) that can be specified with a key path (<em>keyPath</em>). The <em>keyPath</em> argument has special semantics: 		<ul>			<li>If <em>keyPath</em> is a fully qualified key path (for example, &quot;session.editingContext&quot;) the key path is followed starting from the WOComponent that is the invocation target of the EODistributionContext. 			<li>If <em>keyPath</em> is an empty string, the method is invoked on the WOComponent that is the invocation target of the EODistributionContext (typically a subclass of WOJavaClientApplet). 			<li>If <em>keyPath</em> is <code>null</code>, the method is invoked on the server side EODistributionContext. 		</ul>		<p>If an actual key path is specified, the EODistributionContext on the server blocks all invocations sent with this method unless <em>methodName</em> is prefixed with &quot;clientSideRequest&quot; or unless the EODistributionContext's delegate (on the server) implements distributionContextShouldAllowInvocation <em>and</em> distributionContextShouldFetchObjectsWithFetchSpecification. For security reasons, the delegate must authorize the invocation and the key path in these methods.</p>		<p>		<hr width="25%" align="left">		<a name="CCJBDECA"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/objectsForSourceGlobalID"></a>objectsForSourceGlobalID</h3>		<p><code>public NSArray <b>objectsForSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>relationshipName</em>, com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Returns the destination objects for the to-many relationship identified by <em>relationshipName</em>. The source object for the relationship is identified by its global ID (<em>globalID</em>). The source object and all destination objects for the relationship belong to <em>editingContext</em>. This method first looks to find the destination objects for the relationship in a client-side cache; if that cache is empty, it requests the server to send it those objects and updates the client-side cache with them. 		<hr width="25%" align="left">		<a name="CCJBCBFC"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/objectsWithFetchSpecification"></a>objectsWithFetchSpecification</h3>		<p><code>public NSArray <b>objectsWithFetchSpecification</b>( com.webobjects.eocontrol.EOFetchSpecification <em>fetchSpecification</em>, com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Fetches objects from the server according to the criteria specified by fetchSpecification and returns them in an array for inclusion in <em>editingContext</em>. Updates the client-side caches with the fetched enterprise objects. Throws an exception if an error occurs. 		<hr width="25%" align="left">		<a name="CCJDAEAI"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/refaultObject"></a>refaultObject</h3>		<p><code>public void <b>refaultObject</b>( com.webobjects.eocontrol.EOEnterpriseObject <em>anObject</em>, com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Turns enterprise object <em>anObject</em> back into a fault (an empty enterprise object, identified by <em>globalID</em> in <em>editingContext</em>. Objects that have been inserted but not saved, or that have been deleted, shouldn't be refaulted. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODistributedObjectStore/arrayFaultWithSourceGlobalID">arrayFaultWithSourceGlobalID</a>, <a href="#//apple_ref/java/instm/EODistributedObjectStore/faultForGlobalID">faultForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<a name="CCJDFGJC"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/saveChangesInEditingContext"></a>saveChangesInEditingContext</h3>		<p><code>public void <b>saveChangesInEditingContext</b>(com.webobjects.eocontrol.EOEditingContext <em>editingContext</em>)</code></p>		<p>Requests the server to commit changes to the enterprise objects in <em>editingContext</em>; this message is invoked by the editing context (<em>editingContext</em>). The receiver calls back to the editing context to get the updated, deleted, and inserted objects to save and commits these changes in a single transaction. Raises an exception if any error occurs. 		<hr width="25%" align="left">		<a name="CCJCJECB"></a><br>		<h3><a name="//apple_ref/java/instm/EODistributedObjectStore/snapshotForSourceGlobalID"></a>snapshotForSourceGlobalID</h3>		<p><code>public NSArray <b>snapshotForSourceGlobalID</b>( com.webobjects.eocontrol.EOGlobalID <em>globalID</em>, String <em>relationshipName</em>)</code></p>		<p>Returns an array of global IDs identifying the destination objects for the to-many relationship <em>relationshipName</em> having the source global ID of <em>globalID</em>. Returns <b>null</b> if the object identified by the source global ID does not currently exist in the object store or if there is no relationship with the given name. 		<p><b>See Also: </b><a href="#//apple_ref/java/instm/EODistributedObjectStore/classDescriptionForGlobalID">classDescriptionForGlobalID</a></p>		<p>		<hr width="25%" align="left">		<br>		<br>		<h2>Notifications</h2>		<p>		<hr alt="">		<p>EOGlobalID's GlobalIDChangedNotification is posted when the global ID of an object in the store changes. See the EOGlobalID documentation for more information.</p>		<h3>InvalidatedAllObjectsInStoreNotification</h3>		<p>This notification is posted when all objects in the object store are invalidated; see <a href="#//apple_ref/java/instm/EODistributedObjectStore/invalidateAllObjects">invalidateAllObjects</a>.<br>		<table border="1">			<tr>				<td scope="row">Notification Object</td>				<td><code>this</code></td>			</tr>			<tr>				<td scope="row">userInfo Dictionary</td>				<td>None.</td>			</tr>		</table><br>		<h3>GlobalIDChangedNotification</h3>		<p>This EOGlobalID notification is posted when the global ID of an object in the store changes.<br>		<table border="1">			<tr>				<td scope="row">Notification Object</td>				<td><code>this</code></td>			</tr>			<tr>				<td scope="row">userInfo Dictionary</td>				<td>Use the old global ID as the key to find the new global ID.</td>			</tr>		</table><br>		<a name="CCJDIEFH"></a>		<h3>ObjectsChangedInStoreNotification</h3>		<p>This notification is posted on when specific objects in the object store are inserted, deleted, updated, or invalidated. This can happen as a result of an update from the server.<br>		<table border="1">			<tr>				<td scope="row">Notification Object</td>				<td><code>this</code></td>			</tr>			<tr>				<td scope="row">userInfo Dictionary</td>				<td>The global IDs of inserted, deleted, updated, and invalidated objects, accessible with EOObjectStore's (respectively) InsertedKey, DeletedKey, UpdatedKey, and InvalidatedKey.</td>			</tr>		</table><br>		<br>		<p>&copy; 2001 Apple Computer, Inc. (Last Published April 17, 2001)</p>		<p><br>		<a href="../../EODistributionTOC.html"><img src="../Art/up.gif" border="0" alt="Table of Contents"></a> <!-- start of footer -->		<!--#include virtual="/includes/framesetfooter" -->		<!-- end of footer -->	</body></html>