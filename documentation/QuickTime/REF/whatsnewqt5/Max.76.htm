<HTML><head><script language="JavaScript" src="../../RM/frametest.js"></script><TITLE> Media Sharing Support</TITLE><script language=javascript> window.parent.focus(); </script></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>What's New in QuickTime 5</I><P>| <A HREF="Max.75.htm">Previous</A> | <A HREF="Max.1.htm">Chapter Contents</A> | <A HREF="Max.htm">Chapter Top</A> | <A HREF="Max.77.htm">Next</A> |</P></DIV><!-- QTnavbar end --><H1 CLASS="H1.Heading1"><A NAME="pgfId=76026"> </A>Media Sharing Support</H1><P CLASS="T1.Text1"><A NAME="pgfId=63086"> </A>The Movie Toolbox now supports the construction of new Tracks that share the underlying media sample tables with another Track in the same movie. </P><P CLASS="T1.Text1"><A NAME="pgfId=63087"> </A>To construct such a &quot;cloned&quot; Track, you can use the new API <TT CLASS="cv">AddClonedTrackToMovie</TT>, which is discussed next. </P><DIV><H4 CLASS="RoH.RoutineHeading"><A NAME="pgfId=63088"> </A><A NAME="marker=88220"> </A>AddClonedTrackToMovie</H4><P CLASS="T1.Text1"><A NAME="pgfId=63089"> </A>Used to construct cloned tracks. </P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=97939"> </A>OSErr AddClonedTrackToMovie( Track sourceTrack, Movie destinationMovie,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long flags, Track *newTrack);</code><br><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=97941"> </A><TT CLASS="cv">sourceTrack</TT> </DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=63091"> </A>Indicates the Track to be cloned. This is the source of the sample table once the cloned Track is constructed.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=97950"> </A><TT CLASS="cv">destinationMovie</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=63092"> </A><TT CLASS="cv"></TT>&nbsp;</DD><DD CLASS="DD.DefinitionDefCont"><A NAME="pgfId=63093"> </A>Indicates the Movie where the cloned Track should be created. Currently, this Movie must be the same Movie containing the <TT CLASS="cv">sourceTrack</TT> Track. </DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=97959"> </A><TT CLASS="cv">flags</TT> A set of flags determining how cloning should be performed.</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=63094"> </A>&nbsp;</DD><DL COMPACT><DT CLASS="DT2.DefinitionTerm2"><A NAME="pgfId=97966"> </A><TT CLASS="cv">kQTCloneShareSamples</TT> = 1</DT><DD CLASS="DD2.DefinitionDef2"><A NAME="pgfId=63095"> </A>&nbsp;</DD><DD CLASS="DD2.DefinitionDef2Cont"><A NAME="pgfId=63096"> </A>This flag indicates that you want to share the sample table between the source and clone tracks. If you don't pass this flag, the <TT CLASS="cv">AddClonedTrackToMovie</TT> call will fail currently.</DD><DT CLASS="DT2.DefinitionTerm2"><A NAME="pgfId=97975"> </A><TT CLASS="cv">kQTCloneDontCopyEdits</TT> = 2</DT><DD CLASS="DD2.DefinitionDef2"><A NAME="pgfId=63097"> </A>&nbsp;</DD><DD CLASS="DD2.DefinitionDef2Cont"><A NAME="pgfId=63098"> </A>By default, the edit list is copied from the source track to the cloned track. Use this flag to leave the clone track's edit list empty.</DD></DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=97984"> </A><TT CLASS="cv">newTrack</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=63099"> </A>The address of storage where a reference to the newly constructed Track is returned. If the function fails, this storage is set to nil.</DD></DL COMPACT><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=63100"> </A>DISCUSSION</H5><P CLASS="T1.Text1"><A NAME="pgfId=65171"> </A>The <A NAME="marker=90337"> </A>AddClonedTrackToMovie function is similar to the <TT CLASS="cv">AddEmptyTrackToMovie</TT> function, in that you can create a new Track and Media compatible with the Track specified by the <TT CLASS="cv">sourceTrack</TT> parameter. The function returns appropriate errors.</P><P CLASS="I.Important"><A NAME="pgfId=63102"> </A>Most QuickTime developers should never need  to call this API. </P></DIV></DIV><H2 CLASS="H2.Heading2TOC"><A HREF="Max.77.htm#pgfId=63104" CLASS="Hypertext">How To Find All Clone Tracks in a Movie</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="Max.78.htm#pgfId=63115" CLASS="Hypertext">Notes and Issues</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="Max.79.htm#pgfId=70071" CLASS="Hypertext">New APIs</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="Max.7a.htm#pgfId=73074" CLASS="Hypertext">New Media Handler API</A></H2><H2 CLASS="H2.Heading2TOC"><A HREF="Max.7b.htm#pgfId=63142" CLASS="Hypertext">New `vdig' Flag Added</A></H2><hr>&#169; 2001 Apple Computer, Inc.<!-- QTnavbar start --><P><I>What's New in QuickTime 5</I><P>| <A HREF="Max.75.htm">Previous</A> | <A HREF="Max.1.htm">Chapter Contents</A> | <A HREF="Max.htm">Chapter Top</A> | <A HREF="Max.77.htm">Next</A> |</P></DIV><!-- QTnavbar end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>