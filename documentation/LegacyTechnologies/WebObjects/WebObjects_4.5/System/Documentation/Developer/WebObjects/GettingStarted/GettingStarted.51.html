<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><!-- <script language="JavaScript" src="frametest.js"></script> --><TITLE> Configuring the Browser</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b> Getting Started With WebObjects</font><br><br><!--end of path --><hr><DIV><a name="top"></a><A HREF="GettingStarted.4d.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.50.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.52.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><HR></DIV><H1><A NAME="pgfId=14065"> </A>Configuring the Browser</H1><A NAME="pgfId=16565"> </A>Create your browser's bindings. The steps are similar to those for creating bindings for a repetition.</P><OL><P><LI><A NAME="pgfId=611"> </A>Bind <B>talentDisplayGroup.displayedObjects</B> to the browser's <B>list</B> attribute.<P><LI><A NAME="pgfId=622"> </A>Bind <B>talent</B> to the browser's <B>item</B> attribute.<P><LI><A NAME="pgfId=589"> </A>Bind <B>talent.lastName</B> to the browser's <B>value</B> attribute.<P><A NAME="pgfId=19183"> </A>The <B>value</B> attribute tells the browser what string to display. For each <B>item</B> in its <B>list</B>, the browser evaluates the <B>item</B>'s <B>value</B>.<P><A NAME="pgfId=19184"> </A>The browser in the MovieDetails page should display the actors' full names, but there isn't an attribute for full name. In the next section, you'll create a custom Talent class that implements a <B>fullName</B> method, but for now just use <B>talent.lastName</B> as the <B>value</B> attribute.<P><A NAME="pgfId=16574"> </A>A browser also has a <B>selections</B> attribute that should be bound to an array of objects. A browser's selection can be zero, one, or many objects; but in the Talent browser, the selection should refer to a single object. Consequently, you need to add two methods to manage the browser's selection: one to return an array containing the selected Talent and one to set the selected Talent from an array object.<P><P><LI><A NAME="pgfId=25708"> </A>Add the method <B>talentSelection</B> to the <B>MovieDetails.java</B> class as follows:<P><TT><A NAME="pgfId=25709"> </A>	public NSArray talentSelection() {<BR><A NAME="pgfId=25715"> </A>&nbsp;&nbsp;&nbsp;EOEnterpriseObject aTalent;<BR><A NAME="pgfId=25719"> </A>&nbsp;&nbsp;&nbsp;EOEnterpriseObject aMovieRole =<BR><A NAME="pgfId=25723"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(EOEnterpriseObject)movieRoleDisplayGroup.selectedObject();<BR><A NAME="pgfId=23648"> </A><BR><A NAME="pgfId=25726"> </A>&nbsp;&nbsp;&nbsp;if (aMovieRole == null){<BR><A NAME="pgfId=25729"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return null;<BR><A NAME="pgfId=25732"> </A>&nbsp;&nbsp;&nbsp;}<BR><A NAME="pgfId=25735"> </A>&nbsp;&nbsp;&nbsp;aTalent = (EOEnterpriseObject)aMovieRole.valueForKey(&quot;toTalent&quot;);<BR><A NAME="pgfId=25738"> </A>&nbsp;&nbsp;&nbsp;if (aTalent == null){<BR><A NAME="pgfId=25741"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return null;<BR><A NAME="pgfId=25744"> </A>&nbsp;&nbsp;&nbsp;} else {<BR><A NAME="pgfId=25747"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return new NSArray(aTalent);<BR><A NAME="pgfId=25750"> </A>&nbsp;&nbsp;&nbsp;}<BR><A NAME="pgfId=23657"> </A>	}<P><A NAME="pgfId=16598"></TT> </A>Because the browser expects an array for its <B>selections</B> attribute, this method packages the selected MovieRole's <B>talent</B> object in an array. If the selected MovieRole object is <B>null</B>, <B>talentSelection</B> simply returns <B>null</B> to indicate that the browser shouldn't set a selection.<P><P><LI><A NAME="pgfId=634"> </A>Add the method <B>setTalentSelection </B>as follows:<P><TT><A NAME="pgfId=23676"> </A>	public void setTalentSelection(NSArray talentArray){<BR><A NAME="pgfId=25753"> </A>&nbsp;&nbsp;&nbsp;if (talentArray.count() &gt; 0){<BR><A NAME="pgfId=25756"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EOEnterpriseObject aMovieRole =<BR><A NAME="pgfId=25757"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(EOEnterpriseObject)movieRoleDisplayGroup.selectedObject();<BR><A NAME="pgfId=25760"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EOEnterpriseObject selectedTalent =<BR><A NAME="pgfId=25761"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(EOEnterpriseObject)talentArray.objectAtIndex(0);<BR><A NAME="pgfId=23681"> </A><BR><A NAME="pgfId=25764"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aMovieRole.addObjectToBothSidesOfRelationshipWithKey(<BR><A NAME="pgfId=25767"> </A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selectedTalent, &quot;toTalent&quot;);<BR><A NAME="pgfId=25770"> </A>&nbsp;&nbsp;&nbsp;}<BR><A NAME="pgfId=23685"> </A>	}</P></TT><A NAME="pgfId=16600"> </A>Again because the browser uses an array for its <B>selections</B> attribute, the <B>setTalentSelection </B>method must take an array as its argument. If the size of <B>talentArray</B> is nonzero, then this method sets the selected MovieRole's <B>talent</B> to the first object in the array. Note that by default, a user can't select more than one actor in a browser.<P><A NAME="pgfId=16630"> </A>With the addition of these methods, WebObjects Builder now displays <B>talentSelection</B> in MovieDetail's object browser.<P><P><LI><A NAME="pgfId=642"> </A>Bind <B>talentSelection</B> to the browser's <B>selections</B> attribute.<P></OL><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 24 Aug 99)<P><A HREF="GettingStarted.4d.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.50.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.52.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>