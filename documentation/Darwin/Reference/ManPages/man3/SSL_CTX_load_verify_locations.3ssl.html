<html><head><title>Mac OS X Developer Tools
 Manual Page For SSL_CTX_load_verify_locations(3ssl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3ssl/SSL_CTX_load_verify_locations" title="Mac OS X Developer Tools
 Manual Page for SSL_CTX_load_verify_locations(3ssl)"><a name="//apple_ref/doc/man/3/SSL_CTX_load_verify_locations" title="Mac OS X Developer Tools
 Manual Page for SSL_CTX_load_verify_locations(3ssl)"><!-- headerDoc=man; indexgroup=Section 3ssl; uid="//apple_ref/doc/man/3ssl/SSL_CTX_load_verify_locations"; name=SSL_CTX_load_verify_locations(3ssl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SSL_CTX_load_verify_locations(3)                   OpenSSL                  SSL_CTX_load_verify_locations(3)



<b>NAME</b>
       SSL_CTX_load_verify_locations - set default locations for trusted CA certificates

<b>SYNOPSIS</b>
        #include &lt;openssl/ssl.h&gt;

        int SSL_CTX_load_verify_locations(SSL_CTX *ctx, const char *CAfile,
                                          const char *CApath);

<b>DESCRIPTION</b>
       <u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>load</u><b>_</b><u>verify</u><b>_</b><u>locations()</u> specifies the locations for <b>ctx</b>, at which CA certificates for
       verification purposes are located. The certificates available via <b>CAfile</b> and <b>CApath</b> are trusted.

<b>NOTES</b>
       If <b>CAfile</b> is not NULL, it points to a file of CA certificates in PEM format. The file can contain
       several CA certificates identified by

        -----BEGIN CERTIFICATE-----<font color="#ffffff" class="whiteout">...&nbsp;CERTIFICATE----...</font>
        ... (CA certificate in base64 encoding) ...
        -----END CERTIFICATE-----<font color="#ffffff" class="whiteout">sequences.&nbsp;CERTIFICATE----sequences.</font>

       sequences. Before, between, and after the certificates text is allowed which can be used e.g. for
       descriptions of the certificates.

       The <b>CAfile</b> is processed on execution of the <u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>load</u><b>_</b><u>verify</u><b>_</b><u>locations()</u> function.

       If <b>CApath</b> is not NULL, it points to a directory containing CA certificates in PEM format. The files
       each contain one CA certificate. The files are looked up by the CA subject name hash value, which
       must hence be available.  If more than one CA certificate with the same name hash value exist, the
       extension must be different (e.g. 9d66eef0.0, 9d66eef0.1 etc). The search is performed in the
       ordering of the extension number, regardless of other properties of the certificates.  Use the
       <b>c_rehash</b> utility to create the necessary links.

       The certificates in <b>CApath</b> are only looked up when required, e.g. when building the certificate chain
       or when actually performing the verification of a peer certificate.

       When looking up CA certificates, the OpenSSL library will first search the certificates in <b>CAfile</b>,
       then those in <b>CApath</b>. Certificate matching is done based on the subject name, the key identifier (if
       present), and the serial number as taken from the certificate to be verified. If these data do not
       match, the next certificate will be tried. If a first certificate matching the parameters is found,
       the verification process will be performed; no other certificates for the same parameters will be
       searched in case of failure.

       In server mode, when requesting a client certificate, the server must send the list of CAs of which
       it will accept client certificates. This list is not influenced by the contents of <b>CAfile</b> or <b>CApath</b>
       and must explicitly be set using the <a href="SSL_CTX_set_client_CA_list.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_set_client_CA_list"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>set</u><b>_</b><u>client</u><b>_</b><u>CA</u><b>_</b><u>list</u>(3)</a> family of functions.

       When building its own certificate chain, an OpenSSL client/server will try to fill in missing
       certificates from <b>CAfile</b>/<b>CApath</b>, if the certificate chain was not explicitly specified (see
       <a href="SSL_CTX_add_extra_chain_cert.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_add_extra_chain_cert"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>add</u><b>_</b><u>extra</u><b>_</b><u>chain</u><b>_</b><u>cert</u>(3)</a>, <a href="SSL_CTX_use_certificate.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_use_certificate"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>use</u><b>_</b><u>certificate</u>(3)</a>.

<b>WARNINGS</b>
       If several CA certificates matching the name, key identifier, and serial number condition are
       available, only the first one will be examined. This may lead to unexpected results if the same CA
       certificate is available with different expiration dates. If a "certificate expired" verification
       error occurs, no other certificate will be searched. Make sure to not have expired certificates mixed
       with valid ones.

<b>EXAMPLES</b>
       Generate a CA certificate file with descriptive text from the CA certificates ca1.pem ca2.pem
       ca3.pem:

        #!/bin/sh
        rm CAfile.pem
        for i in ca1.pem ca2.pem ca3.pem ; do
          openssl x509 -in $i -text &gt;&gt; CAfile.pem
        done

       Prepare the directory /some/where/certs containing several CA certificates for use as <b>CApath</b>:

        cd /some/where/certs
        c_rehash .

<b>RETURN</b> <b>VALUES</b>
       The following return values can occur:

       0   The operation failed because <b>CAfile</b> and <b>CApath</b> are NULL or the processing at one of the locations
           specified failed. Check the error stack to find out the reason.

       1   The operation succeeded.

<b>SEE</b> <b>ALSO</b>
       <a href="ssl.3ssl.html#//apple_ref/doc/man/3/ssl"><u>ssl</u>(3)</a>, <a href="SSL_CTX_set_client_CA_list.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_set_client_CA_list"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>set</u><b>_</b><u>client</u><b>_</b><u>CA</u><b>_</b><u>list</u>(3)</a>, <a href="SSL_get_client_CA_list.3ssl.html#//apple_ref/doc/man/3/SSL_get_client_CA_list"><u>SSL</u><b>_</b><u>get</u><b>_</b><u>client</u><b>_</b><u>CA</u><b>_</b><u>list</u>(3)</a>, <a href="SSL_CTX_use_certificate.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_use_certificate"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>use</u><b>_</b><u>certificate</u>(3)</a>,
       <a href="SSL_CTX_add_extra_chain_cert.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_add_extra_chain_cert"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>add</u><b>_</b><u>extra</u><b>_</b><u>chain</u><b>_</b><u>cert</u>(3)</a>, <a href="SSL_CTX_set_cert_store.3ssl.html#//apple_ref/doc/man/3/SSL_CTX_set_cert_store"><u>SSL</u><b>_</b><u>CTX</u><b>_</b><u>set</u><b>_</b><u>cert</u><b>_</b><u>store</u>(3)</a>



0.9.7l                                           2001-09-06                 SSL_CTX_load_verify_locations(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/SSL_CTX_load_verify_locations.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/SSL_CTX_load_verify_locations.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/SSL_CTX_load_verify_locations.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
