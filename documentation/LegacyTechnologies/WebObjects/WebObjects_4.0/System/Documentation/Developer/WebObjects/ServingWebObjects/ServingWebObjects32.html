<html><head><title>Serving WebObjects</title></head>
<body bgcolor="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="ServingWebObjectsTOC.html" target="_top">Serving WebObjects</a>
</font>
<br><br>
<!--end of path -->


 
<a href="ServingWebObjectsTOC.html"><IMG SRC="ArrowUp.gif">Table of Contents</a> <a href="ServingWebObjects31.html"><IMG SRC="ArrowLeft.gif">Previous Section</a>
 
<a name="5169">
<h2> Increasing the Listen Queue Depth</h2>
</a><a name="5170">
The listen queue depth indicates the number of transactions that can be in the socket buffer (the listen queue) awaiting processing. If the number of transactions in the buffer reach the limit set by the listen queue depth, the socket refuses new requests. The default depth is five.<p>
</a><a name="7794">
When an application's request load varies by period (that is, it experiences "spikes"), you can increase the listen queue depth to improve performance. For example, suppose an application can process one transaction per second and it typically receives transactions at the rate of one transaction every two seconds. The application's listen queue remains empty because it can handle the load. Suppose that at certain times of the day, this same application receives a much heavier load of two requests per second. At these times, the listen queue fills up because the application cannot process as many requests as it receives. If you know that the request rate will eventually return to the normal load of one request every two seconds, increasing the listen queue depth will help improve performance during the heavy load time. <p>
</a><a name="5172">
On the other hand, suppose that two requests per second becomes the normal request load for this application. In this case, no matter how big the listen queue, the application can never catch up because it only processes one request per second. In this situation, when the average load is higher than the application can handle, load balancing is the proper solution.<p>
</a><a name="5173">
To set the listen queue depth for all instances of an application, do the following in Monitor:<p>
</a><ol>
<a name="5174">
<P><li>Click Applications in the Monitor banner to go to the Applications page.
</a><a name="5175">
<P><li>Click the Config button in any row containing a configured application.
</a><a name="8699">
<P><li>In the Application Configuration page, click the triangle next to the New Instance Default Arguments option; this discloses the following form:
</a><a name="8704">
<p><img src="AppInstanceConfig.gif"><p>
</a><a name="5177">
<P><li>Type the new listen queue depth in the Listen Queue Size field.
</a><a name="8712">
<P><li>Click the Update for New and Existing Instances button.
</a><a name="8713">
<P><li>Restart any existing instance to have it assume the new listen queue depth.
</a></ol>
<a name="8714">
If you want to change the listen queue depth for specific instances, enter the new depth in the List Queue Size field of the Application Start-Up/Command-line Arguments form in the Instance Configuration page for an instance.<p>
</a>
<P>
 
<a href="ServingWebObjectsTOC.html"><IMG SRC="ArrowUp.gif">Table of Contents</a> <a href="ServingWebObjects33.html"><IMG SRC="ArrowRight.gif">Next Section</a>
<P>


</body>
</html>
