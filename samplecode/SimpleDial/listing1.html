<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>SimpleDial - /Read Me About SimpleDial.txt</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/CoreFoundation/index.html">Core Foundation</a> &gt; <a href="../../samplecode/CoreFoundation/idxNetworking-date.html">Networking</a> &gt; <A HREF="javascript:location.replace('index.html');">SimpleDial</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">SimpleDial</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/Read Me About SimpleDial.txt</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/Read Me About SimpleDial.txt</option>
<option value="listing2.html">/SimpleDial.c</option></select>
				</p>
				</form>
				<p><strong><a href="SimpleDial.zip">Download Sample</a></strong> (&#147;SimpleDial.zip&#148;, 23.3K)<BR>
<strong><a href="SimpleDial.dmg">Download Sample</a></strong> (&#147;SimpleDial.dmg&#148;, 82.3K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">Read Me About SimpleDial
========================
1.1

SimpleDial is a demonstration of the System Configuration framework network
connection API, which lets you manage dialup connections such as PPP.

SimpleDial requires the System Configuration framework network connection API,
which was introduced with Mac OS X 10.3.

Packing List
------------
The sample contains the following items:

o Read Me About SimpleDial.txt -- This file.
o SimpleDial.c -- Source for the program.
o SimpleDial.xcodeproj -- An Xcode 2.1 project for the program.
o SimpleDial.xcode -- An Xcode 1.1 project for the program.

Using the Sample
----------------
To try out SimpleDial, create (or switch to) a dialup network configuration.
Make sure that PPP is disconnected. Then run SimpleDial from the command line.
SimpleDial will display status messages while it initiates a PPP connection,
waits for a few seconds, and then terminates the PPP connection. The following
is a typical example.

% ./SimpleDial 
Connecting...
16:47:39 kSCNetworkConnectionConnecting (1)
16:47:39     kSCNetworkConnectionPPPInitializing (1)
16:47:39     kSCNetworkConnectionPPPConnectingLink (2)
16:48:37     kSCNetworkConnectionPPPNegotiatingLink (4)
16:48:39     kSCNetworkConnectionPPPAuthenticating (5)
16:48:39     kSCNetworkConnectionPPPNegotiatingNetwork (7)
16:48:39 kSCNetworkConnectionConnected (2)
16:48:39     kSCNetworkConnectionPPPConnected (8)
Connection succeeded
Waiting for a few seconds...
Disconnecting...
16:48:44 kSCNetworkConnectionDisconnecting (3)
16:48:44     kSCNetworkConnectionPPPTerminating (9)
16:48:44     kSCNetworkConnectionPPPDisconnectingLink (10)
16:48:48     kSCNetworkConnectionPPPDisconnected (0)
16:48:48 kSCNetworkConnectionDisconnected (0)
16:48:48     kSCNetworkConnectionPPPDisconnected (0)
Disconnection succeeded

Building the Sample
-------------------
The sample was built using Xcode 2.1 on Mac OS X 10.4.  You should be able to
just open the project and choose Build from the Build menu.  This will build
the SimpleDial command line tool in the &quot;Build&quot; directory.

How it Works
------------
SimpleDial uses the System Configuration framework network connection API to:

o determine the user's preferred PPP dialup preferences
(SCNetworkConnectionCopyUserPreferences), 

o create an instance of the SCNetworkConnectionRef type
(SCNetworkConnectionCreateWithServiceID), 

o schedule its callback on the runloop
(SCNetworkConnectionScheduleWithRunLoop), 

o get the current status of the connection (SCNetworkConnectionGetStatus),

o initiate a PPP connection (SCNetworkConnectionStart), and 

o terminate the PPP connection (SCNetworkConnectionStop).

Credits and Version History
---------------------------
If you find any problems with this sample, mail &lt;dts@apple.com&gt; and I'll try to
fix them up.

1.0 (Apr 2004) was the first shipping version.

1.1 (Jul 2005) was updated to include an Xcode 2.1 project to produce a
universal binary; there were no code changes required for it to run correctly
on the Developer Transition Systems.

Share and Enjoy.

Apple Developer Technical Support
Networking, Communications, Hardware

21 Jul 2005

$Log: Read\040Me\040About\040SimpleDial.txt,v $
Revision 1.3  2005/07/21 14:51:04         
Updated for version 1.1.

Revision 1.2  2004/07/13 15:17:36         
Update example to match results from latest code.

Revision 1.1  2004/04/28 16:26:26         
First checked in.

</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/SimpleDial/listing1.html%3Fid%3DDTS10003237-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/SimpleDial/listing1.html%3Fid%3DDTS10003237-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/SimpleDial/listing1.html%3Fid%3DDTS10003237-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>