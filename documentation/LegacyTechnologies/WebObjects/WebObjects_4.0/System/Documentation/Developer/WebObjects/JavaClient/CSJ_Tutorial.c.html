<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<TITLE> Using the Wizard</TITLE></HEAD>
<body bgcolor="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="JavaClientTOC.html" target="_top">JavaClient Tutorial</a>
</font>
<br><br>
<!--end of path -->


<DIV>
<P><I>Creating a Java Client WebObjects Application</I><P><A HREF="CSJ_Tutorial.b.html">Previous</A> | <A HREF="CSJ_Tutorial.b.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.d.html">Next</A></P></DIV>
<H3 CLASS="2HeadSplit">
<A NAME="pgfId=16364">
 </A>
Using the Wizard</H3>
<P CLASS="Body">
<A NAME="pgfId=16365">
 </A>
After you create a new project of the type &quot;WebObjectsApplication&quot; the WebObjects Application Wizard displays a succession of screens. The sequence of screens that you see depends on the options you select. The following sequence shows those screens that are displayed when you request a Java Client application that includes a newly created model and uses a EOF &quot;skeletal&quot; application template.</P>
<DIV>
</BLOCKQUOTE><B>1.  
<A NAME="pgfId=29574">
 </A>
Select the type of WebObjects application and the primary language.</B>
<BLOCKQUOTE><P CLASS="TaskSubStep">
<A NAME="pgfId=29575">
 </A>
Select Java Client under Available Assistance.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29576">
 </A>
Select Java under Primary Language.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=16374">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-9.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=16366">
 </A>
</BLOCKQUOTE>You could also select Objective-C or WebScript as the primary language, but these languages are valid only for objects on the server. As noted earlier, objects on the client must always be implemented in Java.</P>
</DIV>
</DIV>
<DIV>
</BLOCKQUOTE><B>2.  
<A NAME="pgfId=29583">
 </A>
Create or select a model for your application.</B>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29584">
 </A>
<BLOCKQUOTE>For this tutorial, click &quot;Create new model&quot; and then click Next.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=16782">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-10.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=16769">
 </A>
</BLOCKQUOTE>If you already have a model file, you can select &quot;Open existing model file&quot; and type the file system path to that file in the Model File field; or you can also click Browse and navigate to the file using a browser. This tutorial, however, invites you to follow a sequence of wizard screens that deal with creating a model file. If you chose an existing model file, go to <A HREF="CSJ_Tutorial.c.html#34223" CLASS="XRef">
Selecting the Application Template</A>
.</P>
<P CLASS="Body">
<A NAME="pgfId=19055">
 </A>
You can find a Movies model file (<B>Movies.eomodeld</B>
) in <EM CLASS="Italic">
NEXT_ROOT</EM>
<B>/Developer/Examples/EnterpriseObject/AppKit/Movies</B>
.</P>
</DIV>
</DIV>
<DIV>
<B>Related Concepts</B> 
<A NAME="pgfId=19058">
 </A>
<A HREF="CSJ_Tutorial.2c.html#19926" CLASS="XRef">
What is a Model?</A>
</H6>
</DIV>
<DIV>
<BR><H3 CLASS="3HeadSplit">
<A NAME="pgfId=17036">
 </A>
Creating a Model</H3>
<P CLASS="Body">
<A NAME="pgfId=17078">
 </A>
If you decide to create a model for your application, the wizard steps you through a succession of windows. The model file, when created, is given the name of your project, in this case <B>StudioManager.eomodeld</B>
.</P>
<DIV>

<A NAME="pgfId=29591">
 </A>
</BLOCKQUOTE><B>3.  Choose an adaptor for your database server.</B>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29592">
 </A>
<BLOCKQUOTE>Select an adaptor for the database you want to use.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30383">
 </A>
Click Next.</P>
<P CLASS="Body">
<A NAME="pgfId=29589">
 </A>
</P>
<DIV>
<IMG SRC="CSJ_Tutorial-11.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=20230">
 </A>
</BLOCKQUOTE>An <EM CLASS="Italic">
adaptor</EM>
 is a mechanism that connects your application to a particular database server. For each type of server you use, you need a separate adaptor. WebObjects provides adaptors for several relational database servers, such as OpenBase Lite, Informix, Oracle, and Sybase servers as well as the source code for a flat-file database adaptor. If you're working on a Windows platform, WebObjects also provides an ODBC adaptor for use with ODBC-compliant database sources. It also provides the source code from which you can build an adaptor for a flat-file database.</P>
<P CLASS="Body">
<A NAME="pgfId=20235">
 </A>
All adaptors expect you to specify the database to use. In addition, before you can gain access to the database, you must log in. Different databases require different login information, so each database's login panel looks different. This tutorial uses the single-user OpenBase Lite adaptor for of the Movies database that is pre-installed with Enterprise Objects Framework.</P>
</DIV>
<DIV>

<A NAME="pgfId=29597">
 </A>
</BLOCKQUOTE><B>4.  Log into your chosen database server.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29598">
 </A>
<BLOCKQUOTE>Select the Movies database.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29599">
 </A>
Log into the database, filling in any required information.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=17121">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-12.gif">
</DIV>
<P CLASS="Note">
<A NAME="pgfId=17109">
 </A>
</BLOCKQUOTE><B>Note: </B>If you are using the pre-installed OpenBase Lite database, click Set Path, browse to the <EM CLASS="Italic">
NEXT_ROOT</EM>
<B>\Local\Library\Databases\</B>
 directory, and click Open. &quot;Movies&quot; now appears in the Database pop-up list. Click Login.</P>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=22364">
 </A>
<B>Related Concepts: </B><A HREF="CSJ_Tutorial.2b.html#pgfId=998786" CLASS="Index">
Note to Oracle Users </A>
</H6>
<P CLASS="Body">
<A NAME="pgfId=20403">
 </A>
After you log in, the wizard uses the selected adaptor to read the data dictionary (that is, schema information) from the database. From this dictionary it creates a default model, but before it does it lets you configure that model in four different ways.</P>
<DIV>

<A NAME="pgfId=29606">
 </A>
</BLOCKQUOTE><B>5.  Choose options for the creation of your model.</B>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29607">
 </A>
<BLOCKQUOTE>Make sure every option is checked except &quot;Use Custom Enterprise objects&quot;.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=16853">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-13.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=20258">
 </A>
</BLOCKQUOTE>The basic model the wizard creates contains entities, attributes, and relationships. How complete this model is depends on how completely the schema information is inside your database server. For example, the wizard includes relationships in your model only if the server's schema information specifies foreign key definitions.</P>
<P CLASS="Body">
<A NAME="pgfId=16799">
 </A>
Using the options in this page, you can supplement the basic model with additional information. (Note that the wizard doesn't modify the underlying database.) The following sections describe each option:</P>
</DIV>
</DIV>
<DIV>
<H4 CLASS="4Head">
<A NAME="pgfId=16801">
 </A>
Assign primary keys to all entities</H4>
<P CLASS="Body">
<A NAME="pgfId=20277">
 </A>
Enterprise Objects Framework uses primary keys as unique identifiers of enterprise objects with which it maps these objects to the appropriate database row. Therefore, you must assign a primary key to each entity you use in your application. The wizard automatically assigns primary keys to the model if it finds primary-key information in the database's schema information. Checking this box causes the wizard later on to prompt you to choose primary keys if they aren't defined in the database's schema information. </P>
</DIV>
<DIV>
<H4 CLASS="4Head">
<A NAME="pgfId=20269">
 </A>
Ask about relationships</H4>
<P CLASS="Body">
<A NAME="pgfId=20274">
 </A>
If there are foreign-key definitions in the database's schema information, the wizard includes the corresponding relationships in the basic model. However, a definition in the schema information might not provide enough information for the wizard to set all of a relationship's options. Checking this box causes the wizard to prompt later you to provide the additional information it needs to complete the relationship configurations.</P>
</DIV>
<DIV>
<H4 CLASS="4Head">
<A NAME="pgfId=20285">
 </A>
Ask about stored procedures</H4>
<P CLASS="Body">
<A NAME="pgfId=20275">
 </A>
Checking this box causes the wizard to read stored procedures from the database's schema information, display them, and allow you to choose which to include in your model.</P>
</DIV>
<DIV>
<H4 CLASS="4Head">
<A NAME="pgfId=20290">
 </A>
Use custom enterprise objects</H4>
<P CLASS="Body">
<A NAME="pgfId=20293">
 </A>
An entity maps a table to enterprise objects by storing the name of a database table (MOVIE, for example) and the name of the corresponding enterprise object class (a Java class such as Movie). When deciding what class to associate with an entity, you have two choices: EOGenericRecord or a custom class. EOGenericRecord is a class whose instances store as key-value pairs an entity's properties and the data associated with each property. They do nothing else.</P>
<P CLASS="Body">
<A NAME="pgfId=20294">
 </A>
If you don't check the &quot;Use custom enterprise objects&quot; box, the wizard maps all your database tables to EOGenericRecord. If you do check this box, the wizard maps all your database tables to custom classes. The wizard assumes that each entity is to be represented by a custom class with the same name. For example, a table named MOVIE has an entity named Movie, whose corresponding custom class is also named Movie.</P>
<P CLASS="Body">
<A NAME="pgfId=20291">
 </A>
Use a custom enterprise object class only when you need to add business logic; otherwise use EOGenericRecord. Note that this option, if selected, only assigns a class name; it does not create a class. The class of an entity remains EOGenericRecord, even if EOModeler shows a different class name, until you create the &quot;skeletal&quot; class file and add this file to the project. You'll perform this step later using EOModeler. </P>
<DIV>

<A NAME="pgfId=29615">
 </A>
</BLOCKQUOTE><B>6.  Select the database tables to include your model.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29616">
 </A>
<BLOCKQUOTE>Select the following tables: DIRECTOR, MOVIE, MOVIE_ROLE, PLOT_SUMMARY, REVIEW, STUDIO, TALENT, TALENT_PHOTO, and VOTING.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=16876">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-14.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=16800">
 </A>
After you select the database tables for your model, the next panel displayed depends upon your database. Unless you are using a database that stores primary key information in its database server's schema information, the wizard now asks you to specify a primary key for each entity.</P>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=29630">
 </A>
</BLOCKQUOTE><B>7.  Specify the primary keys for your entities.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29631">
 </A>
<BLOCKQUOTE>See the table below.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=21027">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-15.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=21114">
 </A>
</BLOCKQUOTE>The entities in your model should have the following primary keys assigned:</P>
<TABLE BORDER="1">
<TR>
<TH ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableHead">
<A NAME="pgfId=21075">
 </A>
The entity...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</P>
</TH>
<TH ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="NextTableHead">
<A NAME="pgfId=21077">
 </A>
Should have the primary key attributes...</P>
</TH>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21079">
 </A>
Director</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21081">
 </A>
movieId and talentId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21083">
 </A>
Movie</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21085">
 </A>
movieId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21087">
 </A>
MovieRole</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21089">
 </A>
movieId and talentId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21091">
 </A>
PlotSummary</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21093">
 </A>
movieId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21095">
 </A>
Review</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21097">
 </A>
reviewId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21099">
 </A>
Studio</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21101">
 </A>
studioId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21103">
 </A>
Talent</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21105">
 </A>
talentId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21107">
 </A>
TalentPhoto</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21109">
 </A>
talentId</P>
</TD>
</TR>
<TR>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21111">
 </A>
Voting</P>
</TD>
<TD ROWSPAN="1" COLSPAN="1" VALIGN="TOP">
<P CLASS="TableBody">
<A NAME="pgfId=21113">
 </A>
movieId</P>
</TD>
</TR>
</TABLE>
</DIV>
</DIV>
<DIV>
<P><BR>
<A NAME="pgfId=29636">
 </A>
</BLOCKQUOTE><B>8.  Specify referential integrity rules for the relationships in the model.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29637">
 </A>
<BLOCKQUOTE>Select the Nullify button in each &quot;referential integrity&quot; window that appears.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=16898">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-16.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=16884">
 </A>
</BLOCKQUOTE>If you're using a database that stores foreign key definitions in its database server's schema information, the wizard reads them and creates corresponding relationships in your model. (The naming convention for relationships varies according to the adaptor you're using.) The wizard now asks you to specify referential integrity rules for the relationships so it can further configure them. </P>
</DIV>
</DIV>
</DIV>
<DIV>
<H4 CLASS="4Head">
<A NAME="pgfId=20320">
 </A>
<EM CLASS="Italic">
&lt;Source object&gt;</EM>
 owns its <EM CLASS="Italic">
&lt;destination&gt;</EM>
 objects</H4>
<P CLASS="Body">
<A NAME="pgfId=20327">
 </A>
This option specifies that a destination object in a relationship can't exist without its source object; the source object is said to &quot;own&quot; the destination object or objects in the relationship. For example, consider the case of Movie's to-many relationship to MovieRoles, which it owns. When a MovieRole is removed from its Movie's array of MovieRoles, the MovieRole is deleted--deleted in memory and deleted in the database.</P>
</DIV>
<DIV>
<H4 CLASS="4Head">
<A NAME="pgfId=20325">
 </A>
When <EM CLASS="Italic">
&lt;source object&gt; </EM>
is deleted</H4>
<P CLASS="Body">
<A NAME="pgfId=20335">
 </A>
This set of options specifies what to do when the source object in a relationship is deleted. </P>
<P CLASS="BodyBulletLg">
<A NAME="pgfId=20576">
 </A>
<UL><LI><B>Nullify</B>
. Specifies that when the source object is deleted, any reciprocal relationship that the destination object has with the source object is set to <B>null</B>
.</P>
<P CLASS="BodyBulletLg">
<A NAME="pgfId=20578">
 </A>
<LI><B>Cascade</B>
. Specifies that when a source object is deleted, the source's destination objects should also be deleted--again, deleted in memory and correspondingly in the database. </P>
<P CLASS="BodyBulletLg">
<A NAME="pgfId=20577">
 </A>
<LI><B>Deny</B>
. Specifies that if the relationship's source (for instance, a Talent) has any destination objects (MovieRoles), then the source object can't be deleted. </P>
<DIV>
</UL>
<A NAME="pgfId=29651">
 </A>
</BLOCKQUOTE><B>9.  Select the stored procedures you want to include in your model.</B>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29652">
 </A>
<BLOCKQUOTE>This panel lists the stored procedures defined in your database, with all procedures selected by default.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30386">
 </A>
Click Next.</P>



<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=16916">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-17.gif">
</DIV>
</BLOCKQUOTE>

<DIV>
<BR><H3 CLASS="3HeadSplit">
<A NAME="pgfId=16886">
 </A>
<A NAME="34223">
 </A>
Selecting the Application Template</H3>
<P CLASS="Body">
<A NAME="pgfId=17083">
 </A>
After you create a model or choose an existing one, the wizard displays a final screen that lets you select the type of template to use for your project.</P>
<DIV>

<A NAME="pgfId=29661">
 </A>
</BLOCKQUOTE><B>10.  Select the template project to use for the Java Client application.</B>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29662">
 </A>
<BLOCKQUOTE>Make sure the EOF Application Skeleton radio button is selected.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29663">
 </A>
Click Finish.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=16932">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-18.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=16887">
 </A>
</BLOCKQUOTE>The EOF Application Skeleton creates an application project with a &quot;blank&quot; user interface; you must construct the interface by hand in Interface Builder. For StudioManager, this is the option you want. The other two options automatically generate different types of interfaces:</P>
<P CLASS="BodyBulletLg">
<A NAME="pgfId=16803">
 </A>
<UL><LI>Single Table. The wizard guides you through the creation of an application with a single EODisplayGroup represented in a single table view.</P>
<P CLASS="BodyBulletLg">
<A NAME="pgfId=20595">
 </A>
<LI>Master Detail. The wizard guides you through the creation of an application that has a master-detail interface.</P>
<P CLASS="Body">
<A NAME="pgfId=20596">
 </A>
</UL>For more on the last two options, see &quot;Creating a WebObjects Database Application&quot; in <EM CLASS="Italic">
Getting Started With WebObjects</EM>
.

</DIV>
<HR>Â© 1999 Apple Computer, Inc. <P><A HREF="CSJ_Tutorial.b.html">Previous</A> | <A HREF="CSJ_Tutorial.b.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.d.html">Next</A></P>

<!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
