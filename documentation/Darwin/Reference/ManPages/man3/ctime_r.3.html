<html><head><title>Mac OS X
 Manual Page For ctime_r(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/ctime_r" title="Mac OS X
 Manual Page for ctime_r(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/ctime_r"; name=ctime_r(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
CTIME(3)                 BSD Library Functions Manual                 <!-- a -->CTIME(3)<!-- /a -->

<b>NAME</b>
     <b>asctime</b>, <b>asctime_r</b>, <b>ctime</b>, <b>ctime_r</b>, <b>difftime</b>, <b>gmtime</b>, <b>gmtime_r</b>, <b>localtime</b>, <b>localtime_r</b>, <b>mktime</b>, <b>timegm</b>
     -- transform binary date and time values

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;time.h&gt;</b>

     <u>extern</u> <u>char</u> <u>*tzname[2]</u>;

     <u>char</u> <u>*</u>
     <b>asctime</b>(<u>const</u> <u>struct</u> <u>tm</u> <u>*timeptr</u>);

     <u>char</u> <u>*</u>
     <b>asctime_r</b>(<u>const</u> <u>struct</u> <u>tm</u> <u>*restrict</u> <u>timeptr</u>, <u>char</u> <u>*restrict</u> <u>buf</u>);

     <u>char</u> <u>*</u>
     <b>ctime</b>(<u>const</u> <u>time</u><b>_</b><u>t</u> <u>*clock</u>);

     <u>char</u> <u>*</u>
     <b>ctime_r</b>(<u>const</u> <u>time</u><b>_</b><u>t</u> <u>*clock</u>, <u>char</u> <u>*buf</u>);

     <u>double</u>
     <b>difftime</b>(<u>time</u><b>_</b><u>t</u> <u>time1</u>, <u>time</u><b>_</b><u>t</u> <u>time0</u>);

     <u>struct</u> <u>tm</u> <u>*</u>
     <b>gmtime</b>(<u>const</u> <u>time</u><b>_</b><u>t</u> <u>*clock</u>);

     <u>struct</u> <u>tm</u> <u>*</u>
     <b>gmtime_r</b>(<u>const</u> <u>time</u><b>_</b><u>t</u> <u>*clock</u>, <u>struct</u> <u>tm</u> <u>*result</u>);

     <u>struct</u> <u>tm</u> <u>*</u>
     <b>localtime</b>(<u>const</u> <u>time</u><b>_</b><u>t</u> <u>*clock</u>);

     <u>struct</u> <u>tm</u> <u>*</u>
     <b>localtime_r</b>(<u>const</u> <u>time</u><b>_</b><u>t</u> <u>*clock</u>, <u>struct</u> <u>tm</u> <u>*result</u>);

     <u>time</u><b>_</b><u>t</u>
     <b>mktime</b>(<u>struct</u> <u>tm</u> <u>*timeptr</u>);

     <u>time</u><b>_</b><u>t</u>
     <b>timegm</b>(<u>struct</u> <u>tm</u> <u>*timeptr</u>);

<b>DESCRIPTION</b>
     The functions <b>ctime</b>(), <b>gmtime</b>(), and <b>localtime</b>() all take as an argument a time value representing the
     time in seconds since the Epoch (00:00:00 UTC, January 1, 1970; see <a href="time.3.html#//apple_ref/doc/man/3/time">time(3)</a>).

     The function <b>localtime</b>() converts the time value pointed at by <u>clock</u>.  It returns a pointer to a
     ``<u>struct</u> <u>tm</u>'' (described below), which contains the broken-out time information for the value after
     adjusting for the current time zone (and any other factors such as Daylight Saving Time).  Time zone
     adjustments are performed as specified by the TZ environment variable (see <a href="tzset.3.html#//apple_ref/doc/man/3/tzset">tzset(3)</a>).  The function
     <b>localtime</b>() uses <a href="tzset.3.html#//apple_ref/doc/man/3/tzset">tzset(3)</a> to initialize time conversion information, if <a href="tzset.3.html#//apple_ref/doc/man/3/tzset">tzset(3)</a> has not already been
     called by the process.

     After filling in the tm structure, <b>localtime</b>() sets the <u>tm</u><b>_</b><u>isdst</u>'th element of <u>tzname</u> to a pointer to
     an ASCII string containing the time zone abbreviation to be used with <b>localtime</b>()'s return value.

     The function <b>gmtime</b>() also converts the time value, but makes no time zone adjustment.  It returns a
     pointer to a tm structure (described below).

     The <b>ctime</b>() function adjusts the time value for the current time zone, in the same manner as
     <b>localtime</b>().  It returns a pointer to a 26-character string of the form:

           Thu Nov 24 18:22:48 1986\n\0

     All of the fields have constant width.

     The <b>ctime_r</b>() function provides the same functionality as <b>ctime</b>(), except that the caller must provide
     the output buffer <u>buf</u> (which must be at least 26 characters long) to store the result.  The
     <b>localtime_r</b>() and <b>gmtime_r</b>() functions provide the same functionality as <b>localtime</b>() and <b>gmtime</b>(),
     respectively, except the caller must provide the output buffer <u>result</u>.

     The <b>asctime</b>() function converts the broken-out time in the structure <u>tm</u> (pointed at by <u>*timeptr</u>) to the
     form shown in the example above.

     The <b>asctime_r</b>() function provides the same functionality as <b>asctime</b>(), except that the caller provides
     the output buffer <u>buf</u> (which must be at least 26 characters long) to store the result.

     The functions <b>mktime</b>() and <b>timegm</b>() convert the broken-out time (in the structure pointed to by
     <u>*timeptr</u>) into a time value with the same encoding as that of the values returned by the <a href="time.3.html#//apple_ref/doc/man/3/time">time(3)</a> func-<font color="#ffffff" class="whiteout">tion&nbsp;function</font>
     tion (that is, seconds from the Epoch, UTC).  The <b>mktime</b>() function interprets the input structure
     according to the current timezone setting (see <a href="tzset.3.html#//apple_ref/doc/man/3/tzset">tzset(3)</a>).  The <b>timegm</b>() function interprets the input
     structure as representing Universal Coordinated Time (UTC).

     The original values of the <u>tm</u><b>_</b><u>wday</u> and <u>tm</u><b>_</b><u>yday</u> components of the structure are ignored. The original
     values of the other components are not restricted to their normal ranges and will be normalized, if
     need be.  For example, October 40 is changed into November 9, a <u>tm</u><b>_</b><u>hour</u> of -1 means 1 hour before mid-<font color="#ffffff" class="whiteout">night,&nbsp;midnight,</font>
     night, <u>tm</u><b>_</b><u>mday</u> of 0 means the day preceding the current month, and <u>tm</u><b>_</b><u>mon</u> of -2 means 2 months before
     January of <u>tm</u><b>_</b><u>year</u>.  (A positive or zero value for <u>tm</u><b>_</b><u>isdst</u> causes <b>mktime</b>() to presume initially that
     summer time (for example, Daylight Saving Time) is or is not (respectively) in effect for the specified
     time.  A negative value for <u>tm</u><b>_</b><u>isdst</u> causes the <b>mktime</b>() function to attempt to divine whether summer
     time is in effect for the specified time.  The <u>tm</u><b>_</b><u>isdst</u> and <u>tm</u><b>_</b><u>gmtoff</u> members are forced to zero by
     <b>timegm</b>().)

     On successful completion, the values of the <u>tm</u><b>_</b><u>wday</u> and <u>tm</u><b>_</b><u>yday</u> components of the structure are set
     appropriately, and the other components are set to represent the specified calendar time, but with
     their values forced to their normal ranges; the final value of <u>tm</u><b>_</b><u>mday</u> is not set until <u>tm</u><b>_</b><u>mon</u> and
     <u>tm</u><b>_</b><u>year</u> are determined.  The <b>mktime</b>() function returns the specified calendar time; if the calendar
     time cannot be represented, it returns -1;

     The <b>difftime</b>() function returns the difference between two calendar times, (<u>time1</u> - <u>time0</u>), expressed
     in seconds.

     External declarations, as well as the tm structure definition, are contained in the &lt;<u>time.h&gt;</u> include
     file.  The tm structure includes at least the following fields:

           int tm_sec;     /* seconds (0 - 60) */
           int tm_min;     /* minutes (0 - 59) */
           int tm_hour;    /* hours (0 - 23) */
           int tm_mday;    /* day of month (1 - 31) */
           int tm_mon;     /* month of year (0 - 11) */
           int tm_year;    /* year - 1900 */
           int tm_wday;    /* day of week (Sunday = 0) */
           int tm_yday;    /* day of year (0 - 365) */
           int tm_isdst;   /* is summer time in effect? */
           char *tm_zone;  /* abbreviation of timezone name */
           long tm_gmtoff; /* offset from UTC in seconds */

     The field <u>tm</u><b>_</b><u>isdst</u> is non-zero if summer (i.e., Daylight Saving) time is in effect.

     The field <u>tm</u><b>_</b><u>gmtoff</u> is the offset (in seconds) of the time represented from UTC, with positive values
     indicating locations east of the Prime Meridian.

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/date.1.html#//apple_ref/doc/man/1/date">date(1)</a>, <a href="../man2/gettimeofday.2.html#//apple_ref/doc/man/2/gettimeofday">gettimeofday(2)</a>, <a href="getenv.3.html#//apple_ref/doc/man/3/getenv">getenv(3)</a>, <a href="time.3.html#//apple_ref/doc/man/3/time">time(3)</a>, <a href="tzset.3.html#//apple_ref/doc/man/3/tzset">tzset(3)</a>, <a href="../man5/tzfile.5.html#//apple_ref/doc/man/5/tzfile">tzfile(5)</a>

<b>STANDARDS</b>
     The <b>asctime</b>(), <b>ctime</b>(), <b>difftime</b>(), <b>gmtime</b>(), <b>localtime</b>(), and <b>mktime</b>() functions conform to ISO/IEC
     9899:1990 (``ISO C90''), and conform to ISO/IEC 9945-1:1996 (``POSIX.1'') provided the selected local
     timezone does not contain a leap-second table (see <a href="../man8/zic.8.html#//apple_ref/doc/man/8/zic">zic(8)</a>).

     The <b>asctime_r</b>(), <b>ctime_r</b>(), <b>gmtime_r</b>(), and <b>localtime_r</b>() functions are expected to conform to ISO/IEC
     9945-1:1996 (``POSIX.1'') (again provided the selected local timezone does not contain a leap-second
     table).

     The <b>timegm</b>() function is not specified by any standard; its function cannot be completely emulated
     using the standard functions described above.

<b>HISTORY</b>
     This manual page is derived from the time package contributed to Berkeley by Arthur Olson and which
     appeared in 4.3BSD.

<b>BUGS</b>
     Except for <b>difftime</b>(), <b>mktime</b>(), and the <b>_r</b>() variants of the other functions, these functions leaves
     their result in an internal static object and return a pointer to that object.  Subsequent calls to
     these function will modify the same object.

     The C Standard provides no mechanism for a program to modify its current local timezone setting, and
     the POSIX-standard method is not reentrant.  (However, thread-safe implementations are provided in the
     POSIX threaded environment.)

     The <u>tm</u><b>_</b><u>zone</u> field of a returned <u>tm</u> structure points to a static array of characters, which will also be
     overwritten by any subsequent calls (as well as by subsequent calls to <a href="tzset.3.html#//apple_ref/doc/man/3/tzset">tzset(3)</a> and <a href="tzsetwall.3.html#//apple_ref/doc/man/3/tzsetwall">tzsetwall(3)</a>).

     Use of the external variable <u>tzname</u> is discouraged; the <u>tm</u><b>_</b><u>zone</u> entry in the tm structure is preferred.

BSD                             January 2, 1999                            BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/ctime_r.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/ctime_r.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/ctime_r.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
