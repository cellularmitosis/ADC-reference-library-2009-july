<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>PowerPC Floating-Point Architecture(IM:PN)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING146></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCNumerics-145.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCNumerics-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCNumerics-192.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCNumerics-147.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCNumerics-2.html"><B>PowerPC Numerics </B></A> / <A HREF="PPCNumerics-144.html"><B>Part 3 - Numerics in PowerPC Assembly Language</B></A><BR><DD><A HREF="PPCNumerics-145.html"><B>Chapter 11 - Introduction to Assembly-Language Numerics</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING146-0></A>
<H1>PowerPC Floating-Point Architecture</H1>
 This section describes those pieces of the PowerPC architecture used in floating-point operations, which include<P>
<UL>
<LI>floating-point data formats
<LI>floating-point registers
<LI>floating-point special-purpose registers
<LI>the Machine State Register<P>
</UL>
<A NAME=HEADING146-6></A>
<H2>Floating-Point Data Formats</H2>
 <A NAME=MARKER-2-5></A>The PowerPC architecture supports only the single and double floating-point data formats. These formats can represent normalized numbers, denormalized numbers, zeros, NaNs, and Infinities, and are interpreted exactly as described in <A HREF=PPCNumerics-49.html#MARKER-9-18>Chapter 2, "Floating-Point Data Formats."</A> The double-double data format is implemented in software and therefore is not a valid format in PowerPC hardware.<P>
 The PowerPC hardware is double-based. This means that when you load a single-format number into a register, it is automatically converted to double format. In addition, all arithmetic operations are performed on double-format numbers unless they are specifically forced to be performed on single-format numbers. <A NAME=MARKER-2-14></A><P>
<A NAME=HEADING146-9></A>
<H2>Floating-Point Registers</H2>
 <A NAME=MARKER-2-26></A>The PowerPC architecture contains thirty-two 64-bit floating-point registers labeled F0 through F31 (or FP0 through FP31). Because the registers are 64 bits long, they store values using the double data format.<A NAME=MARKER-2-24></A><P>
<A NAME=HEADING146-11></A>
<H2>Floating-Point Special-Purpose Registers</H2>
 <A NAME=MARKER-2-23></A>The two special-purpose registers that affect floating-point operations are the Floating-Point Status and Control Register and the Condition Register.<P>
 The <B>Floating-Point Status and Control Register (FPSCR)</B> is a 32-bit register that stores the current state of the floating-point environment. It specifies the current rounding direction and notes whether any floating-point exceptions are enabled and whether any floating-point exceptions have occurred. <B><A NAME=MARKER-2-42></A></B><P>
 <A NAME=MARKER-2-30></A>The <B>Condition Register</B> is a 32-bit register that stores the current state of the entire PowerPC processor. It is grouped into eight 4-bit fields labeled CR0 through CR7. Field CR1 reflects the results of floating-point operations. You may also specify one of the Condition Register fields as a place to store the result of a floating-point comparison operation or the result of a floating-point environment manipulation operation.<A NAME=MARKER-2-49></A><P>
 The FPSCR and the Condition Register are discussed more fully in <A HREF=PPCNumerics-150.html#MARKER-9-32>Chapter 12, "Assembly-Language Environmental Controls."</A><A NAME=MARKER-9-1></A><P>
<A NAME=HEADING146-16></A>
<H2>The Machine State Register</H2>
 The <B>Machine State Register</B> is a 32-bit supervisor-level register that reflects the current state of the entire PowerPC processor. It differs from the Condition Register in that it is accessible only by supervisor-level software and in that it stores the processor state in a different way. The Machine State Register contains 3 bits that control floating-point computations: <P>
<UL>
<LI>Bit 18 specifies whether the floating-point instructions are available. If bit 18 is 0, the processor cannot execute floating-point instructions. 
<LI>Bits 20 and 23 specify whether floating-point exceptions are enabled. If both of these bits are 0, floating-point instructions will not raise any floating-point exceptions. If either of these bits is set, instructions can raise floating-point exceptions.<P>
</UL>

</BLOCKQUOTE>
<HR>
<center>
<A HREF="PPCNumerics-145.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCNumerics-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCNumerics-192.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCNumerics-147.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="PPCNumerics-3.html">&copy; Apple Computer, Inc.</A><br>13 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
