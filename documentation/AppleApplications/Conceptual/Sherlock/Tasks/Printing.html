<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Sherlock Channels (Legacy): Printing Your Channel&acirc;&#128;&#153;s Content</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Printing Your Channel&acirc;&#128;&#153;s Content"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001088" title="Printing Your Channel&acirc;&#128;&#153;s Content"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/InternetWeb-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000526" target="_top">Internet &amp; Web</a> &gt; <a href="../index.html" target="_top">Sherlock Channels (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="InstallingAccessing.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CreatingWebServices.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
Sherlock is unsupported in Mac OS X v10.5 and later.</p></div></div></div>
        <a name="//apple_ref/doc/uid/20001088-SW1" title="Printing Your Channel&acirc;&#128;&#153;s Content"></a><hr /><H1><a name="//apple_ref/doc/uid/20001088-BCIIDJDC" title="Printing Your Channel&acirc;&#128;&#153;s Content"></a>Printing Your Channel’s Content</H1><p>This article describes Sherlock’s printing support for channels. Sherlock provides both default and custom printing support for channels. With the default support, Sherlock sends a snapshot of your channel’s interface to the printer when the user selects the Print command. Default printing happens automatically and requires no effort on your part. </p><p>If you want to alter the appearance of your channel prior to printing, you must add code to implement custom printing. With custom printing, you can make minor changes to your channel’s existing interface or use a completely separate view to display your data.</p><p>This article covers the steps needed to support custom printing in your channel.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Printing.html#//apple_ref/doc/uid/20001088-109975">Supporting Custom Printing</a>
				
			<br/>
			
        
			
			
				<a href="Printing.html#//apple_ref/doc/uid/20001088-110292-BABIDJHH">Using a Custom Print View</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001088-109975" title="Supporting Custom Printing"></a><h2>Supporting Custom Printing</h2><p>Custom printing lets you adjust the content and display of your channel prior to it being rendered for the printer. You do not need to implement custom printing support if you want to display the existing contents of your channel without modification. However, if you want to make modifications to content or use a different view for printing, you must enable custom printing. </p><p>To enable custom printing, you must tell Sherlock that your channel supports it. To do this, you assign a non-zero value to the <code>customPrint</code> path in the data store. You should do this in your channel’s initialization code, as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;initialize language="JavaScript"><span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("customPrint", 1);<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/initialize><span></span></pre></td></tr></table></div><p>Assigning a value to <code>customPrint</code> tells Sherlock that your channel defines a trigger to handle printing. The trigger you define must respond to the <code>print</code> path, which Sherlock notifies when it receives a print request. In your trigger, you can adjust the content or print specific portions of your channel. For example, if you want to print the contents of only one subview, you can use your print trigger to reroute the print notification to that subview. The following example reroutes the print notification to the search results table of the channel to print only the search results. </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;trigger language="JavaScript" path="print"><span></span></pre></td></tr><tr><td scope="row"><pre>    /* Print only the results table. */<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Notify("MyChannel.ResultsTable.print");<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/trigger><span></span></pre></td></tr></table></div><p>If you plan to make significant changes to a channel’s printed content, or if you want to rearrange controls in your main view, do not try to use the print trigger alone. For significant printing changes, it is better to define a custom print view to handle printing. For information on custom print views, see <span class="content_text"><a href="Printing.html#//apple_ref/doc/uid/20001088-110292">“Using a Custom Print View.”</a></span></p><a name="//apple_ref/doc/uid/20001088-110292" title="Using a Custom Print View"></a><a name="//apple_ref/doc/uid/20001088-110292-BABIDJHH" title="Using a Custom Print View"></a><h2>Using a Custom Print View</h2><p>If you want to present a different interface for printing than you do for general display, you can do it using a custom print view. A custom print view is another view you create using Interface Builder and store in your channel’s nib file. Sherlock loads this view with the rest of the nib file and calls your channel’s print trigger at print time to prepare the view for printing.</p><p>A custom print view must be an entirely separate view hierarchy from your channel’s main display view. Your print view should contain only those elements you want to be printed. You do not have to have a one-to-one correspondence between controls in your display view and print views. You can even use completely different controls in the two views as long as you know how to map information from one view to the other in your print trigger.</p><p>When you supply additional views in your nib file, such as a print view, you must tell Sherlock which view to use for displaying content. Sherlock loads all of the views in your nib file by default. If only one view is present, it uses that view for both display and printing. However, if multiple views are present, you must tell Sherlock which view is your main display view. You do this by setting the <code>mainViewIdentifier</code> path to the name of your display view during initialization, as shown in the following example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;initialize language="JavaScript"><span></span></pre></td></tr><tr><td scope="row"><pre>    /* Indicate which view is for display */<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("mainViewIdentifier", "MyDisplayView");<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /* Enable printing */<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("customPrint", 1);<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/initialize><span></span></pre></td></tr></table></div><div class="importantbox"><a name="//apple_ref/doc/uid/20001088-DontLinkElementID_11" title="Important:"></a><p><strong>Important:</strong>&nbsp;Setting the main display view is required if your nib file contains multiple views. Without this information, Sherlock may not display your channel properly. </p><p></p></div><p>In your print trigger, you can decide which view to use for printing. If you want to print from a custom view, your print trigger is responsible for populating that view with data prior to printing. When the print command is received, your channel’s main display view contains the current data to be printed. Transfer whatever data you need and then send the print notification to your custom view to begin printing. </p><p>The following example shows a complete print trigger from the Yellow Pages channel. In this example, the channel copies the selected address, driving directions, and map data over to the view named <code>PrintView</code>. Once all the data is set up, the trigger sends a notification to the path <code>PrintView.print</code> to begin printing.</p><div class="codesample"><table><tr><td scope="row"><pre> &lt;trigger language="JavaScript" path="print"><span></span></pre></td></tr><tr><td scope="row"><pre>/* set up the print view */<span></span></pre></td></tr><tr><td scope="row"><pre>selectedData = DataStore.Get("YellowPages.data.SelectedRow");<span></span></pre></td></tr><tr><td scope="row"><pre>if (selectedData == null)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("PrintView.name.stringValue", "");<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("PrintView.address.stringValue", "");<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("PrintView.phone.stringValue", "");<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>else<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("PrintView.name.stringValue", selectedData.name);<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("PrintView.address.stringValue", selectedData.address);<span></span></pre></td></tr><tr><td scope="row"><pre>    DataStore.Set("PrintView.phone.stringValue", selectedData.phone);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>mapImage = DataStore.Get("YellowPages.MapImage.data");<span></span></pre></td></tr><tr><td scope="row"><pre>DataStore.Set("PrintView.MapImage.data", mapImage);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>drivingDirections =<span></span></pre></td></tr><tr><td scope="row"><pre>        DataStore.Get("YellowPages.DrivingDirectionsTable.dataValue");<span></span></pre></td></tr><tr><td scope="row"><pre>DataStore.Set("PrintView.DrivingDirectionsTable.dataValue",<span></span></pre></td></tr><tr><td scope="row"><pre>        drivingDirections);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>/* print */<span></span></pre></td></tr><tr><td scope="row"><pre>DataStore.Notify("PrintView.print");<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/trigger><span></span></pre></td></tr></table></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="InstallingAccessing.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CreatingWebServices.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-04-09<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/Sherlock/Tasks/Printing.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/Sherlock/Tasks/Printing.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/Sherlock/Tasks/Printing.html%3Fid%3D10000121i-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
