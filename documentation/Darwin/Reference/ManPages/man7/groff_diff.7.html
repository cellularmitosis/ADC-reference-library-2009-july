<html><head><title>Mac OS X
 Manual Page For groff_diff(7)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/7/groff_diff" title="Mac OS X
 Manual Page for groff_diff(7)"><!-- headerDoc=man; indexgroup=Section 7; uid="//apple_ref/doc/man/7/groff_diff"; name=groff_diff(7) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GROFF_DIFF(7)                                                                                  GROFF_DIFF(7)



<b>NAME</b>
       groff_diff - differences between GNU troff and classical troff

<b>DESCRIPTION</b>
       This  manual page describes the language differences between <u>groff</u>, the GNU <u>roff</u> text processing sys-<font color="#ffffff" class="whiteout">tem&nbsp;system</font>
       tem and the classical <u>roff</u> formatter of the freely available Unix 7 of the 1970s, documented  in  the
       <u>Troff</u>  <u>User's</u> <u>Manual</u> by <u>Osanna</u> and <u>Kernighan</u>.  This inludes the roff language as well as the interme-<font color="#ffffff" class="whiteout">diate&nbsp;intermediate</font>
       diate output format (troff output).

       The section <u>SEE</u> <u>ALSO</u> gives pointers to both the classical <u>roff</u> and the modern <u>groff</u> documentation.

<b>GROFF</b> <b>LANGUAGE</b>
       In this section, all additional features of  <u>groff</u>  compared  to  the  classical  Unix  7  <u>troff</u>  are
       described in detail.

   <b>Long</b> <b>names</b>
       The  names  of  number  registers, fonts, strings/macros/diversions, special characters (glyphs), and
       colors can be of any length.  In escape sequences, additionally to the classical <b>(</b><u>xx</u> construction for
       a two-character name, you can use <b>[</b><u>xxx</u><b>]</b> for a name of arbitrary length.

       <b>\[</b><u>xxx</u><b>]</b> Print the special character (glyph) called <u>xxx</u>.

       <b>\[</b><u>comp1</u> <u>comp2</u> <u>...</u><b>]</b>
              Print composite glyph consisting of multiple components.  Example: `\[A ho]' is capital letter
              A with ogonek which finally maps to glyph name `u0041_0328'.  See  the  <u>groff</u>  <u>info</u>  <u>file</u>  for
              details  how  a glyph name for a composite glyph is constructed, and <a href="groff_char.7.html#//apple_ref/doc/man/7/groff_char"><b>groff_char</b>(7)</a> for list of
              glyph name components used composite glyph names.

       <b>\f[</b><u>xxx</u><b>]</b>
              Set font <u>xxx</u>.  Additionally, <b>\f[]</b> is a new syntax equal to <b>\fP</b>, i.e., to return to the  previ-<font color="#ffffff" class="whiteout">ous&nbsp;previous</font>
              ous font.

       <b>\*[</b><u>xxx</u> <u>arg1</u> <u>arg2</u> <u>...</u><b>]</b>
              Interpolate string <u>xxx</u>, taking <u>arg1</u>, <u>arg2</u>, <u>...</u> as arguments.

       <b>\n[</b><u>xxx</u><b>]</b>
              Interpolate number register <u>xxx</u>.

   <b>Fractional</b> <b>pointsizes</b>
       A  <u>scaled</u>  <u>point</u>  is equal to <b>1/sizescale</b> points, where <b>sizescale</b> is specified in the <b>DESC</b> file (1 by
       default).  There is a new scale indicator  <b>z</b>  that  has  the  effect  of  multiplying  by  sizescale.
       Requests  and  escape  sequences  in troff interpret arguments that represent a pointsize as being in
       units of scaled points, but they evaluate each such argument using a default scale  indicator  of  <b>z</b>.
       Arguments  treated  in  this  way  are  the  argument to the <b>ps</b> request, the third argument to the <b>cs</b>
       request, the second and fourth arguments to the <b>tkf</b> request, the argument to the <b>\H</b> escape  sequence,
       and those variants of the <b>\s</b> escape sequence that take a numeric expression as their argument.

       For  example,  suppose sizescale is 1000; then a scaled point will be equivalent to a millipoint; the
       call <b>.ps</b> <b>10.25</b> is equivalent to <b>.ps</b> <b>10.25z</b> and so sets the pointsize to 10250 scaled points, which is
       equal to 10.25 points.

       The  number register <b>\n[.s]</b> returns the pointsize in points as decimal fraction.  There is also a new
       number register <b>\n[.ps]</b> that returns the pointsize in scaled points.

       It would make no sense to use the <b>z</b> scale indicator in a numeric expression whose default scale indi-<font color="#ffffff" class="whiteout">cator&nbsp;indicator</font>
       cator  was  neither  <b>u</b> nor <b>z</b>, and so <b>troff</b> disallows this.  Similarly it would make no sense to use a
       scaling indicator other than <b>z</b> or <b>u</b> in a numeric expression whose default scale indicator was <b>z</b>,  and
       so <b>troff</b> disallows this as well.

       There  is  also new scale indicator <b>s</b> which multiplies by the number of units in a scaled point.  So,
       for example, <b>\n[.ps]s</b> is equal to <b>1m</b>.  Be sure not to confuse the <b>s</b> and <b>z</b> scale indicators.

   <b>Numeric</b> <b>expressions</b>
       Spaces are permitted in a number expression within parentheses.

       <b>M</b> indicates a scale of 100ths of an em.  <b>f</b> indicates a scale of 65536 units, providing fractions  for
       color definitions with the <b>defcolor</b> request.  For example, 0.5f = 32768u.

       <u>e1</u><b>&gt;?</b><u>e2</u> The maximum of <u>e1</u> and <u>e2</u>.

       <u>e1</u><b>&lt;?</b><u>e2</u> The minimum of <u>e1</u> and <u>e2</u>.

       <b>(</b><u>c</u><b>;</b><u>e</u><b>)</b>  Evaluate  <u>e</u> using <u>c</u> as the default scaling indicator.  If <u>c</u> is missing, ignore scaling indica-
              tors in the evaluation of <u>e</u>.

   <b>New</b> <b>escape</b> <b>sequences</b>
       <b>\A'</b><u>anything</u><b>'</b>
              This expands to <b>1</b> or <b>0</b> resp., depending on whether <u>anything</u> is or is  not  acceptable  as  the
              name  of  a  string,  macro, diversion, number register, environment, font, or color.  It will
              return <b>0</b> if <u>anything</u> is empty.  This is useful if you want to lookup user input in  some  sort
              of associative table.

       <b>\B'</b><u>anything</u><b>'</b>
              This  expands  to  <b>1</b>  or  <b>0</b>  resp., depending on whether <u>anything</u> is or is not a valid numeric
              expression.  It will return <b>0</b> if <u>anything</u> is empty.

       <b>\C'</b><u>xxx</u><b>'</b>
              Typeset glyph named <u>xxx</u>.  Normally it is more convenient to use <b>\[</b><u>xxx</u><b>]</b>.  But <b>\C</b> has the advan-<font color="#ffffff" class="whiteout">tage&nbsp;advantage</font>
              tage  that  it  is  compatible  with recent versions of UNIX and is available in compatibility
              mode.

       <b>\E</b>     This is equivalent to an escape character, but it is not interpreted in copy-mode.  For  exam-<font color="#ffffff" class="whiteout">ple,&nbsp;example,</font>
              ple, strings to start and end superscripting could be defined like this

                     .ds { \v'-.3m'\s'\En[.s]*6u/10u'
                     .ds } \s0\v'.3m'

              The  use  of <b>\E</b> ensures that these definitions will work even if <b>\*{</b> gets interpreted in copy-<font color="#ffffff" class="whiteout">mode&nbsp;copymode</font>
              mode (for example, by being used in a macro argument).

       <b>\F</b><u>f</u>
       <b>\F(</b><u>fm</u>
       <b>\F[</b><u>fam</u><b>]</b>
              Change font family.  This is the same as the <b>fam</b> request.  <b>\F[]</b> switches back to the  previous
              color (note that <b>\FP</b> won't work; it selects font family `P' instead).

       <b>\m</b><u>x</u>
       <b>\m(</b><u>xx</u>
       <b>\m[</b><u>xxx</u><b>]</b>
              Set drawing color.  <b>\m[]</b> switches back to the previous color.

       <b>\M</b><u>x</u>
       <b>\M(</b><u>xx</u>
       <b>\M[</b><u>xxx</u><b>]</b>
              Set  background color for filled objects drawn with the <b>\D'</b><u>...</u><b>'</b>  commands.  <b>\M[]</b> switches back
              to the previous color.

       <b>\N'</b><u>n</u><b>'</b>  Typeset the glyph with index <u>n</u> in the current font.  <u>n</u> can be any integer.  Most devices  only
              have glyphs with indices between 0 and 255.  If the current font does not contain a glyph with
              that code, special fonts will <u>not</u> be searched.  The <b>\N</b> escape  sequence  can  be  conveniently
              used in conjunction with the <b>char</b> request, for example

                     .char \[phone] \f(ZD\N'37'

              The  index  of each glyph is given in the fourth column in the font description file after the
              <b>charset</b> command.  It is possible to include unnamed glyphs in the  font  description  file  by
              using a name of <b>---</b>; the <b>\N</b> escape sequence is the only way to use these.

       <b>\O</b><u>n</u>
       <b>\O[</b><u>n</u><b>]</b>  Suppressing troff output.  The escapes <b>\02</b>, <b>\O3</b>, <b>\O4</b>, and <b>\O5</b> are intended for internal use by
              <b>grohtml</b>.

              <b>\O0</b>    Disable any ditroff glyphs from being emitted to the device driver, provided  that  the
                     escape occurs at the outer level (see <b>\O3</b> and <b>\O4</b>).

              <b>\O1</b>    Enable output of glyphs, provided that the escape occurs at the outer level.

                     <b>\O0</b> and <b>\O1</b> also reset the registers <b>\n[opminx]</b>, <b>\n[opminy]</b>, <b>\n[opmaxx]</b>, and <b>\n[opmaxy]</b>
                     to -1.  These four registers mark the top left and bottom right hand corners of  a  box
                     which encompasses all written glyphs.

              <b>\O2</b>    Provided  that  the  escape occurs at the outer level, enable output of glyphs and also
                     write out to stderr the page number and four registers encompassing the  glyphs  previ-<font color="#ffffff" class="whiteout">ously&nbsp;previously</font>
                     ously written since the last call to <b>\O</b>.

              <b>\O3</b>    Begin a nesting level.  At start-up, <b>troff</b> is at outer level.  This is really an inter-<font color="#ffffff" class="whiteout">nal&nbsp;internal</font>
                     nal mechanism for <b>grohtml</b> while producing images.  They are generated  by  running  the
                     troff  source  through <b>troff</b> to the postscript device and <b>ghostscript</b> to produce images
                     in PNG format.  The <b>\O3</b> escape will start a new page if the  device  is  not  html  (to
                     reduce the possibility of images crossing a page boundary).

              <b>\O4</b>    End a nesting level.

              <b>\O5[</b><u>Pfilename</u><b>]</b>
                     This escape is <b>grohtml</b> specific.  Provided that this escape occurs at the outer nesting
                     level, write <u>filename</u> to stderr.  The position of the image, <u>P</u>, must be  specified  and
                     must be one of l, r, c, or i (left, right, centered, inline).  <u>filename</u> will be associ-<font color="#ffffff" class="whiteout">ated&nbsp;associated</font>
                     ated with the production of the next inline image.

       <b>\R'</b><u>name</u> <u>+-n</u><b>'</b>
              This has the same effect as

                     <b>.nr</b> <u>name</u> <u>+-n</u>

       <b>\s(</b><u>nn</u>
       <b>\s+-(</b><u>nn</u>
              Set the point size to <u>nn</u> points; <u>nn</u> must be exactly two digits.

       <b>\s[+-</b><u>n</u><b>]</b>
       <b>\s+-[</b><u>n</u><b>]</b>
       <b>\s'+-</b><u>n</u><b>'</b>
       <b>\s+-'</b><u>n</u><b>'</b>
              Set the point size to <u>n</u> scaled points; <u>n</u> is a numeric expression with a default scale  indica-<font color="#ffffff" class="whiteout">tor&nbsp;indicator</font>
              tor of <b>z</b>.

       <b>\V</b><u>x</u>
       <b>\V(</b><u>xx</u>
       <b>\V[</b><u>xxx</u><b>]</b>
              Interpolate  the  contents  of  the environment variable <u>xxx</u>, as returned by <a href="../man3/getenv.3.html#//apple_ref/doc/man/3/getenv"><b>getenv</b>(3)</a>.  <b>\V</b> is
              interpreted in copy-mode.

       <b>\Y</b><u>x</u>
       <b>\Y(</b><u>xx</u>
       <b>\Y[</b><u>xxx</u><b>]</b>
              This is approximately equivalent to <b>\X'\*[</b><u>xxx</u><b>]'</b>.  However the contents of the string or  macro
              <u>xxx</u> are not interpreted; also it is permitted for <u>xxx</u> to have been defined as a macro and thus
              contain newlines (it is not permitted for the argument to <b>\X</b> to contain newlines).  The inclu-<font color="#ffffff" class="whiteout">sion&nbsp;inclusion</font>
              sion of newlines requires an extension to the UNIX troff output format, and will confuse driv-<font color="#ffffff" class="whiteout">ers&nbsp;drivers</font>
              ers that do not know about this extension.

       <b>\Z'</b><u>anything</u><b>'</b>
              Print anything and then restore the horizontal and vertical position; <u>anything</u> may not contain
              tabs or leaders.

       <b>\$0</b>    The  name  by which the current macro was invoked.  The <b>als</b> request can make a macro have more
              than one name.

       <b>\$*</b>    In a macro or string, the concatenation of all the arguments separated by spaces.

       <b>\$@</b>    In a macro or string, the concatenation of all the arguments with each  surrounded  by  double
              quotes, and separated by spaces.

       <b>\$(</b><u>nn</u>
       <b>\$[</b><u>nnn</u><b>]</b>
              In a macro or string, this gives the <u>nn</u>-th or <u>nnn</u>-th argument.  Macros and strings can have an
              unlimited number of arguments.

       <b>\?</b><u>anything</u><b>\?</b>
              When used in a diversion, this will transparently embed <u>anything</u> in the  diversion.   <u>anything</u>
              is  read  in copy mode.  When the diversion is reread, <u>anything</u> will be interpreted.  <u>anything</u>
              may not contain newlines; use <b>\!</b> if you want to embed newlines in  a  diversion.   The  escape
              sequence <b>\?</b> is also recognised in copy mode and turned into a single internal code; it is this
              code that terminates <u>anything</u>.  Thus

                     .nr x 1
                     .nf
                     .di d
                     \?\\?\\\\?\\\\\\\\nx\\\\?\\?\?
                     .di
                     .nr x 2
                     .di e
                     .d
                     .di
                     .nr x 3
                     .di f
                     .e
                     .di
                     .nr x 4
                     .f

              will print <b>4</b>.

       <b>\/</b>     This increases the width of the preceding glyph so that the spacing between that glyph and the
              following glyph will be correct if the following glyph is a roman glyph.  It is a good idea to
              use this escape sequence whenever an italic glyph is immediately followed  by  a  roman  glyph
              without any intervening space.

       <b>\,</b>     This  modifies  the  spacing of the following glyph so that the spacing between that glyph and
              the preceding glyph will correct if the preceding glyph is a roman glyph.  It is a  good  idea
              to  use this escape sequence whenever a roman glyph is immediately followed by an italic glyph
              without any intervening space.

       <b>\)</b>     Like <b>\&amp;</b> except that it behaves like a character declared with the <b>cflags</b> request to be  trans-<font color="#ffffff" class="whiteout">parent&nbsp;transparent</font>
              parent for the purposes of end-of-sentence recognition.

       <b>\~</b>     This  produces  an unbreakable space that stretches like a normal inter-word space when a line
              is adjusted.

       <b>\:</b>     This causes the insertion of a zero-width break point.  It is equal to <b>\%</b> within  a  word  but
              without insertion of a soft hyphen character.

       <b>\#</b>     Everything up to and including the next newline is ignored.  This is interpreted in copy mode.
              It is like <b>\"</b> except that <b>\"</b> does not ignore the terminating newline.

   <b>New</b> <b>requests</b>
       <b>.aln</b> <u>xx</u> <u>yy</u>
              Create an alias <u>xx</u> for number register object named <u>yy</u>.  The new name and the old name will be
              exactly  equivalent.   If  <u>yy</u>  is  undefined, a warning of type <b>reg</b> will be generated, and the
              request will be ignored.

       <b>.als</b> <u>xx</u> <u>yy</u>
              Create an alias <u>xx</u> for request, string, macro, or diversion object named <u>yy</u>.  The new name and
              the old name will be exactly equivalent (it is similar to a hard rather than a soft link).  If
              <u>yy</u> is undefined, a warning of type <b>mac</b> will be generated, and the  request  will  be  ignored.
              The  <b>de</b>,  <b>am</b>,  <b>di</b>,  <b>da</b>, <b>ds</b>, and <b>as</b> requests only create a new object if the name of the macro,
              diversion or string diversion is currently undefined or if it is defined to be a request; nor-<font color="#ffffff" class="whiteout">mally&nbsp;normally</font>
              mally they modify the value of an existing object.

       <b>.am1</b> <u>xx</u> <u>yy</u>
              Similar  to <b>.am</b>, but compatibility mode is switched off during execution.  To be more precise,
              a `compatibility save' token is inserted at the beginning of the macro addition, and  a  `com-<font color="#ffffff" class="whiteout">patibility&nbsp;`compatibility</font>
              patibility restore' token at the end.  As a consequence, the requests <b>am</b>, <b>am1</b>, <b>de</b>, and <b>de1</b> can
              be intermixed freely since the compatibility save/restore tokens only affect the  macro  parts
              defined by <b>.am1</b> and <b>.ds1</b>.

       <b>.ami</b> <u>xx</u> <u>yy</u>
              Append to macro indirectly.  See the <b>dei</b> request below for more information.

       <b>.ami1</b> <u>xx</u> <u>yy</u>
              Same as the <b>ami</b> request but compatibility mode is switched off during execution.

       <b>.as1</b> <u>xx</u> <u>yy</u>
              Similar  to <b>.as</b>, but compatibility mode is switched off during expansion.  To be more precise,
              a `compatibility save' token is inserted at the beginning of the string, and a  `compatibility
              restore'  token at the end.  As a consequence, the requests <b>as</b>, <b>as1</b>, <b>ds</b>, and <b>ds1</b> can be inter-<font color="#ffffff" class="whiteout">mixed&nbsp;intermixed</font>
              mixed freely since the compatibility save/restore tokens only affect the (sub)strings  defined
              by <b>as1</b> and <b>ds1</b>.

       <b>.asciify</b> <u>xx</u>
              This  request  `unformats' the diversion <u>xx</u> in such a way that ASCII and space characters (and
              some escape sequences) that were formatted and diverted into <u>xx</u> will be treated like  ordinary
              input  characters  when  <u>xx</u>  is reread.  Useful for diversions in conjunction with the <b>.writem</b>
              request.  It can be also used for gross hacks; for example, this

                     .tr @.
                     .di x
                     @nr n 1
                     .br
                     .di
                     .tr @@
                     .asciify x
                     .x

              will set register <b>n</b> to 1.  Note that glyph information (font, font size,  etc.)  is  not  pre-<font color="#ffffff" class="whiteout">served;&nbsp;preserved;</font>
              served; use <b>.unformat</b> instead.

       <b>.backtrace</b>
              Print a backtrace of the input stack on stderr.

       <b>.blm</b> <u>xx</u>
              Set  the  blank  line  macro to <u>xx</u>.  If there is a blank line macro, it will be invoked when a
              blank line is encountered instead of the usual troff behaviour.

       <b>.box</b> <u>xx</u>
       <b>.boxa</b> <u>xx</u>
              These requests are similar to the <b>di</b> and <b>da</b> requests  with  the  exception  that  a  partially
              filled  line  will  not become part of the diversion (i.e., the diversion always starts with a
              new line) but restored after ending the diversion, discarding the partially filled line  which
              possibly comes from the diversion.

       <b>.break</b> Break  out of a while loop.  See also the <b>while</b> and <b>continue</b> requests.  Be sure not to confuse
              this with the <b>br</b> request.

       <b>.brp</b>   This is the same as <b>\p</b>.

       <b>.cflags</b> <u>n</u> <u>c1</u> <u>c2...</u>
              Characters <u>c1</u>, <u>c2</u>,... have properties determined by <u>n</u>, which is ORed from the following:

              1      The character ends sentences (initially characters <b>.?!</b> have this property).

              2      Lines can be broken before the character (initially no characters have this  property);
                     a  line  will  not be broken at a character with this property unless the characters on
                     each side both have non-zero hyphenation codes.

              4      Lines can be broken after the character (initially  characters  <b>-\[hy]\[em]</b>  have  this
                     property); a line will not be broken at a character with this property unless the char-<font color="#ffffff" class="whiteout">acters&nbsp;characters</font>
                     acters on each side both have non-zero hyphenation codes.

              8      The  character  overlaps  horizontally  (initially  characters   <b>\[ul]\[rn]\[ru]\[radi</b>-<font color="#ffffff" class="whiteout">calex]\[sqrtex]&nbsp;\[ul]\[rn]\[ru]\[radicalex]\[sqrtex]</font>
                     <b>calex]\[sqrtex]</b> have this property).

              16     The character overlaps vertically (initially character <b>\[br]</b> has this property).

              32     An  end-of-sentence  character  followed by any number of characters with this property
                     will be treated as the end of a sentence if followed by a newline  or  two  spaces;  in
                     other  words  the character is transparent for the purposes of end-of-sentence recogni-<font color="#ffffff" class="whiteout">tion;&nbsp;recognition;</font>
                     tion; this is the same as having a zero  space  factor  in  TeX  (initially  characters
                     <b>"')]*\(dg\(rq</b> have this property).

       <b>.char</b> <u>c</u> <u>string</u>
              Define glyph <u>c</u> to be <u>string</u>.  Every time glyph <u>c</u> needs to be printed, <u>string</u> will be processed
              in a temporary environment and the result will be wrapped up into a single  object.   Compati-<font color="#ffffff" class="whiteout">bility&nbsp;Compatibility</font>
              bility mode will be turned off and the escape character will be set to <b>\</b> while <u>string</u> is being
              processed.  Any emboldening, constant spacing or track kerning will be applied to this  object
              rather than to individual glyphs in <u>string</u>.

              A  glyph  defined  by this request can be used just like a normal glyph provided by the output
              device.  In particular other characters can be translated to it with the <b>tr</b> request; it can be
              made the leader character by the <b>lc</b> request; repeated patterns can be drawn with the character
              using the <b>\l</b> and <b>\L</b> escape sequences; words containing the character can  be  hyphenated  cor-<font color="#ffffff" class="whiteout">rectly,&nbsp;correctly,</font>
              rectly, if the <b>hcode</b> request is used to give the character a hyphenation code.

              There  is a special anti-recursion feature: Use of glyph within the glyph's definition will be
              handled like normal glyphs not defined with <b>char</b>.

              A glyph definition can be removed with the <b>rchar</b> request.

       <b>.chop</b> <u>xx</u>
              Chop the last element off macro, string, or diversion <u>xx</u>.  This is  useful  for  removing  the
              newline from the end of diversions that are to be interpolated as strings.

       <b>.close</b> <u>stream</u>
              Close  the  stream  named <u>stream</u>; <u>stream</u> will no longer be an acceptable argument to the <b>write</b>
              request.  See the <b>open</b> request.

       <b>.composite</b> <u>glyph1</u> <u>glyph2</u>
              Map glyph name <u>glyph1</u> to glyph name <u>glyph2</u> if it is used in <b>\[</b><u>...</u><b>]</b>  with more than one  compo-<font color="#ffffff" class="whiteout">nent.&nbsp;component.</font>
              nent.

       <b>.continue</b>
              Finish the current iteration of a while loop.  See also the <b>while</b> and <b>break</b> requests.

       <b>.color</b> <u>n</u>
              If <u>n</u> is non-zero or missing, enable colors (this is the default), otherwise disable them.

       <b>.cp</b> <u>n</u>  If  <u>n</u> is non-zero or missing, enable compatibility mode, otherwise disable it.  In compatibil-<font color="#ffffff" class="whiteout">ity&nbsp;compatibility</font>
              ity mode, long names are not recognised, and the incompatibilities caused by long names do not
              arise.

       <b>.defcolor</b> <u>xxx</u> <u>scheme</u> <u>color</u><b>_</b><u>components</u>
              Define  color.   <u>scheme</u> can be one of the following values: <b>rgb</b> (three components), <b>cym</b> (three
              components), <b>cmyk</b> (four components), and <b>gray</b> or <b>grey</b> (one component).  Color  components  can
              be  given either as a hexadecimal string or as positive decimal integers in the range 0-65535.
              A hexadecimal string contains all color components concatenated; it must start with  either  <b>#</b>
              or  <b>##</b>.   The  former specifies hex values in the range 0-255 (which are internally multiplied
              by 257), the latter in the range 0-65535.  Examples: #FFC0CB (pink), ##ffff0000ffff (magenta).
              A  new scaling indicator <b>f</b> has been introduced which multiplies its value by 65536; this makes
              it convenient to specify color components as fractions in the range 0 to 1.  Example:

                     .defcolor darkgreen rgb 0.1f 0.5f 0.2f

              Note that <b>f</b> is the default scaling indicator for the <b>defcolor</b> request, thus the  above  state-<font color="#ffffff" class="whiteout">ment&nbsp;statement</font>
              ment is equivalent to

                     .defcolor darkgreen rgb 0.1 0.5 0.2

              The  color  named  <b>default</b> (which is device-specific) can't be redefined.  It is possible that
              the default color for <b>\M</b> and <b>\m</b> is not the same.

       <b>.de1</b> <u>xx</u> <u>yy</u>
              Similar to <b>.de</b>, but compatibility mode is switched off during execution.  On entry,  the  cur-<font color="#ffffff" class="whiteout">rent&nbsp;current</font>
              rent compatibility mode is saved and restored at exit.

       <b>.dei</b> <u>xx</u> <u>yy</u>
              Define macro indirectly.  The following example

                     .ds xx aa
                     .ds yy bb
                     .dei xx yy

              is equivalent to

                     .de aa bb

       <b>.dei1</b> <u>xx</u> <u>yy</u>
              Similar to the <b>dei</b> request but compatibility mode is switched off during execution.

       <b>.do</b> <u>xxx</u>
              Interpret <u>.xxx</u> with compatibility mode disabled.  For example,

                     .do fam T

              would have the same effect as

                     .fam T

              except that it would work even if compatibility mode had been enabled.  Note that the previous
              compatibility mode is restored before any files sourced by <u>xxx</u> are interpreted.

       <b>.ds1</b> <u>xx</u> <u>yy</u>
              Similar to <b>.ds</b>, but compatibility mode is switched off during expansion.  To be more  precise,
              a  `compatibility save' token is inserted at the beginning of the string, and a `compatibility
              restore' token at the end.

       <b>.ecs</b>   Save current escape character.

       <b>.ecr</b>   Restore escape character saved with <b>ecs</b>.  Without a previous call to <b>ecs</b>, `<b>\</b>' will be the  new
              escape character.

       <b>.evc</b> <u>xx</u>
              Copy  the  contents  of  environment  <u>xx</u> to the current environment.  No pushing or popping of
              environments will be done.

       <b>.fam</b> <u>xx</u>
              Set the current font family to <u>xx</u>.  The current font family is part of  the  current  environ-<font color="#ffffff" class="whiteout">ment.&nbsp;environment.</font>
              ment.   If  <u>xx</u> is missing, switch back to previous font family.  The value at start-up is `T'.
              See the description of the <b>sty</b> request for more information on font families.

       <b>.fchar</b> <u>c</u> <u>string</u>
              Define fallback glyph <u>c</u> to be <u>string</u>.  The syntax of this request is  the  same  as  the  <b>char</b>
              request;  the  only difference is that a glyph defined with <b>char</b> hides the glyph with the same
              name in the current font, whereas a glyph defined with <b>fchar</b> is checked only if the particular
              glyph isn't found in the current font.  This test happens before checking special fonts.

       <b>.fcolor</b> <u>c</u>
              Set the fill color to <u>c</u>.  If <u>c</u> is missing, switch to the previous fill color.

       <b>.fschar</b> <u>f</u> <u>c</u> <u>string</u>
              Define  fallback  glyph  <u>c</u> for font <u>f</u> to be <u>string</u>.  The syntax of this request is the same as
              the <b>char</b> request (with an additional argument to specify  the  font);  a  glyph  defined  with
              <b>fschar</b>  is  searched after the list of fonts declared with the <b>fspecial</b> request but before the
              list of fonts declared with <b>special</b>.

       <b>.fspecial</b> <u>f</u> <u>s1</u> <u>s2...</u>
              When the current font is <u>f</u>, fonts <u>s1</u>, <u>s2</u>,... will be special, that is, they will searched  for
              glyphs  not  in the current font.  Any fonts specified in the <b>special</b> request will be searched
              after fonts specified in the <b>fspecial</b> request.  Without argument, reset  the  list  of  global
              special fonts to be empty.

       <b>.ftr</b> <u>f</u> <u>g</u>
              Translate  font  <u>f</u>  to <u>g</u>.  Whenever a font named <u>f</u> is referred to in an <b>\f</b> escape sequence, in
              the <b>F</b> and <b>S</b> conditional operators, or in the <b>ft</b>, <b>ul</b>, <b>bd</b>, <b>cs</b>, <b>tkf</b>, <b>special</b>,  <b>fspecial</b>,  <b>fp</b>,  or
              <b>sty</b>  requests,  font  <u>g</u>  will be used.  If <u>g</u> is missing, or equal to <u>f</u> then font <u>f</u> will not be
              translated.

       <b>.gcolor</b> <u>c</u>
              Set the glyph color to <u>c</u>.  If <u>c</u> is missing, switch to the previous glyph color.

       <b>.hcode</b> <u>c1</u> <u>code1</u> <u>c2</u> <u>code2...</u>
              Set the hyphenation code of character <u>c1</u> to <u>code1</u> and that of <u>c2</u> to <u>code2</u>.  A hyphenation code
              must  be  a  single  input  character (not a special character) other than a digit or a space.
              Initially each lower-case letter a-z has a hyphenation code, which is itself, and each  upper-<font color="#ffffff" class="whiteout">case&nbsp;uppercase</font>
              case  letter  A-Z  has a hyphenation code which is the lower-case version of itself.  See also
              the <b>hpf</b> request.

       <b>.hla</b> <u>lang</u>
              Set the current hyphenation language to <u>lang</u>.  Hyphenation exceptions specified  with  the  <b>hw</b>
              request  and  hyphenation patterns specified with the <b>hpf</b> request are both associated with the
              current hyphenation language.  The <b>hla</b> request is usually invoked by the <b>troffrc</b> file.

       <b>.hlm</b> <u>n</u> Set the maximum number of consecutive hyphenated lines to <u>n</u>.  If <u>n</u> is negative,  there  is  no
              maximum.   The  default  value  is -1.  This value is associated with the current environment.
              Only lines output from an environment count towards the maximum associated with that  environ-<font color="#ffffff" class="whiteout">ment.&nbsp;environment.</font>
              ment.  Hyphens resulting from <b>\%</b> are counted; explicit hyphens are not.

       <b>.hpf</b> <u>file</u>
              Read  hyphenation patterns from <u>file</u>; this will be searched for in the same way that <u>name</u><b>.tmac</b>
              is searched for when the <b>-m</b><u>name</u> option is specified.  It should have the same format as  (sim-<font color="#ffffff" class="whiteout">ple)&nbsp;(simple)</font>
              ple) TeX patterns files.  More specifically, the following scanning rules are implemented.

                    A percent sign starts a comment (up to the end of the line) even if preceded by a back-<font color="#ffffff" class="whiteout">slash.&nbsp;backslash.</font>
                     slash.

                    No support for `digraphs' like <b>\$</b>.

                    <b>^^</b><u>xx</u> (<u>x</u> is 0-9 or a-f) and <b>^^</b><u>x</u> (character code of <u>x</u> in the range 0-127) are recognized;
                     other use of <b>^</b> causes an error.

                    No macro expansion.

                    <b>hpf</b> checks for the expression <b>\patterns{...}</b> (possibly with whitespace before and after
                     the braces).  Everything between the braces is taken as hyphenation  patterns.   Conse-<font color="#ffffff" class="whiteout">quently,&nbsp;Consequently,</font>
                     quently, <b>{</b> and <b>}</b> are not allowed in patterns.

                    Similarly, <b>\hyphenation{...}</b> gives a list of hyphenation exceptions.

                    <b>\endinput</b> is recognized also.

                    For  backwards  compatibility,  if <b>\patterns</b> is missing, the whole file is treated as a
                     list of hyphenation patterns (only recognizing the <b>%</b> character as the start of  a  com-<font color="#ffffff" class="whiteout">ment).&nbsp;comment).</font>
                     ment).

              Use  the  <b>hpfcode</b>  request  to  map the encoding used in hyphenation patterns files to <b>groff</b>'s
              input encoding.

              The set of hyphenation patterns is associated  with  the  current  language  set  by  the  <b>hla</b>
              request.   The  <b>hpf</b> request is usually invoked by the <b>troffrc</b> file; a second call replaces the
              old patterns with the new ones.

       <b>.hpfa</b> <u>file</u>
              The same as <b>hpf</b> except that the hyphenation patterns from <u>file</u> are appended  to  the  patterns
              already loaded in the current language.

       <b>.hpfcode</b> <u>a</u> <u>b</u> <u>c</u> <u>d</u> <u>...</u>
              After reading a hyphenation patterns file with the <b>hpf</b> or <b>hpfa</b> request, convert all characters
              with character code <u>a</u> in the recently read patterns to character  code  <u>b</u>,  character  code  <u>c</u>
              to  <u>d</u>,  etc.  Initially, all character codes map to themselves.  The arguments of <b>hpfcode</b> must
              be integers in the range 0 to 255.  Note that it is even possible to use character codes which
              are invalid in <b>groff</b> otherwise.

       <b>.hym</b> <u>n</u> Set  the <u>hyphenation</u> <u>margin</u> to <u>n</u>: when the current adjustment mode is not <b>b</b>, the line will not
              be hyphenated if the line is no more than <u>n</u> short.  The default hyphenation margin is 0.   The
              default  scaling  indicator  for this request is <u>m</u>.  The hyphenation margin is associated with
              the current environment.  The current hyphenation margin is available in the  <b>\n[.hym]</b>  regis-<font color="#ffffff" class="whiteout">ter.&nbsp;register.</font>
              ter.

       <b>.hys</b> <u>n</u> Set the <u>hyphenation</u> <u>space</u> to <u>n</u>: when the current adjustment mode is <b>b</b> don't hyphenate the line
              if the line can be justified by adding no more than <u>n</u> extra space to  each  word  space.   The
              default  hyphenation  space  is  0.  The default scaling indicator for this request is <b>m</b>.  The
              hyphenation space is associated with the current environment.  The current  hyphenation  space
              is available in the <b>\n[.hys]</b> register.

       <b>.itc</b> <u>n</u> <u>macro</u>
              Variant of <b>.it</b> for which a line interrupted with <b>\c</b> counts as one input line.

       <b>.kern</b> <u>n</u>
              If <u>n</u> is non-zero or missing, enable pairwise kerning, otherwise disable it.

       <b>.length</b> <u>xx</u> <u>string</u>
              Compute the length of <u>string</u> and return it in the number register <u>xx</u> (which is not necessarily
              defined before).

       <b>.linetabs</b> <u>n</u>
              If <u>n</u> is non-zero or missing, enable  line-tabs  mode,  otherwise  disable  it  (which  is  the
              default).   In  line-tabs  mode,  tab  distances are computed relative to the (current) output
              line.  Otherwise they are taken relative to the input line.  For example, the following

                     .ds x a\t\c
                     .ds y b\t\c
                     .ds z c
                     .ta 1i 3i
                     \*x
                     \*y
                     \*z

              yields

                     a         b         c

              In line-tabs mode, the same code gives

                     a         b                   c

              Line-tabs mode is associated with the  current  environment;  the  read-only  number  register
              <b>\n[.linetabs]</b> is set to 1 if in line-tabs mode, and 0 otherwise.

       <b>.mso</b> <u>file</u>
              The  same  as the <b>so</b> request except that <u>file</u> is searched for in the same directories as macro
              files for the the <b>-m</b> command line option.  If the file  name  to  be  included  has  the  form
              <u>name</u><b>.tmac</b> and it isn't found, <b>mso</b> tries to include <b>tmac.</b><u>name</u> instead and vice versa.

       <b>.nop</b> <u>anything</u>
              Execute <u>anything</u>.  This is similar to `.if 1'.

       <b>.nroff</b> Make  the  <b>n</b> built-in condition true and the <b>t</b> built-in condition false.  This can be reversed
              using the <b>troff</b> request.

       <b>.open</b> <u>stream</u> <u>filename</u>
              Open <u>filename</u> for writing and associate the stream named <u>stream</u> with it.  See also  the  <b>close</b>
              and <b>write</b> requests.

       <b>.opena</b> <u>stream</u> <u>filename</u>
              Like <b>open</b>, but if <u>filename</u> exists, append to it instead of truncating it.

       <b>.output</b> <u>string</u>
              Emit <u>string</u> directly to the intermediate output (subject to copy-mode interpretation); this is
              similar to <b>\!</b>  used at the top level.  An initial double quote in <u>string</u> is  stripped  off  to
              allow initial blanks.

       <b>.pnr</b>   Print the names and contents of all currently defined number registers on stderr.

       <b>.psbb</b> <u>filename</u>
              Get  the bounding box of a PostScript image <u>filename</u>.  This file must conform to Adobe's Docu-<font color="#ffffff" class="whiteout">ment&nbsp;Document</font>
              ment Structuring Conventions; the command looks for a <b>%%BoundingBox</b>  comment  to  extract  the
              bounding  box  values.   After a successful call, the coordinates (in PostScript units) of the
              lower left and upper right corner can be found in the registers <b>\n[llx]</b>, <b>\n[lly]</b>, <b>\n[urx]</b>, and
              <b>\n[ury]</b>, respectively.  If some error has occurred, the four registers are set to zero.

       <b>.pso</b> <u>command</u>
              This  behaves like the <b>so</b> request except that input comes from the standard output of <u>command</u>.

       <b>.ptr</b>   Print the names and positions of all traps (not  including  input  line  traps  and  diversion
              traps)  on  stderr.   Empty  slots in the page trap list are printed as well, because they can
              affect the priority of subsequently planted traps.

       <b>.pvs</b> <u>+-n</u>
              Set the post-vertical line space to <u>n</u>; default scale indicator is <b>p</b>.  This value will be added
              to  each line after it has been output.  With no argument, the post-vertical line space is set
              to its previous value.

              The total vertical line spacing consists of four components: <b>.vs</b> and <b>\x</b> with a negative  value
              which  are  applied before the line is output, and <b>.pvs</b> and <b>\x</b> with a positive value which are
              applied after the line is output.

       <b>.rchar</b> <u>c1</u> <u>c2...</u>
              Remove the definitions of glyphs <u>c1</u>, <u>c2</u>,...  This undoes the effect of a <b>char</b> request.

       <b>.return</b>
              Within a macro, return immediately.  If called with an argument, return twice, namely from the
              current macro and from the macro one level higher.  No effect otherwise.

       <b>.rfschar</b> <u>c1</u> <u>c2...</u>
              Remove  the font-specific definitions of glyphs <u>c1</u>, <u>c2</u>,...  This undoes the effect of a <b>fschar</b>
              request.

       <b>.rj</b>
       <b>.rj</b> <u>n</u>  Right justify the next <u>n</u> input lines.  Without an argument right justify the next input  line.
              The  number of lines to be right justified is available in the <b>\n[.rj]</b> register.  This implic-<font color="#ffffff" class="whiteout">itly&nbsp;implicitly</font>
              itly does <b>.ce</b> 0<b>.</b>  The <b>ce</b> request implicitly does <b>.rj</b> 0<b>.</b>

       <b>.rnn</b> <u>xx</u> <u>yy</u>
              Rename number register <u>xx</u> to <u>yy</u>.

       <b>.schar</b> <u>c</u> <u>string</u>
              Define global fallback glyph <u>c</u> to be <u>string</u>.  The syntax of this request is the  same  as  the
              <b>char</b> request; a glyph defined with <b>schar</b> is searched after the list of fonts declared with the
              <b>special</b> request but before the mounted special fonts.

       <b>.shc</b> <u>c</u> Set the soft hyphen character to <u>c</u>.  If <u>c</u> is omitted, the soft hyphen character will be set to
              the  default  <b>\(hy</b>.  The soft hyphen character is the glyph which will be inserted when a word
              is hyphenated at a line break.  If the soft hyphen character does not exist in the font of the
              glyph  immediately preceding a potential break point, then the line will not be broken at that
              point.  Neither definitions (specified with the <b>char</b> request) nor translations (specified with
              the <b>tr</b> request) are considered when finding the soft hyphen character.

       <b>.shift</b> <u>n</u>
              In  a  macro, shift the arguments by <u>n</u> positions: argument <u>i</u> becomes argument <u>i</u>-<u>n</u>; arguments 1
              to <u>n</u> will no longer be available.  If <u>n</u> is missing, arguments will be shifted by 1.   Shifting
              by negative amounts is currently undefined.

       <b>.sizes</b> <u>s1</u> <u>s2...sn</u> <b>[0]</b>
              This command is similar to the <b>sizes</b> command of a <b>DESC</b> file.  It sets the available font sizes
              for the current font to <u>s1</u>, <u>s2</u>,..., <u>sn</u> scaled points.  The list of sizes can be terminated  by
              an  optional <b>0</b>.  Each <u>si</u> can also be a range of sizes <u>m</u>-<u>n</u>.  Contrary to the font file command,
              the list can't extend over more than a single line.

       <b>.special</b> <u>s1</u> <u>s2...</u>
              Fonts <u>s1</u>, <u>s2</u>, are special and will be searched for glyphs not in the  current  font.   Without
              arguments, reset the list of special fonts to be empty.

       <b>.spreadwarn</b> <u>limit</u>
              Make  <b>troff</b> emit a warning if the additional space inserted for each space between words in an
              output line is larger or equal to <u>limit</u>.  A negative value is changed  to  zero;  no  argument
              toggles  the  warning  on and off without changing <u>limit</u>.  The default scaling indicator is <b>m</b>.
              At startup, <b>spreadwarn</b> is deactivated, and <u>limit</u> is set to 3m.  For example,  <b>.spreadwarn</b> <b>0.2m</b>
              will  cause a warning if <b>troff</b> must add 0.2m or more for each interword space in a line.  This
              request is active only if text is justified to both margins (using <b>.ad</b> <b>b</b>).

       <b>.sty</b> <u>n</u> <u>f</u>
              Associate style <u>f</u> with font position <u>n</u>.  A font position can be associated either with a  font
              or  with  a  style.   The current font is the index of a font position and so is also either a
              font or a style.  When it is a style, the font that is actually used is the font the  name  of
              which  is  the  concatenation  of  the  name of the current family and the name of the current
              style.  For example, if the current font is 1 and font position 1 is associated with  style  <b>R</b>
              and  the  current  font  family is <b>T</b>, then font <b>TR</b> will be used.  If the current font is not a
              style, then the current family is ignored.  When the requests <b>cs</b>, <b>bd</b>, <b>tkf</b>, <b>uf</b>, or <b>fspecial</b> are
              applied to a style, then they will instead be applied to the member of the current family cor-<font color="#ffffff" class="whiteout">responding&nbsp;corresponding</font>
              responding to that style.  The default family can be set with the <b>-f</b> option.  The <b>styles</b>  com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
              mand  in  the  DESC  file controls which font positions (if any) are initially associated with
              styles rather than fonts.

       <b>.substring</b> <u>xx</u> <u>n1</u> <b>[</b><u>n2</u><b>]</b>
              Replace the string named <u>xx</u> with the substring defined by the indices <u>n1</u> and  <u>n2</u>.   The  first
              character  in  the  string  has  index  0.   If  <u>n2</u> is omitted, it is taken to be equal to the
              string's length.  If the index value <u>n1</u> or <u>n2</u> is negative, it will be counted from the end  of
              the  string,  going  backwards: The last character has index -1, the character before the last
              character has index -2, etc.

       <b>.tkf</b> <u>f</u> <u>s1</u> <u>n1</u> <u>s2</u> <u>n2</u>
              Enable track kerning for font <u>f</u>.  When the current font is <u>f</u> the width of every glyph will  be
              increased by an amount between <u>n1</u> and <u>n2</u>; when the current point size is less than or equal to
              <u>s1</u> the width will be increased by <u>n1</u>; when it is greater than or equal to <u>s2</u> the width will be
              increased  by <u>n2</u>; when the point size is greater than or equal to <u>s1</u> and less than or equal to
              <u>s2</u> the increase in width is a linear function of the point size.

       <b>.tm1</b> <u>string</u>
              Similar to the <b>tm</b> request, <u>string</u> is read in copy mode and written on the standard error,  but
              an initial double quote in <u>string</u> is stripped off to allow initial blanks.

       <b>.tmc</b> <u>string</u>
              Similar to <b>tm1</b> but without writing a final newline.

       <b>.trf</b> <u>filename</u>
              Transparently output the contents of file <u>filename</u>.  Each line is output as if preceded by <b>\!</b>;
              however, the lines are not subject to copy-mode interpretation.  If the file does not end with
              a newline, then a newline will be added.  For example, you can define a macro <u>x</u> containing the
              contents of file <u>f</u>, using

                     .di x
                     .trf f
                     .di

              Unlike with the <b>cf</b> request, the file cannot contain characters such as NUL that are not  legal
              troff input characters.

       <b>.trin</b> <u>abcd</u>
              This is the same as the <b>tr</b> request except that the <b>asciify</b> request will use the character code
              (if any) before the character translation.  Example:

                     .trin ax
                     .di xxx
                     a
                     .br
                     .di
                     .xxx
                     .trin aa
                     .asciify xxx
                     .xxx

              The result is <b>x</b> <b>a</b>.  Using <b>tr</b>, the result would be <b>x</b> <b>x</b>.

       <b>.trnt</b> <u>abcd</u>
              This is the same as the <b>tr</b> request except that the translations do not apply to text  that  is
              transparently throughput into a diversion with <b>\!</b>.  For example,

                     .tr ab
                     .di x
                     \!.tm a
                     .di
                     .x

              will print <b>b</b>; if <b>trnt</b> is used instead of <b>tr</b> it will print <b>a</b>.

       <b>.troff</b> Make  the  <b>n</b>  built-in  condition  false,  and the <b>t</b> built-in condition true.  This undoes the
              effect of the <b>nroff</b> request.

       <b>.unformat</b> <u>xx</u>
              This request `unformats' the diversion <u>xx</u>.  Contrary to the <b>.asciify</b> request, which  tries  to
              convert  formatted elements of the diversion back to input tokens as much as possible, <b>.unfor</b>-<font color="#ffffff" class="whiteout">mat&nbsp;.unformat</font>
              <b>mat</b> will only handle tabs and spaces between words (usually caused by spaces  or  newlines  in
              the input) specially.  The former are treated as if they were input tokens, and the latter are
              stretchable again.  Note that the vertical size of lines is not preserved.  Glyph  information
              (font,  font  size,  space  width, etc.) is retained.  Useful in conjunction with the <b>.box</b> and
              <b>.boxa</b> requests.

       <b>.vpt</b> <u>n</u> Enable vertical position traps if <u>n</u> is non-zero, disable them  otherwise.   Vertical  position
              traps  are  traps  set by the <b>wh</b> or <b>dt</b> requests.  Traps set by the <b>it</b> request are not vertical
              position traps.  The parameter that controls whether vertical position traps  are  enabled  is
              global.  Initially vertical position traps are enabled.

       <b>.warn</b> <u>n</u>
              Control  warnings.   <u>n</u>  is  the  sum of the numbers associated with each warning that is to be
              enabled; all other warnings will be disabled.  The number  associated  with  each  warning  is
              listed  in <a href="../man1/troff.1.html#//apple_ref/doc/man/1/troff"><b>troff</b>(1)</a>.  For example, <b>.warn</b> <b>0</b> will disable all warnings, and <b>.warn</b> <b>1</b> will disable
              all warnings except that about missing glyphs.  If <u>n</u>  is  not  given,  all  warnings  will  be
              enabled.

       <b>.warnscale</b> <u>si</u>
              Set  the scaling indicator used in warnings to <u>si</u>.  Valid values for <u>si</u> are <b>u</b>, <b>i</b>, <b>c</b>, <b>p</b>, and <b>P</b>.
              At startup, it is set to <b>i</b>.

       <b>.while</b> <u>c</u> <u>anything</u>
              While condition <u>c</u> is true, accept <u>anything</u> as input; <u>c</u> can be any condition acceptable  to  an
              <b>if</b> request; <u>anything</u> can comprise multiple lines if the first line starts with <b>\{</b> and the last
              line ends with <b>\}</b>.  See also the <b>break</b> and <b>continue</b> requests.

       <b>.write</b> <u>stream</u> <u>anything</u>
              Write <u>anything</u> to the stream named <u>stream</u>.  <u>stream</u> must previously have been the subject of an
              <b>open</b> request.  <u>anything</u> is read in copy mode; a leading <b>"</b> will be stripped.

       <b>.writec</b> <u>stream</u> <u>anything</u>
              Similar to <b>write</b> but without writing a final newline.

       <b>.writem</b> <u>stream</u> <u>xx</u>
              Write  the  contents of the macro or string <u>xx</u> to the stream named <u>stream</u>.  <u>stream</u> must previ-<font color="#ffffff" class="whiteout">ously&nbsp;previously</font>
              ously have been the subject of an <b>open</b> request.  <u>xx</u> is read in copy mode.

   <b>Extended</b> <b>escape</b> <b>sequences</b>
       <b>\D'</b><u>...</u><b>'</b>
              All drawing commands of groff's intermediate output are accepted.  See subsection <b>Drawing</b> <b>Com</b>-<font color="#ffffff" class="whiteout">mands&nbsp;Commands</font>
              <b>mands</b> below for more information.

   <b>Extended</b> <b>requests</b>
       <b>.cf</b> <u>filename</u>
              When  used in a diversion, this will embed in the diversion an object which, when reread, will
              cause the contents of <u>filename</u> to be transparently copied through  to  the  output.   In  UNIX
              troff,  the  contents  of  <u>filename</u>  is immediately copied through to the output regardless of
              whether there is a current diversion; this behaviour is so anomalous that it must  be  consid-<font color="#ffffff" class="whiteout">ered&nbsp;considered</font>
              ered a bug.

       <b>.de</b> <u>xx</u> <u>yy</u>
       <b>.am</b> <u>xx</u> <u>yy</u>
       <b>.ds</b> <u>xx</u> <u>yy</u>
       <b>.as</b> <u>xx</u> <u>yy</u>
              In  compatibility  mode, these requests behaves similar to <b>.de1</b>, <b>.am1</b>, <b>.ds1</b>, and <b>.as1</b>, respec-<font color="#ffffff" class="whiteout">tively:&nbsp;respectively:</font>
              tively: A `compatibility save' token is  inserted  at  the  beginning,  and  a  `compatibility
              restore' token at the end, with compatibility mode switched on during execution.

       <b>.ev</b> <u>xx</u> If  <u>xx</u>  is  not  a number, this will switch to a named environment called <u>xx</u>.  The environment
              should be popped with a matching <b>ev</b> request without any arguments, just as for numbered  envi-<font color="#ffffff" class="whiteout">ronments.&nbsp;environments.</font>
              ronments.   There  is  no  limit on the number of named environments; they will be created the
              first time that they are referenced.

       <b>.ss</b> <u>m</u> <u>n</u>
              When two arguments are given to the <b>ss</b> request, the second argument gives the  <u>sentence</u>  <u>space</u>
              <u>size</u>.   If  the  second argument is not given, the sentence space size will be the same as the
              word space size.  Like the word space size, the sentence space is in units of one  twelfth  of
              the  spacewidth  parameter  for  the current font.  Initially both the word space size and the
              sentence space size are 12.  Contrary to UNIX troff, GNU troff handles this request  in  nroff
              mode  also;  a  given  value is then rounded down to the nearest multiple of 12.  The sentence
              space size is used in two circumstances.  If the end of a sentence occurs at the end of a line
              in  fill mode, then both an inter-word space and a sentence space will be added; if two spaces
              follow the end of a sentence in the middle of a line, then the second space will be a sentence
              space.  Note that the behaviour of UNIX troff will be exactly that exhibited by GNU troff if a
              second argument is never given to the <b>ss</b> request.  In GNU troff, as in UNIX troff, you  should
              always follow a sentence with either a newline or two spaces.

       <b>.ta</b> <u>n1</u> <u>n2...nn</u> <b>T</b> <u>r1</u> <u>r2...rn</u>
              Set  tabs at positions <u>n1</u>, <u>n2</u>,..., <u>nn</u> and then set tabs at <u>nn</u>+<u>r1</u>, <u>nn</u>+<u>r2</u>,..., <u>nn</u>+<u>rn</u> and then at
              <u>nn</u>+<u>rn</u>+<u>r1</u>, <u>nn</u>+<u>rn</u>+<u>r2</u>,..., <u>nn</u>+<u>rn</u>+<u>rn</u>, and so on.  For example,

                     .ta T .5i

              will set tabs every half an inch.

   <b>New</b> <b>number</b> <b>registers</b>
       The following read-only registers are available:

       <b>\n[.C]</b> 1 if compatibility mode is in effect, 0 otherwise.

       <b>\n[.cdp]</b>
              The depth of the last glyph added to the current environment.  It is  positive  if  the  glyph
              extends below the baseline.

       <b>\n[.ce]</b>
              The number of lines remaining to be centered, as set by the <b>ce</b> request.

       <b>\n[.cht]</b>
              The  height  of  the last glyph added to the current environment.  It is positive if the glyph
              extends above the baseline.

       <b>\n[.color]</b>
              1 if colors are enabled, 0 otherwise.

       <b>\n[.csk]</b>
              The skew of the last glyph added to the current environment.  The <u>skew</u> of a glyph is  how  far
              to  the  right  of  the  center  of  a glyph the center of an accent over that glyph should be
              placed.

       <b>\n[.ev]</b>
              The name or number of the current environment.  This is a string-valued register.

       <b>\n[.fam]</b>
              The current font family.  This is a string-valued register.

       <b>\n[.fn]</b>
              The current (internal) real font name.  This is a string-valued register.  If the current font
              is a style, the value of <b>\n[.fn]</b> is the proper concatenation of family and style name.

       <b>\n[.fp]</b>
              The number of the next free font position.

       <b>\n[.g]</b> Always 1.  Macros should use this to determine whether they are running under GNU troff.

       <b>\n[.height]</b>
              The current height of the font as set with <b>\H</b>.

       <b>\n[.hla]</b>
              The current hyphenation language as set by the <b>hla</b> request.

       <b>\n[.hlc]</b>
              The number of immediately preceding consecutive hyphenated lines.

       <b>\n[.hlm]</b>
              The maximum allowed number of consecutive hyphenated lines, as set by the <b>hlm</b> request.

       <b>\n[.hy]</b>
              The current hyphenation flags (as set by the <b>hy</b> request).

       <b>\n[.hym]</b>
              The current hyphenation margin (as set by the <b>hym</b> request).

       <b>\n[.hys]</b>
              The current hyphenation space (as set by the <b>hys</b> request).

       <b>\n[.in]</b>
              The indent that applies to the current output line.

       <b>\n[.int]</b>
              Set to a positive value if last output line is interrupted (i.e., if it contains <u>\c</u>).

       <b>\n[.kern]</b>
              1 if pairwise kerning is enabled, 0 otherwise.

       <b>\n[.lg]</b>
              The current ligature mode (as set by the <b>lg</b> request).

       <b>\n[.linetabs]</b>
              The current line-tabs mode (as set by the <b>linetabs</b> request).

       <b>\n[.ll]</b>
              The line length that applies to the current output line.

       <b>\n[.lt]</b>
              The title length as set by the <b>lt</b> request.

       <b>\n[.m]</b> The name of the current drawing color.  This is a string-valued register.

       <b>\n[.M]</b> The name of the current background color.  This is a string-valued register.

       <b>\n[.ne]</b>
              The  amount  of  space that was needed in the last <b>ne</b> request that caused a trap to be sprung.
              Useful in conjunction with the <b>\n[.trunc]</b> register.

       <b>\n[.ns]</b>
              1 if no-space mode is active, 0 otherwise.

       <b>\n[.pe]</b>
              1 during a page ejection caused by the <b>bp</b> request, 0 otherwise.

       <b>\n[.pn]</b>
              The number of the next page, either the value set by a <b>pn</b> request, or the number of  the  cur-<font color="#ffffff" class="whiteout">rent&nbsp;current</font>
              rent page plus 1.

       <b>\n[.ps]</b>
              The current pointsize in scaled points.

       <b>\n[.psr]</b>
              The last-requested pointsize in scaled points.

       <b>\n[.pvs]</b>
              The current post-vertical line space as set with the <b>pvs</b> request.

       <b>\n[.rj]</b>
              The number of lines to be right-justified as set by the <b>rj</b> request.

       <b>\n[.slant]</b>
              The slant of the current font as set with <b>\S</b>.

       <b>\n[.sr]</b>
              The  last requested pointsize in points as a decimal fraction.  This is a string-valued regis-<font color="#ffffff" class="whiteout">ter.&nbsp;register.</font>
              ter.

       <b>\n[.ss]</b>
       <b>\n[.sss]</b>
              These give the values of the parameters set by the  first  and  second  arguments  of  the  <b>ss</b>
              request.

       <b>\n[.sty]</b>
              The current font style.  This is a string-valued register.

       <b>\n[.tabs]</b>
              A  string representation of the current tab settings suitable for use as an argument to the <b>ta</b>
              request.

       <b>\n[.trunc]</b>
              The amount of vertical space truncated by the most recently sprung vertical position trap, or,
              if the trap was sprung by a <b>ne</b> request, minus the amount of vertical motion produced by the <b>ne</b>
              request.  In  other  words, at the point  a  trap is  sprung,  it represents the difference of
              what  the  vertical position  would have been but for the trap, and what the vertical position
              actually is.  Useful in conjunction with the <b>\n[.ne]</b> register.

       <b>\n[.U]</b> Set to 1 if in safer mode and to 0 if in unsafe mode  (as  given  with  the  <b>-U</b>  command  line
              option).

       <b>\n[.vpt]</b>
              1 if vertical position traps are enabled, 0 otherwise.

       <b>\n[.warn]</b>
              The  sum  of  the  numbers associated with each of the currently enabled warnings.  The number
              associated with each warning is listed in <a href="../man1/troff.1.html#//apple_ref/doc/man/1/troff"><b>troff</b>(1)</a>.

       <b>\n[.x]</b> The major version number.  For example, if the version number is 1.03, then <b>\n[.x]</b>  will  con-<font color="#ffffff" class="whiteout">tain&nbsp;contain</font>
              tain 1.

       <b>\n[.y]</b> The  minor  version number.  For example, if the version number is 1.03, then <b>\n[.y]</b> will con-<font color="#ffffff" class="whiteout">tain&nbsp;contain</font>
              tain 03.

       <b>\n[.Y]</b> The revision number of groff.

       <b>\n[llx]</b>
       <b>\n[lly]</b>
       <b>\n[urx]</b>
       <b>\n[ury]</b>
              These four registers are set by the <b>.psbb</b> request and contain  the  bounding  box  values  (in
              PostScript units) of a given PostScript image.

       The following read/write registers are set by the <b>\w</b> escape sequence:

       <b>\n[rst]</b>
       <b>\n[rsb]</b>
              Like the <b>st</b> and <b>sb</b> registers, but take account of the heights and depths of glyphs.

       <b>\n[ssc]</b>
              The  amount  of  horizontal  space  (possibly negative) that should be added to the last glyph
              before a subscript.

       <b>\n[skw]</b>
              How far to right of the center of the last glyph in the <b>\w</b> argument, the center of  an  accent
              from a roman font should be placed over that glyph.

       Other available read/write number registers are:

       <b>\n[c.]</b> The current input line number.  <b>\n[.c]</b> is a read-only alias to this register.

       <b>\n[hours]</b>
              The number of hours past midnight.  Initialized at start-up.

       <b>\n[hp]</b> The current horizontal position at input line.

       <b>\n[minutes]</b>
              The number of minutes after the hour.  Initialized at start-up.

       <b>\n[seconds]</b>
              The number of seconds after the minute.  Initialized at start-up.

       <b>\n[systat]</b>
              The return value of the system() function executed by the last <b>sy</b> request.

       <b>\n[slimit]</b>
              If  greater  than  0, the maximum number of objects on the input stack.  If less than or equal
              to 0, there is no limit on the number of objects on the input stack.  With no limit, recursion
              can continue until virtual memory is exhausted.

       <b>\n[year]</b>
              The  current year.  Note that the traditional <b>troff</b> number register <b>\n[yr]</b> is the current year
              minus 1900.

   <b>Miscellaneous</b>
       <b>troff</b> predefines a single (read/write) string-based register,  <b>\*(.T</b>,  which  contains  the  argument
       given to the <b>-T</b> command line option, namely the current output device (for example, <u>latin1</u> or <u>ascii</u>).
       Note that this is not the same as the (read-only) number register <b>\n[.T]</b> which is defined to be 1  if
       <b>troff</b>  is called with the <b>-T</b> command line option, and zero otherwise.  This behaviour is different to
       UNIX troff.

       Fonts not listed in the DESC file are automatically mounted on the next available font position  when
       they  are  referenced.   If  a font is to be mounted explicitly with the <b>fp</b> request on an unused font
       position, it should be mounted on the first unused font position, which can be found in  the  <b>\n[.fp]</b>
       register;  although <b>troff</b> does not enforce this strictly, it will not allow a font to be mounted at a
       position whose number is much greater than that of any currently used position.

       Interpolating a string does not hide existing macro arguments.  Thus in a macro, a more efficient way
       of doing

              <b>.</b><u>xx</u> <b>\\$@</b>

       is

              <b>\\*[</b><u>xx</u><b>]\\</b>

       If  the  font  description  file contains pairwise kerning information, glyphs from that font will be
       kerned.  Kerning between two glyphs can be inhibited by placing a <b>\&amp;</b> between them.

       In a string comparison in a condition, characters that appear at different input levels to the  first
       delimiter  character  will not be recognised as the second or third delimiters.  This applies also to
       the <b>tl</b> request.  In a <b>\w</b> escape sequence, a character that appears at a different input level to  the
       starting  delimiter character will not be recognised as the closing delimiter character.  The same is
       true for <b>\A</b>, <b>\b</b>, <b>\B</b>, <b>\C</b>, <b>\l</b>, <b>\L</b>, <b>\o</b>, <b>\X</b>, and <b>\Z</b>.  When decoding a macro or string  argument  that  is
       delimited  by  double  quotes,  a  character  that appears at a different input level to the starting
       delimiter character will not be recognised as the closing delimiter character.  The implementation of
       <b>\$@</b>  ensures  that  the double quotes surrounding an argument will appear the same input level, which
       will be different to the input level of the argument itself.  In a long escape name  <b>]</b>  will  not  be
       recognized as a closing delimiter except when it occurs at the same input level as the opening <b>]</b>.  In
       compatibility mode, no attention is paid to the input-level.

       There are some new types of condition:

       <b>.if</b> <b>r</b><u>xxx</u>
              True if there is a number register named <u>xxx</u>.

       <b>.if</b> <b>d</b><u>xxx</u>
              True if there is a string, macro, diversion, or request named <u>xxx</u>.

       <b>.if</b> <b>m</b><u>xxx</u>
              True if there is a color named <u>xxx</u>.

       <b>.if</b> <b>c</b><u>ch</u>
              True if there is a glyph <u>ch</u> available; <u>ch</u> is either an ASCII character  or  a  glyph  (special
              character)  <b>\(</b><u>xx</u> or <b>\[</b><u>xxx</u><b>]</b>; the condition will also be true if <u>ch</u> has been defined by the <b>char</b>
              request.

       <b>.if</b> <b>F</b><u>f</u> True if font <u>f</u> exists.  <b>f</b> is handled as if it was opened with the <b>ft</b> request  (this  is,  font
              translation and styles are applied), without actually mounting it.

       <b>.if</b> <b>S</b><u>s</u> True if style <u>s</u> has been registered.  Font translation is applied.

       The <b>tr</b> request can now map characters onto <b>\~</b>.

       It  is  now  possible  to have whitespace between the first and second dot (or the name of the ending
       macro) to end a macro definition.  Example:

              .if t \{\
              . de bar
              . nop Hello, I'm `bar'.
              . .
              .\}

<b>INTERMEDIATE</b> <b>OUTPUT</b> <b>FORMAT</b>
       This section describes the format output by GNU troff.  The output format used by GNU troff  is  very
       similar to that used by Unix device-independent troff.  Only the differences are documented here.

   <b>Units</b>
       The  argument to the <b>s</b> command is in scaled points (units of points/<u>n</u>, where <u>n</u> is the argument to the
       <b>sizescale</b> command  in the DESC file).  The argument to the <b>x</b> <b>Height</b> command is also in scaled points.

   <b>Text</b> <b>Commands</b>
       <b>N</b><u>n</u>     Print glyph with index <u>n</u> (a non-negative integer) of the current font.

       If the <b>tcommand</b> line is present in the DESC file, troff will use the following two commands.

       <b>t</b><u>xxx</u>   <u>xxx</u>  is  any sequence of characters terminated by a space or a newline (to be more precise, it
              is a sequence of glyphs which are accessed with the corresponding characters); the first char-<font color="#ffffff" class="whiteout">acter&nbsp;character</font>
              acter  should  be  printed  at the current position, the current horizontal position should be
              increased by the width of the first character, and so on for each character.  The width of the
              glyph  is  that  given  in the font file, appropriately scaled for the current point size, and
              rounded so that it is a multiple of the horizontal resolution.  Special characters  cannot  be
              printed using this command.

       <b>u</b><u>n</u> <u>xxx</u> This  is same as the <b>t</b> command except that after printing each character, the current horizon-<font color="#ffffff" class="whiteout">tal&nbsp;horizontal</font>
              tal position is increased by the sum of the width of that character and <u>n</u>.

       Note that single characters can have the eighth bit set, as can the names of fonts and special  char-<font color="#ffffff" class="whiteout">acters.&nbsp;characters.</font>
       acters.

       The names of glyphs and fonts can be of arbitrary length; drivers should not assume that they will be
       only two characters long.

       When a glyph is to be printed, that glyph will always be in the current font.  Unlike device-indepen-<font color="#ffffff" class="whiteout">dent&nbsp;device-independent</font>
       dent troff, it is not necessary for drivers to search special fonts to find a glyph.

       For color support, some new commands have been added:

       <b>mc</b> <u>cyan</u> <u>magenta</u> <u>yellow</u>
       <b>md</b>
       <b>mg</b> <u>gray</u>
       <b>mk</b> <u>cyan</u> <u>magenta</u> <u>yellow</u> <u>black</u>
       <b>mr</b> <u>red</u> <u>green</u> <u>blue</u>
              Set the color components of the current drawing color, using various color schemes.  <b>md</b> resets
              the drawing color to the default value.  The arguments are integers in the range 0 to 65536.

       The <b>x</b> device control command has been extended.

       <b>x</b> <b>u</b> <u>n</u>  If <u>n</u> is 1, start underlining of spaces.  If <u>n</u> is 0,  stop  underlining  of  spaces.   This  is
              needed for the <b>cu</b> request in nroff mode and is ignored otherwise.

   <b>Drawing</b> <b>Commands</b>
       The  <b>D</b>  drawing  command  has  been extended.  These extensions will not be used by GNU pic if the <b>-n</b>
       option is given.

       <b>Df</b> <u>n</u>\n Set the shade of gray to be used for filling solid objects to <u>n</u>; <u>n</u> must be an integer  between
              0  and  1000,  where  0 corresponds solid white and 1000 to solid black, and values in between
              correspond to intermediate shades of gray.  This applies only to solid circles, solid ellipses
              and  solid polygons.  By default, a level of 1000 will be used.  Whatever color a solid object
              has, it should completely obscure everything beneath it.  A value greater than  1000  or  less
              than  0  can also be used: this means fill with the shade of gray that is currently being used
              for lines and text.  Normally this will be black, but some drivers may provide a way of chang-<font color="#ffffff" class="whiteout">ing&nbsp;changing</font>
              ing this.

              The  corresponding <b>\D'f</b><u>...</u><b>'</b>  command shouldn't be used since its argument is always rounded to
              an integer multiple of the horizontal resolution which can lead to surprising results.

       <b>DC</b> <u>d</u>\n Draw a solid circle with a diameter of <u>d</u> with the leftmost point at the current position.

       <b>DE</b> <u>dx</u> <u>dy</u>\n
              Draw a solid ellipse with a horizontal diameter of <u>dx</u> and a vertical diameter of <u>dy</u>  with  the
              leftmost point at the current position.

       <b>Dp</b> \n  Draw a polygon with, for , the <u>i</u>-th vertex at the current position At the moment, GNU pic only
              uses this command to generate triangles and rectangles.

       <b>DP</b> \n  Like <b>Dp</b> but draw a solid rather than outlined polygon.

       <b>Dt</b> <u>n</u>\n Set the current line thickness to <u>n</u> machine units.  Traditionally Unix  troff  drivers  use  a
              line  thickness  proportional to the current point size; drivers should continue to do this if
              no <b>Dt</b> command has been given, or if a <b>Dt</b> command has been given with a negative value of <u>n</u>.  A
              zero value of <u>n</u> selects the smallest available line thickness.

       A  difficulty  arises in how the current position should be changed after the execution of these com-<font color="#ffffff" class="whiteout">mands.&nbsp;commands.</font>
       mands.  This is not of great importance since the code generated by GNU pic does not depend on  this.
       Given a drawing command of the form

              <b>\D'</b><u>c</u>       '

       where  <u>c</u> is not one of <b>c</b>, <b>e</b>, <b>l</b>, <b>a</b>, or <b>~</b>, Unix troff will treat each of the  as a horizontal quantity,
       and each of the  as a vertical quantity and will assume that the width of the drawn object is  ,  and
       that  the height is .  (The assumption about the height can be seen by examining the <b>st</b> and <b>sb</b> regis-<font color="#ffffff" class="whiteout">ters&nbsp;registers</font>
       ters after using such a <b>D</b> command in a \w escape sequence).  This rule also holds for all the  origi-<font color="#ffffff" class="whiteout">nal&nbsp;original</font>
       nal  drawing commands with the exception of <b>De</b>.  For the sake of compatibility GNU troff also follows
       this rule, even though it produces an ugly result in the case of the <b>Dt</b> and  <b>Df</b>,  and,  to  a  lesser
       extent, <b>DE</b> commands.  Thus after executing a <b>D</b> command of the form

              <b>D</b><u>c</u>       \n

       the current position should be increased by

       Another set of extensions is

       <b>DFc</b> <u>cyan</u> <u>magenta</u> <u>yellow</u>\n
       <b>DFd</b>\n
       <b>DFg</b> <u>gray</u>\n
       <b>DFk</b> <u>cyan</u> <u>magenta</u> <u>yellow</u> <u>black</u>\n
       <b>DFr</b> <u>red</u> <u>green</u> <u>blue</u>\n
              Set the color components of the filling color similar to the <b>m</b> commands above.

       The current position isn't changed by those colour commands (contrary to <b>Df</b>).

   <b>Device</b> <b>Control</b> <b>Commands</b>
       There is a continuation convention which permits the argument to the <b>x</b> <b>X</b> command to contain newlines:
       when outputting the argument to the <b>x</b> <b>X</b> command, GNU troff will follow each newline in  the  argument
       with a <b>+</b> character (as usual, it will terminate the entire argument with a newline); thus if the line
       after the line containing the <b>x</b> <b>X</b> command starts with <b>+</b>, then the newline ending the line  containing
       the  <b>x</b> <b>X</b>  command  should  be  treated  as  part  of the argument to the <b>x</b> <b>X</b> command, the <b>+</b> should be
       ignored, and the part of the line following the <b>+</b> should be treated like the part of the line follow-<font color="#ffffff" class="whiteout">ing&nbsp;following</font>
       ing the <b>x</b> <b>X</b> command.

       The first three output commands are guaranteed to be:

              <b>x</b> <b>T</b> <u>device</u>
              <b>x</b> <b>res</b> <u>n</u> <u>h</u> <u>v</u>
              <b>x</b> <b>init</b>

<b>INCOMPATIBILITIES</b>
       In  spite  of  the  many  extensions,  groff has retained compatibility to classical troff to a large
       degree.  For the cases where the extensions lead to collisions, a special compatibility mode with the
       restricted, old functionality was created for groff.

   <b>Groff</b> <b>Language</b>
       <u>groff</u>  provides  a <b>compatibility</b> <b>mode</b> that allows to process roff code written for classical <b>troff</b> or
       for other implementations of roff in a consistent way.

       Compatibility mode can be turned on with the <b>-C</b> command line option, and turned on or  off  with  the
       <b>.cp</b> request.  The number register <b>\n(.C</b> is 1 if compatibility mode is on, 0 otherwise.

       This  became necessary because the GNU concept for long names causes some incompatibilities.  <u>Classi</u>-<font color="#ffffff" class="whiteout">cal&nbsp;Classical</font>
       <u>cal</u> <u>troff</u> interprets

              <b>.dsabcd</b>

       as defining a string <b>ab</b> with contents <b>cd</b>.  In <u>groff</u> mode, this will be considered  as  a  call  of  a
       macro named <b>dsabcd</b>.

       Also  <u>classical</u>  <u>troff</u>  interprets  <b>\*[</b>  or <b>\n[</b> as references to a string or number register called <b>[</b>
       while <u>groff</u> takes this as the start of a long name.

       In <u>compatibility</u> <u>mode</u>, groff interprets these things in the traditional way; so long  names  are  not
       recognized.

       On  the  other  hand,  groff in <u>GNU</u> <u>native</u> <u>mode</u> does not allow to use the single-character escapes <b>\\</b>
       (backslash), <b>\|</b> (vertical bar), <b>\^</b> (caret), <b>\&amp;</b> (ampersand), <b>\{</b> (opening brace), <b>\}</b>  (closing  brace),
       `<b>\</b> ' (space), <b>\'</b> (single quote), <b>\`</b> (backquote), <b>\-</b> (minus), <b>\_</b> (underline), <b>\!</b> (bang), <b>\%</b> (percent),
       and <b>\c</b> (character c) in names of strings, macros, diversions, number  registers,  fonts  or  environ-<font color="#ffffff" class="whiteout">ments,&nbsp;environments,</font>
       ments, whereas <u>classical</u> <u>troff</u> does.

       The <b>\A</b> escape sequence can be helpful in avoiding these escape sequences in names.

       Fractional  pointsizes  cause  one  noteworthy  incompatibility.   In <u>classical</u> <u>troff</u>, the <b>ps</b> request
       ignores scale indicators and so

              <b>.ps</b> <b>10u</b>

       will set the pointsize to 10 points, whereas in groff native  mode  the  pointsize  will  be  set  to
       10 scaled points.

       In  <u>groff</u>, there is a fundamental difference between unformatted input characters, and formatted out-<font color="#ffffff" class="whiteout">put&nbsp;output</font>
       put characters (glyphs).  Everything that affects how a glyph will  be  output  is  stored  with  the
       glyph;  once  a  glyph has been constructed it is unaffected by any subsequent requests that are exe-<font color="#ffffff" class="whiteout">cuted,&nbsp;executed,</font>
       cuted, including the <b>bd</b>, <b>cs</b>, <b>tkf</b>, <b>tr</b>, or <b>fp</b> requests.

       Normally glyphs are constructed from input characters at the moment immediately before the  glyph  is
       added  to the current output line.  Macros, diversions and strings are all, in fact, the same type of
       object; they contain lists of input characters and glyphs in any combination.

       Special characters can be both; before being added to the output, they act as input entities,  after-<font color="#ffffff" class="whiteout">wards&nbsp;afterwards</font>
       wards they denote glyphs.

       A  glyph  does  not  behave like an input character for the purposes of macro processing; it does not
       inherit any of the special properties that the input character from which it  was  constructed  might
       have had.  The following example will make things clearer.

              .di x
              \\\\
              .br
              .di
              .x

       With  <u>GNU</u>  <u>troff</u> this will be printed as <b>\\</b>.  So each pair of input backslashes `<b>\\</b>' is turned into a
       single output backslash glyph `<b>\</b>' and the resulting output backslashes are not interpreted as  escape
       characters when they are reread.

       <u>Classical</u>  <u>troff</u>  would  interpret  them  as escape characters when they were reread and would end up
       printing a single backslash `<b>\</b>'.

       In GNU, the correct way to get a printable version of the backslash character `<b>\</b>' is the <b>\(rs</b>  escape
       sequence,  but  classical  troff does not provide a clean feature for getting a non-syntactical back-<font color="#ffffff" class="whiteout">slash.&nbsp;backslash.</font>
       slash.  A close method is the printable version of the current escape character using the  <b>\e</b>  escape
       sequence; this works if the current escape character is not redefined.  It works in both GNU mode and
       compatibility mode, while dirty tricks like specifying a sequence of multiple backslashes do not work
       reliably;  for the different handling in diversions, macro definitions, or text mode quickly leads to
       a confusion about the necessary number of backslashes.

       To store an escape sequence in a diversion that will be interpreted when  the  diversion  is  reread,
       either the traditional <b>\!</b> transparent output facility or the new <b>\?</b> escape sequence can be used.

   <b>Intermediate</b> <b>Output</b>
       The  groff  intermediate output format is in a state of evolution.  So far it has some incompatibili-<font color="#ffffff" class="whiteout">ties,&nbsp;incompatibilities,</font>
       ties, but it is intended to establish a full compatibility to  the  classical  troff  output  format.
       Actually the following incompatibilities exist:

        The positioning after the drawing of the polygons conflicts with the classical definition.

        The intermediate output cannot be rescaled to other devices as classical "device-independent" troff
         did.

<b>AUTHORS</b>
       Copyright (C) 1989, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.

       This document is distributed under the terms of the FDL (GNU Free Documentation License) version  1.1
       or later.  You should have received a copy of the FDL on your system, it is also available on-line at
       the <b>GNU</b> <b>copyleft</b> <b>site</b> &lt;<a href="http://www.gnu.org/copyleft/fdl.html">http://www.gnu.org/copyleft/fdl.html</a>.  This document  was  written  by  James
       Clark, with modifications by

       <b>Werner</b> <b>Lemberg</b> &lt;wl@gnu.org&gt; and

       <b>Bernd</b> <b>Warken</b> &lt;bwarken@mayn.de&gt;.

       This  document  is part of <u>groff</u>, the GNU roff distribution.  Formerly, the contents of this document
       was kept in the manual page <a href="../man1/troff.1.html#//apple_ref/doc/man/1/troff"><b>troff</b>(1)</a>.  Only the parts dealing with the language aspects of  the  dif-<font color="#ffffff" class="whiteout">ferent&nbsp;different</font>
       ferent  <u>roff</u>  systems were carried over into this document.  The <u>troff</u> command line options and warn-<font color="#ffffff" class="whiteout">ings&nbsp;warnings</font>
       ings are still documented in <a href="../man1/troff.1.html#//apple_ref/doc/man/1/troff"><b>troff</b>(1)</a>.

<b>SEE</b> <b>ALSO</b>
       The <u>groff</u> <u>info</u> <u>file</u>, cf. <a href="../man1/info.1.html#//apple_ref/doc/man/1/info"><b>info</b>(1)</a> presents all groff documentation within a single document.

       <a href="../man1/groff.1.html#//apple_ref/doc/man/1/groff"><b>groff</b>(1)</a>
              A list of all documentation around <u>groff</u>.

       <a href="groff.7.html#//apple_ref/doc/man/7/groff"><b>groff</b>(7)</a>
              A description of the <u>groff</u> language, including a short, but complete reference of  all  prede-<font color="#ffffff" class="whiteout">fined&nbsp;predefined</font>
              fined  requests, registers, and escapes of plain <u>groff</u>.  From the command line, this is called
              using

              <u>shell#</u> <b>man</b> <b>7</b> <b>groff</b>

       <a href="roff.7.html#//apple_ref/doc/man/7/roff"><b>roff</b>(7)</a>
              A survey of <u>roff</u> systems, including pointers to further historical documentation.

       [<u>CSTR</u> <u>#54</u>]
              The <u>Nroff/Troff</u> <u>User's</u> <u>Manual</u> by <u>J.</u> <u>F.</u> <u>Osanna</u> of 1976 in the revision of  <u>Brian</u>  <u>Kernighan</u>  of
              1992, being the <b>classical</b> <b>troff</b> <b>documentation</b> &lt;<a href="http://cm.bell-labs.com/cm/cs/cstr/54.ps.gz">http://cm.bell-labs.com/cm/cs/cstr/54.ps.gz</a>.



Groff Version 1.19.2                          21 November 2004                                 GROFF_DIFF(7)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man7/groff_diff.7.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man7/groff_diff.7.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man7/groff_diff.7.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
