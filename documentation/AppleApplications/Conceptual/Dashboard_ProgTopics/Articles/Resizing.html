<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Dashboard Programming Topics: Resizing Widgets</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Resizing Widgets"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40003046" title="Resizing Widgets"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../Dashboard-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP40001366" target="_top">Dashboard</a> &gt; <a href="../index.html" target="_top">Dashboard Programming Topics</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="ControlRegions.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Canvas.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40003046-SW1" title="Resizing Widgets"></a><hr /><H1>Resizing Widgets</H1><p>Widgets can be resized to fit content. Resizing your widget may be appropriate if your content scales well or if it has varying degrees of detail to display. You can resize to fixed dimensions (for instance, a "More Information" mode) or provide a resize thumb control for live resizing.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40003046-DontLinkElementID_110" title="Note"></a><p><strong>Note:</strong>&nbsp;The <em><a href="../../../../../samplecode/Resizer/index.html#//apple_ref/doc/uid/DTS10004003" target="_top">Resizer</a></em> sample project shows how to use the Apple Animation and Animator classes animate widget resizing.</p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Resizing.html#//apple_ref/doc/uid/TP40003046-DontLinkElementID_47">Resizing Methods</a>
				
			<br/>
			
        
			
			
				<a href="Resizing.html#//apple_ref/doc/uid/TP40003046-SW2">Live Resizing</a>
				
			<br/>
			
        
			
			
				<a href="Resizing.html#//apple_ref/doc/uid/TP40003046-DontLinkElementID_48">Adjusting the Close Box</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40003046-DontLinkElementID_47" title="Resizing Methods"></a><h2>Resizing Methods</h2><p>There are two ways to resize your widget: relatively and absolutely.</p><p>To resize your widget relative to its current size, use the method <code>window.resizeBy(width, height)</code>. This method takes the current size of your widget and adds the values found within the <em>width</em> and <em>height</em> parameters. Note that these values may be negative, allowing you to shrink the size of your widget.</p><p>The other way to resize your widget is to specify the absolute size the widget should be. To do this, use the method <code>window.resizeTo(width, height)</code>.</p><a name="//apple_ref/doc/uid/TP40003046-SW2" title="Live Resizing"></a><h2>Live Resizing</h2><p>Live resizing means that your widget can change its size and contents based on the user's preference. Try to limit using live-resizing to cases where it is absolutely necessary. If your content can be shown in a fixed, simple user interface, do so.</p><p>To enable live resizing, you need to provide a resize control and an event handler for when it is clicked upon:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;img id='resize' src='/System/Library/WidgetResources/resize.png' onmousedown='mouseDown(event);'/><span></span></pre></td></tr></table></div><p>Also, the resize control is placed in the bottom-right corner of the widget using CSS in your style sheet:</p><div class="codesample"><table><tr><td scope="row"><pre>#resize {<span></span></pre></td></tr><tr><td scope="row"><pre>    position:absolute;<span></span></pre></td></tr><tr><td scope="row"><pre>    top: 208px;<span></span></pre></td></tr><tr><td scope="row"><pre>    right: 2px;<span></span></pre></td></tr><tr><td scope="row"><pre>    -apple-dashboard-region: dashboard-region(control rectangle);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>In your JavaScript file, include this code:</p><div class="codesample"><table><tr><td scope="row"><pre>var growboxInset;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>function mouseDown(event)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    document.addEventListener("mousemove", mouseMove, true);<span></span></pre></td></tr><tr><td scope="row"><pre>    document.addEventListener("mouseup", mouseUp, true);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    growboxInset = {x:(window.innerWidth - event.x), y:(window.innerHeight - event.y)};<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    event.stopPropagation();<span></span></pre></td></tr><tr><td scope="row"><pre>    event.preventDefault();<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>function mouseMove(event)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    var x = event.x + growboxInset.x;<span></span></pre></td></tr><tr><td scope="row"><pre>    var y = event.y + growboxInset.y;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    document.getElementById("resize").style.top = (y-12);<span></span></pre></td></tr><tr><td scope="row"><pre>    window.resizeTo(x,y);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    event.stopPropagation();<span></span></pre></td></tr><tr><td scope="row"><pre>    event.preventDefault();<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>function mouseUp(event)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    document.removeEventListener("mousemove", mouseMove, true);<span></span></pre></td></tr><tr><td scope="row"><pre>    document.removeEventListener("mouseup", mouseUp, true);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    event.stopPropagation();<span></span></pre></td></tr><tr><td scope="row"><pre>    event.preventDefault();<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The three functions in this code handle the different mouse events that happen during a drag. First, <code>mouseDown</code> is called when the resize control is clicked upon. It records the initial placement of the click in <code>lastPos</code> and registers two handlers for the when the mouse moves and the mouse click ends.</p><p>Next, <code>mouseMove</code> is called every time the mouse is moved any distance. The code as listed here has no constraints, meaning that the widget can be as large or small as the user wants. If you have size constraints on your widget, add them here.</p><p>Finally, <code>mouseUp</code> is called when the mouse click ends. It removes itself and the <code>mouseMove</code> function as handlers. If you don’t do this, these functions are still called whenever a mouse moves or a click ends.</p><a name="//apple_ref/doc/uid/TP40003046-DontLinkElementID_48" title="Adjusting the Close Box"></a><h2>Adjusting the Close Box</h2><p>Depending on how your widget resizes and in which directions, you may need to adjust the placement of your widget’s close box. The <code>setCloseBoxOffset</code> method gives you the ability to do this:</p><div class="codesample"><table><tr><td scope="row"><pre>widget.setCloseBoxOffset(x,y);<span></span></pre></td></tr></table></div><p>The <code>x</code> and <code>y</code> coordinates that you provide are in relation to the top-left corner of the widget, where the values <code>0,0</code> places the center of the close box over the actual top-left corner of the widget window. The <code>x</code> and <code>y</code> values can not be larger than 100.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="ControlRegions.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Canvas.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2009 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2009-02-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/Dashboard_ProgTopics/Articles/Resizing.html%3Fid%3DTP40002837-2.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/Dashboard_ProgTopics/Articles/Resizing.html%3Fid%3DTP40002837-2.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/Dashboard_ProgTopics/Articles/Resizing.html%3Fid%3DTP40002837-2.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
