<html><head><title>Mac OS X
 Manual Page For syslog(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/syslog" title="Mac OS X
 Manual Page for syslog(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/syslog"; name=syslog(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SYSLOG(1)                 BSD General Commands Manual                SYSLOG(1)

<b>NAME</b>
     <b>syslog</b> -- Apple System Log utility

<b>SYNOPSIS</b>
     <b>syslog</b> <b>-help</b>

     <b>syslog</b> <b>-s</b> [<b>-r</b> <u>host</u>] [<b>-l</b> <u>level</u>] message...

     <b>syslog</b> <b>-s</b> [<b>-r</b> <u>host</u>] <b>-k</b> key val [key val] ...

     <b>syslog</b> <b>-C</b>

     <b>syslog</b> [<b>-db</b> [<u>file</u> <u>...</u>]] [<b>-w</b> [<u>n</u>]] [<b>-F</b> <u>format</u>] [<b>-T</b> <u>format</u>] <u>expression</u>

     <b>syslog</b> [<b>-db</b> [<u>file</u> <u>...</u>]] <b>-x</b> <u>expression</u>

     <b>syslog</b> [<b>-db</b> [<u>file</u> <u>...</u>]] <b>-p</b> <u>expression</u>

     <b>syslog</b> <b>-c</b> <u>process</u> [filter]

<b>DESCRIPTION</b>
     <b>syslog</b> is a command-line utility for a variety of tasks relating to the Apple System Log facility.  It
     provides mechanisms for sending and viewing log messages, pruning the contents of the log message data-<font color="#ffffff" class="whiteout">bases,&nbsp;databases,</font>
     bases, and for controlling the flow of log messages from client processes.

     When invoked with the <b>-help</b> option, <b>syslog</b> prints a usage message.

   <b>SENDING</b> <b>MESSAGES</b>
     The <b>-s</b> option is used send log messages to the <a href="../man8/syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a> log message daemon, either locally or to a
     remote server if the <b>-r</b> <u>host</u> option in used.

     There are two main forms of the command.  If the <b>-k</b> option is used, then it must be followed by a list
     of keys and values.  A structured message will be sent to the server with the keys and values given as
     arguments.  If a key or a value has embedded white space, it must be enclosed in quotes.

     If the <b>-k</b> option is not specified, then the rest of the command line is treated as the message text.
     The text may be preceded by <b>-l</b> <u>level</u> to set the log level (priority) of the message.  Levels may be an
     integer value corresponding the the log levels specified in <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> or <a href="../man3/asl.3.html#//apple_ref/doc/man/3/asl">asl(3)</a>, or they may be a
     string.  String values are case insensitive, and should be one of:

     Emergency     (level 0)
     Alert         (level 1)
     Critical      (level 2)
     Error         (level 3)
     Warning       (level 4)
     Notice        (level 5)
     Info          (level 6)
     Debug         (level 7)

     The string ``Panic'' is an alias for ``Emergency''.

     If the <b>-l</b> option is omitted, the log level defaults to 7 (Debug).

     <b>syslog</b> only requires one or two leading characters for a level specification.  A single character suf-<font color="#ffffff" class="whiteout">fices&nbsp;suffices</font>
     fices in most cases.  Use ``P'' or ``Em'' for Panic / Emergency, and ``Er'' or ``X'' for Error).

   <b>READING</b> <b>MESSAGES</b>
     The <b>syslogd</b> daemon filters and saves log messages to different output streams.  One module saves mes-<font color="#ffffff" class="whiteout">sages&nbsp;messages</font>
     sages to files specified in the <a href="../man5/syslog.conf.5.html#//apple_ref/doc/man/5/syslog.conf">syslog.conf(5)</a> file.  Those log files may be examined with any file
     printing or editing utility, e.g.

           cat /var/log/system.log

     Another module saves messages in an active database, and may also be configured to keep archive data-<font color="#ffffff" class="whiteout">bases.&nbsp;databases.</font>
     bases.

     If invoked with no arguments, <b>syslog</b> sends a query to <b>syslogd</b> to fetch all messages from the active
     database.  The messages are then printed to standard output, subject to formatting options and charac-<font color="#ffffff" class="whiteout">ter&nbsp;character</font>
     ter encoding as described below.

     If invoked with the <b>-C</b> option, <b>syslog</b> fetches and prints console messages.  The <b>-C</b> option is actually
     an alias for the expression:

           -k Facility com.apple.console

     See the EXPRESSIONS section below for more details.

     If the system is running in single-user mode, <b>syslog</b> will open the ASL active database file
     (/var/log/asl.db) directly, rather than queying <b>syslogd</b> for messages.  The database file is opened in
     read-only mode, and read access permissions are required.  Specifying the <b>-db</b> option with no argument
     also forces raw database access.

     Archive log databases may be read by providing one or more database names as arguments to the <b>-db</b>
     option.  Each database is read in sequence.  As a special case, the name ``-'' may be used in place of
     a database file name.  In this case, <b>syslog</b> will connect to <b>syslogd</b> and query for the contents of the
     active database.

     The <b>-w</b> option causes <b>syslog</b> to wait for new messages.  By default, <b>syslog</b> prints the last 10 messages,
     then waits for new messages to be added to the database.  A number following the <b>-w</b> option specifies
     the number of messages to print and overrides the default value of 10.  For example:

           syslog -w 20

     This usage is similar to watching a log file using, e.g.

           tail -f /var/log/system.log

     The <b>-w</b> option can only be used for a single database, and when printing messages to standard output.

     If the <b>-x</b> <u>database</u> option is specified, messages are copied to the named <u>database</u> file rather than
     being printed.  The <u>database</u> file will be created if it does not exist.

     When called without the <b>-x</b> option, messages are printed to standard output.  Messages are printed in a
     format similar to that used in the system.log file, except that the message priority level is printed
     between angle-brackets.

     The output format may by changed by specifying the <b>-F</b> <u>format</u> option.  Non-printable and control charac-<font color="#ffffff" class="whiteout">ters&nbsp;characters</font>
     ters are encoded in the output, as described below.  The value of <u>format</u> may be one of the following:

     bsd   Format used by the <b>syslogd</b> daemon for system log files, e.g. /var/log/system.log.

     std   Standard (default) format.  Similar to ``bsd'', but includes the message priority level.

     raw   Prints the complete message structure.  Each key/value pair is enclosed in square brackets.
           Embedded closing brackets and white space are escaped.  Time stamps are printed as seconds since
           the epoch by default, but may also be printed in local time or UTC if the <b>-T</b> option is specified
           (see below).

     xml   The list of messages is printed as an XML property list.  Each message is represented as a dic-<font color="#ffffff" class="whiteout">tionary&nbsp;dictionary</font>
           tionary in a array.  Dictionary keys represent message keys.  Dictionary values are strings.

     The value of the <u>format</u> argument may also be a custom print format string.  A custom format should in
     most cases be enclosed in single quotes to prevent the shell from substituting special characters and
     breaking at white space.

     Custom format strings may include variables of the form ``$Name'' (or ``$(Name)'' if the variable is
     not delimited by whitespace) which will be expanded to the associated with the named key.  For example,
     the command:

           syslog -F '$Time $Host $(Sender)[$(PID)]: $Message'

     produces output similar to the ``bsd'' format.

     Timestamps may be printed in three formats.  Times are generally converted to local time, except when
     the <b>-F</b> <u>sec</u> option is used, in which case times are printed as the number of seconds since the epoch.
     The <b>-T</b> <u>format</u> option may be used to explicity control the format used for timestamps.  The value of
     <u>format</u> may be one of the following:

     sec    Times are printed as the number of seconds since the epoch.

     local  Times are converted to the local time zone, and printed with the format
                  MMM DD HH:MM:SS

     utc    Times are converted to UTC, and printed with the format
                  YYYY.MM.DD HH:MM:SS UTC

     The <b>-u</b> option is a short form for <b>-T</b> <u>utc</u>.

     Control characters and non-printable characters are encoded in the output stream.  In some cases this
     may make messages slightly less natural in appearance.  However, the encoding is designed to preserve
     all the information in the log message, and to prevent malicious users from spoofing or obsucring
     information in log messages.

     Output in the ``std'', ``bsd'', and ``raw'' formats is encoded as it is by the vis utility with the <b>-c</b>
     option.  Newlines and tabs are also encoded as "\n" and "\t" respectively.  In ``raw'' format, space
     chanacters embedded in log message keys are encoded as "\s" and embedded brackets are escaped to print
     as "\[" and "\]".

     XML format output requires that keys are valid UTF8 strings.  Keys which are not valid UTF8 are
     ignored, and the associated value is not printed.

     Values that contain legal UTF8 are printed as strings.  Ampersand, less than, greater than, quotation
     mark, and apostrophe characters are encoded according to XML conventions.  Embedded control characters
     are encoded as ``&amp;#xNN;'' where NN is the character's hexidecimal value.

     Values that do not contain legal UTF8 are encoded in base-64 and printed as data objects.

     If no further command line options are specified, <b>syslog</b> displays all messages, or copies all messages
     to a database file.  However, an expression may be specified using the <b>-k</b> and <b>-o</b> options.

   <b>EXPRESSIONS</b>
     Expressions specify matching criteria.  They may be used to search for messages of interest.  Expres-<font color="#ffffff" class="whiteout">sions&nbsp;Expressions</font>
     sions are also required when pruning the system log file with the <b>-p</b> option.

     A simple expression is a list of one or more key/value pairs.  A match is made when a message has the
     given value for the specified key.  For example, to find all messages sent by the portmap process:

           syslog -k Sender portmap

     Note that the <b>-C</b> option is treated as an alias for the expression:

           -k Facility com.apple.console

     This provides a quick way to search for console messages.

     The <b>-k</b> option may be followed by one, two, or three arguments.  A single argument causes a match to
     occur if a message has the specified key, regardless of value.  If a pair of arguments is specified, a
     match occurs when a message has exactly the specified value for a given key.  If three arguments are
     given, they are of the form <b>-k</b> <u>key</u> <u>operation</u> <u>value</u>.  <b>syslog</b> supports the following matching operators:

     eq   equal
     ne   not equal
     gt   greater than
     ge   greater than or equal to
     lt   less than
     le   less than or equal to

     Additionally, the operator may be preceded by one or more of the following modifiers:

     C    case-fold
     R    regular expression (see <a href="../man3/regex.3.html#//apple_ref/doc/man/3/regex">regex(3)</a>)
     S    substring
     A    prefix
     Z    suffix
     N    numeric comparison

     An simple expression matches a message if all of the key-value operations match.  Logically, the result
     is an AND of all of key-value operations.  The <b>-o</b> option separates simple expressions and provides an
     OR operation.  If two or more simple expressions are given, separated by <b>-o</b> options, then a match
     occurs is a message matches any of the simple expressions.  For example, to find all messages which
     have either a ``Sender'' value of ``portmap'' or that have a numeric priority level of 4 or less:

           syslog -k Sender portmap -o -k Level Nle 4

     A special convention exists for matching time stamps.  An unsigned integer value is regarded as the
     given number of seconds since 0 hours, 0 minutes, 0 seconds, January 1, 1970, Coordinated Universal
     Time.  An negative integer value is regarded as the given number of seconds before the current time.
     For example, to find all messages of priority level 3 (error) or less which were logged in the last 30
     seconds:

           syslog -k Level Nle 3 -k Time ge -30

     a relative time value may be optionally followed by one of the characters ``s'', ``m'', ``h'', ``d'',
     or ``w'' to specify seconds, minutes, hours, days, or weeks respectively.  Upper case may be used
     equivalently.  A week is taken to be 7 complete days (i.e. 604800 seconds).

   <b>PRUNING</b>
     The Apple System Log facility saves received messages, subject to filtering criteria described in the
     FILTERING CONTROLS section below.  The <b>syslogd</b> daemon deletes messages after given time-to-live values
     to prevent the database from growing too large.  When messages expire, they are either removed
     entirely, or copied to an archive database.  See the <a href="../man8/syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a> manual for more details on archiving
     messages.

     Messages may be removed from either the active database or from an archive database by using the <b>-p</b>
     option of <b>syslog</b>.  The <b>-p</b> option must be followed by an expression (see above).  Messages that match
     the expression are deleted.

     If the <b>-db</b> option is not specified <b>syslog</b> sends a request to <b>syslogd</b> to perform the requested pruning
     operation.  If <b>-db</b> is given without a database file name, <b>syslog</b> prunes the active database file.  This
     may only be done if the <b>syslogd</b> server is not running.  If one or more database file names are given,
     those databases are pruned subject to the specified expression.  Read and write access to the database
     files are required.

   <b>FILTERING</b> <b>CONTROLS</b>
     Clients of the Apple System Log facility using either the <a href="../man3/asl.3.html#//apple_ref/doc/man/3/asl">asl(3)</a> or <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a> interfaces may specify a
     log filter mask.  The mask specifies which messages should be sent to the <b>syslogd</b> daemon by specifying
     a yes/no setting for each priority level.  Many clients set a filter mask to avoid sending relatively
     unimportant messages.  Debug or Info priority level messages are generally only useful for debugging
     operations.  By setting a filter mask, a process can improve performance by avoiding spending time
     sending messages that are in most cases unnecessary.

     The <b>-c</b> option may be used to control filtering.  In addition to the internal filter value that pro-<font color="#ffffff" class="whiteout">cesses&nbsp;processes</font>
     cesses may set as described above, the system maintains a global ``master'' filter.  This filter is
     normally ``off'', meaning that it has no effect.  If a value is set for the master filter, it overrides
     the local filter for all processes.  Root user access is required to set the master filter value.

     The current setting of the master filter mask may be inspected using:

           syslog -c 0

     The value of the master filter mask my be set by providing a second argument following <b>-c</b> <u>0</u>.  The value
     may a set of characters from the set ``pacewnid''.  These correspond to the priority levels Emergency
     (Panic), Alert, Critical, Error, Warning, Notice, Info, and Debug.  The character ``x'' may be used for
     Error, as it is used for sending messages.  The master filter may be unset with:

           syslog -c 0 off

     Since it is common to use the filter as a ``cutoff'' mechanism, for example to cut off messages with
     Debug and Info priority, a single character from the list above may be specified, preceded by a minus
     sign.  In this case, <b>syslog</b> uses a filter mask starting at level 0 (Emergency) ``up to'' the given
     level.  For example, to set the master filter level to cause all processes to log messages from Emer-<font color="#ffffff" class="whiteout">gency&nbsp;Emergency</font>
     gency up to Debug:

           syslog -c 0 -d

     While the master filter level may be set to control the messages produced by all processes, another
     filter mask may be specified for an individual process.  If a per-process filter mask is set, it over-<font color="#ffffff" class="whiteout">rides&nbsp;overrides</font>
     rides both the local filter mask and the master filter mask.  The current setting for a per-process
     filter mask may be inspected using <b>-c</b> <u>process</u>, where <u>process</u> is either a PID or the name of a process.
     If a name is used, it must uniquely identify a process.  To set a per-process filter mask, an second
     argument may be supplied following <b>-c</b> <u>process</u> as described above for the master filter mask.  Root
     access is required to set the per-process filter mask for system (UID 0) processes.

     The filtering described above takes place in the client library to determine which messages are sent to
     the <b>syslogd</b> daemon.  The daemon also contains a filter which determines which messages are saved in the
     data store.  Note that this additionally determines which messages are seen when reading messages using
     the <b>syslog</b> utility.

     The default data store filter mask saves messages with priority levels from Emergency to Notice (level
     0 to 5).  The level may be inspected using:

           syslog -c syslogd

     To set the data store filter mask, an second argument may be supplied following <b>-c</b> syslog as described
     above.  For example, to save messages with priority level Error or less in the data store:

           syslog -c syslog -e

<b>SEE</b> <b>ALSO</b>
     <a href="../man8/syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a>, <a href="logger.1.html#//apple_ref/doc/man/1/logger">logger(1)</a>, <a href="../man3/asl.3.html#//apple_ref/doc/man/3/asl">asl(3)</a>, <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>,

<b>HISTORY</b>
     The <b>syslog</b> utility appeared in Mac OS X 10.4.

Mac OS X                       October 18, 2004                       Mac OS X
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/syslog.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/syslog.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/syslog.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
