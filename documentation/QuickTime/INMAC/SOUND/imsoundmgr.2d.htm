<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Sound Resources (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.2c.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.2c.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.2e.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="H2.Heading2"><A NAME="pgfId=1977"> </A><A NAME="24013"> </A>Sound Resources<A NAME="marker=27"> </A><A NAME="marker=34"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=1978"> </A>A <B CLASS="bold">sound resource</B> is a resource of type <TT CLASS="cv">'snd&nbsp;'</TT> that contains sound commands and possibly also sound data. Sound resources are widely used by Macintosh applications that produce sounds. These resources provide a simple and portable way for you to incorporate sounds into your application. For example, the sounds that a user can select in the Sound control panel as the system alert sound are stored in the System file as <TT CLASS="cv">'snd&nbsp;'</TT> resources.</P><P CLASS="T1.Text1"><A NAME="pgfId=1980"> </A>There are two types of <TT CLASS="cv">'snd&nbsp;'</TT> resources, known as format 1 and format 2. <A target="doc" HREF="imsoundmgr.2d.htm#11786" CLASS="XRef">Figure 1-20</A> illustrates the structures of both kinds of <TT CLASS="cv">'snd&nbsp;'</TT> resources.<A NAME="marker=36"> </A></P><P CLASS="Fg.Figure"><A NAME="pgfId=1981"> </A>Figure&nbsp;20 <A NAME="11786"> </A>The structure of<TT CLASS="cv"> 'snd&nbsp;'</TT> resources</P><DIV><IMG SRC="imsoundmgr-4.gif"></DIV><P CLASS="I.Important"><A NAME="pgfId=1983"> </A>The format 2 <TT CLASS="cv">'snd&nbsp;'</TT> resource is obsolete. Your application should create only format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resources. The format 2 <TT CLASS="cv">'snd&nbsp;'</TT> resource was designed for use by HyperCard and can be used with sampled-sound data only. <A NAME="marker=98"> </A><A NAME="marker=261"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=3090"> </A>Resource IDs for <TT CLASS="cv">'snd&nbsp;'</TT> resources in the range 0 to 8191 are reserved for use by Apple&nbsp;Computer, Inc. The <TT CLASS="cv">'snd&nbsp;'</TT> resources numbered 1 through 4 are defined to be the&nbsp;standard system alert sounds, although more recent versions of system software have included more standard system alert sounds.<A NAME="marker=575"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=1985"> </A><A NAME="marker=99"> </A>When a sound command contained in an <TT CLASS="cv">'snd&nbsp;'</TT> resource has associated sound data, the high bit of the command is set. This changes the meaning of the <TT CLASS="cv">param2</TT> field of the command from a pointer to a location in RAM to an offset value that specifies the offset in bytes from the resource's beginning to the location of the associated sound data (such as a sampled sound header). <A target="doc" HREF="imsoundmgr.2d.htm#26910" CLASS="XRef">Figure 1-21</A> illustrates the location of this data offset bit.</P><P CLASS="Fg.Figure"><A NAME="pgfId=1986"> </A>Figure&nbsp;21 <A NAME="26910"> </A>The location of the data offset bit</P><DIV><IMG SRC="imsoundmgr-5.gif"></DIV><P CLASS="T1.Text1"><A NAME="pgfId=1987"> </A>The offset bit is used only by sound commands that are stored in sound resources of type&nbsp;<TT CLASS="cv">'snd&nbsp;'</TT> and that have associated sound data (that is, sampled-sound or wave-table&nbsp;data).</P><P CLASS="T1.Text1"><A NAME="pgfId=1988"> </A>You can use a constant to access that flag.</P><CODE CLASS="Cv.Code"><A NAME="pgfId=10029"> </A>CONST<BR>&nbsp;&nbsp;&nbsp;&nbsp;dataOffsetFlag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= $8000;&nbsp;&nbsp;&nbsp;&nbsp; {sound command data offset bit}<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=1990"> </A><A NAME="marker=10031"> </A>If the <TT CLASS="cv">dataOffsetFlag</TT> bit is not set, <TT CLASS="cv">param2</TT> is interpreted instead as a pointer to the location in memory (outside the sound resource) where the data is located.<A NAME="marker=124"> </A><A NAME="marker=125"> </A><A NAME="marker=137"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=2010"> </A>The first few bytes of the resource contain <TT CLASS="cv">'snd&nbsp;'</TT> header information and are a different size for each format. An audio data type specified in a format 1 <TT CLASS="cv">'snd&nbsp;'</TT> requires 6 bytes. The number of data types multiplied by 6 is added to this offset. The number of commands multiplied by 8 bytes, the size of a sound command, is added to the offset.</P><H2 CLASS="H3.Heading3TOC"><A target="doc" HREF="imsoundmgr.2e.htm#pgfId=2011" CLASS="Hypertext">The Format 1 Sound Resource</A></H2><H2 CLASS="H3.Heading3TOC"><A target="doc" HREF="imsoundmgr.2f.htm#pgfId=2620" CLASS="Hypertext">The Format 2 Sound Resource </A></H2><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.2c.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.2c.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.2e.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>