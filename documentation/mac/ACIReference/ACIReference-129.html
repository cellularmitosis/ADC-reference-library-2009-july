<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Color Picker-Defined Functions(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING129></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-128.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-130.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-55.html"><B>Chapter 2 - Color Picker Manager Reference</B></A> / <A HREF="ACIReference-10.html"><B></B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING129-0></A>
<H2><A NAME=MARKER-9-139></A>Color Picker-Defined Functions</H2>
 <A NAME=MARKER-2-140></A>If you are creating your own color picker, it must support the functions described in this section. When you create a color picker, the Color Picker Manager uses the Component Manager to request services from your color picker. The code for your color picker should be contained in a resource, as described in <A HREF=#nonexistent-marker>"Creating a Component Resource for a Color Picker" (page 2-28)</A> in <I>Advanced Color Imaging on the Mac OS</I>. The Component Manager expects that the entry point in this resource is a function having this format:<P>
<PRE>
pascal ComponentResult MyColorPickerDispatch (
ComponentParameters *params, 
Handle storage);
</PRE>
 <A HREF=#nonexistent-marker>Listing 2-16 (page 2-32)</A> in <I>Advanced Color Imaging on the Mac OS</I> illustrates how to implement this function.<P>
 Whenever the Color Picker Manager uses the Component Manager to send a request to your color picker, the Component Manager calls your component's entry point and passes any parameters, along with information about the current connection, in a component parameters structure. The Component Manager also passes a handle to the global storage associated with that instance of your color picker.<P>
 The request codes that the Component Manager sends to your color picker are described in <A HREF=ACIReference-66.html#MARKER-9-46>"Request Codes" (page 2-12)</A>. Your color picker must also support the four required request codes described in the chapter "Component Manager" in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.<P>
 When your color picker receives a request, it should examine the parameters to determine the nature of the request, perform the appropriate processing, set an error code if necessary, and return an appropriate function result to the Component Manager.<P>
 To extract these parameters, your color picker code should use the <CODE>CallComponentFunctionWithStorage</CODE> function, which invokes a specified function of your color picker with the parameters originally provided by the Color Picker Manager. Your color picker passes these parameters by specifying the same component parameters structure that was received by your color picker's main entry point. The <CODE>CallComponentFunctionWithStorage</CODE> function also provides a handle to the memory associated with the current connection. Your color picker uses this memory to store private data that it initializes in response to the <CODE>kInitPicker</CODE> request code. Therefore, all of the functions described in this section take a handle to storage as their first parameter.<P>




<p>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="ACIReference-130.html">Setting Up a Color Picker</A><br>
<DD>
<DT>
<DT><A HREF="ACIReference-136.html">Responding to Requests to Return and SetColor Picker Information</A><br>
<DD>
<DT>
<DT><A HREF="ACIReference-148.html">Responding to Events in a Color Picker</A><br>


</dl>

</dl>





</BLOCKQUOTE><HR>
<center>
<A HREF="ACIReference-128.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-130.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
