<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>CMNewProfileSearch(IM: ACI Ref)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING277></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACIReference-276.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-278.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACIReference-2.html"><B>Advanced Color Imaging Reference</B></A> / <BR><DD><A HREF="ACIReference-154.html"><B>Chapter 3 - ColorSync Manager Reference for Applications and Device Drivers</B></A> / <A HREF="ACIReference-218.html"><B>ColorSync Manager Functions</B></A><BR><DL><DD><A HREF="ACIReference-275.html"><B>Profile Searching</B></A> / <A HREF="ACIReference-276.html"><B>Searching External Profiles</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING277-0></A>
<H3><A NAME=MARKER-11-425></A><A NAME=MARKER-9-426></A>CMNewProfileSearch</H3>
 Searches the ColorSyncTM Profiles folder and returns a list of 2.x profiles that match the search specification. <P>
<PRE>
pascal CMError CMNewProfileSearch (
CMSearchRecord *searchSpec,
void *refCon, 
unsigned long *count,
CMProfileSearchRef *searchResult);
</PRE>
<DL>
<DT><CODE>searchSpec</CODE>
<DD> A pointer to a search specification. For a description of the information you can provide in a search record of type <CODE>CMSearchRecord</CODE> to define the search, see <A HREF=ACIReference-192.html#MARKER-9-258>"Profile Search Record" (page 3-51)</A>.
<DT><CODE>refCon</CODE>
<DD> A reference constant for application data passed as a parameter to calls to the filter function. For a description of the filter function, see the <CODE>MyCMProfileFilterProc</CODE> function <A HREF=ACIReference-311.html#MARKER-9-475>(page 3-171)</A>. 
<DT><CODE>count</CODE>
<DD> A pointer to a profile count. On output, a one-based count of profiles matching the search specification.
<DT><CODE>searchResult</CODE>
<DD> A pointer to a search result reference. On output, a reference to the profile search result list <A HREF=ACIReference-211.html#MARKER-9-301>(page 3-63)</A>.
<DT><I>function result</I>
<DD> A result code of type CMError. See <A HREF=ACIReference-313.html#MARKER-9-479>"Result Codes" (page 3-174)</A> for a list of ColorSync-specific result codes.
</DL>
<A NAME=HEADING277-8></A>
<H5>DISCUSSION</H5>
 The <CODE>CMNewProfileSearch</CODE> function sets up and defines a new search identifying through the search record the elements that a profile must contain to qualify for inclusion in the search result list. The function searches the ColorSyncTM Profiles folder for version 2.x profiles that meet the criteria and returns a list of these profiles in an internal private data structure whose reference is returned to you in the <CODE>searchResult</CODE> parameter. <P>
 You must provide a search record of type <CODE>CMSearchRecord</CODE> identifying the search criteria. You specify which fields of the search record to use for any given search through a search bit mask whose value you set in the search record's <CODE>searchMask</CODE> field. <P>
 Among the information you can provide in the search record is a pointer to a filter function to use to eliminate profiles from the search based on additional criteria not defined by the search record. The search result reference is passed to the filter function after the search is performed. For a description of the filter function and its prototype, see the <CODE>MyCMProfileFilterProc</CODE> function <A HREF=ACIReference-311.html#MARKER-9-475>(page 3-171)</A>. <P>
 Your application cannot directly access the search result list. Instead, you pass the returned search result list reference to other search-related functions that allow you to use the result list.<P>
<A NAME=HEADING277-13></A>
<H5>SEE ALSO</H5>
 To obtain a reference to a profile corresponding to a specific index in the list, use the <CODE>CMSearchGetIndProfile</CODE> function <A HREF=ACIReference-280.html#MARKER-9-432>(page 3-137)</A>. To obtain the file specification for a profile corresponding to a specific index in the list, use the <CODE>CMSearchGetIndProfileFileSpec</CODE> function <A HREF=ACIReference-281.html#MARKER-9-434>(page 3-138)</A>. To update the search result list, use the <CODE>CMUpdateProfileSearch</CODE> function <A HREF=ACIReference-278.html#MARKER-9-428>(page 3-135)</A>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACIReference-276.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACIReference-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACIReference-371.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACIReference-278.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACIReference-3.html">&copy; Apple Computer, Inc.</A><br>11 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
