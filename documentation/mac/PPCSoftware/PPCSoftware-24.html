<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Routine Flags (IM: PS)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING24></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="PPCSoftware-23.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-25.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="PPCSoftware-2.html"><B>PowerPC System Software</B></A> / <BR><DD><A HREF="PPCSoftware-17.html"><B>Chapter 2 - Mixed Mode Manager</B></A> / <A HREF="PPCSoftware-20.html"><B>Mixed Mode Manager Reference</B></A><BR><DL><DD><A HREF="PPCSoftware-21.html"><B>Constants</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING24-0></A>
<H3><A NAME=MARKER-9-277></A>Routine Flags</H3>
 The <CODE>routineFlags</CODE> field of a routine record contains a set of flags that specify informa-<BR>tion about a routine. You can use constants to specify the desired routine flags. Currently, only 5 of the 16 bits in a routine flags word are defined. You should set all the other <BR>bits to 0.<P>
<PRE>
enum {
   kProcDescriptorIsAbsolute     = (RoutineFlagsType)0x00,
   kProcDescriptorIsRelative     = (RoutineFlagsType)0x01
};
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-279></A><A NAME=MARKER-2-279></A>kProcDescriptorIsAbsolute</CODE>
<DD> The address of the routine's entry point specified in the <CODE>procDescriptor</CODE> field of a routine record is an absolute address.
<DT><CODE><A NAME=MARKER-2-281></A><A NAME=MARKER-2-55></A>kProcDescriptorIsRelative</CODE>
<DD> The address of the routine's entry point specified in the <CODE>procDescriptor</CODE> field of a routine record is relative to the beginning of the routine descriptor. If the code is contained in a resource and its absolute location is not known until run time, you should set this flag.
</DL>
<PRE>
enum {
   kFragmentIsPrepared           = (RoutineFlagsType)0x00,
   kFragmentNeedsPreparing       = (RoutineFlagsType)0x02
};
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-283></A><A NAME=MARKER-2-283></A>kFragmentIsPrepared</CODE>
<DD> The fragment containing the code to be executed is already loaded into memory and prepared by the Code Fragment Manager.
<DT><CODE><A NAME=MARKER-2-285></A><A NAME=MARKER-2-285></A>kFragmentNeedsPreparing</CODE>
<DD> The fragment containing the code to be executed needs to be loaded into memory and prepared by the Code Fragment Manager. If this flag is set, the <CODE>kPowerPCISA</CODE> and <CODE>kProcDescriptorIsRelative</CODE> flags should also be set.
</DL>
<PRE>
enum {
   kUseCurrentISA                = (RoutineFlagsType)0x00,
   kUseNativeISA                 = (RoutineFlagsType)0x04
};
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><A NAME=MARKER-2-287></A><A NAME=MARKER-2-133></A>kUseCurrentISA
<DD> If possible, use the current instruction set architecture when executing a routine.
<DT><A NAME=MARKER-2-289></A><A NAME=MARKER-2-147></A>kUseNativeISA
<DD> Use the native instruction set architecture when executing a routine.
</DL>
<PRE>
enum {
   kPassSelector                 = (RoutineFlagsType)0x00,
   kDontPassSelector             = (RoutineFlagsType)0x08
};
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-291></A><A NAME=MARKER-2-291></A>kPassSelector</CODE>
<DD> Pass the routine selector to the target routine as a parameter.
<DT><CODE><A NAME=MARKER-2-293></A><A NAME=MARKER-2-85></A>kDontPassSelector</CODE>
<DD> Do not pass the routine selector to the target routine as a parameter. You should not use this flag for 680x0 routines.
</DL>
<PRE>
enum {
   kRoutineIsNotDispatchedDefaultRoutine
                                 = (RoutineFlagsType)0x00,
   kRoutineIsDispatchedDefaultRoutine
                                 = (RoutineFlagsType)0x10
};
</PRE>
<B>Constant descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-2-295></A><A NAME=MARKER-2-20></A>kRoutineIsNotDispatchedDefaultRoutine</CODE>
<DD> This routine is not the default routine for a set of routines that is dispatched using a routine selector.
<DT><CODE><A NAME=MARKER-2-297></A><A NAME=MARKER-2-76></A>kRoutineIsDispatchedDefaultRoutine</CODE>
<DD> This routine is the default routine for a set of routines that is dispatched using a routine selector. If a set of routines is dispatched using a routine selector and the routine corresponding to a specified selector cannot be found, this default routine is called. This routine must be able to accept the same procedure information for all routines. If possible, it is passed the procedure information passed in a call to <CODE>CallUniversalProc</CODE>.
<DT><p><B>IMPORTANT</B>
<DD>In general, you should use the constants <CODE>kPassSelector</CODE> and <CODE>kRoutineIsNotDispatchedDefaultRoutine</CODE>. The constants <CODE>kDontPassSelector</CODE> and <CODE>kRoutineIsDispatchedDefaultRoutine</CODE> are reserved for use with selector-based system software routines.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>

</BLOCKQUOTE>
<HR>
<center>
<A HREF="PPCSoftware-23.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="PPCSoftware-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="PPCSoftware-86.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="PPCSoftware-25.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="PPCSoftware-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
