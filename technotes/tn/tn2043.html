<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 01-05-01 --><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="Stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note TN2043: Mac OS X: v10.1.1 - v10.1.3</title><meta name="keywords" content="Mac OS X System Update 10.1.1 10.1.2 10.1.3"><meta name="Description" content="Technical Note TN2043: This Technote describes changes providedby system software updates 10.1.1 through 10.1.3."><STYLE TYPE="text/css">#menutext3	{	font-family: helvetica, geneva, arial, sans-serif;	font-size: 10px;	margin-left: 45px;	line-height: 14px;	}H3 {	color: #000000;	font-family: geneva, arial, helvetica, sans-serif;	font-size: 12px;	font-weight: bold;}H4 {	color: #000000;	font-family: geneva, arial, helvetica, sans-serif;	font-size: 9px;	font-weight: bold;}</STYLE><meta name="categories" content="System Releases, Overview and Operating System"><meta name="week-posted" content="Mar 4, 2002 - Mar 8, 2002"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10003076" title="Mac OS X: v10.1.1 - v10.1.3"></a><A NAME="top"></A><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/Carbon/index.html">Carbon</a> &gt; <a href="../../technicalnotes/Carbon/idxTools-date.html">Tools</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN2043</div>
<div id="pageheadsub">Mac OS X: v10.1.1 - v10.1.3</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=0 WIDTH=600><TR><td align="left">         <p id="introtext">This Technote describes changes provided bysystem software updates 10.1.1 through 10.1.3.</P>              <p id="introtext">This Technical Note was created for application developers interestedin writing software that is compatible with Mac OS X.  This list includes changes that affect API level programming and product testing, it is not intended to be an exhaustive list of all the changes in software updates.</P>    <table border="0" width="600" cellpadding="0" cellspacing="0"><tr><td width=300 align=left scope="row"> <img src="images/mtop600.gif" alt="" align="bottom" width=600 height=7></td></tr><tr bgcolor="#e6e6e6"><td background="images/mbody600.gif" width=600 align=left><span id="menutitle">CONTENTS<br></span></td></tr><tr bgcolor="#e6e6e6"><td background="images/mbody600.gif" width=600 align=left><table border="0" width="590" cellpadding="0" cellspacing="0"><tr> <td width=295 align=left scope="row">	<!-- index part one --><p id="menutext"><A HREF="#SECTION1011"><B>Mac OS X version 10.1.1</B></A><BR></p><p id="menutext2"><A HREF="#SU114A">File Systems</A><BR></p><p id="menutext3"><A HREF="#SU14">Apple Filing Protocol Client</A><BR><A HREF="#SU121">HFS</A><BR><A HREF="#SU160">WebDAV</A><BR></p><p id="menutext2"><A HREF="#SU119A">Hardware/Devices</A><BR></p><p id="menutext3"><A HREF="#SU158">USB</A><BR></p><p id="menutext2"><A HREF="#SU128">Java</A><BR><BR><A HREF="#SU141">Networking</A><BR></p><p id="menutext3"><A HREF="#SU146">PPP</A><BR><A HREF="#SU157">URL Access</A><BR></p><p id="menutext2"><A HREF="#SU148A">Toolbox APIs</A><BR></p><p id="menutext3"><A HREF="#SU122">Appearance Manager</A><BR><A HREF="#SU114">Event Manager</A><BR><A HREF="#SU119">Font Manager</A><BR><A HREF="#SU124">Menu Manager</A><BR><A HREF="#SU155">Multilingual Text Editor</A><BR><A HREF="#SU147">Printing</A><BR><A HREF="#SU148">QuickDraw</A><BR><A HREF="#SU153">Text Services Manager</A><BR><A HREF="#SU125">Window Manager</A><BR></p><p id="menutext2"></p><p id="menutext"><A HREF="#SECTION1012"><B>Mac OS X version 10.1.2</B></A><BR></p><p id="menutext2"><A HREF="#SU26">AppleScript</A><BR></p><p id="menutext2"><A HREF="#SU217">Audio</A><BR></p><p id="menutext3"><A HREF="#SU217A">MIDI</A><BR></p><p id="menutext2"><A HREF="#SU222">Classic Runtime</A><BR></p><p id="menutext2"><A HREF="#SU231A">File Systems</A><BR></p><p id="menutext3"><A HREF="#SU249">HFS</A><BR><A HREF="#SU299">UFS</A><BR></p><p id="menutext2"><A HREF="#SU246A">Hardware/Devices</A><BR></p><p id="menutext3"><A HREF="#SU246">FireWire</A><BR><A HREF="#SU258">ImageCapture</A><BR><A HREF="#SU259">IOKit</A><BR><A HREF="#SU261">IrDA</A><BR><A HREF="#SU296">Mass Storage</A><BR><A HREF="#SU287">PCCard Support</A><BR><A HREF="#SU292">SCSI Storage Driver X</A><BR><A HREF="#SU2100">USB</A><BR></p><!-- index part one --></td> <td width=295 align=left><!-- index part two --><p id="menutext"><A HREF="#SECTION1012"><B>Mac OS X version 10.1.2</B></A> (continued)<BR></p><p id="menutext2"><A HREF="#SU282">Networking</A><BR></p><p id="menutext3"><A HREF="#SU236">DHCP and BOOTP</A><BR><A HREF="#SU240">Ethernet</A><BR><A HREF="#SU283">OpenTransport</A><BR></p><p id="menutext2"><A HREF="#SU296A">Toolbox APIs</A><BR></p><p id="menutext3"><A HREF="#SU265">Carbon Core</A><BR><A HREF="#SU229">Component Manager</A><BR><A HREF="#SU251">Control Manager</A><BR><A HREF="#SU252">Dialog Manager</A><BR><A HREF="#SU253">Event Manager</A><BR><A HREF="#SU244">File Manager</A><BR><A HREF="#SU254">Menu Manager</A><BR><A HREF="#SU280">Navigation Services</A><BR><A HREF="#SU290">Printing</A><BR><A HREF="#SU255">Scrap Manager</A><BR><A HREF="#SU294">Speech Recognition</A><BR><A HREF="#SU298">Text Encoding Converter</A><BR><A HREF="#SU256">Window Manager</A><BR></p><p id="menutext"><A HREF="#SECTION1013"><B>Mac OS X version 10.1.3</B></A><BR></p><p id="menutext2"><A HREF="#SU315">File Systems</A><BR></p><p id="menutext3"><A HREF="#SU341">NFS</A><BR><A HREF="#SU359">WebDAV</A><BR></p><p id="menutext2"><A HREF="#SU359A">Hardware/Devices</A><BR></p><p id="menutext3"><A HREF="#SU324">ImageCapture</A><BR><A HREF="#SU344">PCCard Support</A><BR><A HREF="#SU347">SAM Multimedia Devices</A><BR><A HREF="#SU357">USB</A><BR></p><p id="menutext2"><A HREF="#SU332">LoginWindow</A><BR><A HREF="#SU340">Networking</A><BR></p><p id="menutext3"><A HREF="#SU356">URL Access</A><BR></p><p id="menutext2"><A HREF="#SU338A">Toolbox APIs</A><BR></p><p id="menutext3"><A HREF="#SU319">Control Manager</A><BR><A HREF="#SU319A">Font Manager</A><BR><A HREF="#SU322">Help Tags</A><BR><A HREF="#SU318">Menu Manager</A><BR><A HREF="#SU342">OpenGL</A><BR><A HREF="#SU345">Printing</A><BR><A HREF="#SU39">Quartz 2D</A><BR><A HREF="#SU346">QuickTime</A><BR><A HREF="#SU338">Script Manager</A><BR><A HREF="#SU338A">Text Encoding Converter</A><BR><A HREF="#SU354">Text Services Manager</A><BR><A HREF="#SU323">Window Manager</A><BR></p><p id="menutext"><A HREF="#REFERENCES">References</A><BR><A HREF="#DOWNLOADS">Downloadables</A></p></td></tr></table></td></tr><tr><td width=600 align=left scope="row"><img src="images/mbot600.gif" alt="" width=600 height=16></td></tr></table><!-- begin_date --><H3 align=center>[Mar 06 2002]</H3><!-- end_date --><BR><BR><hr width=500 align=center><BR><BR><!-- begin_content -->  	                <A NAME="SECTION1011" x-level=1 x-title="Mac OS X version 10.1.1"></A>    <H2>Mac OS X version 10.1.1</H2><P>This section describes changes provided in the 10.1.1 software update.</P><A NAME="SU114A" x-level=2 x-title="File Systems"></A><H3>File Systems</H3><P>This section discusses changes and improvements in the file systems installed with Mac OS X 10.1.1.</P><A NAME="SU14" x-level=2 x-title="Apple Filing Protocol Client"></A><H4>Apple Filing Protocol Client</H4><P>The Apple Filing Protocol (AFP) Client provides file sharing servicesfor computers networked with AFP file servers.</P><UL><LI>A problem where client machines would lose server connections when sleeping has been corrected (r. 2783428).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU121" x-level=2 x-title="HFS"></A><H4>HFS</H4><P>The Hierarchical File System.</P><UL><LI><CODE>FSGetCatalogInfoBulk</CODE> was returning an inconsistent lock bit setting in <CODE>nodeFlags</CODE> for directories.  This problem has been corrected (r. 2778014).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/Files/FileManager/filemanager.html">File Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU160" x-level=2 x-title="WebDAV"></A><H4>WebDAV</H4><P>WebDAV stands for "Web Distributed Authoring and Versioning". It is an extension to the HTTP/1.1 protocol which allows users to collaboratively edit and manage files on remote web servers. Mac OS X includes a file system, the WebDAV file system, which allows WebDAV servers to be mounted as volumes.</P><UL><LI>HTTP supports several authentication schemes with the primary schemes being the Basic Access and the Digest Access authentication schemes (RFC 2617). The WebDAV specification allows the Basic Access authentication scheme to be used under certain conditions, but requires support for the Digest Access authentication scheme (RFC 2518, section 17.1).<BR><BR>Support for the Digest Access authentication scheme was added to the WebDAV file system in Mac OS 10.1.1. These changes also added support for handling multiple authentication challenges in each WWW-Authenticate or Proxy-Authenticate header field and for handling authentication challenges in multiple WWW-Authenticate or Proxy-Authenticate header fields (previously, only a single WWW-Authenticate header field was handled and then, only if it contained a single challenge for the Basic Access authentication scheme).  (rr. 2787793, 2491919).<BR><BR></LI></UL><P>References<BR><UL><LI>RFC 2518 "HTTP Extensions for Distributed Authoring -- WEBDAV" at <A HREF="http://www.ietf.org/rfc/rfc2518.txt">&lt;http://www.ietf.org/rfc/rfc2518.txt&gt;</A> </LI><LI>RFC 2616 "Hypertext Transfer Protocol -- HTTP/1.1" at <A HREF="http://www.ietf.org/rfc/rfc2616.txt">&lt;http://www.ietf.org/rfc/rfc2616.txt&gt;</A></LI><LI>RFC 2617 "HTTP Authentication: Basic and Digest Access Authentication" at <A HREF="http://www.ietf.org/rfc/rfc2617.txt">&lt;http://www.ietf.org/rfc/rfc2617.txt&gt;</A> </LI><LI>webdav.org -- WebDAV documentation, specifications, software, mailing lists, and other useful items at <A HREF="http://www.webdav.org">&lt;http://www.webdav.org&gt;</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU119A" x-level=2 x-title="Hardware/Devices"></A><H3>Hardware/Devices</H3><P>This section discusses changes and new features for device driver writers provided in Mac OS X 10.1.1.</P><A NAME="SU158" x-level=2 x-title="USB"></A><H4>USB</H4><P>A set of APIs for communicating with USB devices connected to your Macintosh.</P><UL><LI>USB driver interface objects are now preserved for drivers calling the USB Device Reset function so the driver making the reset call is not unloaded (r. 2788013).<BR><BR></LI><LI>A problem where an infinite loop could occur in <CODE>UIMCreateIsochTransfer</CODE> during ISOC transfers with a frame-list where 8 or fewer frames try to transfer a buffer which crosses more than one page boundary has been corrected (r. 2704158).<BR><BR></LI><LI>Problem where <CODE>IOUSBRootHubDevice::DeviceRequest()</CODE> call was not setting the  <CODE>wLenDone</CODE> field of the request when called from a high level application attempting to perform a <CODE>DeviceRequest</CODE> call to the <CODE>RootHub</CODE> has been corrected (r. 2771050).<BR><BR></LI><LI>A problem that could corrupt kernel memory where <CODE>IOUSBFamily/Classes/IOUSBController_Pipes.cpp</CODE> was ignoring errors returned by <CODE>IOMemoryDescriptor::prepare()</CODE> has been corrected (r. 2757541).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU128" x-level=2 x-title="Java"></A><H3>Java</H3><P>HotSpot, the Java virtual Machine used in Mac OS X.</P><UL><LI>A problem where the <CODE>java.lang.String.equals()</CODE> method could return incorrect results has been corrected (r. 2780870).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Java/java.html">Java Developer Documentation</A></LI><LI><A HREF="http://developer.apple.com/documentation/ReleaseNotes/">Mac OS X Java GM Release Notes</A></LI><LI><A HREF="http://developer.apple.com/documentation/ReleaseNotes/">General Java Information Release Notes</A></LI><LI><A HREF="http://developer.apple.com/documentation/ReleaseNotes/">Java Cocoa APIs Release Notes</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU141" x-level=2 x-title="Networking"></A><H3>Networking</H3><P>This section discusses changes and new features in the bsd-based networking services provided in Mac OS X 10.1.1.</P><UL><LI>A problem where TCP/UDP packets in oversized Ethernet frames were being dropped has been corrected (r. 2786380).<BR><BR></LI><LI>A problem with DHCP that could affect cable modem connections wascorrected (r. 2787084).<BR><BR></LI></UL>	<A NAME="SU146" x-level=2 x-title="PPP"></A><H4>PPP</H4><P>PPP is a network link layer plug-in that provides access to TCP/IP 	networks via Point-to-Point Protocol. It supports both PPP over serial and PPP 	over Ethernet (PPPoE).</P><UL><LI>PPPoE MTU was not being set correctly.  Now, if the ISP requests a lower MTU during the PPP negotiation, then that value is used, otherwise the value 1492 is used (r. 2790938).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU157" x-level=2 x-title="URL Access"></A><H4>URL Access</H4><P>The URL Access Manager provides application support for downloading data from or uploading data to a Universal Resource Locator (URL), with support for automatic decompression of compressed files.</P><UL><LI>A problem where URLAccess was incorrectly reporting all <CODE>30x</CODE> response codes as <CODE>404</CODE> errors has been corrected (r. 2773459).<BR><BR></LI>    <LI>A problem where URLAccess would not operate correctly with <CODE>'file://'</CODE> URLs containing spaces has been corrected (r. 2782588).<BR><BR></LI>    <LI>A problem where attempting to upload a folder by way of FTP using <CODE>URLUpload</CODE> would result in a <CODE>-43</CODE> error has been corrected (r. 2784661).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU148A" x-level=2 x-title="Toolbox APIs"></A><H3>Toolbox APIs</H3><P>Toolbox include a large number of APIs used by applications for accessing various high level services provided by the operating system.</P><A NAME="SU122" x-level=2 x-title="Appearance Manager"></A><H4>Appearance Manager</H4><P>The Appearance Manager extends the facilities provided by the Control Manager, the Dialog Manager, the Menu Manager, and the Window Manager to provide a consistent look and feel for all on screen user interface elements in the Mac OS environment.</P><UL><LI>A problem where <CODE>GetBestControlRect</CODE> would return incorrect dimensions for a check box or a radio button after the title was changed has been corrected (r. 2771295).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/AppManager/appearancemanager.html">Appearance Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU114" x-level=2 x-title="Event Manager"></A><H4>Event Manager</H4><P>The Event Manager manages the delivery of system and user interaction events to applications.</P><UL><LI>The event loop is no longer called inside of <CODE>CheckEventQueueForUserCancel</CODE> so calling this routine will no longer interfere with the processing of drag and drop commands (r. 2773908).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/oss/CarbonEventManager/carboneventmanager.html">Carbon Event Manager Documentation</A></LI><LI><A HREF="http://developer.apple.com/documentation/Carbon/oss/EventManager/eventmanager.html">Event Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU119" x-level=2 x-title="Font Manager"></A><H4>Font Manager</H4><P>The Font Manager provides system-wide services for the retrieval of glyphs for display of textual information.</P><UL><LI>There was a problem in handling duplicate font ID's which would cause a crash, this has been fixed (r. 2762357).<BR><BR></LI>    <LI>A problem where the routine <CODE>FMGetFontContainer</CODE> could return a reference to the wrong container for the bitmap font Hiroshige has been corrected (r. 2774022).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/FontManager/fontmanager.html">Font Manager Documentation</A></LI></UL>            <P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU124" x-level=2 x-title="Menu Manager"></A><H4>Menu Manager</H4><P>The Menu Manager is the part of the operating system responsible for both drawing the menu bar, and drawing menus and pop-up menus on the screen while the mouse is being held down.</P><UL><LI>Menu title truncation has been improved by adding variable menu title condensing.  With this change, the menu bar can accommodate more menu titles on smaller screens  (r. 2773147).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/MenuManager/menumanager.html">Menu Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU155" x-level=2 x-title="Multilingual Text Editor"></A><H4>Multilingual Text Editor</H4><P>The Multilingual Text Editor (MLTE) supplies a C language interface for creating and editing Unicode text documents. Although MLTE may appear to be functionally similar to TextEdit in many ways, MLTE provides many features that are not provided in TextEdit.</P><UL><LI>When attaching an MLTE object to a new window, using <CODE>TXNAttachObjectToWindow</CODE> API, MLTE now removes the old MLTE Carbon event handlers from the old window and before installing install them into the new window (r. 2769283).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/MultilingualTextEngine/multilingualtextengine.html">Multilingual Text Engine Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU147" x-level=2 x-title="Printing"></A><H4>Printing</H4><P>This section discusses new features, bug fixes, and new APIs in the Mac OS X 10.1.1 printing services.</P><UL><LI>A new API was added to provide EPD capability in the PDF Printpath to allow EPS pictures to print correctly to PostScript printers (r. 2746526).<BR><BR></LI><LI>Improved compatibility with various USB PostScript printers.  To take advantage of these compatibility enhancements,  USB PostScript printers must support TCBP (r. 2766407).<BR><BR></LI><LI>A problem preventing saving PDF fills with names containing percent (<CODE>%</CODE>) characters has been corrected (r. 2750060).<BR><BR></LI><LI>Improved system stability when hot-plugging or restarting with USB printers  (r. 2792013).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/graphics/CarbonPrintingManager/carbonprintingmgr.html">Printing Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU148" x-level=2 x-title="QuickDraw"></A><H4>QuickDraw</H4><P>QuickDraw is a part of the Mac OS used for drawing and displaying graphical information on the screen and other raster devices.</P><UL><LI>A problem where <CODE>ScrollRect</CODE> could crash with a delta value of zero in the vertical scroll distance parameter has been corrected (r. 2793815).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/graphics/QuickDraw/quickdraw.html">QuickDraw Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU153" x-level=2 x-title="Text Services Manager"></A><H4>Text Services Manager</H4><P>The Text Services Manager provides facilities for applications to communicate with various text processing utilities, in particular with text input methods.</P><UL><LI>A problem where Kotoeri input crashes applications using Bottom Input Windows has been corrected (r. 2773555).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/TextServicesManager/textservicesmgr.html">Text Services Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU125" x-level=2 x-title="HLTB Windows (Carbon)"></A><H4>Window Manager</H4><P>The Window Manager provides facilities for drawing and maintaining windows on the screen.</P><UL><LI>Under some conditions, calls to <CODE>ShowWindow</CODE> could cause the user input focus to be set to some other window than the front-most window.  This problem has been corrected  (r. 2780280).<BR><BR></LI><LI>A problem where calling <CODE>MoveWindow</CODE> to move a window to the same location where the window was already located could cause the window to have a global port rectangle of <CODE>{ 0, 0, -1, -1 }</CODE> has been corrected (r. 2669004).<BR><BR></LI><LI>A problem in <CODE>TransitionWindow</CODE> which caused the window to immediately snap to its new size when resizing vertically has been corrected.   Now, the window resizes incrementally to its new size as expected (r. 2783317).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/WindowManager/windowmanager.html">Window Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><BR><hr width=500 align=center><BR><A NAME="SECTION1012" x-level=1 x-title="Mac OS X version 10.1.2"></A>                 <H2>Mac OS X version 10.1.2</H2><P>This section describes changes provided in the 10.1.2 software update.</P><A NAME="SU26" x-level=2 x-title="AppleScript"></A><H3>AppleScript</H3><P>AppleScript is a component of the operating system that provides a  scripting interface for users to automate actions that would normally require use of the menus and keyboard. Even more importantly, it allows users to access functionality of applications which would be difficult or impossible to access by hand.</P><UL><LI>Remote scripting of the Mac OS X Finder now works as expected (r. 2775419).<BR><BR></LI><LI>AppleScript's <CODE>Gestalt</CODE> version number (<CODE>gestaltAppleScriptVersion</CODE>) was updated to 1.8.1 (r. 2823438).<BR><BR></LI><LI>Cases where Coercing Unicode to plain text would fail with errorcode <CODE>-8783</CODE> have been corrected (r. 2816500).<BR><BR></LI><LI>A problem where the <CODE>'path to application &lt;the-app&gt;'</CODE> Standard Addition Command was always returning the path to the Script Editor where the script was running or script (if it was running as an application) has been corrected.  Now path to application <CODE>'path to application &lt;the-app&gt;'</CODE> returns a path to <CODE>&lt;the-app&gt;</CODE> as expected (r. 2747285).<BR><BR></LI><LI>Scripting additions now have their termination functions called when the hosting process terminates (r. 2811696).<BR><BR></LI><LI>The new <CODE>'do shell script'</CODE> Standard Addition Command was added to allow scripts to run UNIX shell scripts (r. 2803575).<BR><BR></LI><LI>AppleScript now supports POSIX file name paths.  This feature was introduced for interoperability with the <CODE>'do shell script'</CODE> command (r. 2793997).<BR><BR></LI><LI>The parameterized form of the <CODE>'mount volume'</CODE> Standard Addition Command now works as expected when used to mount AppleShare volumes over an AppleTalk network (r. 2656820). Previously, in Mac OS X, mount volume commands of the form '<CODE>mount volume "Mac OS X Disk" on server "My Computer"</CODE>' did not work as expected; though, equivalent commands of the form '<CODE>mount volume "afp:/at/My Computer/Mac OS X Disk"</CODE>' worked correctly.<BR><BR></LI><LI>The <CODE>'choose application'</CODE> Standard Addition Command no longer fails with out of memory errors when called from scripts running in Classic (r. 2804619).<BR><BR></LI></UL><P>References:</P>	<UL>	<LI><A HREF="http://www..apple.com/applescript/macosx/">AppleScript for Mac OS X 10.1 Web Page</A></LI><LI><A HREF="http://developer.apple.com/documentation/ReleaseNotes/AppleScript.html">AppleScript Release Notes</A></LI><LI><A HREF="http://www.apple.com/applescript/">AppleScript Web Site</A></LI><LI><A HREF="http://developer.apple.com/documentation/Carbon/interapplicationcomm/AppleScript/applescript.html">AppleScript Documentation</A></LI><LI><a href="../indexes/ascr-a.html">AppleScript Technical Notes</A></LI><LI><a href="../../qa/indexes/ascr-a.html">AppleScript Technical Q&amp;As</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU217" x-level=2 x-title="Audio"></A><H3>Audio</H3><P>This section discusses changes and new features in Mac OS X 10.1.2 related to audio input and output.</P><UL><LI>A problem in multi-channel USB Audio making some channels unusable has been corrected (r. 2763277).<BR><BR></LI><LI>AppleUSBAudio now makes more efficient use of system resources by deferring operations, such as opening pipes, until the resources are actually going to be used (r. 2765850).<BR><BR></LI></UL><A NAME="SU217A" x-level=2 x-title="MIDI"></A><H4>MIDI</H4><P>This section discusses changes and new features in Mac OS X 10.1.2 related to MIDI.</P><UL><LI>USB MIDI Class driver no longer assumes that a device supports a specific MIDI interface.  Now, the USB MIDI Class driver uses a new algorithm to identify supported MIDI interfaces provided by connected devices (r. 2763556).<BR><BR></LI><LI>The <CODE>AppleMIDIUSBDriver</CODE> was updated to recognize additional devices and the number of ports for USB MIDI devices (r. 2768476).<BR><BR></LI><LI>Performance improvements in the USB MIDI driver's processing of incoming packets have been added to help reduce the probability of packets being dropped (r. 2801401).<BR><BR></LI><LI>A problem where USB MIDI driver was not performing appropriate de-allocations for endpoints referencing deleted devices has been corrected.  Applications attempting to re-use any of these endpoints for other purposes may have crashed while attempting to do so because of this problem (r. 2793467).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/audio/">The Audio Web Pages</A></LI><LI><A HREF="http://developer.apple.com/documentation/ReleaseNotes/IOAudioFamily.html">I/O Kit Audio Family Documentation</A></LI><LI><A HREF="http://developer.apple.com/documentation/quicktime/qtdevdocs/INMAC/SOUND/imsoundmgr.htm">Sound Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU222" x-level=2 x-title="Classic Runtime"></A><H3>Classic Runtime</H3><P>The Mac OS X Classic Runtime environment provides a Mac OS 9 compatibility runtime environment for legacy applications and software.</P><UL><LI>A number of problems that prevented copying and pasting the clipboard contents between applications running in the Classic Runtime and other applications has been corrected (rr. 2804626, 2808268, 2804632).<BR><BR></LI><LI>Corrected a problem where font style information placed on the clipboard by the Classic Runtime was not being copied over to Mac OS X applications correctly during cut and paste operations (r. 2813725).<BR><BR></LI><LI>Performance of the Scrap Manager with respect to copying information from applications running in the Classic Runtime to applications running in Mac OS X has been improved by deferring all data transfer operations until they are actually required (r. 2806734).<BR><BR></LI><LI>Applications running in the Classic Runtime can now extract the sending application's <CODE>ProcessSerialNumber</CODE> from an Apple event received from a Mac OS X application and use that <CODE>ProcessSerialNumber</CODE> to re-target events to the Mac OS X application at a later time (rr. 2804633, 2812563, 2812500).<BR><BR></LI><LI>Altivec registers were being trashed across calls to <CODE>WaitNextEvent</CODE> in the Classic Runtime.  Now they are not (r. 2804623).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU231A" x-level=2 x-title="File Systems"></A><H3>File Systems</H3><P>This section discusses changes and improvements in the file systems installed with Mac OS X 10.1.2.</P><A NAME="SU249" x-level=2 x-title="HFS"></A><H4>HFS</H4><P>The Hierarchical File System.</P><UL><LI>Fixed an HFS vnode locking problem that would cause an application to hang inside of a file system call. The most common symptom of this would be a hang inside <CODE>getattrlist</CODE> when adding a Carbon application to the Login Items pane of the Login panel of System Preferences (r. 2805470).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/Files/FileManager/filemanager.html">File Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU299" x-level=2 x-title="UFS"></A><H4>UFS</H4><P>The UNIX File System.</P><UL><LI>A potential UFS file system corruption was corrected.  Here, a race condition in the inode creation code could sometimes result in the creation of two different vnodes pointing to (and potentially modifying independently) the same on disk data structures (r. 2805397).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU246A" x-level=2 x-title="Hardware/Devices"></A><H3>Hardware/Devices</H3><P>This section discusses changes and new features for device driver writers provided in Mac OS X 10.1.2.</P><A NAME="SU246" x-level=2 x-title="FireWire"></A><H4>FireWire</H4><P>Apple's support for the IEEE 1394 High Performance Serial Bus standard.</P><UL><LI>A problem in the FireWire family that prevented pseudo address spaces larger than about 40 KB from working has been corrected (r. 2795248).<BR><BR></LI><LI>Corrected a problem in the FireWire family that caused the pseudo address space write callback to be called twice for every write.  Now it is only called once for every write (r. 2810404).<BR><BR></LI><LI>Added an AVC family to FireWire (<CODE>IOFireWireAVC</CODE>) to provide support for the FireWire AVC command set (r. 2780865).<BR><BR></LI><LI>A problem where the FireWire user client call <CODE>SetRefCon</CODE> would cause an exception has been corrected (r. 2795244).<BR><BR></LI><LI>FireWire now updates the backing store of a FireWire address space before calling its callback in response to receiving write packets in its address space (r. 2795239).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU258" x-level=2 x-title="ImageCapture"></A><H4>ImageCapture</H4><P>The Image Capture architecture provides a common API for discovering digital imaging devices and transferring images from them.</P><UL><LI>Image Capture was changed to recognize image folders with names other than  DCIM folder (r. 2816485).<BR><BR></LI><LI>Image Capture can now download non-image files from cameras (r. 2793835).<BR><BR></LI><LI>Image Capture now supports events for PTP cameras (r. 2793843).<BR><BR></LI><LI>PCMCIA cards are now recognized by Image Capture (r. 2813402).<BR><BR></LI><LI>Indexed color profiles are now removed from the list of possible profiles to embed (r. 2823951).<BR><BR></LI><LI>Image Capture now recognizes cameras' internal memory storage and is able to see images in those cameras even if the removable storage slot is empty (r. 2823991).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU259" x-level=2 x-title="IOKit"></A><H4>IOKit</H4><P>Apple's object-oriented I/O development model. The I/O Kit provides a framework for simplified driver development, supporting many families of devices.</P><UL><LI>A problem where applications subscribed to sleep notifications (via <CODE>IORegisterForSystemPower</CODE>) were not receiving the <CODE>kIOMessageCanSystemSleep</CODE> message has been corrected.  Recipients of this message have the option of replying with <CODE>IOAllowPowerChange</CODE> or <CODE>IOCancelPowerChange</CODE>.  The fix (in 10.1.2) restores the <CODE>kIOMessageCanSystemSleep</CODE> message so that interested clients receive it again and have the chance to allow or veto sleep (r. 2808446).<BR><BR></LI><LI>Fixed a bug where the <CODE>F12</CODE> key event was being intercepted in order to eject CDs.  Now the <CODE>F12</CODE> key event is passed to applications, and the key must be held down for a half second in order to eject a CD.  When using the Apple Pro Keyboard, the <CODE>F12</CODE> key can no longer be used to eject CDs.  This change allows applications to use <CODE>F12</CODE> as a keyboard equivalent (rr. 2796151, 2765917).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU261" x-level=2 x-title="IrDA"></A><H4>IrDA</H4><P>IrDA provides an infrared communication API for software and drivers written to communicate with and IrDA-capable devices.</P><UL><LI>Added IrDA support to original Titanium PowerBook G4 (r. 2773067).<BR><BR></LI><LI>Added IrDA support to PowerBook G3 (FireWire) (r. 2773070).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU296" x-level=2 x-title="Mass Storage"></A><H4>Mass Storage</H4><P>Drivers for storage devices such as hard disks and CD-RW drives.</P><UL><LI>In Darwin/DP4 large I/O operations could fail silently.  The problem has to do with requests larger than the block storage device's maximum transfer constraints being exceeded.  Such requests are now broken up into smaller I/O operations when the constraints are exceeded.  If exact constraints cannot be determined for a device then a set of default constraints are assumed.  The default constraints are set to 256 blocks and 128 kilobytes (192 kilobytes for CD/DVD devices) (r. 2497619). <BR><BR></LI> </UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU287" x-level=2 x-title="PCCard Support"></A><H4>PCCard Support</H4><P>Drivers for PCCard and CardBus card devices.</P><UL><LI>PC Card drivers can now change the voltage sent to a card (r. 2776059).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU292" x-level=2 x-title="SCSI Storage Driver X"></A><H4>SCSI Storage Driver X</H4><P>Support for devices conforming to the SCSI Architecture Model.</P><UL><LI>Peripheral device type 8 was added to the list of devices supported by the SCSI Storage Driver user client APIs to allow support for media changers in client software (r. 2770690).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU2100" x-level=2 x-title="USB"></A><H4>USB</H4><P>A set of APIs for communicating with USB devices connected to your Macintosh.</P><UL><LI>A problem where the routine <CODE>WritePipeAsync</CODE> was trashing the stack when the parameters <CODE>noDataTimeout</CODE> and <CODE>completionTimeout</CODE> were provided has been corrected (r. 2807390).<BR><BR></LI><LI>Previously, the USB Mass Storage Bulk Only Transport SubClass only recognized the first LUN in a multi-LUN attached peripheral or device.  To allow the USB Mass Storage Bulk Only Transport SubClass to recognize additional devices, the concept of a Logical Unit nub was added to the <CODE>IOSCSIArchitectureModelFamily</CODE> that provides methods for setting the logical unit number for the logical unit that it represents.  With this addition, the <CODE>IOUSBMassStorageClass</CODE> will query devices that use the Bulk Only Transport mechanism for the maximum logical unit number (LUN) supported.  How a device responds to this inquiry will determine how it is initialized used:  if the device reports zero or the device utilizes the Command/Bulk/Interrupt or Command/Bulk transport mechanism, the device does a register service and allows IOKit to load a client; otherwise, if the device supports a LUN greater than zero, the driver will instantiate an <CODE>IOSCSILogicalUnitNub</CODE> for each and set the appropriate LUN. When commands are sent to the <CODE>IOSCSILogicalUnitNub</CODE> from its clients, it will modify the <CODE>SCSITask</CODE> object with the appropriate LUN (r. 2775626).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU282" x-level=2 x-title="Networking"></A><H3>Networking</H3><P>This section discusses changes and new features in the bsd-based networking services provided in Mac OS X 10.1.2.</P><UL><LI><CODE>PF_NDRV</CODE> is now available and works as expected.  Previously, <CODE>PF_NDRV</CODE> sockets would not receive packets for the protocols they registered, and <CODE>PF_NDRV</CODE> packets bypassed all <CODE>DLIL</CODE> interface filters (r. 2808421).<BR><BR></LI></UL><A NAME="SU236" x-level=2 x-title="DHCP and BOOTP"></A><H4>DHCP and BOOTP</H4><P>DHCP and BOOTP servers provide automated network address configuration services. This section discusses changes in Mac OS X's facilities for accessing DHCP and BOOTP servers.</P><UL><LI>Implemented a fix with DHCP so that after sleep, an internet connection would continue to function. Previously, a system set to use a DHCP connection would fail to connect to the internet after the system awoke from sleep (r. 2760975).<BR><BR></LI><LI>Implemented support for multiple IP addresses for an Ethernet network interface. Using the Network Preferences Advanced popup options, one can duplicate a network interface so as to assign multiple IP addresses to the interface (r. 2643289).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU240" x-level=2 x-title="Ethernet"></A><H4>Ethernet</H4><P>Software for APIs used for communicating on ethernet networks.</P><UL><LI>Fixed the built-in ethernet driver to correctly report the supported Ethernet speeds. In earlier versions of the driver, on a system without Gigabit support, the built-in Uni-North driver reported that Gigabit Ethernet support was present (r. 2559605).<BR><BR></LI><LI>Implemented an optimization to reduce <CODE>mbuf</CODE> locking during the transmit interrupt process for the GMAC Ethernet driver (r. 2767808).<BR><BR></LI><LI>Implemented support for hardware flow control at Gigabit speed in the Uni-North ethernet driver (r. 2737457).<BR><BR></LI><LI>Fixed a problem with the Uni-North Ethernet driver which could hang GDB on the target system during a remote-debugging session (r. 2740418).<BR><BR></LI><LI>Apple's GMAC Ethernet drivers have been updated to allow their transmit and receive buffer sizes to be specified by a property amongst the collection of properties known as the driver's personality. This allows the driver to be customized for different system configurations (for example, Mac OS X Client versus Mac OS X Server) (r. 2784142).<BR><BR></LI>    </UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU283" x-level=2 x-title="OpenTransport"></A><H4>OpenTransport</H4><P>OpenTransport is a set of APIs used by CFM-Carbon applications to access TCP/IP services.</P><UL><LI>Fixed a problem in the Open Transport framework that caused it to attempt to deliver events to providers that no longer existed.  This problem manifested itself in the form of spurious crashes surrounding calls to <CODE>OTCancelSynchronousRequests</CODE> and/or <CODE>OTCloseProvider</CODE> (r. 2647191).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU296A" x-level=2 x-title="Toolbox APIs"></A><H3>Toolbox APIs</H3><P>Toolbox include a large number of APIs used by applications for accessing various high level services provided by the operating system.</P><A NAME="SU265" x-level=2 x-title="Carbon Core"></A><H4>Carbon Core</H4><P>The Carbon Core incorporates essential services that are generally devoid of a user interface. These facilities range from memory management to process management.</P><UL><LI>Fixed a bug that would cause applications with large data forks to launch very slowly from a CD (r. 2790249).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/ReleaseNotes/CarbonCore.html">Carbon Core Release Notes</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU229" x-level=2 x-title="Component Manager"></A><H4>Component Manager</H4><P>The Component Manager provides services for accessing software components.  Software components are code modules that provide services to one or more clients.  They are used heavily by QuickTime but they are also used by other services such as AppleScript.</P><UL><LI>Components are no longer loaded into <CODE>setuid</CODE> applications (a binary with the <CODE>'s'</CODE> bit set).  As well, if the user ID of the <CODE>setuid</CODE> application does not match the current effective user id, then most components will not be accessible from that application (r. 2799651).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/runtime/ComponentManager/componentmanager.html">Component Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU251" x-level=2 x-title="Control Manager"></A><H4>Control Manager</H4><P>The Control Manager provides facilities for drawing and processing user interaction with on screen items inside of windows.</P><UL><LI>Fixed bugs in the Control Manager and Data Browser control that prevented the <CODE>GetControlClickActivation</CODE> routine from working properly in Data Browser controls (r. 2671320).<BR><BR></LI><LI>A problem in the Data Browser control that caused the list to redraw incorrectly if it was scrolled using the scroll bar arrows arrows while and editable text field inside of the control was open has been corrected (r. 2756673).<BR><BR></LI><LI>In multi-column Data Browser List views containing one column with editable text fields, it was possible to open a row's editable text field for editing by clicking on any column.  This behavior was changed so that users must now click on the editable text to open the text for editing (r. 2621466).<BR><BR></LI><LI>A problem where <CODE>SetDataBrowserPropertyFlags</CODE> was not working correctly in some cases, because of internal cache synchronization problems, has been corrected (r. 2796284).<BR><BR></LI><LI>A problem where the Data Browser control could inappropriately claim mouse up events that did not belong to the control has been corrected (r. 2712249).<BR><BR></LI><LI>A problem where Contextual menus displayed for items in a list view were not displaying appropriate items has been corrected (r. 2711497).<BR><BR></LI>    </UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/ControlManager/controlmanager.html">Control Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU252" x-level=2 x-title="HLTB Dialogs (Carbon)"></A><H4>Dialog Manager</H4><P>The Dialog Manager manages user interactions with windows containing controls arranged and positioned using dialog layout templates.</P><UL><LI>A problem where <CODE>AppendDialogItemList</CODE> could fail due to a case where <CODE>GetDialogItemAsControl</CODE> returned without unlocking the <CODE>'DITL'</CODE> handle (which prevented the <CODE>'DITL'</CODE> handle from being resized) has been corrected (r. 2755379).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/DialogManager/dialogmanager.html">Dialog Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU253" x-level=2 x-title="Event Manager"></A><H4>Event Manager</H4><P>The Event Manager manages the delivery of system and user interaction events to applications.</P><UL><LI>A problem where <CODE>kEventMouseExited</CODE> events containing obsolete <CODE>MouseTrackingRef</CODE> values (which could happen if a window was closed after the event was posted) are no longer reported.  This problem could cause crashes in applications attempting to use the invalid reference (r. 2790170).<BR><BR></LI><LI>Clicking the "maximize" button on a utility window no longer activates the application the utility window belongs to (rr. 2769238, 2759658).<BR><BR></LI>    <LI>Activate/deactivate events were being sent twice through the carbon event manager in cases where they were not being claimed by any handlers.  This problem has been corrected (r. 2629084).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/oss/CarbonEventManager/carboneventmanager.html">Carbon Event Manager Documentation</A></LI><LI><A HREF="http://developer.apple.com/documentation/Carbon/oss/EventManager/eventmanager.html">Event Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU244" x-level=2 x-title="File Manager"></A><H4>File Manager</H4><P>The File Manager provides services for storing and retrieving disk-based information.</P><UL><LI>A spurious error where the Carbon File Manager was reporting that some items were locked when they really were not locked has been corrected (r. 2788172).<BR><BR></LI><LI>A problem, introduced in Mac OS X 10.1, where the Carbon File Manager's <CODE>PBHGetVInfoSync</CODE> routine would return zero in the <CODE>ioVCrDate</CODE> field was corrected (r. 2769925).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/Files/FileManager/filemanager.html">File Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU254" x-level=2 x-title="Menu Manager"></A><H4>Menu Manager</H4><P>The Menu Manager is the part of the operating system responsible for both drawing the menu bar, and drawing menus and pop-up menus on the screen while the mouse is being held down.</P><UL><LI>A problem that prevented applications from attaching icons to the menu items in the application's Dock menu has been corrected (r. 2791091).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/MenuManager/menumanager.html">Menu Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU280" x-level=2 x-title="Navigation Services"></A><H4>Navigation Services</H4><P>Navigation Services provides new Open and Save dialogs, allowing users to locate and select files and other resources.</P><UL><LI>Fixed a problem where the save dialog's file format pop-up menu would not allow the file name extension to be changed has been corrected (r. 2793547).<BR><BR></LI><LI>The save dialog now works as expected with 2-byte script systems (r. 2787537).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/Files/NavigationServices/navigationservices.html">Navigation Services Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU290" x-level=2 x-title="Printing"></A><H4>Printing</H4><P>This section discusses new features, bug fixes, and new APIs in the Mac OS X 10.1.2 printing services.</P><UL><LI>The <CODE>getPSInfo</CODE> <CODE>PrGeneral</CODE> is now implemented on Mac OS X (r. 2785515).<BR><BR></LI><LI>Printed image quality problems with drawing <CODE>Pictures</CODE> containing QuickDraw patterns using <CODE>QDPictDrawToCGContext</CODE> have been corrected (r. 2796060).  Here, patterns were not being scaled correctly. The <CODE>QDPictDrawToCGContext</CODE> call now locks the pattern drawing coordinate system to the one in effect at the time when <CODE>QDPictDrawToCGContext</CODE> was called. This means that developers need to apply a scale of the Core Graphics coordinate system corresponding to their application drawing resolution and unscale the rectangle that they are drawing the picture into (r. 2796060).<BR><BR></LI><LI>The system now properly recognizes and properly rebinds binds printer queues when a queue's printer module is changed (r. 2807524).<BR><BR></LI><LI>A problem preventing PPD feature queries from working has been corrected (r. 2785507).<BR><BR></LI><LI>Simplified the Print User Interface as requested by some developers (r. 2775682).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/graphics/CarbonPrintingManager/carbonprintingmgr.html">Printing Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU255" x-level=2 x-title="Scrap Manager"></A><H4>Scrap Manager</H4><P>The Scrap Manager provides an API for applications to access a common data store used for transferring data between applications.  It can also be used as a data cache for transferring information between windows inside of a single application.</P><UL><LI>The 8 second timeout system default for <CODE>ScrapPromiseKeeperProcs</CODE> and <CODE>DragSendDataProcs</CODE> has been changed.  The default length is now 60 seconds, but this time can be reduced or extended via the <CODE>CorePasteboardPromiseTimeout</CODE> preference should extraordinary circumstances arise. This fix will change current behavior only in the cases where an app takes longer than 8 seconds to fulfill a promise or crashes during the fulfillment. In either case, the timeout is simply extended to 60 seconds instead of 8. This change affects both Scrap and Drag promises (r. 2778138).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU294" x-level=2 x-title="Speech Recognition"></A><H4>Speech Recognition</H4><P>This API collection provides speech recognition support in applications.</P><UL><LI>Acronyms containing an <CODE>'R'</CODE> were being ignored, decreasing recognition accuracy.  To compensate for this deficiency, the phoeneme <CODE>_AR</CODE> was introduced in the model/mapping.  Now recognition accuracy is as expected for Acronyms (r. 2786064).<BR><BR></LI><LI>A problem where loading language objects with multiply referenced components could corrupt memory has been corrected (r. 2771847).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/multimedia/SpeechRecognitionManager/speechrecognition.html">Speech Recognition Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU298" x-level=2 x-title="Text Encoding Converter"></A><H4>Text Encoding Converter</H4><P>The Text Encoding Converter enables the conversion of text data from one encoding to another (e.g., Mac OS Roman to Windows Latin-1). It is targeted for Internet applications that need to handle text typically provided in non-Mac OS encodings.</P><UL><LI>The Text Encoding Converter now supports conversion of data between Unicode and the full range of characters defined in Chinese standard GB 18030.  This enables full compliance with GB 18030 at the character conversion level (r. 2796745).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/TextEncodConversionMgr/tecmgr.html">Text Encoding Conversion Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU256" x-level=2 x-title="Window Manager"></A><H4>Window Manager</H4><P>The Window Manager provides facilities for drawing and maintaining windows on the screen.</P><UL><LI>In OS X, version 10.1, the sheet code was changed to use a new <CODE>SheetAlignRgn</CODE> window region selector to determine where a sheet should be positioned. This broke sheet positioning in windows with custom WDEFs that didn't implement that window region code. To fix this, the Window Manager falls back to the content region if the sheet alignment region isn't provided by the WDEF (r. 2790211).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/WindowManager/windowmanager.html">Window Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><BR><hr width=500 align=center><BR><A NAME="SECTION1013" x-level=1 x-title="Mac OS X version 10.1.3"></A>        <H2>Mac OS X version 10.1.3</H2><P>This section describes changes provided in the 10.1.3 software update.</P><A NAME="SU315" x-level=2 x-title="File Systems"></A><H3>File Systems</H3><P>This section discusses changes and improvements in the file systems installed with Mac OS X 10.1.3.</P><A NAME="SU341" x-level=2 x-title="NFS"></A><H4>NFS</H4><P>Network File System, originally developed by Sun Microsystems, used in UNIX environments for sharing volumes over TCP/IP networks.</P><UL><LI>Improvements to VFS stability (r. 2825925):<BR><OL><LI>Modifications to support correct behavior for mapped file modifications on pages with existing NFS buffers. ie to pay attention to modifications on the page whenever the pages associated with NFS held buffers are released as clean.<BR><BR></LI><LI>Changes to NFS truncate to ensure no stale data or file size,<BR><BR></LI><LI>Handle shrinking file sizes in NFS V3 postops,<BR><BR></LI><LI>When writing beyond EOF, the last buffer needs to be zero filled and made as a valid page for VM.<BR><BR></LI></OL></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU359" x-level=2 x-title="WebDAV"></A><H4>WebDAV</H4><P>WebDAV stands for "Web Distributed Authoring and Versioning". It is an extension to the HTTP/1.1 protocol which allows users to collaboratively edit and manage files on remote web servers. Mac OS X includes a file system, the WebDAV file system, which allows WebDAV servers to be mounted as volumes.</P><UL><LI>The WebDAV file system in Mac OS 10.1.3 added support for the Digest Access authentication scheme's optional "quality of protection" directive with the value "auth" (RFC 2617, section 3.2). This provides interoperability with a greater number of WebDAV servers (r. 2828200).<BR><BR></LI><LI>The WebDAV file system prior to Mac OS 10.1.3 would sometimes return zero directory entries when reading a directory when there were actually files or subdirectories in that directory (r. 2791678).<BR><BR></LI><LI>The WebDAV file system in Mac OS 10.1.1 and 10.1.2 would not allow path names to contain the comma (<CODE>,</CODE>) character when the Digest Access authentication scheme was in use. This was fixed in Mac OS 10.1.3 (r. 2816544).<BR><BR></LI><LI>The WebDAV file system in Mac OS 10.1.1 and 10.1.2 would return EIO (input/output error) to read or open requests when a WebDAV server sent a Digest Access authentication scheme challenge in response to a GET request. This was fixed in Mac OS 10.1.3 (r. 2815242).<BR><BR></LI></UL><P>References<BR><UL><LI>RFC 2518 "HTTP Extensions for Distributed Authoring -- WEBDAV" at <A HREF="http://www.ietf.org/rfc/rfc2518.txt">&lt;http://www.ietf.org/rfc/rfc2518.txt&gt;</A> </LI><LI>RFC 2616 "Hypertext Transfer Protocol -- HTTP/1.1" at <A HREF="http://www.ietf.org/rfc/rfc2616.txt">&lt;http://www.ietf.org/rfc/rfc2616.txt&gt;</A></LI><LI>RFC 2617 "HTTP Authentication: Basic and Digest Access Authentication" at <A HREF="http://www.ietf.org/rfc/rfc2617.txt">&lt;http://www.ietf.org/rfc/rfc2617.txt&gt;</A> </LI><LI>webdav.org -- WebDAV documentation, specifications, software, mailing lists, and other useful items at <A HREF="http://www.webdav.org">&lt;http://www.webdav.org&gt;</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU359A" x-level=2 x-title="Hardware/Devices"></A><H3>Hardware/Devices</H3><P>This section discusses changes and new features for device driver writers provided in Mac OS X 10.1.3.</P><A NAME="SU324" x-level=2 x-title="ImageCapture"></A><H4>ImageCapture</H4><P>The Image Capture architecture provides a common API for discovering digital imaging devices and transferring images from them.</P><UL><LI>In some situations, error conditions were not being reported by Image Capture.  Now all error conditions are reported as expected (r. 2843829).<BR><BR></LI><LI>In the past Image Capture only supported events it recognized and others were ignored.  Now, events that are not used or recognized by Image Capture are passed along to third party applications requesting such notifications (r. 2836081).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU344" x-level=2 x-title="PCCard Support"></A><H4>PCCard Support</H4><P>Drivers for PCCard and CardBus card devices.</P><UL><LI>A problem where cards would be inappropriately powered off again after wake from sleep has been corrected (r. 2847723).<BR><BR></LI><LI>Problems with wake from sleep with certain CardBus cards with CIS have been corrected (r. 2847719).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU347" x-level=2 x-title="SAM Multimedia Devices"></A><H4>SAM Multimedia Devices</H4><P>Support for multimedia devices conforming to the SCSI Architecture Model. This includes ATAPI, FireWire, and some USB storage devices.</P><UL><LI>A problem where some SCSI CD recording devices were not being detected as recorders was corrected (r. 2800077).<BR><BR></LI><LI>New <CODE>IOCDBlockStorageDevice</CODE> APIs were added:<BR><BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><pre>class IOCDBlockStorageDevice : public IOBlockStorageDevice{...virtual IOReturn readTOC(    IOMemoryDescriptor *buffer,    CDTOCFormat format,    UInt8 msf,UInt8 trackSessionNumber,    UInt16 *actualByteCount);virtual IOReturn readDiscInfo(    IOMemoryDescriptor *buffer,    UInt16 *actualByteCount);virtual IOReturn readTrackInfo(    IOMemoryDescriptor *buffer,    UInt32 address,    CDTrackInfoAddressType addressType,    UInt16 *actualByteCount);};</pre></TD></TR></TABLE></CENTER><BR><BR>See the header files for additional information about them (r. 2805968).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU357" x-level=2 x-title="USB"></A><H4>USB</H4><P>A set of APIs for communicating with USB devices connected to your Macintosh.</P><UL><LI>USB CardBus cards now properly continues to perform after a sleep/wake-up sequence (r. 2762585).<BR><BR></LI><LI><CODE>GetStringDescriptor</CODE> no longer returns an error (<CODE>kIOReturnBadArgument</CODE>) when <CODE>maxLen</CODE> = 256.  In previous versions, <CODE>maxLen</CODE> was limited to 255 (r. 2727527).<BR><BR></LI><LI>A potential <CODE>IOUSBUserClient</CODE> Kernel Crash that could occur on Dual CPU on waking from sleep has been corrected (r. 2803804).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU332" x-level=2 x-title="LoginWindow"></A><H3>LoginWindow</H3><P>LoginWindow provides login facilities at system startup time and between user login sessions.</P><UL><LI>Administrators have the ability to set an application to run at logout, however, that option was being ignored. We now correctly process the logout option. See Customizing the Login Procedure and the -LogoutHook option described in the  <A HREF="http://developer.apple.com/documentation/macosx/Essentials/SystemOverview/BootingLogin/Customization_Techniques.html">LoginWindow Customization Techniques Document</A>for information about using this functionality (r. 2802088).<BR><BR></LI><LI>Fixed bug which was causing scheduled launches of applications (items in <CODE>com.apple.scheduler.plist</CODE>) to be ignored.   Now scheduled launches of items are handled as expected (r. 2839342).<BR><BR></LI><LI>As of Mac OS X 10.1.3, if the shift key is held down during the login sequence, LoginItems (applications launched at login) will not be launched (r. 2826839).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU340" x-level=2 x-title="Networking"></A><H3>Networking</H3><P>This section discusses changes and new features in the bsd-based networking services provided in Mac OS X 10.1.3.</P><UL><LI>A problem, that appeared with Mac OS X update 10.1.2, in <CODE>tcp_rtlookup</CODE> that could result in a kernel panic has been corrected  (r. 2812538).<BR><BR></LI><LI>Corrections for a problem where packets multicast via a UDP socket bound to a not-default source interface (using <CODE>IP_MULTICAST_IF</CODE>) were being sent by way of the default interface was corrected (r. 2780102).<BR><BR></LI><LI>Fixed a bug where some <CODE>mbuf</CODE> packet header fields were not being set up correctly when an <CODE>mbuf</CODE> was allocated with any of the following functions/macros: <CODE>m_retryhdr</CODE>, <CODE>m_getpacket</CODE>, <CODE>m_dup</CODE>, <CODE>MGET</CODE>, and <CODE>MGETHDR</CODE> (r. 2829513).<BR><BR></LI><LI>Optimized <CODE>mbuf</CODE> manipulation to reduce the number of simple lock operations when transferring large amounts of TCP data (r. 2823305).<BR><BR></LI></UL><A NAME="SU356" x-level=2 x-title="URL Access"></A><H4>URL Access</H4><P>The URL Access Manager provides application support for downloading data from or uploading data to a Universal Resource Locator (URL), with support for automatic decompression of compressed files.</P><UL><LI><CODE>URLGetError</CODE> now returns correct error codes for errorsreturned HTTP servers.  Previously, it returned <CODE>404</CODE> for all errors (r. 2840404).<BR><BR></LI><LI><CODE>URLOpen</CODE> now calls the notifier with a <CODE>kURLCompletedEvent</CODE> message after it has completed gathering data (r. 2775089).<BR><BR></LI><LI>A problem where URL Access could not download the same file more than once a file more than once (and overwrite the original copy of a file)  has been corrected.  The <CODE>kURLReplaceExistingFlag</CODE> now allows the file to be replaced (r. 2785557).<BR><BR></LI><LI>Calling <CODE>URLAbort</CODE> now sends a <CODE>kURLAbortInitiatedEvent</CODE> to the notifier (r. 2786215).<BR><BR></LI><LI>the <CODE>kURLDoNotDeleteOnErrorFlag</CODE> flag is now properly honored by <CODE>URLDownload</CODE> and <CODE>URLOpen</CODE>.  In Mac OS X 10.1 this flag was being ignored (r. 2788305).<BR><BR></LI><LI><CODE>URLNewReference</CODE> now properly returns error <CODE>-30774</CODE> when passed an invalid URL (r. 2786210).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU338A" x-level=2 x-title="Toolbox APIs"></A><H3>Toolbox APIs</H3><P>Toolbox include a large number of APIs used by applications for accessing various high level services provided by the operating system.</P><A NAME="SU319" x-level=2 x-title="Control Manager"></A><H4>Control Manager</H4><P>The Control Manager provides facilities for drawing and processing user interaction with on screen items inside of windows.</P><UL><LI>A problem where the Drag callback handlers installed by a data browsercontrol could turn off drag rebound animations for rejected Finder drags was corrected (r. 2825897).<BR><BR>    <BR><BR><CENTER><TABLE BORDER=0 CELLPADDING=4 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>IMPORTANT:</B><BR>The Control Manager keeps some internal state that indicates whether automatic control drag tracking is enabled for a window. The intention of the design here was that automatic drag tracking would be disabled by default; you would have to call <CODE>SetAutomaticControlDragTrackingEnabledForWindow</CODE> to turn on automatic drag tracking. However, a bug in <CODE>IsAutomaticControlDragTrackingEnabledForWindow</CODE> caused the default state (if not explicit state had been set) to be true, instead of false. Some developers have come to depend on this bug for drag tracking in their DataBrowser controls (when a DataBrowser control was created in a window,  automatic drag tracking just starts working without the caller having to call <CODE>SetAutomaticControlDragTrackingEnabledForWindow</CODE>). In CarbonLib 1.4 and Mac OS X 10.1.3, the bug in <CODE>IsAutomaticControlDragTrackingEnabledForWindow</CODE> was corrected.  Now, the default state for a window is false until an explicit call is made to <CODE>SetAutomaticControlDragTrackingEnabledForWindow</CODE>. This change will cause drag tracking to stop working in applications that use the DataBrowser but don't call <CODE>SetAutomaticControlDragTrackingEnabledForWindow</CODE> (i.e.,  applications that relied on the bug described above). Now, all applications wanting to have automatic drag tracking for controls must explicitly call <CODE>SetAutomaticControlDragTrackingEnabledForWindow</CODE> to enable this feature.</P></TD></TR></TABLE></CENTER><BR><BR>                        </LI>        <LI>A problem in the data browser control where the width of a fixed widthcolumn used to display a hierarchical list of items could be changedby expanding and collapsing hierarchical items has been corrected (r. 2825904).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/ControlManager/controlmanager.html">Control Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU319A" x-level=2 x-title="Font Manager"></A><H4>Font Manager</H4><P>The Font Manager provides system-wide services for the retrieval of glyphs for display of textual information.</P><UL><LI>Updated cmap and Zapf tables for the Hiragino Japanese fonts to fix a bug in the mapping of JIS X 0213 characters to Unicode.  The updated mapping is shown in the 10.1.3 Text Encoding Converter section below (r. 2803424).<BR><BR></LI><LI>Updated cmap and Zapf tables for the Hiragino Japanese fonts to fix a bug in the mapping of JIS X 0213 characters to Unicode.  The updated mapping is shown in the 10.1.3 Text Encoding Converter section below (r. 2803424).<BR><BR></LI><LI>Added the following mapping to cmap and Zapf tables for Hiragino Japanese fonts.<BR><BR><TABLE border=0 width=550><TR><td align="left"><B>Unicode</B></TD><td align="left"><B>CID</B></TD><td align="left">&nbsp;</TD><td align="left"><B>Unicode</B></TD><td align="left"><B>CID</B></TD><td align="left">&nbsp;</TD></TR><TR><td align="left">u38A1</TD><td align="left">20171</TD><td align="left">&nbsp;</TD><td align="left">u471F</TD><td align="left">20219</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">u3A5C</TD><td align="left">20127</TD><td align="left">&nbsp;</TD><td align="left">u35DE</TD><td align="left">20067</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">u3AC4</TD><td align="left">20135</TD><td align="left">&nbsp;</TD><td align="left">u3E40</TD><td align="left">20170</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">u3A85</TD><td align="left">20142</TD><td align="left">&nbsp;</TD><td align="left">u0192</TD><td align="left">105</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">u6AF8</TD><td align="left">20152</TD><td align="left">&nbsp;</TD><td align="left">u20BB7</TD><td align="left">13706</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">u3D31</TD><td align="left">20158</TD><td align="left">&nbsp;</TD><td colspan=3 align=left>&nbsp;</TD></TR></TABLE><BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/FontManager/fontmanager.html">Font Manager Documentation</A></LI></UL>            <P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU322" x-level=2 x-title="Help Tags"></A><H4>Help Tags</H4><P>Help Tags (a.k.a. ToolTips) are the primary method for providing context sensitive help in Mac OS X. They are the Mac OS X replacement for the older Balloon Help technology.</P><UL><LI>Help Tags consisting of multiple lines (i.e. included newline/carriage return characters) would fail to display all lines correctly. Now, text containing newline/carriage return characters is displayed properly as multi-lined text (r. 2825896).<BR><BR></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU318" x-level=2 x-title="Menu Manager"></A><H4>Menu Manager</H4><P>The Menu Manager is the part of the operating system responsible for both drawing the menu bar, and drawing menus and pop-up menus on the screen while the mouse is being held down.</P><UL><LI>The Contextual Menu Manager now uses the current text encoding language setting (<CODE>smCurrentScript</CODE>) to interpret unstyled text in an <CODE>AEDesc</CODE> returned by a contextual menu plugin. Previously, the Menu Manager assumed this text would be encoded in the same language that was specified when the system software was installed (<CODE>smSystemScript</CODE>) (r. 2825907).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/MenuManager/menumanager.html">Menu Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU342" x-level=2 x-title="OpenGL"></A><H4>OpenGL</H4><P>OpenGL is a vendor-neutral, multi-platform graphics standard with broad industry support. OpenGL APIs allow you to develop portable, interactive 2D and 3D graphics applications.</P><UL><LI>Resolved an issue that could cause applications that use OpenGL to quit unexpectedly or to stop responding. This could affect applications running in any version of Mac OS X prior to Mac OS X v10.1.3 (r. 2806392).<BR><BR></LI><LI>Resolved an issue where <CODE>glCopyPixels</CODE> would sometimes fail to properly copy pixels on computers using nVidia GeForce 3 graphics cards (r. 2801322).<BR><BR></LI><LI>Added support for transferring OpenGL-related information directly between PCI cards. This is necessary for high-end multimedia products that use multiple PCI cards for advanced graphics (r. 2820188).<BR><BR></LI><LI>Resolved an issue where OpenGL fog effects were not working properly in Mac OS X (r. 2806424).<BR><BR></LI><LI>Resolved an issue affecting the display of high-quality 3D images when reduced to display on computers with more modest graphics hardware like the nVidia GeForce 2MX or ATI Radeon (PCI) (r. 2797209).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/graphics/OpenGL/opengl.html">OpenGL Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU345" x-level=2 x-title="Printing"></A><H4>Printing</H4><P>This section discusses new features, bug fixes, and new APIs in the Mac OS X 10.1.3 printing services.</P><UL><LI>A problem where the Carbon Printing Manager on X 10.1 prints incorrect page ranges when the first page is not #1 was corrected (r. 2820381).<BR><BR></LI><LI>Problems with using CAP (Colombia Appletalk Protocol) to authenticate Print jobs and to do print accounting have been corrected (r. 2812410).<BR><BR></LI><LI>A number of performance and usability enhancements were introduced in the code handling hot plugging USB Printers (r. 2821616).<BR><BR></LI><LI>To accommodate some 3rd-party applications that made assumptions about the order of the items in the print dialog windows, in releases of Mac OS X prior to Mac OS X 10.1, the ordering of the items in the dialog windows was changed back to its original order (r. 2835664).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/graphics/CarbonPrintingManager/carbonprintingmgr.html">Printing Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU39" x-level=2 x-title="Quartz 2D"></A><H4>Quartz 2D</H4><P>Quartz 2D is a feature-rich, two-dimensional drawing engine that is accessible from all Mac OS X application environments outside of the kernel. The Quartz 2D application programming interface (API) is easy to use and gives you access to powerful features such as Bezier curves, path-based drawing, transparency, and advanced color management.</P><UL><LI>A race condition between threads was crashing Java2D demo application. This has now been corrected. This correction resolves a drawing issue that would cause Java applications to crash after running for extended periods of time (r. 2793411).<BR><BR></LI><LI>A problem where the mouse cursor could disappear and would not reappear until a new login session has been corrected.  This problem could occur after running some applications that displayed full screen graphics and it only occurred in Mac OS X v.10.1 and later (r. 2766177).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/macosx/CoreTechnologies/graphics/Quartz2D/quartz2d.html">Quartz 2D Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU346" x-level=2 x-title="QuickTime"></A><H4>QuickTime</H4><P>QuickTime provides various multimedia services for the Mac OS, including the ability to display movies and facilities for the translation and display of various audio and visual data file formats.</P><UL><LI>A problem where scrolled unaccelerated synchronous movies would sometimes play in the wrong place in some browsers was corrected (r. 2837966).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/quicktime/qtdevdocs/RM/frameset.htm">QuickTime Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU338" x-level=2 x-title="Script Manager"></A><H4>Script Manager</H4><P>The Script Manager enables internationalization of non-Unicode applications.</P><UL><LI>Some <CODE>'itlb'</CODE> resources contained wrong values which would impact various international APIs. They have been fixed (r. 2835050).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/ScriptManager/scriptmanager.html">Script Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU338A" x-level=2 x-title="Text Encoding Converter"></A><H4>Text Encoding Converter</H4><P>The Text Encoding Converter enables the conversion of text data from one encoding to another (e.g., Mac OS Roman to Windows Latin-1). It is targeted for Internet applications that need to handle text typically provided in non-Mac OS encodings.</P><UL><LI>Updated the Character palette tables to fix the bug in the JIS X 0213 mapping. The updated mapping is shown in the table below (r. 2824232).<BR><BR></LI><LI>Fixed a bug in the mapping between JIS X 0213 and Unicode. The following is the updated mapping (r. 2803416):<BR><BR><TABLE border=0 width=550><TR><td align="left"><B>JIS X0213</B></TD><td align="left"><B>Unicode</B></TD><td align="left">&nbsp;</TD><td align="left"><B>JIS X0213</B></TD><td align="left"><B>Unicode</B></TD><td align="left">&nbsp;</TD><td align="left"><B>JIS X0213</B></TD><td align="left"><B>Unicode</B></TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-86-04</TD><td align="left">u69EA</TD><td align="left">&nbsp;</TD><td align="left">1-89-31</TD><td align="left">uFA52</TD><td align="left">&nbsp;</TD><td align="left">1-91-79</TD><td align="left">uFA60</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-86-73</TD><td align="left">uFA45</TD><td align="left">&nbsp;</TD><td align="left">1-89-32</TD><td align="left">uFA53</TD><td align="left">&nbsp;</TD><td align="left">1-91-89</TD><td align="left">uFA61</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-86-87</TD><td align="left">uFA46</TD><td align="left">&nbsp;</TD><td align="left">1-89-45</TD><td align="left">uFA54</TD><td align="left">&nbsp;</TD><td align="left">1-92-15</TD><td align="left">uFA62</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-87-05</TD><td align="left">uFA47</TD><td align="left">&nbsp;</TD><td align="left">1-89-49</TD><td align="left">uFA55</TD><td align="left">&nbsp;</TD><td align="left">1-92-16</TD><td align="left">uFA63</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-87-53</TD><td align="left">uFA48</TD><td align="left">&nbsp;</TD><td align="left">1-89-68</TD><td align="left">uFA56</TD><td align="left">&nbsp;</TD><td align="left">1-92-24</TD><td align="left">uFA64</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">2-80-09</TD><td align="left">uFA49</TD><td align="left">&nbsp;</TD><td align="left">1-90-14</TD><td align="left">uFA57</TD><td align="left">&nbsp;</TD><td align="left">1-92-29</TD><td align="left">uFA65</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-88-05</TD><td align="left">uFA4A</TD><td align="left">&nbsp;</TD><td align="left">2-84-48</TD><td align="left">uFA58</TD><td align="left">&nbsp;</TD><td align="left">2-89-73</TD><td align="left">uFA66</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-89-07</TD><td align="left">uFA4B</TD><td align="left">&nbsp;</TD><td align="left">1-90-19</TD><td align="left">uFA59</TD><td align="left">&nbsp;</TD><td align="left">1-92-57</TD><td align="left">uFA67</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-89-19</TD><td align="left">uFA4C</TD><td align="left">&nbsp;</TD><td align="left">1-90-26</TD><td align="left">uFA5A</TD><td align="left">&nbsp;</TD><td align="left">1-93-67</TD><td align="left">uFA68</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-89-20</TD><td align="left">uFA4D</TD><td align="left">&nbsp;</TD><td align="left">1-90-36</TD><td align="left">uFA5B</TD><td align="left">&nbsp;</TD><td align="left">1-93-86</TD><td align="left">uFA69</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-89-23</TD><td align="left">uFA4E</TD><td align="left">&nbsp;</TD><td align="left">1-90-56</TD><td align="left">uFA5C</TD><td align="left">&nbsp;</TD><td align="left">1-93-91</TD><td align="left">uFA6A</TD><td align="left">&nbsp;</TD></TR><TR><td align="left">1-89-24</TD><td align="left">uFA4F</TD><td align="left">&nbsp;</TD><td align="left">2-85-84</TD><td align="left">uFA5D</TD><td align="left">&nbsp;</TD><td colspan=3 align=left>&nbsp;</TD></TR><TR><td align="left">1-89-25</TD><td align="left">uFA50</TD><td align="left">&nbsp;</TD><td align="left">2-85-85</TD><td align="left">uFA5E</TD><td align="left">&nbsp;</TD><td colspan=3 align=left>&nbsp;</TD></TR><TR><td align="left">1-89-27</TD><td align="left">uFA51</TD><td align="left">&nbsp;</TD><td align="left">1-91-07</TD><td align="left">uFA5F</TD><td align="left">&nbsp;</TD><td colspan=3 align=left>&nbsp;</TD></TR></TABLE><BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/TextEncodConversionMgr/tecmgr.html">Text Encoding Conversion Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU354" x-level=2 x-title="Text Services Manager"></A><H4>Text Services Manager</H4><P>The Text Services Manager provides facilities for applications to communicate with various text processing utilities, in particular with text input methods.</P><UL><LI>A problem where accented characters typed very quickly could be carried over to multiple characters has been corrected (r. 2835628).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/text/TextServicesManager/textservicesmgr.html">Text Services Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><A NAME="SU323" x-level=2 x-title="Window Manager"></A><H4>Window Manager</H4><P>The Window Manager provides facilities for drawing and maintaining windows on the screen.</P><UL><LI>In some situations with multiple monitors,calling  <CODE>GetAvailableWindowPositioningBounds</CODE> to determine the available area in which you can place windows (i.e. the area not covered by the Dock) would return the full size of the screen (rather than that area minus the area covered by the Dock). We now correctly take into account the position of the Dock on multiple monitors (r. 2783845).<BR><BR></LI><LI>Previously, when an application was hidden, the <CODE>FrontWindow</CODE>, <CODE>FrontNonFloatingWindow</CODE>, <CODE>GetFrontWindowOfClass</CODE>, and <CODE>GetNextWindowOfClass</CODE> would treat all of the application's windows as invisible and fail to return any windows. This behavior was unlike the behavior of the pre-Carbon Window Manager, where these APIs would still return visible application windows even when the application itself was hidden.<BR><BR>The pre-Carbon behavior has now been restored to the Mac OS X Window Manager. The four APIs listed above will now return windows that would otherwise be visible even when the application is hidden. Windows that were explicitly hidden by the application will still not be returned. Note that <CODE>IsWindowVisible</CODE> will still return false for windows in hidden applications, but <CODE>IsWindowLatentVisible</CODE> can be used to determine whether the window is invisible because the app is hidden, or because the window was programmatically hidden by the application (r. 2816156).<BR><BR></LI><LI>Resolved an issue where a minimized window could be closed, but when it was closed its icon would not disappear from the Dock (r. 2825901).<BR><BR></LI><LI>Resolved an issue in window layering where the active window of the front-most application could still be drawn behind inactive windows of a background application (r. 2825893).<BR><BR></LI><LI>Option-click events in utility windows are now handled as a special case so that Mouse Down Carbon Events in utility windows of background applications will not hide the foreground application (r. 2813727).<BR><BR></LI></UL><P>References:</P><UL><LI><A HREF="http://developer.apple.com/documentation/Carbon/HumanInterfaceToolbox/WindowManager/windowmanager.html">Window Manager Documentation</A></LI></UL><P><A HREF="#pagetop">Back to top</A></P><BR><BR><BR><hr width=500 align=center><BR><A NAME=REFERENCES x-level=1 x-title="References"></A>   <H2>References</H2>         <P>Apple's Mac OS X Developer Documentation Collection on the web at:<BR>&nbsp;&nbsp;<A HREF="http://developer.apple.com/documentation/macosx/macosx.html">Comment http://developer.apple.com/documentation/macosx/macosx.html</A></P><P><a href="tn2029.html">Technical Note TN2029, "Mac OS X v10.1"</A></P><P><A HREF="#top">Back to top</A></P><BR><BR><A NAME=DOWNLOADS x-level=1 x-title="Downloadables"></A><H2>Downloadables</H2><TABLE BORDER=0 CELLPADDING=3 WIDTH="100%"><TR><td width=50 align=left><P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat gif"></P></TD><td align="left"><P>Acrobat version of this Note (148K)</P></TD><td width=60 align=left><P><A HREF="pdf/tn2043.pdf">Download</A></P></TD></TR></TABLE><BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn2043.html%3Fid%3DDTS10003076-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn2043.html%3Fid%3DDTS10003076-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn2043.html%3Fid%3DDTS10003076-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>