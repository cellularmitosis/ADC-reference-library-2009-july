<html><head><title>Mac OS X
 Manual Page For PKCS7_decrypt(3ssl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3ssl/PKCS7_decrypt" title="Mac OS X
 Manual Page for PKCS7_decrypt(3ssl)"><a name="//apple_ref/doc/man/3/PKCS7_decrypt" title="Mac OS X
 Manual Page for PKCS7_decrypt(3ssl)"><!-- headerDoc=man; indexgroup=Section 3ssl; uid="//apple_ref/doc/man/3ssl/PKCS7_decrypt"; name=PKCS7_decrypt(3ssl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
PKCS7_decrypt(3)                                   OpenSSL                                  PKCS7_decrypt(3)



<b>NAME</b>
       PKCS7_decrypt - decrypt content from a PKCS#7 envelopedData structure

<b>SYNOPSIS</b>
       int PKCS7_decrypt(PKCS7 *p7, EVP_PKEY *pkey, X509 *cert, BIO *data, int flags);

<b>DESCRIPTION</b>
       <u>PKCS7</u><b>_</b><u>decrypt()</u> extracts and decrypts the content from a PKCS#7 envelopedData structure. <b>pkey</b> is the
       private key of the recipient, <b>cert</b> is the recipients certificate, <b>data</b> is a BIO to write the content
       to and <b>flags</b> is an optional set of flags.

<b>NOTES</b>
       <u>OpenSSL</u><b>_</b><u>add</u><b>_</b><u>all</u><b>_</b><u>algorithms()</u> (or equivalent) should be called before using this function or errors
       about unknown algorithms will occur.

       Although the recipients certificate is not needed to decrypt the data it is needed to locate the
       appropriate (of possible several) recipients in the PKCS#7 structure.

       The following flags can be passed in the <b>flags</b> parameter.

       If the <b>PKCS7_TEXT</b> flag is set MIME headers for type <b>text/plain</b> are deleted from the content. If the
       content is not of type <b>text/plain</b> then an error is returned.

<b>RETURN</b> <b>VALUES</b>
       <u>PKCS7</u><b>_</b><u>decrypt()</u> returns either 1 for success or 0 for failure.  The error can be obtained from
       <a href="ERR_get_error.3ssl.html#//apple_ref/doc/man/3/ERR_get_error"><u>ERR</u><b>_</b><u>get</u><b>_</b><u>error</u>(3)</a>

<b>BUGS</b>
       <u>PKCS7</u><b>_</b><u>decrypt()</u> must be passed the correct recipient key and certificate. It would be better if it
       could look up the correct key and certificate from a database.

       The lack of single pass processing and need to hold all data in memory as mentioned in <u>PKCS7</u><b>_</b><u>sign()</u>
       also applies to <u>PKCS7</u><b>_</b><u>verify()</u>.

<b>SEE</b> <b>ALSO</b>
       <a href="ERR_get_error.3ssl.html#//apple_ref/doc/man/3/ERR_get_error"><u>ERR</u><b>_</b><u>get</u><b>_</b><u>error</u>(3)</a>, <a href="PKCS7_encrypt.3ssl.html#//apple_ref/doc/man/3/PKCS7_encrypt"><u>PKCS7</u><b>_</b><u>encrypt</u>(3)</a>

<b>HISTORY</b>
       <u>PKCS7</u><b>_</b><u>decrypt()</u> was added to OpenSSL 0.9.5



0.9.7l                                           2002-10-09                                 PKCS7_decrypt(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/PKCS7_decrypt.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/PKCS7_decrypt.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/PKCS7_decrypt.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
