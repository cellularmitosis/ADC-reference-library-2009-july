<HTML>		<HEAD>		<TITLE>			WODirectAction		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!-- #include virtual="/techpubs/navbar" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>WebObjects Reference</font><br><br><!--end of path --><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "WODirectAction"><BR><h1><FONT COLOR=\"#000066\"><a name="//apple_ref/occ/cl/WODirectAction">WODirectAction</a></FONT></h1><br></a><blockquote><b>Inheritsfrom: </b> NSObject</blockquote><blockquote><b>Conforms to: </b> NSObject<BR>(NSObject)</blockquote><blockquote><b>Declared in: </b> WebObjects/WODirectAction.h<BR></blockquote><br><br><HR SIZE=4><br><h2>Class Description</h2><hr><p>WODirectAction is an abstract class that defines the interfacefor direct action classes. You subclass WODirectAction to providean object that is a repository for action methods. </p><p>WODirectAction provides the simplest interface for addig logicand custom code to your WebObjects application. WODirectAction objectsare instantiated when a URL requested by a client browser is sent toyour WebObjects application. The WODirectActionRequestHandler determinesthe proper class and action to be invoked and then passes controlto your WODirectAction subclass. </p><p>In contrast to a WOComponent-based action, a direct actionis well-defined by the URL that invokes it. For example, the followingURL will invoke the method <b>findEmployeeAction</b> onthe subclass of WODirectAtion called Common: </p><blockquote><pre>http://localhost/cgi-bin/WebObjects/Myapp.woa/wa/Common/findEmployee</pre></blockquote><br><p>A subclass of WODirectAction is a repository for action methods.New WebObjects applications contain a default implementation ofthe WODirectAction subclass called DirectAction. The DirectActionclass is used when no class is specified in the URL.</p><p>In summary, here are some URLs and the actions they invoke:</p><br><table border = \"1\"><tr><td scope="row"><b>This URL...</b></td><td><b>Invokes this method...</b></td></tr><tr><td scope="row">../MyApp.woa/wa/ </td><td><b>defaultAction</b> on class DirectAction</td></tr><tr><td scope="row">../MyApp.woa/wa/ find</td><td><b>findAction</b> on classDirectAction, if it exists<b>defaultAction</b> on class find , otherwise</td></tr><tr><td scope="row">../MyApp.woa/wa/Common/find</td><td><b>findAction</b> on class Common</td></tr></table><br><p>WODirectActionRequestHandler invokes methods only on subclasseson WODirectAction. If the specified class or action doesn't exist,WODirectActionRequestHandler raises an exception.</p><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creation</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/initWithRequest:">- initWithRequest:</a></dd></dl><dl><dt>Obtaining attributes</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/request">- request</a></dd></dl><dl><dt>Obtaining a session</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/existingSession">- existingSession</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/session">- session</a></dd></dl><dl><dt>Obtaining a page</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/pageWithName:">- pageWithName:</a></dd></dl><dl><dt>Performing an action</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/performActionNamed:">- performActionNamed:</a></dd></dl><dl><dt>Value assignment</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeyArray:">- takeFormValueArraysForKeyArray:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeys:">- takeFormValueArraysForKeys:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeyArray:">- takeFormValuesForKeyArray:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeys:">- takeFormValuesForKeys:</a></dd></dl><dl><dt>Debugging</dt><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/debugWithFormat:">- debugWithFormat:</a></dd><dd> <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/logWithFormat:">- logWithFormat:</a></dd></dl></blockquote><BR><BR><h2>Instance Methods</h2><hr><a name = "debugStringWithFormat_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/debugWithFormat:">debugWithFormat:</a></h3></a><p><code>- (void)<b>debugWithFormat:</b>(NSString*)<em>aFormatString,...</em></code></p>This method is similar to  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/logWithFormat:">logWithFormat:</a> exceptthat you can control whether it displays output with the <b>WODebuggingEnabled</b> userdefault option. If <b>WODebuggingEnabled</b> isYES, then the  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/debugWithFormat:">debugWithFormat:</a> messagesdisplay their output. If <b>WODebuggingEnabled</b> isNO, the  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/debugWithFormat:">debugWithFormat:</a> messages don't displaytheir output. <p><b>See Also: </b>  <a frame= "conv" href="WOApplication.html#//apple_ref/occ/instm/WOApplication/debugWithFormat:">- debugWithFormat:</a> ( <a frame= "conv" href="WOApplication.html#WOApplication">- WOApplication</a>)</p><hr WIDTH=25% ALIGN=LEFT><a name = "hasSession"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/existingSession">existingSession</a></h3></a><p><code>- (WOSession*)<b>existingSession</b></code></p>Restores the session based on the request. If the request did not have a session ID or the session ID referredto a non-existent session, then this method returns nil.  To determineif a session failed to restore, check the request's session IDto see if it non-nil and if so, call this method to check its result.<p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/session">- session</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "initWithRequest_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/initWithRequest:">initWithRequest:</a></h3></a><p><code>- <b>initWithRequest:</b>(WORequest*)<em>aRequest</em></code></p>This is the designated initializer for all subclassesof WODirectAction. Whne you create a subclass, you must overridethis method to provide any additional initialization. <hr WIDTH=25% ALIGN=LEFT><a name = "logWithFormat_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/logWithFormat:">logWithFormat:</a></h3></a><p><code>- (void)<b>logWithFormat:</b>(NSString*)<em>aFormatString,...</em></code></p>Prints a message to the standard error device(stderr). The message can include formatted variable data usingprintf-style conversion specifiers, for example: <blockquote><pre>id i = 500;id f = 2.045;[self logWithFormat:@"Amount = %@, Rate = %@, Total = %@", i, f, i*f];</pre></blockquote><br><p>Notethat in WebScript, all variables are objects, so the only conversionspecifier allowed is <b>%@</b> as shown above.In compiled Objective-C code, all <b>printf</b> conversionspecifiers are allowed. The equivalent method in Java is <b>logString</b>. </p><p><b>SeeAlso: </b>  <a frame= "conv" href="WOApplication.html#//apple_ref/occ/instm/WOApplication/logWithFormat:">- logWithFormat:</a> ( <a frame= "conv" href="WOApplication.html#WOApplication">- WOApplication</a>)</p><hr WIDTH=25% ALIGN=LEFT><a name = "pageWithName_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/pageWithName:">pageWithName:</a></h3></a><p><code>- (WOComponent *)<b>pageWithName:</b>(NSString*)<em>aComponentName</em></code></p>Returns the WOComponent with the specified name.<hr WIDTH=25% ALIGN=LEFT><a name = "performActionNamed_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/performActionNamed:">performActionNamed:</a></h3></a><p><code>- (id &lt;WOActionResults&gt;)<b>performActionNamed:</b>(NSString*)<em>anActionName</em></code></p>Performs the action with the specified nameand returns the result of that action. The default implementationappends "Action" to <em>anActionName</em> andtries to invoke resulting method name. Override this method to changehow actions are dispatched.<hr WIDTH=25% ALIGN=LEFT><a name = "request"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/request">request</a></h3></a><p><code>- (WORequest *)<b>request</b></code></p>Returns the WORequest object that initiatedthe action.<hr WIDTH=25% ALIGN=LEFT><a name = "session"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/session">session</a></h3></a><p><code>- (WOSession *)<b>session</b></code></p>Returns the current session. If there is nosession, this method first tries to restore the session that the request'ssession ID refers to. If the request has no session ID-which isa possibility if the application is written entirely with directactions-this method creates a new session and returns it. If thesession ID refers to a session that doesn't exist or cannot berestored, this method raises an exception. <p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/existingSession">- existingSession</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "takeFormValueArraysForKeyArray_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeyArray:">takeFormValueArraysForKeyArray:</a></h3></a><p><code>- (void)<b>takeFormValueArraysForKeyArray:</b>(NSArray*)<em>aKeyArray</em></code></p>Performs <b>takeValue:forKey:</b> oneach key in <em>aKeyArray</em> using valuesfrom the receiver's request.<p>This method uses an NSArrayfor each form value. This is useful when a user can select multipleitems for a form value, such as a WOBrowser. If a form value containsonly one item, this method uses an NSArray with one object. To usesingle objects as form values, use  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeyArray:">takeFormValuesForKeyArray:</a>. </p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeys:">takeFormValueArraysForKeys:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "takeFormValueArraysForKeys_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeys:">takeFormValueArraysForKeys:</a></h3></a><p><code>- (void)<b>takeFormValueArraysForKeys:</b>(NSString*)<em>aFirstKey,...</em></code></p>Performs <b>takeValue:forKey:</b> onthe specified keys using values from the receiver's request. Thelast key must be nil.<p>This method uses an NSArray for eachform value. This is useful when a user can select multiple items fora form value, such as a WOBrowser. If a form value contains onlyone item, this method uses an NSArray with one object. To use singleobjects as form values, use  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeys:">takeFormValuesForKeys:</a>. </p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeyArray:">takeFormValueArraysForKeyArray:</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "takeFormValuesForKeyArray_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeyArray:">takeFormValuesForKeyArray:</a></h3></a><p><code>- (void)<b>takeFormValuesForKeyArray:</b>(NSArray*)<em>aKeyArray</em></code></p>Performs <b>takeValue:forKey:</b> onthe each key in <em>aKeyArray</em> using valuesfrom the receiver's request.<p>This method uses an a singleobject for each form value. If a form value contains more than oneitem, such as a WOBrowser, this method uses the first item in thearray. To use arrays of objects as form values, use  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeyArray:">takeFormValueArraysForKeyArray:</a>. </p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeys:">takeFormValuesForKeys:</a> </p><hr WIDTH=25% ALIGN=LEFT><a name = "takeFormValuesForKeys_"><BR><h3><a name="//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeys:">takeFormValuesForKeys:</a></h3></a><p><code>- (void)<b>takeFormValuesForKeys:</b>(NSString*)<em>aFirstKey,...</em></code></p>Performs <b>takeValue:forKey:</b> onthe specified keys using values from the receiver's request. Thelast key must be nil.<p>This method uses an a single object foreach form value. If a form value contains more than one item, suchas a WOBrowser, this method uses the first item in the array. Touse arrays of objects as form values, use  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValueArraysForKeys:">takeFormValueArraysForKeys:</a>. </p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/occ/instm/WODirectAction/takeFormValuesForKeyArray:">takeFormValuesForKeyArray:</a></p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>