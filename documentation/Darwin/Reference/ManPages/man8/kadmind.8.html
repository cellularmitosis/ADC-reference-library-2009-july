<html><head><title>Mac OS X
 Manual Page For kadmind(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/kadmind" title="Mac OS X
 Manual Page for kadmind(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/kadmind"; name=kadmind(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
KADMIND(8)                                                                                        KADMIND(8)



<b>NAME</b>
       kadmind - KADM5 administration server

<b>SYNOPSIS</b>
       <b>kadmind</b> [<b>-x</b> <u>db</u><b>_</b><u>args</u>] [<b>-r</b> <u>realm</u>] [<b>-m</b>] [<b>-nofork</b>] [<b>-port</b> <u>port-number</u>]

<b>DESCRIPTION</b>
       This  command  starts  the  KADM5  administration server.  If the database is db2, the administration
       server runs on the master Kerberos server, which stores the KDC prinicpal database and the KADM5 pol-<font color="#ffffff" class="whiteout">icy&nbsp;policy</font>
       icy  database.  If the database is LDAP, the administration server and the KDC server need not run on
       the same machine.  <b>Kadmind</b> accepts remote requests to administer the information in these  databases.
       Remote  requests  are  sent,  for example, by <a href="kadmin.8.html#//apple_ref/doc/man/8/kadmin"><u>kadmin</u>(8)</a> and the <a href="../man1/kpasswd.1.html#//apple_ref/doc/man/1/kpasswd"><u>kpasswd</u>(1)</a> command, both of which are
       clients of <b>kadmind</b>.

       <b>kadmind</b> requires a number of configuration files to be set up in order for it to work:

       kdc.conf  The KDC configuration file contains configuration informatin for the KDC and the KADM5 sys-<font color="#ffffff" class="whiteout">tem.&nbsp;system.</font>
                 tem.   <b>Kadmind</b>  understands  a  number  of variable settings in this file, some of whch are
                 mandatory and some of which are optional.  See the CONFIGURATION VALUES section below.

       keytab    <b>Kadmind</b> requires a  keytab  containing  correct  entries  for  the  <u>kadmin/admin</u>  and  <u>kad</u>-<font color="#ffffff" class="whiteout">min/changepw&nbsp;kadmin/changepw</font>
                 <u>min/changepw</u>  principals for every realm that kadmind will answer requests for.  The keytab
                 can be created with the <a href="kadmin.8.html#//apple_ref/doc/man/8/kadmin"><u>kadmin</u>(8)</a> client.  The location of the keytab is determined by  the
                 <u>admin</u><b>_</b><u>keytab</u> configuration variable (see CONFIGURATION VALUES).

       ACL file  <b>Kadmind</b>'s  ACL (access control list) tells it which principals are allowed to perform KADM5
                 administration actions.  The path of the ACL file is specified via the acl_file  configura-<font color="#ffffff" class="whiteout">tion&nbsp;configuration</font>
                 tion  variable  (see CONFIGURATION VALUES).  The syntax of the ACL file is specified in the
                 ACL FILE SYNTAX section below.

       After the server begins running, it puts itself in the background and disassociates itself  from  its
       controlling terminal.

<b>OPTIONS</b>
       <b>-x</b> <u>db</u><b>_</b><u>args</u>
              specifies the database specific arguments.

              Options supported for LDAP database are:

                   -x nconns=&lt;number_of_connections&gt;
                   specifies the number of connections to be maintained per LDAP server.

                   -x host=&lt;ldapuri&gt;
                   specifies the LDAP server to connect to by a LDAP URI.

                   -x binddn=&lt;binddn&gt;
                   specifies  the  DN  of  the  object used by the administration server to bind to the LDAP
                   server.  This object should have the read and write rights on the realm container,  prin-<font color="#ffffff" class="whiteout">cipal&nbsp;principal</font>
                   cipal container and the subtree that is referenced by the realm.

                   -x bindpwd=&lt;bind_password&gt;
                   specifies  the password for the above mentioned binddn. It is recommended not to use this
                   option.   Instead,  the  password  can  be  stashed  using  the  stashsrvpw  command   of
                   kdb5_ldap_util.

       <b>-r</b> <u>realm</u>
              specifies the default realm that kadmind will serve; if it is not specified, the default realm
              of the host is used.  <b>kadmind</b> will answer requests for any realm that exists in the local  KDC
              database and for which the appropriate principals are in its keytab.

       <b>-m</b>     specifies  that  the  master database password should be fetched from the keyboard rather than
              from a file on disk.  Note that the server gets the password prior to putting  itself  in  the
              background;  in  combination  with  the -nofork option, you must place it in the background by
              hand.

       <b>-nofork</b>
              specifies that the server does not put itself in the  background  and  does  not  disassociate
              itself  from  the  terminal.   In  normal  operation, you should always allow the server place
              itself in the background.

       <b>-port</b> <u>port-number</u>
              specifies the port on which the administration server listens for connections.  The default is
              is controlled by the <u>kadmind</u><b>_</b><u>port</u> configuration variable (see below).

<b>CONFIGURATION</b> <b>VALUES</b>
       In addition to the relations defined in <a href="../man5/kdc.conf.5.html#//apple_ref/doc/man/5/kdc.conf">kdc.conf(5)</a>, kadmind understands the following relations, all
       of which should appear in the [realms] section:

       acl_file
              The path of kadmind's ACL file.  Mandatory.  No default.

       dict_file
              The path of kadmind's password dictionary.  A principal with any password policy will  not  be
              allowed to select any password in the dictionary.  Optional.  No default.

       admin_keytab
              The  name of the keytab containing entries for the principals <u>kadmin/admin</u> and <u>kadmin/changepw</u>
              in each realm that <b>kadmind</b> will serve.  The default is the value of the  KRB5_KTNAME  environ-<font color="#ffffff" class="whiteout">ment&nbsp;environment</font>
              ment variable, if defined.  Mandatory.

       kadmind_port
              The TCP port on which <b>kadmind</b> will listen.  The default is 749.

<b>ACL</b> <b>FILE</b> <b>SYNTAX</b>
       The  ACL  file  controls  which principals can or cannot perform which administrative functions.  For
       operations that affect principals, the ACL file also controls which principals can operate  on  which
       other  principals.   This  file  can  contain  comment  lines,  null lines or lines which contain ACL
       entries.  Comment lines start with the sharp sign (<b>#</b>) and continue until the end of the line.   Lines
       containing  ACL entries have the format of <b>principal</b> <u>whitespace</u> <b>operation-mask</b> [<u>whitespace</u> <b>operation</b>-<font color="#ffffff" class="whiteout">target]&nbsp;operationtarget]</font>
       <b>target</b>]

       Ordering is important.  The first matching entry is the one which will control access for a  particu-<font color="#ffffff" class="whiteout">lar&nbsp;particular</font>
       lar principal on a particular principal.


       principal
              may  specify a partially or fully qualified Kerberos version 5 principal name.  Each component
              of the name may be wildcarded using the asterisk ( <b>*</b> ) character.

       operation-target
              [Optional] may specify a partially or fully qualified Kerberos version 5 principal name.  Each
              component of the name may be wildcarded using the asterisk ( <b>*</b> ) character.

       operation-mask
              Specifies  what  operations  may  or  may not be peformed by a principal matching a particular
              entry.  This is a string of one or more of the following list of characters  or  their  upper-<font color="#ffffff" class="whiteout">case&nbsp;uppercase</font>
              case  counterparts.  If the character is upper-case, then the operation is disallowed.  If the
              character is lower-case, then the operation is permitted.

              <b>a</b>    [Dis]allows the addition of principals or policies in the database.
              <b>d</b>    [Dis]allows the deletion of principals or policies in the database.
              <b>m</b>    [Dis]allows the modification of principals or policies in the database.
              <b>c</b>    [Dis]allows the changing of passwords for principals in the database.
              <b>i</b>    [Dis]allows inquiries to the database.
              <b>l</b>    [Dis]allows the listing of principals or policies in the database.
              <b>x</b>    Short for <u>admcil</u>.
              <b>*</b>    Same as <b>x</b>.
       Some examples of valid entries here are:

       <u>user/instance@realm</u> <u>adm</u>
              A standard fully qualified name.  The <b>operation-mask</b> only applies to this principal and speci-<font color="#ffffff" class="whiteout">fies&nbsp;specifies</font>
              fies  that  [s]he  may  add,  delete or modify principals and policies, but not change anybody
              else's password.

       <u>user/instance@realm</u> <u>cim</u> <u>service/instance@realm</u>
              A standard fully qualified name and a standard fully  qualified  target.   The  <b>operation-mask</b>
              only  applies  to  this principal operating on this target and specifies that [s]he may change
              the target's password, request information about the target and modify it.

       <u>user/*@realm</u> <u>ac</u>
              A wildcarded name.  The <b>operation-mask</b> applies to all principals in realm "realm" whose  first
              component is "user" and specifies that [s]he may add principals and change anybody's password.

       <u>user/*@realm</u> <u>i</u> <u>*/instance@realm</u>
              A wildcarded name and target.  The <b>operation-mask</b> applies to all principals in  realm  "realm"
              whose  first  component is "user" and specifies that [s]he may perform inquiries on principals
              whose second component is "instance" and realm is "realm".

<b>FILES</b>
       principal.db        default name for Kerberos principal database

       &lt;dbname&gt;.kadm5      KADM5 administrative database.  (This would be "principal.kadm5", if you use  the
                           default database name.)  Contains policy information.

       &lt;dbname&gt;.kadm5.lock lock  file for the KADM5 administrative database.  This file works backwards from
                           most other lock files.  I.e., <b>kadmin</b> will exit with an error if  this  file  does
                           <u>not</u> exist.

       <b>Note:</b>               The above three files are specific to db2 database.

       kadm5.acl           file  containing  list  of principals and their <b>kadmin</b> administrative privileges.
                           See above for a description.

       kadm5.keytab        keytab file for <u>kadmin/admin</u> principal.

       kadm5.dict          file containing dictionary of strings explicitly disallowed as passwords.

<b>SEE</b> <b>ALSO</b>
       <a href="../man1/kpasswd.1.html#//apple_ref/doc/man/1/kpasswd">kpasswd(1)</a>, <a href="kadmin.8.html#//apple_ref/doc/man/8/kadmin">kadmin(8)</a>, <a href="kdb5_util.8.html#//apple_ref/doc/man/8/kdb5_util">kdb5_util(8)</a>, <!-- a -->kadm5_export(8)<!-- /a -->, <!-- a -->kadm5_import(8)<!-- /a -->, <a href="kdb5_ldap_util.8.html#//apple_ref/doc/man/8/kdb5_ldap_util">kdb5_ldap_util(8)</a>




                                                                                                  KADMIND(8)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/kadmind.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/kadmind.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/kadmind.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
