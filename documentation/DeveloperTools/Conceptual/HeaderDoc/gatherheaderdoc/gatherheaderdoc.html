<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>HeaderDoc User Guide: Advanced HeaderDoc Configuration and Features</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Advanced HeaderDoc Configuration and Features"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001215-CH350" title="Advanced HeaderDoc Configuration and Features"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../Darwin-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000502" target="_top">Darwin</a> &gt; <a href="../intro/intro.html#//apple_ref/doc/uid/TP40001215-CH345-DontLinkElementID_55">HeaderDoc User Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../config/config.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../mpgl/mpgl.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001215-CH350-BABDEHCI" title="Advanced HeaderDoc Configuration and Features"></a><h1>Advanced HeaderDoc Configuration and Features</h1><p>HeaderDoc contains a number of advanced features intended for users with more complex needs. This chapter describes some of these features.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="gatherheaderdoc.html#//apple_ref/doc/uid/TP40001215-CH350-BABHAEAC">Creating a TOC Template File</a>
				
			<br/>
			
        
			
			
				<a href="gatherheaderdoc.html#//apple_ref/doc/uid/TP40001215-CH350-BABGIGFB">Using the C Preprocessor</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001215-CH350-BABHAEAC" title="Creating a TOC Template File"></a><h2>Creating a TOC Template File</h2><p>TOC template files are basically ordinary HTML files. They can contain any HTML content. In addition to HTML content, they can also contain conditional HTML content—that is, content that is only included if certain conditions are met. Finally, they can include various lists.</p><p>The template support is particularly powerful when combined with support for frameworks (which, for HeaderDoc purposes, is essentially a loose grouping of related documentation stored in the same output directory).</p><p>Here are the special tags that indicate conditional or list content:</p><p></p><dl class="termdef">	<dt><code>$$title@@</code></dt><dd><p>Inserts “Foo Documentation” where Foo is the framework name.</p></dd><dt><code>$$tocname@@</code></dt><dd><p>Inserts the name of the main TOC file. Useful when used with multiple landing page templates, as described in <span class="content_text"><a href="gatherheaderdoc.html#//apple_ref/doc/uid/TP40001215-CH350-BEJEFDGF">“Using Multiple Landing Page Templates.”</a></span></p></dd><dt><code>$$framework@@</code></dt><dd><p>Inserts the full framework name, as specified by the <code>@framework</code> tag in the <code>.hdoc</code> file.</p></dd><dt><code>$$frameworkabstract@@</code></dt><dd><p>Inserts the framework abstract, as specified by the <code>@abstract</code> tag in the <code>.hdoc</code> file.</p></dd><dt><code>$$frameworkdir@@</code></dt><dd><p>Inserts the framework’s "short name”. This is determined by taking the filename of the “<code>.hdoc</code>” file and stripping off the <code>.hdoc</code> extension). This name is also prepended to the name of additional landing page template, as described in <span class="content_text"><a href="gatherheaderdoc.html#//apple_ref/doc/uid/TP40001215-CH350-BEJEFDGF">“Using Multiple Landing Page Templates.”</a></span></p></dd><dt><code>$$frameworkdiscussion@@</code></dt><dd><p>Inserts the framework discussion, as specified by the <code>@discussion</code> tag (or implicitly as part of the <code>@framework</code> tag) in the <code>.hdoc</code> file.</p></dd><dt><code>$$frameworkuid@@</code></dt><dd><p>Inserts a framework UID anchor.</p></dd><dt><code>$$headersection@@</code></dt><dd><p>Start of conditional block for headers. If there are no headers listed, content between this tag and the closing conditional block tag will not appear.</p></dd><dt><code>$$/headersection@@</code></dt><dd><p>End of conditional block for headers.</p></dd><dt><code>$$headerlist@@</code></dt><dd><p>A list of all headers in the output directory.</p></dd><dt><code>$$classsection@@</code></dt><dd><p>Start of conditional block for classes. If there are no classes listed, content between this tag and the closing conditional block tag will not appear.</p></dd><dt><code>$$/classsection@@</code></dt><dd><p>End of conditional block for classes.</p></dd><dt><code>$$classlist@@</code></dt><dd><p>A list of all classes in the output directory.</p></dd><dt><code>$$categorysection@@</code></dt><dd><p>Start of conditional block for categories. If there are no categories listed, content between this tag and the closing conditional block tag will not appear.</p></dd><dt><code>$$/categorysection@@</code></dt><dd><p>End of conditional block for categories.</p></dd><dt><code>$$categorylist@@</code></dt><dd><p>A list of all categories in the output directory.</p></dd><dt><code>$$protocolsection@@</code></dt><dd><p>Start of conditional block for protocols. If there are no protocols listed, content between this tag and the closing conditional block tag will not appear.</p></dd><dt><code>$$/protocolsection@@</code></dt><dd><p>End of conditional block for protocols.</p></dd><dt><code>$$protocollist@@</code></dt><dd><p>A list of all protocols in the output directory.</p></dd><dt><code>$$datasection@@</code></dt><dd><p>Start of conditional block for data (globals and constants). If there are no data elements listed, content between this tag and the closing conditional block tag will not appear.</p></dd><dt><code>$$/datasection@@</code></dt><dd><p>End of conditional block for data (globals and constants).</p></dd><dt><code>$$datalist@@</code></dt><dd><p>A list of all data elements in the output directory.</p></dd><dt><code>$$typesection@@</code></dt><dd><p>Start of conditional block for types. If there are no types listed, content between this tag and the closing conditional block tag will not appear.</p></dd><dt><code>$$/typesection@@</code></dt><dd><p>End of conditional block for types.</p></dd><dt><code>$$typelist@@</code></dt><dd><p>A list of all types in the output directory.</p></dd><dt><code>$$functionsection@@</code></dt><dd><p>Start of conditional block for functions or methods. If there are no functions or methods listed, content between this tag and the closing conditional block tag will not appear.</p></dd><dt><code>$$/functionsection@@</code></dt><dd><p>End of conditional block for functions or methods.</p></dd><dt><code>$$functionlist@@</code></dt><dd><p>A list of all functions/methods in the output directory.</p></dd></dl><p>List tags default to a raw list (single column) with no border. However, you can change the number of columns, the table width, and border quite easily. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>    $$functionlist cols=3 order=down atts=border="0" cellpadding="1" cellspacing="0" width="420"@@<span></span></pre></td></tr></table></div><p>specifies that the table will be three columns, listed down the first column, then down the next column, and so on. It also specifies that the additional attributes <code>border</code>, <code>cellpadding</code>, <code>cellspacing</code>, and <code>width</code> will be inserted into the table tag automatically. Note that the <code>atts</code> parameter must be the last parameter listed.</p><div class="warningbox"><img src="../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40001215-CH350-DontLinkElementID_54" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;The order of the arguments to the list commands is important. The order of options is listed below</p><p></p><div class="clear"></div></div><dl class="termdef">	<dt>nogroups</dt><dd><p>The gatherHeaderDoc tool normally separates entries by TOC grouping. If you want this list to include everything in a single list, add this flag. For an example, see the alphabetical list of all Mac OS X manual pages as part of <em><a href="../../../../Darwin/Reference/ManPages/index.html#//apple_ref/doc/uid/TP40000894" target="_top">Mac OS X Man Pages</a></em>.</p></dd><dt>cols</dt><dd><p>Specifies the number of columns in the table. (Note that the number of rows cannot be specified, as it is calculated based on the number of columns and the number of entries in the table.) For example, you might specify <code>cols=3</code>.</p></dd><dt>order</dt><dd><p>Specifies whether the table should read across or down. If you specify <code>order=across</code>, the first entry will be in the upper left cell, the second one will be to the right, and so on. If you specify <code>order=down</code>, the second entry will be below the first entry. The default is down.</p></dd><dt>trclass</dt><dd><p>Specifies a CSS class to be applied to the <code>&lt;tr></code> (table row) tags within the table. For example, you might specify <code>trclass=toctrclass</code>.</p></dd><dt>tdclass</dt><dd><p>Specifies a CSS class to be applied to the <code>&lt;td></code> (table data cell) tags within the table. For example, you might specify <code>tdclass=toctdclass</code>.</p></dd><dt>notable</dt><dd><p>Disables generation of tables. If you specify this option, each entry will be separated by a <code>&lt;br></code> (line break) tag followed by a newline. This is primarily intended for generating a list that can be easily processed with custom tools, but it may be combined with CSS to create some interesting and useful layouts as well.</p></dd><dt>addempty</dt><dd><p>This option tells gatherHeaderDoc to include blank cells containing a non-breaking space to fill in unused slots in the last line of the table. The default, <code>addempty=0</code>, will simply close the final line of the table early. To add extra empty cells (as needed) to fill the last line in the table, specify <code>addempty=1</code>.</p><p>This usually matters very little unless you have table borders turned on (<code>atts=border=1</code>, for example).</p></dd><dt>atts</dt><dd><p>Specifies a list of attributes to be added to the <code>&lt;table></code> tag. These are not CSS attributes, though you could specify CSS attributes by specifying <code>atts=style="CSS props here"</code>. Everything up to the closing <code>@@</code> marker is included as part of the <code>atts</code> option.</p></dd></dl><p>For example:</p><div class="codesample"><table><tr><td scope="row"><pre>    $$functionlist nogroups cols=3 order=down trclass=mytrclass tdclass=mytdclass notable addempty=1 atts=border="0" cellpadding="1" cellspacing="0" width="420"@@<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001215-CH350-BEJEFDGF" title="Using Multiple Landing Page Templates"></a><h3>Using Multiple Landing Page Templates</h3><p>HeaderDoc is not limited to a single landing page template. You can generate multiple landing pages with different content if desired. To do this, you might create two template files called <code>toctemplate.html</code> and <code>functions.tmpl</code>, then add a line in your configuration file like this:</p><div class="codesample"><table><tr><td scope="row"><pre>TOCTemplateFile => toctemplate.html functions.tmpl<span></span></pre></td></tr></table></div><p>When you run gatherHeaderDoc, you will now get two HTML landing pages, one for each template.</p><p>The first template file, <code>toctemplate.html</code>, is treated as the “main” template page. The <code>gatherHeaderDoc</code> tool will generate a landing page based on that template with the filename specified by the <code>masterTOCName</code> variable in the configuration file (<code>masterTOC.html</code> by default).</p><p>After the first template file, each additional template file (<code>functions.tmpl</code>, in this case) is used to produce an HTML landing page whose name is derived from the framework’s “short name” (the name of the <code>.hdoc</code> file with the <code>.hdoc</code> extension stripped off the end), followed by a dash, followed by the template filename (without any “<code>.html</code>” or “<code>.tmpl</code>” extensions), followed by “<code>.html</code>”.</p><p>For example, if the <code>.hdoc</code> file is called <code>MyFramework.hdoc</code>, this second index file would be called <code>MyFramework-functions.html</code>.</p><p>Since these templates can be used for generating multiple documents, you should not specify this entire path in your template files, however. Instead, you should specify it relative to the framework name. To do this, in your <code>toctemplate.html</code> file, you should link to the functions index like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;A href="$$frameworkdir@@-functions.html">Functions Index&lt;/A>&lt;p><span></span></pre></td></tr></table></div><p>The framework’s “short name” will automatically be substituted in place of the <code>$$frameworkdir@@</code> keyword. Similarly, in the functions template, you can link to the main TOC like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;A href="$$tocname@@">Headers Index&lt;/A>&lt;p><span></span></pre></td></tr></table></div><p>This will ensure that your template will generate valid links even if you change the name of the MasterTOC in your configuration file.</p><a name="//apple_ref/doc/uid/TP40001215-CH350-BABDFJGC" title="Example gatherHeaderDoc Template"></a><h3>Example gatherHeaderDoc Template</h3><p>The following is an example template for gatherHeaderDoc:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;html><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;title>API Reference: Device Drivers (Kernel/IOKit)&lt;/title><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;style type="text/css">&lt;!--#pagehead {<span></span></pre></td></tr><tr><td scope="row"><pre>    FONT-WEIGHT: bold; FONT-SIZE: 32px; COLOR: #000000;<span></span></pre></td></tr><tr><td scope="row"><pre>    FONT-FAMILY: lucida grande, geneva, helvetica, arial, sans-serif; }<span></span></pre></td></tr><tr><td scope="row"><pre>    td { font-size: 10px; } a:link {text-decoration: none;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-family: lucida grande, geneva, helvetica, arial, sans-serif;<span></span></pre></td></tr><tr><td scope="row"><pre>    color: #0000ff;} a:visited {text-decoration: none;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-family: lucida grande, geneva, helvetica, arial, sans-serif;<span></span></pre></td></tr><tr><td scope="row"><pre>    color: #0000ff;} a:visited:hover {text-decoration: underline;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-family: lucida grande, geneva, helvetica, arial, sans-serif;<span></span></pre></td></tr><tr><td scope="row"><pre>    color: #ff6600;} a:active {text-decoration: none;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-family: lucida grande, geneva, helvetica, arial, sans-serif;<span></span></pre></td></tr><tr><td scope="row"><pre>    color: #ff6600;} a:hover {text-decoration: underline;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-family: lucida grande, geneva, helvetica, arial, sans-serif;<span></span></pre></td></tr><tr><td scope="row"><pre>    color: #ff6600;} h4 {text-decoration: none;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-family: lucida grande, geneva, helvetica, arial, sans-serif;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-size: tiny; font-weight: bold;} body {text-decoration: none;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-family: lucida grande, geneva, helvetica, arial, sans-serif;<span></span></pre></td></tr><tr><td scope="row"><pre>    font-size: 10pt;} --><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/style><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;Meta name="ROBOTS" content="NOINDEX"><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;body bgcolor="#ffffff"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;center><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!-- start of header --><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!--#include virtual="/path/to/header.html"--><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!-- end of header --><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;table border="0" cellpadding="0" cellspacing="0" width="600"><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;tr height="5"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;td width="600" height="5">&lt;br><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/td><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/tr><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;tr><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;td width="600"><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;div id="pagehead">$$framework@@&lt;/div><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/td><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/tr><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;tr height="10"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;td width="600" height="10">&lt;br><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/td><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/tr><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;tr><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;td valign="top" width="600">&lt;font face="Geneva,Helvetica,Arial"<span></span></pre></td></tr><tr><td scope="row"><pre>        size="2">&lt;span id="bodytext"> $$frameworkdiscussion@@ &lt;/span>&lt;/font><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/td><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/tr><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;tr height="10"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;td height="10" width="600">&lt;/td><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/tr><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;tr height="5"><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;td height="5" width="600"><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;hr alt=""><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;br><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/td><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/tr><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;tr><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;td width="600" align="center" valign="top"><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;H2>Headers&lt;/H2><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>                $$headerlist cols=3 order=down atts=border="0"<span></span></pre></td></tr><tr><td scope="row"><pre>                cellpadding="1" cellspacing="0" width="420"@@<span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;H2>Functions&lt;/H2><span></span></pre></td></tr><tr><td scope="row"><pre>                $$functionlist cols=3 order=down atts=border="0"<span></span></pre></td></tr><tr><td scope="row"><pre>                cellpadding="1" cellspacing="0" width="420"@@<span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/td><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/tr><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/table><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/center><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/html><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40001215-CH350-BABGIGFB" title="Using the C Preprocessor"></a><h2>Using the C Preprocessor</h2><p>Beginning in HeaderDoc 8.5, HeaderDoc contains a basic C preprocessor implementation (enabled with the <code>-p</code> flag). Because HeaderDoc does not have access to the full compile-time environment of the headers, its behavior may differ from normal C preprocessors in certain cases. This section describes some of those differences.</p><a name="//apple_ref/doc/uid/TP40001215-CH350-CIHHAGHH" title="Parsing Rules"></a><h3>Parsing Rules</h3><p>Most <code>#define</code> macros are not parsed by default, even if the preprocessor is enabled. This permits you as the user to choose which macros to process.</p><p>Macros are processed if any of the following are true:</p><ul class="spaceabove"><li class="li"><p>They are preceded by a HeaderDoc comment block.</p></li><li class="li"><p>They appear between the beginning and end of a class that is preceded by a HeaderDoc comment block.</p></li></ul><p>The reason for this second case is a side-effect of the way that HeaderDoc parses classes to ensure that lines are processed in the order in which they appear in the file (which is necessary for a preprocessor to even be possible). For maximum control, preprocessor directives should be at the start of the file, outside of class braces.</p><a name="//apple_ref/doc/uid/TP40001215-CH350-DontLinkElementID_11" title="Multiply-Defined Macros"></a><h3>Multiply-Defined Macros</h3><p>HeaderDoc does not attempt to handle <code>#if</code>, <code>#ifdef</code>, or <code>#ifndef</code> directives. This may, in certain circumstances, result in multiple definitions of a <code>#define</code> directive if the preprocessor is enabled. As with most preprocessors, all such definitions are ignored except for the one that appears first in the file.</p><p>This is made slightly more complicated by the parsing rules described in <span class="content_text"><a href="gatherheaderdoc.html#//apple_ref/doc/uid/TP40001215-CH350-CIHHAGHH">“Parsing Rules.”</a></span></p><a name="//apple_ref/doc/uid/TP40001215-CH350-DontLinkElementID_12" title="Embedded HeaderDoc Comments in a Macro"></a><h3>Embedded HeaderDoc Comments in a Macro</h3><p>With most data types, HeaderDoc comments appearing inside the data type are associated with the data type itself. This is normally true for <code>#define</code> macros as well. However, that behavior would create a problem when the C preprocessor is enabled, as it is reasonable to allow macros to define contents to be blown into a class, and those contents could potentially include HeaderDoc markup.</p><p>For this reason, when the C preprocessor is enabled, embedded headerdoc processing is disabled for <code>#define</code> macros. Any HeaderDoc markup within the body of such a macro will be blown in wherever the macro is used, and will only be processed in the resulting context.</p><p>While HeaderDoc does allow a macro to insert multiple declarations and HeaderDoc comment blocks within a class, it does not allow this outside of a class. When a macro inserts contents outside of a class scope, parsing will end at the end of the first declaration and any other contents inserted by the macro will be skipped.</p><a name="//apple_ref/doc/uid/TP40001215-CH350-DontLinkElementID_13" title="Handling of #include"></a><h3>Handling of #include</h3><p>HeaderDoc’s implementation of <code>#include</code> behaves differently than you might expect. The differences include the following:</p><ul class="spaceabove"><li class="li"><p>No notion of paths.</p><p>Because the include paths are not specified as they are with a compiler, HeaderDoc cannot reasonably determine that <code>&lt;dir1/file.h></code> and <code>&lt;dir2/file.h></code> are distinct. For this reason, processing files with the same name in different directories is discouraged.</p></li><li class="li"><p>Mandatory recursion protection.</p><p>Because HeaderDoc does not process <code>#if</code>, <code>#ifdef</code>, and <code>#ifndef</code> conditionals, HeaderDoc enforces recursion protection by not allowing a file to get processed twice. Once a file is processed, a precompiled copy of its macros is stored for future use, and is automatically inserted whenever another <code>#include</code> requests it.</p><p>This causes two side-effects. First, a <code>#include</code> cannot be altered in a context-dependent way—that is, if a header incudes <code>&lt;a.h></code> and then <code>&lt;b.h></code>, the macros defined in <code>&lt;a.h></code> will not affect the parse of <code>&lt;b.h></code> unless <code>&lt;b.h></code> includes <code>&lt;a.h></code> on its own.</p><p>Second, <code>#include</code> behaves much like <code>#import</code>. The result is that if <code>&lt;a.h></code> includes <code>&lt;b.h></code> which includes <code>&lt;c.h></code> which includes <code>&lt;a.h></code>, the definitions leading up to the reinclusion of <code>&lt;a.h></code> will not affect the way <code>&lt;a.h></code> is parsed.</p></li><li class="li"><p>Macro contents will be shown in the documentation output.</p><p>Rather than try to carry around some notion of the original tokens read from the file, HeaderDoc inserts macros into the parse tree as if the modified version had been read from the file. This means that it is not possible, for example, for HeaderDoc to show you the unaltered definition of a macro that includes another macro.</p></li></ul><p>These differences generally do not affect headers written in a typical fashion, but may cause problems if you are using preprocessor directives in a nonstandard way.</p><a name="//apple_ref/doc/uid/TP40001215-CH350-DontLinkElementID_14" title="Other Issues"></a><h3>Other Issues</h3><p>A few common function-like preprocessor macros are predefined within HeaderDoc itself to avoid parse problems with I/O Kit headers. These will probably not affect you, but you should be aware of them.</p><p>Because HeaderDoc does not strip comments prior to processing macros (since doing so would remove HeaderDoc markup), the preprocessor may behave in subtly different ways. In particular, newlines are preserved, and any closing single-line (<code>//</code>) comments will automatically be converted into a multi-line (<code>/* */</code>) comment to avoid causing the rest of the line to disappear when that macro actually gets used.</p><p>Finally, HeaderDoc does do basic string and character handling, even within macros. As a result, mismatched single and double quotes within a <code>#define</code> macro may cause serious problems.</p><a name="//apple_ref/doc/uid/TP40001215-CH350-DontLinkElementID_15" title="What if I Don&acirc;&#128;&#153;t Want to See the Macros in the Documentation?"></a><h3>What if I Don’t Want to See the Macros in the Documentation?</h3><p>Most of the time, having <code>#define</code> macros defined in the documentation is helpful. In some cases, though, the macros get so big and ugly that you just want to get rid of them. For this reason, HeaderDoc has the <code>@parseOnly</code> tag.</p><p>For example:</p><div class="codesample"><table><tr><td scope="row"><pre>/*! This is an ugly internal macro. @parseOnly */<span></span></pre></td></tr><tr><td scope="row"><pre>#define CreateStructors \<span></span></pre></td></tr><tr><td scope="row"><pre>    /*! Constructor */ \<span></span></pre></td></tr><tr><td scope="row"><pre>    blah(); \<span></span></pre></td></tr><tr><td scope="row"><pre>    /*! Destructor */ \<span></span></pre></td></tr><tr><td scope="row"><pre>    ~blah();<span></span></pre></td></tr></table></div><p>By adding this tag at the end of the HeaderDoc comment block for the macro, the macro will be parsed and used by the preprocessor, but will not appear in the documentation.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../config/config.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../mpgl/mpgl.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1999, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-04-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/HeaderDoc/gatherheaderdoc/gatherheaderdoc.html%3Fid%3DTP40001215-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/HeaderDoc/gatherheaderdoc/gatherheaderdoc.html%3Fid%3DTP40001215-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/HeaderDoc/gatherheaderdoc/gatherheaderdoc.html%3Fid%3DTP40001215-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>