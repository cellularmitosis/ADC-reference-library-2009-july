<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>GlyphaIVOld - /G4Externs.h</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/Games/index.html">Games</a> &gt; <a href="../../samplecode/Games/idxGraphicsImaging-date.html">Graphics & Imaging</a> &gt; <A HREF="javascript:location.replace('index.html');">GlyphaIVOld</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Not Recommended Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>The information in this document is <strong>Not Recommended</strong> and should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Games/idxGraphicsImaging-date.html" target="_blank">Games > Graphics & Imaging</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">GlyphaIVOld</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/G4Externs.h</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/G4Enemy.c</option>
<option value="listing2.html">/G4Externs.h</option>
<option value="listing3.html">/G4Graphics.c</option>
<option value="listing4.html">/G4Interface.c</option>
<option value="listing5.html">/G4Lava.c</option>
<option value="listing6.html">/G4Main.c</option>
<option value="listing7.html">/G4Play.c</option>
<option value="listing8.html">/G4Prefs.c</option>
<option value="listing9.html">/G4SetUpTakeDown.c</option>
<option value="listing10.html">/G4Sound.c</option>
<option value="listing11.html">/G4Utilities.c</option></select>
				</p>
				</form>
				<p><strong><a href="GlyphaIVOld.zip">Download Sample</a></strong> (&#147;GlyphaIVOld.zip&#148;, 106.6K)<BR>
<strong><a href="GlyphaIVOld.dmg">Download Sample</a></strong> (&#147;GlyphaIVOld.dmg&#148;, 175.8K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">//============================================================================//----------------------------------------------------------------------------//                  Externs.h//----------------------------------------------------------------------------//============================================================================#include &quot;DrawSprocket.h&quot;#include &lt;ConditionalMacros.h&gt;#include &lt;Dialogs.h&gt;#include &lt;Types.h&gt;#include &lt;Quickdraw.h&gt;#define TRUE 1#define FALSE 0#define  kPutInFront      (WindowPtr)-1L#define  kNormalUpdates    TRUE#define kHelpKeyASCII        0x05#define kPageUpKeyASCII        0x0B#define kPageDownKeyASCII      0x0C#define  kUpArrowKeyASCII      0x1E#define kDownArrowKeyASCII      0x1F#define kDownArrowKeyMap      122    // key map offset for down arrow#define kRightArrowKeyMap      123    // key map offset for right arrow#define kLeftArrowKeyMap      124    // key map offset for left arrow#define kAKeyMap          7#define  kEKeyMap          9#define  kPKeyMap          36#define  kQKeyMap          11#define kSKeyMap          6#define kColonMap          0x2E#define kQuoteMap          0x20#define  kCommandKeyMap        48#define  kEscKeyMap          50#define kSpaceBarMap        54#define kBirdSound          1#define kBirdPriority          80#define kBonusSound          2#define kBonusPriority          85#define kBoom1Sound          3#define kBoom1Priority          115#define kBoom2Sound          4#define kBoom2Priority          110#define kSplashSound        5#define kSplashPriority          75#define kFlapSound          6#define kFlapPriority          70#define kGrateSound          8#define kGratePriority          40#define kLightningSound        9#define kLightningPriority        100#define kMusicSound          10#define kMusicPriority          120#define kScreechSound        12#define kScreechPriority        50#define kSpawnSound          13#define kSpawnPriority          90#define kWalkSound          14#define kWalkPriority          30#define kFlap2Sound          15#define kFlap2Priority          20#define kScrape2Sound        16#define kScrape2Priority        10#define kLavaHeight          456#define kRoofHeight          2#define kGravity          4#define kIdle            -1  // enemy &amp; player mode#define kFlying            0  // enemy &amp; player mode#define kWalking          1  // enemy &amp; player mode#define kSinking          2  // player mode#define kSpawning          3  // enemy mode#define kFalling          4  // enemy mode &amp; player mode#define kEggTimer          5  // enemy mode#define kDeadAndGone        6  // enemy mode#define kBones            7  // player mode#define kLurking          10  // hand mode#define kOutGrabeth          11  // hand mode#define kClutching          12  // hand mode#define kWaiting          15  // eye mode#define kStalking          16  // eye mode#define kInitNumLives        5#define kMaxEnemies          8#define kDontFlapVel        8#define kOwl            0#define kWolf            1#define kJackal            2#define kMaxPixelShatter    4000#define kMaxScoreFloater       8//--------------------------------------------------------------  Structstypedef struct{  Rect    dest, wasDest, wrap;  short    h, v;  short    wasH, wasV;  short    hVel, vVel;  short    srcNum, mode;  short    frame;  Boolean    facingRight, flapping;  Boolean    walking, wrapping;  Boolean    clutched;  short    electrical;    // should we be hitting him with lightning ? } playerType;typedef struct{  Rect    dest, wasDest;  short    h, v;  short    wasH, wasV;  short    hVel, vVel;  short    srcNum, mode;  short    kind, frame;  short    heightSmell, targetAlt;  short    flapImpulse, pass;  short    maxHVel, maxVVel;  Boolean    facingRight;} enemyType;typedef struct{  Rect    dest;  short    mode;} handInfo;typedef struct{  Rect    dest;  short    mode, opening;  short    srcNum, frame;  Boolean    killed, entering;} eyeInfo;typedef struct{  short    prefVersion, filler;  Str255    highName;  Str15    highNames[10];  long    highScores[10];  short    highLevel[10];  long    wasVolume;} prefsInfo;typedef struct{  unsigned long score;  Point location;  short duration;} scoreFloaterType;#define kShatterNormal         0#define kShatterPlayerDeath      1#define kShatterEnemyDeath      2#define kShatterPlatformHit      3#define kShatterPlatformLightning  4#define kShatterPlatformScrape    5#define kShatterLavaBubble      6#define kShatterLavaSplash      7#define kShatterLavaBurst      8#define kShatterPlayerEnemyScrape  9#define kShatterObeliskTip      10#define kShatterLightningDust    11typedef struct{  short h,v;  short hVel, vVel;  short type;  short duration;  unsigned char color;} pixelShatter;//--------------------------------------------------------------  Prototypesvoid GenerateEnemies (void);      // Enemies.cvoid MoveEnemies (void);void InitHandLocation (void);void HandleHand (void);void InitEye (void);void KillOffEye (void);void HandleEye (void);void CheckPlayerEnemyCollision (void);void HandlePixelShatter(void);void StartPixelShatter(short h, short v, short hVel, short vVel, short type);void StartPixelShatterRect(Rect *r, short dH, short dV, short type);void DrawPlatforms (short);        // Graphics.cvoid DrawBanner(void);void DrawPlayer(void);void ScrollHelp (short);void OpenHelp (void);void CloseWall (void);void OpenHighScores (void);void UpdateLivesNumbers (void);void UpdateScoreNumbers (void);void UpdateLevelNumbers (void);void GenerateLightning (short h, short v);void FlashObelisks (Boolean);void DrawObelisks (void);void StrikeLightningWork (void);void DumpBackToWorkMap (void);void DrawTorches (void);void DrawPixelShatter (void);void DrawFrame (void);void GameQuitGraphics(void);void MenusReflectMode (void);      // Interface.cvoid DoMenuChoice (long);void HandleEvent (void);void InitNewGame (void);        // Play.cvoid PlayGame (void);Boolean SavePrefs (prefsInfo *, short);  // Prefs.cBoolean LoadPrefs (prefsInfo *, short);void ToolBoxInit (void);        // SetUpTakeDown.cvoid CheckEnvirons (void);void OpenMainWindow (void);void InitMenubar (void);void InitVariables (void);void ShutItDown (void);void PlayExternalSound (short, short);  // Sound.cvoid InitSound (void);void KillSound (void);short RandomInt (short);        // Utilities.cvoid RedAlert (StringPtr);void FindOurDevice (void);void LoadGraphic (short);void CreateOffScreenPixMap (Rect *, CGrafPtr *);void CreateOffScreenBitMap (Rect *, GrafPtr *);void ZeroRectCorner (Rect *);void FlashShort (short);void LogNextTick (long);void WaitForNextTick (void);Boolean TrapExists (short);Boolean DoWeHaveGestalt (void);void CenterAlert (short);short RectWide (Rect *);short RectTall (Rect *);void CenterRectInRect (Rect *, Rect *);void PasStringCopy (StringPtr, StringPtr);void CenterDialog (short);void DrawDefaultButton (DialogPtr);void PasStringCopyNum (StringPtr, StringPtr, short);void GetDialogString (DialogPtr, short, StringPtr);void SetDialogString (DialogPtr, short, StringPtr);void SetDialogNumToStr (DialogPtr, short, long );void GetDialogNumFromStr (DialogPtr, short, long *);void DisableControl (DialogPtr, short);void GameIdleAnimation(void);// pixel shatter control variablesextern short numPixelShatter;extern pixelShatter thePixelShatter[kMaxPixelShatter];// score floater control variablesvoid HandleScoreFloaters(void);void StartScoreFloater(unsigned long score, Point where);extern short numScoreFloater;extern scoreFloaterType theScoreFloater[kMaxScoreFloater];// lightning control variablesextern short lightH, lightV, lightningCount;#ifdef __powerc  extern DSpContextReference gTheContext;#endif#ifdef powerc  extern pascal void SetSoundVol(short level);    // for old Sound Manager  extern pascal void GetSoundVol(short *level)  THREEWORDINLINE(0x4218, 0x10B8, 0x0260);#endif</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/GlyphaIVOld/listing2.html%3Fid%3DDTS10000053-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/GlyphaIVOld/listing2.html%3Fid%3DDTS10000053-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/GlyphaIVOld/listing2.html%3Fid%3DDTS10000053-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>