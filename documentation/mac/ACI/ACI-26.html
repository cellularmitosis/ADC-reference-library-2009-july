<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Disposing of a Palette and Restoring the Color Table</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING26></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ACI-25.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-27.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="ACI-2.html"><B>Advanced Color Imaging on the Mac OS</B></A> / <BR><DD><A HREF="ACI-14.html"><B>Chapter 1 - Palette Manager</B></A> / <A HREF="ACI-21.html"><B>Using the Palette Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING26-0></A>
<H2>Disposing of a Palette and Restoring the Color Table</H2>
 To prevent memory leaks, it is good programming practice to use the <CODE>DisposePalette</CODE> function to dispose of palettes when your application is done with them. If you explicitly attach a palette to a window with the <CODE>SetPalette</CODE> or <CODE>NSetPalette</CODE> function, then your application owns the palette and must dispose of it when it is no longer needed. Note that a palette can be attached to more than one window, so closing a window doesn't necessarily mean that its palette is no longer needed. <P>
 If you call <CODE>GetPalette</CODE>, which makes a copy of a window's palette, you must also call <CODE>DisposePalette</CODE> when you no longer need the palette. <P>
 If a palette has been set up automatically by the Palette Manager and Window Manager because the palette resource has the same ID as the window (or if the palette was created from the default application palette resource), then these managers automatically dispose of the palette when the window goes away. <P>
 It is also good programming practice to use the <CODE>RestoreDeviceClut</CODE> function to restore the color table of all graphics devices to their default state whenever your application is switched out as the active application. You don't have to worry about switching to the Finder, because its colors are automatically restored upon switching from applications that use the Palette Manager; nor do you need to be concerned with applications that use the Palette Manager, because the Palette Manager provides the proper colors the moment a window in such an application comes to the front. However, if you switch to an application that does not use the Palette Manager, its windows inherit your palette unless you have restored the default color tables for all the available display devices.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="ACI-25.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ACI-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ACI-122.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ACI-27.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="ACI-3.html">&copy; Apple Computer, Inc.</A><br>13 NOV 1996<P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
