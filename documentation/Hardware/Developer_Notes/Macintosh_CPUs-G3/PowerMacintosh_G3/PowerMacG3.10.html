<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><!-- <LINK REL="STYLESHEET" HREF="PowerMacG3.css"> --><script language="JavaScript" src="frametest.js"></script><TITLE> DMA Addresses and NewWorld Software</TITLE></HEAD><BODY BGCOLOR="#ffffff"><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><table border="0" cellpadding="0" cellspacing="2" width="432">		<tr>	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a --> 	<b>&gt;</b> Power Macintosh G3 Developer Note		</font></td>	</tr>	</table><!-- end of path --><DIV><!-- top navigation --><P><A HREF="PowerMacG3.e.html"><img src="images/up.gif" border="0" alt="Up"></A> <A HREF="PowerMacG3.f.html"><img src="images/previous.gif" border="0" alt="Previous"></A> <A HREF="PowerMacG3.11.html"><img src="images/next.gif" border="0" alt="Next"></A> <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></a></div><!-- end top navigation --><hr><h2 CLASS="H2.Heading2"><A NAME="pgfId=13073"> </A>DMA Addresses and NewWorld Software</h2><P CLASS="T1.Text1"><A NAME="pgfId=13237"> </A>In the past, Macintosh computers that use the PCI bus had a one-to-one correspondence between physical addresses and logical addresses as long as VM was off. To allow DMA transfers with VM on, DMA device drivers made a call to the <TT CLASS="cv">PrepareMemoryForIO</TT> function to set up physical and logical mapping for their memory buffers. On Macintosh computers that use the NewWorld software, DMA device drivers must always make that call, whether VM is on or off. Information about how to use the <TT CLASS="cv">PrepareMemoryForIO</TT> function appears on pages 219-229 of <I CLASS="italics">Designing PCI Cards and Drivers for the Power Macintosh</I>. </P><HR>\xA9 1998 Apple Computer, Inc. &#151; (Last Updated 5 Jan 99)<P><A HREF="PowerMacG3.e.html"><img src="images/up.gif" border="0" alt="Up"></A> <A HREF="PowerMacG3.f.html"><img src="images/previous.gif" border="0" alt="Previous"></A> <A HREF="PowerMacG3.11.html"><img src="images/next.gif" border="0" alt="Next"></A>  <!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!-- document.write(frameLink);//--></script><!-- end Show/Hide frames --></a></P><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>