<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Datagram Delivery Protocol (DDP)(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING179></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-178.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-180.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / </DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING179-0></A>
<H1>Chapter 7 - Datagram Delivery Protocol (DDP)</H1>
 This<A NAME=MARKER-2-4></A> chapter describes how you can use the Datagram Delivery Protocol (DDP) to send data to and receive it from another socket across an AppleTalk internet. To use DDP, you send and receive data as discrete packets, each packet carrying its own addressing information. DDP does not allow you to set up a connection between two sockets, nor does DDP ensure that data is delivered error free as do some of the AppleTalk protocols that are built on top of it.<A NAME=MARKER-9-24></A> <P>
 You should use DDP if your application does not require reliable delivery of data and you do not want to incur the additional processing associated with the use of a protocol that entails setting up and breaking down a connection. Because it is connectionless <BR>and does not include reliability services, DDP offers faster performance than do the higher-level protocols that add these services. Applications such as diagnostic tools that retransmit packets at regular intervals to estimate averages or games that can tolerate packet loss are good candidates for the use of DDP. <P>
 <A NAME=MARKER-2-196></A>A series of DDP packets transmitted over an AppleTalk internet from one node to another may traverse a single high-speed EtherTalk network or they may wind across multiple intermediate data links such as LocalTalk or TokenTalk, which are connected <BR>by routers. During the course of this process, some packet loss can occur, for example, <BR>as a result of collisions. If you do not plan on implementing recovery from packet loss <BR>in your application, but your application requires it, you should consider using an AppleTalk<A NAME=MARKER-2-49></A> transport protocol, such as the AppleTalk Data Stream Protocol (ADSP) or <BR>the AppleTalk Transaction Protocol (ATP); these protocols protect against packet loss <BR>and ensure reliability by using positive acknowledgment with packet retransmission mechanisms.<P>
 This chapter describes how to <P>
<UL>
<LI>open and close sockets for sending and receiving DDP packets
<LI>prepare the data and addressing information for each packet that you want to send
<LI>write a socket listener that receives packets addressed to the DDP socket associated with your application
<LI>measure packet-delivery performance <P>
</UL>
 This chapter includes a sample socket listener that you can use as a model for your own socket listener or modify to fit your application's requirements. <P>
 For an overview of DDP and how it fits within the AppleTalk protocol stack, read the chapter "Introduction to AppleTalk" in this book, which also introduces and defines some of the terminology used in this chapter. <P>
 For an explanation of the DDP specification, see <I>Inside AppleTalk,</I> second edition.<P>
<HR>
<B>Chapter </B><B>Contents</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Networking-180.html#HEADING180-0">About DDP</A>
<DD>
<DL>
<DT><A HREF="Networking-181.html#HEADING181-0">About Sockets and Socket Listeners</A>
<DD>
<DT><A HREF="Networking-182.html#HEADING182-0">Assigning Socket Numbers</A>
<DD>
<DT><A HREF="Networking-183.html#HEADING183-0">DDP Client Protocol Types</A>
<DD>
<DT><A HREF="Networking-184.html#HEADING184-0">Obtaining Data From the Network</A>
<DD>
</DL>
<DT><A HREF="Networking-185.html#HEADING185-0">Using DDP</A>
<DD>
<DL>
<DT><A HREF="Networking-186.html#HEADING186-0">Sending and Receiving Data: An Overview</A>
<DD>
<DL>
<DT><A HREF="Networking-186.html#HEADING186-8">Opening a Socket</A>
<DD>
<DT><A HREF="Networking-186.html#HEADING186-16">Sending Data</A>
<DD>
<DT><A HREF="Networking-186.html#HEADING186-22">Receiving Data</A>
<DD>
</DL>
<DT><A HREF="Networking-187.html#HEADING187-0">Creating a DDP Write-Data Structure</A>
<DD>
<DT><A HREF="Networking-188.html#HEADING188-0">Using Registers and Packet Headers</A>
<DD>
<DL>
<DT><A HREF="Networking-188.html#HEADING188-4">How the .MPP Driver Calls Your Socket Listener</A>
<DD>
<DT><A HREF="Networking-188.html#HEADING188-8">The DDP Packet and Frame Headers</A>
<DD>
<DT><A HREF="Networking-188.html#HEADING188-27">The MPW Equates</A>
<DD>
<DT><A HREF="Networking-188.html#HEADING188-30">Reading an Incoming Packet</A>
<DD>
<DT><A HREF="Networking-188.html#HEADING188-53">Using Checksums </A>
<DD>
</DL>
<DT><A HREF="Networking-189.html#HEADING189-0">A Sample Socket Listener</A>
<DD>
<DL>
<DT><A HREF="Networking-189.html#HEADING189-11">Socket Listener Queues and Buffers</A>
<DD>
<DT><A HREF="Networking-189.html#HEADING189-28">Setting Up the Socket Listener</A>
<DD>
<DT><A HREF="Networking-189.html#HEADING189-37">Initializing the Socket Listener</A>
<DD>
<DT><A HREF="Networking-189.html#HEADING189-42">Processing a Packet</A>
<DD>
<DT><A HREF="Networking-189.html#HEADING189-55">Testing for Available Packets</A>
<DD>
</DL>
<DT><A HREF="Networking-190.html#HEADING190-0">Measuring Packet-Delivery Performance</A>
<DD>
</DL>
<DT><A HREF="Networking-191.html#HEADING191-0">DDP Reference</A>
<DD>
<DL>
<DT><A HREF="Networking-192.html#HEADING192-0">Data Structures</A>
<DD>
<DL>
<DT><A HREF="Networking-193.html#HEADING193-0">The Write-Data Structure</A>
<DD>
<DT><A HREF="Networking-194.html#HEADING194-0">The Address Block Record</A>
<DD>
<DT><A HREF="Networking-195.html#HEADING195-0">MPP Parameter Block</A>
<DD>
</DL>
<DT><A HREF="Networking-196.html#HEADING196-0">Routines</A>
<DD>
<DL>
<DT><A HREF="Networking-197.html#HEADING197-0">Opening and Closing DDP Sockets</A>
<DD>
<DT><A HREF="Networking-200.html#HEADING200-0">Sending DDP Datagrams</A>
<DD>
</DL>
</DL>
<DT><A HREF="Networking-203.html#HEADING203-0">Summary of DDP</A>
<DD>
<DL>
<DT><A HREF="Networking-203.html#HEADING203-1">Pascal Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-203.html#HEADING203-2">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-4">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-5"><B></B>The Write-Data Structure</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-7"><B></B>The Address Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-9"><B></B>MPP Parameter Block</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-13">Routines</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-14"><B></B>Opening and Closing DDP Sockets</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-17"><B></B>Sending DDP Datagrams</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-203.html#HEADING203-20">C Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-203.html#HEADING203-21">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-24">Data Types</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-25"><B></B>The Write-Data Structure</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-27"><B></B>The Address Block Record</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-29"><B></B>MPP Parameter Block </A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-31">Routines</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-32"><B></B>Opening and Closing DDP Sockets</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-35"><B></B>Sending DDP Datagrams</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-203.html#HEADING203-38">Assembly-Language Summary</A>
<DD>
<DL>
	<DT><DT><A HREF="Networking-203.html#HEADING203-39">Constants</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-48">Data Structures</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-49"><B></B>MPP Parameter Block Common Fields for DDP Routines</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-50"><B></B>OpenSkt Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-51"><B></B>CloseSkt Parameter Variant</A>
		<DD><DD>
	<DT><DT><A HREF="Networking-203.html#HEADING203-52"><B></B>WriteDDP Parameter Variant</A>
		<DD><DD>
</DL>
<DT><A HREF="Networking-203.html#HEADING203-53">Result Codes</A>
<DD>
</DL>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-178.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-180.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
