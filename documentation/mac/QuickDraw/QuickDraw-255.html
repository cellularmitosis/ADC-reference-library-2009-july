<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>QDError (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING255></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-254.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-256.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-197.html"><B>Chapter 4 - Color QuickDraw</B></A> / <A HREF="QuickDraw-200.html"><B>Color QuickDraw Reference</B></A><BR><DL><DD><A HREF="QuickDraw-211.html"><B>Color QuickDraw Routines</B></A> / <A HREF="QuickDraw-254.html"><B>Retrieving Color QuickDraw Result Codes</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING255-0></A>
<H3>QDError</H3>
 <A NAME=MARKER-11-561></A><A NAME=MARKER-11-561></A><A NAME=MARKER-2-562></A><A NAME=MARKER-2-432></A>To get a result code from the last applicable Color QuickDraw or Color Manager routine that you called, use the <CODE>QDError</CODE> function.<P>
<PRE>
FUNCTION QDError: Integer;
</PRE>
<A NAME=HEADING255-3></A>
<H5>DESCRIPTION</H5>
 The <CODE>QDError</CODE> function returns the error result from the last applicable Color QuickDraw or Color Manager routine. On a system with only basic QuickDraw, <CODE>QDError</CODE> always returns <CODE>noErr</CODE>.<P>
 The <CODE>QDError</CODE> function is helpful in determining whether insufficient memory caused a drawing operation--particularly those involving regions, polygons, pictures, and images copied with <CODE>CopyBits</CODE>--to fail in Color QuickDraw. <P>
 Basic QuickDraw uses stack space for work buffers. For complex operations such as depth conversion, dithering, and image resizing, stack space may not be sufficient. Color QuickDraw attempts to get temporary memory from other parts of the system. If that is still not enough, <CODE>QDError</CODE> returns the <CODE>nsStackErr</CODE> error. If your application receives this result, reduce the memory required by the operation--for example, divide the image into left and right halves--and try again.<P>
 When you record drawing operations in an open region, the resulting region description may overflow the 64 KB limit. Should this happen, <CODE>QDError</CODE> returns <CODE>regionTooBigError</CODE>. Since the resulting region is potentially corrupt, the <CODE>CloseRgn</CODE> procedure (described in the chapter "QuickDraw Drawing" in this book) returns an empty region if it detects <CODE>QDError</CODE> has returned <CODE>regionTooBigError</CODE>. A similar error, <CODE>rgnTooBigErr</CODE>, can occur when using the <CODE>BitMapToRegion</CODE> function (described in the chapter "Basic QuickDraw" in this book) to convert a bitmap to a region.<P>
 The <CODE>BitMapToRegion</CODE> function can also generate the <CODE>pixmapTooDeepErr</CODE> error if a <CODE>PixMap</CODE> record is supplied that is greater than 1 bit per pixel. You may be able to recover from this problem by coercing your <CODE>PixMap</CODE> record into a 1-bit <CODE>PixMap</CODE> record and calling the <CODE>BitMapToRegion</CODE> function again.<P>
<A NAME=HEADING255-9></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>paramErr<TD>-50<TD>Illegal parameter to <CODE>NewGWorld</CODE><TR>
<TD>&nbsp;<TD>-143<TD><CODE>CopyBits</CODE> couldn't allocate required temporary memory<TR>
<TD>&nbsp;<TD>-144<TD>Ran out of stack space while drawing polygon<TR>
<TD>noMemForPictPlaybackErr<TD>-145<TD>Insufficient memory for drawing the picture<TR>
<TD>regionTooBigError<TD>-147<TD>Region too big or complex<TR>
<TD>pixmapTooDeepErr<TD>-148<TD>Pixel map is deeper than 1 bit per pixel<TR>
<TD>nsStackErr<TD>-149<TD>Insufficient stack<TR>
<TD>cMatchErr<TD>-150<TD><CODE>Color2Index</CODE> failed to find an index<TR>
<TD>cTempMemErr<TD>-151<TD>Failed to allocate memory for temporary structures<TR>
<TD>cNoMemErr<TD>-152<TD>Failed to allocate memory for structure<TR>
<TD>cRangeErr<TD>-153<TD>Range error on color table request<TR>
<TD>cProtectErr<TD>-154<TD><CODE>ColorTable</CODE> record entry protection violation<TR>
<TD>cDevErr<TD>-155<TD>Invalid type of graphics device<TR>
<TD>cResErr<TD>-156<TD>Invalid resolution for <CODE>MakeITable</CODE><TR>
<TD>cDepthErr<TD>-157<TD>Invalid pixel depth specified to <CODE>NewGWorld</CODE><TR>
<TD>rgnTooBigErr<TD>-500<TD>Bitmap would convert to a region greater than 64 KB</TABLE>
</H5>
 In addition to these result codes, <CODE>QDErr</CODE> also returns result codes from the Memory Manager.<P>
<A NAME=HEADING255-11></A>
<H5>SECIAL CONSIDERATIONS</H5>
 The <CODE>QDError</CODE> function does not report errors returned by basic QuickDraw.<A NAME=MARKER-2-564></A><A NAME=MARKER-2-322></A><P>
<A NAME=HEADING255-13></A>
<H5>SEE ALSO</H5>
 <A HREF=QuickDraw-60.html#MARKER-9-120>Listing 3-8 on page 3-24</A>, <A HREF=QuickDraw-60.html#MARKER-9-126>Listing 3-10 on page 3-26</A>, and <A HREF=QuickDraw-60.html#MARKER-9-135>Listing 3-11 on page 3-29</A> in the chapter "QuickDraw Drawing" in this book--and <A HREF=QuickDraw-334.html#MARKER-9-77>Listing 7-8 on page 7-19</A> in the chapter "Pictures" in this book--illustrate how to use <CODE>QDError</CODE> to report insufficient memory conditions for various drawing operations.<P>
 The <CODE>NewGWorld</CODE> function is described in the chapter "Offscreen Graphics Worlds" in this book. The <CODE>Color2Index</CODE> function and the <CODE>MakeITable</CODE> procedure are described in the chapter "Color Manager" in <I><A HREF="../ACI/ACI-2.html">Advanced Color Imaging on the Mac OS</A></I>. <I></I>Graphics devices are described in the chapter "Graphics Devices" in this book. <I></I>Memory Manager result codes are listed in <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-254.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-256.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
