<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>NSTextInput Protocol Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="NSTextInput Protocol Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000372" title="NSTextInput"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/Cocoa/index.html#//apple_ref/doc/uid/TP30001281-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../../../../reference/Cocoa/idxEventsOtherInput-date.html#//apple_ref/doc/uid/TP30001281-TP30000416-TP30000447" target="_top">Events &amp; Other Input</a> &gt; <a href="../index.html" target="_top">NSTextInput Protocol Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/intf/NSTextInput" title="NSTextInput"></a><a name="//apple_ref/doc/uid/20000372-BAJFCJDD" title="NSTextInput"></a><h1>NSTextInput Protocol Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Adopted by</span></strong></td><td><div style="margin-bottom:1px">
<span class="content_text"><a href="../../../Classes/NSInputManager_Class/Reference/Reference.html#//apple_ref/occ/cl/NSInputManager" target="_top">NSInputManager</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/<a href="../../../ObjC_classic/index.html#//apple_ref/doc/uid/20001093" target="_top">AppKit.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Available in Mac OS X v10.0 and later.</div></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">NSInputManager.h</span><br/></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guides</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../Conceptual/TextArchitecture/index.html#//apple_ref/doc/uid/10000086i" target="_top">Text System Overview</a></span><br/><span class="content_text"><a href="../../../../../Conceptual/InputManager/index.html#//apple_ref/doc/uid/10000065i" target="_top">Text Input Management</a></span><br/></div></td></tr></table></div><br/>


<a name="//apple_ref/doc/uid/20000372-43167" title="Overview"></a><h2>Overview</h2>
<p class="spaceabove">The <code>NSTextInput</code> protocol defines the methods that Cocoa text views must implement in order to interact properly with the text input management system. <code>NSTextView</code> and its abstract superclass <code>NSText</code> are the only classes included in Cocoa that implement <code>NSTextInput</code>. To create another text view class, you can either subclass <code>NSTextView</code> (and not <code>NSText</code>, for historical reasons), or subclass <code>NSView</code> and implement the <code>NSTextInput</code> protocol.</p><div class="importantbox"><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_9" title="Important:"></a><p><strong>Important:</strong>&nbsp;Methods specific to the <code>NSTextInput</code> protocol are intended for dealing with text input and generally are not suitable for other purposes.</p><p></p></div>



<a name="//apple_ref/doc/uid/20000372-DontLinkElementID_1" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/20000372-DontLinkElementID_2" title="Marked Text"></a>
		<h3 class="tasks">Marked Text</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/hasMarkedText">&#8211;&#xA0;hasMarkedText</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a Boolean value indicating whether or not the receiver has marked text.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/markedRange">&#8211;&#xA0;markedRange</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the range of the marked text.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/selectedRange">&#8211;&#xA0;selectedRange</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the range of selected text.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/setMarkedText:selectedRange:">&#8211;&#xA0;setMarkedText:selectedRange:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Replaces currently marked text in the receiverâ€™s text storage with the given string and sets the selection to the given range, computed from the beginning of the marked text.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/unmarkText">&#8211;&#xA0;unmarkText</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes any marking from pending input text and disposes of the marked text as it wishes. The text view should accept the marked text as if it had been inserted normally.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/validAttributesForMarkedText">&#8211;&#xA0;validAttributesForMarkedText</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an array of names for the attributes supported by the receiver.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000372-DontLinkElementID_3" title="Text Storage"></a>
		<h3 class="tasks">Text Storage</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/attributedSubstringFromRange:">&#8211;&#xA0;attributedSubstringFromRange:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an attributed string derived from the given range in the receiver&#8217;s text storage.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/insertText:">&#8211;&#xA0;insertText:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Inserts the given string into the receiverâ€™s text storage.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000372-DontLinkElementID_4" title="Character Coordinates"></a>
		<h3 class="tasks">Character Coordinates</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/characterIndexForPoint:">&#8211;&#xA0;characterIndexForPoint:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the index of the character whose frame rectangle includes the given point.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/firstRectForCharacterRange:">&#8211;&#xA0;firstRectForCharacterRange:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the first frame rectangle for characters in the given range, in screen coordinates.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000372-DontLinkElementID_5" title="Key Bindings"></a>
		<h3 class="tasks">Key Bindings</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/doCommandBySelector:">&#8211;&#xA0;doCommandBySelector:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invokes the given selector if possible.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000372-DontLinkElementID_6" title="Other"></a>
		<h3 class="tasks">Other</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/conversationIdentifier">&#8211;&#xA0;conversationIdentifier</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a number used to identify the receiverâ€™s context to the input server.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000372-DontLinkElementID_7" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/intfm/NSTextInput/attributedSubstringFromRange:" title="attributedSubstringFromRange:"></a><a name="//apple_ref/doc/uid/20000372-BAJHHEEJ" title="attributedSubstringFromRange:"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_10"></a><h3 class="verytight">attributedSubstringFromRange:</h3>
<p class="spaceabove">Returns an attributed string derived from the given range in the receiver's text storage.</p><p class="spaceabovemethod">- (<a href="../../../../Foundation/Classes/NSAttributedString_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSAttributedString" target="_top">NSAttributedString</a> *)attributedSubstringFromRange:(<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSRange" target="_top">NSRange</a>)<em>theRange</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>theRange</em></dt><dd><p>The range in the text storage from which to create the returned string.</p></dd></dl><h5 class="tight">Return Value</h5><p>The string created from the given range.</p>
<h5 class="tight">Discussion</h5><p> This method allows input mangers to query any range in text storage. </p><p>An implementation of this method should be prepared for <em>theRange</em> to be out-of-bounds. For example, the InkWell text input service can ask for the contents of the text input client that extends beyond the documentâ€™s range. In this case, you should return the intersection of the documentâ€™s range and <em>theRange</em>. If the location of <em>theRange</em> is completely outside of the documentâ€™s range, return <code>nil</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/characterIndexForPoint:" title="characterIndexForPoint:"></a><a name="//apple_ref/doc/uid/20000372-BAJIIHDH" title="characterIndexForPoint:"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_11"></a><h3 class="verytight">characterIndexForPoint:</h3>
<p class="spaceabove">Returns the index of the character whose frame rectangle includes the given point.</p><p class="spaceabovemethod">- (<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSUInteger" target="_top">NSUInteger</a>)characterIndexForPoint:(<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSPoint" target="_top">NSPoint</a>)<em>thePoint</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>thePoint</em></dt><dd><p>A point, in screen coordinates.</p></dd></dl><h5 class="tight">Return Value</h5><p>The character index, measured from the start of the receiverâ€™s text storage, of the character containing the given point. Returns <code><a href="../../../../Foundation/Miscellaneous/Foundation_Constants/Reference/reference.html#//apple_ref/doc/c_ref/NSNotFound" target="_top">NSNotFound</a></code> if the cursor is not within a character.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/conversationIdentifier" title="conversationIdentifier"></a><a name="//apple_ref/doc/uid/20000372-BAJGDGHD" title="conversationIdentifier"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_12"></a><h3 class="verytight">conversationIdentifier</h3>
<p class="spaceabove">Returns a number used to identify the receiverâ€™s context to the input server.</p><p class="spaceabovemethod">- (<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSInteger" target="_top">NSInteger</a>)conversationIdentifier</p><h5 class="tight">Return Value</h5><p>The identifying number of the receiver.</p>
<h5 class="tight">Discussion</h5><p>Each text view within an application should return a unique identifier (typically its address). However, multiple text views sharing the same text storage must all return the same identifier.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/doCommandBySelector:" title="doCommandBySelector:"></a><a name="//apple_ref/doc/uid/20000372-BAJGCFAB" title="doCommandBySelector:"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_13"></a><h3 class="verytight">doCommandBySelector:</h3>
<p class="spaceabove">Invokes the given selector if possible.</p><p class="spaceabovemethod">- (void)doCommandBySelector:(SEL)<em>aSelector</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>aSelector</em></dt><dd><p>The selector to be invoked.</p></dd></dl>
<h5 class="tight">Discussion</h5><p> If <em>aSelector</em> cannot be invoked, then <code>doCommandBySelector:</code> should not pass this message up the responder chain. <code>NSResponder</code> also implements this method, and it does forward uninvokable commands up the responder chain, but a text view should not. A text view implementing the <span class="content_text">NSTextInput</span> protocol inherits from <code>NSView</code>, which inherits from <code>NSResponder</code>, so your implementation of this method will override the one in <code>NSResponder</code>. It should not call <code>super</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../../Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/interpretKeyEvents:" target="_top">&#8211;&#xA0;interpretKeyEvents:</a></code> (NSResponder)</li><li class="availability">  <code><a href="../../../Classes/NSResponder_Class/Reference/Reference.html#//apple_ref/occ/instm/NSResponder/doCommandBySelector:" target="_top">&#8211;&#xA0;doCommandBySelector:</a></code> (NSResponder)</li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/firstRectForCharacterRange:" title="firstRectForCharacterRange:"></a><a name="//apple_ref/doc/uid/20000372-BAJFBEED" title="firstRectForCharacterRange:"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_14"></a><h3 class="verytight">firstRectForCharacterRange:</h3><p class="spaceabove">Returns the first frame rectangle for characters in the given range, in screen coordinates.</p>
<p class="spaceabovemethod">- (<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSRect" target="_top">NSRect</a>)firstRectForCharacterRange:(<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSRange" target="_top">NSRange</a>)<em>theRange</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>theRange</em></dt><dd><p>The character range whose frame is returned.</p></dd></dl><h5 class="tight">Return Value</h5><p>The frame rectangle for the given range of characters.</p>
<h5 class="tight">Discussion</h5><p>If <em>theRange</em> spans multiple lines of text in the text view, the rectangle returned is the one for the characters in the first line. If the length of <em>theRange</em> is 0 (as it would be if there is nothing selected at the insertion point), the rectangle coincides with the insertion point, and its width is 0.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/hasMarkedText" title="hasMarkedText"></a><a name="//apple_ref/doc/uid/20000372-BAJBDHAD" title="hasMarkedText"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_15"></a><h3 class="verytight">hasMarkedText</h3>
<p class="spaceabove">Returns a Boolean value indicating whether or not the receiver has marked text.</p><p class="spaceabovemethod">- (BOOL)hasMarkedText</p><h5 class="tight">Return Value</h5><p><code>YES</code> if the receiver has marked text, <code>NO</code> if it doesnâ€™t.</p>
<h5 class="tight">Discussion</h5><p>Unlike other methods in this protocol, this one is not called by an input server. The text view itself may call this method to determine whether there currently is marked text. <code>NSTextView</code>, for example, disables the Edit > Copy menu item when this method returns <code>YES</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/markedRange">&#8211;&#xA0;markedRange</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/insertText:" title="insertText:"></a><a name="//apple_ref/doc/uid/20000372-BAJBIDEI" title="insertText:"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_16"></a><h3 class="verytight">insertText:</h3>
<p class="spaceabove">Inserts the given string into the receiverâ€™s text storage.</p><p class="spaceabovemethod">- (void)insertText:(id)<em>aString</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>aString</em></dt><dd><p>Either an <code>NSString</code> or an <code>NSAttributedString</code> object.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>This method is the entry point for inserting text typed by the user and is generally not suitable for other purposes. Programmatic modification of the text is best done by operating on the text storage directly. Because this method pertains to the actions of the user, the text view must be editable for the insertion to work.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/markedRange" title="markedRange"></a><a name="//apple_ref/doc/uid/20000372-BAJDEEEE" title="markedRange"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_17"></a><h3 class="verytight">markedRange</h3>
<p class="spaceabove">Returns the range of the marked text.</p><p class="spaceabovemethod">- (<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSRange" target="_top">NSRange</a>)markedRange</p><h5 class="tight">Return Value</h5><p>The range of marked text.</p>
<h5 class="tight">Discussion</h5><p>The returned range measures from the start of the receiverâ€™s text storage. The return valueâ€™s <code>location</code> is <code><a href="../../../../Foundation/Miscellaneous/Foundation_Constants/Reference/reference.html#//apple_ref/doc/c_ref/NSNotFound" target="_top">NSNotFound</a></code>, and its <code>length</code> is 0 if and only if <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/hasMarkedText">hasMarkedText</a></code> returns <code>NO</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/setMarkedText:selectedRange:">&#8211;&#xA0;setMarkedText:selectedRange:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/unmarkText">&#8211;&#xA0;unmarkText</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/hasMarkedText">&#8211;&#xA0;hasMarkedText</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/selectedRange" title="selectedRange"></a><a name="//apple_ref/doc/uid/20000372-BAJBBHEB" title="selectedRange"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_18"></a><h3 class="verytight">selectedRange</h3>
<p class="spaceabove">Returns the range of selected text.</p><p class="spaceabovemethod">- (<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSRange" target="_top">NSRange</a>)selectedRange</p><h5 class="tight">Return Value</h5><p>The range of selected text.</p>
<h5 class="tight">Discussion</h5><p> The returned range measures from the start of the receiverâ€™s text storage. If there is no selection, the return valueâ€™s <code>location</code> is <code><a href="../../../../Foundation/Miscellaneous/Foundation_Constants/Reference/reference.html#//apple_ref/doc/c_ref/NSNotFound" target="_top">NSNotFound</a></code>, and its <code>length</code> is 0.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/setMarkedText:selectedRange:">&#8211;&#xA0;setMarkedText:selectedRange:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/setMarkedText:selectedRange:" title="setMarkedText:selectedRange:"></a><a name="//apple_ref/doc/uid/20000372-BAJEGCBF" title="setMarkedText:selectedRange:"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_19"></a><h3 class="verytight">setMarkedText:selectedRange:</h3>
<p class="spaceabove">Replaces currently marked text in the receiverâ€™s text storage with the given string and sets the selection to the given range, computed from the beginning of the marked text.</p><p class="spaceabovemethod">- (void)setMarkedText:(id)<em>aString</em> selectedRange:(<a href="../../../../Foundation/Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSRange" target="_top">NSRange</a>)<em>selRange</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>aString</em></dt><dd><p>Either an <code>NSString</code> or an <code>NSAttributedString</code> object; must not be <code>nil</code>.</p></dd><dt><em>selRange</em></dt><dd><p>The range within <em>aString</em> to set as the selection.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>If there is no marked text, the current selection is replaced. If there is no selection, the string is inserted at the insertion point.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/selectedRange">&#8211;&#xA0;selectedRange</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/unmarkText">&#8211;&#xA0;unmarkText</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/unmarkText" title="unmarkText"></a><a name="//apple_ref/doc/uid/20000372-BAJDIFCI" title="unmarkText"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_20"></a><h3 class="verytight">unmarkText</h3>
<p class="spaceabove">Removes any marking from pending input text and disposes of the marked text as it wishes. The text view should accept the marked text as if it had been inserted normally.</p><p class="spaceabovemethod">- (void)unmarkText</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/selectedRange">&#8211;&#xA0;selectedRange</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/intfm/NSTextInput/setMarkedText:selectedRange:">&#8211;&#xA0;setMarkedText:selectedRange:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code><a name="//apple_ref/occ/intfm/NSTextInput/validAttributesForMarkedText" title="validAttributesForMarkedText"></a><a name="//apple_ref/doc/uid/20000372-BAJGIIFF" title="validAttributesForMarkedText"></a><a name="//apple_ref/doc/uid/20000372-DontLinkElementID_21"></a><h3 class="verytight">validAttributesForMarkedText</h3>
<p class="spaceabove">Returns an array of names for the attributes supported by the receiver.</p><p class="spaceabovemethod">- (<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)validAttributesForMarkedText</p><h5 class="tight">Return Value</h5><p>An array of <code>NSString</code> objects representing names for the supported attributes.</p>
<h5 class="tight">Discussion</h5><p> The input server may choose to use some of these attributes in the text it inserts or in marked text. Returns an empty array if no attributes are supported. See <span class="content_text"><a href="../../../Classes/NSAttributedString_AppKitAdditions/Reference/Reference.html#//apple_ref/doc/uid/20000167-BAJHBIEE" target="_top">NSAttributedString Additions</a></span> for the set of string constants that you could return in the array.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSInputManager.h</code>












        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-05-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSTextInput_Protocol/Reference/Reference.html%3Fid%3DTP40004180-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSTextInput_Protocol/Reference/Reference.html%3Fid%3DTP40004180-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSTextInput_Protocol/Reference/Reference.html%3Fid%3DTP40004180-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>