<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE>Draw Region Validation</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><H1 CLASS="RH2.RoutineHd2"><A NAME="pgfId=13047"> </A>Draw Region Validation</H1><P CLASS="T1.Text1"><A NAME="pgfId=13048"> </A>The state of all draw regions attached to a draw context are validated by the draw context and draw region internal code before a frame is rendered. However, renderers may wish to modify their own state--for example, to alter cached information. To support such modifications, QuickDraw&nbsp;3D supplies renderers with information about what has changed in the draw region via the Q3XDrawContext_GetValidationFlags routine.</P><P CLASS="T1.Text1"><A NAME="pgfId=14151"> </A>The following mask values let you determine which draw region states have changed since the last frame. Call the Q3XDrawContext_ClearValidationFlags routine afterward to clear the flag information.</P><CODE CLASS="Cv.Code"><A NAME="pgfId=21209"> </A>typedef enum TQ3XDrawContextValidationMasks {<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationClearFlags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 0x00000000L,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationDoubleBuffer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 0,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationShader&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 1,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationClearFunction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 2,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationActiveBuffer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 3,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationInternalOffScreen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 4,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationPane&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 5,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationMask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 6,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationDevice&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 7,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationWindow&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 8,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationWindowSize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 9,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationWindowClip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 10,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationWindowPosition&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 11,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationPlatformAttributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 12,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationForegroundShader&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 13,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationBackgroundShader&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 14,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationColorPalette&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= 1 &lt;&lt; 15,<BR>&nbsp;&nbsp;&nbsp;&nbsp;kQ3XDrawContextValidationAll&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= ~0<BR>} TQ3XDrawContextValidationMasks;<BR></CODE><CODE CLASS="Cv.Code"><A NAME="pgfId=21215"> </A>typedef unsigned long &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3XDrawContextValidation;<BR></CODE><DIV><H3 CLASS="RoH.RoutineHeading"><A NAME="pgfId=13496"> </A>Q3XDrawContext_GetValidationFlags</H3><P CLASS="T1.Text1"><A NAME="pgfId=13497"> </A>The <TT CLASS="cv">Q3XDrawContext_GetValidationFlags</TT> function lets you determine which draw context states have changed since the last frame.</P><CODE CLASS="Cv.Code"><A NAME="pgfId=21221"> </A>typedef unsigned long TQ3XDrawContextValidation;<BR></CODE><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=21225"> </A>TQ3Status Q3XDrawContext_GetValidationFlags(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3DrawContextObject&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drawContext,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3XDrawContextValidation&nbsp;&nbsp;&nbsp;&nbsp;*validationFlags);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=21227"> </A>drawContext</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=13756"> </A>A draw context.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=21236"> </A>validationFlags</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=13757"> </A> 	Validation flags from the TQ3XDrawContextValidationMasks enumeration.</DD></DL COMPACT><DIV><H4 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=13758"> </A>DESCRIPTION</H4><P CLASS="T1.Text1"><A NAME="pgfId=13759"> </A>The Q3XDrawContext_GetValidationFlags function returns, in the validationFlags parameter, flags indicating which states of the drawContext draw context have changed since the last frame.</P></DIV></DIV><DIV><H3 CLASS="RoH.RoutineHeading"><A NAME="pgfId=13499"> </A>Q3XDrawContext_ClearValidationFlags</H3><P CLASS="T1.Text1"><A NAME="pgfId=14199"> </A>Once your renderer has updated the current draw context state, it should call the Q3XDrawContext_ClearValidationFlags routine to clear the validation flags. Otherwise flags may remain set during the next frame when the state has not changed.</P><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=21248"> </A>TQ3Status Q3XDrawContext_ClearValidationFlags(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TQ3DrawContextObject&nbsp;&nbsp;&nbsp;&nbsp;drawContext);<BR></CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=21250"> </A>drawContext</DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=13765"> </A>A draw context.</DD></DL COMPACT><DIV><H4 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=13767"> </A>DESCRIPTION</H4><P CLASS="T1.Text1"><A NAME="pgfId=13768"> </A>The Q3XDrawContext_ClearValidationFlags function clears all the validation flags returned by Q3XDrawContext_GetValidationFlags.</P></DIV></DIV><hr>&#169; 1997 Apple Computer, Inc.</DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>