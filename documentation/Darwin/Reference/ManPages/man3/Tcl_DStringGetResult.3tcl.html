<html><head><title>Mac OS X Developer Tools
 Manual Page For Tcl_DStringGetResult(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tcl_DStringGetResult" title="Mac OS X Developer Tools
 Manual Page for Tcl_DStringGetResult(3tcl)"><a name="//apple_ref/doc/man/3/Tcl_DStringGetResult" title="Mac OS X Developer Tools
 Manual Page for Tcl_DStringGetResult(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tcl_DStringGetResult"; name=Tcl_DStringGetResult(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tcl_DString(3)                             Tcl Library Procedures                             <!-- a -->Tcl_DString(3)<!-- /a -->



____________________________________________________________________________________________________________

<b>NAME</b>
       Tcl_DStringInit,  Tcl_DStringAppend,  Tcl_DStringAppendElement,  Tcl_DStringStartSublist, Tcl_DStrin-<font color="#ffffff" class="whiteout">gEndSublist,&nbsp;Tcl_DStringEndSublist,</font>
       gEndSublist,    Tcl_DStringLength,    Tcl_DStringValue,    Tcl_DStringSetLength,    Tcl_DStringTrunc,
       Tcl_DStringFree, Tcl_DStringResult, Tcl_DStringGetResult - manipulate dynamic strings

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       <b>Tcl_DStringInit</b>(<u>dsPtr</u>)

       char *
       <b>Tcl_DStringAppend</b>(<u>dsPtr,</u> <u>string,</u> <u>length</u>)

       char *
       <b>Tcl_DStringAppendElement</b>(<u>dsPtr,</u> <u>string</u>)

       <b>Tcl_DStringStartSublist</b>(<u>dsPtr</u>)

       <b>Tcl_DStringEndSublist</b>(<u>dsPtr</u>)

       int
       <b>Tcl_DStringLength</b>(<u>dsPtr</u>)

       char *
       <b>Tcl_DStringValue</b>(<u>dsPtr</u>)

       <b>Tcl_DStringSetLength</b>(<u>dsPtr,</u> <u>newLength</u>)

       <b>Tcl_DStringTrunc</b>(<u>dsPtr,</u> <u>newLength</u>)

       <b>Tcl_DStringFree</b>(<u>dsPtr</u>)

       <b>Tcl_DStringResult</b>(<u>interp,</u> <u>dsPtr</u>)

       <b>Tcl_DStringGetResult</b>(<u>interp,</u> <u>dsPtr</u>)

<b>ARGUMENTS</b>
       Tcl_DString   <u>*dsPtr</u>      (in/out)  Pointer to structure that is used to manage a dynamic string.

       CONST char    <u>*string</u>     (in)      Pointer to characters to add to dynamic string.

       int           <u>length</u>      (in)      Number  of  characters  from string to add to dynamic string.  If
                                           -1, add all characters up to null terminating character.

       int           <u>newLength</u>   (in)      New length for dynamic string,  not  including  null  terminating
                                           character.

       Tcl_Interp    <u>*interp</u>     (in/out)  Interpreter  whose  result  is  to  be  set  from or moved to the
                                           dynamic string.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       Dynamic strings provide a mechanism for building up arbitrarily long strings by  gradually  appending
       information.   If  the  dynamic string is short then there will be no memory allocation overhead;  as
       the string gets larger, additional space will be allocated as needed.

       <b>Tcl_DStringInit</b> initializes a dynamic string to zero length.  The  Tcl_DString  structure  must  have
       been allocated by the caller.  No assumptions are made about the current state of the structure; any-<font color="#ffffff" class="whiteout">thing&nbsp;anything</font>
       thing already in it is discarded.  If the structure has been used previously, <b>Tcl_DStringFree</b>  should
       be called first to free up any memory allocated for the old string.

       <b>Tcl_DStringAppend</b>  adds new information to a dynamic string, allocating more memory for the string if
       needed.  If <u>length</u> is less than zero then everything in <u>string</u> is appended  to  the  dynamic  string;
       otherwise <u>length</u> specifies the number of bytes to append.  <b>Tcl_DStringAppend</b> returns a pointer to the
       characters of the new string.  The string can  also  be  retrieved  from  the  <u>string</u>  field  of  the
       Tcl_DString structure.

       <b>Tcl_DStringAppendElement</b>  is  similar to <b>Tcl_DStringAppend</b> except that it doesn't take a <u>length</u> argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
       ment (it appends all of <u>string</u>) and it converts the string to a proper list element before appending.
       <b>Tcl_DStringAppendElement</b>  adds a separator space before the new list element unless the new list ele-<font color="#ffffff" class="whiteout">ment&nbsp;element</font>
       ment is the first in a list or sub-list (i.e. either the current string is empty, or it contains  the
       single character ``{'', or the last two characters of the current string are `` {'').  <b>Tcl_DStringAp</b>-<font color="#ffffff" class="whiteout">pendElement&nbsp;Tcl_DStringAppendElement</font>
       <b>pendElement</b> returns a pointer to the characters of the new string.

       <b>Tcl_DStringStartSublist</b> and <b>Tcl_DStringEndSublist</b> can be used to create nested lists.   To  append  a
       list  element  that is itself a sublist, first call <b>Tcl_DStringStartSublist</b>, then call <b>Tcl_DStringAp</b>-<font color="#ffffff" class="whiteout">pendElement&nbsp;Tcl_DStringAppendElement</font>
       <b>pendElement</b> for each of the elements in the sublist, then call <b>Tcl_DStringEndSublist</b> to end the  sub-<font color="#ffffff" class="whiteout">list.&nbsp;sublist.</font>
       list.   <b>Tcl_DStringStartSublist</b>  appends  a  space  character  if  needed, followed by an open brace;
       <b>Tcl_DStringEndSublist</b> appends a close brace.  Lists can be nested to any depth.

       <b>Tcl_DStringLength</b> is a macro that returns the current length of a dynamic string (not  including  the
       terminating null character).  <b>Tcl_DStringValue</b> is a  macro that returns a pointer to the current con-<font color="#ffffff" class="whiteout">tents&nbsp;contents</font>
       tents of a dynamic string.


       <b>Tcl_DStringSetLength</b> changes the length of a dynamic string.  If <u>newLength</u> is less than the  string's
       current  length,  then  the  string  is truncated.  If <u>newLength</u> is greater than the string's current
       length, then the string will become longer and new space will be allocated for the string if  needed.
       However,  <b>Tcl_DStringSetLength</b> will not initialize the new space except to provide a terminating null
       character;  it is up to the caller to fill in the new space.  <b>Tcl_DStringSetLength</b> does not  free  up
       the  string's  storage  space even if the string is truncated to zero length, so <b>Tcl_DStringFree</b> will
       still need to be called.

       <b>Tcl_DStringTrunc</b> changes the  length  of  a  dynamic  string.   This  procedure  is  now  deprecated.
       <b>Tcl_DStringSetLength</b>  should be used instead.

       <b>Tcl_DStringFree</b>  should be called when you're finished using the string.  It frees up any memory that
       was allocated for the string and reinitializes the string's value to an empty string.

       <b>Tcl_DStringResult</b> sets the result of <u>interp</u> to the value of the dynamic string given  by  <u>dsPtr</u>.   It
       does  this  by moving a pointer from <u>dsPtr</u> to the interpreter's result.  This saves the cost of allo-<font color="#ffffff" class="whiteout">cating&nbsp;allocating</font>
       cating new memory and copying the string.  <b>Tcl_DStringResult</b> also reinitializes the dynamic string to
       an empty string.

       <b>Tcl_DStringGetResult</b>  does  the  opposite  of  <b>Tcl_DStringResult</b>.   It sets the value of <u>dsPtr</u> to the
       result of <u>interp</u> and it clears <u>interp</u>'s result.  If possible it does this by moving a pointer  rather
       than by copying the string.


<b>KEYWORDS</b>
       append, dynamic string, free, result



Tcl                                                  7.4                                      <!-- a -->Tcl_DString(3)<!-- /a -->
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_DStringGetResult.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_DStringGetResult.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_DStringGetResult.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
