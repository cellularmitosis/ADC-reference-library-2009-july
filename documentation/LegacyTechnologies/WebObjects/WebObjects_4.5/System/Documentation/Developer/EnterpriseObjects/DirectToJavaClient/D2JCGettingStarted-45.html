<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> Generating the Select Studio Dialog</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>Getting Started With Direct to Java Client</font><br><br><!--end of path --><DIV><a name="top"></a><A HREF="D2JCGettingStarted-34.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-44.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-46.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><HR></DIV><H1><A NAME="pgfId-22426"></A>Generating the Select Studio Dialog</H1><A NAME="pgfId-22427"></A>As an example of how the Direct to Java Client D2WComponent classes work, consider the select Studio dialog. Suppose a user clicks the Select button on a Movie form window to select a new Studio for the Movie. The controller factory then makes a request to the rule system with the following specification:</P><BLOCKQUOTE CLASS="BodyIndented"><A NAME="pgfId-22428"></A>entity = Studio, question = modalDialog, task = select</BLOCKQUOTE><A NAME="pgfId-22429"></A>The default rule fired to satisfy this request is:</P><UL><LI><A NAME="pgfId-22430"></A>Condition (Lhs): <I>true</I>(No condition is specified, so condition is always true.)<P><LI><A NAME="pgfId-22431"></A>Key (Rhs key): modalDialog<P><LI><A NAME="pgfId-22432"></A>Value (Rhs value): EOModalDialog<P><LI><A NAME="pgfId-22433"></A>Priority: 0<P></UL><A NAME="pgfId-22434"></A>Thus, the D2WComponent that generates the XML for the select Studio dialog is EOModalDialog. The EOModalDialog's <B>.wo</B> contains:</P><A NAME="pgfId-22435"></A><B>EOModalDialog.html</B> (XML)</P><TT><A&nbsp;NAME="pgfId-23028"></A>&lt;WEBOBJECT&nbsp;name=modalDialogController&gt;</TT><BR><TT><A&nbsp;NAME="pgfId-23032"></A>&nbsp;&nbsp;&nbsp;&nbsp;&lt;WEBOBJECT&nbsp;name=actionWidgetController&gt;</TT><BR><TT><A&nbsp;NAME="pgfId-23036"></A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;WEBOBJECT&nbsp;name=taskController/&gt;</TT><BR><TT><A&nbsp;NAME="pgfId-23040"></A>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/WEBOBJECT&gt;</TT><BR><TT><A&nbsp;NAME="pgfId-23044"></A>&nbsp;&nbsp;&nbsp;&nbsp;&lt;WEBOBJECT&nbsp;name=content/&gt;</TT><BR><TT><A&nbsp;NAME="pgfId-23048"></A>&lt;/WEBOBJECT&gt;</TT><P><A&nbsp;NAME="pgfId-22442"></A><B>EOModalDialog.wod</B></P><TT><A&nbsp;NAME="pgfId-23052"></A>modalDialogController:&nbsp;EOSwitchComponent&nbsp;{</TT><BR><TT><A&nbsp;NAME="pgfId-23056"></A>&nbsp;&nbsp;&nbsp;&nbsp;componentNameKey&nbsp;=&nbsp;"modalDialogController";</TT><BR><TT><A&nbsp;NAME="pgfId-23060"></A>&nbsp;&nbsp;&nbsp;&nbsp;d2wContext&nbsp;=&nbsp;localContext;</TT><BR><TT><A&nbsp;NAME="pgfId-23064"></A>&nbsp;&nbsp;&nbsp;&nbsp;controllerType&nbsp;=&nbsp;"modalDialogController";</TT><BR><TT><A&nbsp;NAME="pgfId-23068"></A>}</TT><BR><TT><A&nbsp;NAME="pgfId-23072"></A>actionWidgetController:&nbsp;EOSwitchComponent&nbsp;{</TT><BR><TT><A&nbsp;NAME="pgfId-23076"></A>&nbsp;&nbsp;&nbsp;&nbsp;componentNameKey&nbsp;=&nbsp;"actionWidgetController";</TT><BR><TT><A&nbsp;NAME="pgfId-23080"></A>&nbsp;&nbsp;&nbsp;&nbsp;d2wContext&nbsp;=&nbsp;localContext;</TT><BR><TT><A&nbsp;NAME="pgfId-23084"></A>&nbsp;&nbsp;&nbsp;&nbsp;controllerType&nbsp;=&nbsp;"actionWidgetController";</TT><BR><TT><A&nbsp;NAME="pgfId-23088"></A>&nbsp;&nbsp;&nbsp;&nbsp;forceHorizontallyNotResizable&nbsp;=&nbsp;noValue;</TT><BR><TT><A&nbsp;NAME="pgfId-23092"></A>&nbsp;&nbsp;&nbsp;&nbsp;forceVerticallyNotResizable&nbsp;=&nbsp;noValue;</TT><BR><TT><A&nbsp;NAME="pgfId-23096"></A>&nbsp;&nbsp;&nbsp;&nbsp;isRootController&nbsp;=&nbsp;"false";</TT><BR><TT><A&nbsp;NAME="pgfId-23100"></A>}</TT><BR><TT><A&nbsp;NAME="pgfId-23104"></A>taskController:&nbsp;EOSwitchComponent&nbsp;{</TT><BR><TT><A&nbsp;NAME="pgfId-23108"></A>&nbsp;&nbsp;&nbsp;&nbsp;componentNameKey&nbsp;=&nbsp;"controller";</TT><BR><TT><A&nbsp;NAME="pgfId-23112"></A>&nbsp;&nbsp;&nbsp;&nbsp;d2wContext&nbsp;=&nbsp;localContext;</TT><BR><TT><A&nbsp;NAME="pgfId-23116"></A>&nbsp;&nbsp;&nbsp;&nbsp;controllerType&nbsp;=&nbsp;noValue;</TT><BR><TT><A&nbsp;NAME="pgfId-23120"></A>&nbsp;&nbsp;&nbsp;&nbsp;forceHorizontallyNotResizable&nbsp;=&nbsp;noValue;</TT><BR><TT><A&nbsp;NAME="pgfId-23124"></A>&nbsp;&nbsp;&nbsp;&nbsp;forceVerticallyNotResizable&nbsp;=&nbsp;noValue;</TT><BR><TT><A&nbsp;NAME="pgfId-23128"></A>&nbsp;&nbsp;&nbsp;&nbsp;isRootController&nbsp;=&nbsp;"false";</TT><BR><TT><A&nbsp;NAME="pgfId-23132"></A>}</TT><BR><TT><A&nbsp;NAME="pgfId-23136"></A>content:&nbsp;WOComponentContent&nbsp;{</TT><BR><TT><A&nbsp;NAME="pgfId-23140"></A>}</TT><P><A NAME="pgfId-22676"></A>The EOSwitchComponent you see in the <B>.wod</B> file is a private dynamic element that makes a new rule system request using the <B>componentNameKey</B> as the request key. So for example, consider the <B>modalDialogController</B>. The switch component makes a new rule system request with the key "modalDialogController" (the value of the <B>componentNameKey</B> binding).</P><A NAME="pgfId-22713"></A>Before making the request, however, the switch component updates the rule system's state information. Generally it creates a new D2WContext based on the state information in the old D2WContext. That's what the <B>d2wContext</B> binding specifies. The remaining bindings (any binding other than <B>componentNameKey</B> and <B>d2wContext</B>) identify additional state that the switch component adds to the new D2WContext. For the <B>modalDialogController</B>, the additional state is simply that the <B>controllerType</B> is "modalDialogController".</P><A NAME="pgfId-22467"></A>In this manner, the XML hierarchy is built recursively using switch components. One of the leaf nodes in the select Studio dialog is for an EOTextFieldController who's <B>.wod</B> file looks like this:</P><TT><A&nbsp;NAME="pgfId-23144"></A>controller:&nbsp;WOXMLNode&nbsp;{</TT><BR><TT><A&nbsp;NAME="pgfId-23148"></A>&nbsp;&nbsp;&nbsp;&nbsp;elementName&nbsp;=&nbsp;"TEXTFIELDCONTROLLER";</TT><BR><TT><A&nbsp;NAME="pgfId-23152"></A>&nbsp;&nbsp;&nbsp;&nbsp;alignment&nbsp;=&nbsp;d2wContext.alignment;</TT><BR><TT><A&nbsp;NAME="pgfId-23156"></A>&nbsp;&nbsp;&nbsp;&nbsp;alignmentWidth&nbsp;=&nbsp;d2wContext.alignmentWidth;</TT><BR><TT><A&nbsp;NAME="pgfId-23160"></A>&nbsp;&nbsp;&nbsp;&nbsp;alignsComponents&nbsp;=&nbsp;d2wContext.alignsComponents;</TT><BR><TT><A&nbsp;NAME="pgfId-23164"></A>&nbsp;&nbsp;&nbsp;&nbsp;className&nbsp;=&nbsp;d2wContext.className;</TT><BR><TT><A&nbsp;NAME="pgfId-23168"></A>&nbsp;&nbsp;&nbsp;&nbsp;displayGroupProviderMethodName&nbsp;=<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d2wContext.displayGroupProviderMethodName;</TT><BR><TT><A&nbsp;NAME="pgfId-23172"></A>&nbsp;&nbsp;&nbsp;&nbsp;editability&nbsp;=&nbsp;d2wContext.editability;</TT><BR><TT><A&nbsp;NAME="pgfId-23176"></A>&nbsp;&nbsp;&nbsp;&nbsp;enabledDisplayGroupProviderMethodName&nbsp;=<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d2wContext.enabledDisplayGroupProviderMethodName;</TT><BR><TT><A&nbsp;NAME="pgfId-23180"></A>&nbsp;&nbsp;&nbsp;&nbsp;enabledKey&nbsp;=&nbsp;d2wContext.enabledKey;</TT><BR><TT><A&nbsp;NAME="pgfId-23184"></A>&nbsp;&nbsp;&nbsp;&nbsp;formatAllowed&nbsp;=&nbsp;d2wContext.formatAllowed;</TT><BR><TT><A&nbsp;NAME="pgfId-23188"></A>&nbsp;&nbsp;&nbsp;&nbsp;formatClass&nbsp;=&nbsp;d2wContext.formatClass;</TT><BR><TT><A&nbsp;NAME="pgfId-23192"></A>&nbsp;&nbsp;&nbsp;&nbsp;formatPattern&nbsp;=&nbsp;d2wContext.formatPattern;</TT><BR><TT><A&nbsp;NAME="pgfId-23196"></A>&nbsp;&nbsp;&nbsp;&nbsp;highlight&nbsp;=&nbsp;d2wContext.highlight;</TT><BR><TT><A&nbsp;NAME="pgfId-23200"></A>&nbsp;&nbsp;&nbsp;&nbsp;horizontallyResizable&nbsp;=&nbsp;d2wContext.horizontallyResizable;</TT><BR><TT><A&nbsp;NAME="pgfId-23204"></A>&nbsp;&nbsp;&nbsp;&nbsp;iconName&nbsp;=&nbsp;d2wContext.iconName;</TT><BR><TT><A&nbsp;NAME="pgfId-23208"></A>&nbsp;&nbsp;&nbsp;&nbsp;iconURL&nbsp;=&nbsp;d2wContext.iconURL;</TT><BR><TT><A&nbsp;NAME="pgfId-23212"></A>&nbsp;&nbsp;&nbsp;&nbsp;isQueryWidget&nbsp;=&nbsp;d2wContext.isQueryWidget;</TT><BR><TT><A&nbsp;NAME="pgfId-23216"></A>&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;d2wContext.label;</TT><BR><TT><A&nbsp;NAME="pgfId-23220"></A>&nbsp;&nbsp;&nbsp;&nbsp;labelAlignment&nbsp;=&nbsp;d2wContext.labelAlignment;</TT><BR><TT><A&nbsp;NAME="pgfId-23224"></A>&nbsp;&nbsp;&nbsp;&nbsp;labelComponentPosition&nbsp;=&nbsp;d2wContext.labelComponentPosition;</TT><BR><TT><A&nbsp;NAME="pgfId-23228"></A>&nbsp;&nbsp;&nbsp;&nbsp;minimumHeight&nbsp;=&nbsp;d2wContext.minimumHeight;</TT><BR><TT><A&nbsp;NAME="pgfId-23232"></A>&nbsp;&nbsp;&nbsp;&nbsp;minimumWidth&nbsp;=&nbsp;d2wContext.minimumWidth;</TT><BR><TT><A&nbsp;NAME="pgfId-23236"></A>&nbsp;&nbsp;&nbsp;&nbsp;prefersIconOnly&nbsp;=&nbsp;d2wContext.prefersIconOnly;</TT><BR><TT><A&nbsp;NAME="pgfId-23240"></A>&nbsp;&nbsp;&nbsp;&nbsp;usesHorizontalLayout&nbsp;=&nbsp;d2wContext.usesHorizontalLayout;</TT><BR><TT><A&nbsp;NAME="pgfId-23244"></A>&nbsp;&nbsp;&nbsp;&nbsp;usesLabelComponent&nbsp;=&nbsp;d2wContext.usesLabelComponent;</TT><BR><TT><A&nbsp;NAME="pgfId-23248"></A>&nbsp;&nbsp;&nbsp;&nbsp;valueKey&nbsp;=&nbsp;d2wContext.propertyKey;</TT><BR><TT><A&nbsp;NAME="pgfId-23252"></A>&nbsp;&nbsp;&nbsp;&nbsp;verticallyResizable&nbsp;=&nbsp;d2wContext.verticallyResizable;</TT><BR><TT><A&nbsp;NAME="pgfId-23256"></A>}</TT><BR><TT><A&nbsp;NAME="pgfId-23260"></A>content:&nbsp;WOComponentContent&nbsp;{</TT><BR><TT><A&nbsp;NAME="pgfId-23264"></A>}</TT><P><A NAME="pgfId-22500"></A>A WOXMLNode is a component that generates XML for a node in the controller hierarchy. It's bindings tell the server side D2WComponent how to configure it's client side counterpart. For example, the binding names in the EOTextFieldController <B>.wod</B> file correspond to XML attributes understood by the client side EOTextFieldController. Correspondingly, the binding values are the values assigned to those XML attributes. Most of the bindings are set to a key path starting with "d2wContext". These key paths refer to the state information stored in the D2WContext.</P><A NAME="pgfId-22501"></A>For example, the client side EOTextFieldController uses the XML attribute <B>usesLabelComponent</B> to specify whether it should generate a label for its text field widget. The server side EOTextFieldController assigns a value to the <B>usesLabelComponent</B> XML attribute based on state stored in the rule system's D2WContext.</P><HR>&#169 1999 Apple Computer, Inc. &#150 (Draft. Last updated 05 Jan 00)<P><A HREF="D2JCGettingStarted-34.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-44.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="D2JCGettingStarted-46.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>