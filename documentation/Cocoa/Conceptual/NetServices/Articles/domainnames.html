<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Bonjour Overview: Domain Naming Conventions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Domain Naming Conventions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40002460" title="Domain Naming Conventions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Networking/index.html#//apple_ref/doc/uid/TP30000440-TP30000429" target="_top">Networking</a> &gt; <a href="../../../../Networking/Bonjour-date.html#//apple_ref/doc/uid/TP30000440-TP30000429-TP30000566" target="_top">Bonjour</a> &gt; <a href="../index.html" target="_top">Bonjour Overview</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="about.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="NetServicesArchitecture.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40002460-SW1" title="Domain Naming Conventions"></a><hr /><H1>Domain Naming Conventions</H1><p>Bonjour names for service instances and service types are related to Domain Name System (DNS) domain names. This section explains DNS domain names, the Bonjour local “domain,” and the naming rules for Bonjour service instances and service types.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="domainnames.html#//apple_ref/doc/uid/TP40002460-TPXREF117">Domain Names and DNS</a>
				
			<br/>
			
        
			
			
				<a href="domainnames.html#//apple_ref/doc/uid/TP40002460-CJBDIAHA">Bonjour and the Local Link</a>
				
			<br/>
			
        
			
			
				<a href="domainnames.html#//apple_ref/doc/uid/TP40002460-TPXREF118">Bonjour Names for Existing Service Types</a>
				
			<br/>
			
        
			
			
				<a href="domainnames.html#//apple_ref/doc/uid/TP40002460-TPXREF119">Bonjour Names for New Services</a>
				
			<br/>
			
        
			
			
				<a href="domainnames.html#//apple_ref/doc/uid/TP40002460-TPXREF120">Bonjour Names for Service Instances</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20001072-198424" title="Domain Names and DNS"></a><a name="//apple_ref/doc/uid/TP40002460-TPXREF117" title="Domain Names and DNS"></a><h2>Domain Names and DNS</h2><p>DNS uses a specific-to-general naming scheme for domain names. The most general domain is <code>.</code> (“dot”), called the <strong></strong><strong>root domain</strong>, which is akin to the root directory <code>/</code> in a UNIX file system. Every other domain falls in a hierarchy below the root domain. For example, the name <code>www.apple.com.</code> is within the <strong>second-level domain</strong><code>apple.com.</code>, which is within the <strong>top-level domain</strong><code>com.</code>, which in turn is part of <code>.</code> (“dot”), the root domain. <span class="content_text">Figure 1</span> shows an abridged version of this hierarchy. </p><br/><div><a name="//apple_ref/doc/uid/TP40002460-SW3" title="Figure 1Part of the Internet Domain Name System, augmented for Bonjour"></a><p><a name="//apple_ref/doc/uid/20001072-202753" title="Figure 1Part of the Internet Domain Name System, augmented for Bonjour"></a><a name="//apple_ref/doc/uid/TP40002460-BAJEAEDF" title="Figure 1Part of the Internet Domain Name System, augmented for Bonjour"></a><strong>Figure 1&nbsp;&nbsp;</strong>Part of the Internet Domain Name System, augmented for Bonjour</p><img src = "../Art/names_01dns.gif" alt = "" width="464" height="218"></div><br/><p>At the top of the inverted tree is the root domain. Below it are some of the top-level domains: <code>com.</code>, <code>edu.</code>, and <code>org.</code>, and the local Bonjour “domain” <code>local.</code>, discussed further in <span class="content_text"><a href="domainnames.html#//apple_ref/doc/uid/20001072-202537">“Bonjour and the Local Link.”</a></span> Below the top level are a few second-level domains, <code>apple</code>, <code>darwin</code>, and <code>zeroconf</code>. The tree can extend infinitely downward with, for example, <code>www</code>, at the third level.</p><p>You may have noticed that the trailing dot is left off of most domain names. The trailing dot does, however, have meaning. A domain name ending in a trailing dot, such as <code>www.apple.com.</code>, is known as a <strong>fully qualified domain name</strong>, much like an absolute path (such as <code>/usr/bin</code>) in a UNIX file system.</p><p>If you type <code>wibble.apple.com</code> into your Web browser (without the trailing dot), the system will treat it as an unqualified (partial) name and append the names from your list of search domains, such as <code>apple.com.</code>, <code>earthlink.net.</code>, <code>myschool.edu</code>., etc. The system will first try to append <code>.</code> (“dot,” the root domain), but if the name <code>wibble.apple.com.</code> doesn’t exist, it will continue down the list and try <code>wibble.apple.com.apple.com.</code>, <code>wibble.apple.com.earthlink.net.</code>, <code>wibble.apple.com.myschool.edu.</code>, and so on, which is almost certainly not what you wanted.</p><a name="//apple_ref/doc/uid/20001072-202537" title="Bonjour and the Local Link"></a><a name="//apple_ref/doc/uid/TP40002460-CJBDIAHA" title="Bonjour and the Local Link"></a><h2>Bonjour and the Local Link</h2><p>Bonjour protocols deal in large part with the part of the network called the <strong>local link</strong>. A host’s local link, or <strong>link-local network</strong>, includes itself and all other hosts that can exchange packets without IP header data being modified. In practice, this includes all hosts not separated by a router. </p><p>On Bonjour systems, <code>local.</code> is used to indicate a name that should be looked up using an IP multicast query on the local IP network.</p><p>Note that <code>local.</code> is not really a domain. You can think of <code>local.</code> as a pseudo-domain. It differs from conventional DNS domains in a fundamental way: names within other domains are globally unique; link-local domain names are not. There is only one logical DNS entry in the world named <code>www.apple.com.</code>, and because of the way DNS works, there can be only one. Host names ending in <code>local.</code>, on the other hand, are managed by a collection of Multicast DNS responders on the local network, so the naming scope is just that: local. There can easily be two hosts named <code>meow.local.</code> in the world, or even the same building, just not on the same local network. </p><p>Globally unique names are important and useful—in fact, they are one of the significant achievements of the Internet—but they require a certain level of administrative effort to set up and maintain. Local names are useful only on the local network, but in cases where that is adequate, they provide a way to refer to network devices using names instead of IP numbers, and of course they require less effort and expense to coordinate than globally unique names. </p><p>Locally unique names are particularly useful on networks that have no connection to the global Internet, either by design or because of interruption, and on small, temporary networks, such as a pair of computers linked by a crossover cable, or a few people playing network games using laptops on the wireless network of a home or cafe.</p><p>If a name collision on the local network occurs, a Bonjour host finds a new name automatically (in the case of a device without a screen) or by asking the user (in the case of a personal computer).</p><a name="//apple_ref/doc/uid/20001072-198642" title="Bonjour Names for Existing Service Types"></a><a name="//apple_ref/doc/uid/TP40002460-TPXREF118" title="Bonjour Names for Existing Service Types"></a><h2>Bonjour Names for Existing Service Types</h2><p>Bonjour services are named according to the existing Internet standard for IP services. The website <span class="content_text"><a href="http://www.dns-sd.org" target="_blank">http://www.dns-sd.org</a></span> keeps a registry of TCP and UDP protocol names and ports assigned to each, and Bonjour services are named according to this list. The list used by Mac OS X can be found in <code>/etc/services</code>, and the most current version of the list is available at<span class="content_text"><a href="http://www.dns-sd.org/ServiceTypes.html" target="_blank">http://www.dns-sd.org/ServiceTypes.html</a></span>.</p><p>Bonjour service names combine service types and transport protocols to form a registration type. The registration type is used to register a service and create DNS resource records for it. To distinguish registration types from domain names in DNS resource records, registration types use underscore prefixes to separate the components that make up a registration type. The format is</p><p><code>_</code><em>ServiceType</em><code>._</code><em>TransportProtocolName</em><code></code><code>.</code></p><p>The service type is the official IANA-registered name for the service, for example, <code>ftp</code>, <code>http</code> or <code>printer</code>. The transport protocol name is <code>tcp</code> or <code>udp</code>, depending on the transport protocol the service uses. An FTP service running over TCP would have a registration type of <code>_ftp._tcp</code>. and would register a DNS PTR record named <code>_ftp._tcp.local.</code> with its hosts’ Multicast DNS responder.</p><a name="//apple_ref/doc/uid/20001072-211952" title="Bonjour Names for New Services"></a><a name="//apple_ref/doc/uid/TP40002460-TPXREF119" title="Bonjour Names for New Services"></a><h2>Bonjour Names for New Services</h2><p>If you are designing a new protocol to advertise as a Bonjour network service, you should register it at <span class="content_text"><a href="http://www.dns-sd.org/ServiceTypes.html" target="_blank">http://www.dns-sd.org/ServiceTypes.html</a></span>.</p><p>The IANA currently requires that every registered service be associated with a “well-known port” or range of well-known ports. For example, <code>http</code> is assigned port <code>80</code>, so that whenever you visit a website in your web browser, the application assumes that the HTTP service is running on port <code>80</code> unless you specify otherwise. This way, the port number for a website need only be memorized if the website is configured in a non-standard way.</p><p>With Bonjour, however, you don’t have to know about port numbers. Because client applications can discover your service with a simple query for the service type, well-known ports are unnecessary.</p><a name="//apple_ref/doc/uid/20001072-198759" title="Bonjour Names for Service Instances"></a><a name="//apple_ref/doc/uid/TP40002460-TPXREF120" title="Bonjour Names for Service Instances"></a><h2>Bonjour Names for Service Instances</h2><p>Service instance names are intended to be human-readable strings. As such, you should name them descriptively, and let the user override whatever default name you provide. Because they are intended to be browsed rather than typed, service instance names can be any Unicode string encoded with UTF-8, up to 63 octets (bytes) in length.</p><p>For example, an application for sharing music over the network might use the local user’s name for a music sharing service, such as <code>Ed's Music Library</code>, by default. The user could override the default and name the service <code>Zealous Lizard's Tune Studio</code>, and the application would register a DNS SRV record named <code>Zealous Lizard's Tune Studio._music._tcp.local.</code>, assuming the application’s music sharing protocol was associated with the name <code>music</code>.</p><p><span class="content_text"><a href="domainnames.html#//apple_ref/doc/uid/TP40002460-SW2">Figure 2</a></span> illustrates the organization of the name of a Bonjour service instance. At the top level of the tree is the domain, such as <code>local.</code> for the local network. Below the domain is the registration type, which consists of the service type preceded by an underscore (<code>_music</code>) and the transport protocol, also preceded by an underscore (<code>_tcp</code>). At the bottom of the tree is the human-readable service instance name, such as <code>Zealous Lizard’s Tune Studio</code>. The complete name is a path along the tree from bottom to top, with each component separated by a dot.</p><br/><div><a name="//apple_ref/doc/uid/TP40002460-SW2" title="Figure 2Organization of a Bonjour service name"></a><p><a name="//apple_ref/doc/uid/20001072-198818" title="Figure 2Organization of a Bonjour service name"></a><a name="//apple_ref/doc/uid/TP40002460-CJBGIICF" title="Figure 2Organization of a Bonjour service name"></a><strong>Figure 2&nbsp;&nbsp;</strong>Organization of a Bonjour service name</p><img src = "../Art/names_02services.gif" alt = "" width="491" height="380"></div><br/>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="about.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="NetServicesArchitecture.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-05-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/NetServices/Articles/domainnames.html%3Fid%3D10000119i-4.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/NetServices/Articles/domainnames.html%3Fid%3D10000119i-4.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/NetServices/Articles/domainnames.html%3Fid%3D10000119i-4.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
