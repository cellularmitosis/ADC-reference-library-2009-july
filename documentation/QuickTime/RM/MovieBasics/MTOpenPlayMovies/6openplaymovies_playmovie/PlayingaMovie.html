<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Movie Playback Programming Guide: Playing a Movie</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Playing a Movie"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000919-6" title="Playing a Movie"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../MovieBasics-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000545" target="_top">Movie Basics</a> &gt; <a href="../1openplaymovies_Introduction/Introduction.html#//apple_ref/doc/uid/TP40000919-CH202-DontLinkElementID_4">QuickTime Movie Playback Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../5openplaymovies_loadstate/MonitoringtheLoadSta.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../7openplaymovies_appendix/AppendixA.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000919-6-PlayingaMovie" title="Playing a Movie"></a><h1>Playing a Movie</h1><p>There are several different tool sets available for playing movies in QuickTime. The high-level tool sets all make use of a movie controller component; these components do most of the work required to play the movie, such as setting up any streams or buffers, resizing the movie, and redrawing the movie when it is moved or part of it is uncovered.</p><p>A movie controller component can include a human interface, allowing the user to start, stop, rewind, scrub, and adjust the sound volume, without you having to write any supporting code. This user interface need not be displayed, however.</p><p>You can override or augment any of the movie controller component functions with your own code by installing a callback function using <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetActionFilterWithRefCon" target="_top">MCSetActionFilterWithRefCon</a></code>, and you can call any of the movie controller component’s functions directly from your code (in response to input from your own custom user interface, for example). For details, see <span class="content_text"><a href="PlayingaMovie.html#//apple_ref/doc/uid/TP40000919-6-WorkingDirectlywithMovieControllerComponents">“Working Directly with Movie Controller Components.”</a></span></p><p>There are low-level commands in the Movie Toolbox that you can also use to control movies. This is usually neither necessary nor desirable, however, as it adds considerably to the complexity of your application. It also increases the risk that your application will not be able to take advantage of new features as they are added to QuickTime. If you use a movie controller component, the control code is updated with new versions of  QuickTime and generally takes advantage of new features.</p><p>You can also enable a simple editing interface in a movie controller, giving the user the ability to perform cut-and-paste movie editing without requiring you to write supporting code. For more information, see <em><a href="../../MTEditing/index.html#//apple_ref/doc/uid/TP40000908" target="_top">QuickTime Movie Basics</a></em>.</p><p>Once you have attached a movie controller component to your movie, to play the movie all you have to do is grant time to the controller.</p><p>In QuickTime 7 and later on Mac OS X, you can display the movie using an <code>HIMovieView</code>; the operating system automatically grants time to the controller as needed. You can create and initialize an <code>HIMovieView</code> using Interface Builder, greatly simplifying your code.</p><p>In QuickTime 6 and later on Mac OS X, you can display the movie using a Carbon movie controller. While somewhat more limited and more complex to set up than an <code>HIMovieView</code>, a Carbon movie controller also gets the processing time it needs automatically.</p><p>In older versions of QuickTime for Mac OS X, you can use a Carbon timer to generate an event whenever the movie needs processor time; you set a callback procedure that responds to this event by granting time to the controller and resetting the timer.</p><p>For versions of QuickTime running on Windows, or on Mac OS 9, you must periodically give idle time to the movie controller in your run loop.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_20" title="Important"></a><p><strong>Important:</strong>&nbsp;A movie controller component is not the same thing as the standard movie control bar. The standard movie control bar is one optional feature of movie controller components. You can use a movie controller component with any kind of interface, or no interface at all. </p></div><div class="notebox"><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_21" title="Note"></a><p><strong>Note:</strong>&nbsp;Before you can play a movie, you need to either create a movie or get one from an external source. See <span class="content_text"><a href="../4openplaymovies_getmovie/GettingaMovie.html#//apple_ref/doc/uid/TP40000919-4-GettingaMovie">“Getting a Movie”</a></span> and <em><a href="../../../CreatingMovies/MTCreateMovies/index.html#//apple_ref/doc/uid/TP40000906" target="_top">QuickTime Movie Creation Guide</a></em>. </p></div>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="PlayingaMovie.html#//apple_ref/doc/uid/TP40000919-6-PlayingaMovieUsingHIMovieView">Playing a Movie Using HIMovieView</a>
				
			<br/>
			
        
			
			
				<a href="PlayingaMovie.html#//apple_ref/doc/uid/TP40000919-6-PlayingaMovieUsingaCarbonMovieControl">Playing a Movie Using a Carbon Movie Control</a>
				
			<br/>
			
        
			
			
				<a href="PlayingaMovie.html#//apple_ref/doc/uid/TP40000919-6-PlayingaMovieUsingaMovieControllerComponent">Playing a Movie Using a Movie Controller Component</a>
				
			<br/>
			
        
			
			
				<a href="PlayingaMovie.html#//apple_ref/doc/uid/TP40000919-6-WorkingDirectlywithMovieControllerComponents">Working Directly with Movie Controller Components</a>
				
			<br/>
			
        
			
			
				<a href="PlayingaMovie.html#//apple_ref/doc/uid/TP40000919-6-BypassingtheMovieController">Bypassing the Movie Controller</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40000919-6-PlayingaMovieUsingHIMovieView" title="Playing a Movie Using HIMovieView"></a><h2>Playing a Movie Using HIMovieView</h2><p>An <code>HIMovieView</code> is a specialized human interface object that displays QuickTime movies. It is a subclass of HIView, which is a subclass of HIObject. <code>HIMovieView</code> includes a movie controller component, a set of display coordinates, and more.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_22" title="Note"></a><p><strong>Note:</strong>&nbsp;HIObject is a common base class for all user interface objects. For Mac OS X version 10.2 and later, all menus, windows, controls, toolbars, and similar items, are subclasses of HIObject. </p></div><p>HIView is an object-oriented view system. Using the HIView model, every item within a window is a view: the root control, all embedded controls, the close, zoom, and minimize buttons, the resize control, and so on. Current Control Manager function calls are layered on top of this HIView model, so you can also control a view using existing Control Manager functions.</p><p>Some benefits of the HIView model include the following:</p><ul class="ul"><li class="li"><p>Core Image (Quartz) is the native drawing system, but you can still use QuickDraw if desired.</p></li><li class="li"><p>Coordinate system is not limited by the 16-bit space of QuickDraw. Floating point coordinates are valid.</p></li><li class="li"><p>Simpified coordinate system for view bounds and view position within its parent.</p></li><li class="li"><p>Views can be layered; you can easily place controls in front of, or behind, other controls.</p></li><li class="li"><p>Views can be attached to, and detached from, parent windows, allowing you to move a view between windows.</p></li></ul><p>Because <code>HIMovieView</code> is a subclass of HIView, it inherits these benefits over traditional controls.</p><a name="//apple_ref/doc/uid/TP40000919-6-CreatinganHIMovieView" title="Creating an HIMovieView"></a><h3>Creating an HIMovieView</h3><p>An <code>HIMovieView</code> can be created in Interface Builder by dragging an icon from a palette; you can then use the inspector window to set most of the viewing parameters without writing any code at all. In this case, you set the parent window, initial position of the movie within the window, and the initial size of the movie’s display area, all in Interface Builder. There are attribute buttons to select whether the movie control bar is visible, whether the system automatically grants time to the movie as needed, whether the controller accepts keyboard input, whether the movie is editable, and whether the controller should enable its editing user interface as shown in Figure 1-1. All this information is stored in the nib file that specifies the parent window.</p><br/><div><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_23" title="Figure 5-1Creating an HIMovieView with Interface Builder"></a><p><strong>Figure 5-1&nbsp;&nbsp;</strong>Creating an HIMovieView with Interface Builder</p><img src = "../Art/HIMovieView.jpg" alt = "Creating an HIMovieView with Interface Builder" ></div><br/><p>Alternatively, you can create and configure an <code>HIMovieView</code> entirely in code, in which case you must also set the various parameters, such as height and width, from your code when you instantiate the view.  An example would look like this:</p><div class="codesample"><table><tr><td scope="row"><pre>HIViewRef theHIMovieView;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// create an HIMovieview<span></span></pre></td></tr><tr><td scope="row"><pre>HIObjectCreate(kHIMovieViewClassID, NULL, &amp;theHIMovieView);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// set the movie attributes for the HIMovieView<span></span></pre></td></tr><tr><td scope="row"><pre>HIMovieViewChangeAttributes(theHIMovieView, kHIMovieViewStandardAttributes, 0);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// attach my movie to the HIMovieView<span></span></pre></td></tr><tr><td scope="row"><pre>HIMovieViewSetMovie(theHIMovieView, myMovie);<span></span></pre></td></tr></table></div><p>As a third alternative, you can create a generic HIView using Interface Builder, setting some of the view parameters there, then subclass it as an <code>HIMovieView</code> and configure it further from your code at runtime.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_24" title="Important"></a><p><strong>Important:</strong>&nbsp;A bug in <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/HIMovieViewCreate" target="_top">HIMovieViewCreate</a></code> makes it necessary to use this third method as a workaround in QuickTime version 7.0. See Technical Q&amp;A QA1417, <span class="content_text"><a href="http://developer.apple.com/qa/qa2005/qa1417.html" target="_top">How to Work Around HIMovieViewCreate Failing</a></span> for details. Later versions of QuickTime can use any of the three alternative methods. </p></div><p>If you create a generic HIView in Interface Builder (in this case with an ID of <code>'moov',</code><code>0,</code> in a window named <code>MovieWindow</code>), your code would look something like this:</p><div class="codesample"><table><tr><td scope="row"><pre>HIViewID  kMovieViewID = {'moov', 0};<span></span></pre></td></tr><tr><td scope="row"><pre>HIViewRef theHIMovieView;<span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// get the window<span></span></pre></td></tr><tr><td scope="row"><pre>CreateWindowFromNib(nib, CFSTR("MovieWindow"), &amp;window);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// find our HIMovieView<span></span></pre></td></tr><tr><td scope="row"><pre>HIViewFindByID(HIViewGetRoot(window), kMovieViewID, &amp;theHIMovieView);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// set some attributes and a movie for the HIMovieView<span></span></pre></td></tr><tr><td scope="row"><pre>HIMovieViewChangeAttributes(theHIMovieView, kHIMovieViewAutoIdlingAttribute |<span></span></pre></td></tr><tr><td scope="row"><pre>                                            kHIMovieViewControllerVisibleAttribute,<span></span></pre></td></tr><tr><td scope="row"><pre>                                            kHIMovieViewEditableAttribute |<span></span></pre></td></tr><tr><td scope="row"><pre>                                            kHIMovieViewHandleEditingHIAttribute |<span></span></pre></td></tr><tr><td scope="row"><pre>                                            kHIMovieViewAcceptsFocusAttribute);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>HIMovieViewSetMovie(theHIMovieView, aMovie);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// install some event handlers<span></span></pre></td></tr><tr><td scope="row"><pre>InstallWindowEventHandler(window, &amp;MainWindowEventHandler,<span></span></pre></td></tr><tr><td scope="row"><pre>                          GetEventTypeCount(windowEvents), windowEvents, window, NULL);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>InstallHIObjectEventHandler((HIObjectRef)theHIMovieView, &amp;HIMovieViewEventSniffer,<span></span></pre></td></tr><tr><td scope="row"><pre>                            GetEventTypeCount(viewEvents), viewEvents, window, NULL);<span></span></pre></td></tr><tr><td scope="row"><pre>// on with the show<span></span></pre></td></tr><tr><td scope="row"><pre>ShowWindow(window);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40000919-6-ConfiguringanHIMovieView" title="Configuring an HIMovieView"></a><h3>Configuring an HIMovieView</h3><p>An <code>HIMovieView</code> object responds to all the usual HIView commands, as well as Control Manager commands. For details, see <span class="content_text"><a href="http://developer.apple.com/documentation/Carbon/Conceptual/HIViewDoc/index.html" target="_top">HIView Programming Guide</a></span>, and <span class="content_text"><a href="http://developer.apple.com/documentation/Carbon/Reference/Control_Manager/index.html" target="_top">Control Manager Reference</a></span>.</p><p>Use the standard HIView commands or the Control Manager commands to identify the view, find its parent window, change its visibility, and so on. For example, the  <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/GetControlBounds" target="_top">GetControlBounds</a></code> and <code>SetControlBounds</code> functions can be used to obtain and modify the view’s size and location.</p><p>In addition to the standard HIView API, the following functions and constants are available specifically for use with <code>HIMovieView</code>:</p><p><strong>Functions:</strong></p><ul class="spaceabove"><li class="li"><p>HIMovieViewChangeAttributes—Changes the movie view attributes.</p></li><li class="li"><p>HIMovieViewCreate—Creates an <code>HIMovieView</code> object.</p></li><li class="li"><p>HIMovieViewGetAttributes—Returns the movie view’s current attributes.</p></li><li class="li"><p>HIMovieViewGetControllerBarSize—Returns the size of the visible movie control bar.</p></li><li class="li"><p>HIMovieViewGetMovie—Returns the view’s current movie.</p></li><li class="li"><p>HIMovieViewGetMovieController—Returns the view’s current movie controller.</p></li><li class="li"><p>HIMovieViewPause—Pauses the view’s current movie.</p></li><li class="li"><p>HIMovieViewPlay—Plays the view’s current movie.</p></li><li class="li"><p>HIMovieViewSetMovie—Sets the view’s current movie.</p></li></ul><p><strong>Constants:</strong></p><span class="content_text"><code><!--a target="_top" -->kEventClassMovieView<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kEventMovieViewOptimalBoundsChanged<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewClassID<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewAcceptsFocusAttribute<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewAutoIdlingAttribute<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewControllerVisibleAttribute<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewEditableAttribute<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewHandleEditingHIAttribute<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewNoAttributes<!--/a--></code></span><br/><span class="content_text"><code><!--a target="_top" -->kHIMovieViewStandardAttributes<!--/a--></code></span><br/><p>Use <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/HIMovieViewChangeAttributes" target="_top">HIMovieViewChangeAttributes</a></code> to set the HIMovieView’s unique movie controller attributes, such as whether it allows editing or provides a user interface.</p><p>Use <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/HIMovieViewSetMovie" target="_top">HIMovieViewSetMovie</a></code> to attach a movie to the view.</p><p>Use <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/HIMovieViewPlay" target="_top">HIMovieViewPlay</a></code> and <code>HIMovieViewPause</code> to play and pause the movie programmatically.</p><p>Use <code>kHIMovieViewDataMovieController</code> to obtain the movie controller component instance if you need to communicate with the movie controller directly. You can then address commands to the movie controller component directly. For details, see <span class="content_text"><a href="PlayingaMovie.html#//apple_ref/doc/uid/TP40000919-6-WorkingDirectlywithMovieControllerComponents">“Working Directly with Movie Controller Components.”</a></span></p><p>You can also configure an <code>HIMovieView</code> object using Control Manager commands such as <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/SetControlData" target="_top">SetControlData</a></code>. In addition to the applicable standard control parameters, an <code>HIMovieView</code> accepts the following constants with <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/SetControlData" target="_top">SetControlData</a></code>:</p><div class="codesample"><table><tr><td scope="row"><pre>kHIMovieViewDataMovieController       (read-only MovieController)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataControllerBarHeight   (read-only UInt32)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataMovie                 (Movie)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataControllerVisible     (Boolean)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataLocateTopLeft         (Boolean)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataEditable              (Boolean)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataHandleEditingHI       (Boolean)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataKeysEnabled           (Boolean)<span></span></pre></td></tr><tr><td scope="row"><pre>kHIMovieViewDataManualIdling          (Boolean)<span></span></pre></td></tr></table></div><p>To override or augment any of the functions <code>HIMovieView</code> performs, add an event handler using <code><!--a target="_top" -->InstallHIObjectEventHandler<!--/a--></code>. To override the controller, handle the associated event and mark it as handled; to augment the controller, perform the augmenting action but do not mark the event as handled. Alternatively, you can subclass the <code>HIMovieView</code> and create a custom view that inherits the features of <code>HIMovieView</code> as a base feature set.</p><a name="//apple_ref/doc/uid/TP40000919-6-HIMovieViewandYourRunLoop" title="HIMovieView and Your Run Loop"></a><h3>HIMovieView and Your Run Loop</h3><p>You don’t actually need to do anything special in your run loop to play a movie in an <code>HIMovieView</code>. Just attach a movie using <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/HIMovieViewSetMovie" target="_top">HIMovieViewSetMovie</a></code>, set the auto-idling and visible-controller attributes (<code>kHIMovieViewAutoIdlingAttribute</code> and <code>kHIMovieViewControllerVisibleAttribute</code>), and <code>HIMovieView</code> does the rest.</p><a name="//apple_ref/doc/uid/TP40000919-6-PlayingaMovieUsingaCarbonMovieControl" title="Playing a Movie Using a Carbon Movie Control"></a><h2>Playing a Movie Using a Carbon Movie Control</h2><p>QuickTime 6 for Mac OS X introduced the Carbon movie control. The <code><a href="../../../../QT6WhatsNew/Chap1/QT6WhatsNew.html#//apple_ref/c/func/CreateMovieControl" target="_top">CreateMovieControl</a></code> function takes a movie and a window as arguments and creates a control containing a standard movie controller component. The movie control can then act as a Carbon event target, receiving Carbon events and dispatching them to its movie controller.</p><p>In other words, the Carbon movie control is implemented as a custom control that includes an event handler that handles any Carbon events sent to controls. When a Carbon movie control is created for a movie, a movie controller component instance is also created. The movie control then directs user interface events to its movie controller.</p><p>Your application can install additional event handlers on the Carbon movie control to handle such things as contextual menu clicks or to intercept events to do special processing. Control Manager calls can be made as well.</p><p>The movie controller is automatically idled by means of an event loop timer, using the Idle Manager to optimize idling frequency.</p><a name="//apple_ref/doc/uid/TP40000919-6-CreatingandConfiguringaCarbonMovieControl" title="Creating and Configuring a Carbon Movie Control"></a><h3>Creating and Configuring a Carbon Movie Control</h3><p>Create a Carbon movie control by calling <code><a href="../../../../QT6WhatsNew/Chap1/QT6WhatsNew.html#//apple_ref/c/func/CreateMovieControl" target="_top">CreateMovieControl</a></code>, passing in the parent window, position of the controller within the window, the movie to play, and the movie controller options, such as whether to make the control bar visible or enable editing.</p><p>The control’s position in the window is passed as a <code><!--a target="_top" -->Rect<!--/a--></code> using local coordinates of the parent windo<code>w</code>. The movie control is centered within the specified rectangle by default and sized to fit within it while maintaining the movie’s aspect ratio. If <code>NULL</code> is passed, the movie control is positioned at 0,0 in the window and has the natural dimensions of the movie (plus height of the movie control bar, if visible).</p><p>You can pass the following flags in the options field:</p><ul class="spaceabove"><li class="li"><p><code>kMovieControlOptionHideController</code>—The movie controller is hidden when the movie control is drawn.</p></li><li class="li"><p><code>kMovieControlOptionLocateTopLeft</code>—The movie is pinned to the top left of <code>localRect</code> rather then being centered within it.</p></li><li class="li"><p><code>kMovieControlOptionEnableEditing</code>—Allows programmatic editing of the movie and enables drag and drop.</p></li><li class="li"><p><code>kMovieControlOptionHandleEditingHI</code>—Installs event handler for Edit menu commands and menu updating (also asserts <code>kMovieControlOptionEnableEditing</code>).</p></li><li class="li"><p><code>kMovieControlOptionSetKeysEnabled</code>—Allows the movie control to react to keystrokes and participate in the keyboard focus mechanism within the window.</p></li><li class="li"><p><code>kMovieControlOptionManuallyIdled</code>—Rather than being idled by the movie control event loop timer, this movie control is idled by the application, manually.</p></li></ul><p>Once instantiated, a Carbon movie control accepts the standard Control Manager commands. For example, the <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/GetControlBounds" target="_top">GetControlBounds</a></code> and <code>SetControlBounds</code> functions can be used to obtain and modify the movie control’s size and location. See <em><a href="../../../../../Carbon/Reference/Control_Manager/index.html#//apple_ref/doc/uid/TP30000171" target="_top">Control Manager Reference</a></em> for more information.</p><p>In addition to the standard Control Manager selectors, you can use the following selectors for the <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/GetControlData" target="_top">GetControlData</a></code> and <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/SetControlData" target="_top">SetControlData</a></code> routines with Carbon movie controls:</p><ul class="spaceabove"><li class="li"><p><code>kMovieControlDataMovieController</code>—(read only) Use with <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/GetControlData" target="_top">GetControlData</a></code> to obtain the movie controller instance. You can then address the movie controller component directly using <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCDoAction" target="_top">MCDoAction</a></code>.</p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_25" title="Important"></a><p><strong>Important:</strong>&nbsp;Do not dispose of this movie controller; it is owned by the movie control it is associated with. You also must not use <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetControllerAttached" target="_top">MCSetControllerAttached</a></code> to detach the controller from the movie. </p></div><ul class="spaceabove"><li class="li"><p><code>kMovieControlDataMovie</code>—(read only) Obtain the movie associated with a movie control after its creation.</p></li><li class="li"><p><code>kMovieControlDataManualIdling</code>—Obtain or modify the state of the movie control’s idling behavior. By default, all movie controls are given time by the movie control event loop timer. If this Boolean item is <code>TRUE</code>, the application is required to give time to the movie controller in its run loop, using the <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIdle" target="_top">MCIdle</a></code> function.</p></li></ul><a name="//apple_ref/doc/uid/TP40000919-6-CarbonMovieControlsandYourRunLoop" title="Carbon Movie Controls and Your Run Loop"></a><h3>Carbon Movie Controls and Your Run Loop</h3><p>You do not need to do anything special in your run loop to play movies using a Carbon movie control, provided you enable the movie control’s user interface and do not set the manual idle flag. The Carbon movie control takes care of all event routing to the movie. In order to distribute time to these movies, an event loop timer is set up which “idles” all movie controllers associated with Carbon movie controls within the application.</p><a name="//apple_ref/doc/uid/TP40000919-6-PlayingaMovieUsingaMovieControllerComponent" title="Playing a Movie Using a Movie Controller Component"></a><h2>Playing a Movie Using a Movie Controller Component</h2><p>If you are working in Windows OS or compiling for a version of QuickTime prior to QuickTime 6, you do not have access to either <code>HIMovieView</code> or Carbon movie controls. Consequently, you need to work with movie controller components directly. This is more complicated than playing a movie with an <code>HIMovieView</code> or a Carbon movie control, but it is still relatively straightforward; there’s just more housekeeping.</p><p>You need to decide where your visual output should appear in the parent window and how much space to give it. This defines the movie controller’s bounding box, the rectangle that encompasses the movie display area, and the movie control bar. You can get the movie’s natural bounds and set the size of the display area to match, or choose an arbitrary display area and scale the movie to fit. If the movie is too large for the bounding box, it will be scaled down automatically, but it will only be scaled up to fill the display area if you request this behavior.</p><p>Once you’ve decided where your movie should appear, you open a movie controller component and attach it to your movie. You then provide time to the movie controller from within your application run loop.</p><p>Listing 1-5 is an example of opening a movie controller component and using it to play a movie.</p><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_26" title="Listing 5-1Using a movie controller component to play a movie"></a><p class="codesample"><strong>Listing 5-1&nbsp;&nbsp;</strong>Using a movie controller component to play a movie</p><div class="codesample"><table><tr><td scope="row"><pre>  WindowPtr     myWindow = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>  Rect          myBounds = {50, 50, 100, 100};<span></span></pre></td></tr><tr><td scope="row"><pre>  Rect          myRect;<span></span></pre></td></tr><tr><td scope="row"><pre>  StringPtr     myTitle = QTUtils_ConvertCToPascalString(kWindowTitle);<span></span></pre></td></tr><tr><td scope="row"><pre>  OSErr         myErr;<span></span></pre></td></tr><tr><td scope="row"><pre>  MovieController         gController;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Initialize QuickTime<span></span></pre></td></tr><tr><td scope="row"><pre>  myErr = EnterMovies();<span></span></pre></td></tr><tr><td scope="row"><pre>  if (myErr != noErr)<span></span></pre></td></tr><tr><td scope="row"><pre>goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Create a display window<span></span></pre></td></tr><tr><td scope="row"><pre>  myErr = memFullErr;<span></span></pre></td></tr><tr><td scope="row"><pre>  myWindow = NewCWindow(NULL, &amp;myBounds, myTitle, false, 0, (WindowPtr)-1, false, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>  if (myWindow == NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>    goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre>  myErr = noErr;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Align the movie bounding box with the display window<span></span></pre></td></tr><tr><td scope="row"><pre>GetMovieBox(theMovie, &amp;myRect); /* Get the movie box. */<span></span></pre></td></tr><tr><td scope="row"><pre>OffsetRect(&amp;myRect, -myRect.left, -myRecct.top); /* topleft=0 */<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieBox(theMovie, &amp;myRect);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Get a movie controller component and attach it to the movie<span></span></pre></td></tr><tr><td scope="row"><pre>// Pin the movie to the top left corner<span></span></pre></td></tr><tr><td scope="row"><pre> gController = NewMovieController (theMovie, &amp;myBounds, mcTopLeftMovie);<span></span></pre></td></tr><tr><td scope="row"><pre>        if (gController == nil)<span></span></pre></td></tr><tr><td scope="row"><pre>goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Get the movie controller's bounds and resize the window accordingly<span></span></pre></td></tr><tr><td scope="row"><pre> myErr = MCGetControllerBoundsRect (gController, &amp;myRect);<span></span></pre></td></tr><tr><td scope="row"><pre> SizeWindow (myWindow, myRect.right, myRect.bottom, true);<span></span></pre></td></tr><tr><td scope="row"><pre> ShowWindow (myWindow);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Enable the controller to accept keyboard focus<span></span></pre></td></tr><tr><td scope="row"><pre> myErr = MCDoAction (gController, mcActionSetKeysEnabled,(Ptr)true);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Check for unforeseen errors<span></span></pre></td></tr><tr><td scope="row"><pre>  myErr = GetMoviesError();<span></span></pre></td></tr><tr><td scope="row"><pre>  if (myErr != noErr)<span></span></pre></td></tr><tr><td scope="row"><pre>    goto bail;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Application event loop goes here<span></span></pre></td></tr><tr><td scope="row"><pre>// Idle the movie controller component inside your application event loop<span></span></pre></td></tr><tr><td scope="row"><pre>// ...<span></span></pre></td></tr><tr><td scope="row"><pre>  myErr = MCIdle(gController);<span></span></pre></td></tr><tr><td scope="row"><pre>// ...<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// On error or exit, dispose of the controller, movie, window (in that order)<span></span></pre></td></tr><tr><td scope="row"><pre>bail:<span></span></pre></td></tr><tr><td scope="row"><pre>  free(myTitle);<span></span></pre></td></tr><tr><td scope="row"><pre>  <span></span></pre></td></tr><tr><td scope="row"><pre>  if (gController != NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovieController(gController);<span></span></pre></td></tr><tr><td scope="row"><pre>    <span></span></pre></td></tr><tr><td scope="row"><pre>  if (theMovie != NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>    DisposeMovie(theMovie);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>  if (myWindow != NULL)<span></span></pre></td></tr><tr><td scope="row"><pre>    DisposeWindow(myWindow);<span></span></pre></td></tr></table></div><p>Note that you should not call <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsPlayerEvent" target="_top">MCIsPlayerEvent</a></code> in Mac OS X, even though you may see this in some older sample code. Instead, use <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIdle" target="_top">MCIdle</a></code> or <code><a href="../../../../Reference/QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/MoviesTask" target="_top">MoviesTask</a></code> to grant time to the controller, or <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCKey" target="_top">MCKey</a></code> to have the movie controller handle a keystroke.</p><a name="//apple_ref/doc/uid/TP40000919-6-WorkingDirectlywithMovieControllerComponents" title="Working Directly with Movie Controller Components"></a><h2>Working Directly with Movie Controller Components</h2><p>Regardless of whether you play your movie using an <code>HIMovieView</code>, a Carbon movie control, or a naked movie controller component, your application can call the movie controller component instance directly and give it commands.</p><p>You obtain the component instance if you open the component directly using <code><a href="../../../../Reference/QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieController" target="_top">NewMovieController</a></code>. If you use an HIMovieView, you can obtain the component instance by calling <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/HIMovieViewGetMovieController" target="_top">HIMovieViewGetMovieController</a></code>. If you use a Carbon movie control, you can obtain the component instance by calling <code><a href="../../../../../Carbon/Reference/Control_Manager/Reference/reference.html#//apple_ref/c/func/GetControlData" target="_top">GetControlData</a></code> with <code>kMovieControlDataMovieController</code>.</p><p>The following commands to the movie controller component are available to your application:</p><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCActivate" target="_top">MCActivate</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCAdjustCursor" target="_top">MCAdjustCursor</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCAddMovieSegment" target="_top">MCAddMovieSegment</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCClear" target="_top">MCClear</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCClick" target="_top">MCClick</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCCopy" target="_top">MCCopy</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCCut" target="_top">MCCut</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCDoAction" target="_top">MCDoAction</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCDraw" target="_top">MCDraw</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCDrawBadge" target="_top">MCDrawBadge</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCEnableEditing" target="_top">MCEnableEditing</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetClip" target="_top">MCGetClip</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetControllerBoundsRect" target="_top">MCGetControllerBoundsRect</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetControllerBoundsRgn" target="_top">MCGetControllerBoundsRgn</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetControllerInfo" target="_top">MCGetControllerInfo</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetControllerPort" target="_top">MCGetControllerPort</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetCurrentTime" target="_top">MCGetCurrentTime</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetDoActionsProc" target="_top">MCGetDoActionsProc</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetIndMovie" target="_top">MCGetIndMovie</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetInterfaceElement" target="_top">MCGetInterfaceElement</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetMenuString" target="_top">MCGetMenuString</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetVisible" target="_top">MCGetVisible</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCGetWindowRgn" target="_top">MCGetWindowRgn</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIdle" target="_top">MCIdle</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCInvalidate" target="_top">MCInvalidate</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsControllerAttached" target="_top">MCIsControllerAttached</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsEditingEnabled" target="_top">MCIsEditingEnabled</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsPlayerEvent" target="_top">MCIsPlayerEvent</a></code> (deprecated)</span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCKey" target="_top">MCKey</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCMovieChanged" target="_top">MCMovieChanged</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCNewAttachedController" target="_top">MCNewAttachedController</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCPaste" target="_top">MCPaste</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCPositionController" target="_top">MCPositionController</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCPtInController" target="_top">MCPtInController</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCRemoveAllMovies" target="_top">MCRemoveAllMovies</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCRemoveAMovie" target="_top">MCRemoveAMovie</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCRemoveMovie" target="_top">MCRemoveMovie</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetActionFilter" target="_top">MCSetActionFilter</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetActionFilterWithRefCon" target="_top">MCSetActionFilterWithRefCon</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetClip" target="_top">MCSetClip</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetControllerAttached" target="_top">MCSetControllerAttached</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetControllerBoundsRect" target="_top">MCSetControllerBoundsRect</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetControllerCapabilities" target="_top">MCSetControllerCapabilities</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetControllerPort" target="_top">MCSetControllerPort</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetDuration" target="_top">MCSetDuration</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetIdleManager" target="_top">MCSetIdleManager</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetMovie" target="_top">MCSetMovie</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetUpEditMenu" target="_top">MCSetUpEditMenu</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetVisible" target="_top">MCSetVisible</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCTrimMovieSegment" target="_top">MCTrimMovieSegment</a></code></span><br/><span class="content_text"><code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCUndo" target="_top">MCUndo</a></code></span><br/><p>The <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCDoAction" target="_top">MCDoAction</a></code> function is of particular importance. <code>MCDoAction</code> can perform dozens of different operations, including starting and stopping the movie, setting the movie rate (playback speed), setting the audio volume, and so on. <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCDoAction" target="_top">MCDoAction</a></code> takes a selector as an argument. The selector tells <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCDoAction" target="_top">MCDoAction</a></code> which action to perform. For details, see  <code><!--a target="_top" -->Movie Controller Actions<!--/a--></code>.</p><p>Obviously, all these functions allow you to do far more than just play a movie. They enable you to programmatically edit the movie, associate new movies with the controller, and configure the controller in various ways (enable editing, make the controller visible or invisible, and so on).</p><p>You can augment or override any controller function by installing a callback function, using <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCSetActionFilterWithRefCon" target="_top">MCSetActionFilterWithRefCon</a></code>. See also “Using Movie Controllers” in the Programming Summary of <em><!--a target="_top" -->QuickTime API Reference<!--/a--></em>.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000919-6-DontLinkElementID_27" title="Important"></a><p><strong>Important:</strong>&nbsp;The function <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsPlayerEvent" target="_top">MCIsPlayerEvent</a></code> has been deprecated and should not be used on Mac OS X. </p></div><p>You will probably see references to <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsPlayerEvent" target="_top">MCIsPlayerEvent</a></code> in sample code. In the past, <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsPlayerEvent" target="_top">MCIsPlayerEvent</a></code> served two purposes: It granted processing time to the movie controller, and it allowed the movie controller to handle events such as mouse clicks and keystrokes. Both these features were based on the Apple Event Manager and event records, which are no longer used in Mac OS X.</p><p>If you use a Carbon movie control or an <code>HIMovieView</code>, processing time and event handling are taken care of automatically, so calls to <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIsPlayerEvent" target="_top">MCIsPlayerEvent</a></code> serve no purpose.</p><p>If your target system does not support Carbon movie controls or <code>HIMovieView</code>, you can call <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCIdle" target="_top">MCIdle</a></code> to grant processing time to the movie controller, <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCClick" target="_top">MCClick</a></code> to have the movie controller handle a mouse click, and <code><a href="../../../../Reference/QTRef_MovieController/Reference/reference.html#//apple_ref/c/func/MCKey" target="_top">MCKey</a></code> to have the movie controller handle a keystroke.</p><a name="//apple_ref/doc/uid/TP40000919-6-BypassingtheMovieController" title="Bypassing the Movie Controller"></a><h2>Bypassing the Movie Controller</h2><p>It is possible to control a movie directly, without using an <code>HIMovieView</code>, a Carbon movie control, or a movie controller component. This is not recommended practice, however.</p><p>The low-level functions that allow you to work directly with movies can also be used when a movie controller of some sort is attached. This requires you to notify the controller that the movie has changed, and is also not recommended practice.</p><p>The low-level functions that work directly on movies are described in Appendix A, <span class="content_text"><a href="../7openplaymovies_appendix/AppendixA.html#//apple_ref/doc/uid/TP40000919-7-PlayingaMovieUsingLowLevelCommands">“Playing a Movie Using Low-Level Commands.”</a></span></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../5openplaymovies_loadstate/MonitoringtheLoadSta.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../7openplaymovies_appendix/AppendixA.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-08-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/RM/MovieBasics/MTOpenPlayMovies/6openplaymovies_playmovie/PlayingaMovie.html%3Fid%3DTP40000919-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/RM/MovieBasics/MTOpenPlayMovies/6openplaymovies_playmovie/PlayingaMovie.html%3Fid%3DTP40000919-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/RM/MovieBasics/MTOpenPlayMovies/6openplaymovies_playmovie/PlayingaMovie.html%3Fid%3DTP40000919-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>