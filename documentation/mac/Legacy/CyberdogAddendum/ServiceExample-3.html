<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Implementing Your Cyberdog Service Class</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING3></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="ServiceExample-2.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ServiceExample-1.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ServiceExample-7.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ServiceExample-4.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html"><B>Inside Macintosh:</B></A>  / <BR><DD><A HREF="ServiceExample-1.html"><B> Creating a Cyberdog Service</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING3-0></A>
<H1>Implementing Your Cyberdog Service Class</H1>
 To create a Cyberdog service, you can define a subclass of <CODE>CyberService</CODE> and create an object from your subclass or you can create a <A NAME=MARKER-2-11></A><CODE>SimpleCyberService</CODE> object and use it directly. You define the characteristics of a simple Cyberdog service in the Cyberdog service resource (<CODE>'srvc'</CODE>) for the service. You can use a <CODE>SimpleCyberService</CODE> object if you do not need to override methods defined by the <CODE>CyberService</CODE> class, such as methods related to Cyberdog service menus. <P>
 The Finger sample uses a <CODE>SimpleCyberService</CODE> object and its associated service resource to implement the Finger service. The following sections show how to set up the resource and how to respond to menu events for your service's items in the Cyberdog menu.<P>
<A NAME=HEADING3-3></A>
<H2><A NAME=MARKER-9-12></A>Defining Your Cyberdog Service Resource</H2>
 The Cyberdog service resource (<CODE>'srvc'</CODE>) allows you to specify a set of strings that describe your service, an icon suite for your service, and a set of strings that specify names for the Cyberdog menu items associated with your service. For more information, see the Types, Constants, and Global Functions chapter of the <I>Cyberdog Programmer's Kit</I> manual. <A HREF=#MARKER-9-14>Listing 1</A> shows the <CODE><A NAME=MARKER-2-13></A>'srvc'</CODE> resource of the Finger service.<P>
<B>Listing 1  <A NAME=MARKER-9-14></A>The <CODE>'srvc'</CODE> resource of the Finger service</B><P>
<PRE>
#include &quot;Types.r&quot;
#include &quot;Cyberdog.h&quot;
#include &quot;CyberService.r&quot;
#include &quot;FingerDef.h&quot;

resource 'srvc' (128, purgeable) 
   {
   128,  // resource id of 'STR#' resource for this service
         //       (required for CyberService)
   128,  // resource id of icon family for this service  
         //       (required for SimpleCyberService)
   129   // &quot;STR#' rsrc for menu item names of this service
         //       (0 if not supported)
         //       (required for SimpleCyberService)
   };

resource 'STR#' (128, purgeable) 
{{
   kFingerServiceClassName,   // [ 1] Service class name
   &quot;Finger&quot;,                  // [ 2] Service name
   &quot;finger&quot;,                  // [ 3] URL scheme      
   kFingerConnectPanelKind,   // [ 4] Connect part kind
   kFingerPrefsPanelKind,     // [ 5] Prefs part kind
   kFingerItemClassName,      // [ 6] Item class name
}};

resource 'STR#' (129, purgeable) 
{{
   &quot;Finger Beep&quot;,
}};
include &quot;FingerServiceIcons.rsrc&quot;;
</PRE>
 The following constants are defined in the resource:<P>
<PRE>
#define kFingerConnectPanelKind
            &quot;+//ISO 9070/ANSI::113722::US::
             CI LABS::Apple:Cyberdog:FingerSample:Kind:ConnectPanel&quot;             
#define kFingerPrefsPanelKind
            &quot;+//ISO 9070/ANSI::113722::US::
             CI LABS::Apple:Cyberdog:FingerSample:Kind:PrefsPanel&quot;               

#define kFingerItemClassName&quot;AppleCyberdog::FingerItem&quot;
#define kFingerServiceClassName &quot;AppleCyberdog::FingerService&quot;
</PRE>
<A NAME=HEADING3-9></A>
<H2>Responding to Selections of Menu Items</H2>
 <A NAME=MARKER-2-15></A>If your simple Cyberdog service places items in the Cyberdog menu, you must implement the <A NAME=MARKER-2-16></A><CODE>DoMenuItemSelected</CODE> method to handle the items when they are selected. The Finger service adds a single item to the Cyberdog menu, meaning its <CODE>DoMenuItemSelected</CODE> method handles item 0.<P>

</BLOCKQUOTE>
<HR>
<center>
<A HREF="ServiceExample-2.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="ServiceExample-1.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="ServiceExample-7.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="ServiceExample-4.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<P>
<FONT SIZE="-1">
<center><font size=-1><A HREF="ServiceExample-1A.html">&copy; Apple Computer, Inc.</A><br>1 JUNE 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML> 
