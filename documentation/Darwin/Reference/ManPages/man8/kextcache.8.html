<html><head><title>Mac OS X
 Manual Page For kextcache(8)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/8/kextcache" title="Mac OS X
 Manual Page for kextcache(8)"><!-- headerDoc=man; indexgroup=Section 8; uid="//apple_ref/doc/man/8/kextcache"; name=kextcache(8) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
KEXTCACHE(8)              BSD System Manager's Manual             KEXTCACHE(8)

<b>NAME</b>
     <b>kextcache</b> -- creates or updates kext caches

<b>SYNOPSIS</b>
     <b>kextcache</b> [<b>-a</b> <u>arch</u>] [<b>-c</b> <u>kernel</u><b>_</b><u>cache</u><b>_</b><u>filename</u>] [<b>-e</b>] [<b>-F</b>] [<b>-h</b>] [<b>-k</b>] [<b>-K</b> <u>kernel</u><b>_</b><u>filename</u>] [<b>-l</b> | <b>-L</b>]
               [<b>-m</b> <u>mkext</u><b>_</b><u>filename</u>] [<b>-n</b> | <b>-N</b>] [<b>-r</b>] [<b>-s</b> | <b>-S</b>] [<b>-t</b>] [<b>-v</b> [1-6]] [<b>-z</b>] [<u>kext</u><b>_</b><u>or</u><b>_</b><u>directory</u>] ...
     <b>kextcache</b> [<b>-v</b> [#]] [<b>-f</b>] <b>-u</b> <u>os</u><b>_</b><u>volume</u>
     <b>kextcache</b> [<b>-v</b> [#]] <b>-U</b> <u>os</u><b>_</b><u>volume</u>

<b>DESCRIPTION</b>
     The <b>kextcache</b> program creates or updates kext caches, which are used to speed up kext loading opera-<font color="#ffffff" class="whiteout">tions&nbsp;operations</font>
     tions and to prepare kexts for inclusion in such media as device ROM.  It is invoked automatically as
     needed to rebuild the system caches, and can be used manually to build kext archives to be stored in
     device ROM.

     NOTE: Kernel extension installers should not use this program to update caches.  Instead they should
     merely <a href="../man1/touch.1.html#//apple_ref/doc/man/1/touch">touch(1)</a> the /System/Library/Extensions directory after they have finished, which will cause the
     system to update all necessary kernel extension caches.

     There are three kinds of kext cache.  The first is the mkext cache, which contains the info dictionar-<font color="#ffffff" class="whiteout">ies&nbsp;dictionaries</font>
     ies and binary files for an arbitrary set of kexts.  Mkext caches are used during early system startup
     to load drivers essential to mounting the root filesystem and providing basic hardware services.
     They're also used to package drivers in device ROM.  To create an mkext cache use the <b>-m</b> option.

     The second type of cache is the kext repository cache, which contains the info dictionaries for all the
     kexts in a single repository directory, including their plugins, in a file with a .kextcache extension.
     A repository cache speeds the startup of tools such as <a href="kextload.8.html#//apple_ref/doc/man/8/kextload">kextload(8)</a> and <a href="kextd.8.html#//apple_ref/doc/man/8/kextd">kextd(8)</a>.  A repository cache
     must exist alongside its repository directory for the kext tools to find and use it.  The kext tools
     normally build or update repository caches as needed.  To create or update a kext repository cache use
     the <b>-k</b> option.

     The third type of cache is the kernel cache, which contains the kernel code, linked kext code, and info
     dictionaries for an arbitrary set of kexts. Having the kernel code and kexts already linked speeds the
     startup of tools such as <a href="kextload.8.html#//apple_ref/doc/man/8/kextload">kextload(8)</a> and <a href="kextd.8.html#//apple_ref/doc/man/8/kextd">kextd(8)</a>.  To create or update a kernel cache use the <b>-c</b>
     option.

     <b>kextcache</b> accepts these arguments and options:

     <u>kext</u><b>_</b><u>or</u><b>_</b><u>directory</u>
              A kext bundle or a repository directory containing kexts to add to the cache.  When using the
              <b>-m</b> option only, any number may be specified.  When using the <b>-k</b> option, only a single direc-<font color="#ffffff" class="whiteout">tory&nbsp;directory</font>
              tory may be named.

     <b>-a</b> <u>arch</u>  Include in an mkext archive only kexts whose executable files contain code for the given <u>arch</u>,
              stripping the binaries before inclusion.  If multiple <b>-a</b> options are used, a multi-architec-<font color="#ffffff" class="whiteout">ture&nbsp;multi-architecture</font>
              ture file will be created containing an embedded mkext archive for each of the specified
              architectures.

     <b>-c</b> <u>kernel</u><b>_</b><u>cache</u><b>_</b><u>filename</u>
              The name of the kernel cache file to create. If none is specified, a cache file is created in
              the /System/Library/Caches/com.apple.kernelcaches/ folder.

     <b>-e</b>       This option is a convenience to update the mkext cache for the /System/Library/Extensions
              folder.

     <b>-F</b>       Run in low-priority mode, as when forked and executed  by <a href="kextd.8.html#//apple_ref/doc/man/8/kextd">kextd(8)</a>.  (This used to actually
              fork, but no longer does, as kextd handles the forking.)

     <b>-f</b>       Used with <b>-u</b> to specify that all caches should be updated regardless of cached timestamp
              information.

     <b>-h</b>       Extended usage statement

     <b>-k</b>       Create or update the kext repository cache for any repository directories specified.

     <b>-K</b> <u>kernel</u><b>_</b><u>filename</u>
              The name of the kernel file to use as the base of a kernel cache file (default is /mach_ker-<font color="#ffffff" class="whiteout">nel).&nbsp;/mach_kernel).</font>
              nel).

     <b>-l</b>       Specifies that for directory arguments, only extensions required for local disk boot be
              included in an mkext cache.  Kexts explicitly named on the command line are included uncondi-<font color="#ffffff" class="whiteout">tionally;&nbsp;unconditionally;</font>
              tionally; to apply this restriction to all kexts, use the <b>-L</b> option.  May be combined with the
              <b>-n</b>, <b>-N</b>, <b>-s</b>, or <b>-S</b> options to archive network-root and safe boot extensions as well.

     <b>-L</b>       Specifies that only extensions required for local disk boot be included in an mkext cache.  To
              apply this restriction only to repository directories, use the <b>-l</b> option.  May be combined
              with the <b>-n</b>, <b>-N</b>, <b>-s</b>, or <b>-S</b> options to archive network-root and safe boot extensions as well.

     <b>-m</b> <u>mkext</u><b>_</b><u>filename</u>
              The name of the mkext cache file to create.

     <b>-n</b>       Specifies that for directory arguments, only extensions required for network boot be included
              in an mkext cache.  Kexts explicitly named on the command line are included unconditionally;
              to apply this restriction to all kexts, use the <b>-N</b> option.  May be combined with the <b>-l</b>, <b>-L</b>,
              <b>-s</b>, or <b>-S</b> options to archive local-root and safe boot extensions as well.

     <b>-N</b>       Specifies that only extensions required for network boot be included in an mkext cache.  To
              apply this restriction only to repository directories, use the <b>-n</b> option.  May be combined
              with the <b>-l</b>, <b>-L</b>, <b>-s</b>, or <b>-S</b> options to archive local-root and safe boot extensions as well.

     <b>-r</b>       Include all kexts that have been loaded by the machine running this command during this boot.
              This include kexts loaded and later unloaded.

     <b>-s</b>       Specifies that for directory arguments, only extensions required for safe boot be included in
              an mkext cache.  Kexts explicitly named on the command line are included unconditionally; to
              apply this restriction to all kexts, use the <b>-S</b> option.  May be combined with the <b>-l</b>, <b>-L</b>, <b>-n</b>,
              or <b>-N</b> options to archive local- and network-root extensions as well.

     <b>-S</b>       Specifies that only extensions required for safe boot be included in an mkext cache.  To apply
              this restriction only to repository directories, use the <b>-s</b> option.  May be combined with the
              <b>-l</b>, <b>-L</b>, <b>-n</b>, or <b>-N</b> options to archive local- and network-root extensions as well.

     <b>-t</b>       Perform all possible tests on the named <!-- a -->kext(s)<!-- /a --> and indicate whether the kext is loadable (and
              therefore eligible for inclusion in the cache), or if not, what problems it has.  Note that
              tests are performed in three stages, validation, authentication, and dependency resolution; a
              failure at any stage can make tests in further stages impossible.  Thus, a kext with valida-<font color="#ffffff" class="whiteout">tion&nbsp;validation</font>
              tion failures may have unreported authentication problems or missing dependencies.

     <b>-u</b> <u>os</u><b>_</b><u>volume</u>
              Update out of date caches and any helper partitions associated with <u>os</u><b>_</b><u>volume</u>.  The mkext is
              first checked and updated if needed (the updating sub-process will not inherit any verbose
              flags).  Then any modified files which belong in the helper partitions are updated.  If <b>-f</b> is
              also specified, all helper partition are fully updated regardless of whether the
              <u>com.apple.bootstamps</u> data suggests that they are up to date.  OS volumes without
              <u>/usr/standalone/bootcaches.plist</u> are ignored (success is returned).

     <b>-U</b> <u>os</u><b>_</b><u>volume</u>
              Similar to <b>-u</b>, except EX_OSFILE <a href="../man3/sysexits.3.html#//apple_ref/doc/man/3/sysexits">(sysexits(3)</a>) is returned after a helper partition update.
              Also, no locks are taken with <a href="kextd.8.html#//apple_ref/doc/man/8/kextd">kextd(8)</a>, which means that it is only useful for its primary
              purpose: determining during early boot whether updates and a reboot are needed to activate
              kernel software which has been installed but not yet copied to the helper partitions.

     <b>-v</b> [1-6]
              Verbose mode; print information about the kext scanning and loading process. Higher levels of
              verbosity include output from lower levels.  For the purposes of <b>kextcache</b>, levels higher than
              3 are not particularly relevant.  The levels of verbose output are these:

              1    prints basic kext scanning and archiving information

              2    prints basic compression information

              3    prints detailed kext scanning information, including warnings when a kext lacks architec-<font color="#ffffff" class="whiteout">tures&nbsp;architectures</font>
                   tures explicitly specified using <b>-a</b>; also uncompresses mkext cache entries to make sure
                   they do so without error

              4    prints basic information on every kext encountered

              5    prints detailed information on every kext encountered

              6    prints detailed load information (not applicable)

              A kext can also specify verbose printing for just itself using the OSBundleDebugLevel top-<font color="#ffffff" class="whiteout">level&nbsp;toplevel</font>
              level info dictionary property.  Its values are 1 and 2, for basic and detailed information,
              respectively.

     <b>-z</b>       Don't authenticate kexts.  This option is for convenience in building archive and cache files.
              Mkext archives and kext repository caches must have proper ownership (root:wheel) and permis-<font color="#ffffff" class="whiteout">sions&nbsp;permissions</font>
              sions (0644) in order to be used by the system.

     <b>--</b>       End of all options. Only kext or directory names follow.

<b>DIAGNOSTICS</b>
     <b>kextcache</b> exits with a zero status upon success.  Upon failure, it prints an error message and exits
     with a nonzero status.

<b>SEE</b> <b>ALSO</b>
     <a href="kextd.8.html#//apple_ref/doc/man/8/kextd">kextd(8)</a>, <a href="kextload.8.html#//apple_ref/doc/man/8/kextload">kextload(8)</a>, <a href="kextstat.8.html#//apple_ref/doc/man/8/kextstat">kextstat(8)</a>, <a href="kextunload.8.html#//apple_ref/doc/man/8/kextunload">kextunload(8)</a>

<b>BUGS</b>
     Upon encountering a kext with validation errors, <b>kextcache</b> typically prints an error message about that
     kext, even if it isn't involved in the cacheing request.

Darwin                           April 8, 2002                          Darwin
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man8/kextcache.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man8/kextcache.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man8/kextcache.8.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
