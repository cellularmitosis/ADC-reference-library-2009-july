<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime Movie Track and Media Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="QuickTime Movie Track and Media Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40003443-DontLinkChapterID_1" title="QuickTime Movie Track and Media Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/QuickTime/index.html#//apple_ref/doc/uid/TP30001281-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../../reference/QuickTime/idxMediaTypesMediaHandlers-date.html#//apple_ref/doc/uid/TP30001281-TP30000433-TP30000543" target="_top">Media Types &amp; Media Handlers</a> &gt; <a href="../index.html" target="_top">QuickTime Movie Track and Media Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../Rev_History/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40003443-DontLinkChapterID_1-DontLinkElementID_6" title="QuickTime Movie Track and Media Reference"></a><h1>QuickTime Movie Track and Media Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../QT_Framework_Ref/index.html#//apple_ref/doc/uid/TP40004374" target="_top">Frameworks</a>/QuickTime.framework</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">Movies.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40003443-CH201-DontLinkElementID_2" title="Overview"></a><h2>Overview</h2><p>Track and media management functions help with the construction and editing of QuickTime movies.</p>




<a name="//apple_ref/doc/uid/TP40003443-DontLinkChapterID_1-DontLinkElementID_3" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/TP40003443-CH1g-AddingSamplestoMediaStructures" title="Adding Samples to Media Structures"></a>
    
    <h3 class="tasks">Adding Samples to Media Structures</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddMediaSample">AddMediaSample</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds sample data and a description to a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddMediaSampleReference">AddMediaSampleReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Works with samples that have already been added to a movie data file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddMediaSampleReferences">AddMediaSampleReferences</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds groups of samples to a movie data file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/BeginMediaEdits">BeginMediaEdits</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Starts a media-editing session.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/EndMediaEdits">EndMediaEdits</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Ends a media-editing session.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaPreferredChunkSize">GetMediaPreferredChunkSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves the maximum chunk size for a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSample">GetMediaSample</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a sample from a movie data file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReference">GetMediaSampleReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains reference information about samples that are stored in a movie data file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReferences">GetMediaSampleReferences</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains reference information about groups of samples that are stored in a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaDefaultDataRefIndex">SetMediaDefaultDataRefIndex</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Specifies which of a media&#8217;s data references is to be accessed during an editing session.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaPreferredChunkSize">SetMediaPreferredChunkSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Specifies a maximum chunk size for a media.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-CreatingTracksandMediaStructures" title="Creating Tracks and Media Structures"></a>
    
    <h3 class="tasks">Creating Tracks and Media Structures</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DisposeMovieTrack">DisposeMovieTrack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a track from a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DisposeTrackMedia">DisposeTrackMedia</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a media from a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack">NewMovieTrack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new movie track, without a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia">NewTrackMedia</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a media for a new track.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-DeterminingMovieCreationandModificationTime" title="Determining Movie Creation and Modification Time"></a>
    
    <h3 class="tasks">Determining Movie Creation and Modification Time</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaCreationTime">GetMediaCreationTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the creation date and time stored in a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaModificationTime">GetMediaModificationTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a media&#8217;s modification date and time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackCreationTime">GetTrackCreationTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a track&#8217;s creation date and time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackModificationTime">GetTrackModificationTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a track&#8217;s modification date and time.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-DisablingMoviesandTracks" title="Disabling Movies and Tracks"></a>
    
    <h3 class="tasks">Disabling Movies and Tracks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackEnabled">GetTrackEnabled</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines whether a track is currently enabled.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackEnabled">SetTrackEnabled</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Enables or disables a track.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-EditingTracks" title="Editing Tracks"></a>
    
    <h3 class="tasks">Editing Tracks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddEmptyTrackToMovie">AddEmptyTrackToMovie</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Duplicates a track from a movie into the same movie or into another movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CopyTrackSettings">CopyTrackSettings</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Copies many settings from one track to another, overwriting the destination settings.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DeleteTrackSegment">DeleteTrackSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a specified segment from a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackEditRate">GetTrackEditRate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the rate of the track edit of a specified track at an indicated time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InsertEmptyTrackSegment">InsertEmptyTrackSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds an empty segment to a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InsertMediaIntoTrack">InsertMediaIntoTrack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Inserts a reference to a media segment into a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InsertTrackSegment">InsertTrackSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Copies data into a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ScaleTrackSegment">ScaleTrackSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Changes the duration of a segment of a track.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-EnhancingMoviePlaybackPerformance" title="Enhancing Movie Playback Performance"></a>
    
    <h3 class="tasks">Enhancing Movie Playback Performance</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaShadowSync">GetMediaShadowSync</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obsolete; no longer supported.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackDisplayMatrix">GetTrackDisplayMatrix</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a matrix that is the concatenation of all matrices currently affecting the track&#8217;s location, scaling, and so on, including the movie&#8217;s matrix, the track&#8217;s matrix, and the modifier matrix.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaShadowSync">SetMediaShadowSync</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obsolete; no longer supported.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-FindingandAddingSamples" title="Finding and Adding Samples"></a>
    
    <h3 class="tasks">Finding and Adding Samples</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddMediaSample2">AddMediaSample2</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds sample data and a description to a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ExtendMediaDecodeDurationToDisplayEndTime">ExtendMediaDecodeDurationToDisplayEndTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Prepares a media for the addition of a completely new sequence of samples by ensuring that the media display end time is not later than the media decode end time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaAdvanceDecodeTime">GetMediaAdvanceDecodeTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the advance decode time of a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDataSizeTime64">GetMediaDataSizeTime64</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the size, in bytes, of the sample data in a media segment.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDecodeDuration">GetMediaDecodeDuration</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the decode duration of a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDisplayDuration">GetMediaDisplayDuration</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the display duration of a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDisplayEndTime">GetMediaDisplayEndTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the display end time of a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDisplayStartTime">GetMediaDisplayStartTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the display start time of a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/MediaContainsDisplayOffsets">MediaContainsDisplayOffsets</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Tests whether a media contains display offsets.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/MediaDecodeTimeToSampleNum">MediaDecodeTimeToSampleNum</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Finds the sample for a specified decode time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/MediaDisplayTimeToSampleNum">MediaDisplayTimeToSampleNum</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Finds the sample number for a specified display time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TrackTimeToMediaDisplayTime">TrackTimeToMediaDisplayTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Converts a track&#8217;s time value to a display time value that is appropriate to the track&#8217;s media, using the track&#8217;s edit list.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-HighLevelMovieEditingFunctions" title="High-Level Movie Editing Functions"></a>
    
    <h3 class="tasks">High-Level Movie Editing Functions</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddMovieSelection">AddMovieSelection</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds one or more tracks to a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ClearMovieSelection">ClearMovieSelection</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes the segment of the movie that is defined by the current selection.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CopyMovieSelection">CopyMovieSelection</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new movie that contains the original movie&#8217;s current selection.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CutMovieSelection">CutMovieSelection</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new movie that contains the original movie&#8217;s current selection.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/IsScrapMovie">IsScrapMovie</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Checks the system scrap to find out if it can translate any of the data into a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/PasteHandleIntoMovie">PasteHandleIntoMovie</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Takes the contents of a specified handle, together with its type, and pastes it into a specified movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/PasteMovieSelection">PasteMovieSelection</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Places the tracks from one movie into another movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/PutMovieIntoTypedHandle">PutMovieIntoTypedHandle</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Takes a movie, or a single track from within that movie, and converts it into a handle of a specified type.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-LocatingaMoviesTracksandMediaStructures" title="Locating a Movie&#39;s Tracks and Media Structures"></a>
    
    <h3 class="tasks">Locating a Movie's Tracks and Media Structures</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaTrack">GetMediaTrack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the track that uses a specified media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMovieIndTrack">GetMovieIndTrack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the track identifier of a track, given the track&#8217;s index value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMovieIndTrackType">GetMovieIndTrackType</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Searches for all of a movie&#8217;s tracks that share a given media type or media characteristic.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack">GetMovieTrack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the track identifier of a track, given the track&#8217;s ID value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMovieTrackCount">GetMovieTrackCount</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the number of tracks in a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackID">GetTrackID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines a track&#8217;s unique track ID value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia">GetTrackMedia</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the media that contains a track&#8217;s sample data.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackMovie">GetTrackMovie</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the movie that contains a specified track.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-LowLevelMovieEditingFunctions" title="Low-Level Movie Editing Functions"></a>
    
    <h3 class="tasks">Low-Level Movie Editing Functions</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CopyMovieSettings">CopyMovieSettings</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Copies many settings from one movie to another, overwriting the destination settings in the process.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DeleteMovieSegment">DeleteMovieSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a specified segment from a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InsertEmptyMovieSegment">InsertEmptyMovieSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds an empty segment to a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/InsertMovieSegment">InsertMovieSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Copies part of one movie to another.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ScaleMovieSegment">ScaleMovieSegment</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Changes the duration of a segment of a movie.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-ManipulatingMediaInputMaps" title="Manipulating Media Input Maps"></a>
    
    <h3 class="tasks">Manipulating Media Input Maps</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaInputMap">GetMediaInputMap</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a copy of the input map associated with a specified media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaInputMap">SetMediaInputMap</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Replaces the media&#8217;s existing input map with a given input map.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-MovieFunctions" title="Movie Functions"></a>
    
    <h3 class="tasks">Movie Functions</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ConvertFileToMovieFile">ConvertFileToMovieFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Converts a file to a movie file and supports a user settings dialog box for import operations.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ConvertMovieToFile">ConvertMovieToFile</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Takes a specified movie (or a single track within that movie) and converts it into a specified file and type, supporting a Save As dialog box.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-MoviePostersandMoviePreviews" title="Movie Posters and Movie Previews"></a>
    
    <h3 class="tasks">Movie Posters and Movie Previews</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackUsage">GetTrackUsage</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines whether a track is used in a movie, its preview, its poster, or a combination of these.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackUsage">SetTrackUsage</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Specifies whether a track is used in a movie, its preview, its poster, or a combination of these.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-MoviesandYourEventLoop" title="Movies and Your Event Loop"></a>
    
    <h3 class="tasks">Movies and Your Event Loop</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/PtInMovie">PtInMovie</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines whether a specified point lies in the region defined by a movie&#8217;s final display boundary region after it has been clipped by the movie&#8217;s display clipping region.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/PtInTrack">PtInTrack</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines whether a specified point lies in the region defined by a track&#8217;s display boundary region after it has been clipped by the movie&#8217;s final display clipping region.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-SelectingMediaHandlers" title="Selecting Media Handlers"></a>
    
    <h3 class="tasks">Selecting Media Handlers</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetDataHandler">GetDataHandler</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves the best data handler component to use with a given data reference.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDataHandler">GetMediaDataHandler</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines a media&#8217;s data handler.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDataHandlerDescription">GetMediaDataHandlerDescription</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves information about a media&#8217;s data handler.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaHandler">GetMediaHandler</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains a reference to a media handler component.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaHandlerDescription">GetMediaHandlerDescription</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves information about a media handler.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaDataHandler">SetMediaDataHandler</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Assigns a data handler to a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaHandler">SetMediaHandler</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Assigns a specific media handler to a track.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-UndoforMovies" title="Undo for Movies"></a>
    
    <h3 class="tasks">Undo for Movies</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DisposeMovieEditState">DisposeMovieEditState</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Disposes of an edit state.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/NewMovieEditState">NewMovieEditState</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates an edit state.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/UseMovieEditState">UseMovieEditState</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a movie to the condition determined by an edit state created previously.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-UndoforTracks" title="Undo for Tracks"></a>
    
    <h3 class="tasks">Undo for Tracks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DisposeTrackEditState">DisposeTrackEditState</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Disposes of a movie&#8217;s track edit state.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/NewTrackEditState">NewTrackEditState</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new edit state for a given track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/UseTrackEditState">UseTrackEditState</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a track to the condition determined by an edit state created previously.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithAlternateTracks" title="Working With Alternate Tracks"></a>
    
    <h3 class="tasks">Working With Alternate Tracks</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaLanguage">GetMediaLanguage</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a media&#8217;s localized language or region code.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaQuality">GetMediaQuality</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a media&#8217;s quality level value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackAlternate">GetTrackAlternate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines all the tracks in an alternate group.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SelectMovieAlternates">SelectMovieAlternates</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Instructs the Movie Toolbox to select appropriate tracks immediately.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetAutoTrackAlternatesEnabled">SetAutoTrackAlternatesEnabled</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Enables or disables automatic track selection by the Movie Toolbox.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaLanguage">SetMediaLanguage</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a media&#8217;s localized language or region code.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaQuality">SetMediaQuality</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a media&#8217;s quality level value.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackAlternate">SetTrackAlternate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds tracks to, or remove tracks from, alternate groups.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithMediaSamples" title="Working With Media Samples"></a>
    
    <h3 class="tasks">Working With Media Samples</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDataSize">GetMediaDataSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the size, in bytes, of the sample data in a media segment.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleCount">GetMediaSampleCount</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the number of samples in a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleDescription">GetMediaSampleDescription</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves a SampleDescription structure from a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleDescriptionCount">GetMediaSampleDescriptionCount</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the number of sample descriptions in a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMovieDataSize">GetMovieDataSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the size of the sample data in a segment of a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackDataSize">GetTrackDataSize</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the size, in bytes, of the sample data in a segment of a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/MediaTimeToSampleNum">MediaTimeToSampleNum</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Lets you find the sample that contains the data for a specified time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SampleNumToMediaTime">SampleNumToMediaTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Finds the time at which a specified sample plays.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaSampleDescription">SetMediaSampleDescription</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Changes the contents of a particular SampleDescription structure of a specified media.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithMediaTime" title="Working With Media Time"></a>
    
    <h3 class="tasks">Working With Media Time</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDuration">GetMediaDuration</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the duration of a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaTimeScale">GetMediaTimeScale</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines a media&#8217;s time scale.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetMediaTimeScale">SetMediaTimeScale</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a media&#8217;s time scale.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithMovieSpatialCharacteristics" title="Working With Movie Spatial Characteristics"></a>
    
    <h3 class="tasks">Working With Movie Spatial Characteristics</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackDimensions">GetTrackDimensions</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines a track&#8217;s source rectangle.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackLayer">GetTrackLayer</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves a track&#8217;s layer.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackMatrix">GetTrackMatrix</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves a track&#8217;s transformation matrix.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackDimensions">SetTrackDimensions</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Establishes a track&#8217;s source rectangle.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackLayer">SetTrackLayer</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a track&#8217;s layer.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackMatrix">SetTrackMatrix</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Establishes a track&#8217;s transformation matrix.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithQuickTimeSampleTables" title="Working With QuickTime Sample Tables"></a>
    
    <h3 class="tasks">Working With QuickTime Sample Tables</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddSampleTableToMedia">AddSampleTableToMedia</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a sample table to a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CopyMediaMutableSampleTable">CopyMediaMutableSampleTable</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains information about sample references in a media in the form of a sample table.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithSoundVolume" title="Working With Sound Volume"></a>
    
    <h3 class="tasks">Working With Sound Volume</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackVolume">GetTrackVolume</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a track&#8217;s current volume setting.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackVolume">SetTrackVolume</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets a track&#8217;s current volume.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithTrackReferences" title="Working With Track References"></a>
    
    <h3 class="tasks">Working With Track References</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddTrackReference">AddTrackReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a new track reference to a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/DeleteTrackReference">DeleteTrackReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Removes a track reference from a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetNextTrackReferenceType">GetNextTrackReferenceType</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines all of the track reference types that are defined for a given track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackReference">GetTrackReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves the track identifier contained in an existing track reference.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackReferenceCount">GetTrackReferenceCount</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines how many track references of a given type exist for a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackReference">SetTrackReference</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Modifies an existing track reference.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithTrackSound" title="Working With Track Sound"></a>
    
    <h3 class="tasks">Working With Track Sound</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackSoundLocalizationSettings">GetTrackSoundLocalizationSettings</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a handle to a copy of the current 3D sound settings for a specified track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackSoundLocalizationSettings">SetTrackSoundLocalizationSettings</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Applies 3D sound effect data to a track.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithTrackTime" title="Working With Track Time"></a>
    
    <h3 class="tasks">Working With Track Time</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackDuration">GetTrackDuration</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the duration of a track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackOffset">GetTrackOffset</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Determines the time difference between the start of a track and the start of the movie that contains the track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SetTrackOffset">SetTrackOffset</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Modifies the duration of the empty space that lies at the beginning of a track, thus changing the duration of the entire track.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/TrackTimeToMediaTime">TrackTimeToMediaTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Converts a track&#8217;s time value to a time value that is appropriate to the track&#8217;s media, using the track&#8217;s edit list.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-WorkingWithUserData" title="Working With User Data"></a>
    
    <h3 class="tasks">Working With User Data</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaUserData">GetMediaUserData</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains access to a media&#8217;s user data list.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackUserData">GetTrackUserData</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Obtains access to a track&#8217;s user data list.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/TP40003443-CH1g-SupportingFunctions" title="Supporting Functions"></a>
    
    <h3 class="tasks">Supporting Functions</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddClonedTrackToMovie">AddClonedTrackToMovie</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Constructs a clone of an existing track in a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddMediaSampleFromEncodedFrame">AddMediaSampleFromEncodedFrame</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds sample data and description from an encoded frame to a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/AddMediaSampleReferences64">AddMediaSampleReferences64</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Provides a 64-bit version of AddMediaSampleReferences.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ConvertDataRefToMovieDataRef">ConvertDataRefToMovieDataRef</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Converts a piece of data in a storage location to a movie file format and stores it in another storage location, supporting a user settings dialog box for import operations.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/ConvertMovieToDataRef">ConvertMovieToDataRef</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Converts a specified movie (or a single track within a movie) into a specified file format and stores it in a specified storage location.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaDataSize64">GetMediaDataSize64</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Provides a 64-bit version of GetMediaDataSize.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSample2">GetMediaSample2</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves sample data from a media file.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReferences64">GetMediaSampleReferences64</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Provides a 64-bit version of GetMediaSampleReferences.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMediaSyncSampleCount">GetMediaSyncSampleCount</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the number of sync samples in a media.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMovieDataSize64">GetMovieDataSize64</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Provides a 64-bit version of GetMovieDataSize.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetMovieImporterForDataRef">GetMovieImporterForDataRef</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Gets the movie importer component for a movie.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackDataSize64">GetTrackDataSize64</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Provides a 64-bit version of GetTrackDataSize.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/GetTrackEditRate64">GetTrackEditRate64</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the rate of the track edit of a specified track at an indicated time.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/OpenADataHandler">OpenADataHandler</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a data handler component.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/QTGetMIMETypeInfo">QTGetMIMETypeInfo</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Retrieves information about a particular MIME type.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SampleNumToMediaDecodeTime">SampleNumToMediaDecodeTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Finds the decode time for a specified sample.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/SampleNumToMediaDisplayTime">SampleNumToMediaDisplayTime</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Finds the display time for a specified sample.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/TP40003443-CH1g-Functions" title="Functions"></a>
<h2>Functions</h2>










































































































































































































<a name="//apple_ref/c/func/AddClonedTrackToMovie" title="AddClonedTrackToMovie"></a><a name="//apple_ref/doc/c_ref/AddClonedTrackToMovie" title="AddClonedTrackToMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddClonedTrackToMovie" title="AddClonedTrackToMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_20"></a><h3 class="tight">AddClonedTrackToMovie</h3>
<p class="spaceabove">Constructs a clone of an existing track in a movie.</p>
<p class="spaceabove"><pre>
OSErr AddClonedTrackToMovie (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> srcTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> dstMovie,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> *dstTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>sourceTrack</em></dt>
<dd><p>Indicates the track to be cloned. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>. This is the source of the sample table once the cloned track is constructed.</p></dd>
<dt><em>destinationMovie</em></dt>
<dd><p>Indicates the movie where the cloned track should be created. Your application obtains this identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>. Currently, this must be the movie that contains the source track.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Flags (see below) that determine how cloning should be performed. You currently must pass <code>kQTCloneShareSamples</code>. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->kQTCloneShareSamples<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->kQTCloneDontCopyEdits<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>dstTrack</em></dt>
<dd><p>The address of storage where a reference to the newly constructed track is returned. If the function fails, this storage is set to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Special Considerations</h5><p>Most QuickTime developers should never need to call this function.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 5.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddEmptyTrackToMovie" title="AddEmptyTrackToMovie"></a><a name="//apple_ref/doc/c_ref/AddEmptyTrackToMovie" title="AddEmptyTrackToMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddEmptyTrackToMovie" title="AddEmptyTrackToMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_21"></a><h3 class="tight">AddEmptyTrackToMovie</h3>
<p class="spaceabove">Duplicates a track from a movie into the same movie or into another movie.</p>
<p class="spaceabove"><pre>
OSErr AddEmptyTrackToMovie (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> srcTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> dstMovie,
   <!--a-->Handle<!--/a--> dataRef,
   <!--a-->OSType<!--/a--> dataRefType,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> *dstTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>srcTrack</em></dt>
<dd><p>The source track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>dstMovie</em></dt>
<dd><p>The destination movie for this operation. This can be the same movie as the source track or a different movie.</p></dd>
<dt><em>dataRef</em></dt>
<dd><p>A handle to the <code>data</code> reference. The type of information stored in the handle depends upon the <code>data</code> reference type specified by <code>dataRefType</code>.</p></dd>
<dt><em>dataRefType</em></dt>
<dd><p>The type of data reference; see <code><!--a target="_top" -->Data References<!--/a--></code>. If the data reference is an alias, you must set the parameter to <code>rAliasType</code>, indicating that the reference is an alias.</p></dd>
<dt><em>dstTrack</em></dt>
<dd><p>The newly created track's identifier is returned in this parameter. If <code>AddEmptyTrackToMovie</code> fails, the resulting track identifier is set to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function returns a newly created, empty track. The newly created track has the same media type and track settings as the specified track. However, no data is copied from the source track to the new track. To copy data from the source track to the new track, use <code><a href="reference.html#//apple_ref/c/func/InsertTrackSegment" target="_self">InsertTrackSegment</a></code> after calling <code>AddEmptyTrackToMovie</code>.</p>
<h5 class="tight">Version Notes</h5><p>This function has been available since QuickTime 2.0.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/bMoviePaletteCocoa/index.html#//apple_ref/doc/uid/DTS10000379" target="_top">bMoviePaletteCocoa</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtdataref/index.html#//apple_ref/doc/uid/DTS10000779" target="_top">qtdataref</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtdataref.win/index.html#//apple_ref/doc/uid/DTS10000780" target="_top">qtdataref.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ThreadsImporter/index.html#//apple_ref/doc/uid/DTS10003146" target="_top">ThreadsImporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ThreadsImportMovie/index.html#//apple_ref/doc/uid/DTS10003224" target="_top">ThreadsImportMovie</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddMediaSample" title="AddMediaSample"></a><a name="//apple_ref/doc/c_ref/AddMediaSample" title="AddMediaSample"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddMediaSample" title="AddMediaSample"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_22"></a><h3 class="tight">AddMediaSample</h3>
<p class="spaceabove">Adds sample data and a description to a media.</p>
<p class="spaceabove"><pre>
OSErr AddMediaSample (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->Handle<!--/a--> dataIn,
   long inOffset,
   unsigned long size,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> durationPerSample,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long numberOfSamples,
   short sampleFlags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>dataIn</em></dt>
<dd><p>A handle to the sample data. The <code>AddMediaSample</code> function adds this data to the media specified by the parameter <code>theMedia</code>. You specify the number of bytes of sample data with the <code>size</code> parameter. You can use the <code>inOffset</code> parameter to specify a byte offset into the data referred to by this handle.</p></dd>
<dt><em>inOffset</em></dt>
<dd><p>Specifies an offset into the data referred to by the handle contained in the <code>dataIn</code> parameter. Set this parameter to 0 if there is no offset.</p></dd>
<dt><em>size</em></dt>
<dd><p>The number of bytes of sample data to be added to the <code>media</code>. This parameter indicates the total number of bytes in the sample data to be added to the media, not the number of bytes per sample. Use the <code>numberOfSamples</code> parameter to indicate the number of samples that are contained in the sample data.</p></dd>
<dt><em>durationPerSample</em></dt>
<dd><p>The duration of each sample to be added. You must specify this parameter in the media's time scale. For example, if you are adding sound that was sampled at 22 kHz to a media that contains a sound track with the same time scale, you would set <code>durationPerSample</code> to 1. Similarly, if you are adding video that was recorded at 10 frames per second to a video media that has a time scale of 600, you would set this parameter to 60 to add a single sample.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. Some media structures may require sample descriptions. There are different descriptions for different types of samples. For example, a media that contains compressed video requires that you supply an <code><!--a target="_top" -->ImageDescription<!--/a--></code> structure. A media that contains sound requires that you supply a <code><!--a target="_top" -->SoundDescription<!--/a--></code> structure. If the media does not require a <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>The number of samples contained in the sample data to be added to the media. The Movie Toolbox considers the <code>value</code> of this parameter as well as the value of the <code>size</code> parameter when it determines the size of each sample that it adds to the media. You should set the <code>value</code> of this parameter so that the resulting sample size represents a reasonable compromise between total data retrieval time and the overhead associated with input and output (I/O). You should also consider the speed of the data storage device; CD-ROM devices are much slower than hard disks, for example, and should therefore have a smaller sample size. For a video media, set a sample size that corresponds to the size of a frame. For a sound media, choose a number of samples that corresponds to between 0.5 and 1.0 seconds of sound. In general, you should not create groups of sound samples that are less than 2 KB in size or greater than 15 KB. Typically, a sample size of about 8 KB is reasonable for most storage devices.</p></dd>
<dt><em>sampleFlags</em></dt>
<dd><p>Contains flags (see below) that control the add operation. Set unused flags to 0. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. After adding the sample data to the media, the <code>AddMediaSample</code> function returns the time where the sample was inserted in the time value referred to by this parameter. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Your application specifies the sample and the media for the operation. <code>AddMediaSample</code> updates the media so that it contains the sample data. One call to this function can add several samples to a media; however, all the samples must be the same size. Samples are always appended to the end of the media. Furthermore, the media duration is extended each time a sample is added.</p>
<div class="codesample"><table><tr><td scope="row"><pre>// AddMediaSample coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 250<span></span></pre></td></tr><tr><td scope="row"><pre>#define kSoundSampleDuration    1<span></span></pre></td></tr><tr><td scope="row"><pre>#define kSyncSample             0<span></span></pre></td></tr><tr><td scope="row"><pre>#define kTrackStart             0<span></span></pre></td></tr><tr><td scope="row"><pre>#define kMediaStart             0<span></span></pre></td></tr><tr><td scope="row"><pre>#define kFix1                   0x00010000<span></span></pre></td></tr><tr><td scope="row"><pre>void CreateMySoundTrack (Movie movie)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    Track                       track;<span></span></pre></td></tr><tr><td scope="row"><pre>    Media                       media;<span></span></pre></td></tr><tr><td scope="row"><pre>    Handle                      hSound =NIL;<span></span></pre></td></tr><tr><td scope="row"><pre>    SoundDescriptionHandle      hSoundDesc =NIL;<span></span></pre></td></tr><tr><td scope="row"><pre>    long                        lDataOffset;<span></span></pre></td></tr><tr><td scope="row"><pre>    long                        lDataSize;<span></span></pre></td></tr><tr><td scope="row"><pre>    long                        lNumSamples;<span></span></pre></td></tr><tr><td scope="row"><pre>    hSound =GetResource(soundListRsrc, 128);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (hSound ==NIL)<span></span></pre></td></tr><tr><td scope="row"><pre>        return;<span></span></pre></td></tr><tr><td scope="row"><pre>    hSoundDesc =(SoundDescriptionHandle)NewHandle(4);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CreateMySoundDescription(hSound,<span></span></pre></td></tr><tr><td scope="row"><pre>                            hSoundDesc,<span></span></pre></td></tr><tr><td scope="row"><pre>                            &#38;lDataOffset,<span></span></pre></td></tr><tr><td scope="row"><pre>                            &#38;lNumSamples,<span></span></pre></td></tr><tr><td scope="row"><pre>                            &#38;lDataSize);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    track =NewMovieTrack(movie, 0, 0, kFullVolume);<span></span></pre></td></tr><tr><td scope="row"><pre>    media =NewTrackMedia(track, SoundMediaType,<span></span></pre></td></tr><tr><td scope="row"><pre>                                FixRound((**hSoundDesc).sampleRate),<span></span></pre></td></tr><tr><td scope="row"><pre>                                NIL, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>    BeginMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    AddMediaSample(media,<span></span></pre></td></tr><tr><td scope="row"><pre>                    hSound,<span></span></pre></td></tr><tr><td scope="row"><pre>                    lDataOffset,        // offset in data<span></span></pre></td></tr><tr><td scope="row"><pre>                    lDataSize,<span></span></pre></td></tr><tr><td scope="row"><pre>                    kSoundSampleDuration,   // duration of each sound<span></span></pre></td></tr><tr><td scope="row"><pre>                                            //  sample<span></span></pre></td></tr><tr><td scope="row"><pre>                    (SampleDescriptionHandle)hSoundDesc,<span></span></pre></td></tr><tr><td scope="row"><pre>                    lNumSamples,<span></span></pre></td></tr><tr><td scope="row"><pre>                    kSyncSample,        // self-contained samples<span></span></pre></td></tr><tr><td scope="row"><pre>                    NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    EndMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    InsertMediaIntoTrack(track,<span></span></pre></td></tr><tr><td scope="row"><pre>                            kTrackStart,    // track start time<span></span></pre></td></tr><tr><td scope="row"><pre>                            kMediaStart,    // media start time<span></span></pre></td></tr><tr><td scope="row"><pre>                            GetMediaDuration(media),<span></span></pre></td></tr><tr><td scope="row"><pre>                            kFix1);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (hSoundDesc !=NIL)<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeHandle((Handle)hSoundDesc);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddMediaSample2" title="AddMediaSample2"></a><a name="//apple_ref/doc/c_ref/AddMediaSample2" title="AddMediaSample2"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddMediaSample2" title="AddMediaSample2"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_23"></a><h3 class="tight">AddMediaSample2</h3>
<p class="spaceabove">Adds sample data and a description to a media.</p>
<p class="spaceabove"><pre>
OSErr AddMediaSample2 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   const UInt8 *dataIn,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> size,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> decodeDurationPerSample,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> displayOffset,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> numberOfSamples,
   <!--a-->MediaSampleFlags<!--/a--> sampleFlags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeTimeOut
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>dataIn</em></dt>
<dd><p>A handle to the sample data. The function adds this data to the media specified by <code>theMedia</code>. You specify the number of bytes of sample data with the <code>size</code> parameter.</p></dd>
<dt><em>size</em></dt>
<dd><p>The number of bytes of sample data to be added to the <code>media</code>. This parameter indicates the total number of bytes in the sample data to be added to the media, not the number of bytes per sample. Use the <code>numberOfSamples</code> parameter to indicate the number of samples that are contained in the sample data.</p></dd>
<dt><em>decodeDurationPerSample</em></dt>
<dd><p>The duration of each sample to be added, representing the amount of time that passes while the sample data is being displayed. You must specify this parameter in the media's time scale. For example, if you are adding sound that was sampled at 22 kHz to a media that contains a sound track with the same time scale, you would set <code>durationPerSample</code> to 1. Similarly, if you are adding video that was recorded at 10 frames per second to a video media that has a time scale of 600, you would set this parameter to 60. Note that this is the duration per sample, regardless of the number of samples being added.</p></dd>
<dt><em>displayOffset</em></dt>
<dd><p>A 64-bit time value that specifies the offset between the decode time (the start time of the track plus the duration of all previous samples) and the display time. This value is normally zero unless the sample is frame reordering compressed video.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. Some media structures may require sample descriptions. There are different descriptions for different types of samples. For example, a media that contains compressed video requires that you supply an <code><!--a target="_top" -->ImageDescription<!--/a--></code> structure. A media that contains sound requires that you supply a <code><!--a target="_top" -->SoundDescription<!--/a--></code> structure. If the media does not require a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>The number of samples contained in the sample data to be added to the media. The Movie Toolbox considers the <code>value</code> of this parameter as well as the value of the <code>size</code> parameter when it determines the size of each sample that it adds to the media. You should set the <code>value</code> of this parameter so that the resulting sample size represents a reasonable compromise between total data retrieval time and the overhead associated with input and output. You should also consider the speed of the data storage device; CD-ROM devices are much slower than hard disks, for example, and should therefore have a smaller sample size. For a video media, set a sample size that corresponds to the size of a frame. For a sound media, choose a number of samples that corresponds to between 0.5 and 1.0 seconds of sound. In general, you should not create groups of sound samples that are less than 2 KB in size or greater than 15 KB. Typically, a sample size of about 8 KB is reasonable for most storage devices.</p></dd>
<dt><em>sampleFlags</em></dt>
<dd><p>Flags that control the add operation; set unused flags to 0: <code>mediaSampleNotSync</code> Indicates that the sample to be added is not a sync sample. Set this flag to 1 if the sample is not a sync sample; set it to 0 if the sample is a sync sample. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>sampleDecodeTimeOut</em></dt>
<dd><p>A pointer to a time value that represents the sample decode time. After adding the sample data to the media, the function returns in this parameter the time where the sample was inserted. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>An error code. Returns <code>noErr</code> if there is no error. You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result.</p>
<h5 class="tight">Discussion</h5>
<p>Your application specifies the sample and the media for the operation. This function updates the media so that it contains the sample data. One call to this function can add several samples to a media. This function replaces <code><a href="reference.html#//apple_ref/c/func/AddMediaSample" target="_self">AddMediaSample</a></code>; it adds 64-bit support and support for frame reordering video compression (display offset).</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CaptureAndCompressIPBMovie/index.html#//apple_ref/doc/uid/DTS10003598" target="_top">CaptureAndCompressIPBMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTExtractAndConvertToMovieFile/index.html#//apple_ref/doc/uid/DTS10004106" target="_top">QTExtractAndConvertToMovieFile</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/scaudiocompress/index.html#//apple_ref/doc/uid/DTS10003962" target="_top">SCAudioCompress</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddMediaSampleFromEncodedFrame" title="AddMediaSampleFromEncodedFrame"></a><a name="//apple_ref/doc/c_ref/AddMediaSampleFromEncodedFrame" title="AddMediaSampleFromEncodedFrame"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddMediaSampleFromEncodedFrame" title="AddMediaSampleFromEncodedFrame"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_24"></a><h3 class="tight">AddMediaSampleFromEncodedFrame</h3>
<p class="spaceabove">Adds sample data and description from an encoded frame to a media.</p>
<p class="spaceabove"><pre>
OSErr AddMediaSampleFromEncodedFrame (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->ICMEncodedFrameRef<!--/a--> encodedFrame,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeTimeOut
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code></p></dd>
<dt><em>encodedFrame</em></dt>
<dd><p>An encoded frame token returned by an <code>ICMCompressionSequence</code>.</p></dd>
<dt><em>sampleDecodeTimeOut</em></dt>
<dd><p>A pointer to a time value. After adding the sample data to the media, the function returns the decode time where the first sample was inserted in the time value referred to by this parameter. If you don't want to receive this information, set this parameter to NULL.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>An error code. Returns <code>noErr</code> if there is no error. You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result.</p>
<h5 class="tight">Discussion</h5>
<p>This is a convenience API to make it easy to add frames emitted by new ICM compression functions to media. It can return these errors:</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/OpenGLScreenCapture/index.html#//apple_ref/doc/uid/DTS10004445" target="_top">OpenGLCaptureToMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QuartzComposer_WWDC_QCTV/index.html#//apple_ref/doc/uid/DTS10003708" target="_top">Quartz Composer QCTV</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddMediaSampleReference" title="AddMediaSampleReference"></a><a name="//apple_ref/doc/c_ref/AddMediaSampleReference" title="AddMediaSampleReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddMediaSampleReference" title="AddMediaSampleReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_25"></a><h3 class="tight">AddMediaSampleReference</h3>
<p class="spaceabove">Works with samples that have already been added to a movie data file.</p>
<p class="spaceabove"><pre>
OSErr AddMediaSampleReference (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long dataOffset,
   unsigned long size,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> durationPerSample,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long numberOfSamples,
   short sampleFlags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>dataOffset</em></dt>
<dd><p>The offset into the movie data file. This parameter is used differently by each data handler. For example, for the standard HFS data handler, this parameter specifies the offset into the file. This parameter contains either data you add yourself or the data offset returned by <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReference" target="_self">GetMediaSampleReference</a></code>.</p></dd>
<dt><em>size</em></dt>
<dd><p>The number of bytes of sample data to be identified by the reference. This parameter indicates the total number of bytes in the sample data, not the number of bytes per sample. Use <code>numberOfSamples</code> to indicate the number of samples that are contained in the reference.</p></dd>
<dt><em>durationPerSample</em></dt>
<dd><p>The duration of each sample in the reference. You must specify this parameter in the media's time scale. For example, if you are referring to sound that was sampled at 22 kHz in a media that contains a sound track with the same time scale, to add a reference to a single sample you would set <code>durationPerSample</code> to 1. Similarly, if you are referring to video that was recorded at 10 frames per second in a video media that has a time scale of 60, you would set this parameter to 6 to add a reference to a single sample.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. Some media structures may require sample descriptions. There are different descriptions for different types of samples. For example, a media that contains compressed video requires that you supply an <code><!--a target="_top" -->ImageDescription<!--/a--></code> structure. A media that contains sound requires that you supply a sound description structure. If the media does not require a <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>The number of samples contained in the reference. For details, see <code><a href="reference.html#//apple_ref/c/func/AddMediaSample" target="_self">AddMediaSample</a></code>. If the media does not require a <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleFlags</em></dt>
<dd><p>Contains flags (see below) that control the operation. Set unused flags to 0. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. After adding the reference to the media, the <code>AddMediaSampleReference</code> function returns the time where the reference was inserted in the time value referred to by this parameter. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function does not add sample data to the file or device that contains a media. Rather, it defines references to sample data that you previously added to a movie data file. Instead of actually writing out samples to disk, this function writes out references to existing samples, which you specify in <code>dataOffset</code> and the <code>size</code> parameter. As with <code><a href="reference.html#//apple_ref/c/func/AddMediaSample" target="_self">AddMediaSample</a></code>, your application specifies the media for the operation. Note that one reference may refer to more than one sample; all the samples described by a reference must be the same size. This function does not update the movie data file as part of the add operation. Therefore, your application does not have to call <code><a href="reference.html#//apple_ref/c/func/BeginMediaEdits" target="_self">BeginMediaEdits</a></code> before calling <code>AddMediaSampleReference</code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AlwaysPreview/index.html#//apple_ref/doc/uid/DTS10000761" target="_top">AlwaysPreview</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qt3dtween/index.html#//apple_ref/doc/uid/DTS10000849" target="_top">qt3dtween</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qt3dtween.win/index.html#//apple_ref/doc/uid/DTS10000850" target="_top">qt3dtween.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter/index.html#//apple_ref/doc/uid/DTS10000901" target="_top">SlideShowImporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter.win/index.html#//apple_ref/doc/uid/DTS10000902" target="_top">SlideShowImporter.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddMediaSampleReferences" title="AddMediaSampleReferences"></a><a name="//apple_ref/doc/c_ref/AddMediaSampleReferences" title="AddMediaSampleReferences"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddMediaSampleReferences" title="AddMediaSampleReferences"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_26"></a><h3 class="tight">AddMediaSampleReferences</h3>
<p class="spaceabove">Adds groups of samples to a movie data file.</p>
<p class="spaceabove"><pre>
OSErr AddMediaSampleReferences (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long numberOfSamples,
   <a href="reference.html#//apple_ref/doc/c_ref/SampleReferencePtr">SampleReferencePtr</a> sampleRefs,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. Some media structures may require sample descriptions. There are different descriptions for different types of samples. For example, a media that contains compressed video requires that you supply an <code><!--a target="_top" -->ImageDescription<!--/a--></code> structure. A media that contains sound requires that you supply a sound description structure. If you don't want the <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>The number of <code><!--a target="_top" -->SampleReferenceRecord<!--/a--></code> structures pointed to by the <code>sampleRefs</code> parameter. Each structure may contain one or more contiguous samples. For details, see <code><a href="reference.html#//apple_ref/c/func/AddMediaSample" target="_self">AddMediaSample</a></code>.</p></dd>
<dt><em>sampleRefs</em></dt>
<dd><p>A pointer to the number of <code><!--a target="_top" -->SampleReferenceRecord<!--/a--></code> structures specified by the <code>numberOfSamples</code> parameter.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. After adding the reference to the media, the <code>AddMediaSampleReferences</code> function returns the time where the reference was inserted, using the time scale referred to by this parameter. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Using this function instead of <code><a href="reference.html#//apple_ref/c/func/AddMediaSampleReference" target="_self">AddMediaSampleReference</a></code> can greatly improve the performance of operations that involve adding a large number of samples to a movie at one time. <code>AddMediaSampleReferences</code> provides no capabilities that weren't previously available with <code>AddMediaSampleReference</code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddMediaSampleReferences64" title="AddMediaSampleReferences64"></a><a name="//apple_ref/doc/c_ref/AddMediaSampleReferences64" title="AddMediaSampleReferences64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddMediaSampleReferences64" title="AddMediaSampleReferences64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_27"></a><h3 class="tight">AddMediaSampleReferences64</h3>
<p class="spaceabove">Provides a 64-bit version of AddMediaSampleReferences.</p>
<p class="spaceabove"><pre>
OSErr AddMediaSampleReferences64 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long numberOfSamples,
   <a href="reference.html#//apple_ref/doc/c_ref/SampleReference64Ptr">SampleReference64Ptr</a> sampleRefs,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. Some media structures may require sample descriptions. There are different descriptions for different types of samples. For example, a media that contains compressed video requires that you supply an <code><!--a target="_top" -->ImageDescription<!--/a--></code> structure. A media that contains sound requires that you supply a sound description structure. If you don't want the <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>The number of <code><!--a target="_top" -->SampleReference64Record<!--/a--></code> structures pointed to by the <code>sampleRefs</code> parameter. Each structure may contain one or more contiguous samples. For details, see <code><a href="reference.html#//apple_ref/c/func/AddMediaSample" target="_self">AddMediaSample</a></code>.</p></dd>
<dt><em>sampleRefs</em></dt>
<dd><p>A pointer to the number of <code><!--a target="_top" -->SampleReference64Record<!--/a--></code> structures specified by the <code>numberOfSamples</code> parameter.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. After adding the reference to the media, the <code>AddMediaSampleReferences</code> function returns the time where the reference was inserted, using the time scale referred to by this parameter. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The only difference between this function and <code><a href="reference.html#//apple_ref/c/func/AddMediaSampleReferences" target="_self">AddMediaSampleReferences</a></code> is that the <code>sampleRefs</code> parameter points to SampleReference64Record structures instead of <code>SampleReferenceRecord</code> structures.</p>
<h5 class="tight">Special Considerations</h5><p>New applications should use this function instead of the 32-bit version.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 4.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CreateMovieFromReferences/index.html#//apple_ref/doc/uid/DTS10004432" target="_top">CreateMovieFromReferences</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddMovieSelection" title="AddMovieSelection"></a><a name="//apple_ref/doc/c_ref/AddMovieSelection" title="AddMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddMovieSelection" title="AddMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_28"></a><h3 class="tight">AddMovieSelection</h3>
<p class="spaceabove">Adds one or more tracks to a movie.</p>
<p class="spaceabove"><pre>
void AddMovieSelection (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> src
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The destination movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>src</em></dt>
<dd><p>The source movie for this operation. <code>AddMovieSelection</code> adds the tracks from this movie to the destination movie. The function adds these tracks at the time specified by the current selection in the destination movie.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function scales the source movie so that it fits into the destination selection. If the current selection in the destination movie has a 0 duration, the Movie Toolbox adds the segment at the beginning of the current selection. The entire source movie is used regardless of the selection in the source movie. The Movie Toolbox removes any empty tracks from the destination movie after the add operation. If you have assigned a progress function to the destination movie, the Movie Toolbox calls that progress function during long add operations. Following is an example of using this function:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// AddMovieSelection coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 363<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie1;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue       lOldDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long            lIndex, lOrigTrackCount, lReferenceIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>Track           track, trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the first track in original movie and position at the start<span></span></pre></td></tr><tr><td scope="row"><pre>trackSprite =GetMovieIndTrack(movie1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieSelection(movie1, 0, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>// remove all tracks except video in modifier movie<span></span></pre></td></tr><tr><td scope="row"><pre>for (lIndex =1; lIndex &#60;=GetMovieTrackCount(movie2); lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    Track       track =GetMovieIndTrack(movie2, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType      dwType;<span></span></pre></td></tr><tr><td scope="row"><pre>    GetMediaHandlerDescription(GetTrackMedia(track),<span></span></pre></td></tr><tr><td scope="row"><pre>                                &#38;dwType, NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (dwType !=VideoMediaType) {<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeMovieTrack(track);<span></span></pre></td></tr><tr><td scope="row"><pre>        lIndex--;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// add the modifier track to original movie<span></span></pre></td></tr><tr><td scope="row"><pre>lOldDuration =GetMovieDuration(movie1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddMovieSelection(movie1, movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovie(movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>// truncate the movie to the length of the original track<span></span></pre></td></tr><tr><td scope="row"><pre>DeleteMovieSegment(movie1, lOldDuration,<span></span></pre></td></tr><tr><td scope="row"><pre>                    GetMovieDuration(movie1) - lOldDuration);<span></span></pre></td></tr><tr><td scope="row"><pre>// associate the modifier track with the original sprite track<span></span></pre></td></tr><tr><td scope="row"><pre>track =GetMovieIndTrack(movie1, lOrigTrackCount + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddTrackReference(trackSprite, track, kTrackModifierReference,<span></span></pre></td></tr><tr><td scope="row"><pre>                    &#38;lReferenceIndex);<span></span></pre></td></tr></table></div>
<h5 class="tight">Special Considerations</h5><p>Some Movie Toolbox functions can take a long time to execute. For example, if you call <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/FlattenMovie" target="_top">FlattenMovie</a></code> and specify a large movie, the Movie Toolbox must read and write all the sample data for the movie. During such operations you may wish to display some kind of progress indicator to the user. A progress function is an application-defined function that you can create to track the progress of time-consuming activities and keep the user informed. </p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter/index.html#//apple_ref/doc/uid/DTS10000901" target="_top">SlideShowImporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter.win/index.html#//apple_ref/doc/uid/DTS10000902" target="_top">SlideShowImporter.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddSampleTableToMedia" title="AddSampleTableToMedia"></a><a name="//apple_ref/doc/c_ref/AddSampleTableToMedia" title="AddSampleTableToMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddSampleTableToMedia" title="AddSampleTableToMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_29"></a><h3 class="tight">AddSampleTableToMedia</h3>
<p class="spaceabove">Adds a sample table to a media.</p>
<p class="spaceabove"><pre>
OSErr AddSampleTableToMedia (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->QTSampleTableRef<!--/a--> sampleTable,
   <!--a-->SInt64<!--/a--> startSampleNum,
   <!--a-->SInt64<!--/a--> numberOfSamples,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeTimeOut
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>sampleTable</em></dt>
<dd><p>A reference to an opaque sample table object containing sample references to be added to the media.</p></dd>
<dt><em>startSampleNum</em></dt>
<dd><p>The sample number of the first sample reference in the sample table to be added to the media. The first sample's number is 1.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>The number of sample references from the sample table to be added to the media.</p></dd>
<dt><em>sampleDecodeTimeOut</em></dt>
<dd><p>A pointer to a time value. After adding the sample references to the media, the function returns the decode time where the first sample was inserted in the time value referred to by this parameter. If you don't want to receive this information, set this parameter to NULL.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>An error code. Returns <code>noErr</code> if there is no error. You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result.</p>
<h5 class="tight">Discussion</h5>
<p>This function can return these errors:</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/AddTrackReference" title="AddTrackReference"></a><a name="//apple_ref/doc/c_ref/AddTrackReference" title="AddTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-AddTrackReference" title="AddTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_30"></a><h3 class="tight">AddTrackReference</h3>
<p class="spaceabove">Adds a new track reference to a track.</p>
<p class="spaceabove"><pre>
OSErr AddTrackReference (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> refTrack,
   <!--a-->OSType<!--/a--> refType,
   long *addedIndex
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>refTrack</em></dt>
<dd><p>The track to be identified in the track reference.</p></dd>
<dt><em>refType</em></dt>
<dd><p>The type of reference.</p></dd>
<dt><em>addedIndex</em></dt>
<dd><p>A pointer to a long integer. The toolbox returns the index value assigned to the new track reference. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The following code snippet shows how <code>AddTrackReference</code> can be used to add a modifier track reference to a sprite track.</p>
<div class="codesample"><table><tr><td scope="row"><pre>// AddTrackReference coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 363<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie1;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue       lOldDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long            lIndex, lOrigTrackCount, lReferenceIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>Track           track, trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the first track in original movie and position at the start<span></span></pre></td></tr><tr><td scope="row"><pre>trackSprite =GetMovieIndTrack(movie1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieSelection(movie1, 0, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>// remove all tracks except video in modifier movie<span></span></pre></td></tr><tr><td scope="row"><pre>for (lIndex =1; lIndex &#60;=GetMovieTrackCount(movie2); lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    Track       track =GetMovieIndTrack(movie2, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType      dwType;<span></span></pre></td></tr><tr><td scope="row"><pre>    GetMediaHandlerDescription(GetTrackMedia(track),<span></span></pre></td></tr><tr><td scope="row"><pre>                                &#38;dwType, NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (dwType !=VideoMediaType) {<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeMovieTrack(track);<span></span></pre></td></tr><tr><td scope="row"><pre>        lIndex--;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// add the modifier track to original movie<span></span></pre></td></tr><tr><td scope="row"><pre>lOldDuration =GetMovieDuration(movie1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddMovieSelection(movie1, movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovie(movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>// truncate the movie to the length of the original track<span></span></pre></td></tr><tr><td scope="row"><pre>DeleteMovieSegment(movie1, lOldDuration,<span></span></pre></td></tr><tr><td scope="row"><pre>                    GetMovieDuration(movie1) - lOldDuration);<span></span></pre></td></tr><tr><td scope="row"><pre>// associate the modifier track with the original sprite track<span></span></pre></td></tr><tr><td scope="row"><pre>track =GetMovieIndTrack(movie1, lOrigTrackCount + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddTrackReference(trackSprite, track, kTrackModifierReference,<span></span></pre></td></tr><tr><td scope="row"><pre>                    &#38;lReferenceIndex);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/samplemakeeffectmovie/index.html#//apple_ref/doc/uid/DTS10000840" target="_top">samplemakeeffectmovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/samplemakeeffectmovie.win/index.html#//apple_ref/doc/uid/DTS10000841" target="_top">samplemakeeffectmovie.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/BeginMediaEdits" title="BeginMediaEdits"></a><a name="//apple_ref/doc/c_ref/BeginMediaEdits" title="BeginMediaEdits"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-BeginMediaEdits" title="BeginMediaEdits"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_31"></a><h3 class="tight">BeginMediaEdits</h3>
<p class="spaceabove">Starts a media-editing session.</p>
<p class="spaceabove"><pre>
OSErr BeginMediaEdits (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Use <code><a href="reference.html#//apple_ref/c/func/EndMediaEdits" target="_self">EndMediaEdits</a></code> to end a media-editing session. You must call <code>BeginMediaEdits</code> before you add samples to a media with the <code><a href="reference.html#//apple_ref/c/func/AddMediaSample" target="_self">AddMediaSample</a></code> function. You must also call <code>BeginMediaEdits</code> before calling <code><a href="reference.html#//apple_ref/c/func/InsertTrackSegment" target="_self">InsertTrackSegment</a></code> if you wish <code>InsertTrackSegment</code> to copy media samples instead of copying the segment by reference.</p>
<div class="codesample"><table><tr><td scope="row"><pre>// BeginMediaEdits coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 89<span></span></pre></td></tr><tr><td scope="row"><pre>void CreateMyVideoTrack (Movie movie)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    Track   track;<span></span></pre></td></tr><tr><td scope="row"><pre>    Media   media;<span></span></pre></td></tr><tr><td scope="row"><pre>    Rect    rect ={0, 0, 100, 320};<span></span></pre></td></tr><tr><td scope="row"><pre>    track =NewMovieTrack(movie,<span></span></pre></td></tr><tr><td scope="row"><pre>                FixRatio(rect.right, 1),<span></span></pre></td></tr><tr><td scope="row"><pre>                FixRatio(rect.bottom, 1),<span></span></pre></td></tr><tr><td scope="row"><pre>                kNoVolume);<span></span></pre></td></tr><tr><td scope="row"><pre>    media =NewTrackMedia(track,<span></span></pre></td></tr><tr><td scope="row"><pre>                VideoMediaType,<span></span></pre></td></tr><tr><td scope="row"><pre>                600,                            // video time scale<span></span></pre></td></tr><tr><td scope="row"><pre>                NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    BeginMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    MyAddVideoSamplesToMedia(media, &#38;rect);     // assemble data<span></span></pre></td></tr><tr><td scope="row"><pre>    EndMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    InsertMediaIntoTrack(track,<span></span></pre></td></tr><tr><td scope="row"><pre>                0,                              // track start time<span></span></pre></td></tr><tr><td scope="row"><pre>                0,                              // media start time<span></span></pre></td></tr><tr><td scope="row"><pre>                GetMediaDuration(media),<span></span></pre></td></tr><tr><td scope="row"><pre>                kFix1);                         // normal speed<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ClearMovieSelection" title="ClearMovieSelection"></a><a name="//apple_ref/doc/c_ref/ClearMovieSelection" title="ClearMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ClearMovieSelection" title="ClearMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_32"></a><h3 class="tight">ClearMovieSelection</h3>
<p class="spaceabove">Removes the segment of the movie that is defined by the current selection.</p>
<p class="spaceabove"><pre>
void ClearMovieSelection (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ConvertDataRefToMovieDataRef" title="ConvertDataRefToMovieDataRef"></a><a name="//apple_ref/doc/c_ref/ConvertDataRefToMovieDataRef" title="ConvertDataRefToMovieDataRef"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ConvertDataRefToMovieDataRef" title="ConvertDataRefToMovieDataRef"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_33"></a><h3 class="tight">ConvertDataRefToMovieDataRef</h3>
<p class="spaceabove">Converts a piece of data in a storage location to a movie file format and stores it in another storage location, supporting a user settings dialog box for import operations.</p>
<p class="spaceabove"><pre>
OSErr ConvertDataRefToMovieDataRef (
   <!--a-->Handle<!--/a--> inputDataRef,
   <!--a-->OSType<!--/a--> inputDataRefType,
   <!--a-->Handle<!--/a--> outputDataRef,
   <!--a-->OSType<!--/a--> outputDataRefType,
   <!--a-->OSType<!--/a--> creator,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> userComp,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/MovieProgressUPP" target="_top">MovieProgressUPP</a> proc,
   long refCon
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inputDataRef</em></dt>
<dd><p>A data reference that specifies the storage location of the source data.</p></dd>
<dt><em>inputDataRefType</em></dt>
<dd><p>The type of the input data reference.</p></dd>
<dt><em>outputDataRef</em></dt>
<dd><p>A data reference that specified the storage location to receive the converted data.</p></dd>
<dt><em>outputDataRefType</em></dt>
<dd><p>The type of the output data reference.</p></dd>
<dt><em>creator</em></dt>
<dd><p>The creator type of the output storage location.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Flags (see below) that control the operation of the dialog box. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->createMovieFileDeleteCurFile<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieToFileOnlyExport<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieFileSpecValid<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->showUserSettingsDialog<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>userComp</em></dt>
<dd><p>An instance of a component to be used for converting the movie data.</p></dd>
<dt><em>proc</em></dt>
<dd><p>A progress callback function; see <code>MovieProgressProc</code> in the QuickTime API Reference.</p></dd>
<dt><em>refCon</em></dt>
<dd><p>A reference constant to be passed to your callback. Use this parameter to point to a data structure containing any information your function needs.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code> in the QuickTime API Reference. Returns <code>noErr</code> if there is no error.</p>
<h5 class="tight">Discussion</h5>
<p>This function converts a piece of data in a storage location into a movie and stores into another storage location. Both the input and the output storage locations are specified through data references. If the storage location is on a local file system, the file will have the specified creator. If specified as such in the flags, the function displays a dialog box that lets the user to choose the  output file and the export type. If an export component (or its instance) is specified in <code>userComp</code>, it will be used for the conversion operation.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 6.4.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ConvertFileToMovieFile" title="ConvertFileToMovieFile"></a><a name="//apple_ref/doc/c_ref/ConvertFileToMovieFile" title="ConvertFileToMovieFile"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ConvertFileToMovieFile" title="ConvertFileToMovieFile"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_34"></a><h3 class="tight">ConvertFileToMovieFile</h3>
<p class="spaceabove">Converts a file to a movie file and supports a user settings dialog box for import operations.</p>
<p class="spaceabove"><pre>
OSErr ConvertFileToMovieFile (
   const <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *inputFile,
   const <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *outputFile,
   <!--a-->OSType<!--/a--> creator,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> scriptTag,
   short *resID,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> userComp,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/MovieProgressUPP" target="_top">MovieProgressUPP</a> proc,
   long refCon
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inputFile</em></dt>
<dd><p>A pointer to the file system specification for the file to be converted into a movie file.</p></dd>
<dt><em>outputFile</em></dt>
<dd><p>A pointer to the file specification for the destination movie file.</p></dd>
<dt><em>creator</em></dt>
<dd><p>The creator value for the file if it is a new one.</p></dd>
<dt><em>scriptTag</em></dt>
<dd><p>The script in which the movie file should be converted. Use the Script Manager constant <code>smSystemScript</code> to use the system script; use the <code>smCurrentScript</code> constant to use the current script. See <em>Inside Macintosh: Text</em> for more information about scripts and script tags.</p></dd>
<dt><em>resID</em></dt>
<dd><p>A pointer to a field that is to receive the resource ID of the file to be converted. If you don't want to receive the resource ID, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Contains flags (see below) that control movie file conversion and determine whether or not the user settings dialog box appears. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->createMovieFileDeleteCurFile<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieToFileOnlyExport<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieFileSpecValid<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->showUserSettingsDialog<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>userComp</em></dt>
<dd><p>Indicates a component or component instance of the movie export component you want to perform the conversion. Otherwise, set this parameter to 0 for the Movie Toolbox to choose the appropriate component. If you pass in a component instance, it will be used by <code>ConvertFileToMovieFile</code>. This allows you to communicate directly with the component before using this function to establish any conversion parameters. If you pass in a component ID, an instance is created and closed within this function.</p></dd>
<dt><em>proc</em></dt>
<dd><p>Points to your progress callback. To remove a movie's progress function, set this parameter to <code>NIL</code>. Set this parameter to -1 for the Movie Toolbox to provide a default progress function. See <code><!--a target="_top" -->MovieProgressProc<!--/a--></code> for the interface your progress callback must support.</p></dd>
<dt><em>refCon</em></dt>
<dd><p>A reference constant to be passed to your callback. Use this parameter to point to a data structure containing any information your function needs.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Use this function to specify an input file and convert it to a movie file. Because some conversions may take a nontrivial amount of time, you can pass a standard movie progress function in the <code>proc</code> and <code>refCon</code> parameters.</p>
<h5 class="tight">Special Considerations</h5><p>Once you are finished working with a movie, you should release the resources used by the movie by calling <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/DisposeMovie" target="_top">DisposeMovie</a></code>. </p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ImportExportMovie/index.html#//apple_ref/doc/uid/DTS10000891" target="_top">ImportExportMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtdataexchange/index.html#//apple_ref/doc/uid/DTS10000893" target="_top">qtdataexchange</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtdataexchange.win/index.html#//apple_ref/doc/uid/DTS10000894" target="_top">qtdataexchange.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ConvertMovieToDataRef" title="ConvertMovieToDataRef"></a><a name="//apple_ref/doc/c_ref/ConvertMovieToDataRef" title="ConvertMovieToDataRef"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ConvertMovieToDataRef" title="ConvertMovieToDataRef"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_35"></a><h3 class="tight">ConvertMovieToDataRef</h3>
<p class="spaceabove">Converts a specified movie (or a single track within a movie) into a specified file format and stores it in a specified storage location.</p>
<p class="spaceabove"><pre>
OSErr ConvertMovieToDataRef (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> m,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> onlyTrack,
   <!--a-->Handle<!--/a--> dataRef,
   <!--a-->OSType<!--/a--> dataRefType,
   <!--a-->OSType<!--/a--> fileType,
   <!--a-->OSType<!--/a--> creator,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> userComp
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code>NewMovie</code>, <code>NewMovieFromFile</code>, and <code>NewMovieFromHandle</code>.</p></dd>
<dt><em>onlyTrack</em></dt>
<dd><p>The track in the source movie, if you want to convert only a single track.</p></dd>
<dt><em>dataRef</em></dt>
<dd><p>A data reference that specifies the storage location to receive the converted movie data.</p></dd>
<dt><em>dataRefType</em></dt>
<dd><p>The type of data reference. This function currently supports only alias data references.</p></dd>
<dt><em>fileType</em></dt>
<dd><p>The Mac OS file type of the storage location, which determines the export format.</p></dd>
<dt><em>creator</em></dt>
<dd><p>The creator type of the storage location.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Flags (see below) that control the operation of the dialog box. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->showUserSettingsDialog<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieToFileOnlyExport<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieFileSpecValid<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>userComp</em></dt>
<dd><p>An instance of the component to be used for converting the movie data.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code> in the QuickTime API Reference. Returns <code>noErr</code> if there is no error.</p>
<h5 class="tight">Discussion</h5>
<p>If the storage location is on a local file system, the file will have the specified file type and the creator. If specified as such in the flags, the function displays a dialog box that lets the user choose the  output file and the export type. If an export component (or its instance) is specified in the <code>userComp</code> parameter, it will be used to perform the conversion operation.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 6.4.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BackgroundExporter/index.html#//apple_ref/doc/uid/DTS10003356" target="_top">BackgroundExporter</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ConvertMovieToFile" title="ConvertMovieToFile"></a><a name="//apple_ref/doc/c_ref/ConvertMovieToFile" title="ConvertMovieToFile"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ConvertMovieToFile" title="ConvertMovieToFile"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_36"></a><h3 class="tight">ConvertMovieToFile</h3>
<p class="spaceabove">Takes a specified movie (or a single track within that movie) and converts it into a specified file and type, supporting a Save As dialog box.</p>
<p class="spaceabove"><pre>
OSErr ConvertMovieToFile (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> onlyTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *outputFile,
   <!--a-->OSType<!--/a--> fileType,
   <!--a-->OSType<!--/a--> creator,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ScriptCode" target="_top">ScriptCode</a> scriptTag,
   short *resID,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> userComp
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The source movie for this conversion operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>onlyTrack</em></dt>
<dd><p>The track within the source movie for this conversion operation. To specify all tracks, set the <code>value</code> of this parameter to 0.</p></dd>
<dt><em>outputFile</em></dt>
<dd><p>A pointer to the file specification for the destination file.</p></dd>
<dt><em>fileType</em></dt>
<dd><p>The data type of the destination file for the movie specified in the parameter <code>theMovie</code>.</p></dd>
<dt><em>creator</em></dt>
<dd><p>The creator value for the output file if it is a new one.</p></dd>
<dt><em>scriptTag</em></dt>
<dd><p>The script into which the movie should be converted if the output file is a new one. Use the Script Manager constant <code>smSystemScript</code> to use the system script; use the <code>smCurrentScript</code> constant to use the current script. See <em>Inside Macintosh: Text</em> for more information about scripts and script tags.</p></dd>
<dt><em>resID</em></dt>
<dd><p>A pointer to a field that is to receive the resource ID of the open movie. If you don't want to receive this information, set the <code>resID</code> parameter to <code>NIL</code>.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Contains flags (see below) that control whether and how the Save As dialog box appears. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->showUserSettingsDialog<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieToFileOnlyExport<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieFileSpecValid<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>userComp</em></dt>
<dd><p>If you want a particular movie export component to perform the conversion, you may pass the component or an instance of that component in this parameter. Otherwise, set it to 0 to allow the Movie Toolbox to use the appropriate component. If you pass in a component instance, it is used by <code>ConvertMovieToFile</code>. This allows you to communicate directly with the component before making this call to establish any conversion parameters. If you pass in a component ID, an instance is created and closed within this call.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Your application controls whether a Save As dialog box appears by setting the value of the <code>flags</code> parameter. The dialog box lets the user specify the file name and type. Supported types include standard QuickTime movies, flattened movies, single-fork flattened movies, and any format that is supported by a movie data export component. The following code snippets show how to call <code>ConvertMovieToFile</code> to provide a simple export capability and how to save a sound-only QuickTime movie as a WAV file.</p>
<div class="codesample"><table><tr><td scope="row"><pre>// Providing an export capability with ConvertMovieToFile<span></span></pre></td></tr><tr><td scope="row"><pre>err =ConvertMovieToFile (theMovie,     /* identifies movie */<span></span></pre></td></tr><tr><td scope="row"><pre>                    NIL,                /* all tracks */<span></span></pre></td></tr><tr><td scope="row"><pre>                    NIL,                /* no output file */<span></span></pre></td></tr><tr><td scope="row"><pre>                    0,                  /* no file type */<span></span></pre></td></tr><tr><td scope="row"><pre>                    0,                  /* no creator */<span></span></pre></td></tr><tr><td scope="row"><pre>                    -1,                 /* script */<span></span></pre></td></tr><tr><td scope="row"><pre>                    NIL,                /* no resource ID */<span></span></pre></td></tr><tr><td scope="row"><pre>                    createMovieFileDeleteCurFile |<span></span></pre></td></tr><tr><td scope="row"><pre>                        showUserSettingsDialog |<span></span></pre></td></tr><tr><td scope="row"><pre>                        movieToFileOnlyExport,<span></span></pre></td></tr><tr><td scope="row"><pre>                    0);                 /* no specific component */<span></span></pre></td></tr><tr><td scope="row"><pre>// Saving a sound-only QuickTime movie as a WAVE file<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 257<span></span></pre></td></tr><tr><td scope="row"><pre>void SndSnip_SaveSoundMovieAsWAVEFile (Movie theMovie)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    StandardFileReply   myReply;<span></span></pre></td></tr><tr><td scope="row"><pre>    // have the user select the name and location of the new WAVE file<span></span></pre></td></tr><tr><td scope="row"><pre>    StandardPutFile("\pSave sound movie file as:",<span></span></pre></td></tr><tr><td scope="row"><pre>                                           "\pUntitled.wav", &#38;myReply);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (!myReply.sfGood)<span></span></pre></td></tr><tr><td scope="row"><pre>        return;<span></span></pre></td></tr><tr><td scope="row"><pre>    // use the default progress procedure, if any<span></span></pre></td></tr><tr><td scope="row"><pre>    SetMovieProgressProc(theMovie, (MovieProgressUPP)-1L, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>    // export the movie into a file<span></span></pre></td></tr><tr><td scope="row"><pre>    ConvertMovieToFile( theMovie,               // the movie to convert<span></span></pre></td></tr><tr><td scope="row"><pre>                        NIL,                   // all tracks in the movie<span></span></pre></td></tr><tr><td scope="row"><pre>                        &#38;myReply.sfFile,        // the output file<span></span></pre></td></tr><tr><td scope="row"><pre>                        kQTFileTypeWave,        // the output file type<span></span></pre></td></tr><tr><td scope="row"><pre>                        FOUR_CHAR_CODE('TVOD'), // the output file creator<span></span></pre></td></tr><tr><td scope="row"><pre>                        smSystemScript,         // the script<span></span></pre></td></tr><tr><td scope="row"><pre>                        NIL,                   // no resource ID<span></span></pre></td></tr><tr><td scope="row"><pre>                                                //   to be returned<span></span></pre></td></tr><tr><td scope="row"><pre>                        0L,                     // no flags<span></span></pre></td></tr><tr><td scope="row"><pre>                        NIL);                  // no specific component<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ImportExportMovie/index.html#//apple_ref/doc/uid/DTS10000891" target="_top">ImportExportMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieToAIFF/index.html#//apple_ref/doc/uid/DTS10000910" target="_top">MovieToAIFF</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtdataexchange/index.html#//apple_ref/doc/uid/DTS10000893" target="_top">qtdataexchange</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/soundsnippets/index.html#//apple_ref/doc/uid/DTS10000924" target="_top">soundsnippets</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/soundsnippets.win/index.html#//apple_ref/doc/uid/DTS10000925" target="_top">soundsnippets.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/CopyMediaMutableSampleTable" title="CopyMediaMutableSampleTable"></a><a name="//apple_ref/doc/c_ref/CopyMediaMutableSampleTable" title="CopyMediaMutableSampleTable"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-CopyMediaMutableSampleTable" title="CopyMediaMutableSampleTable"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_37"></a><h3 class="tight">CopyMediaMutableSampleTable</h3>
<p class="spaceabove">Obtains information about sample references in a media in the form of a sample table.</p>
<p class="spaceabove"><pre>
OSErr CopyMediaMutableSampleTable (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> startDecodeTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleStartDecodeTime,
   <!--a-->SInt64<!--/a--> maxNumberOfSamples,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> maxDecodeDuration,
   <!--a-->QTMutableSampleTableRef<!--/a--> *sampleTableOut
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>startDecodeTime</em></dt>
<dd><p>A 64-bit time value that represents the starting decode time of the sample references to be retrieved. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleStartDecodeTime</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the actual decode time of the first returned sample reference. If you are not interested in this information, set this parameter to NULL. The returned time may differ from the time you specified with the <code>startDecodeTime</code> parameter. This will occur if the time you specified falls in the middle of a sample.</p></dd>
<dt><em>maxNumberOfSamples</em></dt>
<dd><p>A 64-bit signed integer that contains the maximum number of sample references to be returned. If you set this parameter to 0, the Movie Toolbox uses a value that is appropriate to the media.</p></dd>
<dt><em>maxDecodeDuration</em></dt>
<dd><p>A 64-bit time value that represents the maximum decode duration to be returned. The function does not return samples with greater decode duration than you specify with this parameter. If you set this parameter to 0, the Movie Toolbox uses a value that is appropriate for the media.</p></dd>
<dt><em>sampleTableOut</em></dt>
<dd><p>A reference to an opaque sample table object. When you are done with the returned sample table, release it with <code><a href="../../QTRef_MovieProperties/Reference/reference.html#//apple_ref/c/func/QTSampleTableRelease" target="_top">QTSampleTableRelease</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>An error code. Returns <code>memFullErr</code> if it could not allocate memory, <code>paramErr</code> if there was an invalid parameter, or <code>noErr</code> if there is no error. You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result.</p>
<h5 class="tight">Discussion</h5>
<p>To find out how many samples were returned in the sample table, call <code><a href="../../QTRef_MovieProperties/Reference/reference.html#//apple_ref/c/func/QTSampleTableGetNumberOfSamples" target="_top">QTSampleTableGetNumberOfSamples</a></code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/CopyMovieSelection" title="CopyMovieSelection"></a><a name="//apple_ref/doc/c_ref/CopyMovieSelection" title="CopyMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-CopyMovieSelection" title="CopyMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_38"></a><h3 class="tight">CopyMovieSelection</h3>
<p class="spaceabove">Creates a new movie that contains the original movie's current selection.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> CopyMovieSelection (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The source movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The new movie.</p>
<h5 class="tight">Discussion</h5>
<p>This function creates a new movie from the source movie's current selection, but does not change the source movie or the selection. If you have assigned a progress function to the source movie, the Movie Toolbox calls that progress function during long copy operations.</p>
<h5 class="tight">Special Considerations</h5><p>Your application must dispose of the new movie once you are done with it, using <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/DisposeMovie" target="_top">DisposeMovie</a></code>. </p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/CopyMovieSettings" title="CopyMovieSettings"></a><a name="//apple_ref/doc/c_ref/CopyMovieSettings" title="CopyMovieSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-CopyMovieSettings" title="CopyMovieSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_39"></a><h3 class="tight">CopyMovieSettings</h3>
<p class="spaceabove">Copies many settings from one movie to another, overwriting the destination settings in the process.</p>
<p class="spaceabove"><pre>
OSErr CopyMovieSettings (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> srcMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> dstMovie
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>srcMovie</em></dt>
<dd><p>The source movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>dstMovie</em></dt>
<dd><p>The destination movie for this operation. The <code>CopyMovieSettings</code> function uses the settings from the source movie, which is specified by the <code>srcMovie</code> parameter, to replace the current settings of this movie.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Use this function to copy certain important settings from one movie to another. It copies the preferred rate and volume, source clipping region, matrix information, and user data; it does not copy the movie's contents. To work with movie contents, you should use segment editing functions.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ConvertToMovieJr/index.html#//apple_ref/doc/uid/DTS10000886" target="_top">ConvertToMovieJr</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/samplemakeeffectmovie/index.html#//apple_ref/doc/uid/DTS10000840" target="_top">samplemakeeffectmovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/samplemakeeffectmovie.win/index.html#//apple_ref/doc/uid/DTS10000841" target="_top">samplemakeeffectmovie.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/CopyTrackSettings" title="CopyTrackSettings"></a><a name="//apple_ref/doc/c_ref/CopyTrackSettings" title="CopyTrackSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-CopyTrackSettings" title="CopyTrackSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_40"></a><h3 class="tight">CopyTrackSettings</h3>
<p class="spaceabove">Copies many settings from one track to another, overwriting the destination settings.</p>
<p class="spaceabove"><pre>
OSErr CopyTrackSettings (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> srcTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> dstTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>srcTrack</em></dt>
<dd><p>The source track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>dstTrack</em></dt>
<dd><p>The destination track for this operation. The <code>CopyTrackSettings</code> function uses the settings from the source track, which you specify with the <code>srcTrack</code> parameter, to replace the current settings of this track.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function copies matrix information, track volume, the clipping region, user data, matte information, media language, quality, user data, and other media-specific settings (such as sound balance and video graphics mode). It does not copy any alternate group information pertaining to the track. This function does not copy the track's contents. To work with track contents, you should use segment-editing functions.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtaddeffectseg.win/index.html#//apple_ref/doc/uid/DTS10000832" target="_top">qtaddeffectseg.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtstreamsplicer.win/index.html#//apple_ref/doc/uid/DTS10001056" target="_top">qtstreamsplicer.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/CutMovieSelection" title="CutMovieSelection"></a><a name="//apple_ref/doc/c_ref/CutMovieSelection" title="CutMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-CutMovieSelection" title="CutMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_41"></a><h3 class="tight">CutMovieSelection</h3>
<p class="spaceabove">Creates a new movie that contains the original movie's current selection.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> CutMovieSelection (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The source movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The newly created movie.</p>
<h5 class="tight">Discussion</h5>
<p>This function removes the current selection from the original movie and makes the selection into a new movie. After the current selection has been removed from the original movie, the duration of the current selection is 0. The starting time of the current selection is not affected. If you have assigned a progress function to the source movie, the Movie Toolbox calls that progress function during long cut operations.</p>
<h5 class="tight">Special Considerations</h5><p>Your application must dispose of the new movie once you are done with it, using <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/DisposeMovie" target="_top">DisposeMovie</a></code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/DeleteMovieSegment" title="DeleteMovieSegment"></a><a name="//apple_ref/doc/c_ref/DeleteMovieSegment" title="DeleteMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DeleteMovieSegment" title="DeleteMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_42"></a><h3 class="tight">DeleteMovieSegment</h3>
<p class="spaceabove">Removes a specified segment from a movie.</p>
<p class="spaceabove"><pre>
OSErr DeleteMovieSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment to be deleted.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment to be deleted.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>You identify the segment to remove by specifying its starting time and duration. The following code snippet shows <code>DeleteMovieSegment</code> being used while adding a modifier track to a movie.</p>
<div class="codesample"><table><tr><td scope="row"><pre>// DeleteMovieSegment coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 363<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie1;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue       lOldDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long            lIndex, lOrigTrackCount, lReferenceIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>Track           track, trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the first track in original movie and position at the start<span></span></pre></td></tr><tr><td scope="row"><pre>trackSprite =GetMovieIndTrack(movie1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieSelection(movie1, 0, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>// remove all tracks except video in modifier movie<span></span></pre></td></tr><tr><td scope="row"><pre>for (lIndex =1; lIndex &#60;=GetMovieTrackCount(movie2); lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    Track       track =GetMovieIndTrack(movie2, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType      dwType;<span></span></pre></td></tr><tr><td scope="row"><pre>    GetMediaHandlerDescription(GetTrackMedia(track),<span></span></pre></td></tr><tr><td scope="row"><pre>                                &#38;dwType, NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (dwType !=VideoMediaType) {<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeMovieTrack(track);<span></span></pre></td></tr><tr><td scope="row"><pre>        lIndex--;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// add the modifier track to original movie<span></span></pre></td></tr><tr><td scope="row"><pre>lOldDuration =GetMovieDuration(movie1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddMovieSelection(movie1, movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovie(movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>// truncate the movie to the length of the original track<span></span></pre></td></tr><tr><td scope="row"><pre>DeleteMovieSegment(movie1, lOldDuration,<span></span></pre></td></tr><tr><td scope="row"><pre>                    GetMovieDuration(movie1) - lOldDuration);<span></span></pre></td></tr><tr><td scope="row"><pre>// associate the modifier track with the original sprite track<span></span></pre></td></tr><tr><td scope="row"><pre>track =GetMovieIndTrack(movie1, lOrigTrackCount + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddTrackReference(trackSprite, track, kTrackModifierReference,<span></span></pre></td></tr><tr><td scope="row"><pre>                    &#38;lReferenceIndex);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtspritesplus.win/index.html#//apple_ref/doc/uid/DTS10001073" target="_top">qtspritesplus.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/DeleteTrackReference" title="DeleteTrackReference"></a><a name="//apple_ref/doc/c_ref/DeleteTrackReference" title="DeleteTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DeleteTrackReference" title="DeleteTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_43"></a><h3 class="tight">DeleteTrackReference</h3>
<p class="spaceabove">Removes a track reference from a track.</p>
<p class="spaceabove"><pre>
OSErr DeleteTrackReference (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->OSType<!--/a--> refType,
   long index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>refType</em></dt>
<dd><p>The type of reference.</p></dd>
<dt><em>index</em></dt>
<dd><p>The index value of the reference to be deleted. You obtain this index value when you create the track reference.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function deletes a track reference from a track. If there are additional track references with higher index values, the toolbox automatically renumbers those references, decrementing their index values by 1.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/DeleteTrackSegment" title="DeleteTrackSegment"></a><a name="//apple_ref/doc/c_ref/DeleteTrackSegment" title="DeleteTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DeleteTrackSegment" title="DeleteTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_44"></a><h3 class="tight">DeleteTrackSegment</h3>
<p class="spaceabove">Removes a specified segment from a track.</p>
<p class="spaceabove"><pre>
OSErr DeleteTrackSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment to be deleted. This time value must be expressed in the time scale of the movie that contains the source track.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment to be deleted. This time value must be expressed in the time scale of the movie that contains the source track.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>You identify the segment to remove by specifying its starting time and duration.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/addhtactions.win/index.html#//apple_ref/doc/uid/DTS10001065" target="_top">addhtactions.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CaptureAndCompressIPBMovie/index.html#//apple_ref/doc/uid/DTS10003598" target="_top">CaptureAndCompressIPBMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredactions/index.html#//apple_ref/doc/uid/DTS10001074" target="_top">qtwiredactions</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/DisposeMovieEditState" title="DisposeMovieEditState"></a><a name="//apple_ref/doc/c_ref/DisposeMovieEditState" title="DisposeMovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DisposeMovieEditState" title="DisposeMovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_45"></a><h3 class="tight">DisposeMovieEditState</h3>
<p class="spaceabove">Disposes of an edit state.</p>
<p class="spaceabove"><pre>
OSErr DisposeMovieEditState (
   <a href="reference.html#//apple_ref/doc/c_ref/MovieEditState">MovieEditState</a> state
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>state</em></dt>
<dd><p>The edit state for this operation. Your application obtains this edit state identifier when you create the edit state by calling <code><a href="reference.html#//apple_ref/c/func/NewMovieEditState" target="_self">NewMovieEditState</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Special Considerations</h5><p>You must dispose of a movie's edit states before you dispose of the movie itself.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/DisposeMovieTrack" title="DisposeMovieTrack"></a><a name="//apple_ref/doc/c_ref/DisposeMovieTrack" title="DisposeMovieTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DisposeMovieTrack" title="DisposeMovieTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_46"></a><h3 class="tight">DisposeMovieTrack</h3>
<p class="spaceabove">Removes a track from a movie.</p>
<p class="spaceabove"><pre>
void DisposeMovieTrack (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The following code snippet illustrates the use of <code>DisposeMovieTrack</code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// DisposeMovieTrack coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 363<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie1;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue       lOldDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long            lIndex, lOrigTrackCount, lReferenceIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>Track           track, trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the first track in original movie and position at the start<span></span></pre></td></tr><tr><td scope="row"><pre>trackSprite =GetMovieIndTrack(movie1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieSelection(movie1, 0, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>// remove all tracks except video in modifier movie<span></span></pre></td></tr><tr><td scope="row"><pre>for (lIndex =1; lIndex &#60;=GetMovieTrackCount(movie2); lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    Track       track =GetMovieIndTrack(movie2, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType      dwType;<span></span></pre></td></tr><tr><td scope="row"><pre>    GetMediaHandlerDescription(GetTrackMedia(track),<span></span></pre></td></tr><tr><td scope="row"><pre>                                &#38;dwType, NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (dwType !=VideoMediaType) {<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeMovieTrack(track);<span></span></pre></td></tr><tr><td scope="row"><pre>        lIndex--;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// add the modifier track to original movie<span></span></pre></td></tr><tr><td scope="row"><pre>lOldDuration =GetMovieDuration(movie1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddMovieSelection(movie1, movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovie(movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>// truncate the movie to the length of the original track<span></span></pre></td></tr><tr><td scope="row"><pre>DeleteMovieSegment(movie1, lOldDuration,<span></span></pre></td></tr><tr><td scope="row"><pre>                    GetMovieDuration(movie1) - lOldDuration);<span></span></pre></td></tr><tr><td scope="row"><pre>// associate the modifier track with the original sprite track<span></span></pre></td></tr><tr><td scope="row"><pre>track =GetMovieIndTrack(movie1, lOrigTrackCount + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddTrackReference(trackSprite, track, kTrackModifierReference,<span></span></pre></td></tr><tr><td scope="row"><pre>                    &#38;lReferenceIndex);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AlwaysPreview/index.html#//apple_ref/doc/uid/DTS10000761" target="_top">AlwaysPreview</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode.win/index.html#//apple_ref/doc/uid/DTS10001059" target="_top">qttimecode.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/DisposeTrackEditState" title="DisposeTrackEditState"></a><a name="//apple_ref/doc/c_ref/DisposeTrackEditState" title="DisposeTrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DisposeTrackEditState" title="DisposeTrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_47"></a><h3 class="tight">DisposeTrackEditState</h3>
<p class="spaceabove">Disposes of a movie's track edit state.</p>
<p class="spaceabove"><pre>
OSErr DisposeTrackEditState (
   <a href="reference.html#//apple_ref/doc/c_ref/TrackEditState">TrackEditState</a> state
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>state</em></dt>
<dd><p>The edit state for this operation. Your application obtains this edit state identifier when you create the edit state by calling the <code><a href="reference.html#//apple_ref/c/func/NewTrackEditState" target="_self">NewTrackEditState</a></code> function.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Your application must dispose of any edit states you create. You create an edit state by calling <code><a href="reference.html#//apple_ref/c/func/NewTrackEditState" target="_self">NewTrackEditState</a></code>.</p>
<h5 class="tight">Special Considerations</h5><p>You must dispose of a movie's track edit states before you dispose of the track or the movie.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/DisposeTrackMedia" title="DisposeTrackMedia"></a><a name="//apple_ref/doc/c_ref/DisposeTrackMedia" title="DisposeTrackMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DisposeTrackMedia" title="DisposeTrackMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_48"></a><h3 class="tight">DisposeTrackMedia</h3>
<p class="spaceabove">Removes a media from a track.</p>
<p class="spaceabove"><pre>
void DisposeTrackMedia (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function does not remove the track from its movie.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/EndMediaEdits" title="EndMediaEdits"></a><a name="//apple_ref/doc/c_ref/EndMediaEdits" title="EndMediaEdits"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-EndMediaEdits" title="EndMediaEdits"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_49"></a><h3 class="tight">EndMediaEdits</h3>
<p class="spaceabove">Ends a media-editing session.</p>
<p class="spaceabove"><pre>
OSErr EndMediaEdits (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The following code sample illustrates the use of <code>EndMediaEdits</code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// EndMediaEdits coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 89<span></span></pre></td></tr><tr><td scope="row"><pre>void CreateMyVideoTrack (Movie movie)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    Track   track;<span></span></pre></td></tr><tr><td scope="row"><pre>    Media   media;<span></span></pre></td></tr><tr><td scope="row"><pre>    Rect    rect ={0, 0, 100, 320};<span></span></pre></td></tr><tr><td scope="row"><pre>    track =NewMovieTrack(movie,<span></span></pre></td></tr><tr><td scope="row"><pre>                FixRatio(rect.right, 1),<span></span></pre></td></tr><tr><td scope="row"><pre>                FixRatio(rect.bottom, 1),<span></span></pre></td></tr><tr><td scope="row"><pre>                kNoVolume);<span></span></pre></td></tr><tr><td scope="row"><pre>    media =NewTrackMedia(track,<span></span></pre></td></tr><tr><td scope="row"><pre>                VideoMediaType,<span></span></pre></td></tr><tr><td scope="row"><pre>                600,                            // video time scale<span></span></pre></td></tr><tr><td scope="row"><pre>                NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    BeginMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    MyAddVideoSamplesToMedia(media, &#38;rect);     // assemble data<span></span></pre></td></tr><tr><td scope="row"><pre>    EndMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    InsertMediaIntoTrack(track,<span></span></pre></td></tr><tr><td scope="row"><pre>                0,                              // track start time<span></span></pre></td></tr><tr><td scope="row"><pre>                0,                              // media start time<span></span></pre></td></tr><tr><td scope="row"><pre>                GetMediaDuration(media),<span></span></pre></td></tr><tr><td scope="row"><pre>                kFix1);                         // normal speed<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ExtendMediaDecodeDurationToDisplayEndTime" title="ExtendMediaDecodeDurationToDisplayEndTime"></a><a name="//apple_ref/doc/c_ref/ExtendMediaDecodeDurationToDisplayEndTime" title="ExtendMediaDecodeDurationToDisplayEndTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ExtendMediaDecodeDurationToDisplayEndTime" title="ExtendMediaDecodeDurationToDisplayEndTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_50"></a><h3 class="tight">ExtendMediaDecodeDurationToDisplayEndTime</h3>
<p class="spaceabove">Prepares a media for the addition of a completely new sequence of samples by ensuring that the media display end time is not later than the media decode end time.</p>
<p class="spaceabove"><pre>
OSErr ExtendMediaDecodeDurationToDisplayEndTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->Boolean<!--/a--> *mediaChanged
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>mediaChanged</em></dt>
<dd><p>A pointer to a Boolean that returns TRUE if any samples in the media were adjusted, FALSE otherwise. If you don't want to receive this information, set this parameter to NULL.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>An error code. Returns <code>memFullErr</code> if it could not allocate memory, <code>paramErr</code> if there was an invalid parameter, or <code>noErr</code> if there is no error. You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result.</p>
<h5 class="tight">Discussion</h5>
<p>After adding a complete, well-formed set of samples to a media, the media's display end time should be the same as the media's decode end time (also called the media decode duration). However, this is not necessarily the case after individual sample-adding operations, and hence it is possible for a media to be left with a display end time later than its decode end time (if adding a sequence of frames is aborted halfway, for example).</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CaptureAndCompressIPBMovie/index.html#//apple_ref/doc/uid/DTS10003598" target="_top">CaptureAndCompressIPBMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/OpenGLScreenCapture/index.html#//apple_ref/doc/uid/DTS10004445" target="_top">OpenGLCaptureToMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QuartzComposer_WWDC_QCTV/index.html#//apple_ref/doc/uid/DTS10003708" target="_top">Quartz Composer QCTV</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetDataHandler" title="GetDataHandler"></a><a name="//apple_ref/doc/c_ref/GetDataHandler" title="GetDataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetDataHandler" title="GetDataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_51"></a><h3 class="tight">GetDataHandler</h3>
<p class="spaceabove">Retrieves the best data handler component to use with a given data reference.</p>
<p class="spaceabove"><pre>
<!--a-->Component<!--/a--> GetDataHandler (
   <!--a-->Handle<!--/a--> dataRef,
   <!--a-->OSType<!--/a--> dataHandlerSubType,
   long flags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>dataRef</em></dt>
<dd><p>A handle to the <code>data</code> reference. The type of information stored in the handle depends upon the <code>data</code> reference type specified by the <code>dataHandlerSubType</code> parameter.</p></dd>
<dt><em>dataHandlerSubType</em></dt>
<dd><p>Identifies both the type of data reference and, by implication, the <code>component</code> subtype value assigned to the data handler components that operate on data references of that type.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Contains flags (see below) that indicate the way in which you intend to use the data handler component. Note that not all data handlers necessarily support all services; for example, some data handler components may not support streaming writes. Set the appropriate flags to 1. See these constants:
<ul class="simple">
<li><p><code><a href="../../QTRef_Constants/Reference/reference.html#//apple_ref/c/econst/kDataHCanRead" target="_top">kDataHCanRead</a></code></p></li>
<li><p><code><a href="../../QTRef_Constants/Reference/reference.html#//apple_ref/c/econst/kDataHCanRead" target="_top">kDataHCanWrite</a></code></p></li>
<li><p><code><a href="../../QTRef_Constants/Reference/reference.html#//apple_ref/c/econst/kDataHCanRead" target="_top">kDataHCanStreamingWrite</a></code></p></li>
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The best data handler component conforming to the parameters passed in.</p>
<h5 class="tight">Discussion</h5>
<p>Once you have used this function to get information about the best data handler component for your data reference, you can open and use the component using Component Manager functions. If the function returns a value of <code>NIL</code>, the toolbox was unable to find an appropriate data handler component. For more information about the error that caused a return of <code>NIL</code>, call <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtdataref/index.html#//apple_ref/doc/uid/DTS10000779" target="_top">qtdataref</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtfiletransfer/index.html#//apple_ref/doc/uid/DTS10000857" target="_top">qtfiletransfer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtfiletransfer.win/index.html#//apple_ref/doc/uid/DTS10000858" target="_top">qtfiletransfer.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ThreadsImporter/index.html#//apple_ref/doc/uid/DTS10003146" target="_top">ThreadsImporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ThreadsImportMovie/index.html#//apple_ref/doc/uid/DTS10003224" target="_top">ThreadsImportMovie</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaAdvanceDecodeTime" title="GetMediaAdvanceDecodeTime"></a><a name="//apple_ref/doc/c_ref/GetMediaAdvanceDecodeTime" title="GetMediaAdvanceDecodeTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaAdvanceDecodeTime" title="GetMediaAdvanceDecodeTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_52"></a><h3 class="tight">GetMediaAdvanceDecodeTime</h3>
<p class="spaceabove">Returns the advance decode time of a media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> GetMediaAdvanceDecodeTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A 64-bit time value that represents the media's advance decode time. A media's advance decode time is the absolute value of the greatest-magnitude negative display offset of its samples, or 0 if there are no samples with negative display offsets. This is the amount that the decode time axis must be adjusted ahead of the display time axis to ensure that no sample's adjusted decode time is later than its display time. For media without nonzero display offsets, the advance decode time is 0.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaCreationTime" title="GetMediaCreationTime"></a><a name="//apple_ref/doc/c_ref/GetMediaCreationTime" title="GetMediaCreationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaCreationTime" title="GetMediaCreationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_53"></a><h3 class="tight">GetMediaCreationTime</h3>
<p class="spaceabove">Returns the creation date and time stored in a media.</p>
<p class="spaceabove"><pre>
unsigned long GetMediaCreationTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The media's creation date and time.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDataHandler" title="GetMediaDataHandler"></a><a name="//apple_ref/doc/c_ref/GetMediaDataHandler" title="GetMediaDataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDataHandler" title="GetMediaDataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_54"></a><h3 class="tight">GetMediaDataHandler</h3>
<p class="spaceabove">Determines a media's data handler.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/DataHandler" target="_top">DataHandler</a> GetMediaDataHandler (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   short index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>Identifies the data reference. You provide the index value that corresponds to the data reference for which you want to retrieve the data handler. You must set this parameter to 1.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A data handler component instance.</p>

<h5 class="tight">Special Considerations</h5><p>QuickTime normally takes care of selecting data handlers for media. Your application should not need to call this function.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDataHandlerDescription" title="GetMediaDataHandlerDescription"></a><a name="//apple_ref/doc/c_ref/GetMediaDataHandlerDescription" title="GetMediaDataHandlerDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDataHandlerDescription" title="GetMediaDataHandlerDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_55"></a><h3 class="tight">GetMediaDataHandlerDescription</h3>
<p class="spaceabove">Retrieves information about a media's data handler.</p>
<p class="spaceabove"><pre>
void GetMediaDataHandlerDescription (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   short index,
   <!--a-->OSType<!--/a--> *dhType,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> creatorName,
   <!--a-->OSType<!--/a--> *creatorManufacturer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>Identifies the data reference. You provide the index value that corresponds to the data reference for which you want to retrieve the data handler description. You must set this parameter to 1.</p></dd>
<dt><em>dhType</em></dt>
<dd><p>A pointer to a field of data type <code>OSType</code>. The Movie Toolbox returns the <code>data</code> handler type identifier. This value indicates the type of data reference supported by this data handler. This value also corresponds to the <code>component</code> subtype specified for the data handler component. All QuickTime data references have a type value of <code>'alis'</code>. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>creatorName</em></dt>
<dd><p>Points to a string. The Movie Toolbox returns the name of the data handler's creator. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>creatorManufacturer</em></dt>
<dd><p>A pointer to a long integer. The Movie Toolbox returns the 4-byte value that identifies the manufacturer of the component. If you don't want to retrieve this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDataSize" title="GetMediaDataSize"></a><a name="//apple_ref/doc/c_ref/GetMediaDataSize" title="GetMediaDataSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDataSize" title="GetMediaDataSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_56"></a><h3 class="tight">GetMediaDataSize</h3>
<p class="spaceabove">Determines the size, in bytes, of the sample data in a media segment.</p>
<p class="spaceabove"><pre>
long GetMediaDataSize (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The size, in bytes, of the sample data in the defined media segment.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDataSize64" title="GetMediaDataSize64"></a><a name="//apple_ref/doc/c_ref/GetMediaDataSize64" title="GetMediaDataSize64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDataSize64" title="GetMediaDataSize64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_57"></a><h3 class="tight">GetMediaDataSize64</h3>
<p class="spaceabove">Provides a 64-bit version of GetMediaDataSize.</p>
<p class="spaceabove"><pre>
OSErr GetMediaDataSize64 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/wide" target="_top">wide</a> *dataSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment.</p></dd>
<dt><em>dataSize</em></dt>
<dd><p>The size, in bytes, of the sample data in the defined media segment.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The only difference between this function and <code><a href="reference.html#//apple_ref/c/func/GetMediaDataSize" target="_self">GetMediaDataSize</a></code> is that the <code>dataSize</code> parameter returns a 64-bit integer instead of the function returning a 32-bit integer.</p>
<h5 class="tight">Special Considerations</h5><p>New applications should use this function instead of the 32-bit version.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 4.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDataSizeTime64" title="GetMediaDataSizeTime64"></a><a name="//apple_ref/doc/c_ref/GetMediaDataSizeTime64" title="GetMediaDataSizeTime64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDataSizeTime64" title="GetMediaDataSizeTime64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_58"></a><h3 class="tight">GetMediaDataSizeTime64</h3>
<p class="spaceabove">Determines the size, in bytes, of the sample data in a media segment.</p>
<p class="spaceabove"><pre>
OSErr GetMediaDataSizeTime64 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> startDisplayTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> displayDuration,
   <!--a-->SInt64<!--/a--> *dataSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>startDisplayTime</em></dt>
<dd><p>A 64-bit time value that specifies the starting point of the segment in media display time.</p></dd>
<dt><em>displayDuration</em></dt>
<dd><p>A 64-bit time value that specifies the duration of the segment in media display time.</p></dd>
<dt><em>dataSize</em></dt>
<dd><p>A pointer to a variable to receive the size, in bytes, of the sample data in the defined media segment.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>An error code. Returns <code>noErr</code> if there is no error. You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result.</p>
<h5 class="tight">Discussion</h5>
<p>The only difference between this function and GetMediaDataSize64 is that this function uses 64-bit time values and returns a 64-bit size.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDecodeDuration" title="GetMediaDecodeDuration"></a><a name="//apple_ref/doc/c_ref/GetMediaDecodeDuration" title="GetMediaDecodeDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDecodeDuration" title="GetMediaDecodeDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_59"></a><h3 class="tight">GetMediaDecodeDuration</h3>
<p class="spaceabove">Returns the decode duration of a media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> GetMediaDecodeDuration (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A 64-bit time value that represents the media's decode duration. A media's decode duration is the sum of the decode durations of its samples.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDisplayDuration" title="GetMediaDisplayDuration"></a><a name="//apple_ref/doc/c_ref/GetMediaDisplayDuration" title="GetMediaDisplayDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDisplayDuration" title="GetMediaDisplayDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_60"></a><h3 class="tight">GetMediaDisplayDuration</h3>
<p class="spaceabove">Returns the display duration of a media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> GetMediaDisplayDuration (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A 64-bit time value that represents the media's display duration. A media's display duration is its display end time minus its display start time. For media without nonzero display offsets, the decode duration and display duration are the same.</p>
<h5 class="tight">Discussion</h5>
<p>When inserting media with display offsets into a track, use display time:</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CaptureAndCompressIPBMovie/index.html#//apple_ref/doc/uid/DTS10003598" target="_top">CaptureAndCompressIPBMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/OpenGLScreenCapture/index.html#//apple_ref/doc/uid/DTS10004445" target="_top">OpenGLCaptureToMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QuartzComposer_WWDC_QCTV/index.html#//apple_ref/doc/uid/DTS10003708" target="_top">Quartz Composer QCTV</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDisplayEndTime" title="GetMediaDisplayEndTime"></a><a name="//apple_ref/doc/c_ref/GetMediaDisplayEndTime" title="GetMediaDisplayEndTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDisplayEndTime" title="GetMediaDisplayEndTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_61"></a><h3 class="tight">GetMediaDisplayEndTime</h3>
<p class="spaceabove">Returns the display end time of a media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> GetMediaDisplayEndTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A 64-bit time value that represents the media's display end time. A media's display end time is the sum of the display time and decode duration of the sample with the greatest display time. For media without nonzero display offsets, the display end time is the same as the media's decode duration.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDisplayStartTime" title="GetMediaDisplayStartTime"></a><a name="//apple_ref/doc/c_ref/GetMediaDisplayStartTime" title="GetMediaDisplayStartTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDisplayStartTime" title="GetMediaDisplayStartTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_62"></a><h3 class="tight">GetMediaDisplayStartTime</h3>
<p class="spaceabove">Returns the display start time of a media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> GetMediaDisplayStartTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A 64-bit time value that represents the media's display start time. A media's display start time is the earliest display time of any of its samples. For media without nonzero display offsets, the display start time is always 0.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaDuration" title="GetMediaDuration"></a><a name="//apple_ref/doc/c_ref/GetMediaDuration" title="GetMediaDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaDuration" title="GetMediaDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_63"></a><h3 class="tight">GetMediaDuration</h3>
<p class="spaceabove">Returns the duration of a media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> GetMediaDuration (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The media's duration.</p>
<h5 class="tight">Discussion</h5>
<p>The following code sample illustrates the use of <code>GetMediaDuration</code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// GetMediaDuration coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 89<span></span></pre></td></tr><tr><td scope="row"><pre>void CreateMyVideoTrack (Movie movie)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    Track   track;<span></span></pre></td></tr><tr><td scope="row"><pre>    Media   media;<span></span></pre></td></tr><tr><td scope="row"><pre>    Rect    rect ={0, 0, 100, 320};<span></span></pre></td></tr><tr><td scope="row"><pre>    track =NewMovieTrack(movie,<span></span></pre></td></tr><tr><td scope="row"><pre>                FixRatio(rect.right, 1),<span></span></pre></td></tr><tr><td scope="row"><pre>                FixRatio(rect.bottom, 1),<span></span></pre></td></tr><tr><td scope="row"><pre>                kNoVolume);<span></span></pre></td></tr><tr><td scope="row"><pre>    media =NewTrackMedia(track,<span></span></pre></td></tr><tr><td scope="row"><pre>                VideoMediaType,<span></span></pre></td></tr><tr><td scope="row"><pre>                600,                            // video time scale<span></span></pre></td></tr><tr><td scope="row"><pre>                NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    BeginMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    MyAddVideoSamplesToMedia(media, &#38;rect);     // assemble data<span></span></pre></td></tr><tr><td scope="row"><pre>    EndMediaEdits(media);<span></span></pre></td></tr><tr><td scope="row"><pre>    InsertMediaIntoTrack(track,<span></span></pre></td></tr><tr><td scope="row"><pre>                0,                              // track start time<span></span></pre></td></tr><tr><td scope="row"><pre>                0,                              // media start time<span></span></pre></td></tr><tr><td scope="row"><pre>                GetMediaDuration(media),<span></span></pre></td></tr><tr><td scope="row"><pre>                kFix1);                         // normal speed<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtshoweffect/index.html#//apple_ref/doc/uid/DTS10000838" target="_top">qtshoweffect</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtshoweffect.win/index.html#//apple_ref/doc/uid/DTS10000839" target="_top">qtshoweffect.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaHandler" title="GetMediaHandler"></a><a name="//apple_ref/doc/c_ref/GetMediaHandler" title="GetMediaHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaHandler" title="GetMediaHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_64"></a><h3 class="tight">GetMediaHandler</h3>
<p class="spaceabove">Obtains a reference to a media handler component.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/MediaHandler" target="_top">MediaHandler</a> GetMediaHandler (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A media handler component instance.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrscript/index.html#//apple_ref/doc/uid/DTS10001032" target="_top">vrscript</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrscript.win/index.html#//apple_ref/doc/uid/DTS10001033" target="_top">vrscript.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaHandlerDescription" title="GetMediaHandlerDescription"></a><a name="//apple_ref/doc/c_ref/GetMediaHandlerDescription" title="GetMediaHandlerDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaHandlerDescription" title="GetMediaHandlerDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_65"></a><h3 class="tight">GetMediaHandlerDescription</h3>
<p class="spaceabove">Retrieves information about a media handler.</p>
<p class="spaceabove"><pre>
void GetMediaHandlerDescription (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->OSType<!--/a--> *mediaType,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> creatorName,
   <!--a-->OSType<!--/a--> *creatorManufacturer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>mediaType</em></dt>
<dd><p>A pointer to a field in which the Movie Toolbox returns the <code>media</code> type identifier (see below). This value indicates the type of media supported by this media handler. This value also corresponds to the <code>component</code> subtype specified for the media handler component. If you don't want to receive this information, set the <code>mediaType</code> parameter to <code>NIL</code>. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->VideoMediaType<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->SoundMediaType<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->TextMediaType<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>creatorName</em></dt>
<dd><p>Points to a string. The Movie Toolbox returns the name of the media handler's creator. If you don't want to receive this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>creatorManufacturer</em></dt>
<dd><p>A pointer to a long integer. The Movie Toolbox returns the 4-byte value that identifies the manufacturer of the component. If you don't want to retrieve this information, set this parameter to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The following code sample illustrates the use of <code>GetMediaHandlerDescription</code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// GetMediaHandlerDescription coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 363<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie1;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue       lOldDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long            lIndex, lOrigTrackCount, lReferenceIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>Track           track, trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the first track in original movie and position at the start<span></span></pre></td></tr><tr><td scope="row"><pre>trackSprite =GetMovieIndTrack(movie1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieSelection(movie1, 0, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>// remove all tracks except video in modifier movie<span></span></pre></td></tr><tr><td scope="row"><pre>for (lIndex =1; lIndex &#60;=GetMovieTrackCount(movie2); lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    Track       track =GetMovieIndTrack(movie2, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType      dwType;<span></span></pre></td></tr><tr><td scope="row"><pre>    GetMediaHandlerDescription(GetTrackMedia(track),<span></span></pre></td></tr><tr><td scope="row"><pre>                                &#38;dwType, NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (dwType !=VideoMediaType) {<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeMovieTrack(track);<span></span></pre></td></tr><tr><td scope="row"><pre>        lIndex--;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// add the modifier track to original movie<span></span></pre></td></tr><tr><td scope="row"><pre>lOldDuration =GetMovieDuration(movie1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddMovieSelection(movie1, movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovie(movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>// truncate the movie to the length of the original track<span></span></pre></td></tr><tr><td scope="row"><pre>DeleteMovieSegment(movie1, lOldDuration,<span></span></pre></td></tr><tr><td scope="row"><pre>                    GetMovieDuration(movie1) - lOldDuration);<span></span></pre></td></tr><tr><td scope="row"><pre>// associate the modifier track with the original sprite track<span></span></pre></td></tr><tr><td scope="row"><pre>track =GetMovieIndTrack(movie1, lOrigTrackCount + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddTrackReference(trackSprite, track, kTrackModifierReference,<span></span></pre></td></tr><tr><td scope="row"><pre>                    &#38;lReferenceIndex);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CompressMovies/index.html#//apple_ref/doc/uid/DTS10000885" target="_top">CompressMovies</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DigitizerShell/index.html#//apple_ref/doc/uid/DTS10000799" target="_top">DigitizerShell</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DragAndDrop_Shell/index.html#//apple_ref/doc/uid/DTS10000765" target="_top">DragAndDrop Shell</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieGWorlds/index.html#//apple_ref/doc/uid/DTS10000771" target="_top">MovieGWorlds</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QT_Internals/index.html#//apple_ref/doc/uid/DTS10000848" target="_top">QT Internals</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaInputMap" title="GetMediaInputMap"></a><a name="//apple_ref/doc/c_ref/GetMediaInputMap" title="GetMediaInputMap"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaInputMap" title="GetMediaInputMap"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_66"></a><h3 class="tight">GetMediaInputMap</h3>
<p class="spaceabove">Returns a copy of the input map associated with a specified media.</p>
<p class="spaceabove"><pre>
OSErr GetMediaInputMap (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/QTAtomContainer" target="_top">QTAtomContainer</a> *inputMap
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>inputMap</em></dt>
<dd><p>The media input map for this operation. You must dispose of the map referred to by this parameter when you are done with it using <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTDisposeAtomContainer" target="_top">QTDisposeAtomContainer</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Use this function to specify the media you want to get so you can modify its input map, as illustrated below:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// GetMediaInputMap coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 365<span></span></pre></td></tr><tr><td scope="row"><pre>#define kImageIndexToOverride           1<span></span></pre></td></tr><tr><td scope="row"><pre>Movie               movie1, movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long                lReferenceIndex, lImageIndexToOverride;<span></span></pre></td></tr><tr><td scope="row"><pre>Track               trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtomContainer     qtacInputMap;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtom              lInputAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>OSType              dwInputType;<span></span></pre></td></tr><tr><td scope="row"><pre>Media               mediaSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the sprite media's input map<span></span></pre></td></tr><tr><td scope="row"><pre>mediaSprite =GetTrackMedia(trackSprite);<span></span></pre></td></tr><tr><td scope="row"><pre>GetMediaInputMap(mediaSprite, &#38;qtacInputMap);<span></span></pre></td></tr><tr><td scope="row"><pre>// add an atom for a modifier track<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild(qtacInputMap, kParentAtomIsContainer, kTrackModifierInput,<span></span></pre></td></tr><tr><td scope="row"><pre>                lReferenceIndex, 0, 0, NIL, &#38;lInputAtom);<span></span></pre></td></tr><tr><td scope="row"><pre>// add a child atom to specify the input type<span></span></pre></td></tr><tr><td scope="row"><pre>dwInputType =kTrackModifierTypeImage;<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild(qtacInputMap, lInputAtom, kTrackModifierType, 1, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>                sizeof(dwInputType), &#38;dwInputType, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>// add a second child atom to specify index of image to override<span></span></pre></td></tr><tr><td scope="row"><pre>lImageIndexToOverride =EndianS16_NtoB(kImageIndexToOverride);<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild(qtacInputMap, lInputAtom, kSpritePropertyImageIndex, 1, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>        sizeof(lImageIndexToOverride), &#38;lImageIndexToOverride, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>// update the sprite media's input map<span></span></pre></td></tr><tr><td scope="row"><pre>SetMediaInputMap(mediaSprite, qtacInputMap);<span></span></pre></td></tr><tr><td scope="row"><pre>QTDisposeAtomContainer(qtacInputMap);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ChromaKeyMovie/index.html#//apple_ref/doc/uid/DTS10000844" target="_top">ChromaKeyMovie</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaLanguage" title="GetMediaLanguage"></a><a name="//apple_ref/doc/c_ref/GetMediaLanguage" title="GetMediaLanguage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaLanguage" title="GetMediaLanguage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_67"></a><h3 class="tight">GetMediaLanguage</h3>
<p class="spaceabove">Returns a media's localized language or region code.</p>
<p class="spaceabove"><pre>
short GetMediaLanguage (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The media's language or region code.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaModificationTime" title="GetMediaModificationTime"></a><a name="//apple_ref/doc/c_ref/GetMediaModificationTime" title="GetMediaModificationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaModificationTime" title="GetMediaModificationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_68"></a><h3 class="tight">GetMediaModificationTime</h3>
<p class="spaceabove">Returns a media's modification date and time.</p>
<p class="spaceabove"><pre>
unsigned long GetMediaModificationTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The media's modification date and time.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaPreferredChunkSize" title="GetMediaPreferredChunkSize"></a><a name="//apple_ref/doc/c_ref/GetMediaPreferredChunkSize" title="GetMediaPreferredChunkSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaPreferredChunkSize" title="GetMediaPreferredChunkSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_69"></a><h3 class="tight">GetMediaPreferredChunkSize</h3>
<p class="spaceabove">Retrieves the maximum chunk size for a media.</p>
<p class="spaceabove"><pre>
OSErr GetMediaPreferredChunkSize (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long *maxChunkSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>maxChunkSize</em></dt>
<dd><p>Specifies a field to receive the maximum chunk size, in bytes.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaQuality" title="GetMediaQuality"></a><a name="//apple_ref/doc/c_ref/GetMediaQuality" title="GetMediaQuality"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaQuality" title="GetMediaQuality"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_70"></a><h3 class="tight">GetMediaQuality</h3>
<p class="spaceabove">Returns a media's quality level value.</p>
<p class="spaceabove"><pre>
short GetMediaQuality (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A short integer whose bits indicate quality constants (see below). More than one of these bits may be set to 1.</p>
<h5 class="tight">Discussion</h5>
<p>The Movie Toolbox uses this quality value to influence which track of a movie it selects to play on a given computer. This even applies to sound media. The low-order 6 bits specify pixel depths and the upper 2 bits specify quality levels. If a bit is set to 1, the media can be played at the corresponding depth and quality level.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies/index.html#//apple_ref/doc/uid/DTS10001030" target="_top">vrmovies</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSample" title="GetMediaSample"></a><a name="//apple_ref/doc/c_ref/GetMediaSample" title="GetMediaSample"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSample" title="GetMediaSample"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_71"></a><h3 class="tight">GetMediaSample</h3>
<p class="spaceabove">Returns a sample from a movie data file.</p>
<p class="spaceabove"><pre>
OSErr GetMediaSample (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->Handle<!--/a--> dataOut,
   long maxSizeToGrow,
   long *size,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> time,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *durationPerSample,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long *sampleDescriptionIndex,
   long maxNumberOfSample,
   long *numberOfSamples,
   short *sampleFlags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>dataOut</em></dt>
<dd><p>A handle. The <code>GetMediaSample</code> function returns the sample data into this handle. The function increases the size of this handle, if necessary. You can specify the handle's maximum size with the <code>maxSizeToGrow</code> parameter.</p></dd>
<dt><em>maxSizeToGrow</em></dt>
<dd><p>The maximum number of bytes of sample data to be returned. The <code>GetMediaSample</code> function does not increase the handle specified by the <code>dataOut</code> parameter to a size greater than you specify with this parameter. Set this value to 0 to enforce no limit on the number of bytes to be returned.</p></dd>
<dt><em>size</em></dt>
<dd><p>A pointer to a long integer. The <code>GetMediaSample</code> function updates the field referred to by the <code>size</code> parameter with the number of bytes of sample data returned in the handle specified by the <code>dataOut</code> parameter. Set this parameter to <code>NIL</code> if you are not interested in this information.</p></dd>
<dt><em>time</em></dt>
<dd><p>The starting time of the sample to be retrieved. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. The <code>GetMediaSample</code> function updates this time value to indicate the actual time of the returned sample data. (The returned time may differ from the time you specified with the <code>time</code> parameter. This will occur if the time you specified falls in the middle of a sample.) If you are not interested in this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>durationPerSample</em></dt>
<dd><p>A pointer to a time value. The Movie Toolbox returns the duration of each sample in the media. This time value is expressed in the media's time scale. Set this parameter to 0 if you don't want this information.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. The <code>GetMediaSample</code> function returns the sample description corresponding to the returned sample data. The function resizes this handle as appropriate. If you don't want a <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleDescriptionIndex</em></dt>
<dd><p>A pointer to a long integer. The <code>GetMediaSample</code> function returns an index value to the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure that corresponds to the returned sample data. You can retrieve the structure by calling <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleDescription" target="_self">GetMediaSampleDescription</a></code> and passing this index in the <code>descH</code> parameter. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>maxNumberOfSamples</em></dt>
<dd><p>The maximum number of samples to be returned. The Movie Toolbox does not return more samples than you specify with this parameter. If you set this parameter to 0, the Movie Toolbox uses a value that is appropriate for the media, and returns that value in the field referenced by the <code>numberOfSamples</code> parameter.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>A pointer to a long integer. The <code>GetMediaSample</code> function updates the field referred to by this parameter with the number of samples it actually returns. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleFlags</em></dt>
<dd><p>A pointer to a short integer in which <code>GetMediaSample</code> returns flags (see below) that describe the sample. Unused flags are set to 0. If you don't want this information, set this parameter to <code>NIL</code>. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredactions/index.html#//apple_ref/doc/uid/DTS10001074" target="_top">qtwiredactions</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SoundPlayer.win/index.html#//apple_ref/doc/uid/DTS10000923" target="_top">SoundPlayer.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSample2" title="GetMediaSample2"></a><a name="//apple_ref/doc/c_ref/GetMediaSample2" title="GetMediaSample2"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSample2" title="GetMediaSample2"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_72"></a><h3 class="tight">GetMediaSample2</h3>
<p class="spaceabove">Retrieves sample data from a media file.</p>
<p class="spaceabove"><pre>
OSErr GetMediaSample2 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   UInt8 *dataOut,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> maxDataSize,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> *size,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> decodeTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *decodeDurationPerSample,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *displayOffset,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *sampleDescriptionIndex,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> maxNumberOfSamples,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> *numberOfSamples,
   <!--a-->MediaSampleFlags<!--/a--> *sampleFlags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>dataOut</em></dt>
<dd><p>A pointer to a buffer to receive sample data. The buffer must be large enough to contain at least <code>maxDataSize</code> bytes. If you do not want to receive sample data, pass NULL.</p></dd>
<dt><em>maxDataSize</em></dt>
<dd><p>The maximum number of bytes allocated to hold the sample data.</p></dd>
<dt><em>size</em></dt>
<dd><p>A pointer to memory where the function returns the number of bytes of sample data returned in the memory area specified by <code>dataOut</code>. Set this parameter to NULL if you are not interested in this information.</p></dd>
<dt><em>decodeTime</em></dt>
<dd><p>The starting time of the sample to be retrieved in decode time. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleDecodeTime</em></dt>
<dd><p>A pointer to a time value in decode time. The function updates this time value to indicate the actual time of the returned sample data. (The returned time may differ from the time you specified with the <code>time</code> parameter. This will occur if the time you specified falls in the middle of a sample.) If you are not interested in this information, set this parameter to NULL.</p></dd>
<dt><em>decodeDurationPerSample</em></dt>
<dd><p>A pointer to a time value in decode time. The Movie Toolbox returns the duration of each sample in the <code>media</code>. Set this parameter to NULL if you don't want this information.</p></dd>
<dt><em>displayOffset</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the display offset of the returned sample. This time value is expressed in the media's time scale. Set this parameter to NULL if you don't want this information.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. The function returns the sample description corresponding to the returned sample data. The function resizes this handle as appropriate. If you don't want a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleDescriptionIndex</em></dt>
<dd><p>A pointer to a long integer. The function returns an index value to the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure that corresponds to the returned sample data. You can retrieve the structure by calling <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleDescription" target="_self">GetMediaSampleDescription</a></code> and passing this index in the <code>descH</code> parameter. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>maxNumberOfSamples</em></dt>
<dd><p>The maximum number of samples to be returned. The Movie Toolbox does not return more samples than you specify with this parameter. If you set this parameter to 0, the Movie Toolbox uses a value that is appropriate for the media, and returns that value in the field referenced by the <code>numberOfSamples</code> parameter.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>A pointer to a long integer. The function updates the field referred to by this parameter with the number of samples it actually returns. If you don't want this information, set this parameter to NULL.</p></dd>
<dt><em>sampleFlags</em></dt>
<dd><p>A pointer to a short integer in which the function returns flags that describe the sample. Unused flags are set to 0. If you don't want this information, set this parameter to NULL:  <code>mediaSampleNotSync</code> This flag is set to 1 if the sample is not a sync sample and to 0 if the sample is a sync sample. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. It returns <code>paramErr</code> if there is a bad parameter value, <code>maxSizeToGrowTooSmall</code> if the sample data is larger than <code>maxDataSize</code>, or <code>noErr</code> if there is no error.</p>
<h5 class="tight">Discussion</h5>
<p>Whereas <code><a href="reference.html#//apple_ref/c/func/GetMediaSample" target="_self">GetMediaSample</a></code> takes a resizable <code>Handle</code> and a <code>maxSizeToGrow</code> parameter, GetMediaSample2 takes a pointer and a <code>maxDataSize</code> parameter. If you want to read a sample into a <code>Handle</code>, you can use the following code:</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSampleCount" title="GetMediaSampleCount"></a><a name="//apple_ref/doc/c_ref/GetMediaSampleCount" title="GetMediaSampleCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSampleCount" title="GetMediaSampleCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_73"></a><h3 class="tight">GetMediaSampleCount</h3>
<p class="spaceabove">Determines the number of samples in a media.</p>
<p class="spaceabove"><pre>
long GetMediaSampleCount (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The number of samples in the media.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSampleDescription" title="GetMediaSampleDescription"></a><a name="//apple_ref/doc/c_ref/GetMediaSampleDescription" title="GetMediaSampleDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSampleDescription" title="GetMediaSampleDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_74"></a><h3 class="tight">GetMediaSampleDescription</h3>
<p class="spaceabove">Retrieves a SampleDescription structure from a media.</p>
<p class="spaceabove"><pre>
void GetMediaSampleDescription (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long index,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> descH
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>The index of the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure to retrieve. This index corresponds to the structure itself, not to the samples in the media. Index numbers start with 1.</p></dd>
<dt><em>descH</em></dt>
<dd><p>Specifies a handle that is to receive the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. The Movie Toolbox correctly resizes this handle for the returned structure. If there is no description for the specified index, the function returns this handle unchanged. Your application must allocate and dispose of this handle.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>The Movie Toolbox identifies a media's sample descriptions with an index value, ranging from 1 to the number of sample descriptions in the media. Sample description indexes provide a convenient way to access each sample description in a media. You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Special Considerations</h5><p>The format of sample descriptions differs by media type. Sample descriptions for image data are defined by <code><!--a target="_top" -->ImageDescription<!--/a--></code> structures. Sample descriptions for sound are defined by <code><!--a target="_top" -->SoundDescription<!--/a--></code> structures. Sample descriptions for text are defined by <code><!--a target="_top" -->TextDescription<!--/a--></code> structures.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CompressMovies/index.html#//apple_ref/doc/uid/DTS10000885" target="_top">CompressMovies</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DigitizerShell/index.html#//apple_ref/doc/uid/DTS10000799" target="_top">DigitizerShell</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DragAndDrop_Shell/index.html#//apple_ref/doc/uid/DTS10000765" target="_top">DragAndDrop Shell</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieGWorlds/index.html#//apple_ref/doc/uid/DTS10000771" target="_top">MovieGWorlds</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QT_Internals/index.html#//apple_ref/doc/uid/DTS10000848" target="_top">QT Internals</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSampleDescriptionCount" title="GetMediaSampleDescriptionCount"></a><a name="//apple_ref/doc/c_ref/GetMediaSampleDescriptionCount" title="GetMediaSampleDescriptionCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSampleDescriptionCount" title="GetMediaSampleDescriptionCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_75"></a><h3 class="tight">GetMediaSampleDescriptionCount</h3>
<p class="spaceabove">Returns the number of sample descriptions in a media.</p>
<p class="spaceabove"><pre>
long GetMediaSampleDescriptionCount (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The number of sample descriptions in the media.</p>

<h5 class="tight">Special Considerations</h5><p>The format of sample descriptions differs by media type. Sample descriptions for image data are defined by <code><!--a target="_top" -->ImageDescription<!--/a--></code> structures. Sample descriptions for sound are defined by <code><!--a target="_top" -->SoundDescription<!--/a--></code> structures. Sample descriptions for text are defined by <code><!--a target="_top" -->TextDescription<!--/a--></code> structures.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSampleReference" title="GetMediaSampleReference"></a><a name="//apple_ref/doc/c_ref/GetMediaSampleReference" title="GetMediaSampleReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSampleReference" title="GetMediaSampleReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_76"></a><h3 class="tight">GetMediaSampleReference</h3>
<p class="spaceabove">Obtains reference information about samples that are stored in a movie data file.</p>
<p class="spaceabove"><pre>
OSErr GetMediaSampleReference (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long *dataOffset,
   long *size,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> time,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *durationPerSample,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long *sampleDescriptionIndex,
   long maxNumberOfSamples,
   long *numberOfSamples,
   short *sampleFlags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>dataOffset</em></dt>
<dd><p>A pointer to a long integer. <code>GetMediaSampleReference</code> updates the field referred to by this parameter with the offset to the sample data. This parameter is used differently by each media handler. For example, the hierarchical file system (HFS) media handler returns an offset into the file that contains the media data.</p></dd>
<dt><em>size</em></dt>
<dd><p>A pointer to a long integer. <code>GetMediaSampleReference</code> updates the field referred to by the <code>size</code> parameter with the number of bytes of sample data referred to by the reference. Set this parameter to <code>NIL</code> if you are not interested in this information.</p></dd>
<dt><em>time</em></dt>
<dd><p>The starting time of the sample reference to be retrieved. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. <code>GetMediaSampleReference</code> updates this time value to indicate the actual time of the returned sample data. (The returned time may differ from the time you specified with the <code>time</code> parameter. This will occur if the time you specified falls in the middle of a sample.) If you are not interested in this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>durationPerSample</em></dt>
<dd><p>A pointer to a time value. The Movie Toolbox returns the duration of each sample in the media. This time value is expressed in the media's time scale. Set this parameter to 0 if you don't want this information.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. <code>GetMediaSampleReference</code> returns the structure corresponding to the returned sample data. The function resizes this handle as appropriate. If you don't want the <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleDescriptionIndex</em></dt>
<dd><p>A pointer to a long integer. <code>GetMediaSampleReference</code> returns an index value to the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure that corresponds to the returned sample data. To retrieve the media sample description, pass this index in the <code>descH</code> parameter of <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleDescription" target="_self">GetMediaSampleDescription</a></code>. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>maxNumberOfSamples</em></dt>
<dd><p>The maximum number of samples to be returned. The Movie Toolbox does not return a reference that refers to more samples than you specify with this parameter. If you set this parameter to 0, the Movie Toolbox uses a value that is appropriate for the media and returns that value in the field referenced by the <code>numberOfSamples</code> parameter.</p></dd>
<dt><em>numberOfSamples</em></dt>
<dd><p>A pointer to a long integer. <code>GetMediaSampleReference</code> updates the field referred to by this parameter with the number of samples referred to by the returned reference. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleFlags</em></dt>
<dd><p>A pointer to a short integer in which <code>GetMediaSampleReference</code> returns flags (see below) that describe the samples referred to by the returned reference. Unused flags are set to 0. If you don't want this information, set this parameter to <code>NIL</code>. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter/index.html#//apple_ref/doc/uid/DTS10000901" target="_top">SlideShowImporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter.win/index.html#//apple_ref/doc/uid/DTS10000902" target="_top">SlideShowImporter.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSampleReferences" title="GetMediaSampleReferences"></a><a name="//apple_ref/doc/c_ref/GetMediaSampleReferences" title="GetMediaSampleReferences"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSampleReferences" title="GetMediaSampleReferences"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_77"></a><h3 class="tight">GetMediaSampleReferences</h3>
<p class="spaceabove">Obtains reference information about groups of samples that are stored in a movie.</p>
<p class="spaceabove"><pre>
OSErr GetMediaSampleReferences (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> time,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long *sampleDescriptionIndex,
   long maxNumberOfEntries,
   long *actualNumberofEntries,
   <a href="reference.html#//apple_ref/doc/c_ref/SampleReferencePtr">SampleReferencePtr</a> sampleRefs
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>time</em></dt>
<dd><p>The starting time of the sample references to be retrieved. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. <code>GetMediaSampleReferences</code> updates this time value to indicate the actual time of the first returned sample data. If you are not interested in this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReference" target="_self">GetMediaSampleReference</a></code> returns the structure corresponding to the returned sample data. The function resizes this handle as appropriate. <code>GetMediaSampleReferences</code> only returns a single sample description. If the sample description changes within the media, <code>GetMediaSampleReferences</code> returns only as many samples as use a single sample description. You must call it again to get the next group of samples using the next sample description. If you don't want the <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleDescriptionIndex</em></dt>
<dd><p>A pointer to a long integer. <code>GetMediaSampleReferences</code> returns an index value to the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structures that correspond to the returned sample data. Use this index to retrieve the media sample descriptions with <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleDescription" target="_self">GetMediaSampleDescription</a></code>. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>maxNumberOfEntries</em></dt>
<dd><p>The maximum number of entries to be returned. The sample references pointer provided by the <code>sampleRefs</code> parameter must be large enough to receive the number of entries specified by this parameter. The toolbox does not return more entries than you specify with this parameter. It may, however, return fewer.</p></dd>
<dt><em>actualNumberofEntries</em></dt>
<dd><p>A pointer to a long integer. <code>GetMediaSampleReferences</code> updates the field referred to by this parameter with the number of entries referred to by the returned reference.</p></dd>
<dt><em>sampleRefs</em></dt>
<dd><p>A pointer to the number of <code><!--a target="_top" -->SampleReferenceRecord<!--/a--></code> structures specified in the <code>maxNumberOfEntries</code> parameter. On return from this call, the number of sample reference records indicated by the value returned in <code>actualNumberofEntries</code> will be filled in.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Using this function instead of <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReference" target="_self">GetMediaSampleReference</a></code> can greatly increase the performance of operations that need access to information about each sample in a movie. No information is returned from this call that wasn't previously available from <code>GetMediaSampleReference</code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSampleReferences64" title="GetMediaSampleReferences64"></a><a name="//apple_ref/doc/c_ref/GetMediaSampleReferences64" title="GetMediaSampleReferences64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSampleReferences64" title="GetMediaSampleReferences64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_78"></a><h3 class="tight">GetMediaSampleReferences64</h3>
<p class="spaceabove">Provides a 64-bit version of GetMediaSampleReferences.</p>
<p class="spaceabove"><pre>
OSErr GetMediaSampleReferences64 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> time,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> sampleDescriptionH,
   long *sampleDescriptionIndex,
   long maxNumberOfEntries,
   long *actualNumberofEntries,
   <a href="reference.html#//apple_ref/doc/c_ref/SampleReference64Ptr">SampleReference64Ptr</a> sampleRefs
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>time</em></dt>
<dd><p>The starting time of the sample references to be retrieved. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. GetMediaSampleReferences64 updates this time value to indicate the actual time of the first returned sample data. If you are not interested in this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleDescriptionH</em></dt>
<dd><p>A handle to a <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReference" target="_self">GetMediaSampleReference</a></code> returns the sample description corresponding to the returned sample data. The function resizes this handle as appropriate. <code>GetMediaSampleReferences</code> only returns a single structure. If the sample description changes within the media, <code>GetMediaSampleReferences</code> returns only as many samples as use a single sample description. You must call it again to get the next group of samples using the next sample description. If you don't want the <code>SampleDescription</code> structure, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>sampleDescriptionIndex</em></dt>
<dd><p>A pointer to a long integer. GetMediaSampleReferences64 returns an index value to the sample descriptions that correspond to the returned sample data. Use this index to retrieve the media sample descriptions with <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleDescription" target="_self">GetMediaSampleDescription</a></code>. If you don't want this information, set this parameter to <code>NIL</code>.</p></dd>
<dt><em>maxNumberOfEntries</em></dt>
<dd><p>The maximum number of entries to be returned. The sample references pointer provided by the <code>sampleRefs</code> parameter must be large enough to receive the number of entries specified by this parameter. The toolbox does not return more entries than you specify with this parameter. It may, however, return fewer.</p></dd>
<dt><em>actualNumberofEntries</em></dt>
<dd><p>A pointer to a long integer. GetMediaSampleReferences64 updates the field referred to by this parameter with the number of entries referred to by the returned reference.</p></dd>
<dt><em>sampleRefs</em></dt>
<dd><p>A pointer to the number of <code><!--a target="_top" -->SampleReference64Record<!--/a--></code> structures specified in the <code>maxNumberOfEntries</code> parameter. On return from this call, the number of sample reference records indicated by the value returned in <code>actualNumberofEntries</code> will be filled in.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The only difference between this function and <code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReferences" target="_self">GetMediaSampleReferences</a></code> is that the <code>sampleRefs</code> parameter points to SampleReference64Record structures instead of <code>SampleReferenceRecord</code> structures.</p>
<h5 class="tight">Special Considerations</h5><p>New applications should use this function instead of the 32-bit version.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 4.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaShadowSync" title="GetMediaShadowSync"></a><a name="//apple_ref/doc/c_ref/GetMediaShadowSync" title="GetMediaShadowSync"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaShadowSync" title="GetMediaShadowSync"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_79"></a><h3 class="tight">GetMediaShadowSync</h3>
<p class="spaceabove">Obsolete; no longer supported.</p>
<p class="spaceabove"><pre>
OSErr GetMediaShadowSync (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long frameDiffSampleNum,
   long *syncSampleNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>Indicates the media in which the shadow sync sample has been established and from which the shadow sync number is to be obtained.</p></dd>
<dt><em>frameDiffSampleNum</em></dt>
<dd><p>The frame difference sample number associated with the desired shadow sync sample number.</p></dd>
<dt><em>syncSampleNum</em></dt>
<dd><p>A pointer to the sample number of the shadow sync sample. If the media does not have a shadow sync sample, 0 is returned in the <code>syncSampleNum</code> parameter.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaSyncSampleCount" title="GetMediaSyncSampleCount"></a><a name="//apple_ref/doc/c_ref/GetMediaSyncSampleCount" title="GetMediaSyncSampleCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaSyncSampleCount" title="GetMediaSyncSampleCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_80"></a><h3 class="tight">GetMediaSyncSampleCount</h3>
<p class="spaceabove">Gets the number of sync samples in a media.</p>
<p class="spaceabove"><pre>
long GetMediaSyncSampleCount (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The number of sync samples in the media.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaTimeScale" title="GetMediaTimeScale"></a><a name="//apple_ref/doc/c_ref/GetMediaTimeScale" title="GetMediaTimeScale"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaTimeScale" title="GetMediaTimeScale"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_81"></a><h3 class="tight">GetMediaTimeScale</h3>
<p class="spaceabove">Determines a media's time scale.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeScale" target="_top">TimeScale</a> GetMediaTimeScale (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The media's time scale.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AddFrameToMovie/index.html#//apple_ref/doc/uid/DTS10000760" target="_top">AddFrameToMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaTrack" title="GetMediaTrack"></a><a name="//apple_ref/doc/c_ref/GetMediaTrack" title="GetMediaTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaTrack" title="GetMediaTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_82"></a><h3 class="tight">GetMediaTrack</h3>
<p class="spaceabove">Determines the track that uses a specified media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> GetMediaTrack (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The track identifier of the track that uses the specified media.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CaptureAndCompressIPBMovie/index.html#//apple_ref/doc/uid/DTS10003598" target="_top">CaptureAndCompressIPBMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTExtractAndConvertToMovieFile/index.html#//apple_ref/doc/uid/DTS10004106" target="_top">QTExtractAndConvertToMovieFile</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtmovietrack/index.html#//apple_ref/doc/uid/DTS10000786" target="_top">qtmovietrack</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtmovietrack.win/index.html#//apple_ref/doc/uid/DTS10000787" target="_top">qtmovietrack.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/scaudiocompress/index.html#//apple_ref/doc/uid/DTS10003962" target="_top">SCAudioCompress</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMediaUserData" title="GetMediaUserData"></a><a name="//apple_ref/doc/c_ref/GetMediaUserData" title="GetMediaUserData"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMediaUserData" title="GetMediaUserData"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_83"></a><h3 class="tight">GetMediaUserData</h3>
<p class="spaceabove">Obtains access to a media's user data list.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/UserData" target="_top">UserData</a> GetMediaUserData (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The media's user data list.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMovieDataSize" title="GetMovieDataSize"></a><a name="//apple_ref/doc/c_ref/GetMovieDataSize" title="GetMovieDataSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMovieDataSize" title="GetMovieDataSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_84"></a><h3 class="tight">GetMovieDataSize</h3>
<p class="spaceabove">Determines the size of the sample data in a segment of a movie.</p>
<p class="spaceabove"><pre>
long GetMovieDataSize (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. You obtain this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The size, in bytes, of the sample data in the defined segment of the designated movie.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMovieDataSize64" title="GetMovieDataSize64"></a><a name="//apple_ref/doc/c_ref/GetMovieDataSize64" title="GetMovieDataSize64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMovieDataSize64" title="GetMovieDataSize64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_85"></a><h3 class="tight">GetMovieDataSize64</h3>
<p class="spaceabove">Provides a 64-bit version of GetMovieDataSize.</p>
<p class="spaceabove"><pre>
OSErr GetMovieDataSize64 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/wide" target="_top">wide</a> *dataSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. You obtain this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment.</p></dd>
<dt><em>data size</em></dt>
<dd><p>The size, in bytes, of the sample data in the defined segment of the designated movie.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The only difference between this function and <code><a href="reference.html#//apple_ref/c/func/GetMovieDataSize" target="_self">GetMovieDataSize</a></code> is that the <code>dataSize</code> parameter is a 64-bit integer instead of a 32-bit integer.</p>
<h5 class="tight">Special Considerations</h5><p>New applications should use this function instead of the 32-bit version.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 4.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMovieImporterForDataRef" title="GetMovieImporterForDataRef"></a><a name="//apple_ref/doc/c_ref/GetMovieImporterForDataRef" title="GetMovieImporterForDataRef"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMovieImporterForDataRef" title="GetMovieImporterForDataRef"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_86"></a><h3 class="tight">GetMovieImporterForDataRef</h3>
<p class="spaceabove">Gets the movie importer component for a movie.</p>
<p class="spaceabove"><pre>
OSErr GetMovieImporterForDataRef (
   <!--a-->OSType<!--/a--> dataRefType,
   <!--a-->Handle<!--/a--> dataRef,
   long flags,
   <!--a-->Component<!--/a--> *importer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>dataRefType</em></dt>
<dd><p>The type of data reference; see <code><!--a target="_top" -->Data References<!--/a--></code>.</p></dd>
<dt><em>dataRef</em></dt>
<dd><p>A handle to the <code>data</code> reference. The type of information stored in the handle depends upon the <code>data</code> reference type specified by <code>dataRefType</code>.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Flags (see below) that modify this function's behavior. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->kGetMovieImporterDontConsiderGraphicsImporters<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>importer</em></dt>
<dd><p>A pointer to an importer component that can import the movie. Returns <code>NIL</code> if no importer can be found.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>If this function is allowed to use <code>async</code> calls (by being passed <code>kGetMovieImporterUseAsyncCalls</code> in the <code>flags</code> parameter), it returns <code>notEnoughDataErr</code> if it would block. You can access this error return through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. For other errors, see <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>You can use <code>GetMovieImporterForDataRef</code> to determine if a file can be opened by QuickTime as a movie (for example, in a drag-and-drop operation) as illustrated below:</p>
<div class="codesample"><table><tr><td scope="row"><pre>AliasHandle            alias;<span></span></pre></td></tr><tr><td scope="row"><pre>MovieImportComponent   mi;<span></span></pre></td></tr><tr><td scope="row"><pre>NewAliasMinimal(&#38;reply.sfFile, &#38;alias);<span></span></pre></td></tr><tr><td scope="row"><pre>GetMovieImporterForDataRef(rAliasType, (Handle)alias,<span></span></pre></td></tr><tr><td scope="row"><pre>kGetMovieImporterDontConsiderGraphicsImporters, &#38;mi);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeHandle((Handle)alias);<span></span></pre></td></tr><tr><td scope="row"><pre>if (mi !=NIL) {<span></span></pre></td></tr><tr><td scope="row"><pre>    // this file can be opened as a movie<span></span></pre></td></tr><tr><td scope="row"><pre>    . . .<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Movie_From_DataRef/index.html#//apple_ref/doc/uid/DTS10001039" target="_top">Movie From DataRef</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrbackbuffer/index.html#//apple_ref/doc/uid/DTS10001019" target="_top">vrbackbuffer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMovieIndTrack" title="GetMovieIndTrack"></a><a name="//apple_ref/doc/c_ref/GetMovieIndTrack" title="GetMovieIndTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMovieIndTrack" title="GetMovieIndTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_87"></a><h3 class="tight">GetMovieIndTrack</h3>
<p class="spaceabove">Determines the track identifier of a track, given the track's index value.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> GetMovieIndTrack (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   long index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>The index value of the track for this operation.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A track identifier. If the function cannot locate the track, it sets this returned value to <code>NIL</code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function returns the track identifier that is appropriate to the specified track. The index value identifies the track among all current tracks in a movie. Index values range from 1 to the number of tracks in the movie. The following code sample illustrates its use:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// GetMovieIndTrack coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 363<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie1;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue       lOldDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long            lIndex, lOrigTrackCount, lReferenceIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>Track           track, trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the first track in original movie and position at the start<span></span></pre></td></tr><tr><td scope="row"><pre>trackSprite =GetMovieIndTrack(movie1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieSelection(movie1, 0, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>// remove all tracks except video in modifier movie<span></span></pre></td></tr><tr><td scope="row"><pre>for (lIndex =1; lIndex &#60;=GetMovieTrackCount(movie2); lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    Track       track =GetMovieIndTrack(movie2, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType      dwType;<span></span></pre></td></tr><tr><td scope="row"><pre>    GetMediaHandlerDescription(GetTrackMedia(track),<span></span></pre></td></tr><tr><td scope="row"><pre>                                &#38;dwType, NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (dwType !=VideoMediaType) {<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeMovieTrack(track);<span></span></pre></td></tr><tr><td scope="row"><pre>        lIndex--;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// add the modifier track to original movie<span></span></pre></td></tr><tr><td scope="row"><pre>lOldDuration =GetMovieDuration(movie1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddMovieSelection(movie1, movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovie(movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>// truncate the movie to the length of the original track<span></span></pre></td></tr><tr><td scope="row"><pre>DeleteMovieSegment(movie1, lOldDuration,<span></span></pre></td></tr><tr><td scope="row"><pre>                    GetMovieDuration(movie1) - lOldDuration);<span></span></pre></td></tr><tr><td scope="row"><pre>// associate the modifier track with the original sprite track<span></span></pre></td></tr><tr><td scope="row"><pre>track =GetMovieIndTrack(movie1, lOrigTrackCount + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddTrackReference(trackSprite, track, kTrackModifierReference,<span></span></pre></td></tr><tr><td scope="row"><pre>                    &#38;lReferenceIndex);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ChromaKeyMovie/index.html#//apple_ref/doc/uid/DTS10000844" target="_top">ChromaKeyMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QT_Internals/index.html#//apple_ref/doc/uid/DTS10000848" target="_top">QT Internals</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo/index.html#//apple_ref/doc/uid/DTS10000782" target="_top">qtinfo</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo.win/index.html#//apple_ref/doc/uid/DTS10000783" target="_top">qtinfo.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMovieIndTrackType" title="GetMovieIndTrackType"></a><a name="//apple_ref/doc/c_ref/GetMovieIndTrackType" title="GetMovieIndTrackType"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMovieIndTrackType" title="GetMovieIndTrackType"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_88"></a><h3 class="tight">GetMovieIndTrackType</h3>
<p class="spaceabove">Searches for all of a movie's tracks that share a given media type or media characteristic.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> GetMovieIndTrackType (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   long index,
   <!--a-->OSType<!--/a--> trackType,
   long flags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>The index value of the track for this operation. This is not that same as the track's index value in the movie. Rather, this parameter is an index into the set of tracks that meet your other selection criteria.</p></dd>
<dt><em>trackType</em></dt>
<dd><p>Contains either a media type or a media characteristic value. The toolbox applies this value to the search, and returns information about tracks that meet this criterion. You indicate whether you have specified a media type or characteristic value by setting the <code>flags</code> parameter appropriately.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Contains flags (see below) that control the search operation. Note that you may not set both <code>movieTrackMediaType</code> and <code>movieTrackCharacteristic</code> to 1. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->movieTrackMediaType<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieTrackCharacteristic<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->movieTrackEnabledOnly<!--/a--></code></p></li>
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A track identifier.</p>
<h5 class="tight">Discussion</h5>
<p>The toolbox returns the track identifier that corresponds to the track that meets your selection criteria. If the toolbox cannot find a matching track, in returns a value of <code>NIL</code>.  Note that the <code>index</code> parameter does not work the same way that is does in <code><a href="reference.html#//apple_ref/c/func/GetMovieIndTrack" target="_self">GetMovieIndTrack</a></code>. With <code>GetMovieIndTrackType</code>, the <code>index</code> parameter specifies an index into the set of tracks that meet your other selection criteria. For example, in order to find the third track that supports the sound characteristic, you would call the function in the following manner:</p>
<div class="codesample"><table><tr><td scope="row"><pre>theTrack =GetMovieIndTrackType (theMovie, 3, AudioMediaCharacteristic, movieTrackCharacteristic);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode.win/index.html#//apple_ref/doc/uid/DTS10001059" target="_top">qttimecode.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMovieTrack" title="GetMovieTrack"></a><a name="//apple_ref/doc/c_ref/GetMovieTrack" title="GetMovieTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMovieTrack" title="GetMovieTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_89"></a><h3 class="tight">GetMovieTrack</h3>
<p class="spaceabove">Determines the track identifier of a track, given the track's ID value.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> GetMovieTrack (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   long trackID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>trackID</em></dt>
<dd><p>The ID value of the track for this operation.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A track identifier.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetMovieTrackCount" title="GetMovieTrackCount"></a><a name="//apple_ref/doc/c_ref/GetMovieTrackCount" title="GetMovieTrackCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetMovieTrackCount" title="GetMovieTrackCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_90"></a><h3 class="tight">GetMovieTrackCount</h3>
<p class="spaceabove">Returns the number of tracks in a movie.</p>
<p class="spaceabove"><pre>
long GetMovieTrackCount (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The number of tracks in the movie.</p>
<h5 class="tight">Discussion</h5>
<p>The following code sample illustrates the use of <code>GetMovieTrackCount</code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// GetMovieTrackCount coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 363<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie1;<span></span></pre></td></tr><tr><td scope="row"><pre>TimeValue       lOldDuration;<span></span></pre></td></tr><tr><td scope="row"><pre>Movie           movie2;<span></span></pre></td></tr><tr><td scope="row"><pre>long            lIndex, lOrigTrackCount, lReferenceIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>Track           track, trackSprite;<span></span></pre></td></tr><tr><td scope="row"><pre>// get the first track in original movie and position at the start<span></span></pre></td></tr><tr><td scope="row"><pre>trackSprite =GetMovieIndTrack(movie1, 1);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMovieSelection(movie1, 0, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>// remove all tracks except video in modifier movie<span></span></pre></td></tr><tr><td scope="row"><pre>for (lIndex =1; lIndex &#60;=GetMovieTrackCount(movie2); lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>    Track       track =GetMovieIndTrack(movie2, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    OSType      dwType;<span></span></pre></td></tr><tr><td scope="row"><pre>    GetMediaHandlerDescription(GetTrackMedia(track),<span></span></pre></td></tr><tr><td scope="row"><pre>                                &#38;dwType, NIL, NIL);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (dwType !=VideoMediaType) {<span></span></pre></td></tr><tr><td scope="row"><pre>        DisposeMovieTrack(track);<span></span></pre></td></tr><tr><td scope="row"><pre>        lIndex--;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>// add the modifier track to original movie<span></span></pre></td></tr><tr><td scope="row"><pre>lOldDuration =GetMovieDuration(movie1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddMovieSelection(movie1, movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>DisposeMovie(movie2);<span></span></pre></td></tr><tr><td scope="row"><pre>// truncate the movie to the length of the original track<span></span></pre></td></tr><tr><td scope="row"><pre>DeleteMovieSegment(movie1, lOldDuration,<span></span></pre></td></tr><tr><td scope="row"><pre>                    GetMovieDuration(movie1) - lOldDuration);<span></span></pre></td></tr><tr><td scope="row"><pre>// associate the modifier track with the original sprite track<span></span></pre></td></tr><tr><td scope="row"><pre>track =GetMovieIndTrack(movie1, lOrigTrackCount + 1);<span></span></pre></td></tr><tr><td scope="row"><pre>AddTrackReference(trackSprite, track, kTrackModifierReference,<span></span></pre></td></tr><tr><td scope="row"><pre>                    &#38;lReferenceIndex);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QT_Internals/index.html#//apple_ref/doc/uid/DTS10000848" target="_top">QT Internals</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo/index.html#//apple_ref/doc/uid/DTS10000782" target="_top">qtinfo</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo.win/index.html#//apple_ref/doc/uid/DTS10000783" target="_top">qtinfo.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetNextTrackReferenceType" title="GetNextTrackReferenceType"></a><a name="//apple_ref/doc/c_ref/GetNextTrackReferenceType" title="GetNextTrackReferenceType"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetNextTrackReferenceType" title="GetNextTrackReferenceType"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_91"></a><h3 class="tight">GetNextTrackReferenceType</h3>
<p class="spaceabove">Determines all of the track reference types that are defined for a given track.</p>
<p class="spaceabove"><pre>
<!--a-->OSType<!--/a--> GetNextTrackReferenceType (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->OSType<!--/a--> refType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>refType</em></dt>
<dd><p>The type of reference. Set this parameter to 0 to retrieve the first track reference type. On subsequent requests, use the previous value returned by this function.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>An <code>OSType</code> containing the next track reference type value defined for the track; see <code><!--a target="_top" -->Data References<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>There is no implied ordering of the values returned by this function . When you reach the end of the track's reference types, this function sets the returned value to 0.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Movie_From_DataRef/index.html#//apple_ref/doc/uid/DTS10001039" target="_top">Movie From DataRef</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackAlternate" title="GetTrackAlternate"></a><a name="//apple_ref/doc/c_ref/GetTrackAlternate" title="GetTrackAlternate"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackAlternate" title="GetTrackAlternate"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_92"></a><h3 class="tight">GetTrackAlternate</h3>
<p class="spaceabove">Determines all the tracks in an alternate group.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> GetTrackAlternate (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The track identifier of the next track in the group.</p>
<h5 class="tight">Discussion</h5>
<p>This function returns the track identifier of the next track in the group. Because the alternate group list is circular, you must specify a different track in the group each time you call this function. You have retrieved all the tracks in the group when the function returns the track identifier that you supplied the first time you called <code>GetTrackAlternate</code>. If there is only one track in an alternate group, or if the track you specify does not belong to a group, this function returns the track identifier you supply.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackCreationTime" title="GetTrackCreationTime"></a><a name="//apple_ref/doc/c_ref/GetTrackCreationTime" title="GetTrackCreationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackCreationTime" title="GetTrackCreationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_93"></a><h3 class="tight">GetTrackCreationTime</h3>
<p class="spaceabove">Returns a track's creation date and time.</p>
<p class="spaceabove"><pre>
unsigned long GetTrackCreationTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The track's creation date and time.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackDataSize" title="GetTrackDataSize"></a><a name="//apple_ref/doc/c_ref/GetTrackDataSize" title="GetTrackDataSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackDataSize" title="GetTrackDataSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_94"></a><h3 class="tight">GetTrackDataSize</h3>
<p class="spaceabove">Determines the size, in bytes, of the sample data in a segment of a track.</p>
<p class="spaceabove"><pre>
long GetTrackDataSize (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. You obtain this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The size, in bytes, of the sample data in a segment of a track.</p>
<h5 class="tight">Discussion</h5>
<p>This function counts each use of a sample. That is, if a track uses a given sample more than once, the size of that sample is included in the returned size value one time for each use. Consequently, the returned size is greater than or equal to the actual size of the track's sample data.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackDataSize64" title="GetTrackDataSize64"></a><a name="//apple_ref/doc/c_ref/GetTrackDataSize64" title="GetTrackDataSize64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackDataSize64" title="GetTrackDataSize64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_95"></a><h3 class="tight">GetTrackDataSize64</h3>
<p class="spaceabove">Provides a 64-bit version of GetTrackDataSize.</p>
<p class="spaceabove"><pre>
OSErr GetTrackDataSize64 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> duration,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/wide" target="_top">wide</a> *dataSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>A track identifier. Your application obtains this identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>A time value specifying the starting point of the segment.</p></dd>
<dt><em>duration</em></dt>
<dd><p>A time value that specifies the duration of the segment.</p></dd>
<dt><em>dataSize</em></dt>
<dd><p>The size, in bytes, of the sample data in a segment of a track. This function counts each use of a sample. That is, if a track uses a given sample more than once, the size of that sample is included in the returned size value one time for each use. Consequently, the returned size is greater than or equal to the actual size of the track's sample data.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The only difference between this function and <code><a href="reference.html#//apple_ref/c/func/GetTrackDataSize" target="_self">GetTrackDataSize</a></code> is that size of the sample data is returned as a 64-bit integer in the <code>dataSize</code> parameter instead of as a 32-bit integer returned by the function.</p>
<h5 class="tight">Special Considerations</h5><p>New applications should use this function instead of the 32-bit version.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 4.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackDimensions" title="GetTrackDimensions"></a><a name="//apple_ref/doc/c_ref/GetTrackDimensions" title="GetTrackDimensions"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackDimensions" title="GetTrackDimensions"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_96"></a><h3 class="tight">GetTrackDimensions</h3>
<p class="spaceabove">Determines a track's source rectangle.</p>
<p class="spaceabove"><pre>
void GetTrackDimensions (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> *width,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> *height
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code>NewMovieTrack</code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>width</em></dt>
<dd><p>A pointer to a fixed-point number. The Movie Toolbox returns the width, in pixels, of the track's rectangle. This value corresponds to the x coordinate of the lower-right corner of the track's rectangle.</p></dd>
<dt><em>height</em></dt>
<dd><p>A pointer to a fixed-point number. The Movie Toolbox returns the height, in pixels, of the track's rectangle. This value corresponds to the y coordinate of the lower-right corner of the track's rectangle.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtstreamsplicer.win/index.html#//apple_ref/doc/uid/DTS10001056" target="_top">qtstreamsplicer.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter/index.html#//apple_ref/doc/uid/DTS10000901" target="_top">SlideShowImporter</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackDisplayMatrix" title="GetTrackDisplayMatrix"></a><a name="//apple_ref/doc/c_ref/GetTrackDisplayMatrix" title="GetTrackDisplayMatrix"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackDisplayMatrix" title="GetTrackDisplayMatrix"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_97"></a><h3 class="tight">GetTrackDisplayMatrix</h3>
<p class="spaceabove">Returns a matrix that is the concatenation of all matrices currently affecting the track's location, scaling, and so on, including the movie's matrix, the track's matrix, and the modifier matrix.</p>
<p class="spaceabove"><pre>
OSErr GetTrackDisplayMatrix (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/MatrixRecord" target="_top">MatrixRecord</a> *matrix
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>matrix</em></dt>
<dd><p>A pointer to a matrix structure.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Since modifier information is passed between tracks at <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/MoviesTask" target="_top">MoviesTask</a></code> time, the information returned by this call represents the matrix in effect at the last <code>MoviesTask</code> call.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackDuration" title="GetTrackDuration"></a><a name="//apple_ref/doc/c_ref/GetTrackDuration" title="GetTrackDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackDuration" title="GetTrackDuration"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_98"></a><h3 class="tight">GetTrackDuration</h3>
<p class="spaceabove">Returns the duration of a track.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> GetTrackDuration (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The duration of the specified track, expressed in the time scale of the movie that contains the track.</p>
<h5 class="tight">Discussion</h5>
<p>The duration corresponds to the ending time of the track in the movie's time coordinate system (remember that all tracks start at movie time 0).</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/makeeffectslideshow/index.html#//apple_ref/doc/uid/DTS10000829" target="_top">makeeffectslideshow</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/makeeffectslideshow.win/index.html#//apple_ref/doc/uid/DTS10000830" target="_top">makeeffectslideshow.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackEditRate" title="GetTrackEditRate"></a><a name="//apple_ref/doc/c_ref/GetTrackEditRate" title="GetTrackEditRate"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackEditRate" title="GetTrackEditRate"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_99"></a><h3 class="tight">GetTrackEditRate</h3>
<p class="spaceabove">Returns the rate of the track edit of a specified track at an indicated time.</p>
<p class="spaceabove"><pre>
<a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> GetTrackEditRate (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> atTime
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track identifier for which the rate of a track edit (at the time given in the <code>atTime</code> parameter) is to be determined.</p></dd>
<dt><em>atTime</em></dt>
<dd><p>Indicates a time value at which the rate of a track edit (of a track identified in the parameter <code>theTrack</code>) is to be determined.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The rate of the track edit of the specified track at the specified time.</p>
<h5 class="tight">Discussion</h5>
<p>This function is useful if you are stepping through track edits directly in your application or if you are a client of QuickTime's base media handler.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/addflashactions.win/index.html#//apple_ref/doc/uid/DTS10001063" target="_top">addflashactions.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/addhtactions.win/index.html#//apple_ref/doc/uid/DTS10001065" target="_top">addhtactions.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredactions/index.html#//apple_ref/doc/uid/DTS10001074" target="_top">qtwiredactions</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/TimeCode_Media_Handlers/index.html#//apple_ref/doc/uid/DTS10000336" target="_top">TimeCode Media Handlers</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackEditRate64" title="GetTrackEditRate64"></a><a name="//apple_ref/doc/c_ref/GetTrackEditRate64" title="GetTrackEditRate64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackEditRate64" title="GetTrackEditRate64"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_100"></a><h3 class="tight">GetTrackEditRate64</h3>
<p class="spaceabove">Returns the rate of the track edit of a specified track at an indicated time.</p>
<p class="spaceabove"><pre>
<a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> GetTrackEditRate64 (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> atTime
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>A track identifier, which your application obtains from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>atTime</em></dt>
<dd><p>A 64-bit time value that indicates the time at which the rate of a track edit (of a track identified in the parameter <code>theTrack</code>) is to be determined.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The rate of the track edit of the specified track at the specified time.</p>
<h5 class="tight">Discussion</h5>
<p>This function is useful if you are stepping through track edits directly in your application or if you are a client of QuickTime's base media handler.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackEnabled" title="GetTrackEnabled"></a><a name="//apple_ref/doc/c_ref/GetTrackEnabled" title="GetTrackEnabled"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackEnabled" title="GetTrackEnabled"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_101"></a><h3 class="tight">GetTrackEnabled</h3>
<p class="spaceabove">Determines whether a track is currently enabled.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> GetTrackEnabled (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code>NewMovieTrack</code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>TRUE if the specified track is currently enabled, FALSE otherwise.</p>
<h5 class="tight">Discussion</h5>
<p>The Movie Toolbox services only enabled tracks.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode/index.html#//apple_ref/doc/uid/DTS10001058" target="_top">qttimecode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrscript/index.html#//apple_ref/doc/uid/DTS10001032" target="_top">vrscript</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackID" title="GetTrackID"></a><a name="//apple_ref/doc/c_ref/GetTrackID" title="GetTrackID"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackID" title="GetTrackID"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_102"></a><h3 class="tight">GetTrackID</h3>
<p class="spaceabove">Determines a track's unique track ID value.</p>
<p class="spaceabove"><pre>
long GetTrackID (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The specified track's unique track ID value.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QT_Internals/index.html#//apple_ref/doc/uid/DTS10000848" target="_top">QT Internals</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackLayer" title="GetTrackLayer"></a><a name="//apple_ref/doc/c_ref/GetTrackLayer" title="GetTrackLayer"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackLayer" title="GetTrackLayer"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_103"></a><h3 class="tight">GetTrackLayer</h3>
<p class="spaceabove">Retrieves a track's layer.</p>
<p class="spaceabove"><pre>
short GetTrackLayer (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The specified track's layer number. Layers with lower numbers appear in front of layers with higher numbers.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtaddeffectseg/index.html#//apple_ref/doc/uid/DTS10000831" target="_top">qtaddeffectseg</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtaddeffectseg.win/index.html#//apple_ref/doc/uid/DTS10000832" target="_top">qtaddeffectseg.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackMatrix" title="GetTrackMatrix"></a><a name="//apple_ref/doc/c_ref/GetTrackMatrix" title="GetTrackMatrix"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackMatrix" title="GetTrackMatrix"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_104"></a><h3 class="tight">GetTrackMatrix</h3>
<p class="spaceabove">Retrieves a track's transformation matrix.</p>
<p class="spaceabove"><pre>
void GetTrackMatrix (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/MatrixRecord" target="_top">MatrixRecord</a> *matrix
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code>NewMovieTrack</code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>matrix</em></dt>
<dd><p>A pointer to a <code><!--a target="_top" -->MatrixRecord<!--/a--></code> structure. The <code>GetTrackMatrix</code> function returns the track's matrix into the structure referred to by this parameter.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode.win/index.html#//apple_ref/doc/uid/DTS10001059" target="_top">qttimecode.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/TimeCode_Media_Handlers/index.html#//apple_ref/doc/uid/DTS10000336" target="_top">TimeCode Media Handlers</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackMedia" title="GetTrackMedia"></a><a name="//apple_ref/doc/c_ref/GetTrackMedia" title="GetTrackMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackMedia" title="GetTrackMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_105"></a><h3 class="tight">GetTrackMedia</h3>
<p class="spaceabove">Determines the media that contains a track's sample data.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> GetTrackMedia (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The media identifier for the media that contains the track's sample data. If the function could not locate the media, it sets this returned value to <code>NIL</code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtspritesplus.win/index.html#//apple_ref/doc/uid/DTS10001073" target="_top">qtspritesplus.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackModificationTime" title="GetTrackModificationTime"></a><a name="//apple_ref/doc/c_ref/GetTrackModificationTime" title="GetTrackModificationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackModificationTime" title="GetTrackModificationTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_106"></a><h3 class="tight">GetTrackModificationTime</h3>
<p class="spaceabove">Returns a track's modification date and time.</p>
<p class="spaceabove"><pre>
unsigned long GetTrackModificationTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The specified track's modification date and time.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackMovie" title="GetTrackMovie"></a><a name="//apple_ref/doc/c_ref/GetTrackMovie" title="GetTrackMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackMovie" title="GetTrackMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_107"></a><h3 class="tight">GetTrackMovie</h3>
<p class="spaceabove">Determines the movie that contains a specified track.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> GetTrackMovie (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code>NewMovieTrack</code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The identifier of the movie that contains the track.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtmovietrack/index.html#//apple_ref/doc/uid/DTS10000786" target="_top">qtmovietrack</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtmovietrack.win/index.html#//apple_ref/doc/uid/DTS10000787" target="_top">qtmovietrack.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackOffset" title="GetTrackOffset"></a><a name="//apple_ref/doc/c_ref/GetTrackOffset" title="GetTrackOffset"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackOffset" title="GetTrackOffset"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_108"></a><h3 class="tight">GetTrackOffset</h3>
<p class="spaceabove">Determines the time difference between the start of a track and the start of the movie that contains the track.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> GetTrackOffset (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The time difference between the start of the specified track and the start of the movie that contains the track.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/addflashactions.win/index.html#//apple_ref/doc/uid/DTS10001063" target="_top">addflashactions.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/addhtactions.win/index.html#//apple_ref/doc/uid/DTS10001065" target="_top">addhtactions.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredactions/index.html#//apple_ref/doc/uid/DTS10001074" target="_top">qtwiredactions</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredactions.win/index.html#//apple_ref/doc/uid/DTS10001075" target="_top">qtwiredactions.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackReference" title="GetTrackReference"></a><a name="//apple_ref/doc/c_ref/GetTrackReference" title="GetTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackReference" title="GetTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_109"></a><h3 class="tight">GetTrackReference</h3>
<p class="spaceabove">Retrieves the track identifier contained in an existing track reference.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> GetTrackReference (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->OSType<!--/a--> refType,
   long index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>refType</em></dt>
<dd><p>The type of reference; see <code><!--a target="_top" -->Data References<!--/a--></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>The index value of the reference found. You obtain this index value when you create the track reference.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The track identifier for the specified track. If the toolbox cannot locate the track reference corresponding to your specifications, it returns a value of <code>NIL</code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackReferenceCount" title="GetTrackReferenceCount"></a><a name="//apple_ref/doc/c_ref/GetTrackReferenceCount" title="GetTrackReferenceCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackReferenceCount" title="GetTrackReferenceCount"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_110"></a><h3 class="tight">GetTrackReferenceCount</h3>
<p class="spaceabove">Determines how many track references of a given type exist for a track.</p>
<p class="spaceabove"><pre>
long GetTrackReferenceCount (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->OSType<!--/a--> refType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>refType</em></dt>
<dd><p>The type of reference; see <code><!--a target="_top" -->Data References<!--/a--></code>. The toolbox determines the number of track references of this type.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A long integer that specifies the number of track references of the specified type in the track. If there are no references of the type you have specified, the function returns a value of 0.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackSoundLocalizationSettings" title="GetTrackSoundLocalizationSettings"></a><a name="//apple_ref/doc/c_ref/GetTrackSoundLocalizationSettings" title="GetTrackSoundLocalizationSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackSoundLocalizationSettings" title="GetTrackSoundLocalizationSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_111"></a><h3 class="tight">GetTrackSoundLocalizationSettings</h3>
<p class="spaceabove">Returns a handle to a copy of the current 3D sound settings for a specified track.</p>
<p class="spaceabove"><pre>
OSErr GetTrackSoundLocalizationSettings (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->Handle<!--/a--> *settings
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>settings</em></dt>
<dd><p>A handle to a copy of the current 3D sound settings for a specified track, in the format of an <code><!--a target="_top" -->SSpLocalizationData<!--/a--></code> record. If there are no 3D sound settings, the returned handle is set to <code>NIL</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Special Considerations</h5><p>The caller of this function is responsible for disposing of the returned handle.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackUsage" title="GetTrackUsage"></a><a name="//apple_ref/doc/c_ref/GetTrackUsage" title="GetTrackUsage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackUsage" title="GetTrackUsage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_112"></a><h3 class="tight">GetTrackUsage</h3>
<p class="spaceabove">Determines whether a track is used in a movie, its preview, its poster, or a combination of these.</p>
<p class="spaceabove"><pre>
long GetTrackUsage (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p><code>Track</code> usage flags (see below). These flags may be combined.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QT_Internals/index.html#//apple_ref/doc/uid/DTS10000848" target="_top">QT Internals</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo/index.html#//apple_ref/doc/uid/DTS10000782" target="_top">qtinfo</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo.win/index.html#//apple_ref/doc/uid/DTS10000783" target="_top">qtinfo.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackUserData" title="GetTrackUserData"></a><a name="//apple_ref/doc/c_ref/GetTrackUserData" title="GetTrackUserData"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackUserData" title="GetTrackUserData"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_113"></a><h3 class="tight">GetTrackUserData</h3>
<p class="spaceabove">Obtains access to a track's user data list.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/UserData" target="_top">UserData</a> GetTrackUserData (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A reference to the specified track's user data. If the function could not locate the track's user data, it sets this returned value to <code>NIL</code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function returns a reference to the track's user data list, which is valid until you dispose of the track. When you save the track, the Movie Toolbox saves the user data as well.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MakeEffectMovie/index.html#//apple_ref/doc/uid/DTS10001038" target="_top">MakeEffectMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Movie_From_DataRef/index.html#//apple_ref/doc/uid/DTS10001039" target="_top">Movie From DataRef</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrbackbuffer/index.html#//apple_ref/doc/uid/DTS10001019" target="_top">vrbackbuffer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmovies.win/index.html#//apple_ref/doc/uid/DTS10001031" target="_top">vrmovies.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/GetTrackVolume" title="GetTrackVolume"></a><a name="//apple_ref/doc/c_ref/GetTrackVolume" title="GetTrackVolume"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-GetTrackVolume" title="GetTrackVolume"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_114"></a><h3 class="tight">GetTrackVolume</h3>
<p class="spaceabove">Returns a track's current volume setting.</p>
<p class="spaceabove"><pre>
short GetTrackVolume (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The specified track's current volume setting. The values returned in the high and low words range from 0x0000 (silence) to 0x0100 (full volume). You can use constants (see below) to test for full volume and no volume.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieGWorlds/index.html#//apple_ref/doc/uid/DTS10000771" target="_top">MovieGWorlds</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QT_Internals/index.html#//apple_ref/doc/uid/DTS10000848" target="_top">QT Internals</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/InsertEmptyMovieSegment" title="InsertEmptyMovieSegment"></a><a name="//apple_ref/doc/c_ref/InsertEmptyMovieSegment" title="InsertEmptyMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-InsertEmptyMovieSegment" title="InsertEmptyMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_115"></a><h3 class="tight">InsertEmptyMovieSegment</h3>
<p class="spaceabove">Adds an empty segment to a movie.</p>
<p class="spaceabove"><pre>
OSErr InsertEmptyMovieSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> dstMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> dstIn,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> dstDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>dstMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, or <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>dstIn</em></dt>
<dd><p>A time value that specifies where the segment is to be inserted. This time value must be expressed in the movie's time scale.</p></dd>
<dt><em>dstDuration</em></dt>
<dd><p>A time value that specifies the duration of the segment to be added. This time value must be expressed in the movie's time scale.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>You specify the starting time and duration of the empty segment to be added. These times must be expressed in the movie's time scale. You cannot add empty space to the end of a movie. If you want to insert a segment beyond the end of a movie, use <code><a href="reference.html#//apple_ref/c/func/InsertMovieSegment" target="_self">InsertMovieSegment</a></code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/InsertEmptyTrackSegment" title="InsertEmptyTrackSegment"></a><a name="//apple_ref/doc/c_ref/InsertEmptyTrackSegment" title="InsertEmptyTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-InsertEmptyTrackSegment" title="InsertEmptyTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_116"></a><h3 class="tight">InsertEmptyTrackSegment</h3>
<p class="spaceabove">Adds an empty segment to a track.</p>
<p class="spaceabove"><pre>
OSErr InsertEmptyTrackSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> dstTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> dstIn,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> dstDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>dstTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>dstIn</em></dt>
<dd><p>A time value specifying where the segment is to be inserted. This time value must be expressed in the time scale of the movie that contains the destination track.</p></dd>
<dt><em>dstDuration</em></dt>
<dd><p>A time value that specifies the duration of the segment to be added. This time value must be expressed in the time scale of the movie that contains the destination track.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>See <code><!--a target="_top" -->Error Codes<!--/a--></code>. If you try to add an empty segment beyond the end of a track, this function does not add the empty segment and returns a result code of <code>invalidTime</code>. Returns <code>noErr</code> if there is no error.</p>
<h5 class="tight">Discussion</h5>
<p>You specify the starting time and duration of the empty segment to be added. These times must be expressed in the movie's time scale. This function then inserts the appropriate amount of empty time into the track. The exact meaning of the term empty time depends upon the type of track. For example, empty time in a sound track is silence. Note that you cannot add empty space to the end of a movie or to the end of a track.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/InsertMediaIntoTrack" title="InsertMediaIntoTrack"></a><a name="//apple_ref/doc/c_ref/InsertMediaIntoTrack" title="InsertMediaIntoTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-InsertMediaIntoTrack" title="InsertMediaIntoTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_117"></a><h3 class="tight">InsertMediaIntoTrack</h3>
<p class="spaceabove">Inserts a reference to a media segment into a track.</p>
<p class="spaceabove"><pre>
OSErr InsertMediaIntoTrack (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> trackStart,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> mediaTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> mediaDuration,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> mediaRate
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> or <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>trackStart</em></dt>
<dd><p>A time value specifying where the segment is to be inserted. This time value must be expressed in the movie's time scale. If you set this parameter to -1, the media data is added to the end of the track.</p></dd>
<dt><em>mediaTime</em></dt>
<dd><p>A time value specifying the starting point of the segment in the media. This time value must be expressed in the media's time scale.</p></dd>
<dt><em>mediaDuration</em></dt>
<dd><p>A time value specifying the duration of the media's segment. This time value must be expressed in the media's time scale.</p></dd>
<dt><em>mediaRate</em></dt>
<dd><p>The media's rate. A value of 1.0 indicates the media's natural playback rate. This value should be positive and not 0.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>You specify the segment in the media by providing a starting time and duration. You specify the point in the destination track by providing a time in the track. <code>InsertMediaIntoTrack</code> then inserts the media segment into the track at the specified location. The Movie Toolbox determines the duration of the segment in the track based on the media rate and duration information you provide.</p>
<p>Use this function after you have added samples to a media. If you play the track before you call this function, the track does not contain the new media data.</p>
<p>Here's an example of using this function to add atom containers to a track:</p>
<div class="codesample"><table><tr><td scope="row"><pre>//InsertMediaIntoTrack coding example<span></span></pre></td></tr><tr><td scope="row"><pre>long descSize;<span></span></pre></td></tr><tr><td scope="row"><pre>QTVRSampleDescriptionHandle qtvrSampleDesc;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Create a QTVR sample description handle<span></span></pre></td></tr><tr><td scope="row"><pre>descSize =sizeof(QTVRSampleDescription) + GetHandleSize((Handle) vrWorld)<span></span></pre></td></tr><tr><td scope="row"><pre>                            - sizeof(UInt32);<span></span></pre></td></tr><tr><td scope="row"><pre>qtvrSampleDesc =(QTVRSampleDescriptionHandle) NewHandleClear (descSize);<span></span></pre></td></tr><tr><td scope="row"><pre>(*qtvrSampleDesc)-><span></span></pre></td></tr><tr><td scope="row"><pre>size =descSize;<span></span></pre></td></tr><tr><td scope="row"><pre>(*qtvrSampleDesc)-><span></span></pre></td></tr><tr><td scope="row"><pre>type =kQTVRQTVRType;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// Copy the VR world atom container data into the QTVR sample description<span></span></pre></td></tr><tr><td scope="row"><pre>BlockMove (*((Handle) vrWorld), &#38;((*qtvrSampleDesc)-><span></span></pre></td></tr><tr><td scope="row"><pre>data),<span></span></pre></td></tr><tr><td scope="row"><pre>                            GetHandleSize((Handle) vrWorld));<span></span></pre></td></tr><tr><td scope="row"><pre>// Now add it to the QTVR track's media<span></span></pre></td></tr><tr><td scope="row"><pre>err =BeginMediaEdits (qtvrMedia);<span></span></pre></td></tr><tr><td scope="row"><pre>err =AddMediaSample (qtvrMedia, (Handle) nodeInfo, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>    GetHandleSize((Handle) nodeInfo), duration,<span></span></pre></td></tr><tr><td scope="row"><pre>    (SampleDescriptionHandle) qtvrSampleDesc, 1, 0, &#38;sampleTime);<span></span></pre></td></tr><tr><td scope="row"><pre>err =EndMediaEdits (qtvrMedia);<span></span></pre></td></tr><tr><td scope="row"><pre>InsertMediaIntoTrack (qtvrTrack, trackTime, sampleTime, duration, 1L&#60;&#60;16);<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/InsertMovieSegment" title="InsertMovieSegment"></a><a name="//apple_ref/doc/c_ref/InsertMovieSegment" title="InsertMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-InsertMovieSegment" title="InsertMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_118"></a><h3 class="tight">InsertMovieSegment</h3>
<p class="spaceabove">Copies part of one movie to another.</p>
<p class="spaceabove"><pre>
OSErr InsertMovieSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> srcMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> dstMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> srcIn,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> srcDuration,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> dstIn
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>srcMovie</em></dt>
<dd><p>The source movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>. This function obtains the movie segment from the source movie specified in this parameter.</p></dd>
<dt><em>dstMovie</em></dt>
<dd><p>The destination movie for this operation. The function places a copy of the segment, which it obtained from the source movie, into this destination movie.</p></dd>
<dt><em>srcIn</em></dt>
<dd><p>The start of the segment in the source movie. This time value must be expressed in the source movie's time scale.</p></dd>
<dt><em>srcDuration</em></dt>
<dd><p>The duration of the segment in the source movie. This time value must be expressed in the source movie's time scale.</p></dd>
<dt><em>dstIn</em></dt>
<dd><p>A time value specifying where the segment is to be inserted. This time value must be expressed in the destination movie's time scale.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>If you are not copying data from one location in a movie to a different point in the same movie, this function may create new tracks, as appropriate. Before adding a track to the destination movie, the Movie Toolbox looks in the destination movie for tracks that have the same characteristics as the tracks in the source movie. The toolbox considers several characteristics when searching for an appropriate track, including track spatial dimensions, track matrix, track clipping region, track matte, alternate group affiliation, media time scale, media type, media language, and data reference (that is, referring to the same file). If the Movie Toolbox cannot find an appropriate track in the destination movie, it creates a new track with the proper characteristics.</p>
<h5 class="tight">Special Considerations</h5><p>If you have assigned a progress function to the destination movie, the Movie Toolbox calls that progress function during long copy operations. Some Movie Toolbox functions can take a long time to execute. For example, if you call <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/FlattenMovie" target="_top">FlattenMovie</a></code> and specify a large movie, the Movie Toolbox must read and write all the sample data for the movie. During such operations you may wish to display some kind of progress indicator to the user.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/bMoviePalette/index.html#//apple_ref/doc/uid/DTS10000843" target="_top">bMoviePalette</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/bMoviePaletteCocoa/index.html#//apple_ref/doc/uid/DTS10000379" target="_top">bMoviePaletteCocoa</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtstreamsplicer/index.html#//apple_ref/doc/uid/DTS10001055" target="_top">qtstreamsplicer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtstreamsplicer.win/index.html#//apple_ref/doc/uid/DTS10001056" target="_top">qtstreamsplicer.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/InsertTrackSegment" title="InsertTrackSegment"></a><a name="//apple_ref/doc/c_ref/InsertTrackSegment" title="InsertTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-InsertTrackSegment" title="InsertTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_119"></a><h3 class="tight">InsertTrackSegment</h3>
<p class="spaceabove">Copies data into a track.</p>
<p class="spaceabove"><pre>
OSErr InsertTrackSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> srcTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> dstTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> srcIn,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> srcDuration,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> dstIn
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>srcTrack</em></dt>
<dd><p>The source track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>dstTrack</em></dt>
<dd><p>The destination track for this operation. This function places a copy of the segment, which is obtained from the source track, into this destination track. The media for the destination track must be opened for writing by calling <code><a href="reference.html#//apple_ref/c/func/BeginMediaEdits" target="_self">BeginMediaEdits</a></code> in order for the data to be copied. If the media is not opened for writing, the segment will be copied by reference. At the end of the editing session, your application must call <code><a href="reference.html#//apple_ref/c/func/EndMediaEdits" target="_self">EndMediaEdits</a></code> if it has called <code>BeginMediaEdits</code>.</p></dd>
<dt><em>srcIn</em></dt>
<dd><p>The start of the segment in the source track. This time value must be expressed in the time scale of the movie that contains the source track.</p></dd>
<dt><em>srcDuration</em></dt>
<dd><p>The duration of the segment in the source track. This time value must be expressed in the time scale of the movie that contains the source track.</p></dd>
<dt><em>dstIn</em></dt>
<dd><p>A time value specifying where the segment is to be inserted. This time value must be expressed in the time scale of the movie that contains the destination track.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>If you are copying data between tracks, make sure that the two tracks are of the same type. For example, you cannot copy a segment from a sound track into a video track. If you have assigned a progress function to the movie that contains the destination track, the Movie Toolbox calls that progress function during long copy operations.</p>
<h5 class="tight">Special Considerations</h5><p>If you copy a segment without calling <code>BeginMediaEdits</code> on the destination track's media, the data can be copied later by flattening the movie.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtaddeffectseg/index.html#//apple_ref/doc/uid/DTS10000831" target="_top">qtaddeffectseg</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtaddeffectseg.win/index.html#//apple_ref/doc/uid/DTS10000832" target="_top">qtaddeffectseg.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtstreamsplicer.win/index.html#//apple_ref/doc/uid/DTS10001056" target="_top">qtstreamsplicer.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/IsScrapMovie" title="IsScrapMovie"></a><a name="//apple_ref/doc/c_ref/IsScrapMovie" title="IsScrapMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-IsScrapMovie" title="IsScrapMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_120"></a><h3 class="tight">IsScrapMovie</h3>
<p class="spaceabove">Checks the system scrap to find out if it can translate any of the data into a movie.</p>
<p class="spaceabove"><pre>
<!--a-->Component<!--/a--> IsScrapMovie (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> targetTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>targetTrack</em></dt>
<dd><p>The location of the potential target movie track for the data on the system scrap.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>If <code>IsScrapMovie</code> finds an appropriate type, it returns a movie import component that can translate the scrap. Otherwise, it returns 0.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/MediaContainsDisplayOffsets" title="MediaContainsDisplayOffsets"></a><a name="//apple_ref/doc/c_ref/MediaContainsDisplayOffsets" title="MediaContainsDisplayOffsets"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-MediaContainsDisplayOffsets" title="MediaContainsDisplayOffsets"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_121"></a><h3 class="tight">MediaContainsDisplayOffsets</h3>
<p class="spaceabove">Tests whether a media contains display offsets.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> MediaContainsDisplayOffsets (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>TRUE if the media is valid and contains at least one sample with a nonzero display offset; FALSE otherwise.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/MediaDecodeTimeToSampleNum" title="MediaDecodeTimeToSampleNum"></a><a name="//apple_ref/doc/c_ref/MediaDecodeTimeToSampleNum" title="MediaDecodeTimeToSampleNum"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-MediaDecodeTimeToSampleNum" title="MediaDecodeTimeToSampleNum"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_122"></a><h3 class="tight">MediaDecodeTimeToSampleNum</h3>
<p class="spaceabove">Finds the sample for a specified decode time.</p>
<p class="spaceabove"><pre>
void MediaDecodeTimeToSampleNum (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> decodeTime,
   <!--a-->SInt64<!--/a--> *sampleNum,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>decodeTime</em></dt>
<dd><p>A 64-bit time value that represents the decode time for which you are retrieving sample information. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleNum</em></dt>
<dd><p>A pointer to a variable that is to receive the sample number. The function returns the sample number that identifies the sample that contains data for the specified decode time, or 0 if it is not found.</p></dd>
<dt><em>sampleDecodeTime</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the decode time of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd>
<dt><em>sampleDecodeDuration</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the decode duration of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. It returns <code>paramErr</code> if there is a bad parameter value, <code>invalidTime</code> if <code>sampleDecodeTime</code> is out of the decode time range, or <code>noErr</code> if there is no error.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/MediaDisplayTimeToSampleNum" title="MediaDisplayTimeToSampleNum"></a><a name="//apple_ref/doc/c_ref/MediaDisplayTimeToSampleNum" title="MediaDisplayTimeToSampleNum"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-MediaDisplayTimeToSampleNum" title="MediaDisplayTimeToSampleNum"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_123"></a><h3 class="tight">MediaDisplayTimeToSampleNum</h3>
<p class="spaceabove">Finds the sample number for a specified display time.</p>
<p class="spaceabove"><pre>
void MediaDisplayTimeToSampleNum (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> displayTime,
   <!--a-->SInt64<!--/a--> *sampleNum,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDisplayTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDisplayDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>displayTime</em></dt>
<dd><p>A 64-bit time value that represents the display time for which you are retrieving sample information. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleNum</em></dt>
<dd><p>A pointer to a long integer that is to receive the sample number. The function returns the sample number that identifies the sample for the specified display time, or 0 if it is not found.</p></dd>
<dt><em>sampleDisplayTime</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the display time of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd>
<dt><em>sampleDisplayDuration</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the display duration of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. It returns <code>paramErr</code> if there is a bad parameter value, <code>invalidTime</code> if <code>sampleDisplayTime</code> is out of the display time range, or <code>noErr</code> if there is no error.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/MediaTimeToSampleNum" title="MediaTimeToSampleNum"></a><a name="//apple_ref/doc/c_ref/MediaTimeToSampleNum" title="MediaTimeToSampleNum"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-MediaTimeToSampleNum" title="MediaTimeToSampleNum"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_124"></a><h3 class="tight">MediaTimeToSampleNum</h3>
<p class="spaceabove">Lets you find the sample that contains the data for a specified time.</p>
<p class="spaceabove"><pre>
void MediaTimeToSampleNum (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> time,
   long *sampleNum,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>time</em></dt>
<dd><p>The time for which you are retrieving sample information. You must specify this value in the media's time scale.</p></dd>
<dt><em>sampleNum</em></dt>
<dd><p>A pointer to a long integer that is to receive the sample number. The Movie Toolbox returns the sample number that identifies the sample that contains data for the time specified by the <code>time</code> parameter.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. The <code>MediaTimeToSampleNum</code> function updates this time value to indicate the starting time of the sample that contains data for the time specified by the <code>time</code> parameter. This time value is expressed in the media's time scale. Set this parameter to <code>NIL</code> if you don't want this information.</p></dd>
<dt><em>sampleDuration</em></dt>
<dd><p>A pointer to a time value. The Movie Toolbox returns the duration of the sample that contains data for the time specified by the <code>time</code> parameter. This time value is expressed in the media's time scale. Set this parameter to <code>NIL</code> if you don't want this information.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/NewMovieEditState" title="NewMovieEditState"></a><a name="//apple_ref/doc/c_ref/NewMovieEditState" title="NewMovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-NewMovieEditState" title="NewMovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_125"></a><h3 class="tight">NewMovieEditState</h3>
<p class="spaceabove">Creates an edit state.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/MovieEditState">MovieEditState</a> NewMovieEditState (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A pointer to a <code><!--a target="_top" -->MovieEditStateRecord<!--/a--></code> structure. The edit state contains all the information describing a movie's content, including the current selection, the movie's tracks, and the media data associated with those tracks.</p>

<h5 class="tight">Special Considerations</h5><p>You must dispose of a movie's <code>MovieEditStateRecord</code> structures, using <code><a href="reference.html#//apple_ref/c/func/DisposeMovieEditState" target="_self">DisposeMovieEditState</a></code>, before you dispose of the movie itself.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/NewMovieTrack" title="NewMovieTrack"></a><a name="//apple_ref/doc/c_ref/NewMovieTrack" title="NewMovieTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-NewMovieTrack" title="NewMovieTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_126"></a><h3 class="tight">NewMovieTrack</h3>
<p class="spaceabove">Creates a new movie track, without a media.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> NewMovieTrack (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> width,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> height,
   short trackVolume
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>width</em></dt>
<dd><p>A fixed number denoting the display width of the track, in pixels.</p></dd>
<dt><em>height</em></dt>
<dd><p>A fixed number denoting the display height of the track, in pixels. Together, the <code>height</code> and width parameters define the track's display rectangle. The upper-left corner of this rectangle lies at (0,0) in the movie's rectangle. The height and width parameters therefore establish the lower-right corner of the track's display rectangle. If you are creating a track that is not displayed, such as a sound track, set the <code>height</code> and width parameters to 0.</p></dd>
<dt><em>trackVolume</em></dt>
<dd><p>The volume setting of the track as a 16-bit, fixed-point number. The high-order 8 bits specify the integer portion; the low-order 8 bits specify the fractional part. Volume values range from -1.0 to 1.0. Negative values play no sound but preserve the absolute value of the volume setting. Set this parameter to <code>kFullVolume</code> to play the track at its full, natural volume. Set this parameter to <code>kNoVolume</code> to set the volume to 0. See these constants:
<ul class="simple">
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The identifier of the new track.</p>
<h5 class="tight">Discussion</h5>
<p>Immediately after creating a new track, you should call <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> to create a media for the track; a track without a media is of no use. The following code sample creates a new sprite track and media, then calls <code><a href="reference.html#//apple_ref/c/func/BeginMediaEdits" target="_self">BeginMediaEdits</a></code> to prepare to add samples to the media:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// NewMovieTrack coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 349<span></span></pre></td></tr><tr><td scope="row"><pre>#define kSpriteMediaTimeScale           600<span></span></pre></td></tr><tr><td scope="row"><pre>track =NewMovieTrack(movie, ((long)lTrackWidth &#60;&#60; 16),<span></span></pre></td></tr><tr><td scope="row"><pre>                            ((long)lTrackHeight &#60;&#60; 16), 0);<span></span></pre></td></tr><tr><td scope="row"><pre>media =NewTrackMedia(track, SpriteMediaType,<span></span></pre></td></tr><tr><td scope="row"><pre>                            kSpriteMediaTimeScale, NIL, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>FailOSErr(BeginMediaEdits(media));<span></span></pre></td></tr></table></div>
<h5 class="tight">Special Considerations</h5><p>When you add a track to a movie, the Movie Toolbox automatically adjusts the display <code><!--a target="_top" -->Rect<!--/a--></code> structure of the movie. You may want to detect these changes by calling <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMovieBox" target="_top">GetMovieBox</a></code> so that you can adjust the size of the movie's display window.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/NewTrackEditState" title="NewTrackEditState"></a><a name="//apple_ref/doc/c_ref/NewTrackEditState" title="NewTrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-NewTrackEditState" title="NewTrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_127"></a><h3 class="tight">NewTrackEditState</h3>
<p class="spaceabove">Creates a new edit state for a given track.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/TrackEditState">TrackEditState</a> NewTrackEditState (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The track's edit state identifier. If the edit state could not be created, the returned identifier is set to <code>NIL</code>. You must dispose of a movie's track edit states, using Use <code><a href="reference.html#//apple_ref/c/func/DisposeTrackEditState" target="_self">DisposeTrackEditState</a></code>, before disposing of the track or of the movie that contains the track.</p>
<h5 class="tight">Discussion</h5>
<p>Use the returned identifier with other Movie Toolbox edit state functions, such as <code><a href="reference.html#//apple_ref/c/func/UseTrackEditState" target="_self">UseTrackEditState</a></code>. The edit state contains all the information describing a track's content, including the identity of the media data associated with the track and all the track's edit lists.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/NewTrackMedia" title="NewTrackMedia"></a><a name="//apple_ref/doc/c_ref/NewTrackMedia" title="NewTrackMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-NewTrackMedia" title="NewTrackMedia"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_128"></a><h3 class="tight">NewTrackMedia</h3>
<p class="spaceabove">Creates a media for a new track.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> NewTrackMedia (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->OSType<!--/a--> mediaType,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeScale" target="_top">TimeScale</a> timeScale,
   <!--a-->Handle<!--/a--> dataRef,
   <!--a-->OSType<!--/a--> dataRefType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code>.</p></dd>
<dt><em>mediaType</em></dt>
<dd><p>The type of media to create; see <code><!--a target="_top" -->Media Identifiers<!--/a--></code>. The Movie Toolbox uses this value to find the correct media handler for the new media. If the Movie Toolbox cannot locate an appropriate media handler, it returns an error.</p></dd>
<dt><em>timeScale</em></dt>
<dd><p>Defines the media's time coordinate system.</p></dd>
<dt><em>dataRef</em></dt>
<dd><p>The data reference. This parameter contains a handle to the information that identifies the file that contains this media's data. The type of information stored in that handle depends upon the value of the <code>dataRefType</code> parameter. If you are creating a new media that refers to existing media data, you can use the <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/GetMediaDataRef" target="_top">GetMediaDataRef</a></code> function to obtain information about the existing data reference. You can then supply information about that reference to this function. Set this parameter to <code>NIL</code> to use the file that is associated with the movie or if the movie does not have a movie file. For example, if you have created the movie using <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/CreateMovieFile" target="_top">CreateMovieFile</a></code> or <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, the Movie Toolbox assumes that the movie's data resides in the file specified at that time. If you have created the movie using the <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromScrap" target="_top">NewMovieFromScrap</a></code> or <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code> functions, the movie does not have a movie file.</p></dd>
<dt><em>dataRefType</em></dt>
<dd><p>The type of data reference; see <code><!--a target="_top" -->Data References<!--/a--></code>. If the data reference is an alias, you must set this parameter to <code>rAliasType</code>. See <em>Inside Macintosh: Files</em> for more information about aliases and the Alias Manager.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A media identifier, referring to the actual data samples used by the track. If the function cannot create a new media, it sets the returned value to <code>NIL</code>.</p>
<h5 class="tight">Discussion</h5>
<p>The following code sample creates a new sprite track and media, then calls <code><a href="reference.html#//apple_ref/c/func/BeginMediaEdits" target="_self">BeginMediaEdits</a></code> to prepare to add samples to the media:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// NewTrackMedia coding example<span></span></pre></td></tr><tr><td scope="row"><pre>// See "Discovering QuickTime," page 349<span></span></pre></td></tr><tr><td scope="row"><pre>#define kSpriteMediaTimeScale           600<span></span></pre></td></tr><tr><td scope="row"><pre>track =NewMovieTrack(movie, ((long)lTrackWidth &#60;&#60; 16),<span></span></pre></td></tr><tr><td scope="row"><pre>                            ((long)lTrackHeight &#60;&#60; 16), 0);<span></span></pre></td></tr><tr><td scope="row"><pre>media =NewTrackMedia(track, SpriteMediaType,<span></span></pre></td></tr><tr><td scope="row"><pre>                            kSpriteMediaTimeScale, NIL, 0);<span></span></pre></td></tr><tr><td scope="row"><pre>FailOSErr(BeginMediaEdits(media));<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano.win/index.html#//apple_ref/doc/uid/DTS10001029" target="_top">vrmakepano.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/OpenADataHandler" title="OpenADataHandler"></a><a name="//apple_ref/doc/c_ref/OpenADataHandler" title="OpenADataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-OpenADataHandler" title="OpenADataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_129"></a><h3 class="tight">OpenADataHandler</h3>
<p class="spaceabove">Opens a data handler component.</p>
<p class="spaceabove"><pre>
OSErr OpenADataHandler (
   <!--a-->Handle<!--/a--> dataRef,
   <!--a-->OSType<!--/a--> dataHandlerSubType,
   <!--a-->Handle<!--/a--> anchorDataRef,
   <!--a-->OSType<!--/a--> anchorDataRefType,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeBase" target="_top">TimeBase</a> tb,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> *dh
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>dataRef</em></dt>
<dd><p>A handle to a data reference. The type of information stored in the handle depends upon the <code>data</code> reference type specified by the <code>dataHandlerSubType</code> parameter.</p></dd>
<dt><em>dataHandlerSubType</em></dt>
<dd><p>Identifies both the type of data reference and, by implication, the <code>component</code> subtype value assigned to the data handler components that operate on data references of that type.</p></dd>
<dt><em>anchorDataRef</em></dt>
<dd><p>A handle to the anchor data reference.</p></dd>
<dt><em>anchorDataRefType</em></dt>
<dd><p>The type of the anchor data reference.</p></dd>
<dt><em>tb</em></dt>
<dd><p>The time base for the data handler. Your application obtains this time base identifier from <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewTimeBase" target="_top">NewTimeBase</a></code>.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Flags (see below) that indicate the way in which you intend to use the data handler component. Not all data handlers necessarily support all services; for example, some data handler components may not support streaming writes. Set the appropriate flags to 1. See these constants:
<ul class="simple">
<li><p><code><a href="../../QTRef_Constants/Reference/reference.html#//apple_ref/c/econst/kDataHCanRead" target="_top">kDataHCanRead</a></code></p></li>
<li><p><code><a href="../../QTRef_Constants/Reference/reference.html#//apple_ref/c/econst/kDataHCanRead" target="_top">kDataHCanWrite</a></code></p></li>
<li><p><code><a href="../../QTRef_Constants/Reference/reference.html#//apple_ref/c/econst/kDataHCanRead" target="_top">kDataHCanStreamingWrite</a></code></p></li>
</ul>
</p></dd>
<dt><em>dh</em></dt>
<dd><p>A pointer to a field to receive the <code>ComponentInstance</code> value of the newly-opened data handler component.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 4.1.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ElectricImageComponent/index.html#//apple_ref/doc/uid/DTS10000888" target="_top">ElectricImageComponent</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ElectricImageComponent.win/index.html#//apple_ref/doc/uid/DTS10000889" target="_top">ElectricImageComponent.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/PasteHandleIntoMovie" title="PasteHandleIntoMovie"></a><a name="//apple_ref/doc/c_ref/PasteHandleIntoMovie" title="PasteHandleIntoMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-PasteHandleIntoMovie" title="PasteHandleIntoMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_130"></a><h3 class="tight">PasteHandleIntoMovie</h3>
<p class="spaceabove">Takes the contents of a specified handle, together with its type, and pastes it into a specified movie.</p>
<p class="spaceabove"><pre>
OSErr PasteHandleIntoMovie (
   <!--a-->Handle<!--/a--> h,
   <!--a-->OSType<!--/a--> handleType,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> userComp
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>h</em></dt>
<dd><p>The handle to be pasted into the movie indicated by the <code>theMovie</code> parameter.</p></dd>
<dt><em>handleType</em></dt>
<dd><p>The data type of the handle specified in the <code>h</code> parameter. If the handle is set to 0, the function searches the scrap for a field of the type <code>handleType</code>. If both the <code>h</code> parameter and the <code>handleType</code> parameter are <code>NIL</code>, the function uses the first available data from the scrap. </p></dd>
<dt><em>theMovie</em></dt>
<dd><p>The destination movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>flags</em></dt>
<dd><p>A flag (see below) that can further refine conditions of the paste operation. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->pasteInParallel<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>userComp</em></dt>
<dd><p>The component or an instance of the component that is to perform the conversion of the data into a QuickTime movie. If you want a particular movie import component to perform the conversion, you may pass the component or an instance of that component. Otherwise, set this parameter to 0 to allow the Movie Toolbox to determine the appropriate component. If you pass in a component instance, this function uses it. This allows you to communicate directly with the component before using this function to establish any conversion parameters. If you pass in a component ID, an instance is created and closed within this function.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>If you are just pasting in data from the scrap, it is best to allow this function to retrieve the data from the scrap, rather than doing it yourself. In this way, the function is able to obtain supplemental data from the scrap, if necessary (for example, <code>'styl'</code> resources for <code>'TEXT'</code>). This function can paste into the current selection in two different ways. If the selection is empty (for example, duration =0), it adds the data with the appropriate duration. If the selection is not empty, the data is added and then scaled to fit into the duration of the selection. The current selection is deleted, unless you set the <code>pasteInParallel</code> flag.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/PasteMovieSelection" title="PasteMovieSelection"></a><a name="//apple_ref/doc/c_ref/PasteMovieSelection" title="PasteMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-PasteMovieSelection" title="PasteMovieSelection"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_131"></a><h3 class="tight">PasteMovieSelection</h3>
<p class="spaceabove">Places the tracks from one movie into another movie.</p>
<p class="spaceabove"><pre>
void PasteMovieSelection (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> src
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The destination movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>src</em></dt>
<dd><p>The source movie for this operation. <code>PasteMovieSelection</code> places the tracks from this movie in the destination movie.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Whenever possible, the Movie Toolbox uses existing tracks to store the data to be pasted. Before adding a track to the destination movie, the Toolbox looks in the destination movie for tracks that have the same characteristics as the tracks in the source movie. It considers several characteristics when searching for an appropriate track, including track spatial dimensions, track matrix, track clipping region, track matte, alternate group affiliation, media time scale, media type, media language, and data reference (that is, the two tracks must refer to the same file). If the Movie Toolbox cannot find an appropriate track in the destination movie, it creates a track with the proper characteristics. It removes any empty tracks from the destination movie after the paste operation.</p>
<h5 class="tight">Special Considerations</h5><p>If you have assigned a progress function to the destination movie, the Movie Toolbox calls that progress function during long paste operations.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/PtInMovie" title="PtInMovie"></a><a name="//apple_ref/doc/c_ref/PtInMovie" title="PtInMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-PtInMovie" title="PtInMovie"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_132"></a><h3 class="tight">PtInMovie</h3>
<p class="spaceabove">Determines whether a specified point lies in the region defined by a movie's final display boundary region after it has been clipped by the movie's display clipping region.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> PtInMovie (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Point" target="_top">Point</a> pt
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>pt</em></dt>
<dd><p>The point to be checked. This point must be expressed in the movie's local display coordinate system.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>Returns TRUE if the point is in the movie.</p>
<h5 class="tight">Discussion</h5>
<p>This function is accurate at the current movie time.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/PtInTrack" title="PtInTrack"></a><a name="//apple_ref/doc/c_ref/PtInTrack" title="PtInTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-PtInTrack" title="PtInTrack"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_133"></a><h3 class="tight">PtInTrack</h3>
<p class="spaceabove">Determines whether a specified point lies in the region defined by a track's display boundary region after it has been clipped by the movie's final display clipping region.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> PtInTrack (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Point" target="_top">Point</a> pt
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>pt</em></dt>
<dd><p>The point to be checked. This point must be expressed in the local display coordinate system of the movie that contains the track.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>Returns TRUE if the point lies in the track's display space.</p>
<h5 class="tight">Discussion</h5>
<p>This function is accurate at the current movie time.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/PutMovieIntoTypedHandle" title="PutMovieIntoTypedHandle"></a><a name="//apple_ref/doc/c_ref/PutMovieIntoTypedHandle" title="PutMovieIntoTypedHandle"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-PutMovieIntoTypedHandle" title="PutMovieIntoTypedHandle"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_134"></a><h3 class="tight">PutMovieIntoTypedHandle</h3>
<p class="spaceabove">Takes a movie, or a single track from within that movie, and converts it into a handle of a specified type.</p>
<p class="spaceabove"><pre>
OSErr PutMovieIntoTypedHandle (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> targetTrack,
   <!--a-->OSType<!--/a--> handleType,
   <!--a-->Handle<!--/a--> publicMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> start,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> dur,
   long flags,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentInstance" target="_top">ComponentInstance</a> userComp
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>targetTrack</em></dt>
<dd><p>The track to convert.</p></dd>
<dt><em>handleType</em></dt>
<dd><p>The type of the new data.</p></dd>
<dt><em>publicMovie</em></dt>
<dd><p>The actual handle in which to place the new data.</p></dd>
<dt><em>start</em></dt>
<dd><p>The start time of the segment of the movie or track to be converted.</p></dd>
<dt><em>dur</em></dt>
<dd><p>The duration of the segment of the movie or track to be converted.</p></dd>
<dt><em>flags</em></dt>
<dd><p>Condition of the conversion. Set this parameter to 0.</p></dd>
<dt><em>userComp</em></dt>
<dd><p>Indicates a component or component instance of the movie export component you want to perform the conversion. Otherwise, set this parameter to 0 for the Movie Toolbox to choose the appropriate component. If you pass in a component instance, this function will use it. This allows you to communicate directly with the component before using this function to establish any conversion parameters. If you pass in a component ID, an instance is created and closed within this function.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CompressMovies/index.html#//apple_ref/doc/uid/DTS10000885" target="_top">CompressMovies</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DigitizerShell/index.html#//apple_ref/doc/uid/DTS10000799" target="_top">DigitizerShell</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DragAndDrop_Shell/index.html#//apple_ref/doc/uid/DTS10000765" target="_top">DragAndDrop Shell</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieGWorlds/index.html#//apple_ref/doc/uid/DTS10000771" target="_top">MovieGWorlds</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/soundsnippets/index.html#//apple_ref/doc/uid/DTS10000924" target="_top">soundsnippets</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/QTGetMIMETypeInfo" title="QTGetMIMETypeInfo"></a><a name="//apple_ref/doc/c_ref/QTGetMIMETypeInfo" title="QTGetMIMETypeInfo"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-QTGetMIMETypeInfo" title="QTGetMIMETypeInfo"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_135"></a><h3 class="tight">QTGetMIMETypeInfo</h3>
<p class="spaceabove">Retrieves information about a particular MIME type.</p>
<p class="spaceabove"><pre>
OSErr QTGetMIMETypeInfo (
   const char *mimeStringStart,
   short mimeStringLength,
   <!--a-->OSType<!--/a--> infoSelector,
   void *infoDataPtr,
   long *infoDataSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>mimeStringStart</em></dt>
<dd><p>A pointer to the first character of a string holding the MIME type.</p></dd>
<dt><em>mimeStringLength</em></dt>
<dd><p>The number of characters in the MIME type string. Pascal, C, and nondelimited string buffers can be passed equally well.</p></dd>
<dt><em>infoSelector</em></dt>
<dd><p>A constant (see below) that indicates the type of information being requested. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->kQTGetMIMETypeInfoIsQuickTimeMovieType<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->kQTGetMIMETypeInfoIsUnhelpfulType<!--/a--></code></p></li>
</ul>
</p></dd>
<dt><em>infoDataPtr</em></dt>
<dd><p>A pointer to a value to be updated. For current selectors this value is Boolean.</p></dd>
<dt><em>infoDataSize</em></dt>
<dd><p>On input, a pointer to the size of the data being expected; on output, a pointer to the size of the data being retrieved. In all current cases these will be the same size.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 5.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SampleNumToMediaDecodeTime" title="SampleNumToMediaDecodeTime"></a><a name="//apple_ref/doc/c_ref/SampleNumToMediaDecodeTime" title="SampleNumToMediaDecodeTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SampleNumToMediaDecodeTime" title="SampleNumToMediaDecodeTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_136"></a><h3 class="tight">SampleNumToMediaDecodeTime</h3>
<p class="spaceabove">Finds the decode time for a specified sample.</p>
<p class="spaceabove"><pre>
void SampleNumToMediaDecodeTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->SInt64<!--/a--> logicalSampleNum,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDecodeDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>logicalSampleNum</em></dt>
<dd><p>A 64-bit signed integer that contains the sample number.</p></dd>
<dt><em>sampleDecodeTime</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the decode time of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd>
<dt><em>sampleDecodeDuration</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the decode duration of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. It returns <code>paramErr</code> if there is a bad parameter value, or <code>noErr</code> if there is no error.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SampleNumToMediaDisplayTime" title="SampleNumToMediaDisplayTime"></a><a name="//apple_ref/doc/c_ref/SampleNumToMediaDisplayTime" title="SampleNumToMediaDisplayTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SampleNumToMediaDisplayTime" title="SampleNumToMediaDisplayTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_137"></a><h3 class="tight">SampleNumToMediaDisplayTime</h3>
<p class="spaceabove">Finds the display time for a specified sample.</p>
<p class="spaceabove"><pre>
void SampleNumToMediaDisplayTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <!--a-->SInt64<!--/a--> logicalSampleNum,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDisplayTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> *sampleDisplayDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>logicalSampleNum</em></dt>
<dd><p>A 64-bit signed integer that contains the sample number.</p></dd>
<dt><em>sampleDisplayTime</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the display time of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd>
<dt><em>sampleDisplayDuration</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the display duration of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to NULL if you do not want this information.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. It returns <code>paramErr</code> if there is a bad parameter value, or <code>noErr</code> if there is no error.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SampleNumToMediaTime" title="SampleNumToMediaTime"></a><a name="//apple_ref/doc/c_ref/SampleNumToMediaTime" title="SampleNumToMediaTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SampleNumToMediaTime" title="SampleNumToMediaTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_138"></a><h3 class="tight">SampleNumToMediaTime</h3>
<p class="spaceabove">Finds the time at which a specified sample plays.</p>
<p class="spaceabove"><pre>
void SampleNumToMediaTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long logicalSampleNum,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> *sampleDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>logicalSampleNum</em></dt>
<dd><p>The sample number.</p></dd>
<dt><em>sampleTime</em></dt>
<dd><p>A pointer to a time value. The function updates this time value to indicate the starting time of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to <code>NIL</code> if you don't want this information.</p></dd>
<dt><em>sampleDuration</em></dt>
<dd><p>A pointer to a time value. The Movie Toolbox returns the duration of the sample specified by the <code>logicalSampleNum</code> parameter. This time value is expressed in the media's time scale. Set this parameter to <code>NIL</code> if you don't want this information.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ScaleMovieSegment" title="ScaleMovieSegment"></a><a name="//apple_ref/doc/c_ref/ScaleMovieSegment" title="ScaleMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ScaleMovieSegment" title="ScaleMovieSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_139"></a><h3 class="tight">ScaleMovieSegment</h3>
<p class="spaceabove">Changes the duration of a segment of a movie.</p>
<p class="spaceabove"><pre>
OSErr ScaleMovieSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> oldDuration,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> newDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, or <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>The start of the segment. The <code>oldDuration</code> parameter specifies the segment's duration. This time value must be expressed in the movie's time scale.</p></dd>
<dt><em>oldDuration</em></dt>
<dd><p>The original duration of the segment in the source movie. This time value must be expressed in the movie's time scale.</p></dd>
<dt><em>newDuration</em></dt>
<dd><p>The new duration of the segment. This time value must be expressed in the movie's time scale. The function alters the segment to accommodate the new duration.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The Movie Toolbox scales the segment to accommodate the new duration.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter/index.html#//apple_ref/doc/uid/DTS10000901" target="_top">SlideShowImporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter.win/index.html#//apple_ref/doc/uid/DTS10000902" target="_top">SlideShowImporter.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/ScaleTrackSegment" title="ScaleTrackSegment"></a><a name="//apple_ref/doc/c_ref/ScaleTrackSegment" title="ScaleTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-ScaleTrackSegment" title="ScaleTrackSegment"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_140"></a><h3 class="tight">ScaleTrackSegment</h3>
<p class="spaceabove">Changes the duration of a segment of a track.</p>
<p class="spaceabove"><pre>
OSErr ScaleTrackSegment (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> startTime,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> oldDuration,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> newDuration
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>startTime</em></dt>
<dd><p>The start of the segment. The <code>oldDuration</code> parameter specifies the segment's duration. This time value must be expressed in the time scale of the movie that contains the track.</p></dd>
<dt><em>oldDuration</em></dt>
<dd><p>The duration of the segment. This time value must be expressed in the time scale of the movie that contains the track.</p></dd>
<dt><em>newDuration</em></dt>
<dd><p>The new duration of the segment. This time value must be expressed in the time scale of the movie that contains the track. The function alters the segment to accommodate the new duration.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function does not cause the Movie Toolbox to add data to or remove data from the movie.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/makeeffectslideshow/index.html#//apple_ref/doc/uid/DTS10000829" target="_top">makeeffectslideshow</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/makeeffectslideshow.win/index.html#//apple_ref/doc/uid/DTS10000830" target="_top">makeeffectslideshow.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SelectMovieAlternates" title="SelectMovieAlternates"></a><a name="//apple_ref/doc/c_ref/SelectMovieAlternates" title="SelectMovieAlternates"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SelectMovieAlternates" title="SelectMovieAlternates"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_141"></a><h3 class="tight">SelectMovieAlternates</h3>
<p class="spaceabove">Instructs the Movie Toolbox to select appropriate tracks immediately.</p>
<p class="spaceabove"><pre>
void SelectMovieAlternates (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>A movie identifier. Your application obtains this identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetAutoTrackAlternatesEnabled" title="SetAutoTrackAlternatesEnabled"></a><a name="//apple_ref/doc/c_ref/SetAutoTrackAlternatesEnabled" title="SetAutoTrackAlternatesEnabled"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetAutoTrackAlternatesEnabled" title="SetAutoTrackAlternatesEnabled"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_142"></a><h3 class="tight">SetAutoTrackAlternatesEnabled</h3>
<p class="spaceabove">Enables or disables automatic track selection by the Movie Toolbox.</p>
<p class="spaceabove"><pre>
void SetAutoTrackAlternatesEnabled (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <!--a-->Boolean<!--/a--> enable
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>enable</em></dt>
<dd><p>Controls automatic track selection. Set this parameter to TRUE to enable automatic track selection. Set this parameter to FALSE to disable automatic track selection.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access this function's error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaDataHandler" title="SetMediaDataHandler"></a><a name="//apple_ref/doc/c_ref/SetMediaDataHandler" title="SetMediaDataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaDataHandler" title="SetMediaDataHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_143"></a><h3 class="tight">SetMediaDataHandler</h3>
<p class="spaceabove">Assigns a data handler to a media.</p>
<p class="spaceabove"><pre>
OSErr SetMediaDataHandler (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   short index,
   <a href="reference.html#//apple_ref/doc/c_ref/DataHandlerComponent">DataHandlerComponent</a> dataHandler
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>Identifies the data reference for this data handler. You provide the index value that corresponds to the data reference. You must set this parameter to 1.</p></dd>
<dt><em>dataHandler</em></dt>
<dd><p>The data handler for the media. This identifier is a component instance that specifies a connection to a data handler component, such as that returned by <code><a href="reference.html#//apple_ref/c/func/GetMediaDataHandler" target="_self">GetMediaDataHandler</a></code>. If the data handler you specify cannot work with the data stored in the media, the function does not change the media's data handler.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Your application should normally not call this function. The Movie Toolbox assigns a data handler to each media when you load a movie.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaDefaultDataRefIndex" title="SetMediaDefaultDataRefIndex"></a><a name="//apple_ref/doc/c_ref/SetMediaDefaultDataRefIndex" title="SetMediaDefaultDataRefIndex"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaDefaultDataRefIndex" title="SetMediaDefaultDataRefIndex"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_144"></a><h3 class="tight">SetMediaDefaultDataRefIndex</h3>
<p class="spaceabove">Specifies which of a media's data references is to be accessed during an editing session.</p>
<p class="spaceabove"><pre>
OSErr SetMediaDefaultDataRefIndex (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   short index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>The data reference to access. Values of the <code>index</code> parameter range from 1 to the number of data references in the media. You can determine the number of data references by calling <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/GetMediaDataRefCount" target="_top">GetMediaDataRefCount</a></code>. Once set, the default data reference index persists. Set this parameter to 0 to revert to the media's default data reference.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function allows you to specify the index of the data reference to be edited. After calling this function, you can start editing that data reference by calling <code><a href="reference.html#//apple_ref/c/func/BeginMediaEdits" target="_self">BeginMediaEdits</a></code>.</p>
<h5 class="tight">Version Notes</h5><p>Before QuickTime 2.0, the Movie Toolbox did not allow the creation of tracks that had data in several files. Therefore, there was no mechanism for controlling which data reference was affected by a media editing session.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaHandler" title="SetMediaHandler"></a><a name="//apple_ref/doc/c_ref/SetMediaHandler" title="SetMediaHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaHandler" title="SetMediaHandler"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_145"></a><h3 class="tight">SetMediaHandler</h3>
<p class="spaceabove">Assigns a specific media handler to a track.</p>
<p class="spaceabove"><pre>
OSErr SetMediaHandler (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="reference.html#//apple_ref/doc/c_ref/MediaHandlerComponent">MediaHandlerComponent</a> mH
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>mH</em></dt>
<dd><p>A reference to a media handler component. You can obtain this reference from <code><a href="reference.html#//apple_ref/c/func/GetMediaHandler" target="_self">GetMediaHandler</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Your application should not need to call this function. The Movie Toolbox assigns a media handler to each track when you load a movie.</p>
<h5 class="tight">Special Considerations</h5><p>The Movie Toolbox closes the track's previous media handler and then opens the new one. It is your responsibility to ensure that the media handler you specify can handle the data in the track.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaInputMap" title="SetMediaInputMap"></a><a name="//apple_ref/doc/c_ref/SetMediaInputMap" title="SetMediaInputMap"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaInputMap" title="SetMediaInputMap"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_146"></a><h3 class="tight">SetMediaInputMap</h3>
<p class="spaceabove">Replaces the media's existing input map with a given input map.</p>
<p class="spaceabove"><pre>
OSErr SetMediaInputMap (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/QTAtomContainer" target="_top">QTAtomContainer</a> inputMap
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>inputMap</em></dt>
<dd><p>The media input map for this operation. If the input map is set to <code>NIL</code>, the media's input map is reset to an empty input map.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>Use this function to specify the media you want to set so you can modify or empty its input map. It makes a copy of the input map passed to it. The following sample code illustrates how to update an input map, using this function and <code><a href="reference.html#//apple_ref/c/func/GetMediaInputMap" target="_self">GetMediaInputMap</a></code>:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// SetMediaInputMap coding example<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtomContainer inputMap;<span></span></pre></td></tr><tr><td scope="row"><pre>QTAtom inputAtom;<span></span></pre></td></tr><tr><td scope="row"><pre>OSType inputType;<span></span></pre></td></tr><tr><td scope="row"><pre>Media aVideoMedia =GetTrackMedia(aVideoTrack);<span></span></pre></td></tr><tr><td scope="row"><pre>GetMediaInputMap (aVideoMedia, &#38;inputMap);<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild(inputMap, kParentAtomIsContainer, kTrackModifierInput,<span></span></pre></td></tr><tr><td scope="row"><pre>        addedIndex, 0,0, nil, &#38;inputAtom);<span></span></pre></td></tr><tr><td scope="row"><pre>inputType =kTrackModifierTypeClip;<span></span></pre></td></tr><tr><td scope="row"><pre>QTInsertChild (inputMap, inputAtom, kTrackModifierType, 1, 0,<span></span></pre></td></tr><tr><td scope="row"><pre>        sizeof(inputType), &#38;inputType, nil);<span></span></pre></td></tr><tr><td scope="row"><pre>SetMediaInputMap(aVideoMedia, inputMap);<span></span></pre></td></tr><tr><td scope="row"><pre>QTDisposeAtomContainer(inputMap);<span></span></pre></td></tr></table></div>
<h5 class="tight">Special Considerations</h5><p>Use <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/QTNewAtomContainer" target="_top">QTNewAtomContainer</a></code> to create an empty input map.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/ChromaKeyMovie/index.html#//apple_ref/doc/uid/DTS10000844" target="_top">ChromaKeyMovie</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects/index.html#//apple_ref/doc/uid/DTS10000833" target="_top">qteffects</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qteffects.win/index.html#//apple_ref/doc/uid/DTS10000836" target="_top">qteffects.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtshoweffect/index.html#//apple_ref/doc/uid/DTS10000838" target="_top">qtshoweffect</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtshoweffect.win/index.html#//apple_ref/doc/uid/DTS10000839" target="_top">qtshoweffect.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaLanguage" title="SetMediaLanguage"></a><a name="//apple_ref/doc/c_ref/SetMediaLanguage" title="SetMediaLanguage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaLanguage" title="SetMediaLanguage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_147"></a><h3 class="tight">SetMediaLanguage</h3>
<p class="spaceabove">Sets a media's localized language or region code.</p>
<p class="spaceabove"><pre>
void SetMediaLanguage (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   short language
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>language</em></dt>
<dd><p>The media's language or region code.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>You should call this function only when you are creating a new media.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaPreferredChunkSize" title="SetMediaPreferredChunkSize"></a><a name="//apple_ref/doc/c_ref/SetMediaPreferredChunkSize" title="SetMediaPreferredChunkSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaPreferredChunkSize" title="SetMediaPreferredChunkSize"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_148"></a><h3 class="tight">SetMediaPreferredChunkSize</h3>
<p class="spaceabove">Specifies a maximum chunk size for a media.</p>
<p class="spaceabove"><pre>
OSErr SetMediaPreferredChunkSize (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long maxChunkSize
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>maxChunkSize</em></dt>
<dd><p>The maximum chunk size, in bytes.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The term "chunk" refers to the collection of sample data that is added to a movie when you call <code><a href="reference.html#//apple_ref/c/func/AddMediaSample" target="_self">AddMediaSample</a></code>. When QuickTime loads a movie for playback, it loads the data a chunk at a time. Consequently, both the size and number of chunks in a movie can affect playback performance. The toolbox tries to optimize playback performance by consolidating adjacent sample references into a single chunk, up to the limit you prescribe with this function.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaQuality" title="SetMediaQuality"></a><a name="//apple_ref/doc/c_ref/SetMediaQuality" title="SetMediaQuality"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaQuality" title="SetMediaQuality"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_149"></a><h3 class="tight">SetMediaQuality</h3>
<p class="spaceabove">Sets a media's quality level value.</p>
<p class="spaceabove"><pre>
void SetMediaQuality (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   short quality
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>quality</em></dt>
<dd><p>The media's quality value. The quality value indicates the pixel depths at which the media can be played. This even applies to sound media. The low-order 6 bits of the quality value correspond to specific pixel depths. If a bit is set to 1, the media can be played at the corresponding depth. More than one of these bits may be set to 1. The Movie Toolbox uses this quality value to determine which track it selects to play on a given Macintosh computer. You should set this value only when you are creating a new media.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaSampleDescription" title="SetMediaSampleDescription"></a><a name="//apple_ref/doc/c_ref/SetMediaSampleDescription" title="SetMediaSampleDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaSampleDescription" title="SetMediaSampleDescription"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_150"></a><h3 class="tight">SetMediaSampleDescription</h3>
<p class="spaceabove">Changes the contents of a particular SampleDescription structure of a specified media.</p>
<p class="spaceabove"><pre>
OSErr SetMediaSampleDescription (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long index,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/SampleDescriptionHandle" target="_top">SampleDescriptionHandle</a> descH
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. You obtain this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>.</p></dd>
<dt><em>index</em></dt>
<dd><p>The index of the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure to be changed. This index corresponds to the <code>SampleDescription</code> structure itself, not the samples in the media. This long integer must be between 1 and the largest <code>SampleDescription</code> index.</p></dd>
<dt><em>descH</em></dt>
<dd><p>The handle to the <code><!--a target="_top" -->SampleDescription<!--/a--></code> structure. If there is no description for the specified index, the function returns this handle unchanged.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaShadowSync" title="SetMediaShadowSync"></a><a name="//apple_ref/doc/c_ref/SetMediaShadowSync" title="SetMediaShadowSync"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaShadowSync" title="SetMediaShadowSync"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_151"></a><h3 class="tight">SetMediaShadowSync</h3>
<p class="spaceabove">Obsolete; no longer supported.</p>
<p class="spaceabove"><pre>
OSErr SetMediaShadowSync (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Media" target="_top">Media</a> theMedia,
   long frameDiffSampleNum,
   long syncSampleNum
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media in which the shadow sync is to be created.</p></dd>
<dt><em>frameDiffSampleNum</em></dt>
<dd><p>Specifies a frame difference sample. The sample number is obtained from <code><a href="reference.html#//apple_ref/c/func/MediaTimeToSampleNum" target="_self">MediaTimeToSampleNum</a></code>.</p></dd>
<dt><em>syncSampleNum</em></dt>
<dd><p>Specifies a shadow sync sample. The sample number is obtained from <code><a href="reference.html#//apple_ref/c/func/MediaTimeToSampleNum" target="_self">MediaTimeToSampleNum</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetMediaTimeScale" title="SetMediaTimeScale"></a><a name="//apple_ref/doc/c_ref/SetMediaTimeScale" title="SetMediaTimeScale"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetMediaTimeScale" title="SetMediaTimeScale"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_152"></a><h3 class="tight">SetMediaTimeScale</h3>
<p class="spaceabove">Sets a media's time scale.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ComponentResult" target="_top">ComponentResult</a> ADD_MEDIA_BASENAME() SetMediaTimeScale
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMedia</em></dt>
<dd><p>The media for this operation. Your application obtains this media identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewTrackMedia" target="_self">NewTrackMedia</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetTrackMedia" target="_self">GetTrackMedia</a></code>. See <code><!--a target="_top" -->Media Identifiers<!--/a--></code>.</p></dd>
<dt><em>timeScale</em></dt>
<dd><p>The media's new time scale.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackAlternate" title="SetTrackAlternate"></a><a name="//apple_ref/doc/c_ref/SetTrackAlternate" title="SetTrackAlternate"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackAlternate" title="SetTrackAlternate"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_153"></a><h3 class="tight">SetTrackAlternate</h3>
<p class="spaceabove">Adds tracks to, or remove tracks from, alternate groups.</p>
<p class="spaceabove"><pre>
void SetTrackAlternate (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> alternateT
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track and group for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>. <code>SetTrackAlternate</code> changes this track's group affiliation based on the value of the <code>alternateT</code> parameter.</p></dd>
<dt><em>alternateT</em></dt>
<dd><p>Controls whether the function adds the track to a group or removes it from a group. If this parameter contains a valid track identifier, the Movie Toolbox adds this track to the group that contains the track specified by the parameter <code>theTrack</code>. If the track identified by this parameter already belongs to a group, the Movie Toolbox combines the two groups into a single group.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackDimensions" title="SetTrackDimensions"></a><a name="//apple_ref/doc/c_ref/SetTrackDimensions" title="SetTrackDimensions"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackDimensions" title="SetTrackDimensions"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_154"></a><h3 class="tight">SetTrackDimensions</h3>
<p class="spaceabove">Establishes a track's source rectangle.</p>
<p class="spaceabove"><pre>
void SetTrackDimensions (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> width,
   <a href="../../../../Carbon/Reference/Mathematical_al_Utilities/Reference/reference.html#//apple_ref/doc/c_ref/Fixed" target="_top">Fixed</a> height
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>width</em></dt>
<dd><p>A fixed-point number that specifies the width, in pixels, of the track's rectangle. This value corresponds to the x coordinate of the lower-right corner of the track's rectangle.</p></dd>
<dt><em>height</em></dt>
<dd><p>A fixed-point number that specifies the height, in pixels, of the track's rectangle. This value corresponds to the y coordinate of the lower-right corner of the track's rectangle.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>If you change the dimensions of an existing track, the media data is scaled to fit into the new rectangle.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode.win/index.html#//apple_ref/doc/uid/DTS10001059" target="_top">qttimecode.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter/index.html#//apple_ref/doc/uid/DTS10000901" target="_top">SlideShowImporter</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/SlideShowImporter.win/index.html#//apple_ref/doc/uid/DTS10000902" target="_top">SlideShowImporter.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/TimeCode_Media_Handlers/index.html#//apple_ref/doc/uid/DTS10000336" target="_top">TimeCode Media Handlers</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackEnabled" title="SetTrackEnabled"></a><a name="//apple_ref/doc/c_ref/SetTrackEnabled" title="SetTrackEnabled"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackEnabled" title="SetTrackEnabled"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_155"></a><h3 class="tight">SetTrackEnabled</h3>
<p class="spaceabove">Enables or disables a track.</p>
<p class="spaceabove"><pre>
void SetTrackEnabled (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->Boolean<!--/a--> isEnabled
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>isEnabled</em></dt>
<dd><p>Enables or disables the <code>track</code>. Set this parameter to TRUE to enable the <code>track</code>. Set this parameter to FALSE to disable the track.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>The Movie Toolbox services only enabled tracks.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode/index.html#//apple_ref/doc/uid/DTS10001058" target="_top">qttimecode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode.win/index.html#//apple_ref/doc/uid/DTS10001059" target="_top">qttimecode.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrmakepano/index.html#//apple_ref/doc/uid/DTS10001027" target="_top">vrmakepano</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/VRMakePano_Library/index.html#//apple_ref/doc/uid/DTS10001028" target="_top">VRMakePano Library</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackLayer" title="SetTrackLayer"></a><a name="//apple_ref/doc/c_ref/SetTrackLayer" title="SetTrackLayer"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackLayer" title="SetTrackLayer"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_156"></a><h3 class="tight">SetTrackLayer</h3>
<p class="spaceabove">Sets a track's layer.</p>
<p class="spaceabove"><pre>
void SetTrackLayer (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   short layer
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>layer</em></dt>
<dd><p>The track's layer number. Layers are numbered from -32,768 through 32,767; layers with lower numbers appear in front of layers with higher numbers. When you create a new track, the Movie Toolbox sets its track number to 0.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtactiontargets/index.html#//apple_ref/doc/uid/DTS10001068" target="_top">qtactiontargets</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtactiontargets.win/index.html#//apple_ref/doc/uid/DTS10001069" target="_top">qtactiontargets.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredspritesjr/index.html#//apple_ref/doc/uid/DTS10001078" target="_top">qtwiredspritesjr</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredspritesjr.win/index.html#//apple_ref/doc/uid/DTS10001079" target="_top">qtwiredspritesjr.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackMatrix" title="SetTrackMatrix"></a><a name="//apple_ref/doc/c_ref/SetTrackMatrix" title="SetTrackMatrix"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackMatrix" title="SetTrackMatrix"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_157"></a><h3 class="tight">SetTrackMatrix</h3>
<p class="spaceabove">Establishes a track's transformation matrix.</p>
<p class="spaceabove"><pre>
void SetTrackMatrix (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   const <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/MatrixRecord" target="_top">MatrixRecord</a> *matrix
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>matrix</em></dt>
<dd><p>A pointer to a <code><!--a target="_top" -->MatrixRecord<!--/a--></code> structure that contains the track's new matrix. If you set this parameter to <code>NIL</code>, the Movie Toolbox uses the identity matrix.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/AlwaysPreview/index.html#//apple_ref/doc/uid/DTS10000761" target="_top">AlwaysPreview</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtactiontargets/index.html#//apple_ref/doc/uid/DTS10001068" target="_top">qtactiontargets</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTKitTimeCode/index.html#//apple_ref/doc/uid/DTS10004426" target="_top">QTKitTimeCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttimecode.win/index.html#//apple_ref/doc/uid/DTS10001059" target="_top">qttimecode.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredspritesjr.win/index.html#//apple_ref/doc/uid/DTS10001079" target="_top">qtwiredspritesjr.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackOffset" title="SetTrackOffset"></a><a name="//apple_ref/doc/c_ref/SetTrackOffset" title="SetTrackOffset"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackOffset" title="SetTrackOffset"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_158"></a><h3 class="tight">SetTrackOffset</h3>
<p class="spaceabove">Modifies the duration of the empty space that lies at the beginning of a track, thus changing the duration of the entire track.</p>
<p class="spaceabove"><pre>
void SetTrackOffset (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> movieOffsetTime
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>movieOffsetTime</em></dt>
<dd><p>The track's offset from the start of the movie, and must be expressed in the time scale of the movie that contains the track.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>All of the tracks in a movie use the movie's time coordinate system. That is, the movie's time scale defines the basic time unit for each of the movie's tracks. Each track begins at the beginning of the movie, but the track's data might not begin until some time value other than 0. This intervening time is represented by blank space. In an audio track the blank space translates to silence; in a video track the blank space generates no visual image. Each track has its own duration. This duration need not correspond to the duration of the movie. Movie duration always equals the maximum duration of all the tracks.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackReference" title="SetTrackReference"></a><a name="//apple_ref/doc/c_ref/SetTrackReference" title="SetTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackReference" title="SetTrackReference"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_159"></a><h3 class="tight">SetTrackReference</h3>
<p class="spaceabove">Modifies an existing track reference.</p>
<p class="spaceabove"><pre>
OSErr SetTrackReference (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> refTrack,
   <!--a-->OSType<!--/a--> refType,
   long index
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>refTrack</em></dt>
<dd><p>The track to be identified in the track reference. The toolbox uses this information to update the existing track reference.</p></dd>
<dt><em>refType</em></dt>
<dd><p>The type of reference.</p></dd>
<dt><em>index</em></dt>
<dd><p>The index value of the reference to be changed. You obtain this index value when you create the track reference.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>You may change the track reference so that it identifies a different track in the movie.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackSoundLocalizationSettings" title="SetTrackSoundLocalizationSettings"></a><a name="//apple_ref/doc/c_ref/SetTrackSoundLocalizationSettings" title="SetTrackSoundLocalizationSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackSoundLocalizationSettings" title="SetTrackSoundLocalizationSettings"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_160"></a><h3 class="tight">SetTrackSoundLocalizationSettings</h3>
<p class="spaceabove">Applies 3D sound effect data to a track.</p>
<p class="spaceabove"><pre>
OSErr SetTrackSoundLocalizationSettings (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <!--a-->Handle<!--/a--> settings
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>Identifies the track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>settings</em></dt>
<dd><p>A handle to the settings you want to apply, in the format of an <code><!--a target="_top" -->SSpLocalizationData<!--/a--></code> record. You can pass a <code>NIL</code> handle to indicate that no 3D sound effects should be used for this track. This function makes a copy of the handle passed, so the caller is responsible for disposing of it.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>
<h5 class="tight">Discussion</h5>
<p>This function replaces the 3D sound settings for the specified track with the new <code>SSpLocalizationData</code> record contained in the <code>settings</code> parameter. The effect of the new 3D sound setting takes place immediately. This call always stores the new record passed, even if the track or the computer is not capable of actually meeting the request. When the movie is saved, the 3D sound settings are saved with it.</p>
<p>The following example code shows how to set the static 3D sound setting for a track using this function:</p>
<div class="codesample"><table><tr><td scope="row"><pre>// SetTrackSoundLocalizationSettings coding example<span></span></pre></td></tr><tr><td scope="row"><pre>void setTrackSoundLocalization(Track t)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    SSpLocalizationData loc;<span></span></pre></td></tr><tr><td scope="row"><pre>    Handle h;<span></span></pre></td></tr><tr><td scope="row"><pre>    OSErr err;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.cpuLoad =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.medium =kSSpMedium_Air;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.humidity =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.roomSize =250;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.roomReflectivity =-5;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.reverbAttenuation =-5;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.sourceMode =kSSpSourceMode_Localized;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.referenceDistance =1;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.coneAngleCos =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.coneAttenuation =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.currentLocation.elevation =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.currentLocation.azimuth =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.currentLocation.distance =2;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.currentLocation.projectionAngle =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.currentLocation.sourceVelocity =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.currentLocation.listenerVelocity =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.reserved0 =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.reserved1 =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.reserved2 =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.reserved3 =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    loc.virtualSourceCount =0;<span></span></pre></td></tr><tr><td scope="row"><pre>    err =PtrToHand(&#38;loc, &#38;h, sizeof(loc));<span></span></pre></td></tr><tr><td scope="row"><pre>    err =SetTrackSoundLocalizationSettings(t, h);<span></span></pre></td></tr><tr><td scope="row"><pre>    DisposeHandle(h);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackUsage" title="SetTrackUsage"></a><a name="//apple_ref/doc/c_ref/SetTrackUsage" title="SetTrackUsage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackUsage" title="SetTrackUsage"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_161"></a><h3 class="tight">SetTrackUsage</h3>
<p class="spaceabove">Specifies whether a track is used in a movie, its preview, its poster, or a combination of these.</p>
<p class="spaceabove"><pre>
void SetTrackUsage (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   long usage
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>usage</em></dt>
<dd><p>Contains flags (see below) that specify how the track is to be used. Be sure to set unused flags to 0. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->trackUsageInMovie<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->trackUsageInPreview<!--/a--></code></p></li>
<li><p><code><!--a target="_top" -->trackUsageInPoster<!--/a--></code></p></li>
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>


<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo/index.html#//apple_ref/doc/uid/DTS10000782" target="_top">qtinfo</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtinfo.win/index.html#//apple_ref/doc/uid/DTS10000783" target="_top">qtinfo.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/SetTrackVolume" title="SetTrackVolume"></a><a name="//apple_ref/doc/c_ref/SetTrackVolume" title="SetTrackVolume"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-SetTrackVolume" title="SetTrackVolume"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_162"></a><h3 class="tight">SetTrackVolume</h3>
<p class="spaceabove">Sets a track's current volume.</p>
<p class="spaceabove"><pre>
void SetTrackVolume (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   short volume
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>volume</em></dt>
<dd><p>The current volume setting of the track represented as a 16-bit, fixed-point number. The high-order 8 bits contain the integer part of the value; the low-order 8 bits contain the fractional part. Volume values range from -1.0 to 1.0. Negative values play no sound but preserve the absolute value of the volume setting. You can use constants (see below) for full volume and no volume. See these constants:
<ul class="simple">
</ul>
</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access error returns from this function through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>



<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/soundsnippets/index.html#//apple_ref/doc/uid/DTS10000924" target="_top">soundsnippets</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/soundsnippets.win/index.html#//apple_ref/doc/uid/DTS10000925" target="_top">soundsnippets.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrscript/index.html#//apple_ref/doc/uid/DTS10001032" target="_top">vrscript</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/vrscript.win/index.html#//apple_ref/doc/uid/DTS10001033" target="_top">vrscript.win</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/TrackTimeToMediaDisplayTime" title="TrackTimeToMediaDisplayTime"></a><a name="//apple_ref/doc/c_ref/TrackTimeToMediaDisplayTime" title="TrackTimeToMediaDisplayTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-TrackTimeToMediaDisplayTime" title="TrackTimeToMediaDisplayTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_163"></a><h3 class="tight">TrackTimeToMediaDisplayTime</h3>
<p class="spaceabove">Converts a track's time value to a display time value that is appropriate to the track's media, using the track's edit list.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> TrackTimeToMediaDisplayTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue64" target="_top">TimeValue64</a> value,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>value</em></dt>
<dd><p>A 64-bit time value that represents the track's time value; it must be expressed in the time scale of the movie that contains the track.</p></dd>
<dt><em>theTrack</em></dt>
<dd><p>A track identifier, which your application obtains from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>A 64-bit time value that represents the corresponding time in media display time, in the media's time coordinate system. If the track time corresponds to empty space, this function returns a value of -1.</p>
<h5 class="tight">Discussion</h5>
<p>This function maps the track time through the track's edit list to come up with the media time. This time value contains the track's time value according to the media's time coordinate system. If the time you specified lies outside of the movie's active segment or corresponds to empty space in the track, this function returns a value of -1. Hence you can use it to determine whether a specified track edit is empty.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/MovieVideoChart/index.html#//apple_ref/doc/uid/DTS10003678" target="_top">MovieVideoChart</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/TrackTimeToMediaTime" title="TrackTimeToMediaTime"></a><a name="//apple_ref/doc/c_ref/TrackTimeToMediaTime" title="TrackTimeToMediaTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-TrackTimeToMediaTime" title="TrackTimeToMediaTime"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_164"></a><h3 class="tight">TrackTimeToMediaTime</h3>
<p class="spaceabove">Converts a track's time value to a time value that is appropriate to the track's media, using the track's edit list.</p>
<p class="spaceabove"><pre>
<a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> TrackTimeToMediaTime (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a> value,
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>value</em></dt>
<dd><p>The track's time value; must be expressed in the time scale of the movie that contains the track.</p></dd>
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The track's time value, but in the media's time coordinate system. If the track time corresponds to empty space, this function returns a value of -1.</p>
<h5 class="tight">Discussion</h5>
<p>This function maps the track time through the track's edit list to come up with the media time. This time value contains the track's time value according to the media's time coordinate system. If the time you specified lies outside of the movie's active segment or corresponds to empty space in the track, this function returns a value of -1. Hence you can use it to determine whether a specified track edit is empty.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/addhtactions.win/index.html#//apple_ref/doc/uid/DTS10001065" target="_top">addhtactions.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/BurntTextSampleCode/index.html#//apple_ref/doc/uid/DTS10001014" target="_top">BurntTextSampleCode</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext/index.html#//apple_ref/doc/uid/DTS10001015" target="_top">qttext</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qttext.win/index.html#//apple_ref/doc/uid/DTS10001016" target="_top">qttext.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/qtwiredactions/index.html#//apple_ref/doc/uid/DTS10001074" target="_top">qtwiredactions</a></span></li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/UseMovieEditState" title="UseMovieEditState"></a><a name="//apple_ref/doc/c_ref/UseMovieEditState" title="UseMovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-UseMovieEditState" title="UseMovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_165"></a><h3 class="tight">UseMovieEditState</h3>
<p class="spaceabove">Returns a movie to the condition determined by an edit state created previously.</p>
<p class="spaceabove"><pre>
OSErr UseMovieEditState (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Movie" target="_top">Movie</a> theMovie,
   <a href="reference.html#//apple_ref/doc/c_ref/MovieEditState">MovieEditState</a> toState
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMovie</em></dt>
<dd><p>The movie for this operation. Your application obtains this movie identifier from such functions as <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/NewMovie" target="_top">NewMovie</a></code>, <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromFile" target="_top">NewMovieFromFile</a></code>, and <code><a href="../../QTRef_MovieToolkit/Reference/reference.html#//apple_ref/c/func/NewMovieFromHandle" target="_top">NewMovieFromHandle</a></code>.</p></dd>
<dt><em>toState</em></dt>
<dd><p>The edit state for this operation. Your application obtains this edit state identifier when you create the edit state by calling <code><a href="reference.html#//apple_ref/c/func/NewMovieEditState" target="_self">NewMovieEditState</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/c/func/UseTrackEditState" title="UseTrackEditState"></a><a name="//apple_ref/doc/c_ref/UseTrackEditState" title="UseTrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-UseTrackEditState" title="UseTrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-CH1g-DontLinkElementID_166"></a><h3 class="tight">UseTrackEditState</h3>
<p class="spaceabove">Returns a track to the condition determined by an edit state created previously.</p>
<p class="spaceabove"><pre>
OSErr UseTrackEditState (
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Track" target="_top">Track</a> theTrack,
   <a href="reference.html#//apple_ref/doc/c_ref/TrackEditState">TrackEditState</a> state
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theTrack</em></dt>
<dd><p>The track for this operation. Your application obtains this track identifier from such functions as <code><a href="reference.html#//apple_ref/c/func/NewMovieTrack" target="_self">NewMovieTrack</a></code> and <code><a href="reference.html#//apple_ref/c/func/GetMovieTrack" target="_self">GetMovieTrack</a></code>.</p></dd>
<dt><em>state</em></dt>
<dd><p>The edit state for this operation. Your application obtains this edit state identifier when you create the edit state by calling <code><a href="reference.html#//apple_ref/c/func/NewTrackEditState" target="_self">NewTrackEditState</a></code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>You can access Movie Toolbox error returns through <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesError" target="_top">GetMoviesError</a></code> and <code><a href="../../QTRef_MovieManager/Reference/reference.html#//apple_ref/c/func/GetMoviesStickyError" target="_top">GetMoviesStickyError</a></code>, as well as in the function result. See <code><!--a target="_top" -->Error Codes<!--/a--></code>.</p>

<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>

<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaCallbacks-DontLinkElementID_1" title="Callbacks"></a>
<h2>Callbacks</h2>


<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_4" title="Data Types"></a>
<h2>Data Types</h2>

<a name="//apple_ref/c/tdef/DataHandlerComponent" title="DataHandlerComponent"></a><a name="//apple_ref/doc/c_ref/DataHandlerComponent" title="DataHandlerComponent"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DataHandlerComponent" title="DataHandlerComponent"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_167"></a><h3 class="tight">DataHandlerComponent</h3>
<p class="spaceabove">Represents a type used by the Track and Media API.</p>
<p class="spaceabove"><pre>
typedef <!--a-->Component<!--/a--> DataHandlerComponent;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code>

<a name="//apple_ref/c/tdef/MediaHandlerComponent" title="MediaHandlerComponent"></a><a name="//apple_ref/doc/c_ref/MediaHandlerComponent" title="MediaHandlerComponent"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-MediaHandlerComponent" title="MediaHandlerComponent"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_168"></a><h3 class="tight">MediaHandlerComponent</h3>
<p class="spaceabove">Represents a type used by the Track and Media API.</p>
<p class="spaceabove"><pre>
typedef <!--a-->Component<!--/a--> MediaHandlerComponent;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code>

<a name="//apple_ref/c/tdef/MovieEditState" title="MovieEditState"></a><a name="//apple_ref/doc/c_ref/MovieEditState" title="MovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-MovieEditState" title="MovieEditState"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_169"></a><h3 class="tight">MovieEditState</h3>
<p class="spaceabove">Represents a type used by the Track and Media API.</p>
<p class="spaceabove"><pre>
typedef <a href="reference.html#//apple_ref/doc/c_ref/MovieEditStateRecord">MovieEditStateRecord</a> * MovieEditState;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code>

<a name="//apple_ref/c/tag/MovieEditStateRecord" title="MovieEditStateRecord"></a><a name="//apple_ref/doc/c_ref/MovieEditStateRecord" title="MovieEditStateRecord"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-MovieEditStateRecord" title="MovieEditStateRecord"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_170"></a><h3 class="tight">MovieEditStateRecord</h3>
<p class="spaceabove">Undocumented</p>
<p class="spaceabove"><pre>
struct MovieEditStateRecord {
   long    data[1];
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_7" title="data"></a><dt><code>data</code></dt>
<h5 class="tight">Discussion</h5><p><em>Undocumented</em></p></dl>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/c/tdef/SampleReference64Ptr" title="SampleReference64Ptr"></a><a name="//apple_ref/doc/c_ref/SampleReference64Ptr" title="SampleReference64Ptr"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-SampleReference64Ptr" title="SampleReference64Ptr"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_171"></a><h3 class="tight">SampleReference64Ptr</h3>
<p class="spaceabove">Represents a type used by the Track and Media API.</p>
<p class="spaceabove"><pre>
typedef <a href="reference.html#//apple_ref/doc/c_ref/SampleReference64Record">SampleReference64Record</a> * SampleReference64Ptr;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code>

<a name="//apple_ref/c/tag/SampleReference64Record" title="SampleReference64Record"></a><a name="//apple_ref/doc/c_ref/SampleReference64Record" title="SampleReference64Record"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-SampleReference64Record" title="SampleReference64Record"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_172"></a><h3 class="tight">SampleReference64Record</h3>
<p class="spaceabove">Provides a 64-bit version of SampleReferenceRecord.</p>
<p class="spaceabove"><pre>
struct SampleReference64Record {
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/wide" target="_top">wide</a>             dataOffset;
   unsigned long    dataSize;
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a>        durationPerSample;
   unsigned long    numberOfSamples;
   short            sampleFlags;
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_8" title="dataOffset"></a><dt><code>dataOffset</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the offset into the movie data file. This field specifies the offset into the file of the sample data.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_9" title="dataSize"></a><dt><code>dataSize</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the total number of bytes of sample data identified by the reference. All samples referenced by a single SampleReference64Record must be the same size.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_10" title="durationPerSample"></a><dt><code>durationPerSample</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the duration of each sample in the reference. You must specify this parameter in the media's time scale. All samples referenced by a single SampleReference64Record must be the same duration.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_11" title="numberOfSamples"></a><dt><code>numberOfSamples</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the number of samples contained in the reference.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_12" title="sampleFlag"></a><dt><code>sampleFlag</code></dt>
<h5 class="tight">Discussion</h5><p>Contains flags (see below) that control the operation. Set unused flags to 0. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dl>
<h5 class="tight">Related Functions</h5><span class="content_text"><code><a href="reference.html#//apple_ref/c/func/AddMediaSampleReferences64" target="_self">AddMediaSampleReferences64</a></code></span><br/>
<span class="content_text"><code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReferences64" target="_self">GetMediaSampleReferences64</a></code>  </span><br/>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/c/tdef/SampleReferencePtr" title="SampleReferencePtr"></a><a name="//apple_ref/doc/c_ref/SampleReferencePtr" title="SampleReferencePtr"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-SampleReferencePtr" title="SampleReferencePtr"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_173"></a><h3 class="tight">SampleReferencePtr</h3>
<p class="spaceabove">Represents a type used by the Track and Media API.</p>
<p class="spaceabove"><pre>
typedef <a href="reference.html#//apple_ref/doc/c_ref/SampleReferenceRecord">SampleReferenceRecord</a> * SampleReferencePtr;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code>

<a name="//apple_ref/c/tag/SampleReferenceRecord" title="SampleReferenceRecord"></a><a name="//apple_ref/doc/c_ref/SampleReferenceRecord" title="SampleReferenceRecord"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-SampleReferenceRecord" title="SampleReferenceRecord"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_174"></a><h3 class="tight">SampleReferenceRecord</h3>
<p class="spaceabove">Describes a sample or group of similar samples.</p>
<p class="spaceabove"><pre>
struct SampleReferenceRecord {
   long         dataOffset;
   long         dataSize;
   <a href="../../QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/TimeValue" target="_top">TimeValue</a>    durationPerSample;
   long         numberOfSamples;
   short        sampleFlags;
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_13" title="dataOffset"></a><dt><code>dataOffset</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the offset into the movie data file. This field specifies the offset into the file of the sample data.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_14" title="dataSize"></a><dt><code>dataSize</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the total number of bytes of sample data identified by the reference. All samples referenced by a single <code>SampleReferenceRecord</code> must be the same size.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_15" title="durationPerSample"></a><dt><code>durationPerSample</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the duration of each sample in the reference. You must specify this parameter in the media's time scale. All samples referenced by a single <code>SampleReferenceRecord</code> must be the same duration.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_16" title="numberOfSamples"></a><dt><code>numberOfSamples</code></dt>
<h5 class="tight">Discussion</h5><p>Specifies the number of samples contained in the reference.</p>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_17" title="sampleFlag"></a><dt><code>sampleFlag</code></dt>
<h5 class="tight">Discussion</h5><p>Contains flags (see below) that control the operation. Set unused flags to 0. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->mediaSampleNotSync<!--/a--></code></p></li>
</ul>
</p></dl>
<h5 class="tight">Related Functions</h5><span class="content_text"><code><a href="reference.html#//apple_ref/c/func/AddMediaSampleReferences" target="_self">AddMediaSampleReferences</a></code></span><br/>
<span class="content_text"><code><a href="reference.html#//apple_ref/c/func/GetMediaSampleReferences" target="_self">GetMediaSampleReferences</a></code>  </span><br/>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/c/tdef/TrackEditState" title="TrackEditState"></a><a name="//apple_ref/doc/c_ref/TrackEditState" title="TrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-TrackEditState" title="TrackEditState"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_175"></a><h3 class="tight">TrackEditState</h3>
<p class="spaceabove">Represents a type used by the Track and Media API.</p>
<p class="spaceabove"><pre>
typedef <a href="reference.html#//apple_ref/doc/c_ref/TrackEditStateRecord">TrackEditStateRecord</a> * TrackEditState;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>Movies.h</code>

<a name="//apple_ref/c/tag/TrackEditStateRecord" title="TrackEditStateRecord"></a><a name="//apple_ref/doc/c_ref/TrackEditStateRecord" title="TrackEditStateRecord"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-TrackEditStateRecord" title="TrackEditStateRecord"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_176"></a><h3 class="tight">TrackEditStateRecord</h3>
<p class="spaceabove">Contains a track edit state.</p>
<p class="spaceabove"><pre>
struct TrackEditStateRecord {
   long    data[1];
};
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaTypes-DontLinkElementID_18" title="data"></a><dt><code>data</code></dt>
<h5 class="tight">Discussion</h5><p>An array of data that constitutes a track edit state.</p></dl>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_5" title="Constants"></a>
<h2>Constants</h2>

<a name="//apple_ref/doc/constant_group/GetMovieImporter_Flags" title="GetMovieImporter Flags" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-GetMovieImporterFlags" title="GetMovieImporter Flags" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_177"></a><h3 class="tight">GetMovieImporter Flags</h3>
<p class="spaceabove">Constants that represent &#60;codeVoice&#62;GetMovieImporter&#60;/codeVoice&#62; flags.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->kGetMovieImporterValidateToFind<!--/a--> = 1<!--a-->L<!--/a--> &#60;&#60; 0,
   <!--a-->kGetMovieImporterAllowNewFile<!--/a--> = 1<!--a-->L<!--/a--> &#60;&#60; 1,
   <!--a-->kGetMovieImporterDontConsiderGraphicsImporters<!--/a--> = 1<!--a-->L<!--/a--> &#60;&#60; 2,
   <!--a-->kGetMovieImporterDontConsiderFileOnlyImporters<!--/a--> = 1<!--a-->L<!--/a--> &#60;&#60; 6,
   <!--a-->kGetMovieImporterAutoImportOnly<!--/a--> = 1<!--a-->L<!--/a--> &#60;&#60; 10 /* <!--a-->reject<!--/a--> <!--a-->aggressive<!--/a--> <!--a-->movie<!--/a--> <!--a-->importers<!--/a--> <!--a-->which<!--/a--> <!--a-->have<!--/a--> <!--a-->dontAutoFileMovieImport<!--/a--> <!--a-->set<!--/a-->*/
};
</pre></p>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/doc/constant_group/AddClonedTrackToMovie_Values" title="AddClonedTrackToMovie Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-AddClonedTrackToMovieValues" title="AddClonedTrackToMovie Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_178"></a><h3 class="tight">AddClonedTrackToMovie Values</h3>
<p class="spaceabove">Constants passed to AddClonedTrackToMovie.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->kQTCloneShareSamples<!--/a-->          = 1 &#60;&#60; 0,
   <!--a-->kQTCloneDontCopyEdits<!--/a-->         = 1 &#60;&#60; 1
};
</pre></p>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/doc/constant_group/QTGetMIMETypeInfo_Values" title="QTGetMIMETypeInfo Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-QTGetMIMETypeInfoValues" title="QTGetMIMETypeInfo Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_179"></a><h3 class="tight">QTGetMIMETypeInfo Values</h3>
<p class="spaceabove">Constants passed to QTGetMIMETypeInfo.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->kQTGetMIMETypeInfoIsQuickTimeMovieType<!--/a--> = 'moov', /* <!--a-->info<!--/a--> <!--a-->is<!--/a--> <!--a-->a<!--/a--> <!--a-->pointer<!--/a--> <!--a-->to<!--/a--> <!--a-->a<!--/a--> <!--a-->Boolean<!--/a-->*/
   <!--a-->kQTGetMIMETypeInfoIsUnhelpfulType<!--/a--> = 'dumb' /* <!--a-->info<!--/a--> <!--a-->is<!--/a--> <!--a-->a<!--/a--> <!--a-->pointer<!--/a--> <!--a-->to<!--/a--> <!--a-->a<!--/a--> <!--a-->Boolean<!--/a-->*/
};
</pre></p>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/doc/constant_group/GetMovieIndTrackType_Values" title="GetMovieIndTrackType Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-GetMovieIndTrackTypeValues" title="GetMovieIndTrackType Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_180"></a><h3 class="tight">GetMovieIndTrackType Values</h3>
<p class="spaceabove">Constants passed to GetMovieIndTrackType.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->movieTrackMediaType<!--/a-->           = 1 &#60;&#60; 0,
   <!--a-->movieTrackCharacteristic<!--/a-->      = 1 &#60;&#60; 1,
   <!--a-->movieTrackEnabledOnly<!--/a-->         = 1 &#60;&#60; 2
};
</pre></p>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/doc/constant_group/movieFileSpecValid" title="movieFileSpecValid" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-movieFileSpecValid" title="movieFileSpecValid" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_181"></a><h3 class="tight">movieFileSpecValid</h3>
<p class="spaceabove">Constants grouped with movieFileSpecValid.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->pasteInParallel<!--/a-->               = 1 &#60;&#60; 0,
   <!--a-->showUserSettingsDialog<!--/a-->        = 1 &#60;&#60; 1,
   <!--a-->movieToFileOnlyExport<!--/a-->         = 1 &#60;&#60; 2,
   <!--a-->movieFileSpecValid<!--/a-->            = 1 &#60;&#60; 3
};
</pre></p>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/doc/constant_group/SetTrackUsage_Values" title="SetTrackUsage Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-SetTrackUsageValues" title="SetTrackUsage Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_182"></a><h3 class="tight">SetTrackUsage Values</h3>
<p class="spaceabove">Constants passed to SetTrackUsage.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->trackUsageInMovie<!--/a-->             = 1 &#60;&#60; 1,
   <!--a-->trackUsageInPreview<!--/a-->           = 1 &#60;&#60; 2,
   <!--a-->trackUsageInPoster<!--/a-->            = 1 &#60;&#60; 3
};
</pre></p>
<h5 class="tight">Declared In</h5><code>Movies.h</code>
<a name="//apple_ref/doc/constant_group/Media_Identifiers" title="Media Identifiers" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-MediaIdentifiers" title="Media Identifiers" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_183"></a><h3 class="tight">Media Identifiers</h3>
<p class="spaceabove">Identify media types in QuickTime.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->VideoMediaType<!--/a-->                = 'vide',
   <a href="reference.html#//apple_ref/doc/c_ref/SoundMediaType">SoundMediaType</a>                = 'soun',
   <a href="reference.html#//apple_ref/doc/c_ref/TextMediaType">TextMediaType</a>                 = 'text',
   <!--a-->BaseMediaType<!--/a-->                 = 'gnrc',
   <!--a-->MPEGMediaType<!--/a-->                 = 'MPEG',
   <!--a-->MusicMediaType<!--/a-->                = 'musi',
   <!--a-->TimeCodeMediaType<!--/a-->             = 'tmcd',
   <!--a-->SpriteMediaType<!--/a-->               = 'sprt',
   <!--a-->FlashMediaType<!--/a-->                = 'flsh',
   <!--a-->MovieMediaType<!--/a-->                = 'moov',
   <!--a-->TweenMediaType<!--/a-->                = 'twen',
   <!--a-->ThreeDeeMediaType<!--/a-->             = 'qd3d',
   <!--a-->SkinMediaType<!--/a-->                 = 'skin',
   <!--a-->HandleDataHandlerSubType<!--/a-->      = 'hndl',
   <!--a-->PointerDataHandlerSubType<!--/a-->     = '<!--a-->ptr<!--/a--> ',
   <!--a-->NullDataHandlerSubType<!--/a-->        = 'null',
   <!--a-->ResourceDataHandlerSubType<!--/a-->    = 'rsrc',
   <!--a-->URLDataHandlerSubType<!--/a-->         = '<!--a-->url<!--/a--> ',
   <!--a-->AliasDataHandlerSubType<!--/a-->       = 'alis',
   <!--a-->WiredActionHandlerType<!--/a-->        = 'wire'
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/SoundMediaType" title="SoundMediaType"></a><a name="//apple_ref/doc/c_ref/SoundMediaType" title="SoundMediaType"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_184"></a><dt><code>SoundMediaType</code></dt><dd><p>Sound channel.  </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Movies.h</code>.</p></dd>
<a name="//apple_ref/c/econst/TextMediaType" title="TextMediaType"></a><a name="//apple_ref/doc/c_ref/TextMediaType" title="TextMediaType"></a><a name="//apple_ref/doc/uid/TP40003443-TrackAndMediaConstants-DontLinkElementID_185"></a><dt><code>TextMediaType</code></dt><dd><p>Text media.  </p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>Movies.h</code>.</p></dd>
</dl>
<h5 class="tight">Declared In</h5><code>Movies.h</code>


        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../Rev_History/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-11-10<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/Reference/QTRef_TrackAndMedia/Reference/reference.html%3Fid%3DTP40003443-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/Reference/QTRef_TrackAndMedia/Reference/reference.html%3Fid%3DTP40003443-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/Reference/QTRef_TrackAndMedia/Reference/reference.html%3Fid%3DTP40003443-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>