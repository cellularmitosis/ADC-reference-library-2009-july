<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Resource File Format (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING99></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-98.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-100.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-9.html"><B>Chapter 1 - Resource Manager</B></A> / <A HREF="MoreToolbox-24.html"><B>Resource Manager Reference</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING99-0></A>
<H2><A NAME=MARKER-9-466></A>Resource File Format</H2>
 <A NAME=MARKER-9-552></A>You need to know the exact format of a resource fork, which is described in this section, only if you're writing an application that creates or modifies a resource fork directly, without using Resource Manager routines.<P>
 <A HREF=#MARKER-9-468>Figure 1-11</A> shows the format of a compiled resource fork.<P>
<B>Figure 1-11  <A NAME=MARKER-9-468></A>Format of a resource fork</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-10.jpg">
 As <A HREF=#MARKER-9-468>Figure 1-11</A> shows, every resource fork begins with a resource header. Because the resource header contains an offset to the resource map, the resource map does not necessarily have to be located at the end of the resource fork.<P>
 <A HREF=#MARKER-9-469>Figure 1-12</A> shows the format of a resource header.<P>
<B>Figure 1-12  <A NAME=MARKER-9-469></A>Format of a resource header in a resource fork <A NAME=MARKER-2-470></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-11.jpg">
 The resource data in a resource fork consists of the data in its individual resources. <A HREF=#MARKER-9-471>Figure 1-13</A> shows the format of resource data for a single resource.<P>
<B>Figure 1-13  <A NAME=MARKER-9-471></A>Format of resource data for a single resource <A NAME=MARKER-2-472></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-12.jpg">
 For detailed descriptions of the resource data for various standard resource types, see the appropriate books in the <I>Inside Macintosh</I> series. <P>
 The resource data in a resource fork is followed by the resource map. <A HREF=MoreToolbox-364.html#MARKER-9-239>Figure 1-14</A> shows the format of a resource map.<P>
<B>Figure 1-14  <A NAME=MARKER-9-239></A>Format of the resource map in a resource fork <A NAME=MARKER-2-474></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-13.jpg">
 After reading the resource map into memory, the Resource Manager stores the indicated information in the reserved areas at the beginning of the map. <P>
 Each item in a resource type list specifies one resource type used in the resource fork, the number of resources of that type, and the location of the reference list for that type. <A HREF=#MARKER-9-475>Figure 1-15</A> shows the format of an item in a resource type list.<P>
<B>Figure 1-15  <A NAME=MARKER-9-475></A>Format of an item in a resource type list <A NAME=MARKER-2-476></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-14.jpg">
 The resource type list is followed by the reference lists for each type of resource. Each resource type has a corresponding reference list that contains entries for each resource of that type. The reference lists are contiguous and in the same order as the types in the resource type list.<P>
 <A HREF=#MARKER-9-477>Figure 1-16</A> shows the format of an entry in a reference list.<P>
<B>Figure 1-16  <A NAME=MARKER-9-477></A>Format of an entry in the reference list for a resource type </B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-15.jpg">
 If a resource does not have a name, the offset to the resource name in the resource's entry in the reference list is -1. If a resource does have a name, the offset identifies the location of the name's entry in the resource name list. <A HREF=#MARKER-9-478>Figure 1-17</A> shows the format of an item in the resource name list.<P>
<B>Figure 1-17  <A NAME=MARKER-9-478></A>Format of an item in a resource name list <A NAME=MARKER-2-479></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-16.jpg">
 <A HREF=#MARKER-9-480>Figure 1-18</A> illustrates the use of various offsets in the resource header and resource map, including the offsets for an entry in a reference list for an individual resource. Although the figure shows the resource map after the resource data, the resource map can be located almost anywhere in the resource fork as long as the offset to the map in the resource header points to the right location. <P>
<B>Figure 1-18  <A NAME=MARKER-9-480></A>Offsets in a resource fork and an entry for a single resource in a reference list <A NAME=MARKER-2-557></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/RM-L-17.jpg">
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-98.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-100.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
