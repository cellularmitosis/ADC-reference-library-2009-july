<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><html><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A QTMTB31: Adding QuickTime Movie Data to Non-QuickTime Files</title><meta name="keywords" content="Mac OS 8 QuickTime toolbox embedding movies file FlattenMovieData NewMovieFromDataFork"><meta name="Description" content="Technical Q&amp;A QTMTB31: Q&amp;A describes how to embed a QuickTimemovie or multiple movies into a Macintosh file containingnon-QuickTime stuff and play back the movie correctly onboth Windows and Mac machines."><meta name="categories" content="QuickTime Movie Toolbox"><meta name="week-posted" content="May 1, 1995 - May 5, 1995"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"><a name="//apple_ref/doc/uid/DTS10002001" title="Adding QuickTime Movie Data to Non-QuickTime Files"></a> <!-- white background --><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/QuickTime/index.html">QuickTime</a> &gt; <a href="../../technicalqas/QuickTime/idxMovieBasics-date.html">Movie Basics</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A QTMTB31</div>
<div id="pageheadsub">Adding QuickTime Movie Data to Non-QuickTime Files</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER>			<!-- -->						<!-- Document Body --><table cellspacing="0" cellpadding="0" border="0" WIDTH="600"><tr><td align="left" scope="row"><font size="+4">Q</font>  Is there a way to embed a QuickTime movie into a Macintosh filecontaining non-QuickTime material and have the Movie Toolbox play the movie back correctly? If so, can we pass the same movie handle to QuickTime for Windows and get it to play back the same data from the same file?<br><br><font size="+4">A</font>  To add QuickTime movie data to non-QuickTime files, store the movie data in the file using <CODE>FlattenMovieData</CODE> with the <CODE>flattenAddMovieToDataFork</CODE> flag. Since <CODE>FlattenMovieData</CODE> simply appends to a data fork of a file, it appends the movie data to any data file you pass to it. The data stored before or after the movie data doesn't matter to QuickTime, as long as you don't reposition the movie data within the data file. If you do, the movie references are no longer correct, since they aren't updated when you edit the file. The returned movie (from <CODE>FlattenMovieData</CODE>) resolves properly to that data file. You can then save the movie in the data fork with <CODE>PutMovieIntoDataFork</CODE>, or in the resource fork with <CODE>AddMovieResource</CODE>. If the movie is saved in the data fork, you can retrieve it with <CODE>NewMovieFromDataFork</CODE> for both QuickTime and QuickTime for Windows.<p>It is possible to store multiple movies simply by calling <CODE>FlattenMovieData</CODE> and<CODE>PutMovieIntoDataFork</CODE> several times on the same file. Each FlattenMovieData callappends new data, assuming the <CODE>createMovieFileDataCurFile</CODE> flag isn't set. For more information, see "Cross-Platform Compatibility and Multiple-Movie Files" in <i>develop</i> #17.</p><!-- begin_date --><H4 ALIGN=center>[May 01 1995]</H4><!-- end_date --></td></tr></table></CENTER><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/qtmtb/qtmtb31.html%3Fid%3DDTS10002001-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/qtmtb/qtmtb31.html%3Fid%3DDTS10002001-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/qtmtb/qtmtb31.html%3Fid%3DDTS10002001-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>