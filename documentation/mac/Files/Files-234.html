<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PBHCreate (IM: F)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING234></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Files-233.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-235.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Files-2.html"><B>Files</B></A> / <BR><DD><A HREF="Files-72.html"><B>Chapter 2 - File Manager</B></A> / <A HREF="Files-113.html"><B>File Manager Reference</B></A><BR><DL><DD><A HREF="Files-228.html"><B>Low-Level HFS Routines</B></A> / <A HREF="Files-233.html"><B>Creating and Deleting Files and Directories</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING234-0></A>
<H3>PBHCreate</H3>
 <A NAME=MARKER-11-1342></A><A NAME=MARKER-2-1343></A>You can use the <CODE>PBHCreate</CODE> function to create a new file.<P>
<PRE>
FUNCTION PBHCreate (paramBlock: HParmBlkPtr; async: Boolean): 
                     OSErr;
</PRE>
<DL>
<DT><CODE>paramBlock</CODE>
<DD> <DFN>A pointer to a basic HFS parameter block.</DFN>
<DT><CODE>async</CODE>
<DD> <DFN>A Boolean value that specifies asynchronous (<CODE>TRUE) or synchronous (FALSE) execution.</CODE></DFN>
</DL>
<B>
<TABLE BORDER="0" CELLPADDING=3><TD>--><TD><CODE>ioCompletion</CODE><TD><CODE>ProcPtr</CODE><TD>A pointer to a completion routine.<TR>
<TD><--<TD><CODE>ioResult</CODE><TD><CODE>OSErr</CODE><TD>The result code of the function.<TR>
<TD>--><TD><CODE>ioNamePtr</CODE><TD><CODE>StringPtr</CODE><TD>A pointer to a pathname.<TR>
<TD>--><TD><CODE>ioVRefNum</CODE><TD><CODE>Integer</CODE><TD>A volume specification.<TR>
<TD>--><TD><CODE>ioDirID</CODE><TD><CODE>LongInt</CODE><TD>A directory ID.</TABLE>
</B><P>
<A NAME=HEADING234-6></A>
<H5>DESCRIPTION</H5>
 The <CODE>PBHCreate</CODE> function creates a new file (both forks); the new file is unlocked and empty. The date and time of its creation and last modification are set to the current date and time. If the file created isn't temporary (that is, if it will exist after the user quits the application), the application should call <CODE>PBHSetFInfo</CODE> (after <CODE>PBHCreate</CODE>) to fill in the information needed by the Finder.<P>
 Files created using <CODE>PBHCreate</CODE> are not automatically opened. If you want to write <BR>data to the new file, you must first open the file using a file access routine (such <BR>as <CODE>PBHOpenDF</CODE>).<P>
<DL>
<DT><B>Note</B>
<DD>The resource fork of the new file exists but is empty. You'll need to <BR>call one of the Resource Manager procedures <CODE>CreateResFile</CODE>, <CODE>HCreateResFile</CODE>, or <CODE>FSpCreateResFile</CODE> to create a resource map in the file before you can open it (by calling one of the Resource Manager functions <CODE>OpenResFile</CODE>, <CODE>HOpenResFile</CODE>, or <CODE>FSpOpenResFile</CODE>).<EM></EM><A NAME=MARKER-2-1344></A><A NAME=MARKER-2-1345></A><A NAME=MARKER-2-1346></A><A NAME=MARKER-2-1347></A><A NAME=MARKER-2-1348></A><A NAME=MARKER-2-1349></A><A NAME=MARKER-2-1350></A><A NAME=MARKER-2-1351></A><A NAME=MARKER-2-1352></A><A NAME=MARKER-2-1353></A>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
<A NAME=HEADING234-10></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro for <CODE>PBHCreate</CODE> is <CODE>_HCreate</CODE>.<P>
<A NAME=HEADING234-12></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>dirFulErr<TD>-33<TD>File directory full<TR>
<TD>dskFulErr<TD>-34<TD>Disk is full<TR>
<TD>nsvErr<TD>-35<TD>No such volume<TR>
<TD>ioErr<TD>-36<TD>I/O error<TR>
<TD>bdNamErr<TD>-37<TD>Bad filename<TR>
<TD>fnfErr<TD>-43<TD>Directory not found or incomplete pathname<TR>
<TD>wPrErr<TD>-44<TD>Hardware volume lock<TR>
<TD>vLckdErr<TD>-46<TD>Software volume lock<TR>
<TD>dupFNErr<TD>-48<TD>Duplicate filename and version<TR>
<TD>dirNFErr<TD>-120<TD>Directory not found or incomplete pathname<TR>
<TD>afpAccessDenied<TD>-5000<TD>User does not have the correct access<TR>
<TD>afpObjectTypeErr<TD>-5025<TD>A directory exists with that name<A NAME=MARKER-2-106></A></TABLE>
</H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Files-233.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Files-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Files-390.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Files-235.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Files-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
