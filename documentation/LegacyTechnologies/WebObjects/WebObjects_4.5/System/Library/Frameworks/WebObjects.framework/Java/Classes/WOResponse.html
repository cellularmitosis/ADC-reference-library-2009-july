<HTML>		<HEAD>		<TITLE>			WOResponse		</TITLE>		</HEAD>	<body bgcolor="#ffffff"><!--start of banner --><!-- #include virtual="/techpubs/navbar" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>WebObjects Reference</font><br><br><!--end of path --><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> <a name = "WOResponse"><BR><h1><FONT COLOR=\"#000066\"><a name="//apple_ref/java/cl/WOResponse">WOResponse</a></FONT></h1><br></a><blockquote><b>Inheritsfrom: </b> <a frame= "conv" href="WOMessage.html#WOResponse">WOMessage</a> NSObject</blockquote><blockquote><b>Implements: </b> <a frame= "conv" href="../Protocols/WOActionResults.html#BAAHABDI">WOActionResults</a></blockquote><blockquote><b>Package: </b>com.apple.yellow.webobjects</blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>A WOResponse object represents an HTTP response that an applicationreturns to a Web server to complete a cycle of the request-responseloop. The composition of a response occurs during the third andfinal phase of this loop, a phase marked by the propagation of the  <a frame= "conv" href="WOApplication.html#//apple_ref/java/instm/WOApplication/appendToResponse">appendToResponse</a> message throughthe objects of the application. The  <a frame= "conv" href="WOApplication.html#WOApplication">WOApplication</a> object first sends thismessage, passing in a newly-created WOResponse object as an argument.  <a frame= "conv" href="WOElement.html#WOElement">WOElement</a> objects, which representthe dynamic and static HTML elements on a page, respond to the messageby appending their HTML representation to the content of the WOResponseobject. WOApplication,  <a frame= "conv" href="WOSession.html#WOSession">WOSession</a>, and  <a frame= "conv" href="WOComponent.html#WOComponent">WOComponent</a> objects can also respondto the message by adding information to the WOResponse object.</p><p>A WOResponse has two major parts: HTML content and HTTP information.The content is what is displayed in a Web browser; it can include <em>escaped</em> HTML,which is HTML code shown "as is," uninterpreted. The otherinformation encapsulated by a WOResponse object is used when handlingthe response. This HTTP data includes headers, status codes, andversion string. See the HTTP specification or HTTP documentationfor descriptions of these items.</p><p>The  <a frame= "conv" href="WOMessage.html#WOResponse">WOMessage</a> class-from which WOResponseinherits-declares most of the methods you use when constructinga response. These methods can be divided into two groups, thosethat add to a response's HTML content and those that read and setHTTP information. To the methods provided by  <a frame= "conv" href="WOMessage.html#WOResponse">WOMessage</a>, the WOResponse class addstwo methods that escape HTML ( <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/appendContentHTMLAttributeValue">appendContentHTMLAttributeValue</a> and  <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/appendContentHTMLString">appendContentHTMLString</a>). For imagesand other binary data, use  <a frame= "conv" href="WOMessage.html#//apple_ref/java/instm/WOMessage/appendContentData">appendContentData</a> (declaredin the <a frame= "conv" href="WOMessage.html#WOResponse">WOMessage</a> class). You can obtain andset the entire content of the response with  <a frame= "conv" href="WOMessage.html#WOResponse">WOMessage</a>'s  <a frame= "conv" href="WOMessage.html#//apple_ref/java/instm/WOMessage/content">content</a> and  <a frame= "conv" href="WOMessage.html#//apple_ref/java/instm/WOMessage/setContent">setContent</a> methods. The followingexample shows a sequence of <b>appendContent...</b> messagesthat compose an HTTP "POST" message:</p><blockquote><pre>aResponse.appendContentString("&lt;form method=\"POST\" action=\"");aResponse.appendContentHTMLAttributeValue(aContext.url());aResponse.appendContentCharacter('"');aResponse.appendContentString("&gt;");</pre></blockquote><br><p>The remaining WOResponse instance methods set and read thethe HTTP status code. WOResponse also provides two class methodsthat allow you to escape string objects.</p><br><br><br><h2>Interfaces Implemented</h2><hr><blockquote>WOActionResults<dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/generateResponse">generateResponse</a></dd></blockquote><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creation</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/WOResponse">WOResponse</a></dd></dl><dl><dt>Working with HTTP status</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/setStatus">setStatus</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/status">status</a></dd></dl><dl><dt>Working with HTML content</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/appendContentHTMLAttributeValue">appendContentHTMLAttributeValue</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/appendContentHTMLString">appendContentHTMLString</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/generateResponse">generateResponse</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/clm/WOResponse/stringByEscapingHTMLString">stringByEscapingHTMLString</a></dd><dd> <a frame= "conv" href="#//apple_ref/java/clm/WOResponse/stringByEscapingHTMLAttributeValue">stringByEscapingHTMLAttributeValue</a></dd></dl><dl><dt>Controlling Client Caching</dt><dd> <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/disableClientCaching">disableClientCaching</a></dd></dl></blockquote><br><br><h2>Constructors</h2><hr><a name = "WOResponse constructor"><BR><h3><a name="//apple_ref/java/instm/WOResponse/WOResponse">WOResponse</a></h3></a><p><code>public <b>WOResponse</b>()</code></p>Returns an initialized WOResponse instance.HTTP status is set to 200 (OK), client caching is enabled, and thedefault string encoding is made ISO Latin 1.<hr WIDTH=25% ALIGN=LEFT><br><br><h2>Static Methods</h2><hr><a name = "stringByEscapingHTMLAttributeValue_"><BR><h3><a name="//apple_ref/java/clm/WOResponse/stringByEscapingHTMLAttributeValue">stringByEscapingHTMLAttributeValue</a></h3></a><p><code>public static String <b>stringByEscapingHTMLAttributeValue</b>(String <em>aString</em>)</code></p>This method takes astring and, if escaping isrequired, returns a new string with certain characters escaped out. If escaping is not required, no conversion is performed and <em>aString</em> isreturned.  Use this method to escape strings which will appear asattribute values of a tag.  The escaped characters are:<br><table border = \"1\"><tr><td scope="row"><b>Character</b></td><td><b>Escaped character</b></td></tr><tr><td scope="row">& </td><td> &amp;</td></tr><tr><td scope="row"> "  </td><td>&quot;</td></tr><tr><td scope="row"> \t </td><td>&#9;</td></tr><tr><td scope="row"> \n </td><td>&#10;</td></tr><tr><td scope="row"> \r</td><td>&#13;</td></tr><tr><td scope="row"> &lt; </td><td>&lt;</td></tr><tr><td scope="row"> &gt;</td><td>&gt;</td></tr></table><br><hr WIDTH=25% ALIGN=LEFT><a name = "stringByEscapingHTMLString_"><BR><h3><a name="//apple_ref/java/clm/WOResponse/stringByEscapingHTMLString">stringByEscapingHTMLString</a></h3></a><p><code>public static String <b>stringByEscapingHTMLString</b>(String <em>aString</em>)</code></p>This method takes a string and, if escapingis required, returns a new string with certain characters escapedout.  If escaping is not required, no conversion is performed and <em>aString</em> isreturned.  Use this method to escape strings which will appear inthe visible part of an HTML file (that is, not inside a tag).  Theescaped characters are:<br><table border = \"1\"><tr><td scope="row"><b>Character</b></td><td><b>Escaped character</b></td></tr><tr><td scope="row">&</td><td>&amp;</td></tr><tr><td scope="row">" </td><td>&quot;</td></tr><tr><td scope="row">&lt; </td><td> &lt;</td></tr><tr><td scope="row">&gt; </td><td> &gt;</td></tr></table><br><hr WIDTH=25% ALIGN=LEFT><BR><BR><h2>Instance Methods</h2><hr><a name = "appendContentHTMLAttributeValue_"><BR><h3><a name="//apple_ref/java/instm/WOResponse/appendContentHTMLAttributeValue">appendContentHTMLAttributeValue</a></h3></a><p><code>public void <b>appendContentHTMLAttributeValue</b>(String <em>aValue</em>)</code></p>Appends an HTML attribute value to the HTTPcontent after transforming the string <em>aValue</em> intoan NSData object using the receiver's content encoding. SpecialHTML characters ("&lt;", "&gt;", "&",and double quote) are <em>escaped</em> sothat the browser does not interpret them. In other words, the message<blockquote><pre>aResponse.appendContentHTMLAttributeValue("&lt;B&gt;");</pre></blockquote><br><p>wouldtransform the argument to "&lt;B&gt;".</p><p><b>SeeAlso: </b>  <a frame= "conv" href="WOMessage.html#//apple_ref/java/instm/WOMessage/setContentEncoding">setContentEncoding</a> ( <a frame= "conv" href="WOMessage.html#WOResponse">WOMessage</a> class)</p><hr WIDTH=25% ALIGN=LEFT><a name = "appendContentHTMLString_"><BR><h3><a name="//apple_ref/java/instm/WOResponse/appendContentHTMLString">appendContentHTMLString</a></h3></a><p><code>public void <b>appendContentHTMLString</b>(String <em>aString</em>)</code></p>Appends an HTML string to the HTTP responseafter transforming the string <em>aString</em> intoan NSData object using the receiver's content encoding. SpecialHTML characters ("&lt;", "&gt;", "&",and double quote) are <em>escaped</em> sothat the browser does not interpret them. For example, "&lt;P&gt;"becomes "&ltP&gt".<p><b>See Also: </b>  <a frame= "conv" href="WOMessage.html#//apple_ref/java/instm/WOMessage/setContentEncoding">setContentEncoding</a> ( <a frame= "conv" href="WOMessage.html#WOResponse">WOMessage</a> class)</p><hr WIDTH=25% ALIGN=LEFT><a name = "disableClientCaching"><BR><h3><a name="//apple_ref/java/instm/WOResponse/disableClientCaching">disableClientCaching</a></h3></a><p><code>public void <b>disableClientCaching</b>()</code></p><p>Attempts to disable caching in the clientbrowser by appending a "no-cache" Cache-Control response directiveto the HTTP response and by appending Expires and Date values thatequal (they are both set to the current date and time).</p><p>Thismethod shouldn't be invoked more than once for a given response.</p><hr WIDTH=25% ALIGN=LEFT><a name = "generateResponse"><BR><h3><a name="//apple_ref/java/instm/WOResponse/generateResponse">generateResponse</a></h3></a><p><code>public WOResponse <b>generateResponse</b>()</code></p>Returns a WOResponse object. WOResponse'simplementation simply returns itself.<p><b>SeeAlso: </b>  <a frame= "conv" href="WOComponent.html#//apple_ref/java/instm/WOComponent/generateResponse">generateResponse</a> (WOComponent)</p><hr WIDTH=25% ALIGN=LEFT><a name = "setStatus_"><BR><h3><a name="//apple_ref/java/instm/WOResponse/setStatus">setStatus</a></h3></a><p><code>public void <b>setStatus</b>(int <em>anInt</em>)</code></p>Sets the HTTP status to <em>anInt</em>.Consult the HTTP specification or HTTP documentation for the significanceof status integers.<p><b>See Also: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/status">status</a></p><hr WIDTH=25% ALIGN=LEFT><a name = "status"><BR><h3><a name="//apple_ref/java/instm/WOResponse/status">status</a></h3></a><p><code>public int <b>status</b>()</code></p>Returns an integer code representing the HTTPstatus. Consult the HTTP specification or HTTP documentation forthe significance of these status codes.<p>By default, the statusis 200 ("OK" status).</p><p><b>SeeAlso: </b>  <a frame= "conv" href="#//apple_ref/java/instm/WOResponse/setStatus">setStatus</a></p><hr WIDTH=25% ALIGN=LEFT><BR><br><a href="../WebObjectsTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="Table of Contents"></a> </BODY></HTML>