<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<script language="JavaScript" src="frametest.js"></script>

<TITLE> BeginWindowProxyDrag</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>

<DIV>
<a name="top"></a><!-- start of banner -->			
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->
</DIV>

<!-- start of path -->
<table border="0" cellpadding="0" cellspacing="2" width="480">	
	<tr>
	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">
	<b>PATH<img src="images/space.gif" width="6" height="12"></b><a href="../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../mac8.html" target="_top">Mac OS 8 and 9</a> 
	<b>&gt;</b> Human Interface Toolbox
	<b>&gt;</b> <a href="../windowmanager.html" target="_top">Window Manager</a> 
	<b>&gt;</b>
	</font></td>
	</tr>
	<tr><td align="left" scope="row"><br>
	<img src="images/im_smblue.gif" width="116" height="8"><img src="images/space.gif" width="6" height="11">
	<font face="Geneva,Helvetica,Arial">Programming With the Mac OS 8.5 Window Manager</font>
	</td></tr>
</table><br>
<!-- end of path -->

<P><A HREF=WindowMgr.4f.html border=0><img src=images/up.gif border=0></A> <A HREF=WindowMgr.4f.html><img src=images/previous.gif border=0></A> <A HREF=WindowMgr.51.html><img src=images/next.gif border=0></A>   <!-- insert Show/Hide frames --> <a href=javascript:testFrame()> <script> <!--
  document.write(frameLink); //--> </script> <!-- end Show/Hide frames -->
</a>

<hr>





<H2 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=249798">
 </A>
<A NAME="39681">
 </A>
BeginWindowProxyDrag</H2>
<P CLASS="T1.Text1">
<A NAME="pgfId=249799">
 </A>
Creates the drag reference and the drag image when the user drags a proxy icon.</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=267216">
 </A>
pascal OSStatus BeginWindowProxyDrag (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WindowPtr window,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DragReference *outNewDrag,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RgnHandle outDragOutlineRgn);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=267218">
 </A>
<TT CLASS="cv">
window</TT>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=249801">
 </A>
A value of type <TT CLASS="cv">
WindowPtr</TT>
. Pass a pointer to the window whose proxy icon is being dragged.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=267227">
 </A>
<TT CLASS="cv">
outNewDrag</TT>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=249802">
 </A>
A pointer to a value of type <TT CLASS="cv">
DragReference</TT>
. On return, the value refers to the current drag process.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=267236">
 </A>
<TT CLASS="cv">
outDragOutlineRgn</TT>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=249803">
 </A>
 A value of type <TT CLASS="cv">
RgnHandle</TT>
. Your application can create this handle with a call to the QuickDraw function <TT CLASS="cv">
NewRgn</TT>
. On return, this region is set to the outline of the icon being dragged.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=267246">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=249806">
 </A>
A result code. See <A HREF="WindowMgr.79.html#15985" CLASS="XRef">
Result Codes</A>.</DD>
</DL COMPACT>
<DIV>
<H6 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=249808">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=254022">
 </A>
Typically, if the proxy icon represents a type of object (currently, file system entities such as files, folders, and volumes) supported by the Window Manager, the Window Manager can handle all aspects of the drag process itself, and your application should call the function <A HREF="WindowMgr.55.html#31493" CLASS="XRef">
<TT>TrackWindowProxyDrag</TT></A>
. However, if the proxy icon represents a type of data that the Window Manager does not support, or if you wish to implement custom dragging behavior, your application should call the function <A HREF="WindowMgr.56.html#23131" CLASS="XRef">
<TT>TrackWindowProxyFromExistingDrag</TT></A>
.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=254142">
 </A>
The <TT CLASS="cv">
TrackWindowProxyFromExistingDrag</TT>
 function accepts an existing drag reference and adds file data if the window contains a file proxy. If your application uses <TT CLASS="cv">
TrackWindowProxyFromExistingDrag</TT>
, you then have the choice of using this function in conjunction with the functions <TT CLASS="cv">
BeginWindowProxyDrag</TT>
 and <A HREF="WindowMgr.51.html#29298" CLASS="XRef">
<TT>EndWindowProxyDrag</TT></A>
 or simply calling <TT CLASS="cv">
TrackWindowProxyFromExistingDrag</TT>
 and handling all aspects of creating and disposing of the drag yourself.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=254057">
 </A>
Specifically, your application can call <TT CLASS="cv">
BeginWindowProxyDrag</TT>
 to set up the drag image and drag reference. Your application must then track the drag, using <TT CLASS="cv">
TrackWindowProxyFromExistingDrag</TT>
, and do any required moving of data and, finally, call <TT CLASS="cv">
EndWindowProxyDrag</TT>
 to dispose of the drag reference. <TT CLASS="cv">
BeginWindowProxyDrag</TT>
 should not be used for types handled by the Window Manager unless the application wishes to implement custom dragging behavior for those types.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=254033">
 </A>
Your application detects a drag when the function <TT CLASS="cv">
FindWindow</TT>
 returns the <TT CLASS="cv">
inProxyIcon</TT>
 result code; see <A HREF="WindowMgr.6d.html#32807" CLASS="XRef">
FindWindow Result Code Constant for the Proxy Icon</A> for more details.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=255481">
 </A>
See <A HREF="WindowMgr.13.html#14881" CLASS="XRef">
Supporting Window Proxy Icons</A> for examples of how your application can provide proxy icon support in its document windows.</P>
</DIV>
<DIV>
<H6 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=249819">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=249820">
 </A>
Available with Mac OS 8.5 and later.</P>
</DIV>
<HR>\xA9 1999 Apple Computer, Inc. &#150 (Last Updated 18 March 99)<P><A HREF="WindowMgr.4f.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="WindowMgr.4f.html"><img src="images/previous.gif" border="0"></A> <A HREF="WindowMgr.51.html"><img src="images/next.gif" border="0"></A> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>

</P><!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer --></body> </BODY>
</HTML>
