<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!--
This manual is for GNU M4 (version 1.4.6, 24 August 2006),
a package containing an implementation of the m4 macro language.

Copyright C 1989, 1990, 1991, 1992, 1993, 1994, 2004, 2005,
2006 Free Software Foundation, Inc.


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License,
Version 1.2 or any later version published by the Free Software
Foundation; with no Invariant Sections, no Front-Cover Texts, and no
Back-Cover Texts.  A copy of the license is included in the section
entitled "GNU Free Documentation License."

-->
<!-- Created on September, 23 2007 by texi2html 1.70 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>GNU M4, version 1.4.6: 1. Introduction and preliminaries</title>

<meta name="description" content="GNU M4, version 1.4.6: 1. Introduction and preliminaries">
<meta name="keywords" content="GNU M4, version 1.4.6: 1. Introduction and preliminaries">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.70">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="NOD2"></a>
<a name="SEC1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="m4.html#SEC_Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[ &lt;&lt; ]</td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="m4_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="m4_18.html#SEC83" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="m4_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 1. Introduction and preliminaries </h1>

<p>This first chapter explains what GNU <code>m4</code> is, where <code>m4</code>
comes from, how to read and use this documentation, how to call the
<code>m4</code> program, and how to report bugs about it.  It concludes by
giving tips for reading the remainder of the manual.

</p><p>The following chapters then detail all the features of the <code>m4</code>
language.

</p><table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top" scope="row"><a href="#SEC2">1.1 Introduction to <code>m4</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC3">1.2 Historical references</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC4">1.3 Invoking <code>m4</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC5">1.4 Problems and bugs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top" scope="row"><a href="#SEC6">1.5 Using this manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="NOD3"></a>
<a name="SEC2"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC1" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC3" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="m4_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="m4_18.html#SEC83" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="m4_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.1 Introduction to <code>m4</code> </h2>

<p><code>m4</code> is a macro processor, in the sense that it copies its
input to the output, expanding macros as it goes.  Macros are either
builtin or user-defined, and can take any number of arguments.
Besides just doing macro expansion, <code>m4</code> has builtin functions
for including named files, running shell commands, doing integer
arithmetic, manipulating text in various ways, performing recursion,
etc.&hellip;  <code>m4</code> can be used either as a front-end to a compiler,
or as a macro processor in its own right.

</p><p>The <code>m4</code> macro processor is widely available on all UNIXes, and has
been standardized by POSIX.
Usually, only a small percentage of users are aware of its existence.
However, those who find it often become committed users.  The
popularity of GNU Autoconf, which requires GNU
<code>m4</code> for <em>generating</em> `<tt>configure</tt>' scripts, is an incentive
for many to install it, while these people will not themselves
program in <code>m4</code>.  GNU <code>m4</code> is mostly compatible with the
System V, Release 3 version, except for some minor differences.
See section <a href="m4_15.html#SEC75">Compatibility with other versions of <code>m4</code></a>, for more details.

</p><p>Some people find <code>m4</code> to be fairly addictive.  They first use
<code>m4</code> for simple problems, then take bigger and bigger challenges,
learning how to write complex sets of <code>m4</code> macros along the way.
Once really addicted, users pursue writing of sophisticated <code>m4</code>
applications even to solve simple problems, devoting more time
debugging their <code>m4</code> scripts than doing real work.  Beware that
<code>m4</code> may be dangerous for the health of compulsive programmers.

</p><hr size="6">
<a name="NOD4"></a>
<a name="SEC3"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC2" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC4" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="m4_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="m4_18.html#SEC83" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="m4_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.2 Historical references </h2>

<p><code>GPM</code> was an important ancestor of <code>m4</code>.  See
C. Stratchey: &quot;A General Purpose Macro generator&quot;, Computer Journal
8,3 (1965), pp. 225 ff.  <code>GPM</code> is also succinctly described into
David Gries classic &quot;Compiler Construction for Digital Computers&quot;.

</p><p>The classic B. Kernighan and P.J. Plauger: &quot;Software Tools&quot;,
Addison-Wesley, Inc. (1976) describes and implements a Unix
macro-processor language, which inspired Dennis Ritchie to write
<code>m3</code>, a macro processor for the AP-3 minicomputer.

</p><p>Kernighan and Ritchie then joined forces to develop the original
<code>m4</code>, as described in &quot;The M4 Macro Processor&quot;, Bell
Laboratories (1977).  It had only 21 builtin macros.

</p><p>While <code>GPM</code> was more <em>pure</em>, <code>m4</code> is meant to deal with
the true intricacies of real life: macros can be recognized without
being pre-announced, skipping whitespace or end-of-lines is easier,
more constructs are builtin instead of derived, etc.

</p><p>Originally, the Kernighan and Plauger macro-processor, and then
<code>m3</code>, formed the engine for the Rational FORTRAN preprocessor,
that is, the <code>Ratfor</code> equivalent of <code>cpp</code>.  Later, <code>m4</code>
was used as a frontend for <code>Ratfor</code>, <code>C</code> and <code>Cobol</code>.

</p><p>Ren&eacute; Seindal released his implementation of <code>m4</code>, GNU
<code>m4</code>,
in 1990, with the aim of removing the artificial limitations in many
of the traditional <code>m4</code> implementations, such as maximum line
length, macro size, or number of macros.

</p><p>The late Professor A. Dain Samples described and implemented a further
evolution in the form of <code>M5</code>: &quot;User's Guide to the M5 Macro
Language: 2nd edition&quot;, Electronic Announcement on comp.compilers
newsgroup (1992).

</p><p>Fran&ccedil;ois Pinard took over maintenance of GNU <code>m4</code> in
1992, until 1994 when he released GNU <code>m4</code> 1.4, which was
the stable release for 10 years.  It was at this time that GNU
Autoconf decided to require GNU <code>m4</code> as its underlying
engine, since all other implementations of <code>m4</code> had too many
limitations.

</p><p>More recently, in 2004, Paul Eggert released 1.4.1 and 1.4.2 which
addressed some long standing bugs in the venerable 1.4 release.
Then in 2005 Gary V. Vaughan collected together the many
patches to GNU <code>m4</code> 1.4 that were floating around the net and
released 1.4.3 and 1.4.4.  And in 2006, Eric Blake joined the team and
prepared patches for the release of 1.4.5 and 1.4.6.

</p><p>Meanwhile, development has continued on new features for <code>m4</code>, such
as dynamic module loading and additional builtins.  When complete,
GNU <code>m4</code> 2.0 will start a new series of releases.

</p><hr size="6">
<a name="NOD5"></a>
<a name="SEC4"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC3" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC5" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="m4_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="m4_18.html#SEC83" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="m4_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.3 Invoking <code>m4</code> </h2>

<p>The format of the <code>m4</code> command is:

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example"><code>m4</code> [<var>option</var>&hellip;] [<var>file</var>&hellip;]
</pre></td></tr></table>
<a name="IDX1"></a>
<a name="IDX2"></a>
<p>All options begin with `<samp>-</samp>', or if long option names are used, with
a `<samp>--</samp>'.  A long option name need not be written completely, any
unambiguous prefix is sufficient.  Options may be intermixed with files,
use `<samp>--</samp>' as a marker to denote the end of options.  <code>m4</code>
understands the following options, grouped by functionality.

</p><p>Several options control the overall operation of <code>m4</code>:

</p><dl compact="compact">
<dt><code> --help</code></dt>
<dd><p>Print a help summary on standard output, then immediately exit
<code>m4</code> without reading any input files.

</p></dd>
<dt><code> --version</code></dt>
<dd><p>Print the version number of the program on standard output, then
immediately exit <code>m4</code> without reading any input files.

</p></dd>
<dt><code> -E</code></dt>
<dt><code> --fatal-warnings</code></dt>
<dd><p>Stop execution and exit <code>m4</code> once the first warning has been
issued, considering all of them to be fatal.

</p></dd>
<dt><code> -e</code></dt>
<dt><code> --interactive</code></dt>
<dd><p>Makes this invocation of <code>m4</code> interactive.  This means that all
output will be unbuffered, and interrupts will be ignored.

</p></dd>
<dt><code> -P</code></dt>
<dt><code> --prefix-builtins</code></dt>
<dd><p>Internally modify <em>all</em> builtin macro names so they all start with
the prefix `<samp>m4_</samp>'.  For example, using this option, one should write
`<samp>m4_define</samp>' instead of `<samp>define</samp>', and `<samp>m4___file__</samp>'
instead of `<samp>__file__</samp>'.  This option has no effect if `<samp>-R</samp>'
is also specified.

</p></dd>
<dt><code> -Q</code></dt>
<dt><code> --quiet</code></dt>
<dt><code> --silent</code></dt>
<dd><p>Suppress warnings, such as missing or superfluous arguments in macro
calls, or treating the empty string as zero.

</p></dd>
<dt><code> -W <var>REGEXP</var></code></dt>
<dt><code> --word-regexp=<var>REGEXP</var></code></dt>
<dd><p>Use <var>REGEXP</var> as an alternative syntax for macro names.  This
experimental option will not be present on all GNU <code>m4</code>
implementations (see section <a href="m4_7.html#SEC41">Changing the lexical structure of words</a>).
</p></dd>
</dl>

<a name="IDX3"></a>
<a name="IDX4"></a>
<p>Several options allow <code>m4</code> to behave more like a preprocessor.
Macro definitions and deletions can be made on the command line, the
search path can be altered, and the output file can track where the
input came from.  These features occur with the following options:

</p><dl compact="compact">
<dt><code> -D <var>NAME</var>[=<var>VALUE</var>]</code></dt>
<dt><code> --define=<var>NAME</var>[=<var>VALUE</var>]</code></dt>
<dd><p>This enters <var>NAME</var> into the symbol table, before any input files are
read.  If `<samp>=<var>VALUE</var></samp>' is missing, the value is taken to be the
empty string.  The <var>VALUE</var> can be any string, and the macro can be
defined to take arguments, just as if it was defined from within the
input.  This option may be given more than once; order is significant,
and redefining the same <var>NAME</var> loses the previous value.

</p></dd>
<dt><code> -I <var>DIRECTORY</var></code></dt>
<dt><code> --include=<var>DIRECTORY</var></code></dt>
<dd><p>Make <code>m4</code> search <var>DIRECTORY</var> for included files that are not
found in the current working directory.  See section <a href="m4_8.html#SEC45">Searching for include files</a>, for more
details.  This option may be given more than once.

</p></dd>
<dt><code> -s</code></dt>
<dt><code> --synclines</code></dt>
<dd><p>Generate synchronization lines, for use by the C preprocessor or other
similar tools.  This is useful, for example, when <code>m4</code> is used as a
front end to a compiler.  Source file name and line number information
is conveyed by directives of the form `<samp>#line <var>linenum</var>
&quot;<var>file</var>&quot;</samp>', which are inserted as needed into the middle of the
output.  Such directives mean that the following line originated or was
expanded from the contents of input file <var>file</var> at line
<var>linenum</var>.  The `<samp>&quot;<var>file</var>&quot;</samp>' part is often omitted when
the file name did not change from the previous directive.

</p><p>Synchronization directives are always given on complete lines by
themselves.  When a synchronization discrepancy occurs in the middle of
an output line, the associated synchronization directive is delayed
until the beginning of the next generated line.

</p></dd>
<dt><code> -U <var>NAME</var></code></dt>
<dt><code> --undefine=<var>NAME</var></code></dt>
<dd><p>This deletes any predefined meaning <var>NAME</var> might have.  Obviously,
only predefined macros can be deleted in this way.  This option may be
given more than once; undefining a <var>NAME</var> that does not have a
definition is silently ignored.
</p></dd>
</dl>

<p>There are some limits within <code>m4</code> that can be tuned.  For
compatibility, <code>m4</code> also accepts some options that control limits
in other implementations, but which are automatically unbounded (limited
only by your hardware constraints) in GNU <code>m4</code>.

</p><dl compact="compact">
<dt><code> -G</code></dt>
<dt><code> --traditional</code></dt>
<dd><p>Suppress all the extensions made in this implementation, compared to the
System V version.  See section <a href="m4_15.html#SEC75">Compatibility with other versions of <code>m4</code></a>, for a list of these.

</p></dd>
<dt><code> -H <var>NUM</var></code></dt>
<dt><code> --hashsize=<var>NUM</var></code></dt>
<dd><p>Make the internal hash table for symbol lookup be <var>NUM</var> entries big.
For better performance, the number should be prime, but this is not
checked.  The default is 509 entries.  It should not be necessary to
increase this value, unless you define an excessive number of macros.

</p></dd>
<dt><code> -L <var>NUM</var></code></dt>
<dt><code> --nesting-limit=<var>NUM</var></code></dt>
<dd><p>Artificially limit the nesting of macro calls to <var>NUM</var> levels,
stopping program execution if this limit is ever exceeded.  When not
specified, nesting is limited to 1024 levels.

</p><p>The precise effect of this option might be more correctly associated
with textual nesting than dynamic recursion.  It has been useful
when some complex <code>m4</code> input was generated by mechanical means.
Most users would never need this option.  If shown to be obtrusive,
this option (which is still experimental) might well disappear.

</p><p>This option does <em>not</em> have the ability to break endless
rescanning loops, since these do not necessarily consume much memory
or stack space.  Through clever usage of rescanning loops, one can
request complex, time-consuming computations from <code>m4</code> with useful
results.  Putting limitations in this area would break <code>m4</code> power.
There are many pathological cases: `<samp>define(`a', `a')a</samp>' is
only the simplest example (but see section <a href="m4_15.html#SEC75">Compatibility with other versions of <code>m4</code></a>).  Expecting GNU
<code>m4</code> to detect these would be a little like expecting a compiler
system to detect and diagnose endless loops: it is a quite <em>hard</em>
problem in general, if not undecidable!

</p></dd>
<dt><code> -B <var>NUM</var></code></dt>
<dt><code> -S <var>NUM</var></code></dt>
<dt><code> -T <var>NUM</var></code></dt>
<dd><p>These options are present for compatibility with System V <code>m4</code>, but
do nothing in this implementation.

</p></dd>
<dt><code> -N <var>NUM</var></code></dt>
<dt><code> --diversions=<var>NUM</var></code></dt>
<dd><p>These options are present only for compatibility with previous
versions of GNU <code>m4</code>, and were controlling the number of
possible diversions which could be used at the same time.  They do nothing,
because there is no fixed limit anymore.
</p></dd>
</dl>

<p>GNU <code>m4</code> comes with a feature of freezing internal state
(see section <a href="m4_14.html#SEC72">Fast loading of frozen state</a>).  This can be used to speed up <code>m4</code>
execution when reusing a common initialization script.

</p><dl compact="compact">
<dt><code> -F <var>FILE</var></code></dt>
<dt><code> --freeze-state=<var>FILE</var></code></dt>
<dd><p>Once execution is finished, write out the frozen state on the specified
<var>FILE</var>.  It is conventional, but not required, for <var>FILE</var> to end
in `<samp>.m4f</samp>'.

</p></dd>
<dt><code> -R <var>FILE</var></code></dt>
<dt><code> --reload-state=<var>FILE</var></code></dt>
<dd><p>Before execution starts, recover the internal state from the specified
frozen <var>FILE</var>.  The options `<samp>-D</samp>', `<samp>-U</samp>', and
`<samp>-t</samp>' take effect after state is reloaded, but before the input
files are read.
</p></dd>
</dl>

<p>Finally, there are several options for aiding in debugging <code>m4</code>
scripts.

</p><dl compact="compact">
<dt><code> -d[<var>FLAGS</var>]</code></dt>
<dt><code> --debug[=<var>FLAGS</var>]</code></dt>
<dd><p>Set the debug-level according to the flags <var>FLAGS</var>.  The debug-level
controls the format and amount of information presented by the debugging
functions.  See section <a href="m4_6.html#SEC35">Controlling debugging output</a>, for more details on the format and
meaning of <var>FLAGS</var>.  If omitted, <var>FLAGS</var> defaults to `<samp>aeq</samp>'.

</p></dd>
<dt><code> -l <var>NUM</var></code></dt>
<dt><code> --arglength=<var>NUM</var></code></dt>
<dd><p>Restrict the size of the output generated by macro tracing to <var>NUM</var>
characters per trace line.  If unspecified or zero, output is
unlimited.  See section <a href="m4_6.html#SEC35">Controlling debugging output</a>, for more details.

</p></dd>
<dt><code> -o <var>FILE</var></code></dt>
<dt><code> --error-output=<var>FILE</var></code></dt>
<dd><p>Redirect <code>dumpdef</code> output, debug messages, and trace output to the
named <var>FILE</var>.  Warnings, error messages, and <code>errprint</code> output
are still printed to standard error.  If unspecified, debug output goes
to standard error; if empty, debug output is discarded.  See section <a href="m4_6.html#SEC36">Saving debugging output</a>, for more details.

</p></dd>
<dt><code> -t <var>NAME</var></code></dt>
<dt><code> --trace=<var>NAME</var></code></dt>
<dd><p>This enables tracing for the macro <var>NAME</var>, at any point where it is
defined.  <var>NAME</var> need not be defined when this option is given.
This option may be given more than once.  See section <a href="m4_6.html#SEC34">Tracing macro calls</a>, for more details.
</p></dd>
</dl>

<a name="IDX5"></a>
<a name="IDX6"></a>
<p>The remaining arguments on the command line are taken to be input file
names.  If no names are present, the standard input is read.  A file
name of `<tt>-</tt>' is taken to mean the standard input.  It is
conventional, but not required, for input files to end in `<samp>.m4</samp>'.

</p><p>The input files are read in the sequence given.  The standard input can
only be read once, so the file name `<tt>-</tt>' should only appear once on
the command line.  It is an error if an input file ends in the middle of
argument collection, a comment, or a quoted string.

</p><p>If none of the input files invoked <code>m4exit</code> (see section <a href="m4_13.html#SEC71">Exiting from <code>m4</code></a>), the
exit status of <code>m4</code> will be 0 for success, 1 for general failure
(such as problems with reading an input file), and 63 for version
mismatch (see section <a href="m4_14.html#SEC73">Using frozen files</a>).

</p><p>If you need to read a file whose name starts with a `<tt>-</tt>', you can
specify it as `<samp>./-file</samp>', or use `<samp>--</samp>' to mark the end of
options.

</p><hr size="6">
<a name="NOD6"></a>
<a name="SEC5"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC4" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC6" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="m4_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="m4_18.html#SEC83" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="m4_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.4 Problems and bugs </h2>

<p>If you have problems with GNU M4 or think you've found a bug,
please report it.  Before reporting a bug, make sure you've actually
found a real bug.  Carefully reread the documentation and see if it
really says you can do what you're trying to do.  If it's not clear
whether you should be able to do something or not, report that too; it's
a bug in the documentation!

</p><p>Before reporting a bug or trying to fix it yourself, try to isolate it
to the smallest possible input file that reproduces the problem.  Then
send us the input file and the exact results <code>m4</code> gave you.  Also
say what you expected to occur; this will help us decide whether the
problem was really in the documentation.

</p><p>Once you've got a precise problem, send e-mail to (Internet)
<a href="mailto:bug-m4@gnu.org">bug-m4@gnu.org</a>.  Please include the version number of <code>m4</code>
you are using.  You can get this information with the command `<samp>m4
--version</samp>'.  Also provide details about the platform you are executing
on.

</p><p>Non-bug suggestions are always welcome as well.  If you have questions
about things that are unclear in the documentation or are just obscure
features, please report them too.

</p><hr size="6">
<a name="NOD7"></a>
<a name="SEC6"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC5" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC1" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="m4_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="m4_18.html#SEC83" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="m4_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 1.5 Using this manual </h2>

<p>This manual contains a number of examples of <code>m4</code> input and output,
and a simple notation is used to distinguish input, output and error
messages from <code>m4</code>.  Examples are set out from the normal text, and
shown in a fixed width font, like this

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">This is an example of an example!
</pre></td></tr></table>
<p>To distinguish input from output, all output from <code>m4</code> is prefixed
by the string `<samp>&rArr;</samp>', and all error messages by the string
`<samp>error--&gt;</samp>'.  Thus

</p><table><tr><td scope="row">&nbsp;</td><td><pre class="example">Example of input line
&rArr;Output line from m4
error--&gt;and an error message
</pre></td></tr></table>
<p>The sequence `<samp>^D</samp>' in an example indicates the end of the input file.
The majority of these examples are self-contained, and you can run them
with similar results by invoking <kbd>m4 -d</kbd>.  In fact, the testsuite
that is bundled in the GNU M4 package consists of the examples
in this document!

</p><p>As each of the predefined macros in <code>m4</code> is described, a prototype
call of the macro will be shown, giving descriptive names to the
arguments, e.g.,

</p><dl>
<dt><u>Composite:</u> <b>example</b><i> (<var>string</var>, [<var>count</var> = `<samp>1</samp>'], @</i>
<a name="IDX7"></a>
</dt>
<dd><p>  [<var>argument</var>]&hellip;)
This is a sample prototype.  There is not really a macro named
<code>example</code>, but this documents that if there were, it would be a
Composite macro, rather than a Builtin.  It requires at least one
argument, <var>string</var>.  Remember that in <code>m4</code>, there must not be a
space between the macro name and the opening parenthesis, unless it was
intended to call the macro without any arguments.  The brackets around
<var>count</var> and <var>argument</var> show that these arguments are optional.
If <var>count</var> is omitted, the macro behaves as if count were `<samp>1</samp>',
whereas if <var>argument</var> is omitted, the macro behaves as if it were
the empty string.  A blank argument is not the same as an omitted
argument.  For example, `<samp>example(`a')</samp>', `<samp>example(`a',`1')</samp>',
and `<samp>example(`a',`1',)</samp>' would behave identically with <var>count</var>
set to `<samp>1</samp>'; while `<samp>example(`a',)</samp>' and `<samp>example(`a',`')</samp>'
would explicitly pass the empty string for <var>count</var>.  The ellipses
(`<samp>&hellip;</samp>') show that the macro processes additional arguments
after <var>argument</var>, rather than ignoring them.
</p></dd></dl>

<p>All macro arguments in <code>m4</code> are strings, but some are given
special interpretation, e.g., as numbers, file names, regular
expressions, etc.  The documentation for each macro will state how the
parameters are interpreted, and what happens if the argument cannot be
parsed according to the desired interpretation.  Unless specified
otherwise, a parameter specified to be a number is parsed as a decimal,
even if the argument has leading zeros; and parsing the empty string as
a number results in 0 rather than an error, although a warning will be
issued.

</p><p>This document consistently writes and uses <em>builtin</em>, without a
hyphen, as if it were an English word.  This is how the <code>builtin</code>
primitive is spelled within <code>m4</code>.

</p><hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left" scope="row">[<a href="#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="m4_2.html#SEC7" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="m4.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="m4_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="m4_18.html#SEC83" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="m4_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>System Administrator</em> on <em>September, 23 2007</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.70</em></a>.
 </font>
 <br>

</p>
</body>
</html>
