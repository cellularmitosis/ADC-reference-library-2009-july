<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Serial Options</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING465></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-464.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-466.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-461.html"><B>Chapter 31 - Serial Endpoint Reference</B></A> / <A HREF="NetworkingWOT-463.html"><B>Options</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING465-0></A>
<H2>Serial Options</H2>
 You can use these options with a protocol level of <CODE>COM_SERIAL</CODE>. The <CODE>SERIAL_OPT_STATUS</CODE> option is read only; none of these are association-related options.<P>
<PRE>
<A NAME=MARKER-0-95></A>enum {
   SERIAL_OPT_BAUDRATE        0x0100,
   SERIAL_OPT_DATABITS        0x0101,
   SERIAL_OPT_STOPBITS        0x0102,
   SERIAL_OPT_PARITY          0x0103,
   SERIAL_OPT_STATUS          0x0104,
   SERIAL_OPT_HANDSHAKE       0x0105,
   SERIAL_OPT_RCVTIMEOUT      0x0106,
   SERIAL_OPT_ERRORCHARACTER  0x0107,
   SERIAL_OPT_EXTCLOCK        0x0108,
   SERIAL_OPT_BURSTMODE       0x0109
};
</PRE>
<B>Option descriptions</B><P>
<DL>
<DT><CODE><A NAME=MARKER-13-56></A></CODE>SERIAL<CODE>_OPT_BAUDRATE</CODE>
<DD> Sets the<A NAME=MARKER-13-57></A> baud rate. Values can be 300 to 56700. (The default is 19200.) 
<DT><CODE><A NAME=MARKER-13-58></A>SERIAL_OPT_DATABITS</CODE>
<DD> Sets the <A NAME=MARKER-13-59></A>data bits. Values can be 5, 6, 7, and 8. (The default is 8.) 
<DT><CODE><A NAME=MARKER-13-60></A>SERIAL_OPT_STOPBITS</CODE>
<DD> Sets the <A NAME=MARKER-13-61></A>stop bits. Values can be 10, 15, or 20. These reflect a number that is 10 times the bit time value: 1, 1.5, and 2. (The default is 10.) 
<DT><CODE><A NAME=MARKER-13-62></A>SERIAL_OPT_PARITY</CODE>
<DD> Sets the <A NAME=MARKER-13-63></A>parity.<P> 
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Parity<TH>Value<TH>Description<TR>
<TD>&nbsp;<TD><CODE><A NAME=MARKER-13-1></A>kOTSerialNoParity</CODE><TD>0<TD>No parity. <BR>( default)<TR>
<TD>&nbsp;<TD><CODE><A NAME=MARKER-13-2></A>kOTSerialOddParity</CODE><TD>1<TD>Odd parity.<TR>
<TD>&nbsp;<TD><CODE><A NAME=MARKER-13-3></A>kOTSerialEvenParity</CODE><TD>2<TD>Even parity.</TABLE>

<DT><CODE><A NAME=MARKER-13-64></A>SERIAL_OPT_STATUS</CODE>
<DD> Returns the current <A NAME=MARKER-13-65></A>status in this read-only option. One or more bits can be set. <B><P>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Status<TH>Value<TH>Description<TR>
<TD><TD><CODE><A NAME=MARKER-13-4></A>kOTSerialSwOverRunErr</CODE><TD><CODE>0x01</CODE><TD>Software overrun.<TR>
<TD><TD><CODE><A NAME=MARKER-13-5></A>kOTSerialBreakOn</CODE><TD><CODE>0x08</CODE><TD>A break on the line.<TR>
<TD><TD><CODE><A NAME=MARKER-13-6></A>kOTSerialParityErr</CODE><TD><CODE>0x10</CODE><TD>Parity error.<TR>
<TD><TD><CODE><A NAME=MARKER-13-7></A>kOTSerialOverrunErr</CODE><TD><CODE>0x20</CODE><TD>Hardware overrun.<TR>
<TD><TD><CODE><A NAME=MARKER-13-8></A>kOTSerialFramingErr</CODE><TD><CODE>0x40</CODE><TD>Framing error.<TR>
<TD><TD><CODE><A NAME=MARKER-13-9></A>kOTSerialXOffSent</CODE><TD><CODE>0x0010000</CODE><TD>The XOFF character has been sent.<TR>
<TD><TD><CODE><A NAME=MARKER-13-10></A>kOTSerialDTRNegated</CODE><TD><CODE>0x0020000</CODE><TD>The DTR signal is negated.<TR>
<TD><TD><CODE><A NAME=MARKER-13-11></A>kOTSerialCTLHold</CODE><TD><CODE>0x0040000</CODE><TD>The CTS signal is negated, causing a hold.<TR>
<TD><TD><CODE><A NAME=MARKER-13-12></A>kOTSerialXOffHold</CODE><TD><CODE>0x0080000</CODE><TD>The XOFF character has been received, causing a hold.<TR>
<TD><TD><CODE><A NAME=MARKER-13-13></A>kOTSerialOutputBreakOn</CODE><TD><CODE>0x1000000</CODE><TD>A break has been initiated.</TABLE>
</B>
<DT><CODE><A NAME=MARKER-13-66></A>SERIAL_OPT_HANDSHAKE</CODE>
<DD> Sets the <A NAME=MARKER-13-67></A>handshake to be used by the serial line. (The default is no handshake.) The high word of the integer is a bitmap with 1 or more of the following bits set:<P>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Handshake<TH>Value<TH>Description<TR>
<TD><TD><CODE><A NAME=MARKER-13-14></A>kOTSerialXOnOffInputHandshake</CODE><TD>1<TD>XON/XOFF set for input.<TR>
<TD><TD><CODE><A NAME=MARKER-13-15></A>kOTSerialXOnOffOutputHandshake</CODE><TD>2<TD>XON/XOFF set for output.<TR>
<TD><TD><CODE><A NAME=MARKER-13-16></A>kOTSerialCTSInputHandshake</CODE><TD>4<TD>CTS set on input.<TR>
<TD><TD><CODE><A NAME=MARKER-13-17></A>kOTSerialDTROutputHandshake</CODE><TD>8<TD>DTR set on output.</TABLE>

<DT>
<DD> The third byte in the option is the XON character. and the lowest byte is the XOFF character. If these two values are 0 and if <A NAME=MARKER-13-68></A>XON/XOFF handshaking was requested, Open Transport uses the default values of Control-Q for XON and Control-S for XOFF. Use the <CODE>SerialHandShakeData</CODE> macro to construct this value.
<DT><A NAME=MARKER-13-69></A><CODE>SERIAL_OPT_RCVTIMEOUT</CODE>
<DD> Sets the number of milliseconds the <A NAME=MARKER-13-70></A>receiver should wait before delivering less than the <CODE>RcvLoWat</CODE> number of incoming serial characters. If <CODE>RcvLoWat</CODE> is 0, then the value is the number of milliseconds of quiet time (no characters being received) that must elapse before characters are delivered to the client. In all cases, this option is advisory and serial drivers are free to deliver data whenever they deem it convenient. For instance, many serial drivers deliver data whenever 64 bytes have been received because 64 bytes is the smallest "Streams" buffer size. Be sure to look at the return value of the option to determine what it was negotiated to. Here are some examples of its use:<P>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>RcvTimeout<TH>RcvLoWat<TH>Action<TR>
<TD>&nbsp;<TD>0<TD>0<TD>Data is delivered immediately after it arrives.<TR>
<TD>&nbsp;<TD>x<TD>0<TD>Data is delivered after <I>x</I> milliseconds of no incoming characters on the line.<TR>
<TD>&nbsp;<TD>x<TD>y<TD>Data is delivered after <I>y</I> characters are received, or <I>x</I> milliseconds after the first character is received, whichever comes first.</TABLE>

<DT><A NAME=MARKER-13-71></A><CODE>SERIAL_OPT_ERRORCHARACTER</CODE>
<DD> Sets how characters with parity errors are handled. A 0 value disables their replacement--that is, error characters are discarded. A single character value in the low byte designates the replacement character. When characters are received with a parity error, they are replaced by this specified character. If a valid incoming character matches the replacement character, then the received character's most-significant-bit is cleared. For this situation, an alternate replacement character may be specified in bits 8 through 15 of the 32-bit value, with <CODE>0xff</CODE> being placed in bits 16 through 23. You can use the macros <CODE>OTSrlSetPEChar</CODE> and <CODE>OTSrlSetPECharWithAlternate</CODE> to get the bit placement correct. In this case, whenever a valid character is received that matches the first replacement character, it is replaced with this alternate character (which may be 0).
<DT><A NAME=MARKER-13-72></A><CODE>SERIAL_OPT_EXTCLOCK</CODE>
<DD> Requests an <A NAME=MARKER-13-73></A>external clock. A 0 value turns off external clocking (the default). Any other value is a requested divisor for the external clock. Although Open Transport serial endpoint providers do not support synchronous communications protocols, you can use this option to select an external timing signal for synchronous clocking between the sender and receiver. Be aware that not all serial implementations support an external clock and that not all requested divisors will be supported if such an implementation does support an external clock.
<DT><A NAME=MARKER-13-74></A><CODE>SERIAL_OPT_BURSTMODE</CODE>
<DD> Requests <A NAME=MARKER-13-75></A>burst mode operation. A value of 0 turns off burst mode (the default) and a value of 1 requests burst mode to be turned on. In burst mode, the serial driver continues looping, reading incoming characters, rather than waiting for an interrupt for each character. This option may not be supported by all serial drivers. <P>
<DT><B>WARNING</B>
<DD>Note that burst mode may adversely impact performance of the Macintosh system, since interrupts may be held off for long periods of time.  <A NAME=MARKER-13-76></A>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
</BLOCKQUOTE><HR>
<center>
<A HREF="NetworkingWOT-464.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-466.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
