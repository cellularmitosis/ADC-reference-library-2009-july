<html><head><title></title></head>

<body bgcolor="#ffffff">

 

 

<h1>

<FONT COLOR="#000066">

<a name="83">

 <a name="//apple_ref/occ/cl/NSRecursiveLock">NSRecursiveLock </a>

</a>

</FONT>

</h1>

<p><B>Inherits From:</B><BR>  

NSObject



<p><B>Conforms To:</B><BR>

NSLocking<br>

NSObject (NSObject)



<p><B>Declared In:	</B><BR>

Foundation/NSLock.h 



<p><a name="111"></a>

<a name="description"></a>

<H2>Class Description

</H2>

NSRecursiveLock defines a lock that may be acquired multiple times by the same thread without causing a deadlock, a situation where a thread is permanently blocked waiting for itself to relinquish a lock. While the locking thread has one or more locks, all other threads are prevented from accessing the code protected by the lock. Here's an example where a recursive lock functions properly but other lock types would deadlock:<p>

<blockquote><pre>NSRecursiveLock  *theLock = [[NSRecursiveLock alloc] init];<br>...<br>[theLock lock];<br>/* lengthy operations involving global data */<br>[theLock lock];   /* possibly invoked in a subroutine */<br>...<br>[theLock unlock]; /* relinquishes most recent lock */<br>...<br>[theLock unlock]; /* relinquishes the first lock */

</pre></blockquote><p>Unless <code>theLock</code> was an NSRecursiveLock, a deadlock condition would occur at the second <code>lock</code> message in the example above.<p>

The NSConditionLock, NSLock, and NSRecursiveLock classes all implement the NSLocking protocol with various features and performance characteristics; see the other class descriptions for more information.<p>

<HR WIDTH="50%" ALIGN="LEFT">

<h2>Adopted Protocols</h2>  





<dl>

<dt>NSLocking<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="../../Protocols/NSLocking.html#//apple_ref/occ/intfm/NSLocking/lock" target="_top">- lock</a><dt><a href="../../Protocols/NSLocking/NSLocking.html#//apple_ref/occ/intfm/NSLocking/unlock" target="_top">- unlock</a></dl></dd>

</dl></dd></dl></dd></dl></dd></dl>

<a name="120">

<HR WIDTH="50%" ALIGN="LEFT">

<h2>Method Types

</h2>

</a><dl>

<dt>Acquiring a lock<dd><dl><dd><dl><dd><dl><dd><dl>

<dt><a href="#//apple_ref/occ/instm/NSRecursiveLock/lockBeforeDate:">- lockBeforeDate:</a><dt><a href="#//apple_ref/occ/instm/NSRecursiveLock/tryLock">- tryLock</a></dl></dd>

</dl></dd></dl></dd></dl></dd></dl>

<HR WIDTH="50%" ALIGN="LEFT">

<a name="instm"></a>

<h2>Instance Methods</h2>  





<a name="125"></a>

<h3><a name="//apple_ref/occ/instm/NSRecursiveLock/lockBeforeDate:">lockBeforeDate:</a></h3>

- (BOOL)<code>lockBeforeDate:</code>(NSDate *)<em>limit</em>

<P>Attempts to acquire a lock before the date represented by <em>limit</em>. Returns YES if the lock is acquired within this time limit. Returns NO if the time limit expires before a lock can be acquired.<p>

<hr WIDTH="25%" ALIGN="LEFT">

<a name="128"></a>

<h3> <a name="//apple_ref/occ/instm/NSRecursiveLock/tryLock">tryLock</a></h3>

- (BOOL)<code>tryLock</code>

<P>Attempts to acquire a lock. Returns immediately with a value of YES if successful and NO otherwise.<p>



 

 





<i>Copyright &#169; 1997, Apple Computer, Inc.   All rights

reserved.</i>



<!-- Last updated: 06/17/97 16:52:09 -->



</body>

</html>

