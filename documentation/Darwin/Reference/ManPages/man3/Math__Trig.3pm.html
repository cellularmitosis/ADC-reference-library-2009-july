<html><head><title>Mac OS X
 Manual Page For Math::Trig(3pm)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3pm/Math::Trig" title="Mac OS X
 Manual Page for Math::Trig(3pm)"><a name="//apple_ref/doc/man/3/Math::Trig" title="Mac OS X
 Manual Page for Math::Trig(3pm)"><!-- headerDoc=man; indexgroup=Section 3pm; uid="//apple_ref/doc/man/3pm/Math::Trig"; name=Math::Trig(3pm) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Math::Trig(3pm)                       Perl Programmers Reference Guide                       Math::Trig(3pm)



<b>NAME</b>
       Math::Trig - trigonometric functions

<b>SYNOPSIS</b>
               use Math::Trig;

               $x = tan(0.9);
               $y = acos(3.7);
               $z = asin(2.4);

               $halfpi = pi/2;

               $rad = <!-- a -->deg2rad(120)<!-- /a -->;

               # Import constants pi2, pip2, pip4 (2*pi, pi/2, pi/4).
               use Math::Trig ':pi';

               # Import the conversions between cartesian/spherical/cylindrical.
               use Math::Trig ':radial';

               # Import the great circle formulas.
               use Math::Trig ':great_circle';

<b>DESCRIPTION</b>
       "Math::Trig" defines many trigonometric functions not defined by the core Perl which defines only the
       "sin()" and "cos()".  The constant <b>pi</b> is also defined as are a few convenience functions for angle
       conversions, and <u>great</u> <u>circle</u> <u>formulas</u> for spherical movement.

<b>TRIGONOMETRIC</b> <b>FUNCTIONS</b>
       The tangent

       <b>tan</b>

       The cofunctions of the sine, cosine, and tangent (cosec/csc and cotan/cot are aliases)

       <b>csc</b>, <b>cosec</b>, <b>sec</b>, <b>sec</b>, <b>cot</b>, <b>cotan</b>

       The arcus (also known as the inverse) functions of the sine, cosine, and tangent

       <b>asin</b>, <b>acos</b>, <b>atan</b>

       The principal value of the arc tangent of y/x

       <b>atan2</b>(y, x)

       The arcus cofunctions of the sine, cosine, and tangent (acosec/acsc and acotan/acot are aliases)

       <b>acsc</b>, <b>acosec</b>, <b>asec</b>, <b>acot</b>, <b>acotan</b>

       The hyperbolic sine, cosine, and tangent

       <b>sinh</b>, <b>cosh</b>, <b>tanh</b>

       The cofunctions of the hyperbolic sine, cosine, and tangent (cosech/csch and cotanh/coth are aliases)

       <b>csch</b>, <b>cosech</b>, <b>sech</b>, <b>coth</b>, <b>cotanh</b>

       The arcus (also known as the inverse) functions of the hyperbolic sine, cosine, and tangent

       <b>asinh</b>, <b>acosh</b>, <b>atanh</b>

       The arcus cofunctions of the hyperbolic sine, cosine, and tangent (acsch/acosech and acoth/acotanh
       are aliases)

       <b>acsch</b>, <b>acosech</b>, <b>asech</b>, <b>acoth</b>, <b>acotanh</b>

       The trigonometric constant <b>pi</b> is also defined.

       $pi2 = 2 * <b>pi</b>;

       <b>ERRORS</b> <b>DUE</b> <b>TO</b> <b>DIVISION</b> <b>BY</b> <b>ZERO</b>

       The following functions

               acoth
               acsc
               acsch
               asec
               asech
               atanh
               cot
               coth
               csc
               csch
               sec
               sech
               tan
               tanh

       cannot be computed for all arguments because that would mean dividing by zero or taking logarithm of
       zero. These situations cause fatal runtime errors looking like this

               cot(0): Division by zero.
               (Because in the definition of cot(0), the divisor sin(0) is 0)
               Died at ...

       or

               atanh(-1): Logarithm of zero.
               Died at...

       For the "csc", "cot", "asec", "acsc", "acot", "csch", "coth", "asech", "acsch", the argument cannot
       be 0 (zero).  For the "atanh", "acoth", the argument cannot be 1 (one).  For the "atanh", "acoth",
       the argument cannot be "-1" (minus one).  For the "tan", "sec", "tanh", "sech", the argument cannot
       be <u>pi/2</u> <u>+</u> <u>k</u> <u>*</u> <u>pi</u>, where <u>k</u> is any integer.  atan2(0, 0) is undefined.

       <b>SIMPLE</b> <b>(REAL)</b> <b>ARGUMENTS,</b> <b>COMPLEX</b> <b>RESULTS</b>

       Please note that some of the trigonometric functions can break out from the <b>real</b> <b>axis</b> into the <b>com</b>-<font color="#ffffff" class="whiteout">plex&nbsp;complex</font>
       <b>plex</b> <b>plane</b>. For example <!-- a -->asin(2)<!-- /a --> has no definition for plain real numbers but it has definition for
       complex numbers.

       In Perl terms this means that supplying the usual Perl numbers (also known as scalars, please see
       perldata) as input for the trigonometric functions might produce as output results that no more are
       simple real numbers: instead they are complex numbers.

       The "Math::Trig" handles this by using the "Math::Complex" package which knows how to handle complex
       numbers, please see Math::Complex for more information. In practice you need not to worry about get-<font color="#ffffff" class="whiteout">ting&nbsp;getting</font>
       ting complex numbers as results because the "Math::Complex" takes care of details like for example
       how to display complex numbers. For example:

               print <!-- a -->asin(2)<!-- /a -->, "\n";

       should produce something like this (take or leave few last decimals):

               1.5707963267949-1.31695789692482i

       That is, a complex number with the real part of approximately 1.571 and the imaginary part of approx-<font color="#ffffff" class="whiteout">imately&nbsp;approximately</font>
       imately "-1.317".

<b>PLANE</b> <b>ANGLE</b> <b>CONVERSIONS</b>
       (Plane, 2-dimensional) angles may be converted with the following functions.

               $radians  = deg2rad($degrees);
               $radians  = grad2rad($gradians);

               $degrees  = rad2deg($radians);
               $degrees  = grad2deg($gradians);

               $gradians = deg2grad($degrees);
               $gradians = rad2grad($radians);

       The full circle is 2 <u>pi</u> radians or <u>360</u> degrees or <u>400</u> gradians.  The result is by default wrapped to
       be inside the [0, {2pi,360,400}[ circle.  If you don't want this, supply a true second argument:

               $zillions_of_radians  = deg2rad($zillions_of_degrees, 1);
               $negative_degrees     = rad2deg($negative_radians, 1);

       You can also do the wrapping explicitly by <u>rad2rad()</u>, <u>deg2deg()</u>, and <u>grad2grad()</u>.

<b>RADIAL</b> <b>COORDINATE</b> <b>CONVERSIONS</b>
       <b>Radial</b> <b>coordinate</b> <b>systems</b> are the <b>spherical</b> and the <b>cylindrical</b> systems, explained shortly in more
       detail.

       You can import radial coordinate conversion functions by using the ":radial" tag:

           use Math::Trig ':radial';

           ($rho, $theta, $z)     = cartesian_to_cylindrical($x, $y, $z);
           ($rho, $theta, $phi)   = cartesian_to_spherical($x, $y, $z);
           ($x, $y, $z)           = cylindrical_to_cartesian($rho, $theta, $z);
           ($rho_s, $theta, $phi) = cylindrical_to_spherical($rho_c, $theta, $z);
           ($x, $y, $z)           = spherical_to_cartesian($rho, $theta, $phi);
           ($rho_c, $theta, $z)   = spherical_to_cylindrical($rho_s, $theta, $phi);

       <b>All</b> <b>angles</b> <b>are</b> <b>in</b> <b>radians</b>.

       <b>COORDINATE</b> <b>SYSTEMS</b>

       <b>Cartesian</b> coordinates are the usual rectangular <u>(x,</u> <u>y,</u> <u>z)</u>-coordinates.

       Spherical coordinates, <u>(rho,</u> <u>theta,</u> <u>pi)</u>, are three-dimensional coordinates which define a point in
       three-dimensional space.  They are based on a sphere surface.  The radius of the sphere is <b>rho</b>, also
       known as the <u>radial</u> coordinate.  The angle in the <u>xy</u>-plane (around the <u>z</u>-axis) is <b>theta</b>, also known
       as the <u>azimuthal</u> coordinate.  The angle from the <u>z</u>-axis is <b>phi</b>, also known as the <u>polar</u> coordinate.
       The North Pole is therefore <u>0,</u> <u>0,</u> <u>rho</u>, and the Gulf of Guinea (think of the missing big chunk of
       Africa) <u>0,</u> <u>pi/2,</u> <u>rho</u>.  In geographical terms <u>phi</u> is latitude (northward positive, southward negative)
       and <u>theta</u> is longitude (eastward positive, westward negative).

       <b>BEWARE</b>: some texts define <u>theta</u> and <u>phi</u> the other way round, some texts define the <u>phi</u> to start from
       the horizontal plane, some texts use <u>r</u> in place of <u>rho</u>.

       Cylindrical coordinates, <u>(rho,</u> <u>theta,</u> <u>z)</u>, are three-dimensional coordinates which define a point in
       three-dimensional space.  They are based on a cylinder surface.  The radius of the cylinder is <b>rho</b>,
       also known as the <u>radial</u> coordinate.  The angle in the <u>xy</u>-plane (around the <u>z</u>-axis) is <b>theta</b>, also
       known as the <u>azimuthal</u> coordinate.  The third coordinate is the <u>z</u>, pointing up from the <b>theta</b>-plane.

       <b>3-D</b> <b>ANGLE</b> <b>CONVERSIONS</b>

       Conversions to and from spherical and cylindrical coordinates are available.  Please notice that the
       conversions are not necessarily reversible because of the equalities like <u>pi</u> angles being equal to
       <u>-pi</u> angles.

       cartesian_to_cylindrical
                   ($rho, $theta, $z) = cartesian_to_cylindrical($x, $y, $z);

       cartesian_to_spherical
                   ($rho, $theta, $phi) = cartesian_to_spherical($x, $y, $z);

       cylindrical_to_cartesian
                   ($x, $y, $z) = cylindrical_to_cartesian($rho, $theta, $z);

       cylindrical_to_spherical
                   ($rho_s, $theta, $phi) = cylindrical_to_spherical($rho_c, $theta, $z);

           Notice that when $z is not 0 $rho_s is not equal to $rho_c.

       spherical_to_cartesian
                   ($x, $y, $z) = spherical_to_cartesian($rho, $theta, $phi);

       spherical_to_cylindrical
                   ($rho_c, $theta, $z) = spherical_to_cylindrical($rho_s, $theta, $phi);

           Notice that when $z is not 0 $rho_c is not equal to $rho_s.

<b>GREAT</b> <b>CIRCLE</b> <b>DISTANCES</b> <b>AND</b> <b>DIRECTIONS</b>
       You can compute spherical distances, called <b>great</b> <b>circle</b> <b>distances</b>, by importing the <u>great</u><b>_</b><u>cir</u>-<font color="#ffffff" class="whiteout">cle_distance()&nbsp;great_circle_distance()</font>
       <u>cle</u><b>_</b><u>distance()</u> function:

         use Math::Trig 'great_circle_distance';

         $distance = great_circle_distance($theta0, $phi0, $theta1, $phi1, [, $rho]);

       The <u>great</u> <u>circle</u> <u>distance</u> is the shortest distance between two points on a sphere.  The distance is
       in $rho units.  The $rho is optional, it defaults to 1 (the unit sphere), therefore the distance
       defaults to radians.

       If you think geographically the <u>theta</u> are longitudes: zero at the Greenwhich meridian, eastward posi-<font color="#ffffff" class="whiteout">tive,&nbsp;positive,</font>
       tive, westward negative--and the <u>phi</u> are latitudes: zero at the North Pole, northward positive,
       southward negative.  <b>NOTE</b>: this formula thinks in mathematics, not geographically: the <u>phi</u> zero is at
       the North Pole, not at the Equator on the west coast of Africa (Bay of Guinea).  You need to subtract
       your geographical coordinates from <u>pi/2</u> (also known as 90 degrees).

         $distance = great_circle_distance($lon0, pi/2 - $lat0,
                                           $lon1, pi/2 - $lat1, $rho);

       The direction you must follow the great circle (also known as <u>bearing</u>) can be computed by the
       <u>great</u><b>_</b><u>circle</u><b>_</b><u>direction()</u> function:

         use Math::Trig 'great_circle_direction';

         $direction = great_circle_direction($theta0, $phi0, $theta1, $phi1);

       (Alias 'great_circle_bearing' is also available.)  The result is in radians, zero indicating straight
       north, pi or -pi straight south, pi/2 straight west, and -pi/2 straight east.

       You can inversely compute the destination if you know the starting point, direction, and distance:

         use Math::Trig 'great_circle_destination';

         # thetad and phid are the destination coordinates,
         # dird is the final direction at the destination.

         ($thetad, $phid, $dird) =
           great_circle_destination($theta, $phi, $direction, $distance);

       or the midpoint if you know the end points:

         use Math::Trig 'great_circle_midpoint';

         ($thetam, $phim) =
           great_circle_midpoint($theta0, $phi0, $theta1, $phi1);

       The <u>great</u><b>_</b><u>circle</u><b>_</b><u>midpoint()</u> is just a special case of

         use Math::Trig 'great_circle_waypoint';

         ($thetai, $phii) =
           great_circle_waypoint($theta0, $phi0, $theta1, $phi1, $way);

       Where the $way is a value from zero ($theta0, $phi0) to one ($theta1, $phi1).  Note that antipodal
       points (where their distance is <u>pi</u> radians) do not have waypoints between them (they would have an an
       "equator" between them), and therefore "undef" is returned for antipodal points.  If the points are
       the same and the distance therefore zero and all waypoints therefore identical, the first point
       (either point) is returned.

       The thetas, phis, direction, and distance in the above are all in radians.

       You can import all the great circle formulas by

         use Math::Trig ':great_circle';

       Notice that the resulting directions might be somewhat surprising if you are looking at a flat
       worldmap: in such map projections the great circles quite often do not look like the shortest
       routes-- but for example the shortest possible routes from Europe or North America to Asia do often
       cross the polar regions.

<b>EXAMPLES</b>
       To calculate the distance between London (51.3N 0.5W) and Tokyo (35.7N 139.8E) in kilometers:

               use Math::Trig qw(great_circle_distance deg2rad);

               # Notice the 90 - latitude: phi zero is at the North Pole.
               sub NESW { deg2rad($_[0]), deg2rad(90 - $_[1]) }
               my @L = NESW( -0.5, 51.3);
               my @T = NESW(139.8, 35.7);
               my $km = great_circle_distance(@L, @T, 6378); # About 9600 km.

       The direction you would have to go from London to Tokyo (in radians, straight north being zero,
       straight east being pi/2).

               use Math::Trig qw(great_circle_direction);

               my $rad = great_circle_direction(@L, @T); # About 0.547 or 0.174 pi.

       The midpoint between London and Tokyo being

               use Math::Trig qw(great_circle_midpoint);

               my @M = great_circle_midpoint(@L, @T);

       or about 68.11N 24.74E, in the Finnish Lapland.

       <b>CAVEAT</b> <b>FOR</b> <b>GREAT</b> <b>CIRCLE</b> <b>FORMULAS</b>

       The answers may be off by few percentages because of the irregular (slightly aspherical) form of the
       Earth.  The errors are at worst about 0.55%, but generally below 0.3%.

<b>BUGS</b>
       Saying "use Math::Trig;" exports many mathematical routines in the caller environment and even over-<font color="#ffffff" class="whiteout">rides&nbsp;overrides</font>
       rides some ("sin", "cos").  This is construed as a feature by the Authors, actually... ;-)

       The code is not optimized for speed, especially because we use "Math::Complex" and thus go quite near
       complex numbers while doing the computations even when the arguments are not. This, however, cannot
       be completely avoided if we want things like <!-- a -->asin(2)<!-- /a --> to give an answer instead of giving a fatal run-<font color="#ffffff" class="whiteout">time&nbsp;runtime</font>
       time error.

       Do not attempt navigation using these formulas.

<b>AUTHORS</b>
       Jarkko Hietaniemi &lt;<u>jhi@iki.fi&gt;</u> and Raphael Manfredi &lt;<u>Raphael</u><b>_</b><u>Manfredi@pobox.com&gt;</u>.



perl v5.8.8                                      2001-09-21                                  Math::Trig(3pm)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Math__Trig.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Math__Trig.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Math__Trig.3pm.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
