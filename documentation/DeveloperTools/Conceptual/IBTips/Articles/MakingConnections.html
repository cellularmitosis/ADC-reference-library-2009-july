<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Interface Builder (Legacy): Making Connections in Cocoa Applications</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Making Connections in Cocoa Applications"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002101" title="Making Connections in Cocoa Applications"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/Tools-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000463" target="_top">Tools</a> &gt; <a href="../index.html" target="_top">Interface Builder (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CustomViews.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="FreqAskedQuests.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document applies to Interface Builder version 2.5, which is not supported in Mac OS X v10.5 and later. Instead, you should refer to <em><a href="../../IB_UserGuide/index.html#//apple_ref/doc/uid/TP40005344" target="_top">Interface Builder User Guide</a></em>, which documents the features and usage of Interface Builder 3.0. </p></div></div></div>
        <a name="//apple_ref/doc/uid/20002101-CJACFHHE" title="Making Connections in Cocoa Applications"></a><hr /><H1>Making Connections in Cocoa Applications</H1><p>For Cocoa-based applications, you can use Interface Builder to connect UI elements to each other and to your controller code so they can pass messages back and forth. Any object (and controllers in particular) can have an outlet, which is an instance variable pointing to some other object. It is often useful to have your program's controller objects have outlets to specific user interface elements, so that the controller can tell the UI elements to change their state, display text, and so forth.</p><p>Controls have a special way they can connect to other objects: they can assign an object to be the target of the control, and a particular method inside that object to be the action that gets called when the control is triggered. How the control looks and functions are handled by the Cocoa infrastructure, so that all you have to implement are the target objects and their action messages. For more information on the target-action paradigm, see <span class="content_text"><!--a target="_top" -->Communicating With Objects<!--/a--></span> in <span class="content_text"><a href="../../../../Cocoa/DesignGuidelines-date.html#//apple_ref/doc/uid/TP30000416-TP30000556" target="_top">Cocoa Design Guidelines Documentation.</a></span></p><p>To establish either outlet or target-action connections, you control-click the object that will be the source of the messages and drag to the object that will be the destination of the messages. Interface Builder displays a gray line between the two objects, with a square at one end showing the origin of the message. When the connection is displayed, you can open the Connections pane in the Info window to see lists of the available outlets and actions in the inspector, select the outlet or action you want, and click the Connect button to establish the connection. The key thing to remember is to always control-drag in the direction that messages will flow.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="MakingConnections.html#//apple_ref/doc/uid/20002101-108911">Target-Actions</a>
				
			<br/>
			
        
			
			
				<a href="MakingConnections.html#//apple_ref/doc/uid/20002101-109335">Outlets</a>
				
			<br/>
			
        
			
			
				<a href="MakingConnections.html#//apple_ref/doc/uid/20002101-101459">Locking Connections</a>
				
			<br/>
			
        
			
			
				<a href="MakingConnections.html#//apple_ref/doc/uid/20002101-101596">Connecting to First Responder</a>
				
			<br/>
			
        
			
			
				<a href="MakingConnections.html#//apple_ref/doc/uid/20002101-101695">Connecting to File’s Owner</a>
				
			<br/>
			
        
			
			
				<a href="MakingConnections.html#//apple_ref/doc/uid/20002101-109747">Connecting to the Menu Bar</a>
				
			<br/>
			
        
			
			
				<a href="MakingConnections.html#//apple_ref/doc/uid/20002101-101729">Making Connections in Outline View</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002101-108911" title="Target-Actions"></a><h2>Target-Actions</h2><p>Certain objects in your user interface, when manipulated by the user, send a message to another object (the <em>target</em>) telling it to perform some <em>action</em>. For example, a button can send a message to a drawer, telling it to open or close. For Cocoa applications, Interface Builder makes it easy to “wire up” these relationships. To do so, you Control-click on the object that sends the message (the control) and drag to the object that performs the action (the target). The Connections pane in the Info window then shows a list of the actions the target knows how to perform. Select the action you want and click Connect. </p><p>Actions are methods implemented by the target. When you connect a control to a target and select an action, that tells the control to send a message (containing any necessary data) to the target telling it to perform that method when the user manipulates the control. To summarize: for target-action connections, the action message is sent from a control to a target; the action method is implemented in the target.</p><p>For example, <span class="content_text">Figure 1</span> shows the connection of a button labeled “Count” to the Controller object so that the <code>increment:</code> action will be called when the button is clicked. You do this by control-dragging from the button to the controller, selecting “increment:” in the Target/Action tab of the Connections pane, and clicking Connect. </p><br/><div><a name="//apple_ref/doc/uid/20002101-CJAEDCGB" title="Figure 1Connecting an action to the Controller"></a><p><a name="//apple_ref/doc/uid/20002101-108949" title="Figure 1Connecting an action to the Controller"></a><strong>Figure 1&nbsp;&nbsp;</strong>Connecting an action to the Controller</p><img src = "Art/button_action.gif" alt = "Connecting an action to the Controller" width="490" height="333"></div><br/><p>In many cases, the target already has an implementation of the action method you need and you do not have to write any code to make this connection work. For example, the Drawer object has implementations of the actions <code>open:</code>, <code>close:</code>, and <code>toggle:</code>. However, to perform an action not already provided, you must add the action to the target before you make the connection.</p><p>To add actions to a target in your project, you use one of the following conventions for the method prototype in your code:</p><div class="codesample"><table><tr><td scope="row"><pre>-(void) myActionMethod: (id)sender;-(IBAction) myActionMethod:(id)sender;<span></span></pre></td></tr></table></div><p>In the example in <span class="content_text">Figure 1</span>, the <code>increment:</code> action is prototyped in the Controller code as:</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)increment:(id)sender;<span></span></pre></td></tr></table></div><p>Select the class to which you want to add the action in the Classes pane of the Nib file window and select Classes > Add Action to [<em>name of class</em>].</p><p>For more information on the target-action paradigm, see <span class="content_text"><!--a target="_top" -->Communicating With Objects<!--/a--></span> in <span class="content_text"><a href="../../../../Cocoa/DesignGuidelines-date.html#//apple_ref/doc/uid/TP30000416-TP30000556" target="_top">Cocoa Design Guidelines Documentation.</a></span></p><a name="//apple_ref/doc/uid/20002101-109335" title="Outlets"></a><h2>Outlets</h2><p>An outlet is an instance variable in one object that can be linked, through an ID, with another object. When you make an outlet connection, you are in effect telling the object that contains the instance variable the location of the object to which you are making the connection.</p><p>For example, in <span class="content_text">Figure 1</span>, the <code>increment:</code> message is sent from the button to the Controller object. The Controller object executes the <code>increment:</code> method. In this example, the application increments an integer and then displays the new value in a text field. In order for the Controller object to send a message to the text field telling it to display this data, it must have a pointer to that control at runtime. To give the Controller that pointer, you Control-click the Controller object and drag to the text field. You then select the outlet in the Outlets tab of the Connections pane (<code><!--a  -->textField<!--/a--></code> in <span class="content_text">Figure 2</span>) and click Connect. That tells Interface Builder that the instance variable <code><!--a  -->textField<!--/a--></code> in the Controller is the outlet; that is, it should contain a pointer to that text field. At runtime, when an instance of the Controller object is created, the outlet <code><!--a  -->textField<!--/a--></code> is given a pointer to the text field. </p><br/><div><a name="//apple_ref/doc/uid/20002101-CJAEFCCF" title="Figure 2Connecting an outlet"></a><p><a name="//apple_ref/doc/uid/20002101-109361" title="Figure 2Connecting an outlet"></a><strong>Figure 2&nbsp;&nbsp;</strong>Connecting an outlet</p><img src = "Art/controller_outlet.gif" alt = "Connecting an outlet" width="497" height="340"></div><br/><p>Many objects include instance variables that can be used as outlets. For example, an NSDrawer object has the outlets <code><!--a  -->contentView<!--/a--></code>, <code><!--a  -->delegate<!--/a--></code>, and <code><!--a  -->parentWindow<!--/a--></code>. If the object you are using doesn’t already have the outlets you need, you can add your own outlets to it. To add outlets to your project, you use one of the following conventions for the variable declaration in your code:</p><div class="codesample"><table><tr><td scope="row"><pre>id aDynamicallyTypedInstanceVariable;IBOutlet NSButton* aStaticallyTypedInstanceVariable;<span></span></pre></td></tr></table></div><p>For example, the <code><!--a  -->textField<!--/a--></code> outlet is declared in the Controller code as:</p><div class="codesample"><table><tr><td scope="row"><pre>id textField;<span></span></pre></td></tr></table></div><p>Select the class to which you want to add the outlet in the Classes pane of the Nib file window and select Classes > Add Outlet to [<em>name of class</em>].</p><p>The runtime code uses the list of outlets you generated in Interface Builder. For example, if you specified an outlet called <code><!--a  -->textField<!--/a--></code>, Interface Builder first investigates the class containing the outlet to see if it responds to<code> setTextField:(id)</code>. If it does, that method is called with the pointer to the text field you established in Interface Builder. If <code><!--a  -->setTextField:(id)<!--/a--></code> doesn’t exist, the instance variable <code><!--a  -->textField<!--/a--></code> itself is filled with the pointer. The object with the outlet must know how to send data to the object pointed to by <code><!--a  -->textField<!--/a--></code>. For standard outlets listed for an object in an Interface Builder palette, see the documentation for the class of that object to find out what you can use the outlets for. If you are writing your own custom subclass or your own controller, look at the documentation for the class of the receiving object to find out what messages it can handle. </p><a name="//apple_ref/doc/uid/20002101-101459" title="Locking Connections"></a><h2>Locking Connections</h2><p>Connections are a fundamental part of an application’s object infrastructure. That is, object-oriented code depends as much on the messages sent between objects as on the definitions of the objects themselves. Once you have developed and debugged an application, therefore, it is highly desirable to keep the connections from being inadvertently altered. Towards this end, Interface Builder has a preference that locks all connections for a user. You might use this feature, for example, if you are localizing a nib and do not want to accidentally change any connections. This setting is on the Editing pane of the Preferences dialog.</p><a name="//apple_ref/doc/uid/20002101-101596" title="Connecting to First Responder"></a><h2>Connecting to First Responder</h2><p>First Responder is your portal to the responder chain. You can add actions to First Responder in the Classes pane of the nib file window. Then, connect buttons and menu items to First Responder so that they call the desired action. The first object in the responder chain that understands this action will be called.</p><p>Because keystrokes do not point anywhere on the screen, all keystrokes are sent to the first responder. You can designate the first responder as the target of a control by connecting the control to the First Responder icon in the Instances pane of the Nib file window. When you do so, you can choose from the list of supplied actions, or you can add your own actions to the project and use one of those for the First Responder.</p><p>The responder chain is discussed in the programming topic <span class="content_text"><a href="../../../../Cocoa/Conceptual/EventOverview/Introduction/Introduction.html#//apple_ref/doc/uid/10000060i-CH1" target="_top">Introduction to Cocoa Event-Handling Guide</a></span> in the <span class="content_text"><a href="../../../../Cocoa/EventsOtherInput-date.html#//apple_ref/doc/uid/TP30000416-TP30000447" target="_top">Cocoa Events and Other Input</a></span> documentation area.</p><a name="//apple_ref/doc/uid/20002101-101695" title="Connecting to File&acirc;&#128;&#153;s Owner"></a><h2>Connecting to File’s Owner</h2><p> File’s Owner represents the object that will be passed in for owner in the method <code>[NSBundle loadNibNamed: owner]</code>. That is, File’s Owner is a proxy for an object that exists outside of the nib file but that can be connected to objects in the nib file. You can use the Custom Class Info Panel to specify what kind of object File’s Owner is. Once you’ve indicated what File’s Owner is, Interface Builder knows what outlets and actions are available for it and you can make connections to it.</p><a name="//apple_ref/doc/uid/20002101-109747" title="Connecting to the Menu Bar"></a><h2>Connecting to the Menu Bar</h2><p>Items in menus are connected to objects in your application in a similar fashion to that used for controls and views. As an example, the following procedure could be used for multi-document applications with multiple nibs.</p><p>Use the following procedure to make connections from the menu bar to your window controller:</p><ol class="ol"><li class="li"><p>In your main nib, instantiate a subclass (usually of NSObject or NSDocument) to use as your window controller.</p></li><li class="li"><p>Select the FirstResponder class in the Classes pane of the Nib file window (or double-click the First Responder icon in the Instances pane) and add the actions that you want to connect to a menu item.</p></li><li class="li"><p>Control-drag from the menu item in the Menu Editor window to the First Responder icon in the Instances pane of the Nib file window.</p></li><li class="li"><p>Connect the action you want the menu item to initiate.</p></li></ol><p> At runtime when one of your nib file windows is key, its window controller will be in the responder chain (because the window controller is the delegate of the window) and the menu item will work. This is one of the reasons for the existence of the FirstResponder class.</p><a name="//apple_ref/doc/uid/20002101-101729" title="Making Connections in Outline View"></a><h2>Making Connections in Outline View</h2><p>You can make connections in outline view as well as in icon view. There are some advantages to outline view: you can see multiple connections at one time, you can find deeply-nested subclasses more easily, and you can tell which objects have both outlet and target-action connections. <span class="content_text">Figure 3</span> shows an example of connections displayed in outline view.</p><br/><div><a name="//apple_ref/doc/uid/20002101-CJABDCFE" title="Figure 3Making connections in outline view"></a><p><a name="//apple_ref/doc/uid/20002101-101747" title="Figure 3Making connections in outline view"></a><strong>Figure 3&nbsp;&nbsp;</strong>Making connections in outline view</p><img src = "Art/outline_view.gif" alt = "Making connections in outline view" width="361" height="191"></div><br/><p>In the figure, the two outlet connections for the Controller object are highlighted by clicking on the right-facing triangle with the 2 next to it. The left-facing triangle on the same line highlights the one target-action connection that has the Controller object as a target. A new connection is being made from the Controller object to the NSButton(Count) object, as indicated by the gray line. To make the connection, you Control-click on the origin of the connection and drag to the class name representing the object to which you want to connect. </p><p>Use the icon at the top of the vertical scroll bar to toggle between icon view and outline view. </p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="CustomViews.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="FreqAskedQuests.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-04-05<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/IBTips/Articles/MakingConnections.html%3Fid%3D10000179i-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/IBTips/Articles/MakingConnections.html%3Fid%3D10000179i-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/IBTips/Articles/MakingConnections.html%3Fid%3D10000179i-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
