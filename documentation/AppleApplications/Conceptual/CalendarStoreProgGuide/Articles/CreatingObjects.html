<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Calendar Store Programming Guide: Creating Objects</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Creating Objects"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40005158" title="Creating Objects"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../iCal-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP30001031" target="_top">iCal</a> &gt; <a href="../index.html" target="_top">Calendar Store Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="FetchingRecords.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CreatingRecurringEvents.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/TP40005158-SW1" title="Creating Objects"></a><hr /><H1>Creating Objects</H1><p>Your application can also create Calendar Store objects—such as calendars, events, and tasks—that are visible in iCal. Each type of object has properties you set that are either optional or mandatory—for example, events and tasks have a title and calendar property. Some properties you do not set—they are read-only. This article describes how to create each type of object.</p><p>Note that none of the changes you make to Calendar Store objects, including creating new objects, persist unless you save the object using one of the <code>save...</code> methods in <code>CalCalendarStore</code>. For example, if you create a <code>CalEvent</code> object, then use the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarStore_Class/Reference/Reference.html#//apple_ref/occ/instm/CalCalendarStore/saveEvent:span:error:" target="_top">saveEvent:span:error:</a></code> method of <code>CalCalendarStore</code> to save it. Read <span class="content_text"><a href="SavingChanges.html#//apple_ref/doc/uid/TP40005058-SW1">“Saving Changes”</a></span> for more information on saving Calendar Store objects.</p><p>Event and task objects inherit common properties from the <code>CalCalendarItem</code> class. Note that you must set the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/calendar" target="_top">calendar</a></code> property of items before you attempt to save them. (Read <span class="content_text"><a href="FetchingRecords.html#//apple_ref/doc/uid/TP40004775-SW7">“Fetching Calendars”</a></span> for how to fetch calendar objects that you can use to set the <code>calendar</code> property.) All other properties defined in the <code>CalCalendarItem</code> class are either optional or read-only. The <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/dateStamp" target="_top">dateStamp</a></code> and <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/uid" target="_top">uid</a></code> properties are read-only. All other calendar item properties—such as <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/notes" target="_top">notes</a></code>, <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/url" target="_top">url</a></code>, <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/title" target="_top">title</a></code>, and <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/alarms" target="_top">alarms</a></code>—are optional. </p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="CreatingObjects.html#//apple_ref/doc/uid/TP40005158-DontLinkElementID_5">Creating Calendars</a>
				
			<br/>
			
        
			
			
				<a href="CreatingObjects.html#//apple_ref/doc/uid/TP40005158-SW2">Creating Events</a>
				
			<br/>
			
        
			
			
				<a href="CreatingObjects.html#//apple_ref/doc/uid/TP40005158-DontLinkElementID_6">Creating Tasks</a>
				
			<br/>
			
        
			
			
				<a href="CreatingObjects.html#//apple_ref/doc/uid/TP40005158-DontLinkElementID_7">Creating Alarms</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40005158-DontLinkElementID_5" title="Creating Calendars"></a><h2>Creating Calendars</h2><p>You create a calendar object using the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendar_Class/Reference/Reference.html#//apple_ref/occ/clm/CalCalendar/calendar" target="_top">calendar</a></code> class method of <code>CalCalendar</code>. Optionally, you can then set the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendar_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendar/color" target="_top">color</a></code>, <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendar_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendar/notes" target="_top">notes</a></code>, or <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendar_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendar/title" target="_top">title</a></code> properties. Currently, you can create iCal calendars only. For example, the following code fragment creates a new calendar titled “Kids”:</p><div class="codesample"><table><tr><td scope="row"><pre>// Create an iCal calendar<span></span></pre></td></tr><tr><td scope="row"><pre>CalCalendar *kidsCalendar = [CalCalendar calendar];<span></span></pre></td></tr><tr><td scope="row"><pre>kidsCalendar.title = @"Kids";<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40005158-SW2" title="Creating Events"></a><h2>Creating Events</h2><p>You create a <code>CalEvent</code> object using the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalEvent_Class/Reference/Reference.html#//apple_ref/occ/clm/CalEvent/event" target="_top">event</a></code> class method of <code>CalCalendar</code>, and, typically, set the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/calendar" target="_top">calendar</a></code>, <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalEvent_Class/Reference/Reference.html#//apple_ref/occ/instp/CalEvent/startDate" target="_top">startDate</a></code>, <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalEvent_Class/Reference/Reference.html#//apple_ref/occ/instp/CalEvent/endDate" target="_top">endDate</a></code>, and <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/title" target="_top">title</a></code> properties. For example, the following code fragment creates a one hour appointment:</p><div class="codesample"><table><tr><td scope="row"><pre>// Create a simple event.<span></span></pre></td></tr><tr><td scope="row"><pre>CalEvent *event = [CalEvent event];<span></span></pre></td></tr><tr><td scope="row"><pre>event.calendar = calendar;<span></span></pre></td></tr><tr><td scope="row"><pre>event.title = @"Dentist";<span></span></pre></td></tr><tr><td scope="row"><pre>event.startDate = [NSDate dateWithNaturalLanguageString:@"3pm January 9, 2007"];<span></span></pre></td></tr><tr><td scope="row"><pre>event.endDate = [NSDate dateWithNaturalLanguageString:@"4pm January 9, 2007"];<span></span></pre></td></tr><tr><td scope="row"><pre>event.location = @"1123 Fremont Avenue";<span></span></pre></td></tr></table></div><p>Read <span class="content_text"><a href="CreatingRecurringEvents.html#//apple_ref/doc/uid/TP40005063-SW1">“Creating Recurring Events”</a></span> for how to create events that repeat according to a specified daily, weekly, monthly, or yearly pattern.</p><a name="//apple_ref/doc/uid/TP40005158-DontLinkElementID_6" title="Creating Tasks"></a><h2>Creating Tasks</h2><p>You create a task object using the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalTask_Class/Reference/Reference.html#//apple_ref/occ/clm/CalTask/task" target="_top">task</a></code> <code>CalTask</code> class method, and typically, set the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/calendar" target="_top">calendar</a></code>, <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instp/CalCalendarItem/title" target="_top">title</a></code>, <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalTask_Class/Reference/Reference.html#//apple_ref/occ/instp/CalTask/dueDate" target="_top">dueDate</a></code>, and <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalTask_Class/Reference/Reference.html#//apple_ref/occ/instp/CalTask/priority" target="_top">priority</a></code> properties. For example, the following code fragment creates a task:</p><div class="codesample"><table><tr><td scope="row"><pre>// Create a simple task.<span></span></pre></td></tr><tr><td scope="row"><pre>CalTask *task = [CalTask task];<span></span></pre></td></tr><tr><td scope="row"><pre>task.calendar = calendar;<span></span></pre></td></tr><tr><td scope="row"><pre>task.title = @"File Tax Return";<span></span></pre></td></tr><tr><td scope="row"><pre>task.dueDate = [NSDate dateWithNaturalLanguageString:@"12am April 15, 2007"];<span></span></pre></td></tr><tr><td scope="row"><pre>task.priority = CalPriorityHigh;<span></span></pre></td></tr></table></div><p>Note that the <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalTask_Class/Reference/Reference.html#//apple_ref/occ/instp/CalTask/isCompleted" target="_top">isCompleted</a></code> and <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalTask_Class/Reference/Reference.html#//apple_ref/occ/instp/CalTask/completedDate" target="_top">completedDate</a></code> properties are interdependent. If you set one of these properties, the value of the other property changes too. Read <em><a href="../../../Reference/CalendarStoreFramework/Classes/CalTask_Class/index.html#//apple_ref/doc/uid/TP40004423" target="_top">CalTask Class Reference</a></em> for more details.</p><a name="//apple_ref/doc/uid/TP40005158-DontLinkElementID_7" title="Creating Alarms"></a><h2>Creating Alarms</h2><p>You can add alarms to both event and task objects. You create an alarm object using the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/clm/CalAlarm/alarm" target="_top">alarm</a></code> <code>CalAlarm</code> class method and then set the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/action" target="_top">action</a></code> property.</p><p>If you set the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/action" target="_top">action</a></code> property to <code>CalAlarmActionEmail</code>, set the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/emailAddress" target="_top">emailAddress</a></code> property to the email address that is sent a notification when the alarm triggers. If you set the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/action" target="_top">action</a></code> property to <code>CalAlarmActionSound</code>, set the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/sound" target="_top">sound</a></code> property to the sound that is played when the alarm triggers. If you set the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/action" target="_top">action</a></code> property to <code>CalAlarmActionProcedure</code>, set the <code><!--a target="_top" -->URL<!--/a--></code> property to the file that opens when the alarm triggers.</p><p>Optionally, you can specify a relative or an absolute trigger. Only one of these is active at a time. If you set the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/relativeTrigger" target="_top">relativeTrigger</a></code> property, then the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/absoluteTrigger" target="_top">absoluteTrigger</a></code> property is set to <code>nil</code>, and vice versa. Use the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/relativeTrigger" target="_top">relativeTrigger</a></code> property if you want the alarm to trigger a specified interval before the task <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalTask_Class/Reference/Reference.html#//apple_ref/occ/instp/CalTask/dueDate" target="_top">dueDate</a></code> or event <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalEvent_Class/Reference/Reference.html#//apple_ref/occ/instp/CalEvent/startDate" target="_top">startDate</a></code> properties. For example, you might want the alarm to trigger 15 minutes or 24 hours before a task is due. Use the <code><a href="../../../../Cocoa/Reference/CalAlarm_Class/Reference/Reference.html#//apple_ref/occ/instp/CalAlarm/absoluteTrigger" target="_top">absoluteTrigger</a></code> property if you want the alarm to trigger at a precise time on a specified date.</p><p>For example, the following code fragment adds an alarm to a task that triggers 15 minutes before the due date:</p><div class="codesample"><table><tr><td scope="row"><pre>// Add an alarm to a task.<span></span></pre></td></tr><tr><td scope="row"><pre>CalAlarm *alarm = [CalAlarm alarm];<span></span></pre></td></tr><tr><td scope="row"><pre>alarm.action = CalAlarmActionSound;<span></span></pre></td></tr><tr><td scope="row"><pre>alarm.sound = @"Basso";<span></span></pre></td></tr><tr><td scope="row"><pre>alarm.relativeTrigger = -15*60;<span></span></pre></td></tr><tr><td scope="row"><pre>[task addAlarm:alarm];<span></span></pre></td></tr></table></div><p>The <code><a href="../../../Reference/CalendarStoreFramework/Classes/CalCalendarItem_Class/Reference/Reference.html#//apple_ref/occ/instm/CalCalendarItem/addAlarm:" target="_top">addAlarm:</a></code> method is inherited from the <code>CalCalendarItem</code> class along with other methods for adding and removing alarms. Note that alarms you add to events and tasks are automatically saved when the events and tasks are saved.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="FetchingRecords.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CreatingRecurringEvents.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-10-31<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/CalendarStoreProgGuide/Articles/CreatingObjects.html%3Fid%3DTP40004334-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/CalendarStoreProgGuide/Articles/CreatingObjects.html%3Fid%3DTP40004334-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/CalendarStoreProgGuide/Articles/CreatingObjects.html%3Fid%3DTP40004334-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
