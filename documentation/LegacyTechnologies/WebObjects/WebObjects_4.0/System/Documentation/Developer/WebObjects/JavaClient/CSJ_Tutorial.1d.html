<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<TITLE> Creating a Master-Detail Interface</TITLE></HEAD>
<body bgcolor="#ffffff">

<!--start of banner -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="JavaClientTOC.html" target="_top">JavaClient Tutorial</a>
</font>
<br><br>
<!--end of path -->


<DIV>
<P><I>Creating a Java Client WebObjects Application</I><P><A HREF="CSJ_Tutorial.1c.html">Previous</A> | <A HREF="CSJ_Tutorial.1b.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.1e.html">Next</A></P></DIV>
<H3>
<A NAME="pgfId=12441">
 </A>
<A NAME="35298">
 </A>
Creating a Master-Detail Interface</H3>
<P CLASS="Body">
<A NAME="pgfId=12879">
 </A>
Starting with this exercise, you will create the final user interface of the StudioManager application. This means that you should start off by removing all objects added earlier to your nib file; also, give your application window a title.</P>
<DIV>

<A NAME="pgfId=29888">
 </A>
<B>2.  Prepare the nib file.</b>
<BLOCKQUOTE><P CLASS="TaskSubStep">
<A NAME="pgfId=29889">
 </A>
In Interface Builder, delete the table view from the window.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29890">
 </A>
Delete the Studio EODisplayGroup and the EditingContext from the nib file window.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29891">
 </A>
Save the nib file.</p>
</DIV>
<div>
<A NAME="pgfId=29892">
 </A>
</BLOCKQUOTE>

<B>3.  Set the window title.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29893">
 </A>
<BLOCKQUOTE>Select the window by clicking its title bar.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29894">
 </A>
Choose Inspector from the Tools menu.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29895">
 </A>
Enter &quot;Studio Manager&quot; in the TItle field of the Attributes display.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=19693">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-51.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=19728">
 </A>
</BLOCKQUOTE>You can create a master-detail interface by simply dragging a relationship from EOModeler onto your window.</P>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=29902">
 </A>
<B>4.  Create a master-detail interface.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29903">
 </A>
<BLOCKQUOTE>Drag Studio's <B CLASS="Bold-(Sidebar)">
movies</B>
 relationship from EOModeler onto the window in Interface Builder.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29904">
 </A>
Rearrange and resize the tables so that they are next to each other.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29905">
 </A>
Reconnect the Add and Remove buttons to the new Studio EODisplayGroup </P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29906">
 </A>
Reconnect the Save button to File's Owner (the interface controller).</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29907">
 </A>
(See <A HREF="CSJ_Tutorial.15.html#27984" CLASS="XRef">
Adding Action Methods</A>
 for these procedures.)</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=12451">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-52.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=12454">
 </A>
</BLOCKQUOTE>This operation creates a master-detail interface. Columns are automatically added for all of the attributes marked as class properties; you can delete any columns you don't want. </P>
<P CLASS="Body">
<A NAME="pgfId=22465">
 </A>
For a Java Client application, the interface controller--represented by the File's Owner icon in the nib file window--is the &quot;controller&quot; object in the Model-View-Controller design scheme. The interface controller comes already connected to its &quot;view&quot; through the component outlet. But you must connect it to its &quot;model&quot; object, the editing context.</P>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=29917">
 </A>
<B>5.  Connect the interface controller to its editing context and display group.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29918">
 </A>
<BLOCKQUOTE>Control-drag from File's Owner to the EditingContext icon in the nib file window.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29919">
 </A>
In the Connections inspector, select the <B CLASS="Bold-(Sidebar)">
editingContext</B>
 outlet.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29920">
 </A>
Click Connect.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=22442">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-52.gif">
</DIV>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30718">
 </A>
Control-drag from File's Owner to the Studio icon in the nib file window.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30719">
 </A>
In the Connections inspector, select the <B CLASS="Bold-(Sidebar)">
MasterDisplayGroup</B>
 outlet.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30720">
 </A>
Click Connect.</P>
<P CLASS="Body">
<A NAME="pgfId=30716">
 </A>
</BLOCKQUOTE>In the following figure, you can see the master-detail interface in action. Notice that the table views have been rearranged, and that titles have been added above the Studios and Movies tables. </P>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=29937">
 </A>
<B>6.  Test your interface.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=29938">
 </A>
<BLOCKQUOTE>Choose File <IMG SRC="CSJ_Tutorial-7.gif" ALIGN="BASELINE">
 Test Interface.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=30579">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-55.gif">
</DIV>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=30862">
 </A>
</BLOCKQUOTE><B>7.  Use Project Builder to build the application.</b>
<P CLASS="Body">
<A NAME="pgfId=30863">
 </A>
To see the effects of your changes, you must compile and run the application. However, before you run the application, there is one last step to perform. The  providing the running environment for your Java Client application is set to a default size in the WOJavaClientApplet bindings in <B>Main.wod</B>
. This size could be too small to accommodate your user interface (or too large for it).</P>
</DIV>
<DIV>

<A NAME="pgfId=30907">
 </A>
</BLOCKQUOTE><B>8.  Learn the size of the window.</b>
<BLOCKQUOTE><P CLASS="TaskSubStep">
<A NAME="pgfId=30865">
 </A>
Open <B CLASS="Bold-(Sidebar)">
StudioManager.nib.</B>
</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30866">
 </A>
Choose Inspector from the Tools menu.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30867">
 </A>
Select the Size inspector.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30868">
 </A>
Write down the <B CLASS="Bold-(Sidebar)">
w</B>
 and<B CLASS="Bold-(Sidebar)">
 h</B>
 parameters.</P>
<DIV>
<H6 CLASS="anchor">
<A NAME="pgfId=30872">
 </A>
</H6>
<DIV>
<IMG SRC="CSJ_Tutorial-56.gif">
</DIV>
<P CLASS="Body">
<A NAME="pgfId=30873">
 </A>
</BLOCKQUOTE>For example's sake, let's assume the window is 503 pixels high and 700 pixels wide. Transfer these numbers to the WOJavaClientApplet.</P>
</DIV>
</DIV>
<DIV>

<A NAME="pgfId=30874">
 </A>
<B>9.  Set the WOJavaClientApplet size bindings.</b>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30875">
 </A>
<BLOCKQUOTE>Open <B CLASS="Bold-(Sidebar)">
Main.wod.</B>
</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30876">
 </A>
Enter the dimensions of the window in the height and width bindings.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30877">
 </A>
Save the file.</P>
<P CLASS="CodeEx">
<A NAME="pgfId=30878">
 </A>
<CODE>Applet: WOJavaClientApplet {<BR>

<A NAME="pgfId=30879">
 </A>
&nbsp;&nbsp;&nbsp;height = 503; // change this<BR>

<A NAME="pgfId=30880">
 </A>
&nbsp;&nbsp;&nbsp;width = 700; // and this<BR>

<A NAME="pgfId=30881">
 </A>
&nbsp;&nbsp;&nbsp;interfaceControllerClassName = &quot;studiomanager.client.StudioManager&quot;;<BR>

<A NAME="pgfId=30882">
 </A>
&nbsp;&nbsp;&nbsp;useJavaPlugin = NO;<BR>

<A NAME="pgfId=30883">
 </A>
}</P></CODE>
<P CLASS="Body">
<A NAME="pgfId=30884">
 </A>
</BLOCKQUOTE>Now you are ready to test the application.</P>
</DIV>
<DIV>

<A NAME="pgfId=30885">
 </A>
<B>10.  Run and test the application.</B>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30892">
 </A>
<BLOCKQUOTE>Choose Tools <IMG SRC="CSJ_Tutorial-7.gif" ALIGN="BASELINE">
 Launcher <IMG SRC="CSJ_Tutorial-7.gif" ALIGN="BASELINE">
 Run to launch the server side of the application.</P>
<P CLASS="TaskSubStep">
<A NAME="pgfId=30896">
 </A>
Start up the client side (see <A HREF="CSJ_Tutorial.19.html#32639" CLASS="XRef">
Running a Java Client Application</A>
).</P>
<P CLASS="Body">
<A NAME="pgfId=5825">
 </A>
</BLOCKQUOTE>When you select a studio in the Studios table view, the display changes in the Movies table view to show the selected studio's movies.</P>
</DIV>
<HR>© 1999 Apple Computer, Inc. <P><A HREF="CSJ_Tutorial.1c.html">Previous</A> | <A HREF="CSJ_Tutorial.1b.html">Back Up One Level</A> | <A HREF="CSJ_Tutorial.1e.html">Next</A></P>

<!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
