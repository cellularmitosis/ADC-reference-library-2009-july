<html><head><title>Mac OS X Developer Tools
 Manual Page For Tcl_LinkVar(3tcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3tcl/Tcl_LinkVar" title="Mac OS X Developer Tools
 Manual Page for Tcl_LinkVar(3tcl)"><a name="//apple_ref/doc/man/3/Tcl_LinkVar" title="Mac OS X Developer Tools
 Manual Page for Tcl_LinkVar(3tcl)"><!-- headerDoc=man; indexgroup=Section 3tcl; uid="//apple_ref/doc/man/3tcl/Tcl_LinkVar"; name=Tcl_LinkVar(3tcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
Tcl_LinkVar(3)                             Tcl Library Procedures                             Tcl_LinkVar(3)



____________________________________________________________________________________________________________

<b>NAME</b>
       Tcl_LinkVar, Tcl_UnlinkVar, Tcl_UpdateLinkedVar - link Tcl variable to C variable

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;tcl.h&gt;</b>

       int
       <b>Tcl_LinkVar</b>(<u>interp,</u> <u>varName,</u> <u>addr,</u> <u>type</u>)

       <b>Tcl_UnlinkVar</b>(<u>interp,</u> <u>varName</u>)

       <b>Tcl_UpdateLinkedVar</b>(<u>interp,</u> <u>varName</u>)

<b>ARGUMENTS</b>
       Tcl_Interp   <u>*interp</u>    (in)      Interpreter  that  contains  <u>varName</u>.   Also used by <b>Tcl_LinkVar</b> to
                                         return error messages.

       CONST char   <u>*varName</u>   (in)      Name of global variable.

       char         <u>*addr</u>      (in)      Address of C variable that is to be linked to <u>varName</u>.

       int          <u>type</u>       (in)      Type of C variable.  Must be one of TCL_LINK_INT,  TCL_LINK_DOUBLE, |
                                         TCL_LINK_WIDE_INT, TCL_LINK_BOOLEAN, or TCL_LINK_STRING, optionally
                                         OR'ed with TCL_LINK_READ_ONLY to make Tcl variable read-only.
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       <b>Tcl_LinkVar</b> uses variable traces to keep the Tcl variable named by <u>varName</u> in sync with the  C  vari-<font color="#ffffff" class="whiteout">able&nbsp;variable</font>
       able  at  the  address  given by <u>addr</u>.  Whenever the Tcl variable is read the value of the C variable
       will be returned, and whenever the Tcl variable is written the C variable will be updated to have the
       same value.  <b>Tcl_LinkVar</b> normally returns TCL_OK;  if an error occurs while setting up the link (e.g.
       because <u>varName</u> is the name of array) then TCL_ERROR is returned and the  interpreter's  result  con-<font color="#ffffff" class="whiteout">tains&nbsp;contains</font>
       tains an error message.

       The  <u>type</u>  argument  specifies the type of the C variable, and must have one of the following values,
       optionally OR'ed with TCL_LINK_READ_ONLY:

       <b>TCL_LINK_INT</b>
              The C variable is of type <b>int</b>.  Any value written into the Tcl variable  must  have  a  proper
              integer  form acceptable to <b>Tcl_GetIntFromObj</b>;  attempts to write non-integer values into <u>var</u>-<font color="#ffffff" class="whiteout">Name&nbsp;varName</font>
              <u>Name</u> will be rejected with Tcl errors.

       <b>TCL_LINK_DOUBLE</b>
              The C variable is of type <b>double</b>.  Any value written into the Tcl variable must have a  proper
              real  form acceptable to <b>Tcl_GetDoubleFromObj</b>;  attempts to write non-real values into <u>varName</u>
              will be rejected with Tcl errors.

       <b>TCL_LINK_WIDE_INT</b>
              The C variable is of type <b>Tcl_WideInt</b> (which is an integer type at least 64-bits wide  on  all |
              platforms  that  can  support it.)  Any value written into the Tcl variable must have a proper |
              integer form acceptable to <b>Tcl_GetWideIntFromObj</b>;  attempts to write non-integer  values  into |
              <u>varName</u> will be rejected with Tcl errors.

       <b>TCL_LINK_BOOLEAN</b>
              The C variable is of type <b>int</b>.  If its value is zero then it will read from Tcl as ``0''; oth-<font color="#ffffff" class="whiteout">erwise&nbsp;otherwise</font>
              erwise it will read from Tcl as ``1''.  Whenever <u>varName</u> is modified, the C variable  will  be
              set  to  a  0  or 1 value.  Any value written into the Tcl variable must have a proper boolean
              form acceptable to <b>Tcl_GetBooleanFromObj</b>;  attempts to write non-boolean values  into  <u>varName</u>
              will be rejected with Tcl errors.

       <b>TCL_LINK_STRING</b>
              The  C  variable  is  of type <b>char</b> <b>*</b>.  If its value is not NULL then it must be a pointer to a |
              string allocated with <b>Tcl_Alloc</b> or <b>ckalloc</b>.  Whenever the Tcl variable is modified the current
              C  string  will be freed and new memory will be allocated to hold a copy of the variable's new
              value.  If the C variable contains a NULL pointer then the Tcl variable will read as ``NULL''.

       If  the  TCL_LINK_READ_ONLY  flag is present in <u>type</u> then the variable will be read-only from Tcl, so
       that its value can only be changed by modifying the C variable.  Attempts to write the variable  from
       Tcl will be rejected with errors.

       <b>Tcl_UnlinkVar</b>  removes  the  link previously set up for the variable given by <u>varName</u>.  If there does
       not exist a link for <u>varName</u> then the procedure has no effect.

       <b>Tcl_UpdateLinkedVar</b> may be invoked after the C variable has changed to force the Tcl variable  to  be
       updated  immediately.   In many cases this procedure is not needed, since any attempt to read the Tcl
       variable will return the latest value of the C variable.  However, if a trace has been set on the Tcl
       variable  (such  as a Tk widget that wishes to display the value of the variable), the trace will not
       trigger when the C variable has changed.  <b>Tcl_UpdateLinkedVar</b> ensures that  any  traces  on  the  Tcl
       variable are invoked.


<b>KEYWORDS</b>
       boolean, integer, link, read-only, real, string, traces, variable



Tcl                                                  7.5                                      Tcl_LinkVar(3)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_LinkVar.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_LinkVar.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/Tcl_LinkVar.3tcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
