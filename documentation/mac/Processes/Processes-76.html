<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>VBL Tasks Installed by the Operating System (IM: Pr)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING76></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Processes-75.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Processes-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Processes-171.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Processes-77.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="Processes-2.html"><B>Processes</B></A><BR><DD><A HREF="Processes-74.html"><B>Chapter 4 - Vertical Retrace Manager</B></A> / <A HREF="Processes-75.html"><B>About the Vertical Retrace Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING76-0></A>
<H2>VBL Tasks Installed by the Operating System<A NAME=MARKER-2-112></A></H2>
 The Operating System uses the Vertical Retrace Manager to accomplish a number of repetitive tasks at uniform intervals. These are some of the VBL tasks installed by the Operating System, grouped by the intervals at which they execute:<A NAME=MARKER-2-22></A><P>
<UL>
<LI>Every interrupt<P>
<UL>
<LI>Update the value of the global variable <CODE>Ticks</CODE>, which a program may access through the routine <CODE>TickCount</CODE>.<A NAME=MARKER-2-23></A>
<LI>Call the "stack sniffer" to see if the current application's stack and heap have collided. If so, the task calls the System Error Handler.<A NAME=MARKER-2-24></A>
<LI>Update the position of the cursor.<A NAME=MARKER-2-25></A><P>
</UL>
<LI>Every 30 interrupts<P>
<UL>
<LI>Check whether the user has inserted a disk or mounted a volume. If so, the task posts a disk-inserted event.<A NAME=MARKER-2-85></A><P>
</UL>
<LI>Every 32 interrupts<P>
<UL>
<LI>Check whether a keyboard has been reattached after having been detached. If so, the task resets the keyboard.<A NAME=MARKER-2-123></A><P>
</UL>
</UL>
 Some VBL routines may execute only on certain computers or only in certain versions of system software. For example, on early Macintosh computers, a VBL task checks every other interrupt to determine whether the state of the mouse button has changed from its previous state and then remained unchanged for at least four interrupts. If so, that task posts a mouse-down or mouse-up event, as appropriate. In Macintosh computers equipped with Apple Desktop Bus mouse devices, the Operating System uses a different mechanism for posting mouse-down and mouse-up events.<A NAME=MARKER-2-77></A><A NAME=MARKER-2-29></A><P>
<DL>
<DT><B>Note</B>
<DD>VBL tasks installed by the Operating System are not maintained in the same queue used for application-defined VBL tasks.<B></B>  <B>&#183;</B>
</DL>
</BLOCKQUOTE><P>
<HR>
<center>
<A HREF="Processes-75.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Processes-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Processes-171.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Processes-77.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Processes-3.html">&copy; Apple Computer, Inc.</A><br>17 JUN 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
