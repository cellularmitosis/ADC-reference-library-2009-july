<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>OTCreateOptions</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING261></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-260.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-262.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-243.html"><B>Chapter 25 - Option Management Reference</B></A> / <A HREF="NetworkingWOT-254.html"><B>Functions</B></A><BR><DL><DD><A HREF="NetworkingWOT-260.html"><B>Manipulating the Format of Option Information</B></A> / </DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING261-0></A>
<H3><A NAME=MARKER-9-97></A>OTCreateOptions</H3>
 Writes option information into a buffer, from a string specifying option values.<P>
<A NAME=HEADING261-2></A>
<H5>C INTERFACE</H5>
<PRE>
<A NAME=MARKER-11-98></A>OSStatus OTCreateOptions (const char* endptName, char** strPtr, 
                                         TNetbuf* buf);
</PRE>
<A NAME=HEADING261-4></A>
<H5>C++ INTERFACE</H5>
 None. C++ applications use the C interface to this function.<P>
<A NAME=HEADING261-6></A>
<H5>PARAMETERS</H5>
<DL>
<DT><CODE>endptName</CODE>
<DD>  The name of the protocol for which the options are specified. For example, for an AppleTalk endpoint this might be "atp" or "ddp." <P>
<DT><CODE>strPtr</CODE>
<DD> A pointer to a pointer to a string containing option information. If an error occurs in writing the option information to the buffer, <CODE>strPtr</CODE> points to the position in the string where the error occurred. <P>
<DT><CODE>buf</CODE>
<DD> A pointer to a <CODE>TNetbuf</CODE> structure that specifies the size and location of the buffer into which the function writes option information. You must allocate the buffer and set the <CODE>buf-&gt;opt</CODE> field to point to it. <P>
<DT>
<DD> You must set the <CODE>buf-&gt;maxlen</CODE> field to the size of the buffer. To handle all possible options, create a buffer whose size is equal to the value specified by the <CODE>TEndpoint.options</CODE> field for an endpoint configured using the <CODE>endptName</CODE> string.<P>
<DT>
<DD> The function appends option information to the buffer beginning at the offset specified by the <CODE>buf-&gt;len</CODE> field. Set this field to 0 to start at the beginning of the buffer. When the function returns, the value of the <CODE>buf-&gt;len</CODE> field is updated to reflect the new length, including padding.<P>
<DT><I>function result</I>
<DD> See Discussion.
</DL>
<A NAME=HEADING261-13></A>
<H5>DISCUSSION</H5>
 The <CODE>OTCreateOptions</CODE> function automates the construction of a buffer that describes endpoint option values for a particular protocol. Given a string, a pointer to a buffer, and the protocol for which the options are set, the function constructs <CODE>TOption</CODE> structures describing each option specified and then places these structures in the buffer referenced by the <CODE>buf</CODE> parameter. After using the <CODE>OTCreateOptions</CODE> function to construct the buffer, you have most of the information needed to create the <CODE>req</CODE> parameter to the <A HREF=NetworkingWOT-256.html#MARKER-9-86><CODE>OTOptionManagement</CODE></A> function.<A NAME=MARKER-13-99></A><P>
 The string containing option values has the format:<P>
<PRE>
<A NAME=MARKER-0-95></A>optionName1 = value optionName2 = value optionName3 = value [....]
</PRE>
 where <I>value</I> can be a numeric value, a string value, or a byte array value. The next table describes how each value is represented.<P>
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Format of values&nbsp;&nbsp;<TH>Contents<TR>
<TD>Numeric<TD>A minus sign (-) prefix for negative numbers, followed by the digits comprising the number; for example, -6784.<P>A $ or 0x prefix for hexadecimal numbers, followed by the digits comprising the number; for example, $FFFE.<TR>
<TD>String<TD>The option string, which is composed of a delimiter character, followed by the characters comprising the string, followed by the delimiter character. A delimiter character is the first non- blank character after the equals sign. For example,<BR> 
<CODE>SomeOptionName = *The String Option*,</CODE><BR>
or<BR>
<CODE>SomeOtherOptionName = %Another String Option%.</CODE><TR>
<TD>Byte array<TD>A leading $ or 0x followed by a sequence of hex digits with no intervening spaces or tabs. There must be an even number of digits; for example, $FF12EE46.</TABLE>
<P>
 Possible values for option names are given in the documentation for the protocol you are using. Generic option names are described in <A HREF=NetworkingWOT-38.html#MARKER-9-34>"XTI-Level Options and General Options"</A>.<P>
  Open Transport maintains an internal database relating to options and their values. Open Transport might not be able to write option information to the buffer because it cannot match a name or value you have specified with a name or value in its database. This is either because you misspelled a name or specified a value that is out of range or because the option you want to configure is not included in Open Transport's data base. The latter might be the case for an option that is rarely used.<P>
<A NAME=HEADING261-20></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The option names used by this function are not localised. Thus, you should never present these option strings to users.<P>
<A NAME=HEADING261-22></A>
<H5>SEE ALSO</H5>
 The <A HREF=NetworkingWOT-262.html#MARKER-9-101><CODE>OTCreateOptionString</CODE></A> function.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-260.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-262.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
