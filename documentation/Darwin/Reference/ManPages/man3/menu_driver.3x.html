<html><head><title>Mac OS X
 Manual Page For menu_driver(3x)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3x/menu_driver" title="Mac OS X
 Manual Page for menu_driver(3x)"><a name="//apple_ref/doc/man/3/menu_driver" title="Mac OS X
 Manual Page for menu_driver(3x)"><!-- headerDoc=man; indexgroup=Section 3x; uid="//apple_ref/doc/man/3x/menu_driver"; name=menu_driver(3x) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
menu_driver(3X)                                                                              menu_driver(3X)



<b>NAME</b>
       <b>menu_driver</b> - command-processing loop of the menu system

<b>SYNOPSIS</b>
       <b>#include</b> <b>&lt;menu.h&gt;</b>
       int menu_driver(MENU *menu, int c);

<b>DESCRIPTION</b>
       Once  a  menu  has been posted (displayed), you should funnel input events to it through <b>menu_driver</b>.
       This routine has three major input cases; either the input is  a  menu  navigation  request,  it's  a
       printable  ASCII  character  or  it is the KEY_MOUSE special key associated with an mouse event.  The
       menu driver requests are as follows:

       REQ_LEFT_ITEM
            Move left to an item.

       REQ_RIGHT_ITEM
            Move right to an item.

       REQ_UP_ITEM
            Move up to an item.

       REQ_DOWN_ITEM
            Move down to an item.

       REQ_SCR_ULINE
            Scroll up a line.

       REQ_SCR_DLINE
            Scroll down a line.

       REQ_SCR_DPAGE
            Scroll down a page.

       REQ_SCR_UPAGE
            Scroll up a page.

       REQ_FIRST_ITEM
            Move to the first item.

       REQ_LAST_ITEM
            Move to the last item.

       REQ_NEXT_ITEM
            Move to the next item.

       REQ_PREV_ITEM
            Move to the previous item.

       REQ_TOGGLE_ITEM
            Select/deselect an item.

       REQ_CLEAR_PATTERN
            Clear the menu pattern buffer.

       REQ_BACK_PATTERN
            Delete the previous character from the pattern buffer.

       REQ_NEXT_MATCH
            Move to the next item matching the pattern match.

       REQ_PREV_MATCH
            Move to the previous item matching the pattern match.

       If the second argument is a printable ASCII character, the code appends it to the pattern buffer  and
       attempts  to  move to the next item matching the new pattern.  If there is no such match, <b>menu_driver</b>
       returns <b>E_NO_MATCH</b> and deletes the appended character from the buffer.

       If the second argument is one of the above pre-defined requests, the  corresponding  action  is  per-<font color="#ffffff" class="whiteout">formed.&nbsp;performed.</font>
       formed.

       If  the  second  argument is the KEY_MOUSE special key, the associated mouse event is translated into
       one of the above pre-defined requests.  Currently only clicks in the user  window  (e.g.  inside  the
       menu display area or the decoration window) are handled. If you click above the display region of the
       menu, a REQ_SCR_ULINE is generated, if you doubleclick  a  REQ_SCR_UPAGE  is  generated  and  if  you
       tripleclick  a  REQ_FIRST_ITEM  is  generated.  If  you click below the display region of the menu, a
       REQ_SCR_DLINE is generated, if you doubleclick a REQ_SCR_DPAGE is generated and if you tripleclick  a
       REQ_LAST_ITEM  is  generated.  If  you click at an item inside the display area of the menu, the menu
       cursor is positioned to that item. If you double-click at an item a REQ_TOGGLE_ITEM is generated  and
       <b>E_UNKNOWN_COMMAND</b>  is  returned.  This return value makes sense, because a double click usually means
       that an item-specific action should be returned. It's exactly the purpose of  this  return  value  to
       signal  that  an application specific command should be executed. If a translation into a request was
       done, <b>menu_driver</b> returns the result of this request.  If you clicked outside the user window or  the
       mouse event couldn't be translated into a menu request an <b>E_REQUEST_DENIED</b> is returned.

       If  the  second argument is neither printable ASCII nor one of the above pre-defined menu requests or
       KEY_MOUSE, the drive assumes it is an application-specific  command  and  returns  <b>E_UNKNOWN_COMMAND</b>.
       Application-defined  commands  should  be defined relative to <b>MAX_COMMAND</b>, the maximum value of these
       pre-defined requests.

<b>RETURN</b> <b>VALUE</b>
       <b>menu_driver</b> return one of the following error codes:

       <b>E_OK</b> The routine succeeded.

       <b>E_SYSTEM_ERROR</b>
            System error occurred (see <b>errno</b>).

       <b>E_BAD_ARGUMENT</b>
            Routine detected an incorrect or out-of-range argument.

       <b>E_BAD_STATE</b>
            Routine was called from an initialization or termination function.

       <b>E_NOT_POSTED</b>
            The menu has not been posted.

       <b>E_UNKNOWN_COMMAND</b>
            The menu driver code saw an unknown request code.

       <b>E_NO_MATCH</b>
            Character failed to match.

       <b>E_REQUEST_DENIED</b>
            The menu driver could not process the request.

<b>SEE</b> <b>ALSO</b>
       <!-- a --><b>curses</b>(3X)<!-- /a -->, <a href="menu.3x.html#//apple_ref/doc/man/3/menu"><b>menu</b>(3X)</a>.

<b>NOTES</b>
       The header file <b>&lt;menu.h&gt;</b> automatically includes the header files <b>&lt;curses.h&gt;</b>.

<b>PORTABILITY</b>
       These routines emulate the System V menu library.  They were not supported on Version 7 or  BSD  ver-<font color="#ffffff" class="whiteout">sions.&nbsp;versions.</font>
       sions. The support for mouse events is ncurses specific.

<b>AUTHORS</b>
       Juergen Pfeifer.  Manual pages and adaptation for new curses by Eric S. Raymond.



                                                                                             menu_driver(3X)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/menu_driver.3x.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/menu_driver.3x.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/menu_driver.3x.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
