<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Picture Comments to Avoid (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING473></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-472.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-474.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-465.html"><B>Appendix B - Using Picture Comments for Printing</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING473-0></A>
<H1>Picture Comments to Avoid</H1>
 <A NAME=MARKER-2-180></A>The <CODE>SetGrayLevel</CODE> picture comment is now obsolete. The <CODE>PostScriptFile</CODE>, <CODE>TextIsPostScript</CODE>, <CODE>FormsPrinting</CODE>, <CODE>EndFormsPrinting</CODE>, <CODE>ClientLineLayout</CODE>, <CODE>PSBeginNoSave</CODE>, and <CODE>ResourcePS</CODE> picture comments have limited use and are not recommended. This section describes the shortcomings of these picture comments.<P>
 The <CODE>SetGrayLevel</CODE> picture comment was designed to provide access to the PostScript <CODE>setgray</CODE> operator while drawing with QuickDraw in black-and-white mode. For most drawing operations, however, the printer driver sets the gray level to match the foreground color for the printing graphics port, and the effect of the <CODE>SetGrayLevel</CODE> picture comment is often unpredictable. If direct access to the PostScript <CODE>setgray</CODE> operator seems desirable, it is preferable to send the instruction with the <CODE>PostScriptHandle</CODE> picture comment.<A NAME=MARKER-2-181></A><P>
 The <CODE>TextIsPostScript</CODE> picture comment interprets all the text manipulated with QuickDraw text-drawing routines (namely, <CODE>DrawChar</CODE>, <CODE>DrawString</CODE>, <CODE>DrawText</CODE>, and anything else that calls the <CODE>StdText</CODE> low-level procedure) as PostScript code. There is no good reason to use this picture comment, but there is one important reason not to use it: printer drivers that do not support the <CODE>TextIsPostScript</CODE> picture comment will print the PostScript text instead of interpreting it. If you need to transmit PostScript code directly to a printer that understands it, use the <CODE>PostScriptHandle</CODE> comment and include a QuickDraw representation for all other printer drivers.<A NAME=MARKER-2-182></A><P>
 The <CODE>ResourcePS</CODE> picture comment loads PostScript code from a resource file. The resource file is expected to be open at the time that you use <CODE>ResourcePS</CODE>. Under background printing, there are no guarantees the resource file will still be open when the Printing Manager needs it. If you want to keep PostScript code in a resource file, it is easy to write a routine that loads the resources and sends their contents using the <CODE>PostScriptHandle</CODE> picture comment.<A NAME=MARKER-2-183></A><P>
 The <CODE>PostScriptFile</CODE> picture comment loads PostScript code from a file; as with the <CODE>ResourcePS</CODE> comment, there are no guarantees the file will be open when the Printing Manager needs it during background printing. If you want to keep PostScript code in a file, it is easy to write a routine that loads the file and its contents using the <CODE>PostScriptHandle</CODE> picture comment.<A NAME=MARKER-2-184></A><P>
 As with the <CODE>PostScriptBegin</CODE> picture comment, the <CODE>PSBeginNoSave</CODE> picture comment allows applications to change the state of a PostScript printer driver. Some applications do not want to restore the previous state of the PostScript interpreter after sending PostScript code; the <CODE>PSBeginNoSave</CODE> comment was intended for situations where applications do not want to preserve the printer state. However, the <CODE>PSBeginNoSave</CODE> picture comment allows applications to interfere with the LaserWriter 8.0 printer driver, and the driver, by calling the PostScript operator <CODE>grestore</CODE>, can interfere with the application. The use of <CODE>PSBeginNoSave</CODE> can lead to incorrect clipping, incorrect colors, and PostScript language errors and should therefore be avoided.<A NAME=MARKER-2-185></A><P>
 <A NAME=MARKER-2-186></A>By default, most drivers apply about 80 percent of the total line layout error to the major glyphs (the space character) and the other 20 percent to the minor glyphs (all other glyphs). (When using a script system that does not use the space glyph to delimit words, the layout error is distributed evenly across all characters in the font.) The <CODE>ClientLineLayout</CODE> picture comment allows applications to redefine the major glyph, and the percentages of the line layout error assigned to the major and minor glyphs. The <CODE>ClientLineLayout</CODE> picture comment is rather subtle and very specific to the PostScript LaserWriter driver. Only very ambitious page layout applications might be interested in this functionality, however; their designers should instead aim at a more general scheme of line layout control that does not rely upon this very driver-specific picture comment.<A NAME=MARKER-2-187></A><P>
 Intended for printing forms on PostScript LaserWriter printers, the <CODE>FormsPrinting</CODE> picture comment directs the PostScript LaserWriter driver not to clear its page buffer after printing a page. The <CODE>EndFormsPrinting</CODE> picture comment directs the PostScript LaserWriter driver to clear its page buffer after printing a page. When a page is completed, applications must erase the areas that need to be updated and draw the new information. The graphics that make up the form are drawn only once per page, which may improve performance. However, you need to write a separate printing loop for the PostScript LaserWriter driver if you want to use this comment.<A NAME=MARKER-2-188></A><A NAME=MARKER-2-189></A> <A NAME=MARKER-2-190></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-472.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-474.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
