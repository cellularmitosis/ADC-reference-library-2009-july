<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>FindRecordInDictionary(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING506></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-505.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-507.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-483.html"><B>Chapter 8 - Dictionary Manager</B></A> / <A HREF="Text-496.html"><B>Dictionary Manager Reference</B></A><BR><DL><DD><A HREF="Text-498.html"><B>Routines</B></A> / <A HREF="Text-505.html"><B>Locating Records in a Dictionary</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING506-0></A>
<H3><A NAME=MARKER-9-112></A>FindRecordInDictionary</H3>
 <A NAME=MARKER-2-113></A>The <CODE>FindRecordInDictionary</CODE> function searches a dictionary for a record that matches the specified key, and returns entries with the specified attributes.<P>
<PRE>
FUNCTION FindRecordInDictionary 
                           (dictionaryReference: LongInt;
                            key: Str255;
                            requestedAttributeTablePointer: Ptr;
                            recordDataHandle: Handle): OSErr;
</PRE>
<DL>
<DT><CODE>dictionaryReference</CODE>
<DD> A number that specifies a particular open dictionary.
<DT><CODE>key</CODE>
<DD> A Pascal string that denotes the key to be matched.
<DT><CODE>requestedAttributeTablePointer</CODE>
<DD> A pointer to a table with attributes that you can request. This parameter provides a way for you to narrow the search to specified types of entries in the record. For instance, you could use the requested attributes table to specify only the verbs in the record that matches the key.
<DT><CODE>recordDataHandle</CODE>
<DD> On entry, any valid handle. Upon completion, a handle to the <BR>requested data.
</DL>
<A NAME=HEADING506-7></A>
<H5>DESCRIPTION</H5>
 The <CODE>FindRecordInDictionary</CODE> function returns, in the <CODE>recordDataHandle</CODE> parameter, a handle to the record data: a collection of entries matching the key <BR>and the requested attributes. <CODE>FindRecordInDictionary</CODE> returns the data in <BR>standard Dictionary Manager data format--as shown in <A HREF=Text-486.html#MARKER-9-33>Figure 8-2 on page 8-6</A> and <A HREF=Text-486.html#MARKER-9-39>Figure 8-3 on page 8-7</A>.<P>
 The Dictionary Manager uses the Memory Manager procedure <CODE>SetHandleSize</CODE> to set the size of the <CODE>recordDataHandle</CODE> parameter correctly. If the Dictionary Manager cannot change the size of the handle to accommodate the returned matched data, it returns a Memory Manager error.<P>
 To limit the search to specific types of attributes, you construct a requested attributes table and pass a pointer to that table to <CODE>FindRecordInDictionary</CODE>. The requested attributes table consists of a byte which specifies the number of attributes, followed by a list of attribute types, as shown in <A HREF=Text-493.html#MARKER-9-74>Figure 8-7 on page 8-16</A>.<P>
<UL>
<LI>If the <CODE>requestedAttributeTablePointer</CODE> parameter is <CODE>Ptr(-1)</CODE>, <CODE>FindRecordInDictionary</CODE> returns everything in the matching record (that is, both raw data and attributes for all entries in the record).
<LI>If the <CODE>requestedAttributeTablePointer</CODE> parameter is <CODE>NIL</CODE>, <CODE>FindRecordInDictionary</CODE> returns the raw data of all the entries in the matching record, without any attached attributes.
<LI>If the <CODE>requestedAttributeTablePointer</CODE> parameter is a valid pointer, <CODE>FindRecordInDictionary</CODE> returns only those entries in the matching record whose attributes match those in the requested attributes table. In this case, if a record in the dictionary has a key that matches the search key but no entries in the record possess the requested attributes, the returned <CODE>recordDataHandle</CODE> parameter references a data buffer one byte in length that contains a value of 0.<P>
</UL>
  <A HREF=#MARKER-9-8>Table 8-2</A> lists constants for the currently defined attribute types.<A NAME=MARKER-2-136></A>
<TABLE BORDER="0" CELLPADDING=3>
<CAPTION><A NAME=MARKER-9-8></A><B>Table 8-2 Defined attribute types for dictionary entries</B></CAPTION>
<TH>Constant<TH>Value<TH>Explanation<TR>
<TD><A NAME=MARKER-2-9></A>kNoun<TD>-1<TD>Noun<TR>
<TD><A NAME=MARKER-2-10></A>kVerb<TD>-2<TD>Verb<TR>
<TD><A NAME=MARKER-2-179></A>kAdjective<TD>-3<TD>Adjective<TR>
<TD><A NAME=MARKER-9-105></A>kAdverb<TD>-4<TD>Adverb</TABLE>
<P>
<A NAME=HEADING506-15></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 <CODE>FindRecordInDictionary</CODE> may move memory; your application should not call this function at interrupt time.<P>
<A NAME=HEADING506-17></A>
<H5>RESULT CODES</H5>
 In addition to the standard File Manager, Memory Manager, and Resource Manager errors, <CODE>FindRecordInDictionary</CODE> can return any of the following result codes.
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>notBTree<TD>-410<TD>File is not a dictionary<TR>
<TD>btRecNotFnd<TD>-415<TD>Record cannot be found<TR>
<TD>btKeyLenErr<TD>-416<TD>Key length too great or equal to zero</TABLE>
<P>
<A NAME=HEADING506-19></A>
<H5>SEE ALSO</H5>
 File Manager error codes are described in <I><A HREF="../Files/Files-2.html">Inside Macintosh: Files</A></I>. Memory Manager error codes are described in <I><A HREF="../Memory/Memory-2.html">Inside Macintosh: Memory</A></I>. Resource Manager error codes are described in <I><A HREF="../MoreToolbox/MoreToolbox-2.html">Inside Macintosh: More Macintosh Toolbox</A></I>.<A NAME=MARKER-2-115></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-505.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-507.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
