<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A HW81: A SCSI little secret</title>			<meta name="keywords" content="SCSI MESH G3 SCSIBusInquiry SCSI Manager">	<meta name="Description" content="Technical Q&amp;A HW81: This Q&amp;A details what to expect whenaccessing the motherboard SCSI bus on the Blue &amp; White G3."><meta name="categories" content="Hardware"><meta name="week-posted" content="Dec 20, 1999 - Dec 24, 1999"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001353" title="A SCSI little secret"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/HardwareDrivers/index.html">Hardware & Drivers</a> &gt; <a href="../../technicalqas/HardwareDrivers/idxSCSI-date.html">SCSI</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A HW81</div>
<div id="pageheadsub">A SCSI little secret</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->			<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <td align="left"><hr width=500 align=center><p id="p2">Q: On a Blue &amp; White G3 if I call <CODE>SCSIBusInquiry</CODE> for bus 0 (the internal bus) I get back what appears to be valid information. Yet there is no built-in internal or external SCSI connector. Is there a built-in SCSI bus on the B&amp;W G3 1999? Can I use it? How can I tell?</p><p id="p4">A: The Blue &amp; White G3 uses a custom I/O controller. Inside of this custom ASIC is a MESH SCSI controller cell, so there is indeed a SCSI bus of sorts. This is located in the Name Registry node "Devices:device-tree:pci:pci-bridge:mac-io:scsi".</p><p id="p4">Note, however, that the SCSI cell is not connected to the outside world and is therefore unusable.</p><p id="p4">Calling <CODE>SCSIBusInquiry</CODE> (for bus 0) does return <CODE>noErr</CODE> and information about the motherboard bus. The <CODE>scsiControllerFamily</CODE> field is set to <CODE>"Mesh-NULL      "</CODE> indicating that while there is a MESH controller there, it's unusable. (Note that the string <CODE>"Mesh-NULL      "</CODE> is a total of 16 bytes long, padded with space characters (<CODE>0x20</CODE>), and has a null (<CODE>0x00</CODE>) terminator.)	</p><p id="p4">Here're result codes you can expect when accessing bus 0 on the Blue &amp; White G3:</p><TABLE 	BORDER=1 WIDTH=400 CELLSPACING=1 CELLPADDING=1>		<TR>		<TH>Function</TH> <TH>Result</TH>	</TR>		<TR>		<TD ALIGN=CENTER align="left">SCSINop</TD> <TD ALIGN=CENTER align="left">noErr</TD>	</TR>		<TR>		<TD ALIGN=CENTER align="left">SCSIExecIO</TD> <TD ALIGN=CENTER align="left">scsiNoHBA</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSIBusInquiry</TD> <TD ALIGN=CENTER align="left">noErr<BR>(scsiControllerFamily = "Mesh-NULL      ")</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSIReleaseQ</TD> <TD ALIGN=CENTER align="left">scsiNoHBA</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSIAbortCommand</TD> <TD ALIGN=CENTER align="left">scsiNoHBA</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSIResetBus</TD> <TD ALIGN=CENTER align="left">scsiNoHBA</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSIResetDevice</TD> <TD ALIGN=CENTER align="left">scsiNoHBA</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSITerminateIO</TD> <TD ALIGN=CENTER align="left">scsiNoHBA</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSIGetVirtualIDInfo</TD> <TD ALIGN=CENTER align="left">noErr<BR>(scsiExists = false)</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSILoadDriver</TD> <TD ALIGN=CENTER align="left">scsiProvideFail</TD>	</TR>	<TR>		<TD ALIGN=CENTER align="left">SCSIOldCall</TD> <TD ALIGN=CENTER align="left">scsiNoHBA</TD>	</TR>	</TABLE><p id="p4">The MESH SCSI controller was left in the B&amp;W G3s to avoid breaking software that assumes because SCSI Manager 4.3 is available, there must be a SCSI bus.</p><p id="p4">As a developer you should <b>not</b> assume that SCSI Manager 4.3 exists. If it does exist <b>do not</bb> assume that there is a SCSI bus.</p></td></tr></table></CENTER><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[Dec 20 1999]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/hw/hw81.html%3Fid%3DDTS10001353-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/hw/hw81.html%3Fid%3DDTS10001353-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/hw/hw81.html%3Fid%3DDTS10001353-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <hr width=500 align=center> </BODY> </HTML>