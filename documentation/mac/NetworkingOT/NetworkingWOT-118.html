<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>OTInstallNotifier</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING118></A>
<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->

<!-- Main Body -->

<CENTER>
<P>
<A HREF="NetworkingWOT-117.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-119.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html"><B>Inside Macintosh:</B></A> <A HREF="NetworkingWOT-2.html"><B>Networking With Open Transport </B></A> / <A HREF="NetworkingWOT-81.html"><B>Part 2 - Open Transport Reference</B></A><BR><DD><A HREF="NetworkingWOT-97.html"><B>Chapter 21 - Providers Reference</B></A> / <A HREF="NetworkingWOT-101.html"><B>Functions</B></A><BR><DL><DD><A HREF="NetworkingWOT-117.html"><B>Using Notifier Functions</B></A> / </DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING118-0></A>
<H3><A NAME=MARKER-13-114></A><A NAME=MARKER-9-115></A>OTInstallNotifier</H3>
 Installs a notifier function. <P>
<A NAME=HEADING118-2></A>
<H5>C INTERFACE </H5>
<PRE>
<A NAME=MARKER-0-95></A>OSStatus OTInstallNotifier(ProviderRef ref,
                     OTNotifyProcPtr proc, 
                                         void* contextPtr);
</PRE>
<A NAME=HEADING118-4></A>
<H5>C++ INTERFACE </H5>
<PRE>
<A NAME=MARKER-12-117></A>OSStatus TProvider::InstallNotifier(OTNotifyProcPtr proc, 
                                         void* contextPtr);
</PRE>
<A NAME=HEADING118-6></A>
<H5>PARAMETERS </H5>
<DL>
<DT><CODE>ref</CODE>
<DD> The provider reference of the provider for which you are installing a notifier.
<DT><CODE>proc</CODE>
<DD> A pointer to a notifier function that you provide. (This is a function pointer not a universal proc pointer, consequently no mixed mode glue is required. You must never pass a universal procedure pointer for this parameter.)
<DT>
<DD> For C++ applications, the <CODE>proc</CODE> parameter may point to either a C function or, depending on your development environment, a static member function.
<DT><CODE>contextPtr</CODE>
<DD> A context pointer for your use. The provider passes this value unchanged to your notifier function when it calls the function. If you don't need context information, pass <CODE>NIL</CODE> for this parameter.
<DT><I>function result</I>
<DD> An error code. See <A HREF=NetworkingWOT-479.html#MARKER-9-72>Appendix B</A> for more information.
</DL>
<A NAME=HEADING118-12></A>
<H5>DISCUSSION</H5>
 The <CODE>OTInstallNotifier</CODE> function installs a notifier function for the provider that you specify. The notifier function remains installed until you remove it using the <CODE>OTRemoveNotifier</CODE> function or until you close the provider. (Setting a provider to synchronous mode, does not remove the notifier.)<P>
 Before calling the <CODE>OTInstallNotifier</CODE> function, you must open the provider for which you want to install the notifier. If you open a provider asynchronously (for example, with the <CODE>OTAsyncOpenEndpoint</CODE> function), you must pass a pointer to a notifier function as a parameter to the function used to open the provider. <P>
 Opening a provider synchronously (for example, with the <CODE>OTOpenEndpoint</CODE> function) opens the provider but does not install a notifier function for it. If you need a notifier function for a provider opened synchronously, you must call the <CODE>OTInstallNotifier</CODE> function. This notifier would not return completion events, but would return asynchronous events advising you of the arrival of data, of changes in flow-control restrictions, and so on.<P>
 You should not call the <CODE>OTInstallNotifier</CODE> function when provider functions are executing for the provider that you specify. Otherwise, the <CODE>OTInstallNotifier</CODE> function returns the result code <CODE>kOTStateChangeErr</CODE>.<P>
 If you try to install a notifier function for a provider that already has a notifier, the <CODE>OTInstallNotifier</CODE> function returns with the <CODE>kOTAccessErr</CODE> result.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>For 68000-based code, the <CODE>OTInstallNotifier</CODE> function saves the current value of the A5 register. Open Transport restores the A5 register to this saved value when calling the notifier function you install. If your environment stores context information in a register other than A5, your notifier function must save and restore the value of that register.  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
<A NAME=HEADING118-19></A>
<H5>SEE ALSO</H5>
 <A HREF=NetworkingWOT-125.html#MARKER-9-140>"Application-Defined Notifier Functions"</A> <A HREF=NetworkingWOT-125.html#MARKER-9-140></A>. <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="NetworkingWOT-117.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="NetworkingWOT-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="NetworkingWOT-491.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A>  <A HREF="NetworkingWOT-119.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="NetworkingWOT-4.html">&copy; Apple Computer, Inc.</A><br>15 JAN 1998<P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML> 
