<html><head><title>Mac OS X Developer Tools
 Manual Page For setrlimit(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/setrlimit" title="Mac OS X Developer Tools
 Manual Page for setrlimit(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/setrlimit"; name=setrlimit(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GETRLIMIT(2)                BSD System Calls Manual               <!-- a -->GETRLIMIT(2)<!-- /a -->

<b>NAME</b>
     <b>getrlimit</b>, <b>setrlimit</b> -- control maximum system resource consumption

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/resource.h&gt;</b>

     <u>int</u>
     <b>getrlimit</b>(<u>int</u> <u>resource</u>, <u>struct</u> <u>rlimit</u> <u>*rlp</u>);

     <u>int</u>
     <b>setrlimit</b>(<u>int</u> <u>resource</u>, <u>const</u> <u>struct</u> <u>rlimit</u> <u>*rlp</u>);

<b>DESCRIPTION</b>
     Limits on the consumption of system resources by the current process and each process it creates may be
     obtained with the <b>getrlimit</b>() call, and set with the <b>setrlimit</b>() call.

     The <u>resource</u> parameter is one of the following:

     RLIMIT_CORE     The largest size (in bytes) core file that may be created.

     RLIMIT_CPU      The maximum amount of cpu time (in seconds) to be used by each process.

     RLIMIT_DATA     The maximum size (in bytes) of the data segment for a process; this defines how far a
                     program may extend its break with the <a href="sbrk.2.html#//apple_ref/doc/man/2/sbrk">sbrk(2)</a> system call.

     RLIMIT_FSIZE    The largest size (in bytes) file that may be created.

     RLIMIT_MEMLOCK  The maximum size (in bytes) which a process may lock into memory using the <a href="mlock.2.html#//apple_ref/doc/man/2/mlock">mlock(2)</a>
                     function.

     RLIMIT_NOFILE   The maximum number of open files for this process.

     RLIMIT_NPROC    The maximum number of simultaneous processes for this user id.

     RLIMIT_RSS      The maximum size (in bytes) to which a process's resident set size may grow.  This
                     imposes a limit on the amount of physical memory to be given to a process; if memory is
                     tight, the system will prefer to take memory from processes that are exceeding their
                     declared resident set size.

     RLIMIT_STACK    The maximum size (in bytes) of the stack segment for a process; this defines how far a
                     program's stack segment may be extended.  Stack extension is performed automatically by
                     the system.

     A resource limit is specified as a soft limit and a hard limit.  When a soft limit is exceeded a
     process may receive a signal (for example, if the cpu time or file size is exceeded), but it will be
     allowed to continue execution until it reaches the hard limit (or modifies its resource limit).  The
     <u>rlimit</u> structure is used to specify the hard and soft limits on a resource,

           struct rlimit {
                   rlim_t  rlim_cur;       /* current (soft) limit */
                   rlim_t  rlim_max;       /* hard limit */
           };

     Only the super-user may raise the maximum limits.  Other users may only alter <u>rlim</u><b>_</b><u>cur</u> within the range
     from 0 to <u>rlim</u><b>_</b><u>max</u> or (irreversibly) lower <u>rlim</u><b>_</b><u>max</u>.

     Because this information is stored in the per-process information, this system call must be executed
     directly by the shell if it is to affect all future processes created by the shell; <b>limit</b> is thus a
     built-in command to <a href="../man1/csh.1.html#//apple_ref/doc/man/1/csh">csh(1)</a> and <b>ulimit</b> is the <a href="../man1/sh.1.html#//apple_ref/doc/man/1/sh">sh(1)</a> equivalent.

     The system refuses to extend the data or stack space when the limits would be exceeded in the normal
     way: a break call fails if the data space limit is reached.  When the stack limit is reached, the
     process receives a segmentation fault (SIGSEGV); if this signal is not caught by a handler using the
     signal stack, this signal will kill the process.

     A file I/O operation that would create a file larger that the process' soft limit will cause the write
     to fail and a signal SIGXFSZ to be generated; this normally terminates the process, but may be caught.
     When the soft cpu time limit is exceeded, a signal SIGXCPU is sent to the offending process.

<b>RETURN</b> <b>VALUES</b>
     A 0 return value indicates that the call succeeded, changing or returning the resource limit.   A
     return value of -1 indicates that an error occurred, and an error code is stored in the global location
     <u>errno</u>.

<b>ERRORS</b>
     The <b>getrlimit</b>() and <b>setrlimit</b>() system calls will fail if:

     [EFAULT]           The address specified for <u>rlp</u> is invalid.

     [EINVAL]           <u>resource</u> is invalid.

     The <b>setrlimit</b>() call will fail if:

     [EINVAL]           The specified limit is invalid (e.g., RLIM_INFINITY or lower than rlim_cur).

     [EPERM]            The limit specified would have raised the maximum limit value and the caller is not
                        the super-user.

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/types.h&gt;</b>
     <b>#include</b> <b>&lt;sys/time.h&gt;</b>
     <b>#include</b> <b>&lt;sys/resource.h&gt;</b>

     The include files &lt;<u>sys/types.h&gt;</u> and &lt;<u>sys/time.h&gt;</u> are necessary.

<b>COMPATIBILITY</b>
     <b>setrlimit</b>() now returns with <u>errno</u> set to EINVAL in places that historically succeeded.  It no longer
     accepts "rlim_cur = RLIM_INFINITY" for RLIM_NOFILE.  Use "rlim_cur = min(OPEN_MAX, rlim_max)".

<b>SEE</b> <b>ALSO</b>
     <a href="../man1/csh.1.html#//apple_ref/doc/man/1/csh">csh(1)</a>, <a href="../man1/sh.1.html#//apple_ref/doc/man/1/sh">sh(1)</a>, <!-- a -->quota(2)<!-- /a -->, <a href="sigaction.2.html#//apple_ref/doc/man/2/sigaction">sigaction(2)</a>, <a href="sigaltstack.2.html#//apple_ref/doc/man/2/sigaltstack">sigaltstack(2)</a>, <a href="../man3/sysctl.3.html#//apple_ref/doc/man/3/sysctl">sysctl(3)</a>, <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>

<b>HISTORY</b>
     The <b>getrlimit</b>() function call appeared in 4.2BSD.

4th Berkeley Distribution        June 4, 1993        4th Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/setrlimit.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/setrlimit.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/setrlimit.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
