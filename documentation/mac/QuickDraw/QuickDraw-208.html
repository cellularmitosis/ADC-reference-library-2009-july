<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PixPat (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING208></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-207.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-209.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-197.html"><B>Chapter 4 - Color QuickDraw</B></A> / <A HREF="QuickDraw-200.html"><B>Color QuickDraw Reference</B></A><BR><DL><DD><A HREF="QuickDraw-201.html"><B>Data Structures</B></A> / <A HREF="QuickDraw-195.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING208-0></A>
<H3><A NAME=MARKER-9-283></A>PixPat</H3>
 <A NAME=MARKER-14-285></A><A NAME=MARKER-14-285></A><A NAME=MARKER-2-29></A><A NAME=MARKER-2-287></A>Your application typically does not create <CODE>PixPat</CODE> records. Although you can create such records in your program code, it is usually easier to create pixel patterns using the pixel pattern resource, which is described on <A HREF=QuickDraw-266.html#MARKER-9-602>page 4-94</A>.<P>
 A <CODE>PixPat</CODE> record is defined as follows: <P>
<PRE>
TYPE PixPatHandle = ^PixPatPtr;
PixPatPtr         = ^PixPat;
PixPat            = 
RECORD
   patType:    Integer;       {pattern type}
   patMap:     PixMapHandle;  {pattern characteristics}
   patData:    Handle;        {pixel image defining pattern}
   patXData:   Handle;        {expanded pixel image}
   patXValid:  Integer;       {flags for expanded pattern data}
   patXMap:    Handle;        {handle to expanded pattern data}
   pat1Data:   Pattern;       {a bit pattern for a GrafPort }
                              { record}
END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>patType</CODE>
<DD> The pattern's type. The value 0 specifies a basic QuickDraw bit pattern, the value 1 specifies a full-color pixel pattern, and the value 2 specifies an RGB pattern. These pattern types are described in greater detail in the rest of this section.<A NAME=MARKER-2-179></A>
<DT><CODE>patMap</CODE>
<DD> A handle to a <CODE>PixMap</CODE> record (described on <A HREF=QuickDraw-202.html#MARKER-9-165>page 4-37</A>) that describes the pattern's pixel image. The <CODE>PixMap</CODE> record can contain indexed or direct pixels.<A NAME=MARKER-2-181></A>
<DT><CODE>patData</CODE>
<DD> A handle to the pattern's pixel image. <A NAME=MARKER-2-186></A>
<DT><CODE>patXData</CODE>
<DD> A handle to an expanded pixel image used internally by Color QuickDraw. <A NAME=MARKER-2-188></A>
<DT><CODE>patXValid</CODE>
<DD> A flag that, when set to -1, invalidates the expanded data. <A NAME=MARKER-2-192></A>
<DT><CODE>patXMap</CODE>
<DD> Reserved for use by Color QuickDraw.<A NAME=MARKER-2-194></A> 
<DT><CODE>pat1Data</CODE>
<DD> A bit pattern (described in the chapter "QuickDraw Drawing") to be used when this pattern is drawn into a <CODE>GrafPort</CODE> record (described in the chapter "Basic QuickDraw"). The <CODE>NewPixPat</CODE> function (described on <A HREF=QuickDraw-247.html#MARKER-9-521>page 4-79</A>) sets this field to 50 percent gray.<A NAME=MARKER-2-198></A><A NAME=MARKER-2-311></A>
</DL>
 When used for a color graphics port, the basic QuickDraw procedures <CODE>PenPat</CODE> and <CODE>BackPat</CODE> (described in the chapter "Basic QuickDraw") store pixel patterns in, respectively, the <CODE>pnPixPat</CODE> and <CODE>bkPixPat</CODE> fields of the <CODE>CGrafPort</CODE> record and set the <CODE>patType</CODE> field of the <CODE>PixPat</CODE> field to 0 to indicate that the <CODE>PixPat</CODE> record contains a bit pattern. Such patterns are limited to 8-by-8 pixel dimensions and, instead of being drawn in black and white, are always drawn using the colors specified in the <CODE>CGrafPort</CODE> record's <CODE>rgbFgColor</CODE> and <CODE>rgbBkColor</CODE> fields, respectively.<A NAME=MARKER-2-296></A><P>
 <A NAME=MARKER-2-199></A>In a full-color pixel pattern, the <CODE>patType</CODE> field contains the value 1, and the pattern's dimensions, depth, resolution, set of colors, and other characteristics are defined by a <CODE>PixMap</CODE> record, referenced by the handle in the <CODE>patMap</CODE> field of the <CODE>PixPat</CODE> record. Full-color pixel patterns contain color tables that describe the colors they use. Generally such a color table contains one entry for each color used in the pattern. For instance, if your pattern has five colors, you would probably create a 4 bits per pixel pattern that uses pixel values 0-4, and a color table with five entries, numbered 0-4, that contain the RGB specifications for those pixel values. <P>
 However, if you don't specify a color table for a pixel value, Color QuickDraw assigns a color to that pixel value. The largest unassigned pixel value becomes the foreground color; the smallest unassigned pixel value is assigned the background color. Remaining unassigned pixel values are given colors that are evenly distributed between the foreground and background.<P>
 For instance, in the color table mentioned above, pixel values 5-15 are unused. Assume that the foreground color is black and the background color is white. Pixel value 15 is assigned the foreground color, black; pixel value 5 is assigned the background color, white; the nine pixel values between them are assigned evenly distributed shades of gray. If the <CODE>PixMap</CODE> record's color table is set to <CODE>NIL</CODE>, all pixel values are determined by blending the foreground and background colors.<P>
 Full-color pixel patterns are not limited to a fixed size: their height and width can be any power of 2, as specified by the height and width of the boundary rectangle for the <CODE>PixMap</CODE> record specified in the <CODE>patMap</CODE> field. A pattern 8 bits wide, which is the size of a bit pattern, has a row width of just 1 byte, contrary to the usual rule that the <CODE>rowBytes</CODE> field must be even. Read this pattern type into memory using the <CODE>GetPixPat</CODE> function (described on <A HREF=QuickDraw-246.html#MARKER-9-515>page 4-79</A>), and set it using the <CODE>PenPixPat</CODE> or <CODE>BackPixPat</CODE> <BR>procedure (described on <A HREF=QuickDraw-217.html#MARKER-9-355>page 4-58</A> and <A HREF=QuickDraw-219.html#MARKER-9-370>page 4-60</A>, respectively).<P>
 The pixel map specified in the <CODE>patMap</CODE> field of the <CODE>PixPat</CODE> record defines the pattern's characteristics. The <CODE>baseAddr</CODE> field of the <CODE>PixMap</CODE> record for that pixel map is ignored. For a full-color pixel pattern, the actual pixel image defining the pattern is stored in the handle in the <CODE>patData</CODE> field of the <CODE>PixPat</CODE> record. The pattern's pixel depth need not match that of the pixel map into which it's transferred; the depth is adjusted automatically when the pattern is drawn. Color QuickDraw maintains a private copy of the pattern's pixel image, expanded to the current screen depth and aligned to the current graphics port, in the <CODE>patXData</CODE> field of the <CODE>PixPat</CODE> record. <P>
 In an RGB pixel pattern, the <CODE>patType</CODE> field contains the value 2. Using the <CODE>MakeRGBPat</CODE> procedure (described on <A HREF=QuickDraw-249.html#MARKER-9-530>page 4-81</A>), your application can specify the exact color it wants to use. Color QuickDraw selects a pattern to approximate that color. In this way, your application can effectively increase the color resolution of the screen. RGB pixel patterns are particularly useful for dithering: mixing existing colors together to create the illusion of a third color that's unavailable on an indexed device. The <CODE>MakeRGBPat</CODE> procedure aids in this process by constructing a dithered pattern to approximate a given absolute color. An RGB pixel pattern can display 125 different patterns on a 4-bit screen, or 2197 different patterns on an 8-bit screen.<P>
 An RGB pixel pattern has an 8-by-8 pixel pattern that is 2 bits deep. For an RGB pixel pattern, the <CODE>RGBColor</CODE> record that you specify to the <CODE>MakeRGBPat</CODE> procedure defines the image; there is no image data. <A NAME=MARKER-2-205></A><P>
 Your application should never need to directly change the fields of a <CODE>PixPat</CODE> record. If you find it absolutely necessary for your application to so, immediately use the <CODE>PixPatChanged</CODE> procedure to notify Color QuickDraw that your application has changed the <CODE>PixPat</CODE> record. The <CODE>PixPatChanged</CODE> procedure is described on <A HREF=QuickDraw-260.html#MARKER-9-579>page 4-89</A>.<A NAME=MARKER-2-117></A><A NAME=MARKER-2-300></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-207.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-209.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
