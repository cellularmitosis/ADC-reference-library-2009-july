<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>File System Overview: File System Guidelines</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="File System Guidelines"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002296" title="File System Guidelines"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index-date.html#//apple_ref/doc/uid/TP30000440-TP30000471" target="_top">Mac OS X</a> &gt; <a href="../index.html" target="_top">File System Overview</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SortingRules.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="FilenameExtensions.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002296-CJBHIHFF" title="File System Guidelines"></a><hr /><H1>File System Guidelines</H1>

<p>The following sections provide guidelines on ways to improve your application’s interactions with the Mac OS X file system.</p>

<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="FileSystemGuidelines.html#//apple_ref/doc/uid/20002296-109749">Guidelines for Saving Files</a>
				
			<br/>
			
        
			
			
				<a href="FileSystemGuidelines.html#//apple_ref/doc/uid/20002296-109373">Use Display Names</a>
				
			<br/>
			
        
			
			
				<a href="FileSystemGuidelines.html#//apple_ref/doc/uid/20002296-110137">Assume Case Sensitivity</a>
				
			<br/>
			
        
			
			
				<a href="FileSystemGuidelines.html#//apple_ref/doc/uid/20002296-109553">Get Only What You Need</a>
				
			<br/>
			
        
			
			
				<a href="FileSystemGuidelines.html#//apple_ref/doc/uid/20002296-109922">Consider the Type of the Destination Volume</a>
				
			<br/>
			
        
			
			
				<a href="FileSystemGuidelines.html#//apple_ref/doc/uid/20002296-SW1">Line Ending Guidelines</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002296-109749" title="Guidelines for Saving Files"></a><h2>Guidelines for Saving Files</h2>
<p>Whenever you save a document, you should make sure the file you create for that document contains the following information:</p>
<ul class="ul"><li class="li"><p>A type code</p></li>
<li class="li"><p>A creator code</p></li>
<li class="li"><p>A filename extension</p></li></ul>
<p>All files in the Mac OS X file system should have a filename extension. The Finder uses filename extensions to help identify the type of a file. More importantly, other platforms commonly use filename extensions exclusively to identify the type of a file. Some programs, such as network transfer programs, often use filename extensions to determine how to transfer files. Providing a filename extension for your application’s data files makes it easier for end users to exchange your data files with users on other platforms. By the same token, including a type code and creator code make it easier to exchange data on legacy Mac OS systems.</p>
<p>For more information on filename extensions, including further guidelines on supporting them, see <span class="content_text"><a href="FilenameExtensions.html#//apple_ref/doc/uid/20002297-CJBHIHFF">“Filename Extensions.”</a></span> </p>
<a name="//apple_ref/doc/uid/20002296-109373" title="Use Display Names"></a><h2>Use Display Names</h2>
<p>Display names improve the user experience in Mac OS X and should be supported by all applications. A display name is a name intended for display only to the user. You cannot use display names in your code to open files. Instead, display names make it possible to localize file and folder names dynamically and hide filename extensions without losing any identifying information about the file.</p>
<p>For more information on how to support display names, see <span class="content_text"><a href="DisplayNames.html#//apple_ref/doc/uid/20002298-CJBHIHFF">“Display Names.”</a></span> </p>
<a name="//apple_ref/doc/uid/20002296-110137" title="Assume Case Sensitivity"></a><h2>Assume Case Sensitivity</h2>
<p>Avoid the assumption that you can perform case-insensitive file comparisons or searches. Mac OS X supports many file systems that use case to differentiate between files. Even on file systems (such as HFS+) that support case insensitivity, there are still times when case may be used to compare filenames. For example, CFBundle and NSBundle consider case when searching bundle directories for named resources. </p>
<p>Try testing your software on volumes (such as UFS) that do distinguish files by case. </p>
<a name="//apple_ref/doc/uid/20002296-109553" title="Get Only What You Need"></a><h2>Get Only What You Need</h2>
<p>Performance is an important consideration when writing code that deals with the file system. It can take millions of cycles of computing time from the time you request data to the time the disk is even ready to begin reading. Plus, different file systems store data differently, so although an HFS+ volume may cache the size of a directories contents, a UFS volume may calculate that value each time it’s requested.</p>
<p>As you design your software, make sure that you actually use the data you get and that you actually need the data you use. Reducing file-system overhead can improve your application performance significantly. </p>
<p>For more information on measuring and improving the performance of your file-related code, see <em><a href="../../../../Performance/Conceptual/FileSystem/index.html#//apple_ref/doc/uid/10000161i" target="_top">File-System Performance Guidelines</a></em>.</p>
<a name="//apple_ref/doc/uid/20002296-109922" title="Consider the Type of the Destination Volume"></a><h2>Consider the Type of the Destination Volume</h2>
<p>A user’s files may reside on a network volume, a mobile volume, or on a local volume. If files are on a network volume, accessing them frequently may incur a greater performance penalty. If the network volume is part of a storage area network (such as an Xsan array), you may need to take additional steps to ensure the array performs at peak performance. In particular, you should do the following:</p>
<ul class="ul"><li class="li"><p>If you need to optimize your file handling code for maximum performance on specific file systems, use <code>GetVolParms</code> or <code>statfs</code> to get information about a file system. Use special APIs if they are available. </p></li>
<li class="li"><p>Lock only what you need before accessing files and be sure to release those locks as soon as possible. </p></li>
<li class="li"><p>Other than the boot volume, don’t assume that a volume will always be there. Portable drives may be removed by the user at any time. Sign up for I/O Kit notifications if you need to know if a specific volume is removed from the system. </p></li></ul><a name="//apple_ref/doc/uid/20002296-SW1" title="Line Ending Guidelines"></a><h2>Line Ending Guidelines</h2><p>Mac OS X uses the <code>\n</code> character by itself to represent the end of a line. Most Mac OS X methods and functions that write out line ending characters write out only this character. Your own code should do the same when writing out content.  When reading content, however, your code should be prepared to handle content that contains the  <code>\n</code>, <code>\r</code>, or <code>\r\n</code> line endings. Being able to read these other line endings promotes interoperability with other platforms. </p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="SortingRules.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="FilenameExtensions.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-07-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MacOSX/Conceptual/BPFileSystem/Articles/FileSystemGuidelines.html%3Fid%3D10000185i-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MacOSX/Conceptual/BPFileSystem/Articles/FileSystemGuidelines.html%3Fid%3D10000185i-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MacOSX/Conceptual/BPFileSystem/Articles/FileSystemGuidelines.html%3Fid%3D10000185i-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
