<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Using PostScript Printer Description Files: PPD Files Tasks</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="PPD Files Tasks"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000190" title="PPD Files Tasks"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000432" target="_top">Printing</a> &gt; <a href="../../../Carbon-date.html#//apple_ref/doc/uid/TP30000440-TP30000432-TP30000494" target="_top">Carbon</a> &gt; <a href="../ppd_intro/ppd_intro.html#//apple_ref/doc/uid/TP30000188-DontLinkElementID_9">Using PostScript Printer Description Files</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../ppd_concepts/ppd_concepts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../ppd_revihistory/ppd_revhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_11" title="PPD Files Tasks"></a><h1><a name="//apple_ref/doc/uid/TP30000190-TPXREF101" title="PPD Files Tasks"></a>PPD Files Tasks</h1><p>This chapter describes the most common tasks printer vendors need to do with PPD files:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-CJBHAFDF">“Installing PPD Files.”</a></span> Make sure your PPD file is installed in the right place; otherwise Mac OS X won’t find it.</p></li><li class="li"><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-CJBEAJBI">“Creating a Localized PPD File.”</a></span> Find out what you need to do to the contents of a PPD file to customize it for your worldwide users.</p></li><li class="li"><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-CJBFJGCB">“Specifying Grouping in the Printer Features Pane.”</a></span> Control the grouping of nonstandard features in the generic interface Mac OS X creates for your printer’s features.</p></li><li class="li"><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-CJBBDDGH">“Adding PPD Keywords to a PDE’s Information Property List.”</a></span> Assure that features you want to appear in your custom printing dialog extension don’t show up in the Printer Features pane. </p></li><li class="li"><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-CJBFHCJI">“Changing PPD and PDE File Binding.”</a></span> Find out what to tell your users to do when they want to change the preferred language after PPD and PDE files are bound.</p></li></ul><a name="//apple_ref/doc/uid/TP30000190-CJBHAFDF" title="Installing PPD Files "></a><h2>Installing PPD Files </h2><p>Unlike earlier versions of the Mac OS, Mac OS X requires you to install the PPD files for a printer in localized folders. You must install a PPD file in the <code>en.lproj</code> folder, as the printing system uses the PPD files in this folder to determine which printers are supported. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_12" title="Note"></a><p><strong>Note:</strong>&nbsp;If you don’t install a PPD file in the <code>en.lproj</code> folder , a PPD file is not available automatically for that printer.</p></div><p>Apple recommends you provide localized PPD files according to the following priority groups: </p><ul class="ul"><li class="li"><p>Required: English</p></li><li class="li"><p>Priority 1: French, German, and Japanese</p></li><li class="li"><p>Priority 2: Dutch, Italian, and Spanish</p></li><li class="li"><p>Priority 3: Brazilian Portuguese, Simplified Chinese, Korean, Traditional Chinese, Danish, Finnish, Norwegian, and Swedish</p></li></ul><p>A localized PPD file should be installed into the folder appropriate for the language of the localized file. The naming convention for localized folders is the same as that used for localized bundle resources in Mac OS X. Folders are named with an ISO 639 language code and an <code>.lproj</code> suffix. For example, PPD files localized for English and Korean should be in folders named <code>en.lproj</code> and <code>ko.lproj</code>. <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BBCFEJDE">Table 3-1</a></span> lists the ISO 639 codes for the Apple-recommended languages. You can find a complete list of ISO 639 country codes at this website:</p><p><span class="content_text"><a href="http://etext.lib.virginia.edu/tei/iso639.html" target="_blank">http://etext.lib.virginia.edu/tei/iso639.html</a></span></p><p>If you provide a PPD file for a local variation of a language, such as Canadian French or Swiss German, you can use the ISO 3166 codes, as the ISO 639 codes do not differentiate between local variants.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_13" title="Note"></a><p><strong>Note:</strong>&nbsp;Prior to Mac OS X version 10.1, the naming convention for some localized folders was to use the full English name of a language with the <code>.lproj</code> suffix. These folder names are now deprecated; you should not use them. <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BBCFEJDE">Table 3-1</a></span> lists the deprecated folder names associated with a language. </p></div><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_14" title="Table 2-1ISO 639 language codes, languages, and Mac OS X deprecated folder names"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP30000190-BBCFEJDE" title="Table 2-1ISO 639 language codes, languages, and Mac OS X deprecated folder names"></a><strong>Table 2-1&nbsp;&nbsp;</strong>ISO 639 language codes, languages, and Mac OS X deprecated folder names</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Code</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Language</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Deprecated Folder Name</p></th></tr><tr><td  scope="row"><p>en</p></td><td ><p>Universal English</p></td><td ><p><code>English.lproj</code></p></td></tr><tr><td  scope="row"><p>en_US</p></td><td ><p>US English</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>fr</p></td><td ><p>French</p></td><td ><p><code>French.lproj</code></p></td></tr><tr><td  scope="row"><p>de</p></td><td ><p>German</p></td><td ><p><code>German.lproj</code></p></td></tr><tr><td  scope="row"><p>ja</p></td><td ><p>Japanese</p></td><td ><p><code>Japanese.lproj</code></p></td></tr><tr><td  scope="row"><p>nl</p></td><td ><p>Dutch</p></td><td ><p><code>Dutch.lproj</code></p></td></tr><tr><td  scope="row"><p>it</p></td><td ><p>Italian</p></td><td ><p><code>Italian.lproj</code></p></td></tr><tr><td  scope="row"><p>es</p></td><td ><p>Spanish</p></td><td ><p><code>Spanish.lproj</code></p></td></tr><tr><td  scope="row"><p>pt</p></td><td ><p>Portuguese</p></td><td ><p><code>Portuguese.lproj</code></p></td></tr><tr><td  scope="row"><p>zh_TW</p></td><td ><p>Simplified Chinese</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>ko</p></td><td ><p>Korean</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>zh_CN</p></td><td ><p>Traditional Chinese</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>da</p></td><td ><p>Danish</p></td><td ><p><code>Danish.lproj</code></p></td></tr><tr><td  scope="row"><p>fi</p></td><td ><p>Finnish</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>no</p></td><td ><p>Norwegian</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>sv</p></td><td ><p>Swedish</p></td><td ><p><code>Swedish.lproj</code></p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000190-BCIHJGBB" title="Installation Path"></a><h3>Installation Path</h3><p>PPD files for all printer manufacturers should be installed in the following location, in the appropriate localized folders:</p><ul class="spaceabove"><li class="li"><p><code>/Library/Printers/PPDs/Contents/Resources/</code></p></li></ul><p>Each PPD file should have its privileges set to Read Only for Owner, Group, and Everyone. </p><p>All localized third-party PPD files, regardless of printer manufacturer, must be installed in the same localized folder, as shown in <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BCIBDHGC">Figure 3-1</a></span>. When you install a localized PPD file, you should first check to see if the appropriate language folder exists. If it does not, you must create the folder in this directory: </p><ul class="spaceabove"><li class="li"><p><code>/Library/Printers/PPDs/Contents/Resources/</code></p></li></ul><br/><div><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_15" title="Figure 2-1A PPD file must be installed the en.lproj folder"></a><p><a name="//apple_ref/doc/uid/TP30000190-BCIBDHGC" title="Figure 2-1A PPD file must be installed the en.lproj folder"></a><strong>Figure 2-1&nbsp;&nbsp;</strong>A PPD file must be installed the en.lproj folder</p><img src = "../art/ppdlproj3.gif" alt = "A PPD file must be installed the en.lproj folder" width="446" height="231"></div><br/><p>When Mac OS X searches for a PPD file, it looks in the locations specified in <span class="content_text"><a href="../ppd_concepts/ppd_concepts.html#//apple_ref/doc/uid/TP30000189-CJBIFDJB">“How Mac OS X Searches for and Chooses PPD Files.”</a></span> If there is more than one localized PPD file installed for a printer, Mac OS X chooses one, and it does so without user interaction. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_16" title="Note"></a><p><strong>Note:</strong>&nbsp;In Mac OS X, do not install your PPD files in the /System path. This path is reserved for PPD files for Apple brand printers: /System/Library/Printers/PPDs/Contents/Resources/</p></div><a name="//apple_ref/doc/uid/TP30000190-TPXREF106" title="Support for Printing in the Classic Environment"></a><h3>Support for Printing in the Classic Environment</h3><p>The LaserWriter 8 driver does not access PPD files installed in Mac OS X directories. If you also need to provide a PPD file for use with applications that run in the Classic environment, you should install the file in the Mac OS 9 System Folder:</p><ul class="spaceabove"><li class="li"><p><code>System Folder:Extensions:Printer Descriptions:</code></p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_17" title="Note"></a><p><strong>Note:</strong>&nbsp;If there is more than one PPD file for a printer installed for use in the Classic environment, Mac OS asks the user to choose between PPD files.</p></div><a name="//apple_ref/doc/uid/TP30000190-CJBEAJBI" title="Creating a Localized PPD File"></a><h2>Creating a Localized PPD File</h2><p>There are two things you need to do to create a localized version of a PPD file:</p><ul class="ul"><li class="li"><p>specify the character encoding and language</p></li><li class="li"><p>translate strings that are displayed in the user interface</p></li></ul><p>One value you do not need to localize is <code>*DefaultPageSize</code>, as Mac OS X does not use this value. The printing system sets a default paper size across a user’s set of printers, rather than on a printer by printer basis.</p><a name="//apple_ref/doc/uid/TP30000190-TPXREF107" title="Specifying the Encoding and Language"></a><h3>Specifying the Encoding and Language</h3><p>You need to specify the encoding and language in the PPD file by using the <code>*LanguageEncoding</code> and <code>*LanguageVersion</code> keywords. The encoding is used by the system to convert text strings from the encoding used in the PPD file to that currently in use on the computer. The conversion is done when the printer queue is created, using the language of the user at that time.</p><p>For most Roman languages, the supported <code>encodingOption</code> value for the <code>*LanguageEncoding</code> keyword is <code>ISOLatin1</code>. The most common encodings are listed in <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BBCGGIGA">Table 3-2</a></span>. For more information see <em>PostScript Printer Description File Format Specification</em>. If you specify an encoding that Apple doesn’t support, MacRoman is used.</p><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_18" title="Table 2-2Encoding option values"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP30000190-BBCGGIGA" title="Table 2-2Encoding option values"></a><strong>Table 2-2&nbsp;&nbsp;</strong>Encoding option values</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Values</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Encoding</p></th></tr><tr><td  scope="row"><p><code>ISOLatin1</code></p></td><td ><p>Uses the ISOLatin1 encoding</p></td></tr><tr><td  scope="row"><p><code>MacStandard</code></p></td><td ><p>Uses Macintosh standard encoding</p></td></tr><tr><td  scope="row"><p><code>JIS83-RKSJ</code></p></td><td ><p>Uses RKSJ (also known as Shift–JIS) encoding and the JIS X0208-1983 character set</p></td></tr><tr><td  scope="row"><p><code>UTF-8</code></p></td><td ><p>Uses a form of Unicode character encoding</p></td></tr></table></div><p>The <code>languageOption</code> value for the <code>*LanguageVersion</code> keyword should identify the language used in the PPD file. The encoding applies only to the translation strings, human-readable comments, and certain other values, such as the value for the optional keyword <code>*NickName</code>. For more information, see <em>PostScript Printer Description File Format Specification</em>.</p><a name="//apple_ref/doc/uid/TP30000190-TPXREF108" title="Translating Strings Used in the User Interface"></a><h3>Translating Strings Used in the User Interface</h3><p>You should provide translations for any keywords, options, and messages that appear in the interface. The <em>PostScript Printer Description File Format Specification</em> describes the translation string syntax in detail. Although translation strings are optional according to the specification, you need to provide them to assure a good user experience for your worldwide customers.</p><p>A translation string must begin with a slash (/) and end with a colon (:) or a newline character, depending on the item for which it is a translation. The string appears after the option or message for which it is a translation. </p><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BCICFJEE">Listing 3-1</a></span> is an excerpt from a PPD file that’s localized for German. It shows the encoding string along with the items that need to be localized for a tray switching feature. An explanation for each numbered line follows the listing. </p><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_19" title="Listing 2-1An excerpt from a PPD file that&acirc;&#128;&#153;s localized for German"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30000190-BCICFJEE" title="Listing 2-1An excerpt from a PPD file that&acirc;&#128;&#153;s localized for German"></a><strong>Listing 2-1&nbsp;&nbsp;</strong>An excerpt from a PPD file that’s localized for German</p><div class="codesample"><table><tr><td scope="row"><pre>*LanguageEncoding: ISOLatin1<span>// 1</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>*OpenUI *TraySwitch/Zufuhrumschaltung:  Boolean<span>// 2</span></pre></td></tr><tr><td scope="row"><pre>*OrderDependency: 20 AnySetup *TraySwitch<span></span></pre></td></tr><tr><td scope="row"><pre>*DefaultTraySwitch: False<span>// 3</span></pre></td></tr><tr><td scope="row"><pre>*TraySwitch True/Ein: "1 dict dup /TraySwitch true put setpagedevice"<span>// 4</span></pre></td></tr><tr><td scope="row"><pre>*TraySwitch False/Aus: "1 dict dup /TraySwitch false put setpagedevice"<span>// 5</span></pre></td></tr><tr><td scope="row"><pre>*?TraySwitch: "<span>// 6</span></pre></td></tr><tr><td scope="row"><pre>   save<span></span></pre></td></tr><tr><td scope="row"><pre>   currentpagedevice /TraySwitch get<span></span></pre></td></tr><tr><td scope="row"><pre>   {(True)}{(False)}ifelse = flush<span></span></pre></td></tr><tr><td scope="row"><pre>   restore<span></span></pre></td></tr><tr><td scope="row"><pre>"<span></span></pre></td></tr><tr><td scope="row"><pre>*End<span></span></pre></td></tr><tr><td scope="row"><pre>*CloseUI: *TraySwitch<span></span></pre></td></tr></table></div><p>Here are the explanations for the numbered lines in <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BCICFJEE">Listing 3-1</a></span>:</p><ol class="ol"><li class="li"><p>The language encoding is required. For German, it is <code>ISOLatin1</code>.</p></li><li class="li"><p>For the German version, Zufuhrumschaltung appears in the user interface instead of Tray Switching. Note the syntax—the translation string is delimited by a slash and a colon. It is then followed by the <code>*OpenUI</code> option <code>Boolean</code>.</p></li><li class="li"><p>You do not need to provide a translation for a keyword’s default value. </p></li><li class="li"><p><code>/Ein</code> is the translation string for True, and it is followed by the PostScript code to invoke that option.</p></li><li class="li"><p><code>/Aus</code> is the translation string for False, and it is followed by the PostScript code to invoke that option.</p></li><li class="li"><p>The PostScript invocation or query code must not be translated.</p></li></ol><a name="//apple_ref/doc/uid/TP30000190-TPXREF105" title="Providing PPD Files for Languages Not Listed in International Preferences"></a><h3>Providing PPD Files for Languages Not Listed in International Preferences</h3><p>When a print queue is created by a user, Mac OS X selects the localized version of a PPD file based on the user’s preferred languages listed in the International pane of System Preferences. After Mac OS X finds the required PPD file in the <code>en.lproj</code> folder, it looks for an <code>.lproj</code> folder for the active language in the directories (see <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BCIHJGBB">“Installation Path”</a></span>) in which PPD files for Mac OS X can be installed. If Mac OS X doesn’t find an <code>.lproj</code> folder for the active language, it looks for a folder for the next preferred language specified by the user. If Mac OS X doesn’t find a folder for that language, it continues down the list of preferred languages until it finds an <code>.lproj</code> folder.</p><p>If you provide a PPD file in a language that is not listed in the International pane of System Preferences, the PPD file is not available automatically. There are two primary reasons why a language your PPD supports might not be listed in the International pane. </p><ul class="spaceabove"><li class="li"><p>Although Apple supports a wide variety of languages, it might not provide support for all of the languages at the initial release of a product. </p></li><li class="li"><p> The user turned off the option to install the language.</p></li></ul><p>To remedy either situation, a user can do the following:</p><ol class="ol"><li class="li"><p>Open the International pane of System Preferences.</p></li><li class="li"><p>In the Languages pane, click Edit.</p></li><li class="li"><p>Click the checkbox next to the language option that’s disabled but should be enabled. Then click OK.</p></li><li class="li"><p>Drag the language to the top of the Languages list.</p></li></ol><div class="notebox"><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_20" title="Note"></a><p><strong>Note:</strong>&nbsp;If the user changes the preferred language after a print queue is created, the user must delete and then recreate the print queue for the language change to take effect.</p></div><a name="//apple_ref/doc/uid/TP30000190-CJBFJGCB" title="Specifying Grouping in the Printer Features Pane"></a><h2>Specifying Grouping in the Printer Features Pane</h2><p>In Mac OS X version 10.1 and later, printer vendors can use grouping keywords in a PPD file to specify how features should be grouped in the Printer Features pane. As described in <span class="content_text"><a href="../ppd_concepts/ppd_concepts.html#//apple_ref/doc/uid/TP30000189-BCIBIJEJ">“The Printer Features Pane in the Print Dialog,”</a></span> the features you can group are limited to Boolean items and lists in which only one option can be selected at time. This section shows you how to specify a group that has two features: a pop-up menu (<code>PickOne</code>) for Fold Type and a checkbox <code>Boolean</code> for Banner Sheet. </p><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BBCFDDFI">Listing 3-2</a></span> is an excerpt from a PPD file. Note that some of the lines in the listing are numbered. An explanation for each numbered line follows the listing. </p><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_21" title="Listing 2-2Specifying a group of Finishing features in a PPD file"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30000190-BBCFDDFI" title="Listing 2-2Specifying a group of Finishing features in a PPD file"></a><strong>Listing 2-2&nbsp;&nbsp;</strong>Specifying a group of Finishing features in a PPD file</p><div class="codesample"><table><tr><td scope="row"><pre>*OpenGroup: Finishing/Finishing Options<span>// 1</span></pre></td></tr><tr><td scope="row"><pre>*OpenUI *FoldType/Fold Type: PickOne<span>// 2</span></pre></td></tr><tr><td scope="row"><pre>*DefaultFoldType: None<span>// 3</span></pre></td></tr><tr><td scope="row"><pre>*FoldType Fan/Fan: "% postscript code to invoke Fan fold "<span>// 4</span></pre></td></tr><tr><td scope="row"><pre>*FoldType Saddle/Saddle: "% postscript code to invoke Saddle fold "<span></span></pre></td></tr><tr><td scope="row"><pre>*FoldType Wing/Wing: "% postscript code to invoke Wing fold "<span></span></pre></td></tr><tr><td scope="row"><pre>*FoldType None/None: "% postscript code to invoke no fold "<span></span></pre></td></tr><tr><td scope="row"><pre>*CloseUI: *FoldType<span>// 5</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>*OpenUI *BannerSheet/Banner Sheet: Boolean<span>// 6</span></pre></td></tr><tr><td scope="row"><pre>*DefaultBannerSheet False: <span>// 7</span></pre></td></tr><tr><td scope="row"><pre>*BannerSheet True/True: "% postscript code to invoke a banner sheet "<span>// 8</span></pre></td></tr><tr><td scope="row"><pre>*BannerSheet False/False: "% postscript code to turn off a banner sheet "<span></span></pre></td></tr><tr><td scope="row"><pre>*CloseUI: *BannerSheet<span>// 9</span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>*CloseGroup: Finishing<span>// 10</span></pre></td></tr></table></div><p>Here are the explanations for the numbered lines in <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BBCFDDFI">Listing 3-2</a></span>:</p><ol class="ol"><li class="li"><p>When you define a group, the <code>*OpenGroup</code> keyword must be at the start of the group of features. The translation string value <code>Finishing Options</code> is the group’s name. This appears as the tab name in the Printer Features pane. </p></li><li class="li"><p>The <code>*OpenUI</code> keyword must be at the start of any feature that appears in the user interface. The option *FoldType is the feature name. The string value after the slash (/)—<code>Fold Type</code> —is the translation string; it’s the text label that appears for that feature in the user interface. The option <code>PickOne</code> specifies a list of options from which only one can be selected. It is represented as a pop-up menu in the user interface.</p></li><li class="li"><p>The keyword <code>*DefaultFoldType</code> specifies the required default value, which in this case is the string value <code>None</code>. This is the option that’s selected when the user opens the Printer Features panel.</p></li><li class="li"><p>This line, and the other lines that begin with the keyword <code>*FoldType</code>, specifies an option that appears in the Fold Type pop-up menu. <code>*FoldType</code> must be followed by a string value; in this case, it is <code>Fan</code>. The translation string—<code>Fan</code>—appears after the slash. The translation string must be followed by the PostScript code that invokes this feature in the printer.</p></li><li class="li"><p>The <code>*CloseUI</code> keyword must be at the end of any feature that’s defined with the <code>*OpenUI</code> keyword. It must be followed by the main keyword for the feature name.</p></li><li class="li"><p>This line defines a <code>Boolean</code> feature. <code>*BannerSheet</code> is the feature name and the translation string <code>Banner Sheet</code> is the text label that appears in the user interface.</p></li><li class="li"><p>The keyword <code>*DefaultBannerSheet</code> specifies the required default value, which in this case is the Boolean value <code>False</code>.</p></li><li class="li"><p>This line and the next are very important for a Boolean feature. A Boolean feature must define two, and only two options. One must provide the value <code>True</code>, and the other must provide the value <code>False</code>. Each option must supply the PostScript code to invoke the feature associated with the option in the printer.</p></li><li class="li"><p>The <code>*OpenUI</code> keyword must be paired with <code>*CloseUI</code> keyword. Don’t forget to supply the main keyword for the feature name.</p></li><li class="li"><p>The keyword <code>*CloseGroup</code> specifies the end of a group. The string value <code>Finishing</code> indicates it is the end of the <code>Finishing</code> features.</p></li></ol><p>The <em>PostScript Printer Description File Format Specification</em> document contains additional details on the syntax needed to specify groups and options, as well as information on adding code that’s invoked when an option is selected.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_22" title="Note"></a><p><strong>Note:</strong>&nbsp;You’ll need to translate the group and feature names when you create localized versions of the PPD file. See <span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-CJBEAJBI">“Creating a Localized PPD File”</a></span> for more information.</p></div><a name="//apple_ref/doc/uid/TP30000190-CJBBDDGH" title="Adding PPD Keywords to a PDE&acirc;&#128;&#153;s Information Property List"></a><h2>Adding PPD Keywords to a PDE’s Information Property List</h2><p>A printing dialog extension (PDE) is a powerful and flexible way to extend the Print dialog in Mac OS X. It lets you use any of the system services to draw, animate, or otherwise render a pane in the Print dialog to create a custom user interface for specific features. You can find details for writing a PDE in <em>Inside Mac OS X: Extending Printing Dialogs</em>. The purpose of this section is to show you how to register PPD keywords that are supported by your custom printing dialog extension. If you don’t register the PPD keywords, the features associated with the keywords appear in the Printer Features pane.</p><p>You add the supported PPD keywords to the PDE’s information property list in Project Builder, when you are writing the PDE. When the finished PDE is loaded for a specific printer, the Mac OS X printing system (specifically, the Printer Features printing dialog extension provided by Apple) checks the information property list. Features corresponding to PPD keywords that are included in the information property list are not displayed in the Printer Features panes. Instead, the features on the PDE’s property list are displayed in the pane created by your PDE. </p><p>You should make sure keywords are unique with respect to the printer. Conflicts between PDEs that support the same keyword are not detected by the printing system. You should also make sure your PDE loads only for the specific printer for which it is intended. If every PDE loads only for the proper printer then there won’t be multiple PDEs trying to handle the same feature for a given printer. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_23" title="Note"></a><p><strong>Note:</strong>&nbsp;The information property list contains key-value pairs that specify the PDE’s properties that are of interest to the system software (for example, CFPlugIn, the printing system, etc.) and other applications. Although the information property list is a text file that uses XML (Extensible Markup Language) format, you should not modify the XML directly unless you are very familiar with XML syntax. Instead, use Project Builder or the Property List Editor application provided with Mac OS X to modify the information property list.</p></div><p><span class="content_text"><a href="ppd_tasks.html#//apple_ref/doc/uid/TP30000190-BBCBHGJI">Figure 3-2</a></span> shows an information property list as it appears in Property List Editor. It is a property list for a PDE that supports two paper feed options for a PostScript printer—input slot and manual feed. The property <code>PMPPDKeysSupported</code> is an array with two string values, <code>InputSlot</code> and <code>ManualFeed</code>. The PPD for the printer should contain the media selection keywords <code>*InputSlot</code> and <code>*ManualFeed</code>. </p><br/><div><a name="//apple_ref/doc/uid/TP30000190-DontLinkElementID_24" title="Figure 2-2 An information property list for a PDE that supports paper&acirc;&#128;&#147;feed features"></a><p><a name="//apple_ref/doc/uid/TP30000190-BBCBHGJI" title="Figure 2-2 An information property list for a PDE that supports paper&acirc;&#128;&#147;feed features"></a><strong>Figure 2-2&nbsp;&nbsp;</strong> An information property list for a PDE that supports paper–feed features</p><img src = "../art/ppdplist.gif" alt = "An information property list for a PDE that supports paper–feed features" width="497" height="339"></div><br/><p>To add PPD keywords to the property list for a PDE, do the following:</p><ol class="ol"><li class="li"><p>Open the PDE project in Project Builder.</p></li><li class="li"><p>Click the name of the PDE target in the Targets list, then click the Bundle Settings tab.</p></li><li class="li"><p>Click the Expert button, then click New Sibling.</p></li><li class="li"><p>Type <code>PMPPDKeysSupported</code> in the Property List column.</p><p>The search for this keyword is case–sensitive, so make sure the case is correct.</p></li><li class="li"><p>Choose Array from the Class pop-up menu.</p></li><li class="li"><p>Click the disclosure triangle next to <code>PMPPDKeysSupported</code>, then click the New Child button.</p><p>When you click the disclosure triangle, the New Sibling button changes to New Child.</p></li><li class="li"><p>Double-click the text box in the Value column, type the PPD keyword, then make sure its Class is set to String.</p><p>For example, if the PPD keyword is <code>*InputSlot</code>, type <code>InputSlot</code>.</p></li><li class="li"><p>For each additional PPD keyword, add another child to the <code>PMPPDKeysSupported</code> property, then repeat Step 7. </p></li></ol><a name="//apple_ref/doc/uid/TP30000190-TPXREF110" title="Testing the PDE"></a><h3>Testing the PDE</h3><p>To make sure you added the keywords properly, do the following:</p><ol class="ol"><li class="li"><p>Build the project.</p></li><li class="li"><p>Open a document in any application, then choose Print from the File menu.</p></li><li class="li"><p>Look at the items in the pop-up menu.</p><p>If there is a Printer Features menu item in the Print dialog, make sure the features you expect to be in the pane provided by your PDE are not also in the Printer Features pane. Then, make sure the pane provided by your PDE is listed as an item in the pop-up menu.</p></li></ol><a name="//apple_ref/doc/uid/TP30000190-CJBFHCJI" title="Changing PPD and PDE File Binding"></a><h2>Changing PPD and PDE File Binding</h2><p>A PPD file and printing dialog extension for a printer are bound to a printer queue when the queue is created. When the operating system determines the language and encoding of the PPD file, it parses the file, and then saves the PPD for use by the printing system. If the PPD file is changed after the printer queue is created, the changes in the PPD file are not reflected in the Print dialog unless the user deletes and then recreates the printer queue. </p><p>Similarly, if the user changes the preferred language, the change is not reflected in the Print dialog associated with a printer queue that’s already setup. The user must delete and recreate the printer queue for the language change to take effect.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../ppd_concepts/ppd_concepts.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../ppd_revihistory/ppd_revhistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-07-07<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Printing/Conceptual/UsingPPDFiles/ppd_tasks/ppd_tasks.html%3Fid%3DTP40000960-2.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Printing/Conceptual/UsingPPDFiles/ppd_tasks/ppd_tasks.html%3Fid%3DTP40000960-2.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Printing/Conceptual/UsingPPDFiles/ppd_tasks/ppd_tasks.html%3Fid%3DTP40000960-2.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>