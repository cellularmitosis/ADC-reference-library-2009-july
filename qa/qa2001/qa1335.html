<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><HEAD><title>Technical Q&amp;A QA1335: Use NSSound instead of NSMovie for audio only playback on Mac OS X 10.3 and greater</title><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><meta name="keywords" content="NSSound, NSMovie, CoreAudio, QuickTime, Sound, Playback"><meta name="Description" content="This Q&amp;A describes why using NSSound may be a better choice than NSMovie for audio only playback on Mac OS X 10.3 and greater."><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR=WHITE><a name="//apple_ref/doc/uid/DTS10003185" title="Use NSSound instead of NSMovie for audio only playback on Mac OS X 10.3 and greater"></a>
<!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/MusicAudio/index.html">Audio</a> &gt; <a href="../../technicalqas/MusicAudio/idxCoreAudio-date.html">Core Audio</a> &gt; </p><!-- end_header_information --><!-- begin_titles_information --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A QA1335</div>
<div id="pageheadsub">Use NSSound instead of NSMovie for audio only playback on Mac OS X 10.3 and greater</div>
</h1>
</td></tr></table></CENTER><!-- end_titles_information --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600> <TR> <TD align="left"><hr width=500 align=center>
<!-- begin_document_contents --><P id=p2>Q: Our Cocoa based application currently uses <code>NSMovie</code> to play sounds throughout. This includes status sounds, alert sounds and so on. We would like to know if <code>NSSound</code> is a better choice for Mac OS X 10.3 on as our <code>NSMovie</code> implementation sometimes, but not always, suffers from gliches and dropouts.</P><P id=p4>A: Yes!</P>						<p id=p4>While <code>NSSound</code> supports any audio encodings and file formats that QuickTime does (as it still uses QuickTime for certain things), as of Mac OS X 10.3 <code>NSSound</code> can also use CoreAudio for playback giving you a more flexible class to work with.</p>						<P id=p4>File support is interesting; it breaks down as follows. The <code>NSSound</code> initializer first tries to use CoreAudio with the file it is initialized with. If that fails, <code>NSSound</code> tries to use QuickTime. If that fails, <code>NSSound</code> initialization will fail.</P>						<P id=p4>There is currently no way to tell (with the <code>NSSound</code> APIs) whether a particular <code>NSSound</code> object is using CoreAudio or QuickTime as its engine.</P>						<P id=p4><code>NSSound</code> will use CoreAudio for any files supported by the CoreAudio AudioFile APIs as long as the file type is supported in &lt;<code>AudioToolbox/AudioFile.h</code>&gt; and the encoding format has codec support (with the exeption of Linear PCM which is always supported).</P>						<P id=p4>Given the above information, <code>NSSound</code> will use the CoreAudio implementation to play AIFF, WAVE, NeXT, SD2, AU, and MP3 files leaving QuickTime to play everything else. This list applies to Mac OS X 10.3 and may expand in the future.</P>						<P id=p4>Additionally if your <code>NSSound</code> object is indeed using CoreAudio, you will not only get virtually glitch-proof (see note) audio but also significant performance improvements over the QuickTime implementation because the CoreAudio implementation is much lighter weight.</P>						<CENTER>							<TABLE BORDER=0 CELLPADDING=3 WIDTH=550><TR><TD BGCOLOR="#E6E6E6">										<P><B>Note:</B><BR>With the CoreAudio implementation, all sound data is loaded in when the sound is initialized, and all audio conversions and hand-offs (to the AudioDevice) are done in a real-time thread, so unless you are working with a very large sound file that needs to be paged in, your non-realtime threads should be able to consume arbitrary processor time without affecting your audio playback at all.</P>									</TD></TR></TABLE>						</CENTER>						<div align="left">							<h3>References:</h3>						</div>						<ul>							<div align="left">								<li><a href="../../documentation/Cocoa/Reference/ApplicationKit/ObjC_classic/Classes/NSSound.html">NSSound</a>							</div>						</ul>						<hr width=500 align=center>						<!-- begin_date --><H4 ALIGN=center>[Feb 04, 2004]</H4><!-- end_date --><!-- end_document_contents --></TD></TR></TABLE></CENTER><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/qa2001/qa1335.html%3Fid%3DDTS10003185-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/qa2001/qa1335.html%3Fid%3DDTS10003185-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/qa2001/qa1335.html%3Fid%3DDTS10003185-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>