<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebKit Objective-C Programming Guide: Paging Back and Forward</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Paging Back and Forward"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002030" title="Paging Back and Forward"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../InternetWeb-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000526" target="_top">Internet &amp; Web</a> &gt; <a href="../index.html" target="_top">WebKit Objective-C Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="ResourceLoading.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="DisplayingHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002030-CJBEHAAG" title="Paging Back and Forward"></a><hr /><H1>Paging Back and Forward</H1><p>A WebView object uses a <span class="content_text"><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/Reference/Reference.html#//apple_ref/doc/uid/20001892" target="_top">WebBackForwardList</a></span> object to maintain a list of visited pages used to page back and forward to the most recent page. WebView provides methods to handle the action of going forward or backward in this list; therefore, you can easily add Back and Forward buttons to your application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="BackForwardList.html#//apple_ref/doc/uid/20002030-117902">Enabling and Disabling the Back-Forward List</a>
				
			<br/>
			
        
			
			
				<a href="BackForwardList.html#//apple_ref/doc/uid/20002030-117951">Adding Back and Forward Buttons</a>
				
			<br/>
			
        
			
			
				<a href="BackForwardList.html#//apple_ref/doc/uid/20002030-117970">Setting the Page Cache</a>
				
			<br/>
			
        
			
			
				<a href="BackForwardList.html#//apple_ref/doc/uid/20002030-118001">Setting the Capacity</a>
				
			<br/>
			
        
			
			
				<a href="BackForwardList.html#//apple_ref/doc/uid/20002030-118032">The Current Item</a>
				
			<br/>
			
        
			
			
				<a href="BackForwardList.html#//apple_ref/doc/uid/20002030-118233">Managing State</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002030-117902" title="Enabling and Disabling the Back-Forward List"></a><h2>Enabling and Disabling the Back-Forward List</h2><p>By default, every WebView object maintains its own back-forward list object. There is some overhead in maintaining this list. If you don't want to use this feature, send a <code><a href="../../../Reference/WebKit/Classes/WebView_Class/Reference/Reference.html#//apple_ref/occ/instm/WebView/setMaintainsBackForwardList:" target="_top">setMaintainsBackForwardList:</a></code> message to your WebView object as in:</p><div class="codesample"><table><tr><td scope="row"><pre>[webView setMaintainsBackForwardList:NO];<span></span></pre></td></tr></table></div><p>Otherwise, history items, which encapsulate visited page information, are automatically added and removed from the back-forward list as webpages are loaded and displayed in a WebView. If you maintain a back-forward list in your WebView object, then you should add some buttons to your user interface so that users can use this feature.</p><a name="//apple_ref/doc/uid/20002030-117951" title="Adding Back and Forward Buttons"></a><h2>Adding Back and Forward Buttons</h2><p>You don't have to write a single line of code to implement Back and Forward buttons in your application. Follow these steps to add these buttons:</p><ol class="ol"><li class="li"><p>Using Interface Builder, add a Back and Forward button to your window.</p></li><li class="li"><p>Using Interface Builder, connect the Back and Forward buttons to the WebView object by selecting, respectively, the <code><a href="../../../Reference/WebKit/Classes/WebView_Class/Reference/Reference.html#//apple_ref/occ/instm/WebView/goBack:" target="_top">goBack:</a></code> and <code><a href="../../../Reference/WebKit/Classes/WebView_Class/Reference/Reference.html#//apple_ref/occ/instm/WebView/goForward:" target="_top">goForward:</a></code> actions.</p></li><li class="li"><p>Build and run your application.</p></li></ol><p>When running your application, connect to a URL, follow a few links (to generate some history items in your back-forward list), and then click the Back and Forward buttons. The WebKit maintains the back-forward list for you, and the action methods initiate new page requests.</p><a name="//apple_ref/doc/uid/20002030-117970" title="Setting the Page Cache"></a><h2>Setting the Page Cache</h2><p>You can use back-forward lists to maintain a page cache too. Because pages in the cache are rendered quickly, using this feature improves the performance of the back-forward action methods. You can turn this feature on or off by setting the cache size using the WebBackForwardList <code><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/WebBackForwardList/setPageCacheSize:" target="_top">setPageCacheSize:</a></code> method. If you set the page cache size to <code>0</code>, the page cache is disabled; otherwise, the size of the cache is limited to the number of pages you specify. The default page cache size may vary depending on your computerâ€™s configuration. Use the <code><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/occ/instm/WebBackForwardList/pageCacheSize" target="_top">pageCacheSize</a></code> method to get the current setting.</p><a name="//apple_ref/doc/uid/20002030-118001" title="Setting the Capacity"></a><h2>Setting the Capacity</h2><p>You can also limit the capacity of the back-forward list itself using the <code><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/Reference/Reference.html#//apple_ref/occ/instm/WebBackForwardList/setCapacity:" target="_top">setCapacity:</a></code> method. Setting the capacity affects only the number of history items allowed in the back-forward list. It doesn't affect the page cache. Use the <code><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/Reference/Reference.html#//apple_ref/occ/instm/WebBackForwardList/capacity" target="_top">capacity</a></code> method to get the current setting.</p><a name="//apple_ref/doc/uid/20002030-118032" title="The Current Item"></a><h2>The Current Item</h2><p>If you manipulate a back-forward list directly, you need to be aware of how it works. A back-forward list is like an array that can expand in both the negative and positive directions. History items are typically inserted in the order in which they are visited. Items have indices which are relative to the current item. The current item is always at index <code>0</code>, the preceding item is at index <code>-1</code>, the following item is at index <code>1</code>, and so on.</p><p>When manipulating the contents of a back-forward list be aware that some methods change the current item and therefore the indices of all other items. The <code><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/Reference/Reference.html#//apple_ref/occ/instm/WebBackForwardList/goBack" target="_top">goBack</a></code> and <code><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/Reference/Reference.html#//apple_ref/occ/instm/WebBackForwardList/goForward" target="_top">goForward</a></code> methods, their equivalent action methods, and the <code><a href="../../../Reference/WebKit/Classes/WebBackForwardList_Class/Reference/Reference.html#//apple_ref/occ/instm/WebBackForwardList/goToItem:" target="_top">goToItem:</a></code> method all change the current item. All other WebBackForwardList accessor methods do not effect the current item.</p><a name="//apple_ref/doc/uid/20002030-118233" title="Managing State"></a><h2>Managing State</h2><p>If there are no history items, or there are no items preceding or following the current item, then a back or forward action does nothing. Therefore you might want to track the state of the back-forward list and enable or disable the Back and Forward buttons accordingly. </p><p>You can do this by implementing the <code><a href="../../../Reference/WebKit/Protocols/WebFrameLoadDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/webView:didFinishLoadForFrame:" target="_top">webView:didFinishLoadForFrame:</a></code> delegate method to check the state of the back-forward list. Sending <code><a href="../../../Reference/WebKit/Classes/WebView_Class/Reference/Reference.html#//apple_ref/occ/instm/WebView/canGoBack" target="_top">canGoBack</a></code> and <code><a href="../../../Reference/WebKit/Classes/WebView_Class/Reference/Reference.html#//apple_ref/occ/instm/WebView/canGoForward" target="_top">canGoForward</a></code> to the WebView object returns <code>YES</code> if you can go in that direction. Therefore, you might implement the <code><a href="../../../Reference/WebKit/Protocols/WebFrameLoadDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/instm/NSObject/webView:didFinishLoadForFrame:" target="_top">webView:didFinishLoadForFrame:</a></code> method as follows, where <code>backButton</code> and <code>forwardButton</code> are your button outlets:</p><div class="codesample"><table><tr><td scope="row"><pre>- (void)webView:(WebView *)sender didFinishLoadForFrame:(WebFrame *)frame<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    // Only report feedback for the main frame.<span></span></pre></td></tr><tr><td scope="row"><pre>    if (frame == [sender mainFrame]){<span></span></pre></td></tr><tr><td scope="row"><pre>    [backButton setEnabled:[sender canGoBack]];<span></span></pre></td></tr><tr><td scope="row"><pre>    [forwardButton setEnabled:[sender canGoForward]];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="ResourceLoading.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="DisplayingHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/DisplayWebContent/Tasks/BackForwardList.html%3Fid%3D10000164i-2.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/DisplayWebContent/Tasks/BackForwardList.html%3Fid%3D10000164i-2.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/DisplayWebContent/Tasks/BackForwardList.html%3Fid%3D10000164i-2.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
