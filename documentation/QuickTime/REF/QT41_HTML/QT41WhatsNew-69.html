<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><head><script language="JavaScript" src="../../frametest.js"></script><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><!-- Link line removed --><TITLE> New Anchor Data Reference </TITLE><script language=javascript> window.parent.focus(); </script></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="QT41WhatsNew-68.html">Previous</A> | <A HREF="QT41WhatsNew-1.html">Chapter Contents</A> | <A HREF="QT41WhatsNew.html">Chapter Top</A> | <A HREF="QT41WhatsNew-70.html">Next</A> |</P><!-- QTnavbar end --><H1 CLASS="H2-Heading2"><A NAME="pgfId-30060"></A>New Anchor Data Reference </H1><P CLASS="T1-Text1"><A NAME="pgfId-30061"></A>To resolve relative data references, a method was needed to determine the original location from which a movie was opened or imported. </P><P CLASS="T1-Text1"><A NAME="pgfId-30062"></A>To address this, the concept of a movie's anchor data reference is introduced in QuickTime 4.1. This data reference indicates from where the movie was originally opened or imported but still allows the movie's default data reference to remain <TT>nil</TT> in the import-in-place case. </P><P CLASS="T1-Text1"><A NAME="pgfId-30063"></A>Two new QuickTime Movie Toolbox routines are introduced:</P><TT><A NAME="pgfId-55301"></A>pascal&nbsp;OSErr&nbsp;SetMovieAnchorDataRef&nbsp;(&nbsp;Movie&nbsp;theMovie,&nbsp;Handle&nbsp;dataRef,&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSType&nbsp;dataRefType);</TT><P CLASS="T1-Text1"><A NAME="pgfId-30065"></A>This routine sets the movie's anchor data reference. Pass <TT>nil</TT> to reset the anchor data reference to nothing. The routine copies the data reference.</P><TT><A NAME="pgfId-55307"></A>pascal&nbsp;OSErr&nbsp;GetMovieAnchorDataRef&nbsp;(&nbsp;Movie&nbsp;theMovie,&nbsp;Handle&nbsp;*dataRef,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSType&nbsp;*dataRefType,&nbsp;long&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*flags);</TT><P CLASS="T1-Text1"><A NAME="pgfId-30067"></A>This routine retrieves a movie's anchor data reference and type.</P><P CLASS="T1-Text1"><A NAME="pgfId-30068"></A>If the movie has <TT>SetMovieAnchorDataRef</TT> called on it, the routine will return a copy of the data reference and type. If there is no anchor data reference associated with the movie, then this routine will return a copy of the default data reference and type along with setting the following bit of the long integer referenced through the <TT>flags</TT> parameter.</P><TT><A NAME="pgfId-55313"></A>kMovieAnchorDataRefIsDefault&nbsp;=&nbsp;1&nbsp;&lt;&lt;&nbsp;0</TT><P CLASS="T1-Text1"><A NAME="pgfId-30070"></A>If there is neither an anchor nor a default data reference, <TT>nil</TT> will be returned for the data reference and 0 for the type.</P><BLOCKQUOTE><B>Note:&nbsp;&nbsp;</B><A NAME="pgfId-30071"></A>The caller should dispose of the data reference returned. </P></BLOCKQUOTE><hr>&#169; 2000 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: QuickTime Reference</I><P>| <A HREF="QT41WhatsNew-68.html">Previous</A> | <A HREF="QT41WhatsNew-1.html">Chapter Contents</A> | <A HREF="QT41WhatsNew.html">Chapter Top</A> | <A HREF="QT41WhatsNew-70.html">Next</A> |</P><!-- QTnavbar end --></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>