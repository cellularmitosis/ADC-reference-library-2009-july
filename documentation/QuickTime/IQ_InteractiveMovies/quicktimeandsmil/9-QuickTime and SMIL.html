<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Interactive Movies: QuickTime and SMIL</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="QuickTime and SMIL"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000883-CH213" title="QuickTime and SMIL"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../WiredMoviesandSprites-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000594" target="_top">Wired Movies and Sprites</a> &gt; <a href="../preface/QT_Interactive_preface.html#//apple_ref/doc/uid/TP40000883-CH204-DontLinkElementID_69">Interactive Movies</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../quicktimeatoms/8-QuickTime-Atoms.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../samplecodeappendix/Appendix-A-sample-code.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_73" title="QuickTime and SMIL"></a><h1><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCDGADJ" title="QuickTime and SMIL"></a>QuickTime and SMIL</h1><p>This chapter introduces you to SMIL (pronounced “smile”), which stands for <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_176"></a>Synchronized Multimedia Integration Language. SMIL is a Web Consortium standard for describing multimedia presentations. QuickTime 4.1 and later can play SMIL presentations as if they were QuickTime movies. </p><p>The complete SMIL specification is available at</p><div class="codesample"><table><tr><td scope="row"><pre>http://www.w3.org/TR/REC-smil/<span></span></pre></td></tr></table></div><p>If you are a content author, Webmaster or QuickTime developer, you can use SMIL to create multimedia presentations that play from the desktop or over the Web using the QuickTime plug-in or the QuickTime Player application. This document provides you with a general introduction to SMIL and its usage in QuickTime. </p><p>Specifically, QuickTime provides SMIL support for stored streams, such as Video On Demand (VOD). This enables content providers to insert an ad before, during or after a stream. QuickTime also provides SMIL support for live streams, with the ability to insert an ad at the beginning of the stream, as well as parallel streams, which are useful for banner ads in a Web page. </p><p>The document is divided into the following major sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCHFHEI">“Introduction to SMIL”</a></span> provides a brief overview of SMIL and its key features. </p></li><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCEJJAB">“Getting Started With SMIL”</a></span> shows how to create a basic layout, define display regions, create a timeline with sequential and parallel media elements, specify media elements and set their durations, and make an element into a clickable link. </p></li><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCGBGJJ">“Using SMIL in QuickTime”</a></span> discusses how SMIL presentations may be used to enhance QuickTime playback. </p></li><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCDJABF">“Embedding SMIL Documents in a Web Page”</a></span> discusses the ways you can embed a <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_177"></a>SMIL document in a Web page so that it plays in QuickTime Player or the QuickTime plug-in. </p></li><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCJHEFB">“SMIL Support in QuickTime”</a></span> describes the SMIL capabilities, supported in QuickTime, that enable content authors and developers to incorporate advertising clips into stored and live streams of QuickTime movies. </p></li><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCHHCID">“QuickTime SMIL Extensions in Detail”</a></span> discusses in detail the extensions to SMIL that allow an author to optionally specify richer behaviors which are supported by QuickTime but do not have a SMIL equivalent. </p></li><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCJJACC">“Movie Media Handler”</a></span> describes the features of the Movie Media handler available in QuickTime. </p></li><li class="li"><p><span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCBEIII">“References”</a></span> lists some of the documents that are useful sources of additional information. </p></li></ul><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCHFHEI" title="Introduction to SMIL "></a><h2>Introduction to SMIL </h2><p>A SMIL presentation is similar to a QuickTime movie, in that it can display images, text, audio, and video and can position visual elements on the screen at specified locations; media elements can also be sequenced and synchronized in time. SMIL presentations are described by SMIL documents, that is, text files that specify what media elements to present, and where and when to present them.</p><p>Media elements in a SMIL document are specified by URLs. Media elements can be files—such as text files, JPEG images, and QuickTime movies—or live streams. The URLs that specify the media elements can use any of the common protocols—HTTP, FTP, RTSP, file access, and so on.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF101" title="Importing SMIL Documents"></a><h3>Importing SMIL Documents</h3><p>You can import SMIL documents into <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_178"></a>QuickTime and play them using the QuickTime browser plug-in or QuickTime Player, provided that their individual media elements are all things that QuickTime can play. When you import a SMIL presentation into QuickTime, the SMIL media elements become QuickTime movie tracks, and the SMIL document describes how the tracks are arranged and overlaid in time and space. </p><p>SMIL can combine streaming movies with local or Fast Start movies without having to edit or combine them in QuickTime Player. You use a text editor to list the movie URLs and describe where on the screen and in what order to play the movies.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF102" title="Building Customized Presentations"></a><h3>Building Customized Presentations</h3><p>By stitching together media elements using a text editor and SMIL syntax, you can build customized presentations from existing media—movies, slides, text, and audio recordings—and play them using QuickTime. This gives you a simple way to author QuickTime movies with a text editor. </p><p>Because SMIL documents are text files, SMIL also gives you a way to automatically generate customized QuickTime movies using a script, such as an <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_179"></a>AppleScript, <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_180"></a>PERL, or <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_181"></a>CGI script. Anything that can generate text output can create a SMIL document. If you have a script that inserts banner ads into your Web pages, for example, you could use the same script to insert the ads into a SMIL document along with a streaming QuickTime movie. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF103" title="Movie Tracks"></a><h3>Movie Tracks</h3><p>SMIL also provides an easy way to make use of a new QuickTime feature—tracks in QuickTime movies that are QuickTime movies. These are called movie tracks, and are similar to text tracks, video tracks, or sound tracks, but point to other movies. Movie tracks have their own time base, so they can play forward, play backward, repeat, or loop, independently of the movie that contains them. When QuickTime imports a SMIL document, it creates a movie track for each SMIL media element.</p><p>Using wired sprites, you can start or stop a movie track at any time—while the rest of the movie is paused or plays normally—which is useful for creating interactive sound or interactive animation. You can put sound or animation in one movie, then create a wired sprite movie that controls the sound or animation using intermovie communication. Then you can stitch the movies together into a single presentation using SMIL.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCEJJAB" title="Getting Started With SMIL "></a><h2>Getting Started With SMIL </h2><p>This section shows you how to work with SMIL to create a basic layout, define display regions, create a timeline with sequential and parallel media elements, specify media elements and set their durations, and make an element into a clickable link. This section also illustrates a technique to show different elements to different viewers using a switch. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF104" title="Overview"></a><h3>Overview</h3><p>Because SMIL presentations are described by text files, you can create or edit a SMIL presentation using a text editor, and automatically generate a SMIL document using any script language that creates text files. A SMIL document specifies what media elements to present, and where and when to present them. Each media element is specified by a URL. </p><p>A SMIL presentation can use any media elements that QuickTime can play, including still images, audio, text, QuickTime movies, sprite animations, live streams, VR panoramas and VR object movies. The URL of a media element can point to local or remote media, using any format that QuickTime supports, including file access, HTTP, and RTSP.</p><p>Like the tracks in a QuickTime movie, the media elements in a SMIL presentation can be sequenced, overlapped, or offset in time and space. In addition, SMIL lets you select from a set of elements based on things like the user’s language or Internet connection speed. A SMIL presentation is similar to a QuickTime movie that depends on external media files. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF105" title="SMIL Structure"></a><h3>SMIL Structure</h3><p>SMIL is based on <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_182"></a>XML, which is more rigidly structured that HTML, but it uses the same familiar <code>&lt;tag> </code>and<code> &lt;/tag></code> syntax. </p><p>SMIL is different from HTML in that all the tags are case-sensitive (always lowercase) and all tags have to be explicitly ended—either there are a pair of tags that enclose other elements <code>(&lt;tag parameters> elements &lt;/tag>) </code>or a tag is self-contained and ends with “<code>/></code>” (<code>&lt;tag parameters />)</code>. </p><p>SMIL also differs from HTML because HTML routinely mixes structure and content together in the same document, whereas SMIL normally does not. Where an HTML document contains text to be displayed, a SMIL document would contain the URL of a text file instead.</p><p>Like HTML, a SMIL document has a head and a body. The structure of a SMIL file is shown below.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;!-- layout tags --><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;!-- body tags --><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><p>All the layout information is specified in the head. The head controls the physical layout, and where things are seen on screen. The media elements are listed in the body, which controls the temporal sequencing––that is, when, what, and where (region).</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF106" title="Layout"></a><h3>Layout</h3><p>The layout specifies the whole display area for the presentation, then defines regions where individual media elements can be displayed. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF107" title="Root Layout"></a><h4>Root Layout</h4><p>A <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_183"></a>SMIL layout always starts with a <code>&lt;root-layout /></code> tag that gives the dimensions of the display area in pixels and assigns a background color.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>    background-color="red" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/layout><span></span></pre></td></tr></table></div><p>The <code>id</code> parameter gives the presentation a name; it can be anything you like. The <code>height</code> and <code>width</code> parameters define the display area for the presentation in pixels. You can specify the background color using hexadecimal values (<code>"#FF0000"</code>) or names (<code>"red"</code>). The following is a very simple SMIL document—it’s just a red rectangle, but you can play it using QuickTime Player:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="red" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body> &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF108" title="Regions"></a><h4>Regions</h4><p>The layout also defines <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_184"></a>regions within the display area (<span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCCABFI">Figure 9-1</a></span>). Regions themselves are invisible, but they define areas where visual media elements can be displayed. Regions can be positioned anywhere in the display area and can overlap.</p><p>A layout that specifies a root layout and two regions:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="red"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;region id="r1" width="160" height="120" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;region id="r2" width="50%" height="100%"<span></span></pre></td></tr><tr><td scope="row"><pre>        left="100" top="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/head><span></span></pre></td></tr></table></div><p>The first region is named <code>r1</code>, and is 160 x 120 pixels, extending from the top left corner of the display area (the default position for a region). </p><p>The second region, <code>r2</code>, is half as wide as the display area (<code>width="50%</code>) and fills it from top to bottom (<code>height="100%"</code>). Region <code>r2</code> is offset 100 pixels from the left edge of the display area (<code>left="100"</code>). Since the first region is 160 pixels wide, the two regions overlap by 60 pixels.</p><br/><div><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_74" title="Figure 9-1Defining first and second regions"></a><p><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCCABFI" title="Figure 9-1Defining first and second regions"></a><strong>Figure 9-1&nbsp;&nbsp;</strong>Defining first and second regions</p><img src = "../art/overlapping_regions.gif" alt = "Defining first and second regions" width="368" height="155"></div><br/><p>The <code>&lt;region /></code> tag accepts the following parameters:</p><ul class="spaceabove"><li class="li"><p><code>id</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_185"></a>—gives each region a name, much like an HTML frame name.</p></li><li class="li"><p><code>height</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_186"></a> and <code>width</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_187"></a>—define the size of the region, either in pixels or as a percentage of the display area.</p></li><li class="li"><p><code>top</code> and <code>left</code> (optional)—specify the position of the region within the display area, either in pixels or as a percentage of the display area.</p></li></ul><p>If you want to set the <code>top</code> or <code>left</code> parameter, you must specify both <code>top</code> and <code>left</code> as a pair, even if one of them is zero.</p><p>By default, a region extends from the top-left corner of the display area. You can change this by specifying a <code>top</code> and <code>left</code> offset. For example, <code>top="50%" left="100"</code> creates a region whose top-left corner is halfway down and 100 pixels from the left edge of the display area. </p><ul class="spaceabove"><li class="li"><p><code>z-index</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_188"></a> (optional)—specifies the layering order when regions overlap.</p></li></ul><p>When regions overlap, one lies on top of the other. By default, a region defined later in the layout is on top of any regions defined earlier. You can set the layering explicitly using the <code>z-index</code> parameter. The layer with the highest <code>z-index</code> value is on top. (Note that in QuickTime movies, the layer with the lowest value is on top.) For example, the following layout defines three regions.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;region id="r1" width="160" height="120" z-index="3" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;region id="r2" width="160" height="120" z-index="2" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;region id="r3" width="160" height="120" z-index="1" /><span></span></pre></td></tr></table></div><p>The three regions overlap completely, with <code>r1</code> on top, <code>r2</code> in the middle, and <code>r3</code> at the bottom of the pile. If no <code>z-index</code> values had been specified, the layering would be reversed, with the last-defined region on top.</p><ul class="spaceabove"><li class="li"><p><code>fit</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_189"></a> (optional)—defines how media elements are cropped or scaled if they don’t have the same pixel dimensions as the region they’re displayed in. There are four possible values for this parameter:</p><ul class="nested"><li class="nested li"><p><code>fit="hidden"</code> (default)—images are not scaled. If an image is larger than the region, it is cropped. If an image is smaller than a region, part of the region is left empty.</p></li><li class="nested li"><p><code>fit="fill"</code>—images are scaled to match the height and width of the region, so an image always fills the region completely. The image’s aspect ratio may be distorted to make it fit.</p></li><li class="nested li"><p><code>fit="meet"</code>—images are scaled to meet the region’s boundaries while preserving each image’s aspect ratio, without cropping. An image may not fill the region completely, but always fills either the whole width or the whole height. The image is not cropped or distorted.</p></li><li class="nested li"><p><code>fit="slice"</code>—images are scaled to fill the region completely while preserving each image’s aspect ratio, cropping if necessary. If the aspect ratio of an image differs from the region, the image is cropped by taking a slice from the edge or bottom where it would extend beyond the region.</p></li><li class="nested li"><p>The top-left corner of a media element is always aligned with the top-left corner of the region it is displayed in. If you need to position an image somewhere else, just create another region at a different position—you can have as many regions as you like, and each one uses only a few bytes.</p></li></ul></li></ul><p>The following is a SMIL document with two overlapping regions. It looks like a red rectangle when you play it using QuickTime Player. Because regions are invisible, they just define areas where media elements can be displayed.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;root-layout id="main" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="red"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="r1" width="160" height="120" /><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="r2" width="50%" height="100%" left="100"<span></span></pre></td></tr><tr><td scope="row"><pre>            top="0" fit="fill" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body> &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF109" title="The Body"></a><h3>The Body</h3><p>The body of a SMIL document specifies what media elements to present, which regions to display the visual elements in, and a timeline for the presentation. </p><p>The <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_190"></a>timeline groups media elements in two ways: things that happen in sequence and things that happen in parallel. If you don’t specify whether elements should be played sequentially or in parallel, QuickTime plays them in sequence. Sequences are surrounded by the <code>&lt;seq></code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_191"></a> and <code>&lt;/seq></code> tags. Media elements in a sequence are presented one after the other—each element is presented after the previous element ends. There are different ways to determine when an element should end.</p><p>Media elements such as audio and video have an inherent duration, so they end when you would expect them to. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="audio1.mp3" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="audio2.aiff" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="audio3.wav" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/seq><span></span></pre></td></tr></table></div><p>Note that audio components have no visual part, so a region is not defined. </p><p>This sequence plays three audio files in a row. Each element ends when the audio has played all the way through. As soon as one element ends, the next begins. Media elements such as still images and text have no inherent duration, so they’re usually assigned explicit durations:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="image1.jpg" region="r1" dur="5 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="image2.gif" region="r1" dur="7 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/seq><span></span></pre></td></tr></table></div><p>In this example, the first image ends after being displayed for 5 seconds, then the second image appears and is displayed for 7 seconds. If you specify an explicit duration for an element that has its own inherent duration, it either ends when it normally would or after the duration you specify, whichever comes first.</p><p>Media elements that are displayed at the same time are surrounded by the <code>&lt;par></code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_192"></a> and<code> &lt;/par></code> tags. Parallel elements are presented starting at the same time, but they don’t necessarily end at the same time. For example: </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="themesong.mp3" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="poster.jpg" region="r1" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;text src="lyrics.txt" region="r2" dur="30 sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/par><span></span></pre></td></tr></table></div><p>This example plays an MP3 audio file while simultaneously displaying a JPEG image in one region and some text in another. The image and the text are displayed for 30 seconds; the audio element ends whenever the MP3 finishes playing.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF110" title="Combining Sequences and Parallel Groups"></a><h4>Combining Sequences and Parallel Groups</h4><p>You can put a group of parallel elements into a sequence. The parallel group is treated as a single element in the sequence. All the elements in the parallel group start together at the appropriate point in the sequence. When the last element in the parallel group ends, the sequence continues.</p><p>An example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;video src="Intro.mov" region="r1" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;audio src="narration.aiff" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;video src="slides.mov" region="r1" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;text src="credits.txt" dur="20 sec" region="r1" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/seq><span></span></pre></td></tr></table></div><p>In this example, <code>Intro.mov</code> plays first. The narration and the slides start together as soon as <code>Intro.mov</code> ends. When both the narration and the slides have ended, the credits are displayed.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF111" title="SMIL Media Elements"></a><h4>SMIL Media Elements</h4><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_193"></a>SMIL media elements are classified by type and specified by URL. Each visual media element is assigned to a region defined in the layout. The media type, the URL, and the region for visual media must be specified. All other parameters are optional.</p><p>There are currently six defined media types:</p><ul class="spaceabove"><li class="li"><p><code>&lt;audio /> (non-visual)</code></p></li><li class="li"><p><code>&lt;video /></code></p></li><li class="li"><p><code>&lt;image /></code></p></li><li class="li"><p><code>&lt;text /></code></p></li><li class="li"><p><code>&lt;textstream /></code></p></li><li class="li"><p><code>&lt;animation /></code></p></li></ul><p>You use the media type that most closely describes a given media element. For a sound-only QuickTime movie, for example, you use the <code>&lt;audio</code><code>/></code> media type. SMIL isn’t terribly strict about this, so you can specify a FLIC animation file, for example, using <code>&lt;animation /></code> or <code>&lt;video /></code>. Each media element is specified by a <code>src</code> parameter whose value is a URL. The URL can be absolute or relative and can use any protocol that QuickTime understands, including HTTP and RTSP.</p><p>Some example media types and URLs:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;audio src="http://www.myserver.com/path/myaudio.mp3" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;video src="rtsp://streamserver.com/VideoOnDemand.mov"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;image src="slides/slide01.jpg" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;text src="subtitles.txt" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;textstream src="rtsp://streamserver.com/streamtext.mov" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;animation "http://www.myserver.com/myanim.flc" /><span></span></pre></td></tr></table></div><p>If the URL is specified as a local file, it would be <code>file:///</code>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_75" title="Important:"></a><p><strong>Important:</strong>&nbsp;The QuickTime plug-in can resolve absolute or relative URLs, and QuickTime Player can resolve absolute URLs, but as of this writing, QuickTime Player cannot resolve relative URLs unless they refer to documents in the same folder as the SMIL document itself. In other words, if you’re targeting QuickTime Player, you can specify a relative URL such as <code>src="movie.mov"</code>, but not <code>src="../movie.mov"</code> or <code>src=</code>"<code>subfolder/movie.mov"</code>.</p><p></p></div><p>One URL protocol you may not be familiar with is <code>data:</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_194"></a>, which lets you embed a media element inside your SMIL document. It’s normally used to embed small amounts of text that would otherwise require a separate file. Here’s an example of a <code>data:</code> URL:</p><p><code>&lt;text region="aregion" dur="1:30" src="data:text/plain,Copyright Apple Computer, 2000" /></code></p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_76" title="Note"></a><p><strong>Note:</strong>&nbsp;The <code>data:</code> protocol identifier is followed immediately by the data format and a comma, then the actual data. Images can be embedded using the <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_195"></a>Base64 data format. </p></div><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF112" title="Region"></a><h4>Region</h4><p>Every visual media element needs to be assigned to a display region defined in the layout. Only one element can be displayed in a region at any time (but you can have multiple regions covering the same screen area).</p><p>If the media element contains an image that is larger or smaller than its assigned display region, the image can be scaled, clipped, or both scaled and clipped, depending on the <code>fit</code> parameter for that region. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_77" title="Note"></a><p><strong>Note:</strong>&nbsp;Clipping and scaling are attributes of a region, not a media element. To use different scaling or cropping guidelines for different images, create multiple regions covering the same area but with different <code>fit</code> parameters. </p></div><p>A SMIL document that displays a series of JPEG images:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;root-layout id="slideshow" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="black"/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;region id="r1" width="100%" height="100%" fit="meet" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="http://www.myserver.com/ourlogo.jpg"<span></span></pre></td></tr><tr><td scope="row"><pre>        region="r1" dur="5sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="slide1.jpg" region="r1" dur="5sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="slide2.jpg" region="r1" dur="5sec" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/seq><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><p>This example displays a sequence of three JPEG images. All the images are displayed in the same region and are automatically scaled to fill the region as completely as possible without clipping or changing their aspect ratios. Each image has a duration of 5 seconds.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF113" title="Duration"></a><h4>Duration</h4><p>Some media elements, such as audio and video, have inherent duration. Text and still images, however, have no inherent duration. The easiest way to assign a duration is with the <code>dur</code> parameter. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;image src="slide1.jpg" region="r1" dur="30sec" /><span></span></pre></td></tr></table></div><p>You can assign an explicit duration to override an element’s inherent duration. For example, if you specify</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;audio src="sound1.wav" dur="1:05" /><span></span></pre></td></tr></table></div><p>the audio file <code>sound1.wav</code> ends after 1 minute 5 seconds, or when the audio finishes naturally, whichever comes first.</p><p>Duration is specified in <code>Hours:Minutes:Seconds.DecimalFractions</code>. You can leave off the hours, or the hours and minutes, or the fractions. You can add the “sec” identifier to make things more readable. These are all equivalent:</p><div class="codesample"><table><tr><td scope="row"><pre>dur="00:00:05.000"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="00:05.000"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="05.000"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="05"<span></span></pre></td></tr><tr><td scope="row"><pre>dur="5 Sec"<span></span></pre></td></tr></table></div><p>Another way to explicitly set an element’s duration is to specify an end time or an end event. An element ends when its duration is exceeded, its end time or end event occurs, or it reaches its inherent end, whichever comes first. Setting <code>begin</code> and <code>end</code> parameters are discussed next.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF114" title="Begin and End "></a><h4>Begin and End </h4><p>You can specify an explicit start time and end time, or an event that triggers an element’s start or end, using the <code>begin</code> and <code>end</code> parameters. The time value that you specify is relative to when the element would normally begin.</p><p>For example, when you specify</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;image src="slide1.jpg" region="r1" begin="5sec"/><span></span></pre></td></tr></table></div><p>you get this timing:</p><ul class="spaceabove"><li class="li"><p>If the element is part of a <code>&lt;seq> &lt;/seq></code> sequence, it begins 5 seconds after the preceding element ends.</p></li><li class="li"><p>If the element is part of a <code>&lt;par> &lt;/par></code> group, it begins 5 seconds after the parallel group as a whole begins.</p></li></ul><p>If you specify an end time, the element ends that amount of time after it would naturally begin. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;image src="slide1.jpg" region="r1" begin="5sec" end="35sec" /><span></span></pre></td></tr></table></div><p>In this example, the image begins 5 seconds after its natural start time, and it ends 35 seconds after its natural start time, giving it a duration of 30 seconds. The element’s duration is equal to its end time minus its start time. If no <code>begin</code> value is specified, an <code>end</code> value is the equivalent of a <code>dur</code> value.</p><p>Alternately, you can specify that an element should begin or end when another element begins, ends, or reaches a specified duration. Instead of using a time as the value of the <code>begin</code> or <code>end</code> parameter, use the string </p><div class="codesample"><table><tr><td scope="row"><pre>"id(idname)(event)"<span></span></pre></td></tr></table></div><p>where <code>idname</code> is the id value of another element, and <code>event</code> is either <code>begin</code>, <code>end</code>, or a time value. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="themesong.mp3" id="x" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="poster.jpg" region="r1" end="id(x)(end)" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;text src="lyrics.txt" region="r2" end="id(x)(end)" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/par><span></span></pre></td></tr></table></div><p>This example assigns an id of <code>x</code> to the audio and sets the end of the image and text elements to synchronize with the end of element <code>x</code>.</p><p>Another example:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="Sound1.aif" id="master" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="Sound2.aif" begin="id(master)(5sec)" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="Sound3.aif" end="id(master)(end)" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/par><span></span></pre></td></tr></table></div><p>In this example, the element <code>Sound1.aif</code> begins normally and has the id of <code>"master"</code>. <code>Sound2.aif</code> begins 5 seconds after <code>master</code> begins. <code>Sound3.aif</code> begins normally, but ends when <code>master</code> ends.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF115" title="Clickable Links"></a><h3>Clickable Links</h3><p>You can make any visual media element in a SMIL document into a <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_196"></a>clickable link by using the <code>&lt;a> &lt;/a></code> tags. You can direct the URL to load in a browser window or to replace the current SMIL presentation.</p><p>To make a visual element into a link, you </p><ol class="ol"><li class="li"><p>precede the element with the <code>&lt;a></code> tag. </p></li><li class="li"><p>put the URL of the link in the <code>href</code> parameter. </p></li><li class="li"><p>set the <code>show</code> parameter to <code>"new" </code>or <code>"replace". </code></p></li><li class="li"><p>follow the element with the <code>&lt;/a></code> tag. </p></li></ol><p>The end result looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;a href="http://www.apple.com/" show="new" ><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;image src="poster.jpg" region="r1" dur="00:05" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/a><span></span></pre></td></tr></table></div><p>In this example, if the user clicks in region <code>r1</code> while <code>poster.jpg</code> is being displayed there, the Apple website loads in the default browser window.</p><p>The <code>show</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_197"></a> parameter can have two possible values:</p><ul class="spaceabove"><li class="li"><p><code>show="replace"</code>—replaces the current SMIL presentation in the plug-in or QuickTime Player (whichever is active). The URL must specify something that QuickTime can play.</p></li><li class="li"><p><code>show="new"</code>—opens the URL in the default browser window. The URL can specify a Web page or anything the browser or one of its plug-ins can display.</p></li></ul><p>You can use <code>show="new"</code> to target a specific browser frame, specific browser window, or QuickTime Player, using the <code>target</code> SMIL extension. Refer to the section <span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCGJFCE">“QuickTime SMIL Extensions,”</a></span> for more information. If you use the <code>chapter</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_198"></a> SMIL extension, you can jump to a named point in the current presentation by specifying <code>show="replace" href="#chapname"</code>.</p><p>QuickTime doesn’t currently allow you to jump to a named point in another SMIL presentation—you can’t use URLs of the form <code>href=fname.smi#name</code>.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF116" title="Throwing a Switch"></a><h3>Throwing a Switch</h3><p>You can automatically present different elements to different viewers using the <code>&lt;switch> &lt;/switch></code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_199"></a> tags.</p><p>SMIL supports a set of user attributes, such as screen resolution, color depth, maximum data rate, and language. Groups of elements can be listed between <code>&lt;switch></code> and <code>&lt;/switch></code> tags. QuickTime selects one element from the list based on user attributes, much like QuickTime’s alternate track and alternate movie mechanism.</p><p>This can be used to select an audio track based on language, for example:</p><div class="codesample"><table><tr><td scope="row"><pre>        &lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="french.aif" system-language="fr"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="german.aif" system-language="de"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="english.aif" system-language="en"/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/switch><span></span></pre></td></tr></table></div><p>This example selects <code>french.aif</code> for French speakers, <code>german.aif</code> for German speakers, and <code>english.aif</code> for English speakers.</p><p>The <code>&lt;switch></code> element selects the first item in the list that matches the user’s system attributes. If you’re selecting an item based on connection speed, list the elements from highest speed to lowest speed—QuickTime loads the first element the viewer’s connection speed can handle:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="192k.mp3" system-bitrate=192000"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="128k.mp3" system-bitrate="128000"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="qdesign.mov" system-bitrate="28800"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/switch><span></span></pre></td></tr></table></div><p>This example plays <code>192k.mp3</code> for people with high-speed connections, <code>128k.mp3</code> for people with connections slower than 192 Kbits/sec, but as fast or faster than 128 Kbits/sec, and <code>qdesign.mov</code> for people with connections slower than 128 Kbits/sec, but at least 28.8 Kbits/sec.</p><p>To provide a default, make the default the last item in the list and don’t specify any required attributes. For example:</p><div class="codesample"><table><tr><td scope="row"><pre>        &lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="french.aif" system-language="fr"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="german.aif" system-language="de"/><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;audio src="english.aif"/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/switch><span></span></pre></td></tr></table></div><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_200"></a>This example selects <code>french.aif</code> for French speakers, <code>german.aif</code> for German speakers, and <code>english.aif</code> for all others. It’s almost always a good idea to include a default.</p><p>QuickTime supports the following user attributes:</p><ul class="spaceabove"><li class="li"><p><code>system-bitrate</code>—corresponds to the user’s connection speed in the QuickTime Settings control panel. For example: 14400, 33600, 56000, 128000.</p></li><li class="li"><p><code>system-language</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_201"></a>—corresponds the user’s system <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_202"></a>language setting. The language is specified by a two-character code matching the ISO 639 language code specification, such as these:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Language</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Code</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Language</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Code</p></th></tr><tr><td  scope="row"><p>Arabic</p></td><td ><p>AR</p></td><td ><p>Japanese</p></td><td ><p>JA</p></td></tr><tr><td  scope="row"><p>Chinese</p></td><td ><p>ZH</p></td><td ><p>Korean</p></td><td ><p>KO</p></td></tr><tr><td  scope="row"><p>Danish</p></td><td ><p>DA</p></td><td ><p>Persian (Farsi)</p></td><td ><p>FA</p></td></tr><tr><td  scope="row"><p>Dutch</p></td><td ><p>NL</p></td><td ><p>Polish</p></td><td ><p>PL</p></td></tr><tr><td  scope="row"><p>English</p></td><td ><p>EN</p></td><td ><p>Portuguese</p></td><td ><p>PT</p></td></tr><tr><td  scope="row"><p>French</p></td><td ><p>FR</p></td><td ><p>Russian</p></td><td ><p>RU</p></td></tr><tr><td  scope="row"><p>German</p></td><td ><p>DE</p></td><td ><p>Spanish</p></td><td ><p>ES</p></td></tr><tr><td  scope="row"><p>Greek</p></td><td ><p>EL</p></td><td ><p>Swahili</p></td><td ><p>SW</p></td></tr><tr><td  scope="row"><p>Italian</p></td><td ><p>IT</p></td><td ><p>Swedish</p></td><td ><p>SV</p></td></tr></table></div></li></ul><p>For additional language codes, refer to</p><div class="codesample"><table><tr><td scope="row"><pre>http://www.oasis-open.org/cover/iso639a.html<span></span></pre></td></tr></table></div><ul class="spaceabove"><li class="li"><p><code>system-screen-size</code>—the minimum required screen resolution in pixels. The resolution is specified by <code>HeightxWidth</code>. Note that this is contrary to common usage—a 640 x 480 minimum screen resolution is specified by  <code>system-screen-size="480x640"</code>.</p></li><li class="li"><p><code>system-screen-depth</code>—the minimum required color depth, in bits. Common values are 8 (256 colors), 16 (thousands of colors), and 24 (millions of colors).</p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_78" title="Note"></a><p><strong>Note:</strong>&nbsp;For selections based on bit rate, screen size, or screen depth, always list the elements from most demanding to least demanding, and always include a default element with no required attributes as the last item in the list.</p></div><p>The next section discusses using SMIL in QuickTime.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCGBGJJ" title="Using SMIL in QuickTime"></a><h2>Using SMIL in QuickTime</h2><p>SMIL presentations may be used to enhance QuickTime playback. You can create standard SMIL documents and play them from the desktop or in a browser as if they were QuickTime movies. There are also QuickTime-specific extensions to SMIL that you can use to enhance your presentations. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF117" title="Creating QuickTime-Friendly SMIL Documents"></a><h3>Creating QuickTime-Friendly SMIL Documents</h3><p>For QuickTime to play a SMIL presentation, the presentation must be made up of media elements that QuickTime can play individually. This includes QuickTime movies, real-time streams in QuickTime format, AIFF and MP3 sound files, JPEG and GIF images, FLIC animations, text files, and MIDI music files. </p><p>If you can use a URL in the <code>QTSRC</code> parameter of an <code>&lt;EMBED></code> tag, and the QuickTime plug-in can play it successfully, you can use that URL as a media element in a SMIL document for QuickTime. </p><p>QuickTime doesn’t currently support the whole SMIL specification. You can use all the SMIL tags and parameters described in the tutorial, but if you’re working from the W3C specification, note the following exceptions: </p><ul class="spaceabove"><li class="li"><p>Regions can’t have scroll bars (don’t use <code>fit="scroll" in the  &lt;region> tag</code>). </p></li><li class="li"><p>Only the basic layout is supported (no CSS-based layout).</p></li><li class="li"><p>The <code>&lt;switch></code> tag can’t be used to specify a root layout from a list.</p></li><li class="li"><p>Hyperlinks can’t be used to pause the current SMIL presentation, load another one, then resume the current presentation (don’t use <code>show="pause"</code> in the <code>&lt;a></code> tag).</p></li><li class="li"><p>You can’t jump to a named point in another SMIL presentation—don’t use links of the form <code>&lt;a href="fname.smi#anchor" ></code>.</p></li></ul><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF118" title="Examples"></a><h3>Examples</h3><p>A common use of SMIL is to specify an <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_203"></a>advertisement that should play when the viewer requests a live stream. The following is a simple SMIL document that does just that. It defines a display area and a background color, then specifies two display regions—one for the ad and one for the live stream. It plays an ad—a QuickTime movie from a CD—that includes a click-through link to <code>www.apple.com</code>. When the ad is done, the SMIL document opens a live stream, in this case the BBC world news. </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;root-layout id="rl" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>        background-color="red"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;region id="ad" width="200" height="240" left="60" top="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;region id="bbc" width="100%" height="100%" fit="fill" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;!-- ad --><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;a href="http://www.apple.com"show="new"> &lt;!-- opens a new browser                                         window if the ad is clicked on --><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;video src="sample.mov" region="ad"/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/a><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;!-- live stream --><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;video src="rtsp://a628.q.kamai.net/7/628/52/935780134/<span></span></pre></td></tr><tr><td scope="row"><pre>            qtv.akamai.com/bbc/bbc100" region="bbc" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><p>Note that the ad is centered by specifying a <code>top</code> and <code>left</code> offset for the ad region. Note also that you must specify both <code>top</code> and <code>left</code> as a pair, even though the top offset is <code>0</code>. The live stream’s region is set to 100% of the available display area, and the stream’s visual area is scaled up to fill the region by specifying <code>fit="fill"</code>.</p><p>As another example, here’s a way to create a narrated slide show using SMIL:</p><ol class="ol"><li class="li"><p>Step through your slides using any tool, such as PowerPoint, JPEGView, or QuickTime Player (Present Movie—Slide Show mode). </p></li><li class="li"><p>Record a narration as you go, using recording software or recording to tape and capturing to disk later.</p></li><li class="li"><p>Open your narration in QuickTime Player, choose Get Info, and display the movie time as you listen to your narration.</p></li><li class="li"><p>Write down the appropriate time to begin displaying each slide.</p></li><li class="li"><p>Write a SMIL document similar to the one below, substituting the URLs of your slides and narration, and changing the slide durations as appropriate.</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;root-layout id="rl" width="320" height="240"<span></span></pre></td></tr><tr><td scope="row"><pre>            background-color="black" /><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;region id="slides" width="320" height="240" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;audio src="narration.aif" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide1.jpg" region="slides" dur="5S" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide2.jpg" region="slides" dur="15S" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;img src="slide3.jpg" region="slides" dur="10S" /><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div></li></ol><p>This creates a slide show that starts the audio narration and the first slide in parallel, then displays the slides in sequence, giving each slide the specified duration.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF119" title="Special Media Types"></a><h3>Special Media Types</h3><p>Text files, QuickTime VR panoramas and object movies, and HTML pages can all be specified as media elements in SMIL documents for QuickTime, but they deserve special mention.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF120" title="Text"></a><h4>Text</h4><p>You normally specify a <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_204"></a>text file as a media element using the <code>&lt;text></code> tag: <code>&lt;text src="http://my.server.com/some.txt" region="r1" dur="5" /></code></p><p>Other SMIL players may present the whole text file as a block of text. QuickTime displays the text as it would any text file imported into QuickTime Player. You can see how the text will be displayed by importing it into QuickTime Player using the default import settings. </p><p>To modify the way the text is presented, import the text into QuickTime Player using any settings you like, export it as Text with Descriptors, and edit the descriptors in the exported file as needed. You can also generate a text file that includes QuickTime text descriptor tags using a CGI script or other software. </p><p>You can use a text file with QuickTime text descriptors as a SMIL media element when playing the SMIL file with QuickTime. All the descriptors are supported, including scrolling, keyed text, and hyperlinks.</p><p>SMIL considers text as not having an inherent duration, but importing a text file into QuickTime creates a movie with a duration of 2 seconds for each paragraph of text. </p><p>If you specify a duration for a text element that’s less than the duration of the text movie that Quicktime creates, the display of the text movie is truncated.</p><p>You can get around this by specifying the text file using the <code>&lt;video></code> tag: <code>&lt;video src="http://www.server.com/some.txt" region="aregion" /></code></p><p>This causes the text to be displayed for the duration of the text movie that QuickTime creates. <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_205"></a></p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF121" title="VR"></a><h4>VR</h4><p>Specify a QuickTime <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_206"></a>VR panorama or object movie using the <code>&lt;video></code> tag:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;video src="http://www.myserver.com/vr.mov" region="aregion" /><span></span></pre></td></tr></table></div><p>You can use VR panoramas and object movies, including multinode panoramas, and VR movies that have been enhanced using wired sprites. </p><p>However, VR movies inside SMIL presentations don’t have a VR controller attached. Viewers can navigate the VR movie using the mouse to drag left, right, up, and down, and to click from node to node, but they can’t zoom in or zoom out. You can add zoom controls by adding a wired sprite controller to the VR movie.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF122" title="HTML"></a><h4>HTML</h4><p>You can’t display <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_207"></a>HTML pages inside QuickTime Player or the QuickTime plug-in. It’s possible to use SMIL to display media from a Web page in QuickTime Player or the QuickTime plug-in, however. This capability is currently very limited, but it may be sufficient for your needs.</p><p>Suppose you want QuickTime to display an animated GIF, for example, but you don’t have a URL for the GIF itself, just the URL of a Web page that uses the GIF as a banner ad. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_79" title="Note"></a><p><strong>Note:</strong>&nbsp;This is fairly common if you have a script that generates Web pages and inserts banner ads according to an algorithm, and you want to take advantage of this script to put the same ad in a SMIL presentation. </p></div><p>Use the SMIL <code>&lt;image></code> tag to set up the presentation for the GIF, but use the URL of the Web page that contains the GIF in the <code>SRC</code> parameter. For this to work, you need to explicitly set the MIME type to HTML in the element tag: <code>type="text/x-html-insertion"</code></p><p>The SMIL element looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;image src="http://www.myserver.com/index.html"<span></span></pre></td></tr><tr><td scope="row"><pre>        type="text/x-html-insertion" region="aregion" dur="time" /><span></span></pre></td></tr></table></div><p>QuickTime opens the HTML document specified in the URL and scan it for a playable media element specified by a <code>SRC</code> parameter. QuickTime follows a particular logic in scanning a document for a playable element: </p><ul class="spaceabove"><li class="li"><p>First, it looks for an <code>&lt;A HREF></code> tag that uses an image for an anchor, such as <code>&lt;A HREF="www.sponsor.com">&lt;IMG SRC="adbanner.gif">&lt;/A></code></p></li><li class="li"><p>If no <code>&lt;A HREF></code> tag with an image source is found, QuickTime looks for an <code>&lt;EMBED></code> tag with a playable source, such as <code>&lt;EMBED SRC="playable.mov"></code></p></li><li class="li"><p>If no <code>&lt;EMBED></code> tag with a playable source is found, QuickTime looks for an <code>&lt;IMG></code> tag, such as<code> &lt;IMG SRC="displaythis.jpg"></code></p></li></ul><p>QuickTime takes the first source that it finds using this logic and attempts to use it as the media element specified in the SMIL document. For this to work, the first source QuickTime finds needs to match the specified element type, such as audio, video, or image.</p><p>Here’s an example of a Web page with a banner ad, and a SMIL document that uses the banner ad from the Web page as a clickable link over a streaming movie:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;HTML><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;HEAD>&lt;TITLE>Welcome to XYZ Corp&lt;/TITLE>&lt;/HEAD><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;BODY><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;A HREF="sponsor.htm">&lt;IMG SRC="adbanner.gif">&lt;/A><span></span></pre></td></tr><tr><td scope="row"><pre>        ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/BODY><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/HTML><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;root-layout height="290" width="512"<span></span></pre></td></tr><tr><td scope="row"><pre>                background-color="black" /><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="ad" height="50" width="512" /><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="movie" height="240" width="320"<span></span></pre></td></tr><tr><td scope="row"><pre>                top="50" left="98" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;par><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;a href="sponsor.htm" show="new"><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;image src="welcometoxyz.html"<span></span></pre></td></tr><tr><td scope="row"><pre>                type="text/x-html-insertion"<span></span></pre></td></tr><tr><td scope="row"><pre>                region="ad" end="id(x)(end)" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/a><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;video src="rtsp://server/stream.mov"<span></span></pre></td></tr><tr><td scope="row"><pre>            region="movie" id="x" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/par><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCGJFCE" title="QuickTime SMIL Extensions"></a><h3>QuickTime SMIL Extensions</h3><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_208"></a>SMIL is an extensible standard, and QuickTime provides several SMIL extensions. This allows you to add QuickTime-specific attributes to your SMIL presentation, such as <code>autoplay="true"</code>. </p><p>To use QuickTime extensions in your SMIL document, include the <code>xmlns: </code>parameter and the URL of the QuickTime extensions as part of the initial <code>&lt;smil></code> tag:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil<span></span></pre></td></tr><tr><td scope="row"><pre>xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"><span></span></pre></td></tr></table></div><p>QuickTime doesn’t actually access the URL; it’s used only to uniquely identify the QuickTime SMIL extensions.</p><p>You can include QuickTime extensions within the <code>&lt;smil></code> tag along with the URL. For example, to create a SMIL presentation that starts automatically:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil<span></span></pre></td></tr><tr><td scope="row"><pre>xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:autoplay="true"><span></span></pre></td></tr></table></div><p>In the examples that follow, the <code>xmlns:</code> parameter and the URL have been omitted for readability, but they are a required part of the <code>&lt;smil></code> tag when any QuickTime extensions are used in a SMIL presentation. These are the current QuickTime SMIL extensions:</p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_209"></a>autoplay Specifies whether the presentation should play automatically. Legal values are <code>true</code> or <code>false</code>. The default is <code>false</code>.</p></li></ul><p>Example: <code>&lt;smil qt:autoplay="true"></code></p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_210"></a>next Specifies a presentation to play when this presentation finishes. Legal value is the URL of something QuickTime can play: a media file, a movie, a stream, or a SMIL presentation. This is similar to the QuickTime plug-in’s <code>QTNEXT</code> parameter. </p></li></ul><p>Example: <code>&lt;smil qt:next="nextpresentation.smi"></code></p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_211"></a>time-slider Specifies whether the movie controller should include a Time slider. During a SMIL presentation, QuickTime dynamically loads media elements as required, so the known duration of the overall presentation can change as a movie is played or navigated. When the known duration changes, the scale of the Time slider changes to reflect that. This can be confusing to the viewer. Because of this, QuickTime movies created from SMIL documents do not normally display a Time slider. Legal values are <code>true</code> and <code>false</code>. Default is <code>false</code>.</p></li></ul><p>Example: <code>&lt;smil qt:time-slider="true"></code></p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_80" title="Note"></a><p><strong>Note:</strong>&nbsp;If you want to import a SMIL presentation into QuickTime and edit it using QuickTime Player’s editing features—to add a chapter list for example—you must set <code>time-slider="true"</code>. QuickTime Player’s editing features rely on the Time slider.</p></div><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_212"></a>immediate-instantiation When used in the <code>&lt;smil></code> tag, specifies whether all the media elements in the presentation should be downloaded (or streamed) immediately, or whether this should be deferred until each element is about to be played. Legal values are <code>true</code> and <code>false</code>. Default is <code>false</code>. Opening all the media elements at the beginning of the presentation can take considerable time and memory, so we recommend that it be done only for simple presentations with a few small media elements.  When used in an element tag, specifies that this particular element should be downloaded or streamed as soon as the presentation is opened. You might use this to preload an element to be sure it is already in memory when it needs to play.</p></li></ul><p>Example: <code>&lt;smil qt:immediate-instantiation="true"></code></p><p>Example: <code>&lt;imgsrc="bgimg.png"qt:immediate-instantiation="true"/></code></p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_213"></a>composite-mode Specifies the graphics mode of a media element. This is used to create partial or complete transparency. Possible modes are</p><ul class="nested"><li class="nested li"><p>copy none direct These modes all specify no transparency, which is the default for most image formats.</p></li><li class="nested li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_214"></a>blend;percent Specifies a blend between the image and the background, with a required percent integer value (for example, <code>50%</code>) specifying the blend weight—<code>0%</code> means complete transparency, <code>100%</code> complete opacity.</p></li><li class="nested li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_215"></a>transparent-color;color Specifies that all pixels of a particular color within the image should be treated as transparent. It accepts a second parameter, color, that specifies the color to be rendered as transparent. The color parameter may be any valid color specification supported by Cascading Style Sheets Level 2 4.</p></li><li class="nested li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_216"></a>alpha straight-alpha premultiplied-white-alpha premultiplied-black-alpha Specify that the image has an internal alpha channel that should be used when compositing. The <code>alpha</code> and <code>straight-alpha</code> modes refer to a separate alpha component; the <code>premultiplied</code> modes refer to an image that has been premultiplied with the alpha against a white or black background, respectively.</p></li><li class="nested li"><p>straight-alpha-blend;percent Specifies that the image has an internal alpha channel as a separate component, and that an additional level of transparency should be applied to the whole image. </p></li></ul></li></ul><p>Example: <code>&lt;imgsrc="test.png"qt:composite-mode="alpha" /></code></p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_217"></a>bitrate Specifies the bandwidth a media object needs in order to play back in real time. This is used to give QuickTime enough information to decide how far in advance to begin loading a media element to provide seamless playback. Possible values are positive integers, in bits-per-second. </p></li></ul><p>Example: <code>&lt;videosrc="stream56k.mov"qt:bitrate="56000" /></code></p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_81" title="Important:"></a><p><strong>Important:</strong>&nbsp;Don’t confuse <code>qt:bitrate</code> with <code>system-bitrate</code>. Use <code>system-bitrate</code> to select a media element based on the user’s connection speed. Use <code>qt:bitrate</code> to help QuickTime determine when to start downloading a media element.</p><p></p></div><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_218"></a>system-mime-type-supported Specifies the MIME type that needs to be supported in order to play a media element. This is normally used in conjunction with the <code>&lt;switch></code> tag to allow the player software to choose a media element that it can handle. Possible values are character strings matching a valid MIME type. </p></li></ul><p>Example: </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;imgsrc="qt.mov"<span></span></pre></td></tr><tr><td scope="row"><pre>        qt:system-mime-type-supported="video/quicktime"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;imgsrc="someotherformat.suffix"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:system-mime-type-supported= "other/mime-type"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/switch><span></span></pre></td></tr></table></div><ul class="spaceabove"><li class="li"><p>chapter-mode Specifies whether the Time slider represents the duration of the whole presentation or the duration of the current chapter. Legal values are <code>all</code> and <code>clip</code>. Specify <code>all</code> for the whole presentation, <code>clip</code> for chapter-at-a-time.</p></li></ul><p>Example: <code>&lt;smil qt:chapter-mode="clip"/></code></p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_219"></a>chapter Specifies a chapter name for a media element. Valid values are any character string. Use this in conjunction with the <code>&lt;a></code> tag and a URL of the form <code>href="#chapname"</code> to create clickable links to named points in the presentation.</p></li></ul><p>Example: </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;videosrc="some.mov"qt:chapter="chap1" region="r1" /><span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;a href="#chap1" show="replace" ><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;img src="BackToChap1.gif" region="r2" dur="5:00" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/a><span></span></pre></td></tr></table></div><p>In the example above, clicking in region <code>r2</code> while <code>BackToChap1.gif</code> is displayed rewinds the presentation to <code>chap1</code>, causing <code>some.mov</code> to restart.</p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_220"></a>target Specifies a target for a presentation specified by the <code>href</code> parameter in the anchor tag. Possible targets are an existing browser window, a browser frame, or <code>quicktimeplayer</code>. If the target string is none of these, a new browser window is created. Used in conjunction <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_221"></a>with <code>show="new"</code>. <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_222"></a></p></li></ul><p>Example: </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;ahref="http://www.server.com/another.smi"show="new"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:target="quicktimeplayer"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;img src="OpenNewSMIL.gif" region="r2" dur="5:00" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/a><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF123" title="New SMIL Extensions Added in QuickTime"></a><h3>New SMIL Extensions Added in QuickTime</h3><p>The current release of QuickTime includes the addition of several new SMIL extensions. </p><p>The SMIL extension, <code>"qt:preroll"</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_223"></a>, accepts an integer representing the number of seconds to open and prepare to play an embedded movie. The attribute can be added to any media object; the default remains 15 seconds.</p><p>The <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_224"></a>begin-clip and <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_225"></a>end-clip attributes are now supported for media elements. </p><p>Another SMIL extension allows fullscreen playback by adding <code>"qt:fullscreen"</code> to the SMIL element. <code>"qt:fullscreen"</code> can be set in the SMIL header; it accepts one of the following attributes: </p><div class="codesample"><table><tr><td scope="row"><pre>qt:fullscreen="fullscreen_false"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:fullscreen="fullscreen_normal"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:fullscreen="fullscreen_double"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:fullscreen="fullscreen_half"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:fullscreen="fullscreen_full"<span></span></pre></td></tr><tr><td scope="row"><pre>qt:fullscreen="fullscreen_current"<span></span></pre></td></tr></table></div><p>Relative URLs work with qtnext user data and with the <code>"qt:next"</code> attribute of SMIL documents. Therefore, the following works:</p><p><code>&lt;smil xmlns:qt="http://www.mywebsite.com/quicktime/resources/smilextensions" qt:next="in_the_same_directory_as_this_document.mov"> . . . &lt;/smil></code></p><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCDJABF" title="Embedding SMIL Documents in a Web Page"></a><h2>Embedding SMIL Documents in a Web Page</h2><p>There are four ways you can embed a <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_226"></a>SMIL document in a Web page so that it plays in QuickTime Player or the QuickTime plug-in: </p><ol class="ol"><li class="li"><p>Use the <code>QTSRC</code> parameter.</p></li><li class="li"><p>Save the SMIL document as a <code>.mov</code> file.</p></li><li class="li"><p>Make a Fast Start reference movie.</p></li><li class="li"><p>Target the SMIL document to QuickTime Player using <code>HREF</code> or <code>QTNEXT</code>.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_82" title="Important:"></a><p><strong>Important:</strong>&nbsp;Other browser plug-ins, such as <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_227"></a>RealPlayer and Windows <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_228"></a>Media Player, also use SMIL, but support a different set of media elements. The viewer’s browser may be configured to use any of these plug-ins for <code>.sml </code>files. To be sure that QuickTime handles your SMIL document, use one of the techniques described in this section. </p><p></p></div></li></ol><p>It’s also important for your webmaster to configure your Web server to associate the <code>.sml</code> file extension with the MIME type <code>application/smil</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_229"></a>. Otherwise, the browser may treat the SMIL document as a text file. This is a fairly common problem, because SMIL documents are text files.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF124" title="Using QTSRC"></a><h3>Using QTSRC</h3><p>The <code>&lt;EMBED></code> tag’s <code>QTSRC</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_230"></a> parameter is the ideal way to pass a SMIL document to QuickTime. The <code>SRC</code> parameter should point to a small movie consisting of a single image that says “You need QuickTime 4.1 or later to see this movie.” </p><p>The HTML looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;EMBED SRC="UNeedQT41.mov" HEIGHT=256 WIDTH=320<span></span></pre></td></tr><tr><td scope="row"><pre>QTSRC="smil1.smi"><span></span></pre></td></tr></table></div><p>Set the height and width to the dimensions of your SMIL presentation, adding 16 to the height for the movie controller. The usual plug-in parameters, such as <code>AUTOSTART="True"</code> and <code>CONTROLLER="False"</code>, work normally. </p><p>Remember, the movie controller won’t have a Time slider unless you specify one using <code>qt:time-slider="true"</code> in the SMIL presentation. See <span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCGJFCE">“QuickTime SMIL Extensions”</a></span> for details.</p><p>If your SMIL presentation is a different height or width from the movie specified in the <code>SRC</code> parameter, use the larger dimensions as your height and width, and set a background color using the <code>BGCOLOR</code> parameter to fill any gaps.</p><p>As long as the viewer’s browser is configured to use QuickTime for <code>.mov</code> files, the QuickTime plug-in is called when a <code>.mov</code> file is specified in the <code>SRC</code> parameter. If the viewer has a current version of the QuickTime plug-in, QuickTime plays the SMIL presentation specified in the <code>QTSRC</code> parameter. If the viewer has an older version of QuickTime, or the viewer’s browser is configured to use a different plug-in for <code>.mov</code> files, the viewer sees the single image movie instead. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF125" title="Saving a SMIL Document as a .mov File"></a><h3>Saving a SMIL Document as a .mov File</h3><p>A SMIL document is really a text file. Saving it with the <code>.sml</code> file extension is a way to let the Web server and the browser know that it describes a SMIL presentation. Saving or renaming the same file with the <code>.mov</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_231"></a> file extension normally causes the browser to use the QuickTime plug-in to handle the file. Add the eight-character string <code>SMILtext</code> to the beginning of the file so QuickTime knows what it is.</p><div class="importantbox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_83" title="Important:"></a><p><strong>Important:</strong>&nbsp;The first eight characters of the file must be <code>SMILtext</code> in order for QuickTime to successfully import a SMIL file saved with the <code>.mov</code> file extension: <code>&lt;smil></code> becomes <code>SMILtext &lt;smil></code>.<code></code></p><p></p></div><p>The HTML looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;EMBED SRC="smil1.mov" HEIGHT=256 WIDTH=320><span></span></pre></td></tr></table></div><p>Set the height and width to the dimensions of your SMIL presentation, adding 16 to the height for the movie controller. All the optional parameters work normally.</p><p>The main disadvantage to this technique is that there’s no fallback movie if the viewer doesn’t have QuickTime 4.1 or later installed, or has Windows Media Player configured to handle <code>.mov</code> files. </p><p>Make sure your Web page has a “Get QuickTime” button if you use this method, and this shouldn’t be too much of a problem.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF126" title="QuickTime Media Links XML Importer"></a><h3>QuickTime Media Links XML Importer</h3><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_232"></a><p>QuickTime 5 introduces support for a new XML importer––QuickTime Media Links. This is a small XML file that has similar attributes to the embed tag in HTML used for the plug-in, but targets QuickTime Player instead of the plug-in. This section discusses the supported attributes and values, and how to create the file.</p><p>To work with the new QuickTime Media Links XML importer, you create a text file with the following two lines at the top of the file:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;?quicktime type="application/x-quicktime-media-link"?><span></span></pre></td></tr></table></div><p>Next, you add the embed tag itself:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;embed src="http://somewhere.com/Movies/test.mov" /><span></span></pre></td></tr></table></div><p>The following attributes and values are supported:</p><div class="codesample"><table><tr><td scope="row"><pre> autoplay - true/false<span></span></pre></td></tr><tr><td scope="row"><pre> controller - true/false<span></span></pre></td></tr><tr><td scope="row"><pre> fullscreen - normal/double/half/current/full<span></span></pre></td></tr><tr><td scope="row"><pre> href - url<span></span></pre></td></tr><tr><td scope="row"><pre> kioskmode - true/false<span></span></pre></td></tr><tr><td scope="row"><pre> loop - true/false/palindrome<span></span></pre></td></tr><tr><td scope="row"><pre> movieid - integer<span></span></pre></td></tr><tr><td scope="row"><pre> moviename - string<span></span></pre></td></tr><tr><td scope="row"><pre> playeveryframe - true/false<span></span></pre></td></tr><tr><td scope="row"><pre> qtnext - url<span></span></pre></td></tr><tr><td scope="row"><pre> quitwhendone - true/false<span></span></pre></td></tr><tr><td scope="row"><pre> src - url (required)<span></span></pre></td></tr><tr><td scope="row"><pre> type - mime type<span></span></pre></td></tr><tr><td scope="row"><pre> volume - 0 (mute) - 100 (max)<span></span></pre></td></tr></table></div><p>Note the following: </p><ul class="spaceabove"><li class="li"><p>The <code>qtnext</code> attribute only supports one URL (unlike the plug-in). </p></li><li class="li"><p>All attributes require values (unlike the plug-in). Thus, the following is valid:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;embed src="http://somewhere.com/Movies/test.mov" autoplay="true" /><span></span></pre></td></tr></table></div></li></ul><p>while this (although valid in HTML) is not:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;embed src="http://somewhere.com/Movies/test.mov" autoplay /><span></span></pre></td></tr></table></div><p>Only a subset of the possible attributes, however, need to be specified at once.</p><p>Support for the XML importer is packaged in a movie importer (<code>'eat '</code> component) and is designed to work in any QuickTime-aware application. However, there is currently no file type or file extension associated with this type. Instead, the importer is found by using the MIME type when embedded in a XML movie. The MIME type is found in the line:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?quicktime type="application/x-quicktime-reference"?><span></span></pre></td></tr></table></div><p>The purpose of this embed format is to serve as a text link that can be opened in QuickTime Player. Currently, the text link format (<code>.qtl</code>) is configured by the MIME settings panel to be specially routed to QuickTime Player and is never seen by the plug-in.</p><p>This format allows QuickTime Player to basically open the reference file and then set the appropriate attributes. There is no movie media involved as there is with SMIL.</p><p>The format can be used to author a movie with the specified options. Thus, in order to create a movie with the fullscreen and autoplay options set, you could create a file like the following, import it, and then save the resulting movie self-contained:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;?quicktime type="application/x-quicktime-media-link"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;embed src="http://somewhere.com/Movies/test.mov"  autoplay="true"<span></span></pre></td></tr><tr><td scope="row"><pre>            fullscreen="double"/><span></span></pre></td></tr></table></div><p>Keep in mind that this is XML, and not HTML. Don’t forget the trailing <code>"/>"</code> in the embed line.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF127" title="Making a Fast Start Reference Movie"></a><h3>Making a Fast Start Reference Movie</h3><p>You can open a SMIL document in QuickTime Player and save it as a self-contained movie. This creates a Fast Start movie that you can double-click from the desktop or embed in a Web page. </p><p>A <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_233"></a>Fast Start movie created this way typically has several tracks. The display area defined in the SMIL document’s <code>root-layout</code> element becomes a video track with the specified background color, and each media element in the SMIL document becomes a movie track with a URL data reference. The tracks are arranged in time and space as the SMIL document describes.</p><p>The media elements are not copied into the Fast Start movie, only their URLs. If your SMIL document uses relative URLs, you need to maintain the same relative path between the Fast Start movie and its media elements as existed between the original SMIL document and the media elements.</p><p>When the Fast Start movie is played in the QuickTime plug-in or QuickTime Player, each URL is resolved as needed. Embed it in a Web page as you would any Fast Start movie:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;EMBED SRC="smil1.mov" HEIGHT=256 WIDTH=320><span></span></pre></td></tr></table></div><p>Set the height and width to the dimensions of the movie, adding 16 to the height for the movie controller. All the optional parameters work normally.</p><p>The main advantage to this technique is that you can manipulate the SMIL presentation as a QuickTime movie in all the usual ways; set it to autoplay or play at double size in QuickTime Player, add locally stored tracks, or use Plug-in Helper to copy-protect the movie. In addition, the URLs of your media elements are concealed from the casual observer (it’s possible to ferret them out by doing an ASCII dump of the movie file, but they’re no longer in plain text).</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_84" title="Note"></a><p><strong>Note:</strong>&nbsp;If you want to edit the movie using QuickTime Player’s editing features—to add a chapter list for example—you must set <code>qt:time-slider="true"</code> in the SMIL document before importing it. QuickTime Player’s editing features rely on the Time slider.</p></div><p>The main disadvantage of using a Fast Start movie is that you can’t edit or create it using a text editor or the text output of a script. You need to edit or create the SMIL document, import it into QuickTime Player, and save it. It’s an extra step.</p><p>The other disadvantage is the lack of a fallback movie for people with versions of QuickTime prior to 4.1. <a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_234"></a></p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF128" title="Targeting QuickTime Player"></a><h3>Targeting QuickTime Player</h3><p>You can specify an ordinary QuickTime movie in the <code>SRC</code> parameter and link it to a SMIL document using the <code>HREF</code> or <code>QTNEXT</code> parameter. As long as you specify <code>TARGET="quicktimeplayer"</code><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_235"></a>, the URL is handled directly by QuickTime, so the browser won’t misdirect it to a different player.</p><p>If you use a poster movie and the <code>HREF</code> parameter, the HTML looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;EMBED SRC="poster.mov" HEIGHT=160 WIDTH=120<span></span></pre></td></tr><tr><td scope="row"><pre>AUTOSTART="False" CONTROLLER="False"<span></span></pre></td></tr><tr><td scope="row"><pre>HREF="smil1.smi" TARGET="quicktimeplayer"><span></span></pre></td></tr></table></div><p>Set the height and width to the dimensions of the poster. When someone clicks the poster, the SMIL document loads in QuickTime Player as a movie. Playing the movie causes QuickTime Player to fetch the media elements as needed.</p><p>If you want to launch a SMIL presentation in QuickTime Player without making the viewer click a poster, you can use <code>QTNEXT</code> instead of <code>HREF</code>. The HTML looks like this:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;EMBED SRC="Launch.mov" HEIGHT=320 WIDTH=240<span></span></pre></td></tr><tr><td scope="row"><pre>AUTOSTART="True" CONTROLLER="False"<span></span></pre></td></tr><tr><td scope="row"><pre>QTNEXT1="smil1.smi" TARGET="quicktimeplayer" ><span></span></pre></td></tr></table></div><p>Set the height and width to the dimensions of <code>Launch.mov</code>, which can optionally be an audio-only movie, and hidden (<code>HIDDEN="True"</code>). <code>Launch.mov</code> automatically plays in the QuickTime browser plug-in, then launches the SMIL presentation in QuickTime Player, outside the browser.</p><p>The main advantage to this approach is that the SMIL presentation takes place outside the browser, so you’re not constrained by the size or appearance of the browser window.</p><p>The main disadvantage to this technique is the lack of a fallback movie.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCJHEFB" title="SMIL Support in QuickTime"></a><h2>SMIL Support in QuickTime</h2><p>As a simple, text-based language, SMIL allows content creators and providers to mix and synchronize multimedia elements. This capability, supported in QuickTime, enables content authors and developers to incorporate, for example, advertising clips into stored and live streams of QuickTime movies. </p><p>SMIL, derived from XML, describes the temporal and spatial layouts of media clips within media presentations. It also allows the optional specification of hyperlinks for each clip. Because SMIL elegantly describes simple sequences and because it uses a familiar HTML-like syntax for specifying hyperlinks, it is ideal for the purpose of advertising insertion. </p><p>QuickTime provides SMIL support for </p><ul class="ul"><li class="li"><p>stored streams (for example, Video On Demand, (VOD)), which enables content providers to insert an ad before, during or after a stream. </p></li><li class="li"><p>live streams, with the ability to insert an ad at the beginning of the stream.</p></li><li class="li"><p>parallel streams, for example, banner ads in a Web page. </p></li></ul><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF129" title="SMIL Usage"></a><h3>SMIL Usage</h3><p>From a server-side application, SMIL documents can be customized for a particular user. You can also define the content of the sequence dynamically. This capability is similar to a playlist, but unlike playlists, you can specify the spatial and temporal characteristics of the sequence.</p><p>For example, SMIL may be used in the following context. An end user clicks on a link in a Web browser or in a movie in QuickTime Player and then a server decides what will be the right sequence of media to present. In order to accomplish this, the server may generate a SMIL document via CGI or some other mechanism. The SMIL document may be a sequence of media, such as an advertisement followed by other content. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF130" title="A Simple Sequence"></a><h3>A Simple Sequence</h3><p>In the example in <span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCEDCEJ">Listing 9-1</a></span>, an image starts by displaying a logo in JPEG format for five seconds. It then plays streaming video, which is a stored stream. This particular SMIL document does not specify the duration, which means that it will play for its entire length. Once it has finished, it will display the very same JPEG image at the end. Using this simple sequence, you could wrap or bracket a stream, for example, with your company logo. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_85" title="Listing 9-1A SMIL file displaying a JPEG image for five seconds, then playing a VOD stream to the end of the movie, followed by displaying a JPEG image without duration"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCEDCEJ" title="Listing 9-1A SMIL file displaying a JPEG image for five seconds, then playing a VOD stream to the end of the movie, followed by displaying a JPEG image without duration"></a><strong>Listing 9-1&nbsp;&nbsp;</strong>A SMIL file displaying a JPEG image for five seconds, then playing a VOD stream to the end of the movie, followed by displaying a JPEG image without duration</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="j_VOD_j" width="160" height="120" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;!--start with 160 x 120 jpeg from url, for duration of 5 secs--><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;img src="http://anyqtpartners.apple.com/ad/Images/image.jpg"<span></span></pre></td></tr><tr><td scope="row"><pre>                dur="5s"region="j_VOD_j"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;!--insert VOD movie, plays to end of movie--><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;video src="rtsp://anycoolqtsdemo.apple.com/ql41/codecs/sorenmodqt.mov"<span></span></pre></td></tr><tr><td scope="row"><pre>                region="j_VOD_j"/><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;!--then back to orig jpeg from url for duration of 5 seconds<span></span></pre></td></tr><tr><td scope="row"><pre>            (duration required for display)--><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;img src="http://anyqtpartners.apple.com/ad/Images/image.jpg"<span></span></pre></td></tr><tr><td scope="row"><pre>                region="j_VOD_j" dur="5s"/><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><p>Simple sequences are very easy to create. In the body of a SMIL document, you can explicitly state that this is a sequence by using the <code>&lt;seq></code> tag. If you don’t, the default will still be a sequence. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF131" title="A Sequence with HREF, Region and  Background Text"></a><h3>A Sequence with HREF, Region and  Background Text</h3><p>In the example in <span class="content_text"><a href="9-QuickTime%20and%20SMIL.html#//apple_ref/doc/uid/TP40000883-CH213-BBCJJAED">Listing 9-2</a></span>, a streamed video of known duration that is hyperlinked is displayed for its entire duration, followed by a live video stream. </p><p>In this more complex example, you specify a background color that defines a single region with a width and height. This one defines several regions and is more elaborate about the layout. It tells you that the overall presentation should be a certain size, the background color should be a certain value, and within the root layout you have several other regions which you use in playback. In this example, the playback is at 100 percent of the width and height. </p><p>The result is an iBook commercial that appears first via RTSP. If you click in the content region during its duration, you invoke the URL in a browser window, launching the browser if it is not already open. Once the iBook commercial is finished, it is followed by the Apple PowerMac G4 tanks commercial via RTSP.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_86" title="Listing 9-2A SMIL file displaying a streamed video of known duration, which is click- through enabled (hyperlinked), followed by a live video stream"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCJJAED" title="Listing 9-2A SMIL file displaying a streamed video of known duration, which is click- through enabled (hyperlinked), followed by a live video stream"></a><strong>Listing 9-2&nbsp;&nbsp;</strong>A SMIL file displaying a streamed video of known duration, which is click- through enabled (hyperlinked), followed by a live video stream</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil xmlns:qt="http://www.apple.com/quicktime/resources/smilextensions" qt:autoplay="true"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;head><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;layout><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;root-layout id="rl" width="250" height="250" background-color="green" /><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="vodAd" width="240" height="180" /><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;region id="vodmovie" width="100%" height="100%" fit="fill" /><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/layout><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/head><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;body><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;seq><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;a href="http://www.apple.com" show="new"><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;!-- VOD ad --><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;video src="rtsp://coolqtsdemo.apple.com/ads/vodibooklow.mov"<span></span></pre></td></tr><tr><td scope="row"><pre>                        region="vodAD" />&lt;/a><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;!-- to a VOD movie --><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;video src="rtsp://cool.apple.com/ads/vodtankslow.mov" region="vodmovie                                                        "/><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/seq><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/body><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/smil><span></span></pre></td></tr></table></div><p>It is possible to extend these examples and introduce more elaborate spatial and temporal layouts, so that you can make more than one thing happen at a time. You can have sequences within hierarchies, for example. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCHHCID" title="QuickTime SMIL Extensions in Detail "></a><h2>QuickTime SMIL Extensions in Detail </h2><p>This section discusses in greater detail the extensions to SMIL that are implemented as part of the SMIL support provided in QuickTime . As an XML markup language, SMIL describes the XML namespace under which the extensions are grouped; it also describes the extensions themselves––grouped according to the SMIL elements they may be used in conjunction with––their syntax, and example usage. </p><p>The QuickTime SMIL extensions allow an author to optionally specify richer behaviors that are supported by QuickTime but do not have an SMIL equivalent; they also give the author tighter control over the behavior of the playback of SMIL presentations across bandwidth-constrained network connections.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF132" title="Namespace Specification"></a><h3>Namespace Specification</h3><p>These extensions to SMIL are described in a separate namespace from SMIL and must be referenced explicitly by any SMIL document that wants to take advantage of them. The namespace URL is <code>&lt;http://www.apple.com/quicktime/resources/smilextensions></code>. The syntax for referencing the namespace is:</p><div class="codesample"><table><tr><td scope="row"><pre>        xmlns:nsprefix=" http://www.apple.com/quicktime/resources smilextensions "<span></span></pre></td></tr></table></div><p>which must be used as an attribute to any SMIL element. Nsprefix (the selected namespace prefix) may be any character string which conforms to the requirements for an XML name. Once the namespace has been referenced by a SMIL element, that element itself or any elements within it may legally use the names defined in the namespace, and the usage is as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>        nsprefix:qt_attribute=attribute_value<span></span></pre></td></tr></table></div><p>In general, it is simplest to place the <code>xmlns</code> reference as the first attribute in the root <code>&lt;smil></code> element. It is also suggested, as a convention, that the namespace prefix for the QuickTime SMIL Extensions be <code>‘qt’</code>, though this isn’t required for correct operation; all subsequent examples in this section assume this is so.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF133" title="SMIL Root Element Attributes"></a><h3>SMIL Root Element Attributes</h3><p>The QuickTime SMIL extensions define the following additional attributes for the <code>&lt;smil></code> element:</p><ul class="spaceabove"><li class="li"><p>autoplay: Specifies whether the resulting presentation should automatically start playback upon instantiation. Legal values are either <code>"true"</code> or <code>"false,"</code> and the default is <code>"false."</code> Common usage is:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;smil qt:autoplay="true"/><span></span></pre></td></tr></table></div></li><li class="li"><p>next: Specifies to the player that after this presentation is finished, the presentation referenced in the attribute value should be invoked and played in the same space. Used to chain presentations together. A valid attribute value is any URL. This capability is equivalent to the QuickTime browser plug-in’s “qtnext” attribute. Common usage is:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;smil qt:next="nextpresentation.smi"/><span></span></pre></td></tr></table></div></li><li class="li"><p>time-slider: Specifies whether a time line should be displayed as part of the user interface. Because by default the QuickTime playback engine dynamically loads media objects as required, the duration of the overall media presentation can change as a movie is played or navigated. When the duration changes, the time line will change to reflect that. This can be unnecessarily confusing to the user. Therefore, by default, QuickTime movies created from a SMIL document do not display a time line as part of their user interface. This behavior can be overriden using the “time-slider” attribute. Common usage is:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;smil qt:time-slider="true"/><span></span></pre></td></tr></table></div></li><li class="li"><p>immediate-instantiation: Specifies whether the media objects within the presentation should be instantiated immediately, i.e., at the same time the presentation itself is instantiated, or whether instantiation should be deferred until the element is ready to be played back. Legal values are either <code>"true"</code> or <code>"false,"</code> and the default is <code>"false."</code>  The value of this attribute may be overridden on a media-object basis by using it as an attribute to individual media-object elements, as described below. Because this attribute causes all media objects to be instantiated, it can take considerable time and memory for a complex presentation or one being loaded over a slow network connection. Therefore, it is recommended that it only be used on small media objects. Common usage is:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;smil qt:immediate-instantiation="true"/><span></span></pre></td></tr></table></div></li><li class="li"><p>chapter-mode: Specifies to the player, both QuickTime Player and the Movie Controller, the way in which chapters should be used in the user interface when a time line is part of the interface. The chapter-mode attribute can have a value of “all” or “clip”. If the attribute is not present, the default value is “all”. If the chapter-mode attribute is “all”, then the player displays the time line of the entire duration of the presentation. Each chapter represents a point along that time line. If the chapter-mode attribute is set to “clip”, then the time line no longer represents the entire duration of presentation. Instead, it represents the duration of the current chapter. The “clip” behavior is useful for long presentations where the granularity of the timeline may be unacceptably low. It is also useful for network-based presentations, particularly those using streaming media, where the actual duration of a clip isn’t known until it has started to play. By using the “clip” value of the chapter-mode, the user will not be exposed to the duration changes of the presentation caused by the loading of media as the presentation is played or navigated. Common usage is:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;smil qt:chapter-mode="clip"/><span></span></pre></td></tr></table></div></li></ul><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF134" title="Media Object Attributes"></a><h3>Media Object Attributes</h3><ul class="spaceabove"><li class="li"><p>composite-mode: Specifies how to composite a visual media element with other visual media elements behind it. Its value is a combination of a text string identifying the mode and an optional semicolon and second parameter, which will vary depending on the mode itself. The composite-mode SMIL attribute is equivalent to the graphics mode property of a Movie’s Media. Possible modes are:</p><ul class="nested"><li class="nested li"><p>copy, none, direct: Specifies a direct copy. The default composite mode for most image formats.</p></li><li class="nested li"><p>blend;percent : Specifies a weighted blend between the image and the background, with a required percent integer value (i.e., “50%”) specifying the blend weight. 0% means complete transparency, 100% complete opacity.</p></li><li class="nested li"><p>transparent-color;color: Specifies that all pixels of a particular color within the image should be treated as transparent, similar to transparency in GIF files [GIF89]. It accepts a second parameter, color, which specifies the color to be rendered as transparent. The color parameter may be any valid color specification supported by Cascading Style Sheets Level 2 4.</p></li><li class="nested li"><p>alpha, straight-alpha, premultiplied-white-alpha, premultiplied-black-alpha: Specify that the image has an internal alpha channel which should be used when compositing. <code>Alpha</code> and <code>straight-alpha</code> refer to a separate alpha component; the <code>premultiplied</code> modes refer to an image which has been premultiplied with the alpha against a white or black background, respectively.</p></li><li class="nested li"><p>straight-alpha-blend: Specifies that the image has an internal alpha channel as a separate component, and that when compositing the alpha weight should also be multiplied by a percentage blend value, which is specified by a second parameter, similar to the second parameter in blend mode. </p></li></ul></li></ul><p>Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;imgsrc="test.png"qt:composite-mode="alpha"/><span></span></pre></td></tr></table></div><ul class="spaceabove"><li class="li"><p>immediate-instantiation: Performs the same function as the identically named attribute for the <code>&lt;smil></code> root element, though affecting only this particular media object instead of the entire presentation. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;imgsrc="bkgimage.png"qt:immediate-instantiation="true"/><span></span></pre></td></tr></table></div></li><li class="li"><p>bitrate: Specifies the bitrate at which a media object would need to be transmitted in order to play back in real time. It is used in conjunction with <code>immediate-instantiation</code>, in order to give QuickTime enough information to decide how far in advance it should attempt to read a delayed-instantiation media object in order to provide seamless playback. Possible values  are positive integers, in units of bits-per-second. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;videosrc="stream56k.mov"qt:bitrate="56000"qt:immediate-instantiation="true"/><span></span></pre></td></tr></table></div></li><li class="li"><p>system-mime-type-supported: Specifies to the player the MIME type that needs to be supported in order to be able to play back this particular media-object. Though similar, at first blush, to the type attribute, this is intended to be used in conjunction with the switch element in SMIL, in a similar fashion as the other system attributes, such as system bitrate and system screen definitions. Possible values are character strings matching a valid MIME type. Example usage is:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;switch><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;imgsrc="qt.mov"qt:system-mime-type-supported="video/quicktime"/><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;imgsrc="someotherformat.suffix"qt:system-mime-type-supported= "some-other/format’s-mime-type"/><span></span></pre></td></tr></table></div></li><li class="li"><p>attach-timebase: Defaults to "true", which slaves the timebase of the child movie to the parent’s. This means that play/pause controls will control the child movie as well as the parent. Setting it to <code>"false"</code> unlinks the timebase, which is useful for interactivity operations, especially when using the SMIL <code>&lt;par></code> tag. Note that when doing this, you need to provide some other way to control the child movie, presumably through the use of actions. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;imgsrc="movie2.mov" qt:attach-timebase="true"/><span></span></pre></td></tr></table></div></li><li class="li"><p>chapter: Specifies to the player a chapter name to attach to this particular media object, which then may be used by the player to provide a higher-level navigation UI than a simple linear control. Valid values are any character string, and example usage is:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;imgsrc="movie1.mov"qt:chapter="chap1"/><span></span></pre></td></tr></table></div></li></ul><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF135" title="Anchor-Tag and A-Tag Attributes"></a><h3>Anchor-Tag and A-Tag Attributes</h3><ul class="spaceabove"><li class="li"><p>target: Specifies where the presentation specified by the <code>href</code> attribute in the anchor tag will play; possible values are any values legal in the QuickTime Plug-in’s <code>qtnext</code> attribute. The target attribute can also be used to specify that a media object should be opened in the QuickTime Player, a new browser window, a QuickTime Player window, or a particular frame in the browser. Example usage:</p><div class="codesample"><table><tr><td scope="row"><pre>    &lt;ahref="destination.mov"target="quicktimeplayer"><span></span></pre></td></tr></table></div></li></ul><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF136" title="Movie Media Track"></a><h3>Movie Media Track</h3><p>The SMIL importer creates a movie media track for each media element in the SMIL composition. This is done primarily to accommodate the potentially unknown spatial layout of each element. Because a track can only have one location and size, if multiple media elements were combined in a single track the track would need to be resized and moved at runtime with much greater frequency than if each element is in its own track.</p><p>The SMIL importer always creates a single video track which uses a solid color fill based on the background color specified in the SMIL document. This track exists for the entire duration of the SMIL composition, though it may or may not be visible depending on the overall layout.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF137" title="Movie Media Track Usage"></a><h4>Movie Media Track Usage</h4><p>Because SMIL can refer to content indirectly and because access to media is avoided until as late as possible before displaying it––in order to preserve meaningful hit counts––the specific types of content a SMIL document references may not be known at import time. </p><p>To handle this situation, QuickTime creates a generalized type of track that can play any type of content that QuickTime can import into a movie. Using this new type of track––called a movie track––the SMIL importer doesn’t have to “know” the type of the content a SMIL document references. It simply creates a movie track for each piece of content, and the movie track makes use of QuickTime’s extensive import facilities at the time the content is played. This new type of track is implemented by the Movie Media Handler.</p><p>Movie media is used to encapsulate embedded movies within QuickTime movies. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCJJACC" title="Movie Media Handler"></a><h2>Movie Media Handler</h2><p>This section describes the features of the Movie Media handler available in QuickTime. </p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF138" title="Movie Sample Description"></a><h3>Movie Sample Description</h3><p>The movie media doesn’t have a unique sample description. It uses the minimum sample description, which is <code>SampleDescriptionRecord</code>.</p><a name="//apple_ref/doc/uid/TP40000883-CH213-TPXREF139" title="Movie Media Sample Format"></a><h3>Movie Media Sample Format</h3><p>Each sample in the movie media is a QuickTime atom container. All root level atoms and their contents are enumerated in the following list. Note that the contents of all atoms are stored in big-endian format.</p><dl class="termdef">	<dt><code>kMovieMediaDataReference</code></dt><dd><p>This atom contains a data reference type and a data reference. The data reference type is stored as an <code>OSType</code> at the start of the atom. The data reference is stored following the data reference type. If the data reference type is URL and the data reference is for a movie on the Apple website, the contents of the atom would be: <code>url http://www.apple.com/foo.mov</code>.</p><p>There may be more than one atom of this type. The first atom of this type should have an atom ID of 1. Additional data references should be numbered sequentially.</p></dd><dt><code>kMovieMediaDefaultDataReferenceID</code></dt><dd><p>This atom contains a <code>QTAtomID</code> that indicates the ID of the data reference to use when instantiating the embedded movie for this sample. If this atom is not present, the data reference with an ID of 1 is used.</p></dd><dt><code>kMovieMediaSlaveTime</code></dt><dd><p>This atom contains a Boolean that indicates whether or not the <code>TimeBase</code> of the embedded movie should be slaved to the <code>TimeBase</code> of the parent movie. If the <code>TimeBase</code> is slaved, the embedded movie’s zero time will correspond to the start time of its movie media sample. Further, the playback rate of the embedded movie will always be the same as the parent movie’s. If the <code>TimeBase</code> is not slaved, the embedded movie will default to a rate of 0, and a default time of whatever default time value it instantiated with (which may not be 0). If the <code>TimeBase</code> is not slaved, the embedded movie can be played by either including an <code>AutoPlay</code> atom in the movie media sample or by using a wired action. If this atom is not present, the embedded movie defaults to not slaved.</p></dd><dt><code>kMovieMediaSlaveAudio</code></dt><dd><p>This atom contains a Boolean that indicates whether or not the audio properties of the embedded movie should be slaved to those of the parent movie. When audio is slaved, all audio properties of the containing track are duplicated in the embedded movie. These properties include sound volume, balance, bass and treble, and level metering. If this atom is not present, the embedded movie defaults to not slaved audio.</p></dd><dt><code>kMovieMediaSlaveGraphicsMode</code></dt><dd><p>This atom contains a Boolean that indicates how the graphics mode of the containing track is applied to the embedded movie. If the graphics mode is not slaved, then the entire embedded movie is imaged using its own graphics modes. The result of the drawing of the embedded movie is composited onto the containing movie using the graphics mode of the containing track. If the graphics mode is slaved, then the graphics mode of each track in the embedded movie is ignored and instead the graphics mode of the containing track is used. In this case, the tracks of the embedded movie composite their drawing directly into the parent movie’s contents. If this atom is not present, the graphics mode defaults to not slaved. Graphics mode slaving is useful for compositing semi-transparent media––for example, a PNG with an alpha channel––on top of other media.</p></dd><dt><code>kMovieMediaSlaveTrackDuration</code></dt><dd><p>This atom contains a Boolean that indicates how the Movie Media Handler should react when the duration of the embedded movie is different than the duration of the movie media sample that it is contained by. When the movie media sample is created, the duration of the embedded movie may not yet be known. Therefore, the duration of the media sample may not be correct. In this case, the Movie Media Handler can do one of two things. If this atom is not present or it contains a value of false, the Movie Media Handler will respect the duration of media sample that contains the embedded movie. If the embedded movie has a longer duration than the movie media sample, the embedded movie will be truncated to the duration of the containing movie media sample. If the embedded movie is shorter, there will be a gap after it is finished playing. If this atom contains a value of true, the duration of the movie media sample will be adjusted to match the actual duration of the embedded movie. Because it is not possible to change an existing media sample, this will cause a new media sample to be added to the movie and the track’s edit list to be updated to reference the new sample instead of the original sample.</p><div class="noteboxdef"><a name="//apple_ref/doc/uid/TP40000883-CH213-DontLinkElementID_87" title="Note"></a><p><strong>Note:</strong>&nbsp;When the duration of the embedded movie’s sample is adjusted, by default no other tracks are adjusted. This can cause the overall temporal composition to change in unintended ways. To maintain the complete temporal composition, a higher-level data structure which describes the temporal relationships between the various tracks must also be included with the movie. </p></p></div></dd></dl><dl class="termdef">	<dt><code>kMovieMediaAutoPlay</code></dt><dd><p>This atom contains a Boolean that indicates whether or not the embedded movie should start playing immediately after being instantiated. This atom is only used if the <code>TimeBase</code> of the embedded movie is not slaved to the parent movie (see the <code>kMovieMediaSlaveTime</code> atom for more information). If auto play is requested, the movie will be played at its preferred rate after being instantiated. If this atom is not present, the embedded movie will not automatically play.</p></dd><dt><code>kMovieMediaLoop</code></dt><dd><p>This atom contains a <code>UInt8</code> that indicates how the embedded movie should loop. This atom is only used if the <code>TimeBase</code> of the embedded movie is not slaved to the parent movie (see the <code>kMovieMediaSlaveTime</code> atom for more information). If this atom contains a 0, or if this atom is not present, the embedded movie will not loop. If this atom contains a value of 1, the embedded movie loops normally––that is, when it reaches the end it loops back to the beginning. If this atom contains a value of 2, the embedded movie uses palindromic looping. All other values are reserved.</p></dd><dt><code>kMovieMediaUseMIMEType</code></dt><dd><p>This atom contains text (not a C string or a pascal string) that indicates the MIME type of the movie import component that should be used to instantiate this media. This is useful in cases where the data reference may not contain MIME type information. If this atom is not present, the MIME type of the data reference as determined at instantiation time is used. This atom is intended to allow content creators a method for working around MIME type binding problems. It should not typically be required, and should not be included in movie media samples by default.</p></dd><dt><code>kMovieMediaTitle</code></dt><dd><p>Currently unused. It would contain text indicating the name of the embedded movie.</p></dd><dt><code>kMovieMediaAltText</code></dt><dd><p>This atom contains text (not a C string or a pascal string) that is displayed to the user when the embedded movie is being instantiated or if the embedded movie cannot be instantiated. If this atom is not present, the name of the data reference (typically the file name) is used.</p></dd><dt><code>kMovieMediaClipBegin</code></dt><dd><p>This atom contains a <code>MovieMediaTimeRecord</code> that indicates the time of the embedded movie that should be used. The clip begin atom provides a way to specify that a portion of the beginning of the embedded movie should not be used. If this atom is not present, the beginning of the embedded movie is not changed. Note that this atom does not change the time at which the embedded movie begins playing in the parent movie’s time line. If the time specified in the clip begin atom is greater than the duration of the embedded movie, then the embedded movie will not play at all.</p><div class="codesample"><table><tr><td scope="row"><pre>                    struct MovieMediaTimeRecord {<span></span></pre></td></tr><tr><td scope="row"><pre>                            wide            time;<span></span></pre></td></tr><tr><td scope="row"><pre>                            TimeScale       scale;<span></span></pre></td></tr><tr><td scope="row"><pre>                        };<span></span></pre></td></tr></table></div></dd><dt><code>kMovieMediaClipDuration</code></dt><dd><p>This atom contains a <code>MovieMediaTimeRecord</code> that indicates the duration of the embedded movie that should be used. The clip duration atom is applied by removing media from end of the embedded movie. If the clip duration atom is not present, then no media is removed from the end of the embedded movie. In situations where the sample contains both a clip duration and a clip begin atom, the clip begin is applied first. If the clip duration specifies a value that is larger than the duration of the embedded movie, no change is made to the embedded movie.</p></dd><dt><code>kMovieMediaEnableFrameStepping</code></dt><dd><p>This atom contains a Boolean that indicates whether or not the embedded movie should be considered when performing step operations, specifically using the interesting time calls with the <code>nextTimeStep</code> flag. If this atom is not present or is set to <code>false</code>, the embedded movie is not included in step calculations. If the atom is set to <code>true</code>, it is included in step calculations.</p></dd><dt><code>kMovieMediaBackgroundColor</code></dt><dd><p>This atom contains an <code>RGBColor</code> that is used for filling the background when the movie is being instantiated or when it fails to instantiate.</p></dd><dt><code>kMovieMediaRegionAtom</code></dt><dd><p>This atom contains a number of child atoms, shown below, which describe how the Movie Media Handler should resize the embedded movie. If this atom is not present, the movie media handler resizes the child movie to completely fill the containing track’s box.</p><p><code>kMovieMediaSpatialAdjustment</code></p><p>This atom contains an <code>OSType</code> that indicates how the embedded movie should be scaled to fit the track box. If this atom is not present, the default value is <code>kMovieMediaFitFill</code>. These modes are all based on SMIL layout options.</p><p><code>kMovieMediaFitClipIfNecessary</code></p><p>If the media is larger than the track box, it will be clipped; if it is smaller, any additional area will be transparent.</p><p><code>kMovieMediaFitFill</code></p><p>The media will be scaled to completely fill the track box.</p><p><code>kMovieMediaFitMeet</code></p><p>The media is proportionally scaled so that it is entirely visible in the track box and fills the largest area possible without changing the aspect ratio.</p><p><code>kMovieMediaFitSlice</code></p><p>The media is scaled proportionally so that the smaller dimension is completely visible.</p><p><code>kMovieMediaFitScroll</code></p><p>Not currently implemented. It currently has the same behavior as <code>kMovieMediaFitClipIfNecessary</code>. When implemented, it will have the behavior described in the SMIL specification for a scrolling layout element.</p></dd><dt><code>kMovieMediaRectangleAtom</code></dt><dd><p>This atom contains four child atoms that define a rectangle. Not all child atoms must be present: top and left must both appear together, width and height must both appear together. The dimensions contained in this rectangle are used in place of the track box when applying the contents of the spatial adjustment atom. If the top and left are not specified, the top and left of the containing track’s box are used. If the width and height are not specified, the width and height of the containing track’s box are used. Each child atom contains a <code>UInt32</code>.</p><p><code>kMovieMediaTop kMovieMediaLeft kMovieMediaWidth kMovieMediaHeight</code></p></dd></dl><a name="//apple_ref/doc/uid/TP40000883-CH213-BBCBEIII" title="References"></a><h2>References</h2><p>These are some of the documents that are useful sources of information about SMIL. </p><ul class="ul"><li class="li"><p>Synchronized Multimedia Integration Language (SMIL) 1.0 Specification, P. Hoschka, 15 June 1998. Available at <code>&lt;http://www.w3.org/TR/1998/REC-smil-19980615></code>.)</p></li><li class="li"><p>Extensible Markup Language (XML) 1.0, T. Bray, J. Paoli and C.M. Sperberg-McQueen, 10 February 1998. Available at <code>&lt;http://www.w3.org/TR/1998/REC-xml-19980210></code>.</p></li><li class="li"><p>Namespaces in XML, T. Bray, D. Hollander and A. Layman, 14 January 1999. Available at <code>&lt;http://www.w3.org/TR/REC-xml-names></code>.</p></li><li class="li"><p>Cascading Style Sheets, Level 2, T. Bray, D. Hollander and A. Layman, 14 January 1999. Available at <code>&lt;http://www.w3.org/TR/REC-xml-names></code>.</p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../quicktimeatoms/8-QuickTime-Atoms.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../samplecodeappendix/Appendix-A-sample-code.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2002 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2002-10-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/IQ_InteractiveMovies/quicktimeandsmil/9-QuickTime and SMIL.html%3Fid%3DTP40000883-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/IQ_InteractiveMovies/quicktimeandsmil/9-QuickTime and SMIL.html%3Fid%3DTP40000883-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/IQ_InteractiveMovies/quicktimeandsmil/9-QuickTime and SMIL.html%3Fid%3DTP40000883-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>