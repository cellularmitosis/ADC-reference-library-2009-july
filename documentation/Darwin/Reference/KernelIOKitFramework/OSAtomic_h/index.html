<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>OSAtomic.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=ascii">
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../reference/Darwin/index.html#//apple_ref/doc/uid/TP30001281-TP30000422" target="_top">Darwin</a> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/kernel_fw_leo" target="_top">Kernel Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&#160;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<a name="//apple_ref/doc/header/OSAtomic.h" title="OSAtomic.h"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="OSAtomic.h">OSAtomic.h</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Includes:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text">
<!-- a -->&lt;libkern/OSBase.h&gt;<!-- /a -->
</div></div></td>
</tr></table></div>
<h2>Overview</h2>
<!-- begin discussion --><p>This header contains a collection of atomic functions that guarantee atomicity <i>only</i> with main system memory.
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/c/func/OSAddAtomic" target="_top">OSAddAtomic</a></tt></dt>
<dd><p>32-bit add operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSAddAtomic16" target="_top">OSAddAtomic16</a></tt></dt>
<dd><p>16-bit add operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSAddAtomic64" target="_top">OSAddAtomic64</a></tt></dt>
<dd><p>64-bit atomic add operation.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSAddAtomic8" target="_top">OSAddAtomic8</a></tt></dt>
<dd><p>8-bit add operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitAndAtomic" target="_top">OSBitAndAtomic</a></tt></dt>
<dd><p>32-bit logical and operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitAndAtomic16" target="_top">OSBitAndAtomic16</a></tt></dt>
<dd><p>16-bit logical and operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitAndAtomic8" target="_top">OSBitAndAtomic8</a></tt></dt>
<dd><p>8-bit logical and operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitOrAtomic" target="_top">OSBitOrAtomic</a></tt></dt>
<dd><p>32-bit logical or operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitOrAtomic16" target="_top">OSBitOrAtomic16</a></tt></dt>
<dd><p>16-bit logical or operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitOrAtomic8" target="_top">OSBitOrAtomic8</a></tt></dt>
<dd>
<p>8-bit logical or operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
</p>
</dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitXorAtomic" target="_top">OSBitXorAtomic</a></tt></dt>
<dd>
<p>32-bit logical xor operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
</p>
</dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitXorAtomic16" target="_top">OSBitXorAtomic16</a></tt></dt>
<dd><p>16-bit logical xor operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSBitXorAtomic8" target="_top">OSBitXorAtomic8</a></tt></dt>
<dd>
<p>8-bit logical xor operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
</p>
</dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSCompareAndSwap" target="_top">OSCompareAndSwap</a></tt></dt>
<dd><p>Compare and swap operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSCompareAndSwap64" target="_top">OSCompareAndSwap64</a></tt></dt>
<dd><p>64-bit compare and swap operation.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSDecrementAtomic" target="_top">OSDecrementAtomic</a></tt></dt>
<dd><p>32-bit decrement operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSDecrementAtomic16" target="_top">OSDecrementAtomic16</a></tt></dt>
<dd><p>16-bit decrement operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSDecrementAtomic64" target="_top">OSDecrementAtomic64</a></tt></dt>
<dd><p>64-bit decrement.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSDecrementAtomic8" target="_top">OSDecrementAtomic8</a></tt></dt>
<dd><p>8-bit decrement operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSDequeueAtomic" target="_top">OSDequeueAtomic</a></tt></dt>
<dd><p>Singly linked list element head removal, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSEnqueueAtomic" target="_top">OSEnqueueAtomic</a></tt></dt>
<dd><p>Singly linked list head insertion, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSIncrementAtomic" target="_top">OSIncrementAtomic</a></tt></dt>
<dd><p>32-bit increment operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSIncrementAtomic16" target="_top">OSIncrementAtomic16</a></tt></dt>
<dd><p>16-bit increment operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSIncrementAtomic64" target="_top">OSIncrementAtomic64</a></tt></dt>
<dd><p>64-bit increment.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSIncrementAtomic8" target="_top">OSIncrementAtomic8</a></tt></dt>
<dd><p>8-bit increment operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSSynchronizeIO" target="_top">OSSynchronizeIO</a></tt></dt>
<dd><p>Ensures orderly load and store operations to noncached memory mapped I/O devices.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSTestAndClear" target="_top">OSTestAndClear</a></tt></dt>
<dd><p>Bit test and clear operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/c/func/OSTestAndSet" target="_top">OSTestAndSet</a></tt></dt>
<dd>
<p>Bit test and set operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
</p>
</dd>
</dl>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSAddAtomic;  indexgroup=libkern ;   name=OSAddAtomic --><a name="//apple_ref/c/func/OSAddAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSAddAtomic">OSAddAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>32-bit add operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt32</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSAddAtomic" target="_top" class="function"><span class="function">OSAddAtomic</span></a>(
    <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="param">amount</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>amount</code></dt>
<dd><p>The amount to add.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 4-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the addition 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSAddAtomic function adds the specified amount to the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSAddAtomic16;  indexgroup=libkern ;   name=OSAddAtomic16 --><a name="//apple_ref/c/func/OSAddAtomic16"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSAddAtomic16">OSAddAtomic16</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>16-bit add operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt16</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSAddAtomic16" target="_top" class="function"><span class="function">OSAddAtomic16</span></a>(
    <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="param">amount</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt16</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>amount</code></dt>
<dd><p>The amount to add.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 2-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the addition 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSAddAtomic16 function adds the specified amount to the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSAddAtomic64;  indexgroup=libkern ;   name=OSAddAtomic64 --><a name="//apple_ref/c/func/OSAddAtomic64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSAddAtomic64">OSAddAtomic64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>64-bit atomic add operation.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt64</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSAddAtomic64" target="_top" class="function"><span class="function">OSAddAtomic64</span></a>(
    <!-- a --><span class="type">SInt64</span><!-- /a --> <span class="param">theAmount</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt64</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>See OSAddAtomic.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSAddAtomic8;  indexgroup=libkern ;   name=OSAddAtomic8 --><a name="//apple_ref/c/func/OSAddAtomic8"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSAddAtomic8">OSAddAtomic8</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>8-bit add operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt8</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSAddAtomic8" target="_top" class="function"><span class="function">OSAddAtomic8</span></a>(
    <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="param">amount</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt8</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>amount</code></dt>
<dd><p>The amount to add.</p></dd>
<dt><code>address</code></dt>
<dd><p>The address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the addition 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSAddAtomic8 function adds the specified amount to the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitAndAtomic;  indexgroup=libkern ;   name=OSBitAndAtomic --><a name="//apple_ref/c/func/OSBitAndAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitAndAtomic">OSBitAndAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>32-bit logical and operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitAndAtomic" target="_top" class="function"><span class="function">OSBitAndAtomic</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically and with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 4-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitAndAtomic function logically ands the bits of the specified mask into the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitAndAtomic16;  indexgroup=libkern ;   name=OSBitAndAtomic16 --><a name="//apple_ref/c/func/OSBitAndAtomic16"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitAndAtomic16">OSBitAndAtomic16</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>16-bit logical and operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt16</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitAndAtomic16" target="_top" class="function"><span class="function">OSBitAndAtomic16</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt16</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically and with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 2-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitAndAtomic16 function logically ands the bits of the specified mask into the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitAndAtomic8;  indexgroup=libkern ;   name=OSBitAndAtomic8 --><a name="//apple_ref/c/func/OSBitAndAtomic8"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitAndAtomic8">OSBitAndAtomic8</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>8-bit logical and operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitAndAtomic8" target="_top" class="function"><span class="function">OSBitAndAtomic8</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically and with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitAndAtomic8 function logically ands the bits of the specified mask into the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitOrAtomic;  indexgroup=libkern ;   name=OSBitOrAtomic --><a name="//apple_ref/c/func/OSBitOrAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitOrAtomic">OSBitOrAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>32-bit logical or operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitOrAtomic" target="_top" class="function"><span class="function">OSBitOrAtomic</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically or with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 4-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitOrAtomic function logically ors the bits of the specified mask into the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitOrAtomic16;  indexgroup=libkern ;   name=OSBitOrAtomic16 --><a name="//apple_ref/c/func/OSBitOrAtomic16"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitOrAtomic16">OSBitOrAtomic16</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>16-bit logical or operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt16</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitOrAtomic16" target="_top" class="function"><span class="function">OSBitOrAtomic16</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt16</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically or with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 2-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitOrAtomic16 function logically ors the bits of the specified mask into the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitOrAtomic8;  indexgroup=libkern ;   name=OSBitOrAtomic8 --><a name="//apple_ref/c/func/OSBitOrAtomic8"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitOrAtomic8">OSBitOrAtomic8</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>8-bit logical or operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitOrAtomic8" target="_top" class="function"><span class="function">OSBitOrAtomic8</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically or with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitOrAtomic8 function logically ors the bits of the specified mask into the value at the specified address and returns the original value.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitXorAtomic;  indexgroup=libkern ;   name=OSBitXorAtomic --><a name="//apple_ref/c/func/OSBitXorAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitXorAtomic">OSBitXorAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>32-bit logical xor operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitXorAtomic" target="_top" class="function"><span class="function">OSBitXorAtomic</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically or with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 4-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitXorAtomic function logically xors the bits of the specified mask into the value at the specified address and returns the original value.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitXorAtomic16;  indexgroup=libkern ;   name=OSBitXorAtomic16 --><a name="//apple_ref/c/func/OSBitXorAtomic16"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitXorAtomic16">OSBitXorAtomic16</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>16-bit logical xor operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt16</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitXorAtomic16" target="_top" class="function"><span class="function">OSBitXorAtomic16</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt16</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically or with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 2-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitXorAtomic16 function logically xors the bits of the specified mask into the value at the specified address and returns the original value.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSBitXorAtomic8;  indexgroup=libkern ;   name=OSBitXorAtomic8 --><a name="//apple_ref/c/func/OSBitXorAtomic8"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSBitXorAtomic8">OSBitXorAtomic8</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>8-bit logical xor operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSBitXorAtomic8" target="_top" class="function"><span class="function">OSBitXorAtomic8</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">mask</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>mask</code></dt>
<dd><p>The mask to logically or with the value.</p></dd>
<dt><code>address</code></dt>
<dd><p>The address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the bitwise operation. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSBitXorAtomic8 function logically xors the bits of the specified mask into the value at the specified address and returns the original value.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSCompareAndSwap;  indexgroup=libkern ;   name=OSCompareAndSwap --><a name="//apple_ref/c/func/OSCompareAndSwap"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSCompareAndSwap">OSCompareAndSwap</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Compare and swap operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">Boolean</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSCompareAndSwap" target="_top" class="function"><span class="function">OSCompareAndSwap</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">oldValue</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">newValue</span>, 
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>oldValue</code></dt>
<dd><p>The value to compare at address.</p></dd>
<dt><code>newValue</code></dt>
<dd><p>The value to write to address if oldValue compares true.</p></dd>
<dt><code>address</code></dt>
<dd><p>The 4-byte aligned address of the data to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->true if newValue was written to the address. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSCompareAndSwap function compares the value at the specified address with oldVal. The value of newValue is written to the address only if oldValue and the value at the address are equal. OSCompareAndSwap returns true if newValue is written to the address; otherwise, it returns false.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSCompareAndSwap64;  indexgroup=libkern ;   name=OSCompareAndSwap64 --><a name="//apple_ref/c/func/OSCompareAndSwap64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSCompareAndSwap64">OSCompareAndSwap64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>64-bit compare and swap operation.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">Boolean</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSCompareAndSwap64" target="_top" class="function"><span class="function">OSCompareAndSwap64</span></a>(
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">oldValue</span>,
    <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="param">newValue</span>, 
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt64</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>See OSCompareAndSwap.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSDecrementAtomic;  indexgroup=libkern ;   name=OSDecrementAtomic --><a name="//apple_ref/c/func/OSDecrementAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSDecrementAtomic">OSDecrementAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>32-bit decrement operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt32</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSDecrementAtomic" target="_top" class="function"><span class="function">OSDecrementAtomic</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>address</code></dt>
<dd><p>The 4-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the decrement. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSDecrementAtomic function decrements the value at the specified address by one and returns the original value. 
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSDecrementAtomic16;  indexgroup=libkern ;   name=OSDecrementAtomic16 --><a name="//apple_ref/c/func/OSDecrementAtomic16"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSDecrementAtomic16">OSDecrementAtomic16</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>16-bit decrement operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt16</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSDecrementAtomic16" target="_top" class="function"><span class="function">OSDecrementAtomic16</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt16</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>address</code></dt>
<dd><p>The 2-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the decrement. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSDecrementAtomic16 function decrements the value at the specified address by one and returns the original value. 
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSDecrementAtomic64;  indexgroup=libkern ;   name=OSDecrementAtomic64 --><a name="//apple_ref/c/func/OSDecrementAtomic64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSDecrementAtomic64">OSDecrementAtomic64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>64-bit decrement.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">inline</span> <span class="keyword">static</span> <!-- a --><span class="type">SInt64</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSDecrementAtomic64" target="_top" class="function"><span class="function">OSDecrementAtomic64</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt64</span><!-- /a --> <span class="type">*</span><span class="param">address</span>) </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>See OSDecrementAtomic.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSDecrementAtomic8;  indexgroup=libkern ;   name=OSDecrementAtomic8 --><a name="//apple_ref/c/func/OSDecrementAtomic8"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSDecrementAtomic8">OSDecrementAtomic8</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>8-bit decrement operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt8</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSDecrementAtomic8" target="_top" class="function"><span class="function">OSDecrementAtomic8</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt8</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>address</code></dt>
<dd><p>The address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the decrement. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSDecrementAtomic8 function decrements the value at the specified address by one and returns the original value. 
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSDequeueAtomic;  indexgroup=libkern ;   name=OSDequeueAtomic --><a name="//apple_ref/c/func/OSDequeueAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSDequeueAtomic">OSDequeueAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Singly linked list element head removal, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span> <a href="index.html#//apple_ref/c/func/OSDequeueAtomic" target="_top" class="function"><span class="function">OSDequeueAtomic</span></a>(
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="keyword">volatile</span> <span class="type">*</span> <span class="param">listHead</span>, 
    <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="param">elementNextFieldOffset</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>listHead</code></dt>
<dd><p>The address of a head pointer for the list .</p></dd>
<dt><code>elementNextFieldOffset</code></dt>
<dd><p>The byte offset into the element where a pointer to the next element in the list is stored.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->A removed element, or zero if the list is empty. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSDequeueAtomic function removes an element from the head of a singly linked list, which is specified with the address of a head pointer, listHead. The element structure has a next field whose offset is specified.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSEnqueueAtomic;  indexgroup=libkern ;   name=OSEnqueueAtomic --><a name="//apple_ref/c/func/OSEnqueueAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSEnqueueAtomic">OSEnqueueAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Singly linked list head insertion, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/OSEnqueueAtomic" target="_top" class="function"><span class="function">OSEnqueueAtomic</span></a>(
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="keyword">volatile</span> <span class="type">*</span> <span class="param">listHead</span>,
    <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">element</span>, 
    <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="param">elementNextFieldOffset</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>listHead</code></dt>
<dd><p>The address of a head pointer for the list .</p></dd>
<dt><code>element</code></dt>
<dd><p>The list element to insert at the head of the list.</p></dd>
<dt><code>elementNextFieldOffset</code></dt>
<dd><p>The byte offset into the element where a pointer to the next element in the list is stored.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSEnqueueAtomic function places an element at the head of a single linked list, which is specified with the address of a head pointer, listHead. The element structure has a next field whose offset is specified.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSIncrementAtomic;  indexgroup=libkern ;   name=OSIncrementAtomic --><a name="//apple_ref/c/func/OSIncrementAtomic"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSIncrementAtomic">OSIncrementAtomic</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>32-bit increment operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt32</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSIncrementAtomic" target="_top" class="function"><span class="function">OSIncrementAtomic</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt32</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>address</code></dt>
<dd><p>The 4-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the increment. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSIncrementAtomic function increments the value at the specified address by one and returns the original value. 
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSIncrementAtomic16;  indexgroup=libkern ;   name=OSIncrementAtomic16 --><a name="//apple_ref/c/func/OSIncrementAtomic16"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSIncrementAtomic16">OSIncrementAtomic16</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>16-bit increment operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt16</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSIncrementAtomic16" target="_top" class="function"><span class="function">OSIncrementAtomic16</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt16</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>address</code></dt>
<dd><p>The 2-byte aligned address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the increment. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSIncrementAtomic16 function increments the value at the specified address by one and returns the original value. 
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSIncrementAtomic64;  indexgroup=libkern ;   name=OSIncrementAtomic64 --><a name="//apple_ref/c/func/OSIncrementAtomic64"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSIncrementAtomic64">OSIncrementAtomic64</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>64-bit increment.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">inline</span> <span class="keyword">static</span> <!-- a --><span class="type">SInt64</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSIncrementAtomic64" target="_top" class="function"><span class="function">OSIncrementAtomic64</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt64</span><!-- /a --> <span class="type">*</span><span class="param">address</span>) </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>See OSIncrementAtomic.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSIncrementAtomic8;  indexgroup=libkern ;   name=OSIncrementAtomic8 --><a name="//apple_ref/c/func/OSIncrementAtomic8"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSIncrementAtomic8">OSIncrementAtomic8</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>8-bit increment operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">SInt8</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSIncrementAtomic8" target="_top" class="function"><span class="function">OSIncrementAtomic8</span></a>(
    <span class="keyword">volatile</span> <!-- a --><span class="type">SInt8</span><!-- /a --> <span class="type">*</span><span class="param">address</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>address</code></dt>
<dd><p>The address of the value to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->The value before the increment. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSIncrementAtomic8 function increments the value at the specified address by one and returns the original value. 
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSSynchronizeIO;  indexgroup=libkern ;   name=OSSynchronizeIO --><a name="//apple_ref/c/func/OSSynchronizeIO"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSSynchronizeIO">OSSynchronizeIO</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Ensures orderly load and store operations to noncached memory mapped I/O devices.
<!-- end abstract --></p>
<p></p>
<pre><span class="">#if</span><span class="preprocessor"> </span><!-- a --><span class="preprocessor">defined</span><!-- /a --><span class="preprocessor">(</span><!-- a --><span class="preprocessor">__arm__</span><!-- /a --><span class="preprocessor">)</span><span class="preprocessor"> </span><span class="preprocessor">&amp;</span><span class="preprocessor">&amp;</span><span class="preprocessor"> </span><!-- a --><span class="preprocessor">defined</span><!-- /a --><span class="preprocessor">(</span><!-- a --><span class="preprocessor">__thumb__</span><!-- /a --><span class="preprocessor">)</span> 
<span class="keyword">extern</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/OSSynchronizeIO" target="_top" class="function"><span class="function">OSSynchronizeIO</span></a>(
    <span class="param">void</span>);  
<span class="">#else</span> 
<span class="keyword">static</span> <span class="keyword">__inline__</span> <a href="../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <a href="index.html#//apple_ref/c/func/OSSynchronizeIO" target="_top" class="function"><span class="function">OSSynchronizeIO</span></a>(
    <span class="param">void</span>) <span class="keyword">__asm__</span> ("<!-- a --><span class="type">eieio</span><!-- /a -->")<span class="keyword">__asm__</span> <span class="keyword">volatile</span>("<!-- a --><span class="type">mcr</span><!-- /a --> <!-- a --><span class="var">p15</span><!-- /a -->, <span class="number">0</span>, %<span class="number">0</span>, <!-- a --><span class="var">c7</span><!-- /a -->, <!-- a --><span class="var">c10</span><!-- /a -->, <span class="number">4</span>" : : "<!-- a --><span class="type">r</span><!-- /a -->" (<!-- a --><span class="var">temp</span><!-- /a -->))
<span class="">#endif</span>  
</pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSSynchronizeIO routine ensures orderly load and store operations to noncached memory mapped I/O devices. It executes the eieio instruction on PowerPC processors. <!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSTestAndClear;  indexgroup=libkern ;   name=OSTestAndClear --><a name="//apple_ref/c/func/OSTestAndClear"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSTestAndClear">OSTestAndClear</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Bit test and clear operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">Boolean</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSTestAndClear" target="_top" class="function"><span class="function">OSTestAndClear</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">bit</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">startAddress</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>bit</code></dt>
<dd><p>The bit number in the range 0 through 7.</p></dd>
<dt><code>address</code></dt>
<dd><p>The address of the byte to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->true if the bit was already clear, false otherwise. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSTestAndClear function clears a single bit in a byte at a specified address. It returns true if the bit was already clear, false otherwise.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=func;  uid=//apple_ref/c/func/OSTestAndSet;  indexgroup=libkern ;   name=OSTestAndSet --><a name="//apple_ref/c/func/OSTestAndSet"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="OSTestAndSet">OSTestAndSet</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Bit test and set operation, performed atomically with respect to all devices that participate in the coherency architecture of the platform.
</p>
<p>This function guarantees atomicity only with main system memory. It is specifically unsuitable for use on noncacheable memory such as that in devices; this function cannot guarantee atomicity, for example, on memory mapped from a PCI device.
<!-- end abstract --></p>
<p></p>
<pre><span class="keyword">extern</span> <!-- a --><span class="type">Boolean</span><!-- /a --> <a href="index.html#//apple_ref/c/func/OSTestAndSet" target="_top" class="function"><span class="function">OSTestAndSet</span></a>(
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">bit</span>,
    <span class="keyword">volatile</span> <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">startAddress</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>bit</code></dt>
<dd><p>The bit number in the range 0 through 7.</p></dd>
<dt><code>address</code></dt>
<dd><p>The address of the byte to update atomically.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->true if the bit was already set, false otherwise. 
<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The OSTestAndSet function sets a single bit in a byte at a specified address. It returns true if the bit was already set, false otherwise.
<!-- end discussion -->
</p>
<p></p>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/KernelIOKitFramework/OSAtomic_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/KernelIOKitFramework/OSAtomic_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/KernelIOKitFramework/OSAtomic_h/index.html%3Fid%3DTP30000816-3.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&#160;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2008-12-19
</div>
<!-- headerDoc=Header;  uid=//apple_ref/doc/header/OSAtomic.h;  indexgroup=libkern ;   name=OSAtomic.h --><a name="//apple_ref/doc/header/OSAtomic.h"></a>
</body>
</html>
