<!-- legacy work start --><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"        "http://www.w3.org/TR/html4/loose.dtd"><!-- legacy work end --><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><TITLE> The Format 1 Sound Resource (deprecated)</title><!-- legacy work start -->        <META NAME="Generator" CONTENT="manual">        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">        <META NAME="IndexTitle" CONTENT="Sound Input Manager (Not Recommended)">        <meta name="xcode-display" content="render">        <LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->        <script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script><!-- legacy work end --></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.2d.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.2d.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.2f.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --><H1 CLASS="H3.Heading3"><A NAME="pgfId=2011"> </A><A NAME="40515"> </A>The Format 1 Sound Resource<A NAME="marker=194"> </A></H1><P CLASS="T0.Text0"><A NAME="pgfId=1991"> </A><A target="doc" HREF="imsoundmgr.2d.htm#11786" CLASS="XRef">Figure 1-20</A> shows the fields of a format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resource. A format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resource header contains information about the format of the resource (namely, 1), the data type, and the initialization options for that data type. A format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resource contains sound commands and might also contain the actual sound data for wave-table sounds or sampled sounds. Note that if a sound resource includes sampled-sound data, then part of the sound data section is devoted to a sound header that describes the sampled-sound data in the remainder of the sound data section.</P><P CLASS="T1.Text1"><A NAME="pgfId=2023"> </A>If an <TT CLASS="cv">'snd&nbsp;'</TT> resource specifies a data type, it can supply an initialization option in the field immediately following the type. You specify the number of commands in the resource in the number of sound commands field. The sound commands follow, in the order in which they should be sent to the sound channel.</P><P CLASS="T1.Text1"><A NAME="pgfId=2048"> </A>The format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resource might contain only a sequence of commands describing a sound. In this case, the number of data types should be 0, and there should be no data type specification or initialization option in the <TT CLASS="cv">'snd&nbsp;'</TT> resource. This allows the <TT CLASS="cv">'snd&nbsp;'</TT> resource to be used with any kind of sound data.</P><P CLASS="T1.Text1"><A NAME="pgfId=2055"> </A><A target="doc" HREF="imsoundmgr.2e.htm#15429" CLASS="XRef">Listing 1-46</A> shows the output of the MPW tool DeRez when applied to the <TT CLASS="cv">'snd&nbsp;'</TT> resource with resource ID 1 contained in the System file.<A NAME="marker=49"> </A></P><P CLASS="L.Listing"><A NAME="pgfId=2063"> </A>Listing&nbsp;46 <A NAME="15429"> </A>A format 1<TT CLASS="cv"> 'snd&nbsp;'</TT> resource</P><CODE CLASS="Cv.Code"><A NAME="pgfId=10035"> </A>data 'snd&nbsp;' (1, &quot;Simple Beep&quot;, purgeable) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the sound resource header*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*format type*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of data types*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*square-wave data*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*initialization option*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the sound commands*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;001B&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of sound commands (27)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;002C&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*command 1--timbreCmd 090 000*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;005A00000000&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;002B&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*command 2--ampCmd  224 000*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00E000000000&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;002A&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*command 3--freqCmd 000 069*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;000000000045&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;000A&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*command 4--waitCmd 040 000*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;002800000000&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;002B&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*command 5--ampCmd  200 000*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00C800000000&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*commands 6 through 26 are omitted; they are */<BR>&nbsp;&nbsp;&nbsp;&nbsp;/* alternating pairs of waitCmd and ampCmd commands */<BR>&nbsp;&nbsp;&nbsp;&nbsp;/* where the first parameter of ampCmd has the */<BR>&nbsp;&nbsp;&nbsp;&nbsp;/* values 192, 184, 176, 168, 160, 144, 128, 96, */<BR>&nbsp;&nbsp;&nbsp;&nbsp;/* 64, and 32*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;002B&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*command 27--ampCmd  000 000*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;000000000000&quot;<BR>};<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=2069"> </A>As you can see, the Simple Beep is actually a rather sophisticated sound, in which the loudness (or amplitude) of the beep gradually decreases from an initial value of 224 to 0.</P><P CLASS="T1.Text1"><A NAME="pgfId=1984"> </A>Notice that the sound shown in <A target="doc" HREF="imsoundmgr.2e.htm#15429" CLASS="XRef">Listing 1-46</A> is defined using square-wave data and is completely determined by a sequence of specific commands. (&quot;Play an A at loudness 224, wait 20 milliseconds, play it at loudness 200....&quot;) Often, an <TT CLASS="cv">'snd&nbsp;'</TT> resource consists only of a single sound command (usually the <TT CLASS="cv">bufferCmd</TT> command) together with data that describes a sampled sound to be played. <A target="doc" HREF="imsoundmgr.2e.htm#36371" CLASS="XRef">Listing 1-47</A> shows an example like this.<A NAME="marker=249"> </A></P><P CLASS="L.Listing"><A NAME="pgfId=2077"> </A>Listing&nbsp;47 <A NAME="36371"> </A>&nbsp;A format 1<TT CLASS="cv"> 'snd&nbsp;'</TT> resource containing sampled-sound data</P><CODE CLASS="Cv.Code"><A NAME="pgfId=10039"> </A>data 'snd&nbsp;' (19068, &quot;hello daddy&quot;, purgeable) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the sound resource header*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*format type*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of data types*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0005&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*sampled-sound data*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000080&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*initialization option: initMono*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the sound commands*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of sound commands that follow (1)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;8051&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*command 1--bufferCmd*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*param1 = 0*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000014&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*param2 = offset to sound header (20 bytes)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the sampled sound header*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*pointer to data (it follows immediately)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000BB8&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of bytes in sample (3000 bytes)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;56EE8BA3&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*sampling rate of this sound (22 kHz)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;000007D0&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*starting of the sample's loop point*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000898&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*ending of the sample's loop point*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*standard sample encoding*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;3C&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*baseFrequency at which sample was taken*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*the sampled-sound data*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;80 80 81 81 81 81 81 81 80 80 80 80 80 81 82 82&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;82 83 82 82 81 80 80 7F 7F 7F 7E 7D 7D 7D 7C 7C&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;7C 7C 7D 7D 7D 7D 7E 7F 80 80 81 81 82 82 83 83&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;83 83 82 81 81 80 80 81 81 81 81 81 82 81 81 80&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;80 80 81 81 81 83 83 83 82 81 81 80 7F 7E 7D 7D&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;7F 7F 7F 7F 7E 7F 7F 7F 7F 7F 7F 7F 7F 7F 7F 80&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*rest of data omitted in this example*/<BR>};<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=2079"> </A><A NAME="marker=10041"> </A>This <TT CLASS="cv">'snd&nbsp;'</TT> resource indicates that the sound is defined using sampled-sound data. The resource includes a call to a single sound command, the <TT CLASS="cv">bufferCmd</TT> command. The offset bit of the command number is set to indicate that the sound data is contained in the resource itself. Following the command and its two parameters is the sampled sound header, the first part of which contains important information about the sample. The second parameter to the <TT CLASS="cv">bufferCmd</TT> command indicates the offset from the beginning of the resource to the sampled sound header, in this case 20 bytes. After the sound commands, this resource includes a sampled sound header, which includes the sampled-sound data. The format of a sampled sound header is described in <A target="doc" HREF="imsoundmgr.43.htm#35802" CLASS="XRef">&quot;Sound Header Records&quot;</A>.</P><P CLASS="T1.Text1"><A NAME="pgfId=2064"> </A>For compressed sound data, the sampled sound header is replaced by a compressed sampled sound header. <A target="doc" HREF="imsoundmgr.2e.htm#11008" CLASS="XRef">Listing 1-48</A> illustrates the structure of an <TT CLASS="cv">'snd&nbsp;'</TT> resource that contains compressed sound data.</P><P CLASS="L.Listing"><A NAME="pgfId=2067"> </A>Listing&nbsp;48 <A NAME="11008"> </A>An<TT CLASS="cv"> 'snd&nbsp;'</TT> resource containing compressed sound data</P><CODE CLASS="Cv.Code"><A NAME="pgfId=10045"> </A>data 'snd&nbsp;' (9004, &quot;Raisa's Cry&quot;, purgeable) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the sound resource header*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*format type*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of data types*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0005&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*first data type*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000380&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*initialization option: initMACE3 + initMono*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the sound command*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of sound commands that follow (1)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;8051&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*cmd: bufferCmd*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*param1: unused*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000014&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*param2: offset to sound header (20 bytes)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*the compressed sampled sound header*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*pointer to data (it follows immediately)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000001&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of channels in sample*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;56EE8BA3&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*sampling rate of this sound (22 kHz)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*starting of the sample's loop point; not used*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*ending of the sample's loop point; not used*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;FE&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*compressed sample encoding*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*baseFrequency; not used*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00006590&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*number of frames in sample (26,000)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;400DADDD1745D145826B&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*AIFFSampleRate (22 kHz in extended type)*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*markerChunk; NIL for 'snd&nbsp;' resource*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;4D414333&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*format; MACE 3:1 compression*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*futureUse2; NIL for 'snd&nbsp;' resource*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*stateVars; NIL for 'snd&nbsp;' resource*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;00000000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*leftOverBlockPtr; not used here*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;FFFF&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*compressionID, -1 means use format field*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0010&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*packetSize, packetSize for 3:1 is 16 bits*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0000&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*snthID is 0*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;0008&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*sampleSize, sound was 8-bit before processing*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;2F 85 81 32 64 87 33 86&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*the compressed sound data*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;6F 48 6D 65 72 6B 82 88&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;91 FE 8D 8E 86 4E 7C E9&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;6F 6D 71 70 7E 79 4F 83&quot;<BR>&nbsp;&nbsp;&nbsp;&nbsp;$&quot;59 8F 8F 65&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*rest of data omitted in this example*/<BR>};<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=2914"> </A>This resource has the same general structure as the <TT CLASS="cv">'snd&nbsp;'</TT> resource illustrated in <A target="doc" HREF="imsoundmgr.2e.htm#15429" CLASS="XRef">Listing 1-46</A>. The principal difference is that the standard sound header is replaced by the&nbsp;compressed sound header. This example resource specifies a monophonic sound compressed by using the 3:1 compression algorithm. A multichannel compressed sound's data would be interleaved on a packet basis. See <A target="doc" HREF="imsoundmgr.45.htm#39285" CLASS="XRef">&quot;Compressed Sound Header Records&quot;</A> for a complete explanation of the compressed sound header.</P><P CLASS="T1.Text1"><A NAME="pgfId=2187"> </A>As you've seen, it is not always necessary to specify <TT CLASS="cv">'snd&nbsp;'</TT> resources by listing the raw data stream contained in them; indeed, for certain types of format 1 <TT CLASS="cv">'snd&nbsp;'</TT> resources, it can be easier to supply a resource specification like the one given in <A target="doc" HREF="imsoundmgr.2e.htm#31954" CLASS="XRef">Listing 1-49</A>.</P><P CLASS="L.Listing"><A NAME="pgfId=2190"> </A>Listing&nbsp;49 <A NAME="31954"> </A>A resource specification</P><CODE CLASS="Cv.Code"><A NAME="pgfId=10049"> </A>resource 'snd&nbsp;' (9000, &quot;Nathan's Beep&quot;, purgeable) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;FormatOne {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;/*array of data types: 1 element*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[1]*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;squareWaveSynth, 0<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;},<BR>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*array SoundCmnds: 3 elements*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*[1]*/ noData, timbreCmd {90},<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*[2]*/ noData, freqDurationCmd {480, $00000045},<BR>&nbsp;&nbsp;&nbsp;&nbsp;/*[3]*/ noData, quietCmd {},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<BR>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*array DataTables: 0 elements*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;};<BR>};<BR></CODE><P CLASS="T1.Text1"><A NAME="pgfId=2196"> </A>When you pass a handle to this resource to the <TT CLASS="cv">SndPlay</TT> function, three commands are executed by the Sound Manager: a <TT CLASS="cv">timbreCmd</TT> command, a <TT CLASS="cv">freqDurationCmd</TT> command, and a <TT CLASS="cv">quietCmd</TT> command. The sound specified in <A target="doc" HREF="imsoundmgr.2e.htm#31954" CLASS="XRef">Listing 1-49</A> is just like the Simple Beep, except that there is no gradual reduction in the loudness. <A target="doc" HREF="imsoundmgr.2e.htm#12892" CLASS="XRef">Listing 1-50</A> shows a resource specification for the Simple Beep.</P><P CLASS="L.Listing"><A NAME="pgfId=2238"> </A>Listing&nbsp;50 <A NAME="12892"> </A>A resource specification for the Simple Beep</P><CODE CLASS="Cv.Code"><A NAME="pgfId=10053"> </A>resource 'snd&nbsp;' (9001, &quot;Copy of Simple Beep&quot;, purgeable) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;FormatOne {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;/*array of data types: 1 element*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[1]*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;squareWaveSynth, 0<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;},<BR>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;/*array SoundCmnds: 27 elements*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[1]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, timbreCmd {90},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[2]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {224},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[3]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, freqCmd {69},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[4]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[5]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {200},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[6]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[7]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {192},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[8]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[9]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {184},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[10]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[11]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {176},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[12]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[13]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {168},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[14]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[15]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {160},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[16]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[17]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {144},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[18]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[19]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {128},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[20]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[21]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {96},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[22]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[23]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {64},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[24]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[25]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {32},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[26]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, waitCmd {40},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*[27]*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodata, ampCmd {0},<BR>&nbsp;&nbsp;&nbsp;&nbsp;},<BR>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;/*array DataTables: 0 elements*/<BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>};<BR></CODE><hr>&#169; 1999 Apple Computer, Inc.<!-- QTnavbar start --><P><I>Inside Macintosh: Sound</I><P>| <A target="doc" HREF="imsoundmgr.2d.htm">Previous</A> | <A target="doc" HREF="imsoundmgr.1.htm">Chapter contents</A> | <A target="doc" HREF="imsoundmgr.htm">Chapter top</A> | <A target="doc" HREF="imsoundmgr.2d.htm">Section top</A> | <A target="doc" HREF="imsoundmgr.2f.htm">Next</a> | <!-- QTnavbar end --><!-- legacy work start --><script type="text/javascript"> placeWatermark()</script><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox" style="position: relative;"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b><i>Sound Input Manager</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div><!-- legacy work end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>