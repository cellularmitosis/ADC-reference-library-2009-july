<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!-- Template 03-24-01 --><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Note TN1087: Maximizing Your Media: A Brief Guide To the Latest and Greatest QuickTime Media Types</title><META NAME="Author-Corporate"    	CONTENT="Apple Computer, Inc."><META NAME="Publisher"    		 	CONTENT="Apple Computer, Inc."><META NAME="Publisher-Email"     	CONTENT="[Webmaster Email Address]"><META NAME="Identifier-URL"			Content="http://www.apple.com/metadata/sample.html"><META NAME="Identifier"     		CONTENT="[See Instructions]"><META NAME="Content-Language" 		CONTENT="[See instructions for codes]"><META NAME="Coverage"      			CONTENT="Worldwide">    <meta name="keywords" content="Mac OS 8 QuickTime 2.5 media video MPEG text GetMovieIndTrackType">    <meta name="Description" content="Technical Note TN1087: This Technical Note explains how youcan make sure your                                     QuickTimeapplication isn't blind to any media types                                    available to it and some simple thingsyou can do with                                     thatmedia to add value to your application. Media discussed include:Video, Sound, Text, MPEG, QuickDraw 3D, Sprite and MIDI musicmedia."><meta name="categories" content="QuickTime"><meta name="week-posted" content="Nov 25, 1996 - Dec 6, 1996"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10002928" title="Maximizing Your Media: A Brief Guide To the Latest and Greatest QuickTime Media Types"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/QuickTime/index.html">QuickTime</a> &gt; <a href="../../technicalnotes/QuickTime/idxFileFormatSpecification-date.html">File Format Specification</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1087</div>
<div id="pageheadsub">Maximizing Your Media: A Brief Guide To the Latest and Greatest QuickTime Media Types</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"> <!-- begin_header_box --> <table width="600" cellpadding="0" cellspacing="0" border="0">	<tr>		<td width=300 valign="top" align=left scope="row">			<table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>                        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td>				</tr>				<tr bgcolor="#e6e6e6">					<td background="images/tnmenubody.gif" width=300 align=left>						<span id="menutitle">							CONTENTS                             <br>                            <br>						</span>					</td>				</tr>				<tr bgcolor="#e6e6e6">					<td background="images/tnmenubody.gif" width=300 align=left><!-- begin_toc --><p id="menutext">         <A HREF = "#Section1">Identifying the Media</A><BR><BR>                  <A HREF = "#Section2">Using GetMovieIndTrackType</A><BR><BR>                  <A HREF = "#Section3">Using Video Media</A><BR><BR>                  <A HREF = "#Section4">Sound Media</A><BR><BR>                  <A HREF = "#Section5">Text Media</A><BR><BR>                  <A HREF = "#Section6">MPEG Media</A><BR><BR>                  <A HREF = "#Section7">QuickDraw3D Media</A><BR><BR>                  <A HREF = "#Section8">Sprite Media</A><BR><BR>                  <A HREF = "#Section9">QuickTime Music (MIDI) Media</A><BR><BR>                  <A HREF = "#Summary">Summary</a><BR><BR>         <A HREF = "#References">References</a><BR><BR>    <A HREF="#Downloads">Downloadables</A></p>                  <!-- end_toc --> 								</td>				</tr>				<tr>					<td width=300 align=left scope="row">						<img src="images/tnmenubottom.gif" alt="" width=300 height=16>					</td>				</tr>			</table>		</td>		<td width=300 valign="top" align=left>			<!-- begin_intro_text -->         <P id = "introtext">In 1991, creating a QuickTime         movie player or editor was relatively straightforward. Back         then, there were two types of media to work with -- video         and sound -- and a canvas of APIs. At the time, QuickTime         demos featured trees swaying in the wind, clouds rolling         overhead, and the moon cascading its light down through an         evening sky -- and the movies were postage stamp size! Not         the most compelling examples of multimedia. Now, don't get         me wrong. I love QuickTime, but I'm glad those days are         over!</P>                  <P id = "introtext">Today, QuickTime delivers the most dynamic media         available -- professional quality video and sound, MPEG, 3D         objects, sprites, text and MIDI, and its capabilities are         continuing to grow. With QuickTime 2.5, it is easier now for         movie tracks to act on one another, as is the case with our         Tween track, which sends its information to another track to         change it dynamically over time. The possibilities for         truly exposive media content are there, yet so many         QuickTime applications act as though we are still back in         1991 and can only deal with video and sound tracks. Well         folks, it's many years later and it's time to get with the program.</P>                  <P id = "introtext">This Technote explains how you can make sure your         QuickTime application isn't blind to any media types         available to it and some simple things you can do with that         media to add value to your application.</P>      <!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Dec 20 1996]</h3><!-- end_date -->                </TD>             </TR>          </TABLE>          <!-- end_header_box --> <BR><BR><hr width=500 align=center>          <BR><BR> <!-- begin_content -->      <A NAME="Section1"></A>                  <H2>Identifying the Media</H2>                  <P>Some applications, in an effort to make sure they can         successfully edit or otherwise manipulate a particular         movie's data, will take a look at the movie's media to see         what types are available. In general, this was fine in the         early days, since video and sound were the first two         pioneering media types of the QuickTime frontier. But now,         with the burgeoning of new media types, QuickTime         applications are not necessarily taking full advantage of         their capabilities by looking for particular media types.</p><P><A HREF="#top">Back to top</A></P><A NAME="Section2"></A>                  <H2>Using <CODE>GetMovieIndTrackType</CODE></H2>                  <P>Instead of looking for a specific media type, you should         be looking for a media characteristic. In QuickTime 2.0,         Apple introduced <CODE>GetMovieIndTrackType()</CODE> for         this explicit purpose. You can use this call to conveniently         find those tracks which draw and those which play sound         using the two flags, <CODE>VisualMediaCharacteristic</CODE>         and <CODE>AudioMediaCharacteristic</CODE>. For the standard         media types that are included with QuickTime 2.5,         <CODE>VisualMediaCharacteristic</CODE> will pick out the         following types of tracks: Video, MPEG, Sprite, QuickDraw3D,         Text, TimeCode. <CODE>AudioMediaCharacteristic</CODE> will         pick out: Sound, Music, MPEG. (MPEG is somewhat of a special         case, since it can contain both sound and video data in one         stream and hence one track.)</P>                  <P>Not only can you use <CODE>GetMovieIndTrackType</CODE> to         find tracks that share a common media characteristic, but         you can also use it to find tracks that share a particular         media type when you really need that information. Which         search method you employ is controlled by the flags that you         pass into the last parameter of the call. A fully         parameterized call to look for tracks with media that has a         video characteristic would look like: </P><pre>theTrack = GetMovieIndTrackType(sourceMovie, trackIndex, VisualMediaCharacteristic,movieTrackCharacteristic);</pre>         <P>whereas a fully parameterized call to look for tracks         with media of a certain type would look like: </P>         <pre>theTrack = GetMovieIndTrackType(sourceMovie, trackIndex, VideoMediaType,movieTrackMediaType);</pre>                                   <P>You might use one of these calls in a routine like this:</P>         <pre>Track    theTrack;long    trackIndex = 0;&nbsp;while(theTrack = GetMovieIndTrackType(sourceMovie, ++trackIndex,VisualMediaCharacteristic, movieTrackCharacteristic)) {&nbsp;// theTrack meets your search request so do something with it&nbsp;}</pre><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>                                    You can use either <CODE>movieTrackMediaType</CODE>                  or <CODE>movieTrackCharacteristic</CODE> but not                  both in a single call to                  <CODE>GetMovieIndTrackType()</CODE>; you can                  combine, however,                  <CODE>movieTrackEnabledOnly</CODE> with either                  call. Also, the trackIndex value is not equal to a                  track's number. Rather, it is an indexed value of                  the tracks found that meet your criterion.</P></TD></TR></TABLE></CENTER><BR>               <P><A HREF="#top">Back to top</A></P><A NAME="Section3"></A>                  <H2>Using Video Media</H2>                  <P>Video media is one of the first things you think about         when working with QuickTime, since so many "movies" are         pictures and sound. Video media can be found by calling         <CODE>GetMovieIndTrackType()</CODE>, using either the         <CODE>VideoMediaType</CODE> or         <CODE>VideoMediaCharacteristic</CODE> flags. While basically         all QuickTime applications deal with video media in one way         or another, there are several cool things that you can do to         take advantage of some new as well as some old QuickTime features.</p>         <H4>First Cool Thing: Using         <CODE>SetTrackClipRgn()</CODE></H4>                  <P>You can use <CODE>SetTrackClipRgn()</CODE> to apply an         interesting or aesthetic frame to a video track. Many         developers have shied away from this feature because         clipping typically slows down QuickTime movie playback and         may affect the overall presentation. However, there are         several QuickTime acceleration cards available today that         have hardware assistance for clipping, scaling and color         conversion, thus unburdening QuickTime from having to make         these modifications itself. And, of course, today's         PowerMacs are really starting to scream. Unless you're going         for full-screen, full-motion video, many PowerMacs can         handle the overhead of applying and using a track clip         region. Which leads to my second point about scaling and translation.</P>                  <H4>Second Cool Thing: Using         <CODE>SetTrackMatrix()</CODE></H4>                  <P>Using <CODE>SetTrackMatrix()</CODE>, you can scale and         distort (but not yet rotate) your video track in interesting         ways. Again, with today's video cards, many can provide         hardware assistance in this operation, giving you creative         flexibility like you haven't had before.</P>         <BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>                                    While both the track's clip region and matrix can                  be set statically using either of the                  aforementioned calls, both can be changed                  dynamically by using a Tween track.</P></TD></TR></TABLE></CENTER><BR>                                       <P>More recently introduced are the concepts of TrackReferences and Modifier Tracks. One way to provide more value to videotracks is to add a text track which has descriptions of the variousparts of the video track. This idea has been promoted since the Texttrack's introduction in QuickTime 1.5. Initially, the thought was to adda text track to act as subtitling for movie dialog or as descriptivetext to identify a scene or sound clip.  But now text tracks have a newcapability when you are using the Movie Controller interface.  Texttrack data can now be used as chapter or scene descriptors with its infobeing displayed in a pop-up menu in the Movie Controller play bar.Typically, the text track is hidden or disabled, although the track canbe displayed as well (its utility and aesthetic quality would seem todetract from the controller's function). In order to get the moviecontroller to display the chapter name in the play bar, you must createa reference between the text track containing the scene names and one ormore of the other tracks in the movie. This is done using<CODE>AddTrackReference</CODE>. In the example below, the reference isadded from a video track to the text track. It could also be added froma sound track, an MPEG track - just about any type.</P><pre>AddTrackReference(videoTrack, textTrack, 'chap', nil);</pre><P><A HREF="#top">Back to top</A></P><A NAME="Section4"></A>                  <H2>Sound Media</H2>                  <P>QuickTime sound tracks have a media type of         <CODE>SoundMediaType</CODE> and have an         <CODE>AudioMediaCharacteristic</CODE>. The use of QuickTimesounds has been enhanced over the years with the introduction of newsound compression methods.  This has enabled the use of much higherquality and quantity of audio in applications and multimedia titles. Itis also just starting to enable some new possibilities in using thismedia type over the Internet.</P><H4>Moving Sound Around</H4><P>Yes, just playing sounds hardly stands out today.  And since you have afew new controls at your fingertips that can make your sound moredynamic, it just might be time to start exercising that option. Using<CODE>MediaSetSoundBalance()</CODE>, you can adjust the left-to-rightbalance of any track that has an <CODE>AudioMediaCharacteristic</CODE>. Setting thebalance is hardly a new concept, but how it gets used in an applicationis something to discuss. For regular audio playback, it's reasonable to setthe sound balance once and leave it for the duration of the program. However, in the case where you need dynamically changing sounds, you canstill use QuickTime and the convenient QuickTime movie file container byutilizing the <CODE>MediaSetSoundBalance()</CODE> call.</P><P><A HREF="#top">Back to top</A></P><A NAME="Section5"></A>                  <H2>Text Media</H2>         <P>QuickTime Text tracks have a media type of<CODE>TextMediaType</CODE> and have a<CODE>VisualMediaCharacteristic</CODE>. Much of the power ofthe Text track is in how it adds value to other QuickTime media. Inreading the other sections of this Note, you'll get an idea of some ofthe power of Text media.</P><P><A HREF="#top">Back to top</A></P><A NAME="Section6"></A>                  <H2>MPEG Media</H2>                  <P>MPEG media in QuickTime has had a dual life for some         time. On the one hand, there has been support for MPEG media         within QuickTime since version 2.0. The other hand is the         'but' as in "...but QuickTime 2.0 requires a special         hardware decoder board to see or hear that MPEG media in QuickTime."</P>                  <P>Today, there is good news for QuickTime, MPEG and those         developers who want to take advantage of both because of the         introduction of the QuickTime MPEG Extension for Power         Macintosh. This extension lets all Power Macs play and use         MPEG media, type <CODE>MPEGMediaType</CODE>, as a full         fledged citizen in the QuickTime world. But MPEG is unique         among the media types in that it can contain either video or         sound media or both. This is why it is so important to use         the MediaCharacteristic flags to find appropriate media to         deal with, since you wouldn't want to miss out on using the         versatile MPEG media type. To be certain that you'll find MPEGmedia when it's available use either the<CODE>AudioMediaCharacteristic</CODE> flag,<CODE>VisualMediaCharacteristic</CODE> flag or both flags when checkingthe tracks' media characteristics.</P><P>When you do get down to work with MPEG media that has video information,you might want to take advantage of a nice capability of the QuickTimeMPEG Extension. It has the ability to set a rectangular clip region onvisual MPEG media without any performance penalty. This can beespecially useful for poorly captured and encoded MPEG media that showvisual garbage along the edges of the video frame - unfortunately, anall too common occurence. Using scaling and clipping during runtime canhandily hide the glitch.</P><P><A HREF="#top">Back to top</A></P><A NAME="Section7"></A>                  <H2>QuickDraw3D Media</H2>                  <P>QuickDraw3D media, recently introduced with QuickTime         2.5, has a media type of <CODE>ThreeDeeMediaType</CODE> and         has a <CODE>VideoMediaCharacteristic</CODE>. Besides being         unique because its sample data is made up of 3D objects,         QuickDraw 3D media is also very interesting because of its         relationship to the various other media types. Besides beingunique because its sample data is made up of 3D objects, QuickDraw 3Dmedia is also very interesting because of its relationship to thevarious other media types. With most other media, new sample data isneeded over time to see or hear anything as a movie plays. Although youcan approach using QuickDraw 3D data the same way, it is much morepowerful to use the new Tween track (in QuickTime 2.5) and its sampledata to override QuickDraw 3D objects, lights and cameras, thereforeanimating a 3D model using relatively little data bandwidth. Also, it ispossible to map the data from video tracks onto the surface of aQuickDraw 3D object in a QuickTime movie - and the video track can playand change as you might expect, all while being blasted onto the face ofa 3D object. How's that for interesting?!</p><P><A HREF="#top">Back to top</A></P><A NAME="Section8"></A>                  <H2>Sprite Media</H2>                  <P>QuickTime Sprites may be the most misunderstood media         type that QuickTime supports, probably because its elements         do not necessarily have to be confined to a timeline or run         from beginning to end. But, to get started, you can think of         using QuickTime Sprites in the traditional way -- a linear         track moving from start to finish -- then grow from that point.</p>         <P><A HREF="#top">Back to top</A></P><A NAME="Section9"></A>                  <H2>QuickTime Music (MIDI) Media</H2>                  <P>QuickTime Music, often thought of as MIDI, has been         available in QuickTime since version 2.0 but has recently         been significantly enhanced in QuickTime 2.5.</P><P><A HREF="#top">Back to top</A></P><A NAME="Summary"></A><H2>Summary</H2><P>QuickTime, being more versatile and powerful today, calls out toyour application to take full advantage of its capabilities Somepeople may think that flipbook animations, such as those provided byJava and animated GIFs, are the great. Well, I thought they weregreat, too, in 1987 when VideoWorks first came out, but with all theVERY COOL features that QuickTime 2.5 offers today, it is almost acrime against humanity not to do something with them. Therefore, youought to use some of the methods discussed in this Note to find andmanipulate the new media types. That way, your app can be the best it can be!</P><P><A HREF="#top">Back to top</A></P><a name="References"></a><H2>References</H2>            <p><I><a href="../../documentation/quicktime/qtdevdocs/RM/frameset.htm">            Inside Macintosh: QuickTime</A></I></p>                        <p><I>QuickTime 2.0 SDK Documentation</I></p>                        <p><I>QuickTime 2.1 Developer Note</I>         </p>     <P><A HREF="#top">Back to top</A></p> <A NAME=Downloads></A>                  <H2>Downloadables</H2>                  <TABLE BORDER=0 CELLPADDING=3 WIDTH="500">            <TR>               <td width=50 align=left>                  <P ALIGN=center><img src="images/acrobatsmall.gif" width=22 height=23 align=middle alt="Acrobat"></P>               </TD>               <td align="left">                  <P>Acrobat version of this Note (68K).</P>               </TD>               <td width=60 align=left>                  <P><A HREF="pdf/tn1087.pdf">Download</A></P>               </TD>	</tr>	</table><BR>         <P><A HREF="#top">Back to top</A></P></TD></TR></table></center><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1087.html%3Fid%3DDTS10002928-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1087.html%3Fid%3DDTS10002928-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1087.html%3Fid%3DDTS10002928-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>