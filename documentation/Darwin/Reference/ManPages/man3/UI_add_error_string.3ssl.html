<html><head><title>Mac OS X
 Manual Page For UI_add_error_string(3ssl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3ssl/UI_add_error_string" title="Mac OS X
 Manual Page for UI_add_error_string(3ssl)"><a name="//apple_ref/doc/man/3/UI_add_error_string" title="Mac OS X
 Manual Page for UI_add_error_string(3ssl)"><!-- headerDoc=man; indexgroup=Section 3ssl; uid="//apple_ref/doc/man/3ssl/UI_add_error_string"; name=UI_add_error_string(3ssl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ui(3)                                              OpenSSL                                             <a href="ui.3ssl.html#//apple_ref/doc/man/3/ui">ui(3)</a>



<b>NAME</b>
       UI_new, UI_new_method, UI_free, UI_add_input_string, UI_dup_input_string, UI_add_verify_string,
       UI_dup_verify_string, UI_add_input_boolean, UI_dup_input_boolean, UI_add_info_string,
       UI_dup_info_string, UI_add_error_string, UI_dup_error_string, UI_construct_prompt, UI_add_user_data,
       UI_get0_user_data, UI_get0_result, UI_process, UI_ctrl, UI_set_default_method, UI_get_default_method,
       UI_get_method, UI_set_method, UI_OpenSSL, ERR_load_UI_strings - New User Interface

<b>SYNOPSIS</b>
        #include &lt;openssl/ui.h&gt;

        typedef struct ui_st UI;
        typedef struct ui_method_st UI_METHOD;

        UI *UI_new(void);
        UI *UI_new_method(const UI_METHOD *method);
        void UI_free(UI *ui);

        int UI_add_input_string(UI *ui, const char *prompt, int flags,
               char *result_buf, int minsize, int maxsize);
        int UI_dup_input_string(UI *ui, const char *prompt, int flags,
               char *result_buf, int minsize, int maxsize);
        int UI_add_verify_string(UI *ui, const char *prompt, int flags,
               char *result_buf, int minsize, int maxsize, const char *test_buf);
        int UI_dup_verify_string(UI *ui, const char *prompt, int flags,
               char *result_buf, int minsize, int maxsize, const char *test_buf);
        int UI_add_input_boolean(UI *ui, const char *prompt, const char *action_desc,
               const char *ok_chars, const char *cancel_chars,
               int flags, char *result_buf);
        int UI_dup_input_boolean(UI *ui, const char *prompt, const char *action_desc,
               const char *ok_chars, const char *cancel_chars,
               int flags, char *result_buf);
        int UI_add_info_string(UI *ui, const char *text);
        int UI_dup_info_string(UI *ui, const char *text);
        int UI_add_error_string(UI *ui, const char *text);
        int UI_dup_error_string(UI *ui, const char *text);

        /* These are the possible flags.  They can be or'ed together. */
        #define UI_INPUT_FLAG_ECHO             0x01
        #define UI_INPUT_FLAG_DEFAULT_PWD      0x02

        char *UI_construct_prompt(UI *ui_method,
               const char *object_desc, const char *object_name);

        void *UI_add_user_data(UI *ui, void *user_data);
        void *UI_get0_user_data(UI *ui);

        const char *UI_get0_result(UI *ui, int i);

        int UI_process(UI *ui);

        int UI_ctrl(UI *ui, int cmd, long i, void *p, void (*f)());
        #define UI_CTRL_PRINT_ERRORS           1
        #define UI_CTRL_IS_REDOABLE            2

        void UI_set_default_method(const UI_METHOD *meth);
        const UI_METHOD *UI_get_default_method(void);
        const UI_METHOD *UI_get_method(UI *ui);
        const UI_METHOD *UI_set_method(UI *ui, const UI_METHOD *meth);

        UI_METHOD *UI_OpenSSL(void);

<b>DESCRIPTION</b>
       UI stands for User Interface, and is general purpose set of routines to prompt the user for text-<font color="#ffffff" class="whiteout">based&nbsp;textbased</font>
       based information.  Through user-written methods (see <!-- a --><u>ui</u><b>_</b><u>create</u>(3)<!-- /a -->), prompting can be done in any way
       imaginable, be it plain text prompting, through dialog boxes or from a cell phone.

       All the functions work through a context of the type UI.  This context contains all the information
       needed to prompt correctly as well as a reference to a UI_METHOD, which is an ordered vector of
       functions that carry out the actual prompting.

       The first thing to do is to create a UI with <u>UI</u><b>_</b><u>new()</u> or <u>UI</u><b>_</b><u>new</u><b>_</b><u>method()</u>, then add information to it
       with the UI_add or UI_dup functions.  Also, user-defined random data can be passed down to the
       underlying method through calls to UI_add_user_data.  The default UI method doesn't care about these
       data, but other methods might.  Finally, use <u>UI</u><b>_</b><u>process()</u> to actually perform the prompting and
       <u>UI</u><b>_</b><u>get0</u><b>_</b><u>result()</u> to find the result to the prompt.

       A UI can contain more than one prompt, which are performed in the given sequence.  Each prompt gets
       an index number which is returned by the UI_add and UI_dup functions, and has to be used to get the
       corresponding result with <u>UI</u><b>_</b><u>get0</u><b>_</b><u>result()</u>.

       The functions are as follows:

       <u>UI</u><b>_</b><u>new()</u> creates a new UI using the default UI method.  When done with this UI, it should be freed
       using <u>UI</u><b>_</b><u>free()</u>.

       <u>UI</u><b>_</b><u>new</u><b>_</b><u>method()</u> creates a new UI using the given UI method.  When done with this UI, it should be
       freed using <u>UI</u><b>_</b><u>free()</u>.

       <u>UI</u><b>_</b><u>OpenSSL()</u> returns the built-in UI method (note: not the default one, since the default can be
       changed.  See further on).  This method is the most machine/OS dependent part of OpenSSL and normally
       generates the most problems when porting.

       <u>UI</u><b>_</b><u>free()</u> removes a UI from memory, along with all other pieces of memory that's connected to it,
       like duplicated input strings, results and others.

       <u>UI</u><b>_</b><u>add</u><b>_</b><u>input</u><b>_</b><u>string()</u> and <u>UI</u><b>_</b><u>add</u><b>_</b><u>verify</u><b>_</b><u>string()</u> add a prompt to the UI, as well as flags and a
       result buffer and the desired minimum and maximum sizes of the result.  The given information is used
       to prompt for information, for example a password, and to verify a password (i.e. having the user
       enter it twice and check that the same string was entered twice).  <u>UI</u><b>_</b><u>add</u><b>_</b><u>verify</u><b>_</b><u>string()</u> takes and
       extra argument that should be a pointer to the result buffer of the input string that it's supposed
       to verify, or verification will fail.

       <u>UI</u><b>_</b><u>add</u><b>_</b><u>input</u><b>_</b><u>boolean()</u> adds a prompt to the UI that's supposed to be answered in a boolean way, with
       a single character for yes and a different character for no.  A set of characters that can be used to
       cancel the prompt is given as well.  The prompt itself is really divided in two, one part being the
       descriptive text (given through the <u>prompt</u> argument) and one describing the possible answers (given
       through the <u>action</u><b>_</b><u>desc</u> argument).

       <u>UI</u><b>_</b><u>add</u><b>_</b><u>info</u><b>_</b><u>string()</u> and <u>UI</u><b>_</b><u>add</u><b>_</b><u>error</u><b>_</b><u>string()</u> add strings that are shown at the same time as the
       prompt for extra information or to show an error string.  The difference between the two is only
       conceptual.  With the builtin method, there's no technical difference between them.  Other methods
       may make a difference between them, however.

       The flags currently supported are UI_INPUT_FLAG_ECHO, which is relevant for <u>UI</u><b>_</b><u>add</u><b>_</b><u>input</u><b>_</b><u>string()</u> and
       will have the users response be echoed (when prompting for a password, this flag should obviously not
       be used, and UI_INPUT_FLAG_DEFAULT_PWD, which means that a default password of some sort will be used
       (completely depending on the application and the UI method).

       <u>UI</u><b>_</b><u>dup</u><b>_</b><u>input</u><b>_</b><u>string()</u>, <u>UI</u><b>_</b><u>dup</u><b>_</b><u>verify</u><b>_</b><u>string()</u>, <u>UI</u><b>_</b><u>dup</u><b>_</b><u>input</u><b>_</b><u>boolean()</u>, <u>UI</u><b>_</b><u>dup</u><b>_</b><u>info</u><b>_</b><u>string()</u> and
       <u>UI</u><b>_</b><u>dup</u><b>_</b><u>error</u><b>_</b><u>string()</u> are basically the same as their UI_add counterparts, except that they make
       their own copies of all strings.

       <u>UI</u><b>_</b><u>construct</u><b>_</b><u>prompt()</u> is a helper function that can be used to create a prompt from two pieces of
       information: an description and a name.  The default constructor (if there is none provided by the
       method used) creates a string "Enter <u>description</u> for <u>name</u>:".  With the description "pass phrase" and
       the file name "foo.key", that becomes "Enter pass phrase for foo.key:".  Other methods may create
       whatever string and may include encodings that will be processed by the other method functions.

       <u>UI</u><b>_</b><u>add</u><b>_</b><u>user</u><b>_</b><u>data()</u> adds a piece of memory for the method to use at any time.  The builtin UI method
       doesn't care about this info.  Note that several calls to this function doesn't add data, it replaces
       the previous blob with the one given as argument.

       <u>UI</u><b>_</b><u>get0</u><b>_</b><u>user</u><b>_</b><u>data()</u> retrieves the data that has last been given to the UI with <u>UI</u><b>_</b><u>add</u><b>_</b><u>user</u><b>_</b><u>data()</u>.

       <u>UI</u><b>_</b><u>get0</u><b>_</b><u>result()</u> returns a pointer to the result buffer associated with the information indexed by <u>i</u>.

       <u>UI</u><b>_</b><u>process()</u> goes through the information given so far, does all the printing and prompting and
       returns.

       <u>UI</u><b>_</b><u>ctrl()</u> adds extra control for the application author.  For now, it understands two commands:
       UI_CTRL_PRINT_ERRORS, which makes <u>UI</u><b>_</b><u>process()</u> print the OpenSSL error stack as part of processing
       the UI, and UI_CTRL_IS_REDOABLE, which returns a flag saying if the used UI can be used again or not.

       <u>UI</u><b>_</b><u>set</u><b>_</b><u>default</u><b>_</b><u>method()</u> changes the default UI method to the one given.

       <u>UI</u><b>_</b><u>get</u><b>_</b><u>default</u><b>_</b><u>method()</u> returns a pointer to the current default UI method.

       <u>UI</u><b>_</b><u>get</u><b>_</b><u>method()</u> returns the UI method associated with a given UI.

       <u>UI</u><b>_</b><u>set</u><b>_</b><u>method()</u> changes the UI method associated with a given UI.

<b>SEE</b> <b>ALSO</b>
       <!-- a --><u>ui</u><b>_</b><u>create</u>(3)<!-- /a -->, <a href="ui_compat.3ssl.html#//apple_ref/doc/man/3/ui_compat"><u>ui</u><b>_</b><u>compat</u>(3)</a>

<b>HISTORY</b>
       The UI section was first introduced in OpenSSL 0.9.7.

<b>AUTHOR</b>
       Richard Levitte (richard@levitte.org) for the OpenSSL project (<a href="http://www.openssl.org)">http://www.openssl.org)</a>



0.9.7l                                           2003-09-30                                            <a href="ui.3ssl.html#//apple_ref/doc/man/3/ui">ui(3)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/UI_add_error_string.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/UI_add_error_string.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/UI_add_error_string.3ssl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
