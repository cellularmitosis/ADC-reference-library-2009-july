<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>EOAdaptorChannel</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">EOAccess Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="More/SubclassingEOAdaptor.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="More/SubclassingEOAdaptorChnnl.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/occ/cl/EOAdaptorChannel">EOAdaptorChannel</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
NSObject

<p><B>Conforms To:</B>
NSObject (NSObject)

<p><B>Declared in:</B>
EOAccess/EOAdaptorChannel.h

<p><a name="814">
<hr width=50% align=left>
<h2>Class Description </h2>
</a>EOAdaptorChannel is an abstract class that provides its concrete subclasses with a structure for performing database operations. It's associated with EOAdaptor and EOAdaptorContext, which, together with EOAdaptorChannel, form the <em>adaptor level</em> of Enterprise Objects Framework's access layer. See the EOAdaptor class specification for more information about accessing, creating, and using adaptor level objects.<p>
A concrete subclass of EOAdaptorChannel provides database-specific method implementations and represents an independent communication channel to the database server to which its EOAdaptor object is connected. You never interact with instances of the EOAdaptorChannel class, rather your Enterprise Objects Framework applications use instances of concrete subclasses that are written to interact with a specific database or other persistent storage system. To create an instance of a concrete EOAdaptorChannel subclass, you send a <B>createAdaptorChannel </B> message to an instance of the corresponding EOAdaptorContext subclass. You rarely create adaptor channels yourself. They are generally created automatically by other framework objects.<p>
You use an adaptor channel to manipulate rows (records) by selecting, fetching, inserting, deleting, and updating them. An adaptor channel also gives you access to some of the metadata on the server, such as what stored procedures exist, what tables exist, and what their basic attributes and relationships are.<p>
All of an adaptor channel's operations take place within the context of transactions controlled or tracked by its EOAdaptorContext. An adaptor context may manage several channels (though not all can), but a channel is associated with only one context.<p>
<a name="883">
<hr width=50% align=left>
<h2> Notifying the Adaptor Channel's Delegate</h2>
</a>You can assign a delegate to an adaptor channel. The EOAdaptorChannel sends certain messages directly to the delegate, and the delegate responds to these messages on the channel's behalf. Many of the adaptor channel methods notify the channel's delegate before and after an operation is performed. Some delegate methods, such as <a href="../Protocols/EOAdaptorChannelDelegate.html#1148"><code>adaptorChannel:shouldEvaluateExpression:</code></a>, let the delegate determine whether the channel should perform an operation. Others, such as <a href="../Protocols/EOAdaptorChannelDelegate.html#1127"><code>adaptorChannel:didEvaluateExpression:</code></a>, are simply notifications that an operation has occurred. The delegate has an opportunity to respond by implementing the delegate methods. If the delegate wants to intervene, it implements <code>adaptorChannel:shouldEvaluateExpression:</code>. If it simply wants notification when a transaction has begun, it implements <code>adaptorChannel:didEvaluateExpression:</code>.<p>
The principal attributes of the EOAdaptorChannel class are:<p>
<ul><li>Adaptor context
<li>Delegate
</ul>Other framework classes create EOAdaptorChannel objects, using EOAdaptorContext's <a href="EOAdaptorContext.html#3902"><code>createAdaptorChannel</code></a> method, which both creates an adaptor channel and assigns its context.<p>
The following table lists EOAdaptorChannel's more commonly-used methods:<p>
<Table Border="3">
<caption></caption>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1062">openChannel</a>
</td><td>Opens the channel so it can perform database operations.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#5222">closeChannel</a>
</td><td>Close the channel.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1090">selectAttributes:fetchSpecification:lock:entity:</a>
</td><td>Selects rows matching the specified qualifier.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#6395">fetchRowWithZone:</a>
</td><td>Fetches a row resulting from the last <code>selectAttributes:
fetchSpecification:lock:entity:</code>, 
<code>executeStoredProcedure:withValues:</code>, or 
<code>evaluateExpression:</code>.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1031">insertRow:forEntity:</a>
</td><td>Inserts the specified row.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#6637">updateValues:inRowsDescribedByQualifier:entity:</a>
</td><td>Updates the row described by the specified qualifier.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#5264">deleteRowDescribedByQualifier:entity:</a>
</td><td>Deletes the row described by the specified qualifier.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#6374">executeStoredProcedure:withValues:</a>
</td><td>Performs the specified stored procedure.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1009">evaluateExpression:</a>
</td><td>Sends the specified expression to the database.
</td></tr>

</Table>

<Table>
<tr><td scope="row">
</Table>
<p>
<Table Border="3">
<caption></caption>
<tr><td><a href="EOAdaptorChannel.html#1062">- openChannel</a>
</td><td>Opens the channel so it can perform database operations.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#5222">- closeChannel</a>
</td><td>Close the channel.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1090">- selectAttributes:fetchSpecification:lock:entity:</a>
</td><td>Selects rows matching the specified qualifier.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#6395">- fetchRowWithZone:</a>
</td><td>Fetches a row resulting from the last <code>select...</code>, 
<code>executeStoredProcedure...</code>, or <code>evaluateExpression:</code>.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1031">- insertRow:forEntity:</a>
</td><td>Inserts the specified row.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1111">- updateValues:inRowDescribedByQualifier:entity:</a>
</td><td>Updates the row described by the specified qualifier.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#5264">- deleteRowDescribedByQualifier:entity:</a>
</td><td>Deletes the row described by the specified qualifier.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#6374">- executeStoredProcedure:withValues:</a>
</td><td>Performs the specified stored procedure.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1009">- evaluateExpression:</a>
</td><td>Sends the specified expression to the database.
</td></tr>
<tr><td scope="row"><a href="EOAdaptorChannel.html#1066">- performAdaptorOperation:</a>
</td><td>Performs an adaptor operation by invoking the 
EOAdaptorChannel method appropriate for performing the 
specified operation.
</td></tr>

</Table>

<Table>
<tr><td>
</Table>
<p>
For more information on subclassing EOAdaptorChannel, see <a href="More/SubclassingEOAdaptorChnnl.html#3533">"Creating an EOAdaptorChannel Subclass"</a>.<p>
<a name="4893">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Accessing the adaptor context
<dl><dt><a href="EOAdaptorChannel.html#4685">- adaptorContext</a>
</dl><dt>Opening and closing a channel
<dl><dt><a href="EOAdaptorChannel.html#1062">- openChannel</a>
<dt><a href="EOAdaptorChannel.html#5222">- closeChannel</a>
<dt><a href="EOAdaptorChannel.html#1051">- isOpen</a>
</dl><dt>Creating an EOAdaptorChannel
<dl><dt><a href="EOAdaptorChannel.html#14572">- initWithAdaptorContext:</a>
</dl><dt>Modifying rows
<dl><dt><a href="EOAdaptorChannel.html#1031">- insertRow:forEntity:</a>
<dt><a href="EOAdaptorChannel.html#1111">- updateValues:inRowDescribedByQualifier:entity:</a>
<dt><a href="EOAdaptorChannel.html#6637">- updateValues:inRowsDescribedByQualifier:entity:</a>
<dt><a href="EOAdaptorChannel.html#5264">- deleteRowDescribedByQualifier:entity:</a>
<dt><a href="EOAdaptorChannel.html#5294">- deleteRowsDescribedByQualifier:entity:</a>
</dl><dt>Fetching rows
<dl><dt><a href="EOAdaptorChannel.html#1090">- selectAttributes:fetchSpecification:lock:entity:</a>
<dt><a href="EOAdaptorChannel.html#995">- describeResults</a>
<dt><a href="EOAdaptorChannel.html#1097">- setAttributesToFetch:</a>
<dt><a href="EOAdaptorChannel.html#4662">- attributesToFetch</a>
<dt><a href="EOAdaptorChannel.html#6395">- fetchRowWithZone:</a>
<dt><a href="EOAdaptorChannel.html#14488">- dictionaryWithObjects:forAttributes:zone:</a>
<dt><a href="EOAdaptorChannel.html#967">- cancelFetch</a>
<dt><a href="EOAdaptorChannel.html#1042">- isFetchInProgress</a>
</dl><dt>Invoking stored procedures
<dl><dt><a href="EOAdaptorChannel.html#6374">- executeStoredProcedure:withValues:</a>
<dt><a href="EOAdaptorChannel.html#1086">- returnValuesForLastStoredProcedureInvocation</a>
</dl><dt>Assigning primary keys
<dl><dt><a href="EOAdaptorChannel.html#1084">- primaryKeyForNewRowWithEntity:</a>
</dl><dt>Sending SQL to the server
<dl><dt><a href="EOAdaptorChannel.html#1009">- evaluateExpression:</a>
</dl><dt>Batch processing operations
<dl><dt><a href="EOAdaptorChannel.html#1066">- performAdaptorOperation:</a>
<dt><a href="EOAdaptorChannel.html#1071">- performAdaptorOperations:</a>
</dl><dt>Accessing schema information
<dl><dt><a href="EOAdaptorChannel.html#1002">- describeTableNames</a>
<dt><a href="EOAdaptorChannel.html#999">- describeStoredProcedureNames</a>
<dt><a href="EOAdaptorChannel.html#960">- addStoredProceduresNamed:toModel:</a>
<dt><a href="EOAdaptorChannel.html#5316">- describeModelWithTableNames:</a>
</dl><dt>Debugging
<dl><dt><a href="EOAdaptorChannel.html#1102">- setDebugEnabled:</a>
<dt><a href="EOAdaptorChannel.html#1038">- isDebugEnabled</a>
</dl><dt>Accessing the delegate
<dl><dt><a href="EOAdaptorChannel.html#976">- delegate</a>
<dt><a href="EOAdaptorChannel.html#1107">- setDelegate:</a>
</dl></dl><a name="4683">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="4685">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/adaptorContext">adaptorContext</a></h3>
</a>- (EOAdaptorContext *)<B>adaptorContext </B> <p>
Returns the receiver's EOAdaptorContext. A subclass of EOAdaptorChannel doesn't need to override this method.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#14572">- <code>initWithAdaptorContext:</code></a>
<p><a name="960">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/addStoredProceduresNamed:toModel:">addStoredProceduresNamed:toModel:</a></h3>
</a>- (void)<B>addStoredProceduresNamed: </B>(NSArray *)<em>storedProcedureNames</em> <br><B>toModel: </B>(EOModel *)<em>model</em><p>
Overridden by subclasses to create EOStoredProcedure objects for the stored procedures named in <em>storedProcedureNames</em> and then to add them to <em>model</em>. This method is used in conjunction with <B><a href="EOAdaptorChannel.html#999"> </B><code>describeStoredProcedureNames</code><B></a> </B> to build a default model in EOModeler. Raises an exception if an error occurs.<p>
<a name="4662">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/attributesToFetch">attributesToFetch</a></h3>
</a>- (NSArray *)<B>attributesToFetch </B> <p>
Implemented by subclasses to return the set of attributes to retrieve when <a href="EOAdaptorChannel.html#6395"><code>fetchRowWithZone:</code></a> is next invoked. An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1097"><code>setAttributesToFetch:</code></a>
<p><a name="967">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/cancelFetch">cancelFetch</a></h3>
</a>- (void)<B>cancelFetch </B> <p>
Implemented by subclasses to clear all result sets established by the last <code><a href="EOAdaptorChannel.html#1090">selectAttributes:fetchSpecification:lock:entity:</a></code>, <a href="EOAdaptorChannel.html#6374"><code>executeStoredProcedure:withValues:</code></a>, or <a href="EOAdaptorChannel.html#1009"><code>evaluateExpression:</code></a> message and terminate the current fetch, so that <code>isFetchInProgress</code> returns NO.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<a name="5222">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/closeChannel">closeChannel</a></h3>
</a>- (void)<B>closeChannel </B> <p>
Implemented by subclasses to close the EOAdaptorChannel so that it can't perform operations with the server. Any fetch in progress is canceled. If the receiver is the last open channel in an adaptor context and if the channel's adaptor context has outstanding transactions, closing the channel has server-dependent results: some database servers roll back all outstanding transactions but others do nothing. Regardless of whether outstanding transactions are rolled back, this method has the side effect of closing the receiver's adaptor context's connection with the database if the receiver is its adaptor context's last open channel.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#967">- <code>cancelFetch</code></a>, <a href="EOAdaptorContext.html#637">- <code>transactionNestingLevel</code></a> (EOAdaptorContext)
<p><a name="976">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/delegate">delegate</a></h3>
</a>- (id)<B>delegate </B> <p>
Returns the receiver's delegate, or <code>nil</code> if the receiver doesn't have a delegate. A subclass of EOAdaptorChannel doesn't need to override this method.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1107"><code>setDelegate:</code></a>
<p><a name="5264">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/deleteRowDescribedByQualifier:entity:">deleteRowDescribedByQualifier:entity:</a></h3>
</a>- (void)<B>deleteRowDescribedByQualifier: </B>(EOQualifier *)<em>qualifier </em><B>entity: </B>(EOEntity *)<em>entity</em> <p>
Deletes the row described by <em>qualifier</em> from the database table corresponding to <em>entity</em>. Invokes <code><a href="EOAdaptorChannel.html#5294">deleteRowsDescribedByQualifier:entity:</a></code> and raises an exception unless exactly one row is deleted. A subclass of EOAdaptorChannel doesn't need to override this method.<p>
<a name="5294">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/deleteRowsDescribedByQualifier:entity:">deleteRowsDescribedByQualifier:entity:</a></h3>
</a>- (unsigned int)<B>deleteRowsDescribedByQualifier: </B>(EOQualifier *)<em>qualifier </em><B>entity: </B>(EOEntity *)<em>entity</em> <p>
Implemented by subclasses to delete the rows described by <em>qualifier</em> from the database table corresponding to <em>entity</em>. Returns the number of rows deleted. Raises an exception on failure. Some possible reasons for failure are:<p>
<ul><li>The adaptor channel isn't open
<li>The adaptor channel is in an invalid state (for example, it's fetching).
<li>An error occurs in the database server
</ul>An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#5264">- <code>deleteRowDescribedByQualifier:entity:</code></a>, <a href="EOAdaptorChannel.html#1051">- <code>isOpen</code></a>, <a href="EOAdaptorChannel.html#1042">- <code>isFetchInProgress</code></a>, 
 <code><a href="EOAdaptorContext.html#637">- transactionNestingLevel</a></code> (EOAdaptorContext)
<p><a name="5316">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/describeModelWithTableNames:">describeModelWithTableNames:</a></h3>
</a>- (EOModel *)<B>describeModelWithTableNames: </B>(NSArray *)<em>tableNames</em> <p>
Overridden by subclasses to create and return a default model containing entities for the tables specified in <em>tableNames</em>. Assigns the adaptor name and connection dictionary to the new model. This method is typically used in conjunction with <code>describeTableNames</code> and <a href="EOAdaptorChannel.html#999"><code>describeStoredProcedureNames</code></a>.<p>
EOAdaptorChannel's implementation does nothing. An adaptor channel subclass should override this method to create a default model from the database's metadata.<p>
<a name="995">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/describeResults">describeResults</a></h3>
</a>- (NSArray *)<B>describeResults </B> <p>
Implemented by subclasses to return an array of EOAttributes describing the properties available in the current result set, as determined by <code>selectAttributes:describedByQualifier:fetchOrder:lock:</code>, <a href="EOAdaptorChannel.html#6374"><code>executeStoredProcedure:withValues:</code></a>, or a statement evaluated by <code>evaluateExpression:</code>. Only invoke this method if a fetch is in progress as determined by <a href="EOAdaptorChannel.html#1042"><code>isFetchInProgress</code></a>.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<a name="999">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/describeStoredProcedureNames">describeStoredProcedureNames</a></h3>
</a>- (NSArray *)<B>describeStoredProcedureNames </B> <p>
Overridden by subclasses to read and return an array of stored procedure names from the database. This method is used in conjunction with <B>addStoredProceduresNamed:toModel: </B> to build a default model in EOModeler. Raises an exception if an error occurs.<p>
<a name="1002">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/describeTableNames">describeTableNames</a></h3>
</a>- (NSArray *)<B>describeTableNames </B> <p>
Overridden by subclasses to read and return an array of table names from the database. This method in conjunction with <a href="EOAdaptorChannel.html#5316"><code>describeModelWithTableNames:</code></a> is used to build a default model.<p>
EOAdaptorChannel's implementation simply returns <code>nil</code>. An adaptor channel subclass should override this method to construct an array of table names from database metadata.<p>
<a name="14488">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/dictionaryWithObjects:forAttributes:zone:">dictionaryWithObjects:forAttributes:zone:</a></h3>
</a>- (NSMutableDictionary *)<B>dictionaryWithObjects: </B>(id *)<em>objects<br></em><B>forAttributes: </B>(NSArray *)<em>attributes<br></em><B>zone: </B>(NSZone *)<em>zone</em> <p>
Used by EOAdaptorChannel subclasses to create dictionaries that can be returned from <code><a href="EOAdaptorChannel.html#6395">fetchRowWithZone:</a></code>. You don't ordinarily invoke this method unless you are writing your own concrete adaptor. If you are writing a concrete adaptor, use of this method is optional but strongly recommended because it enables performance optimizations. The objects in <em>objects</em> are the values for the row that correspond to the EOAttribute objects in <em>attributes</em>. The dictionary representation of the row is created from <em>zone</em>.<p>
A subclass of EOAdaptorChannel shouldn't override this method.<p>
<a name="1009">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/evaluateExpression:">evaluateExpression:</a></h3>
</a>- (void)<B>evaluateExpression: </B>(EOSQLExpression *)<em>expression</em> <p>
Implemented by subclasses to send <em>expression</em> to the database server for evaluation, beginning a transaction first and committing it after evaluation if a transaction isn't already in progress. Raises an exception if an error occurs. An EOAdaptorChannel uses this method to send SQL expressions to the database.<p>
If <em>expression</em> results in a select operation being performed, you can fetch the results as you would if you had sent a <a href="EOAdaptorChannel.html#1090"><code>selectAttributes:fetchSpecification:lock:entity:</code></a>. You must use the method <a href="EOAdaptorChannel.html#1097"><code>setAttributesToFetch:</code></a> before you begin fetching. Also, if <em>expression</em> evaluates to multiple result sets, you must invoke <code>setAttributesToFetch:</code> before you begin fetching each subsequent set.<p>
<code>evaluateExpression:</code> invokes the delegate methods <code><a href="../Protocols/EOAdaptorChannelDelegate.html#1148">adaptorChannel:shouldEvaluateExpression:</a></code> and <code><a href="../Protocols/EOAdaptorChannelDelegate.html#1127">adaptorChannel:didEvaluateExpression:</a></code>.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation. Note, however, that the upper layers of the Framework never invoke <a href="EOAdaptorChannel.html#1009"><code>evaluateExpression:</code></a> directly. Thus, adaptors for data stores that don't naturally support an expression language (for example, flat file adaptors) don't need to implement this method to work with the Framework.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#6395">- <code>fetchRowWithZone:</code></a>
<p><a name="6374">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/executeStoredProcedure:withValues:">executeStoredProcedure:withValues:</a></h3>
</a>- (void)<B>executeStoredProcedure: </B>(EOStoredProcedure *)<em>storedProcedure<br></em><B>withValues: </B>(NSDictionary *)<em>values</em><p>
Implemented by subclasses to execute <em>storedProcedure</em>. Any arguments to the stored procedure are in <em>values</em>, a dictionary whose keys are the argument names. Use <a href="EOAdaptorChannel.html#6395"><code>fetchRowWithZone:</code></a> to get result rows and <a href="EOAdaptorChannel.html#1086"><code>returnValuesForLastStoredProcedureInvocation</code></a> to get return arguments and result status, if any. Raises an exception if an error occurs.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation. Note, however, that the upper layers of the Framework never invoke <a href="EOAdaptorChannel.html#6374"><code>executeStoredProcedure:withValues:</code></a> directly. Thus, adaptors for data stores that don't support stored procedures (for example, flat file adaptors) don't need to implement this method to work with the Framework<p>
<a name="6395">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/fetchRowWithZone:">fetchRowWithZone:</a></h3>
</a>- (NSMutableDictionary *)<B>fetchRowWithZone: </B>(NSZone *)<em>zone</em> <p>
Implemented by subclasses to fetch the next row from the result set of the last <a href="EOAdaptorChannel.html#1090"><code>selectAttributes:fetchSpecification:lock:entity:</code></a>, <a href="EOAdaptorChannel.html#6374"><code>executeStoredProcedure:withValues:</code></a>, or <a href="EOAdaptorChannel.html#1009"><code>evaluateExpression:</code></a> message sent to the receiver. Returns values for the receiver's <a href="EOAdaptorChannel.html#4662"><code>attributesToFetch</code></a> in a dictionary whose keys are the attribute names. When there are no more rows in the current result set, this method returns <code>nil</code>, and invokes the delegate method <a href="../Protocols/EOAdaptorChannelDelegate.html#1124"><code>adaptorChannelDidChangeResultSet:</code></a> if there are more results sets. When there are no more rows or result sets, this method returns <code>nil</code>, ends the fetch, and invokes <a href="../Protocols/EOAdaptorChannelDelegate.html#1136"><code>adaptorChannelDidFinishFetching:</code></a>. <a href="EOAdaptorChannel.html#1042"><code>isFetchInProgress</code></a> returns YES until the fetch is canceled or until this method exhausts all result sets and returns <code>nil</code>. This method also invoke the delegate methods <a href="../Protocols/EOAdaptorChannelDelegate.html#1160"><code>adaptorChannelWillFetchRow:</code></a> and <a href="../Protocols/EOAdaptorChannelDelegate.html#1133"><code>adaptorChannel:didFetchRow:</code></a>. Raises an exception if an error occurs.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1097">- <code>setAttributesToFetch:</code></a>
<p><a name="14572">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/initWithAdaptorContext:">initWithAdaptorContext:</a></h3>
</a>- <B>initWithAdaptorContext: </B>(EOAdaptorContext *)<em>adaptorContext</em> <p>
The designated initializer for the EOAdaptorChannel class, this method is overridden by subclasses to initialize a newly allocated EOAdaptorChannel subclass and retain <em>adaptorContext</em>. Returns <code>self</code>.<p>
You never invoke this method directly unless you are implementing a concrete adaptor context. It is invoked automatically from <code><a href="EOAdaptorContext.html#3902">createAdaptorChannel</a>-</code>the EOAdaptorContext method you use to create a new adaptor channel.<p>
A subclass of EOAdaptorChannel doesn't need to override this method, but may override it to perform additional initialization. A subclass that does override this method must incorporate the superclass's version through a message to <code>super</code>.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#4685">- <code>adaptorContext</code></a>
<p><a name="1031">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/insertRow:forEntity:">insertRow:forEntity:</a></h3>
</a>- (void)<B>insertRow: </B>(NSDictionary *)<em>row </em><B>forEntity: </B>(EOEntity *)<em>entity</em> <p>
Implemented by subclasses to insert the values of <em>row</em> into the table in the database that corresponds to <em>entity</em>. <em>row</em> is a dictionary whose keys are attribute names and whose values are the values to insert. Raises an exception on failure. Some possible reasons for failure are:<p>
<ul><li>The user logged in to the database doesn't have permission to insert a new row.
<li>The adaptor channel is in an invalid state (for example, fetching).
<li>The row fails to satisfy a constraint defined in the database server.
</ul>An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<a name="1038">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/isDebugEnabled">isDebugEnabled</a></h3>
</a>- (BOOL)<B>isDebugEnabled </B> <p>
Returns YES if the adaptor channel logs evaluated SQL and other useful information to the console (or to the standard error stream), NO if not. A subclass of EOAdaptorChannel doesn't need to override this method.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1102">- <code>setDebugEnabled:</code></a>, <a href="EOAdaptorContext.html#620">- <code>setDebugEnabled:</code></a> (EOAdaptorContext)
<p><a name="1042">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/isFetchInProgress">isFetchInProgress</a></h3>
</a>- (BOOL)<B>isFetchInProgress </B> <p>
Implemented by subclasses to return YES if the receiver is fetching, NO otherwise. An adaptor channel is fetching if:<p>
<ul><li>It's been sent a successful <code>selectAttributes:describedByQualifier:fetchOrder:lock:</code> message.
<li>A stored procedure that returns rows has been successfully executed using <a href="EOAdaptorChannel.html#6374"><code>executeStoredProcedure:withValues:</code></a>.
<li>An expression sent through <code>evaluateExpression:</code> resulted in a select operation being performed.
</ul>An adaptor channel stops fetching when there are no more records to fetch or when it's sent a <code>cancelFetch</code> message.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#6395">- <code>fetchRowWithZone:</code></a>
<p><a name="1051">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/isOpen">isOpen</a></h3>
</a>- (BOOL)<B>isOpen </B> <p>
Implemented by subclasses to return YES if the channel has been opened with <code>openChannel</code>, NO if not. An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#5222">- <code>closeChannel</code></a>
<p><a name="1055">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/lockRowComparingAttributes:entity:qualifier:snapshot:">lockRowComparingAttributes:entity:qualifier:snapshot:</a></h3>
</a>- (void)<code>lockRowComparingAttributes:</code>(NSArray *)<em>attributes<br></em><code>entity:</code>(EOEntity *)<em>entity<br></em><code>qualifier:</code>(EOQualifier *)<em>qualifier<br></em><code>snapshot:</code>(NSDictionary *)<em>snapshot</em><p>
Attempts to lock a row in the database by selecting it with locking on. The lock operation succeeds if a select statement generated with <em>qualifier</em> retrieves exactly one row and the values in the row match the values in <em>snapshot</em>, a dictionary whose keys are attribute names and whose values are the values that were last fetched from the database.<p>
<code>lockRowComparingAttributes:entity:qualifier:snapshot:</code> invokes <a href="EOAdaptorChannel.html#1090"><code>selectAttributes:fetchSpecification:lock:entity:</code></a> with <em>attributes</em> as the attributes to select, a fetch specification built from <em>qualifier</em>, locking on, and <em>entity</em> as the entity. If the select returns no rows or more than one row, the method raises an EOGeneralAdaptorException. It also raises an EOGeneralAdaptorException if the values in the returned row don't match the corresponding values in <em>snapshot</em>.<p>
The Framework uses this method whenever it needs to lock a row. When the Framework invokes it, <em>qualifier</em> specifies the primary key of the row to be locked and attributes used for locking to be compared in the database server. If any of the values specified in <em>qualifier</em> are different from the values in the database row, the select operation will not retrieve or lock the row. When this happens, the row to be locked has been updated in the database since it was last retrieved, and it isn't safe to update it.<p>
Some attributes (such as BLOB types) can't be compared in the database. <em>attributes</em> should specify any such attributes. (If the row doesn't contain any such attributes, <em>attributes</em> can be <code>nil</code>.) If <em>qualifier</em> generates a select statement that returns and locks a single row, this method performs an in-memory comparison between the value in the retrieved row and the value in <em>snapshot</em> for each attribute in <em>attributes</em>. Therefore, <em>snapshot</em> must contain an entry for each attribute in <em>attributes</em>. In addition, it must contain an entry for the row's primary key.<p>
A subclass of EOAdaptorChannel doesnt need to override this method.<p>
<a name="1062">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/openChannel">openChannel</a></h3>
</a>- (void)<B>openChannel </B> <p>
Implemented by subclasses to put the channel and both its context and adaptor into a state where they are ready to perform database operations. Raises an exception if an error occurs. An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1051">- <code>isOpen</code></a>, <a href="EOAdaptorChannel.html#5222">- <code>closeChannel</code></a>
<p><a name="1066">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/performAdaptorOperation:">performAdaptorOperation:</a></h3>
</a>- (void)<B>performAdaptorOperation: </B>(EOAdaptorOperation *)<em>adaptorOperation</em> <p>
Performs <em>adaptorOperation</em> by invoking the adaptor channel method appropriate for performing the specified operation. For example, if the adaptor operator for <em>adaptorOperation</em> is EOAdaptorInsertOperator, this method invokes <a href="EOAdaptorChannel.html#1031"><code>insertRow:forEntity:</code></a> using information in <em>adaptorOperation</em> to supply the arguments. Raises an exception if an error occurs.<p>
A subclass of EOAdaptorChannel doesn't need to override this method.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1071">- <code>performAdaptorOperations:</code></a>
<p><a name="1071">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/performAdaptorOperations:">performAdaptorOperations:</a></h3>
</a>- (void)<B>performAdaptorOperations: </B>(NSArray *)<em>adaptorOperations</em> <p>
Performs adaptor operations by invoking <a href="EOAdaptorChannel.html#1066"><code>performAdaptorOperation:</code></a> with each EOAdaptorOperation object in the array <em>adaptorOperations</em>. An adaptor channel subclass may be able to override this method to take advantage of database-specific batch processing capabilities. Invokes the delegate methods <a href="../Protocols/EOAdaptorChannelDelegate.html#1163"><code>adaptorChannel:willPerformOperations:</code></a> and <a href="../Protocols/EOAdaptorChannelDelegate.html#1139"><code>adaptorChannel:didPerformOperations:exception:</code></a>. <p>
This method raises an exception if an error occurs. The exception's userInfo dictionary contains these keys:<p>
<ul><li>EOAdaptorOperationsKey
Corresponds to the array of adaptor operations that's being executed.<p><li>EOFailedAdaptorOperationKey
Corresponds to the particular adaptor operation that failed.<p><li>EOAdaptorFailureKey
If present, offers additional information on the type of error that occurred. Currently, the only possible value for this key is EOAdaptorOptimisticLockingFailure, which indicates that an update or lock operation failed because the row found in the database did not match the snapshot taken when the row was last fetched into the application.<p></ul>A subclass of EOAdaptorChannel doesn't need to override the <B>performAdaptorOperations: </B> method.<p>
<a name="1084">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/primaryKeyForNewRowWithEntity:">primaryKeyForNewRowWithEntity:</a></h3>
</a>- (NSDictionary *)<B>primaryKeyForNewRowWithEntity: </B>(EOEntity *)<em>entity</em> <p>
Overridden by subclasses to return a primary key for a new row in the database table that corresponds to <em>entity</em>. The primary key returned from this method is a dictionary whose keys are the primary key attribute names. For example, suppose you've got a table MOVIE with primary key MOVIE_ID, and the corresponding Movie Entity's primary key attribute is <code>movieID</code>. In this scenario, the dictionary returned from <a href="EOAdaptorChannel.html#1084"><code>primaryKeyForNewRowWithEntity:</code></a> has one entry whose key is <code>movieID</code> and whose value is the unique value to assign. If the primary key is compound (made up of more than one attribute), the dictionary should contain an entry for each primary key attribute. Note, however, that the Enterprise Objects Frameworks adaptors don't handle compound primary keys; they return <code>nil</code> from <a href="EOAdaptorChannel.html#1084"><code>primaryKeyForNewRowWithEntity:</code></a> if the primary key is compound.<p>
If information in <em>entity</em> specifies an adaptor-specific means to assign a new primary key (for example, a sequence name or stored procedure), then this method returns a new primary key. Otherwise, if the key is a simple integer, the method tries to fetch a new primary key from the database using an adaptor-specific scheme. Otherwise, the method returns <code>nil</code>.<p>
EOAdaptorChannel's implementation simply returns <code>nil</code>. See your adaptor channel's documentation for information on how it generates primary keys.<p>
A subclass of EOAdaptorChannel must override this method. For example, to return a value generated by a sequence, you'd create the proper SQL statement (using EOSQLExpression's <code>expressionForString:</code> method) and evaluate it (using the <a href="EOAdaptorChannel.html#1009"><code>evaluateExpression:</code></a> method).<p>
<a name="1086">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/returnValuesForLastStoredProcedureInvocation">returnValuesForLastStoredProcedureInvocation</a></h3>
</a>- (NSDictionary *)<B>returnValuesForLastStoredProcedureInvocation </B> <p>
Implemented by subclasses to return stored procedure parameter and return values. Used in conjunction with <a href="EOAdaptorChannel.html#6374"><code>executeStoredProcedure:withValues:</code></a>. The dictionary returned by this method has entries whose keys are stored procedure parameter names and whose values are the parameter values. The dictionary also contains a special entry for the stored procedures return value with the key "returnValue". Returns an empty dictionary for stored procedures that have void return types. Returns <code>nil</code> if the stored procedure has results to fetch. In this case, you must use <a href="EOAdaptorChannel.html#6395"><code>fetchRowWithZone:</code></a> until there are no more results to fetch before the return value will be available.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<a name="1090">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/selectAttributes:fetchSpecification:lock:entity:">selectAttributes:fetchSpecification:lock:entity:</a></h3>
</a>- (void)<B>selectAttributes: </B>(NSArray *)<em>attributes<br></em><B>fetchSpecification: </B>(EOFetchSpecification *)<em>fetchSpecification<br></em><B>lock: </B>(BOOL)<em>flag<br></em><B>entity: </B>(EOEntity *)<em>entity</em> <p>
Implemented by subclasses to select <em>attributes</em> in rows matching the qualifier in <em>fetchSpecification</em> and set the receiver's attributes to fetch. The selected rows compose one or more result sets, each row of which will be returned by subsequent <a href="EOAdaptorChannel.html#6395"><code>fetchRowWithZone:</code></a> messages according to <em>fetchSpecification</em>'s sort orderings. If <em>flag</em> is YES, the rows are locked if possible so that no other user can modify them (the lock specification in <em>fetchSpecification</em> is ignored). Raises an exception if an error occurs. Some possible reasons for failure are:<p>
<ul><li>The adaptor channel is in an invalid state (for example, fetching).
<li>The database failed to lock the specified rows.
</ul>An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1097">- <code>setAttributesToFetch:</code></a>
<p><a name="1097">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/setAttributesToFetch:">setAttributesToFetch:</a></h3>
</a>- (void)<B>setAttributesToFetch: </B>(NSArray *)<em>attributes</em> <p>
Implemented by subclasses to specify the set of attributes used to describe fetch data from a corresponding select. <em>attributes</em> is an array of the attributes to fetch. This method is invoked after <a href="EOAdaptorChannel.html#1009"><code>evaluateExpression:</code></a> but before the first call to <a href="EOAdaptorChannel.html#6395"><code>fetchRowWithZone:</code></a>. For more information on using this method, see "Sending SQL Statements Directly to the Server" in the "WebObjects Programming Topics." Is that a good cross-reference? This method raises if invoked when there is no fetch in progress.<p>
An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#4662">- <code>attributesToFetch</code></a>, <a href="EOAdaptorChannel.html#1090">- <code>selectAttributes:fetchSpecification:lock:entity:</code></a>
<p><a name="1102">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/setDebugEnabled:">setDebugEnabled:</a></h3>
</a>- (void)<B>setDebugEnabled: </B>(BOOL)<em>flag</em> <p>
Enables debugging in the receiver and all its channels. If <em>flag</em> is YES, enables debugging; otherwise, disables debugging. When debugging is enabled, the adaptor channel logs evaluated SQL and other useful debugging information to the console (or to the standard error stream). The information provided may vary from adaptor to adaptor and may change from release to release.<p>
A subclass of EOAdaptorChannel doesn't need to override this method. A subclass that does override it must incorporate the superclass's version through a message to <code>super</code>.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1038">- <code>isDebugEnabled</code></a>, <a href="EOAdaptorContext.html#620">- <code>setDebugEnabled:</code></a> (EOAdaptorContext)
<p><a name="1107">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/setDelegate:">setDelegate:</a></h3>
</a>- (void)<B>setDelegate: </B>(id)<em>delegate</em> <p>
Sets the receiver's delegate to <em>delegate</em>, or removes its delegate if <em>delegate</em> is <code>nil</code>. The receiver does not retain its delegate. A subclass of EOAdaptorChannel doesn't need to override this method. A subclass that does override it must incorporate the superclass's version through a message to <code>super</code>.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#976">- <code>delegate</code></a>
<p><a name="1111">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/updateValues:inRowDescribedByQualifier:entity:">updateValues:inRowDescribedByQualifier:entity:</a></h3>
</a>- (void)<B>updateValues: </B>(NSDictionary *)<em>values<br></em><B>inRowDescribedByQualifier: </B>(EOQualifier *)<em>qualifier<br></em><B>entity: </B>(EOEntity *)<em>entity</em> <p>
Updates the row described by <em>qualifier</em>. Invokes <code><a href="EOAdaptorChannel.html#6637">updateValues:inRowsDescribedByQualifier:entity:</a></code> and raises an exception unless exactly one row is updated.<p>
A subclass of EOAdaptorChannel doesn't need to override this method.<p>
<a name="6637">
<hr width=25% align=left>
<h3> <a name="//apple_ref/occ/instm/EOAdaptorChannel/updateValues:inRowsDescribedByQualifier:entity:">updateValues:inRowsDescribedByQualifier:entity:</a></h3>
</a>- (unsigned int)<B>updateValues: </B>(NSDictionary *)<em>values<br></em><B>inRowsDescribedByQualifier: </B>(EOQualifier *)<em>qualifier<br></em><B>entity: </B>(EOEntity *)<em>entity</em><p>
Implemented by subclasses to update the rows described by <em>qualifier</em> with the values in <em>values</em>. <em>values</em> is a dictionary whose keys are attribute names and whose values are the new values for those attributes (the dictionary need only contain entries for the attributes being changed). Returns the number of updated rows. Raises an exception if an error occurs. Some possible reasons for failure are:<p>
<ul><li>The user logged in to the database doesn't have permission to update.
<li>The adaptor channel is in an invalid state (for example, fetching).
<li>The new values fail to satisfy a constraint defined in the database server.
</ul>An adaptor channel subclass should override this method without invoking EOAdaptorChannel's implementation.<p>
<B>See also: </B>  
<a href="EOAdaptorChannel.html#1111">- <code>updateValues:inRowDescribedByQualifier:entity:</code></a>
<p><p>

<hr><br>
<a href="More/SubclassingEOAdaptor.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="More/SubclassingEOAdaptorChnnl.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/17/98 17:35:16 -->

</body>
</html>
