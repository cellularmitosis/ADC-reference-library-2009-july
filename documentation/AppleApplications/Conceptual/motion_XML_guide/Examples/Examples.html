<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Motion XML File Format: Customizing a Motion XML Project File</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Customizing a Motion XML Project File"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40007455-CH10" title="Customizing a Motion XML Project File"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000418" target="_top">Apple Applications</a> &gt; <a href="../../../Motion-date.html#//apple_ref/doc/uid/TP30000440-TP30000418-TP40002178" target="_top">Motion</a> &gt; <a href="../About/About.html#//apple_ref/doc/uid/TP40007455-CH3-SW1">Motion XML File Format</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../ChannelParms/ChannelParms.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40007455-CH10-SW1" title="Customizing a Motion XML Project File"></a><h1>Customizing a Motion XML Project File </h1><p>This chapter provides three examples of editing a Motion XML project file. You can use these examples as a starting point to develop your own routines or tools to automate Motion offline editing or management tasks.</p><p>The examples in this chapter are:</p><ul class="ul"><li class="li"><p><span class="content_text">“Modifying Text”</span></p></li><li class="li"><p><span class="content_text"><a href="Examples.html#//apple_ref/doc/uid/TP40007455-CH10-SW10">“Importing Camera Data”</a></span></p></li><li class="li"><p><span class="content_text"><a href="Examples.html#//apple_ref/doc/uid/TP40007455-CH10-SW14">“Swap in New Media”</a></span></p></li></ul>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Examples.html#//apple_ref/doc/uid/TP40007455-CH10-SW2">Modifying Text</a>
				
			<br/>
			
        
			
			
				<a href="Examples.html#//apple_ref/doc/uid/TP40007455-CH10-SW10">Importing Camera Data</a>
				
			<br/>
			
        
			
			
				<a href="Examples.html#//apple_ref/doc/uid/TP40007455-CH10-SW12">Replacing Media Files</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40007455-CH10-SW2" title="Modifying Text"></a><h2>Modifying Text</h2><p>Suppose a Motion project contains a Motion text object whose text is set to “Welcome to Texas”. This text is written with two different fonts: Stone Sans Sem OS ITCTT (a system font) for “Welcome To,” and Script (a LiveFont) for “Texas.”  Also, there is carriage return after the word “to.”</p><p>In this example, the goal is to change the word “Texas” to “California” and the font for “California” to Sunflower.</p><br/><div><a name="//apple_ref/doc/uid/TP40007455-CH10-SW3" title="Figure 7-1Modifying Text"></a><p><strong>Figure 7-1&nbsp;&nbsp;</strong>Modifying Text</p><img src = "../Art/editing_text_objects.jpg" alt = "editing" ></div><br/><p>A Motion text object primarily relies on the following elements to specify its characteristics:</p><ul class="ul"><li class="li"><p><code>text</code></p></li><li class="li"><p><code>object</code></p></li><li class="li"><p><code>styleRun</code></p></li><li class="li"><p><code>style</code></p></li></ul><p>In general, Motion text objects are subelements of a <code>scenenode</code>. If a Motion project contains multiple Motion text objects, each <code>scenenode</code> element with a Motion text object contains its own <code>style</code>, <code>styleRun</code>, <code>text</code> and <code>object</code> elements. To modify a text object, you need to first accurately identify its <code>scenenode</code> and then change the subelements. </p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW4" title="Modifying the text Element"></a><h3>Modifying the text Element</h3><p>First, change the <code>text</code> element. Depending on your XML editor, it appears as:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;text>Welcome to<span></span></pre></td></tr><tr><td scope="row"><pre>Texas&lt;/text><span></span></pre></td></tr></table></div><p>Change this to:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;text>Welcome to<span></span></pre></td></tr><tr><td scope="row"><pre>California&lt;/text><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40007455-CH10-SW5" title="Modifying the object Elements"></a><h3>Modifying the object Elements</h3><p>Motion contains one object element for every glyph in the associated text object:</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW6" title="Listing 7-1Initial Glyphs in the Text Object"></a><p class="codesample"><strong>Listing 7-1&nbsp;&nbsp;</strong>Initial Glyphs in the Text Object</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;object value="87">&lt;! letter "W" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="1" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="101">&lt;! letter "e" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="2" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="108">&lt;! letter "l" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="3" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>. . .<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="84">&lt;! letter "T" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="12" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="101">&lt;! letter "e" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="13" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="120">&lt;! letter "x" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="14" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>. . .<span></span></pre></td></tr></table></div><p>Note the following:</p><ul class="spaceabove"><li class="li"><p>The <code>value=</code> attribute of each <code>object</code> element represents  the decimal ASCII value of the character for each glyph.  The ASCII value should match the associated letter in the text element.</p></li><li class="li"><p>The <code>id=</code> of the <code>Kerning</code> parameter is equal to the index of each glyph, starting with 1.  </p></li><li class="li"><p>For “Welcome to Texas,” there are 16 object elements, one for every character in the text element.  As well, newline, tab, space and other whitespace characters require an object element.</p></li></ul><p>Modifying the glyphs for “Welcome to California,” results in these <code>object</code> elements (partially shown):</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW7" title="Listing 7-2Changed Glyphs in the Text Object"></a><p class="codesample"><strong>Listing 7-2&nbsp;&nbsp;</strong>Changed Glyphs in the Text Object</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;object value="87">&lt;! letter "W" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="1" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="101">&lt;! letter "e" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="2" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="108">&lt;! letter "l" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="3" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>. . .<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="67">&lt;! letter "C" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="12" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="97">&lt;! letter "a" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="13" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;object value="108">&lt;! letter "l" --><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Kerning" id="14" flags="16" value="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/object><span></span></pre></td></tr><tr><td scope="row"><pre>. . .<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40007455-CH10-SW9" title="Modifying the styleRun Element"></a><h3>Modifying the styleRun Element</h3><p>Motion uses <code>styleRun</code> elements to specify the range that text style elements refer to.  Without properly specified <code>styleRun</code> elements, <code>style</code> elements, which encode font information, do not have any effect. </p><p>In the original project file, the <code>styleRun</code> elements appear as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;styleRun style="10032" offset="0" length="11" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;styleRun style="10107" offset="11" length="5" /><span></span></pre></td></tr></table></div><p>The <code>style=</code> attribute refers to the <code>id=</code> attribute of a <code>style</code> element. The <code>length=</code> attribute indictes the span of the <code>styleRun</code>.</p><p>The first <code>styleRun</code> element in this listing refers  the <code>style</code> element that whose font is Stone Sans OS ITCTT. The first 11 characters snap the text “Welcome to “ (including the newline character). </p><p>The second <code>styleRun</code> element begins on the 12th character and spans 5 characters: “Texas”.  </p><p>In the modified project file, the length of the string changes (since “Texas” changes to “California”). The <code>styleRun</code> elements  then change as follows:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;styleRun style="10032" offset="0" length="11" /><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;styleRun style="10107" offset="11" length="10" /><span></span></pre></td></tr></table></div><p>Note the following:</p><ul class="spaceabove"><li class="li"><p>The <code>offset=</code> attribute of the first <code>styleRun</code> element, which refers to the first character the indicated style affects, is 0.</p></li><li class="li"><p>When the lengths of the text strings change, it is important to modify the appropriate <code>styleRun</code> element to ensure that the appropriate text style is applied to the new characters.</p></li><li class="li"><p>Every character in a text object must be associated with a <code>styleRun</code>.  It is important to check for consistency across all <code>styleRun</code> elements and to ensure there are no overlaps and no gaps in the range of characters affected.</p></li></ul><a name="//apple_ref/doc/uid/TP40007455-CH10-SW8" title="Modifying the style Elements"></a><h3>Modifying the style Elements</h3><p>You can change the font applied to “Texas” from Script to Sunflower by modifying the appropriate <code>style</code> element. In the original project file, there are two <code>style</code> elements for the text object.  </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;style name="Style" id="10032" factoryID="1"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;font type="0">StoneSansOSITCTT-SemiIta&lt;/font><span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/style><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;style name="Style1" id="10107" factoryID="1"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;font type="1">Pro Series/Script&lt;/font><span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/style><span></span></pre></td></tr></table></div><p>Since each font has a unique name and a different type, you can use the <code>font</code> element’s <code>type=</code> attribute to identify the <code>font</code> element you want to change. In this case, it is in the second <code>style</code> element with an id= 10107. (If the two style elements have similar characteristics, you can use the <code>id=</code> attribute and the associated <code>styleRun</code> element to identify the correct <code>font</code> element to change.)</p><p>The second font element, whose type attribute refers to a LiveFont and whose contents is the system name of the Script font, pertains to the style element that is associated with the styleRun element spanning the characters in “Texas.”  It is then changed to the following:</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;style name="Style" id="10032" factoryID="1"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;font type="0">StoneSansOSITCTT-SemiIta&lt;/font><span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/style><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;style name="Style1" id="10107" factoryID="1"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;font type="1">Pro Series/Sunflower&lt;/font><span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/style><span></span></pre></td></tr></table></div><p>The <code>id=</code> of the second <code>style</code> element is 10107 and corresponds to the <code>style=</code> attribute of the <code>styleRun</code> element. This element applies to the word “California,” which now appears in the Sunflower font.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40007455-CH10-SW17" title="Note"></a><p><strong>Note:</strong>&nbsp;You can change a <code>font</code> element in order to change the font used by a <code>style</code>. However,  take care to represent the font name and type accurately. (See <span class="content_text"><a href="../ESA/ESA.html#//apple_ref/doc/uid/TP40007455-CH6-SW30">“font”</a></span>).</p></div><a name="//apple_ref/doc/uid/TP40007455-CH10-SW10" title="Importing Camera Data"></a><h2>Importing Camera Data</h2><p>You can import camera data from a third-party application into Motion by editing <code>Position</code>, <code>Rotation</code>, and other relevant parameters for a Motion camera.  The goal is to generate position and rotation information that conforms to Motion’s channel XML structure.</p><p>Suppose the camera data you want to import contains position and rotation information for each frame.</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW11" title="Motion curve and keyframe Elements"></a><h3>Motion curve and keyframe Elements</h3><p>Since Motion supports manual keyframing of parameters, the <code>Position</code> parameter of the Camera is represented as a <code>curve</code> with m <code>keypoint</code> elements. M is the number of frames for which camera data is available.  The interpolation for each <code>keypoint</code> in the curve would is constant.</p><p>If the camera data has 300 frames, the XML for the <code>Position</code> parameter’s <code>X</code> channel would look like this: </p><div class="codesample"><table><tr><td scope="row"><pre>&lt;parameter name="X" id="1" flags="16"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;curve type="1" round="0"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;numberOfKeypoints>300&lt;/numberOfKeypoints><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation="1" flags="32"<span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;time>0&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>20&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation=”1” flags=”32”><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;time>1&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>20.5&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation=”1” flags=”32”><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;time>2&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>21.5&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation=”1” flags=”32”><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;time>299&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>90&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/curve><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/parameter><span></span></pre></td></tr></table></div><p>Note the following points:</p><ul class="spaceabove"><li class="li"><p>The <code>X</code> channel does not contain a <code>value=</code> attribute. Keyframed parameters do not have a constant value and the <code>value=</code> attribute is not relevant.  The <code>curve</code> subelement specifies all the position and time information for the <code>X</code> channel.  See <span class="content_text"><a href="../ESA/ESA.html#//apple_ref/doc/uid/TP40007455-CH6-SW25">“curve”</a></span> for more details.</p></li><li class="li"><p>The <code>curve</code> element contains a <code>numberOfKeypoints</code> subelement specifying the number of data points being imported (300, in this case).  The <code>curve</code> element then has 300 <code>keypoint</code> elements.</p></li><li class="li"><p>Each <code>keypoint</code> element contains <code>time</code> and <code>value</code> subelements that represent the frame at which the data was recorded and the X position for that frame, respectively.  The <code>interpolation=</code> attribute is set to 1, indicating constant interpolation across each keypoint.</p></li><li class="li"><p>The <code>keypoint</code> elements do not contain the usual subelements specifying the input and output tangent times and values. Since the <code>interpolation=</code> attribute is set to a constant, tangent information is not necessary.</p></li><li class="li"><p>The <code>time</code> value for the first <code>keypoint</code> is 0. Internally, Motion refers to the first frame of any project as frame 0.</p></li></ul><p>To finish importing the camera data, you would need to encode information for the Y and Z channels of the camera’s <code>Position</code> parameter, as well as the X, Y and Z channels for the <code>Rotation</code> parameter.</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW12" title="Replacing Media Files"></a><h2>Replacing Media Files</h2><p>The Motion XML project file encodes a variety of links between scene objects and the media files they incorporate. If you understand these links, you can develop tools to automatically replace media files in a project. You can then easily create multiple copies of a project with different footage for each copy.</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW19" title="Top-level Media Elements"></a><h3>Top-level Media Elements</h3><p>Here is an XML example that displays top-level elements that are relevant to media and that are not described elsewhere in this document:</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW18" title="Listing 7-3Top-level Media Elements"></a><p class="codesample"><strong>Listing 7-3&nbsp;&nbsp;</strong>Top-level Media Elements</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;ozml version="3.0"><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;scene><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;sceneSettings><span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;frameRate>30&lt;/frameRate><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;NTSC>1&lt;/NTSC><span></span></pre></td></tr><tr><td scope="row"><pre>    ...<span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;/sceneSettings><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;timeRange offset="0" duration="4172" /><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;playRange offset="0" duration="4172" /><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/scene><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/ozml><span></span></pre></td></tr></table></div><ul class="spaceabove"><li class="li"><p><code>scene</code>: encodes scene settings, export settings, and the Motion scene graph. This element is a subelement of the <code>ozml</code> declaration element.</p></li><li class="li"><p><code>sceneSettings</code>: encodes Motion scene settings. This element is a subelement of <code>scene</code>.</p></li><li class="li"><p><code>frameRate </code>(unsigned integer): encodes the framerate of a Motion project. This element is a subelement of <code>sceneSettings</code>.  Note that the framerate is saved as an integer rate. The true framerate for the project is determined by the <code>NTSC</code> element.</p></li><li class="li"><p><code>NTSC</code> (Boolean): indicates if the project is an NTSC project. This element is a subelement of <code>sceneSettings</code>.  When the <code>NTSC</code> element is set to TRUE, the value in <code>frameRate</code> is adjusted internally to conform with NTSC standards. For example, 30 fps is adjusted to 29.97 fps.</p></li><li class="li"><p><code>timeRange</code>: the visible time range on the Motion Canvas. This element is a subelement of <code>scene</code> and contains the following attributes: <code>offset=</code> (frame): the frame at which the visible time range begins; <code>duration=</code> (unsigned integer): the number of frames visible on the time range.</p></li><li class="li"><p><code>playRange</code>: the playable time range on the Motion timeline. This element is a subelement of <code>scene</code> and contains the following attributes: <code>offset=</code> (frame): the frame at which playback begins; <code>duration=</code> (unsigned integer): the number of frames to play.</p></li></ul><a name="//apple_ref/doc/uid/TP40007455-CH10-SW20" title="Steps for the Task"></a><h3>Steps for the Task</h3><p>Suppose there is a Motion project with a media file named “oldMovie.mov” and that you want to replace it with a different file called “newMovie.mov.” (You will use the new footage at its defalt frame rate without retiming.)</p><p>The steps to follow are:</p><ul class="spaceabove"><li class="li"><p>Identify the <code>scenenode</code> referring to the relevant footage.</p></li><li class="li"><p>Replace the old footage with new footage.</p></li><li class="li"><p>Modify the accompanying audio data if necessary.</p></li><li class="li"><p>Modify the scenenode referring to the relevant footage if necessary.</p></li></ul><a name="//apple_ref/doc/uid/TP40007455-CH10-SW13" title="Identify the scenenode"></a><h3>Identify the scenenode</h3><p>The following XML example displays the <code>scenenode</code> with the relevant information:</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW21" title="Listing 7-4Finding the scenenode"></a><p class="codesample"><strong>Listing 7-4&nbsp;&nbsp;</strong>Finding the scenenode</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;scenenode name="My movie object" id="1056774" factoryID="1" version="3"><span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;linkedobjects>1056776&lt;/linkedobjects><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;timing in="0" out="4171" offset="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Properties" id="1" flags="4112"><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name=”Media” id=”300” flags=”65552” value=”1056770” /><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre> ...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/scenenode><span></span></pre></td></tr><tr><td scope="row"><pre>...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;footage name="Media Layer" id="1056771"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;clip name="oldMovie" id="1056770"><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;pathURL>file://localhost/Users/steve/Movies/oldMovie.mov&lt;/pathURL><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/footage><span></span></pre></td></tr></table></div><p>Note these points:</p><ul class="spaceabove"><li class="li"><p>This <code>scenenode</code> element contains a <code>Properties</code> parameter that, in turn, contains a <code>Media</code> parameter.  The<code> value=</code> attribute of this <code>Media</code> parameter (1056770) references the<code> id=</code> attribute of a <code>clip</code> element. This clip element specifies the media that you want to change. 
</p></li><li class="li"><p>The <code>linkedObjects</code> element references an<code> audioTrack</code> element that contains audio information related to  the <code>clip</code> element.</p></li></ul><a name="//apple_ref/doc/uid/TP40007455-CH10-SW14" title="Swap in New Media"></a><h3>Swap in New Media</h3><p>In general, a media file in Motion is specified by a <code>clip</code> element that is a subelement of a <code>footage</code> element. (See <span class="content_text"><a href="../ESA/ESA.html#//apple_ref/doc/uid/TP40007455-CH6-SW18">“clip.”</a></span>)</p><p>Here is the XML specifying the current media file (“oldMovie”):</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW22" title="Listing 7-5Current Media File"></a><p class="codesample"><strong>Listing 7-5&nbsp;&nbsp;</strong>Current Media File</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;footage name="Media Layer" id="1056771"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;clip name="oldMovie" id="1056770"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;pathURL>file://localhost/Users/steve/Movies/oldMovie.mov&lt;/pathURL><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;missingWidth>1920&lt;/missingWidth><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;missingHeight>816&lt;/missingHeight><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;missingDuration>139.1808475&lt;/missingDuration><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;creationDuration>4172&lt;/creationDuration><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;timing in="0" out="4171" offset="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name=”Object” id=”2” flags=”4176”><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Frame Rate" id="107" flags="64" value="23.976" /><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Fixed Width" id="114" flags="66" value="1920" /><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Fixed Height" id="115" flags="66" value="816" /><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/footage><span></span></pre></td></tr></table></div><p>To swap in the new media file:</p><ul class="spaceabove"><li class="li"><p><code>name=</code>: As appropriate, change the <code>name=</code> attribute of the <code>clip</code> element to reflect the name of the new clip.</p></li><li class="li"><p><code>pathURL</code>: Set the value of this element to a URL pointing to the new media file.</p></li><li class="li"><p><code>relativeURL</code>: If applicable, set the value of this element to a relative URL pointing to the new media file.
</p></li><li class="li"><p><code>missingWidth</code>: Set the value of this element to the image width of the new media file.
</p></li><li class="li"><p><code>missingHeight</code>: Set the value of this element to the image height of the new media file.
 </p></li><li class="li"><p><code>missingDuration</code>: Set the value of this element to the duration of the new media file, in seconds.  If the current media file is a still image, the value should be the reciprocal of the project frame rate.
</p></li><li class="li"><p><code>creationDuration</code>: Set the value of this element to the number of frames this media file represents in the Motion project.  This value is equal to <code>missingDuration</code> multiplied by the project’s frame rate, rounded up to the nearest integer.</p><p>The project’s frame rate is set in the <code>frameRate</code> subelement of the <code>sceneSettings</code> element, which itself is a subelement of the <code>scene</code> element. (See <span class="content_text"><a href="Examples.html#//apple_ref/doc/uid/TP40007455-CH10-SW18">Listing 7-3</a></span>.)</p><p>For NTSC projects, the frame rate must be adjusted to match standard NTSC framerates (for example, a 30 fps project will be 29.976 fps).  The <code>NTSC</code> subelement of the <code>sceneSettings</code> element is set to 1 if the project is an NTSC project.</p></li><li class="li"><p><code>timing</code>: Set the <code>in=</code> and <code>out=</code> attributes to the desired beginning and end points for the clip.  If the length of the new media file differs from the media file it replaces, you should modify this element to ensure that the entire media file plays back.</p></li><li class="li"><p><code>Frame Rate</code>: Set this parameter to match the frame rate of the media file.  A value differing from the media file’s natural frame rate may introduce timing discrepancies during playback or export.</p></li><li class="li"><p><code>Fixed Width</code>,<code> Fixed Height</code>: Set the value of these parameters to the media file’s width and height, respectively.</p></li></ul><p>The current clip (“oldMovie.mov”) is a 23.976 fps HD movie 139.18 seconds in length. The new clip ( “newMovie.mov”) is a 29.976 fps HD movie that is 111.14 seconds long.. Making all the appropriate changes in the <code>clip</code> element to swap in the new clip results in the following XML:</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW23" title="Listing 7-6New Media File"></a><p class="codesample"><strong>Listing 7-6&nbsp;&nbsp;</strong>New Media File</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;footage name="Media Layer" id="1056771"><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;clip name="newMovie" id="1056770"><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;pathURL>file://localhost/Users/steve/Movies/newMovie.mov&lt;/pathURL><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;missingWidth>1920&lt;/missingWidth><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;missingHeight>816&lt;/missingHeight><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;missingDuration>111.14&lt;/missingDuration><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;creationDuration>3332&lt;/creationDuration><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;timing in="0" out="3331" offset="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Object" id="2" flags="4176"><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Frame Rate" id="107" flags="64" value="29.976" /><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Fixed Width" id="114" flags="66" value="1920" /><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Fixed Height" id="115" flags="66" value="816" /><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/footage><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40007455-CH10-SW24" title="Modify the Audio Track"></a><h3>Modify the Audio Track</h3><p>Media files that contain audio may require modifying the <code>audiotrack</code> element associated with the <code>clip</code> element.</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW25" title="Listing 7-7Current Audio"></a><p class="codesample"><strong>Listing 7-7&nbsp;&nbsp;</strong>Current Audio</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;audio name="Audio Layer" id="1056777"><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;audioTrack name="oldMovie" id="1056776"><span></span></pre></td></tr><tr><td scope="row"><pre> ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;linkedObjects>1056774&lt;/linkedObjects><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;timing in="0" out="4171" offset="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Properties" id="1" flags="4112"><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Media" id="104" flags="65552" value="1056770" /><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Retime Value" id="109" flags="131090"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;curve type="1" round="0" retimingExtrapolation="1"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;numberOfKeypoints>2&lt;/numberOfKeypoints><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;time>0&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;value>1&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>      ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;time>4172&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;value>4173&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>      ...<span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/curve><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Retime Value Cache" id="109" flags="131090"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;curve type="1" round="0" retimingExtrapolation="1"><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;numberOfKeypoints>2&lt;/numberOfKeypoints><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;time>0&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>1&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>      ...<span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;time>4172&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>4173&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>      ...<span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/curve><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/audioTrack><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/audio><span></span></pre></td></tr></table></div><p>Note these points:</p><ul class="spaceabove"><li class="li"><p>As appropriate, you can modify the <code>name=</code> attribute of the <code>audioTrack</code> element.</p></li><li class="li"><p>Because you are replacing the contents of a <code>clip</code> element, the <code>value=</code> attribute of the <code>Media</code> parameter should equal to the<code> id=</code> attribute of the <code>clip</code> element, and not require modification.</p></li><li class="li"><p>Additionally, the <code>audiotrack</code> element contains a <code>linkedObjects</code> element that specifies the associated <code>scenenode</code>, and does not require modification.</p></li><li class="li"><p>If the duration of the new movie file differs from the old movie file, you will need to change the timing information in the <code>audioTrack</code> element.  </p></li><li class="li"><p>The <code>timing</code> element contains the timing information playing audio in constant time. In this example, the audio track is the same length as the new media file.</p></li><li class="li"><p>The <code>Retime Value</code> and <code>Retime Value Cache</code> parameters are not used when an audio track is played in constant time. But they may be modified to maintain consistency when variable timing is selected in the Inspector.</p></li><li class="li"><p>Both the <code>Retime Value</code> and <code>Retime Value Cache</code> parameters are represented as curves with two keypoint subelements corresponding to the first and last frames in the file, in that order. </p></li><li class="li"><p>The <code>time</code> and <code>value</code> subelements of the second <code>keypoint</code> element need to match the last frame in the new media file. Note that time is 0-based, while value is 1-based. That is, if the new media file is 3000 frames long, the value specified by <code>time</code> will be 2999 and <code>value</code> will be 3000.</p></li><li class="li"><p>Because the audio track is not retimed, normal, inputTangentTime, inputTangentValue, outputTangentTime, and outputTangentValue are not used in this example and can be left as is.</p></li></ul><p>The revised <code>audioTrack</code> element appears as follows:</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW26" title="Listing 7-8New Audio"></a><p class="codesample"><strong>Listing 7-8&nbsp;&nbsp;</strong>New Audio</p><div class="codesample"><table><tr><td scope="row"><pre>&lt;audio name="Audio Layer" id="1056777"><span></span></pre></td></tr><tr><td scope="row"><pre> &lt;audioTrack name="newMovie" id="1056776"><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;linkedObjects>1056774&lt;/linkedObjects><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;timing in="0" out="3331" offset="0" /><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;parameter name="Properties" id="1" flags="4112"><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Media" id="104" flags="65552" value="1056770" /><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Retime Value" id="109" flags="131090"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;curve type="1" round="0" retimingExtrapolation="1"<span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;numberOfKeypoints>2&lt;/numberOfKeypoints<span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;time>0&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;value>1&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>      ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;time>3331&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>3332&lt;/value<span></span></pre></td></tr><tr><td scope="row"><pre>      ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;/curve><span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;parameter name="Retime Value Cache" id="109" flags="131090"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;curve type="1" round="0" retimingExtrapolation="1"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;numberOfKeypoints>2&lt;/numberOfKeypoints><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;time>0&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;value>1&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>     ...<span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;keypoint interpolation="1" flags="32"><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;time>3331&lt;/time><span></span></pre></td></tr><tr><td scope="row"><pre>      &lt;value>3332&lt;/value><span></span></pre></td></tr><tr><td scope="row"><pre>      ...<span></span></pre></td></tr><tr><td scope="row"><pre>     &lt;/keypoint><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/curve><span></span></pre></td></tr><tr><td scope="row"><pre>   &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>   ...<span></span></pre></td></tr><tr><td scope="row"><pre>  &lt;/parameter><span></span></pre></td></tr><tr><td scope="row"><pre>  ...<span></span></pre></td></tr><tr><td scope="row"><pre> &lt;/audioTrack><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/audio><span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/TP40007455-CH10-SW15" title="Modify the scenenode Object"></a><h3>Modify the scenenode Object</h3><p>Because the <code>id=</code> attribute of the clip referencing the new media file is unchanged, there is no need to modify the <code>Media</code> parameter or the <code>linkedObjects</code> subelement of the <code>scenenode</code> element.  However, if the media length differs, you may need to change the <code>timing</code> subelement in the same way you may need to change the <code>timing</code> element of the <code>clip</code> to ensure that the entire movie file is played back.</p><p>The <code>Retime Value</code> and <code>Retime Value Cache</code> parameters are not used when a movie clip is played in constant time. But you may need modify them to maintain consistency if variable timing is selected in the Inspector.</p><p>As well, you may need to modify <code>layer</code> elements above this <code>scenenode</code> in the XML hierarchy, including the <code>timeRange</code> and <code>playRange</code> subelements of the <code>scene</code> element. (See <span class="content_text"><a href="Examples.html#//apple_ref/doc/uid/TP40007455-CH10-SW18">Listing 7-3</a></span>.)</p><a name="//apple_ref/doc/uid/TP40007455-CH10-SW16" title="Add Media Files"></a><h3>Add Media Files</h3><p>Rather than replacing media files in a Motion project, you may wish to add a media file to a project.  Here are some relevant points :</p><ul class="spaceabove"><li class="li"><p>To add a new <code>clip</code> element, you must set the value of its <code>id=</code> attribute to a unique unsigned integer not used by any other scene object, media file, or audio track in the project. </p></li><li class="li"><p>To add a new <code>audiotrack</code> element, you must set the <code>id=</code> attribute to unique unsigned integer not used by any other scene object, media file, or audio track in the project.  Additionally, you must set the <code>Media</code> parameter  to the <code>id=</code> of the new <code>clip</code> element, and the value of the <code>linkedObjects</code> element must be an unsigned integer matching the <code>id=</code> of the relevant <code>scenenode</code> element.</p></li><li class="li"><p>To modify the relevant <code>scenenode</code> element, you must set the <code>Media</code> parameter to equal the <code>id=</code> attribute of the new <code>clip</code> element. As well, you must set the value of the <code>linkedObjects</code> subelement to the <code>id=</code> attribute of the new <code>audioTrack</code> element.</p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../ChannelParms/ChannelParms.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-04-14<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/AppleApplications/Conceptual/motion_XML_guide/Examples/Examples.html%3Fid%3DTP40007455-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/AppleApplications/Conceptual/motion_XML_guide/Examples/Examples.html%3Fid%3DTP40007455-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/AppleApplications/Conceptual/motion_XML_guide/Examples/Examples.html%3Fid%3DTP40007455-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>