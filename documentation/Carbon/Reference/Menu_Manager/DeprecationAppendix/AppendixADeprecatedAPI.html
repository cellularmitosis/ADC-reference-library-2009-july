<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Menu Manager Reference: Deprecated Menu Manager  Functions</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deprecated Menu Manager  Functions"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000227-AppendixA" title="Deprecated Menu Manager  Functions"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/Carbon/index.html#//apple_ref/doc/uid/TP30001281-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../../../reference/Carbon/idxUserExperience-date.html#//apple_ref/doc/uid/TP30001281-TP30000420-TP30000465" target="_top">User Experience</a> &gt; <a href="../index.html" target="_top">Menu Manager Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../menu_mgr_ref_docrevhist/menu_mgr_ref_docrevhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <h1>Deprecated Menu Manager  Functions</h1><p>A function identified as deprecated has been superseded and may become unsupported in the future.</p><a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_409" title="Deprecated in Mac OS X v10.5"></a><h2>Deprecated in Mac OS X v10.5</h2><a name="//apple_ref/c/func/AppendMenu" title="AppendMenu"></a><a name="//apple_ref/doc/c_ref/AppendMenu" title="AppendMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F00166" title="AppendMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_7"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_7"></a><h3 class="tight">AppendMenu</h3>
<p class="spaceabove">Appends one or more items to a menu previously created.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void AppendMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> menu,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> data
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menu</em></dt>
<dd><p>The menu to which you wish to append the menu item or items. </p></dd>
<dt><em>data</em></dt>
<dd><p>A Pascal string that defines the characteristics of the new menu item or items. Note that in most cases you should store the text of a menu item in a resource, so that your menu items can be more easily localized. The <code>AppendMenu</code> function appends the menu items in the order in which they are listed in the data parameter. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Note that unless you are supporting legacy code, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/AppendMenuItemTextWithCFString">AppendMenuItemTextWithCFString</a></code> function instead. </p>
<p>The <code>AppendMenu</code> function appends any defined menu items to a previously-created menu. The menu items are added to the end of the menu. You specify the text of any menu items and their characteristics in the <code>data</code> parameter. You can embed metacharacters in the string to define various characteristics of a menu item. </p>
<p><span class="content_text"><a href="AppendixADeprecatedAPI.html#//apple_ref/doc/uid/TP30000227-CH1g-360836">Table A-1</a></span> lists the metacharacters that you can specify in the <code>data</code> parameter:</p>
<a name="//apple_ref/doc/uid/TP30000227-CH1g-360836" title="Table A-1Metacharacters available to pass in AppendMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-BAJCHBIF" title="Table A-1Metacharacters available to pass in AppendMenu"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><strong>Table A-1&nbsp;&nbsp;</strong>Metacharacters available to pass in AppendMenu</caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Metacharacter</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p>; or Return</p></td>
<td ><p>Separates menu items.</p></td>
</tr>
<tr>
<td  scope="row"><p>^</p></td>
<td ><p>When followed by an icon number, defines the icon for the item. If the keyboard equivalent field contains 0x1C, this number is interpreted as a text encoding.</p></td>
</tr>
<tr>
<td  scope="row"><p>!</p></td>
<td ><p>When followed by a character, defines the mark for the item. If the keyboard equivalent field contains 0x1B or the equivalent constant <code>hMenuCmd</code>, this value is interpreted as the menu ID of a submenu of this menu item. </p></td>
</tr>
<tr>
<td  scope="row"><p>&lt;</p></td>
<td ><p>When followed by one or more of the characters B, I, U, O, and S, defines the character style of the item to Bold, Italic, Underline, Outline, or Shadow, respectively.</p></td>
</tr>
<tr>
<td  scope="row"><p>/</p></td>
<td ><p>When followed by a character, defines the keyboard equivalent for the item. When followed by 0x1B or the equivalent constant <code>hMenuCmd</code>, specifies that this menu item has a submenu. To specify that the menu item has a text encoding, small icon, or reduced icon, use the <code>SetItemCmd</code> function to set the keyboard equivalent field to 0x1C, 0x1D, or 0x1E, respectively. </p></td>
</tr>
<tr>
<td  scope="row"><p>(</p></td>
<td ><p>Defines the menu item as disabled. </p></td>
</tr>

</table></div>
<p>You can specify any, all, or none of these metacharacters in the text string. The metacharacters that you specify aren’t displayed in the menu item. (To use any of these metacharacters in the text of a menu item, first use <code>AppendMenu</code>, specifying at least one character as the item’s text, and then use the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetMenuItemText">SetMenuItemText</a></code>  to set the item’s text to the desired string.)</p>
<p>If you add menu items using the <code>AppendMenu</code> function, you should define the text and any marks or keyboard equivalents in resources for easier localization. </p>
<p>You can specify the first character that defines the text of a menu item as a hyphen to create a divider line. The string in the data parameter can be blank (containing one or more spaces), but it should not be an empty string. </p>
<p>If you do not define a specific characteristic of a menu item, the <code>AppendMenu</code> function assigns the default characteristic to the menu item. If you do not define any characteristic other than the text for a menu item, the <code>AppendMenu</code> function inserts the menu item so that it appears in the menu as an enabled item, without an icon or a mark, in the plain character style, and without a keyboard equivalent.</p>
<p>You can use <code>AppendMenu</code> to append items to a menu regardless of whether the menu is in the current menu list. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/AppendMenuItemText" title="AppendMenuItemText"></a><a name="//apple_ref/doc/c_ref/AppendMenuItemText" title="AppendMenuItemText"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F09084" title="AppendMenuItemText"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_8"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_8"></a><h3 class="tight">AppendMenuItemText</h3>
<p class="spaceabove">Appends a menu item to a menu.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
OSStatus AppendMenuItemText (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> menu,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> inString
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menu</em></dt>
<dd><p>The menu to which the item is to be appended. </p></dd>
<dt><em>inString</em></dt>
<dd><p>A Pascal string containing the text of the menu item to append. You can pass a string containing any characters, and these characters will be presented verbatim in the menu item. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Note that unless you are supporting legacy code, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/AppendMenuItemTextWithCFString">AppendMenuItemTextWithCFString</a></code> function instead. </p>
<p>The <code>AppendMenuItemText</code> function appends the menu item containing the specified string to a menu, without evaluating the string for metacharacters, as the pre–Mac OS 8.5 Menu Manager function <code>AppendMenu</code> does. You may wish to use <code>AppendMenuItemText</code> if you need to present non-alphanumeric characters in a menu item.</p>
<p>The appended menu item appears at the end of the menu as an enabled item. If you wish to place the menu item elsewhere than at the end of the menu you should use the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/InsertMenuItemText">InsertMenuItemText</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/AppendResMenu" title="AppendResMenu"></a><a name="//apple_ref/doc/c_ref/AppendResMenu" title="AppendResMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F00167" title="AppendResMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_10"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_10"></a><h3 class="tight">AppendResMenu</h3>
<p class="spaceabove">Searches all resource files open to your application for a given resource type and appends the names of any resources it finds to a specified menu. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void AppendResMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../../Resource_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ResType" target="_top">ResType</a> theType
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu to which to append the names of any resources of a given type that <code>AppendResMenu</code> finds. </p></dd>
<dt><em>theType</em></dt>
<dd><p>A four-character code that identifies the resource type for which to search. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Unless you must support legacy code, you should not use functions like <code>AppendResMenu</code> ,which assumes that menu items to append are stored in resources.</p>
<p>If you want to insert fonts into a menu, you should call <code><a href="../Reference/reference.html#//apple_ref/c/func/CreateStandardFontMenu">CreateStandardFontMenu</a></code> instead. </p>
<p>The <code>AppendResMenu</code> function searches all resource files open to your application for resources of the type defined by the parameter <code>theType</code>. It appends the names of any resources it finds of the given type to the end of the specified menu. <code>AppendResMenu</code> appends the names of found resources in alphabetical order; it does not alphabetize items already in the menu. The <code>AppendResMenu</code> function does not add resources with names that begin with a period (.) or a percent sign (%) to the menu.</p>
<p><code>AppendResMenu</code> assigns default characteristics to each menu item. Each appended menu item appears in the menu as an enabled item, without an icon or a mark, in the plain character style, and without a keyboard equivalent.</p>
<p>Note that for applications using CarbonLib, you no longer need to call <code>AppendResMenu</code> add resources of type ' <code>DRVR </code> ' to your Apple menu; CarbonLib does this for you automatically. </p>
<p>If you specify that <code>AppendResMenu</code> append resources of type ' <code>FONT </code> ' or ' <code>FOND </code> ', the Menu Manager performs special processing for any resources it finds that have font numbers greater than 0x4000. If the script system associated with the font name is installed in the system, <code>AppendResMenu</code> stores information in the <code>itemDefinitions</code> array (in the <code>itemIcon</code> and <code>itemCmd</code> fields for that item) in the menu structure. This allows the Menu Manager to display the font name in the correct script. </p>
<h5 class="tight">Special Considerations</h5>
<p>The <code>AppendResMenu</code> function calls the Resource Manager function <code>SetResLoad</code> (specifying <code>true</code> in the <code>load</code> parameter) before returning. The <code>AppendResMenu</code> function reads the resource data of the resources it finds into memory. If your application does not want the Resource Manager to read resource data into memory when your application calls other functions that read resources, you need to call <code>SetResLoad</code> and specify <code>false</code> in the <code>load</code> parameter after <code>AppendResMenu</code> returns.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/DeleteMCEntries" title="DeleteMCEntries"></a><a name="//apple_ref/doc/c_ref/DeleteMCEntries" title="DeleteMCEntries"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01047" title="DeleteMCEntries"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_31"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_31"></a><h3 class="tight">DeleteMCEntries</h3>
<p class="spaceabove">Deletes a menu item entry, a menu title entry, the menu bar entry, or all menu item entries of a specific menu from your application’s menu color information table.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void DeleteMCEntries (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuID">MenuID</a> menuID,
   short menuItem
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menuID</em></dt>
<dd><p>The menu ID that the <code>DeleteMCEntries</code> function should use to determine which entry to delete from the menu color information table. Specify 0 in the <code>menuID</code> parameter (and the <code>menuItem</code> parameter) to delete the menu bar entry. Specify the menu ID of a menu in the current menu list in the <code>menuID</code> parameter and 0 in the <code>menuItem</code> parameter to delete a specific menu title entry. Specify the menu ID of a menu in the current menu list in the <code>menuID</code> parameter and an item number in the <code>menuItem</code> parameter to delete a specific menu item entry. </p></dd>
<dt><em>menuItem</em></dt>
<dd><p>The menu item that the <code>DeleteMCEntries</code> function should use to determine which entry to delete from the menu color information table. If you specify 0 in this parameter, <code>DeleteMCEntries</code> deletes either the menu bar entry or menu title entry, depending on the value of the <code>menuID</code> parameter. If you specify the item number of a menu item in this parameter and the menu ID of a menu in the current menu list in the <code>menuID</code> parameter, <code>DeleteMCEntries</code> deletes a specific menu item entry. You can also delete all menu item entries for a specific menu from your application’s menu color information table by specifying the constant <code>mctAllItems</code>. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If the <code>DeleteMCEntries</code> function does not find the specified entry in your application’s menu color information table, it does not delete the entry. Your application should not delete the last entry in your application’s menu color information table.</p>
<p>If any of the deleted entries changes the menu bar color or a menu title color, your application should call  <code><a href="../Reference/reference.html#//apple_ref/c/func/DrawMenuBar">DrawMenuBar</a></code>  to update the menu bar.  </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p><code>DeleteMCEntries</code> does nothing, because the Appearance Manager doesn’t use color tables.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/DisposeMCInfo" title="DisposeMCInfo"></a><a name="//apple_ref/doc/c_ref/DisposeMCInfo" title="DisposeMCInfo"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01153" title="DisposeMCInfo"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_39"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_39"></a><h3 class="tight">DisposeMCInfo</h3>
<p class="spaceabove">Disposes of a menu color information table.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void DisposeMCInfo (
   <!--a-->MCTableHandle<!--/a--> menuCTbl
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menuCTbl</em></dt>
<dd><p>The handle to the menu color information table you want to remove. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>DisposeMCInfo</code> function disposes of the menu color information table referred to by the <code>menuCTbl</code> parameter.  </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p><code>DisposeMCInfo</code> does nothing, because Appearance Manager doesn’t use color tables.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/DisposeMenuDefUPP" title="DisposeMenuDefUPP"></a><a name="//apple_ref/doc/c_ref/DisposeMenuDefUPP" title="DisposeMenuDefUPP"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F11320" title="DisposeMenuDefUPP"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_42"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_42"></a><h3 class="tight">DisposeMenuDefUPP</h3>
<p class="spaceabove">Disposes of universal procedure pointer to a custom menu definition. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void DisposeMenuDefUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuDefUPP">MenuDefUPP</a> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userUPP</em></dt>
<dd></dd></dl>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Apple discourages you from writing and using your own menu definition functions and encourages you to use the system-supplied menu definition function instead. New features that have previously been missing are now available in the system-supplied menu definition function. Since Appearance Manager 1.0 (in Mac OS 8.0), for example,  the system-supplied menu definition function has supported extended menu item command key modifiers and glyphs. And in Carbon, the system-supplied menu definition function supports dynamic items, which allow the contents of a menu item to be redrawn while the menu is displayed in response to the user pressing a modifier key on the keyboard.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/EraseMenuBackground" title="EraseMenuBackground"></a><a name="//apple_ref/doc/c_ref/EraseMenuBackground" title="EraseMenuBackground"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F17380" title="EraseMenuBackground"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_50"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_50"></a><h3 class="tight">EraseMenuBackground</h3>
<p class="spaceabove">Erases the menu background to prepare for additional drawing.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus EraseMenuBackground (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu,
   const <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Rect" target="_top">Rect</a> *inEraseRect,
   <a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> inContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu whose background you want to erase. </p></dd>
<dt><em>inEraseRect</em></dt>
<dd><p>The bounds of the area to erase, in the local coordinates of the current port. </p></dd>
<dt><em>inContext</em></dt>
<dd><p>The Core Graphics context to erase. If set to <code>NULL</code>, this function creates a new context based on the current port. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Typically you use this function only if you are implementing message-based custom menu definition functions. HIView-based custom menus and normal application code do not need to call <code>EraseMenuBackground</code>. </p>
<p>Before calling the Appearance Manager function <code>DrawThemeMenuBackground</code>, you must erase the current menu background. Themes such as Aqua draw the menu background using an alpha channel, so if the old background is not erased, portions of the old image will show through the menu background.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetItemIcon" title="GetItemIcon"></a><a name="//apple_ref/doc/c_ref/GetItemIcon" title="GetItemIcon"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01822" title="GetItemIcon"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_55"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_55"></a><h3 class="tight">GetItemIcon</h3>
<p class="spaceabove">Returns a menu item’s icon or text encoding.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
void GetItemIcon (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> item,
   short *iconIndex
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu containing the item. </p></dd>
<dt><em>item</em></dt>
<dd><p>The menu index of the item.</p></dd>
<dt><em>iconIndex</em></dt>
<dd><p>On output, an integer representing the menu item’s icon or text encoding. For menu items that do not specify 0x1C in the keyboard equivalent field, a value from 1 through 255 if the menu item has an icon associated with it and is 0 otherwise representing the item’s icon number.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>In most cases, you should use <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/GetMenuItemTextEncoding">GetMenuItemTextEncoding</a></code> rather than <code>GetItemIcon</code> to get the menu item’s text encoding.</p>
<p>The <code>GetItemIcon</code> function returns the icon number or text encoding of the specified menu item through the <code>iconIndex</code> parameter (or 0 if the item doesn’t have an icon or a text encoding). If the menu item’s keyboard equivalent field contains 0x1C, the returned number represents the text encoding of the menu item. Otherwise, the returned number represents the item’s icon number.</p>
<p>In the <code>iconIndex</code> parameter, you can add 256 to the icon number to generate the resource ID of the ' <code>cicn </code> ', ' <code>ICON </code> ', or ' <code>SICN </code> ' resource that describes the icon of the menu item. For example, if the <code>GetItemIcon</code> function returns 5 as the icon number, then the icon of the menu item is described by an icon resource with resource ID 261.</p>
<p>For menu items that contain 0x1C in the keyboard equivalent field, the <code>GetItemIcon</code> function returns the text encoding of the menu item. The Menu Manager displays the menu item using this text encoding if the corresponding script system is installed. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetMCEntry" title="GetMCEntry"></a><a name="//apple_ref/doc/c_ref/GetMCEntry" title="GetMCEntry"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01840" title="GetMCEntry"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_59"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_59"></a><h3 class="tight">GetMCEntry</h3>
<p class="spaceabove">Gets information about an entry in an application’s menu color information table.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
<!--a-->MCEntryPtr<!--/a--> GetMCEntry (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuID">MenuID</a> menuID,
   short menuItem
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menuID</em></dt>
<dd><p>The menu ID that the <code>GetMCEntry</code> function should use to return information about the menu color information table. Specify 0 in the <code>menuID</code> parameter (and the <code>menuItem</code> parameter) to get the menu bar entry. Specify the menu ID of a menu in the current menu list in the <code>menuID</code> parameter and 0 in the <code>menuItem</code> parameter to get a specific menu title entry. Specify the menu ID of a menu in the current menu list in the <code>menuID</code> parameter and an item number in the <code>menuItem</code> parameter to get a specific menu item entry. </p></dd>
<dt><em>menuItem</em></dt>
<dd><p>The menu item that the <code>GetMCEntry</code> function should use to return information about the menu color information table. If you specify 0 in this parameter, <code>GetMCEntry</code> returns either the menu bar entry or the menu title entry, depending on the value of the <code>menuID</code> parameter. If you specify the item number of a menu item in this parameter and the menu ID of a menu in the current menu list in the <code>menuID</code> parameter, <code>GetMCEntry</code> returns a specific menu item entry. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A menu bar entry, a menu title entry, or a menu item entry according to the values specified in the <code>menuID</code> and <code>menuItem</code> parameters. If the <code>GetMCEntry</code> function finds the specified entry in your application’s menu color information table, it returns a pointer to a structure of data type <code>MCEntry</code>. If the specified entry is not found, <code>GetMCEntry</code> returns <code>null</code>. The menu color information table is relocatable, so the pointer returned by the <code>GetMCEntry</code> function may not be valid across functions that may move or purge memory. Your application should make a copy of the menu color entry structure if necessary. See page  for a description of the <code>MCEntry</code> data structure.</p>

<h5 class="tight">Carbon Porting Notes</h5>
<p><code>GetMCEntry</code> does nothing, because Appearance Manager doesn’t use color tables.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetMCInfo" title="GetMCInfo"></a><a name="//apple_ref/doc/c_ref/GetMCInfo" title="GetMCInfo"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01841" title="GetMCInfo"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_60"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_60"></a><h3 class="tight">GetMCInfo</h3>
<p class="spaceabove">Returns a handle to a copy of your application’s menu color information table. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
<!--a-->MCTableHandle<!--/a--> GetMCInfo (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A handle to a copy of your application’s menu color information table. If the copy fails, <code>GetMCInfo</code> returns <code>null</code>. </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>The Menu Manager ignores color tables in Mac OS X, so there is no reason to call <code>GetMCInfo</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetMenuItemHierarchicalID" title="GetMenuItemHierarchicalID"></a><a name="//apple_ref/doc/c_ref/GetMenuItemHierarchicalID" title="GetMenuItemHierarchicalID"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01876" title="GetMenuItemHierarchicalID"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_77"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_77"></a><h3 class="tight">GetMenuItemHierarchicalID</h3>
<p class="spaceabove">Obtains the menu ID of a specified submenu. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr GetMenuItemHierarchicalID (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> inItem,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuID">MenuID</a> *outHierID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu that contains the menu item for which you wish to get the submenu’s menu ID. </p></dd>
<dt><em>inItem</em></dt>
<dd><p>The menu index of the item. </p></dd>
<dt><em>outHierID</em></dt>
<dd><p>Pass a pointer to a signed 16-bit integer value. On return, the value is set to the menu ID of the submenu. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetMenuItemText" title="GetMenuItemText"></a><a name="//apple_ref/doc/c_ref/GetMenuItemText" title="GetMenuItemText"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01882" title="GetMenuItemText"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_87"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_87"></a><h3 class="tight">GetMenuItemText</h3>
<p class="spaceabove">Obtains the text of a menu item. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void GetMenuItemText (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> item,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> itemString
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu containing the item. </p></dd>
<dt><em>item</em></dt>
<dd><p>The menu index of the item. </p></dd>
<dt><em>itemString</em></dt>
<dd><p>On output, the menu item’s text string. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Unless you need to support legacy code, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/CopyMenuItemTextAsCFString">CopyMenuItemTextAsCFString</a></code> instead. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CarbonSketch/index.html#//apple_ref/doc/uid/DTS10003226" target="_top">CarbonSketch</a></span></li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetMenuItemTextEncoding" title="GetMenuItemTextEncoding"></a><a name="//apple_ref/doc/c_ref/GetMenuItemTextEncoding" title="GetMenuItemTextEncoding"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F01883" title="GetMenuItemTextEncoding"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_88"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_88"></a><h3 class="tight">GetMenuItemTextEncoding</h3>
<p class="spaceabove">Obtains the text encoding used for a menu item’s text.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr GetMenuItemTextEncoding (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> inItem,
   <a href="../../Text_Encodin_sion_Manager/Reference/reference.html#//apple_ref/doc/c_ref/TextEncoding" target="_top">TextEncoding</a> *outScriptID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu containing the menu item whose text encoding you wish to obtain. </p></dd>
<dt><em>inItem</em></dt>
<dd><p>The menu index of the item. </p></dd>
<dt><em>outScriptID</em></dt>
<dd><p>A pointer to a <code>TextEncoding</code> value. On return, the value is set to the script code of the text encoding used in the menu item’s text. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If a menu item has a command code of 0x1C when <code>GetMenuItemTextEncoding</code> is called, <code>GetMenuItemTextEncoding</code> gets the value in the icon field of the menu item. </p>
<p>See also the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetMenuItemTextEncoding">SetMenuItemTextEncoding</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetMenuRetainCount" title="GetMenuRetainCount"></a><a name="//apple_ref/doc/c_ref/GetMenuRetainCount" title="GetMenuRetainCount"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F16261" title="GetMenuRetainCount"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_90"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_90"></a><h3 class="tight">GetMenuRetainCount</h3>
<p class="spaceabove">Returns the retain count of this menu.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ItemCount" target="_top">ItemCount</a> GetMenuRetainCount (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu whose retain count you want to obtain. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The retain count for the menu. </p>
<h5 class="tight">Version Notes</h5>
<p>In Mac OS X v10.2 and later, all menus are Core Foundation CFTypes, so you can also call <code>CFGetRetainCount</code> instead of <code>GetMenuRetainCount</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/GetMenuTitle" title="GetMenuTitle"></a><a name="//apple_ref/doc/c_ref/GetMenuTitle" title="GetMenuTitle"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F10246" title="GetMenuTitle"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_91"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_91"></a><h3 class="tight">GetMenuTitle</h3>
<p class="spaceabove">Obtains the title of the menu&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/StringPtr" target="_top">StringPtr</a> GetMenuTitle (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> menu,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Str255" target="_top">Str255</a> title
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menu</em></dt>
<dd></dd>
<dt><em>title</em></dt>
<dd><p>The menu title, as a Str255 string. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A pointer to the menu title. </p>
<h5 class="tight">Discussion</h5>
<p>Unless you need to support legacy code, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/CopyMenuTitleAsCFString">CopyMenuTitleAsCFString</a></code> function instead. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/InitContextualMenus" title="InitContextualMenus"></a><a name="//apple_ref/doc/c_ref/InitContextualMenus" title="InitContextualMenus"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F02989" title="InitContextualMenus"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_99"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_99"></a><h3 class="tight">InitContextualMenus</h3>
<p class="spaceabove">Adds a program to the system registry of contextual menu clients. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
OSStatus InitContextualMenus (
   void
);
</pre></p>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Your program should call the <code>InitContextualMenus</code> function early in your startup code to register your application as a contextual menu client. If you do not register your program, some system-level functions may respond as though your program does not use contextual menus. Not registering your program may also cause  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/ProcessIsContextualMenuClient">ProcessIsContextualMenuClient</a></code>  to return an incorrect value.</p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>You do not need to call this function before using contextual menus in Mac OS X. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/InsertFontResMenu" title="InsertFontResMenu"></a><a name="//apple_ref/doc/c_ref/InsertFontResMenu" title="InsertFontResMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F03028" title="InsertFontResMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_100"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_100"></a><h3 class="tight">InsertFontResMenu</h3>
<p class="spaceabove">Inserts menu items from a font resource.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void InsertFontResMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> afterItem,
   short scriptFilter
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu to add the fonts to. </p></dd>
<dt><em>afterItem</em></dt>
<dd><p>The menu item after which you want to add the fonts.</p></dd>
<dt><em>scriptFilter</em></dt>
<dd><p>The script filter you want to use.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Unless you need to do script filtering, you should use <code><a href="../Reference/reference.html#//apple_ref/c/func/CreateStandardFontMenu">CreateStandardFontMenu</a></code>instead.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/InsertIntlResMenu" title="InsertIntlResMenu"></a><a name="//apple_ref/doc/c_ref/InsertIntlResMenu" title="InsertIntlResMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F03029" title="InsertIntlResMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_101"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_101"></a><h3 class="tight">InsertIntlResMenu</h3>
<p class="spaceabove">Inserts menu items from an internationalized resource.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void InsertIntlResMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../../Resource_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ResType" target="_top">ResType</a> theType,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> afterItem,
   short scriptFilter
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu to add the menu items to. </p></dd>
<dt><em>theType</em></dt>
<dd><p>The resource to retrieve the menu items from.</p></dd>
<dt><em>afterItem</em></dt>
<dd><p>The menu item after which you want to add the new items.</p></dd>
<dt><em>scriptFilter</em></dt>
<dd><p>The script filter you want to use.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/InsertMenuItem" title="InsertMenuItem"></a><a name="//apple_ref/doc/c_ref/InsertMenuItem" title="InsertMenuItem"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F03032" title="InsertMenuItem"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_103"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_103"></a><h3 class="tight">InsertMenuItem</h3>
<p class="spaceabove">Inserts one or more items into a menu previously created. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void InsertMenuItem (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> itemString,
   short afterItem
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu to which you wish to add the menu item or items. </p></dd>
<dt><em>itemString</em></dt>
<dd><p>A string that defines the characteristics of the new menu items. Note that in most cases you should store the text of a menu item in a nib file or resource, so that your menu items can be more easily localized. You can specify the contents of the <code>itemString</code> parameter using metacharacters; the function <code>InsertMenuItem</code> accepts the same metacharacters as the <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/AppendMenu">AppendMenu</a></code> function. However, if you specify multiple items, the <code>InsertMenuItem</code> function inserts the items in the reverse of their order in the <code>itemString</code> parameter. </p></dd>
<dt><em>afterItem</em></dt>
<dd><p>The item number of the menu item after which the new menu items are to be added. Specify 0 in the <code>afterItem</code> parameter to insert the new items before the first menu item; specify the item number of a current menu item to insert the new menu items after it; specify a number greater than or equal to the last item in the menu to append the new items to the end of the menu. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Note that unless you are supporting legacy code, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/InsertMenuItemTextWithCFString">InsertMenuItemTextWithCFString</a></code> function instead. </p>
<p>If you do not define a specific characteristic of a menu item, the <code>InsertMenuItem</code> function assigns the default characteristic to the menu item. If you do not define any characteristic other than the text for a menu item, the <code>InsertMenuItem</code> function inserts the menu item so that it appears in the menu as an enabled item, without an icon or a mark, in the plain character style, and without a keyboard equivalent. </p>
<p>You can use <code>InsertMenuItem</code> to insert items into a menu regardless of whether the menu is in the current menu list. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/InsertMenuItemText" title="InsertMenuItemText"></a><a name="//apple_ref/doc/c_ref/InsertMenuItemText" title="InsertMenuItemText"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F09094" title="InsertMenuItemText"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_104"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_104"></a><h3 class="tight">InsertMenuItemText</h3>
<p class="spaceabove">Inserts a menu item into a menu.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
OSStatus InsertMenuItemText (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> menu,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> inString,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> afterItem
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menu</em></dt>
<dd><p>The menu into which the item is to be inserted. </p></dd>
<dt><em>inString</em></dt>
<dd><p>A Pascal string containing the text of the menu item to insert. You can pass a string containing any characters, and these characters will be presented verbatim in the menu item. </p></dd>
<dt><em>afterItem</em></dt>
<dd><p>The item number of the menu item after which the new menu item is to be inserted. Specify 0 to insert the new menu item at the top of the menu, before the first menu item. Specify a value greater than or equal to the last menu item to append the new item to the end of the menu. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p></p>
<p>Note that unless you are supporting legacy code, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/InsertMenuItemTextWithCFString">InsertMenuItemTextWithCFString</a></code> function instead. </p>
<p>The <code>InsertMenuItemText</code> function inserts an enabled menu item containing the specified string into a menu, without evaluating the string for metacharacters, as the pre–Mac OS 8.5 Menu Manager function <code>InsertMenuItem</code> does. You may wish to use <code>InsertMenuItemText</code> if you have a need to present non-alphanumeric characters in a menu item.</p>
<p>See also the  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/AppendMenuItemText">AppendMenuItemText</a></code>  function. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/InsertResMenu" title="InsertResMenu"></a><a name="//apple_ref/doc/c_ref/InsertResMenu" title="InsertResMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F03035" title="InsertResMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_106"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_106"></a><h3 class="tight">InsertResMenu</h3>
<p class="spaceabove">Searches all resource files open to your application for a given resource type and inserts the names of any resources it finds in the specified menu. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void InsertResMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../../Resource_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ResType" target="_top">ResType</a> theType,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> afterItem
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu to which to add the names of any resources of a given type that <code>InsertResMenu</code> finds. </p></dd>
<dt><em>theType</em></dt>
<dd><p>A four-character code that identifies the resource type for which to search. </p></dd>
<dt><em>afterItem</em></dt>
<dd><p>A number that indicates where in the menu to insert the names of any resources of the given type that <code>InsertResMenu</code> finds. Specify 0 in the <code>afterItem</code> parameter to insert the items before the first menu item; specify the item number of a menu item already in the menu to insert the items after the specified item number. If you specify a number greater than or equal to the last item in the menu, the items are inserted at the end of the menu. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Unless you must support legacy code, you should not use functions like <code>InsertResMenu</code> that rely on searching the resource chain. Prior to Carbon, you used <code>InsertResMenu</code> primarily to create an Apple menu (by passing <code>'DRVR'</code> for the resource type or to create a font menu (by passing <code>'FONT'</code>). In Carbon, the Apple menu is created for you automatically, and you should call <code><a href="../Reference/reference.html#//apple_ref/c/func/CreateStandardFontMenu">CreateStandardFontMenu</a></code> to create a font menu. </p>
<p>The <code>InsertResMenu</code> function searches all resource files open to your application for resources of the type defined by the parameter <code>theType</code>. The specified menu must have been previously created using  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/NewMenu">NewMenu</a></code> ,  <code><a href="../Reference/reference.html#//apple_ref/c/func/GetMenu">GetMenu</a></code> , or  <code><a href="../Reference/reference.html#//apple_ref/c/func/GetNewMBar">GetNewMBar</a></code>. <code>InsertResMenu</code> adds the names of found resources after the specified menu item in alphabetical order; it does not alphabetize items already in the menu. </p>
<p>The <code>InsertResMenu</code> function does not add resources with names that begin with a period (.) or a percent sign (%) to the menu.</p>
<p>The <code>InsertResMenu</code> function assigns default characteristics to each menu item. Each appended menu item appears in the menu as an enabled item, without an icon or a mark, in the plain character style, and without a keyboard equivalent. </p>
<p>If you specify that <code>InsertResMenu</code> add resources of type ' <code>DRVR </code> ' to your Apple menu, <code>InsertResMenu</code> adds the name (and icon) of each item in the Apple Menu Items folder to the menu. </p>
<p>If you specify that <code>InsertResMenu</code> add resources of type ' <code>FONT </code> ' or ' <code>FOND </code> ', the Menu Manager performs special processing for any resources it finds that have font numbers greater than 0x4000. If the script associated with the font name is currently active, <code>InsertResMenu</code> stores information in the <code>itemDefinitions</code> array (in the <code>itemIcon</code> and <code>itemCmd</code> fields for that item) in the menu structure that allows the Menu Manager to display the font name in the correct script. </p>
<h5 class="tight">Special Considerations</h5>
<p>The <code>InsertResMenu</code> function calls the Resource Manager function <code>SetResLoad</code> (specifying <code>true</code> in the <code>load</code> parameter) before returning. The <code>InsertResMenu</code> function reads the resource data of the resources it finds into memory. If your application does not want the Resource Manager to read resource data into memory when your application calls other functions that read resources, you need to call the Resource Manager function <code>SetResLoad</code> and specify <code>false</code> in the <code>load</code> parameter after <code>InsertResMenu</code> returns. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/InvokeMenuDefUPP" title="InvokeMenuDefUPP"></a><a name="//apple_ref/doc/c_ref/InvokeMenuDefUPP" title="InvokeMenuDefUPP"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F11761" title="InvokeMenuDefUPP"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_111"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_111"></a><h3 class="tight">InvokeMenuDefUPP</h3>
<p class="spaceabove">Calls your custom menu definition through a universal procedure pointer. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void InvokeMenuDefUPP (
   short message,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Rect" target="_top">Rect</a> *menuRect,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Point" target="_top">Point</a> hitPt,
   short *whichItem,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuDefUPP">MenuDefUPP</a> userUPP
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>message</em></dt>
<dd></dd>
<dt><em>theMenu</em></dt>
<dd></dd>
<dt><em>menuRect</em></dt>
<dd></dd>
<dt><em>hitPt</em></dt>
<dd></dd>
<dt><em>whichItem</em></dt>
<dd></dd>
<dt><em>userUPP</em></dt>
<dd></dd></dl>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Apple discourages you from writing and using your own menu definition functions and encourages you to use the system-supplied menu definition function instead. New features that have previously been missing are now available in the system-supplied menu definition function. Since Appearance Manager 1.0 (in Mac OS 8.0), for example,  the system-supplied menu definition function has supported extended menu item command key modifiers and glyphs. And in Carbon, the system-supplied menu definition function supports dynamic items, which allow the contents of a menu item to be redrawn while the menu is displayed in response to the user pressing a modifier key on the keyboard.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/MenuKey" title="MenuKey"></a><a name="//apple_ref/doc/c_ref/MenuKey" title="MenuKey"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F03901" title="MenuKey"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_127"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_127"></a><h3 class="tight">MenuKey</h3>
<p class="spaceabove">Maps a character key with the command key to determine the keyboard equivalent of a menu item in a menu in the current menu list. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
SInt32 MenuKey (
   <!--a-->CharParameter<!--/a--> ch
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>ch</em></dt>
<dd><p> The 1-byte character that represents the key pressed by the user in combination with the Command key. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A value containing the menu ID and menu item that corresponds to the given character.If the given character does not map to an enabled menu item in the current menu list, <code>MenuKey</code> returns 0 in its high-order word and the low-order word is undefined. </p>
<h5 class="tight">Discussion</h5>
<p>Note that unless your application uses the <code>WaitNextEvent</code> event model, you should use the Carbon event–based <code><a href="../Reference/reference.html#//apple_ref/c/func/IsMenuKeyEvent">IsMenuKeyEvent</a></code> instead. Even when using the <code>WaitNextEvent</code> model, you should probably use <code><a href="../Reference/reference.html#//apple_ref/c/func/MenuEvent">MenuEvent</a></code>, as that function supports the Shift, Option, and Control modifier keys in addition to the Command key</p>
<p>The <code>MenuKey</code> function determines whether the key combination maps to a current menu item when the user presses another key while holding down the Command key.</p>
<p><code>MenuKey</code> does not distinguish between uppercase and lowercase letters. This allows a user to invoke a keyboard equivalent command, such as the Copy command, by pressing the Command key and “c” or “C”. For consistency between applications, you should define the keyboard equivalents of your commands so that they appear in uppercase in your menus.</p>
<p>You should not define menu items with identical keyboard equivalents. The <code>MenuKey</code> function scans the menus from right to left and the items from top to bottom. If you have defined more than one menu item with identical keyboard equivalents, <code>MenuKey</code> returns the first one it finds.</p>
<p>If the given character maps to an enabled menu item in the current menu list, <code>MenuKey</code> highlights the menu title of the chosen menu, returns the menu ID in the high-order word of its function result, and returns the chosen menu item in the low-order word of its function result. After performing the chosen task, your application should unhighlight the menu title using the <code>HiliteMenu</code> function.</p>
<p>The <code>MenuKey</code> function first searches the regular portion of the current menu list for a menu item with a keyboard equivalent matching the given key. If it doesn’t find one there, it searches the submenu portion of the current menu list. If the given key maps to a menu item in a submenu, <code>MenuKey</code> highlights the menu title in the menu bar that the user would normally pull down to begin traversing to the submenu. Your application should perform the desired command and then unhighlight the menu title.</p>
<p>You shouldn’t assign a Command–Shift–number key sequence to a menu item as its keyboard equivalent Command–Shift–number key sequences are reserved for use as ' <code>FKEY </code> ' resources. Command–Shift–number key sequences are not returned to your application, but instead are processed by the Event Manager. The Event Manager invokes the ' <code>FKEY </code> ' resource with a resource ID that corresponds to the number that activates it.</p>
<p>Apple reserves the Command-key codes 0x1B through 0x20 to indicate meanings other than keyboard equivalents. <code>MenuKey</code> ignores these character codes and returns a function result of 0 if you specify any of these values in the <code>ch</code> parameter. Your application should not use these character codes for its own use </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Carbon does not support desk accessories, so <code>MenuKey </code>cannot be used in OS X to pass keyboard equivalents to desk accessories.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/NewMenu" title="NewMenu"></a><a name="//apple_ref/doc/c_ref/NewMenu" title="NewMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F04225" title="NewMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_129"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_129"></a><h3 class="tight">NewMenu</h3>
<p class="spaceabove">Creates an empty menu with a specified title and menu ID. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> NewMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuID">MenuID</a> menuID,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> menuTitle
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menuID</em></dt>
<dd><p>The ID for the menu. The menu ID is a number that identifies the menu. Menu IDs in Carbon can be any value, but Apple recommends that the ID be either zero or positive. A menu ID of zero is a valid ID. IDs of submenus should similarly be zero or a positive value. </p></dd>
<dt><em>menuTitle</em></dt>
<dd><p>The title of the new menu. Note that in most cases you should store the titles of menus in resources, so that your menu titles can be more easily localized. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A menu reference. If the <code>NewMenu</code> function is unable to create the menu structure, it returns <code>NULL</code>. See the description of the <code>MenuRef</code> data type.</p>
<h5 class="tight">Discussion</h5>
<p>Unless you must support legacy code, you should not use functions like <code>NewMenu</code>. If you need to create menus programmatically, you can call <code><a href="../Reference/reference.html#//apple_ref/c/func/CreateNewMenu">CreateNewMenu</a></code>; otherwise you should define menus in Interface Builder, store them as nib files, and then call the Interface Builder Services function <code>CreateMenuFromNib</code> to create them. </p>
<p>The <code>NewMenu</code> function creates a menu with the specified title, assigns it the specified menu ID, and returns a handle to the menu structure. It sets up the menu structure to use the standard menu definition function (and it reads the standard menu definition function into memory if it isn’t already there). <code>NewMenu</code> does not insert the newly created menu into the current menu list.</p>
<p>After creating a menu with <code>NewMenu</code>, use  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/AppendMenu">AppendMenu</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/InsertMenuItem">InsertMenuItem</a></code> ,  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/AppendResMenu">AppendResMenu</a></code> , or  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/InsertResMenu">InsertResMenu</a></code>  to add menu items to the menu. To add a menu created by <code>NewMenu</code> to the current menu list, use  <code><a href="../Reference/reference.html#//apple_ref/c/func/InsertMenu">InsertMenu</a></code>. In Carbon, you do not need to call <code><a href="../Reference/reference.html#//apple_ref/c/func/DrawMenuBar">DrawMenuBar</a></code> to update the menu bar, as the Menu Manager automatically invalidates andredraws the menu bar.</p>
<p>Menus in a resource must not be purgeable nor should the resource lock bit be set. Do not define a “circular” hierarchical menu—that is, a hierarchical menu in which a submenu has a submenu whose submenu is a hierarchical menu higher in the chain.  </p>
<h5 class="tight">Special Considerations</h5>
<p>To release the memory associated with a menu that you created using <code>NewMenu</code>, first call <code><a href="../Reference/reference.html#//apple_ref/c/func/DeleteMenu">DeleteMenu</a></code> to remove the menu from the current menu list and to remove any entries for this menu in your application’s menu color information table then call <code><a href="../Reference/reference.html#//apple_ref/c/func/DisposeMenu">DisposeMenu</a></code> to dispose of the menu structure. Note that in Carbon, the Menu Manager automatically invalidates and redraws the menu bar after disposing of a menu. </p>
<h5 class="tight">Version Notes</h5>
<p>Note that if you are running on Mac OS 8.1 and earlier, the menu ID of a submenu must be within the range 0 to 255. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/Simple_DrawSprocket/index.html#//apple_ref/doc/uid/DTS10000169" target="_top">Simple DrawSprocket</a></span></li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/NewMenuDefUPP" title="NewMenuDefUPP"></a><a name="//apple_ref/doc/c_ref/NewMenuDefUPP" title="NewMenuDefUPP"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F12074" title="NewMenuDefUPP"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_130"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_130"></a><h3 class="tight">NewMenuDefUPP</h3>
<p class="spaceabove">Creates a new univeral procedure pointer to your custom menu definition. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
<a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuDefUPP">MenuDefUPP</a> NewMenuDefUPP (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuDefProcPtr">MenuDefProcPtr</a> userRoutine
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>userRoutine</em></dt>
<dd></dd></dl>
<h5 class="tight">Return Value</h5>
<p>See the description of the <code>MenuDefUPP</code> data type.</p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>Apple discourages you from writing and using your own menu definition functions and encourages you to use the system-supplied menu definition function instead. New features that have previously been missing are now available in the system-supplied menu definition function. Since Appearance Manager 1.0 (in Mac OS 8.0), for example,  the system-supplied menu definition function has supported extended menu item command key modifiers and glyphs. And in Carbon, the system-supplied menu definition function supports dynamic items, which allow the contents of a menu item to be redrawn while the menu is displayed in response to the user pressing a modifier key on the keyboard.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/ProcessIsContextualMenuClient" title="ProcessIsContextualMenuClient"></a><a name="//apple_ref/doc/c_ref/ProcessIsContextualMenuClient" title="ProcessIsContextualMenuClient"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F05070" title="ProcessIsContextualMenuClient"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_132"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_132"></a><h3 class="tight">ProcessIsContextualMenuClient</h3>
<p class="spaceabove">Determines whether a given program is a contextual menu client. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> ProcessIsContextualMenuClient (
   <a href="../../Process_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ProcessSerialNumber" target="_top">ProcessSerialNumber</a> *inPSN
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inPSN</em></dt>
<dd><p>A pointer to the ID of the process containing the program. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code>true</code> if the program in the process uses contextual menus; otherwise, <code>false</code>. </p>
<h5 class="tight">Discussion</h5>
<p>In Mac OS X, you do not need to call <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/InitContextualMenus">InitContextualMenus</a></code> to register your application, so this function call is unnecessary. </p>
<p>The <code>ProcessIsContextualMenuClient</code> function checks the system registry of contextual menu clients and returns <code>true</code> if the program in the given process supports contextual menus. However, the program must have been registered as a client using  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/InitContextualMenus">InitContextualMenus</a></code>.</p>
<p>See also  <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/constant_group/Contextual_Menu_Gestalt_Selector_Constants">“Contextual Menu Gestalt Selector Constants.”</a></span> </p>
<h5 class="tight">Version Notes</h5>
<p>This function is available with Appearance Manager 1.0 and later.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/ReleaseMenu" title="ReleaseMenu"></a><a name="//apple_ref/doc/c_ref/ReleaseMenu" title="ReleaseMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F16288" title="ReleaseMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_134"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_134"></a><h3 class="tight">ReleaseMenu</h3>
<p class="spaceabove">Decrements the retain count of a menu.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus ReleaseMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu whose retain count to decrement. If the retain count falls to zero, the menu is destroyed. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The reference that you pass in the <code>theMenu</code> parameter is not valid after <code>DisposeMenu</code> returns. This function is identical to <code><a href="../Reference/reference.html#//apple_ref/c/func/DisposeMenu">DisposeMenu</a></code>.</p>
<h5 class="tight">Version Notes</h5>
<p>In Mac OS X v10.2 and later, all menus are Core Foundation CFTypes, so you can optionally call <code>CFRelease</code> instead of <code>ReleaseMenu</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTCarbonShell/index.html#//apple_ref/doc/uid/DTS10003611" target="_top">QTCarbonShell</a></span></li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/RetainMenu" title="RetainMenu"></a><a name="//apple_ref/doc/c_ref/RetainMenu" title="RetainMenu"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F16295" title="RetainMenu"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_137"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_137"></a><h3 class="tight">RetainMenu</h3>
<p class="spaceabove">Increments the reference count of a menu.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus RetainMenu (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu whose reference count you want to increment. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p><code>RetainMenu</code> does not create a new menu. It simply adds one to the reference count. </p>
<h5 class="tight">Version Notes</h5>
<p>In Mac OS X v10.2 and later, all menus are Core Foundation CFTypes, so you can optionally call <code>CFRetain</code> instead of <code>RetainMenu</code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/ScrollMenuImage" title="ScrollMenuImage"></a><a name="//apple_ref/doc/c_ref/ScrollMenuImage" title="ScrollMenuImage"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F17381" title="ScrollMenuImage"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_138"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_138"></a><h3 class="tight">ScrollMenuImage</h3>
<p class="spaceabove">Scrolls a portion of the menu image.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSStatus ScrollMenuImage (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu,
   const <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/Rect" target="_top">Rect</a> *inScrollRect,
   int inHScroll,
   int inVScroll,
   <a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/doc/c_ref/CGContextRef" target="_top">CGContextRef</a> inContext
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu to scroll. </p></dd>
<dt><em>inScrollRect</em></dt>
<dd><p>The bounds of the area to scroll. </p></dd>
<dt><em>inHScroll</em></dt>
<dd><p>The distance to scroll horizontally, in pixels. </p></dd>
<dt><em>inVScroll</em></dt>
<dd><p>The distance to scroll vertically, in pixels. </p></dd>
<dt><em>inContext</em></dt>
<dd><p>The Core Graphics context to scroll. If you pass <code>NULL</code>, the function creates a context based on the current port. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Scrolling menus on Mac OS X using <code>ScrollRect</code> or other QuickDraw functions destroys the alpha channel data, so you should use <code>ScrollMenuImage</code> instead. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetItemIcon" title="SetItemIcon"></a><a name="//apple_ref/doc/c_ref/SetItemIcon" title="SetItemIcon"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F06868" title="SetItemIcon"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_140"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_140"></a><h3 class="tight">SetItemIcon</h3>
<p class="spaceabove">Sets a menu item’s icon or text encoding.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
void SetItemIcon (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> item,
   short iconIndex
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu containing the item. </p></dd>
<dt><em>item</em></dt>
<dd><p>The menu index of the item. </p></dd>
<dt><em>iconIndex</em></dt>
<dd><p>An integer representing the icon number or text encoding for the specified menu item. If the menu item’s keyboard equivalent field does not contain 0x1C, the <code>SetItemIcon</code> function sets the icon number of the item’s icon to the number defined in this parameter. The icon number you specify should be a value from 1 through 255 (or from 1 through 254 if the item has a small or reduced icon) or 0 if the item does not have an icon.</p><p>The Menu Manager adds 256 to the icon number to generate the resource ID of the '<code>cicn</code>' or '<code>ICON</code>' resource that describes the icon of the menu item. For example, if you specify 5 as the value of the <code>iconIndex</code> parameter, when the Menu Manager needs to draw the item, it looks for an icon resource with resource ID 261.</p><p>If the menu item’s keyboard equivalent field contains 0x1C, the <code>SetItemIcon</code> function sets the text encoding of the menu item to the number defined in the <code>iconIndex</code> parameter. The Menu Manager displays the menu item using the specified text encoding if the corresponding script system is installed.</p><p>You can specify 0 in the <code>iconIndex</code> parameter to indicate that the item uses the current system script and does not have an icon number.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>In most cases, you should use <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/SetMenuItemTextEncoding">SetMenuItemTextEncoding</a></code> rather than <code>SetItemIcon</code> to set the menu item’s text encoding.</p>
<p>The <code>SetItemIcon</code> function sets the icon number (for resource-based icons) or text encoding of the specified menu item to the value in the <code>iconIndex</code> parameter. To use handle-based icons, call  <code><a href="../Reference/reference.html#//apple_ref/c/func/SetMenuItemIconHandle">SetMenuItemIconHandle</a></code>. Usually you display menu items in the current system script; however, if needed, you can use the <code>SetItemIcon</code> function to set the text encoding of a menu item. For an item’s text encoding to be set, the keyboard equivalent field of the item must contain 0x1C. If the keyboard equivalent field contains any other value, the <code>SetItemIcon</code> function interprets the specified number as the item’s icon number. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetMCEntries" title="SetMCEntries"></a><a name="//apple_ref/doc/c_ref/SetMCEntries" title="SetMCEntries"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F06873" title="SetMCEntries"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_143"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_143"></a><h3 class="tight">SetMCEntries</h3>
<p class="spaceabove">Sets entries in an application’s menu color information table.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void SetMCEntries (
   short numEntries,
   <!--a-->MCTablePtr<!--/a--> menuCEntries
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>numEntries</em></dt>
<dd><p>The number of entries contained in the array of menu color entry structures. </p></dd>
<dt><em>menuCEntries</em></dt>
<dd><p>A pointer to an array of menu color entry structures. Specify the number of structures in the array in the <code>numEntries</code> parameter. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>SetMCEntries</code> function sets any specified menu bar entry, menu title entry, or menu item entry according to the values specified in the menu color entry structures. If an entry already exists for a specified menu color entry, the <code>SetMCEntries</code> function updates the entry in your application’s menu color information table with the new values. If the entry doesn’t exist, it is added to your application’s menu color information table. </p>
<p>If any of the added entries specify a new menu bar color or new menu title colors, your application should call  <code><a href="../Reference/reference.html#//apple_ref/c/func/DrawMenuBar">DrawMenuBar</a></code>  to update the menu bar with the new colors. </p>
<h5 class="tight">Special Considerations</h5>
<p>The <code>SetMCEntries</code> function may move or purge memory. Your application should make sure that the array specified by the <code>menuCEntries</code> parameter is nonrelocatable before calling <code>SetMCEntries</code>.</p>

<h5 class="tight">Carbon Porting Notes</h5>
<p><code>SetMCEntries</code> does nothing, because Appearance Manager doesn’t use color tables.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetMCInfo" title="SetMCInfo"></a><a name="//apple_ref/doc/c_ref/SetMCInfo" title="SetMCInfo"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F06874" title="SetMCInfo"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_144"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_144"></a><h3 class="tight">SetMCInfo</h3>
<p class="spaceabove">Makes a copy of your application’s menu color information table.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void SetMCInfo (
   <!--a-->MCTableHandle<!--/a--> menuCTbl
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menuCTbl</em></dt>
<dd><p>A handle to a copy of your application’s menu color information table. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>SetMCInfo</code> function copies the table specified by the <code>menuCTbl</code> parameter to your application’s menu color information table. If successful, the <code>SetMCInfo</code> function is responsible for disposing of your application’s current menu color information table, so your application does not need to explicitly dispose of the current table. </p>
<p>Your application should call the Memory Manager function <code>MemError</code> to determine whether the <code>SetMCInfo</code> function successfully copied the table. If the <code>SetMCInfo</code> function cannot successfully copy the table, it does not dispose of the current menu color information table and the <code>MemError</code> function returns a nonzero result code. If the <code>SetMCInfo</code> function is able to successfully copy the table, it disposes of the current menu color information table and the <code>MemError</code> function returns the <code>noErr</code> result code.</p>
<p>If the menu color information table specifies a new menu bar color or new menu title colors, your application should call  <code><a href="../Reference/reference.html#//apple_ref/c/func/DrawMenuBar">DrawMenuBar</a></code>  after calling <code>SetMCInfo</code>.</p>
<p>Note that  <code><a href="../Reference/reference.html#//apple_ref/c/func/GetNewMBar">GetNewMBar</a></code>  does not save your application’s current menu color information table. If your application changes menu bars, you can save and restore your application’s current menu color information table by calling  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/GetMCInfo">GetMCInfo</a></code>  before <code>GetNewMBar</code> and calling <code>SetMCInfo</code> afterward.  </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p><code>SetMCInfo</code> does nothing, because Appearance Manager doesn’t use color tables.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetMenuFlashCount" title="SetMenuFlashCount"></a><a name="//apple_ref/doc/c_ref/SetMenuFlashCount" title="SetMenuFlashCount"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F12586" title="SetMenuFlashCount"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_150"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_150"></a><h3 class="tight">SetMenuFlashCount</h3>
<p class="spaceabove">Specifies whether a menu should fade slowly or immediately disappear when closing. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Modified</i></p>
<p class="spaceabove"><pre>
void SetMenuFlashCount (
   short count
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>count</em></dt>
<dd><p>See the Discussion. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Unlike the classic Mac OS version, <code>SetMenuFlashCount</code> no longer lets you set the flash count for a menu. In Mac OS X, the flash count is always 1, and it not user adjustable. </p>
<p>Passing zero for the <code>count</code> parameter causes menus to disappear immediately when closing; passing any nonzero parameter causes the menus to fade out when closing (the default). </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetMenuItemHierarchicalID" title="SetMenuItemHierarchicalID"></a><a name="//apple_ref/doc/c_ref/SetMenuItemHierarchicalID" title="SetMenuItemHierarchicalID"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F06893" title="SetMenuItemHierarchicalID"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_158"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_158"></a><h3 class="tight">SetMenuItemHierarchicalID</h3>
<p class="spaceabove">Attaches a submenu to a menu item. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr SetMenuItemHierarchicalID (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> inItem,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuID">MenuID</a> inHierID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu that contains the menu item to which you wish to attach a submenu. </p></dd>
<dt><em>inItem</em></dt>
<dd><p>The menu index of the item. </p></dd>
<dt><em>inHierID</em></dt>
<dd><p>An integer representing the menu ID of the submenu you wish to attach. This menu should be inserted into the menu list by calling <code>InsertMenu</code> with the <code>kInsertHierarchicalMenu</code> constant. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>The <code>SetMenuItemHierarchicalID</code> function should be called instead of setting the keyboard equivalent to 0x1B. You should call <code>SetMenuItemHierarchicalID</code> instead of <code>SetItemMark</code> to set the menu ID of a menu item’s submenu. However, you can still use <code>SetItemMark</code> to set the mark of a menu item. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetMenuItemText" title="SetMenuItemText"></a><a name="//apple_ref/doc/c_ref/SetMenuItemText" title="SetMenuItemText"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F06899" title="SetMenuItemText"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_166"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_166"></a><h3 class="tight">SetMenuItemText</h3>
<p class="spaceabove">Sets menu item text to a specified string.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not recommended</i></p>
<p class="spaceabove"><pre>
void SetMenuItemText (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> theMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> item,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> itemString
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>theMenu</em></dt>
<dd><p>The menu containing the item. </p></dd>
<dt><em>item</em></dt>
<dd><p>The menu index of the item. </p></dd>
<dt><em>itemString</em></dt>
<dd><p>The menu item’s text string. This parameter must not be <code>NULL</code> or an empty (zero-length) string. Do not use meta–font characters in this parameter. </p><p>Your menu item text string must be limited to 250 bytes. 251 or more bytes will cause the Menu Manager to crash.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <code>SetMenuItemText</code> function does not recognize any metacharacters used by  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/AppendMenu">AppendMenu</a></code>  and  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/InsertMenuItem">InsertMenuItem</a></code>. </p>
<p>If you set the text of a menu item using the <code>SetMenuItemText</code> function, you should store the text in a string resource so that your application can be more easily localized. </p>

<h5 class="tight">Carbon Porting Notes</h5>
<p>n Carbon, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/SetMenuItemTextWithCFString">SetMenuItemTextWithCFString</a></code> function instead.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetMenuItemTextEncoding" title="SetMenuItemTextEncoding"></a><a name="//apple_ref/doc/c_ref/SetMenuItemTextEncoding" title="SetMenuItemTextEncoding"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F06900" title="SetMenuItemTextEncoding"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_167"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_167"></a><h3 class="tight">SetMenuItemTextEncoding</h3>
<p class="spaceabove">Sets the text encoding for a menu item’s text.&#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p class="spaceabove"><pre>
OSErr SetMenuItemTextEncoding (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> inMenu,
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuItemIndex">MenuItemIndex</a> inItem,
   <a href="../../Text_Encodin_sion_Manager/Reference/reference.html#//apple_ref/doc/c_ref/TextEncoding" target="_top">TextEncoding</a> inScriptID
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>inMenu</em></dt>
<dd><p>The menu containing the menu item whose text encoding you wish to set. </p></dd>
<dt><em>inItem</em></dt>
<dd><p>The menu index of the item. </p></dd>
<dt><em>inScriptID</em></dt>
<dd><p>The script code that corresponds to the text encoding you wish to set. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>If a menu item has a command code of 0x1C when <code>SetMenuItemTextEncoding</code> is called, the values in the menu item’s command key and icon ID fields are cleared and replaced with the value in the <code>inScriptID</code> parameter of <code>SetMenuItemTextEncoding</code>.</p>
<p>See also the function  <code><a href="AppendixADeprecatedAPI.html#//apple_ref/c/func/GetMenuItemTextEncoding">GetMenuItemTextEncoding</a></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code><a name="//apple_ref/c/func/SetMenuTitle" title="SetMenuTitle"></a><a name="//apple_ref/doc/c_ref/SetMenuTitle" title="SetMenuTitle"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-F10254" title="SetMenuTitle"></a>
<a name="//apple_ref/doc/uid/TP30000227-AppendixA-DontLinkElementID_169"></a><a name="//apple_ref/doc/uid/TP30000227-CH1g-DontLinkElementID_169"></a><h3 class="tight">SetMenuTitle</h3>
<p class="spaceabove">Sets the title of a menu. &#032;(<font color="red">Deprecated in Mac OS X v10.5.</font>)</p>
<p><i style="background-color: #e9e9e9; padding: 5px; margin-top: 10px; margin-bottom:5px;">Not Recommended</i></p>
<p class="spaceabove"><pre>
OSStatus SetMenuTitle (
   <a href="../Reference/reference.html#//apple_ref/doc/c_ref/MenuRef">MenuRef</a> menu,
   <a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ConstStr255Param" target="_top">ConstStr255Param</a> title
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>menu</em></dt>
<dd><p>The menu whose title you want to set. </p></dd>
<dt><em>title</em></dt>
<dd><p>A string containing the menu title to set. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A result code. See <span class="content_text"><a href="../Reference/reference.html#//apple_ref/doc/uid/TP30000227-CH5g-RCM0056">“Menu Manager Result Codes.”</a></span></p>
<h5 class="tight">Discussion</h5>
<p>Unless you need to support legacy code, you should use the <code><a href="../Reference/reference.html#//apple_ref/c/func/SetMenuTitleWithCFString">SetMenuTitleWithCFString</a></code> function instead. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>Menus.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Reference/reference.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../menu_mgr_ref_docrevhist/menu_mgr_ref_docrevhist.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 1992, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-09-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Reference/Menu_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000227-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Reference/Menu_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000227-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Reference/Menu_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html%3Fid%3DTP30000227-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>