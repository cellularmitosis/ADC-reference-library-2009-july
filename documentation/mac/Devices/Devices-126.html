<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Partition Map Entry Record(IM: D)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING126></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="Devices-125.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-127.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Devices-2.html"><B>Devices</B></A> / <BR><DD><A HREF="Devices-119.html"><B>Chapter 3 - SCSI Manager</B></A> / <A HREF="Devices-123.html"><B>SCSI Manager Reference</B></A><BR><DL><DD><A HREF="Devices-124.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING126-0></A>
<H3><A NAME=MARKER-14-92></A><A NAME=MARKER-2-105></A>Partition Map Entry Record</H3>
 The partition map entry record contains information about how data is stored on a block device, usually a SCSI disk drive. The partition map entry record is defined by the <CODE>Partition</CODE> data type.<P>
<PRE>
TYPE Partition = 
RECORD
   pmSig:         Integer;       {partition signature}
   pmSigPad:      Integer;       {reserved}
   pmMapBlkCnt:   LongInt;       {number of blocks in partition map}
   pmPyPartStart: LongInt;       {first physical block of partition}
   pmPartBlkCnt:  LongInt;       {number of blocks in partition}
   pmPartName:    PACKED ARRAY [0..31] OF Char; {partition name}
   pmParType:     PACKED ARRAY [0..31] OF Char; {partition type}
   pmLgDataStart: LongInt;       {first logical block of data area}
   pmDataCnt:     LongInt;       {number of blocks in data area}
   pmPartStatus:  LongInt;       {partition status information}
   pmLgBootStart: LongInt;       {first logical block of boot code}
   pmBootSize:    LongInt;       {size of boot code, in bytes}
   pmBootAddr:    LongInt;       {boot code load address}
   pmBootAddr2:   LongInt;       {reserved}
   pmBootEntry:   LongInt;       {boot code entry point}
   pmBootEntry2:  LongInt;       {reserved}
   pmBootCksum:   LongInt;       {boot code checksum}
   pmProcessor:   PACKED ARRAY [0..15] OF Char; {processor type}
   pmPad:         ARRAY [0..187] OF Integer;    {reserved}
END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE><A NAME=MARKER-2-96></A>pmSig<A NAME=MARKER-2-50></A></CODE>
<DD> The partition signature. This field should contain the value of the <CODE><A NAME=MARKER-9-148></A>pMapSIG</CODE> constant ($504D). An earlier but still supported version uses the value $5453.
<DT><CODE>pmSigPad<A NAME=MARKER-2-65></A></CODE>
<DD> Reserved.
<DT><CODE>pmMapBlkCnt<A NAME=MARKER-2-66></A></CODE>
<DD> The size of the partition map, in blocks.
<DT><CODE>pmPyPartStart<A NAME=MARKER-2-67></A></CODE>
<DD> The physical block number of the first block of the partition.
<DT><CODE>pmPartBlkCnt<A NAME=MARKER-2-100></A></CODE>
<DD> The size of the partition, in blocks.
<DT><CODE>pmPartName<A NAME=MARKER-2-101></A></CODE>
<DD> An optional partition name, up to 32 bytes in length. If the string is less than 32 bytes, it must be terminated with the ASCII NUL character (a byte with a value of 0). If the partition name begins with <CODE>Maci</CODE> (for Macintosh), the Start Manager will perform checksum verification of the device driver's boot code. Otherwise, this field is ignored.
<DT><CODE>pmParType<A NAME=MARKER-2-102></A></CODE>
<DD> A string that identifies the partition type. Names that begin with <CODE>Apple_</CODE> are reserved for use by Apple Computer, Inc. Names shorter than 32 characters must be terminated with the NUL character. The following standard partition types are defined for the <CODE>pmParType</CODE> field:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>String<TH>Meaning<TR>
<TD>&nbsp;<TD><A NAME=MARKER-9-1></A>Apple_partition_map<TD>Partition contains a partition map<TR>
<TD>&nbsp;<TD>Apple_Driver<TD>Partition contains a device driver<TR>
<TD>&nbsp;<TD>Apple_Driver43<TD>Partition contains a SCSI Manager 4.3 device driver<TR>
<TD>&nbsp;<TD>Apple_MFS<TD>Partition uses the original Macintosh File System (64K ROM version)<TR>
<TD>&nbsp;<TD>Apple_HFS<TD>Partition uses the Hierarchical File System implemented in 128K and later ROM versions<TR>
<TD>&nbsp;<TD>Apple_Unix_SVR2<TD>Partition uses the Unix file system<TR>
<TD>&nbsp;<TD>Apple_PRODOS<TD>Partition uses the ProDOS file system<TR>
<TD>&nbsp;<TD>Apple_Free<TD>Partition is unused<TR>
<TD>&nbsp;<TD>Apple_Scratch<TD>Partition is empty</TABLE>

</DL>
 <P>
<DL>
<DT><CODE>pmLgDataStart<A NAME=MARKER-2-53></A></CODE>
<DD> The logical block number of the first block containing file system data. This is for use by operating systems, such as A/UX, in which the file system does not begin at logical block 0 of the partition. 
<DT><CODE>pmDataCnt<A NAME=MARKER-2-54></A></CODE>
<DD> The size of the file system data area, in blocks. This is used in conjunction with the <CODE>pmLgDataStart</CODE> field, for those operating systems in which the file system does not begin at logical block 0 of the partition.
<DT><CODE>pmPartStatus<A NAME=MARKER-2-55></A></CODE>
<DD> Two words of status information about the partition. The low-order byte of the low-order word contains status information used only by the A/UX operating system:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>&nbsp;<TH>Bit<TH>Meaning<TR>
<TD>&nbsp;<TD>0<TD>Set if a valid partition map entry<TR>
<TD>&nbsp;<TD>1<TD>Set if partition is already allocated; clear if available<TR>
<TD>&nbsp;<TD>2<TD>Set if partition is in use; may be cleared after a system reset<TR>
<TD>&nbsp;<TD>3<TD>Set if partition contains valid boot information<TR>
<TD>&nbsp;<TD>4<TD>Set if partition allows reading<TR>
<TD>&nbsp;<TD><B>X</B><TD>Set if partition allows writing<TR>
<TD>&nbsp;<TD>6<TD>Set if boot code is position-independent<TR>
<TD>&nbsp;<TD>7<TD>Unused</TABLE>

</DL>
 <P>
<DL>
<DT>
<DD> The remaining bytes of the <CODE>pmPartStatus</CODE> field are reserved. 
<DT><CODE>pmLgBootStart<A NAME=MARKER-2-57></A></CODE>
<DD> The logical block number of the first block containing boot code.
<DT><CODE>pmBootSize<A NAME=MARKER-2-107></A></CODE>
<DD> The size of the boot code, in bytes.
<DT><CODE>pmBootAddr<A NAME=MARKER-2-58></A></CODE>
<DD> The memory address where the boot code is to be loaded.
<DT><CODE>pmBootAddr2<A NAME=MARKER-9-141></A></CODE>
<DD> Reserved.
<DT><CODE>pmBootEntry<A NAME=MARKER-2-59></A></CODE>
<DD> The memory address to which the Start Manager will transfer control after loading the boot code into memory.
<DT><CODE>pmBootEntry2<A NAME=MARKER-2-60></A></CODE>
<DD> Reserved.
<DT><CODE>pmBootCksum<A NAME=MARKER-2-112></A></CODE>
<DD> The boot code checksum. The Start Manager can compare this value against the calculated checksum after loading the code.
<DT><CODE>pmProcessor<A NAME=MARKER-2-113></A></CODE>
<DD> An optional string that identifies the type of processor that will execute the boot code. Strings shorter than 16 bytes must be terminated with the ASCII NUL character. The following processor types are defined: <CODE>68000</CODE>, <CODE>68020</CODE>, <CODE>68030</CODE>, and <CODE>68040</CODE>. 
<DT><CODE>pmPad<A NAME=MARKER-2-114></A></CODE>
<DD> Reserved.
</DL>
 See <A HREF=Devices-121.html#MARKER-9-35>"The Structure of Block Devices," beginning on page 3-12</A>, for more information about this data structure.<A NAME=MARKER-2-115></A><A NAME=MARKER-9-177></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Devices-125.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-127.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Devices-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>  
