<HTML>		<HEAD>		<TITLE>			WOXMLCoder		</TITLE>		</HEAD>	<BODY bgcolor="#ffffff"><!--start of banner --><!-- #include virtual="/techpubs/navbar" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b>XML Reference</font><br><br><!--end of path --><a href="../XMLTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="up"></a><a name = "WOContext"></a><BR><h1><FONT COLOR="#000066"><a name="//apple_ref/java/cl/WOXMLCoder">WOXMLCoder</a></FONT></h1><br><blockquote><dl><dt><b>Inheritsfrom: </b></dt><dd> Object</dd></dl></blockquote><blockquote><dl><dt><b>Package: </b></dt><dd>com.apple.webobjects.xml</dd></dl></blockquote><HR SIZE=4><br><h2>Class Description</h2><hr><p>Use this class to encode objects as XML. Encoding can takeplace either with or without a mapping model. The mapping modelprovides greater control over the encoding process and is typicallyused when you are encoding and decoding XML that is destined for,or originates from, an external source. When the WOXMLCoder and  <a href="WOXMLDecoder.html#WOContext">WOXMLDecoder</a> are used as an archivingmechanism, the mapping model is usually not necessary. For moreinformation on the mapping model, see the  <a href="../Introduction.html#BAAJGIAH">"The Format of the Mapping Model" </a> inthe framework introduction.</p><p>When encoding without a mapping model, WOXMLCoder isable to encode any object as long as the object and all of the objectsit encapsulates either implement the  <a href="../Protocols/WOXMLCoding.html#WOContext">WOXMLCoding</a> interfaceor are an instance of String, Number (or a subclass, providing thatthe subclass doesn't add any new instance variables), NSArray,NSDictionary, NSDate, NSData, or EOEnterpriseObject (or a subclass,providing that all instance variables are either attributes or relationships).During the encoding of an enterprise object, WOXMLCoder usesattribute information stored in the EOModel when assigning an XMLtype tag to an object. For objects that don't inherit from EOEnterpriseObject,the tag supplied by WOXMLCoder's  <a href="#//apple_ref/java/instm/WOXMLCoder/encodeObjectForKey">encodeObjectForKey</a> methodis used. </p><p>To encode an object, simply invoke the  <a href="#//apple_ref/java/instm/WOXMLCoder/encodeRootObjectForKey">encodeRootObjectForKey</a> method. Toperform the reverse operation, generating an object from XML data,see the  <a href="WOXMLDecoder.html#WOContext">WOXMLDecoder</a> class.</p><br><br><br><h2>Method Types</h2><hr><blockquote><dl><dt>Creating a WOXMLCoder</dt><dd> <a href="#//apple_ref/java/clm/WOXMLCoder/coder">coder</a></dd><dd> <a href="#//apple_ref/java/clm/WOXMLCoder/coderWithMapping">coderWithMapping</a></dd></dl><dl><dt>Encoding an object graph</dt><dd> <a href="#//apple_ref/java/instm/WOXMLCoder/encodeRootObjectForKey">encodeRootObjectForKey</a></dd></dl><dl><dt>Implementing the WOXMLCodinginterface</dt><dd> <a href="#//apple_ref/java/instm/WOXMLCoder/encodeBooleanForKey">encodeBooleanForKey</a></dd><dd> <a href="#//apple_ref/java/instm/WOXMLCoder/encodeDoubleForKey">encodeDoubleForKey</a></dd><dd> <a href="#//apple_ref/java/instm/WOXMLCoder/encodeFloatForKey">encodeFloatForKey</a></dd><dd> <a href="#//apple_ref/java/instm/WOXMLCoder/encodeIntForKey">encodeIntForKey</a></dd><dd> <a href="#//apple_ref/java/instm/WOXMLCoder/encodeObjectForKey">encodeObjectForKey</a></dd></dl></blockquote><br><br><h2>Static Methods</h2><hr><a name = "BJGBCEDI"></a><BR><h3><a name="//apple_ref/java/clm/WOXMLCoder/coder">coder</a></h3><p><code>public static WOXMLCoder <b>coder</b>()</code></p><p>Creates and returns a new  <a href="#WOContext">WOXMLCoder</a> object.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BJGEGAJA"></a><BR><h3><a name="//apple_ref/java/clm/WOXMLCoder/coderWithMapping">coderWithMapping</a></h3><p><code>public static WOXMLCoder <b>coderWithMapping</b>(String <em>mappingURL</em>)</code></p><p>Creates and returns a new  <a href="#WOContext">WOXMLCoder</a> objectinitialized with the mapping model specified by <em>mappingURL</em>.See  <a href="../Introduction.html#BAAJGIAH">"The Format of the Mapping Model" </a> fora complete description of the mapping model.</p><br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row">Windows NT uses backslasheswhere other systems use forward slashes. When prepending the "file:"URL prefix to a path such as is returned by WOResourceManager's <code>pathForResourceNamed</code> method,on Windows NT the prefix must be "file:\\" while on all other platformsthe prefix must be "file://". See the RelatedLinks example forone way to select the proper prefix based upon the underlying system.</td></tr></table><br><hr WIDTH="25%" ALIGN="LEFT"><BR><BR><h2>Instance Methods</h2><hr><a name = "BJGFJDEI"></a><BR><h3><a name="//apple_ref/java/instm/WOXMLCoder/encodeBooleanForKey">encodeBooleanForKey</a></h3><p><code>public void <b>encodeBooleanForKey</b>(boolean <em>flag</em>, String <em>key</em>)</code></p><p>Invoke from within in your implementationof  <a href="../Protocols/WOXMLCoding.html#WOContext">WOXMLCoding</a>'s  <a href="../Protocols/WOXMLCoding.html#//apple_ref/java/intfm/WOXMLCoding/encodeWithWOXMLCoder">encodeWithWOXMLCoder</a> method to appendan element with XML tag <em>key</em> to the WOXMLCoder object'sinternal string buffer. The element's XML content is the stringrepresentation of <em>flag</em>-either <tt>True</tt> or <tt>False</tt>-andthe element has an attribute named <tt>type</tt> witha value of <tt>boolean</tt>. For example, the followingcall to  <a href="#//apple_ref/java/instm/WOXMLCoder/encodeBooleanForKey">encodeBooleanForKey</a>:</p><blockquote><pre>encodeBooleanForKey(true, "myTag");</pre></blockquote><br><p>causesthe following text to be appended to the WOXMLCoder'sinternal string buffer:</p><blockquote><pre>&lt;myTag type="boolean"&gt;True&lt;/myTag&gt;</pre></blockquote><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "BJGFCBHE"></a><BR><h3><a name="//apple_ref/java/instm/WOXMLCoder/encodeDoubleForKey">encodeDoubleForKey</a></h3><p><code>public void <b>encodeDoubleForKey</b>(double <em>aDouble</em>, String <em>key</em>)</code></p><p>Invoke from within in your implementationof  <a href="../Protocols/WOXMLCoding.html#WOContext">WOXMLCoding</a>'s  <a href="../Protocols/WOXMLCoding.html#//apple_ref/java/intfm/WOXMLCoding/encodeWithWOXMLCoder">encodeWithWOXMLCoder</a> method to appendan element of type <em>key</em> to the WOXMLCoder object'sinternal string buffer. The element's content is the string valueof <em>aDouble</em> and the element has anattribute named <tt>type</tt> with a value of <tt>double</tt>.For example, the following call to  <a href="#//apple_ref/java/instm/WOXMLCoder/encodeDoubleForKey">encodeDoubleForKey</a>:</p><blockquote><pre>encodeDoubleForKey(1.23, "myTag");</pre></blockquote><br><p>causesthe following text to be appended to the WOXMLCoder'sinternal string buffer:</p><blockquote><pre>&lt;myTag type="double"&gt;1.23&lt;/myTag&gt;</pre></blockquote><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "BJGIBGDH"></a><BR><h3><a name="//apple_ref/java/instm/WOXMLCoder/encodeFloatForKey">encodeFloatForKey</a></h3><p><code>public void <b>encodeFloatForKey</b>(float <em>aFloat</em>, String <em>key</em>)</code></p><p>Invoke from within in your implementationof  <a href="../Protocols/WOXMLCoding.html#WOContext">WOXMLCoding</a>'s  <a href="../Protocols/WOXMLCoding.html#//apple_ref/java/intfm/WOXMLCoding/encodeWithWOXMLCoder">encodeWithWOXMLCoder</a> method to appendan element of type <em>key</em> to the WOXMLCoder object'sinternal string buffer. The element's content is the string valueof <em>aFloat</em> and the element has anattribute named <tt>type</tt> with a value of <tt>float</tt>. Forexample, the following call to  <a href="#//apple_ref/java/instm/WOXMLCoder/encodeFloatForKey">encodeFloatForKey</a>:</p><blockquote><pre>encodeFloatForKey(1.23, "myTag");</pre></blockquote><br><p>causesthe following text to be appended to the WOXMLCoder'sinternal string buffer:</p><blockquote><pre>&lt;myTag type="float"&gt;1.23&lt;/myTag&gt;</pre></blockquote><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "BJGDEAJG"></a><BR><h3><a name="//apple_ref/java/instm/WOXMLCoder/encodeIntForKey">encodeIntForKey</a></h3><p><code>public void <b>encodeIntForKey</b>(int <em>anInt</em>, String <em>key</em>)</code></p><p>Invoke from within in your implementationof  <a href="../Protocols/WOXMLCoding.html#WOContext">WOXMLCoding</a>'s  <a href="../Protocols/WOXMLCoding.html#//apple_ref/java/intfm/WOXMLCoding/encodeWithWOXMLCoder">encodeWithWOXMLCoder</a> method to appendan element of type <em>key</em> to the WOXMLCoder object'sinternal string buffer. The element's content is the string valueof <em>anInt</em> and the element has an attributenamed <tt>type</tt> with a value of <tt>int</tt>.For example, the following call to  <a href="#//apple_ref/java/instm/WOXMLCoder/encodeIntForKey">encodeIntForKey</a>:</p><blockquote><pre>encodeIntForKey(123, "myTag");</pre></blockquote><br><p>causesthe following text to be appended to the WOXMLCoder'sinternal string buffer:</p><blockquote><pre>&lt;myTag type="int"&gt;123&lt;/myTag&gt;</pre></blockquote><br><hr WIDTH="25%" ALIGN="LEFT"><a name = "BJGECBAJ"></a><BR><h3><a name="//apple_ref/java/instm/WOXMLCoder/encodeObjectForKey">encodeObjectForKey</a></h3><p><code>public void <b>encodeObjectForKey</b>(Object <em>anObject</em>, String <em>key</em>)</code></p><p>Invoke from within in your implementationof  <a href="../Protocols/WOXMLCoding.html#WOContext">WOXMLCoding</a>'s  <a href="../Protocols/WOXMLCoding.html#//apple_ref/java/intfm/WOXMLCoding/encodeWithWOXMLCoder">encodeWithWOXMLCoder</a> method to appendan element of type <em>key</em> to the WOXMLCoder object'sinternal string buffer. The element's content depends on <em>anObject</em>'sclass. <em>anObject</em> must meet the samecriteria outlined in  <a href="#//apple_ref/java/instm/WOXMLCoder/encodeRootObjectForKey">encodeRootObjectForKey</a>.</p><p> <a href="#//apple_ref/java/instm/WOXMLCoder/encodeRootObjectForKey">encodeRootObjectForKey</a> reliesupon this method to perform the actual encoding of objects.</p><hr WIDTH="25%" ALIGN="LEFT"><a name = "BJGGDCJH"></a><BR><h3><a name="//apple_ref/java/instm/WOXMLCoder/encodeRootObjectForKey">encodeRootObjectForKey</a></h3><p><code>public synchronized String <b>encodeRootObject</b>ForKey(Object <em>anObject</em>, String <em>key</em>)</code></p><p>Encodes <em>anObject</em> asXML and returns the resulting XML string. The encoded root objectis tagged using <em>key</em>, and has a <tt>type</tt> attributethat indicates <em>anObject</em>'s class. <em>anObject</em> mustbe one of the following:</p><ul><li>an instance ofString</li><li>an instance of NSArray</li><li>an instance of NSDictionary</li><li>an instance of NSDate</li><li>an instance of Number (or a subclass, providing that the subclassdoesn't add instance variables)</li><li>an instance of NSData</li><li>an object that implements the WOXMLCoding interface</li><li>an instance of EOEnterpriseObject (or a subclass, providingthat all instance variables are either attributes or relationships)</li></ul><p>If <em>anObject</em> isnot one of the above, <b>encodeRootObjectForKey</b> throwsan exception.</p><hr WIDTH="25%" ALIGN="LEFT"><BR><br><a href="../XMLTOC.html"><img src="../../../../../../images/up.gif" border="0" alt="up"></a></BODY></HTML>