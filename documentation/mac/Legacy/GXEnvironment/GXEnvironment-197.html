<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Getting and Setting the Attributes of an Item(IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING197></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-196.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-198.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-182.html"><B>Chapter 5 - Collection Manager</B></A> / <A HREF="GXEnvironment-188.html"><B>Using the Collection Manager</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING197-0></A>
<H2><A NAME=MARKER-9-60></A>Getting and Setting the Attributes of an Item</H2>
 <A NAME=MARKER-2-61></A><A NAME=MARKER-2-62></A>The Collection Manager provides three functions that allow you to examine the attributes of a collection item:<P>
<UL>
<LI>The <CODE>GetCollectionItemInfo</CODE> function requires that you specify the collection tag and ID of the desired item.
<LI>The <CODE>GetIndexedCollectionItemInfo</CODE> function requires that you specify the collection index of the desired item.
<LI>The <CODE>GetTaggedCollectionItemInfo</CODE> function requires that you specify the collection tag and tag list position of the desired item.<P>
</UL>
 The Collection Manager provides two functions that allow you to edit the attributes of an item:<P>
<UL>
<LI>The <CODE>SetCollectionItemInfo</CODE> function requires that you specify the collection tag and ID of the desired item.
<LI>The <CODE>SetIndexedCollectionItemInfo</CODE> function requires that you specify the collection index of the desired item.<P>
</UL>
 (There is no <CODE>SetTaggedCollectionItemInfo</CODE> function to correspond to the <CODE>GetTaggedCollectionItemInfo</CODE> function.)<P>
 The three information-retrieving functions allow you to determine a variety of information about the item--not just its attributes. You can find more information about the other values returned by these functions in <A HREF=GXEnvironment-194.html#MARKER-9-47>"Determining the Collection Index of an Item" beginning on page 5-19</A>, <A HREF=GXEnvironment-195.html#MARKER-9-51>"Determining the Tag and ID of an Item" beginning on page 5-21</A>, and <A HREF=GXEnvironment-196.html#MARKER-9-56>"Determining the Size of an Item's Variable-Length Data" beginning on page 5-22</A>.<P>
 The information-editing functions, however, allow you to edit the attributes of only the specified item. (You cannot, for instance, use these functions to change the index of an item, or the size of its variable-length data.)<P>
 <A HREF=#MARKER-9-63>Listing 5-8</A> shows how you can use the <CODE>GetCollectionItemInfo</CODE> function to examine the attributes of an item given the item's collection tag and collection ID. This listing uses the collection defined in <A HREF=GXEnvironment-193.html#MARKER-9-43>"Adding Items to a Collection" beginning on page 5-17</A>.<P>
<B>Listing 5-8  <A NAME=MARKER-9-63></A>Examining the attributes of an item</B><P>
<PRE>
long attributes;
.
.
.
anErr = GetCollectionItemInfo(pointsAndQuotes, /* collection */
                              'QUOT', 0,  /* tag and id */
                              dontWantIndex, 
                              dontWantSize,
                              &amp;attributes); /* returned attr's */
</PRE>
 After this call to the <CODE>GetCollectionItemInfo</CODE> function, the <CODE>attributes</CODE> variable contains a copy of the attributes of item from the <CODE>pointsAndQuotes</CODE> collection with the collection tag <CODE>'QUOT'</CODE> and a collection ID of 0. You can examine specific attributes using the attribute bit masks, which are described in <A HREF=GXEnvironment-213.html#MARKER-9-117>"Attribute Bit Masks" beginning on page 5-52</A>. As an example, the expression<P>
<PRE>
(attributes &amp; collectionLockMask)
</PRE>
 evaluates to <CODE>false</CODE> (0) if the lock attribute is not set and to <CODE>true</CODE> (not 0) if the lock attribute is set.<P>
 You can also use the <CODE>GetIndexedCollectionItemInfo</CODE> function to examine the attributes of an item, given its collection index rather than its collection tag and collection ID:<P>
<PRE>
anErr = GetIndexedCollectionItemInfo(pointsAndQuotes, 
                                     index, /* index of item */
                                     dontWantTag,  
                                     dontWantId,
                                     dontWantSize, 
                                     &amp;attributes); /* returned */
</PRE>
 Similarly, you can use the <CODE>GetTaggedCollectionItemInfo</CODE> function to examine the attributes of an item, given its collection tag and tag list position:<P>
<PRE>
anErr = GetTaggedCollectionItemInfo(pointsAndQuotes, 
                                    'QUOT',  /* tag of item */
                                    1,  /* tag list position */  
                                    dontWantId,
                                    dontWantIndex,
                                    dontWantSize, 
                                    &amp;attributes);  /* returned */
</PRE>
 You can edit the attributes of a collection item using the <CODE>SetCollectionItemInfo</CODE> and <CODE>SetIndexedCollectionItemInfo</CODE> functions. These functions require you to specify which attributes you want to edit and what the new values for those attributes should be.<P>
 You specify this information using two <CODE>long</CODE> parameters:<P>
<UL>
<LI>The first is a mask. Each bit in this mask represents one of the item's attributes. A bit value of 0 in this mask signifies that you do not want to edit the corresponding attribute of the specified item. A bit value of 1 in this mask signifies that you do want to edit the corresponding attribute of the item.
<LI>The second contains the new values. Each bit in this parameter represents the new value for the corresponding attribute of the item. Only the bits in this parameter that correspond to bits in the mask parameter that have a value of 1 are significant. The Collection Manager ignores the other bit values in this parameter.<P>
</UL>
 <A HREF=#MARKER-9-64>Listing 5-9</A> shows how you can use the <CODE>SetCollectionItemInfo</CODE> to set the lock and persistence attributes of a collection item and clear all the other attributes. <P>
<B>Listing 5-9  <A NAME=MARKER-9-64></A>Setting the lock and persistence bit attribute of an item</B><P>
<PRE>
long newAttributes;
.
.
.
newAttributes = collectionLockMask
                | collectionPersistenceMask;

anErr = SetCollectionItemInfo(pointsAndQuotes,
                              'QUOT', 0, /* tag and id */
                              allCollectionAttributes, /* mask */
                              newAttributes); /* new values */
</PRE>
 This example uses the <CODE>allCollectionAttributes</CODE> constant (which is defined in <A HREF=GXEnvironment-211.html#MARKER-9-113>"Attributes Masks" beginning on page 5-49</A>) to indicate that all the attributes of the specified collection item should be edited. As a result, the code in the example replaces the value of every attribute in the specified collection item with the corresponding value from the <CODE>newAttributes</CODE> parameter.<P>
 If you want to set the lock and persistence attributes of this collection item without affecting the values of the other attributes, you can use the <CODE>newAttributes</CODE> variable as both the mask and the values parameters:<P>
<PRE>
anErr = SetCollectionItemInfo(pointsAndQuotes,
                              'QUOT', 0, /* tag and id */
                              newAttributes, /* mask */
                              newAttributes); /* new values */
</PRE>
 In this case, the code uses the <CODE>newAttributes</CODE> parameter as the mask (which indicates that only the lock attribute and the persistence attribute should be affected) as well as the values (which indicate that both of these attributes should be set). The values of all the other attributes of the specified item remain as they were before the call.<P>
 You can also use the <CODE>SetIndexedCollectionItemInfo</CODE> function to set the attributes of an item, given the item's collection index rather than its collection tag and collection ID:<P>
<PRE>
anErr = SetIndexedCollectionItemInfo(pointsAndQuotes,
                                     index,
                                     allCollectionAttributes,
                                     newAttributes);
</PRE>
 For more information about identifying collection items, see <A HREF=GXEnvironment-187.html#MARKER-9-23>"Methods of Identifying Collection Items" on page 5-11</A>. <P>
 For more information about the <CODE>GetCollectionItemInfo</CODE>, <CODE>GetIndexedCollectionItemInfo</CODE>, and <CODE>GetTaggedCollectionItemInfo</CODE> functions, see <A HREF=GXEnvironment-244.html#MARKER-9-206>"Getting Information About a Collection Item" beginning on page 5-76</A>.<P>
 For more information about the <CODE>SetCollectionItemInfo</CODE> and<CODE> SetIndexedCollectionItemInfo</CODE> functions, see <A HREF=GXEnvironment-248.html#MARKER-9-216>"Editing Item Attributes" beginning on page 5-82</A>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-196.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-198.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
