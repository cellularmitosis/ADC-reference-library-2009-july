<html><head><title>Mac OS X Developer Tools
 Manual Page For select(2)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/2/select" title="Mac OS X Developer Tools
 Manual Page for select(2)"><!-- headerDoc=man; indexgroup=Section 2; uid="//apple_ref/doc/man/2/select"; name=select(2) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac&nbsp;OS&nbsp;X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>

<p style='text-align:justify;'>This manual page is associated with the Mac&nbsp;OS&nbsp;X
developer tools.  The software or headers described may not be present on your
Mac&nbsp;OS&nbsp;X installation until you install the developer tools
package.  This package is available on your Mac&nbsp;OS&nbsp;X installation DVD,
and the latest versions can be downloaded from
<a href="http://developer.apple.com/tools/download/">developer.apple.com</a>.</p>

<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
SELECT(2)                   BSD System Calls Manual                  SELECT(2)

<b>NAME</b>
     <b>FD_CLR</b>, <b>FD_COPY</b>, <b>FD_ISSET</b>, <b>FD_SET</b>, <b>FD_ZERO</b>, <b>select</b> -- synchronous I/O multiplexing

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/select.h&gt;</b>

     <u>void</u>
     <b>FD_CLR</b>(<u>fd</u>, <u>fd</u><b>_</b><u>set</u> <u>*fdset</u>);

     <u>void</u>
     <b>FD_COPY</b>(<u>fd</u><b>_</b><u>set</u> <u>*fdset</u><b>_</b><u>orig</u>, <u>fd</u><b>_</b><u>set</u> <u>*fdset</u><b>_</b><u>copy</u>);

     <u>int</u>
     <b>FD_ISSET</b>(<u>fd</u>, <u>fd</u><b>_</b><u>set</u> <u>*fdset</u>);

     <u>void</u>
     <b>FD_SET</b>(<u>fd</u>, <u>fd</u><b>_</b><u>set</u> <u>*fdset</u>);

     <u>void</u>
     <b>FD_ZERO</b>(<u>fd</u><b>_</b><u>set</u> <u>*fdset</u>);

     <u>int</u>
     <b>select</b>(<u>int</u> <u>nfds</u>, <u>fd</u><b>_</b><u>set</u> <u>*restrict</u> <u>readfds</u>, <u>fd</u><b>_</b><u>set</u> <u>*restrict</u> <u>writefds</u>, <u>fd</u><b>_</b><u>set</u> <u>*restrict</u> <u>errorfds</u>,
         <u>struct</u> <u>timeval</u> <u>*restrict</u> <u>timeout</u>);

<b>DESCRIPTION</b>
     <b>Select</b>() examines the I/O descriptor sets whose addresses are passed in <u>readfds</u>, <u>writefds</u>, and <u>errorfds</u>
     to see if some of their descriptors are ready for reading, are ready for writing, or have an excep-<font color="#ffffff" class="whiteout">tional&nbsp;exceptional</font>
     tional condition pending, respectively.  The first <u>nfds</u> descriptors are checked in each set; i.e., the
     descriptors from 0 through <u>nfds</u>-1 in the descriptor sets are examined.  (Example: If you have set two
     file descriptors "4" and "17", <u>nfds</u> should  not be "2", but rather "17 + 1" or "18".)  On return,
     <b>select</b>() replaces the given descriptor sets with subsets consisting of those descriptors that are ready
     for the requested operation.  <b>Select</b>() returns the total number of ready descriptors in all the sets.

     The descriptor sets are stored as bit fields in arrays of integers.  The following macros are provided
     for manipulating such descriptor sets: <b>FD_ZERO</b>(<u>&amp;fdset</u>) initializes a descriptor set <u>fdset</u> to the null
     set.  <b>FD_SET</b>(<u>fd</u>, <u>&amp;fdset</u>) includes a particular descriptor <u>fd</u> in <u>fdset</u>.  <b>FD_CLR</b>(<u>fd</u>, <u>&amp;fdset</u>) removes <u>fd</u>
     from <u>fdset</u>.  <b>FD_ISSET</b>(<u>fd</u>, <u>&amp;fdset</u>) is non-zero if <u>fd</u> is a member of <u>fdset</u>, zero otherwise.
     <b>FD_COPY</b>(<u>&amp;fdset</u><b>_</b><u>orig</u>, <u>&amp;fdset</u><b>_</b><u>copy</u>) replaces an already allocated <u>&amp;fdset</u><b>_</b><u>copy</u> file descriptor set with a
     copy of <u>&amp;fdset</u><b>_</b><u>orig</u>.  The behavior of these macros is undefined if a descriptor value is less than zero
     or greater than or equal to FD_SETSIZE, which is normally at least equal to the maximum number of
     descriptors supported by the system.

     If <u>timeout</u> is a non-nil pointer, it specifies a maximum interval to wait for the selection to complete.
     If <u>timeout</u> is a nil pointer, the select blocks indefinitely.  To effect a poll, the <u>timeout</u> argument
     should be non-nil, pointing to a zero-valued timeval structure.  <u>Timeout</u> is not changed by <b>select</b>(),
     and may be reused on subsequent calls, however it is good style to re-initialize it before each invoca-<font color="#ffffff" class="whiteout">tion&nbsp;invocation</font>
     tion of <b>select</b>().

     Any of <u>readfds</u>, <u>writefds</u>, and <u>errorfds</u> may be given as nil pointers if no descriptors are of interest.

<b>RETURN</b> <b>VALUES</b>
     <b>Select</b>() returns the number of ready descriptors that are contained in the descriptor sets, or -1 if an
     error occurred.  If the time limit expires, <b>select</b>() returns 0.  If <b>select</b>() returns with an error,
     including one due to an interrupted call, the descriptor sets will be unmodified and the global vari-<font color="#ffffff" class="whiteout">able&nbsp;variable</font>
     able <u>errno</u> will be set to indicate the error.

<b>ERRORS</b>
     An error return from <b>select</b>() indicates:

     [EAGAIN]           The kernel was (perhaps temporarily) unable to allocate the requested number of file
                        descriptors.

     [EBADF]            One of the descriptor sets specified an invalid descriptor.

     [EINTR]            A signal was delivered before the time limit expired and before any of the selected
                        events occurred.

     [EINVAL]           The specified time limit is invalid.  One of its components is negative or too
                        large.

     [EINVAL]           <u>ndfs</u> is greater than FD_SETSIZE and _DARWIN_UNLIMITED_SELECT is not defined.

<b>LEGACY</b> <b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;sys/select.h&gt;</b>
           - or -<font color="#ffffff" class="whiteout">#include&nbsp;or#include</font>
     <b>#include</b> <b>&lt;sys/types.h&gt;</b>
     <b>#include</b> <b>&lt;sys/time.h&gt;</b>
     <b>#include</b> <b>&lt;unistd.h&gt;</b>

     <b>FD_SET</b>(<u>fd</u>, <u>&amp;fdset</u>);

     <b>FD_CLR</b>(<u>fd</u>, <u>&amp;fdset</u>);

     <b>FD_ISSET</b>(<u>fd</u>, <u>&amp;fdset</u>);

     <b>FD_COPY</b>(<u>&amp;fdset</u><b>_</b><u>orig</u>, <u>&amp;fdset</u><b>_</b><u>copy</u>);

     <b>FD_ZERO</b>(<u>&amp;fdset</u>);

<b>COMPATIBILITY</b>
     <b>select</b>() now returns with <u>errno</u> set to EINVAL when <u>nfds</u> is greater than FD_SETSIZE.  Use a smaller
     value for <u>nfds</u> or compile with -D_DARWIN_UNLIMITED_SELECT.

<b>SEE</b> <b>ALSO</b>
     <a href="accept.2.html#//apple_ref/doc/man/2/accept">accept(2)</a>, <a href="connect.2.html#//apple_ref/doc/man/2/connect">connect(2)</a>, <a href="getdtablesize.2.html#//apple_ref/doc/man/2/getdtablesize">getdtablesize(2)</a>, <a href="gettimeofday.2.html#//apple_ref/doc/man/2/gettimeofday">gettimeofday(2)</a>, <a href="read.2.html#//apple_ref/doc/man/2/read">read(2)</a>, <a href="recv.2.html#//apple_ref/doc/man/2/recv">recv(2)</a>, <a href="send.2.html#//apple_ref/doc/man/2/send">send(2)</a>, <a href="write.2.html#//apple_ref/doc/man/2/write">write(2)</a>,
     <a href="../man5/compat.5.html#//apple_ref/doc/man/5/compat">compat(5)</a>

<b>BUGS</b>
     Although the provision of <a href="getdtablesize.2.html#//apple_ref/doc/man/2/getdtablesize">getdtablesize(2)</a> was intended to allow user programs to be written indepen-<font color="#ffffff" class="whiteout">dent&nbsp;independent</font>
     dent of the kernel limit on the number of open files, the dimension of a sufficiently large bit field
     for select remains a problem.  The default size FD_SETSIZE (currently 1024) is somewhat smaller than
     the current kernel limit to the number of open files.  However, in order to accommodate programs which
     might potentially use a larger number of open files with select, it is possible to increase this size
     within a program by providing a larger definition of FD_SETSIZE before the inclusion of &lt;<u>sys/types.h&gt;</u>.

     <b>Select</b>() should probably have been designed to return the time remaining from the original timeout, if
     any, by modifying the time value in place.  However, it is unlikely this semantic will ever be imple-<font color="#ffffff" class="whiteout">mented,&nbsp;implemented,</font>
     mented, as the change would cause source code compatibility problems.  In general it is unwise to
     assume that the timeout value will be unmodified by the <b>select</b>() call, and the caller should reinitial-<font color="#ffffff" class="whiteout">ize&nbsp;reinitialize</font>
     ize it on each invocation.

<b>HISTORY</b>
     The <b>select</b>() function call appeared in 4.2BSD.

4.2 Berkeley Distribution       March 25, 1994       4.2 Berkeley Distribution
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man2/select.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man2/select.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man2/select.2.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
