<html><head><title>Mac OS X
 Manual Page For zshcontrib(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/zshcontrib" title="Mac OS X
 Manual Page for zshcontrib(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/zshcontrib"; name=zshcontrib(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ZSHCONTRIB(1)                                                                                  ZSHCONTRIB(1)



<b>NAME</b>
       zshcontrib - user contributions to zsh

<b>DESCRIPTION</b>
       The  Zsh source distribution includes a number of items contributed by the user community.  These are
       not inherently a part of the shell, and some may not be available in  every  zsh  installation.   The
       most  significant of these are documented here.  For documentation on other contributed items such as
       shell functions, look for comments in the function source files.



<b>UTILITIES</b>
   <b>Accessing</b> <b>On-Line</b> <b>Help</b>
       The key sequence <b>ESC</b> <b>h</b> is normally bound by ZLE to execute the <b>run-help</b> widget (see <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>).  This
       invokes  the  <b>run-help</b> command with the command word from the current input line as its argument.  By
       default, <b>run-help</b> is an alias for the <b>man</b> command, so this often fails when the  command  word  is  a
       shell  builtin  or  a  user-defined  function.  By redefining the <b>run-help</b> alias, one can improve the
       on-line help provided by the shell.

       The <b>helpfiles</b> utility, found in the <b>Util</b> directory of the distribution, is a Perl program that can be
       used  to  process  the zsh manual to produce a separate help file for each shell builtin and for many
       other shell features as well.  The autoloadable <b>run-help</b> function, found in <b>Functions/Misc</b>,  searches
       for  these  helpfiles and performs several other tests to produce the most complete help possible for
       the command.

       There may already  be  a  directory  of  help  files  on  your  system;  look  in  <b>/usr/share/zsh</b>  or
       <b>/usr/local/share/zsh</b> and subdirectories below those, or ask your system administrator.

       To  create your own help files with <b>helpfiles</b>, choose or create a directory where the individual com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
       mand help files will reside.  For example, you might choose <b>~/zsh_help</b>.  If you unpacked the zsh dis-<font color="#ffffff" class="whiteout">tribution&nbsp;distribution</font>
       tribution in your home directory, you would use the commands:

              <b>mkdir</b> <b>~/zsh_help</b>
              <b>cd</b> <b>~/zsh_help</b>
              <b>man</b> <b>zshall</b> <b>|</b> <b>colcrt</b> <b>-</b> <b>|</b> <b>\</b>
              <b>perl</b> <b>~/zsh-4.3.4/Util/helpfiles</b>

       Next, to use the <b>run-help</b> function, you need to add lines something like the following to your <b>.zshrc</b>
       or equivalent startup file:

              <b>unalias</b> <b>run-help</b>
              <b>autoload</b> <b>run-help</b>
              <b>HELPDIR=~/zsh_help</b>

       The <b>HELPDIR</b> parameter tells <b>run-help</b> where to look for the help files.  If your system already has  a
       help file directory installed, set <b>HELPDIR</b> to the path of that directory instead.

       Note  that in order for `<b>autoload</b> <b>run-help</b>' to work, the <b>run-help</b> file must be in one of the directo-<font color="#ffffff" class="whiteout">ries&nbsp;directories</font>
       ries named in your <b>fpath</b> array (see <a href="zshparam.1.html#//apple_ref/doc/man/1/zshparam"><u>zshparam</u>(1)</a>).  This should already be the  case  if  you  have  a
       standard zsh installation; if it is not, copy <b>Functions/Misc/run-help</b> to an appropriate directory.


   <b>Recompiling</b> <b>Functions</b>
       If  you frequently edit your zsh functions, or periodically update your zsh installation to track the
       latest developments, you may find that function digests compiled with the <b>zcompile</b> builtin  are  fre-<font color="#ffffff" class="whiteout">quently&nbsp;frequently</font>
       quently  out  of  date  with  respect  to  the function source files.  This is not usually a problem,
       because zsh always looks for the newest file when loading a function, but it may cause  slower  shell
       startup  and function loading.  Also, if a digest file is explicitly used as an element of <b>fpath</b>, zsh
       won't check whether any of its source files has changed.

       The <b>zrecompile</b> autoloadable function, found in <b>Functions/Misc</b>, can be used to keep  function  digests
       up to date.

       <b>zrecompile</b> [ <b>-qt</b> ] [ <u>name</u> ... ]
       <b>zrecompile</b> [ <b>-qt</b> ] <b>-p</b> <u>args</u> [ <b>--</b> <u>args</u> ... ]
              This tries to find <b>*.zwc</b> files and automatically re-compile them if at least one of the origi-<font color="#ffffff" class="whiteout">nal&nbsp;original</font>
              nal files is newer than the compiled file.  This works only if the names stored  in  the  com-<font color="#ffffff" class="whiteout">piled&nbsp;compiled</font>
              piled files are full paths or are relative to the directory that contains the <b>.zwc</b> file.

              In  the  first  form, each <u>name</u> is the name of a compiled file or a directory containing <b>*.zwc</b>
              files that should be checked.  If no arguments are given, the directories and <b>*.zwc</b>  files  in
              <b>fpath</b> are used.

              When  <b>-t</b>  is  given, no compilation is performed, but a return status of zero (true) is set if
              there are files that need to be re-compiled and non-zero (false)  otherwise.   The  <b>-q</b>  option
              quiets the chatty output that describes what <b>zrecompile</b> is doing.

              Without the <b>-t</b> option, the return status is zero if all files that needed re-compilation could
              be compiled and non-zero if compilation for at least one of the files failed.

              If the <b>-p</b> option is given, the <u>args</u> are interpreted as one or more sets of arguments for <b>zcom</b>-<font color="#ffffff" class="whiteout">pile,&nbsp;zcompile,</font>
              <b>pile</b>, separated by `<b>--</b>'.  For example:

                     <b>zrecompile</b> <b>-p</b> <b>\</b>
                                <b>-R</b> <b>~/.zshrc</b> <b>--</b> <b>\</b>
                                <b>-M</b> <b>~/.zcompdump</b> <b>--</b> <b>\</b>
                                <b>~/zsh/comp.zwc</b> <b>~/zsh/Completion/*/_*</b>

              This  compiles  <b>~/.zshrc</b>  into  <b>~/.zshrc.zwc</b>  if  that  doesn't  exist  or if it is older than
              <b>~/.zshrc</b>. The compiled file will be marked for reading instead of mapping. The  same  is  done
              for  <b>~/.zcompdump</b> and <b>~/.zcompdump.zwc</b>, but this compiled file is marked for mapping. The last
              line re-creates the file <b>~/zsh/comp.zwc</b> if any of the files  matching  the  given  pattern  is
              newer than it.

              Without  the <b>-p</b> option, <b>zrecompile</b> does not create function digests that do not already exist,
              nor does it add new functions to the digest.

       The following shell loop is an example of a method for creating function digests for all functions in
       your <b>fpath</b>, assuming that you have write permission to the directories:

              <b>for</b> <b>((i=1;</b> <b>i</b> <b>&lt;=</b> <b>$#fpath;</b> <b>++i));</b> <b>do</b>
                <b>dir=$fpath[i]</b>
                <b>zwc=${dir:t}.zwc</b>
                <b>if</b> <b>[[</b> <b>$dir</b> <b>==</b> <b>(.|..)</b> <b>||</b> <b>$dir</b> <b>==</b> <b>(.|..)/*</b> <b>]];</b> <b>then</b>
                  <b>continue</b>
                <b>fi</b>
                <b>files=($dir/*(N-.))</b>
                <b>if</b> <b>[[</b> <b>-w</b> <b>$dir:h</b> <b>&amp;&amp;</b> <b>-n</b> <b>$files</b> <b>]];</b> <b>then</b>
                  <b>files=(${${(M)files%/*/*}#/})</b>
                  <b>if</b> <b>(</b> <b>cd</b> <b>$dir:h</b> <b>&amp;&amp;</b>
                       <b>zrecompile</b> <b>-p</b> <b>-U</b> <b>-z</b> <b>$zwc</b> <b>$files</b> <b>);</b> <b>then</b>
                    <b>fpath[i]=$fpath[i].zwc</b>
                  <b>fi</b>
                <b>fi</b>
              <b>done</b>

       The  <b>-U</b>  and  <b>-z</b> options are appropriate for functions in the default zsh installation <b>fpath</b>; you may
       need to use different options for your personal function directories.

       Once the digests have been created and your <b>fpath</b> modified to refer to them, you can keep them up  to
       date by running <b>zrecompile</b> with no arguments.


   <b>Keyboard</b> <b>Definition</b>
       The  large number of possible combinations of keyboards, workstations, terminals, emulators, and win-
       dow systems makes it impossible for zsh to have built-in key bindings for every situation.  The  <b>zkbd</b>
       utility, found in Functions/Misc, can help you quickly create key bindings for your configuration.

       Run <b>zkbd</b> either as an autoloaded function, or as a shell script:

              <b>zsh</b> <b>-f</b> <b>~/zsh-4.3.4/Functions/Misc/zkbd</b>

       When  you  run  <b>zkbd</b>, it first asks you to enter your terminal type; if the default it offers is cor-<font color="#ffffff" class="whiteout">rect,&nbsp;correct,</font>
       rect, just press return.  It then asks you to press a number of different keys to  determine  charac-<font color="#ffffff" class="whiteout">teristics&nbsp;characteristics</font>
       teristics  of  your  keyboard  and terminal; <b>zkbd</b> warns you if it finds anything out of the ordinary,
       such as a Delete key that sends neither <b>^H</b> nor <b>^?</b>.

       The keystrokes read by <b>zkbd</b> are recorded as a definition for an associative array named <b>key</b>,  written
       to  a  file  in the subdirectory <b>.zkbd</b> within either your <b>HOME</b> or <b>ZDOTDIR</b> directory.  The name of the
       file is composed from the <b>TERM</b>, <b>VENDOR</b> and <b>OSTYPE</b> parameters, joined by hyphens.

       You may read this file into your <b>.zshrc</b> or another startup file with the "source"  or  "."  commands,
       then reference the <b>key</b> parameter in bindkey commands, like this:

              <b>source</b> <b>${ZDOTDIR:-$HOME}/.zkbd/$TERM-$VENDOR-$OSTYPE</b>
              <b>[[</b> <b>-n</b> <b>${key[Left]}</b> <b>]]</b> <b>&amp;&amp;</b> <b>bindkey</b> <b>"${key[Left]}"</b> <b>backward-char</b>
              <b>[[</b> <b>-n</b> <b>${key[Right]}</b> <b>]]</b> <b>&amp;&amp;</b> <b>bindkey</b> <b>"${key[Right]}"</b> <b>forward-char</b>
              <b>#</b> <b>etc.</b>

       Note that in order for `<b>autoload</b> <b>zkbd</b>' to work, the <b>zkdb</b> file must be in one of the directories named
       in your <b>fpath</b> array (see <a href="zshparam.1.html#//apple_ref/doc/man/1/zshparam"><u>zshparam</u>(1)</a>).  This should already be the case if you have  a  standard  zsh
       installation; if it is not, copy <b>Functions/Misc/zkbd</b> to an appropriate directory.


   <b>Dumping</b> <b>Shell</b> <b>State</b>
       Occasionally you may encounter what appears to be a bug in the shell, particularly if you are using a
       beta version of zsh or a development release.  Usually it is sufficient to send a description of  the
       problem  to  one  of the zsh mailing lists (see <a href="zsh.1.html#//apple_ref/doc/man/1/zsh"><u>zsh</u>(1)</a>), but sometimes one of the zsh developers will
       need to recreate your environment in order to track the problem down.

       The script named <b>reporter</b>, found in the <b>Util</b> directory of the distribution, is provided for this pur-<font color="#ffffff" class="whiteout">pose.&nbsp;purpose.</font>
       pose.  (It is also possible to <b>autoload</b> <b>reporter</b>, but <b>reporter</b> is not installed in <b>fpath</b> by default.)
       This script outputs a detailed dump of the shell state, in the form of another  script  that  can  be
       read with `<b>zsh</b> <b>-f</b>' to recreate that state.

       To  use <b>reporter</b>, read the script into your shell with the `<b>.</b>' command and redirect the output into a
       file:

              <b>.</b> <b>~/zsh-4.3.4/Util/reporter</b> <b>&gt;</b> <b>zsh.report</b>

       You should check the <b>zsh.report</b> file for any sensitive information such as passwords and delete  them
       by  hand  before  sending  the script to the developers.  Also, as the output can be voluminous, it's
       best to wait for the developers to ask for this information before sending it.

       You can also use <b>reporter</b> to dump only a subset of the shell state.  This  is  sometimes  useful  for
       creating  startup  files  for  the first time.  Most of the output from reporter is far more detailed
       than usually is necessary for a startup file, but the <b>aliases</b>, <b>options</b>, and  <b>zstyles</b>  states  may  be
       useful  because they include only changes from the defaults.  The <b>bindings</b> state may be useful if you
       have created any of your own keymaps, because <b>reporter</b> arranges to dump the keymap creation  commands
       as well as the bindings for every keymap.

       As  is  usual  with  automated tools, if you create a startup file with <b>reporter</b>, you should edit the
       results to remove unnecessary commands.  Note that if you're using the  new  completion  system,  you
       should  <u>not</u>  dump  the <b>functions</b> state to your startup files with <b>reporter</b>; use the <b>compdump</b> function
       instead (see <a href="zshcompsys.1.html#//apple_ref/doc/man/1/zshcompsys"><u>zshcompsys</u>(1)</a>).

       <b>reporter</b> [ <u>state</u> ... ]
              Print to standard output the indicated subset of the current shell state.  The <u>state</u> arguments
              may be one or more of:

              <b>all</b>    Output everything listed below.
              <b>aliases</b>
                     Output alias definitions.
              <b>bindings</b>
                     Output ZLE key maps and bindings.
              <b>completion</b>
                     Output old-style <b>compctl</b> commands.  New completion is covered by <b>functions</b> and <b>zstyles</b>.
              <b>functions</b>
                     Output autoloads and function definitions.
              <b>limits</b> Output <b>limit</b> commands.
              <b>options</b>
                     Output <b>setopt</b> commands.
              <b>styles</b> Same as <b>zstyles</b>.
              <b>variables</b>
                     Output shell parameter assignments, plus <b>export</b> commands for any environment variables.
              <b>zstyles</b>
                     Output <b>zstyle</b> commands.

              If the <u>state</u> is omitted, <b>all</b> is assumed.

       With the exception of `<b>all</b>', every <u>state</u> can be abbreviated by any prefix, even a single letter; thus
       <b>a</b> is the same as <b>aliases</b>, <b>z</b> is the same as <b>zstyles</b>, etc.


<b>PROMPT</b> <b>THEMES</b>
   <b>Installation</b>
       You should make sure all the functions from the <b>Functions/Prompts</b> directory of the  source  distribu-<font color="#ffffff" class="whiteout">tion&nbsp;distribution</font>
       tion  are  available; they all begin with the string `<b>prompt_</b>' except for the special function`<b>promp</b>-<font color="#ffffff" class="whiteout">tinit'.&nbsp;function`promptinit'.</font>
       <b>tinit</b>'.  You also need the `<b>colors</b>' function from <b>Functions/Misc</b>.  All of these functions may already
       have  been installed on your system; if not, you will need to find them and copy them.  The directory
       should appear as one of the elements of the <b>fpath</b> array (this should already be the case if they were
       installed),  and  at  least  the function <b>promptinit</b> should be autoloaded; it will autoload the rest.
       Finally, to initialize the use of the system you need to call the <b>promptinit</b> function.  The following
       code in your <b>.zshrc</b> will arrange for this; assume the functions are stored in the directory <b>~/myfns</b>:

              <b>fpath=(~/myfns</b> <b>$fpath)</b>
              <b>autoload</b> <b>-U</b> <b>promptinit</b>
              <b>promptinit</b>


   <b>Theme</b> <b>Selection</b>
       Use the <b>prompt</b> command to select your preferred theme.  This command may be added to your <b>.zshrc</b> fol-<font color="#ffffff" class="whiteout">lowing&nbsp;following</font>
       lowing the call to <b>promptinit</b> in order to start zsh with a theme already selected.

       <b>prompt</b> [ <b>-c</b> | <b>-l</b> ]
       <b>prompt</b> [ <b>-p</b> | <b>-h</b> ] [ <u>theme</u> ... ]
       <b>prompt</b> [ <b>-s</b> ] <u>theme</u> [ <u>arg</u> ... ]
              Set or examine the prompt theme.  With no options and a <u>theme</u> argument, the  theme  with  that
              name is set as the current theme.  The available themes are determined at run time; use the <b>-l</b>
              option to see a list.  The special <u>theme</u> `<b>random</b>' selects  at  random  one  of  the  available
              themes and sets your prompt to that.

              In  some cases the <u>theme</u> may be modified by one or more arguments, which should be given after
              the theme name.  See the help for each theme for descriptions of these arguments.

              Options are:

              <b>-c</b>     Show the currently selected theme and its parameters, if any.
              <b>-l</b>     List all available prompt themes.
              <b>-p</b>     Preview the theme named by <u>theme</u>, or all themes if no <u>theme</u> is given.
              <b>-h</b>     Show help for the theme named by <u>theme</u>, or for the  <b>prompt</b>  function  if  no  <u>theme</u>  is
                     given.
              <b>-s</b>     Set <u>theme</u> as the current theme and save state.

       <b>prompt_</b><u>theme</u><b>_setup</b>
              Each  available  <u>theme</u>  has a setup function which is called by the <b>prompt</b> function to install
              that theme.  This function may define other functions as necessary  to  maintain  the  prompt,
              including  functions  used  to preview the prompt or provide help for its use.  You should not
              normally call a theme's setup function directly.


<b>ZLE</b> <b>FUNCTIONS</b>
   <b>Widgets</b>
       These functions all implement user-defined ZLE widgets (see <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>) which can  be  bound  to  key-<font color="#ffffff" class="whiteout">strokes&nbsp;keystrokes</font>
       strokes in interactive shells.  To use them, your <b>.zshrc</b> should contain lines of the form

              <b>autoload</b> <u>function</u>
              <b>zle</b> <b>-N</b> <u>function</u>

       followed  by an appropriate <b>bindkey</b> command to associate the function with a key sequence.  Suggested
       bindings are described below.

       bash-style word functions
              If you are looking for functions to implement moving over and editing words in the  manner  of
              bash, where only alphanumeric characters are considered word characters, you can use the func-<font color="#ffffff" class="whiteout">tions&nbsp;functions</font>
              tions described in the next section.  The following is sufficient:

                     <b>autoload</b> <b>-U</b> <b>select-word-style</b>
                     <b>select-word-style</b> <b>bash</b>


       <b>forward-word-match</b>, <b>backward-word-match</b>
       <b>kill-word-match</b>, <b>backward-kill-word-match</b>
       <b>transpose-words-match</b>, <b>capitalize-word-match</b>
       <b>up-case-word-match</b>, <b>down-case-word-match</b>
       <b>select-word-style</b>, <b>match-word-context</b>, <b>match-words-by-style</b>
              The eight `<b>-match</b>' functions are drop-in replacements for the builtin widgets without the suf-<font color="#ffffff" class="whiteout">fix.&nbsp;suffix.</font>
              fix.  By default they behave in a similar way.  However, by the use of styles and the function
              <b>select-word-style</b>, the way words are matched can be altered.

              The simplest way of configuring the functions is to use <b>select-word-style</b>, which can either be
              called as a normal function with the appropriate argument, or invoked as a user-defined widget
              that will prompt for the first character of the word style to be used.  The first time  it  is
              invoked,  the  eight <b>-match</b> functions will automatically replace the builtin versions, so they
              do not need to be loaded explicitly.

              The word styles available are as follows.  Only the first character is examined.

              <b>bash</b>   Word characters are alphanumeric characters only.

              <b>normal</b> As in normal shell operation:  word characters are  alphanumeric  characters  plus  any
                     characters present in the string given by the parameter <b>$WORDCHARS</b>.

              <b>shell</b>  Words are complete shell command arguments, possibly including complete quoted strings,
                     or any tokens special to the shell.

              <b>whitespace</b>
                     Words are any set of characters delimited by whitespace.

              <b>default</b>
                     Restore the default settings; this is usually the same as `<b>normal</b>'.

              More control can be obtained using the <b>zstyle</b> command, as described  in  <a href="zshmodules.1.html#//apple_ref/doc/man/1/zshmodules"><u>zshmodules</u>(1)</a>.   Each
              style  is  looked  up  in the context <b>:zle:</b><u>widget</u> where <u>widget</u> is the name of the user-defined
              widget, not the name of the function implementing it, so in the case of the  definitions  sup-<font color="#ffffff" class="whiteout">plied&nbsp;supplied</font>
              plied  by  <b>select-word-style</b>  the  appropriate contexts are <b>:zle:forward-word</b>, and so on.  The
              function <b>select-word-style</b> itself always defines styles for the context `<b>:zle:*</b>' which can  be
              overridden by more specific (longer) patterns as well as explicit contexts.

              The style <b>word-style</b> specifies the rules to use.  This may have the following values.

              <b>normal</b> Use  the  standard shell rules, i.e. alphanumerics and <b>$WORDCHARS</b>, unless overridden by
                     the styles <b>word-chars</b> or <b>word-class</b>.

              <b>specified</b>
                     Similar to <b>normal</b>, but <u>only</u> the specified characters, and not also  alphanumerics,  are
                     considered word characters.

              <b>unspecified</b>
                     The negation of specified.  The given characters are those which will <u>not</u> be considered
                     part of a word.

              <b>shell</b>  Words are obtained by using the syntactic rules for generating shell command arguments.
                     In  addition,  special  tokens  which are never command arguments such as `<b>()</b>' are also
                     treated as words.

              <b>whitespace</b>
                     Words are whitespace-delimited strings of characters.

              The first three of those rules usually use <b>$WORDCHARS</b>, but the value in the parameter  can  be
              overridden  by  the  style  <b>word-chars</b>, which works in exactly the same way as <b>$WORDCHARS</b>.  In
              addition, the style <b>word-class</b> uses character class  syntax  to  group  characters  and  takes
              precedence  over  <b>word-chars</b>  if both are set.  The <b>word-class</b> style does not include the sur-<font color="#ffffff" class="whiteout">rounding&nbsp;surrounding</font>
              rounding brackets of the character class; for example, `<b>-:[:alnum:]</b>' is a valid <b>word-class</b>  to
              include  all alphanumerics plus the characters `<b>-</b>' and `<b>:</b>'.  Be careful including `<b>]</b>', `<b>^</b>' and
              `<b>-</b>' as these are special inside character classes.

              The style <b>skip-chars</b> is mostly useful for <b>transpose-words</b> and similar functions.  If  set,  it
              gives  a count of characters starting at the cursor position which will not be considered part
              of the word and are treated as space, regardless of what they actually are.  For example, if

                     <b>zstyle</b> <b>':zle:transpose-words'</b> <b>skip-chars</b> <b>1</b>

              has been set, and <b>transpose-words-match</b> is called with the cursor on the <u>X</u> of <b>foo</b><u>X</u><b>bar</b>, where <u>X</u>
              can be any character, then the resulting expression is <b>bar</b><u>X</u><b>foo</b>.

              Finer  grained  control can be obtained by setting the style <b>word-context</b> to an array of pairs
              of entries.  Each pair of entries consists of a <u>pattern</u> and a <u>subcontext</u>.  The shell  argument
              the  cursor  is  on is matched against each <u>pattern</u> in turn until one matches; if it does, the
              context is extended by a colon and the corresponding <u>subcontext</u>.  Note that the test  is  made
              against  the  original word on the line, with no stripping of quotes.  If the cursor is at the
              end of the line the test is performed against an empty string; if it is on whitespace  between
              words the test is made against a single space.  Some examples are given below.

              Here  are  some examples of use of the styles, actually taken from the simplified interface in
              <b>select-word-style</b>:

                     <b>zstyle</b> <b>':zle:*'</b> <b>word-style</b> <b>standard</b>
                     <b>zstyle</b> <b>':zle:*'</b> <b>word-chars</b> <b>''</b>

              Implements bash-style word handling for all widgets, i.e. only alphanumerics are word  charac-<font color="#ffffff" class="whiteout">ters;&nbsp;characters;</font>
              ters; equivalent to setting the parameter <b>WORDCHARS</b> empty for the given context.

                     <b>style</b> <b>':zle:*kill*'</b> <b>word-style</b> <b>space</b>

              Uses  space-delimited  words  for  widgets  with  the word `kill' in the name.  Neither of the
              styles <b>word-chars</b> nor <b>word-class</b> is used in this case.

              Here are some examples of use of the <b>word-context</b> style to extend the context.

                     <b>zstyle</b> <b>':zle:*'</b> <b>word-context</b> <b>"*/*"</b> <b>file</b> <b>"[[:space:]]"</b> <b>whitespace</b>
                     <b>zstyle</b> <b>':zle:transpose-words:whitespace'</b> <b>word-style</b> <b>shell</b>
                     <b>zstyle</b> <b>':zle:transpose-words:filename'</b> <b>word-style</b> <b>normal</b>
                     <b>zstyle</b> <b>':zle:transpose-words:filename'</b> <b>word-chars</b> <b>''</b>

              This provides two different ways of using <b>transpose-words</b> depending on whether the  cursor  is
              on  whitespace  between  words or on a filename, here any word containing a <b>/</b>.  On whitespace,
              complete arguments as defined by standard shell rules will be transposed.  In a filename, only
              alphanumerics will be transposed.  Elsewhere, words will be transposed using the default style
              for <b>:zle:transpose-words</b>.

              The word matching and all the handling of <b>zstyle</b> settings is actually implemented by the func-<font color="#ffffff" class="whiteout">tion&nbsp;function</font>
              tion  <b>match-words-by-style</b>.  This can be used to create new user-defined widgets.  The calling
              function should set the local parameter <b>curcontext</b> to <b>:zle:</b><u>widget</u>, create the local  parameter
              <b>matched_words</b>  and call <b>match-words-by-style</b> with no arguments.  On return, <b>matched_words</b> will
              be set to an array with the elements: (1) the start of the line (2) the word before the cursor
              (3) any non-word characters between that word and the cursor (4) any non-word character at the
              cursor position plus any remaining non-word characters before the  next  word,  including  all
              characters  specified by the <b>skip-chars</b> style, (5) the word at or following the cursor (6) any
              non-word characters following that word (7) the remainder of the line.  Any  of  the  elements
              may  be  an  empty  string; the calling function should test for this to decide whether it can
              perform its function.

              It is possible to pass options with arguments to <b>match-words-by-style</b> to override the  use  of
              styles.  The options are:
              <b>-w</b>     <u>word-style</u>
              <b>-s</b>     <u>skip-chars</u>
              <b>-c</b>     <u>word-class</u>
              <b>-C</b>     <u>word-chars</u>

              For  example,  <b>match-words-by-style</b>  <b>-w</b> <b>shell</b> <b>-c</b> <b>0</b> may be used to extract the command argument
              around the cursor.

              The <b>word-context</b> style is implemented by the function  <b>match-word-context</b>.   This  should  not
              usually need to be called directly.

       <b>delete-whole-word-match</b>
              This  is  another  function which works like the <b>-match</b> functions described immediately above,
              i.e. using styles to decide the word boundaries.  However, it is not  a  replacement  for  any
              existing function.

              The  basic behaviour is to delete the word around the cursor.  There is no numeric prefix han-<font color="#ffffff" class="whiteout">dling;&nbsp;handling;</font>
              dling; only the single word around the cursor is  considered.   If  the  widget  contains  the
              string <b>kill</b>, the removed text will be placed in the cutbuffer for future yanking.  This can be
              obtained by defining <b>kill-whole-word-match</b> as follows:

                     <b>zle</b> <b>-N</b> <b>kill-whole-word-match</b> <b>delete-whole-word-match</b>

              and then binding the widget <b>kill-whole-word-match</b>.

       <b>copy-earlier-word</b>
              This widget works like a combination of <b>insert-last-word</b> and  <b>copy-prev-shell-word</b>.   Repeated
              invocations of the widget retrieve earlier words on the relevant history line.  With a numeric
              argument <u>N</u>, insert the <u>N</u>th word from the history line; <u>N</u> may be negative to count from the end
              of the line.

              If  <b>insert-last-word</b>  has  been  used  to  retrieve  the last word on a previous history line,
              repeated invocations will replace that word with earlier words from the same line.

              Otherwise, the widget applies to words on the line currently being edited.  The  <b>widget</b>  style
              can be set to the name of another widget that should be called to retrieve words.  This widget
              must accept the same three arguments as <b>insert-last-word</b>.

       <b>cycle-completion-positions</b>
              After inserting an unambiguous string into the command line, the new function based completion
              system  may  know  about multiple places in this string where characters are missing or differ
              from at least one of the possible matches.  It will then place the cursor on the  position  it
              considers  to  be the most interesting one, i.e. the one where one can disambiguate between as
              many matches as possible with as little typing as possible.

              This widget allows the cursor to be easily moved to the other interesting spots.   It  can  be
              invoked repeatedly to cycle between all positions reported by the completion system.

       <b>edit-command-line</b>
              Edit the command line using your visual editor, as in <b>ksh</b>.

                     <b>bindkey</b> <b>-M</b> <b>vicmd</b> <b>v</b> <b>edit-command-line</b>

       <b>history-search-end</b>
              This  function implements the widgets <b>history-beginning-search-backward-end</b> and <b>history-begin</b>-<font color="#ffffff" class="whiteout">ning-search-forward-end.&nbsp;history-beginning-search-forward-end.</font>
              <b>ning-search-forward-end</b>.  These commands work by first calling the corresponding builtin  wid-<font color="#ffffff" class="whiteout">get&nbsp;widget</font>
              get  (see  `History  Control' in <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>) and then moving the cursor to the end of the line.
              The original cursor position is remembered and restored before calling the  builtin  widget  a
              second time, so that the same search is repeated to look farther through the history.

              Although you <b>autoload</b> only one function, the commands to use it are slightly different because
              it implements two widgets.

                     <b>zle</b> <b>-N</b> <b>history-beginning-search-backward-end</b> <b>\</b>
                            <b>history-search-end</b>
                     <b>zle</b> <b>-N</b> <b>history-beginning-search-forward-end</b> <b>\</b>
                            <b>history-search-end</b>
                     <b>bindkey</b> <b>'\e^P'</b> <b>history-beginning-search-backward-end</b>
                     <b>bindkey</b> <b>'\e^N'</b> <b>history-beginning-search-forward-end</b>

       <b>history-beginning-search-menu</b>
              This function implements yet another form of history searching.  The text before the cursor is
              used  to  select  lines from the history, as for <b>history-beginning-search-backward</b> except that
              all matches are shown in a numbered menu.  Typing the appropriate digits inserts the full his-<font color="#ffffff" class="whiteout">tory&nbsp;history</font>
              tory  line.   Note  that  leading zeroes must be typed (they are only shown when necessary for
              removing ambiguity).  The entire history is searched; there is no distinction between forwards
              and backwards.

              With  a prefix argument, the search is not anchored to the start of the line; the string typed
              by the use may appear anywhere in the line in the history.

              If the widget name contains `<b>-end</b>' the cursor is moved to the end of the  line  inserted.   If
              the widget name contains `<b>-space</b>' any space in the text typed is treated as a wildcard and can
              match anything (hence a leading space is equivalent to giving a prefix argument).  Both  forms
              can be combined, for example:

                     <b>zle</b> <b>-N</b> <b>history-beginning-search-menu-space-end</b> <b>\</b>
                            <b>history-beginning-search-menu</b>

       <b>history-pattern-search</b>
              The  function  <b>history-pattern-search</b> implements widgets which prompt for a pattern with which
              to search the history backwards or forwards.  The pattern is in the usual zsh format,  however
              the first character may be <b>^</b> to anchor the search to the start of the line, and the last char-<font color="#ffffff" class="whiteout">acter&nbsp;character</font>
              acter may be <b>$</b> to anchor the search to the end of the line.  If the search was not anchored to
              the end of the line the cursor is positioned just after the pattern found.

              The commands to create bindable widgets are similar to those in the example immediately above:

                     <b>autoload</b> <b>-U</b> <b>history-pattern-search</b>
                     <b>zle</b> <b>-N</b> <b>history-pattern-search-backward</b> <b>history-pattern-search</b>
                     <b>zle</b> <b>-N</b> <b>history-pattern-search-forward</b> <b>history-pattern-search</b>

       <b>up-line-or-beginning-search</b>, <b>down-line-or-beginning-search</b>
              These widgets are similar to the builtin functions <b>up-line-or-search</b> and  <b>down-line-or-search</b>:
              if  in  a multiline buffer they move up or down within the buffer, otherwise they search for a
              history line matching the start of the current line.  In this case, however, they search for a
              line  which  matches the current line up to the current cursor position, in the manner of <b>his</b>-<font color="#ffffff" class="whiteout">tory-beginning-search-backward&nbsp;history-beginning-search-backward</font>
              <b>tory-beginning-search-backward</b> and <b>-forward</b>, rather than the first word on the line.

       <b>incarg</b> Typing the keystrokes for this widget with the cursor placed on or to the left of  an  integer
              causes  that  integer to be incremented by one.  With a numeric prefix argument, the number is
              incremented by the amount of the argument (decremented if the prefix  argument  is  negative).
              The  shell parameter <b>incarg</b> may be set to change the default increment to something other than
              one.

                     <b>bindkey</b> <b>'^X+'</b> <b>incarg</b>

       <b>incremental-complete-word</b>
              This allows incremental completion of a word.  After starting this command, a list of  comple-<font color="#ffffff" class="whiteout">tion&nbsp;completion</font>
              tion choices can be shown after every character you type, which you can delete with <b>^H</b> or <b>DEL</b>.
              Pressing return accepts the completion so far and returns you to normal editing (that is,  the
              command  line  is  <u>not</u>  immediately executed).  You can hit <b>TAB</b> to do normal completion, <b>^G</b> to
              abort back to the state when you started, and <b>^D</b> to list the matches.

              This works only with the new function based completion system.

                     <b>bindkey</b> <b>'^Xi'</b> <b>incremental-complete-word</b>

       <b>insert-composed-char</b>
              This function allows you to compose characters  that  don't  appear  on  the  keyboard  to  be
              inserted  into  the  command line.  The command is followed by two keys corresponding to ASCII
              characters (there is no prompt).  For accented characters, the two keys are a  base  character
              followed  by  a  code  for  the  accent, while for other special characters the two characters
              together form a mnemonic for the character to be inserted.  The two-character codes are a sub-<font color="#ffffff" class="whiteout">set&nbsp;subset</font>
              set of those given by RFC 1345 (see for example <a href="http://www.faqs.org/rfcs/rfc1345.html)"><b>http://www.faqs.org/rfcs/rfc1345.html</b>)</b></a><b>

              The  function  may optionally be followed by up to two characters which replace one or both of
              the characters read from the keyboard; if both characters are supplied, no input is read.  For
              example,  <b>insert-composed-char</b>  <b>a:</b> can be used within a widget to insert an a with umlaut into
              the command line.  This has the advantages over use of a literal character  that  it  is  more
              portable.

              For  best results zsh should have been built with support for multibyte characters (configured
              with <b>--enable-multibyte</b>); however, the function works for  the  limited  range  of  characters
              available in single-byte character sets such as ISO-8859-1.

              The character is converted into the local representation and inserted into the command line at
              the cursor position.  (The conversion is done within the shell, using whatever facilities  the
              C library provides.)  With a numeric argument, the character and its code are previewed in the
              status line

              The function may be run outside zle in which case it prints the  character  (together  with  a
              newline) to standard output.  Input is still read from keystrokes.

              See  <b>insert-unicode-char</b>  for  an  alternative way of inserting Unicode characters using their
              hexadecimal character number.

              The set of accented characters is reasonably complete up to Unicode character U+0180, the  set
              of  special  characters less so.  However, it it is very sporadic from that point.  Adding new
              characters is easy, however; see the function <b>define-composed-chars</b>.  Please  send  any  addi-
              tions to <b>zsh-workers@sunsite.dk</b>.

              The  codes  for  the second character when used to accent the first are as follows.  Note that
              not every character can take every accent.
              <b>!</b>      Grave.
              <b>'</b>      Acute.
              <b>&gt;</b>      Circumflex.
              <b>?</b>      Tilde.  (This is not <b>~</b> as RFC 1345 does not assume that character  is  present  on  the
                     keyboard.)
              <b>-</b>      Macron.  (A horizonal bar over the base character.)
              <b>(</b>      Breve.  (A shallow dish shape over the base character.)
              <b>.</b>      Dot  above  the base character, or in the case of <b>i</b> no dot, or in the case of <b>L</b> and <b>l</b> a
                     centered dot.
              <b>:</b>      Diaeresis (Umlaut).
              <b>c</b>      Cedilla.
              <b>_</b>      Underline, however there are currently no underlined characters.
              <b>/</b>      Stroke through the base character.
              <b>"</b>      Double acute (only supported on a few letters).
              <b>;</b>      Ogonek.  (A little forward facing hook at the bottom right of the character.)
              <b>&lt;</b>      Caron.  (A little v over the letter.)
              <b>0</b>      Circle over the base character.
              <b>2</b>      Hook over the base character.
              <b>9</b>      Horn over the base character.

              The most common characters from the Arabic, Cyrillic, Greek and Hebrew  alphabets  are  avail-
              able;  consult RFC 1345 for the appropriate sequences.  In addition, a set of two letter codes
              not in RFC 1345 are available for the double-width characters corresponding to  ASCII  charac-
              ters from <b>!</b>  to <b>~</b> (0x21 to 0x7e) by preceeding the character with <b>^</b>, for example <b>^A</b> for a dou-
              ble-width <b>A</b>.

              The following other two-character sequences are understood.

              ASCII characters
                     These are already present on most keyboards:
              <b>&lt;(</b>     Left square bracket
              <b>//</b>     Backslash (solidus)
              <b>)&gt;</b>     Right square bracket
              <b>(!</b>     Left brace (curly bracket)
              <b>!!</b>     Vertical bar (pipe symbol)
              <b>!)</b>     Right brace (curly bracket)
              <b>'?</b>     Tilde

              Special letters
                     Characters found in various variants of the Latin alphabet:
              <b>ss</b>     Eszett (scafes S)
              <b>D-</b>, <b>d-</b> Eth
              <b>TH</b>, <b>th</b> Thorn
              <b>kk</b>     Kra
              <b>'n</b>     'n
              <b>NG</b>, <b>ng</b> Ng
              <b>OI</b>, <b>oi</b> Oi
              <b>yr</b>     yr
              <b>ED</b>     ezh

              Currency symbols
              <b>Ct</b>     Cent
              <b>Pd</b>     Pound sterling (also lira and others)
              <b>Cu</b>     Currency
              <b>Ye</b>     Yen
              <b>Eu</b>     Euro (N.B. not in RFC 1345)

              Punctuation characters
                     References to "right" quotes indicate the shape (like a 9 rather than  6)  rather  than
                     their grammatical use.  (For example, a "right" low double quote is used to open quota-
                     tions in German.)
              <b>!I</b>     Inverted exclamation mark
              <b>BB</b>     Broken vertical bar
              <b>SE</b>     Section
              <b>Co</b>     Copyright
              <b>-a</b>     Spanish feminine ordinal indicator
              <b>&lt;&lt;</b>     Left guillemet
              <b>--</b>     Soft hyphen
              <b>Rg</b>     Registered trade mark
              <b>PI</b>     Pilcrow (paragraph)
              <b>-o</b>     Spanish masculine ordinal indicator
              <b>&gt;&gt;</b>     Right guillemet
              <b>?I</b>     Inverted question mark
              <b>-1</b>     Hyphen
              <b>-N</b>     En dash
              <b>-M</b>     Em dash
              <b>-3</b>     Horizontal bar
              <b>:3</b>     Vertical ellipsis
              <b>.3</b>     Horizontal midline ellipsis
              <b>!2</b>     Double vertical line
              <b>=2</b>     Double low line
              <b>'6</b>     Left single quote
              <b>'9</b>     Right single quote
              <b>.9</b>     "Right" low quote
              <b>9'</b>     Reversed "right" quote
              <b>"6</b>     Left double quote
              <b>"9</b>     Right double quote
              <b>:9</b>     "Right" low double quote
              <b>9"</b>     Reversed "right" double quote
              <b>/-</b>     Dagger
              <b>/=</b>     Double dagger

              Mathematical symbols
              <b>DG</b>     Degree
              <b>-2</b>, <b>+-</b>, <b>-+</b>
                     - sign, +/- sign, -/+ sign
              <b>2S</b>     Superscript 2
              <b>3S</b>     Superscript 3
              <b>1S</b>     Superscript 1
              <b>My</b>     Micro
              <b>.M</b>     Middle dot
              <b>14</b>     Quarter
              <b>12</b>     Half
              <b>34</b>     Three quarters
              <b>*X</b>     Multiplication
              <b>-:</b>     Division
              <b>%0</b>     Per mille
              <b>FA</b>, <b>TE</b>, <b>/0</b>
                     For all, there exists, empty set
              <b>dP</b>, <b>DE</b>, <b>NB</b>
                     Partial derivative, delta (increment), del (nabla)
              <b>(-</b>, <b>-)</b> Element of, contains
              <b>*P</b>, <b>+Z</b> Product, sum
              <b>*-</b>, <b>Ob</b>, <b>Sb</b>
                     Asterisk, ring, bullet
              <b>RT</b>, <b>0(</b>, <b>00</b>
                     Root sign, proportional to, infinity

              Other symbols
              <b>cS</b>, <b>cH</b>, <b>cD</b>, <b>cC</b>
                     Card suits: spades, hearts, diamonds, clubs
              <b>Md</b>, <b>M8</b>, <b>M2</b>, <b>Mb</b>, <b>Mx</b>, <b>MX</b>
                     Musical notation: crotchet (quarter note), quaver (eighth note), semiquavers (sixteenth
                     notes), flag sign, natural signa, sharp sign
              <b>Fm</b>, <b>Ml</b> Female, male

              Accents on their own
              <b>'&gt;</b>     Circumflex (same as caret, <b>^</b>)
              <b>'!</b>     Grave (same as backtick, <b>`</b>)
              <b>',</b>     Cedilla
              <b>':</b>     Diaeresis (Umlaut)
              <b>'m</b>     Macron
              <b>''</b>     Acute

       <b>insert-files</b>
              This  function  allows  you  type a file pattern, and see the results of the expansion at each
              step.  When you hit return, all expansions are inserted into the command line.

                     <b>bindkey</b> <b>'^Xf'</b> <b>insert-files</b>

       <b>narrow-to-region</b> <b>[</b> <b>-p</b> <u>pre</u> <b>]</b> <b>[</b> <b>-P</b> <u>post</u> <b>]</b>
           <b>[</b> <b>-S</b> <u>statepm</u> <b>|</b> <b>-R</b> <u>statepm</u> <b>]</b> <b>[</b> <b>-n</b> <b>]</b> <b>[</b> <u>start</u> <u>end</u> <b>]</b>)
       <b>narrow-to-region-invisible</b>
              Narrow the editable portion of the buffer to the region between the cursor and the mark, which
              may be in either order.  The region may not be empty.

              <b>narrow-to-region</b>  may  be used as a widget or called as a function from a user-defined widget;
              by default, the text outside the editable area remains visible.  A <b>recursive-edit</b> is performed
              and  the  original widening status is then restored.  Various options and arguments are avail-
              able when it is called as a function.

              The options <b>-p</b> <u>pretext</u> and <b>-P</b> <u>posttext</u> may be used to replace the text before  and  after  the
              display for the duration of the function; either or both may be an empty string.

              If  the  option  <b>-n</b>  is also given, <u>pretext</u> or <u>posttext</u> will only be inserted if there is text
              before or after the region respectively which will be made invisible.

              Two numeric arguments may be given which will be used instead of the  cursor  and  mark  posi-
              tions.

              The option <b>-S</b> <u>statepm</u> is used to narrow according to the other options while saving the origi-
              nal state in the parameter with name <u>statepm</u>, while the option <b>-R</b> <u>statepm</u> is used  to  restore
              the  state  from  the parameter; note in both cases the <u>name</u> of the parameter is required.  In
              the second case, other options and arguments are irrelevant.  When this  method  is  used,  no
              <b>recursive-edit</b>  is performed; the calling widget should call this function with the option <b>-S</b>,
              perform its own editing on the command line or pass  control  to  the  user  via  `<b>zle</b>  <b>recur</b>-
              <b>sive-edit</b>',  then call this function with the option <b>-R</b>.  The argument <u>statepm</u> must be a suit-
              able name for an ordinary parameter, except that parameters beginning with  the  prefix  <b>_ntr_</b>
              are  reserved  for  use within <b>narrow-to-region</b>.  Typically the parameter will be local to the
              calling function.

              <b>narrow-to-region-invisible</b> is a simple widget  which  calls  <b>narrow-to-region</b>  with  arguments
              which replace any text outside the region with `<b>...</b>'.

              The  display  is  restored  (and  the widget returns) upon any zle command which would usually
              cause the line to be accepted or aborted.  Hence an additional such  command  is  required  to
              accept or abort the current line.

              The return status of both widgets is zero if the line was accepted, else non-zero.

              Here is a trivial example of a widget using this feature.
                     <b>local</b> <b>state</b>
                     <b>narrow-to-region</b> <b>-p</b> <b>$'Editing</b> <b>restricted</b> <b>region\n'</b> <b>\</b>
                       <b>-P</b> <b>''</b> <b>-S</b> <b>state</b>
                     <b>zle</b> <b>recursive-edit</b>
                     <b>narrow-to-region</b> <b>-R</b> <b>state</b>

       <b>insert-unicode-char</b>
              When  first  executed,  the  user inputs a set of hexadecimal digits.  This is terminated with
              another call to <b>insert-unicode-char</b>.  The digits are then turned into the  corresponding  Uni-
              code  character.   For example, if the widget is bound to <b>^XU</b>, the character sequence `<b>^XU</b> <b>4</b> <b>c</b>
              <b>^XU</b>' inserts <b>L</b> (Unicode U+004c).

              See <b>insert-composed-char</b> for a way of inserting characters using a two-character mnemonic.

       <b>predict-on</b>
              This set of functions implements predictive typing using history  search.   After  <b>predict-on</b>,
              typing  characters causes the editor to look backward in the history for the first line begin-
              ning with what you have typed so far.  After <b>predict-off</b>, editing returns to  normal  for  the
              line  found.   In  fact,  you  often  don't  even need to use <b>predict-off</b>, because if the line
              doesn't match something in the history, adding a key performs standard  completion,  and  then
              inserts  itself  if  no  completions  were found.  However, editing in the middle of a line is
              liable to confuse prediction; see the <b>toggle</b> style below.

              With the function based completion system (which is needed for this), you should  be  able  to
              type <b>TAB</b> at almost any point to advance the cursor to the next ``interesting'' character posi-
              tion (usually the end of the current word, but sometimes somewhere in the middle of the word).
              And of course as soon as the entire line is what you want, you can accept with return, without
              needing to move the cursor to the end first.

              The first time <b>predict-on</b> is used, it creates several additional widget functions:

              <b>delete-backward-and-predict</b>
                     Replaces the <b>backward-delete-char</b> widget.  You do not need to bind this yourself.
              <b>insert-and-predict</b>
                     Implements predictive typing by replacing the <b>self-insert</b> widget.  You do not  need  to
                     bind this yourself.
              <b>predict-off</b>
                     Turns off predictive typing.

              Although you <b>autoload</b> only the <b>predict-on</b> function, it is necessary to create a keybinding for
              <b>predict-off</b> as well.

                     <b>zle</b> <b>-N</b> <b>predict-on</b>
                     <b>zle</b> <b>-N</b> <b>predict-off</b>
                     <b>bindkey</b> <b>'^X^Z'</b> <b>predict-on</b>
                     <b>bindkey</b> <b>'^Z'</b> <b>predict-off</b>

       <b>read-from-minibuffer</b>
              This is most useful when called as a function from inside a widget, but will work correctly as
              a widget in its own right.  It prompts for a value below the current command line; a value may
              be input using all of the standard zle operations (and not merely the restricted set available
              when  executing,  for  example, <b>execute-named-cmd</b>).  The value is then returned to the calling
              function in the parameter <b>$REPLY</b> and the editing buffer restored to its  previous  state.   If
              the  read  was  aborted  by a keyboard break (typically <b>^G</b>), the function returns status 1 and
              <b>$REPLY</b> is not set.

              If one argument is supplied to the function it is taken as a prompt, otherwise `<b>?</b> '  is  used.
              If two arguments are supplied, they are the prompt and the initial value of <b>$LBUFFER</b>, and if a
              third argument is given it is the initial value of <b>$RBUFFER</b>.  This provides  a  default  value
              and starting cursor placement.  Upon return the entire buffer is the value of <b>$REPLY</b>.

              One  option  is  available: `<b>-k</b> <u>num</u>' specifies that <u>num</u> characters are to be read instead of a
              whole line.  The line editor is not invoked recursively in this case, so depending on the ter-
              minal settings the input may not be visible, and only the input keys are placed in <b>$REPLY</b>, not
              the entire buffer.  Note that unlike the <b>read</b> builtin <u>num</u> must be given; there is no  default.

              The name is a slight misnomer, as in fact the shell's own minibuffer is not used.  Hence it is
              still possible to call <b>executed-named-cmd</b> and similar functions while reading a value.

       <b>replace-string</b>, <b>replace-pattern</b>
       <b>replace-string-again</b>, <b>replace-pattern-again</b>
              The function <b>replace-string</b> implements two widgets.  If defined under the  same  name  as  the
              function, it prompts for two strings; the first (source) string will be replaced by the second
              everywhere it occurs in the line editing buffer.

              If the widget name contains the word `<b>pattern</b>', for example by defining the widget  using  the
              command  `<b>zle</b>  <b>-N</b>  <b>replace-pattern</b>  <b>replace-string</b>',  then  the replacement is done by pattern
              matching.  All zsh extended globbing patterns can be used in  the  source  string;  note  that
              unlike  filename  generation  the  pattern  does not need to match an entire word, nor do glob
              qualifiers have any effect.  In addition, the replacement string can contain parameter or com-
              mand  substitutions.   Furthermore,  a `<b>&amp;</b>' in the replacement string will be replaced with the
              matched source string, and a backquoted digit `<b>\</b><u>N</u>' will be replaced by the  <u>N</u>th  parenthesised
              expression matched.  The form `<b>\{</b><u>N</u><b>}</b>' may be used to protect the digit from following digits.

              By  default  the  previous source or replacement string will not be offered for editing.  How-
              ever, this feature can be  activated  by  setting  the  style  <b>edit-previous</b>  in  the  context
              <b>:zle:</b><u>widget</u> (for example, <b>:zle:replace-string</b>) to <b>true</b>.  In addition, a positive numeric argu-
              ment forces the previous values to be offered, a negative or zero argument forces them not  to
              be.

              The function <b>replace-string-again</b> can be used to repeat the previous replacement; no prompting
              is done.  As with <b>replace-string</b>, if the name of the widget contains the word `<b>pattern</b>',  pat-
              tern  matching is performed, else a literal string replacement.  Note that the previous source
              and replacement text are the same whether pattern or string matching is used.

              For example, starting from the line:

                     <b>print</b> <b>This</b> <b>line</b> <b>contains</b> <b>fan</b> <b>and</b> <b>fond</b>

              and invoking <b>replace-pattern</b> with the source string `<b>f(?)n</b>' and the replacment  string  `<b>c\1r</b>'
              produces the not very useful line:

                     <b>print</b> <b>This</b> <b>line</b> <b>contains</b> <b>car</b> <b>and</b> <b>cord</b>

              The  range  of  the  replacement string can be limited by using the <b>narrow-to-region-invisible</b>
              widget.  One limitation of the current version is that <b>undo</b> will cycle through changes to  the
              replacement and source strings before undoing the replacement itself.

       <b>smart-insert-last-word</b>
              This function may replace the <b>insert-last-word</b> widget, like so:

                     <b>zle</b> <b>-N</b> <b>insert-last-word</b> <b>smart-insert-last-word</b>

              With a numeric prefix, or when passed command line arguments in a call from another widget, it
              behaves like <b>insert-last-word</b>, except that words in comments are ignored when <b>INTERACTIVE_COM</b>-
              <b>MENTS</b> is set.

              Otherwise, the rightmost ``interesting'' word from the previous command is found and inserted.
              The default definition of ``interesting'' is that the word contains at  least  one  alphabetic
              character,  slash, or backslash.  This definition may be overridden by use of the <b>match</b> style.
              The context used to look up  the  style  is  the  widget  name,  so  usually  the  context  is
              <b>:insert-last-word</b>.   However, you can bind this function to different widgets to use different
              patterns:

                     <b>zle</b> <b>-N</b> <b>insert-last-assignment</b> <b>smart-insert-last-word</b>
                     <b>zstyle</b> <b>:insert-last-assignment</b> <b>match</b> <b>'[[:alpha:]][][[:alnum:]]#=*'</b>
                     <b>bindkey</b> <b>'\e='</b> <b>insert-last-assignment</b>

              If no interesting word is found and the <b>auto-previous</b> style is set to a true value, the search
              continues upward through the history.  When <b>auto-previous</b> is unset or false (the default), the
              widget must be invoked repeatedly in order to search earlier history lines.

       <b>which-command</b>
              This function is a drop-in replacement for the builtin widget <b>which-command</b>.  It has  enhanced
              behaviour,  in  that it correctly detects whether or not the command word needs to be expanded
              as an alias; if so, it continues tracing the command word from the  expanded  alias  until  it
              reaches the command that will be executed.

              The style <b>whence</b> is available in the context <b>:zle:$WIDGET</b>; this may be set to an array to give
              the command and options that will be used to investigate the command word found.  The  default
              is <b>whence</b> <b>-c</b>.


   <b>Utility</b> <b>Functions</b>
       These  functions  are  useful in constructing widgets.  They should be loaded with `<b>autoload</b> <b>-U</b> <u>func</u>-
       <u>tion</u>' and called as indicated from user-defined widgets.

       <b>split-shell-arguments</b>
              This function splits the line currently being edited into shell arguments and whitespace.  The
              result  is  stored in the array <b>reply</b>.  The array contains all the parts of the line in order,
              starting with any whitespace before the first argument,  and  finishing  with  any  whitespace
              after  the  last  argument.  Hence (so long as the option <b>KSH_ARRAYS</b> is not set) whitespace is
              given by odd indices in the array and arguments by even indices.  Note that  no  stripping  of
              quotes  is  done; joining together all the elements of <b>reply</b> in order is guaranteed to produce
              the original line.

              The parameter <b>REPLY</b> is set to the index of the word in  <b>reply</b>  which  contains  the  character
              after  the  cursor,  where  the first element has index 1.  The parameter <b>REPLY2</b> is set to the
              index of the character under the cursor in that word, where the first character has index 1.

              Hence <b>reply</b>, <b>REPLY</b> and <b>REPLY2</b> should all be made local to the enclosing function.

              See the function <b>modify-current-argument</b>, described below, for an example of how to call  this
              function.

       <b>modify-current-argument</b> <u>expr-using-</u><b>$ARG</b>
              This  function provides a simple method of allowing user-defined widgets to modify the command
              line argument under the cursor (or immediately to the left of the  cursor  if  the  cursor  is
              between arguments).  The argument should be an expression which when evaluated operates on the
              shell parameter <b>ARG</b>, which will have been set to the command line argument under  the  cursor.
              The expression should be suitably quoted to prevent it being evaluated too early.

              For  example,  a  user-defined widget containing the following code converts the characters in
              the argument under the cursor into all upper case:

                     <b>modify-current-word</b> <b>'${(U)ARG}'</b>

              The following strips any quoting from the current word (whether  backslashes  or  one  of  the
              styles of quotes), and replaces it with single quoting throughout:

                     <b>modify-current-word</b> <b>'${(qq)${(Q)ARG}}'</b>


   <b>Styles</b>
       The  behavior  of  several of the above widgets can be controlled by the use of the <b>zstyle</b> mechanism.
       In particular, widgets that interact with the completion system pass along their context to any  com-
       pletions that they invoke.

       <b>break-keys</b>
              This style is used by the <b>incremental-complete-word</b> widget. Its value should be a pattern, and
              all keys matching this pattern will cause the widget to stop  incremental  completion  without
              the key having any further effect. Like all styles used directly by <b>incremental-complete-word</b>,
              this style is looked up using the context `<b>:incremental</b>'.

       <b>completer</b>
              The <b>incremental-complete-word</b> and <b>insert-and-predict</b> widgets set up  their  top-level  context
              name  before  calling completion.  This allows one to define different sets of completer func-
              tions for normal completion and for these widgets.  For example, to use completion, approxima-
              tion  and  correction for normal completion, completion and correction for incremental comple-
              tion and only completion for prediction one could use:

                     <b>zstyle</b> <b>':completion:*'</b> <b>completer</b> <b>\</b>
                             <b>_complete</b> <b>_correct</b> <b>_approximate</b>
                     <b>zstyle</b> <b>':completion:incremental:*'</b> <b>completer</b> <b>\</b>
                             <b>_complete</b> <b>_correct</b>
                     <b>zstyle</b> <b>':completion:predict:*'</b> <b>completer</b> <b>\</b>
                             <b>_complete</b>

              It is a good idea to restrict the completers used in prediction, because they may be automati-
              cally  invoked  as you type.  The <b>_list</b> and <b>_menu</b> completers should never be used with predic-
              tion.  The <b>_approximate</b>, <b>_correct</b>, <b>_expand</b>, and <b>_match</b> completers may be used,  but  be  aware
              that  they  may change characters anywhere in the word behind the cursor, so you need to watch
              carefully that the result is what you intended.

       <b>cursor</b> The <b>insert-and-predict</b> widget uses this style, in the context `<b>:predict</b>', to decide  where  to
              place the cursor after completion has been tried.  Values are:

              <b>complete</b>
                     The  cursor  is  left  where it was when completion finished, but only if it is after a
                     character equal to the one just inserted by the user.  If it is after  another  charac-
                     ter, this value is the same as `<b>key</b>'.

              <b>key</b>    The  cursor is left after the <u>n</u>th occurrence of the character just inserted, where <u>n</u> is
                     the number of  times  that  character  appeared  in  the  word  before  completion  was
                     attempted.   In  short,  this  has the effect of leaving the cursor after the character
                     just typed even if the completion code found out that no other characters  need  to  be
                     inserted at that position.

              Any  other  value  for  this style unconditionally leaves the cursor at the position where the
              completion code left it.

       <b>list</b>   When using the <b>incremental-complete-word</b> widget, this style says  if  the  matches  should  be
              listed  on  every  key  press  (if  they fit on the screen).  Use the context prefix `<b>:comple</b>-
              <b>tion:incremental</b>'.

              The <b>insert-and-predict</b> widget uses this style to decide if the completion should be shown even
              if  there  is  only  one  possible completion.  This is done if the value of this style is the
              string <b>always</b>.  In this case the context is `<b>:predict</b>' (<u>not</u> `<b>:completion:predict</b>').

       <b>match</b>  This style is used by <b>smart-insert-last-word</b> to provide a pattern  (using  full  <b>EXTENDED_GLOB</b>
              syntax)  that  matches  an  interesting  word.  The context is the name of the widget to which
              <b>smart-insert-last-word</b> is bound (see above).  The default behavior  of  <b>smart-insert-last-word</b>
              is equivalent to:

                     <b>zstyle</b> <b>:insert-last-word</b> <b>match</b> <b>'*[[:alpha:]/\\]*'</b>

              However, you might want to include words that contain spaces:

                     <b>zstyle</b> <b>:insert-last-word</b> <b>match</b> <b>'*[[:alpha:][:space:]/\\]*'</b>

              Or include numbers as long as the word is at least two characters long:

                     <b>zstyle</b> <b>:insert-last-word</b> <b>match</b> <b>'*([[:digit:]]?|[[:alpha:]/\\])*'</b>

              The above example causes redirections like "2&gt;" to be included.

       <b>prompt</b> The  <b>incremental-complete-word</b>  widget shows the value of this style in the status line during
              incremental completion.  The string value may contain any of the following substrings  in  the
              manner of the <b>PS1</b> and other prompt parameters:

              <b>%c</b>     Replaced  by the name of the completer function that generated the matches (without the
                     leading underscore).

              <b>%l</b>     When the <b>list</b> style is set, replaced by `<b>...</b>' if the list of matches is too long to fit
                     on  the screen and with an empty string otherwise.  If the <b>list</b> style is `false' or not
                     set, `<b>%l</b>' is always removed.

              <b>%n</b>     Replaced by the number of matches generated.

              <b>%s</b>     Replaced by `<b>-no</b> <b>match-</b>', `<b>-no</b> <b>prefix-</b>', or an empty string if there is  no  completion
                     matching  the word on the line, if the matches have no common prefix different from the
                     word on the line, or if there is such a common prefix, respectively.

              <b>%u</b>     Replaced by the unambiguous part of all matches, if there is any, and if it is  differ-
                     ent from the word on the line.

              Like `<b>break-keys</b>', this uses the `<b>:incremental</b>' context.

       <b>stop-keys</b>
              This style is used by the <b>incremental-complete-word</b> widget.  Its value is treated similarly to
              the one for the <b>break-keys</b> style (and uses the same  context:  `<b>:incremental</b>').   However,  in
              this  case  all  keys matching the pattern given as its value will stop incremental completion
              and will then execute their usual function.

       <b>toggle</b> This boolean style is used by <b>predict-on</b> and its related widgets in  the  context  `<b>:predict</b>'.
              If set to one of the standard `true' values, predictive typing is automatically toggled off in
              situations where it is unlikely to be useful, such as when  editing  a  multi-line  buffer  or
              after moving into the middle of a line and then deleting a character.  The default is to leave
              prediction turned on until an explicit call to <b>predict-off</b>.

       <b>verbose</b>
              This boolean style is used by <b>predict-on</b> and its related widgets in  the  context  `<b>:predict</b>'.
              If  set to one of the standard `true' values, these widgets display a message below the prompt
              when the predictive state is toggled.  This is most useful  in  combination  with  the  <b>toggle</b>
              style.  The default does not display these messages.

       <b>widget</b> This  style  is  similar to the <b>command</b> style: For widget functions that use <b>zle</b> to call other
              widgets, this style can sometimes be used to override the widget which is called.  The context
              for  this  style  is  the  name  of  the calling widget (<u>not</u> the name of the calling function,
              because one function may be bound to multiple widget names).

                     <b>zstyle</b> <b>:copy-earlier-word</b> <b>widget</b> <b>smart-insert-last-word</b>

              Check the documentation for the calling widget or function to  determine  whether  the  <b>widget</b>
              style is used.


<b>EXCEPTION</b> <b>HANDLING</b>
       Two  functions  are  provided  to  enable  zsh to provide exception handling in a form that should be
       familiar from other languages.

       <b>throw</b> <u>exception</u>
              The function <b>throw</b> throws the named <u>exception</u>.  The name is an arbitrary string  and  is  only
              used  by the <b>throw</b> and <b>catch</b> functions.  An exception is for the most part treated the same as
              a shell error, i.e. an unhandled exception will cause the shell to abort all processing  in  a
              function or script and to return to the top level in an interactive shell.

       <b>catch</b> <u>exception-pattern</u>
              The  function  <b>catch</b>  returns  status  zero  if an exception was thrown and the pattern <u>excep</u>-
              <u>tion-pattern</u> matches its name.  Otherwise it returns status 1.  <u>exception-pattern</u> is  a  stan-
              dard  shell  pattern,  respecting  the  current setting of the <b>EXTENDED_GLOB</b> option.  An alias
              <b>catch</b> is also defined to prevent the argument to the function from matching filenames, so pat-
              terns  may  be  used  unquoted.   Note that as exceptions are not fundamentally different from
              other shell errors it is possible to catch shell errors by using an empty string as the excep-
              tion name.  The shell variable <b>CAUGHT</b> is set by <b>catch</b> to the name of the exception caught.  It
              is possible to rethrow an exception by calling the <b>throw</b> function again once an exception  has
              been caught.

       The  functions  are  designed  to be used together with the <b>always</b> construct described in <a href="zshmisc.1.html#//apple_ref/doc/man/1/zshmisc"><u>zshmisc</u>(1)</a>.
       This is important as only this construct provides the required support  for  exceptions.   A  typical
       example is as follows.

              <b>{</b>
                <b>#</b> <b>"try"</b> <b>block</b>
                <b>#</b> <b>...</b> <b>nested</b> <b>code</b> <b>here</b> <b>calls</b> <b>"throw</b> <b>MyExcept"</b>
              <b>}</b> <b>always</b> <b>{</b>
                <b>#</b> <b>"always"</b> <b>block</b>
                <b>if</b> <b>catch</b> <b>MyExcept;</b> <b>then</b>
                  <b>print</b> <b>"Caught</b> <b>exception</b> <b>MyExcept"</b>
                <b>elif</b> <b>catch</b> <b>'';</b> <b>then</b>
                  <b>print</b> <b>"Caught</b> <b>a</b> <b>shell</b> <b>error.</b>  <b>Propagating..."</b>
                  <b>throw</b> <b>''</b>
                <b>fi</b>
                <b>#</b> <b>Other</b> <b>exceptions</b> <b>are</b> <b>not</b> <b>handled</b> <b>but</b> <b>may</b> <b>be</b> <b>caught</b> <b>further</b>
                <b>#</b> <b>up</b> <b>the</b> <b>call</b> <b>stack.</b>
              <b>}</b>

       If all exceptions should be caught, the following idiom might be preferable.

              <b>{</b>
                <b>#</b> <b>...</b> <b>nested</b> <b>code</b> <b>here</b> <b>throws</b> <b>an</b> <b>exception</b>
              <b>}</b> <b>always</b> <b>{</b>
                <b>if</b> <b>catch</b> <b>*;</b> <b>then</b>
                  <b>case</b> <b>$CAUGHT</b> <b>in</b>
                    <b>(MyExcept)</b>
                    <b>print</b> <b>"Caught</b> <b>my</b> <b>own</b> <b>exception"</b>
                    <b>;;</b>
                    <b>(*)</b>
                    <b>print</b> <b>"Caught</b> <b>some</b> <b>other</b> <b>exception"</b>
                    <b>;;</b>
                  <b>esac</b>
                <b>fi</b>
              <b>}</b>

       In  common  with  exception  handling  in other languages, the exception may be thrown by code deeply
       nested inside the `try' block.  However, note that it must be thrown inside the current shell, not in
       a  subshell  forked for a pipeline, parenthesised current-shell construct, or some form of command or
       process substitution.

       The system internally uses the shell variable <b>EXCEPTION</b> to record the name of the  exception  between
       throwing and catching.  One drawback of this scheme is that if the exception is not handled the vari-
       able <b>EXCEPTION</b> remains set and may be incorrectly recognised as the name of an exception if  a  shell
       error  subsequently  occurs.   Adding <b>unset</b> <b>EXCEPTION</b> at the start of the outermost layer of any code
       that uses exception handling will eliminate this problem.


<b>MIME</b> <b>FUNCTIONS</b>
       Three functions are available to provide handling of files recognised by extension,  for  example  to
       dispatch a file <b>text.ps</b> when executed as a command to an appropriate viewer.

       <b>zsh-mime-setup</b> <b>[-flv]</b>
       <b>zsh-mime-handler</b>
              These two functions use the files <b>~/.mime.types</b> and <b>/etc/mime.types</b>, which associate types and
              extensions, as well as <b>~/.mailcap</b> and <b>/etc/mailcap</b> files, which associate types and  the  pro-
              grams  that handle them.  These are provided on many systems with the Multimedia Internet Mail
              Extensions.

              To enable the system, the function <b>zsh-mime-setup</b> should be autoloaded and run.   This  allows
              files  with  extensions  to  be treated as executable; such files be completed by the function
              completion system.  The function <b>zsh-mime-handler</b> should not need to be called by the user.

              The system works by setting up  suffix  aliases  with  `<b>alias</b>  <b>-s</b>'.   Suffix  aliases  already
              installed by the user will not be overwritten.

              Repeated  calls  to  <b>zsh-mime-setup</b>  do not override the existing mapping between suffixes and
              executable files unless the option <b>-f</b> is given.  Note, however, that this  does  not  override
              existing   suffix   aliases   assigned  to  handlers  other  than  <b>zsh-mime-handler</b>.   Calling
              <b>zsh-mime-setup</b> with the option <b>-l</b> lists the existing mappings without altering them.   Calling
              <b>zsh-mime-setup</b>  with  the  option <b>-v</b> causes verbose output to be shown during the setup opera-
              tion.

              The system respects the <b>mailcap</b> flags <b>needsterminal</b> and <b>copiousoutput</b>, see <!-- a --><u>mailcap</u>(4)<!-- /a -->.

              The functions use the following styles, which are defined with the <b>zstyle</b> builtin command (see
              <a href="zshmodules.1.html#//apple_ref/doc/man/1/zshmodules"><u>zshmodules</u>(1)</a>).   They  should be defined before <b>zsh-mime-setup</b> is run.  The contexts used all
              start with <b>:mime:</b>, with additional components in some cases.  It is recommended that a  trail-
              ing  <b>*</b>  (suitably  quoted)  be  appended  to  style patterns in case the system is extended in
              future.  Some examples are given below.
              <b>current-shell</b>
                     If this boolean style is true, the mailcap handler for the context in question  is  run
                     using  the  <b>eval</b>  builtin  instead of by starting a new <b>sh</b> process.  This is more effi-
                     cient, but may not work in the occasional cases where the mailcap handler  uses  strict
                     POSIX syntax.

              <b>execute-as-is</b>
                     This  style  gives  a list of patterns to be matched against files passed for execution
                     with a handler program.  If the file matches the pattern, the entire  command  line  is
                     executed  in  its  current form, with no handler.  This is useful for files which might
                     have suffixes but nonetheless be executable in their own right.  If the  style  is  not
                     set,  the  pattern  <b>*(*)</b> <b>*(/)</b> is used; hence executable files are executed directly and
                     not passed to a handler, and the option <b>AUTO_CD</b> may be used to  change  to  directories
                     that happen to have MIME suffixes.

              <b>flags</b>  Defines  flags  to  go with a handler; the context is as for the <b>handler</b> style, and the
                     format is as for the flags in <b>mailcap</b>.

              <b>handle-nonexistent</b>
                     By default, arguments that don't correspond to files are not passed to the MIME handler
                     in order to prevent it from intercepting commands found in the path that happen to have
                     suffixes.  This style may be set to an array of extended glob  patterns  for  arguments
                     that  will  be passed to the handler even if they don't exist.  If it is not explicitly
                     set it defaults to <b>[[:alpha:]]#:/*</b> which allows URLs to be passed to the  MIME  handler
                     even though they don't exist in that format in the file system.

              <b>handler</b>
                     Specifies a handler for a suffix; the suffix is given by the context as <b>:mime:.</b><u>suffix</u><b>:</b>,
                     and the format of the handler is exactly that in <b>mailcap</b>.  Note in particular  the  `<b>.</b>'
                     and  trailing colon to distinguish this use of the context.  This overrides any handler
                     specified by the <b>mailcap</b> files.  If the handler requires a terminal,  the  <b>flags</b>  style
                     should  be  set  to include the word <b>needsterminal</b>, or if the output is to be displayed
                     through a pager (but not if the handler is itself a pager),  it  should  include  <b>copi</b>-
                     <b>ousoutput</b>.

              <b>mailcap</b>
                     A  list  of files in the format of <b>~/.mailcap</b> and <b>/etc/mailcap</b> to be read during setup,
                     replacing the default list which consists of those two files.  The context  is  <b>:mime:</b>.
                     A <b>+</b> in the list will be replaced by the default files.

              <b>mailcap-priorities</b>
                     This style is used to resolve multiple mailcap entries for the same MIME type.  It con-
                     sists of an array of the following elements, in descending  order  of  priority;  later
                     entries  will  be  used if earlier entries are unable to resolve the entries being com-
                     pared.  If none of the tests resolve  the  entries,  the  first  entry  encountered  is
                     retained.

                     <b>files</b>  The  order of files (entries in the <b>mailcap</b> style) read.  Earlier files are pre-
                            ferred.  (Note this does not resolve entries in the same file.)

                     <b>priority</b>
                            The priority flag from the mailcap entry.  The priority is an integer from 0  to
                            9 with the default value being 5.

                     <b>flags</b>  The test given by the <b>mailcap-prio-flags</b> option is used to resolve entries.

                     <b>place</b>  Later  entries  are  preferred;  as  the entries are strictly ordered, this test
                            always succeeds.

                     Note that as this style is handled during initialisation, the context is always <b>:mime:</b>,
                     with no discrimination by suffix.

              <b>mailcap-prio-flags</b>
                     This style is used when the keyword <b>flags</b> is encountered in the list of tests specified
                     by the <b>mailcap-priorities</b> style.  It should be set to a list of patterns, each of which
                     is tested against the flags specified in the mailcap entry (in other words, the sets of
                     assignments found with some entries in the mailcap file).  Earlier patterns in the list
                     are preferred to later ones, and matched patterns are preferred to unmatched ones.

              <b>mime-types</b>
                     A  list  of  files in the format of <b>~/.mime.types</b> and <b>/etc/mime.types</b> to be read during
                     setup, replacing the default list which consists of those two files.   The  context  is
                     <b>:mime:</b>.  A <b>+</b> in the list will be replaced by the default files.

              <b>never-background</b>
                     If  this  boolean  style is set, the handler for the given context is always run in the
                     foreground, even if the flags provided in the mailcap entry suggest it need not be (for
                     example, it doesn't require a terminal).

              <b>pager</b>  If set, will be used instead of <b>$PAGER</b> or <b>more</b> to handle suffixes where the <b>copiousout</b>-
                     <b>put</b> flag is set.  The context is as for <b>handler</b>, i.e.  <b>:mime:.</b><u>suffix</u><b>:</b>  for  handling  a
                     file with the given <u>suffix</u>.

              Examples:

                     <b>zstyle</b> <b>':mime:*'</b> <b>mailcap</b> <b>~/.mailcap</b> <b>/usr/local/etc/mailcap</b>
                     <b>zstyle</b> <b>':mime:.txt:'</b> <b>handler</b> <b>less</b> <b>%s</b>
                     <b>zstyle</b> <b>':mime:.txt:'</b> <b>flags</b> <b>needsterminal</b>

              When  <b>zsh-mime-setup</b>  is  subsequently  run, it will look for <b>mailcap</b> entries in the two files
              given.  Files of suffix <b>.txt</b> will be handled by running `<b>less</b> <u>file.txt</u>'.  The flag <b>needstermi</b>-
              <b>nal</b> is set to show that this program must run attached to a terminal.

              As  there  are  several  steps  to  dispatching  a command, the following should be checked if
              attempting to execute a file by extension <b>.</b><u>ext</u> does not have the expected effect.

              The command `<b>alias</b> <b>-s</b> <u>ext</u>' should show `<b>ps=zsh-mime-handler</b>'.  If  it  shows  something  else,
              another  suffix  alias was already installed and was not overwritten.  If it shows nothing, no
              handler was installed:  this is most likely because no handler was found  in  the  <b>.mime.types</b>
              and <b>mailcap</b> combination for <b>.ext</b> files.  In that case, appropriate handling should be added to
              <b>~/.mime.types</b> and <b>mailcap</b>.

              If the extension is handled by <b>zsh-mime-handler</b> but the file is not opened  correctly,  either
              the  handler  defined for the type is incorrect, or the flags associated with it are in appro-
              priate.  Running <b>zsh-mime-setup</b> <b>-l</b> will show the handler and, if there are any, the flags.   A
              <b>%s</b> in the handler is replaced by the file (suitably quoted if necessary).  Check that the han-
              dler program listed lists and can be run in the way shown.  Also check that  the  flags  <b>need</b>-
              <b>sterminal</b> or <b>copiousoutput</b> are set if the handler needs to be run under a terminal; the second
              flag is used if the output should be sent to a pager.  An example of a suitable <b>mailcap</b>  entry
              for such a program is:

                     <b>text/html;</b> <b>/usr/bin/lynx</b> <b>'%s';</b> <b>needsterminal</b>

       <b>pick-web-browser</b>
              This  function  is  separate  from  the two MIME functions described above and can be assigned
              directly to a suffix:

                     <b>autoload</b> <b>-U</b> <b>pick-web-browser</b>
                     <b>alias</b> <b>-s</b> <b>html=pick-web-browser</b>

              It is provided as an intelligent front end to dispatch a web browser.  It will check if  an  X
              Windows  display  is available, and if so if there is already a browser running on the display
              which can accept a remote connection.  In that case,  the  file  will  be  displayed  in  that
              browser; you should check explicitly if it has appeared in the running browser's window.  Oth-
              erwise, it will start a new browser according to a built-in set of preferences.

              Alternatively, <b>pick-web-browser</b> can be run as a zsh script.

              Two styles are available to customize the choice of browsers: <b>x-browsers</b>  when  running  under
              the  X  Window  System,  and  <b>tty-browsers</b> otherwise.  These are arrays in decreasing order of
              preference consisting of the command name under which to start the browser.  They  are  looked
              up  in  the context <b>:mime:</b> (which may be extended in future, so appending `<b>*</b>' is recommended).
              For example,

                     <b>zstyle</b> <b>':mime:*'</b> <b>x-browsers</b> <b>opera</b> <b>konqueror</b> <b>netscape</b>

              specifies that <b>pick-web-browser</b> should first look for a runing instance of Opera, Konqueror or
              Netscape, in that order, and if it fails to find any should attempt to start Opera.

              In  addition, the style <b>command</b>, if set, is used to pick the command used to open a page for a
              browser.   The  context  is  <b>:mime:browser:new:$browser:</b>   to   start   a   new   browser   or
              <b>:mime:browser:running:$browser:</b>  to  open  a  URL in a browser already runing on the current X
              display.  The escape sequence <b>%b</b> in the style's value will be replaced by the  browser,  while
              <b>%u</b> will be replaced by the URL.  If the style is not set, the default for all new instances is
              equivalent to <b>%b</b> <b>%u</b> and the defaults for using running browsers are equivalent to  the  values
              <b>kfmclient</b>  <b>openURL</b>  <b>%u</b>  for  Konqueror,  <b>firefox</b>  <b>-new-tab</b>  <b>%u</b>  for  Firefox  and  <b>%b</b>  <b>-remote</b>
              <b>"openUrl(%u)"</b> for all others.


<b>MATHEMATICAL</b> <b>FUNCTIONS</b>
       <b>zcalc</b> [ <u>expression</u> ... ]
              A reasonably powerful calculator based on zsh's arithmetic evaluation facility.  The syntax is
              similar to that of formulae in most programming languages; see the section `Arithmetic Evalua-
              tion' in <a href="zshmisc.1.html#//apple_ref/doc/man/1/zshmisc"><u>zshmisc</u>(1)</a> for details.  The mathematical library <b>zsh/mathfunc</b> will be loaded  if  it
              is  available;  see  the section `The zsh/mathfunc Module' in <a href="zshmodules.1.html#//apple_ref/doc/man/1/zshmodules"><u>zshmodules</u>(1)</a>.  The mathematical
              functions correspond to the raw system libraries, so  trigonometric  functions  are  evaluated
              using radians, and so on.

              Each  line  typed is evaluated as an expression.  The prompt shows a number, which corresponds
              to a positional parameter where the result of that calculation is stored.   For  example,  the
              result  of  the  calculation on the line preceded by `<b>4&gt;</b> ' is available as <b>$4</b>.  The last value
              calculated is available as <b>ans</b>.  Full command line editing, including the history of  previous
              calculations, is available; the history is saved in the file <b>~/.zcalc_history</b>.  To exit, enter
              a blank line or type `<b>q</b>' on its own.

              If arguments are given to <b>zcalc</b> on start up, they are used to prime the first  few  positional
              parameters.  A visual indication of this is given when the calculator starts.

              The constants <b>PI</b> (3.14159...) and <b>E</b> (2.71828...) are provided.  Parameter assignment is possi-
              ble, but note that all parameters will be put into the global namespace.

              The output base can be initialised by passing the option `<b>-#</b><u>base</u>', for  example  `<b>zcalc</b>  <b>-#16</b>'
              (the `<b>#</b>' may have to be quoted, depending on the globbing options set).

              The  prompt  is  configurable  via  the parameter <b>ZCALCPROMPT</b>, which undergoes standard prompt
              expansion.  The index of the current entry is stored locally in the first element of the array
              <b>psvar</b>, which can be referred to in <b>ZCALCPROMPT</b> as `<b>%1v</b>'.  The default prompt is `<b>%1v&gt;</b> '.

              The output precision may be specified within zcalc by special commands familiar from many cal-
              culators:
              <b>norm</b>   The default output format.  It corresponds to the printf <b>%g</b>  specification.   Typically
                     this shows six decimal digits.

              <b>sci</b> <u>digits</u>
                     Scientific  notation,  corresponding  to the printf <b>%g</b> output format with the precision
                     given by <u>digits</u>.  This produces either fixed point or exponential notation depending on
                     the value output.

              <b>fix</b> <u>digits</u>
                     Fixed  point  notation, corresponding to the printf <b>%f</b> output format with the precision
                     given by <u>digits</u>.

              <b>eng</b> <u>digits</u>
                     Exponential notation, corresponding to the printf <b>%E</b> output format with  the  precision
                     given by <u>digits</u>.

              Other special commands:
              <b>local</b> <u>arg</u> ...
                     Declare  variables  local to the function.  Note that certain variables are used by the
                     function for its own purposes.  Other variables may be used,  too,  but  they  will  be
                     taken from or put into the global scope.

              <b>function</b> <u>name</u> [ <u>body</u> ]
                     Define  a  mathematical  function or (with no <u>body</u>) delete it.  The function is defined
                     using <b>zmathfuncdef</b>, see below.

                     Note that <b>zcalc</b> takes care of all quoting.  Hence for example:

                            <b>function</b> <b>cube</b> <b>$1</b> <b>*</b> <b>$1</b> <b>*</b> <b>$1</b>

                     defines a function to cube the sole argument.

              <b>[#</b><u>base</u><b>]</b>
                     When this syntax appears on a line by itself, the default output radix is set to  <u>base</u>.
                     Use,  for  example,  `<b>[#16]</b>' to display hexadecimal output preceded by an indication of
                     the base, or `<b>[##16]</b>' just to display the raw number in the given  base.   Bases  them-
                     selves  are always specified in decimal. `<b>[#]</b>' restores the normal output format.  Note
                     that setting an output base suppresses floating point output; use `<b>[#]</b>'  to  return  to
                     normal operation.


       See the comments in the function for a few extra tips.

       <b>zmathfuncdef</b> <u>mathfunc</u> [ <u>body</u> ]
              A convenient front end to <b>functions</b> <b>-M</b>.

              With  two  arguments,  define  a mathematical function named <u>mathfunc</u> which can be used in any
              form of arithmetic evaluation.  <u>body</u> is a mathematical expression to implement  the  function.
              It may contain references to position parameters <b>$1</b>, <b>$2</b>, ...  to refer to mandatory parameters
              and <b>${1:-</b><u>defvalue</u><b>}</b> ...  to refer to optional parameters.  Note that the forms must be strictly
              adhered  to for the function to calculate the correct number of arguments.  The implementation
              is held in a shell function named <b>zsh_math_func_</b><u>mathfunc</u>; usually the user will  not  need  to
              refer to the shell function directly.

              With  one  argument,  remove  the mathematical function <u>mathfunc</u> as well as the shell function
              implementation.


<b>OTHER</b> <b>FUNCTIONS</b>
       There are a large number of helpful functions in the <b>Functions/Misc</b> directory of  the  zsh  distribu-
       tion.   Most  are  very simple and do not require documentation here, but a few are worthy of special
       mention.


   <b>Descriptions</b>
       <b>colors</b> This function initializes several associative arrays to map color names to (and from) the ANSI
              standard  eight-color  terminal codes.  These are used by the prompt theme system (see above).
              You seldom should need to run <b>colors</b> more than once.

              The eight base colors are: black, red, green, yellow, blue, magenta, cyan, and white.  Each of
              these  has  codes  for  foreground  and  background.   In  addition  there are eight intensity
              attributes: bold, faint, standout, underline, blink, reverse, and conceal.  Finally, there are
              six codes used to negate attributes: none (reset all attributes to the defaults), normal (nei-
              ther bold nor faint), no-standout, no-underline, no-blink, and no-reverse.

              Some terminals do not support all combinations of colors and intensities.

              The associative arrays are:

              color
              colour Map all the color names to their integer codes, and integer codes to the  color  names.
                     The  eight  base  names  map  to  the foreground color codes, as do names prefixed with
                     `<b>fg-</b>', such as `<b>fg-red</b>'.  Names prefixed with `<b>bg-</b>', such as `<b>bg-blue</b>',  refer  to  the
                     background  codes.   The  reverse mapping from code to color yields base name for fore-
                     ground codes and the <b>bg-</b> form for backgrounds.

                     Although it is a misnomer to call them `colors', these arrays also map the other  four-
                     teen attributes from names to codes and codes to names.

              fg
              fg_bold
              fg_no_bold
                     Map  the  eight basic color names to ANSI terminal escape sequences that set the corre-
                     sponding foreground text properties.  The <b>fg</b> sequences change the color without  chang-
                     ing the eight intensity attributes.

              bg
              bg_bold
              bg_no_bold
                     Map  the  eight basic color names to ANSI terminal escape sequences that set the corre-
                     sponding background properties.  The <b>bg</b> sequences change the color without changing the
                     eight intensity attributes.

              In  addition,  the  scalar  parameters <b>reset_color</b> and <b>bold_color</b> are set to the ANSI terminal
              escapes that turn off all attributes and turn on bold intensity, respectively.

       <b>fned</b> <u>name</u>
              Same as <b>zed</b> <b>-f</b>.  This function does not appear in the zsh distribution, but can be created  by
              linking <b>zed</b> to the name <b>fned</b> in some directory in your <b>fpath</b>.

       <b>is-at-least</b> <u>needed</u> [ <u>present</u> ]
              Perform  a  greater-than-or-equal-to comparison of two strings having the format of a zsh ver-
              sion number; that is, a string of numbers and text with segments separated by dots or  dashes.
              If   the  <u>present</u>  string  is  not  provided,  <b>$ZSH_VERSION</b>  is  used.   Segments  are  paired
              left-to-right in the two strings with leading non-number parts ignored.   If  one  string  has
              fewer segments than the other, the missing segments are considered zero.

              This  is  useful in startup files to set options and other state that are not available in all
              versions of zsh.

                     <b>is-at-least</b> <b>3.1.6-15</b> <b>&amp;&amp;</b> <b>setopt</b> <b>NO_GLOBAL_RCS</b>
                     <b>is-at-least</b> <b>3.1.0</b> <b>&amp;&amp;</b> <b>setopt</b> <b>HIST_REDUCE_BLANKS</b>
                     <b>is-at-least</b> <b>2.6-17</b> <b>||</b> <b>print</b> <b>"You</b> <b>can't</b> <b>use</b> <b>is-at-least</b> <b>here."</b>

       <b>nslookup</b> [ <u>arg</u> ... ]
              This wrapper function for the <b>nslookup</b> command  requires  the  <b>zsh/zpty</b>  module  (see  <a href="zshmodules.1.html#//apple_ref/doc/man/1/zshmodules"><u>zshmod</u></a>-
              <a href="zshmodules.1.html#//apple_ref/doc/man/1/zshmodules"><u>ules</u>(1)</a>).   It behaves exactly like the standard <b>nslookup</b> except that it provides customizable
              prompts (including a right-side prompt) and completion of nslookup commands, host names,  etc.
              (if you use the function-based completion system).  Completion styles may be set with the con-
              text prefix `<b>:completion:nslookup</b>'.

              See also the <b>pager</b>, <b>prompt</b> and <b>rprompt</b> styles below.

       <b>run-help</b>
              See `Accessing On-Line Help' above.

       <b>tetris</b> Zsh was once accused of not being as complete as Emacs, because it lacked a Tetris game.  This
              function was written to refute this vicious slander.

              This function must be used as a ZLE widget:

                     <b>autoload</b> <b>-U</b> <b>tetris</b>
                     <b>zle</b> <b>-N</b> <b>tetris</b>
                     <b>bindkey</b> <u>keys</u> <b>tetris</b>

              To  start a game, execute the widget by typing the <u>keys</u>.  Whatever command line you were edit-
              ing disappears temporarily, and your keymap is also temporarily replaced by the Tetris control
              keys.   The previous editor state is restored when you quit the game (by pressing `<b>q</b>') or when
              you lose.

              If you quit in the middle of a game, the next invocation of the <b>tetris</b>  widget  will  continue
              where you left off.  If you lost, it will start a new game.

       <b>zargs</b> [ <u>option</u> ... <b>--</b> ] [ <u>input</u> ... ] [ <b>--</b> <u>command</u> [ <u>arg</u> ... ] ]
              This function works like GNU xargs, except that instead of reading lines of arguments from the
              standard input, it takes them from the command line.  This is useful because  zsh,  especially
              with recursive glob operators, often can construct a command line for a shell function that is
              longer than can be accepted by an external command.

              The <u>option</u> list represents options of the <b>zargs</b> command itself, which are the same as those of
              <b>xargs</b>.   The  <u>input</u> list is the collection of strings (often file names) that become the argu-
              ments of the <b>command</b>, analogous to the standard input of <b>xargs</b>.  Finally, the  <u>arg</u>  list  con-
              sists  of  those arguments (usually options) that are passed to the <u>command</u> each time it runs.
              The <u>arg</u> list precedes the elements from the <b>input</b> list in each run.  If  no  <u>command</u>  is  pro-
              vided, then no <u>arg</u> list may be provided, and in that event the default command is `<b>print</b>' with
              arguments `<b>-r</b> <b>--</b>'.

              For example, to get a long <b>ls</b> listing of all plain files in the current directory or its  sub-
              directories:

                     <b>autoload</b> <b>-U</b> <b>zargs</b>
                     <b>zargs</b> <b>--</b> <b>**/*(.)</b> <b>--</b> <b>ls</b> <b>-l</b>

              Note  that  `<b>--</b>'  is  used  both to mark the end of the <u>option</u> list and to mark the end of the
              <u>input</u> list, so it must appear twice whenever the <u>input</u> list may be empty.  If there is guaran-
              teed  to  be  at least one <u>input</u> and the first <u>input</u> does not begin with a `<b>-</b>', then the first
              `<b>--</b>' may be omitted.

              In the event that the string `<b>--</b>' is or may be an <u>input</u>, the <b>-e</b> option may be used  to  change
              the  end-of-inputs  marker.   Note  that  this does <u>not</u> change the end-of-options marker.  For
              example, to use `<b>..</b>' as the marker:

                     <b>zargs</b> <b>-e..</b> <b>--</b> <b>**/*(.)</b> <b>..</b> <b>ls</b> <b>-l</b>

              This is a good choice in that example because no plain file can be named `<b>..</b>',  but  the  best
              end-marker depends on the circumstances.

              For details of the other <b>zargs</b> options, see <a href="xargs.1.html#//apple_ref/doc/man/1/xargs"><u>xargs</u>(1)</a> or run <b>zargs</b> with the <b>--help</b> option.

       <b>zed</b> [ <b>-f</b> ] <u>name</u>
       <b>zed</b> <b>-b</b> This function uses the ZLE editor to edit a file or function.

              Only one <u>name</u> argument is allowed.  If the <b>-f</b> option is given, the name is taken to be that of
              a function; if the function is marked for autoloading, <b>zed</b> searches for it in  the  <b>fpath</b>  and
              loads  it.   Note that functions edited this way are installed into the current shell, but <u>not</u>
              written back to the autoload file.

              Without <b>-f</b>, <u>name</u> is the path name of the file to edit, which need not exist; it is created  on
              write, if necessary.

              While  editing,  the  function  sets  the  main  keymap  to  <b>zed</b>  and the vi command keymap to
              <b>zed-vicmd</b>.  These will be copied from the existing <b>main</b> and <b>vicmd</b> keymaps if they do not exist
              the first time <b>zed</b> is run.  They can be used to provide special key bindings used only in zed.

              If it creates the keymap, <b>zed</b> rebinds the return key to insert a  line  break  and  `<b>^X^W</b>'  to
              accept  the edit in the <b>zed</b> keymap, and binds `<b>ZZ</b>' to accept the edit in the <b>zed-vicmd</b> keymap.

              The bindings alone can be installed by running `<b>zed</b> <b>-b</b>'.  This is suitable for putting into  a
              startup  file.   Note  that,  if  rerun,  this  will  overwrite the existing <b>zed</b> and <b>zed-vicmd</b>
              keymaps.

              Completion is available, and styles may be set with the context prefix `<b>:completion:zed</b>'.

              A zle widget <b>zed-set-file-name</b> is available.  This can be called by name from within zed using
              `<b>\ex</b> <b>zed-set-file-name</b>' (note, however, that because of zed's rebindings you will have to type
              <b>^j</b> at the end instead of the return key), or can be bound to a key in either  of  the  <b>zed</b>  or
              <b>zed-vicmd</b>  keymaps  after  `<b>zed</b> <b>-b</b>' has been run.  When the widget is called, it prompts for a
              new name for the file being edited.  When zed exits the file will be written under  that  name
              and the original file will be left alone.  The widget has no effect with `<b>zed</b> <b>-f</b>'.

              While  <b>zed-set-file-name</b>  is  running,  zed uses the keymap <b>zed-normal-keymap</b>, which is linked
              from the main keymap in effect at the time zed initialised its bindings.  (This is to make the
              return  key  operate  normally.)   The result is that if the main keymap has been changed, the
              widget won't notice.  This is not a concern for most users.

       <b>zcp</b> [ <b>-finqQvwW</b> ] <u>srcpat</u> <u>dest</u>
       <b>zln</b> [ <b>-finqQsvwW</b> ] <u>srcpat</u> <u>dest</u>
              Same as <b>zmv</b> <b>-C</b> and <b>zmv</b> <b>-L</b>, respectively.  These functions do not appear in the  zsh  distribu-
              tion,  but  can  be  created by linking <b>zmv</b> to the names <b>zcp</b> and <b>zln</b> in some directory in your
              <b>fpath</b>.

       <b>zkbd</b>   See `Keyboard Definition' above.

       <b>zmv</b> [ <b>-finqQsvwW</b> ] [ -C | -L | -M | -p <u>program</u> ] [ -o <u>optstring</u> ] <u>srcpat</u> <u>dest</u>
              Move (usually, rename) files matching the pattern <u>srcpat</u> to corresponding files  having  names
              of  the  form given by <u>dest</u>, where <u>srcpat</u> contains parentheses surrounding patterns which will
              be replaced in turn by $1, $2, ... in <u>dest</u>.  For example,

                     <b>zmv</b> <b>'(*).lis'</b> <b>'$1.txt'</b>

              renames `<b>foo.lis</b>' to `<b>foo.txt</b>', `<b>my.old.stuff.lis</b>' to `<b>my.old.stuff.txt</b>', and so on.

              The pattern is always treated as an <b>EXTENDED_GLOB</b> pattern.  Any file whose name is not changed
              by the substitution is simply ignored.  Any error (a substitution resulted in an empty string,
              two substitutions gave the same result, the destination was an existing regular  file  and  <b>-f</b>
              was not given) causes the entire function to abort without doing anything.

              Options:

              <b>-f</b>     Force overwriting of destination files.  Not currently passed down to the <b>mv</b>/<b>cp</b>/<b>ln</b> com-
                     mand due to vagaries of implementations (but you can use <b>-o-f</b> to do that).
              <b>-i</b>     Interactive: show each line to be executed and ask the user whether to execute it.  `Y'
                     or  `y'  will  execute it, anything else will skip it.  Note that you just need to type
                     one character.
              <b>-n</b>     No execution: print what would happen, but don't do it.
              <b>-q</b>     Turn bare glob qualifiers off: now assumed by default, so this has no effect.
              <b>-Q</b>     Force bare glob qualifiers on.  Don't turn this on unless you are actually  using  glob
                     qualifiers in a pattern.
              <b>-s</b>     Symbolic, passed down to <b>ln</b>; only works with <b>-L</b>.
              <b>-v</b>     Verbose: print each command as it's being executed.
              <b>-w</b>     Pick  out  wildcard parts of the pattern, as described above, and implicitly add paren-
                     theses for referring to them.
              <b>-W</b>     Just like <b>-w</b>, with the addition of turning wildcards in the  replacement  pattern  into
                     sequential ${1} .. ${N} references.
              <b>-C</b>
              <b>-L</b>
              <b>-M</b>     Force <b>cp</b>, <b>ln</b> or <b>mv</b>, respectively, regardless of the name of the function.
              <b>-p</b> <u>program</u>
                     Call  <u>program</u> instead of <b>cp</b>, <b>ln</b> or <b>mv</b>.  Whatever it does, it should at least understand
                     the form `<u>program</u> <b>--</b> <u>oldname</u> <u>newname</u>' where <u>oldname</u> and <u>newname</u> are filenames generated
                     by <b>zmv</b>.
              <b>-o</b> <u>optstring</u>
                     The  <u>optstring</u> is split into words and passed down verbatim to the <b>cp</b>, <b>ln</b> or <b>mv</b> command
                     called to perform the work.  It should probably begin with a `<b>-</b>'.

              For more complete examples and other implementation details, see the <b>zmv</b> source file,  usually
              located  in  one  of  the directories named in your <b>fpath</b>, or in <b>Functions/Misc/zmv</b> in the zsh
              distribution.

       <b>zrecompile</b>
              See `Recompiling Functions' above.

       <b>zstyle+</b> <u>context</u> <u>style</u> <u>value</u> [ + <u>subcontext</u> <u>style</u> <u>value</u> ... ]
              This makes defining styles a bit simpler by using a single `<b>+</b>' as a special token that  allows
              you to append a context name to the previously used context name.  Like this:

                     <b>zstyle+</b> <b>':foo:bar'</b> <b>style1</b> <b>value1</b> <b>\</b>
                           <b>+</b> <b>':baz'</b>     <b>style2</b> <b>value2</b> <b>\</b>
                           <b>+</b> <b>':frob'</b>    <b>style3</b> <b>value3</b>

              This  defines  `style1'  with  `value1' for the context <b>:foo:bar</b> as usual, but it also defines
              `style2'  with  `value2'  for  the  context  <b>:foo:bar:baz</b>  and  `style3'  with  `value3'   for
              <b>:foo:bar:frob</b>.   Any <u>subcontext</u> may be the empty string to re-use the first context unchanged.


   <b>Styles</b>
       <b>insert-tab</b>
              The <b>zed</b> function <u>sets</u> this style in context `<b>:completion:zed:*</b>' to turn  off  completion  when
              <b>TAB</b>  is typed at the beginning of a line.  You may override this by setting your own value for
              this context and style.

       <b>pager</b>  The <b>nslookup</b> function looks up this style in the context `<b>:nslookup</b>' to determine the  program
              used to display output that does not fit on a single screen.

       <b>prompt</b>
       <b>rprompt</b>
              The <b>nslookup</b> function looks up this style in the context `<b>:nslookup</b>' to set the prompt and the
              right-side prompt, respectively.  The usual expansions for the <b>PS1</b> and <b>RPS1</b> parameters may  be
              used (see <a href="zshmisc.1.html#//apple_ref/doc/man/1/zshmisc"><u>zshmisc</u>(1)</a>).



zsh 4.3.4                                      April 19, 2006                                  ZSHCONTRIB(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/zshcontrib.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/zshcontrib.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/zshcontrib.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
