<html><head>
<script language="JavaScript" src="../../../../../../../../../../frametest.js"></script>
<title>EOModel</title></head>
<body bgcolor=#ffffff>

<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header -->

<!--start of path -->
<font face="Geneva,Helvetica,Arial" size="1">
<b>PATH<spacer type="horizontal" size="5">&nbsp;</b>
 <a href="../../../../../../../../../../webobjects.html" target="_top">WebObjects 4.0 Documentation</a> <b>&gt;</b>
 <a href="../frameset.html" target="_top">EOAccess Reference</a>
</font>
<br><br>
<!--end of path -->

<!-- start of navigation -->
<a href="EOLoginPanel.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="More/LoadingAModelFile.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<!-- end of navigation -->


<hr><br>
 
<h1><a name="//apple_ref/java/cl/EOModel">EOModel</a>
 <BR>
</h1>
<p><B>Inherits From:</B><BR>  
NSObject

<p><B>Inherits From:</B><BR>  
com.apple.yellow.eoaccess

<p><a name="3051">
<hr width=50% align=left>
<h2>Class Description  </h2>
</a>An EOModel represents a mapping between a database schema and a set of classes based on the entity-relationship model. The model contains a number of EOEntity objects representing the entities (tables) of the database schema. Each <a href="EOEntity.html">EOEntity</a> object has a number of <a href="EOAttribute.html">EOAttribute</a> and <a href="EORelationship.html">EORelationship</a> objects representing the properties (columns or fields) of the entity in the database schema. For more information on attributes and relationships, see their respective class specifications.<p>
An EOModel maintains a mapping between each of its EOEntity objects and a corresponding enterprise object class for use with the database level of the Enterprise Objects Framework. You can determine the EOEntity for a particular enterprise object with the <a href="EOModel.html#437"><code>entityForObject</code></a> method.<p>
An EOModel is specific to a particular database server, and stores information needed to connect to that server. This includes the name of an adaptor framework to load so that the Enterprise Objects Framework can communicate with the database. Models are stored in the file system in a manner similar to adaptor framework. EOModel objects are usually loaded from model files built with the EOModeler application rather than built programmatically. If you need to programmatically load a model file, see the discussion in "<a href="More/LoadingAModelFile.html#3533">Loading a Model File</a>."<p>
Models can have relationships that reference other models in the same model group. The other models may map to different databases and types of servers.<p>
Models are organized into model groups; see the <a href="EOModelGroup.html">EOModelGroup</a> class specification for more information.<p>
<a name="374">
<hr width=50% align=left>
<h2> Creating an EOModel Programmatically</h2>
</a>The EOAdaptorChannel class declares methods for reading basic schema information from a relational database. You can use this information to build up an EOModel programmatically, and then enhance that model by defining extra relationships, flattening attributes, and so on. See the class description in the <a href="EOAdaptorChannel.html">EOAdaptorChannel</a> class specification for information on reading basic schema information, and see the other modeling classes' specifications for information on creating additional attributes and relationships.<p>
<a name="379">
<hr width=50% align=left>
<h2>Method Types </h2>
</a><dl><dt>Constructors
<dl><dt><a href="EOModel.html#8851">EOModel</a>
</dl><dt>Saving a model
<dl><dt><a href="EOModel.html#429">encodeTableOfContentsIntoPropertyList</a>
<dt><a href="EOModel.html#519">writeToFile</a>
</dl><dt>Loading a model's objects
<dl><dt><a href="EOModel.html#460">loadAllModelObjects</a>
</dl><dt>Working with entities
<dl><dt><a href="EOModel.html#414">addEntity</a>
<dt><a href="EOModel.html#480">removeEntity</a>
<dt><a href="EOModel.html#553">removeEntityAndReferences</a>
<dt><a href="EOModel.html#444">entityNames</a>
<dt><a href="EOModel.html#3973">entityNamed</a>
<dt><a href="EOModel.html#433">entities</a>
</dl><dt>Naming a model's components
<dl><dt><a href="EOModel.html#422">beautifyNames</a>
</dl><dt>Accessing the model's name
<dl><dt><a href="EOModel.html#498">setName</a>
<dt><a href="EOModel.html#468">name</a>
<dt><a href="EOModel.html#472">path</a>
</dl><dt>Checking references
<dl><dt><a href="EOModel.html#3267">referencesToProperty</a>
<dt><a href="EOModel.html#448">externalModelsReferenced</a>
</dl><dt>Getting an object's entity
<dl><dt><a href="EOModel.html#437">entityForObject</a>
</dl><dt>Accessing the adaptor bundle
<dl><dt><a href="EOModel.html#411">adaptorName</a>
<dt><a href="EOModel.html#487">setAdaptorName</a>
</dl><dt>Accessing the connection dictionary
<dl><dt><a href="EOModel.html#490">setConnectionDictionary</a>
<dt><a href="EOModel.html#426">connectionDictionary</a>
</dl><dt>Accessing the user dictionary
<dl><dt><a href="EOModel.html#501">setUserInfo</a>
<dt><a href="EOModel.html#516">userInfo</a>
</dl><dt>Working with stored procedures
<dl><dt><a href="EOModel.html#418">addStoredProcedure</a>
<dt><a href="EOModel.html#345">removeStoredProcedure</a>
<dt><a href="EOModel.html#508">storedProcedureNames</a>
<dt><a href="EOModel.html#504">storedProcedureNamed</a>
<dt><a href="EOModel.html#512">storedProcedures</a>
</dl><dt>Accessing the model's group
<dl><dt><a href="EOModel.html#493">setModelGroup</a>
<dt><a href="EOModel.html#464">modelGroup</a>
</dl></dl><a name="8849">
<hr width=50% align=left>
<h2>Constructors </h2>
</a><a name="8851">
<hr width=25% align=left>
<h3> EOModel</h3>
</a>public <code>EOModel</code>()<p>
Creates a new EOModel object. <p>public <code>EOModel</code>(java.lang.String <em>path</em>)<p>
Creates a new EOModel object by reading the contents of the file identified by <em>path</em> as a model archive. Sets the EOModel's name and path from the context of the model archive. Throws an exception if for any reason it cannot initialize the model from the file specified by <em>path</em>. <p>public <code>EOModel</code>(NSDictionary <em>tableOfContents</em>, java.lang.String <em>path</em>)<p>
Creates a new EOModel object from <em>tableOfContents, </em>which is the property list representation of a EOModel). Sets the EOModel's name and path using <em>path</em>.<p><B>See also: </B>  
<a href="EOModel.html#468"><code>name</code></a>, <a href="EOModel.html#472"><code>path</code></a>, <a href="EOModel.html#429"><code>encodeTableOfContentsIntoPropertyList</code></a>
<p><a name="410">
<hr width=50% align=left>
<h2>Instance Methods </h2>
</a><a name="411">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/adaptorName">adaptorName</a></h3>
</a>public java.lang.String <code>adaptorName</code>()<p>
Returns the name of the adaptor for the receiver. This name can be used with EOAdaptor's <a href="EOAdaptor.html#784"><code>adaptorWithName</code></a> static method to create an adaptor.<p>
<a name="414">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/addEntity">addEntity</a></h3>
</a>public void <code>addEntity</code>(EOEntity <em>anEntity</em>)<p>
Adds <em>anEntity</em> to the receiver. Throws an exception  if an error occurs (for example, if <em>anEntity</em> doesn't exist, if the entity belongs to another model, or if an entity of the same name is already in the receiver).<p>
<B>See also: </B>  
<a href="EOModel.html#433"><code>entities</code></a>, <a href="EOModel.html#480"><code>removeEntity</code></a>, <a href="EOModel.html#553"><code>removeEntityAndReferences</code></a>
<p><a name="418">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/addStoredProcedure">addStoredProcedure</a></h3>
</a>public void <code>addStoredProcedure</code>(EOStoredProcedure <em>storedProcedure</em>)<p>
Adds <em>storedProcedure</em> to the receiver. Throws an exception if an error occurs (for example, if a stored procedure of the same name is already in the receiver).<p>
<B>See also: </B>  
<a href="EOModel.html#345"><code>removeStoredProcedure</code></a>, <a href="EOModel.html#512"><code>storedProcedures</code></a>, <a href="EOModel.html#504"><code>storedProcedureNamed</code></a>
<p><a name="10419">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/availablePrototypeAttributeNames">availablePrototypeAttributeNames</a></h3>
</a>public NSArray <code>availablePrototypeAttributeNames</code>()<p>
Returns a list of available prototype names.<p>
<B>See also: </B>  
<a href="EOModel.html#10461"><code>prototypeAttributeNamed</code></a>
<p><a name="422">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/beautifyNames">beautifyNames</a></h3>
</a>public void <code>beautifyNames()</code><p>
<B>See also: </B>  
Makes all of the receiver's named components conform to a standard 
convention.<a href="EOEntity.html#14076"><code>nameForExternalName</code></a> (EOEntity), <code>beautifyName</code> (<a href="EOEntity.html#754">EOEntity</a>, <a href="EOAttribute.html#18132">EOAttribute</a>, 
<a href="EORelationship.html#490">EORelationship</a>, <a href="EOStoredProcedure.html#1844">EOStoredProcedure</a>), <a href="EOModel.html#468"><code>name</code></a>
<p><a name="426">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/connectionDictionary">connectionDictionary</a></h3>
</a>public NSDictionary <code>connectionDictionary</code>()<p>
Returns a dictionary containing information used to connect to the database server. The connection dictionary is the place to specify default login information for applications using the model. See the EOAdaptor class specification for more information.<p>
<a name="429">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/encodeTableOfContentsIntoPropertyList">encodeTableOfContentsIntoPropertyList</a></h3>
</a>public void <code>encodeTableOfContentsIntoPropertyList</code>(NSMutableDictionary <em>propertyList</em>)<p>
Encodes the receiver into <em>propertyList</em>. This method is used to get an ASCII representation of an EOModel in property list format.<p>
<B>See also: </B>  
<a href="EOModel.html#8849">"Constructors"</a>
<p><a name="433">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/entities">entities</a></h3>
</a>public NSArray <code>entities</code>()<p>
Returns an array containing the receiver's entities. Note that this method loads every entity, and thus defeats the benefits of incremental model loading.<p>
<B>See also: </B>  
<a href="EOModel.html#444"><code>entityNames</code></a>
<p><a name="437">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/entityForObject">entityForObject</a></h3>
</a>public EOEntity <code>entityForObject</code>(java.lang.Object <em>anEO</em>)<p>
Returns the entity associated with <em>anEO</em>, whether <em>anEO</em> is an instance of an enterprise object class, an instance of EOGenericRecord, or a fault object . Returns <code>null</code> if <em>anEO</em> has no associated entity.<p>
<a name="3973">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/entityNamed">entityNamed</a></h3>
</a>public EOEntity <code>entityNamed</code>(java.lang.String <em>name</em>)<p>
Returns the entity named <em>name</em>, or <code>null</code> if no such entity exists. Posts an EOEntityLoadedNotification when the entity is loaded.<p>
<B>See also: </B>  
<a href="EOModel.html#444"><code>entityNames</code></a>, <a href="EOModel.html#433"><code>entities</code></a>
<p><a name="444">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/entityNames">entityNames</a></h3>
</a>public NSArray <code>entityNames</code>()<p>
Returns an array containing the names of the EOModel's entities.<p>
<B>See also: </B>  
<a href="EOModel.html#433"><code>entities</code></a>, <a href="EOModel.html#3973"><code>entityNamed</code></a>
<p><a name="448">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/externalModelsReferenced">externalModelsReferenced</a></h3>
</a>public NSArray <code>externalModelsReferenced</code>()<p>
Returns an array containing those models that are referenced by this model.<p>
<B>See also: </B>  
<a href="EOModel.html#3267"><code>referencesToProperty</code></a>
<p><a name="460">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/loadAllModelObjects">loadAllModelObjects</a></h3>
</a>public void <code>loadAllModelObjects()</code><p>
Loads any of the receiver's entities, stored procedures, attributes, and relationships that have not yet been loaded.<p>
<B>See also: </B>  
<a href="EOEntity.html#746"><code>attributes</code></a> (EOEntity), <a href="EOModel.html#433"><code>entities</code></a>, <a href="EOEntity.html#866"><code>relationships</code></a> (EOEntity), <a href="EOModel.html#512"><code>storedProcedures</code></a>
<p><a name="464">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/modelGroup">modelGroup</a></h3>
</a>public EOModelGroup <code>modelGroup</code>()<p>
Returns the model group of which the receiver is a part.<p>
<B>See also: </B>  
<a href="EOModel.html#493"><code>setModelGroup</code></a>
<p><a name="468">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/name">name</a></h3>
</a>public java.lang.String <code>name</code>()<p>
Returns the receiver's name.<p>
<B>See also: </B>  
<a href="EOModel.html#472"><code>path</code></a>, <a href="EOModel.html#8849">"Constructors"</a>
<p><a name="472">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/path">path</a></h3>
</a>public java.lang.String <code>path</code>()<p>
Returns the name of the EOModel file used to create the receiver, or <code>null</code> if the model wasn't initialized from a file.<p>
<B>See also: </B>  
<a href="EOModel.html#468"><code>name</code></a>, <a href="EOModel.html#8849">"Constructors"</a>
<p><a name="10461">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/prototypeAttributeNamed">prototypeAttributeNamed</a></h3>
</a>public EOAttribute <code>prototypeAttributeNamed</code>(java.lang.String <em>attributeName</em>)<p>
Returns the prototype attribute for the given <em>attributeName</em>. <a href="EOModel.html#10461"><code>prototypeAttributeNamed</code></a> first looks for the prototype in EO<em>adaptorName</em>Prototypes. If the prototype isn't found there, it then looks in EOPrototypes. If the search is still unsuccessful, this method finally looks for the prototype in the list of prototypes provided by the adaptor itself.<p>
<B>See also: </B>  
<a href="EOModel.html#10419"><code>availablePrototypeAttributeNames</code></a>
<p><a name="3267">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/referencesToProperty">referencesToProperty</a></h3>
</a>public NSArray <code>referencesToProperty</code>(java.lang.Object <em>aProperty</em>)<p>
Returns an array of all properties in the receiver that reference <em>aProperty</em>, whether derived attributes, relationships that reference <em>aProperty</em>, and so on. Returns <code>null</code> if <em>aProperty</em> isn't referenced by any of the properties in the model.<p>
<B>See also: </B>  
<a href="EOModel.html#448"><code>externalModelsReferenced</code></a>
<p><a name="480">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/removeEntity">removeEntity</a></h3>
</a>public void <code>removeEntity</code>(EOEntity <em>name</em>)<p>
Removes the entity with the given <em>name</em> without performing any referential integrity checking.<p>
<B>See also: </B>  
<a href="EOModel.html#414"><code>addEntity</code></a><code>, <a href="EOModel.html#553">removeEntityAndReferences</a>
</code><p><a name="553">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/removeEntityAndReferences">removeEntityAndReferences</a></h3>
</a>public void <code>removeEntityAndReferences</code>(EOEntity <em>entity</em>)<p>
Removes <em>entity</em> and any attributes or relationships in other entities that reference entity.<p>
<B>See also: </B>  
<a href="EOModel.html#480"><code>removeEntity</code></a>, <a href="EOModel.html#414"><code>addEntity</code></a>
<p><a name="345">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/removeStoredProcedure">removeStoredProcedure</a></h3>
</a>public void <code>removeStoredProcedure</code>(EOStoredProcedure <em>aStoredProcedure</em>)<p>
Removes <em>aStoredProcedure</em> without checking to see if an entity uses it.<p>
<B>See also: </B>  
<a href="EOModel.html#418"><code>addStoredProcedure</code></a>, <code><a href="EOModel.html#512">storedProcedures</a>
</code><p><a name="487">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/setAdaptorName">setAdaptorName</a></h3>
</a>public void <code>setAdaptorName</code>(java.lang.String <em>adaptorName</em>)<p>
Sets the name of the receiver's adaptor to <em>adaptorName</em>.<p>
<B>See also: </B>  
<a href="EOAdaptor.html#4681"><code>availableAdaptorNames</code></a> (EOAdaptor)
<p><a name="490">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/setConnectionDictionary">setConnectionDictionary</a></h3>
</a>public void <code>setConnectionDictionary</code>(NSDictionary <em>connectionDictionary</em>)<p>
Sets the dictionary containing information used to connect to the database to <em>connectionDictionary</em>. See the <a href="EOAdaptor.html">EOAdaptor</a> class specification for more information on working with connection dictionaries.<p>
<B>See also: </B>  
<a href="EOAdaptor.html#4561"><code>adaptorWithModel</code></a> (EOAdaptor)
<p><a name="493">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/setModelGroup">setModelGroup</a></h3>
</a>public void <code>setModelGroup</code>(EOModelGroup <em>aModelGroup</em>)<p>
Sets the model group of which the receiver should be a part. <p>
<B>Note:	</B>
You shouldn't change an EOModel's model group after it has been bound to other models in its 
group.
<p><B>See also: </B>  
<a href="EOModel.html#464"><code>modelGroup</code></a>
<p><a name="498">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/setName">setName</a></h3>
</a>public void <code>setName</code>(java.lang.String <em>name</em>)<p>
Sets the name of the receiver to <em>name</em>.<p>
<a name="501">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/setUserInfo">setUserInfo</a></h3>
</a>public void <code>setUserInfo</code>(NSDictionary <em>dictionary</em>)<p>
Sets the <em>dictionary</em> of auxiliary data, which your application can use for whatever it needs. <em>dictionary</em> can only contain property list data types-that is, String, NSDictionary, NSArray, and NSData.<p>
<a name="504">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/storedProcedureNamed">storedProcedureNamed</a></h3>
</a>public EOStoredProcedure <code>storedProcedureNamed</code>(java.lang.String <em>name</em>)<p>
Returns the stored procedure named <em>name</em>, or <code>null</code> if the model doesn't contain a stored procedure with the given name.<p>
<B>See also: </B>  
<a href="EOModel.html#508"><code>storedProcedureNames</code></a>, <a href="EOModel.html#512"><code>storedProcedures</code></a>
<p><a name="508">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/storedProcedureNames">storedProcedureNames</a></h3>
</a>public NSArray <code>storedProcedureNames</code>()<p>
Returns an array containing the names of all of the model's stored procedures.<p>
<B>See also: </B>  
<a href="EOModel.html#504"><code>storedProcedureNamed</code></a>, <a href="EOModel.html#512"><code>storedProcedures</code></a>
<p><a name="512">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/storedProcedures">storedProcedures</a></h3>
</a>public NSArray <code>storedProcedures</code>()<p>
Returns an array containing all of the model's stored procedures. Note that this method loads each of the model's stored procedures, thus defeating the benefits of incremental model loading.<p>
<B>See also: </B>  
<a href="EOModel.html#508"><code>storedProcedureNames</code></a>, <a href="EOModel.html#504"><code>storedProcedureNamed</code></a>
<p><a name="516">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/userInfo">userInfo</a></h3>
</a>public NSDictionary <code>userInfo</code>()<p>
Returns a dictionary of user data. You can use this to store any auxiliary information it needs.<p>
<B>See also: </B>  
<a href="EOModel.html#501"><code>setUserInfo</code></a>
<p><a name="519">
<hr width=25% align=left>
<h3> <a name="//apple_ref/java/instm/EOModel/writeToFile">writeToFile</a></h3>
</a>public void <code>writeToFile</code>(java.lang.String <em>path</em>)<p>
Saves the receiver in the directory specified by <em>path</em>. If the file specified by path already exists, a backup copy is first created (using path with a "~" character appended). As a side-effect, this method resets the current path. <p>
<code>writeToFile:</code> throws an exception on any error which prevents the file from being written.<p>
<B>See also: </B>  
<a href="EOModel.html#472"><code>path</code></a>
<p><HR WIDTH=50% ALIGN=LEFT>
<h1>Notifications</h1>  
 

EOModel declares and posts the following notification.<p>
<a name="526">
<hr width=25% align=left>
<h3> <a name="//apple_ref/c/data/EntityLoadedNotification">EntityLoadedNotification</a></h3>
</a>Posted after an EOEntity is loaded into memory. The notification contains:<p>
<Table Border="3">
<caption></caption>
<tr><td scope="row">Notification Object
</td><td>The entity that was loaded.
</td></tr>
<tr><td scope="row">Userinfo
</td><td>None
</td></tr>

</Table>

<Table>
<tr><td>
</Table>
<p>
<dl><dt>
</dl>
<hr><br>
<a href="EOLoginPanel.html"><img src="../../../../../../../../../../images/previous.gif" border="0"></a> 
<a href="More/LoadingAModelFile.html"><img src="../../../../../../../../../../images/next.gif" border="0"></a> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>
<hr><br>
 


<i>Copyright &#169; 1998, Apple Computer, Inc.   All rights
reserved.</i>

<!-- Last updated: 09/15/98 18:19:17 -->

</body>
</html>
