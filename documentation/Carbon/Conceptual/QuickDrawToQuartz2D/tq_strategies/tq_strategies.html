<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Quartz Programming Guide for QuickDraw Developers: Strategies</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Strategies"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001098-CH202" title="Strategies"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000420" target="_top">Carbon</a> &gt; <a href="../../../GraphicsImaging-date.html#//apple_ref/doc/uid/TP30000440-TP30000420-TP30000450" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../tq_intro/tq_intro.html#//apple_ref/doc/uid/TP40001098-CH201-TPXREF101">Quartz Programming Guide for QuickDraw Developers</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../tq_intro/tq_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tq_other/tq_other.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40001098-CH202-TPXREF101" title="Strategies"></a><h1>Strategies</h1><p>The QuickDraw to Quartz imaging models are different enough that rewriting your application so that is uses only Quartz is not trivial. Your hard work will be worthwhile. Making the transition opens a world of possibilities for tasks that you can perform with Quartz but could not dream of accomplishing with QuickDraw. Just as QuickDraw was revolutionary in its time, Quartz is today. In Mac OS X v10.4, Quartz introduces a wealth of new features that makes the switchover even more compelling. Quartz has many more convenience functions, improved performance, and a lot of new documentation. What’s more, Quartz is fully integrated with other Mac OS X v10.4 technologies, such as Core Image, which makes image processing a snap. There is no better time than now to roll up your sleeves and get to work removing that old QuickDraw code!</p><p>This chapter provides overall strategies for revising your code to use only Quartz, while the remaining chapters in the book show how to accomplish specific tasks using Quartz. Where appropriate, the strategies in this chapter cross-reference specific tasks so you can get ideas (and perhaps some code) for how to modify your own application.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="tq_strategies.html#//apple_ref/doc/uid/TP40001098-CH202-DontLinkElementID_24">Before You Start</a>
				
			<br/>
			
        
			
			
				<a href="tq_strategies.html#//apple_ref/doc/uid/TP40001098-CH202-DontLinkElementID_25">Analyze Your Code</a>
				
			<br/>
			
        
			
			
				<a href="tq_strategies.html#//apple_ref/doc/uid/TP40001098-CH202-DontLinkElementID_26">General Strategies</a>
				
			<br/>
			
        
			
			
				<a href="tq_strategies.html#//apple_ref/doc/uid/TP40001098-CH202-BBCEIGAH">Regions Replacement Strategies</a>
				
			<br/>
			
        
			
			
				<a href="tq_strategies.html#//apple_ref/doc/uid/TP40001098-CH202-BBCCBFHC">CopyBits Replacement Strategies</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP40001098-CH202-DontLinkElementID_24" title="Before You Start"></a><h2>Before You Start</h2><p>Make sure you are using a development environment that supports Quartz, such as Xcode.</p><p>Gather up the latest Quartz documentation so that it is readily accessible to you.</p><ul class="ul"><li class="li"><p><em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>. If you haven’t read this document yet, at least read the overview and the table of contents so that you know what’s covered in the book. Take a quick scan through the book.</p></li><li class="li"><p><em><a href="../../../../GraphicsImaging/Reference/Quartz2D_Collection/index.html#//apple_ref/doc/uid/TP40003853" target="_top">Quartz 2D Reference Collection</a></em>. You’ll need to look up function definitions as you start rewriting your code.</p></li></ul><p>Locate the Carbon Sketch application and familiarize yourself with the code and what the application does. By looking at the code, you can get ideas on how to rearchitect your application to use only Quartz for drawing. You can find Carbon Sketch on the ADC Reference Library site:</p><p><span class="content_text"><a href="../../../../../samplecode/GraphicsImaging/idxQuartz-title.html" target="_top">http://developer.apple.com/samplecode/GraphicsImaging/idxQuartz-title.html#doclist</a></span></p><p>The application performs many tasks needed in a drawing application. For example, it:</p><ul class="ul"><li class="li"><p>Draws all artwork using Quartz</p></li><li class="li"><p>Uses an overlay window to handle selection, dragging, and resizing objects</p></li><li class="li"><p>Performs hit testing using a 1-pixel bitmap context</p></li><li class="li"><p>Copy and pastes PDF data using the PasteBoard API</p></li><li class="li"><p>Uses Quartz Generic color spaces</p></li></ul><a name="//apple_ref/doc/uid/TP40001098-CH202-DontLinkElementID_25" title="Analyze Your Code"></a><h2>Analyze Your Code</h2><p>Analyze your QuickDraw code so that you can understand what needs to change. Then develop a plan before you start reworking your code. Keep in mind that many things have changed in Mac OS X, and especially in Mac OS X v10.4. Technologies other than QuickDraw are deprecated in Mac OS X v10.4, including QuickDraw Text, Display Manager, and Draw Sprockets.</p><p>If, after analyzing your code, you plan to stick with the C APIs in the Carbon framework, you may want to use HIView along with Quartz. The HIToolbox offers many technologies that are complementary to Quartz (such as HIShape) and that will ensure that your application is updated for the 21st century.</p><p>If you decide to completely rewrite your application in all respects, you might want to think about moving to Cocoa. You can use the Quartz API in any framework outside of the kernel. When you use Cocoa, you can call Quartz directly and you can also use Cocoa drawing methods, which are built on top of Quartz.</p><p>As you analyze your code, take a careful look at how you use QuickDraw. Sometimes you’ll find that Quartz provides functional equivalents for your QuickDraw code, but more often than not you’ll need to think differently. Your application will benefit most if you can think beyond QuickDraw. That is, don’t just look for ways to accomplish the same task in Quartz. Take some time to think about how your application currently works and how you might be able to leverage the new capabilities that Mac OS X provides to improve the user experience of your application, not just maintain parity with your QuickDraw version.</p><a name="//apple_ref/doc/uid/TP40001098-CH202-DontLinkElementID_26" title="General Strategies"></a><h2>General Strategies</h2><p>The following strategies are useful for revising QuickDraw applications to use Quartz:</p><ol class="ol"><li class="li"><p>Think differently, especially for those items that don’t have equivalent functionality in Quartz—such as arithmetic transfer modes, <code>SeedCFill</code>, <code>SearchProcs</code>—but that you still need to find a substitute for.</p></li><li class="li"><p>Focus on functionality, not functions. The approach of translating QuickDraw idioms into Quartz won’t work in most cases, especially for calls to <code><a href="../../../Reference/QuickDraw_Ref/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CopyBits" target="_top">CopyBits</a></code> and the regions functions.</p></li><li class="li"><p>Analyze your use of regions to see what functionality each use provides. Then revise the code accordingly. You may have used regions for a variety of purposes; you’ll find alternative strategies throughout this guide. See <span class="content_text"><a href="tq_strategies.html#//apple_ref/doc/uid/TP40001098-CH202-BBCEIGAH">“Regions Replacement Strategies.”</a></span></p></li><li class="li"><p>Analyze your <code><a href="../../../Reference/QuickDraw_Ref/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CopyBits" target="_top">CopyBits</a></code> calls to see what functionality each call provides. Then revise the code accordingly. You probably used <code><a href="../../../Reference/QuickDraw_Ref/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CopyBits" target="_top">CopyBits</a></code> and related functions to achieve a number of tasks in QuickDraw; you’ll find alternative strategies throughout this guide. See <span class="content_text"><a href="tq_strategies.html#//apple_ref/doc/uid/TP40001098-CH202-BBCCBFHC">“CopyBits Replacement Strategies.”</a></span></p></li><li class="li"><p>Account for differences between the QuickDraw and Quartz coordinate systems. If you use HIView along with Quartz, make sure you are familiar with how HIView handles coordinates. See <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBHEACI">“Coordinate Space.”</a></span></p></li><li class="li"><p>Use alpha. It’s fully supported in Quartz. See <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_color/dq_color.html#//apple_ref/doc/uid/TP30001066-CH205-TPXREF119" target="_top">The Alpha Value</a></span> in <em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></li><li class="li"><p>Convert PICT data to PDF and provide conversion support in your application to handle legacy PICT files that your users may need to open. See <span class="content_text"><a href="../tq_moving_data/tq_moving_data.html#//apple_ref/doc/uid/TP40001098-CH221-TPXREF101">“Converting PICT Data.”</a></span></p></li><li class="li"><p>Support PDF data for Copy and Paste actions. Only PDF content fully captures Quartz drawing, and you’ll want to ensure fidelity of content. See <span class="content_text"><a href="../tq_moving_data/tq_moving_data.html#//apple_ref/doc/uid/TP40001098-CH221-TPXREF101">“Converting PICT Data.”</a></span></p></li><li class="li"><p>Save and restore graphics states appropriately. See <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBJHAFE">“Graphics State and Global Effects.”</a></span></p></li><li class="li"><p>Revise your hit testing code. See <span class="content_text"><a href="../tq_hit_test/tq_hit_test.html#//apple_ref/doc/uid/TP40001098-CH229-TPXREF101">“Hit Testing.”</a></span></p></li><li class="li"><p>Think device independence and resolution independence. See <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBFFFEC">“Drawing Destinations.”</a></span></p></li><li class="li"><p>Identify the shortcomings of your QuickDraw application to see where you can use new features of Quartz to improve your application.</p></li><li class="li"><p>Remove code that compensates for QuickDraw shortcomings. For example, XOR drawing isn’t needed by most applications that use Quartz. The <code>GrafProcs</code> bottleneck tricks simply don’t apply in Quartz. </p></li><li class="li"><p>Optimize your code to ensure that your application performs at its best. See <span class="content_text"><a href="../tq_perf/tq_perf.html#//apple_ref/doc/uid/TP40001098-CH230-TPXREF101">“Performance.”</a></span></p></li></ol><a name="//apple_ref/doc/uid/TP40001098-CH202-BBCEIGAH" title="Regions Replacement Strategies"></a><h2>Regions Replacement Strategies</h2><p>Regions served many purposes in QuickDraw. You’ll want to analyze your code to see what purpose each use of regions serves.</p><p>If you use QuickDraw regions for:</p><ul class="ul"><li class="li"><p>Drawing shapes, then instead use paths to construct arbitrary shapes and use Quartz convenience functions to draw rectangles, circles, ovals, ellipses, and lines. See <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBICDJJ">“Alternatives to QuickDraw Drawing Functions”</a></span> and <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBFDFGA">“Constructing and Drawing Shapes.”</a></span> In Quartz, you can draw directly to a destination, or you can use the <code><a href="../../../../GraphicsImaging/Reference/CGPath/Reference/reference.html#//apple_ref/c/tdef/CGPathRef" target="_top">CGPathRef</a></code> data type to build up a complex shape that you draw later and reuse anytime you’d like.</p></li><li class="li"><p>Clipping regions, consider one of the Quartz context clipping functions, such as <code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextClip" target="_top">CGContextClip</a></code> or <code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextClipToMask" target="_top">CGContextClipToMask</a></code>. See<span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBCFBID">“Clipping.”</a></span></p></li><li class="li"><p>Hit test, then use paths or a 1x1 bitmap graphics context. See <span class="content_text"><a href="../tq_hit_test/tq_hit_test.html#//apple_ref/doc/uid/TP40001098-CH229-TPXREF101">“Hit Testing.”</a></span></p></li><li class="li"><p>Masking, then there are a number of approaches you can take, depending on what you want to accomplish. Consider the Quartz function <code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextClipToMask" target="_top">CGContextClipToMask</a></code>, take a look at what you can accomplish with blend modes, and for images, consider <code><a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/c/func/CGImageMaskCreate" target="_top">CGImageMaskCreate</a></code>, <code><a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/c/func/CGImageCreateWithMask" target="_top">CGImageCreateWithMask</a></code>, and <code><a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/c/func/CGImageCreateWithMaskingColors" target="_top">CGImageCreateWithMaskingColors</a></code>. See <span class="content_text"><a href="../tq_masks/tq_masks.html#//apple_ref/doc/uid/TP40001098-CH228-TPXREF101">“Masking”</a></span> and <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBGGEED">“Color Blend Modes.”</a></span></p></li></ul><p>If you want to:</p><ul class="ul"><li class="li"><p>Create a <code>RgnHandle</code>, consider using an HIShape object, which is an abstract shape object that replaces the old QuickDraw region handle. HIShape objects are the preferred way to describe regions in HIView views that use Quartz. See <em><a href="../../../Reference/HIShape_Reference/index.html#//apple_ref/doc/uid/TP40001170" target="_top">HIShape Reference</a></em>. If you are not using HIView, take a look at CGPath objects (<code><a href="../../../../GraphicsImaging/Reference/CGPath/Reference/reference.html#//apple_ref/c/tdef/CGPathRef" target="_top">CGPathRef</a></code> data type), which you can use to draw reusable shapes. See <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBFDFGA">“Constructing and Drawing Shapes.”</a></span></p></li><li class="li"><p>Update a region shape, see <span class="content_text"><a href="../tq_regions/tq_regions.html#//apple_ref/doc/uid/TP40001098-CH222-TPXREF101">“Updating Regions.”</a></span></p></li></ul><a name="//apple_ref/doc/uid/TP40001098-CH202-BBCCBFHC" title="CopyBits Replacement Strategies"></a><h2>CopyBits Replacement Strategies</h2><p>Many years of development and optimization made the QuickDraw function <code><a href="../../../Reference/QuickDraw_Ref/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CopyBits" target="_top">CopyBits</a></code> an exceptionally fast, general-purpose blitter. QuickDraw is based on bitmap graphics, and <code><a href="../../../Reference/QuickDraw_Ref/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/doc/c_ref/CopyBits" target="_top">CopyBits</a></code> makes perfect sense in that environment. The Quartz imaging model does not provide for pixel drawing operations or bit copying functionality. The fact that Quartz is not based on bits gives rise to its many cool features, including its ability to maintain device and resolution independence. Quartz does have the capability for you to draw bits, should you need to do so, but most of the time you’ll want to adopt strategies for replacing <code>CopyBits</code>, <code>CopyMask</code>, and <code>CopyDeepMask</code>—strategies that leverage Quartz rather than seek parity with QuickDraw.</p><p>The functions <code>CopyBits</code>, <code>CopyMask</code>, and <code>CopyDeepMask</code> were used to achieve so many results in QuickDraw that you’ll want to read all the replacement strategies before you decide which course of action to take. If you use the QuickDraw functions <code>CopyBits</code>, <code>CopyMask</code>, or <code>CopyDeepMask</code> for:</p><ul class="ul"><li class="li"><p>Moving bits from a GWorld to the screen. See <span class="content_text"><a href="../tq_image_data/tq_image_data.html#//apple_ref/doc/uid/TP40001098-CH227-TPXREF101">“Working With Bitmap Image Data”</a></span> and <span class="content_text"><a href="../tq_copybits/tq_copybits.html#//apple_ref/doc/uid/TP40001098-CH223-TPXREF101">“Offscreen Drawing.”</a></span></p></li><li class="li"><p>Offscreen drawing, check out the <code><a href="../../../../GraphicsImaging/Reference/CGLayer/Reference/reference.html#//apple_ref/c/tdef/CGLayerRef" target="_top">CGLayerRef</a></code> data type and how to use it with the function <code><a href="../../../../GraphicsImaging/Reference/CGLayer/Reference/reference.html#//apple_ref/c/func/CGLayerCreateWithContext" target="_top">CGLayerCreateWithContext</a></code>. You might also investigate <code><a href="../../../Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HIViewCreateOffscreenImage" target="_top">HIViewCreateOffscreenImage</a></code>. See <span class="content_text"><a href="../tq_copybits/tq_copybits.html#//apple_ref/doc/uid/TP40001098-CH223-BBCCAHAC">“Using a CGLayer Object for Offscreen Drawing.”</a></span></p></li><li class="li"><p>Fast scrolling, consider using HIView to create a scrolling view (see the function <code><a href="../../../Reference/HIViewReference/Reference/reference.html#//apple_ref/c/func/HIScrollViewCreate" target="_top">HIScrollViewCreate</a></code>). See <em><a href="../../HIViewDoc/index.html#//apple_ref/doc/uid/TP30000923" target="_top">HIView Programming Guide</a></em> and <em><a href="../../../Reference/HIViewReference/index.html#//apple_ref/doc/uid/TP30000785" target="_top">HIView Reference</a></em> for more information.</p></li><li class="li"><p>Image animation, use overlay windows. See <span class="content_text"><a href="../tq_regions/tq_regions.html#//apple_ref/doc/uid/TP40001098-CH222-CJBDHEFD">“Using Overlay Windows.”</a></span></p></li><li class="li"><p>Highlighting portions of an image, use overlay windows. See <span class="content_text"><a href="../tq_regions/tq_regions.html#//apple_ref/doc/uid/TP40001098-CH222-TPXREF101">“Updating Regions.”</a></span></p></li><li class="li"><p>Converting from one pixel depth to another, then eliminate code that changes pixel depth. Modern hardware has plenty of memory and rendering horsepower, and there is no longer any motivation to reduce image depth.</p></li><li class="li"><p>Scaling or resizing an image, you can instead use the Quartz function <code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextDrawImage" target="_top">CGContextDrawImage</a></code> and then adjust the destination rectangle to get the desired scaling.</p></li><li class="li"><p>Clipping or cropping an image, consider the Quartz functions <code><a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/c/func/CGImageCreateWithImageInRect" target="_top">CGImageCreateWithImageInRect</a></code>, <code><a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/c/func/CGImageCreateWithMask" target="_top">CGImageCreateWithMask</a></code>, and <code><a href="../../../../GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextClipToMask" target="_top">CGContextClipToMask</a></code>. You can create thumbnail images in Quartz using the function <code><a href="../../../../GraphicsImaging/Reference/CGImageSource/Reference/reference.html#//apple_ref/c/func/CGImageSourceCreateThumbnailAtIndex" target="_top">CGImageSourceCreateThumbnailAtIndex</a></code>. All four functions are introduced in Mac OS X v10.4. See <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_images/dq_images.html#//apple_ref/doc/uid/TP30001066-CH212-CJBBGCII" target="_top">Creating Images</a></span> in <em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></li><li class="li"><p>Color blending using transfer modes, consider using blend modes in Quartz. See <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBGGEED">“Color Blend Modes,”</a></span> which allows blending shapes using translucent color. In <em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>, see <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_paths/dq_paths.html#//apple_ref/doc/uid/TP30001066-CH211-BCIGICEF" target="_top">Setting Blend Modes</a></span> and <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_images/dq_images.html#//apple_ref/doc/uid/TP30001066-CH212-CJBIJEFG" target="_top">Using Blend Modes With Images</a></span>.</p><p>Quartz doesn’t have an functions that operate on a per-pixel basis, but Core Image does. If you want to perform image processing on a per pixel basis, you can convert a Quartz image to a Core Image image, perform the operation, and pass the processed image back to Quartz. See <em><a href="../../../../GraphicsImaging/Conceptual/CoreImaging/index.html#//apple_ref/doc/uid/TP30001185" target="_top">Core Image Programming Guide</a></em> and <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_data_mgr/dq_data_mgr.html#//apple_ref/doc/uid/TP30001066-CH216-BAJHEBHE" target="_top">Moving Data Between Quartz 2D and Core Image</a></span> in <em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></li><li class="li"><p>Creating transparency effects, then use the alpha channel to specify the translucency of a color. See <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_color/dq_color.html#//apple_ref/doc/uid/TP30001066-CH205-TPXREF119" target="_top">The Alpha Value</a></span> in <em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></li><li class="li"><p>Creating image masks, consider using <code><a href="../../../../GraphicsImaging/Reference/CGImage/Reference/reference.html#//apple_ref/c/func/CGImageMaskCreate" target="_top">CGImageMaskCreate</a></code>. See <span class="content_text"><a href="../tq_masks/tq_masks.html#//apple_ref/doc/uid/TP40001098-CH228-TPXREF101">“Masking.”</a></span></p></li><li class="li"><p>Storing and retrieving images, then use the Quartz image-source and image-destination functions. These handle the common image file formats in use today, including JPEG, PNG, TIFF, JPEG2000. See <em><a href="../../../../GraphicsImaging/Reference/CGImageSource/index.html#//apple_ref/doc/uid/TP40001399" target="_top">CGImageSource Reference</a></em>, <em><a href="../../../../GraphicsImaging/Reference/CGImageDestination/index.html#//apple_ref/doc/uid/TP40001400" target="_top">CGImageDestination Reference</a></em>, and <span class="content_text"><!--a target="_top" -->Data Management<!--/a--></span> in <em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>.</p></li><li class="li"><p>Inverting colors, consider using the exclusion or difference blend modes. In <em><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/index.html#//apple_ref/doc/uid/TP30001066" target="_top">Quartz 2D Programming Guide</a></em>, see <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_paths/dq_paths.html#//apple_ref/doc/uid/TP30001066-CH211-BCIGICEF" target="_top">Setting Blend Modes</a></span> and <span class="content_text"><a href="../../../../GraphicsImaging/Conceptual/drawingwithquartz2d/dq_images/dq_images.html#//apple_ref/doc/uid/TP30001066-CH212-CJBIJEFG" target="_top">Using Blend Modes With Images</a></span>. </p></li><li class="li"><p>Colorizing an image, consider using blend modes. See <span class="content_text"><a href="../tq_other/tq_other.html#//apple_ref/doc/uid/TP40001098-CH220-CJBCCEDC">“Colorizing an Image.”</a></span></p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../tq_intro/tq_intro.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tq_other/tq_other.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2004, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-09-05<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Carbon/Conceptual/QuickDrawToQuartz2D/tq_strategies/tq_strategies.html%3Fid%3DTP40001098-5.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Carbon/Conceptual/QuickDrawToQuartz2D/tq_strategies/tq_strategies.html%3Fid%3DTP40001098-5.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Carbon/Conceptual/QuickDrawToQuartz2D/tq_strategies/tq_strategies.html%3Fid%3DTP40001098-5.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>