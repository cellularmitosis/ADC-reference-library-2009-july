<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Drawing Icons That Are Not Part of an Icon Family (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING274></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-273.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-275.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-269.html"><B>Chapter 5 - Icon Utilities</B></A> / <A HREF="MoreToolbox-272.html"><B>Using the Icon Utilities</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING274-0></A>
<H2><A NAME=MARKER-9-111></A>Drawing Icons That Are Not Part of an Icon Family</H2>
 <A NAME=MARKER-2-321></A>To draw icons of resource type <CODE>'ICON'</CODE> or <CODE>'cicn'</CODE> in menus and dialog boxes, you can use the Menu Manager and Dialog Manager as described in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>. You can also use Menu Manager routines to draw resources of type <CODE>'SICN'</CODE>. <A NAME=MARKER-2-122></A> <A NAME=MARKER-9-93></A> <A NAME=MARKER-2-115></A><A NAME=MARKER-2-116></A><A NAME=MARKER-2-356></A><P>
 To draw resources of resource type <CODE>'ICON'</CODE>, <CODE>'cicn'</CODE>, or <CODE>'SICN'</CODE> in your application's windows, you can use these routines:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Resource type<TH>Routines<TR>
<TD>'ICON'<TD>PlotIconHandle <BR>PlotIcon<TR>
<TD>'cicn'<TD>PlotCIconHandle<BR>PlotCIcon<TR>
<TD>'SICN'<TD>PlotSICNHandle</TABLE>
<P>
 The routines in this list that end in <CODE>Handle</CODE> allow you to specify alignment and transforms for the icons. You are responsible for disposing of the handle you pass to any of these routines. <P>
<DL>
<DT><B>Note</B>
<DD>Unlike <CODE>PlotCIcon</CODE>, <CODE>PlotCIconHandle</CODE> doesn't honor the current foreground and background colors.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 The listings that follow provide examples of how to draw each of the three icon resource types that are not part of an icon family.<P>
 <A HREF=#MARKER-9-118>Listing 5-5</A> shows how to use <CODE>PlotIcon</CODE> to draw an icon of resource type <CODE>'ICON'</CODE> without specifying alignment or transforms. The application-defined procedure <CODE>MyPlotAnICON</CODE> uses <CODE>GetIcon</CODE> to get a handle to the data for the desired icon and then passes the destination rectangle and the handle to <CODE>PlotIcon</CODE>.<P>
<B>Listing 5-5  <A NAME=MARKER-9-118></A>Drawing an icon of resource type <CODE>'ICON'<A NAME=MARKER-2-123></A></CODE></B><P>
<PRE>
PROCEDURE MyPlotAnICON (resID: Integer; destRect: Rect; 
                        VAR myIcon: Handle);
BEGIN
   myIcon := GetIcon(resID);
   PlotIcon(destRect, myIcon);
END; 
</PRE>
<DL>
<DT><B>IMPORTANT</B>
<DD>When you are finished using a handle obtained from <CODE>GetIcon</CODE>, use the <CODE>ReleaseResource</CODE> procedure to release the memory occupied by the icon resource data; for more information about <CODE>ReleaseResource</CODE>, see the chapter "Resource Manager" in this book.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 <A HREF=#MARKER-9-120>Listing 5-6</A> shows how to use <CODE>PlotIconHandle</CODE> to draw an icon of resource type <CODE>'ICON'</CODE> with a specific alignment and transform. The application-defined procedure <CODE>MyPlotAnICONWithAlignAndTransform</CODE> uses <CODE>GetIcon</CODE> to get a handle to the data for the desired icon and then passes the destination rectangle, alignment, transform, and handle to <CODE>PlotIconHandle</CODE>.<P>
<B>Listing 5-6  <A NAME=MARKER-9-120></A>Drawing an icon of resource type <CODE>'ICON'</CODE> with a specific alignment and transform <A NAME=MARKER-2-74></A></B><P>
<PRE>
PROCEDURE MyPlotAnICONWithAlignAndTransform 
              (resID: Integer; destRect: Rect; 
               align: IconAlignmentType; 
               transform: IconTransformType; VAR myIcon: Handle);
VAR 
   myErr: OSErr;
BEGIN
   myIcon := GetIcon(resID);
   myErr := PlotIconHandle(destRect, align, transform, myIcon);
END;
</PRE>
 For the <CODE>PlotIconHandle</CODE> function in <A HREF=#MARKER-9-120>Listing 5-6</A> to draw the icon without <BR>stretching it, the destination rectangle passed in the <CODE>destRect</CODE> parameter of <CODE>MyPlotAnICONWithAlignAndTransform</CODE> must be exactly 32 by 32 pixels. If the destination rectangle is not 32 by 32 pixels, <CODE>PlotIconHandle</CODE> expands or shrinks the icon to fit.<A NAME=MARKER-2-224></A><P>
 <A HREF=#MARKER-9-123>Listing 5-7</A> shows how to use <CODE>PlotCIcon</CODE> to draw an icon of resource type <CODE>'cicn'</CODE> without specifying alignment or transform. The <CODE>MyPlotAcicn</CODE> procedure uses <CODE>GetCIcon</CODE> to get a handle to the color icon record of the desired icon and then passes the destination rectangle and handle to <CODE>PlotCIcon</CODE>.<P>
<B>Listing 5-7  <A NAME=MARKER-9-123></A>Drawing an icon of resource type <CODE>'cicn'<A NAME=MARKER-2-124></A></CODE></B><P>
<PRE>
PROCEDURE MyPlotAcicn (resID: Integer; destRect: Rect;
                       VAR myCicnIcon: CIconHandle);
BEGIN
   myCicnIcon := GetCIcon(resID);
   PlotCIcon(destRect, myCicnIcon);
END;
</PRE>
 <A HREF=#MARKER-9-125>Listing 5-8</A> shows how to use <CODE>PlotCIconHandle</CODE> to draw an icon of resource type <CODE>'cicn'</CODE> with a specific alignment and transform. <A HREF=#MARKER-9-125>Listing 5-8</A> uses <CODE>GetCIcon</CODE> to get a handle to the color icon record of the desired icon and then passes the destination rectangle, alignment, transform, and handle to <CODE>PlotCIconHandle</CODE>.<P>
<B>Listing 5-8  <A NAME=MARKER-9-125></A>Drawing an icon of resource type <CODE>'cicn'</CODE> with a specific alignment and transform<A NAME=MARKER-2-318></A></B><P>
<PRE>
PROCEDURE MyPlotAcicnWithAlignAndTransform 
              (resID: Integer; destRect: Rect; 
               align: IconAlignmentType; 
               transform: IconTransformType; 
               VAR myCicnIcon: CIconHandle);
VAR 
   myErr: OSErr;
BEGIN
   myCicnIcon := GetCIcon(resID);
   myErr := PlotCIconHandle(destRect, align, transform,
                            myCicnIcon);
END;
</PRE>
 <A HREF=#MARKER-9-128>Listing 5-9</A> shows how to use <CODE>PlotSICNHandle</CODE> to draw an icon of resource type <CODE>'SICN'</CODE> with a specific alignment and transform. The application-defined procedure <CODE>MyPlotAnSICNWithAlignAndTransform</CODE> uses <CODE>GetResource</CODE> to get a handle to the data for the desired icon and then passes the destination rectangle, alignment, transform, and handle to <CODE>PlotSICNHandle</CODE>.<A NAME=MARKER-2-92></A><P>
<B>Listing 5-9  <A NAME=MARKER-9-128></A>Drawing an icon of resource type <CODE>'SICN'</CODE> with a specific alignment and transform <A NAME=MARKER-9-11></A></B><P>
<PRE>
PROCEDURE MyPlotAnSICNWithAlignAndTransform 
              (resID: Integer; destRect: Rect; 
               align: IconAlignmentType; 
               transform: IconTransformType; VAR myIcon: Handle);
VAR 
   myErr: OSErr;
BEGIN
   myIcon := GetResource('SICN', resID);
   myErr := PlotSICNHandle(destRect, align, transform, myIcon);
END;
</PRE>
 For the <CODE>PlotSICNHandle</CODE> function in <A HREF=#MARKER-9-128>Listing 5-9</A> to draw the icon without <BR>stretching it, the destination rectangle passed in the <CODE>destRect</CODE> parameter of <CODE>MyPlotAnSICNWithAlignAndTransform</CODE> must be exactly 16 by 16 pixels. If the destination rectangle is not this size, <CODE>PlotSICNHandle</CODE> expands or shrinks the <BR>icon to fit. <A NAME=MARKER-2-115></A> <A NAME=MARKER-2-21></A> <A NAME=MARKER-2-119></A> <A NAME=MARKER-2-198></A><A NAME=MARKER-2-257></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-273.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-275.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
