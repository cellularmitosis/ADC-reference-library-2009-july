<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>NSKeyedArchiver Class Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="NSKeyedArchiver Class Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000837" title="NSKeyedArchiver"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/Cocoa/index.html#//apple_ref/doc/uid/TP30001281-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../../../../reference/Cocoa/idxDataManagement-date.html#//apple_ref/doc/uid/TP30001281-TP30000416-TP30000445" target="_top">Data Management</a> &gt; <a href="../index.html" target="_top">NSKeyedArchiver Class Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/cl/NSKeyedArchiver" title="NSKeyedArchiver"></a><a name="//apple_ref/doc/c_ref/NSKeyedArchiver" title="NSKeyedArchiver"></a><a name="//apple_ref/doc/uid/20000837-BCIIDGBI" title="NSKeyedArchiver"></a><h1>NSKeyedArchiver Class Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Inherits from</span></strong></td><td><div style="margin-bottom:1px"><a href="../../NSCoder_Class/Reference/NSCoder.html#//apple_ref/occ/cl/NSCoder" target="_top">NSCoder</a> : <a href="../../NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject" target="_top">NSObject</a></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Conforms to</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intf/NSObject" target="_top">NSObject (NSObject)</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/<a href="../../../ObjC_classic/index.html#//apple_ref/doc/uid/20001091" target="_top">Foundation.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Available in Mac OS X v10.2 and later.</div></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guide</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../Conceptual/Archiving/index.html#//apple_ref/doc/uid/10000047i" target="_top">Archives and Serializations Programming Guide for Cocoa</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">NSKeyedArchiver.h</span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Related sample code</span></strong></td><td><div style="margin-bottom:1px"><div><span class="content_text"><a href="../../../../../../../samplecode/CoreRecipes/index.html#//apple_ref/doc/uid/DTS10003664" target="_top">CoreRecipes</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/CustomAtomicStoreSubclass/index.html#//apple_ref/doc/uid/DTS10004333" target="_top">CustomAtomicStoreSubclass</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/iSpend/index.html#//apple_ref/doc/uid/DTS10003625" target="_top">iSpend</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/QTQuartzPlayer/index.html#//apple_ref/doc/uid/DTS10003787" target="_top">QTQuartzPlayer</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/Squiggles/index.html#//apple_ref/doc/uid/DTS40007956" target="_top">Squiggles</a></span></div></div></td></tr></table></div><br/>



<a name="//apple_ref/doc/uid/20000837-3497" title="Overview"></a><h2>Overview</h2>

<p class="spaceabove"><code>NSKeyedArchiver</code>, a concrete subclass of <code>NSCoder</code>, provides a way to encode objects (and scalar values) into an architecture-independent format that can be stored in a file. When you archive a set of objects, the class information and instance variables for each object are written to the archive. <code>NSKeyedArchiver</code>’s companion class, <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/cl/NSKeyedUnarchiver" target="_top">NSKeyedUnarchiver</a></code>, decodes the data in an archive and creates a set of objects equivalent to the original set.</p>
<p>A keyed archive differs from a non-keyed archive in that all the objects and values encoded into the archive are given names, or keys. When decoding a non-keyed archive, values have to be decoded in the same order in which they were encoded. When decoding a keyed archive, because values are requested by name, values can be decoded out of sequence or not at all. Keyed archives, therefore, provide better support for forward and backward compatibility.</p>
<p>The keys given to encoded values must be unique only within the scope of the current object being encoded. A keyed archive is hierarchical, so the keys used by object A to encode its instance variables do not conflict with the keys used by object B, even if A and B are instances of the same class. Within a single object, however, the keys used by a subclass can conflict with keys used in its superclasses.</p>
<p>An <code><a href="../../NSArchiver_Class/Reference/Reference.html#//apple_ref/occ/cl/NSArchiver" target="_top">NSArchiver</a></code> object can write the archive data to a file or to a mutable-data object (an instance of <code><a href="../../NSMutableData_Class/Reference/NSMutableData.html#//apple_ref/occ/cl/NSMutableData" target="_top">NSMutableData</a></code>) that you provide.</p>





<a name="//apple_ref/doc/uid/20000837-DontLinkElementID_2" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/20000837-SW2" title="Initializing an NSKeyedArchiver Object"></a>
		<h3 class="tasks">Initializing an NSKeyedArchiver Object</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/initForWritingWithMutableData:">&#8211;&#xA0;initForWritingWithMutableData:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the receiver, initialized for encoding an archive into a given a mutable-data object.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000837-SW3" title="Archiving Data"></a>
		<h3 class="tasks">Archiving Data</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/archivedDataWithRootObject:">+&#xA0;archivedDataWithRootObject:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an <code>NSData</code> object containing the encoded form of the object graph whose root object is given.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/archiveRootObject:toFile:">+&#xA0;archiveRootObject:toFile:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Archives an object graph rooted at a given object by encoding it into a data object then atomically writes the resulting data object to a file at a given path, and returns a Boolean value that indicates whether the operation was successful.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/finishEncoding">&#8211;&#xA0;finishEncoding</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Instructs the receiver to construct the final data stream.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/outputFormat">&#8211;&#xA0;outputFormat</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the format in which the receiver encodes its data.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/setOutputFormat:">&#8211;&#xA0;setOutputFormat:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the format in which the receiver encodes its data.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000837-SW4" title="Encoding Data and Objects"></a>
		<h3 class="tasks">Encoding Data and Objects</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/archiver:didEncodeObject:">&#8211;&#xA0;archiver:didEncodeObject:</a></code><span class="task_api_suffix">&#160;&#160;delegate method</span>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the delegate that a given object has been encoded.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/archiverDidFinish:">&#8211;&#xA0;archiverDidFinish:</a></code><span class="task_api_suffix">&#160;&#160;delegate method</span>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies the delegate that encoding has finished.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/archiver:willEncodeObject:">&#8211;&#xA0;archiver:willEncodeObject:</a></code><span class="task_api_suffix">&#160;&#160;delegate method</span>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the delegate that <em>object</em> is about to be encoded.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/archiverWillFinish:">&#8211;&#xA0;archiverWillFinish:</a></code><span class="task_api_suffix">&#160;&#160;delegate method</span>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Notifies the delegate that encoding is about to finish.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSObject/archiver:willReplaceObject:withObject:">&#8211;&#xA0;archiver:willReplaceObject:withObject:</a></code><span class="task_api_suffix">&#160;&#160;delegate method</span>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the delegate that one given object is being substituted for another given object.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeBool:forKey:">&#8211;&#xA0;encodeBool:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given Boolean value and associates it with a given key.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeBytes:length:forKey:">&#8211;&#xA0;encodeBytes:length:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given number of bytes from a given C array of bytes and associates them with the a given key.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeConditionalObject:forKey:">&#8211;&#xA0;encodeConditionalObject:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a reference to a given object and associates it with a given key only if it has been unconditionally encoded elsewhere in the archive with <code>encodeObject:forKey:</code>.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeDouble:forKey:">&#8211;&#xA0;encodeDouble:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given <code>double</code> value and associates it with a given key.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeFloat:forKey:">&#8211;&#xA0;encodeFloat:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given <code>float</code> value and associates it with a given key.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeInt:forKey:">&#8211;&#xA0;encodeInt:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given <code>int</code> value and associates it with a given key.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeInt32:forKey:">&#8211;&#xA0;encodeInt32:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given 32-bit integer value and associates it with a given key.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeInt64:forKey:">&#8211;&#xA0;encodeInt64:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given 64-bit integer value and associates it with a given key.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeObject:forKey:">&#8211;&#xA0;encodeObject:forKey:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Encodes a given object and associates it with a given key.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000837-SW5" title="Managing Delegates"></a>
		<h3 class="tasks">Managing Delegates</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/delegate">&#8211;&#xA0;delegate</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the receiver’s delegate.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/setDelegate:">&#8211;&#xA0;setDelegate:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the delegate for the receiver.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000837-SW6" title="Managing Classes and Class Names"></a>
		<h3 class="tasks">Managing Classes and Class Names</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/setClassName:forClass:">+&#xA0;setClassName:forClass:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a class translation mapping to <code>NSKeyedArchiver</code> whereby instances of of a given class are encoded with a given class name instead of their real class names.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/classNameForClass:">+&#xA0;classNameForClass:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the class name with which <code>NSKeyedArchiver</code> encodes instances of a given class.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/setClassName:forClass:">&#8211;&#xA0;setClassName:forClass:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Adds a class translation mapping to the receiver whereby instances of of a given class are encoded with a given class name instead of their real class names.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/classNameForClass:">&#8211;&#xA0;classNameForClass:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the class name with which the receiver encodes instances of a given class.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/20000837-DontLinkElementID_3" title="Class Methods"></a><h2>Class Methods</h2><a name="//apple_ref/occ/clm/NSKeyedArchiver/archivedDataWithRootObject:" title="archivedDataWithRootObject:"></a><a name="//apple_ref/doc/uid/20000837-BCIDHGCF" title="archivedDataWithRootObject:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_6"></a>
<h3 class="verytight">archivedDataWithRootObject:</h3>
<p class="spaceabove">Returns an <code>NSData</code> object containing the encoded form of the object graph whose root object is given.</p><p class="spaceabovemethod">+ (<a href="../../NSData_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSData" target="_top">NSData</a> *)archivedDataWithRootObject:(id)<em>rootObject</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>rootObject</em></dt><dd><p>The root of the object graph to archive.</p></dd></dl><h5 class="tight">Return Value</h5><p>An <code>NSData</code> object containing the encoded form of the object graph whose root object is <em>rootObject</em>. The format of the archive is <code><a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListBinaryFormat_v1_0" target="_top">NSPropertyListBinaryFormat_v1_0</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/CoreRecipes/index.html#//apple_ref/doc/uid/DTS10003664" target="_top">CoreRecipes</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/CustomAtomicStoreSubclass/index.html#//apple_ref/doc/uid/DTS10004333" target="_top">CustomAtomicStoreSubclass</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/iSpend/index.html#//apple_ref/doc/uid/DTS10003625" target="_top">iSpend</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/QTQuartzPlayer/index.html#//apple_ref/doc/uid/DTS10003787" target="_top">QTQuartzPlayer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/Squiggles/index.html#//apple_ref/doc/uid/DTS40007956" target="_top">Squiggles</a></span></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/clm/NSKeyedArchiver/archiveRootObject:toFile:" title="archiveRootObject:toFile:"></a><a name="//apple_ref/doc/uid/20000837-BCICBGIA" title="archiveRootObject:toFile:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_7"></a>
<h3 class="verytight">archiveRootObject:toFile:</h3>
<p class="spaceabove">Archives an object graph rooted at a given object by encoding it into a data object then atomically writes the resulting data object to a file at a given path, and returns a Boolean value that indicates whether the operation was successful.</p><p class="spaceabovemethod">+ (BOOL)archiveRootObject:(id)<em>rootObject</em>  toFile:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>path</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>rootObject</em></dt><dd><p>The root of the object graph to archive.</p></dd><dt><em>path</em></dt><dd><p>The path of the file in which to write the archive.</p></dd></dl><h5 class="tight">Return Value</h5><p><code>YES</code> if the operation was successful, otherwise <code>NO</code>.</p>
<h5 class="tight">Discussion</h5><p>The format of the archive is <code><a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListBinaryFormat_v1_0" target="_top">NSPropertyListBinaryFormat_v1_0</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/clm/NSKeyedArchiver/classNameForClass:" title="classNameForClass:"></a><a name="//apple_ref/doc/uid/20000837-BBCDEJHI" title="classNameForClass:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_8"></a>
<h3 class="verytight">classNameForClass:</h3>
<p class="spaceabove">Returns the class name with which <code>NSKeyedArchiver</code> encodes instances of a given class.</p><p class="spaceabovemethod">+ (<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)classNameForClass:(Class)<em>cls</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>cls</em></dt><dd><p>The class for which to determine the translation mapping.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The class name with which <code>NSKeyedArchiver</code> encodes instances of <em>cls</em>. Returns <code>nil</code> if <code>NSKeyedArchiver</code> does not have a translation mapping for <em>cls</em>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/setClassName:forClass:">+&#xA0;setClassName:forClass:</a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/classNameForClass:">&#8211;&#xA0;classNameForClass:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/clm/NSKeyedArchiver/setClassName:forClass:" title="setClassName:forClass:"></a><a name="//apple_ref/doc/uid/20000837-BBCHFHCD" title="setClassName:forClass:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_9"></a>
<h3 class="verytight">setClassName:forClass:</h3>
<p class="spaceabove">Adds a class translation mapping to <code>NSKeyedArchiver</code> whereby instances of of a given class are encoded with a given class name instead of their real class names.</p><p class="spaceabovemethod">+ (void)setClassName:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>codedName</em>  forClass:(Class)<em>cls</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>codedName</em></dt><dd><p>The name of the class that <code>NSKeyedArchiver</code> uses in place of <code>cls</code>.</p></dd><dt><em>cls</em></dt><dd><p>The class for which to set up a translation mapping.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>When encoding, the class’s translation mapping is used only if no translation is found first in an instance’s separate translation map.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/classNameForClass:">+&#xA0;classNameForClass:</a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/setClassName:forClass:">&#8211;&#xA0;setClassName:forClass:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_4" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/NSKeyedArchiver/classNameForClass:" title="classNameForClass:"></a><a name="//apple_ref/doc/uid/20000837-BBCDEJEI" title="classNameForClass:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_10"></a><h3 class="verytight">classNameForClass:</h3>
<p class="spaceabove">Returns the class name with which the receiver encodes instances of a given class.</p><p class="spaceabovemethod">- (<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)classNameForClass:(Class)<em>cls</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>cls</em></dt><dd><p>The class for which to determine the translation mapping.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>The class name with which the receiver encodes instances of <em>cls</em>. Returns <code>nil</code> if the receiver does not have a translation mapping for <em>cls</em>. The class’s separate translation map is not searched.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/setClassName:forClass:">&#8211;&#xA0;setClassName:forClass:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/classNameForClass:">+&#xA0;classNameForClass:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/delegate" title="delegate"></a><a name="//apple_ref/doc/uid/20000837-BCIEBGJJ" title="delegate"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_11"></a><h3 class="verytight">delegate</h3>
<p class="spaceabove">Returns the receiver’s delegate.</p><p class="spaceabovemethod">- (id)delegate</p><h5 class="tight">Return Value</h5><p>The receiver's delegate.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/setDelegate:">&#8211;&#xA0;setDelegate:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeBool:forKey:" title="encodeBool:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BCIEAHDA" title="encodeBool:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_12"></a><h3 class="verytight">encodeBool:forKey:</h3>
<p class="spaceabove">Encodes a given Boolean value and associates it with a given key.</p><p class="spaceabovemethod">- (void)encodeBool:(BOOL)<em>boolv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>boolv</em></dt><dd><p>The value to encode.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate <em>boolv</em>. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeBoolForKey:" target="_top">decodeBoolForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeBytes:length:forKey:" title="encodeBytes:length:forKey:"></a><a name="//apple_ref/doc/uid/20000837-encodeBytes_length_" title="encodeBytes:length:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_13"></a>
<h3 class="verytight">encodeBytes:length:forKey:</h3>
<p class="spaceabove">Encodes a given number of bytes from a given C array of bytes and associates them with the a given key.</p><p class="spaceabovemethod">- (void)encodeBytes:(const uint8_t *)<em>bytesp</em>  length:(<a href="../../../Miscellaneous/Foundation_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/NSUInteger" target="_top">NSUInteger</a>)<em>lenv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>bytesp</em></dt><dd><p>A C array of bytes to encode.</p></dd><dt><em>lenv</em></dt><dd><p>The number of bytes from <em>bytesp</em> to encode.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate the encoded value. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeBytesForKey:returnedLength:" target="_top">decodeBytesForKey:returnedLength:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeConditionalObject:forKey:" title="encodeConditionalObject:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BCIHEAJB" title="encodeConditionalObject:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_14"></a><h3 class="verytight">encodeConditionalObject:forKey:</h3>
<p class="spaceabove">Encodes a reference to a given object and associates it with a given key only if it has been unconditionally encoded elsewhere in the archive with <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/encodeObject:forKey:">encodeObject:forKey:</a></code>.</p><p class="spaceabovemethod">- (void)encodeConditionalObject:(id)<em>objv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>objv</em></dt><dd><p>The object to encode. </p></dd><dt><em>key</em></dt><dd><p>The key with which to associate the encoded value. This value must not be <code>nil</code>.</p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeDouble:forKey:" title="encodeDouble:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BAJEECGG" title="encodeDouble:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_15"></a><h3 class="verytight">encodeDouble:forKey:</h3>
<p class="spaceabove">Encodes a given <code>double</code> value and associates it with a given key.</p><p class="spaceabovemethod">- (void)encodeDouble:(double)<em>realv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>realv</em></dt><dd><p>The value to encode.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate <em>realv</em>. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeDoubleForKey:" target="_top">decodeDoubleForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li>
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeFloatForKey:" target="_top">decodeFloatForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeFloat:forKey:" title="encodeFloat:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BCIBABBF" title="encodeFloat:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_16"></a><h3 class="verytight">encodeFloat:forKey:</h3>
<p class="spaceabove">Encodes a given <code>float</code> value and associates it with a given key.</p><p class="spaceabovemethod">- (void)encodeFloat:(float)<em>realv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>realv</em></dt><dd><p>The value to encode.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate <em>realv</em>. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeFloatForKey:" target="_top">decodeFloatForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li>
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeDoubleForKey:" target="_top">decodeDoubleForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeInt32:forKey:" title="encodeInt32:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BCIJIEFH" title="encodeInt32:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_17"></a><h3 class="verytight">encodeInt32:forKey:</h3>
<p class="spaceabove">Encodes a given 32-bit integer value and associates it with a given key.</p><p class="spaceabovemethod">- (void)encodeInt32:(int32_t)<em>intv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>intv</em></dt><dd><p>The value to encode.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate <em>intv</em>. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeInt32ForKey:" target="_top">decodeInt32ForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeInt64:forKey:" title="encodeInt64:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BCIIGFGE" title="encodeInt64:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_18"></a><h3 class="verytight">encodeInt64:forKey:</h3>
<p class="spaceabove">Encodes a given 64-bit integer value and associates it with a given key.</p><p class="spaceabovemethod">- (void)encodeInt64:(int64_t)<em>intv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>intv</em></dt><dd><p>The value to encode.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate <em>intv</em>. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeInt64ForKey:" target="_top">decodeInt64ForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeInt:forKey:" title="encodeInt:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BBCEGDEI" title="encodeInt:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_19"></a><h3 class="verytight">encodeInt:forKey:</h3>
<p class="spaceabove">Encodes a given <code>int</code> value and associates it with a given key.</p><p class="spaceabovemethod">- (void)encodeInt:(int)<em>intv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>intv</em></dt><dd><p>The value to encode.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate <em>intv</em>. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeIntForKey:" target="_top">decodeIntForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/encodeObject:forKey:" title="encodeObject:forKey:"></a><a name="//apple_ref/doc/uid/20000837-BCIJAFAH" title="encodeObject:forKey:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_20"></a><h3 class="verytight">encodeObject:forKey:</h3>
<p class="spaceabove">Encodes a given object and associates it with a given key.</p><p class="spaceabovemethod">- (void)encodeObject:(id)<em>objv</em>  forKey:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>key</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>objv</em></dt><dd><p>The value to encode. This value may be <code>nil</code>.</p></dd><dt><em>key</em></dt><dd><p>The key with which to associate <em>objv</em>. This value must not be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="../../NSKeyedUnarchiver_Class/Reference/Reference.html#//apple_ref/occ/instm/NSKeyedUnarchiver/decodeObjectForKey:" target="_top">decodeObjectForKey:</a></code> (<code>NSKeyedUnarchiver</code>)</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/finishEncoding" title="finishEncoding"></a><a name="//apple_ref/doc/uid/20000837-BBCCIHDJ" title="finishEncoding"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_21"></a><h3 class="verytight">finishEncoding</h3>
<p class="spaceabove">Instructs the receiver to construct the final data stream.</p><p class="spaceabovemethod">- (void)finishEncoding</p>
<h5 class="tight">Discussion</h5><p>No more values can be encoded after this method is called. You must call this method when finished.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/initForWritingWithMutableData:">&#8211;&#xA0;initForWritingWithMutableData:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/initForWritingWithMutableData:" title="initForWritingWithMutableData:"></a><a name="//apple_ref/doc/uid/20000837-BCIDDAJE" title="initForWritingWithMutableData:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_22"></a><h3 class="verytight">initForWritingWithMutableData:</h3>
<p class="spaceabove">Returns the receiver, initialized for encoding an archive into a given a mutable-data object.</p><p class="spaceabovemethod">- (id)initForWritingWithMutableData:(<a href="../../NSMutableData_Class/Reference/NSMutableData.html#//apple_ref/doc/c_ref/NSMutableData" target="_top">NSMutableData</a> *)<em>data</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>data</em></dt><dd><p>The mutable-data object into which the archive is written.</p></dd></dl><h5 class="tight">Return Value</h5><p>The receiver, initialized for encoding an archive into <em>data</em>.</p>
<h5 class="tight">Discussion</h5><p>When you finish encoding data, you must invoke <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/finishEncoding">finishEncoding</a></code> at which point <em>data</em> is filled. The format of the receiver is <code><a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListBinaryFormat_v1_0" target="_top">NSPropertyListBinaryFormat_v1_0</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/outputFormat" title="outputFormat"></a><a name="//apple_ref/doc/uid/20000837-BBCHAAHH" title="outputFormat"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_23"></a><h3 class="verytight">outputFormat</h3>
<p class="spaceabove">Returns the format in which the receiver encodes its data.</p><p class="spaceabovemethod">- (<a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListFormat" target="_top">NSPropertyListFormat</a>)outputFormat</p><h5 class="tight">Return Value</h5><p>The format in which the receiver encodes its data. The available formats are <code><a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListXMLFormat_v1_0" target="_top">NSPropertyListXMLFormat_v1_0</a></code> and <code><a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListBinaryFormat_v1_0" target="_top">NSPropertyListBinaryFormat_v1_0</a></code>.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/setOutputFormat:">&#8211;&#xA0;setOutputFormat:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/setClassName:forClass:" title="setClassName:forClass:"></a><a name="//apple_ref/doc/uid/20000837-BBCEGFAH" title="setClassName:forClass:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_24"></a><h3 class="verytight">setClassName:forClass:</h3>
<p class="spaceabove">Adds a class translation mapping to the receiver whereby instances of of a given class are encoded with a given class name instead of their real class names.</p><p class="spaceabovemethod">- (void)setClassName:(<a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>codedName</em>  forClass:(Class)<em>cls</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>codedName</em></dt><dd><p>The name of the class that the receiver uses uses in place of <code>cls</code>.</p></dd><dt><em>cls</em></dt><dd><p>The class for which to set up a translation mapping.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>When encoding, the receiver’s translation map overrides any translation that may also be present in the class’s map.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/classNameForClass:">&#8211;&#xA0;classNameForClass:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/NSKeyedArchiver/setClassName:forClass:">+&#xA0;setClassName:forClass:</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/setDelegate:" title="setDelegate:"></a><a name="//apple_ref/doc/uid/20000837-systemVersion" title="setDelegate:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_25"></a>
<h3 class="verytight">setDelegate:</h3>
<p class="spaceabove">Sets the delegate for the receiver.</p><p class="spaceabovemethod">- (void)setDelegate:(id)<em>delegate</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>delegate</em></dt><dd><p>The delegate for the receiver.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/delegate">&#8211;&#xA0;delegate</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSKeyedArchiver/setOutputFormat:" title="setOutputFormat:"></a><a name="//apple_ref/doc/uid/20000837-BBCDAGGA" title="setOutputFormat:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_26"></a><h3 class="verytight">setOutputFormat:</h3>
<p class="spaceabove">Sets the format in which the receiver encodes its data.</p><p class="spaceabovemethod">- (void)setOutputFormat:(<a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListFormat" target="_top">NSPropertyListFormat</a>)<em>format</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>format</em></dt><dd><p>The format in which the receiver encodes its data. <em>format</em> can be <code><a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListXMLFormat_v1_0" target="_top">NSPropertyListXMLFormat_v1_0</a></code> or <code><a href="../../NSPropertyListSerialization_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSPropertyListBinaryFormat_v1_0" target="_top">NSPropertyListBinaryFormat_v1_0</a></code>.</p></dd></dl>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/NSKeyedArchiver/outputFormat">&#8211;&#xA0;outputFormat</a></code></li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_5" title="Delegate Methods"></a><h2>Delegate Methods</h2><a name="//apple_ref/occ/instm/NSObject/archiver:didEncodeObject:" title="archiver:didEncodeObject:"></a><a name="//apple_ref/doc/uid/20000837-BBCFCAHF" title="archiver:didEncodeObject:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_27"></a><h3 class="verytight">archiver:didEncodeObject:</h3>
<p class="spaceabove">Informs the delegate that a given object has been encoded.</p><p class="spaceabovemethod">- (void)archiver:(NSKeyedArchiver *)<em>archiver</em>  didEncodeObject:(id)<em>object</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>archiver</em></dt><dd><p>The archiver that sent the message.</p></dd><dt><em>object</em></dt><dd><p>The object that has been encoded. <em>object</em> may be <code>nil</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>The delegate might restore some state it had modified previously, or use this opportunity to keep track of the objects that are encoded.</p><p>This method is not called for conditional objects until they are actually encoded (if ever).</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSObject/archiver:willEncodeObject:" title="archiver:willEncodeObject:"></a><a name="//apple_ref/doc/uid/20000837-BBCJJEGI" title="archiver:willEncodeObject:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_28"></a><h3 class="verytight">archiver:willEncodeObject:</h3>
<p class="spaceabove">Informs the delegate that <em>object</em> is about to be encoded.</p><p class="spaceabovemethod">- (id)archiver:(NSKeyedArchiver *)<em>archiver</em>  willEncodeObject:(id)<em>object</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>archiver</em></dt><dd><p>The archiver that sent the message.</p></dd><dt><em>object</em></dt><dd><p>The object that is about to be encoded. This value is never <code>nil</code>.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>Either <em>object</em> or a different object to be encoded in its stead. The delegate can also modify the coder state. If the delegate returns <code>nil</code>, <code>nil</code> is encoded.</p><h5 class="tight">Discussion</h5><p>This method is called after the original object may have replaced itself with <code><a href="../../NSObject_Class/Reference/Reference.html#//apple_ref/occ/instm/NSObject/replacementObjectForKeyedArchiver:" target="_top">replacementObjectForKeyedArchiver:</a></code>.</p><p>This method is called whether or not the object is being encoded conditionally.</p><p>This method is not called for an object once a replacement mapping has been set up for that object (either explicitly, or because the object has previously been encoded). This method is also not called when <code>nil</code> is about to be encoded.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSObject/archiver:willReplaceObject:withObject:" title="archiver:willReplaceObject:withObject:"></a><a name="//apple_ref/doc/uid/20000837-BBCCEBGA" title="archiver:willReplaceObject:withObject:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_29"></a><h3 class="verytight">archiver:willReplaceObject:withObject:</h3>
<p class="spaceabove">Informs the delegate that one given object is being substituted for another given object.</p><p class="spaceabovemethod">- (void)archiver:(NSKeyedArchiver *)<em>archiver</em>  willReplaceObject:(id)<em>object</em>  withObject:(id)<em>newObject</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>archiver</em></dt><dd><p>The archiver that sent the message.</p></dd><dt><em>object</em></dt><dd><p>The object being replaced in the archive.</p></dd><dt><em>newObject</em></dt><dd><p>The object replacing <em>object</em> in the archive.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>This method is called even when the delegate itself is doing, or has done, the substitution. The delegate may use this method if it is keeping track of the encoded or decoded objects.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSObject/archiverDidFinish:" title="archiverDidFinish:"></a><a name="//apple_ref/doc/uid/20000837-BBCJDIBJ" title="archiverDidFinish:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_30"></a><h3 class="verytight">archiverDidFinish:</h3>
<p class="spaceabove">Notifies the delegate that encoding has finished.</p><p class="spaceabovemethod">- (void)archiverDidFinish:(NSKeyedArchiver *)<em>archiver</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>archiver</em></dt><dd><p>The archiver that sent the message.</p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/occ/instm/NSObject/archiverWillFinish:" title="archiverWillFinish:"></a><a name="//apple_ref/doc/uid/20000837-BBCFAIGH" title="archiverWillFinish:"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_31"></a><h3 class="verytight">archiverWillFinish:</h3>
<p class="spaceabove">Notifies the delegate that encoding is about to finish.</p><p class="spaceabovemethod">- (void)archiverWillFinish:(NSKeyedArchiver *)<em>archiver</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>archiver</em></dt><dd><p>The archiver that sent the message.</p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_1" title="Constants"></a><h2>Constants</h2><a name="//apple_ref/doc/constant_group/Keyed_Archiving_Exception_Names" title="Keyed Archiving Exception Names" role="GlobalDataGroup"></a><a name="//apple_ref/doc/uid/20000837-SW7" title="Keyed Archiving Exception Names" role="GlobalDataGroup"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_32"></a><h3 class="tight">Keyed Archiving Exception Names</h3><p class="spaceabove">Names of exceptions that are raised by <code>NSKeyedArchiver</code> if there is a problem creating an archive.</p><p class="spaceabove"><pre>
extern <a href="../../NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *<a href="Reference.html#//apple_ref/doc/c_ref/NSInvalidArchiveOperationException">NSInvalidArchiveOperationException</a>;
</pre></p><h5 class="tight">Constants</h5><dl class="termdef"><a name="//apple_ref/c/data/NSInvalidArchiveOperationException" title="NSInvalidArchiveOperationException"></a><a name="//apple_ref/doc/c_ref/NSInvalidArchiveOperationException" title="NSInvalidArchiveOperationException"></a><a name="//apple_ref/doc/uid/20000837-SW1" title="NSInvalidArchiveOperationException"></a><a name="//apple_ref/doc/uid/20000837-DontLinkElementID_33"></a><dt><code>NSInvalidArchiveOperationException</code></dt><dd><p>The name of the exception raised by <code>NSKeyedArchiver</code> if there is a problem creating an archive.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>NSKeyedArchiver.h</code>.</p></dd></dl><h5 class="tight">Declared In</h5><code>NSKeyedArchiver.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Reference/Foundation/Classes/NSKeyedArchiver_Class/Reference/Reference.html%3Fid%3DTP40003672-2.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Reference/Foundation/Classes/NSKeyedArchiver_Class/Reference/Reference.html%3Fid%3DTP40003672-2.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Reference/Foundation/Classes/NSKeyedArchiver_Class/Reference/Reference.html%3Fid%3DTP40003672-2.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>