<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><head><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css">   <title>Technical Note TN1194: Mac OS 9.0.4</title>       <meta name="keywords" content="have creator list relevant keywords here">    <meta name="Description" content="Technical Note TN1194: have creator write a brief descriptionhere."><meta name="categories" content="Overview, Operating System and System Releases"><meta name="week-posted" content="Mar 27, 2000 - Apr 7, 2000"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10003033" title="Mac OS 9.0.4"></a><A NAME="top"></A><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalnotes/index.html">Technical Notes</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalnotes/LegacyTechnologies/idxMacOS9Earlier-date.html">Mac OS 9 & Earlier</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="../../referencelibrary/index.html" target="_blank">Reference Library</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Note TN1194</div>
<div id="pageheadsub">Mac OS 9.0.4</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment --><CENTER><TABLE BORDER=0 CELLSPACING=1 WIDTH=600><TR><td align="left"> <!-- begin_header_box --><table width="600" cellpadding="0" cellspacing="0" border="0">     <tr><td width=300 valign="top" align=left scope="row">    <table border="0" width="300" cellpadding="0" cellspacing="0">			<tr>        <td width=300 align=left> <img src="images/tnmenutop.gif" alt="" align="bottom" width=300 height=7></td></tr><tr bgcolor="#e6e6e6">   <td background="images/tnmenubody.gif" width=300 align=left>       <span id="menutitle">CONTENTS   <br>  <br>       </span>   </td></tr><tr bgcolor="#e6e6e6">   <td background="images/tnmenubody.gif" width=300 align=left>       <!-- begin_toc --> <P id ="menutext"><A HREF = "#hardwarereq">Hardware Requirements</a><BR><BR><A HREF = "#systemfile">Inside the System File</a></p><P id = "menutext2">    <A HREF = "#aliasmgr">Alias Manager</a><BR>    <A HREF = "#atsui">ATSUI</a><BR>    <A HREF = "#dateandtime">Date &amp; Time Utilities</a><BR>    <A HREF = "#filesysmgr">File System Manager</a><BR>    <A HREF = "#macosusb">Mac OS USB 1.4.2</A><BR>    <A HREF = "#memorymgr">Memory Manager</a><BR>    <A HREF = "#mpapi">Multiprocessing Services</a><BR>    <A HREF = "#pwrmgr">Power Manager 2.0.1</a><BR>    <A HREF = "#ppctb">PPC ToolBox</a><BR>    <A HREF = "#rsrcmgr">Resource Manager</a><BR>    <A HREF = "#scriptmgr">Script Manager</a><BR>    <A HREF = "#scsimgr">SCSI Manager</a><BR>    <A HREF = "#timemgr">Time Manager</a></p>    <p id = "menutext"><A HREF = "#extensions">System Extensions</a></p><p id = "menutext2">    <A HREF = "#applescript">AppleScript 1.4</a><BR>    <A HREF = "#opentpt">Open Transport 2.6.1</a><BR>    <A HREF = "#worldscript">WorldScript I</a></p>       <p id = "menutext"><A HREF = "#Downloads">Downloadables</a></p>       </td></tr><tr>   <td width=300 align=left scope="row">       <img src="images/tnmenubottom.gif" alt="" width=300 height=16>   </td></tr>    </table></td><td width=300 valign="top" align=left><!-- begin_intro_text --><P id ="introtext">This Technotedescribes bug fixes and enhancements present in Mac&nbsp;OS&nbsp;9.0.4.</p> <P id ="introtext">Mac&nbsp;OS&nbsp;9.0.4 provides support for new Apple hardwareplatforms released since Mac&nbsp;OS&nbsp;9.  As such, during development someinterim versions of the software were released on somehardware platforms.  Where relevant, the particular releasewhere a feature was introduced is mentioned.  Version numbersfor these releases include Mac&nbsp;OS&nbsp;9.0.2, Mac&nbsp;OS&nbsp;9.0.3,and Mac&nbsp;OS&nbsp;9.0.4.  Mac&nbsp;OS&nbsp;9.0.4 includes all ofthe features and enhancements that were present in Mac&nbsp;OS&nbsp;9.0.2and Mac&nbsp;OS&nbsp;9.0.3.  There was no public release of Mac&nbsp;OS&nbsp;9.0.1.</P>  <P id ="introtext">All developers interested in creating products compatiblewith Mac&nbsp;OS and being aware of issues relevant to creating productsfor use with the Mac&nbsp;OS will want to review this document.</P><!-- end_intro_text --><!-- begin_date --><h3>&nbsp;Updated: [Mar 31 2000]</h3><!-- end_date --></TD>     </TR>  </TABLE> <!-- end_header_box --><BR><BR><hr width=500 align=center><BR><BR><!-- begin_content -->    <A NAME="hardwarereq"></A>    <H2>Hardware Requirements</H2><P>Mac&nbsp;OS&nbsp;9.0.4 can be installed on any Macintosh thatoriginally shipped with a PowerPC processor that has atleast 32 megabytes of physical RAM and a minimum of 40megabytes of logical RAM (virtual memory is set to 64 bydefault if there is less than 64 megabytes of physicalRAM installed).</P>    <P>Mac&nbsp;OS&nbsp;9.0.4 has been tested and qualified by Apple to runon Apple PowerPC-based Mac&nbsp;OS computers (Mac&nbsp;OS&nbsp;9.0.4 hasnot been tested or qualified by Apple for use on Mac&nbsp;OS-compatiblecomputers). </P><P>Mac&nbsp;OS&nbsp;9 must be installed before the Mac&nbsp;OS&nbsp;9.0.4update can be installed.</P>    <BR><A HREF = "#top">Back to top</a><BR><BR>          <A NAME="systemfile"></A>        <TABLE BORDER=0> <TR> <td width=46 align=left> <P ALIGN=center><img src="images/tn1194_001.gif" width=32 height=32 align=middle alt="System File">    </P> </TD> <td valign=bottom align=left> <H2>Inside the System File    </H2> </TD> </TR> </TABLE>     <P>The System file contains code and resources forrunning the computer. This section describes changesand bug fixes in the System file. The functionalityprovided by the System file is always present underMac&nbsp;OS&nbsp;9.0.4, even when the shift key is helddown at system startup.</P>            <UL>    <LI>The German keyboard layout shipped inside of the US release ofMac OS 8.6 and Mac OS 9.0 was incorrect.  It has been correctedso that Shift-# (key code $2A) in the German keyboard layout mapsto a single quote character instead of a dead key.</LI>    </UL><BR>    <A NAME="aliasmgr"></A>    <H3>Alias Manager</H3>    <P>The Alias Manager is the part of the operating system thatcommunicates with the File Manager to maintain alias recordsused to store references to file and folder locations. TheAlias Manager does not create Finder alias files; the Findercreates these files and stores alias records created by theAlias Manager in them.</P>       <UL>    <LI>Creating and resolving aliases to volumesusing path names was not working correctly in Mac&nbsp;OS&nbsp;9.If an alias was created to a volume using the<CODE>NewAliasMinimalFromFullPath</CODE> routine andthe original volume could not be found when the aliasrecord was being resolved, then the Alias Manager wouldreturn a reference to the default volume rather thanreturn an error.  This problem was corrected in Mac&nbsp;OS&nbsp;9.0.2and later.</LI>    </UL> <P>Related Materials:</P>    <P>The <a href="../../documentation/macos8/Files/AliasManager/aliasmanager.html">Alias Manager</A> online documentation.</p><BR><P><A HREF = "#top">Back to top</a></p><BR>          <A NAME="atsui"></A>    <H3>ATSUI (Apple Type Services for Unicode Imaging)</H3>    <P>Unicode is a character set that encodes thecharacters of many languages in a flat 16-bit numberspace. ATSUI extends the QuickDraw API and makes itpossible for Mac&nbsp;OS applications to draw Unicode text.ATSUI provides both low level services for drawingUnicode text,as well as much of the high-endtypographical control previously provided by QuickDrawGX.</P>        <UL><LI>A problem where ATSUI's Unicode synthesizer would fail toconvert some characters correctly when converting fromChinese text in naked-CID format has been corrected.  This correctionis present in Mac&nbsp;OS&nbsp;9.0.3 and later.<BR><BR></LI><LI>A problem affecting the printing performance of certain applicationsrunning in the Japanese version of Mac OS 9 has been corrected.  Thiscorrection is present in Mac&nbsp;OS&nbsp;9.0.2 and later.<BR><BR></LI>    </UL> <P>Related Materials:</P>    <P>The <a href="../../documentation/Carbon/text/ATSUI/atsui.html">Apple Type Services for Unicode Imaging (ATSUI)</A> online documentation.The <a href="http://developer.apple.com/sdk/index.html">ATSUI SDK</A>.</p><BR><P><A HREF = "#top">Back to top</a></p><BR>      <TABLE BORDER=0 CELLPADDING=1 WIDTH=500> <TR> <td align="left">    <A NAME="dateandtime"></A>    <H3>Date &amp; Time Utilities</H3>    <P>The date and time utilities provide facilitiesfor date and time conversion.</P>    </TD> </TR> </TABLE>    <UL><LI>A problem was found in Mac&nbsp;OS&nbsp;9 where the <CODE>StringToDate</CODE>routine would add the current millennium read from the system clock to the yearwhen translating strings containing four-digit year fields between and includingthe years 1000 through 1903.  Here, the current millennium wasbeing read from the system clock and added to the year in the date being translated.For example, if the time on the system clock was "March&nbsp;1,&nbsp;2000" and<CODE>StringToDate</CODE> was asked to translate the string "March&nbsp;24,&nbsp;1901"into a date, then the millennium from the system clock (2000) would be added tothe year resulting in the date March&nbsp;24th,&nbsp;3901.  This behavior wascorrect in the 1900's, but now that the century is 2000   as the date should have been translated as March&nbsp;24th,&nbsp;1901.The implementation of <CODE>StringToDate</CODE> has been corrected so that suchdates are converted correctly.  This problem was only present in the new PowerPCnative version of the Date &amp; Time Utilities introduced in Mac&nbsp;OS&nbsp;9and has been corrected in Mac&nbsp;OS&nbsp;9.0.4.<BR><BR><B>DOCUMENTATION CORRECTION</B><BR>    <p><U>Inside Macintosh:Text</U> p.&nbsp;5-32 contains the statement    regarding the behavior of <CODE>StringToDate</CODE>:</p>            <P>"If the value of the input year is between 100 and 1000, then 1000is added to it.  Thus the dates 1/9/87, 1/9/987, and 1/9/1987 areequivalent."</P>            <BR>        The actual behavior of <CODE>StringToDate</CODE> at the time when this    statement was made was to add the century from the system clock to    two-digit year values and to add the millennium from the system clock to    three-digit year values when they were being converted.  Hence, back    in 1993, this sentence was true (1000, taken from the system clock, would    have been added to three-digit dates and 1900 would have been added    to two-digit dates when they were being converted).<BR><BR>        But now that the century has changed to 2000, this sentence is no longer    true for two- and three-digit dates as <CODE>StringToDate</CODE> always adds    the century from the system clock to two digit year values and the     millennium from the system clock to three digit year values when they    are being converted.  The statement should be changed to read as follows:        <BR><BR>    <P>"If the value of the input year is between 100 and 1000, then thecurrent millennium from the system clock is added to it.  Hence,the dates returned by <CODE>StringToDate</CODE> for the strings1/9/87, 1/9/987, and 1/9/1987 will vary according to the dateretrieved from the system clock when <CODE>StringToDate</CODE>is called."</P></LI>    </UL>     <P>Related Materials:</P>    <P>The <a href="../../documentation/macos8/TextIntlSvcs/DateTimeUtilities/datetimeutilities.html">Date, Time, and Measurement Utilities</a> online documentation.<BR>The <a href="../../documentation/mac/Text/Text-290.html">Converting Formatted Date and Time Strings Into Internal Numeric Representations</a> section of <U>Inside Macintosh:Text</U>.</p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>    <A NAME="filesysmgr"></A>    <H3>File System Manager</H3>        <P>The File System Manager provides a general meansby which foreign file systems can be installed,identified, and interfaced to the operating system.</P><UL>	<LI>The following new File System Manager routines that wereintroduced in Mac&nbsp;OS&nbsp;9 are now exported from<CODE>InterfaceLib</CODE>:<BR><BR>  <CODE>UTCheckForkPermissions</CODE><BR><CODE>UTAddFCBToSearchList</CODE><BR><CODE>UTRemoveFCBFromSearchList</CODE><BR><CODE>UTLocateFCBInSearchList</CODE><BR><CODE>UTGetForkControlBlockSize</CODE></LI>    </UL>     <P>Related Materials:</P>    <P>The <a href="http://developer.apple.com/sdk/index.html">File System Manager SDK</A>.</p><BR><P><A HREF = "#top">Back to top</a></p><BR>          <A NAME="macosusb"></A>    <H3>Mac OS USB 1.4.2</H3>    <P>Mac&nbsp;OS&nbsp;USB is built into the Mac&nbsp;OS ROM file,and enables USB support for those Macintosh systems thathave USB built-in.</P><UL>    <LI>The OHCI UIM has been modified so that the root hub simulation is interrupt based instead of polled. Other changes were made to the drivers for the USB keyboard and pointing devices that allow them to be used in MacsBug.<BR><BR></LI><LI>Added API call <CODE>USBSetPipePolicy</CODE> that allows for changing pipecharacteristics as follows:<BR><BR>    <UL><LI>The maximum number of bytes per frame can be adjusted. This allows Isocdevices to use less bandwidth than specified in the endpoint.<BR><BR></LI><LI>The maximum data per. IRP. This allows the clients to set the maximumvalue allowed for <CODE>usbReqCount</CODE> (currently unimplemented).<BR><BR></LI><LI>The maximum service interval can be adjusted. For interrupt endpoints,this sets the polling interval.<BR></LI>    </UL><BR></LI><LI>USB Audio support is now provided for 16-bit mono USB Audio inputdevices.<BR><BR></LI><LI>A feature was added that allows a <CODE>USBShim</CODE> to be registeredas a shared library. To take advantage of this feature, a <CODE>USBShim</CODE>must export the symbol <CODE>ShimDescription</CODE> that references a structureof type <CODE>USBShimDescription</CODE>.  In the <CODE>USBShimDescription</CODE>structure, the <CODE>USBShimLoadingOptions</CODE> field must have both the<CODE>kUSBRegisterShimAsSharedLibrary</CODE> bit set and the<CODE>libraryName</CODE> field set to the CFM shared library name.<BR><BR></LI><LI>A new Expert Options Control Panel has been added to allow control over(a) the default Expert Status level, (b) the size of the Expert Statusmessage buffer, and (c) and the assignment of fixed addresses to USB devices.This latter option means that if the USB topology remains unchanged acrossreboots, then each device will be assigned the same USB address.<BR><BR></LI><LI>The Power Class driver has been added to the USB Device Support driver file.<BR><BR></LI><LI>A buffer overrun condition was corrected in the USB Audio class driver thatcould result in heap corruption.  A common symptom of this problem wassound input stopping after using a USB microphone for some time.<BR><BR></LI>    </UL>     <P>Related Materials:</P><P><a href="http://developer.apple.com/hardware/usb/">Mac OS USB</A> web page.<BR><a href="http://developer.apple.com/hardware/usb/download.htm">The Latest USB DDK</A>.</p>      <BR><P><A HREF = "#top">Back to top</a></p><BR>     <A NAME="memorymgr"></A>    <H3>Memory Manager</H3>    <P>The Memory Manager is the part of the operatingsystem responsible for managing memory allocationrequests.</P>        <UL><LI>The Memory Manager routines <CODE>BlockMove</CODE> and<CODE>BlockMoveData</CODE> have been enhanced to use the VelocityEngine for faster memory copies on machines where it is available.This enhancement appears in Mac OS 9.0.2 and later.<BR><BR></LI>    </UL>     <P>Related Materials:</P>    <P>    The <a href="../../documentation/macos8/OSSvcs/MemoryManager/memorymanager.html">Memory Manager</A> online documentation.</p>        <A NAME="mpapi"></A>    <H3>Multiprocessing Services</H3>    <P>The Multitasking/Multiprocessing Library allowsapplications to perform pre-emptive multiprocessingoperations on PowerPC computers equipped with more thanone processor. The library also allows for preemptivemultitasking on machines equipped with only oneprocessor.</P>        <UL>    <LI>A system crash could occur in the <CODE>MPEnterCriticalRegion</CODE>routine when it was called with a timeout value other than <CODE>kDurationImmediate</CODE>or <CODE>kDurationForever</CODE>.  This problem was corrected inMac&nbsp;OS&nbsp;9.0.3.<BR><BR></LI><LI>A memory leak that could occur when an application that usedMultiprocessing Services quit has been corrected.  This problem was correctedin Mac&nbsp;OS&nbsp;9.0.3.<BR><BR></LI>    </UL>     <P>Related Materials:</P> <P>The <a href="../../documentation/Carbon/oss/MultiPServices/multiprocessingservices.html">Multiprocessing Services</A> online documentation.<BR>The <a href="http://developer.apple.com/sdk/index.html">Multiprocessing Services SDK</A>.</p>   <BR><P><A HREF = "#top">Back to top</a></p><BR>      <A NAME="pwrmgr"></A>    <H3>Power Manager 2.0.1</H3>    <P> The Power Manager provides facilities for controlling powerto the internal hardware devices in capable Apple computer models.</P><UL>    <LI>Support for UPS power supply notification has been added.  Thereis a new Power Manager feature bit that is turned on in machinesthat support UPS notification.  The new feature bit <CODE>supportsUPSIntegration</CODE>defined in <CODE>Power.h</CODE> is used to indicate the availability of thisfeature.<BR><BR></LI><LI>The Server Mode APIs discussed in <A HREF = "tn1190.html">Technote 1190, "Power Manager 2.0"</A>have been implemented on newer models where server mode is supported.  Thenew feature bit <CODE>supportsServerModeAPIs</CODE> defined in <CODE>Power.h</CODE> is used toindicate the availability of this facility.<BR><BR></LI><LI>A problem where a machine would not reboot automaticallywhen "server mode" was enabled by way of the check box in theEnergy Saver control panel has been corrected.  This problemwould occur when the machine was using a UPS as a power sourceand the UPS ran out of power.<BR><BR></LI>    <LI>The Battery Monitor Control Strip Module has been correctedso that it shows a more accurate Battery Time Remaining when a secondbattery is installed.<BR><BR></LI>    <LI>A problem where sound output would be unavailable afterwaking from sleep on some G3 models has been corrected.<BR><BR></LI>    </UL>     <P>Related Materials:</P>        <P><A HREF = "tn1190.html">Technote 1190, "Power Manager 2.0"</a><BR>The <a href="http://developer.apple.com/sdk/index.html">Universal Interfaces 3.3.1</A>.</p>        <BR><P><A HREF = "#top">Back to top</a></p><BR>         <A NAME="ppctb"></A>    <H3>PPC ToolBox</H3>    <P>The Program-to-Program Communications Toolboxprovides process-to-process communications facilitiesboth for processes running on the same machine and forprocesses running on different computers connected byeither an AppleTalk network or a TCP/IP network.</P>  <UL>    <LI>Although <CODE>IPCKillListPorts</CODE> was introduced inMac&nbsp;OS&nbsp;9, there is no entry point exported from<CODE>InterfaceLib</CODE> with that name.  However, thisroutine is available through the trap dispatching mechanism.For information about calling routines from PowerPC codeusing their trap dispatch table entry see <A HREF = "tn1127.html">Technote 1127,"In Search of......Missing Links*".</a><BR><BR></LI><LI><CODE>IPCKillListPorts</CODE> has been changed so that it hasno effect for AppleTalk connections.  AppleTalk connections are nowaborted based on the older time out mechanism rather thancalls to <CODE>IPCKillListPorts</CODE>.<BR><BR></LI>    </UL>     <P>Related Materials:</P>    <P>The <a href="../../documentation/macos8/InterproCom/PPCToolbox/ppctoolbox.html">PPC Toolbox</A> online documentation.<BR><A HREF = "tn1127.html">Technote 1127, "In Search of......Missing Links*"</a></p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>    <A NAME="rsrcmgr"></A>    <H3>Resource Manager</H3>    <P>The Resource Manager provides a data file format for storingand retrieving information used during application and operatingsystem run time.</P>      <UL>    <LI>Performance of the Resource Manager's <CODE>CreateResFile</CODE>routine has been improved by reducing the number of calls it makesto the File Manager while a resource file is being created.This improvement should be most noticeable when calling<CODE>CreateResFile</CODE> to create resource files on AppleShareor NFS-mounted volumes.<BR><BR></LI></UL>     <P>Related Materials:</P><P>The <a href="../../documentation/macos8/Files/ResourceManager/resourcemanager.html">Resource Manager</A> online documentation.</p>      <BR><P><A HREF = "#top">Back to top</a></p><BR>          <A NAME="scriptmgr"></A>    <H3>Script Manager</H3>    <P>The Script Manager provides functions for controlling, modifying, and accessing the features of both Roman and non-Roman script systems.</P>      <UL>    <LI>In Mac&nbsp;OS&nbsp;8.6 and Mac&nbsp;OS&nbsp;9, <CODE>IntlTokenize</CODE>was interpreting the string <CODE>"&#60;&#62;"</CODE> incorrectly and returningthe constants <CODE>tokenLess</CODE> and <CODE>tokenGreat</CODE> instead ofthe constant <CODE>tokenLessGreat</CODE> as it should have.  This problemwas corrected in Mac&nbsp;OS&nbsp;9.0.3.<BR><BR></LI><LI><CODE>IntlTokenize</CODE> was not interpreting eight-bit characters(characters with values greater than 127) correctly in Mac OS 9.  This problemhas been corrected.<BR><BR></LI></UL>     <P>Related Materials:</P>    <P>The <a href="../../documentation/macos8/TextIntlSvcs/ScriptManager/scriptmanager.html">Script Manager</A> online documentation.</p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>          <A NAME="scsimgr"></A>    <H3>SCSI Manager</H3>    <P>The SCSI Manager is the part of the operating system responsiblefor communications with connected SCSI devices.</P>  <UL>    <LI>In Mac OS 9, the native SCSI Manager was not being installedat system startup.  As a result, whatever version of the SCSI Manager that was stored in ROM was being used instead.This problem has been corrected.<BR><BR></LI>    </UL>     <P>Related Materials:</P>     <P>The <a href="../../documentation/hardware/DeviceManagers/scsimgr/scsimgr.html">SCSI Manager</A> online documentation.</p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>                <A NAME="timemgr"></A>    <H3>Time Manager</H3>    <P>The Time Manager provides millisecond and microsecond timingfacilities for Mac OS computers.</P>      <UL>    <LI><P>New Time Manager routines have been introduced to <CODE>InterfaceLib</CODE>    that return result codes of type <CODE>OSErr</CODE>.  These routines do not    replace the older routines; however, going forward, their use is recommended    over the use of the older Time Manager routines.  The new routines and their    older equivalents are listed in Table 1.  The older routines have always    returned an error in register DO; however, in the past the high- level APIs    provided no way to access this error.  These new calls allow callers to determine    the result code. </p>         <P><B>Table 1</B>. New Timer Manager tasks that return result    codes and their older equivalents.</p>        <TABLE BORDER=1 WIDTH=450> <TR>       <td width=196 align=left> <P>New Routine Name</P> </TD>      <td width=238 align=left> <P>Old Routine Name</P> </TD>    </TR> <TR>        <td width=196 align=left> <P><CODE>InstallTimeTask</CODE></P> </TD>      <td width=238 align=left> <P><CODE>InsTime</CODE></P> </TD>    </TR> <TR>        <td width=196 align=left> <P><CODE>InstallXTimeTask</CODE></P> </TD>      <td width=238 align=left> <P><CODE>InsXTime</CODE></P> </TD>    </TR> <TR>        <td width=196 align=left> <P><CODE>PrimeTimeTask</CODE></P> </TD>      <td width=238 align=left> <P><CODE>PrimeTime</CODE></P> </TD>    </TR> <TR>        <td width=196 align=left> <P><CODE>RemoveTimeTask</CODE></P> </TD>      <td width=238 align=left> <P><CODE>RmvTime</CODE></P> </TD>    </TR> </table>        <BR>    <BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Compatibility Note:</B><BR>Developers should be aware that under some circumstances the Time Manager tasks may fail and return a result code describing the failure. For example, when Virtual Memory is turned on, circumstances may arise where it is not possible for the Time Manager to successfully complete a call to <CODE>InstallTimeTask</CODE>.  Because of thispossibility, developers should begin using the new routines andchecking the result codes returned by the Time Manager.</P></TD></TR></TABLE></CENTER><BR><BR></LI><LI>In the PowerPC version of the Time Manager present in Mac&nbsp;OS&nbsp;9   a problem was found where, under certain conditions, the high bit in   the <CODE>qType</CODE> field of a Time Manager <CODE>TMTask</CODE> record   was not being cleared immediately after a timer elapsed. Normally, this   bit is cleared immediately when a timer elapses. This problem was corrected   in Mac&nbsp;OS&nbsp;9.0.2.<BR>  <BR>  One case where this problem occurred was in the delay timer used by   the PowerPC version of HyperCard when drawing its transitional visual   effects. Here, visual effects such as "visual effect dissolve fast"   would take much longer than expected to execute.<BR>  <BR></LI>      </UL>     <P>Related Materials:</P>    <P>The <a href="../../documentation/macos8/OSSvcs/TimeManager/timemanager.html">Time Manager</A> online documentation.</p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>         <A NAME="extensions"></A>    <TABLE BORDER=0> <TR> <td width=46 align=left> <P ALIGN=center><img src="images/tn1194_002.gif" width=32 height=32 align=middle alt="Extensions">    </P> </TD>     <td valign=bottom align=left> <H2>System Extensions</H2> </TD>     </TR>     </TABLE><BR>     <P>System extensions are located in the Extensionsfolder inside the System Folder.<BR>For a system extension to be active, it must be locatedin the Extensions folder<BR>when the system starts up. Extensions are not loaded ifthe Shift key is held down while the system is startingup.</P>           <A NAME="applescript"></A>        <TABLE BORDER=0> <TR> <td width=46 align=left> <P ALIGN=center><img src="images/tn1194_003.gif" width=32 height=32 align=middle alt="World Script 1">    </P> </TD> <td valign=bottom align=left><H3>AppleScript 1.4</H3>    </TD> </TR> </TABLE>        <BR>    <P>AppleScript is a component of the operatingsystem that provides a scripting interface for users toautomate actions that would normally require use of themenus and keyboard. Even more importantly, it allowsusers to access functionality of applications which wouldbe difficult or impossible to access by hand.</P><UL>    <LI>In AppleScript&nbsp;1.4 in Mac&nbsp;OS&nbsp;9.0, compiling AppleScriptssimultaneously in two separate component connections could cause a crash.This is fixed in AppleScript extension version&nbsp;1.4 and later.<BR><BR></LI><LI>In Standard Additions&nbsp;1.4 in Mac&nbsp;OS&nbsp;9, the <CODE>mount&nbsp;volume</CODE>scripting addition was not updated to accommodate the change in AFP client behaviorin Mac&nbsp;OS&nbsp;9 regarding NAM negotiation.  The result is that the<CODE>mount&nbsp;volume</CODE> command would not work with secure logins tocertain servers, such as Mac&nbsp;OS&nbsp;X Server and Windows&nbsp;NT.  Thishas been fixed in Standard&nbsp;Additions&nbsp;1.4.2 and later.<BR><BR><BR><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Compatibility Note:</B><BR>CarbonLib&nbsp;1.0.2, which is not part of Mac&nbsp;OS&nbsp;9.0.4 but is installed withAppleWorks&nbsp;6, introduces a change to the way the Event Manager handlesApple event <CODE>idleProcs</CODE>.  The result is that using Script&nbsp;Editor&nbsp;1.4.1 withCarbonLib&nbsp;1.0.2 will result in substantial delays in Apple event processing.Script&nbsp;Editor&nbsp;1.4.3 and later fixes this problem.</P></TD></TR></TABLE></CENTER><BR><BR></LI>    </UL>         <P>Related Materials:</P>    <P>The <a href="http://www.apple.com/applescript/">AppleScript Web Site</A> online documentation.<BR>The <a href="http://developer.apple.com/sdk/index.html">AppleScript SDK</A>.</p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>          <A NAME="opentpt"></A>        <TABLE BORDER=0> <TR> <td width=46 align=left> <P ALIGN=center><img src="images/tn1194_004.gif" width=32 height=32 align=middle alt="OT">    </P> </TD>     <td valign=bottom align=left><H3>Open Transport 2.6.1</H3>    </TD>     </TR>     </TABLE>        <BR>    <P>Open Transport is the networking technology forMac&nbsp;OS&nbsp;9.0.4.  Open Transport 2.6.1 is similarto the Open Transport that was included in Mac OS 9(version 2.5.2) with minor changes to improve performanceand reliability.  Specific changes include:</P><UL>    <LI>Open Transport TCP/IP now uses the same path MTU discovery algorithm as versions prior to OT 2.5, which closes a loophole that could be used by certain denial of services attacks.<BR><BR></LI><LI>Corrected a situation that could cause excessive network traffic (an "ARP storm") if two machines on the same network are assigned the same IP address.<BR><BR></LI><LI>Fixed a crashing bug when receiving empty packets on UDP port 49152.  The DNR module was incorrectly handling empty packets.<BR><BR></LI><LI>The DHCP client now runs asynchronously, so the system continues to respond to user events while Open Transport DHCP is negotiating or renewing a DHCP lease.<BR><BR></LI><LI>DHCP leases with a renewal interval greater that one hour are now correctly renewed.<BR><BR></LI><LI>Fixed OT's interpretation of the DHCP static route option.<BR><BR></LI><LI>The TCP/IP preferences now correctly reflects the state of a DHCP lease.<BR><BR></LI><LI>Improved DHCP compatibility with certain third-party ISDN routers.<BR><BR></LI><LI>Improved memory usage when DHCP lease is renewed.<BR><BR></LI><LI>The maximum options size (TEndpointInfo.options) for "rawip" endpoints is now 256.  Open Transport 2.5.x incorrectly reported this value as 233.<BR><BR></LI><LI>The kernel-logging routine "strlog" now correctly handles its formatting string arguments.  This was broken in Open Transport 2.5.x.<BR><BR></LI><LI>TCP/IP networking now supports the router self-assignment configuration method implemented by some router manufacturers (for example, Nortel and Cabletron).<BR><BR></LI><LI>"Tuned" the TCP algorithms for better performance in common Internet environments.<BR><BR></LI><LI>Changes to support the AirPort base station.<BR><BR></LI>    </UL>     <P>Related Materials:</P>    <P>The <a href="../../documentation/macos8/NetworkCommSvcs/OpenTransport/opentransport.html">Open Transport</A> online documentation.</p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>            <A NAME="worldscript"></A>        <TABLE BORDER=0>     <TR>     <td width=46 align=left> <P ALIGN=center><img src="images/tn1194_005.gif" width=32 height=32 align=middle alt="World Script 1">    </P>     </TD>     <td valign=bottom align=left><H3>WorldScript I</H3>    </TD>     </TR>     </TABLE>        <BR>    <P>Worldscript provides language specific text services forthe Mac&nbsp;OS.</P><UL>    <LI>With MacsBug's <CODE>ebbe</CODE> (even better bus error) commandturned on during system startup,  WorldScript I will break into MacsBugtwice.  This is a known problem in WorldScript I.  Developers can safelypass over this error using the "g" (go) command without any problems. <BR><BR></LI>    </UL>     <P>Related Materials:</P>    <P>The <a href="../../documentation/mac/Text/Text-522.html">WorldScript I</A> online documentation.</p>    <BR><P><A HREF = "#top">Back to top</a></p><BR>      <A NAME="Downloads"></A> <h2>Downloadables</h2><center><TABLE BORDER=0 CELLPADDING=3 WIDTH="600"> <TR>     <td width=50 align=left>       <P ALIGN=center><img src="images/acrobatsmall.gif" align=middle alt="Acrobat" width=22 height=23></P>    </TD>    <td align="left">       <p>Acrobat version of this Note (76K).</P>    </TD>    <td width=60 align=left>       <p><A HREF="pdf/tn1194.pdf">Download</A></P>    </TD>  </TR> </table></center><BR><BR><BR><P><A HREF="#top">Back to top</A></P></TD></TR></TABLE></CENTER><!-- end_content --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/technotes/tn/tn1194.html%3Fid%3DDTS10003033-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/technotes/tn/tn1194.html%3Fid%3DDTS10003033-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/technotes/tn/tn1194.html%3Fid%3DDTS10003033-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --></BODY></HTML>