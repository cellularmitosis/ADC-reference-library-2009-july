<HTML><head><script language="JavaScript" src="../../RM/frametest.js"></script><TITLE> Usage</TITLE><script language=javascript> window.parent.focus(); </script></HEAD><BODY BGCOLOR="#ffffff"><!-- start of header --><!--#include virtual="/includes/framesetheader" --><!-- end of header --><!-- path goes here --><!-- QTnavbar start --><P><I>What's New in QuickTime 5</I><P>| <A HREF="Max.70.htm">Previous</A> | <A HREF="Max.1.htm">Chapter Contents</A> | <A HREF="Max.htm">Chapter Top</A> | <A HREF="Max.72.htm">Next</A> |</P></DIV><!-- QTnavbar end --><H1 CLASS="H2.Heading2"><A NAME="pgfId=76203"> </A>Usage</H1><P CLASS="T1.Text1"><A NAME="pgfId=76375"> </A>An application will want to use the Gamma APIs in order to specify the gamma of a PixMap that it will compress or to request and verify the gamma of a PixMap that it decompresses.</P><P CLASS="T1.Text1"><A NAME="pgfId=76378"> </A>In compression, it is sufficient to set the gamma of the PixMap using either <TT CLASS="cv">QTSetPixMapPtrGammaLevel</TT> or <TT CLASS="cv">QTSetPixMapHandleGammaLevel</TT>. Codecs will use this value when compressing the PixMap.</P><P CLASS="T1.Text1"><A NAME="pgfId=76381"> </A>In decompression, the application can either request a gamma via <TT CLASS="cv">QTSetPixMapPtrRequestedGammaLevel</TT><A NAME="marker=90334"> </A> or <TT CLASS="cv">QTSetPixMapHandleRequestedGammaLevel</TT><A NAME="marker=90335"> </A>. The application can either request a specific gamma value, or the platform default or the native source gamma. Calling <TT CLASS="cv">QTGetPixMapPtrGammaLevel</TT> or <TT CLASS="cv">QTGetPixMapHandleGammaLevel</TT> after decompressing will return the actual gamma level of the decompressed data. During decompression, the requested gamma level of a PixMap does not change, which means that the same PixMap can have different gamma levels after different sources are decompressed. Applications should always check the gamma level after decompressing if they use either of the two requested gamma level APIs.</P><P CLASS="T1.Text1"><A NAME="pgfId=76391"> </A>Codecs need to pay attention to the gamma level of the source buffer when compressing. Some compressed data (such as DV) is stored only with one gamma level (DV - 2.2) and the gamma is explicit for that format. These codecs should check the source gamma level and perform gamma correction when compressing as necessary.</P><P CLASS="T1.Text1"><A NAME="pgfId=76394"> </A>Others, such as JPEG, could have different gamma levels depending on the source value, and can store the gamma value of the compressed data in a <TT CLASS="cv">'gama'</TT> or <TT CLASS="cv">'colr'</TT> ImageDescription extension without needing to convert the image.</P><P CLASS="T1.Text1"><A NAME="pgfId=76397"> </A>In decompression, Codecs need to store the source and destination gamma levels received via <TT CLASS="cv">ImageCodecRequestGammaLevel</TT> and correct the gamma based on the ratio of the two values.</P><hr>&#169; 2001 Apple Computer, Inc.<!-- QTnavbar start --><P><I>What's New in QuickTime 5</I><P>| <A HREF="Max.70.htm">Previous</A> | <A HREF="Max.1.htm">Chapter Contents</A> | <A HREF="Max.htm">Chapter Top</A> | <A HREF="Max.72.htm">Next</A> |</P></DIV><!-- QTnavbar end --></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV></DIV><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>