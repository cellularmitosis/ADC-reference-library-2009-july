<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>FunkyOverlayWindow</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>
</head>

<!-- BEGIN BODY OPEN -->
<body><a name="//apple_ref/doc/uid/DTS10000391" title="FunkyOverlayWindow"></a>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/Cocoa/index.html">Cocoa</a> &gt; <a href="../../samplecode/Cocoa/idxUserExperience-date.html">User Experience</a> &gt; 
			
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">FunkyOverlayWindow</div></h1></td>
		</tr>

	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<p><strong>Version:</strong> 1.0</p>
				<p><strong>Posted:</strong> 2003-05-08</p>
				<p><strong>Build Requirements:</strong> N/A</p>
				<p><strong>Runtime Requirements:</strong> Mac OS X  Mac OS X version 10.2 or higher, Project Builder 2.0.1 or higher</p>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/ColorView.h</option>
<option value="listing2.html">/ColorView.m</option>
<option value="listing3.html">/DragMatrix.h</option>
<option value="listing4.html">/DragMatrix.m</option>
<option value="listing5.html">/main.m</option>
<option value="listing6.html">/OverlayWindow.h</option>
<option value="listing7.html">/OverlayWindow.m</option>
<option value="listing8.html">/TransparentButtonCell.h</option>
<option value="listing9.html">/TransparentButtonCell.m</option></select>
				</p>
				</form>
				<p><strong><a href="FunkyOverlayWindow.zip">Download Sample</a></strong> (&#147;FunkyOverlayWindow.zip&#148;, 53.0K)<BR>
<strong><a href="FunkyOverlayWindow.dmg">Download Sample</a></strong> (&#147;FunkyOverlayWindow.dmg&#148;, 100.7K)</p>
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
				<h2>Description</h2>
				<p>This Cocoa sample shows how to do several different things with windows and Cocoa widgets, by providing a floating &quot;overlay&quot; window interface with a &quot;selection box&quot; that traverses the window.  This sample demonstrates:  how to do transparent windows how to draw transparent NSButtons with non-transparent cell content how to ensure that mouse clicks on a window go through the window to the content underneath how to use mouse tracking rectangles how to have an overlay window that fades in/out based on mouse tracking how to use the Carbon HotKey API in a Cocoa application how to do drag-and-drop to an NSMatrix, targeting a particular cell in the matrix how to attach windows to each other so that if one moves, the other does too (although the parent window can't be moved in this example)  This techniques demonstrated in this sample might be useful for a developer working on a utility of one sort or another.  When you mouse over the overlay window, it fades in and the blue selection box (itself another child window) starts tracking over the window.  Pressing cmd-return will change the direction that the selection box tracks.  Moving your mouse off the window will cause the selection box to stop tracking, and the overlay window to fade back out again.  You can also drag image files into buttons in the window and the buttons will use those images.  There are three main transparency techniques demonstrated in this sample:  1) You can call -setAlphaValue: on the window to set the transparency of the whole window.  This sets the transparency of the window's contents as well, which may or may not be what you want.  2) You can leave the alpha of the window as it is, and instead (or in addition) fill the window with a transparent view (having already called -setOpaque:NO on the window) and then just render what you want into that window.  3) The first two techniques have been demonstrated for a while in the RoundTransparentWindow sample.  But a third technique is demonstrated here: how to make an NSButton transparent, with the image being drawn on it not transparent.  This is done by first rendering the button's cell into an NSImage, then compositing the image to the controlView with transparency, and then drawing the contents of the button's cell frame again with no transparency. Requirements: Mac OS X version 10.2 or higher, Project Builder 2.0.1 or higher Keywords: funkyoverlaywindow transparency opaque transparent overlay</p>
				
				<h2>Document Revision History</h2>
				<table cellspacing="0" class="graybox" width="680">
					<tr>
						<th width="100">Date</th>
						<th width="580">Notes</th>
					</tr>
					<tr><td scope="row">2003-05-08</td><td>Demonstrates several window layering, transparency and widget interaction techniques in Cocoa.</td></tr>

				</table>
				
			</td>
		</tr>
	</table>
	
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/FunkyOverlayWindow/index.html%3Fid%3DDTS10000391-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/FunkyOverlayWindow/index.html%3Fid%3DDTS10000391-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/FunkyOverlayWindow/index.html%3Fid%3DDTS10000391-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>