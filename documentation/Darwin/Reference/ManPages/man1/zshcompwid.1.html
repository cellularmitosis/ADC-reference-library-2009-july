<html><head><title>Mac OS X
 Manual Page For zshcompwid(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/zshcompwid" title="Mac OS X
 Manual Page for zshcompwid(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/zshcompwid"; name=zshcompwid(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
ZSHCOMPWID(1)                                                                                  ZSHCOMPWID(1)



<b>NAME</b>
       zshcompwid - zsh completion widgets

<b>DESCRIPTION</b>
       The shell's programmable completion mechanism can be manipulated in two ways; here the low-level fea-<font color="#ffffff" class="whiteout">tures&nbsp;features</font>
       tures supporting the newer, function-based mechanism are defined.  A complete set of shell  functions
       based  on  these features is described in <a href="zshcompsys.1.html#//apple_ref/doc/man/1/zshcompsys"><u>zshcompsys</u>(1)</a>, and users with no interest in adding to that
       system (or, potentially, writing their own -- see dictionary entry for `hubris') should skip the cur-<font color="#ffffff" class="whiteout">rent&nbsp;current</font>
       rent section.  The older system based on the <b>compctl</b> builtin command is described in <a href="zshcompctl.1.html#//apple_ref/doc/man/1/zshcompctl"><u>zshcompctl</u>(1)</a>.

       Completion  widgets  are  defined by the <b>-C</b> option to the <b>zle</b> builtin command provided by the <b>zsh/zle</b>
       module (see <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>). For example,

              <b>zle</b> <b>-C</b> <b>complete</b> <b>expand-or-complete</b> <b>completer</b>

       defines a widget named `<b>complete</b>'.  The second argument is the name of any  of  the  builtin  widgets
       that handle completions: <b>complete-word</b>, <b>expand-or-complete</b>, <b>expand-or-complete-prefix</b>, <b>menu-complete</b>,
       <b>menu-expand-or-complete</b>, <b>reverse-menu-complete</b>, <b>list-choices</b>, or <b>delete-char-or-list</b>.  Note that this
       will still work even if the widget in question has been re-bound.

       When  this  newly  defined  widget is bound to a key using the <b>bindkey</b> builtin command defined in the
       <b>zsh/zle</b> module (see <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>), typing that key will call the shell function `<b>completer</b>'. This  func-<font color="#ffffff" class="whiteout">tion&nbsp;function</font>
       tion  is responsible for generating the possible matches using the builtins described below.  As with
       other ZLE widgets, the function is called with its standard input closed.

       Once the function returns, the completion code takes over control again and treats the matches in the
       same manner as the specified builtin widget, in this case <b>expand-or-complete</b>.



<b>SPECIAL</b> <b>PARAMETERS</b>
       Inside  completion widgets, and any functions called from them, some parameters have special meaning;
       outside these functions they are not special to the shell in any way.  These parameters are  used  to
       pass  information between the completion code and the completion widget. Some of the builtin commands
       and the condition codes use or change the current values of these parameters.   Any  existing  values
       will be hidden during execution of completion widgets; except for <b>compstate</b>, the parameters are reset
       on each function exit (including nested function calls from within the completion widget) to the val-<font color="#ffffff" class="whiteout">ues&nbsp;values</font>
       ues they had when the function was entered.

       <b>CURRENT</b>
              This  is the number of the current word, i.e. the word the cursor is currently on in the <b>words</b>
              array.  Note that this value is only correct if the <b>ksharrays</b> option is not set.

       <b>IPREFIX</b>
              Initially this will be set to the empty string.  This parameter functions like <b>PREFIX</b>; it con-<font color="#ffffff" class="whiteout">tains&nbsp;contains</font>
              tains  a  string  which  precedes  the one in <b>PREFIX</b> and is not considered part of the list of
              matches.  Typically, a string is transferred from the  beginning  of  <b>PREFIX</b>  to  the  end  of
              <b>IPREFIX</b>, for example:

                     <b>IPREFIX=${PREFIX%%\=*}=</b>
                     <b>PREFIX=${PREFIX#*=}</b>

              causes  the  part  of the prefix up to and including the first equal sign not to be treated as
              part of a matched string.  This can be done automatically by the <b>compset</b> builtin, see below.

       <b>ISUFFIX</b>
              As <b>IPREFIX</b>, but for a suffix that should not be considered part of the matches; note that  the
              <b>ISUFFIX</b> string follows the <b>SUFFIX</b> string.

       <b>PREFIX</b> Initially  this  will be set to the part of the current word from the beginning of the word up
              to the position of the cursor; it may be altered to give a common prefix for all matches.

       <b>QIPREFIX</b>
              This parameter is read-only and contains the quoted string up to  the  word  being  completed.
              E.g.  when  completing  `<b>"foo</b>',  this parameter contains the double quote. If the <b>-q</b> option of
              <b>compset</b> is used (see below), and the original string was `<b>"foo</b> <b>bar</b>' with  the  cursor  on  the
              `<b>bar</b>', this parameter contains `<b>"foo</b> '.

       <b>QISUFFIX</b>
              Like <b>QIPREFIX</b>, but containing the suffix.

       <b>SUFFIX</b> Initially  this  will  be  set to the part of the current word from the cursor position to the
              end; it may be altered to give a common suffix for all matches.  It is most  useful  when  the
              option  <b>COMPLETE_IN_WORD</b> is set, as otherwise the whole word on the command line is treated as
              a prefix.

       <b>compstate</b>
              This is an associative array with various keys and values that the  completion  code  uses  to
              exchange information with the completion widget.  The keys are:

              <b>all_quotes</b>
                     The  <b>-q</b>  option of the <b>compset</b> builtin command (see below) allows a quoted string to be
                     broken into separate words; if the cursor is on one of those words, that word  will  be
                     completed, possibly invoking `<b>compset</b> <b>-q</b>' recursively.  With this key it is possible to
                     test the types of quoted strings which are currently broken into parts in this fashion.
                     Its  value  contains one character for each quoting level.  The characters are a single
                     quote or a double quote for strings quoted with these characters, a  dollars  sign  for
                     strings  quoted with <b>$'</b><u>...</u><b>'</b> and a backslash for strings not starting with a quote char-<font color="#ffffff" class="whiteout">acter.&nbsp;character.</font>
                     acter.  The first character in the value always corresponds to  the  innermost  quoting
                     level.

              <b>context</b>
                     This  will  be set by the completion code to the overall context in which completion is
                     attempted. Possible values are:

                     <b>array_value</b>
                            when completing inside the value of an array parameter assignment; in this  case
                            the <b>words</b> array contains the words inside the parentheses.

                     <b>brace_parameter</b>
                            when  completing the name of a parameter in a parameter expansion beginning with
                            <b>${</b>.

                     <b>assign_parameter</b>
                            when completing the name of a parameter in a parameter assignment.

                     <b>command</b>
                            when completing for a normal command (either in command position or for an argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
                            ment of the command).

                     <b>condition</b>
                            when  completing  inside  a  `<b>[[</b>...<b>]]</b>'  conditional expression; in this case the
                            <b>words</b> array contains only the words inside the conditional expression.

                     <b>math</b>   when completing in a mathematical environment such as a `<b>((</b>...<b>))</b>' construct.

                     <b>parameter</b>
                            when completing the name of a parameter in a parameter expansion beginning  with
                            <b>$</b> but not <b>${</b>.

                     <b>redirect</b>
                            when completing after a redirection operator.

                     <b>subscript</b>
                            when completing inside a parameter subscript.

                     <b>value</b>  when completing the value of a parameter assignment.

              <b>exact</b>  Controls  the  behaviour when the <b>REC_EXACT</b> option is set.  It will be set to <b>accept</b> if
                     an exact match would be accepted, and will be unset otherwise.

                     If it was set when at least one match equal to the string on the  line  was  generated,
                     the match is accepted.

              <b>exact_string</b>
                     The string of an exact match if one was found, otherwise unset.

              <b>ignored</b>
                     The  number  of  words that were ignored because they matched one of the patterns given
                     with the <b>-F</b> option to the <b>compadd</b> builtin command.

              <b>insert</b> This controls the manner in which a match is inserted into the command line.  On  entry
                     to the widget function, if it is unset the command line is not to be changed; if set to
                     <b>unambiguous</b>,  any  prefix  common  to  all  matches  is  to  be  inserted;  if  set  to
                     <b>automenu-unambiguous</b>,  the  common  prefix is to be inserted and the next invocation of
                     the completion code may start menu completion (due to the <b>AUTO_MENU</b> option being  set);
                     if  set  to  <b>menu</b> or <b>automenu</b> menu completion will be started for the matches currently
                     generated (in the latter case this will happen because the <b>AUTO_MENU</b> is set). The value
                     may also contain the string `<b>tab</b>' when the completion code would normally not really do
                     completion, but only insert the TAB character.

                     On exit it may be set to any of the values above (where setting it to the empty  string
                     is  the  same as unsetting it), or to a number, in which case the match whose number is
                     given will be inserted into the command line.  Negative numbers count backward from the
                     last  match  (with  `<b>-1</b>'  selecting the last match) and out-of-range values are wrapped
                     around, so that a value of zero selects the last match and a value one  more  than  the
                     maximum  selects  the first. Unless the value of this key ends in a space, the match is
                     inserted as in a menu completion, i.e. without automatically appending a space.

                     Both <b>menu</b> and <b>automenu</b> may also specify the the number of the match  to  insert,  given
                     after a colon.  For example, `<b>menu:2</b>' says to start menu completion, beginning with the
                     second match.

                     Note that a value containing the substring `<b>tab</b>' makes the matches generated be ignored
                     and only the TAB be inserted.

                     Finally,  it may also be set to <b>all</b>, which makes all matches generated be inserted into
                     the line.

              <b>insert_positions</b>
                     When the completion system inserts an unambiguous string into the line,  there  may  be
                     multiple  places  where  characters are missing or where the character inserted differs
                     from at least one match.  The value of this key contains a colon separated list of  all
                     these positions, as indexes into the command line.

              <b>last_prompt</b>
                     If  this  is  set to a non-empty string for every match added, the completion code will
                     move the cursor back to the previous prompt after the list of completions has been dis-<font color="#ffffff" class="whiteout">played.&nbsp;displayed.</font>
                     played.  Initially this is set or unset according to the <b>ALWAYS_LAST_PROMPT</b> option.

              <b>list</b>   This  controls whether or how the list of matches will be displayed.  If it is unset or
                     empty they will never be listed; if its value begins with <b>list</b>,  they  will  always  be
                     listed; if it begins with <b>autolist</b> or <b>ambiguous</b>, they will be listed when the <b>AUTO_LIST</b>
                     or <b>LIST_AMBIGUOUS</b> options respectively would normally cause them to be.

                     If the substring <b>force</b> appears in the value, this makes the list be shown even if there
                     is  only  one  match.  Normally, the list would be shown only if there are at least two
                     matches.

                     The value contains the substring <b>packed</b> if the <b>LIST_PACKED</b> option is set. If this  sub-<font color="#ffffff" class="whiteout">string&nbsp;substring</font>
                     string  is given for all matches added to a group, this group will show the <b>LIST_PACKED</b>
                     behavior. The same is done for the <b>LIST_ROWS_FIRST</b> option with the substring <b>rows</b>.

                     Finally, if the value contains the string <b>explanations</b>, only the  explanation  strings,
                     if  any,  will be listed and if it contains <b>messages</b>, only the messages (added with the
                     <b>-x</b> option of <b>compadd</b>) will be listed.  If it contains both  <b>explanations</b>  and  <b>messages</b>
                     both  kinds  of  explanation  strings  will be listed.  It will be set appropriately on
                     entry to a completion widget and may be changed there.

              <b>list_lines</b>
                     This gives the number of lines that are needed to display the full list of completions.
                     Note  that to calculate the total number of lines to display you need to add the number
                     of lines needed for the command line to this value, this is available as the  value  of
                     the <b>BUFFERLINES</b> special parameter.

              <b>list_max</b>
                     Initially  this  is  set  to  the value of the <b>LISTMAX</b> parameter.  It may be set to any
                     other value; when the widget exits this value will be used in the same way as the value
                     of <b>LISTMAX</b>.

              <b>nmatches</b>
                     The number of matches generated and accepted by the completion code so far.

              <b>old_insert</b>
                     On  entry  to  the widget this will be set to the number of the match of an old list of
                     completions that is currently inserted into the command line.  If  no  match  has  been
                     inserted, this is unset.

                     As  with <b>old_list</b>, the value of this key will only be used if it is the string <b>keep</b>. If
                     it was set to this value by the widget and there was an old  match  inserted  into  the
                     command line, this match will be kept and if the value of the <b>insert</b> key specifies that
                     another match should be inserted, this will be inserted after the old one.

              <b>old_list</b>
                     This is set to <b>yes</b> if there is still a valid list of completions from a  previous  com-<font color="#ffffff" class="whiteout">pletion&nbsp;completion</font>
                     pletion  at  the time the widget is invoked.  This will usually be the case if and only
                     if the previous editing operation was a completion widget or one of the builtin comple-<font color="#ffffff" class="whiteout">tion&nbsp;completion</font>
                     tion functions.  If there is a valid list and it is also currently shown on the screen,
                     the value of this key is <b>shown</b>.

                     After the widget has exited the value of this key is only used if it was set  to  <b>keep</b>.
                     In  this  case  the  completion code will continue to use this old list.  If the widget
                     generated new matches, they will not be used.

              <b>parameter</b>
                     The name of the parameter when completing in a subscript or in the value of a parameter
                     assignment.

              <b>pattern_insert</b>
                     Normally  this  is set to <b>menu</b>, which specifies that menu completion will be used when-<font color="#ffffff" class="whiteout">ever&nbsp;whenever</font>
                     ever a set of matches was generated using pattern matching.  If it is set to any  other
                     non-empty  string  by the user and menu completion is not selected by other option set-<font color="#ffffff" class="whiteout">tings,&nbsp;settings,</font>
                     tings, the code will instead insert any common prefix for the generated matches as with
                     normal completion.

              <b>pattern_match</b>
                     Locally  controls the behaviour given by the <b>GLOB_COMPLETE</b> option.  Initially it is set
                     to `<b>*</b>' if and only if the option is set.  The completion widget  may  set  it  to  this
                     value,  to an empty string (which has the same effect as unsetting it), or to any other
                     non-empty string.  If it is non-empty, unquoted metacharacters on the command line will
                     be  treated  as  patterns; if it is `<b>*</b>', then additionally a wildcard `<b>*</b>' is assumed at
                     the cursor position; if it is empty or unset, metacharacters will be treated literally.

                     Note  that the matcher specifications given to the <b>compadd</b> builtin command are not used
                     if this is set to a non-empty string.

              <b>quote</b>  When completing inside quotes, this contains the quotation  character  (i.e.  either  a
                     single quote, a double quote, or a backtick).  Otherwise it is unset.

              <b>quoting</b>
                     When  completing  inside single quotes, this is set to the string <b>single</b>; inside double
                     quotes, the string <b>double</b>; inside backticks, the  string  <b>backtick</b>.   Otherwise  it  is
                     unset.

              <b>redirect</b>
                     The  redirection  operator when completing in a redirection position, i.e. one of <b>&lt;</b>, <b>&gt;</b>,
                     etc.

              <b>restore</b>
                     This is set to <b>auto</b> before a function is entered, which forces the  special  parameters
                     mentioned  above  (<b>words</b>, <b>CURRENT</b>, <b>PREFIX</b>, <b>IPREFIX</b>, <b>SUFFIX</b>, and <b>ISUFFIX</b>) to be restored
                     to their previous values when the function exits.   If a function unsets it or sets  it
                     to any other string, they will not be restored.

              <b>to_end</b> Specifies  the  occasions  on  which  the cursor is moved to the end of a string when a
                     match is inserted.  On entry to a widget function, it may be <b>single</b> if this will happen
                     when  a  single  unambiguous  match  was inserted or <b>match</b> if it will happen any time a
                     match is inserted (for example, by menu completion; this is likely to be the effect  of
                     the <b>ALWAYS_TO_END</b> option).

                     On  exit,  it  may  be set to <b>single</b> as above.  It may also be set to <b>always</b>, or to the
                     empty string or unset; in those cases the cursor will be moved to the end of the string
                     always or never respectively.  Any other string is treated as <b>match</b>.

              <b>unambiguous</b>
                     This  key  is  read-only  and will always be set to the common (unambiguous) prefix the
                     completion code has generated for all matches added so far.

              <b>unambiguous_cursor</b>
                     This gives the position the cursor would be placed at if the common prefix in the <b>unam</b>-<font color="#ffffff" class="whiteout">biguous&nbsp;unambiguous</font>
                     <b>biguous</b>  key  were  inserted,  relative  to  the value of that key. The cursor would be
                     placed before the character whose index is given by this key.

              <b>unambiguous_positions</b>
                     This contains all positions where characters in the unambiguous string are  missing  or
                     where  the  character inserted differs from at least one of the matches.  The positions
                     are given as indexes into the string given by the value of the <b>unambiguous</b> key.

              <b>vared</b>  If completion is called while editing a line using the <b>vared</b> builtin, the value of this
                     key  is  set  to  the name of the parameter given as an argument to <b>vared</b>.  This key is
                     only set while a <b>vared</b> command is active.

       <b>words</b>  This array contains the words present on the command line currently being edited.


<b>BUILTIN</b> <b>COMMANDS</b>
       <b>compadd</b> [ <b>-akqQfenUld12C</b> ] [ <b>-F</b> <u>array</u> ]
       [ <b>-P</b> <u>prefix</u> ] [ <b>-S</b> <u>suffix</u> ]
       [ <b>-p</b> <u>hidden-prefix</u> ] [ <b>-s</b> <u>hidden-suffix</u> ]
       [ <b>-i</b> <u>ignored-prefix</u> ] [ <b>-I</b> <u>ignored-suffix</u> ]
       [ <b>-W</b> <u>file-prefix</u> ] [ <b>-d</b> <u>array</u> ]
       [ <b>-J</b> <u>name</u> ] [ <b>-V</b> <u>name</u> ] [ <b>-X</b> <u>explanation</u> ] [ <b>-x</b> <u>message</u> ]
       [ <b>-r</b> <u>remove-chars</u> ] [ <b>-R</b> <u>remove-func</u> ]
       [ <b>-D</b> <u>array</u> ] [ <b>-O</b> <u>array</u> ] [ <b>-A</b> <u>array</u> ]
       [ <b>-E</b> <u>number</u> ]
       [ <b>-M</b> <u>match-spec</u> ] [ <b>--</b> ] [ <u>words</u> ... ]

              This builtin command can be used to add matches directly and control all the  information  the
              completion  code  stores  with  each possible match. The return status is zero if at least one
              match was added and non-zero if no matches were added.

              The completion code breaks the string to complete into seven fields in the order:

                     <u>&lt;ipre&gt;&lt;apre&gt;&lt;hpre&gt;&lt;word&gt;&lt;hsuf&gt;&lt;asuf&gt;&lt;isuf&gt;</u>

              The first field is an ignored prefix taken from the command line, the contents of the  <b>IPREFIX</b>
              parameter  plus  the string given with the <b>-i</b> option. With the <b>-U</b> option, only the string from
              the <b>-i</b> option is used. The field <u>&lt;apre&gt;</u> is an optional prefix string given with the <b>-P</b> option.
              The <u>&lt;hpre&gt;</u> field is a string that is considered part of the match but that should not be shown
              when listing completions, given with the <b>-p</b> option; for example, functions  that  do  filename
              generation  might specify a common path prefix this way.  <u>&lt;word&gt;</u> is the part of the match that
              should appear in the list of completions, i.e. one of the <u>words</u> given at the end of  the  <b>com</b>-<font color="#ffffff" class="whiteout">padd&nbsp;compadd</font>
              <b>padd</b>  command  line. The suffixes <u>&lt;hsuf&gt;</u>, <u>&lt;asuf&gt;</u> and <u>&lt;isuf&gt;</u> correspond to the prefixes <u>&lt;hpre&gt;</u>,
              <u>&lt;apre&gt;</u> and <u>&lt;ipre&gt;</u> and are given by the options <b>-s</b>, <b>-S</b> and <b>-I</b>, respectively.

              The supported flags are:

              <b>-P</b> <u>prefix</u>
                     This gives a string to be inserted before the given <u>words</u>.  The  string  given  is  not
                     considered  as  part of the match and any shell metacharacters in it will not be quoted
                     when the string is inserted.

              <b>-S</b> <u>suffix</u>
                     Like <b>-P</b>, but gives a string to be inserted after the match.

              <b>-p</b> <u>hidden-prefix</u>
                     This gives a string that should be inserted into the command line before the match  but
                     that  should  not  appear  in  the list of matches. Unless the <b>-U</b> option is given, this
                     string must be matched as part of the string on the command line.

              <b>-s</b> <u>hidden-suffix</u>
                     Like `<b>-p</b>', but gives a string to insert after the match.

              <b>-i</b> <u>ignored-prefix</u>
                     This gives a string to insert into the command line just before any string  given  with
                     the `<b>-P</b>' option.  Without `<b>-P</b>' the string is inserted before the string given with `<b>-p</b>'
                     or directly before the match.

              <b>-I</b> <u>ignored-suffix</u>
                     Like <b>-i</b>, but gives an ignored suffix.

              <b>-a</b>     With this flag the <u>words</u> are taken as names of arrays  and  the  possible  matches  are
                     their  values.  If only some elements of the arrays are needed, the <u>words</u> may also con-<font color="#ffffff" class="whiteout">tain&nbsp;contain</font>
                     tain subscripts, as in `<b>foo[2,-1]</b>'.

              <b>-k</b>     With this flag the <u>words</u> are taken as names of  associative  arrays  and  the  possible
                     matches  are  their  keys.   As  for  <b>-a</b>,  the <u>words</u> may also contain subscripts, as in
                     <!-- a -->`<b>foo[(R)</b><!-- /a --><b>*bar*]</b>'.

              <b>-d</b> <u>array</u>
                     This adds per-match display strings. The <u>array</u> should  contain  one  element  per  <u>word</u>
                     given.  The  completion  code  will then display the first element instead of the first
                     <u>word</u>, and so on. The <u>array</u> may be given as the name of an array parameter  or  directly
                     as a space-separated list of words in parentheses.

                     If  there  are  fewer  display strings than <u>words</u>, the leftover <u>words</u> will be displayed
                     unchanged and if there are more  display  strings  than  <u>words</u>,  the  leftover  display
                     strings will be silently ignored.

              <b>-l</b>     This option only has an effect if used together with the <b>-d</b> option. If it is given, the
                     display strings are listed one per line, not arrayed in columns.

              <b>-o</b>     This option only has an effect if used together with the <b>-d</b> option.  If  it  is  given,
                     the order of the output is determined by the match strings;  otherwise it is determined
                     by the display strings (i.e. the strings given by the <b>-d</b> option).

              <b>-J</b> <u>name</u>
                     Gives the name of the group of matches the words should be stored in.

              <b>-V</b> <u>name</u>
                     Like <b>-J</b> but naming a unsorted group. These are in a different name  space  than  groups
                     created with the <b>-J</b> flag.

              <b>-1</b>     If given together with the <b>-V</b> option, makes only consecutive duplicates in the group be
                     removed. If combined with the <b>-J</b> option, this has no visible effect. Note  that  groups
                     with and without this flag are in different name spaces.

              <b>-2</b>     If given together with the <b>-J</b> or <b>-V</b> option, makes all duplicates be kept. Again, groups
                     with and without this flag are in different name spaces.

              <b>-X</b> <u>explanation</u>
                     The <u>explanation</u> string will be printed with the list of matches, above the  group  cur-<font color="#ffffff" class="whiteout">rently&nbsp;currently</font>
                     rently selected.

              <b>-x</b> <u>message</u>
                     Like <b>-X</b>, but the <u>message</u> will be printed even if there are no matches in the group.

              <b>-q</b>     The suffix given with <b>-S</b> will be automatically removed if the next character typed is a
                     blank or does not insert anything, or if the suffix consists of only one character  and
                     the next character typed is the same character.

              <b>-r</b> <u>remove-chars</u>
                     This  is a more versatile form of the <b>-q</b> option.  The suffix given with <b>-S</b> or the slash
                     automatically added after completing directories will be automatically removed  if  the
                     next  character  typed  inserts  one of the characters given in the <u>remove-chars</u>.  This
                     string is parsed as a characters class and understands the backslash sequences used  by
                     the  <b>print</b> command.  For example, `<b>-r</b> <b>"a-z\t"</b>' removes the suffix if the next character
                     typed inserts a lowercase character or a TAB, and `<b>-r</b> <b>"^0-9"</b>' removes the suffix if the
                     next  character  typed  inserts  anything  but a digit. One extra backslash sequence is
                     understood in this string: `<b>\-</b>' stands for all characters that insert nothing. Thus `<b>-S</b>
                     <b>"="</b> <b>-q</b>' is the same as `<b>-S</b> <b>"="</b> <b>-r</b> <b>"=</b> <b>\t\n\-"</b>'.

                     This  option may also be used without the <b>-S</b> option; then any automatically added space
                     will be removed when one of the characters in the list is typed.

              <b>-R</b> <u>remove-func</u>
                     This is another form of the <b>-r</b> option. When a suffix has been inserted and the  comple-<font color="#ffffff" class="whiteout">tion&nbsp;completion</font>
                     tion  accepted, the function <u>remove-func</u> will be called after the next character typed.
                     It is passed the length of the suffix as an argument and can use the special parameters
                     available  in ordinary (non-completion) zle widgets (see <a href="zshzle.1.html#//apple_ref/doc/man/1/zshzle"><u>zshzle</u>(1)</a>) to analyse and mod-<font color="#ffffff" class="whiteout">ify&nbsp;modify</font>
                     ify the command line.

              <b>-f</b>     If this flag is given, all of the matches built from <u>words</u>  are  marked  as  being  the
                     names of files.  They are not required to be actual filenames, but if they are, and the
                     option <b>LIST_TYPES</b> is set, the characters describing the types of the files in the  com-<font color="#ffffff" class="whiteout">pletion&nbsp;completion</font>
                     pletion  lists  will  be shown. This also forces a slash to be added when the name of a
                     directory is completed.

              <b>-e</b>     This flag can be used to tell the completion code that the matches added are  parameter
                     names   for   a   parameter   expansion.   This  will  make  the  <b>AUTO_PARAM_SLASH</b>  and
                     <b>AUTO_PARAM_KEYS</b> options be used for the matches.

              <b>-W</b> <u>file-prefix</u>
                     This string is a pathname that will be prepended to each of the matches formed  by  the
                     given  <u>words</u>  together  with  any  prefix specified by the <b>-p</b> option to form a complete
                     filename for testing.  Hence it is only useful if combined with the  <b>-f</b>  flag,  as  the
                     tests will not otherwise be performed.

              <b>-F</b> <u>array</u>
                     Specifies  an  array  containing  patterns.  Words  matching  one of these patterns are
                     ignored, i.e. not considered to be possible matches.

                     The <u>array</u> may be the name of an array parameter or a list of literal patterns  enclosed
                     in  parentheses and quoted, as in `<b>-F</b> <b>"(*?.o</b> <b>*?.h)"</b>'. If the name of an array is given,
                     the elements of the array are taken as the patterns.

              <b>-Q</b>     This flag instructs the completion code not to quote any metacharacters  in  the  words
                     when inserting them into the command line.

              <b>-M</b> <u>match-spec</u>
                     This  gives local match specifications as described below in the section `Matching Con-<font color="#ffffff" class="whiteout">trol'.&nbsp;Control'.</font>
                     trol'. This option may be given more than once. In this case all <u>match-spec</u>s given  are
                     concatenated  with  spaces  between them to form the specification string to use.  Note
                     that they will only be used if the <b>-U</b> option is not given.

              <b>-n</b>     Specifies that the words added are to be used as  possible  matches,  but  are  not  to
                     appear in the completion listing.

              <b>-U</b>     If this flag is given, all words given will be accepted and no matching will be done by
                     the completion code. Normally this is used in functions  that  do  the  matching  them-<font color="#ffffff" class="whiteout">selves.&nbsp;themselves.</font>
                     selves.

              <b>-O</b> <u>array</u>
                     If  this  option  is given, the <u>words</u> are <u>not</u> added to the set of possible completions.
                     Instead, matching is done as usual and all of the <u>words</u> given as arguments  that  match
                     the  string  on  the  command  line will be stored in the array parameter whose name is
                     given as <u>array</u>.

              <b>-A</b> <u>array</u>
                     As the <b>-O</b> option, except that instead of those of the <u>words</u> which match being stored in
                     <u>array</u>, the strings generated internally by the completion code are stored. For example,
                     with a matching specification of `<b>-M</b> <b>"L:|no="</b>', the string `<b>nof</b>' on  the  command  line
                     and  the string `<b>foo</b>' as one of the <u>words</u>, this option stores the string `<b>nofoo</b>' in the
                     array, whereas the <b>-O</b> option stores the `<b>foo</b>' originally given.

              <b>-D</b> <u>array</u>
                     As with <b>-O</b>, the <u>words</u> are not added to the set of possible completions.   Instead,  the
                     completion  code  tests  whether each <u>word</u> in turn matches what is on the line.  If the
                     <u>n</u>'th <u>word</u> does not match, the <u>n</u>'th element of the <u>array</u> is removed.  Elements for which
                     the corresponding <u>word</u> is matched are retained.

              <b>-C</b>     This  option adds a special match which expands to all other matches when inserted into
                     the line, even those that are added after this option is used.  Together  with  the  <b>-d</b>
                     option it is possible to specify a string that should be displayed in the list for this
                     special match.  If no string is given, it will be shown  as  a  string  containing  the
                     strings  that  would  be  inserted for the other matches, truncated to the width of the
                     screen.

              <b>-E</b>     This option adds <u>number</u> empty matches after the <u>words</u> have been added.  An empty  match
                     takes  up space in completion listings but will never be inserted in the line and can't
                     be selected with menu completion or menu selection.  This makes empty matches only use-<font color="#ffffff" class="whiteout">ful&nbsp;useful</font>
                     ful  to  format  completion lists and to make explanatory string be shown in completion
                     lists (since empty matches can be given display  strings  with  the  <b>-d</b>  option).   And
                     because all but one empty string would otherwise be removed, this option implies the <b>-V</b>
                     and <b>-2</b> options (even if an explicit <b>-J</b> option is given).

              <b></b>-<font color="#ffffff" class="whiteout">--&nbsp;given).--</font>
              <b>--</b>     This flag ends the list of flags and options. All arguments after it will be  taken  as
                     the words to use as matches even if they begin with hyphens.

              Except  for the <b>-M</b> flag, if any of these flags is given more than once, the first one (and its
              argument) will be used.

       <b>compset</b> <b>-p</b> <u>number</u>
       <b>compset</b> <b>-P</b> [ <u>number</u> ] <u>pattern</u>
       <b>compset</b> <b>-s</b> <u>number</u>
       <b>compset</b> <b>-S</b> [ <u>number</u> ] <u>pattern</u>
       <b>compset</b> <b>-n</b> <u>begin</u> [ <u>end</u> ]
       <b>compset</b> <b>-N</b> <u>beg-pat</u> [ <u>end-pat</u> ]
       <b>compset</b> <b>-q</b>
              This command simplifies modification of the special parameters, while its return status allows
              tests on them to be carried out.

              The options are:

              <b>-p</b> <u>number</u>
                     If  the  contents  of  the <b>PREFIX</b> parameter is longer than <u>number</u> characters, the first
                     <u>number</u> characters are removed from it and appended  to  the  contents  of  the  <b>IPREFIX</b>
                     parameter.

              <b>-P</b> [ <u>number</u> ] <u>pattern</u>
                     If the value of the <b>PREFIX</b> parameter begins with anything that matches the <u>pattern</u>, the
                     matched portion is removed from <b>PREFIX</b> and appended to <b>IPREFIX</b>.

                     Without the optional <u>number</u>, the longest match is taken, but if <u>number</u> is  given,  any-<font color="#ffffff" class="whiteout">thing&nbsp;anything</font>
                     thing  up  to  the  <u>number</u>'th match is moved.  If the <u>number</u> is negative, the <u>number</u>'th
                     longest match is moved. For example,  if  <b>PREFIX</b>  contains  the  string  `<b>a=b=c</b>',  then
                     <b>compset</b> <b>-P</b> <b>'*\='</b> will move the string `<b>a=b=</b>' into the <b>IPREFIX</b> parameter, but <b>compset</b> <b>-P</b>
                     <b>1</b> <b>'*\='</b> will move only the string `<b>a=</b>'.

              <b>-s</b> <u>number</u>
                     As <b>-p</b>, but transfer the last <u>number</u> characters from the value of <b>SUFFIX</b> to the front of
                     the value of <b>ISUFFIX</b>.

              <b>-S</b> [ <u>number</u> ] <u>pattern</u>
                     As  <b>-P</b>,  but  match  the last portion of <b>SUFFIX</b> and transfer the matched portion to the
                     front of the value of <b>ISUFFIX</b>.

              <b>-n</b> <u>begin</u> [ <u>end</u> ]
                     If the current word position as specified by the parameter <b>CURRENT</b> is greater  than  or
                     equal  to  <u>begin</u>,  anything up to the <u>begin</u>'th word is removed from the <b>words</b> array and
                     the value of the parameter <b>CURRENT</b> is decremented by <u>begin</u>.

                     If the optional <u>end</u> is given, the modification is done only if the current  word  posi-<font color="#ffffff" class="whiteout">tion&nbsp;position</font>
                     tion  is  also  less  than  or  equal to <u>end</u>. In this case, the words from position <u>end</u>
                     onwards are also removed from the <b>words</b> array.

                     Both <u>begin</u> and <u>end</u> may be negative to count backwards from  the  last  element  of  the
                     <b>words</b> array.

              <b>-N</b> <u>beg-pat</u> [ <u>end-pat</u> ]
                     If  one  of  the  elements  of the <b>words</b> array before the one at the index given by the
                     value of the parameter <b>CURRENT</b> matches the pattern <u>beg-pat</u>,  all  elements  up  to  and
                     including the matching one are removed from the <b>words</b> array and the value of <b>CURRENT</b> is
                     changed to point to the same word in the changed array.

                     If the optional pattern <u>end-pat</u> is also given, and there is an  element  in  the  <b>words</b>
                     array matching this pattern, the parameters are modified only if the index of this word
                     is higher than the one given by the <b>CURRENT</b> parameter (so that the matching word has to
                     be  after  the  cursor). In this case, the words starting with the one matching <b>end-pat</b>
                     are also removed from the <b>words</b> array. If <b>words</b> contains no word matching <u>end-pat</u>,  the
                     testing and modification is performed as if it were not given.

              <b>-q</b>     The  word  currently being completed is split on spaces into separate words, respecting
                     the usual shell quoting conventions.  The resulting  words  are  stored  in  the  <b>words</b>
                     array,  and <b>CURRENT</b>, <b>PREFIX</b>, <b>SUFFIX</b>, <b>QIPREFIX</b>, and <b>QISUFFIX</b> are modified to reflect the
                     word part that is completed.

              In all the above cases the return status is zero if the test succeeded and the parameters were
              modified and non-zero otherwise. This allows one to use this builtin in tests such as:

                     <b>if</b> <b>compset</b> <b>-P</b> <b>'*\=';</b> <b>then</b> <b>...</b>

              This  forces  anything up to and including the last equal sign to be ignored by the completion
              code.

       <b>compcall</b> [ <b>-TD</b> ]
              This allows the use of completions defined with the <b>compctl</b>  builtin  from  within  completion
              widgets.   The  list of matches will be generated as if one of the non-widget completion func-<font color="#ffffff" class="whiteout">tion&nbsp;function</font>
              tion (<b>complete-word</b>, etc.)  had been called, except that only <b>compctl</b>s given for specific com-<font color="#ffffff" class="whiteout">mands&nbsp;commands</font>
              mands  are  used.  To  force the code to try completions defined with the <b>-T</b> option of <b>compctl</b>
              and/or the default completion (whether defined by <b>compctl</b> <b>-D</b> or the builtin  default)  in  the
              appropriate places, the <b>-T</b> and/or <b>-D</b> flags can be passed to <b>compcall</b>.

              The  return  status  can  be  used  to  test if a matching <b>compctl</b> definition was found. It is
              non-zero if a <b>compctl</b> was found and zero otherwise.

              Note that this builtin is defined by the <b>zsh/compctl</b> module.


<b>CONDITION</b> <b>CODES</b>
       The following additional condition codes for use within the <b>[[</b> <b>...</b> <b>]]</b> construct are available in com-<font color="#ffffff" class="whiteout">pletion&nbsp;completion</font>
       pletion  widgets.  These work on the special parameters.  All of these tests can also be performed by
       the <b>compset</b> builtin, but in the case of the condition codes the contents of  the  special  parameters
       are not modified.

       <b>-prefix</b> [ <u>number</u> ] <u>pattern</u>
              true if the test for the <b>-P</b> option of <b>compset</b> would succeed.

       <b>-suffix</b> [ <u>number</u> ] <u>pattern</u>
              true if the test for the <b>-S</b> option of <b>compset</b> would succeed.

       <b>-after</b> <u>beg-pat</u>
              true if the test of the <b>-N</b> option with only the <u>beg-pat</u> given would succeed.

       <b>-between</b> <u>beg-pat</u> <u>end-pat</u>
              true if the test for the <b>-N</b> option with both patterns would succeed.


<b>MATCHING</b> <b>CONTROL</b>
       It  is  possible by use of the <b>-M</b> option of the <b>compadd</b> builtin command to specify how the characters
       in the string to be completed (referred to here as the command line) map onto the characters  in  the
       list  of  matches  produced  by the completion code (referred to here as the trial completions). Note
       that this is not used if the command line contains a glob pattern and the <b>GLOB_COMPLETE</b> option is set
       or the <b>pattern_match</b> of the <b>compstate</b> special association is set to a non-empty string.

       The  <u>match-spec</u> given as the argument to the <b>-M</b> option (see `Builtin Commands' above) consists of one
       or more matching descriptions separated by whitespace.  Each description consists of  a  letter  fol-<font color="#ffffff" class="whiteout">lowed&nbsp;followed</font>
       lowed  by  a colon and then the patterns describing which character sequences on the line match which
       character sequences in the trial completion.  Any sequence of characters not handled in this  fashion
       must match exactly, as usual.

       The  forms  of <u>match-spec</u> understood are as follows. In each case, the form with an uppercase initial
       character retains the string already typed on the command line as the  final  result  of  completion,
       while  with  a  lowercase initial character the string on the command line is changed into the corre-<font color="#ffffff" class="whiteout">sponding&nbsp;corresponding</font>
       sponding part of the trial completion.

       <b>m:</b><u>lpat</u><b>=</b><u>tpat</u>
       <b>M:</b><u>lpat</u><b>=</b><u>tpat</u>
              Here, <u>lpat</u> is a pattern that matches on the command line, corresponding to <u>tpat</u> which  matches
              in the trial completion.

       <b>l:</b><u>lanchor</u><b>|</b><u>lpat</u><b>=</b><u>tpat</u>
       <b>L:</b><u>lanchor</u><b>|</b><u>lpat</u><b>=</b><u>tpat</u>
       <b>l:</b><u>lanchor</u><b>||</b><u>ranchor</u><b>=</b><u>tpat</u>
       <b>L:</b><u>lanchor</u><b>||</b><u>ranchor</u><b>=</b><u>tpat</u>
       <b>b:</b><u>lpat</u><b>=</b><u>tpat</u>
       <b>B:</b><u>lpat</u><b>=</b><u>tpat</u>
              These letters are for patterns that are anchored by another pattern on the left side. Matching
              for <u>lpat</u> and <u>tpat</u> is as for <b>m</b> and <b>M</b>, but the pattern <u>lpat</u> matched on the command line must  be
              preceded by the pattern <u>lanchor</u>.  The <u>lanchor</u> can be blank to anchor the match to the start of
              the command line string; otherwise the anchor can occur anywhere, but must match in  both  the
              command line and trial completion strings.

              If  no <u>lpat</u> is given but a <u>ranchor</u> is, this matches the gap between substrings matched by <u>lan</u>-<font color="#ffffff" class="whiteout">chor&nbsp;lanchor</font>
              <u>chor</u> and <u>ranchor</u>. Unlike <u>lanchor</u>, the <u>ranchor</u> only needs to match the trial completion string.

              The  <b>b</b>  and  <b>B</b>  forms  are similar to <b>l</b> and <b>L</b> with an empty anchor, but need to match only the
              beginning of the trial completion or the word on the command line, respectively.

       <b>r:</b><u>lpat</u><b>|</b><u>ranchor</u><b>=</b><u>tpat</u>
       <b>R:</b><u>lpat</u><b>|</b><u>ranchor</u><b>=</b><u>tpat</u>
       <b>r:</b><u>lanchor</u><b>||</b><u>ranchor</u><b>=</b><u>tpat</u>
       <b>R:</b><u>lanchor</u><b>||</b><u>ranchor</u><b>=</b><u>tpat</u>
       <b>e:</b><u>lpat</u><b>=</b><u>tpat</u>
       <b>E:</b><u>lpat</u><b>=</b><u>tpat</u>
              As <b>l</b>, <b>L</b>, <b>b</b> and <b>B</b>, with the difference that the command line and trial completion patterns  are
              anchored  on  the  right side.  Here an empty <u>ranchor</u> and the <b>e</b> and <b>E</b> forms force the match to
              the end of the trial completion or command line string.

       Each <u>lpat</u>, <u>tpat</u> or <u>anchor</u> is either an empty string or consists of a sequence of  literal  characters
       (which  may  be  quoted  with  a  backslash),  question  marks, character classes, and correspondence
       classes; ordinary shell patterns are not used.  Literal characters match  only  themselves,  question
       marks  match  any character, and character classes are formed as for globbing and match any character
       in the given set.

       Correspondence classes are defined like character classes, but with two differences: they are  delim-<font color="#ffffff" class="whiteout">ited&nbsp;delimited</font>
       ited by a pair of braces, and negated classes are not allowed, so the characters <b>!</b> and <b>^</b> have no spe-<font color="#ffffff" class="whiteout">cial&nbsp;special</font>
       cial meaning directly after the opening brace.  They indicate that a range of characters on the  line
       match  a  range of characters in the trial completion, but (unlike ordinary character classes) paired
       according to the corresponding position in the sequence. For example, to make any lowercase letter on
       the   line   match  the  corresponding  uppercase  letter  in  the  trial  completion,  you  can  use
       `<b>m:{a-z}={A-Z}</b>'.  More than one pair of classes can occur, in which case the first class before the <b>=</b>
       corresponds to the first after it, and so on.  If one side has more such classes than the other side,
       the superfluous classes behave like normal character  classes.   In  anchor  patterns  correspondence
       classes also behave like normal character classes.

       The  pattern  <u>tpat</u> may also be one or two stars, `<b>*</b>' or `<b>**</b>'. This means that the pattern on the com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
       mand line can match any number of characters in the trial completion. In this case the  pattern  must
       be  anchored  (on  either side); in the case of a single star, the <u>anchor</u> then determines how much of
       the trial completion is to be included -- only the characters up to the next appearance of the anchor
       will be matched. With two stars, substrings matched by the anchor can be matched, too.

       Examples:

       The  keys of the <b>options</b> association defined by the <b>parameter</b> module are the option names in all-low-<font color="#ffffff" class="whiteout">ercase&nbsp;all-lowercase</font>
       ercase form, without underscores, and without the optional  <b>no</b>  at  the  beginning  even  though  the
       builtins  <b>setopt</b>  and  <b>unsetopt</b>  understand option names with uppercase letters, underscores, and the
       optional <b>no</b>.  The following alters the matching rules so that the prefix <b>no</b> and  any  underscore  are
       ignored  when trying to match the trial completions generated and uppercase letters on the line match
       the corresponding lowercase letters in the words:

              <b>compadd</b> <b>-M</b> <b>'L:|[nN][oO]=</b> <b>M:_=</b> <b>M:{A-Z}={a-z}'</b> <b>-</b> <b>\</b>
                <b>${(k)options}</b>

       The first part says that the pattern `<b>[nN][oO]</b>' at the beginning (the empty anchor  before  the  pipe
       symbol)  of the string on the line matches the empty string in the list of words generated by comple-<font color="#ffffff" class="whiteout">tion,&nbsp;completion,</font>
       tion, so it will be ignored if present. The second part does the same for an underscore  anywhere  in
       the  command line string, and the third part uses correspondence classes so that any uppercase letter
       on the line matches the corresponding lowercase letter in the word. The use of the uppercase forms of
       the  specification  characters  (<b>L</b>  and <b>M</b>) guarantees that what has already been typed on the command
       line (in particular the prefix <b>no</b>) will not be deleted.

       Note that the use of <b>L</b> in the first part means that it matches only when at the beginning of both the
       command  line  string  and  the  trial completion. I.e., the string `<b>_NO_f</b>' would not be completed to
       `<b>_NO_foo</b>', nor would `<b>NONO_f</b>' be completed to `<b>NONO_foo</b>' because of the  leading  underscore  or  the
       second  `<b>NO</b>'  on the line which makes the pattern fail even though they are otherwise ignored. To fix
       this, one would use `<b>B:[nN][oO]=</b>' instead of the first part. As described above, this matches at  the
       beginning  of the trial completion, independent of other characters or substrings at the beginning of
       the command line word which are ignored by the same or other <u>match-spec</u>s.

       The second example makes completion case insensitive.  This is just the same as in the  option  exam-<font color="#ffffff" class="whiteout">ple,&nbsp;example,</font>
       ple, except here we wish to retain the characters in the list of completions:

              <b>compadd</b> <b>-M</b> <b>'m:{a-z}={A-Z}'</b> <b>...</b>

       This makes lowercase letters match their uppercase counterparts.  To make uppercase letters match the
       lowercase forms as well:

              <b>compadd</b> <b>-M</b> <b>'m:{a-zA-Z}={A-Za-z}'</b> <b>...</b>

       A nice example for the use of <b>*</b> patterns is partial word completion. Sometimes you would like to make
       strings  like  `<b>c.s.u</b>' complete to strings like `<b>comp.source.unix</b>', i.e. the word on the command line
       consists of multiple parts, separated by a dot in this example, where each part should  be  completed
       separately  --  note,  however,  that the case where each part of the word, i.e. `<b>comp</b>', `<b>source</b>' and
       `<b>unix</b>' in this example, is to be completed from separate sets of matches is a different problem to be
       solved by the implementation of the completion widget.  The example can be handled by:

              <b>compadd</b> <b>-M</b> <b>'r:|.=*</b> <b>r:|=*'</b> <b>\</b>
                <b>-</b> <b>comp.sources.unix</b> <b>comp.sources.misc</b> <b>...</b>

       The first specification says that <u>lpat</u> is the empty string, while <u>anchor</u> is a dot; <u>tpat</u> is <b>*</b>, so this
       can match anything except for the `<b>.</b>' from the anchor in the trial completion word.  So  in  `<b>c.s.u</b>',
       the  matcher sees `<b>c</b>', followed by the empty string, followed by the anchor `<b>.</b>', and likewise for the
       second dot, and replaces the empty strings  before  the  anchors,  giving  `<b>c</b>[<b>omp</b>]<b>.s</b>[<b>ources</b>]<b>.u</b>[<b>nix</b>]',
       where the last part of the completion is just as normal.

       With  the pattern shown above, the string `<b>c.u</b>' could not be completed to `<b>comp.sources.unix</b>' because
       the single star means that no dot (matched by the anchor) can be skipped. By using two  stars  as  in
       `<b>r:|.=**</b>',  however,  `<b>c.u</b>'  could  be completed to `<b>comp.sources.unix</b>'. This also shows that in some
       cases, especially if the anchor is a real pattern, like a character class, the form  with  two  stars
       may result in more matches than one would like.

       The  second  specification is needed to make this work when the cursor is in the middle of the string
       on the command line and the option <b>COMPLETE_IN_WORD</b> is set. In this case the  completion  code  would
       normally  try  to match trial completions that end with the string as typed so far, i.e. it will only
       insert new characters at the cursor position rather then at the end.  However in our example we would
       like  the  code to recognise matches which contain extra characters after the string on the line (the
       `<b>nix</b>' in the example).  Hence we say that the empty string at the end  of  the  string  on  the  line
       matches any characters at the end of the trial completion.

       More generally, the specification

              <b>compadd</b> <b>-M</b> <b>'r:|[.,_-]=*</b> <b>r:|=*'</b> <b>...</b>

       allows  one to complete words with abbreviations before any of the characters in the square brackets.
       For example, to complete <b>veryverylongfile.c</b>  rather  than  <b>veryverylongheader.h</b>  with  the  above  in
       effect, you can just type <b>very.c</b> before attempting completion.

       The  specifications  with  both  a left and a right anchor are useful to complete partial words whose
       parts are not separated by some special character. For example, in some places  strings  have  to  be
       completed  that  are formed `<b>LikeThis</b>' (i.e. the separate parts are determined by a leading uppercase
       letter) or maybe one has to complete strings with trailing numbers. Here one  could  use  the  simple
       form with only one anchor as in:

              <b>compadd</b> <b>-M</b> <b>'r:|[A-Z0-9]=*</b> <b>r:|=*'</b> <b>LikeTHIS</b> <b>FooHoo</b> <b>5foo123</b> <b>5bar234</b>

       But  with  this,  the string `<b>H</b>' would neither complete to `<b>FooHoo</b>' nor to `<b>LikeTHIS</b>' because in each
       case there is an uppercase letter before the `<b>H</b>' and that is matched by the anchor. Likewise,  a  `<b>2</b>'
       would  not  be completed. In both cases this could be changed by using `<b>r:|[A-Z0-9]=**</b>', but then `<b>H</b>'
       completes to both `<b>LikeTHIS</b>' and `<b>FooHoo</b>' and a `<b>2</b>' matches the other strings because characters  can
       be inserted before every uppercase letter and digit. To avoid this one would use:

              <b>compadd</b> <b>-M</b> <b>'r:[^A-Z0-9]||[A-Z0-9]=**</b> <b>r:|=*'</b> <b>\</b>
                  <b>LikeTHIS</b> <b>FooHoo</b> <b>foo123</b> <b>bar234</b>

       By  using these two anchors, a `<b>H</b>' matches only uppercase `<b>H</b>'s that are immediately preceded by some-<font color="#ffffff" class="whiteout">thing&nbsp;something</font>
       thing matching the left anchor `<b>[^A-Z0-9]</b>'. The effect is, of  course,  that  `<b>H</b>'  matches  only  the
       string `<b>FooHoo</b>', a `<b>2</b>' matches only `<b>bar234</b>' and so on.

       When  using the completion system (see <a href="zshcompsys.1.html#//apple_ref/doc/man/1/zshcompsys"><u>zshcompsys</u>(1)</a>), users can define match specifications that are
       to be used for specific contexts by using the <b>matcher</b> and <b>matcher-list</b> styles.  The  values  for  the
       latter will be used everywhere.


<b>COMPLETION</b> <b>WIDGET</b> <b>EXAMPLE</b>
       The first step is to define the widget:

              <b>zle</b> <b>-C</b> <b>complete</b> <b>complete-word</b> <b>complete-files</b>

       Then the widget can be bound to a key using the <b>bindkey</b> builtin command:

              <b>bindkey</b> <b>'^X\t'</b> <b>complete</b>

       After  that  the  shell  function  <b>complete-files</b> will be invoked after typing control-X and TAB. The
       function should then generate the matches, e.g.:

              <b>complete-files</b> <b>()</b> <b>{</b> <b>compadd</b> <b>-</b> <b>*</b> <b>}</b>

       This function will complete files in the current directory matching the current word.



zsh 4.3.4                                      April 19, 2006                                  ZSHCOMPWID(1)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/zshcompwid.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/zshcompwid.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/zshcompwid.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
