<html><head><title>Mac OS X
 Manual Page For fetchmailconf(1)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/1/fetchmailconf" title="Mac OS X
 Manual Page for fetchmailconf(1)"><!-- headerDoc=man; indexgroup=Section 1; uid="//apple_ref/doc/man/1/fetchmailconf"; name=fetchmailconf(1) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
fetchmail(1)                             fetchmail reference manual                             <a href="fetchmail.1.html#//apple_ref/doc/man/1/fetchmail">fetchmail(1)</a>



<b>NAME</b>
       fetchmail - fetch mail from a POP, IMAP, ETRN, or ODMR-capable server


<b>SYNOPSIS</b>
       <b>fetchmail</b> [<u>option...</u>] [<u>mailserver...</u>]
       <b>fetchmailconf</b>


<b>DESCRIPTION</b>
       <u>fetchmail</u>  is  a  mail-retrieval  and forwarding utility; it fetches mail from remote mailservers and
       forwards it to your local (client) machine's delivery system.  You can then handle the retrieved mail
       using  normal  mail user agents such as <!-- a --><u>mutt</u>(1)<!-- /a -->, <!-- a --><u>elm</u>(1)<!-- /a --> or <!-- a --><u>Mail</u>(1)<!-- /a -->.  The <u>fetchmail</u> utility can be run
       in a daemon mode to repeatedly poll one or more systems at a specified interval.

       The <u>fetchmail</u> program can gather mail from servers supporting any of the common mail-retrieval proto-<font color="#ffffff" class="whiteout">cols:&nbsp;protocols:</font>
       cols: POP2 (legacy, to be removed from future release), POP3, IMAP2bis, IMAP4, and IMAP4rev1.  It can
       also use the ESMTP ETRN extension and ODMR.  (The RFCs describing all these protocols are  listed  at
       the end of this manual page.)

       While  <u>fetchmail</u>  is  primarily  intended to be used over on-demand TCP/IP links (such as SLIP or PPP
       connections), it may also be useful as a message transfer agent for sites which refuse  for  security
       reasons to permit (sender-initiated) SMTP transactions with sendmail.

       If <u>fetchmail</u> is used with a POP or an IMAP server, it has two fundamental modes of operation for each
       user account from which it retrieves  mail:  <u>singledrop</u>-  and  <u>multidrop</u>-mode.   In  singledrop-mode,
       <u>fetchmail</u>  assumes  that  all messages in the user's account are intended for a single recipient.  An
       individual mail message will not be inspected for recipient information, rather, the identity of  the
       recipient  will  either default to the local user currently executing <u>fetchmail</u>, or else will need to
       be explicitly specified in the configuration file.  Singledrop-mode is used when the fetchmailrc con-<font color="#ffffff" class="whiteout">figuration&nbsp;configuration</font>
       figuration contains at most a single local user specification for a given server account.

       With  multidrop-mode,  <u>fetchmail</u>  is  not  able  to assume that there is only a single recipient, but
       rather that the mail server account actually contains mail  intended  for  any  number  of  different
       recipients.   Therefore,  <u>fetchmail</u>  must  attempt to deduce the proper "envelope recipient" from the
       mail headers of each message.  In this mode of operation, <u>fetchmail</u> almost resembles an MTA,  however
       it  is  important to note that neither the POP nor IMAP protocols were intended for use in this fash-<font color="#ffffff" class="whiteout">ion,&nbsp;fashion,</font>
       ion, and hence envelope information is often not directly available.  Instead, <u>fetchmail</u> must  resort
       to  a  process of informed guess-work in an attempt to discover the true envelope recipient of a mes-<font color="#ffffff" class="whiteout">sage,&nbsp;message,</font>
       sage, unless the ISP stores the envelope information in some header  (not  all  do).   Even  if  this
       information  is present in the headers, the process can be error-prone and is dependent upon the spe-<font color="#ffffff" class="whiteout">cific&nbsp;specific</font>
       cific mail server used for mail retrieval.  Multidrop-mode is used when more than one local  user  is
       specified  for a particular server account in the configuration file.  Note that the forgoing discus-<font color="#ffffff" class="whiteout">sion&nbsp;discussion</font>
       sion of singledrop- and multidrop-modes does not apply to the ESMTP ETRN or ODMR  retrieval  methods,
       since  they  are  based  upon the SMTP protocol which specifically provides the envelope recipient to
       <u>fetchmail</u>.

       As each message is retrieved, <u>fetchmail</u> normally delivers it via SMTP to port 25 on the machine it is
       running  on (localhost), just as though it were being passed in over a normal TCP/IP link.  <u>fetchmail</u>
       provides the SMTP server with an envelope recipient derived in the manner described previously.   The
       mail  will  then be delivered locally via your system's MDA (Mail Delivery Agent, usually <!-- a --><u>sendmail</u>(8)<!-- /a -->
       but your system may use a different one such as <u>smail</u>, <u>mmdf</u>,  <u>exim</u>,  <u>postfix</u>,  or  <u>qmail</u>).   All  the
       delivery-control  mechanisms  (such as <u>.forward</u> files) normally available through your system MDA and
       local delivery agents will therefore work automatically.

       If no port 25 listener is available, but your fetchmail configuration was told about a reliable local
       MDA, it will use that MDA for local delivery instead.

       If the program <u>fetchmailconf</u> is available, it will assist you in setting up and editing a fetchmailrc
       configuration.  It runs under the X window system and requires that the language Python  and  the  Tk
       toolkit be present on your system.  If you are first setting up fetchmail for single-user mode, it is
       recommended that you use Novice mode.  Expert mode provides complete control of fetchmail  configura-<font color="#ffffff" class="whiteout">tion,&nbsp;configuration,</font>
       tion,  including  the  multidrop  features.  In either case, the 'Autoprobe' button will tell you the
       most capable protocol a given mailserver supports, and warn  you  of  potential  problems  with  that
       server.


<b>GENERAL</b> <b>OPERATION</b>
       The  behavior  of  <u>fetchmail</u>  is controlled by command-line options and a run control file, <u>~/.fetch</u>-<font color="#ffffff" class="whiteout">mailrc,&nbsp;~/.fetchmailrc,</font>
       <u>mailrc</u>, the syntax of which we describe in a later section (this file is what the <u>fetchmailconf</u>  pro-<font color="#ffffff" class="whiteout">gram&nbsp;program</font>
       gram edits).  Command-line options override <u>~/.fetchmailrc</u> declarations.

       Each  server name that you specify following the options on the command line will be queried.  If you
       don't specify any servers on the command line, each 'poll' entry in your <u>~/.fetchmailrc</u> file will  be
       queried.

       To facilitate the use of <u>fetchmail</u> in scripts and pipelines, it returns an appropriate exit code upon
       termination -- see EXIT CODES below.

       The following options modify the behavior of <u>fetchmail</u>.  It is seldom necessary  to  specify  any  of
       these once you have a working <u>.fetchmailrc</u> file set up.

       Almost  all  options have a corresponding keyword which can be used to declare them in a <u>.fetchmailrc</u>
       file.

       Some special options are not covered here, but are documented instead in sections  on  AUTHENTICATION
       and DAEMON MODE which follow.

   <b>General</b> <b>Options</b>
       <b>-V</b> <b>|</b> <b>--version</b>
              Displays  the  version  information  for  your copy of <u>fetchmail</u>.  No mail fetch is performed.
              Instead, for each server specified, all the option  information  that  would  be  computed  if
              <u>fetchmail</u>  were  connecting  to  that server is displayed.  Any non-printables in passwords or
              other string names are shown as backslashed C-like escape sequences.  This  option  is  useful
              for verifying that your options are set the way you want them.

       <b>-c</b> <b>|</b> <b>--check</b>
              Return  a  status code to indicate whether there is mail waiting, without actually fetching or
              deleting mail (see EXIT CODES below).  This option turns off daemon mode (in which it would be
              useless).   It doesn't play well with queries to multiple sites, and doesn't work with ETRN or
              ODMR.  It will return a false positive if you leave read but undeleted  mail  in  your  server
              mailbox  and  your  fetch protocol can't tell kept messages from new ones.  This means it will
              work with IMAP, not work with POP2, and may occasionally flake out under POP3.

       <b>-s</b> <b>|</b> <b>--silent</b>
              Silent mode.  Suppresses all progress/status messages that are  normally  echoed  to  standard
              output  during  a  fetch  (but does not suppress actual error messages).  The --verbose option
              overrides this.

       <b>-v</b> <b>|</b> <b>--verbose</b>
              Verbose mode.  All control messages passed between <u>fetchmail</u> and the mailserver are echoed  to
              stdout.  Overrides --silent.  Doubling this option (-v -v) causes extra diagnostic information
              to be printed.

   <b>Disposal</b> <b>Options</b>
       <b>-a</b> <b>|</b> <b>--all</b> <b>|</b> <b>(since</b> <b>v6.3.3)</b> <b>--fetchall</b>
              (Keyword: fetchall, since v3.0) Retrieve both old (seen) and new messages from the mailserver.
              The default is to fetch only messages the server has not marked seen.  Under POP3, this option
              also forces the use of RETR rather than TOP.  Note that POP2 retrieval behaves as though --all
              is  always  on  (see RETRIEVAL FAILURE MODES below) and this option does not work with ETRN or
              ODMR.  While the -a and --all command-line and fetchall rcfile options have been supported for
              a long time, the --fetchall command-line option was added in v6.3.3.

       <b>-k</b> <b>|</b> <b>--keep</b>
              (Keyword:  keep)  Keep  retrieved  messages  on the remote mailserver.  Normally, messages are
              deleted from the folder on the mailserver after they have been retrieved.  Specifying the <b>keep</b>
              option causes retrieved messages to remain in your folder on the mailserver.  This option does
              not work with ETRN or ODMR. If used with POP3, it is recommended to also  specify  the  --uidl
              option or uidl keyword.

       <b>-K</b> <b>|</b> <b>--nokeep</b>
              (Keyword:  nokeep)  Delete  retrieved messages from the remote mailserver.  This option forces
              retrieved mail to be deleted.  It may be useful if you have specified a  default  of  <b>keep</b>  in
              your <u>.fetchmailrc</u>.  This option is forced on with ETRN and ODMR.

       <b>-F</b> <b>|</b> <b>--flush</b>
              POP3/IMAP  only.   This is a dangerous option and can cause mail loss when used improperly. It
              deletes old (seen) messages from the mailserver before retrieving new messages.  <b>Warning:</b> This
              can cause mail loss if you check your mail with other clients than fetchmail, and cause fetch-<font color="#ffffff" class="whiteout">mail&nbsp;fetchmail</font>
              mail to delete a message it had never fetched before.  It can also cause mail loss if the mail
              server  marks  the  message  seen after retrieval (IMAP2 servers). You should probably not use
              this option in your configuration file. If you use it with  POP3,  you  must  use  the  'uidl'
              option.  What you probably want is the default setting: if you don't specify '-k', then fetch-<font color="#ffffff" class="whiteout">mail&nbsp;fetchmail</font>
              mail will automatically delete messages after successful delivery.

       <b>--limitflush</b>
              POP3/IMAP only, since version 6.3.0.  Delete oversized messages  from  the  mailserver  before
              retrieving  new  messages.  The  size  limit  should  be separately specified with the --limit
              option.  This option does not work with ETRN or ODMR.

   <b>Protocol</b> <b>and</b> <b>Query</b> <b>Options</b>
       <b>-p</b> <b>&lt;proto&gt;</b> <b>|</b> <b>--proto</b> <b>&lt;proto&gt;</b> <b>|</b> <b>--protocol</b> <b>&lt;proto&gt;</b>
              (Keyword: proto[col])  Specify  the  protocol  to  use  when  communicating  with  the  remote
              mailserver.   If  no protocol is specified, the default is AUTO.  <u>proto</u> may be one of the fol-<font color="#ffffff" class="whiteout">lowing:&nbsp;following:</font>
              lowing:

              AUTO   Tries IMAP, POP3, and POP2 (skipping any of these for which support has not  been  com-<font color="#ffffff" class="whiteout">piled&nbsp;compiled</font>
                     piled in).

              POP2   Post Office Protocol 2 (legacy, to be removed from future release)

              POP3   Post Office Protocol 3

              APOP   Use  POP3 with old-fashioned MD5-challenge authentication.  Considered not resistant to
                     man-in-the-middle attacks.

              RPOP   Use POP3 with RPOP authentication.

              KPOP   Use POP3 with Kerberos V4 authentication on port 1109.

              SDPS   Use POP3 with Demon Internet's SDPS extensions.

              IMAP   IMAP2bis, IMAP4, or IMAP4rev1 (<u>fetchmail</u> automatically detects their capabilities).

              ETRN   Use the ESMTP ETRN option.

              ODMR   Use the the On-Demand Mail Relay ESMTP profile.

       All these alternatives work in basically the same way (communicating with standard server daemons  to
       fetch  mail already delivered to a mailbox on the server) except ETRN and ODMR.  The ETRN mode allows
       you to ask a compliant ESMTP server (such as BSD sendmail at release 8.8.0 or higher) to  immediately
       open a sender-SMTP connection to your client machine and begin forwarding any items addressed to your
       client machine in the server's queue of undelivered mail.   The ODMR mode  requires  an  ODMR-capable
       server  and  works  similarly  to  ETRN, except that it does not require the client machine to have a
       static DNS.

       <b>-U</b> <b>|</b> <b>--uidl</b>
              (Keyword: uidl) Force UIDL use (effective only with  POP3).   Force  client-side  tracking  of
              'newness'  of messages (UIDL stands for "unique ID listing" and is described in RFC1939).  Use
              with 'keep' to use a mailbox as a baby news drop for a group of users. The fact that seen mes-<font color="#ffffff" class="whiteout">sages&nbsp;messages</font>
              sages are skipped is logged, unless error logging is done through syslog while running in dae-<font color="#ffffff" class="whiteout">mon&nbsp;daemon</font>
              mon mode.  Note that fetchmail may automatically enable  this  option  depending  on  upstream
              server capabilities.  Note also that this option may be removed and forced enabled in a future
              fetchmail version. See also: --idfile.

       <b>--idle</b> <b>(since</b> <b>6.3.3)</b>
              (Keyword: idle, since before 6.0.0) Enable IDLE use (effective only with IMAP). Note that this
              works  with only one folder at a given time.  While the idle rcfile keyword had been supported
              for a long time, the --idle command-line option was added in version  6.3.3.  IDLE  use  means
              that  fetchmail tells the IMAP server to send notice of new messages, so they can be retrieved
              sooner than would be possible with regular polls.

       <b>-P</b> <b>&lt;portnumber&gt;</b> <b>|</b> <b>--service</b> <b>&lt;servicename&gt;</b>
              (Keyword: service) Since version 6.3.0.  The service option permits you to specify  a  service
              name  to  connect  to.   You can specify a decimal port number here, if your services database
              lacks the required service-port assignments. See the FAQ item R12 and the --ssl  documentation
              for details. This replaces the older --port option.

       <b>--port</b> <b>&lt;portnumber&gt;</b>
              (Keyword:  port)  Obsolete  version of --service that does not take service names.  <b>Note:</b> this
              option may be removed from a future version.

       <b>--principal</b> <b>&lt;principal&gt;</b>
              (Keyword: principal) The principal option permits you  to  specify  a  service  principal  for
              mutual authentication.  This is applicable to POP3 or IMAP with Kerberos authentication.

       <b>-t</b> <b>&lt;seconds&gt;</b> <b>|</b> <b>--timeout</b> <b>&lt;seconds&gt;</b>
              (Keyword:  timeout)  The timeout option allows you to set a server-nonresponse timeout in sec-<font color="#ffffff" class="whiteout">onds.&nbsp;seconds.</font>
              onds.  If a mailserver does not send a greeting message or respond to commands for  the  given
              number  of seconds, <u>fetchmail</u> will hang up on it.  Without such a timeout <u>fetchmail</u> might hang
              up indefinitely trying to fetch mail from a down host.  This would  be  particularly  annoying
              for  a  <u>fetchmail</u>  running  in background.  There is a default timeout which fetchmail -V will
              report.  If a given connection receives too many timeouts in succession, fetchmail  will  con-<font color="#ffffff" class="whiteout">sider&nbsp;consider</font>
              sider it wedged and stop retrying, the calling user will be notified by email if this happens.

       <b>--plugin</b> <b>&lt;command&gt;</b>
              (Keyword: plugin) The plugin option allows you to use an external program to establish the TCP
              connection.  This is useful if you want to use SSL, ssh, or need some special firewalling set-<font color="#ffffff" class="whiteout">up.&nbsp;setup.</font>
              up.  The program will be looked up in $PATH and can optionally be passed the hostname and port
              as  arguments  using  "%h"  and "%p" respectively (note that the interpolation logic is rather
              primitive, and these token must be bounded by whitespace or beginning  of  string  or  end  of
              string).  Fetchmail will write to the plugin's stdin and read from the plugin's stdout.

       <b>--plugout</b> <b>&lt;command&gt;</b>
              (Keyword:  plugout)  Identical  to  the plugin option above, but this one is used for the SMTP
              connections (which will probably not need it, so it has been separated from plugin).

       <b>-r</b> <b>&lt;name&gt;</b> <b>|</b> <b>--folder</b> <b>&lt;name&gt;</b>
              (Keyword: folder[s]) Causes a specified non-default mail folder on the mailserver  (or  comma-<font color="#ffffff" class="whiteout">separated&nbsp;commaseparated</font>
              separated  list  of  folders) to be retrieved.  The syntax of the folder name is server-depen-<font color="#ffffff" class="whiteout">dent.&nbsp;server-dependent.</font>
              dent.  This option is not available under POP3, ETRN, or ODMR.

       <b>--tracepolls</b>
              (Keyword: tracepolls) Tell fetchmail to poll trace information in the form 'polling %s account
              %s'  and 'folder %s' to the Received line it generates, where the %s parts are replaced by the
              user's remote name, the poll label, and the folder (mailbox)  where  available  (the  Received
              header  also  normally  includes the server's true name).  This can be used to facilitate mail
              filtering based on the account it is being received from. The folder  information  is  written
              only since version 6.3.4.

       <b>--ssl</b>  (Keyword:  ssl)  Causes the connection to the mail server to be encrypted via SSL.  Connect to
              the server using the specified base protocol over a connection secured  by  SSL.  This  option
              defeats TLS negotiation. Use --sslcertck to validate the certificates presented by the server.

              Note that fetchmail may still try to negotiate TLS even if this option is not given.  You  can
              use  the --sslproto option to defeat this behavior or tell fetchmail to negotiate a particular
              SSL protocol.

              If no port is specified, the connection is attempted to the well known port of the SSL version
              of  the base protocol.  This is generally a different port than the port used by the base pro-<font color="#ffffff" class="whiteout">tocol.&nbsp;protocol.</font>
              tocol.  For IMAP, this is port 143 for the clear protocol and port 993  for  the  SSL  secured
              protocol,  for POP3, it is port 110 for the clear text and port 995 for the encrypted variant.

              If your system lacks the corresponding entries from /etc/services, see  the  --service  option
              and  specify  the  numeric port number as given in the previous paragraph (unless your ISP had
              directed you to different ports, which is uncommon however).

       <b>--sslcert</b> <b>&lt;name&gt;</b>
              (Keyword: sslcert) Specifies the file name of the client side public  SSL  certificate.   Some
              SSL  encrypted  servers  may require client side keys and certificates for authentication.  In
              most cases, this is optional.  This specifies the location of the public key certificate to be
              presented  to  the server at the time the SSL session is established.  It is not required (but
              may be provided) if the server does not require it.  Some servers may require it, some servers
              may  request it but not require it, and some servers may not request it at all.  It may be the
              same file as the private key (combined key and certificate file) but this is not  recommended.

              <b>NOTE:</b>  If  you use client authentication, the user name is fetched from the certificate's Com-<font color="#ffffff" class="whiteout">monName&nbsp;CommonName</font>
              monName and overrides the name set with --user.

       <b>--sslkey</b> <b>&lt;name&gt;</b>
              (Keyword: sslkey) Specifies the file name of the  client  side  private  SSL  key.   Some  SSL
              encrypted  servers  may require client side keys and certificates for authentication.  In most
              cases, this is optional.  This specifies the location of the private key used to sign transac-<font color="#ffffff" class="whiteout">tions&nbsp;transactions</font>
              tions with the server at the time the SSL session is established.  It is not required (but may
              be provided) if the server does not require it.  Some servers may require it, some servers may
              request it but not require it, and some servers may not request it at all.  It may be the same
              file as the public key (combined key and certificate file) but this is not recommended.  If  a
              password  is  required  to  unlock  the key, it will be prompted for at the time just prior to
              establishing the session to the server.  This can cause some complications in daemon mode.

       <b>--sslproto</b> <b>&lt;name&gt;</b>
              (Keyword: sslproto) Forces an SSL  or  TLS  protocol.  Possible  values  are  '<b>SSL2</b>',  '<b>SSL3</b>',
              '<b>SSL23</b>', and '<b>TLS1</b>'. Try this if the default handshake does not work for your server. Use this
              option with negotiation when the server advertises STARTTLS or STLS,  use  <b>''</b>.   This  option,
              even  if  the  argument is the empty string, will also suppress the diagnostic 'SERVER: oppor-<font color="#ffffff" class="whiteout">tunistic&nbsp;opportunistic</font>
              tunistic upgrade to TLS.' message in verbose mode. The default is to try appropriate protocols
              depending on context.

       <b>--sslcertck</b>
              (Keyword:  sslcertck)  Causes fetchmail to strictly check the server certificate against a set
              of local trusted certificates (see the <b>sslcertpath</b> option). If the server  certificate  cannot
              be obtained or is not signed by one of the trusted ones (directly or indirectly), the SSL con-<font color="#ffffff" class="whiteout">nection&nbsp;connection</font>
              nection will fail, regardless of the <b>sslfingerprint</b> option.  Note that CRL are only  supported
              in  OpenSSL  0.9.7  and newer! Your system clock should also be reasonably accurate when using
              this option.

              Note that this optional behavior may become default behavior in future fetchmail versions.

       <b>--sslcertpath</b> <b>&lt;directory&gt;</b>
              (Keyword: sslcertpath) Sets the directory fetchmail uses to look up  local  certificates.  The
              default  is  your  OpenSSL  default  one. The directory must be hashed as OpenSSL expects it -<font color="#ffffff" class="whiteout">every&nbsp;itevery</font>
              every time you add or modify a certificate in the directory, you need to use the <b>c_rehash</b> tool
              (which comes with OpenSSL in the tools/ subdirectory).

       <b>--sslfingerprint</b> <b>&lt;fingerprint&gt;</b>
              (Keyword:  sslfingerprint)  Specify the fingerprint of the server key (an MD5 hash of the key)
              in hexadecimal notation with colons separating groups of two digits.  The  letter  hex  digits
              must  be in upper case. This is the default format OpenSSL uses, and the one fetchmail uses to
              report the fingerprint when an SSL connection is established. When this is  specified,  fetch-<font color="#ffffff" class="whiteout">mail&nbsp;fetchmail</font>
              mail  will compare the server key fingerprint with the given one, and the connection will fail
              if they do not match regardless of the <b>sslcertck</b> setting. The connection  will  also  fail  if
              fetchmail  cannot obtain an SSL certificate from the server.  This can be used to prevent man-<font color="#ffffff" class="whiteout">in-the-middle&nbsp;manin-the-middle</font>
              in-the-middle attacks, but the finger print from the server needs to be obtained  or  verified
              over  a  secure  channel,  and  certainly not over the same Internet connection that fetchmail
              would use.

              Using this option will prevent printing certificate verification errors as long as --sslcertck
              is unset.

              To obtain the fingerprint of a certificate stored in the file cert.pem, try:

                   openssl x509 -in cert.pem -noout -md5 -fingerprint

              For details, see <a href="x509.1ssl.html#//apple_ref/doc/man/1ssl/x509"><b>x509</b>(1ssl)</a>.

   <b>Delivery</b> <b>Control</b> <b>Options</b>
       <b>-S</b> <b>&lt;hosts&gt;</b> <b>|</b> <b>--smtphost</b> <b>&lt;hosts&gt;</b>
              (Keyword:  smtp[host]) Specify a hunt list of hosts to forward mail to (one or more hostnames,
              comma-separated). Hosts are tried in list order; the first one that is up becomes the forward-<font color="#ffffff" class="whiteout">ing&nbsp;forwarding</font>
              ing  target  for the current run.  If this option is not specified, 'localhost' is used as the
              default.  Each hostname may have a port number following the host name.  The  port  number  is
              separated  from the host name by a slash; the default port is "smtp".  If you specify an abso-<font color="#ffffff" class="whiteout">lute&nbsp;absolute</font>
              lute path name (beginning with a /), it will be interpreted as  the  name  of  a  UNIX  socket
              accepting LMTP connections (such as is supported by the Cyrus IMAP daemon) Example:

                   --smtphost server1,server2/2525,server3,/var/imap/socket/lmtp

              This option can be used with ODMR, and will make fetchmail a relay between the ODMR server and
              SMTP or LMTP receiver.

       <b>--fetchdomains</b> <b>&lt;hosts&gt;</b>
              (Keyword: fetchdomains) In ETRN or ODMR mode, this option specifies the list  of  domains  the
              server  should ship mail for once the connection is turned around.  The default is the FQDN of
              the machine running <u>fetchmail</u>.

       <b>-D</b> <b>&lt;domain&gt;</b> <b>|</b> <b>--smtpaddress</b> <b>&lt;domain&gt;</b>
              (Keyword: smtpaddress) Specify the domain to be appended to addresses in RCPT TO lines shipped
              to  SMTP. When this is not specified, the name of the SMTP server (as specified by --smtphost)
              is used for SMTP/LMTP and 'localhost' is used for UNIX socket/BSMTP.

       <b>--smtpname</b> <b>&lt;user@domain&gt;</b>
              (Keyword: smtpname) Specify the domain and user to be put in RCPT TO lines  shipped  to  SMTP.
              The default user is the current local user.

       <b>-Z</b> <b>&lt;nnn&gt;</b> <b>|</b> <b>--antispam</b> <b>&lt;nnn[,</b> <b>nnn]...&gt;</b>
              (Keyword:  antispam) Specifies the list of numeric SMTP errors that are to be interpreted as a
              spam-block response from the listener.  A value of -1 disables this option.  For the  command-<font color="#ffffff" class="whiteout">line&nbsp;commandline</font>
              line option, the list values should be comma-separated.

       <b>-m</b> <b>&lt;command&gt;</b> <b>|</b> <b>--mda</b> <b>&lt;command&gt;</b>
              (Keyword:  mda)  You  can force mail to be passed to an MDA directly (rather than forwarded to
              port 25) with the --mda or -m option.

              To avoid losing mail, use this option only with MDAs like maildrop or MTAs like sendmail  that
              return  a nonzero status on disk-full and other resource-exhaustion errors; the nonzero status
              tells fetchmail that delivery failed and prevents the  message  from  being  deleted  off  the
              server.

              If <u>fetchmail</u> is running as root, it sets its user id to that of the target user while deliver-<font color="#ffffff" class="whiteout">ing&nbsp;delivering</font>
              ing mail through an MDA.  Some possible MDAs are "/usr/sbin/sendmail -i -f %F  --  %T"  (<b>Note:</b>
              some several older or vendor sendmail versions mistake -- for an address, rather than an indi-<font color="#ffffff" class="whiteout">cator&nbsp;indicator</font>
              cator to mark the end of the option arguments), "/usr/bin/deliver" and  "/usr/bin/maildrop  -d
              %T".   Local delivery addresses will be inserted into the MDA command wherever you place a %T;
              the mail message's From address will be inserted where you place an %F.

              <b>DO</b> <b>NOT</b> <b>ENCLOSE</b> <b>THE</b> <b>%F</b> <b>OR</b> <b>%T</b> <b>STRING</b> <b>IN</b> <b>SINGLE</b> <b>QUOTES!</b>  For both %T and %F,  fetchmail  encloses
              the  addresses in single quotes ('), after removing any single quotes they may contain, before
              the MDA command is passed to the shell.

              Do <u>NOT</u> use an MDA invocation that dispatches on the contents of To/Cc/Bcc, <u>like</u>  <u>"sendmail</u>  <u>-i</u>
              <u>-t"</u>  <u>or</u> <u>"qmail-inject",</u> <u>it</u> <u>will</u> <u>create</u> <u>mail</u> <u>loops</u> <u>and</u> <u>bring</u> <u>the</u> <u>just</u> <u>wrath</u> <u>of</u> <u>many</u> <u>postmasters</u>
              <u>down</u> <u>upon</u> <u>your</u> <u>head.</u>  <u>This</u> <u>is</u> <u>one</u> <u>of</u> <u>the</u> <u>most</u> <u>frequent</u> <u>configuration</u> <u>errors!</u>

              <u>Also,</u> <u>do</u> <u>not</u> try to combine multidrop mode with an MDA such as maildrop that can  only  accept
              one  address, unless your upstream stores one copy of the message per recipient and transports
              the envelope recipient in a header; you will lose mail.

              The well-known <a href="procmail.1.html#//apple_ref/doc/man/1/procmail"><b>procmail</b>(1)</a> package is very hard to configure properly, it  has  a  very  nasty
              "fall  through to the next rule" behavior on delivery errors (even temporary ones, such as out
              of disk space if another user's mail daemon copies the mailbox around to purge old  messages),
              so  your mail will end up in the wrong mailbox sooner or later. The proper procmail configura-<font color="#ffffff" class="whiteout">tion&nbsp;configuration</font>
              tion is outside the scope of this document. Using <!-- a --><b>maildrop</b>(1)<!-- /a --> is usually much easier, and many
              users find the filter syntax used by maildrop easier to understand.

              Finally,  we  strongly advise that you do <b>not</b> use qmail-inject.  The command line interface is
              non-standard without providing benefits for typical use, and fetchmail makes  no  attempts  to
              accomodate  qmail-inject's  deviations  from the standard. Some of qmail-inject's command-line
              and environment options are actually dangerous and  can  cause  broken  threads,  non-detected
              duplicate messages and forwarding loops.


       <b>--lmtp</b> (Keyword:  lmtp)  Cause  delivery via LMTP (Local Mail Transfer Protocol).  A service host and
              port <b>must</b> be explicitly specified on each host in the smtphost hunt list (see above)  if  this
              option is selected; the default port 25 will (in accordance with RFC 2033) not be accepted.

       <b>--bsmtp</b> <b>&lt;filename&gt;</b>
              (keyword:  bsmtp) Append fetched mail to a BSMTP file.  This simply contains the SMTP commands
              that would normally be generated by fetchmail when passing mail to an  SMTP  listener  daemon.
              An  argument  of  '-' causes the mail to be written to standard output.  Note that fetchmail's
              reconstruction of MAIL FROM and RCPT TO lines is not guaranteed correct; the caveats discussed
              under THE USE AND ABUSE OF MULTIDROP MAILBOXES below apply.

   <b>Resource</b> <b>Limit</b> <b>Control</b> <b>Options</b>
       <b>-l</b> <b>&lt;maxbytes&gt;</b> <b>|</b> <b>--limit</b> <b>&lt;maxbytes&gt;</b>
              (Keyword: limit) Takes a maximum octet size argument, where 0 is the default and also the spe-<font color="#ffffff" class="whiteout">cial&nbsp;special</font>
              cial value designating "no limit".  If nonzero, messages larger than this  size  will  not  be
              fetched  and  will  be  left on the server (in foreground sessions, the progress messages will
              note that they are "oversized").  If the fetch protocol permits (in particular, under IMAP  or
              POP3 without the fetchall option) the message will not be marked seen.

              An  explicit  --limit  of  0 overrides any limits set in your run control file. This option is
              intended for those needing to strictly control fetch time due to expensive and variable  phone
              rates.

              Combined  with  --limitflush, it can be used to delete oversized messages waiting on a server.
              In daemon mode, oversize notifications are mailed to the  calling  user  (see  the  --warnings
              option). This option does not work with ETRN or ODMR.

       <b>-w</b> <b>&lt;interval&gt;</b> <b>|</b> <b>--warnings</b> <b>&lt;interval&gt;</b>
              (Keyword:  warnings)  Takes  an  interval  in seconds.  When you call <u>fetchmail</u> with a 'limit'
              option in daemon mode, this controls the interval at which warnings about  oversized  messages
              are  mailed  to the calling user (or the user specified by the 'postmaster' option).  One such
              notification is always mailed at the end of the the first poll that the oversized  message  is
              detected.   Thereafter, re-notification is suppressed until after the warning interval elapses
              (it will take place at the end of the first following poll).

       <b>-b</b> <b>&lt;count&gt;</b> <b>|</b> <b>--batchlimit</b> <b>&lt;count&gt;</b>
              (Keyword: batchlimit) Specify the maximum number of messages that will be shipped to  an  SMTP
              listener  before  the connection is deliberately torn down and rebuilt (defaults to 0, meaning
              no limit).  An explicit --batchlimit of 0 overrides any limits set in your run  control  file.
              While  <!-- a --><b>sendmail</b>(8)<!-- /a -->  normally  initiates  delivery of a message immediately after receiving the
              message terminator, some SMTP listeners are not so prompt.  MTAs like <!-- a --><u>smail</u>(8)<!-- /a --> may  wait  till
              the  delivery socket is shut down to deliver.  This may produce annoying delays when <u>fetchmail</u>
              is processing very large batches.  Setting the batch limit to some nonzero size  will  prevent
              these delays.  This option does not work with ETRN or ODMR.

       <b>-B</b> <b>&lt;number&gt;</b> <b>|</b> <b>--fetchlimit</b> <b>&lt;number&gt;</b>
              (Keyword:  fetchlimit)  Limit  the number of messages accepted from a given server in a single
              poll.  By default there is no limit. An explicit --fetchlimit of 0 overrides any limits set in
              your run control file.  This option does not work with ETRN or ODMR.

       <b>--fetchsizelimit</b> <b>&lt;number&gt;</b>
              (Keyword:  fetchsizelimit)  Limit the number of sizes of messages accepted from a given server
              in a single transaction.  This option is useful in reducing the delay in downloading the first
              mail  when  there are too many mails in the mailbox.  By default, the limit is 100.  If set to
              0, sizes of all messages are downloaded at the start.  This option does not work with ETRN  or
              ODMR.  For POP3, the only valid non-zero value is 1.

       <b>--fastuidl</b> <b>&lt;number&gt;</b>
              (Keyword:  fastuidl)  Do  a  binary  instead of linear search for the first unseen UID. Binary
              search avoids downloading the UIDs of all mails. This saves time (especially in  daemon  mode)
              where  downloading  the  same set of UIDs in each poll is a waste of bandwidth. The number 'n'
              indicates how rarely a linear search should be done. In daemon mode,  linear  search  is  used
              once  followed  by  binary  searches in 'n-1' polls if 'n' is greater than 1; binary search is
              always used if 'n' is 1; linear search is always used if 'n' is 0. In non-daemon mode,  binary
              search  is  used  if 'n' is 1; otherwise linear search is used. The default value of 'n' is 4.
              This option works with POP3 only.

       <b>-e</b> <b>&lt;count&gt;</b> <b>|</b> <b>--expunge</b> <b>&lt;count&gt;</b>
              (keyword: expunge) Arrange for deletions to be made final after a given  number  of  messages.
              Under  POP2 or POP3, fetchmail cannot make deletions final without sending QUIT and ending the
              session -- with this option on, fetchmail will break a long mail retrieval session into multi-<font color="#ffffff" class="whiteout">ple&nbsp;multiple</font>
              ple  sub-sessions,  sending  QUIT  after each sub-session. This is a good defense against line
              drops on POP3 servers.  Under IMAP, <u>fetchmail</u> normally issues an EXPUNGE  command  after  each
              deletion in order to force the deletion to be done immediately.  This is safest when your con-<font color="#ffffff" class="whiteout">nection&nbsp;connection</font>
              nection to the server is flaky and expensive, as it avoids resending duplicate  mail  after  a
              line  hit.   However,  on  large mailboxes the overhead of re-indexing after every message can
              slam the server pretty hard, so if your connection is reliable it is good to do expunges  less
              frequently.   Also note that some servers enforce a delay of a few seconds after each quit, so
              fetchmail may not be able to get back in immediately after an expunge --  you  may  see  "lock
              busy"  errors  if this happens. If you specify this option to an integer N, it tells <u>fetchmail</u>
              to only issue expunges on every Nth delete.  An argument of zero suppresses expunges  entirely
              (so  no  expunges  at  all will be done until the end of run).  This option does not work with
              ETRN or ODMR.

   <b>Authentication</b> <b>Options</b>
       <b>-u</b> <b>&lt;name&gt;</b> <b>|</b> <b>--user</b> <b>&lt;name&gt;</b> <b>|</b> <b>--username</b> <b>&lt;name&gt;</b>
              (Keyword: user[name]) Specifies the user identification to be used  when  logging  in  to  the
              mailserver.   The  appropriate  user  identification  is  both server and user-dependent.  The
              default is your login name on the client machine that is running <u>fetchmail</u>.  See USER  AUTHEN-<font color="#ffffff" class="whiteout">TICATION&nbsp;AUTHENTICATION</font>
              TICATION below for a complete description.

       <b>-I</b> <b>&lt;specification&gt;</b> <b>|</b> <b>--interface</b> <b>&lt;specification&gt;</b>
              (Keyword:  interface) Require that a specific interface device be up and have a specific local
              or remote IPv4 (IPv6 is not supported by this option yet) address (or range)  before  polling.
              Frequently  <u>fetchmail</u> is used over a transient point-to-point TCP/IP link established directly
              to a mailserver via SLIP or PPP.  That is a relatively secure channel.  But when other  TCP/IP
              routes  to  the  mailserver  exist (e.g. when the link is connected to an alternate ISP), your
              username and password may be vulnerable to snooping (especially when daemon mode automatically
              polls  for  mail,  shipping  a  clear  password  over  the net at predictable intervals).  The
              --interface option may be used to prevent this.  When the specified link is not up or  is  not
              connected to a matching IP address, polling will be skipped.  The format is:

                   interface/iii.iii.iii.iii[/mmm.mmm.mmm.mmm]

              The  field  before  the  first  slash  is the interface name (i.e. sl0, ppp0 etc.).  The field
              before the second slash is the acceptable IP address.  The field after the second slash  is  a
              mask which specifies a range of IP addresses to accept.  If no mask is present 255.255.255.255
              is assumed (i.e. an exact match).  This option is currently only  supported  under  Linux  and
              FreeBSD. Please see the <b>monitor</b> section for below for FreeBSD specific information.

              Note that this option may be removed from a future fetchmail version.

       <b>-M</b> <b>&lt;interface&gt;</b> <b>|</b> <b>--monitor</b> <b>&lt;interface&gt;</b>
              (Keyword:  monitor)  Daemon  mode can cause transient links which are automatically taken down
              after a period of inactivity (e.g. PPP links) to remain up indefinitely.  This option  identi-<font color="#ffffff" class="whiteout">fies&nbsp;identifies</font>
              fies a system TCP/IP interface to be monitored for activity.  After each poll interval, if the
              link is up but no other activity has occurred on the link, then  the  poll  will  be  skipped.
              However,  when  fetchmail  is  woken up by a signal, the monitor check is skipped and the poll
              goes through unconditionally.  This  option  is  currently  only  supported  under  Linux  and
              FreeBSD.   For the <b>monitor</b> and <b>interface</b> options to work for non root users under FreeBSD, the
              fetchmail binary must be installed SGID kmem. This would be a  security  hole,  but  fetchmail
              runs  with  the  effective GID set to that of the kmem group <u>only</u> when interface data is being
              collected.

              Note that this option may be removed from a future fetchmail version.

       <b>--auth</b> <b>&lt;type&gt;</b>
              (Keyword: auth[enticate]) This option permits you to specify an authentication type (see  USER
              AUTHENTICATION  below  for details).  The possible values are <b>any</b>, <b>password</b>, <b>kerberos_v5</b>, <b>ker</b>-<font color="#ffffff" class="whiteout">beros&nbsp;kerberos</font>
              <b>beros</b> (or, for excruciating exactness, <b>kerberos_v4</b>), <b>gssapi</b>, <b>cram-md5</b>, <b>otp</b>,  <b>ntlm</b>,  <b>msn</b>  (only
              for POP3), <b>external</b> (only IMAP) and <b>ssh</b>.  When <b>any</b> (the default) is specified, fetchmail tries
              first methods that don't require a password (EXTERNAL, GSSAPI, KERBEROS IV, KERBEROS 5);  then
              it looks for methods that mask your password (CRAM-MD5, X-OTP - note that NTLM and MSN are not
              autoprobed for POP3 and MSN is only supported for POP3); and only if the server  doesn't  sup-<font color="#ffffff" class="whiteout">port&nbsp;support</font>
              port any of those will it ship your password en clair.  Other values may be used to force var-<font color="#ffffff" class="whiteout">ious&nbsp;various</font>
              ious authentication methods (<b>ssh</b>  suppresses  authentication  and  is  thus  useful  for  IMAP
              PREAUTH).   (<b>external</b>  suppresses  authentication  and is thus useful for IMAP EXTERNAL).  Any
              value other than <b>password</b>, <b>cram-md5</b>, <b>ntlm</b>, <b>msn</b> or <b>otp</b> suppresses  fetchmail's  normal  inquiry
              for a password.  Specify <b>ssh</b> when you are using an end-to-end secure connection such as an ssh
              tunnel; specify <b>external</b> when you use TLS with client authentication  and  specify  <b>gssapi</b>  or
              <b>kerberos_v4</b> if you are using a protocol variant that employs GSSAPI or K4.  Choosing KPOP pro-<font color="#ffffff" class="whiteout">tocol&nbsp;protocol</font>
              tocol automatically selects Kerberos authentication.  This option does not work with ETRN.

   <b>Miscellaneous</b> <b>Options</b>
       <b>-f</b> <b>&lt;pathname&gt;</b> <b>|</b> <b>--fetchmailrc</b> <b>&lt;pathname&gt;</b>
              Specify a non-default name for the <u>~/.fetchmailrc</u> run control  file.   The  pathname  argument
              must be either "-" (a single dash, meaning to read the configuration from standard input) or a
              filename.  Unless the --version option is also on, a named file argument must have permissions
              no more open than 0600 (u=rw,g=,o=) or else be /dev/null.

       <b>-i</b> <b>&lt;pathname&gt;</b> <b>|</b> <b>--idfile</b> <b>&lt;pathname&gt;</b>
              (Keyword:  idfile)  Specify  an  alternate name for the .fetchids file used to save POP3 UIDs.
              NOTE: since fetchmail 6.3.0, write access to the directory containing the idfile is  required,
              as  fetchmail writes a temporary file and renames it into the place of the real idfile only if
              the temporary file has been written successfully. This avoids the truncation of  idfiles  when
              running out of disk space.

       <b>--pidfile</b> <b>&lt;pathname&gt;</b>
              (Keyword:  pidfile;  since  fetchmail  v6.3.4)  Override the default location of the PID file.
              Default: see "ENVIRONMENT" below.

       <b>-n</b> <b>|</b> <b>--norewrite</b>
              (Keyword: no rewrite) Normally, <u>fetchmail</u> edits RFC-822 address headers (To,  From,  Cc,  Bcc,
              and  Reply-To)  in  fetched mail so that any mail IDs local to the server are expanded to full
              addresses (@ and the mailserver hostname are appended).  This enables replies on the client to
              get  addressed  correctly (otherwise your mailer might think they should be addressed to local
              users on the client machine!).  This option disables the rewrite.  (This option is provided to
              pacify people who are paranoid about having an MTA edit mail headers and want to know they can
              prevent it, but it is generally not a good idea to actually turn  off  rewrite.)   When  using
              ETRN or ODMR, the rewrite option is ineffective.

       <b>-E</b> <b>&lt;line&gt;</b> <b>|</b> <b>--envelope</b> <b>&lt;line&gt;</b>
              (Keyword: envelope; Multidrop only)
              In the configuration file, an enhanced syntax is used:
              <b>envelope</b> <b>[&lt;count&gt;]</b> <b>&lt;line&gt;</b>

              This  option  changes  the  header  <u>fetchmail</u> assumes will carry a copy of the mail's envelope
              address.  Normally this is 'X-Envelope-To'. Other typically found headers  to  carry  envelope
              information  are  'X-Original-To'  and 'Delivered-To'.  Now, since these headers are not stan-<font color="#ffffff" class="whiteout">dardized,&nbsp;standardized,</font>
              dardized, practice varies. See the discussion of multidrop address handling below.  As a  spe-<font color="#ffffff" class="whiteout">cial&nbsp;special</font>
              cial  case,  'envelope  "Received"' enables parsing of sendmail-style Received lines.  This is
              the default, but discouraged because it is not fully reliable.

              <b>Note</b> that fetchmail expects the Received-line to be in a specific format: It must contain  "by
              <u>host</u> for <u>address</u>", where <u>host</u> must match one of the mailserver names that fetchmail recognizes
              for the account in question.

              The optional count argument (only available in the configuration  file)  determines  how  many
              header  lines of this kind are skipped. A count of 1 means: skip the first, take the second. A
              count of 2 means: skip the first and second, take the third, and so on.

       <b>-Q</b> <b>&lt;prefix&gt;</b> <b>|</b> <b>--qvirtual</b> <b>&lt;prefix&gt;</b>
              (Keyword: qvirtual; Multidrop only) The string prefix assigned to this option will be  removed
              from  the  user name found in the header specified with the <u>envelope</u> option (<u>before</u> doing mul-<font color="#ffffff" class="whiteout">tidrop&nbsp;multidrop</font>
              tidrop name mapping or localdomain checking, if either is applicable). This option  is  useful
              if you are using <u>fetchmail</u> to collect the mail for an entire domain and your ISP (or your mail
              redirection provider) is using qmail.  One of the basic features of qmail is the

              'Delivered-To:'

              message header.  Whenever qmail delivers a message to a local mailbox it puts the username and
              hostname of the envelope recipient on this line.  The major reason for this is to prevent mail
              loops.  To set up qmail to batch mail for a disconnected site the ISP-mailhost will have  nor-<font color="#ffffff" class="whiteout">mally&nbsp;normally</font>
              mally  put  that  site  in its 'Virtualhosts' control file so it will add a prefix to all mail
              addresses for this site. This results in mail sent to 'username@userhost.userdom.dom.com' hav-<font color="#ffffff" class="whiteout">ing&nbsp;having</font>
              ing a 'Delivered-To:' line of the form:

              Delivered-To: mbox-userstr-username@userhost.example.com

              The  ISP  can  make  the 'mbox-userstr-' prefix anything they choose but a string matching the
              user host name is likely.  By using the option 'envelope Delivered-To:' you can make fetchmail
              reliably  identify  the original envelope recipient, but you have to strip the 'mbox-userstr-'
              prefix to deliver to the correct user.  This is what this option is for.

       <b>--configdump</b>
              Parse the <u>~/.fetchmailrc</u> file, interpret any command-line options specified, and dump  a  con-<font color="#ffffff" class="whiteout">figuration&nbsp;configuration</font>
              figuration report to standard output.  The configuration report is a data structure assignment
              in the language Python.  This option is meant to be used with  an  interactive  <u>~/.fetchmailrc</u>
              editor like <u>fetchmailconf</u>, written in Python.

   <b>Removed</b> <b>Options</b>
       <b>-T</b> <b>|</b> <b>--netsec</b>
              Removed before version 6.3.0, the required underlying inet6_apps library had been discontinued
              and is no longer available.


<b>USER</b> <b>AUTHENTICATION</b> <b>AND</b> <b>ENCRYPTION</b>
       All modes except ETRN require authentication of the client to the server.  Normal user authentication
       in <u>fetchmail</u> is very much like the authentication mechanism of <a href="ftp.1.html#//apple_ref/doc/man/1/ftp"><u>ftp</u>(1)</a>.  The correct user-id and pass-<font color="#ffffff" class="whiteout">word&nbsp;password</font>
       word depend upon the underlying security system at the mailserver.

       If the mailserver is a Unix machine on which you have an ordinary user account,  your  regular  login
       name and password are used with <u>fetchmail</u>.  If you use the same login name on both the server and the
       client machines, you needn't worry about specifying a user-id with  the  <b>-u</b>  option  --  the  default
       behavior  is  to  use your login name on the client machine as the user-id on the server machine.  If
       you use a different login name on the server machine, specify that login name  with  the  <b>-u</b>  option.
       e.g. if your login name is 'jsmith' on a machine named 'mailgrunt', you would start <u>fetchmail</u> as fol-<font color="#ffffff" class="whiteout">lows:&nbsp;follows:</font>
       lows:

              fetchmail -u jsmith mailgrunt

       The default behavior of <u>fetchmail</u> is to prompt you for your mailserver password before the connection
       is  established.   This is the safest way to use <u>fetchmail</u> and ensures that your password will not be
       compromised.  You may also specify your password in your <u>~/.fetchmailrc</u>  file.   This  is  convenient
       when using <u>fetchmail</u> in daemon mode or with scripts.

   <b>Using</b> <b>netrc</b> <b>files</b>
       If  you do not specify a password, and <u>fetchmail</u> cannot extract one from your <u>~/.fetchmailrc</u> file, it
       will look for a <u>~/.netrc</u> file in your home directory before requesting one interactively; if an entry
       matching  the mailserver is found in that file, the password will be used.  Fetchmail first looks for
       a match on poll name; if it finds none, it checks for a match on via name.  See the <a href="ftp.1.html#//apple_ref/doc/man/1/ftp"><u>ftp</u>(1)</a>  man  page
       for  details  of  the  syntax of the <u>~/.netrc</u> file.  To show a practical example, a .netrc might look
       like this:

              machine hermes.example.org
              login joe
              password topsecret

       You can repeat this block with different user information if you need to provide more than one  pass-<font color="#ffffff" class="whiteout">word.&nbsp;password.</font>
       word.

       This feature may allow you to avoid duplicating password information in more than one file.

       On  mailservers  that  do  not  provide ordinary user accounts, your user-id and password are usually
       assigned by the server administrator when you apply for a mailbox on the server.  Contact your server
       administrator if you don't know the correct user-id and password for your mailbox account.

<b>POP3</b> <b>VARIANTS</b>
       Early  versions of POP3 (RFC1081, RFC1225) supported a crude form of independent authentication using
       the <u>rhosts</u> file on the mailserver side.  Under this RPOP variant, a fixed per-user ID equivalent to a
       password  was sent in clear over a link to a reserved port, with the command RPOP rather than PASS to
       alert the server that it should do special checking.  RPOP is supported by <u>fetchmail</u> (you can specify
       'protocol  RPOP' to have the program send 'RPOP' rather than 'PASS') but its use is strongly discour-<font color="#ffffff" class="whiteout">aged,&nbsp;discouraged,</font>
       aged, and support will be removed from a future fetchmail version.  This facility was  vulnerable  to
       spoofing and was withdrawn in RFC1460.

       RFC1460  introduced  APOP  authentication.  In this variant of POP3, you register an APOP password on
       your server host (on some servers, the program to do this is called <!-- a --><u>popauth</u>(8)<!-- /a -->).  You  put  the  same
       password  in  your  <u>~/.fetchmailrc</u>  file.   Each time <u>fetchmail</u> logs in, it sends an MD5 hash of your
       password and the server greeting time to the server, which can verify it by checking  its  authoriza-<font color="#ffffff" class="whiteout">tion&nbsp;authorization</font>
       tion database.

       <b>Note</b> <b>that</b> <b>APOP</b> <b>is</b> <b>no</b> <b>longer</b> <b>considered</b> <b>resistant</b> <b>against</b> <b>man-in-the-middle</b> <b>attacks.</b>

   <b>RETR</b> <b>or</b> <b>TOP</b>
       <u>fetchmail</u> makes some efforts to make the server believe messages had not been retrieved, by using the
       TOP command with a large number of lines when possible.  TOP is a command  that  retrieves  the  full
       header  and  a <u>fetchmail</u>-specified amount of body lines. It is optional and therefore not implemented
       by all servers, and some are known to implement it improperly. On many servers however, the RETR com-<font color="#ffffff" class="whiteout">mand&nbsp;command</font>
       mand  which retrieves the full message with header and body, sets the "seen" flag (for instance, in a
       web interface), whereas the TOP command does not do that.

       <u>fetchmail</u> will always use the RETR command if "fetchall" is set.  <u>fetchmail</u> will also  use  the  RETR
       command  if "keep" is set and "uidl" is unset.  Finally, <u>fetchmail</u> will use the RETR command on Mail-<font color="#ffffff" class="whiteout">lennium&nbsp;Maillennium</font>
       lennium POP3/PROXY servers (used by Comcast) to avoid a  deliberate  TOP  misinterpretation  in  this
       server that causes message corruption.

       In  all  other  cases, <u>fetchmail</u> will use the TOP command. This implies that in "keep" setups, "uidl"
       must be set if "TOP" is desired.

       <b>Note</b> that this description is true for the current version of fetchmail, but the behavior may  change
       in  future  versions.  In  particular,  fetchmail may prefer the RETR command because the TOP command
       causes much grief on some servers and is only optional.

<b>ALTERNATE</b> <b>AUTHENTICATION</b> <b>FORMS</b>
       If your <u>fetchmail</u> was built with Kerberos support and you  specify  Kerberos  authentication  (either
       with --auth or the <u>.fetchmailrc</u> option <b>authenticate</b> <b>kerberos_v4</b>) it will try to get a Kerberos ticket
       from the mailserver at the start of each query.  Note: if either the pollname or via  name  is  'hes-<font color="#ffffff" class="whiteout">iod',&nbsp;'hesiod',</font>
       iod', fetchmail will try to use Hesiod to look up the mailserver.

       If you use POP3 or IMAP with GSSAPI authentication, <u>fetchmail</u> will expect the server to have RFC1731-<font color="#ffffff" class="whiteout">or&nbsp;RFC1731or</font>
       or RFC1734-conforming GSSAPI capability, and will use it.  Currently this has only been  tested  over
       Kerberos V, so you're expected to already have a ticket-granting ticket. You may pass a username dif-<font color="#ffffff" class="whiteout">ferent&nbsp;different</font>
       ferent from your principal name using the standard <b>--user</b> command or by the <u>.fetchmailrc</u> option <b>user</b>.

       If your IMAP daemon returns the PREAUTH response in its greeting line, fetchmail will notice this and
       skip the normal authentication step.  This can be useful, e.g. if you start  imapd  explicitly  using
       ssh.   In this case you can declare the authentication value 'ssh' on that site entry to stop <u>.fetch</u>-<font color="#ffffff" class="whiteout">mail&nbsp;.fetchmail</font>
       <u>mail</u> from asking you for a password when it starts up.

       If you use client authentication with <u>TLS1</u> and your IMAP daemon returns the  <u>AUTH=EXTERNAL</u>  response,
       fetchmail will notice this and will use the authentication shortcut and will not send the passphrase.
       In this case you can declare the authentication value 'external'
        on that site to stop <u>fetchmail</u> from asking you for a password when it starts up.

       If you are using POP3, and the server issues a one-time-password  challenge  conforming  to  RFC1938,
       <u>fetchmail</u>  will  use  your  password  as a pass phrase to generate the required response. This avoids
       sending secrets over the net unencrypted.

       Compuserve's RPA authentication is supported. If you compile in the support, <u>fetchmail</u>  will  try  to
       perform an RPA pass-phrase authentication instead of sending over the password en clair if it detects
       "@compuserve.com" in the hostname.

       If you are using IMAP, Microsoft's NTLM authentication (used by Microsoft Exchange) is supported.  If
       you  compile in the support, <u>fetchmail</u> will try to perform an NTLM authentication (instead of sending
       over the password en clair) whenever the server returns AUTH=NTLM in its capability response. Specify
       a  user  option  value that looks like 'user@domain': the part to the left of the @ will be passed as
       the username and the part to the right as the NTLM domain.

   <b>Secure</b> <b>Socket</b> <b>Layers</b> <b>(SSL)</b> <b>and</b> <b>Transport</b> <b>Layer</b> <b>Security</b> <b>(TLS)</b>
       You can access SSL encrypted services by specifying the --ssl option.  You can also do this using the
       "ssl" user option in the .fetchmailrc file. With SSL encryption enabled, queries are initiated over a
       connection after negotiating an SSL session, and the connection fails if SSL  cannot  be  negotiated.
       Some  services,  such as POP3 and IMAP, have different well known ports defined for the SSL encrypted
       services.  The encrypted ports will be selected automatically when SSL is  enabled  and  no  explicit
       port is specified. The --sslproto option can be used to select the SSL protocols (default: v2 or v3).
       The --sslcertck command line or sslcertck run control file option should be used to force strict cer-<font color="#ffffff" class="whiteout">tificate&nbsp;certificate</font>
       tificate checking - see below.

       If  SSL  is  not  configured,  fetchmail  will  usually  opportunistically try to use TLS. TLS can be
       enforced by using --sslproto "TLS1". TLS connections use the same port as the unencrypted version  of
       the  protocol  and negotiate TLS via special parameter. The --sslcertck command line or sslcertck run
       control file option should be used to force strict certificate checking - see below.

       <b>--sslcertck</b> recommended: When connecting to an SSL or TLS encrypted server,  the  server  presents  a
       certificate  to the client for validation.  The certificate is checked to verify that the common name
       in the certificate matches the name of the server being contacted and that the effective and  expira-<font color="#ffffff" class="whiteout">tion&nbsp;expiration</font>
       tion  dates  in  the certificate indicate that it is currently valid.  If any of these checks fail, a
       warning message is printed, but the connection continues.  The server certificate does not need to be
       signed  by  any  specific  Certifying  Authority  and  may  be  a  "self-signed"  certificate. If the
       --sslcertck command line option or sslcertck run control file option is used, fetchmail will  instead
       abort if any of these checks fail. Use of the sslcertck or --sslcertck option is advised.

       Some  SSL encrypted servers may request a client side certificate.  A client side public SSL certifi-<font color="#ffffff" class="whiteout">cate&nbsp;certificate</font>
       cate and private SSL key may be specified.  If requested by the server,  the  client  certificate  is
       sent  to  the  server  for  validation.   Some servers may require a valid client certificate and may
       refuse connections if a certificate is not provided or if the certificate is not valid.  Some servers
       may  require client side certificates be signed by a recognized Certifying Authority.  The format for
       the key files and the certificate files is that required by the underlying SSL libraries (OpenSSL  in
       the general case).

       A word of care about the use of SSL: While above mentioned setup with self-signed server certificates
       retrieved over the wires can protect you from a passive eavesdropper,  it  doesn't  help  against  an
       active  attacker.  It's clearly an improvement over sending the passwords in clear, but you should be
       aware that a man-in-the-middle attack is trivially possible (in particular with tools such as dsniff,
       <a href="http://monkey.org/~dugsong/dsniff/)">http://monkey.org/~dugsong/dsniff/)</a>  Use of strict certificate checking with a certification author-
       ity recognized by server and client, or perhaps of an SSH tunnel (see below  for  some  examples)  is
       preferable if you care seriously about the security of your mailbox and passwords.

   <b>ESMTP</b> <b>AUTH</b>
       <b>fetchmail</b>  also supports authentication to the ESMTP server on the client side according to RFC 2554.
       You can specify a name/password pair to be used with the keywords  'esmtpname'  and  'esmtppassword';
       the former defaults to the username of the calling user.


<b>DAEMON</b> <b>MODE</b>
   <b>Introducing</b> <b>the</b> <b>daemon</b> <b>mode</b>
       In  daemon  mode, <u>fetchmail</u> puts itself into the background and runs forever, querying each specified
       host and then sleeping for a given polling interval.

   <b>Starting</b> <b>the</b> <b>daemon</b> <b>mode</b>
       There are several ways to make fetchmail work in daemon mode. On the command  line,  <b>--daemon</b> <b>&lt;inter-</b>
       <b>val&gt;</b>  or  <b>-d</b> <b>&lt;interval&gt;</b>  option  runs  <u>fetchmail</u> in daemon mode.  You must specify a numeric argument
       which is a polling interval in seconds.

       Example: simply invoking

              fetchmail -d 900

       will, therefore, poll all the hosts described in your <u>~/.fetchmailrc</u> file  (except  those  explicitly
       excluded with the 'skip' verb) once every 15 minutes.

       It  is  also  possible  to  set  a  polling  interval in your <u>~/.fetchmailrc</u> file by saying 'set dae-
       mon &lt;interval&gt;', where &lt;interval&gt; is an integer number of seconds.  If you do  this,  fetchmail  will
       always start in daemon mode unless you override it with the command-line option --daemon 0 or -d0.

       Only  one daemon process is permitted per user; in daemon mode, <u>fetchmail</u> sets up a per-user lockfile
       to guarantee this.  (You can however cheat and set the FETCHMAILHOME environment variable to overcome
       this  setting,  but  in that case, it is your responsibility to make sure you aren't polling the same
       server with two processes at the same time.)

   <b>Awakening</b> <b>the</b> <b>background</b> <b>daemon</b>
       Normally, calling fetchmail with a daemon in the background sends a wake-up signal to the daemon  and
       quits without output. The background daemon then starts its next poll cycle immediately.  The wake-up
       signal, SIGUSR1, can also be sent manually. The wake-up action also clears any authentication or mul-
       tiple timeouts.

   <b>Terminating</b> <b>the</b> <b>background</b> <b>daemon</b>
       The  option  <b>--quit</b>  will  kill a running daemon process instead of waking it up (if there is no such
       process, <u>fetchmail</u> will notify you.  If the --quit option appears last on the command line, <u>fetchmail</u>
       will  kill  the  running daemon process and then quit. Otherwise, <u>fetchmail</u> will first kill a running
       daemon process and then continue running with the other options.

   <b>Useful</b> <b>options</b> <b>for</b> <b>daemon</b> <b>mode</b>
       The <b>-L</b> <b>&lt;filename&gt;</b> or <b>--logfile</b> <b>&lt;filename&gt;</b> option (keyword: set logfile) is only effective when fetch-
       mail is detached. This option allows you to redirect status messages into a specified logfile (follow
       the option with the logfile name).  The logfile is opened for append,  so  previous  messages  aren't
       deleted.   This is primarily useful for debugging configurations. Note that fetchmail does not detect
       if the logfile is rotated, the logfile is only opened once when fetchmail starts. You need to restart
       fetchmail after rotating the logfile and before compressing it (if applicable).

       The <b>--syslog</b> option (keyword: set syslog) allows you to redirect status and error messages emitted to
       the <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog"><u>syslog</u>(3)</a> system daemon if available.  Messages are logged with an id of <b>fetchmail</b>, the  facility
       <b>LOG_MAIL</b>,  and priorities <b>LOG_ERR</b>, <b>LOG_ALERT</b> or <b>LOG_INFO</b>.  This option is intended for logging status
       and error messages which indicate the status of the daemon and the results while fetching  mail  from
       the  <!-- a -->server(s)<!-- /a -->.   Error messages for command line options and parsing the <u>.fetchmailrc</u> file are still
       written to stderr, or to the specified log file.  The <b>--nosyslog</b> option turns off use  of  <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog"><u>syslog</u>(3)</a>,
       assuming  it's  turned  on  in the <u>~/.fetchmailrc</u> file, or that the <b>-L</b> or <b>--logfile</b> <b>&lt;file&gt;</b> option was
       used.

       The <b>-N</b> or <b>--nodetach</b> option suppresses backgrounding and detachment of the daemon  process  from  its
       control  terminal.   This is useful for debugging or when fetchmail runs as the child of a supervisor
       process such as <a href="../man8/launchd.8.html#//apple_ref/doc/man/8/launchd"><u>launchd</u>(8)</a> or Gerrit Pape's <u>runit.</u>  Note that this also causes the logfile option  to
       be ignored (though perhaps it shouldn't).

       Note  that  while running in daemon mode polling a POP2 or IMAP2bis server, transient errors (such as
       DNS failures or sendmail delivery refusals) may force the fetchall option on for the duration of  the
       next  polling  cycle.  This is a robustness feature.  It means that if a message is fetched (and thus
       marked seen by the mailserver) but not delivered locally due to some transient error, it will be  re-
       fetched during the next poll cycle.  (The IMAP logic doesn't delete messages until they're delivered,
       so this problem does not arise.)

       If you touch or change the <u>~/.fetchmailrc</u> file while fetchmail is running in daemon mode,  this  will
       be  detected  at  the  beginning  of the next poll cycle.  When a changed <u>~/.fetchmailrc</u> is detected,
       fetchmail rereads it and restarts from scratch (using <!-- a -->exec(2)<!-- /a -->; no state information  is  retained  in
       the  new  instance).   Note also that if you break the <u>~/.fetchmailrc</u> file's syntax, the new instance
       will softly and silently vanish away on startup.


<b>ADMINISTRATIVE</b> <b>OPTIONS</b>
       The <b>--postmaster</b> <b>&lt;name&gt;</b> option (keyword: set postmaster) specifies the last-resort username to  which
       multidrop  mail  is  to  be forwarded if no matching local recipient can be found. It is also used as
       destination of undeliverable mail if the 'bouncemail' global option is off and additionally for spam-
       blocked  mail if the 'bouncemail' global option is off and the 'spambounce' global option is on. This
       option defaults to the user who invoked <u>fetchmail</u>.  If the invoking user is root, then the default of
       this  option  is  the  user 'postmaster'.  Setting postmaster to the empty string causes such mail as
       described above to be discarded - this however is usually a bad idea.  See also  the  description  of
       the 'FETCHMAILUSER' environment variable in the ENVIRONMENT section below.

       The <b>--nobounce</b> behaves like the "set no bouncemail" global option, which see.

       The  <b>--invisible</b> option (keyword: set invisible) tries to make fetchmail invisible.  Normally, fetch-
       mail behaves like any other MTA would -- it generates a Received header into each message  describing
       its  place in the chain of transmission, and tells the MTA it forwards to that the mail came from the
       machine fetchmail itself is running on.  If the invisible option is on, the Received header  is  sup-
       pressed  and  fetchmail tries to spoof the MTA it forwards to into thinking it came directly from the
       mailserver host.

       The <b>--showdots</b> option (keyword: set showdots) forces fetchmail to show progress dots even if the cur-
       rent tty is not stdout (for example logfiles).  Fetchmail shows the dots by default when run in node-
       tach mode or when daemon mode is not enabled.

       By specifying the <b>--tracepolls</b> option, you can ask fetchmail  to  add  information  to  the  Received
       header  on  the  form  "polling {label} account {user}", where {label} is the account label (from the
       specified rcfile, normally ~/.fetchmailrc) and {user} is the username which is used to log on to  the
       mail  server.  This  header can be used to make filtering email where no useful header information is
       available and you want mail from different accounts sorted into different mailboxes (this could,  for
       example,  occur  if you have an account on the same server running a mailing list, and are subscribed
       to the list using that account). The default is not adding any such header.  In <u>.fetchmailrc</u>, this is
       called 'tracepolls'.


<b>RETRIEVAL</b> <b>FAILURE</b> <b>MODES</b>
       The  protocols  <u>fetchmail</u>  uses  to talk to mailservers are next to bulletproof.  In normal operation
       forwarding to port 25, no message is ever deleted (or even marked for deletion) on the host until the
       SMTP  listener  on  the  client  side  has acknowledged to <u>fetchmail</u> that the message has been either
       accepted for delivery or rejected due to a spam block.

       When forwarding to an MDA, however, there is more possibility of error.  Some  MDAs  are  'safe'  and
       reliably  return  a  nonzero status on any delivery error, even one due to temporary resource limits.
       The <!-- a --><u>maildrop</u>(1)<!-- /a --> program is like this; so are most programs designed as mail transport agents, such as
       <a href="sendmail.1.html#//apple_ref/doc/man/1/sendmail"><u>sendmail</u>(1)</a>, including the sendmail wrapper of Postfix and <!-- a --><u>exim</u>(1)<!-- /a -->.  These programs give back a reli-
       able positive acknowledgement and can be used with the mda option with no risk of mail loss.   Unsafe
       MDAs, though, may return 0 even on delivery failure.  If this happens, you will lose mail.

       The  normal  mode  of  <u>fetchmail</u>  is  to  try to download only 'new' messages, leaving untouched (and
       undeleted) messages you have already read directly on the server (or fetched with a  previous  <u>fetch</u>-
       <u>mail</u>  <u>--keep</u>).   But  you  may find that messages you've already read on the server are being fetched
       (and deleted) even when you don't specify --all.  There are several reasons this can happen.

       One could be that you're using POP2.  The POP2 protocol includes no representation of 'new' or  'old'
       state  in  messages, so <u>fetchmail</u> must treat all messages as new all the time.  But POP2 is obsolete,
       so this is unlikely.

       A potential POP3 problem might be servers that insert messages in the middle of mailboxes  (some  VMS
       implementations  of  mail  are rumored to do this).  The <u>fetchmail</u> code assumes that new messages are
       appended to the end of the mailbox; when this is not true it may treat some old messages as  new  and
       vice  versa.   Using  UIDL whilst setting fastuidl 0 might fix this, otherwise, consider switching to
       IMAP.

       Yet another POP3 problem is that if they can't make tempfiles in the user's home directory, some POP3
       servers will hand back an undocumented response that causes fetchmail to spuriously report "No mail".

       The IMAP code uses the presence or absence of the server flag \Seen to decide whether or not  a  mes-
       sage  is  new.  This isn't the right thing to do, fetchmail should check the UIDVALIDITY and use UID,
       but it doesn't do that yet. Under Unix, it counts on your IMAP server to notice the BSD-style  Status
       flags  set  by  mail  user  agents  and set the \Seen flag from them when appropriate.  All Unix IMAP
       servers we know of do this, though it's not specified by the IMAP RFCs.  If  you  ever  trip  over  a
       server  that  doesn't, the symptom will be that messages you have already read on your host will look
       new to the server.  In this (unlikely) case, only messages you fetched with <u>fetchmail</u> <u>--keep</u> will  be
       both undeleted and marked old.

       In  ETRN and ODMR modes, <u>fetchmail</u> does not actually retrieve messages; instead, it asks the server's
       SMTP listener to start a queue flush to the client via SMTP.  Therefore  it  sends  only  undelivered
       messages.


<b>SPAM</b> <b>FILTERING</b>
       Many  SMTP  listeners allow administrators to set up 'spam filters' that block unsolicited email from
       specified domains.  A MAIL FROM or DATA line that triggers this feature will elicit an SMTP  response
       which (unfortunately) varies according to the listener.

       Newer versions of <u>sendmail</u> return an error code of 571.

       According  to  RFC2821,  the  correct  thing to return in this situation is 550 "Requested action not
       taken: mailbox unavailable" (the draft adds "[E.g., mailbox not found, no access, or command rejected
       for policy reasons].").

       Older versions of the <u>exim</u> MTA return 501 "Syntax error in parameters or arguments".

       The <u>postfix</u> MTA runs 554 as an antispam response.

       <u>Zmailer</u>  may  reject code with a 500 response (followed by an enhanced status code that contains more
       information).

       Return codes which <u>fetchmail</u> treats as antispam responses and discards the message can  be  set  with
       the  'antispam'  option.   This is one of the <u>only</u> three circumstance under which fetchmail ever dis-
       cards mail (the others are the 552 and 553 errors  described  below,  and  the  suppression  of  mul-
       tidropped messages with a message-ID already seen).

       If  <u>fetchmail</u> is fetching from an IMAP server, the antispam response will be detected and the message
       rejected immediately after the headers have been fetched, without reading the  message  body.   Thus,
       you won't pay for downloading spam message bodies.

       By default, the list of antispam responses is empty.

       If  the  <u>spambounce</u> global option is on, mail that is spam-blocked triggers an RFC1892/RFC1894 bounce
       message informing the originator that we do not accept mail from it. See also BUGS.


<b>SMTP/ESMTP</b> <b>ERROR</b> <b>HANDLING</b>
       Besides the  spam-blocking  described  above,  fetchmail  takes  special  actions  on  the  following
       SMTP/ESMTP error responses

       452 (insufficient system storage)
            Leave the message in the server mailbox for later retrieval.

       552 (message exceeds fixed maximum message size)
            Delete the message from the server.  Send bounce-mail to the originator.

       553 (invalid sending domain)
            Delete the message from the server.  Don't even try to send bounce-mail to the originator.

       Other errors trigger bounce mail back to the originator. See also BUGS.


<b>THE</b> <b>RUN</b> <b>CONTROL</b> <b>FILE</b>
       The preferred way to set up fetchmail is to write a <u>.fetchmailrc</u> file in your home directory (you may
       do this directly, with a text editor, or indirectly via <u>fetchmailconf</u>).  When  there  is  a  conflict
       between  the  command-line  arguments and the arguments in this file, the command-line arguments take
       precedence.

       To protect the security of your passwords, your <u>~/.fetchmailrc</u> may not normally have more  than  0600
       (u=rw,g=,o=)  permissions;  <u>fetchmail</u> will complain and exit otherwise (this check is suppressed when
       --version is on).

       You may read the <u>.fetchmailrc</u> file as a list of commands to be executed when <u>fetchmail</u> is called with
       no arguments.

   <b>Run</b> <b>Control</b> <b>Syntax</b>
       Comments  begin  with a '#' and extend through the end of the line.  Otherwise the file consists of a
       series of server entries or global option statements in a free-format, token-oriented syntax.

       There are four kinds of tokens: grammar keywords, numbers (i.e. decimal  digit  sequences),  unquoted
       strings,  and quoted strings.  A quoted string is bounded by double quotes and may contain whitespace
       (and quoted digits are treated as a string).  Note that quoted strings will also  contain  line  feed
       characters  if  they  run  across  two  or  more lines, unless you use a backslash to join lines (see
       below).  An unquoted string is any whitespace-delimited token that is neither numeric, string  quoted
       nor contains the special characters ',', ';', ':', or '='.

       Any  amount  of  whitespace separates tokens in server entries, but is otherwise ignored. You may use
       backslash escape sequences (\n for LF, \t for HT, \b for BS, \r for CR, \<u>nnn</u> for decimal  (where  nnn
       cannot  start  with  a  0),  \0<u>ooo</u>  for octal, and \x<u>hh</u> for hex) to embed non-printable characters or
       string delimiters in strings.  In quoted strings, a backslash at the very end of a  line  will  cause
       the  backslash itself and the line feed (LF or NL, new line) character to be ignored, so that you can
       wrap long strings. Without the backslash at the line end, the line feed character would  become  part
       of the string.

       <b>Warning:</b>  while  these resemble C-style escape sequences, they are not the same.  fetchmail only sup-
       ports these eight styles. C supports more escape sequences that consist of backslash (\) and a single
       character,  but  does not support decimal codes and does not require the leading 0 in octal notation.
       Example: fetchmail interprets \233 the same as \xE9 (Latin small letter e with acute), where C  would
       interpret \233 as octal 0233 = \x9B (CSI, control sequence introducer).

       Each  server  entry consists of one of the keywords 'poll' or 'skip', followed by a server name, fol-
       lowed by server options, followed by any number of user descriptions.  Note: the most common cause of
       syntax errors is mixing up user and server options.

       For backward compatibility, the word 'server' is a synonym for 'poll'.

       You  can  use the noise keywords 'and', 'with', 'has', 'wants', and 'options' anywhere in an entry to
       make it resemble English.  They're ignored, but but can make entries much easier to read at a glance.
       The punctuation characters ':', ';' and ',' are also ignored.


   <b>Poll</b> <b>vs.</b> <b>Skip</b>
       The 'poll' verb tells fetchmail to query this host when it is run with no arguments.  The 'skip' verb
       tells <u>fetchmail</u> not to poll this host unless it is explicitly named on the command line.  (The 'skip'
       verb  allows you to experiment with test entries safely, or easily disable entries for hosts that are
       temporarily down.)


   <b>Keyword/Option</b> <b>Summary</b>
       Here are the legal options.  Keyword suffixes enclosed in square brackets are optional.  Those corre-
       sponding  to  short  command-line  options are followed by '-' and the appropriate option letter.  If
       option is only relevant to a single mode of operation, it is noted as 's' or 'm' for  singledrop-  or
       multidrop-mode, respectively.

       Here are the legal global options:


       Keyword             Opt   Mode   Function
       --------------------------------------------------------------------
       set daemon          -d           Set  a background poll interval in
                                        seconds.
       set postmaster                   Give the name of  the  last-resort
                                        mail recipient (default: user run-
                                        ning  fetchmail,  "postmaster"  if
                                        run by the root user)
       set    bouncemail                Direct  error  mail  to the sender
                                        (default)
       set no bouncemail                Direct error  mail  to  the  local
                                        postmaster  (as  per the 'postmas-
                                        ter' global option above).
       set no spambounce                Do not  bounce  spam-blocked  mail
                                        (default).
       set    spambounce                Bounce  blocked  spam-blocked mail
                                        (as  per   the   'antispam'   user
                                        option) back to the destination as
                                        indicated  by   the   'bouncemail'
                                        global  option.   Warning:  Do not
                                        use this to bounce  spam  back  to
                                        the  sender  -  most  spam is sent
                                        with false sender address and thus
                                        this    option    hurts   innocent
                                        bystanders.
       set logfile         -L           Name of a file to append error and
                                        status messages to.
       set idfile          -i           Name  of  the  file  to  store UID
                                        lists in.
       set    syslog                    Do  error  logging  through   <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">sys</a>-
                                        <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">log(3)</a>.
       set no syslog                    Turn  off  error  logging  through
                                        <a href="../man3/syslog.3.html#//apple_ref/doc/man/3/syslog">syslog(3)</a>. (default)
       set properties                   String value that  is  ignored  by
                                        fetchmail  (may  be used by exten-
                                        sion scripts).

       Here are the legal server options:


       Keyword          Opt   Mode   Function
       -----------------------------------------------------------------
       via                           Specify DNS  name  of  mailserver,
                                     overriding poll name
       proto[col]       -p           Specify  protocol  (case  insensi-
                                     tive):  POP2,  POP3,  IMAP,  APOP,
                                     KPOP
       local[domains]         m      Specify  <!-- a -->domain(s)<!-- /a -->  to be regarded
                                     as local
       port                          Specify TCP/IP service port (obso-
                                     lete, use 'service' instead).
       service          -P           Specify  service  name  (a numeric
                                     value is also allowed and  consid-
                                     ered a TCP/IP port number).
       auth[enticate]                Set  authentication  type (default
                                     'any')
       timeout          -t           Server inactivity timeout in  sec-
                                     onds (default 300)
       envelope         -E    m      Specify   envelope-address  header
                                     name
       no envelope            m      Disable   looking   for   envelope
                                     address
       qvirtual         -Q    m      Qmail  virtual  domain  prefix  to
                                     remove from user name
       aka                    m      Specify  alternate  DNS  names  of
                                     mailserver

       interface        -I           specify  IP <!-- a -->interface(s)<!-- /a --> that must
                                     be up  for  server  poll  to  take
                                     place
       monitor          -M           Specify  IP address to monitor for
                                     activity
       plugin                        Specify command through  which  to
                                     make server connections.
       plugout                       Specify  command  through which to
                                     make listener connections.
       dns                    m      Enable DNS  lookup  for  multidrop
                                     (default)
       no dns                 m      Disable DNS lookup for multidrop
       checkalias             m      Do  comparison  by  IP address for
                                     multidrop
       no checkalias          m      Do comparison  by  name  for  mul-
                                     tidrop (default)
       uidl             -U           Force   POP3  to  use  client-side
                                     UIDLs (recommended)
       no uidl                       Turn off POP3 use  of  client-side
                                     UIDLs (default)
       interval                      Only  check this site every N poll
                                     cycles; N is a numeric argument.
       tracepolls                    Add poll  tracing  information  to
                                     the Received header
       principal                     Set  Kerberos principal (only use-
                                     ful with IMAP and kerberos)
       esmtpname                     Set name for  RFC2554  authentica-
                                     tion to the ESMTP server.
       esmtppassword                 Set password for RFC2554 authenti-
                                     cation to the ESMTP server.

       Here are the legal user options:


       Keyword            Opt   Mode   Function
       -------------------------------------------------------------------
       user[name]         -u           Set remote user name  (local  user
                                       name if name followed by 'here')
       is                              Connect   local  and  remote  user
                                       names
       to                              Connect  local  and  remote   user
                                       names
       pass[word]                      Specify remote account password
       ssl                             Connect  to server over the speci-
                                       fied  base  protocol   using   SSL
                                       encryption
       sslcert                         Specify  file for client side pub-
                                       lic SSL certificate
       sslkey                          Specify file for client side  pri-
                                       vate SSL key
       sslproto                        Force ssl protocol for connection
       folder             -r           Specify remote folder to query
       smtphost           -S           Specify smtp <!-- a -->host(s)<!-- /a --> to forward to
       fetchdomains             m      Specify  domains  for  which  mail
                                       should be fetched
       smtpaddress        -D           Specify  the  domain  to be put in
                                       RCPT TO lines
       smtpname                        Specify the user and domain to  be
                                       put in RCPT TO lines
       antispam           -Z           Specify   what  SMTP  returns  are
                                       interpreted as spam-policy blocks
       mda                -m           Specify MDA for local delivery
       bsmtp              -o           Specify BSMTP batch file to append
                                       to
       preconnect                      Command to be executed before each
                                       connection

       postconnect                     Command to be executed after  each
                                       connection
       keep               -k           Don't  delete  seen  messages from
                                       server (for POP3, uidl  is  recom-
                                       mended)
       flush              -F           Flush  all  seen  messages  before
                                       querying (DANGEROUS)
       limitflush                      Flush   all   oversized   messages
                                       before querying
       fetchall           -a           Fetch all messages whether seen or
                                       not
       rewrite                         Rewrite destination addresses  for
                                       reply (default)
       stripcr                         Strip  carriage  returns from ends
                                       of lines
       forcecr                         Force carriage returns at ends  of
                                       lines
       pass8bits                       Force  BODY=8BITMIME to ESMTP lis-
                                       tener
       dropstatus                      Strip Status and  X-Mozilla-Status
                                       lines out of incoming mail
       dropdelivered                   Strip  Delivered-To  lines  out of
                                       incoming mail
       mimedecode                      Convert quoted-printable to  8-bit
                                       in MIME messages
       idle                            Idle   waiting  for  new  messages
                                       after each poll (IMAP only)
       no keep            -K           Delete seen messages  from  server
                                       (default)
       no flush                        Don't   flush  all  seen  messages
                                       before querying (default)
       no fetchall                     Retrieve   only    new    messages
                                       (default)
       no rewrite                      Don't rewrite headers
       no stripcr                      Don't   strip   carriage   returns
                                       (default)
       no forcecr                      Don't force  carriage  returns  at
                                       EOL (default)
       no pass8bits                    Don't force BODY=8BITMIME to ESMTP
                                       listener (default)
       no dropstatus                   Don't    drop    Status    headers
                                       (default)
       no dropdelivered                Don't  drop  Delivered-To  headers
                                       (default)
       no mimedecode                   Don't convert quoted-printable  to
                                       8-bit in MIME messages (default)
       no idle                         Don't  idle  waiting  for new mes-
                                       sages after each poll (IMAP only)
       limit              -l           Set message size limit
       warnings           -w           Set message size warning interval
       batchlimit         -b           Max # messages to forward in  sin-
                                       gle connect
       fetchlimit         -B           Max  # messages to fetch in single
                                       connect
       fetchsizelimit                  Max # message sizes  to  fetch  in
                                       single transaction
       fastuidl                        Use binary search for first unseen
                                       message (POP3 only)
       expunge            -e           Perform an expunge  on  every  #th
                                       message (IMAP and POP3 only)
       properties                      String  value is ignored by fetch-
                                       mail (may  be  used  by  extension
                                       scripts)

       Remember that all user options must <u>follow</u> all server options.

       In  the  .fetchmailrc  file, the 'envelope' string argument may be preceded by a whitespace-separated
       number.  This number, if specified, is the number of such headers to skip over (that is, an  argument
       of  1 selects the second header of the given type).  This is sometime useful for ignoring bogus enve-
       lope headers created by an ISP's local delivery agent or internal forwards (through  mail  inspection
       systems, for instance).

   <b>Keywords</b> <b>Not</b> <b>Corresponding</b> <b>To</b> <b>Option</b> <b>Switches</b>
       The  'folder'  and  'smtphost'  options  (unlike their command-line equivalents) can take a space- or
       comma-separated list of names following them.

       All options correspond to the obvious command-line arguments, except the  following:  'via',  'inter-
       val',  'aka',  'is',  'to',  'dns'/'no  dns', 'checkalias'/'no checkalias', 'password', 'preconnect',
       'postconnect',  'localdomains',  'stripcr'/'no  stripcr',  'forcecr'/'no  forcecr',   'pass8bits'/'no
       pass8bits'  'dropstatus/no dropstatus', 'dropdelivered/no dropdelivered', 'mimedecode/no mimedecode',
       'no idle', and 'no envelope'.

       The 'via' option is for if you want to have more than one configuration pointing at  the  same  site.
       If  it is present, the string argument will be taken as the actual DNS name of the mailserver host to
       query.  This will override the argument of poll, which can then simply be a distinct  label  for  the
       configuration (e.g. what you would give on the command line to explicitly query this host).

       The  'interval'  option  (which takes a numeric argument) allows you to poll a server less frequently
       than the basic poll interval.  If you say 'interval N' the server this option  is  attached  to  will
       only be queried every N poll intervals.

   <b>Singledrop</b> <b>vs.</b> <b>Multidrop</b> <b>options</b>
       Please  ensure  you read the section titled <b>THE</b> <b>USE</b> <b>AND</b> <b>ABUSE</b> <b>OF</b> <b>MULTIDROP</b> <b>MAILBOXES</b> if you intend to
       use multidrop mode.

       The 'is' or 'to' keywords associate the following local (client) <!-- a -->name(s)<!-- /a --> (or server-name  to  client-
       name  mappings  separated by =) with the mailserver user name in the entry.  If an is/to list has '*'
       as its last name, unrecognized names are simply passed through. Note  that  until  <u>fetchmail</u>  version
       6.3.4  inclusively,  these  lists  could only contain local parts of user names (fetchmail would only
       look at the part before the @ sign). <u>fetchmail</u> versions 6.3.5 and newer support full addresses on the
       left  hand  side of these mappings, and they take precedence over any 'localdomains', 'aka', 'via' or
       similar mappings.

       A single local name can be used to support redirecting your mail when your  username  on  the  client
       machine  is different from your name on the mailserver.  When there is only a single local name, mail
       is forwarded to that local username regardless of the message's Received, To, Cc,  and  Bcc  headers.
       In this case, <u>fetchmail</u> never does DNS lookups.

       When  there is more than one local name (or name mapping), <u>fetchmail</u> looks at the envelope header, if
       configured, and otherwise at the Received, To, Cc, and Bcc headers of retrieved mail (this  is  'mul-
       tidrop  mode').   It looks for addresses with hostname parts that match your poll name or your 'via',
       'aka' or 'localdomains' options, and usually also for hostname parts which DNS tells it  are  aliases
       of  the mailserver.  See the discussion of 'dns', 'checkalias', 'localdomains', and 'aka' for details
       on how matching addresses are handled.

       If <u>fetchmail</u> cannot match any mailserver  usernames  or  localdomain  addresses,  the  mail  will  be
       bounced.   Normally  it  will be bounced to the sender, but if the 'bouncemail' global option is off,
       the mail will go to the local postmaster instead.  (see the 'postmaster'  global  option).  See  also
       BUGS.

       The  'dns' option (normally on) controls the way addresses from multidrop mailboxes are checked.  On,
       it enables logic to check each host address that does not match an 'aka' or  'localdomains'  declara-
       tion  by  looking  it  up  with DNS.  When a mailserver username is recognized attached to a matching
       hostname part, its local mapping is added to the list of local recipients.

       The 'checkalias' option (normally off) extends the lookups performed by the  'dns'  keyword  in  mul-
       tidrop  mode, providing a way to cope with remote MTAs that identify themselves using their canonical
       name, while they're polled using an alias.  When such a server is polled, checks to extract the enve-
       lope  address  fail, and <u>fetchmail</u> reverts to delivery using the To/Cc/Bcc headers (See below 'Header
       vs. Envelope addresses').  Specifying  this  option  instructs  <u>fetchmail</u>  to  retrieve  all  the  IP
       addresses associated with both the poll name and the name used by the remote MTA and to do a compari-
       son of the IP addresses.  This comes in handy in situations where the remote  server  undergoes  fre-
       quent canonical name changes, that would otherwise require modifications to the rcfile.  'checkalias'
       has no effect if 'no dns' is specified in the rcfile.

       The 'aka' option is for use with multidrop mailboxes.  It allows you to pre-declare  a  list  of  DNS
       aliases  for  a server.  This is an optimization hack that allows you to trade space for speed.  When
       <u>fetchmail</u>, while processing a multidrop mailbox, grovels through message headers looking for names of
       the mailserver, pre-declaring common ones can save it from having to do DNS lookups.  Note: the names
       you give as arguments to 'aka' are matched as suffixes -- if you specify (say) 'aka netaxs.com', this
       will  match  not  just  a hostname netaxs.com, but any hostname that ends with '.netaxs.com'; such as
       (say) pop3.netaxs.com and mail.netaxs.com.

       The 'localdomains' option allows you to declare a list of domains  which  fetchmail  should  consider
       local.   When fetchmail is parsing address lines in multidrop modes, and a trailing segment of a host
       name matches a declared local domain, that address is passed through to the listener or MDA unaltered
       (local-name mappings are <u>not</u> applied).

       If  you  are  using 'localdomains', you may also need to specify 'no envelope', which disables <u>fetch</u>-
       <u>mail</u>'s normal attempt to deduce an envelope address from the Received line or X-Envelope-To header or
       whatever  header  has  been  previously  set by 'envelope'.  If you set 'no envelope' in the defaults
       entry it is possible to undo that in individual entries by using 'envelope &lt;string&gt;'.  As  a  special
       case, 'envelope "Received"' restores the default parsing of Received lines.

       The  <b>password</b>  option  requires  a string argument, which is the password to be used with the entry's
       server.

       The 'preconnect' keyword allows you to specify a shell command to be executed just before  each  time
       <u>fetchmail</u>  establishes  a  mailserver connection.  This may be useful if you are attempting to set up
       secure POP connections with the aid of <a href="ssh.1.html#//apple_ref/doc/man/1/ssh"><u>ssh</u>(1)</a>.  If the command returns a nonzero status, the poll  of
       that mailserver will be aborted.

       Similarly,  the  'postconnect' keyword similarly allows you to specify a shell command to be executed
       just after each time a mailserver connection is taken down.

       The 'forcecr' option controls whether lines terminated by LF only are given CRLF  termination  before
       forwarding.   Strictly speaking RFC821 requires this, but few MTAs enforce the requirement it so this
       option is normally off (only one such MTA, qmail, is in significant use at time of writing).

       The 'stripcr' option controls whether carriage returns are stripped out of retrieved mail  before  it
       is  forwarded.   It  is normally not necessary to set this, because it defaults to 'on' (CR stripping
       enabled) when there is an MDA declared but 'off' (CR stripping disabled) when forwarding is via SMTP.
       If 'stripcr' and 'forcecr' are both on, 'stripcr' will override.

       The  'pass8bits'  option  exists  to cope with Microsoft mail programs that stupidly slap a "Content-
       Transfer-Encoding: 7bit" on everything.  With this  option  off  (the  default)  and  such  a  header
       present, <u>fetchmail</u> declares BODY=7BIT to an ESMTP-capable listener; this causes problems for messages
       actually using 8-bit ISO or KOI-8 character sets, which will be garbled by having the  high  bits  of
       all  characters  stripped.  If 'pass8bits' is on, <u>fetchmail</u> is forced to declare BODY=8BITMIME to any
       ESMTP-capable listener.  If the listener is 8-bit-clean (as all the major ones  now  are)  the  right
       thing will probably result.

       The  'dropstatus'  option controls whether nonempty Status and X-Mozilla-Status lines are retained in
       fetched mail (the default) or discarded.  Retaining them allows your MUA to  see  what  messages  (if
       any)  were  marked  seen  on  the server.  On the other hand, it can confuse some new-mail notifiers,
       which assume that anything with a Status line in it has been seen.  (Note:  the  empty  Status  lines
       inserted by some buggy POP servers are unconditionally discarded.)

       The  'dropdelivered'  option  controls whether Delivered-To headers will be kept in fetched mail (the
       default) or discarded. These headers are added by Qmail and Postfix mailservers  in  order  to  avoid
       mail  loops  but  may get in your way if you try to "mirror" a mailserver within the same domain. Use
       with caution.

       The 'mimedecode' option controls whether MIME messages using the quoted-printable encoding are  auto-
       matically converted into pure 8-bit data. If you are delivering mail to an ESMTP-capable, 8-bit-clean
       listener (that includes all of the major MTAs like sendmail), then this  will  automatically  convert
       quoted-printable  message headers and data into 8-bit data, making it easier to understand when read-
       ing mail. If your e-mail programs know how to deal with  MIME  messages,  then  this  option  is  not
       needed.   The mimedecode option is off by default, because doing RFC2047 conversion on headers throws
       away character-set information and can lead to bad results if the encoding  of  the  headers  differs
       from the body encoding.

       The 'idle' option is intended to be used with IMAP servers supporting the RFC2177 IDLE command exten-
       sion, but does not strictly require it.  If it is enabled, and fetchmail detects that  IDLE  is  sup-
       ported,  an  IDLE will be issued at the end of each poll.  This will tell the IMAP server to hold the
       connection open and notify the client when new mail is available.  If IDLE is not  supported,  fetch-
       mail  will  simulate it by periodically issuing NOOP. If you need to poll a link frequently, IDLE can
       save bandwidth by eliminating TCP/IP connects and LOGIN/LOGOUT sequences. On the other hand, an  IDLE
       connection  will  eat  almost all of your fetchmail's time, because it will never drop the connection
       and allow other polls to occur unless the server times out the IDLE.  It also doesn't work with  mul-
       tiple folders; only the first folder will ever be polled.


       The  'properties'  option is an extension mechanism.  It takes a string argument, which is ignored by
       fetchmail itself.  The string argument may be used to store  configuration  information  for  scripts
       which require it.  In particular, the output of '--configdump' option will make properties associated
       with a user entry readily available to a Python script.


   <b>Miscellaneous</b> <b>Run</b> <b>Control</b> <b>Options</b>
       The words 'here' and 'there' have useful English-like significance.   Normally  'user  eric  is  esr'
       would  mean  that  mail for the remote user 'eric' is to be delivered to 'esr', but you can make this
       clearer by saying 'user eric there is esr here', or reverse it by  saying  'user  esr  here  is  eric
       there'

       Legal protocol identifiers for use with the 'protocol' keyword are:

           auto (or AUTO) (legacy, to be removed from future release)
           pop2 (or POP2) (legacy, to be removed from future release)
           pop3 (or POP3)
           sdps (or SDPS)
           imap (or IMAP)
           apop (or APOP)
           kpop (or KPOP)


       Legal  authentication types are 'any', 'password', 'kerberos', 'kerberos_v4', 'kerberos_v5' and 'gss-
       api', 'cram-md5', 'otp', 'msn' (only for POP3), 'ntlm', 'ssh', 'external' (only  IMAP).   The  'pass-
       word'  type  specifies authentication by normal transmission of a password (the password may be plain
       text or subject to protocol-specific encryption as in CRAM-MD5); 'kerberos' tells <u>fetchmail</u> to try to
       get  a  Kerberos ticket at the start of each query instead, and send an arbitrary string as the pass-
       word; and 'gssapi' tells fetchmail to use GSSAPI authentication.  See the description of  the  'auth'
       keyword for more.

       Specifying  'kpop' sets POP3 protocol over port 1109 with Kerberos V4 authentication.  These defaults
       may be overridden by later options.

       There are some global option statements: 'set logfile' followed by a  string  sets  the  same  global
       specified  by  --logfile.  A command-line --logfile option will override this. Note that --logfile is
       only effective if fetchmail detaches itself from the terminal.  Also,  'set  daemon'  sets  the  poll
       interval  as  --daemon does.  This can be overridden by a command-line --daemon option; in particular
       --daemon 0 can be used to force foreground operation. The 'set postmaster' statement sets the address
       to which multidrop mail defaults if there are no local matches.  Finally, 'set syslog' sends log mes-
       sages to <a href="../man8/syslogd.8.html#//apple_ref/doc/man/8/syslogd">syslogd(8)</a>.


<b>DEBUGGING</b> <b>FETCHMAIL</b>
   <b>Fetchmail</b> <b>crashing</b>
       There are various ways in that fetchmail may "crash", i. e. stop operation suddenly and unexpectedly.
       A  "crash"  usually  refers to an error condition that the software did not handle by itself. A well-
       known failure mode is the "segmentation fault" or "signal 11" or "SIGSEGV"  or  just  "segfault"  for
       short.  These  can be caused by hardware or by software problems. Software-induced segfaults can usu-
       ally be reproduced easily and in the same place, whereas hardware-induced segfaults can  go  away  if
       the  computer is rebooted, or powered off for a few hours, and can happen in random locations even if
       you use the software the same way.

       For solving hardware-induced  segfaults,  find  the  faulty  component  and  repair  or  replace  it.
       &lt;<a href="http://www.bitwizard.nl/sig11/">http://www.bitwizard.nl/sig11/</a> may help you with details.

       For solving software-induced segfaults, the developers may need a "stack backtrace".


   <b>Enabling</b> <b>fetchmail</b> <b>core</b> <b>dumps</b>
       By  default,  fetchmail  suppresses  core  dumps as these might contain passwords and other sensitive
       information. For debugging fetchmail crashes, obtaining a "stack backtrace" from a core dump is often
       the  quickest way to solve the problem, and when posting your problem on a mailing list, the develop-<font color="#ffffff" class="whiteout">ers&nbsp;developers</font>
       ers may ask you for a "backtrace".

       1. To get useful backtraces, fetchmail needs to be installed without getting stripped of its compila-<font color="#ffffff" class="whiteout">tion&nbsp;compilation</font>
       tion  symbols.   Unfortunately,  most binary packages that are installed are stripped, and core files
       from symbol-stripped programs are worthless. So you may need to recompile fetchmail. On many systems,
       you can type

               file `which fetchmail`

       to  find  out  if fetchmail was symbol-stripped or not. If yours was unstripped, fine, proceed, if it
       was stripped, you need to recompile the source code first. You do not usually need to install  fetch-<font color="#ffffff" class="whiteout">mail&nbsp;fetchmail</font>
       mail in order to debug it.

       2.  The  shell  environment that starts fetchmail needs to enable core dumps. The key is the "maximum
       core (file) size" that can usually be configured with a tool named "limit" or "ulimit". See the docu-<font color="#ffffff" class="whiteout">mentation&nbsp;documentation</font>
       mentation  for  your  shell for details. In the popular bash shell, "ulimit -Sc unlimited" will allow
       the core dump.

       3. You need to tell fetchmail, too, to allow core dumps. To do this, run fetchmail with  the  <b>-d0</b>  <b>-v</b>
       options.  It is often easier to also add <b>--nosyslog</b> <b>-N</b> as well.

       Finally,  you  need to reproduce the crash. You can just start fetchmail from the directory where you
       compiled it by typing <b>./fetchmail</b>, so the complete command line will  start  with  <b>./fetchmail</b>  <b>-Nvd0</b>
       <b>--nosyslog</b> and perhaps list your other options.

       After  the crash, run your debugger to obtain the core dump.  The debugger will often be GNU GDB, you
       can then type (adjust paths as necessary) <b>gdb</b> <b>./fetchmail</b> <b>fetchmail.core</b>  and  then,  after  GDB  has
       started  up  and  read all its files, type <b>backtrace</b> <b>full</b>, save the output (copy &amp; paste will do, the
       backtrace will be read by a human) and then type <b>quit</b> to leave gdb.  <b>Note:</b> on some systems, the  core
       files  have  different  names, they might contain a number instead of the program name, or number and
       name, but it will usually have "core" as part of their name.


<b>INTERACTION</b> <b>WITH</b> <b>RFC</b> <b>822</b>
       When trying to determine the originating address of a message, fetchmail looks through headers in the
       following order:

               Return-Path:
               Resent-Sender: (ignored if it doesn't contain an @ or !)
               Sender: (ignored if it doesn't contain an @ or !)
               Resent-From:
               From:
               Reply-To:
               Apparently-From:

       The  originating  address  is  used  for logging, and to set the MAIL FROM address when forwarding to
       SMTP.  This order is intended to cope gracefully with receiving mailing list  messages  in  multidrop
       mode.  The  intent  is  that  if  a local address doesn't exist, the bounce message won't be returned
       blindly to the author or to the list itself, but rather to the list manager (which is less annoying).

       In  multidrop  mode,  destination  headers  are  processed as follows: First, fetchmail looks for the
       header specified by the 'envelope' option in order to determine the local recipient address.  If  the
       mail is addressed to more than one recipient, the Received line won't contain any information regard-<font color="#ffffff" class="whiteout">ing&nbsp;regarding</font>
       ing recipient addresses.

       Then fetchmail looks for the Resent-To:, Resent-Cc:, and Resent-Bcc:  lines.   If  they  exist,  they
       should contain the final recipients and have precedence over their To:/Cc:/Bcc: counterparts.  If the
       Resent-* lines don't exist, the To:, Cc:, Bcc: and Apparently-To: lines are looked for. (The presence
       of  a  Resent-To:  is taken to imply that the person referred by the To: address has already received
       the original copy of the mail.)


<b>CONFIGURATION</b> <b>EXAMPLES</b>
       Note that although there are password declarations in a good many of  the  examples  below,  this  is
       mainly  for illustrative purposes.  We recommend stashing account/password pairs in your $HOME/.netrc
       file, where they can be used not just by fetchmail but by <a href="ftp.1.html#//apple_ref/doc/man/1/ftp">ftp(1)</a> and other programs.

       Basic format is:

         poll SERVERNAME protocol PROTOCOL username NAME password PASSWORD

       Example:

         poll pop.provider.net protocol pop3 username "jsmith" password "secret1"

       Or, using some abbreviations:

         poll pop.provider.net proto pop3 user "jsmith" password "secret1"

       Multiple servers may be listed:

         poll pop.provider.net proto pop3 user "jsmith" pass "secret1"
         poll other.provider.net proto pop2 user "John.Smith" pass "My^Hat"

       Here's a version of those two with more whitespace and some noise words:

         poll pop.provider.net proto pop3
             user "jsmith", with password secret1, is "jsmith" here;
         poll other.provider.net proto pop2:
             user "John.Smith", with password "My^Hat", is "John.Smith" here;

       This version is much easier to read and doesn't cost significantly more (parsing is done  only  once,
       at startup time).


       If you need to include whitespace in a parameter string, enclose the string in double quotes.  Thus:

         poll mail.provider.net with proto pop3:
               user "jsmith" there has password "u can't krak this"
                           is jws here and wants mda "/bin/mail"

       You  may  have  an initial server description headed by the keyword 'defaults' instead of 'poll' fol-<font color="#ffffff" class="whiteout">lowed&nbsp;followed</font>
       lowed by a name.  Such a record is interpreted as defaults for all queries to use. It  may  be  over-<font color="#ffffff" class="whiteout">written&nbsp;overwritten</font>
       written by individual server descriptions.  So, you could write:

         defaults proto pop3
               user "jsmith"
         poll pop.provider.net
               pass "secret1"
         poll mail.provider.net
               user "jjsmith" there has password "secret2"

       It's possible to specify more than one user per server (this is only likely to be useful when running
       fetchmail in daemon mode as root).  The 'user' keyword leads off a user description, and  every  user
       specification in a multi-user entry must include it.  Here's an example:

         poll pop.provider.net proto pop3 port 3111
               user "jsmith" with pass "secret1" is "smith" here
               user jones with pass "secret2" is "jjones" here keep

       This  associates the local username 'smith' with the pop.provider.net username 'jsmith' and the local
       username 'jjones' with the pop.provider.net username 'jones'.  Mail for 'jones' is kept on the server
       after download.

       Here's what a simple retrieval configuration for a multidrop mailbox looks like:

         poll pop.provider.net:
               user maildrop with pass secret1 to golux 'hurkle'='happy' snark here

       This  says that the mailbox of account 'maildrop' on the server is a multidrop box, and that messages
       in it should be parsed for the server user names 'golux', 'hurkle', and 'snark'.  It  further  speci-<font color="#ffffff" class="whiteout">fies&nbsp;specifies</font>
       fies  that 'golux' and 'snark' have the same name on the client as on the server, but mail for server
       user 'hurkle' should be delivered to client user 'happy'.

       <b>Note</b> that <u>fetchmail,</u> until version 6.3.4, did NOT allow full user@domain specifications  here,  these
       would never match. <u>Fetchmail</u> 6.3.5 and newer support user@domain specifications on the left-hand side
       of a user mapping.

       Here's an example of another kind of multidrop connection:

         poll pop.provider.net localdomains loonytoons.org toons.org
             envelope X-Envelope-To
               user maildrop with pass secret1 to * here

       This also says that the mailbox of account 'maildrop' on the server is a  multidrop  box.   It  tells
       fetchmail that any address in the loonytoons.org or toons.org domains (including sub-domain addresses
       like 'joe@daffy.loonytoons.org') should be passed through to the local SMTP listener without  modifi-<font color="#ffffff" class="whiteout">cation.&nbsp;modification.</font>
       cation.  Be careful of mail loops if you do this!

       Here's  an  example  configuration using ssh and the plugin option.  The queries are made directly on
       the stdin and stdout of imapd via ssh.  Note that in this setup, IMAP authentication can be  skipped.

       poll mailhost.net with proto imap:
               plugin "ssh %h /usr/sbin/imapd" auth ssh;
                       user esr is esr here


<b>THE</b> <b>USE</b> <b>AND</b> <b>ABUSE</b> <b>OF</b> <b>MULTIDROP</b> <b>MAILBOXES</b>
       Use  the  multiple-local-recipients  feature with caution -- it can bite.  All multidrop features are
       ineffective in ETRN and ODMR modes.

       Also, note that in multidrop mode duplicate mails are suppressed.  A  piece  of  mail  is  considered
       duplicate  if  it  has  the  same  message-ID  as the message immediately preceding and more than one
       addressee.  Such runs of messages may be generated when copies of a  message  addressed  to  multiple
       users are delivered to a multidrop box.


   <b>Header</b> <b>vs.</b> <b>Envelope</b> <b>addresses</b>
       The  fundamental  problem  is  that  by having your mailserver toss several peoples' mail in a single
       maildrop box, you may have thrown away potentially vital information about who each piece of mail was
       actually addressed to (the 'envelope address', as opposed to the header addresses in the RFC822 To/Cc
       headers - the Bcc is not available at the receiving end).  This 'envelope address' is the address you
       need in order to reroute mail properly.

       Sometimes  <u>fetchmail</u> can deduce the envelope address.  If the mailserver MTA is <u>sendmail</u> and the item
       of mail had just one recipient, the MTA will have written a 'by/for' clause that gives  the  envelope
       addressee  into  its  Received header. But this doesn't work reliably for other MTAs, nor if there is
       more than one recipient.  By default, <u>fetchmail</u> looks for envelope addresses in these lines; you  can
       restore this default with -E "Received" or 'envelope Received'.

       <b>As</b> <b>a</b> <b>better</b> <b>alternative,</b> some SMTP listeners and/or mail servers insert a header in each message con-<font color="#ffffff" class="whiteout">taining&nbsp;containing</font>
       taining a copy of the envelope addresses.  This header (when it  exists)  is  often  'X-Original-To',
       'Delivered-To'  or  'X-Envelope-To'.  Fetchmail's assumption about this can be changed with the -E or
       'envelope' option.  Note that writing an envelope header of this kind exposes the names of recipients
       (including  blind-copy  recipients)  to all receivers of the messages, so the upstream must store one
       copy of the message per recipient to avoid becoming a privacy problem.

       Postfix, since version 2.0, writes an X-Original-To: header which contains a copy of the envelope  as
       it was received.

       Qmail  and  Postfix  generally  write a 'Delivered-To' header upon delivering the message to the mail
       spool and use it to avoid mail loops.  Qmail virtual domains however will prefix the user name with a
       string  that  normally  matches the user's domain. To remove this prefix you can use the -Q or 'qvir-<font color="#ffffff" class="whiteout">tual'&nbsp;'qvirtual'</font>
       tual' option.

       Sometimes, unfortunately, neither of these methods works.  That is the point when you should  contact
       your  ISP  and  ask them to provide such an envelope header, and you should not use multidrop in this
       situation.  When they all fail, fetchmail must fall back on the contents of To/Cc headers (Bcc  head-<font color="#ffffff" class="whiteout">ers&nbsp;headers</font>
       ers  are not available - see below) to try to determine recipient addressees -- and these are unreli-<font color="#ffffff" class="whiteout">able.&nbsp;unreliable.</font>
       able.  In particular, mailing-list software often ships mail with only the list broadcast address  in
       the To header.

       <b>Note</b> <b>that</b> <b>a</b> <b>future</b> <b>version</b> <b>of</b> <u>fetchmail</u> <b>may</b> <b>remove</b> <b>To/Cc</b> <b>parsing!</b>

       When  <u>fetchmail</u>  cannot  deduce a recipient address that is local, and the intended recipient address
       was anyone other than fetchmail's invoking user, <b>mail</b> <b>will</b> <b>get</b> <b>lost.</b>  This is  what  makes  the  mul-<font color="#ffffff" class="whiteout">tidrop&nbsp;multidrop</font>
       tidrop feature risky without proper envelope information.

       A  related problem is that when you blind-copy a mail message, the Bcc information is carried <u>only</u> as
       envelope address (it's removed from the headers by the sending mail server, so fetchmail can  see  it
       only  if there is an X-0elope-To header).  Thus, blind-copying to someone who gets mail over a fetch-<font color="#ffffff" class="whiteout">mail&nbsp;fetchmail</font>
       mail multidrop link will fail unless the the mailserver host routinely  writes  X-Envelope-To  or  an
       equivalent header into messages in your maildrop.

       <b>In</b>  <b>conclusion,</b>  <b>mailing</b>  <b>lists</b>  <b>and</b>  <b>Bcc'd</b> <b>mail</b> <b>can</b> <b>only</b> <b>work</b> <b>if</b> <b>the</b> <b>server</b> <b>you're</b> <b>fetching</b> <b>from</b> <b>(1)</b>
       <b>stores</b> <b>one</b> <b>copy</b> <b>of</b> <b>the</b> <b>message</b> <b>per</b> <b>recipient</b> <b>in</b> <u>your</u> <b>domain</b> <b>and</b> <b>(2)</b> <b>records</b> <b>the</b> <b>envelope</b>  <b>information</b>
       <b>in</b> <b>a</b> <b>special</b> <b>header</b> <b>(X-Original-To,</b> <b>Delivered-To,</b> <b>X-Envelope-To).</b>


   <b>Good</b> <b>Ways</b> <b>To</b> <b>Use</b> <b>Multidrop</b> <b>Mailboxes</b>
       Multiple  local  names  can  be used to administer a mailing list from the client side of a <u>fetchmail</u>
       collection.  Suppose your name is 'esr', and you want to both pick up your own mail  and  maintain  a
       mailing  list  called  (say)  "fetchmail-friends", and you want to keep the alias list on your client
       machine.

       On your server, you can alias 'fetchmail-friends' to 'esr'; then, in your <u>.fetchmailrc</u>,  declare  'to
       esr  fetchmail-friends  here'.  Then, when mail including 'fetchmail-friends' as a local address gets
       fetched, the list name will be appended to the list of recipients your SMTP listener sees.  Therefore
       it  will  undergo  alias expansion locally.  Be sure to include 'esr' in the local alias expansion of
       fetchmail-friends, or you'll never see mail sent only to the list.  Also be sure that  your  listener
       has  the  "me-too"  option  set (sendmail's -oXm command-line option or OXm declaration) so your name
       isn't removed from alias expansions in messages you send.

       This trick is not without its problems, however.  You'll begin to see this when a  message  comes  in
       that is addressed only to a mailing list you do <u>not</u> have declared as a local name.  Each such message
       will feature an 'X-Fetchmail-Warning' header which is generated because fetchmail cannot find a valid
       local  name in the recipient addresses.  Such messages default (as was described above) to being sent
       to the local user running <u>fetchmail</u>, but the program has no way to  know  that  that's  actually  the
       right thing.


   <b>Bad</b> <b>Ways</b> <b>To</b> <b>Abuse</b> <b>Multidrop</b> <b>Mailboxes</b>
       Multidrop  mailboxes  and  <u>fetchmail</u>  serving multiple users in daemon mode do not mix.  The problem,
       again, is mail from mailing lists, which typically does not have an individual recipient  address  on
       it.    Unless <u>fetchmail</u> can deduce an envelope address, such mail will only go to the account running
       fetchmail (probably root).  Also, blind-copied users are very likely never to see their mail at  all.

       If  you're  tempted  to use <u>fetchmail</u> to retrieve mail for multiple users from a single mail drop via
       POP or IMAP, think again (and reread the section on header and envelope addresses above).   It  would
       be  smarter to just let the mail sit in the mailserver's queue and use fetchmail's ETRN or ODMR modes
       to trigger SMTP sends periodically (of course, this means you have to poll more frequently  than  the
       mailserver's expiry period).  If you can't arrange this, try setting up a UUCP feed.

       If  you absolutely <u>must</u> use multidrop for this purpose, make sure your mailserver writes an envelope-<font color="#ffffff" class="whiteout">address&nbsp;envelopeaddress</font>
       address header that fetchmail can see.  Otherwise you <u>will</u> lose mail and it <u>will</u> come back  to  haunt
       you.


   <b>Speeding</b> <b>Up</b> <b>Multidrop</b> <b>Checking</b>
       Normally,  when multiple users are declared <u>fetchmail</u> extracts recipient addresses as described above
       and checks each host part with DNS to see if it's an alias of the mailserver.  If so, the  name  map-<font color="#ffffff" class="whiteout">pings&nbsp;mappings</font>
       pings described in the "to ... here" declaration are done and the mail locally delivered.

       This  is  a  convenient  but  also  slow method.  To speed it up, pre-declare mailserver aliases with
       'aka'; these are checked before DNS lookups are done.  If you're certain your aka list  contains  <b>all</b>
       DNS  aliases  of  the  mailserver (and all MX names pointing at it - note this may change in a future
       version) you can declare 'no dns' to suppress DNS lookups entirely and <u>only</u>  match  against  the  aka
       list.


<b>SOCKS</b>
       Support  for socks4/5 is a <b>compile</b> <b>time</b> configuration option. Once compiled in, fetchmail will always
       use the socks libraries and configuration on your system, there are no run-time switches in fetchmail
       -  but  you  can still configure SOCKS: you can specify which SOCKS configuration file is used in the
       <b>SOCKS_CONF</b> environment variable.

       For instance, if you wanted to bypass the SOCKS proxy altogether and have fetchmail connect directly,
       you could just pass SOCKS_CONF=/dev/null in the environment, for example (add your usual command line
       options - if any - to the end of this line):

       env SOCKS_CONF=/dev/null fetchmail


<b>EXIT</b> <b>CODES</b>
       To facilitate the use of <u>fetchmail</u> in shell scripts, an exit status code is returned to give an indi-<font color="#ffffff" class="whiteout">cation&nbsp;indication</font>
       cation of what occurred during a given connection.

       The exit codes returned by <u>fetchmail</u> are as follows:

       0      One  or  more  messages  were  successfully retrieved (or, if the -c option was selected, were
              found waiting but not retrieved).

       1      There was no mail awaiting retrieval.  (There may have been old mail still on the  server  but
              not selected for retrieval.)

       2      An error was encountered when attempting to open a socket to retrieve mail.  If you don't know
              what a socket is, don't worry about it -- just treat this as an 'unrecoverable  error'.   This
              error can also be because a protocol fetchmail wants to use is not listed in /etc/services.

       3      The user authentication step failed.  This usually means that a bad user-id, password, or APOP
              id was specified.  Or it may mean that you tried to run fetchmail under circumstances where it
              did  not  have  standard input attached to a terminal and could not prompt for a missing pass-<font color="#ffffff" class="whiteout">word.&nbsp;password.</font>
              word.

       4      Some sort of fatal protocol error was detected.

       5      There was a syntax error in the arguments to <u>fetchmail</u>.

       6      The run control file had bad permissions.

       7      There was an error condition reported by the server.  Can also fire  if  <u>fetchmail</u>  timed  out
              while waiting for the server.

       8      Client-side exclusion error.  This means <u>fetchmail</u> either found another copy of itself already
              running, or failed in such a way that it isn't sure whether another copy is running.

       9      The user authentication step failed because the server responded "lock busy".  Try again after
              a  brief pause!  This error is not implemented for all protocols, nor for all servers.  If not
              implemented for your server, "3" will be returned instead, see above.  May  be  returned  when
              talking  to  qpopper  or  other servers that can respond with "lock busy" or some similar text
              containing the word "lock".

       10     The <u>fetchmail</u> run failed while trying to do an SMTP port open or transaction.

       11     Fatal DNS error.  Fetchmail encountered an error while performing a DNS lookup at startup  and
              could not proceed.

       12     BSMTP batch file could not be opened.

       13     Poll terminated by a fetch limit (see the --fetchlimit option).

       14     Server busy indication.

       23     Internal error.  You should see a message on standard error with details.

       24 - 26, 28, 29
              These are internal codes and should not appear externally.

       When  <u>fetchmail</u>  queries  more  than one host, return status is 0 if <u>any</u> query successfully retrieved
       mail. Otherwise the returned error status is that of the last host queried.


<b>FILES</b>
       ~/.fetchmailrc
            default run control file

       ~/.fetchids
            default location of file associating hosts with last message IDs  seen  (used  only  with  newer
            RFC1939-compliant POP3 servers supporting the UIDL command).

       ~/.fetchmail.pid
            lock file to help prevent concurrent runs (non-root mode).

       ~/.netrc
            your  FTP  run  control file, which (if present) will be searched for passwords as a last resort
            before prompting for one interactively.

       /var/run/fetchmail.pid
            lock file to help prevent concurrent runs (root mode, Linux systems).

       /etc/fetchmail.pid
            lock file to help prevent concurrent runs (root mode, systems without /var/run).


<b>ENVIRONMENT</b>
       <b>FETCHMAILUSER:</b> If the FETCHMAILUSER variable is set, it is used as  the  name  of  the  calling  user
       (default local name) for purposes such as mailing error notifications.  Otherwise, if either the LOG-<font color="#ffffff" class="whiteout">NAME&nbsp;LOGNAME</font>
       NAME or USER variable is correctly set (e.g. the corresponding UID matches the session user ID)  then
       that  name is used as the default local name.  Otherwise <a href="../man3/getpwuid.3.html#//apple_ref/doc/man/3/getpwuid"><b>getpwuid</b>(3)</a> must be able to retrieve a pass-<font color="#ffffff" class="whiteout">word&nbsp;password</font>
       word entry for the session ID (this elaborate logic is designed to handle the case of multiple  names
       per userid gracefully).

       <b>FETCHMAILHOME:</b>  If  the  environment  variable FETCHMAILHOME is set to a valid and existing directory
       name, fetchmail will read $FETCHMAILHOME/fetchmailrc (the dot is missing in this  case),  $FETCHMAIL-<font color="#ffffff" class="whiteout">HOME/.fetchids&nbsp;$FETCHMAILHOME/.fetchids</font>
       HOME/.fetchids  and  $FETCHMAILHOME/.fetchmail.pid  rather  than from the user's home directory.  The
       .netrc file is always looked for in the the invoking user's home directory regardless  of  FETCHMAIL-<font color="#ffffff" class="whiteout">HOME's&nbsp;FETCHMAILHOME's</font>
       HOME's setting.

       <b>HOME_ETC:</b>  If  the  HOME_ETC  variable  is set, fetchmail will read $HOME_ETC/.fetchmailrc instead of
       ~/.fetchmailrc.

       If HOME_ETC and FETCHMAILHOME are both set, HOME_ETC will be ignored.

       <b>SOCKS_CONF:</b> (only if SOCKS support is compiled in) this variable is used by the socks library to find
       out which configuration file it should read. Set this to /dev/null to bypass the SOCKS proxy.


<b>SIGNALS</b>
       If  a <u>fetchmail</u> daemon is running as root, SIGUSR1 wakes it up from its sleep phase and forces a poll
       of all non-skipped servers. For compatibility reasons, SIGHUP can also be used in 6.3.X but  may  not
       be available in future fetchmail versions.

       If  <u>fetchmail</u> is running in daemon mode as non-root, use SIGUSR1 to wake it (this is so SIGHUP due to
       logout can retain the default action of killing it).

       Running <u>fetchmail</u> in foreground while a background fetchmail is running will do whichever of these is
       appropriate to wake it up.


<b>BUGS</b> <b>AND</b> <b>KNOWN</b> <b>PROBLEMS</b>
       Please check the <b>NEWS</b> file that shipped with fetchmail for more known bugs than those listed here.

       Fetchmail  cannot  handle  user names that contain blanks after a "@" character, for instance "demon-<font color="#ffffff" class="whiteout">str@ti&nbsp;"demonstr@ti</font>
       str@ti on". These are rather uncommon and only hurt when using UID-based --keep setups, so the  6.3.X
       versions of fetchmail won't be fixed.

       The assumptions that the DNS and in particular the checkalias options make are not often sustainable.
       For instance, it has become uncommon for an MX server to be a POP3 or IMAP server at the  same  time.
       Therefore the MX lookups may go away in a future release.

       The  mda and plugin options interact badly.  In order to collect error status from the MDA, fetchmail
       has to change its normal signal handling so that dead plugin processes don't get reaped until the end
       of  the  poll  cycle.   This can cause resource starvation if too many zombies accumulate.  So either
       don't deliver to a MDA using plugins or risk being overrun by an army of undead.

       The --interface option does not support IPv6 and it is doubtful if it ever will, since  there  is  no
       portable way to query interface IPv6 addresses.

       The  RFC822  address  parser  used  in multidrop mode chokes on some @-addresses that are technically
       legal but bizarre.  Strange uses of quoting and embedded comments are likely to confuse it.

       In a message with multiple envelope headers, only the last one processed will be  visible  to  fetch-<font color="#ffffff" class="whiteout">mail.&nbsp;fetchmail.</font>
       mail.

       Use  of  some of these protocols requires that the program send unencrypted passwords over the TCP/IP
       connection to the mailserver.  This creates a risk that name/password pairs might be snaffled with  a
       packet  sniffer  or more sophisticated monitoring software.  Under Linux and FreeBSD, the --interface
       option can be used to restrict polling to availability of a specific interface device with a specific
       local  or  remote  IP address, but snooping is still possible if (a) either host has a network device
       that can be opened in promiscuous mode, or (b) the intervening network link can be tapped.  We recom-<font color="#ffffff" class="whiteout">mend&nbsp;recommend</font>
       mend  the use of <a href="ssh.1.html#//apple_ref/doc/man/1/ssh"><u>ssh</u>(1)</a> tunnelling to not only shroud your passwords but encrypt the entire conversa-<font color="#ffffff" class="whiteout">tion.&nbsp;conversation.</font>
       tion.

       Use of the %F or %T escapes in an mda option could open a  security  hole,  because  they  pass  text
       manipulable by an attacker to a shell command.  Potential shell characters are replaced by '_' before
       execution.  The hole is further reduced by the fact that  fetchmail  temporarily  discards  any  suid
       privileges  it may have while running the MDA.  For maximum safety, however, don't use an mda command
       containing %F or %T when fetchmail is run from the root account itself.

       Fetchmail's method of sending bounces due to errors or spam-blocking and spam bounces  requires  that
       port 25 of localhost be available for sending mail via SMTP.

       If you modify a <u>~/.fetchmailrc</u> while a background instance is running and break the syntax, the back-<font color="#ffffff" class="whiteout">ground&nbsp;background</font>
       ground instance will die silently.  Unfortunately, it can't die noisily because  we  don't  yet  know
       whether syslog should be enabled.  On some systems, fetchmail dies quietly even if there is no syntax
       error; this seems to have something to do with buggy terminal ioctl code in the kernel.

       The -f - option (reading a configuration from stdin) is incompatible with the plugin option.

       The 'principal' option only handles Kerberos IV, not V.

       Interactively entered passwords are truncated after 63 characters. If you really need to use a longer
       password, you will have to use a configuration file.

       A  backslash  as  the last character of a configuration file will be flagged as a syntax error rather
       than ignored.

       The BSMTP error handling is virtually nonexistent and may leave broken messages behind.

       Send  comments,  bug  reports,  gripes,  and  the  like   to   the   fetchmail-devel   list   &lt;fetch-
       mail-devel@lists.berlios.de&gt;.   An  HTML  FAQ  is  available  at  the  fetchmail  home  page; surf to
       <a href="http://fetchmail.berlios.de/">http://fetchmail.berlios.de/</a> or do a WWW search for pages with 'fetchmail' in their titles.


<b>AUTHOR</b>
       Fetchmail is currently maintained by Matthias Andree and Rob Funk with major  assistance  from  Sunil
       Shetye (for code) and Rob MacGregor (for the mailing lists).

       Most of the code is from Eric S. Raymond &lt;esr@snark.thyrsus.com&gt;.  Too many other people to name here
       have contributed code and patches.

       This program is descended from and replaces <u>popclient</u>, by Carl Harris &lt;ceharris@mal.com&gt;; the  inter-
       nals  have  become  quite  different,  but some of its interface design is directly traceable to that
       ancestral program.

       This manual page has been improved by R. Hannes Beinert and Hctor Garca.


<b>SEE</b> <b>ALSO</b>
       <!-- a -->mutt(1)<!-- /a -->, <!-- a -->elm(1)<!-- /a -->, <a href="mail.1.html#//apple_ref/doc/man/1/mail">mail(1)</a>, <!-- a -->sendmail(8)<!-- /a -->, <!-- a -->popd(8)<!-- /a -->, <a href="../man8/imapd.8.html#//apple_ref/doc/man/8/imapd">imapd(8)</a>, <!-- a -->netrc(5)<!-- /a -->

       The fetchmail home page: &lt;<a href="http://fetchmail.berlios.de/">http://fetchmail.berlios.de/</a>

       The maildrop home page: &lt;<a href="http://www.courier-mta.org/maildrop/">http://www.courier-mta.org/maildrop/</a>

<b>APPLICABLE</b> <b>STANDARDS</b>
       Note that this list is just a collection of references and not a statement as to the actual  protocol
       conformance or requirements in fetchmail.

       SMTP/ESMTP:
            RFC 821, RFC 2821, RFC 1869, RFC 1652, RFC 1870, RFC 1983, RFC 1985, RFC 2554.

       mail:
            RFC 822, RFC 2822, RFC 1123, RFC 1892, RFC 1894.

       POP2:
            RFC 937

       POP3:
            RFC 1081, RFC 1225, RFC 1460, RFC 1725, RFC 1734, RFC 1939, RFC 1957, RFC 2195, RFC 2449.

       APOP:
            RFC 1939.

       RPOP:
            RFC 1081, RFC 1225.

       IMAP2/IMAP2BIS:
            RFC 1176, RFC 1732.

       IMAP4/IMAP4rev1:
            RFC 1730, RFC 1731, RFC 1732, RFC 2060, RFC 2061, RFC 2195, RFC 2177, RFC 2683.

       ETRN:
            RFC 1985.

       ODMR/ATRN:
            RFC 2645.

       OTP: RFC 1938.

       LMTP:
            RFC 2033.

       GSSAPI:
            RFC 1508.

       TLS: RFC 2595.



fetchmail                                      fetchmail 6.3.8                                  <a href="fetchmail.1.html#//apple_ref/doc/man/1/fetchmail">fetchmail(1)</a>
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man1/fetchmailconf.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man1/fetchmailconf.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man1/fetchmailconf.1.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
