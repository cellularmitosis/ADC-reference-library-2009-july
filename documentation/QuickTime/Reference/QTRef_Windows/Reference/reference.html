<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Windows API Reference for QuickTime</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Windows API Reference for QuickTime"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40003453-DontLinkChapterID_1" title="Windows API Reference for QuickTime"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/QuickTime/index.html#//apple_ref/doc/uid/TP30001281-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../../../../reference/QuickTime/idxQuickTimeforWindows-date.html#//apple_ref/doc/uid/TP30001281-TP30000433-TP30000563" target="_top">QuickTime for Windows</a> &gt; <a href="../index.html" target="_top">Windows API Reference for QuickTime</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../Rev_History/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40003453-DontLinkChapterID_1-DontLinkElementID_5" title="Windows API Reference for QuickTime"></a><h1>Windows API Reference for QuickTime</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../QT_Framework_Ref/index.html#//apple_ref/doc/uid/TP40004374" target="_top">Frameworks</a>/QuickTime.framework</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">QTML.h</span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40003453-CH201-DontLinkElementID_2" title="Overview"></a><h2>Overview</h2><p>Apple provides a small set of utility functions that are used for developing QuickTime applications in the Windows environment.</p>




<a name="//apple_ref/doc/uid/TP40003453-CH1g-Functions" title="Functions"></a>
<h2>Functions</h2>








<a name="//apple_ref/c/func/QTMLCreateMutex" title="QTMLCreateMutex"></a><a name="//apple_ref/doc/c_ref/QTMLCreateMutex" title="QTMLCreateMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-QTMLCreateMutex" title="QTMLCreateMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-DontLinkElementID_7"></a><h3 class="tight">QTMLCreateMutex</h3>
<p class="spaceabove">Creates a synchronization object to facilitate mutually exclusive access to a Windows data structure.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/QTMLMutex">QTMLMutex</a> QTMLCreateMutex (
   void
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function creates a mutex object for guarded access to data structures and routines that require mutually exclusive access. In a multithreaded preemptive environment, such as Windows NT, you can use the various mutex utility functions such as <code><a href="reference.html#//apple_ref/c/func/QTMLGrabMutex" target="_self">QTMLGrabMutex</a></code> to protect a shared resource from simultaneous access by multiple threads or processes. Mutex objects are used throughout QTML to provide such protection.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec/index.html#//apple_ref/doc/uid/DTS10000812" target="_top">audiocodec</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec.win/index.html#//apple_ref/doc/uid/DTS10000813" target="_top">audiocodec.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTCarbonCoreImage101/index.html#//apple_ref/doc/uid/DTS10003878" target="_top">QTCarbonCoreImage101</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/WhackedTV/index.html#//apple_ref/doc/uid/DTS10003727" target="_top">WhackedTV</a></span></li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code><a name="//apple_ref/c/func/QTMLDestroyMutex" title="QTMLDestroyMutex"></a><a name="//apple_ref/doc/c_ref/QTMLDestroyMutex" title="QTMLDestroyMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-QTMLDestroyMutex" title="QTMLDestroyMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-DontLinkElementID_8"></a><h3 class="tight">QTMLDestroyMutex</h3>
<p class="spaceabove">Deallocates a synchronization object created by QTMLCreateMutex.</p>
<p class="spaceabove"><pre>
void QTMLDestroyMutex (
   <a href="reference.html#//apple_ref/doc/c_ref/QTMLMutex">QTMLMutex</a> mu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>mu</em></dt>
<dd><p>A mutex object.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>Call this function to deallocate the mutex object created by <code><a href="reference.html#//apple_ref/c/func/QTMLCreateMutex" target="_self">QTMLCreateMutex</a></code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec/index.html#//apple_ref/doc/uid/DTS10000812" target="_top">audiocodec</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec.win/index.html#//apple_ref/doc/uid/DTS10000813" target="_top">audiocodec.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/WhackedTV/index.html#//apple_ref/doc/uid/DTS10003727" target="_top">WhackedTV</a></span></li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code><a name="//apple_ref/c/func/QTMLGrabMutex" title="QTMLGrabMutex"></a><a name="//apple_ref/doc/c_ref/QTMLGrabMutex" title="QTMLGrabMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-QTMLGrabMutex" title="QTMLGrabMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-DontLinkElementID_9"></a><h3 class="tight">QTMLGrabMutex</h3>
<p class="spaceabove">Confers ownership of a mutex created by QTMLCreateMutex.</p>
<p class="spaceabove"><pre>
void QTMLGrabMutex (
   <a href="reference.html#//apple_ref/doc/c_ref/QTMLMutex">QTMLMutex</a> mu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>mu</em></dt>
<dd><p>A mutex object.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>Call this function when you require exclusive ownership of the resource guarded by a mutex. This function will return when you have gained this ownership. In the case where another thread or process holds the mutex, this function waits until that process or thread relinquishes control. If you need to determine if you can grab the mutex, without actually grabbing it, call <code><a href="reference.html#//apple_ref/c/func/QTMLTryGrabMutex" target="_self">QTMLTryGrabMutex</a></code>.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec/index.html#//apple_ref/doc/uid/DTS10000812" target="_top">audiocodec</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec.win/index.html#//apple_ref/doc/uid/DTS10000813" target="_top">audiocodec.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTCarbonCoreImage101/index.html#//apple_ref/doc/uid/DTS10003878" target="_top">QTCarbonCoreImage101</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/WhackedTV/index.html#//apple_ref/doc/uid/DTS10003727" target="_top">WhackedTV</a></span></li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code><a name="//apple_ref/c/func/QTMLReturnMutex" title="QTMLReturnMutex"></a><a name="//apple_ref/doc/c_ref/QTMLReturnMutex" title="QTMLReturnMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-QTMLReturnMutex" title="QTMLReturnMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-DontLinkElementID_10"></a><h3 class="tight">QTMLReturnMutex</h3>
<p class="spaceabove">Releases ownership of a QTMLMutex object.</p>
<p class="spaceabove"><pre>
void QTMLReturnMutex (
   <a href="reference.html#//apple_ref/doc/c_ref/QTMLMutex">QTMLMutex</a> mu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>mu</em></dt>
<dd><p>A mutex object.</p></dd></dl><h5 class="tight">Discussion</h5>
<p>Call this function to balance a call to <code><a href="reference.html#//apple_ref/c/func/QTMLGrabMutex" target="_self">QTMLGrabMutex</a></code> when you are ready to relinquish control of the mutex and corresponding shared resource. By making this call, you allow other processes or threads waiting for the release of this mutex to gain access.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec/index.html#//apple_ref/doc/uid/DTS10000812" target="_top">audiocodec</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/audiocodec.win/index.html#//apple_ref/doc/uid/DTS10000813" target="_top">audiocodec.win</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/QTCarbonCoreImage101/index.html#//apple_ref/doc/uid/DTS10003878" target="_top">QTCarbonCoreImage101</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/WhackedTV/index.html#//apple_ref/doc/uid/DTS10003727" target="_top">WhackedTV</a></span></li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code><a name="//apple_ref/c/func/QTMLTryGrabMutex" title="QTMLTryGrabMutex"></a><a name="//apple_ref/doc/c_ref/QTMLTryGrabMutex" title="QTMLTryGrabMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-QTMLTryGrabMutex" title="QTMLTryGrabMutex"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-DontLinkElementID_11"></a><h3 class="tight">QTMLTryGrabMutex</h3>
<p class="spaceabove">Determines if you would be able to get immediate ownership of a mutex created by QTMLCreateMutex.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> QTMLTryGrabMutex (
   <a href="reference.html#//apple_ref/doc/c_ref/QTMLMutex">QTMLMutex</a> mu
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>mu</em></dt>
<dd><p>A mutex object.</p></dd></dl>
<h5 class="tight">Return Value</h5><p>Returns TRUE if you are able to immediately grab the mutex, via the <code><a href="reference.html#//apple_ref/c/func/QTMLGrabMutex" target="_self">QTMLGrabMutex</a></code> call, without having to wait.</p>
<h5 class="tight">Discussion</h5>
<p>Call this function when you need to preflight a <code><a href="reference.html#//apple_ref/c/func/QTMLGrabMutex" target="_self">QTMLGrabMutex</a></code> call.</p>
<h5 class="tight">Special Considerations</h5><p>Under normal circumstances you should not need to make this call.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 4.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code><a name="//apple_ref/c/func/QTMLYieldCPU" title="QTMLYieldCPU"></a><a name="//apple_ref/doc/c_ref/QTMLYieldCPU" title="QTMLYieldCPU"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-QTMLYieldCPU" title="QTMLYieldCPU"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-DontLinkElementID_12"></a><h3 class="tight">QTMLYieldCPU</h3>
<p class="spaceabove">Yields time to other threads while your code is in a tight loop.</p>
<p class="spaceabove"><pre>
void QTMLYieldCPU (
   void
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Use this function from within tight loops to yield time to other threads. Using this function is similar to calling <code>SystemTask</code> from within a Macintosh event loop.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code><a name="//apple_ref/c/func/QTMLYieldCPUTime" title="QTMLYieldCPUTime"></a><a name="//apple_ref/doc/c_ref/QTMLYieldCPUTime" title="QTMLYieldCPUTime"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-QTMLYieldCPUTime" title="QTMLYieldCPUTime"></a><a name="//apple_ref/doc/uid/TP40003453-CH1g-DontLinkElementID_13"></a><h3 class="tight">QTMLYieldCPUTime</h3>
<p class="spaceabove">Yields time to other threads and specifies the sleep time while in a tight loop.</p>
<p class="spaceabove"><pre>
void QTMLYieldCPUTime (
   long milliSeconds,
   unsigned long flags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>milliSeconds</em></dt>
<dd><p>Number of milliseconds to sleep before returning to the caller.</p></dd>
<dt><em>flags</em></dt>
<dd><p>A flag (see below) that specifies an option for this function. See these constants:
<ul class="simple">
<li><p><code><!--a target="_top" -->kQTMLHandlePortEvents<!--/a--></code></p></li>
</ul>
</p></dd></dl><h5 class="tight">Discussion</h5>
<p>Use this function from within tight loops to yield time to other threads.</p>
<h5 class="tight">Special Considerations</h5><p>This function differs from <code><a href="reference.html#//apple_ref/c/func/QTMLYieldCPU" target="_self">QTMLYieldCPU</a></code> in that you can specify the time to sleep as well as optionally have QTML process Win32 messages while waiting for the yield time to expire.</p>
<h5 class="tight">Version Notes</h5><p>Introduced in QuickTime 3 or earlier.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code><a name="//apple_ref/doc/uid/TP40003453-WindowsAPICallbacks-DontLinkElementID_1" title="Callbacks"></a>
<h2>Callbacks</h2>


<a name="//apple_ref/doc/uid/TP40003453-WindowsAPITypes-DontLinkElementID_3" title="Data Types"></a>
<h2>Data Types</h2>

<a name="//apple_ref/c/tdef/QTMLMutex" title="QTMLMutex"></a><a name="//apple_ref/doc/c_ref/QTMLMutex" title="QTMLMutex"></a><a name="//apple_ref/doc/uid/TP40003453-WindowsAPITypes-QTMLMutex" title="QTMLMutex"></a><a name="//apple_ref/doc/uid/TP40003453-WindowsAPITypes-DontLinkElementID_14"></a><h3 class="tight">QTMLMutex</h3>
<p class="spaceabove">Represents a type used by the Windows API API.</p>
<p class="spaceabove"><pre>
typedef long QTMLMutex;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>QTML.h</code>

<a name="//apple_ref/doc/uid/TP40003453-WindowsAPIConstants-DontLinkElementID_4" title="Constants"></a>
<h2>Constants</h2>

<a name="//apple_ref/doc/constant_group/QTMLYieldCPUTime_Values" title="QTMLYieldCPUTime Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003453-WindowsAPIConstants-QTMLYieldCPUTimeValues" title="QTMLYieldCPUTime Values" role="Enum"></a><a name="//apple_ref/doc/uid/TP40003453-WindowsAPIConstants-DontLinkElementID_15"></a><h3 class="tight">QTMLYieldCPUTime Values</h3>
<p class="spaceabove">Constants passed to QTMLYieldCPUTime.</p>
<p class="spaceabove"><pre>
enum {
   <!--a-->kQTMLHandlePortEvents<!--/a-->         = (1<!--a-->L<!--/a--> &#60;&#60; 0) /* <!--a-->ask<!--/a--> <!--a-->for<!--/a--> <!--a-->event<!--/a--> <!--a-->handling<!--/a--> <!--a-->during<!--/a--> <!--a-->the<!--/a--> <!--a-->yield<!--/a-->*/
};
</pre></p>
<h5 class="tight">Declared In</h5><code>QTML.h</code>


        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../Rev_History/revision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-05-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/Reference/QTRef_Windows/Reference/reference.html%3Fid%3DTP40003453-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/Reference/QTRef_Windows/Reference/reference.html%3Fid%3DTP40003453-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/Reference/QTRef_Windows/Reference/reference.html%3Fid%3DTP40003453-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>