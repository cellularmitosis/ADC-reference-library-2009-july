<HTML>
	<HEAD>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
		<meta name="generator" content="XML_Publisher">
		<meta name="Copyright" content="Copyright 2001 Apple Computer, Inc. All Rights Reserved.">
        <title>Task: Using Pop-up
Menus 
In Nib Files</title>
		</HEAD>
	<BODY bgcolor="#ffffff">
<!-- start of header -->
<!--#include virtual="/includes/framesetheader" -->
<!-- end of header --> <!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != content))
    top.location.href = 'index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');
}
//--></script>
<!-- end Show/Hide frames -->
<a href="../T11ImageViews/pLoading_the_Image.html" target="_top"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="../T13LoginWindow/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerTop -->  
<!-- apple_doc: pageHeadingStart --><a name = "TP1"></a><h1><font face="Lucida Grande,Helvetica,Arial">Task: Using Pop-up
Menus 
In Nib Files</font></h1><!-- apple_doc: pageHeadingEnd -->

<p>It's common to want to
display pop-up menus in interface files that display a short list
of enumeration values. This chapter describes how to connect a pop-up
menu widget (<code>javax.swing.JComboBox</code>)
to a display group and how to get the value of the selected object in
the interface file's controller class.</p>
<p><b>Problem:</b> You want to display a pop-up menu
(JComboBox) and extract the selected value.</p>
<p><b>Solution:</b> Place a pop-up menu widget in
an interface file and use a controller display group to extract
the value.</p>
<p>In a nib file, add the entity that contains the enumeration
values to the nib file by dragging the entity from EOModeler into
the nib file window.  <a href="#CFAJDJDD">Figure 19-1</a> shows an entity called "Illustrator" as a display
group in a nib file.</p>
<br><a name = "CFAJDJDD"></a><a name="-647378"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-1 Illustrator entity in nib file</font></b></p>
 <img src = "../Art/illdginnib.gif" alt = "[image: ../Art/illdginnib.gif]">

<p>When you drag an entity from EOModeler into a nib file, an
EOEditingContext object is also added if one is not already in the
nib file.</p>
<p>Now add a widget for the pop-up menu. You can find it in the
Cocoa-Other palette, as shown in  <a href="#CFABAHBD">Figure 19-2</a>. It's the widget
that includes the text "Item1".</p>
<br><a name = "CFABAHBD"></a><a name="-647030"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-2 Cocoa-Other palette</font></b></p>
 <img src = "../Art/cocoaothers.gif" alt = "[image: ../Art/cocoaothers.gif]">

<p>Then, Control-drag from the widget to the display group for
the entity containing the enumeration values, as shown in  <a href="#CFACHJHJ">Figure 19-3</a>.</p>
<br><a name = "CFACHJHJ"></a><a name="-647052"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-3 Connect widget to display group</font></b></p>
 <img src = "../Art/connectilltodg.gif" alt = "[image: ../Art/connectilltodg.gif]">

<p>This action displays the Info window so you can set the binding
for the <code>titles</code> aspect
of the EOValueSelectionAssociation. As shown in  <a href="#CFACEAAG">Figure 19-4</a>,
bind the <code>titles</code> aspect
to the attribute of the entity that represents the enumeration value, <code>name</code> in
the example shown here.</p>
<br><a name = "CFACEAAG"></a><a name="-647086"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-4 Bind the title aspect to the appropriate
attribute</font></b></p> <img src = "../Art/illdgtitles.gif" alt = "[image: ../Art/illdgtitles.gif]">

<p>Save the nib and choose Test Interface from the File menu.
You should see the values of the attribute bound to the <code>titles</code> aspect
of the pop-up menu as items in that menu.</p>
<p>To get the value of the selected object in the controller
class for the interface file, there is more work to do. Add a new
EODisplayGroup object to the interface file by dragging one out
from the EnterpriseObjects palette into the nib file window. The
nib file window should then appear as shown in  <a href="#CFAIHHCE">Figure 19-5</a>.</p>
<br><a name = "CFAIHHCE"></a><a name="-647117"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-5 EODisplayGroup object in nib file</font></b></p>
 <img src = "../Art/neweodisplaygroup.gif" alt = "[image: ../Art/neweodisplaygroup.gif]">

<p>Then, bind the new EODisplayGroup object to the <code>controllerDisplayGroup</code> outlet
of File's Owner. Do this by Control-dragging from File's Owner
to the new display group as shown in  <a href="#CFAGEAGI">Figure 19-6</a>.</p>
<br><a name = "CFAGEAGI"></a><a name="-647143"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-6 Bind File's Owner's <code>controllerDisplayGroup</code> outlet</font></b></p>
 <img src = "../Art/connectfileowntodg.gif" alt = "[image: ../Art/connectfileowntodg.gif]">

<p>Then, in the Info window, select <code>controllerDisplayGroup</code> and
click Connect, as shown in  <a href="#CFAIAGDJ">Figure 19-7</a>.</p>
<br><a name = "CFAIAGDJ"></a><a name="-647173"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-7 Bind the outlet</font></b></p> <img src = "../Art/foconnectedtodg.gif" alt = "[image: ../Art/foconnectedtodg.gif]">

<p>Now, add a key to the controller display group object called
"key". This represents the name of the action method that is
invoked in the nib file's controller class when a user chooses
an object in the pop-up menu. To add a key, select the display group
object in the nib file window and choose Show Info from the Tools
menu. In the Attributes pane, add the key named "key" as shown
in  <a href="#CFABGIIH">Figure 19-8</a>.</p>
<br><a name = "CFABGIIH"></a><a name="-647195"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-8 Add a key to display group</font></b></p>
 <img src = "../Art/addkeykey.gif" alt = "[image: ../Art/addkeykey.gif]">

<p>Then, bind the <code>selectedIndex</code> attribute
of the EOValueSelectionAssociation to the key named "key" in
the controller display group. Control-drag from the pop-up menu
to the display group bound to the <code>controllerDisplayGroup</code> outlet
of File's Owner and in the Info window, connect the binding as
shown in  <a href="#CFAHAJDA">Figure 19-9</a>.</p>
<br><a name = "CFAHAJDA"></a><a name="-647225"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-9 Bind selectedIndex attribute of association
to display group key</font></b></p> <img src = "../Art/bindselectedindex.gif" alt = "[image: ../Art/bindselectedindex.gif]">

<p>Save the nib file.</p>
<p>In the nib file's controller class, add a method called <code>setKey</code>.
This is invoked when an object in the pop-up menu is selected. </p>
<pre>public void setKey(int illustrator) {
     _illustrator =
     (String)controllerDisplayGroup().valueForObjectAtIndex(illustrator, &quot;name&quot;);
}</pre>
<p>It sets an instance variable in the class (<code>_illustrator</code>)
to the String value of the object selected in the menu.</p>
<p> <a href="#BABHDDBD">Figure 19-10</a> shows a pop-up menu in action.</p>
<br><a name = "BABHDDBD"></a><a name="-647595"></a><p><b><font face="Geneva,Helvetica,Arial" size="2">Figure
19-10 A pop-up menu in action</font></b></p>
 <img src = "../Art/popupfinal.gif" alt = "[image: ../Art/popupfinal.gif]">

<br><br><br>
<!-- insert Show/Hide frames -->
<script type="text/javascript" language="JavaScript"><!--
function loadFrames(){
if (top == self || (parent.frames[1].name != content))
    top.location.href = 'index.html?' + location.href;
}

if (self != top) {
  // loaded in frames
  document.write('<a href="'+self.location+'" target="_top"><img src="../images/hideframes.gif" border="0" alt="Hide Frames"></a>');
  }
else {
  // not loaded frames
	document.write('<a href="JavaScript:loadFrames()"><img src="../images/showframes.gif" border="0" alt="Show Frames"></a>');
}
//--></script>
<!-- end Show/Hide frames -->
<a href="../T11ImageViews/pLoading_the_Image.html" target="_top"><img src="../images/previous.gif" border="0"></a>&nbsp;<a href="../T13LoginWindow/index.html" target="_top"><img src="../images/next.gif" border="0"></a>&nbsp;<!-- apple_doc:infillMarkerBottom --> <br><br><p><hr><font face="Geneva,Helvetica,Arial" size="2">&#169; 2002 Apple Computer, Inc. (Last Updated May 1, 2002)</font></p><!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->
</body>
</html>
