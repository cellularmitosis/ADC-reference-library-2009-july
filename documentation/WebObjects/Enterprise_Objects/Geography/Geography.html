<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>WebObjects Enterprise Objects Programming Guide: Core Framework Stack</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Core Framework Stack"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001011-CH205" title="Core Framework Stack"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../InternetWeb/index.html#//apple_ref/doc/uid/TP30000440-TP30000469" target="_top">Internet &amp; Web</a> &gt; <a href="../../../InternetWeb/WebObjects-date.html#//apple_ref/doc/uid/TP30000440-TP30000469-TP30000592" target="_top">WebObjects</a> &gt; <a href="../About/About.html#//apple_ref/doc/uid/TP30001011-CH201-DontLinkElementID_1">WebObjects Enterprise Objects Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../BusinessLogic/BusinessLogic.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Fetching/Fetching.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_50" title="Core Framework Stack"></a><h1><a name="//apple_ref/doc/uid/TP30001011-CH205-TP1" title="Core Framework Stack"></a>Core Framework Stack</h1><p>This chapter introduces the objects that form the core of the Enterprise Objects frameworks in WebObjects 5.2. You need to be familiar with these core objects to understand the concepts in the rest of the book.</p><p>The core stack is composed of the classes in these packages:</p><ul class="ul"><li class="li"><p><code>com.webobjects.eocontrol</code> (the control layer)</p></li><li class="li"><p><code>com.webobjects.eoaccess</code> (the access layer)</p></li></ul><p>The access layer also contains the classes that make up the <strong>adaptor layer</strong><a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_460"></a>. This chapter discusses the key objects in each layer, how the two core layers interact, and how to customize the core Enterprise Objects stack to meet certain application requirements. It is divided into these sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJBHEDC">“Roles”</a></span> briefly outlines the major roles of the core Enterprise Objects stack.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJBCJBG">“Important Objects”</a></span> introduces the key objects in the core stack.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-TPXREF142">“How It Stacks Up”</a></span> outlines the geography of the core stack.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJIDIAF">“The Access-Control Divide”</a></span> describes where the two core layers meet.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJEJIFH">“Object Store Coordinator”</a></span> discusses the responsibilities of the object store coordinator.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-TPXREF143">“When to Use Multiple Object Store Coordinators”</a></span> discusses when you should consider using multiple object store coordinators.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJHACIF">“Why So Many Object Stores?”</a></span> discusses the reasons behind all the different object stores in the core stack.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-TPXREF146">“Providing Separate Stacks”</a></span> tells you how to provide each session with its own access layer stack.</p></li><li class="li"><p><span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-TPXREF147">“Accessing Lower-Level Objects”</a></span> tells you how to access an editing context’s access layer and adaptor layer objects.</p></li></ul><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJBHEDC" title="Roles"></a><h2>Roles</h2><p>The core Enterprise Objects stack plays many roles. The most important roles are:</p><ul class="ul"><li class="li"><p>connecting to data sources</p></li><li class="li"><p>managing transactions with data sources</p></li><li class="li"><p>storing snapshots of database rows</p></li><li class="li"><p>forming enterprise objects from raw row snapshots</p></li><li class="li"><p>creating and managing the object graph</p></li></ul><p>The core stack provides a default configuration that should be appropriate for most kinds of applications. Some applications, however, may need to customize the configuration for performance or other reasons. This chapter discusses the default configuration and its common variations.</p><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJBCJBG" title="Important Objects"></a><h2>Important Objects</h2><p>To understand the key components of the Enterprise Objects stack is to first understand the most important objects in the core stack. They are illustrated in <span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJIACGE">Figure 5-1</a></span>. A brief description of those objects follows.</p><br/><div><a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_51" title="Figure 4-1Default core objects interaction"></a><p><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJIACGE" title="Figure 4-1Default core objects interaction"></a><strong>Figure 4-1&nbsp;&nbsp;</strong>Default core objects interaction</p><img src = "../Art/corestackconfig.gif" alt = "Default core objects interaction" width="318" height="295"></div><br/><dl class="termdef">	<dt>EOObjectStore<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_461"></a> (control layer)</dt><dd><p>An object store is an “intelligent” repository of objects. It is responsible for constructing enterprise objects, registering enterprise objects, servicing enterprise object faults, and saving changes made to objects. You can think of an object store as a workspace for enterprise objects. EOObjectStore is an abstract class that has a number of specific subclasses in the core Enterprise Objects stack.</p></dd><dt>EOObjectStoreCoordinator<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_462"></a> (control layer)</dt><dd><p>A concrete subclass of EOObjectStore, an object store coordinator mediates between multiple object stores both in the control layer and in the access layer. It mediates between any number of editing contexts in the control layer and their associated database contexts (or other object store subclasses) in the access layer. </p><p>When multiple cooperating object stores needs to communicate with one another, the object store coordinator mediates this communication. It provides an abstraction to multiple data sources and multiple workspaces that contain data from those sources, allowing objects made up of data from different data sources to work together.</p></dd><dt>EOCooperatingObjectStore<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_463"></a> (control layer)</dt><dd><p>Another subclass of EOObjectStore, the cooperating object store defines the mechanics for object stores that work together to manage data from several distinct data repositories. </p><p>When multiple cooperating object stores need to communicate with one another, the object store coordinator mediates this communication. If a cooperating object store determines that certain changes need to be handled by another object store, it asks the object store coordinator to handle the changes (usually by handing them off to another cooperating object store that can handle them). This is an abstract class whose most commonly used concrete subclass is EODatabaseContext.</p></dd><dt>EOEditingContext<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_464"></a> (control layer)</dt><dd><p>Another concrete subclass of EOObjectStore, an editing context is the core object with which you most often interact. Enterprise object instances live within editing contexts, and editing contexts provide the infrastructure that allows enterprise objects to communicate with one another. An editing context is the highest-level object in the core framework stack and it communicates with a database through its lower-level objects.</p></dd><dt>EODatabaseContext<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_465"></a> (access layer)</dt><dd><p>Another concrete subclass of EOObjectStore, a database context is responsible for analyzing the changes made to enterprise objects in editing contexts and determining exactly the changes that need to be made in the database based on the changes in editing contexts. It hands off this list of changes that need to be made in the database (this list is referred to as adaptor operations) to an adaptor channel by way of a database channel. You rarely need to explicitly interact with a database context.</p></dd><dt>EODatabaseChannel<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_466"></a> (adaptor sublayer of access layer)</dt><dd><p>A database channel is used by a database context to communicate with an adaptor channel.</p></dd><dt>EOAdaptorChannel<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_467"></a> (adaptor sublayer of access layer)</dt><dd><p>An adaptor channel is responsible for actually communicating with a data source and sending it commands. However, the operations an adaptor channel performs are always made within the context of a transaction that is managed by an adaptor context object.</p></dd></dl><a name="//apple_ref/doc/uid/TP30001011-CH205-TPXREF142" title="How It Stacks Up"></a><h2>How It Stacks Up</h2><p>How the objects in <span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJBCJBG">“Important Objects”</a></span> work together is a bit complicated. It gets even more complicated if you customize the core stack. <span class="content_text">Figure 5-1</span> shows a simplified overview of the core stack. The interactions between the objects in the core stack are discussed throughout this chapter.</p><p>The most important part of <span class="content_text">Figure 5-1</span>, perhaps, is that all an application’s sessions use the same object store coordinator<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_468"></a>. This means that multiple users using the same application instance share a connection to the database and share row-level snapshots of data retrieved from each database (because they share the same database context). This has advantages and disadvantages. See <span class="content_text"><a href="../UpdateStrategies/UpdateStrategies.html#//apple_ref/doc/uid/TP30001011-CH209-BFJHFCHE">“Multiple Coordinators and Optimistic Locking”</a></span> for more details.</p><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJIDIAF" title="The Access-Control Divide"></a><h2>The Access-Control Divide</h2><p>One of the most important things to understand when considering the Enterprise Objects core is the relationship between objects in the access layer<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_469"></a> and objects in the control layer. Fortunately, this part of the Enterprise Objects core is easy to understand: EOObjectStoreCoordinator<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_470"></a> mediates between the control layer and the access layer. More specifically, it mediates between editing contexts in the control layer and database contexts in the access layer. EOObjectStoreCoordinator is discussed in <span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJEJIFH">“Object Store Coordinator.”</a></span></p><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJEJIFH" title="Object Store Coordinator"></a><h2>Object Store Coordinator</h2><p>By default, an application has exactly one object store coordinator<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_471"></a>, as illustrated in <span class="content_text">Figure 5-1</span>. An object store coordinator manages possibly many cooperating<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_472"></a> object stores (usually database contexts, each of which represents a data source), as <span class="content_text">Figure 5-2</span> illustrates. This allows individual instances of enterprise objects to include data from multiple data sources<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_473"></a> and it allows enterprise objects constituted from data in different repositories to interact with one another. </p><p>In <span class="content_text">Figure 5-2</span>, the object store coordinator manages the interactions between enterprise objects that need to communicate both with a MySQL database and an Oracle database. An object store coordinator is by default associated with as many database contexts (cooperating object stores) as the number of distinct data sources the application connects to. </p><p>So as illustrated in <span class="content_text">Figure 5-2</span>, an application that uses two models, each model connecting to a different data source, has one object store coordinator that mediates between two separate cooperating object stores (database contexts). By default, each cooperating object store has its own database channel and its own adaptor channel.</p><p>The object store coordinator<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_474"></a> allows the application to use multiple data sources and also allows the application’s enterprise objects to consist of data from multiple data sources. The object store coordinator manages the logic that is necessary to support these features.</p><br/><div><a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_52" title="Figure 4-2One database context per data source"></a><p><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJDFJFD" title="Figure 4-2One database context per data source"></a><strong>Figure 4-2&nbsp;&nbsp;</strong>One database context per data source</p><img src = "../Art/corestackconfig_twodbs.gif" alt = "One database context per data source" width="524" height="295"></div><br/><a name="//apple_ref/doc/uid/TP30001011-CH205-TPXREF143" title="When to Use Multiple Object Store Coordinators"></a><h2>When to Use Multiple Object Store Coordinators</h2><p>When you want to provide each session (each user) with its own access layer<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_475"></a> stack, you configure your application to use multiple object store coordinators<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_476"></a>. Specifically, you give each session its own object store coordinator. Doing this also instruments concurrency in your application, so it should be done with caution. See <span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-TPXREF146">“Providing Separate Stacks”</a></span> to learn how to provide each session with its own object store coordinator.</p><p>If possible, all users of an application should share an object store coordinator. This is the default behavior (that all editing contexts in a particular application instance share the same object store coordinator) and it helps you avoid and deal with update conflicts caused by multiple users editing the same row or rows of data concurrently.</p><p>There are reasons, however, why you would want to provide each user with a separate access layer<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_477"></a> stack. One of the more common reasons is to provide an audit trail in an application. A crucial part of any audit trail is tracking access to data sources. When you provide each user with a separate access layer stack, you can then use different credentials to establish the database connection, provided that you make the connection programmatically. This is discussed in <span class="content_text"><a href="../Connecting/Connecting.html#//apple_ref/doc/uid/TP30001011-CH210-TP1">“Connecting to a Database”</a></span> in the section <span class="content_text"><a href="../Connecting/Connecting.html#//apple_ref/doc/uid/TP30001011-CH210-BEDGBJJC">“Storing in Code.”</a></span></p><div class="notebox"><a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_53" title="Note"></a><p><strong>Note:</strong>&nbsp;Applications that use multiple object store coordinators consume more memory than applications that use only one because each coordinator contains its own set of row-level snapshots and other data about the enterprise objects they fetch and manage.</p></div><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJHACIF" title="Why So Many Object Stores?"></a><h2>Why So Many Object Stores?</h2><p>After taking a look at the default core Enterprise Objects stack, you’re probably wondering why there are so many different kinds of object stores. These objects are all subclasses of EOObjectStore: EOObjectStoreCoordinator, EOCooperatingObjectStore, EODatabaseContext, EOEditingContext. The short answer as to why there are so many kinds of object stores is that the different object stores know different things about enterprise object instances.</p><p>An editing context, for example, has no direct knowledge of how to initiate a transaction with a database. A database context, however, does. An editing context, also, has no knowledge that the enterprise objects it holds may be constituted with data from multiple distinct data repositories. An editing context’s object store coordinator, however, knows this and knows how service requests that require managing data from disparate sources.</p><p>While you don’t need to understand the complexities of all these types of object stores or how they interact, just know that they each play an important role within the frameworks.</p><a name="//apple_ref/doc/uid/TP30001011-CH205-TPXREF146" title="Providing Separate Stacks"></a><h2>Providing Separate Stacks</h2><p>To provide each user of an application with an independent access layer stack, you provide each user with a separate object store coordinator. As described in <span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJIDIAF">“The Access-Control Divide”</a></span> and <span class="content_text"><a href="Geography.html#//apple_ref/doc/uid/TP30001011-CH205-BFJEJIFH">“Object Store Coordinator,”</a></span> an EOObjectStoreCoordinator is the highest-level object in the access layer stack. Each object store coordinator instance, then, represents a single database connection to each of the cooperating object stores registered with it.</p><p>The editing contexts that share an object store coordinator<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_478"></a> share a single database connection. Editing contexts that use different object store coordinators can perform concurrent operations to the same database. So if user A performs a fetch, user B can perform a commit concurrently.</p><p>To provide each user with an individual object store coordinator<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_479"></a>, you instantiate a new EOObjectStoreCoordinator, instantiate a new EOEditingContext whose parent is the new EOObjectStoreCoordinator, and set a session’s default editing context to be the new editing context whose parent is the new object store coordinator. This can be done programmatically in a Session class using the code in <span class="content_text">Listing 5-1</span>.</p><a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_54" title="Listing 4-1Providing separate object store coordinators"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJFFFIJ" title="Listing 4-1Providing separate object store coordinators"></a><strong>Listing 4-1&nbsp;&nbsp;</strong>Providing separate object store coordinators</p><div class="codesample"><table><tr><td scope="row"><pre>public class Session extends WOSession {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    public Session() {<span></span></pre></td></tr><tr><td scope="row"><pre>        super();<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        /* Provide each session with its own access layer stack. */<span></span></pre></td></tr><tr><td scope="row"><pre>        EOObjectStoreCoordinator parentObjectStore = new EOObjectStoreCoordinator();<span></span></pre></td></tr><tr><td scope="row"><pre>        EOEditingContext editingContext = new EOEditingContext(parentObjectStore);<span></span></pre></td></tr><tr><td scope="row"><pre>        setDefaultEditingContext(editingContext);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>	<p>A common reason to provide each user with a separate stack is to provide each user with a separate connection to the database. If you need to do this, you also need to set values in the connection dictionary<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_480"></a> for each user. This is discussed in <span class="content_text"><a href="../Connecting/Connecting.html#//apple_ref/doc/uid/TP30001011-CH210-TPXREF144">“Providing a Connection Dictionary in Code.”</a></span></p><p>The objects in an Enterprise Objects application using a separate object store coordinator per session are illustrated in <span class="content_text">Figure 5-3</span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_55" title="Figure 4-3Per-session object store coordinators"></a><p><a name="//apple_ref/doc/uid/TP30001011-CH205-TPXREF148" title="Figure 4-3Per-session object store coordinators"></a><strong>Figure 4-3&nbsp;&nbsp;</strong>Per-session object store coordinators</p><img src = "../Art/corestack_multicoordinats.gif" alt = "Per-session object store coordinators" width="523" height="309"></div><br/><p>When you provide separate object store coordinators to each session, you must adopt a different set of assumptions about how the object graph works. When you provide each session with its own access layer<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_481"></a> stack, you provide each session with a separate EODatabaseContext, which means that sessions no longer share row-level snapshots—they have entirely separate row-level snapshots. Since row-level snapshots are an integral part of Enterprise Object’s optimistic locking mechanism, you must reconsider the locking strategies you implement. This and other related issues are discussed in <span class="content_text"><a href="../UpdateStrategies/UpdateStrategies.html#//apple_ref/doc/uid/TP30001011-CH209-BFJHFCHE">“Multiple Coordinators and Optimistic Locking.”</a></span></p><a name="//apple_ref/doc/uid/TP30001011-CH205-TPXREF147" title="Accessing Lower-Level Objects"></a><h2>Accessing Lower-Level Objects</h2><p>Advanced users may need to access an editing context’s access layer or adaptor layer<a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_482"></a> objects. To access an editing context’s access layer objects, you get an editing context’s object store coordinator and the object store coordinator’s database context object. From the database context object, you can get the database context’s adaptor-level objects. </p><p>An editing context can have more than one set of access layer and adaptor layer objects, so you need to identify which set you’re looking for. You can do this a number of ways: with a fetch specification, with a global ID, or with an enterprise object. The code in <span class="content_text">Listing 5-2</span> uses a fetch specification to help the root object store determine which of its cooperating object stores can service your request.</p><a name="//apple_ref/doc/uid/TP30001011-CH205-DontLinkElementID_56" title="Listing 4-2Accessing lower-level objects"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30001011-CH205-BFJJIJIJ" title="Listing 4-2Accessing lower-level objects"></a><strong>Listing 4-2&nbsp;&nbsp;</strong>Accessing lower-level objects</p><div class="codesample"><table><tr><td scope="row"><pre>EOEditingContext editingContext; //Assume this exists.<span></span></pre></td></tr><tr><td scope="row"><pre>EOFetchSpecification fetchSpec;<span></span></pre></td></tr><tr><td scope="row"><pre>EOObjectStoreCoordinator rootObjectStore;<span></span></pre></td></tr><tr><td scope="row"><pre>EODatabaseContext databaseContext;<span></span></pre></td></tr><tr><td scope="row"><pre>EOAdaptor adaptor;<span></span></pre></td></tr><tr><td scope="row"><pre>EOAdaptorContext adaptorContext;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>fetchSpec = new EOFetchSpecification(entityName, null, null);<span></span></pre></td></tr><tr><td scope="row"><pre>rootObjectStore = (EOObjectStoreCoordinator)editingContext.rootObjectStore();<span></span></pre></td></tr><tr><td scope="row"><pre>databaseContext = (EODatabaseContext)rootObjectStore.objectStoreForFetchSpecification(fetchSpec);<span></span></pre></td></tr><tr><td scope="row"><pre>adaptor = databaseContext.database().adaptor();<span></span></pre></td></tr><tr><td scope="row"><pre>adaptorContext = databaseContext.adaptorContext();<span></span></pre></td></tr></table></div>	<p></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../BusinessLogic/BusinessLogic.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Fetching/Fetching.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-11<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/WebObjects/Enterprise_Objects/Geography/Geography.html%3Fid%3DTP30001011-3.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/WebObjects/Enterprise_Objects/Geography/Geography.html%3Fid%3DTP30001011-3.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/WebObjects/Enterprise_Objects/Geography/Geography.html%3Fid%3DTP30001011-3.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>