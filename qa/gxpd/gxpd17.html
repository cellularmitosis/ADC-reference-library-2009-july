<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A GXPD17: QuickDraw GX's 'xdtl' Implementation</title><meta name="keywords" content="Mac OS 7 QuickDraw GX xdtl Implementation Real numbers mixed panels"><meta name="Description" content="Technical Q&amp;A GXPD17: NOTE: QuickDraw GX printer driversand GX printing extensions will not be supported in Mac OS8.0 or in future Mac OS releases. Q&amp;A explains what size/typeof a Real number is stored in the collection when using xdtlEditTextReal.Q&amp;A also tells if an offset into the collection is supposedto have a particular alignment. Lastly, Q&amp;A answers if itis possible to have a panel with xdtl items and items handledby the driver, and provides a fix for the LaserWriter GXflipping bug, when it uses xdtl."><meta name="categories" content="QuickDraw GX"><meta name="week-posted" content="May 1, 1995 - May 5, 1995"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001232" title="QuickDraw GX's 'xdtl' Implementation"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalqas/LegacyTechnologies/idxGraphicsImaging-date.html">Graphics & Imaging</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/GraphicsImaging/index.html" target="_blank">Reference Library > Graphics & Imaging</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A GXPD17</div>
<div id="pageheadsub">QuickDraw GX's 'xdtl' Implementation</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <td align="left"><hr width=500 align=center><TABLE BORDER="0"><TR>	<td bgcolor="#e6e6e6" align=left>		<B>Important for all Apple Printing and Graphics Developers: </B><p id=p4>		The information in this Technical Q &amp; A is still relevant up to and including		<A HREF="../../technotes/tn/tn1090.html" target="_blank">Mac OS 7.6</A>		with QuickDraw GX 1.1.5. Beginning with the release of Mac OS 8.0,		however, Apple plans to deliver a system which incorporates QuickDraw GX		graphics and typography <B>only</B>. QuickDraw GX printer drivers and GX printing		extensions will <B>not</B> be supported in Mac OS 8.0 or in future Mac OS releases. Apple's		goal is to simplify the user experience of printing by unifying the Macintosh		graphic and printing architectures and standardizing on the classic Printing		Manager. </P>				For details on Apple's official announcement, refer to 		<A HREF="../../technotes/gxchange.html" target="_blank">		&lt;/dev/technotes/gxchange.html&gt;</A>	</TD></TR></TABLE><BR><p id = p2>Q:  I have a few questions about QuickDraw GX's 'xdtl' implementation.When using the <code>xdtlEditTextReal</code> element, what size/type of real number isstored in the collection (presumably a normal Extended type)?</p><p id=p4>A:  When you use the <code>xdtlEditTextReal</code> element, it stores the user's real as a Fixedtype (16.16 format). Although this may not be what you'd expect, Fixed doesmake sense. Floating point formats vary quite a bit from platform to platform,and with PowerPC (which makes a deliberate effort of being IEEE compliant),it's likely that the days of the SANE standard (and its Extended format) arenumbered. As a rule, QuickDraw GX uses Fixed whenever possible.</p><p id = p2>Q:  Does the offset into the collection (as specified in the xdtl) haveto have any particular alignment for the real type (i.e., are odd byte offsetsvalid)?</p><p id=p4>A:  There are no intrinsic alignment rules for xdtl's. However, since xdtl's aremost often read into high level language structures, they are, in actualpractice, subject to the alignment rules that your compiler enforces.</p><p id = p2>Q:  Is it possible to have a panel which uses a combination of xdtlitems and items handled by the driver (via an override of <code>HandlePanelEvent</code>)?</p> <p id=p4>I've also noticed a possible fault in the LaserWriter GX's use of the xdtl inconjunction with the horizontal and vertical flipping items. The xdtl says thatthe offset into the collection items for horizontal and vertical flipping itemsis 1. However, the type definition for each item is just a struct with a singleboolean. This boolean (according to MPW C) is the first byte of the structure(a pad byte is appended to the struct by the compiler to make its sizeof = 2).The xdtl should specify 0 as the offset, since with an offset of 1, you areaccessing the pad byte. (Obviously this fault exists throughout the Postscriptengine since flipping does actually work.) This means that any app that looksto see if flipping is enabled does not see it with the LaserWriter driver. Inmy raster driver, I access the boolean. Perhaps it would be better to redefinethe single-boolean collection item structs so that they are consistent with the LaserWriter's implementation of them, as follows:</p> <CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>struct    char padByte;    Boolean importantField} xxx ;</pre>	</TD></TR></TABLE></CENTER><p id=p2>Can you provide any suggestions or clarifications?</p><p id=p4>A:  It is possible to mix user items and xdtl items in a dialog (to rotate or flipClarus, Dogcow, or some other indicator, for example). However, this was triedearlier, and a problem with the responsiveness of the indicator was observed.If the control is an xdtl item, then indicator user item does not respondimmediately to the user's actions. To avoid this cosmetic problem, we decidedto make the flip controls with ditl items instead of xdtl items.</p><p id=p4><i>Inside Macintosh</i>  states that the collection is only filled in when theuser accepts the dialog (i.e., not when the user interacts with the xdtl item),so you cannot have a panel which uses a combination of xdtl items and itemshandled by the driver.</p><p id=p4>Regarding the LaserWriter flipping bug, it isn't clear at the present timewhether our LaserWriter driver will have the boolean in the 1st or 2nd byte.The fix for this problem is to change the type definition and thedocumentation, so that it conforms to the way that the current LaserWriter GXdriver does things.</p></td></tr></table></center><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[May 01 1995]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/gxpd/gxpd17.html%3Fid%3DDTS10001232-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/gxpd/gxpd17.html%3Fid%3DDTS10001232-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/gxpd/gxpd17.html%3Fid%3DDTS10001232-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --> <hr width=500 align=center> </BODY> </HTML>