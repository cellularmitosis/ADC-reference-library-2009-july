<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Search Fields: Implementing the Target</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Implementing the Target"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20002073" title="Implementing the Target"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../UserExperience-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000465" target="_top">User Experience</a> &gt; <a href="../index.html" target="_top">Search Fields</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="MenuTemplate.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CustomizingSearchFields.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20002073-SW1" title="Implementing the Target"></a><hr /><H1><a name="//apple_ref/doc/uid/20002073-CJBJBEEC" title="Implementing the Target"></a>Implementing the Target</H1><p>Because a search field is a control object, when a user does something to activate the search field, it sends an action message to a target object, telling it to perform the search. You configure the target and action in Interface Builder as you would any other control, as described in <span class="content_text"><a href="../../CocoaFundamentals/CommunicatingWithObjects/CommunicateWithObjects.html#//apple_ref/doc/uid/TP40002974-CH7" target="_top">Communicating With Objects</a></span> >The Target-Action Mechanism. Other than invoking the action method, <code>NSSearchFieldCell</code> and <code>NSSearchField</code> provide no support for textual searches. You must implement the search behavior yourself.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="ConfiguringTargetAction.html#//apple_ref/doc/uid/20002073-SW3">Simple Search</a>
				
			<br/>
			
        
			
			
				<a href="ConfiguringTargetAction.html#//apple_ref/doc/uid/20002073-SW5">Search Using a Search Category</a>
				
			<br/>
			
        
			
			
				<a href="ConfiguringTargetAction.html#//apple_ref/doc/uid/20002073-SW7">The Cancel Button</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20002073-SW3" title="Simple Search"></a><h2>Simple Search</h2><p>Typically you implement the action method in a controller object in your application. You need to find out what the search string is and then perform the search using the search term, as illustrated in <span class="content_text">Listing 1</span>.</p><a name="//apple_ref/doc/uid/20002073-SW4" title="Listing 1Simple action method for a search field&acirc;&#128;&#153;s target"></a><p class="codesample"><strong>Listing 1&nbsp;&nbsp;</strong>Simple action method for a search field’s target</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)updateFilter:sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *searchString = [searchField stringValue];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /*<span></span></pre></td></tr><tr><td scope="row"><pre>     Method continues to perform the search and display the results...<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20002073-SW5" title="Search Using a Search Category"></a><h2>Search Using a Search Category</h2><p>If you want to support search categories (see <span class="content_text"><a href="MenuTemplate.html#//apple_ref/doc/uid/20002245-76818">“Specifying a Search Category”</a></span>), you have to implement the action method invoked by the category menu items as well as that invoke by the search field itself. The category action method should record in some way the menu item that was selected. It might also set the placeholder string for the search menu, as illustrated in <span class="content_text">Listing 2</span>.</p><a name="//apple_ref/doc/uid/20002073-SW6" title="Listing 2Example search category menu item action method"></a><p class="codesample"><strong>Listing 2&nbsp;&nbsp;</strong>Example search category menu item action method</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)setSearchCategoryFrom:(NSMenuItem *)menuItem<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    searchCategory = [menuItem tag];<span></span></pre></td></tr><tr><td scope="row"><pre>    [[searchField cell] setPlaceholderString:[menuItem title]];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p></p><p>In the search field’s action method, you need to find out what the search string is and then perform the search using the search term, taking into account any category that might have been set. A common way to represent the search is as an instance of <code><a href="../../../Reference/Foundation/Classes/NSPredicate_Class/Reference/NSPredicate.html#//apple_ref/occ/cl/NSPredicate" target="_top">NSPredicate</a></code>. In <span class="content_text">Listing 3</span>, <code>searchCategory</code> is set in the <code>setSearchCategoryFrom:</code> method illustrated in <span class="content_text">Listing 2</span>.</p><a name="//apple_ref/doc/uid/20002073-SW2" title="Listing 3Example action method for a search field&acirc;&#128;&#153;s target"></a><p class="codesample"><strong>Listing 3&nbsp;&nbsp;</strong>Example action method for a search field’s target</p><div class="codesample"><table><tr><td scope="row"><pre>- (IBAction)updateFilter:sender<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    /*<span></span></pre></td></tr><tr><td scope="row"><pre>     Create a predicate based on what is the current string in the<span></span></pre></td></tr><tr><td scope="row"><pre>     search field and the value of searchCategory.<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>    NSPredicate *predicate = nil;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *searchString = [searchField stringValue];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    if ((searchString != nil) &amp;&amp; (![searchString isEqualToString:@""]))<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        if (searchCategory == 1)<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>            predicate = [NSPredicate predicateWithFormat:<span></span></pre></td></tr><tr><td scope="row"><pre>                                     @"firstName contains[cd] %@", searchString];<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>        if (searchCategory == 2)<span></span></pre></td></tr><tr><td scope="row"><pre>        {<span></span></pre></td></tr><tr><td scope="row"><pre>            predicate = [NSPredicate predicateWithFormat:<span></span></pre></td></tr><tr><td scope="row"><pre>                                     @"lastName contains[cd] %@", searchString];<span></span></pre></td></tr><tr><td scope="row"><pre>        }<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    /*<span></span></pre></td></tr><tr><td scope="row"><pre>     Method continues to perform the search and display the results...<span></span></pre></td></tr><tr><td scope="row"><pre>     */<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><a name="//apple_ref/doc/uid/20002073-SW7" title="The Cancel Button"></a><h2>The Cancel Button</h2><p>Clicking the cancel button behaves exactly as if the user selected all the text in the field and deleted it. The action message is sent to the target as usual. The target would typically see that the string in the field is the empty string, and so wouldn't filter anything.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="MenuTemplate.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="CustomizingSearchFields.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-02-08<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Conceptual/SearchFields/Articles/ConfiguringTargetAction.html%3Fid%3D10000168i-2.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Conceptual/SearchFields/Articles/ConfiguringTargetAction.html%3Fid%3D10000168i-2.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Conceptual/SearchFields/Articles/ConfiguringTargetAction.html%3Fid%3D10000168i-2.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
