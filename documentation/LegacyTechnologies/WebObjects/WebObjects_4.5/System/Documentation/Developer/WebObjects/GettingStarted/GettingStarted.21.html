<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN"><HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><!-- <script language="JavaScript" src="frametest.js"></script> --><TITLE> Using a Repetition</TITLE></HEAD><body bgcolor="#ffffff"><!--start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!--start of path --><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b> <a href="../../../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../../../webobjects.html" target="_top">WebObjects 4.5</a> <b>&gt;</b> Getting Started With WebObjects</font><br><br><!--end of path --><hr><DIV><a name="top"></a><A HREF="GettingStarted.15.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.20.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.22.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><HR></DIV><H1 CLASS="1Head"><A NAME="pgfId=8259"> </A>Using a Repetition</H1><A NAME="pgfId=8268"> </A>Now you'll create a table to display the entire list of guests in the GuestList component. To do so, you'll use a dynamic element called a <I>repetition</I> (an instance of the WORepetition class). Repetitions are one of the most important elements in WebObjects, since it is quite common for applications to display repeated data (often from databases) when the amount of data to be displayed isn't known until runtime. Typically, a repetition is used to generate items in a list or a browser, multiple rows in a table, or multiple tables. </P><A NAME="pgfId=8471"> </A>A repetition can contain any other elements--either static HTML or dynamic WebObjects elements. In the GuestList component, you'll create a repetition that contains a table row.</P><A NAME="pgfId=8582"> </A>You'll bind the <B>allGuests</B> array to the WORepetition's <B>list </B>attribute. This tells WebObjects to generate the elements in the repetition once for each item in the array. Each time WebObjects iterates through the array, it sets the repetition's <B>item</B> attribute to the current array object. You bind <B>item</B> to the variable <B>currentGuest</B> and use <B>currentGuest</B>'s fields to bind the elements inside the repetition (such as WOStrings). At runtime, the table will consist of one row (displaying name, e-mail address, and comments) for each guest.</P><OL><LI><A NAME="pgfId=8269"> </A>In WebObjects Builder, make the Main component window active (double-click<B> Main.wo</B>).<P><LI><A NAME="pgfId=8270"> </A>Select the table at the bottom of the page by pressing outside it and dragging across it.<P><LI><A NAME="pgfId=8055"> </A>Choose Edit&nbsp;<IMG SRC="images/arrow.gif" ALIGN="BASELINE">&nbsp;Copy.<P><LI><A NAME="pgfId=8063"> </A>Make the GuestList component active.<P><LI><A NAME="pgfId=8066"> </A>Place the cursor at the bottom of the page and choose Edit&nbsp;<IMG SRC="images/arrow.gif" ALIGN="BASELINE">&nbsp;Paste.<P><A NAME="pgfId=8069"> </A>You have just copied the table from Main into GuestList. It has all the same properties, including the bindings. The WOStrings in the table are still bound to instance variables of <B>currentGuest</B>. Since <B>currentGuest </B>is a component variable defined in Main, it isn't accessible from GuestList. Therefore, you need to declare it here. <P><LI><A NAME="pgfId=10419"> </A>From the pull-down list at the bottom of the window, choose Add Key. Enter <TT>currentGuest</TT> as the name of the variable and <TT>Guest</TT> as its type, and click Add.<P><LI><A NAME="pgfId=10431"> </A>Click in one of the cells in the second row. Click &lt;TR&gt; in the path view to select the entire row.<P><DIV><IMG SRC="images/SelectTR.gif"><P></DIV><LI><A NAME="pgfId=14267"> </A>Click <IMG SRC="images/WORepetition.gif" ALIGN="BASELINE"> in the toolbar.<P><A NAME="pgfId=12125"> </A>When you wrap a repetition around a table row in this way, the WORepetition symbol <IMG SRC="images/WORepetition.gif" ALIGN="BASELINE"> doesn't appear in the table. Instead, the row appears in blue. For additional examples of using repetitions, see Chapter 3, <A HREF="GettingStarted.25.html#33530" CLASS="XRef">Creating a WebObjects Database Application</A>. <P><LI><A NAME="pgfId=8465"> </A>In the object browser, select <B>application</B> in the first column.<P><LI><A NAME="pgfId=11171"> </A>In the second column, make a connection from <B>allGuests</B> to the &lt;WORepetition&gt; tag in the path view.<P><LI><A NAME="pgfId=14116"> </A>In the attribute menu that appears, click <B>list</B>. This binds <B>application.allGuests</B> to the WORepetition's <B>list</B> attribute.<P><DIV><IMG SRC="images/RowRepetition.gif"></DIV><P><LI><A NAME="pgfId=14269"> </A>Bind <B>currentGuest</B> to the repetition's <B>item</B> attribute.<P><A NAME="pgfId=12237"> </A>By using the name <B>currentGuest </B>for the <B>item</B> attribute, you are taking advantage of the fact that the strings in your table are already bound to the fields of <B>currentGuest</B>.<P><A NAME="pgfId=8893"> </A>You now have finished implementing the repetition. When the table is generated, it will have one row for each item in the <B>allGuests</B> array. <P><P><LI><A NAME="pgfId=8886"> </A>Save the GuestList component.<P><LI><A NAME="pgfId=11905"> </A>Delete the table from the Main component, since you no longer need it.<P><LI><A NAME="pgfId=8887"> </A>Test your application.<P><A NAME="pgfId=13373"> </A><B>Note:</B> In this case, you don't have to rebuild or relaunch your application in order to test it. Building is required only when you have made changes to Java or Objective-C code. If you modify a component or WebScript code only, the changes take effect even if the application is already running.<P><P><LI><A NAME="pgfId=10449"> </A>Try entering data for multiple guests and verifying that each guest appears in the table.<P></OL><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 24 Aug 99)<P><A HREF="GettingStarted.15.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.20.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="GettingStarted.22.html"><img src="images/next.gif" border="0" width="49" height="16"></A><nobr>&nbsp;</nobr><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></BODY></HTML>