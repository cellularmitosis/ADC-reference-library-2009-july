<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CALayoutManager Informal Protocol Protocol Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CALayoutManager Informal Protocol Protocol Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40004509-CH1" title="CALayoutManager Informal Protocol"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/GraphicsImaging/index.html#//apple_ref/doc/uid/TP30001281-TP30000424" target="_top">Graphics &amp; Imaging</a> &gt; <a href="../../../../../reference/GraphicsImaging/idxQuartz-date.html#//apple_ref/doc/uid/TP30001281-TP30000424-TP30000559" target="_top">Quartz</a> &gt; <a href="../index.html" target="_top">CALayoutManager Protocol Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/intf/CALayoutManager" title="CALayoutManager Informal Protocol"></a><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_9" title="CALayoutManager Informal Protocol"></a><h1>CALayoutManager Protocol Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/<a href="../../CoreImagingRef/index.html#//apple_ref/doc/uid/TP40001171" target="_top">QuartzCore.framework</a></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CALayer.h</span><br/></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guides</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../Cocoa/Conceptual/CoreAnimation_guide/index.html#//apple_ref/doc/uid/TP40004514" target="_top">Core Animation Programming Guide</a></span><br/><span class="content_text"><a href="../../../Conceptual/CoreAnimation_Cookbook/index.html#//apple_ref/doc/uid/TP40005406" target="_top">Core Animation Cookbook</a></span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_1" title="Overview"></a><h2>Overview</h2><p class="spaceabove"><code>CALayoutManager</code> is an informal protocol implemented by Core Animation layout managers. If a layer’s sublayers require custom layout you create a class that implements this protocol and set it as the layer’s layout manager using the <code>CALayer</code> method <code><a href="../../../../Cocoa/Reference/ApplicationKit/Classes/NSTextContainer_Class/Reference/Reference.html#//apple_ref/occ/instm/NSTextContainer/setLayoutManager:" target="_top">setLayoutManager:</a></code>. Your custom layout manager is then used when the layer invokes <code><a href="../../CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instm/CALayer/setNeedsLayout" target="_top">setNeedsLayout</a></code> or <code><a href="../../CALayer_class/Introduction/Introduction.html#//apple_ref/occ/instm/CALayer/layoutSublayers" target="_top">layoutSublayers</a></code>.</p><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_5" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_6" title="Layout Layers"></a>
		<h3 class="tasks">Layout Layers</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Introduction.html#//apple_ref/occ/instm/NSObject/invalidateLayoutOfLayer:">&#8211;&#xA0;invalidateLayoutOfLayer:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invalidates the layout of the specified layer.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Introduction.html#//apple_ref/occ/instm/NSObject/layoutSublayersOfLayer:">&#8211;&#xA0;layoutSublayersOfLayer:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Layout each of the sublayers in the specified layer.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_7" title="Calculate Layer Size"></a>
		<h3 class="tasks">Calculate Layer Size</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Introduction.html#//apple_ref/occ/instm/NSObject/preferredSizeOfLayer:">&#8211;&#xA0;preferredSizeOfLayer:</a></code>
                    
                    			
                        <img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the preferred size of the specified layer in its coordinate system.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_8" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/NSObject/invalidateLayoutOfLayer:" title="invalidateLayoutOfLayer:"></a><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_2" title="invalidateLayoutOfLayer:"></a><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_11"></a><h3 class="verytight">invalidateLayoutOfLayer:</h3><p class="spaceabove">Invalidates the layout of the specified layer.</p><p class="spaceabovemethod">- (void)invalidateLayoutOfLayer:(<a href="../../CALayer_class/Introduction/Introduction.html#//apple_ref/doc/c_ref/CALayer" target="_top">CALayer</a> *)<em>layer</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>layer</em></dt><dd><p>The layer that requires layout.</p></dd></dl><h5 class="tight">Discussion</h5><p>This method is called when the preferred size of the specified layer may have changed. The receiver should invalidate any cached state.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CALayer.h</code><a name="//apple_ref/occ/instm/NSObject/layoutSublayersOfLayer:" title="layoutSublayersOfLayer:"></a><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_3" title="layoutSublayersOfLayer:"></a><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_12"></a><h3 class="verytight">layoutSublayersOfLayer:</h3><p class="spaceabove">Layout each of the sublayers in the specified layer.</p><p class="spaceabovemethod">- (void)layoutSublayersOfLayer:(<a href="../../CALayer_class/Introduction/Introduction.html#//apple_ref/doc/c_ref/CALayer" target="_top">CALayer</a> *)<em>layer</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>layer</em></dt><dd><p>The layer that requires layout of its sublayers.</p></dd></dl><h5 class="tight">Discussion</h5><p>This method is called when the sublayers of the <em>layer</em> may need rearranging, and is typically called when a sublayer has changed its size. The receiver is responsible for changing the frame of each sublayer that requires layout.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CALayer.h</code><a name="//apple_ref/occ/instm/NSObject/preferredSizeOfLayer:" title="preferredSizeOfLayer:"></a><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_4" title="preferredSizeOfLayer:"></a><a name="//apple_ref/doc/uid/TP40004509-CH1-DontLinkElementID_13"></a><h3 class="verytight">preferredSizeOfLayer:</h3><p class="spaceabove">Returns the preferred size of the specified layer in its coordinate system.</p><p class="spaceabovemethod">- (<a href="../../CGGeometry/Reference/reference.html#//apple_ref/doc/c_ref/CGSize" target="_top">CGSize</a>)preferredSizeOfLayer:(<a href="../../CALayer_class/Introduction/Introduction.html#//apple_ref/doc/c_ref/CALayer" target="_top">CALayer</a> *)<em>layer</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>layer</em></dt><dd><p>The layer that requires layout.</p></dd></dl><h5 class="tight">Return Value</h5><p>The preferred size of the layer in the coordinate space of <em>layer</em>.</p><h5 class="tight">Discussion</h5><p>This method is called when the preferred size of the specified layer may have changed. The receiver is responsible for recomputing the preferred size and returning it. If this method is not implemented the preferred size is assumed to be the size of the bounds of <em>layer</em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">Declared In</h5><code>CALayer.h</code>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../RevisionHistory.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2007 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2007-07-24<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/GraphicsImaging/Reference/CALayoutManager_protocol/Introduction/Introduction.html%3Fid%3DTP40004509-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/GraphicsImaging/Reference/CALayoutManager_protocol/Introduction/Introduction.html%3Fid%3DTP40004509-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/GraphicsImaging/Reference/CALayoutManager_protocol/Introduction/Introduction.html%3Fid%3DTP40004509-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>