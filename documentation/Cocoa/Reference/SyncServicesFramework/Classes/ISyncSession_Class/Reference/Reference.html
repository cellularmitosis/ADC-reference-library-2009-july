<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>ISyncSession Class Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="ISyncSession Class Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40001683" title="ISyncSession"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../../../reference/Cocoa/index.html#//apple_ref/doc/uid/TP30001281-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../../../../reference/Cocoa/idxSyncing-date.html#//apple_ref/doc/uid/TP30001281-TP30000416-TP40001899" target="_top">Syncing</a> &gt; <a href="../index.html" target="_top">ISyncSession Class Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/occ/cl/ISyncSession" title="ISyncSession"></a><a name="//apple_ref/doc/c_ref/ISyncSession" title="ISyncSession"></a><a name="//apple_ref/doc/uid/TP40001683-CJBGGDAB" title="ISyncSession"></a><h1>ISyncSession Class Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span style="white-space: nowrap;">Inherits from</span></strong></td><td><div style="margin-bottom:1px"><a href="../../../../Foundation/Classes/NSObject_Class/Reference/Reference.html#//apple_ref/occ/cl/NSObject" target="_top">NSObject</a></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Conforms to</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intf/NSObject" target="_top">NSObject (NSObject)</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px">/System/Library/Frameworks/<a href="../../../../SyncServicesRef_ObjC/index.html#//apple_ref/doc/uid/TP40001177" target="_top">SyncServices.framework</a></div></td></tr><tr><td scope="row"><strong>Availability</strong></td><td><div style="margin-bottom:1px"><div>Available in Mac OS X v10.4 and later.</div></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guide</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">ISyncSession.h</span><br/></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Related sample code</span></strong></td><td><div style="margin-bottom:1px"><div><span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/SeeMyFriends/index.html#//apple_ref/doc/uid/DTS10003683" target="_top">SeeMyFriends</a></span></div><div><span class="content_text"><a href="../../../../../../../samplecode/StickiesExample/index.html#//apple_ref/doc/uid/DTS10003637" target="_top">StickiesExample</a></span></div></div></td></tr></table></div><br/>




<a name="//apple_ref/doc/uid/TP40001683-29070" title="Overview"></a><h2>Overview</h2>

<p class="spaceabove">An <code>ISyncSession</code> object is used to manage a single sync operation. It coordinates communication between a client, the sync engine, and any other clients that sync simultaneously. You create an <code>ISyncSession</code> object when you want to sync—you use it to sync your records and then throw it away.</p>
<p>A sync session is modeled as a finite state machine whose four main states are negotiation, pushing, mingling, and pulling. During the negotiation state, the client requests a sync mode, such as <strong>slow sync</strong>, <strong>fast sync</strong>, or <strong>pull the truth</strong>. The client then pushes changes to the sync engine. When all changes from all participating clients are pushed, the sync engine enters the mingling state. During mingling, it processes all the pushed records and computes the changes that are pulled by each client. After mingling, the client pulls changes from the sync engine. </p><p>You should use sync anchors so your application is more resilient by avoiding serious errors that can occur during a sync session—such as a communication failure between a client and its data store that corrupts data. Use sync anchors unless you implement your own mechanism for tracking whether records are successfully pushed and pulled. A sync anchor is an object that is unique per client and per entity that is saved periodically throughout a sync session. The sync engine compares the client’s locally stored sync anchors with its copies to determine the next sync mode. For example, if there is a discrepancy in sync anchors and the client is an application, an alert panel appears asking the user to select an appropriate sync mode. If the client is not an application, it slow syncs.</p>
<p>The client can finish or cancel a session at any time. Read <em><a href="../../../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for more details about each state in the finite state machine, transactions within each state, and the consequences of invoking <code>ISyncSession</code> methods. Refer to <em><a href="../../../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for definitions of other sync terms.</p><p>Use the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code> method to create an <code>ISyncSession</code> object for the specified client and entities. Alternatively, use the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code> method if you don’t want to block when creating a session. Creating a session might block if the sync engine is waiting for other clients to join the sync.</p>
<p>During the negotiation state, use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientWantsToPushAllRecordsForEntityNames:">clientWantsToPushAllRecordsForEntityNames: </a></code> or the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:">clientDidResetEntityNames: </a></code> method to request a sync mode different from the default mode.</p>
<p>During the pushing state, use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChange:">pushChange: </a></code> method to push just the changes for a particular record. Otherwise, use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChangesFromRecord:withIdentifier:">pushChangesFromRecord:withIdentifier: </a></code> method to push the entire record and let the sync engine figure out which properties changed. Use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/deleteRecordWithIdentifier:">deleteRecordWithIdentifier: </a></code> method to push a delete change. After successfully pushing your entities, use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">clientFinishedPushingChangesWithNextAnchors:</a></code> method to change the sync anchors stored with the sync engine.</p>
<p>Use the <code>prepareToPullChanges...</code> methods to begin the mingling state and transition to the pulling state. During the mingling state, the sync engine merges all the changes between multiple clients and computes what changes need to be pulled by clients. Hence, these methods prepare the sync session for the pulling state.</p>
<p>During the pulling state, use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/changeEnumeratorForEntityNames:">changeEnumeratorForEntityNames: </a></code> method to pull all the changes for the specified entities. Use the returned object enumerator to iterate through and apply the changes to your data. Use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:">clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier: </a></code> method to accept changes and the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:">clientRefusedChangesForRecordWithIdentifier: </a></code> method to reject changes. Use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">clientCommittedAcceptedChangesWithNextAnchors:</a></code> method to commit the accepted changes and close a transaction within the pulling state.</p>
<p>Use <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/finishSyncing">finishSyncing</a></code> to terminate a sync session by closing an open transaction. Or use <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/cancelSyncing">cancelSyncing</a></code> to cancel a sync session that rolls back the state of the client to the previously closed transaction. All changes that were applied in an open transaction need to be reapplied on the next sync. The <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/finishSyncing">finishSyncing</a></code> and <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/cancelSyncing">cancelSyncing</a></code> methods can be invoked at any time. However, the <code>ISyncSession</code> object should be released after invoking these methods, because the object cannot be used in a subsequent sync.</p><p>If you are using Mac OS X v10.4 or earlier, use the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:">beginSessionWithClient:entityNames:beforeDate:</a></code> method to create an <code>ISyncSession</code> object for the specified client and entities. Alternatively, use the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:">beginSessionInBackgroundWithClient:entityNames:target:selector:</a></code> method if you don’t want to block when creating a session. Similarly, use the non-anchor <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChanges">clientCommittedAcceptedChanges </a></code> method to commit the accepted changes and close a transaction within the pulling state.</p>




<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_1" title="Tasks"></a><h2>Tasks</h2>
<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_2" title="Creating a Sync Session"></a>
		<h3 class="tasks">Creating a Sync Session</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">+&#xA0;beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates and returns a new sync session for the specified client using sync anchors.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">+&#xA0;beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new sync session for the specified client asynchronously using sync anchors.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:">+&#xA0;beginSessionWithClient:entityNames:beforeDate:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates and returns a new sync session for the specified client.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:">+&#xA0;beginSessionInBackgroundWithClient:entityNames:target:selector:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a new sync session for the specified client asynchronously. '/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/cancelPreviousBeginSessionWithClient:">+&#xA0;cancelPreviousBeginSessionWithClient:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Cancels a previous request to create a session using <code>beginSessionInBackgroundWithClient:entityNames:target:selector:</code> for <em>client</em>.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_3" title="Negotiating a Sync Mode"></a>
		<h3 class="tasks">Negotiating a Sync Mode</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:">&#8211;&#xA0;clientDidResetEntityNames:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Tells the sync engine to perform a refresh sync of all the records for the specified entities.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientWantsToPushAllRecordsForEntityNames:">&#8211;&#xA0;clientWantsToPushAllRecordsForEntityNames:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Forces a slow sync of all the records for the specified entities.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushChangesForEntityName:">&#8211;&#xA0;shouldPushChangesForEntityName:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns <code>YES</code> if the client should push changes to records for <em>entityName</em> since the last sync, <code>NO</code> otherwise.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:">&#8211;&#xA0;shouldPushAllRecordsForEntityName:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns <code>YES</code> if the client should push all the records for <em>entityName</em> to the sync engine; otherwise, <code>NO</code>.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPullChangesForEntityName:">&#8211;&#xA0;shouldPullChangesForEntityName:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns <code>YES</code> if the client should pull changes to records for <em>entityName</em>, <code>NO</code> otherwise.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldReplaceAllRecordsOnClientForEntityName:">&#8211;&#xA0;shouldReplaceAllRecordsOnClientForEntityName:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns <code>YES</code> if the client should delete all the records for the entity, specified by <em>entityName</em>, and replace them with records pulled from the sync engine, <code>NO</code> otherwise.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_4" title="Pushing Changes"></a>
		<h3 class="tasks">Pushing Changes</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChange:">&#8211;&#xA0;pushChange:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Pushes changes made to a single record, specified by <em>change</em> , to the sync engine.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChangesFromRecord:withIdentifier:">&#8211;&#xA0;pushChangesFromRecord:withIdentifier:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Compares <em>record</em> to the client’s previous known state of the record, identified by <em>recordIdentifier</em>, and pushes the changes to the sync engine.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/deleteRecordWithIdentifier:">&#8211;&#xA0;deleteRecordWithIdentifier:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a delete change for the record specified by <em>recordIdentifier</em> and pushes the change to the sync engine.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">&#8211;&#xA0;clientFinishedPushingChangesWithNextAnchors:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the sync anchors for each entity whose records were successfully pushed by the client.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_5" title="Mingling"></a>
		<h3 class="tasks">Mingling</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesForEntityNames:beforeDate:">&#8211;&#xA0;prepareToPullChangesForEntityNames:beforeDate:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Moves the receiver to the mingling state and returns when the sync engine is ready for the client to begin pulling changes to the specified entities.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesInBackgroundForEntityNames:target:selector:">&#8211;&#xA0;prepareToPullChangesInBackgroundForEntityNames:target:selector:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Moves the receiver to the mingling state and sends a message to a specified target when the sync engine is ready for the client to begin pulling changes to the specified entities.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_6" title="Pulling Changes"></a>
		<h3 class="tasks">Pulling Changes</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/changeEnumeratorForEntityNames:">&#8211;&#xA0;changeEnumeratorForEntityNames:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the object enumerator for the ISyncChange objects which contain all the changes the client should apply to its local data.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:">&#8211;&#xA0;clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the sync engine that the client has accepted the changes to the record identified by <em>recordIdentifier</em> during the pulling state.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:">&#8211;&#xA0;clientRefusedChangesForRecordWithIdentifier:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the sync engine during the pulling state that the client has refused to apply the changes for the record specified by <em>recordIdentifier</em>.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChanges">&#8211;&#xA0;clientCommittedAcceptedChanges</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Informs the sync engine that all accepted and rejected changes in the current transaction during the pulling state should be committed.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">&#8211;&#xA0;clientCommittedAcceptedChangesWithNextAnchors:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets the sync anchors for each entity whose records were successfully updated during the pulling phase.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientChangedRecordIdentifiers:">&#8211;&#xA0;clientChangedRecordIdentifiers:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Changes the record identifiers of the given records.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_7" title="Pushing and Pulling Changes"></a>
		<h3 class="tasks">Pushing and Pulling Changes</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientLostRecordWithIdentifier:shouldReplaceOnNextSync:">&#8211;&#xA0;clientLostRecordWithIdentifier:shouldReplaceOnNextSync:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Tells the sync engine that a record identified by <em>recordIdentifier</em>, no longer exists on the client, and indicates whether or not it should be replaced.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_8" title="Finishing Syncing"></a>
		<h3 class="tasks">Finishing Syncing</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/finishSyncing">&#8211;&#xA0;finishSyncing</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Tells the sync engine that the client is done syncing. Invoking this method closes any open transactions in the pushing or pulling states.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_9" title="Canceling Syncing"></a>
		<h3 class="tasks">Canceling Syncing</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/isCancelled">&#8211;&#xA0;isCancelled</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns <code>YES</code> if the receiver was canceled, <code>NO</code> otherwise.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/cancelSyncing">&#8211;&#xA0;cancelSyncing</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Cancels the current session.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_10" title="Getting and Setting Client Information"></a>
		<h3 class="tasks">Getting and Setting Client Information</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientInfoForRecordWithIdentifier:">&#8211;&#xA0;clientInfoForRecordWithIdentifier:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a client-specific, nonprepsynchronized object that stores additional information about a record specified by <em>recordIdentifier</em>.'/>
                    
                </span></li>
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/setClientInfo:forRecordWithIdentifier:">&#8211;&#xA0;setClientInfo:forRecordWithIdentifier:</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Associates a client-specific, non synchronized object, <em>clientInfo</em>, to a record specified by <em>recordIdentifier</em> .'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_11" title="Getting Snapshots"></a>
		<h3 class="tasks">Getting Snapshots</h3>
		
		
		
		
		<ul class="tooltip">
			
				
                <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                    
                    <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/snapshotOfRecordsInTruth">&#8211;&#xA0;snapshotOfRecordsInTruth</a></code>
                    
                    			
                        <img src="../../../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns an immutable snapshot of the records in the truth database.'/>
                    
                </span></li>
			
		</ul>


<a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_12" title="Class Methods"></a><h2>Class Methods</h2><a name="//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:" title="beginSessionInBackgroundWithClient:entityNames:target:selector:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBIBJGC" title="beginSessionInBackgroundWithClient:entityNames:target:selector:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_19"></a>
<h3 class="verytight">beginSessionInBackgroundWithClient:entityNames:target:selector:</h3>
<p class="spaceabove">Creates a new sync session for the specified client asynchronously. </p><p class="spaceabovemethod">+ (void)beginSessionInBackgroundWithClient:(<a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ISyncClient" target="_top">ISyncClient</a> *)<em>client</em> entityNames:(<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)<em>entityNames</em> target:(id)<em>target</em> selector:(SEL)<em>selector</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>client</em></dt><dd><p>The client that is syncing.</p></dd><dt><em>entityNames</em></dt><dd><p>An array of entity names that the client wants to sync.</p><p>The <em>entityNames</em> parameter can be a subset of the client's supported entities and may include entities that have been disabled. However, the sync engine does not allow the client to push changes to disabled entities nor does it provide changes to disabled entities while pulling changes. Typically, you use the array returned by sending <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/enabledEntityNames" target="_top">enabledEntityNames</a></code> to your <code>ISyncClient</code> object as the <em>entityNames</em> parameter to this method.</p></dd><dt><em>target</em></dt><dd><p>The recipient of <em>selector</em>.</p></dd><dt><em>selector</em></dt><dd><p>The message to send to <em>target</em>. </p><p>The <em>selector</em> message is passed two parameters: The first parameter is the <code>ISyncClient</code> object and the second parameter is the new <code>ISyncSession</code> object. If the sync engine is disabled or another client already created a session for this client, then this method fails to create a session and <em>selector</em> is sent to <em>target</em> with <code>nil</code> as the <code>ISyncSession</code> object.</p></dd></dl>
<h5 class="tight">Discussion</h5><p>Creating a session for <em>client</em> may trigger notifications to other clients observing syncs of this client type. This method differs from <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:">beginSessionWithClient:entityNames:beforeDate:</a></code> by not blocking—returning immediately—and sending <em>selector</em> to <em>target</em> when all dependent clients have joined the sync session. (Send <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/setShouldSynchronize:withClientsOfType:" target="_top">setShouldSynchronize:withClientsOfType:</a></code> to an <code>ISyncClient</code> object to setup these dependencies.) This method requires the client have a run loop running in the default mode.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_15" title="Note"></a><p><strong>Note:</strong>&nbsp;<code>ISyncSession</code> is not thread-safe. You can pass an <code>ISyncSession</code> object between threads but you should not use it concurrently. Asynchronous callbacks from <code>ISyncSession</code> are delivered to any client thread that used any of the Sync Services methods. The client is responsible for directing the callback to an appropriate thread.</p></div>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/cancelPreviousBeginSessionWithClient:">+&#xA0;cancelPreviousBeginSessionWithClient: </a></code></li>
<li class="availability">  <code><a href="../../ISyncManager_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncManager/isEnabled" target="_top">&#8211;&#xA0;isEnabled</a></code> (ISyncManager)</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/SeeMyFriends/index.html#//apple_ref/doc/uid/DTS10003683" target="_top">SeeMyFriends</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:" title="beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-SW3" title="beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_20"></a><h3 class="verytight">beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</h3><p class="spaceabove">Creates a new sync session for the specified client asynchronously using sync anchors.</p><p class="spaceabovemethod">+ (void)beginSessionInBackgroundWithClient:(ISyncClient *)client entityNames:(NSArray *)entityNames target:(id)target selector:(SEL)selector lastAnchors:(NSDictionary *)anchors</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>client</em></dt><dd><p>The client that is syncing.</p></dd><dt><em>entityNames</em></dt><dd><p>An array of entity names that the client wants to sync.</p><p>The <em>entityNames</em> parameter can be a subset of the client's supported entities and may include entities that have been disabled. However, the sync engine does not allow the client to push changes to disabled entities nor does it provide changes to disabled entities while pulling changes. Typically, you use the array returned by sending <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/enabledEntityNames" target="_top">enabledEntityNames</a></code> to your <code>ISyncClient</code> object as the <em>entityNames</em> parameter to this method.</p></dd><dt><em>target</em></dt><dd><p>The recipient of <em>selector</em>.</p></dd><dt><em>selector</em></dt><dd><p>The message to send to <em>target</em>.</p><p>The <em>selector</em> message is passed two parameters: the first parameter is the <code>ISyncClient</code> object and the second parameter is the new <code>ISyncSession</code> object. If the sync engine is disabled or another client already created a session for this client, then this method fails to create a session and <em>selector</em> is sent to <em>target</em> with <code>nil</code> as the <code>ISyncSession</code> object.</p></dd><dt><em>anchors</em></dt><dd><p>The sync anchors used in the last sync which are compared to those saved by the sync engine to determine the sync mode. </p><p>The keys are the entity names and the values are the sync anchors. Sync anchors are globally unique <code>NSString</code> objects, typically containing a UUID or date.  If this parameter is <code>nil</code>, the client refresh syncs.</p><p>As a convenience, you may use the same sync anchor for all entities of a data class by specifying a sync anchor for only one entity in that data class. If you provide sync anchors for two or more entities per data class, then you need to specify sync anchors for all entities in that data class. A missing sync anchor for an entity causes that entity to refresh sync.</p></dd></dl><h5 class="tight">Discussion</h5><p>This method is the nonblocking variation of the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code> method similar to the nonblocking <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:">beginSessionInBackgroundWithClient:entityNames:target:selector:</a></code> method that doesn’t use sync anchors. Read the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code> description for more details.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_16" title="Note"></a><p><strong>Note:</strong>&nbsp;<code>ISyncSession</code> is not thread-safe. You can pass an <code>ISyncSession</code> object between threads but you should not use it concurrently. Asynchronous callbacks from <code>ISyncSession</code> are delivered to any client thread that used any of the Sync Services methods. The client is responsible for directing the callback to an appropriate thread.</p></div><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">+&#xA0;beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">&#8211;&#xA0;clientFinishedPushingChangesWithNextAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">&#8211;&#xA0;clientCommittedAcceptedChangesWithNextAnchors:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:" title="beginSessionWithClient:entityNames:beforeDate:"></a><a name="//apple_ref/doc/uid/TP40001683-BABGJFAA" title="beginSessionWithClient:entityNames:beforeDate:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_21"></a>
<h3 class="verytight">beginSessionWithClient:entityNames:beforeDate:</h3>
<p class="spaceabove">Creates and returns a new sync session for the specified client.</p><p class="spaceabovemethod">+ (ISyncSession *)beginSessionWithClient:(<a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ISyncClient" target="_top">ISyncClient</a> *)<em>client</em> entityNames:(<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)<em>entityNames</em> beforeDate:(<a href="../../../../Foundation/Classes/NSDate_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDate" target="_top">NSDate</a> *)<em>date</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>client</em></dt><dd><p>The client that is syncing.</p></dd><dt><em>entityNames</em></dt><dd><p>An array of entity names that the client wants to sync.</p><p>The <em>entityNames</em> parameter can be a subset of the client's supported entities and may include entities that have been disabled. However, the sync engine does not allow the client to push changes to disabled entities nor does it provide changes to disabled entities while pulling changes. Typically, you use the array returned by sending <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/enabledEntityNames" target="_top">enabledEntityNames</a></code> to your <code>ISyncClient</code> object as the <em>entityNames</em> parameter to this method.</p></dd><dt><em>date</em></dt><dd><p>How long the client is willing to wait for other clients to join this session. If <em>date</em> is in the distant future, this method blocks until all dependent clients have joined the session or <em>date</em> has expired. If <em>date</em> is the current date or a past date, this method returns <code>nil</code> if the session cannot be created immediately.</p><p>Choose a future date carefully before invoking this method. If <em>date</em> is too small, dependent clients may be excluded from joining the sync. Typically, a client specifies the longest delay possible. However, if you sync before terminating an application, you might specify a zero delay by passing <code>[NSDate date]</code>.</p></dd></dl><h5 class="tight">Return Value</h5><p>Returns the new sync session or <code>nil</code> if the session cannot be created immediately.</p><p>This method returns when all dependent clients have had the opportunity to join the sync session or <em>date</em> has expired, which ever occurs first. This method might block if another client is syncing an entity specified in <em>entityNames</em>. Returns <code>nil</code> if the sync engine is disabled.</p>
<h5 class="tight">Discussion</h5><p>Creating a session for <em>client</em> may trigger notifications to other clients observing syncs of this client type. Other clients then have the opportunity to join this sync session; therefore, this method may block. Send <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/setShouldSynchronize:withClientsOfType:" target="_top">setShouldSynchronize:withClientsOfType:</a></code> to an <code>ISyncClient</code> object to setup these dependencies. Use the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:">beginSessionInBackgroundWithClient:entityNames:target:selector:</a></code> method if you don’t want to block when creating a session.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/cancelPreviousBeginSessionWithClient:">+&#xA0;cancelPreviousBeginSessionWithClient: </a></code></li>
<li class="availability">  <code><a href="../../ISyncManager_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncManager/isEnabled" target="_top">&#8211;&#xA0;isEnabled</a></code> (ISyncManager)</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/StickiesExample/index.html#//apple_ref/doc/uid/DTS10003637" target="_top">StickiesExample</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:" title="beginSessionWithClient:entityNames:beforeDate:lastAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-SW4" title="beginSessionWithClient:entityNames:beforeDate:lastAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_22"></a><h3 class="verytight">beginSessionWithClient:entityNames:beforeDate:lastAnchors:</h3><p class="spaceabove">Creates and returns a new sync session for the specified client using sync anchors.</p><p class="spaceabovemethod">+ (ISyncSession *)beginSessionWithClient:(ISyncClient *)client entityNames:(NSArray *)entityNames beforeDate:(NSDate *)date lastAnchors:(NSDictionary *)anchors</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>client</em></dt><dd><p>The client that is syncing.</p></dd><dt><em>entityNames</em></dt><dd><p>An array of entity names that the client wants to sync.</p><p>The <em>entityNames</em> parameter can be a subset of the client's supported entities and may include entities that have been disabled. However, the sync engine does not allow the client to push changes to disabled entities nor does it provide changes to disabled entities while pulling changes. Typically, you use the array returned by sending <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/enabledEntityNames" target="_top">enabledEntityNames</a></code> to your <code>ISyncClient</code> object as the <em>entityNames</em> parameter to this method.</p></dd><dt><em>date</em></dt><dd><p>How long the client is willing to wait for other clients to join this session. If <em>date</em> is in the distant future, this method blocks until all dependent clients have joined the session or <em>date</em> has expired. If <em>date</em> is the current date or a past date, this method returns <code>nil</code> if the session cannot be created immediately.</p><p>Choose a future date carefully before invoking this method. If <em>date</em> is too small, dependent clients may be excluded from joining the sync. Typically, a client specifies the longest delay possible. However, if you sync before terminating an application, you might specify a zero delay by passing <code>[NSDate date]</code>.</p></dd><dt><em>anchors</em></dt><dd><p>Specifies the sync anchors used in the last sync which are compared to those saved by the sync engine to determine the sync mode. </p><p>The keys are the entity names and the values are the sync anchors. Sync anchors are globally unique <code>NSString</code> objects typically, containing a UUID or date. If this parameter is <code>nil</code>, the client refresh syncs.</p><p>As a convenience, you may use the same sync anchor for all entities of a data class by specifying a sync anchor for only one entity in that data class. If you provide sync anchors for two or more entities per data class, then you need to specify sync anchors for all entities in that data class. A missing sync anchor for an entity causes that entity to refresh sync.</p></dd></dl><h5 class="tight">Return Value</h5><p>Returns the new sync session or <code>nil</code> if the session cannot be created immediately.</p><p>This method returns when all dependent clients have had the opportunity to join the sync session or <em>date</em> has expired, whichever occurs first. This method might block if another client is syncing an entity specified in <em>entityNames</em>. Returns <code>nil</code> if the sync engine is disabled.</p><h5 class="tight">Discussion</h5><p>Use this method instead of <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:">beginSessionWithClient:entityNames:beforeDate:</a></code> if you are using sync anchors to improve the selection of a sync mode—that is, fast sync when possible and avoid unnecessary slow syncs. Use the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code> method if you don’t want to block when creating a session.</p><p>If the client is syncing an entity for the first time, the sync anchor for the entity should be <code>[NSNull null]</code> which causes a refresh sync. A null value for a sync anchor can also indicate that local records for the corresponding entity were removed or lost, and consequently, the client needs to refresh sync. </p><p>Otherwise, the sync anchors parameter should be the sync anchors you saved locally and passed to either the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">clientFinishedPushingChangesWithNextAnchors:</a></code> or <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">clientCommittedAcceptedChangesWithNextAnchors:</a></code> methods during the last sync session.</p><p>The sync anchors you provide in this method are compared to the sync anchors from the last sync session to determine the sync mode. If a sync anchor doesn’t match a sync anchor from the previous sync session and the client is an application, an alert panel appears asking the user to select an appropriate sync mode. If the user selects slow sync or the client is not an application, then the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:">shouldPushAllRecordsForEntityName: </a></code> method returns <code>YES</code> for all entities in a data class corresponding to that sync anchor.</p><p>If you use this method you must also use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">clientFinishedPushingChangesWithNextAnchors:</a></code> and <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">clientCommittedAcceptedChangesWithNextAnchors:</a></code> methods to set sync anchors at the end of the pushing and pulling phases of the sync session. Otherwise, the sync engine assumes an error occurred and the client refresh syncs. </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">+&#xA0;beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">&#8211;&#xA0;clientFinishedPushingChangesWithNextAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">&#8211;&#xA0;clientCommittedAcceptedChangesWithNextAnchors:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/clm/ISyncSession/cancelPreviousBeginSessionWithClient:" title="cancelPreviousBeginSessionWithClient:"></a><a name="//apple_ref/doc/uid/TP40001683-BABBIIDG" title="cancelPreviousBeginSessionWithClient:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_23"></a>
<h3 class="verytight">cancelPreviousBeginSessionWithClient:</h3>
<p class="spaceabove">Cancels a previous request to create a session using <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:">beginSessionInBackgroundWithClient:entityNames:target:selector:</a></code> for <em>client</em>.</p><p class="spaceabovemethod">+ (void)cancelPreviousBeginSessionWithClient:(<a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ISyncClient" target="_top">ISyncClient</a> *)<em>client</em></p>
<h5 class="tight">Discussion</h5><p>Use the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:">beginSessionWithClient:entityNames:beforeDate:</a></code> method if you prefer to block when creating a session.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:">+&#xA0;beginSessionInBackgroundWithClient:entityNames:target:selector:</a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:">+&#xA0;beginSessionWithClient:entityNames:beforeDate:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_13" title="Instance Methods"></a><h2>Instance Methods</h2><a name="//apple_ref/occ/instm/ISyncSession/cancelSyncing" title="cancelSyncing"></a><a name="//apple_ref/doc/uid/TP40001683-CJBIEHBJ" title="cancelSyncing"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_24"></a><h3 class="verytight">cancelSyncing</h3>
<p class="spaceabove">Cancels the current session.</p><p class="spaceabovemethod">- (void)cancelSyncing</p>
<h5 class="tight">Discussion</h5><p>May close an open pull or push transaction, and rolls back the state of the client to the previous transaction.</p><p> In the case of a pull transaction, the sync engine assumes the client is able to reapply the same changes on the next sync. In the case of a push transaction, the changes are reapplied to the client on the next sync. If the client cannot push or pull the same changes, it must force a slow sync by sending <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientWantsToPushAllRecordsForEntityNames:">clientWantsToPushAllRecordsForEntityNames: </a></code> to the session before the next sync.</p><p>Use this method at any time but the receiver should be released soon afterward because you cannot continue using a canceled session.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/isCancelled">&#8211;&#xA0;isCancelled</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/finishSyncing">&#8211;&#xA0;finishSyncing</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/changeEnumeratorForEntityNames:" title="changeEnumeratorForEntityNames:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBFIJCH" title="changeEnumeratorForEntityNames:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_25"></a><h3 class="verytight">changeEnumeratorForEntityNames:</h3>
<p class="spaceabove">Returns the object enumerator for the ISyncChange objects which contain all the changes the client should apply to its local data.</p><p class="spaceabovemethod">- (<a href="../../../../Foundation/Classes/NSEnumerator_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSEnumerator" target="_top">NSEnumerator</a> *)changeEnumeratorForEntityNames:(<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)<em>entityNames</em></p>
<h5 class="tight">Discussion</h5><p>Use the returned object to iterate through the record changes during the pulling state. The <em>entityNames</em> parameter can contain a subset of the supported entities. </p><p>The sync engine applies client filters to the returned changes so that the client does not receive changes that were rejected. See <em><a href="../../../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for more information on setting filters.</p><p>When the client applies a change described by an ISyncChange object, it must either accept or reject the change. You accept a change by sending <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:">clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier: </a></code> to the sync session, and reject a change by sending <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:">clientRefusedChangesForRecordWithIdentifier: </a></code> to the sync session. After processing all changes (saving them on the device or locally) you send <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChanges">clientCommittedAcceptedChanges </a></code> to the sync session to commit those changes. Any uncommitted accepted changes or rejected changes are sent again to the client during the next sync.</p><p>Use this method during the pulling state only, otherwise an exception is raised.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesForEntityNames:beforeDate:">&#8211;&#xA0;prepareToPullChangesForEntityNames:beforeDate: </a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/SeeMyFriends/index.html#//apple_ref/doc/uid/DTS10003683" target="_top">SeeMyFriends</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:" title="clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBIDJBD" title="clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_26"></a><h3 class="verytight">clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:</h3>
<p class="spaceabove">Informs the sync engine that the client has accepted the changes to the record identified by <em>recordIdentifier</em> during the pulling state.</p><p class="spaceabovemethod">- (void)clientAcceptedChangesForRecordWithIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>recordIdentifier</em> formattedRecord:(<a href="../../../../Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)<em>formattedRecord</em>  newRecordIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>newRecordIdentifier</em></p>
<h5 class="tight">Discussion</h5><p>If your client or device cannot store properties using the defined schema, then you can use the <em>formattedRecord</em> parameter to specify an alternate format. By specifying an alternate format, you assist the sync engine in figuring out which records and properties are equal during the mingling state, so that the sync engine doesn’t generate false changes for records that were simply reformatted. </p><p>The <em>formattedRecord</em> dictionary should contain the entire record—key-value pairs for the formatted and unformatted properties that the client stores and pushes. This may be a subset of the entity properties if a client doesn’t use the omitted properties. This dictionary should include the <code><a href="Reference.html#//apple_ref/c/econst/ISyncRecordEntityNameKey">ISyncRecordEntityNameKey</a></code> key identifying the record’s entity name. Otherwise, the <em>formattedRecord</em> parameter should be <code>nil</code>. For example, if you are syncing a device and the device truncates first and last names to 20 characters long, then you should specify a <em>formattedRecord</em> record containing the truncated values when invoking this method. See <em><a href="../../../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for more details on formatting records.</p><p>The sync engine creates a new identifier for added records using <code>CFUUIDRef</code>. However, if your client generates its own unique record identifiers, then you can use the <em>newRecordIdentifier</em> parameter to request that your identifier be used in future communications with the sync engine. Although conflicts can occur when changing record identifiers that are targets of relationships pulled in the same sync session. Read <span class="content_text"><a href="../../../../../Conceptual/SyncServices/Articles/Relationships.html#//apple_ref/doc/uid/TP40001157" target="_top">Syncing Relationships</a></span> in <em><a href="../../../../../Conceptual/SyncServices/index.html#//apple_ref/doc/uid/TP40001178" target="_top">Sync Services Programming Guide</a></em> for more information on resolving pulled relationships.</p><p>You can use this method to batch up changes by invoking it repeatedly. You can also use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:">clientRefusedChangesForRecordWithIdentifier: </a></code> method to reject changes. However, after a sequence of accepting and rejecting changes, you need to invoke <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChanges">clientCommittedAcceptedChanges </a></code> to end the transaction and actually commit them. </p><p>Use this method during the pulling state only, otherwise an exception is raised.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientChangedRecordIdentifiers:">&#8211;&#xA0;clientChangedRecordIdentifiers: </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientLostRecordWithIdentifier:shouldReplaceOnNextSync:">&#8211;&#xA0;clientLostRecordWithIdentifier:shouldReplaceOnNextSync: </a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/SeeMyFriends/index.html#//apple_ref/doc/uid/DTS10003683" target="_top">SeeMyFriends</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientChangedRecordIdentifiers:" title="clientChangedRecordIdentifiers:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBBDFHD" title="clientChangedRecordIdentifiers:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_27"></a><h3 class="verytight">clientChangedRecordIdentifiers:</h3>
<p class="spaceabove">Changes the record identifiers of the given records.</p><p class="spaceabovemethod">- (void)clientChangedRecordIdentifiers:(<a href="../../../../Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)<em>oldToNew</em></p>
<h5 class="tight">Discussion</h5><p>The <em>oldToNew</em> dictionary should contain key-value pairs where the keys are the old record identifiers, currently used by the sync engine, and the values are the new record identifiers. Use this method if your application generates its own unique record identifier. Alternatively, you can change individual identifiers when adding a record during the pulling state by sending <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:">clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier: </a></code> to the session. This method can be invoked when pushing or pulling records.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/StickiesExample/index.html#//apple_ref/doc/uid/DTS10003637" target="_top">StickiesExample</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChanges" title="clientCommittedAcceptedChanges"></a><a name="//apple_ref/doc/uid/TP40001683-CJBEBFHE" title="clientCommittedAcceptedChanges"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_28"></a><h3 class="verytight">clientCommittedAcceptedChanges</h3>
<p class="spaceabove">Informs the sync engine that all accepted and rejected changes in the current transaction during the pulling state should be committed.</p><p class="spaceabovemethod">- (void)clientCommittedAcceptedChanges</p>
<h5 class="tight">Discussion</h5><p>Invoke this method after you save the accepted changes locally or on the device you are syncing.</p><p>You accept a change by sending <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:">clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier: </a></code> to the sync session, and reject a change by sending <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:">clientRefusedChangesForRecordWithIdentifier: </a></code> to the sync session. </p><p>Invoking this method ends an open pull transaction that began by sending either <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesForEntityNames:beforeDate:">prepareToPullChangesForEntityNames:beforeDate: </a></code>or <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesInBackgroundForEntityNames:target:selector:">prepareToPullChangesInBackgroundForEntityNames:target:selector:</a></code> to the receiver. Once a transaction ends the sync engine commits the changes to the truth database, and opens a new pull transaction.</p><p>Use this method during the pulling state only, otherwise an exception is raised.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/cancelSyncing">&#8211;&#xA0;cancelSyncing</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/finishSyncing">&#8211;&#xA0;finishSyncing</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/SeeMyFriends/index.html#//apple_ref/doc/uid/DTS10003683" target="_top">SeeMyFriends</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:" title="clientCommittedAcceptedChangesWithNextAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-SW2" title="clientCommittedAcceptedChangesWithNextAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_29"></a><h3 class="verytight">clientCommittedAcceptedChangesWithNextAnchors:</h3><p class="spaceabove">Sets the sync anchors for each entity whose records were successfully updated during the pulling phase.</p><p class="spaceabovemethod">- (void)clientCommittedAcceptedChangesWithNextAnchors:(NSDictionary *)anchors</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>anchors</em></dt><dd><p>The sync anchors for the entities that were successfully pulled from the sync engine. </p><p>The keys are the entity names and the values are the sync anchors. Sync anchors are globally unique <code>NSString</code> objects, typically containing a UUID or date. If this parameter is <code>nil</code>, the client refresh syncs.</p><p>As a convenience, you may use the same sync anchor for all entities of a data class by specifying a sync anchor for only one entity in that data class. If you provide sync anchors for two or more entities per data class, then you need to specify sync anchors for all entities in that data class. A missing sync anchor for an entity causes that entity to refresh sync.</p></dd></dl><h5 class="tight">Discussion</h5><p>If you are using sync anchors, create a new sync anchor per entity or data class that is successfully pulled from the sync engine, store them locally, and invoke this method to register the new sync anchors with the sync engine. Then pass these new sync anchors to the sync engine at the beginning of the next sync by invoking either the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code> or <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code> methods. An exception is raised if this method is invoked on a session that was not created using one of these <code>...lastAnchors:</code> methods.</p><p>Use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">clientFinishedPushingChangesWithNextAnchors:</a></code> method to change the sync anchors for entities that are successfully pushed.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">+&#xA0;beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">+&#xA0;beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:">&#8211;&#xA0;clientFinishedPushingChangesWithNextAnchors:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:" title="clientDidResetEntityNames:"></a><a name="//apple_ref/doc/uid/TP40001683-BABCJFEI" title="clientDidResetEntityNames:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_30"></a><h3 class="verytight">clientDidResetEntityNames:</h3>
<p class="spaceabove">Tells the sync engine to perform a refresh sync of all the records for the specified entities.</p><p class="spaceabovemethod">- (void)clientDidResetEntityNames:(<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)<em>entityNames</em></p>
<h5 class="tight">Discussion</h5><p>The <em>entityNames</em> array can contain a subset of the supported entity names. Use this method if a user hard-resets a device by removing all its records, or if the local client data file is accidently deleted.</p><p>After invoking this method, the client is expected to push all the records for the specified entities similar to a slow sync. However, during a refresh sync, the sync engine resets the client’s sync state (as if it never synced before) and consequently, does not generate any delete changes when the client pulls records. Although the client may pull delete changes if the sync engine detects duplicate records. </p><p>Use this method during the negotiation state only, otherwise an exception is raised.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPullChangesForEntityName:">&#8211;&#xA0;shouldPullChangesForEntityName: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldReplaceAllRecordsOnClientForEntityName:">&#8211;&#xA0;shouldReplaceAllRecordsOnClientForEntityName: </a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientFinishedPushingChangesWithNextAnchors:" title="clientFinishedPushingChangesWithNextAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-SW1" title="clientFinishedPushingChangesWithNextAnchors:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_31"></a><h3 class="verytight">clientFinishedPushingChangesWithNextAnchors:</h3><p class="spaceabove">Sets the sync anchors for each entity whose records were successfully pushed by the client.</p><p class="spaceabovemethod">- (void)clientFinishedPushingChangesWithNextAnchors:(NSDictionary *)anchors</p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>anchors</em></dt><dd><p>The sync anchors for the entities that were successfully pushed to the sync engine.</p><p>The keys are the entity names and the values are the sync anchors. Sync anchors are globally unique <code>NSString</code> objects, typically containing a UUID or date.  If this parameter is <code>nil</code>, the client refresh syncs.</p><p>As a convenience, you may use the same sync anchor for all entities of a data class by specifying a sync anchor for only one entity in that data class. If you provide sync anchors for two or more entities per data class, then you need to specify sync anchors for all entities in that data class. A missing sync anchor for an entity causes that entity to refresh sync.</p></dd></dl><h5 class="tight">Discussion</h5><p>If you are using sync anchors, create a new sync anchor per entity or data class that is successfully pushed to the sync engine, store them locally, and invoke this method to register the new sync anchors with the sync engine. Then pass these new sync anchors to the sync engine at the beginning of the next sync by invoking either the <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code> or <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code> methods. An exception is raised if this method is invoked on a session that was not created using one of these methods.</p><p>Use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">clientCommittedAcceptedChangesWithNextAnchors:</a></code> method to change the sync anchors for entities that are successfully pulled.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.5 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability"><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionWithClient:entityNames:beforeDate:lastAnchors:">+&#xA0;beginSessionWithClient:entityNames:beforeDate:lastAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/clm/ISyncSession/beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:">+&#xA0;beginSessionInBackgroundWithClient:entityNames:target:selector:lastAnchors:</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChangesWithNextAnchors:">&#8211;&#xA0;clientCommittedAcceptedChangesWithNextAnchors:</a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientInfoForRecordWithIdentifier:" title="clientInfoForRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBJAFEB" title="clientInfoForRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_32"></a><h3 class="verytight">clientInfoForRecordWithIdentifier:</h3>
<p class="spaceabove">Returns a client-specific, nonprepsynchronized object that stores additional information about a record specified by <em>recordIdentifier</em>.</p><p class="spaceabovemethod">- (id)clientInfoForRecordWithIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>recordIdentifier</em></p>
<h5 class="tight">Discussion</h5><p>Returns <code>nil</code> if the record has no client information or doesn’t exist.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/setClientInfo:forRecordWithIdentifier:">&#8211;&#xA0;setClientInfo:forRecordWithIdentifier: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientLostRecordWithIdentifier:shouldReplaceOnNextSync:" title="clientLostRecordWithIdentifier:shouldReplaceOnNextSync:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBBEHJF" title="clientLostRecordWithIdentifier:shouldReplaceOnNextSync:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_33"></a><h3 class="verytight">clientLostRecordWithIdentifier:shouldReplaceOnNextSync:</h3>
<p class="spaceabove">Tells the sync engine that a record identified by <em>recordIdentifier</em>, no longer exists on the client, and indicates whether or not it should be replaced.</p><p class="spaceabovemethod">- (void)clientLostRecordWithIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>recordIdentifier</em> shouldReplaceOnNextSync:(BOOL)<em>flag</em></p>
<h5 class="tight">Discussion</h5><p>If this method is invoked during the pushing state and <em>flag</em> is <code>YES</code>, then the record is added during the subsequent pulling state in the same sync session. However, if this method is invoked during the pulling state (pushing has already taken place), it is added the next time the client syncs. </p><p>If <em>flag</em> is <code>NO</code>, the sync engine treats the record as if it had been filtered and does not send any more changes for the record. If invoked during the pulling state, this is equivalent to refusing a record using the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:">clientRefusedChangesForRecordWithIdentifier: </a></code> method.</p><p>Use this method if you inadvertently deleted a record when pushing or pulling changes. For example, use this method if the contacts on a phone device are full and the user must select a record to delete in order to add a record. The user’s only choice is to delete an existing record on the phone but they don’t want the record deleted from the Address Book on their computer.</p><p>You can use this method during the pulling and pushing state.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/deleteRecordWithIdentifier:">&#8211;&#xA0;deleteRecordWithIdentifier: </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:">&#8211;&#xA0;clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientRefusedChangesForRecordWithIdentifier:" title="clientRefusedChangesForRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBCGHAE" title="clientRefusedChangesForRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_34"></a><h3 class="verytight">clientRefusedChangesForRecordWithIdentifier:</h3>
<p class="spaceabove">Informs the sync engine during the pulling state that the client has refused to apply the changes for the record specified by <em>recordIdentifier</em>.</p><p class="spaceabovemethod">- (void)clientRefusedChangesForRecordWithIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>recordIdentifier</em></p>
<h5 class="tight">Discussion</h5> <p>This method applies only to add and modify changes, not deletes. After invoking this method, the sync engine does not send the same change during any subsequent syncs unless the record is modified. Refusing a record does not change the local identifier mapping for the client. Invoking this method does not affect other clients participating in the same sync session.</p><p>Note that if a client refresh syncs, the entire client store is wiped out, so any previously refused records are reapplied to the client. Use filtering if you want to permanently ignore some records. Do not use this method if you want to refuse deletes. Instead push the records that you want to keep during the next sync session.</p><p>Use this method during the pulling state only, otherwise an exception is raised.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier:">&#8211;&#xA0;clientAcceptedChangesForRecordWithIdentifier:formattedRecord:newRecordIdentifier: </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientCommittedAcceptedChanges">&#8211;&#xA0;clientCommittedAcceptedChanges </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientLostRecordWithIdentifier:shouldReplaceOnNextSync:">&#8211;&#xA0;clientLostRecordWithIdentifier:shouldReplaceOnNextSync: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/clientWantsToPushAllRecordsForEntityNames:" title="clientWantsToPushAllRecordsForEntityNames:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBEAIGG" title="clientWantsToPushAllRecordsForEntityNames:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_35"></a><h3 class="verytight">clientWantsToPushAllRecordsForEntityNames:</h3>
<p class="spaceabove">Forces a slow sync of all the records for the specified entities.</p><p class="spaceabovemethod">- (void)clientWantsToPushAllRecordsForEntityNames:(<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)<em>entityNames</em></p>
<h5 class="tight">Discussion</h5><p>The <!--a  -->entityNames<!--/a--> array can contain a subset of the supported entity names. A <strong>slow sync</strong> is when the client pushes all of its records to the sync engine, and the sync engine determines, by comparing records, what changes need to be applied and pushed to the client. By default, the sync engine assumes the client is <strong>fast syncing</strong> and expects the client to push only the changes to records since the last sync (added, modified, and deleted records). Use this method if you want to change this default behavior by forcing a slow sync. For example, if the client can’t determine what records changed.</p><p>Use this method during the negotiation state only, otherwise an exception is raised.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:">&#8211;&#xA0;shouldPushAllRecordsForEntityName: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushChangesForEntityName:">&#8211;&#xA0;shouldPushChangesForEntityName: </a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/deleteRecordWithIdentifier:" title="deleteRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBEGCAG" title="deleteRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_36"></a><h3 class="verytight">deleteRecordWithIdentifier:</h3>
<p class="spaceabove">Creates a delete change for the record specified by <em>recordIdentifier</em> and pushes the change to the sync engine.</p><p class="spaceabovemethod">- (void)deleteRecordWithIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>recordIdentifier</em></p>
<h5 class="tight">Discussion</h5><p>Use this method during the negotiation state or pushing state only, otherwise an exception is raised. Invoking this method in the negotiation state transitions the receiver to the pushing state.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChange:">&#8211;&#xA0;pushChange: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChangesFromRecord:withIdentifier:">&#8211;&#xA0;pushChangesFromRecord:withIdentifier: </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientLostRecordWithIdentifier:shouldReplaceOnNextSync:">&#8211;&#xA0;clientLostRecordWithIdentifier:shouldReplaceOnNextSync: </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:">&#8211;&#xA0;shouldPushAllRecordsForEntityName: </a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/finishSyncing" title="finishSyncing"></a><a name="//apple_ref/doc/uid/TP40001683-CJBBBICA" title="finishSyncing"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_37"></a><h3 class="verytight">finishSyncing</h3>
<p class="spaceabove">Tells the sync engine that the client is done syncing. Invoking this method closes any open transactions in the pushing or pulling states.</p><p class="spaceabovemethod">- (void)finishSyncing</p>
<h5 class="tight">Discussion</h5><p>You must invoke this method to cleanly terminate the session.</p><p>Use this method at any time but the receiver should be released soon afterwards since you cannot continue using a finished session. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/cancelSyncing">&#8211;&#xA0;cancelSyncing</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/isCancelled">&#8211;&#xA0;isCancelled</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/SeeMyFriends/index.html#//apple_ref/doc/uid/DTS10003683" target="_top">SeeMyFriends</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/StickiesExample/index.html#//apple_ref/doc/uid/DTS10003637" target="_top">StickiesExample</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/isCancelled" title="isCancelled"></a><a name="//apple_ref/doc/uid/TP40001683-CJBHBEJC" title="isCancelled"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_38"></a><h3 class="verytight">isCancelled</h3>
<p class="spaceabove">Returns <code>YES</code> if the receiver was canceled, <code>NO</code> otherwise.</p><p class="spaceabovemethod">- (BOOL)isCancelled</p>
<h5 class="tight">Discussion</h5><p>You cannot continue using a canceled session.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/cancelSyncing">&#8211;&#xA0;cancelSyncing</a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/finishSyncing">&#8211;&#xA0;finishSyncing</a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/prepareToPullChangesForEntityNames:beforeDate:" title="prepareToPullChangesForEntityNames:beforeDate:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBBAFJD" title="prepareToPullChangesForEntityNames:beforeDate:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_39"></a><h3 class="verytight">prepareToPullChangesForEntityNames:beforeDate:</h3>
<p class="spaceabove">Moves the receiver to the mingling state and returns when the sync engine is ready for the client to begin pulling changes to the specified entities.</p><p class="spaceabovemethod">- (BOOL)prepareToPullChangesForEntityNames:(<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)<em>entityNames</em> beforeDate:(<a href="../../../../Foundation/Classes/NSDate_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDate" target="_top">NSDate</a> *)<em>date</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>entityNames</em></dt><dd><p>The entity names to use in the pulling phase. Can be a subset of the supported entity names.</p></dd><dt><em>date</em></dt><dd><p>The date/time that the client is willing to wait for the mingling process to complete.</p></dd></dl><h5 class="tight">Return Value</h5><p>Returns <code>NO</code> if <em>date</em> expires before the sync engine is ready for the client to begin pulling changes, <code>YES</code> otherwise. If this method returns <code>NO</code>, the pushed changes and sync anchors are saved but not applied until the next time the client syncs.  If this method returns <code>NO</code>, you can invoke it multiple times until it returns <code>YES</code> or the sync session is canceled or finished. If this method returns <code>YES</code>, the mingling state ends.</p>
<h5 class="tight">Discussion</h5><p>Invoke this method after you have finished pushing changes to the sync engine and want to begin pulling changes.</p><p>This method raises an exception if validation errors occur when saving pushed changes or the sync session is canceled. Similar to this method returning <code>NO</code>, when an <code><a href="Reference.html#//apple_ref/c/econst/ISyncSessionCancelledException" target="_top">ISyncSessionCancelledException</a></code> exception is raised, the pushed changes and anchors are saved but not applied until the next sync. If a validation exception is raised, the pushed changes and anchors are not saved. If you pass a zero delay, <code>[Date date]</code>, as the <em>date</em> parameter, you can use this method to validate your pushed changes.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesInBackgroundForEntityNames:target:selector:">&#8211;&#xA0;prepareToPullChangesInBackgroundForEntityNames:target:selector:</a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/SeeMyFriends/index.html#//apple_ref/doc/uid/DTS10003683" target="_top">SeeMyFriends</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/prepareToPullChangesInBackgroundForEntityNames:target:selector:" title="prepareToPullChangesInBackgroundForEntityNames:target:selector:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBJFFIH" title="prepareToPullChangesInBackgroundForEntityNames:target:selector:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_40"></a><h3 class="verytight">prepareToPullChangesInBackgroundForEntityNames:target:selector:</h3>
<p class="spaceabove">Moves the receiver to the mingling state and sends a message to a specified target when the sync engine is ready for the client to begin pulling changes to the specified entities.</p><p class="spaceabovemethod">- (void)prepareToPullChangesInBackgroundForEntityNames:(<a href="../../../../Foundation/Classes/NSArray_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSArray" target="_top">NSArray</a> *)<em>entityNames</em> target:(id)<em>target</em>  selector:(SEL)<em>selector</em></p><h5 class="tight">Parameters</h5><dl class="termdef"><dt><em>entityNames</em></dt><dd><p>The entity names to use in the pulling phase. Can be a subset of the supported entity names.</p></dd><dt><em>target</em></dt><dd><p>The object to send <em>selector</em> to when the mingling process is complete.</p></dd><dt><em>selector</em></dt><dd><p>The message to send to <em>target</em> when the mingling process is complete. The <em>selector</em> method is passed two parameters: The first parameter is the <code>ISyncClient</code> object and the second parameter is the <code>ISyncSession</code> object. </p></dd></dl>
<h5 class="tight">Discussion</h5><p>Use this method during the pushing state to transition to the mingling state. The mingling state ends when <em>selector</em> is sent to <em>target</em>. Use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/cancelSyncing">cancelSyncing</a></code> method to cancel this method and the entire sync session. If the session is canceled, <em>selector</em> is sent to <em>target</em> passing <code>nil</code> as the <code>ISyncSession</code> object. This method may raise and exception before returning if a validation error occurs.</p><div class="notebox"><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_17" title="Note"></a><p><strong>Note:</strong>&nbsp;<code>ISyncSession</code> is not thread-safe. You can pass an <code>ISyncSession</code> object between threads but you should not use it concurrently. Asynchronous callbacks from <code>ISyncSession</code> are delivered to any client thread that used any of the Sync Services methods.  The client is responsible for directing the callback to an appropriate thread.</p></div>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesForEntityNames:beforeDate:">&#8211;&#xA0;prepareToPullChangesForEntityNames:beforeDate: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/pushChange:" title="pushChange:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBFECEG" title="pushChange:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_41"></a><h3 class="verytight">pushChange:</h3>
<p class="spaceabove">Pushes changes made to a single record, specified by <em>change</em> , to the sync engine.</p><p class="spaceabovemethod">- (void)pushChange:(<a href="../../ISyncChange_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ISyncChange" target="_top">ISyncChange</a> *)<em>change</em></p>
<h5 class="tight">Discussion</h5><p>A client can push only one ISyncChange object per record. The <em>change</em> object encapsulates an add, modify, or delete record change. If the change is an add or modify, the <em>change</em> object can contain changes to multiple properties including deleting properties. The change is not actually pushed to the sync engine until the sync session leaves the pushing state.</p><p>When slow syncing, a client should push add changes only. When fast syncing, a client should push only the delta changes since the last time the client synced. These changes may include new records, modified records, and deleted records. </p><p>You can also delete records without creating an ISyncChange object using the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/deleteRecordWithIdentifier:">deleteRecordWithIdentifier: </a></code> method. Use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChangesFromRecord:withIdentifier:">pushChangesFromRecord:withIdentifier: </a></code> method if your client knows a record changed but doesn’t keep track of individual property changes.</p><p>Use this method during the negotiation or pushing state only, otherwise an exception is raised. Invoking this method during the negotiation state transitions to the pushing state.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:">&#8211;&#xA0;shouldPushAllRecordsForEntityName: </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushChangesForEntityName:">&#8211;&#xA0;shouldPushChangesForEntityName: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/pushChangesFromRecord:withIdentifier:" title="pushChangesFromRecord:withIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBGAGFI" title="pushChangesFromRecord:withIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_42"></a><h3 class="verytight">pushChangesFromRecord:withIdentifier:</h3>
<p class="spaceabove">Compares <em>record</em> to the client’s previous known state of the record, identified by <em>recordIdentifier</em>, and pushes the changes to the sync engine.</p><p class="spaceabovemethod">- (void)pushChangesFromRecord:(<a href="../../../../Foundation/Classes/NSDictionary_Class/Reference/Reference.html#//apple_ref/doc/c_ref/NSDictionary" target="_top">NSDictionary</a> *)<em>record</em> withIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>recordIdentifier</em></p>
<h5 class="tight">Discussion</h5><p>Use this method if you know a record changed but don’t know what properties changed. Otherwise, use the <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChange:">pushChange: </a></code> method to specify the exact property changes made to this record.</p><p>Use this method during the negotiation or pushing state only, otherwise an exception is raised. Invoking this method during the negotiation state transitions to the pushing state.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:">&#8211;&#xA0;shouldPushAllRecordsForEntityName: </a></code></li>
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushChangesForEntityName:">&#8211;&#xA0;shouldPushChangesForEntityName: </a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/setClientInfo:forRecordWithIdentifier:" title="setClientInfo:forRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBIGGFH" title="setClientInfo:forRecordWithIdentifier:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_43"></a><h3 class="verytight">setClientInfo:forRecordWithIdentifier:</h3>
<p class="spaceabove">Associates a client-specific, non synchronized object, <em>clientInfo</em>, to a record specified by <em>recordIdentifier</em> .</p><p class="spaceabovemethod">- (void)setClientInfo:(id &lt;<a href="../../../../Foundation/Protocols/NSCoding_Protocol/Reference/Reference.html#//apple_ref/occ/intf/NSCoding" target="_top">NSCoding</a>>)<em>clientInfo</em> forRecordWithIdentifier:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>recordIdentifier</em></p>
<h5 class="tight">Discussion</h5><p>The <em>clientInfo</em> parameter can be any object that conforms to the NSCoding protocol, and are deleted when the record is deleted. Pass <code>nil</code> for <em>clientInfo</em> to remove a previously set client information object. Use this method to store additional information with a record. </p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientInfoForRecordWithIdentifier:">&#8211;&#xA0;clientInfoForRecordWithIdentifier: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/shouldPullChangesForEntityName:" title="shouldPullChangesForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBHJGJI" title="shouldPullChangesForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_44"></a><h3 class="verytight">shouldPullChangesForEntityName:</h3>
<p class="spaceabove">Returns <code>YES</code> if the client should pull changes to records for <em>entityName</em>, <code>NO</code> otherwise.</p><p class="spaceabovemethod">- (BOOL)shouldPullChangesForEntityName:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em></p>
<h5 class="tight">Discussion</h5><p>However, a return value of <code>YES</code>, doesn’t imply the sync engine has changes for the entity. The sync engine doesn’t know if there are any changes until after the mingling state. Use this method to determine if the client should try to pull changes for <em>entityName</em>. You can invoke this method at any time.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldReplaceAllRecordsOnClientForEntityName:">&#8211;&#xA0;shouldReplaceAllRecordsOnClientForEntityName: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:">&#8211;&#xA0;clientDidResetEntityNames: </a></code></li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../../../samplecode/People/index.html#//apple_ref/doc/uid/DTS10003615" target="_top">People</a></span></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:" title="shouldPushAllRecordsForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBDHHDI" title="shouldPushAllRecordsForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_45"></a><h3 class="verytight">shouldPushAllRecordsForEntityName:</h3>
<p class="spaceabove">Returns <code>YES</code> if the client should push all the records for <em>entityName</em> to the sync engine; otherwise, <code>NO</code>.</p><p class="spaceabovemethod">- (BOOL)shouldPushAllRecordsForEntityName:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em></p>
<h5 class="tight">Discussion</h5><p>For example, returns <code>YES</code> if you previously sent <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientWantsToPushAllRecordsForEntityNames:">clientWantsToPushAllRecordsForEntityNames: </a></code> or <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:">clientDidResetEntityNames: </a></code>to the session to force a slow sync. This method also returns <code>YES</code> if the sync engine decides to slow sync <em>entityName</em>. If this method returns <code>NO</code>, the client should only push changes made since the last sync. You can invoke this method at any time.</p><div class="warningbox"><img src="../../../../../../Resources/Images/icon_warning.gif" alt="!" width="20" height="20" border="0" class="warningicon" /><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_18" title="Warning:"></a><p><strong>Warning:</strong>&nbsp;If this method returns <code>YES</code> and the client does not push a record that the client was known to have on the last sync, the sync engine assumes the record was deleted and deletes it from the truth.</p><p></p><div class="clear"></div></div>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushChangesForEntityName:">&#8211;&#xA0;shouldPushChangesForEntityName: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChange:">&#8211;&#xA0;pushChange: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/pushChangesFromRecord:withIdentifier:">&#8211;&#xA0;pushChangesFromRecord:withIdentifier: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/deleteRecordWithIdentifier:">&#8211;&#xA0;deleteRecordWithIdentifier: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/shouldPushChangesForEntityName:" title="shouldPushChangesForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBJCGFI" title="shouldPushChangesForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_46"></a><h3 class="verytight">shouldPushChangesForEntityName:</h3>
<p class="spaceabove">Returns <code>YES</code> if the client should push changes to records for <em>entityName</em> since the last sync, <code>NO</code> otherwise.</p><p class="spaceabovemethod">- (BOOL)shouldPushChangesForEntityName:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em></p>
<h5 class="tight">Discussion</h5><p>For example, this method returns <code>NO</code> if you previously sent <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/setShouldReplaceClientRecords:forEntityNames:" target="_top">setShouldReplaceClientRecords:forEntityNames:</a></code> to the client for this session passing <code>YES</code> as the <em>flag</em> parameter. If this method returns <code>NO</code>. the sync engine does not accept any changes from the client for this entity. You can invoke this method at any time.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPushAllRecordsForEntityName:">&#8211;&#xA0;shouldPushAllRecordsForEntityName: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientWantsToPushAllRecordsForEntityNames:">&#8211;&#xA0;clientWantsToPushAllRecordsForEntityNames: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/shouldReplaceAllRecordsOnClientForEntityName:" title="shouldReplaceAllRecordsOnClientForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-CJBBACGD" title="shouldReplaceAllRecordsOnClientForEntityName:"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_47"></a><h3 class="verytight">shouldReplaceAllRecordsOnClientForEntityName:</h3>
<p class="spaceabove">Returns <code>YES</code> if the client should delete all the records for the entity, specified by <em>entityName</em>, and replace them with records pulled from the sync engine, <code>NO</code> otherwise.</p><p class="spaceabovemethod">- (BOOL)shouldReplaceAllRecordsOnClientForEntityName:(<a href="../../../../Foundation/Classes/NSString_Class/Reference/NSString.html#//apple_ref/doc/c_ref/NSString" target="_top">NSString</a> *)<em>entityName</em></p>
<h5 class="tight">Discussion</h5><p>Send <code><a href="../../ISyncClient_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncClient/setShouldReplaceClientRecords:forEntityNames:" target="_top">setShouldReplaceClientRecords:forEntityNames:</a></code> to the client for this session to request a different behavior.</p><p>You can invoke this method at any time. However, you should not delete the local client data until the session enters the pulling state (after <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/prepareToPullChangesForEntityNames:beforeDate:">prepareToPullChangesForEntityNames:beforeDate: </a></code> returns). Otherwise, if the session is canceled prematurely, the client may be left in an non synchronized state with no data.</p>
<h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">See Also</h5><ul class="availability">
<li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/shouldPullChangesForEntityName:">&#8211;&#xA0;shouldPullChangesForEntityName: </a></code></li><li class="availability">  <code><a href="Reference.html#//apple_ref/occ/instm/ISyncSession/clientDidResetEntityNames:">&#8211;&#xA0;clientDidResetEntityNames: </a></code></li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code><a name="//apple_ref/occ/instm/ISyncSession/snapshotOfRecordsInTruth" title="snapshotOfRecordsInTruth"></a><a name="//apple_ref/doc/uid/TP40001683-CJBBCCJG" title="snapshotOfRecordsInTruth"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_48"></a><h3 class="verytight">snapshotOfRecordsInTruth</h3>
<p class="spaceabove">Returns an immutable snapshot of the records in the truth database.</p><p class="spaceabovemethod">- (<a href="../../ISyncRecordSnapshot_Class/Reference/Reference.html#//apple_ref/doc/c_ref/ISyncRecordSnapshot" target="_top">ISyncRecordSnapshot</a> *)snapshotOfRecordsInTruth</p>
<h5 class="tight">Discussion</h5><p>Use this method if you are syncing and want a snapshot that is consistent with the sync session. Otherwise, you can create a snapshot at any time using the <code><a href="../../ISyncManager_Class/Reference/Reference.html#//apple_ref/occ/instm/ISyncManager/snapshotOfRecordsInTruthWithEntityNames:usingIdentifiersForClient:" target="_top">snapshotOfRecordsInTruthWithEntityNames:usingIdentifiersForClient:</a></code> ISyncManager method. Snapshots are useful if you want to compare records or perform queries.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.4 and later.</li></ul><h5 class="tight">Declared In</h5><code>ISyncSession.h</code>
<a name="//apple_ref/doc/uid/TP40001683-43630" title="Constants"></a><a name="//apple_ref/doc/uid/TP40001683-BBCHHFBA" title="Constants"></a><h2>Constants</h2>
<p class="spaceabove">This constant is a key used by a record pushed to the sync engine.</p>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><p><strong>Constant</strong></p></th><th scope="col" align="left"><p><strong>Description</strong></p></th></tr>

<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncRecordEntityNameKey" title="ISyncRecordEntityNameKey"></a><a name="//apple_ref/doc/c_ref/ISyncRecordEntityNameKey" title="ISyncRecordEntityNameKey"></a><a name="//apple_ref/doc/uid/TP40001683-BCIFFHJJ" title="ISyncRecordEntityNameKey"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_49"></a><span class="content_text"><code>ISyncRecordEntityNameKey</code></span></td><td><p>Each record pushed to the sync engine must have a value for this key that specifies the record’s entity name.</p></td></tr>


</table></div>

<p class="spaceabove">These are the exceptions that might be thrown by ISyncSession methods during a sync.</p>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><p><strong>Constant</strong></p></th><th scope="col" align="left"><p><strong>Description</strong></p></th></tr>

<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionCancelledException" title="ISyncSessionCancelledException"></a><a name="//apple_ref/doc/c_ref/ISyncSessionCancelledException" title="ISyncSessionCancelledException"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_50"></a><span class="content_text"><code>ISyncSessionCancelledException</code></span></td><td><p>Thrown by any method if invoked after the session was canceled.</p></td></tr>



<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncSessionUnavailableException" title="ISyncSessionUnavailableException"></a><a name="//apple_ref/doc/c_ref/ISyncSessionUnavailableException" title="ISyncSessionUnavailableException"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_51"></a><span class="content_text"><code>ISyncSessionUnavailableException</code></span></td><td><p>Thrown if a session cannot be created, for example, if a client is already syncing.</p></td></tr>



<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncInvalidEntityException" title="ISyncInvalidEntityException"></a><a name="//apple_ref/doc/c_ref/ISyncInvalidEntityException" title="ISyncInvalidEntityException"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_52"></a><span class="content_text"><code>ISyncInvalidEntityException</code></span></td><td><p>Thrown if a client tries creating a session with an entity that does not exist.</p></td></tr>



<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncUnsupportedEntityException" title="ISyncUnsupportedEntityException"></a><a name="//apple_ref/doc/c_ref/ISyncUnsupportedEntityException" title="ISyncUnsupportedEntityException"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_53"></a><span class="content_text"><code>ISyncUnsupportedEntityException</code></span></td><td><p>Thrown if a client tries creating a session with an entity that exists but the client does not support.</p></td></tr>



<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncInvalidRecordException" title="ISyncInvalidRecordException"></a><a name="//apple_ref/doc/c_ref/ISyncInvalidRecordException" title="ISyncInvalidRecordException"></a><a name="//apple_ref/doc/uid/TP40001683-CJBBGBBI" title="ISyncInvalidRecordException"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_54"></a><span class="content_text"><code>ISyncInvalidRecordException</code></span></td><td><p>Thrown if a client pushes a malformed record.</p></td></tr>


</table></div>

<p class="spaceabove">These keys are used in the <em>userInfo</em> dictionary when a <code><a href="Reference.html#//apple_ref/c/econst/ISyncInvalidRecordException">ISyncInvalidRecordException</a></code> exception is raised.</p>

<div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><tr><th scope="col" align="left"><p><strong>Constant</strong></p></th><th scope="col" align="left"><p><strong>Description</strong></p></th></tr>

<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncInvalidRecordIdentifiersKey" title="ISyncInvalidRecordIdentifiersKey"></a><a name="//apple_ref/doc/c_ref/ISyncInvalidRecordIdentifiersKey" title="ISyncInvalidRecordIdentifiersKey"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_55"></a><span class="content_text"><code>ISyncInvalidRecordIdentifiersKey</code></span></td><td><p>An array of the record identifiers that raised the exception.</p></td></tr>



<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncInvalidRecordReasonsKey" title="ISyncInvalidRecordReasonsKey"></a><a name="//apple_ref/doc/c_ref/ISyncInvalidRecordReasonsKey" title="ISyncInvalidRecordReasonsKey"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_56"></a><span class="content_text"><code>ISyncInvalidRecordReasonsKey</code></span></td><td><p>A dictionary where keys are the invalid record identifies and the values are the reasons for the exception.</p></td></tr>



<tr><td scope="row"><a name="//apple_ref/c/econst/ISyncInvalidRecordsKey" title="ISyncInvalidRecordsKey"></a><a name="//apple_ref/doc/c_ref/ISyncInvalidRecordsKey" title="ISyncInvalidRecordsKey"></a><a name="//apple_ref/doc/uid/TP40001683-DontLinkElementID_57"></a><span class="content_text"><code>ISyncInvalidRecordsKey</code></span></td><td><p>A dictionary where the keys are the invalid record identifiers and the values are the property keys that raised the exception.</p></td></tr>


</table></div>





























        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/History.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-11-19<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Cocoa/Reference/SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html%3Fid%3DTP40004414-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Cocoa/Reference/SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html%3Fid%3DTP40004414-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Cocoa/Reference/SyncServicesFramework/Classes/ISyncSession_Class/Reference/Reference.html%3Fid%3DTP40004414-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>