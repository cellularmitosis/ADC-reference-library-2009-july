<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Java 1.3.1 Development for Mac OS X (Legacy): Deployment Options</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Deployment Options"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30000706" title="Deployment Options"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30000440-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../LegacyTechnologies/Java-date.html#//apple_ref/doc/uid/TP30000440-TP30000470-TP30000528" target="_top">Java</a> &gt; <a href="../about/about.html#//apple_ref/doc/uid/TP30000704-DontLinkElementID_24">Java 1.3.1 Development for Mac OS X (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../overview/overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tools/tools.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_26" title="Deployment Options"></a><h1><a name="//apple_ref/doc/uid/TP30000706-BCIGJBIE" title="Deployment Options"></a>Deployment Options</h1><p>There are basically four different distribution methods for Java applications in Mac OS X. You can distribute your applications as a JAR file, a Mac OS X Java application, a Java Web Start application, or an applet. They each have different benefits as outlined in the following sections.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="deploying.html#//apple_ref/doc/uid/TP30000706-TPXREF109">Distributing Your Application as a JAR File</a>
				
			<br/>
			
        
			
			
				<a href="deploying.html#//apple_ref/doc/uid/TP30000706-TPXREF102">Mac OS X Java Applications</a>
				
			<br/>
			
        
			
			
				<a href="deploying.html#//apple_ref/doc/uid/TP30000706-TPXREF108">Java Web Start</a>
				
			<br/>
			
        
			
			
				<a href="deploying.html#//apple_ref/doc/uid/TP30000706-TPXREF101">Applets</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30000706-TPXREF109" title="Distributing Your Application as a JAR File"></a><h2>Distributing Your Application as a JAR File</h2><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_129"></a><p>The most basic distribution method for your Java applications is as a JAR file. It is the simplest way for you as a developer since it requires very little, if any, changes from the JAR files you distribute on other platforms. It does though, have drawbacks for the end user. The major drawback being that Swing applications look out of place with their odd application names in the menu bar and generic Java icons in the dock. Considering this alone, deploying your application from a JAR file is not recommended on Mac OS X if your application has a graphical interface and will be run by general users. </p><p>If you do choose to deploy your application from a JAR file on Mac OS X, it is important to remember to include in your JAR file a valid manifest file that declares the class that contains the <code>main</code> method. <a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_130"></a>Without one, users will have to resort to launching your application from the command line. This will seem very outdated for users whose platform has let them launch an application simply by double-clicking it for almost twenty years!</p><p>If you do not have the class with <code>main</code> declared in your JAR file a simple way to fix this is as follows:</p><ol class="ol"><li class="li"><p>Unarchive your JAR file into a working directory with some variant of <code>jar xvf </code><em>myjar</em><code>.jar</code></p></li><li class="li"><p>In the <code>META-INF</code> directory is a <code>MANIFEST.MF</code> file. Copy that file and add a line that begins with <code>Main-Class:</code> followed by the name of your <code>main</code> class, for example, <code>Main-Class: HelloWorld</code>.</p></li><li class="li"><p>Archive you files again but this time use the <code>-m</code> option to <code>jar</code> and designate the relative path to the manifest file you just modified, for example, <code>jar cmf </code><em>YourModifiedManifestFile</em><code>.txt</code><em>YourJARFile</em><code>.jar</code><code>*.class</code></p></li></ol><p>This is a very basic example that does not take into account more advanced uses of the <code>jar</code> program. More detailed information on adding a manifest to a JAR file can be found in the <code>jar(1)</code> man page. From Project Builder, choose “Open man page” from the Help menu. (In Terminal, type <code>man jar</code> .<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_131"></a>)</p><a name="//apple_ref/doc/uid/TP30000706-TPXREF102" title="Mac OS X Java Applications"></a><h2>Mac OS X Java Applications</h2><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_132"></a><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_133"></a>Native Mac OS X applications include more than just the executable code. They also include images, sounds, icons, localizable strings, and other resources that the application may use. They might even include executables for different versions of the operating system. The applications that are visible in the Finder are actually directories that hold the executable code and the relevant resources. This directory structure is hidden from view in the Finder by the <code>.app</code> suffix and a specific bit that is set for that directory. Such a directory is often referred to as a Mac OS X application bundle. More information on Mac OS X application bundles is available in <em>Inside Mac OS X: System Overview</em><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_134"></a>. Since the J2SE platform includes ways to deal with many of these other things, you might not need the full functionality of a Mac OS X application. There are, however, some things that you gain by wrapping your pure Java JAR file into an application bundle, and it is very simple to do.</p><p>Overall, it provides a better user experience for your users, helping your application to integrate more closely with native Mac OS X applications. Specific benefits include these:</p><ul class="ul"><li class="li"><p>Users can simply double-click the application to launch it.</p></li><li class="li"><p>If you add an appropriate icon, it shows the application icon in the Dock, clearly identifying your application. Otherwise, a default Java icon appears in the Dock.</p></li><li class="li"><p>It lets you set specific system properties that can make your Java application hard to distinguish from a native application.</p></li><li class="li"><p>You can bind specific document types to your application. This will allow users to launch your application by double clicking a document associated with it.</p></li></ul><p>MRJAppBuilder, discussed in more detail in <span class="content_text"><a href="../tools/tools.html#//apple_ref/doc/uid/TP30000707-TPXREF106">“MRJAppBuilder”</a></span> and <span class="content_text"><a href="../MRJAppBuilderTutorial/MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-TPXREF101">“MRJAppBuilder Tutorial,”</a></span> helps you easily bundle your existing Java application as a Mac OS X Java application.</p><a name="//apple_ref/doc/uid/TP30000706-BCIJBDJB" title="Application Bundles"></a><h3>Application Bundles</h3><p>What users see as an application in Mac OS X is actually a bundle of resources to a developer. To get a glimpse inside an application on Mac OS X, you can either explore the directory of resources from the Terminal or from the Finder. Although by default the Finder displays applications as a single object, you can view the true makeup of any application in the Finder. To see what is contained inside a standard application bundle, Control-click any application and choose Show Package Contents as in <span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BAJEEDCD">Figure 3-1</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_27" title="Figure 3-1Show application bundle contents"></a><p><a name="//apple_ref/doc/uid/TP30000706-BAJEEDCD" title="Figure 3-1Show application bundle contents"></a><strong>Figure 3-1&nbsp;&nbsp;</strong>Show application bundle contents</p><img src = "../art/showpkgcontents.gif" alt = "Show application bundle contents" width="414" height="256"></div><br/><p>You should see something like <span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BCIDDBHA">Figure 3-2</a></span>. </p><br/><div><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_28" title="Figure 3-2Contents of a Java application bundle"></a><p><a name="//apple_ref/doc/uid/TP30000706-BCIDDBHA" title="Figure 3-2Contents of a Java application bundle"></a><strong>Figure 3-2&nbsp;&nbsp;</strong>Contents of a Java application bundle</p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_135"></a><img src = "../art/appbundlecontents_sm.gif" alt = "Contents of a Java application bundle" width="238" height="221"></div><br/><p>Notice some important details:</p><ul class="spaceabove"><li class="li"><p>Mac OS X expects to see an <code>Info.plist</code> file in the Contents folder. In the case of a Java application, this contains some important information that Mac OS X uses to set up the Java runtime environment for your application. More information about these property lists is in <span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BCIIJDCI">“Property List Attributes for Java Applications”</a></span></p></li><li class="li"><p>If you have an icon that should be displayed in the Mac OS X Finder, put it in the Resources folder. There is a Mac OS X–specific file type designated by the <code>.icns</code> suffix, but most common image types work. To make an icon (<code>.icns</code>) file from your images, use the Icon Composer application installed in <code>/Developer/Applications</code> with the Mac OS X Developer Tools.</p></li><li class="li"><p>Your Java code, in either JAR or <code>.class</code> files is put into <code>Resources/Java</code>. This is launched by a native executable file in the MacOS folder.</p></li></ul><p> There are other files in the application bundle, but the specific ones mentioned are the ones you probably care most about as a Java developer. You can learn more about the other files an application bundle in <em>Inside Mac OS X: System Overview</em>.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_136"></a></p><a name="//apple_ref/doc/uid/TP30000706-BCIIJDCI" title="Property List Attributes for Java Applications"></a><h3>Property List Attributes for Java Applications</h3><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_137"></a>Mac OS X makes extensive use of XML files for various system settings. These are called property lists and have a <code>.plist</code> extension. The <code>Info.plist</code> file in the Contents folder of a Mac OS X application is one such property list. If you build your Java application in Project Builder or MRJAppBuilder, this file is automatically generated for you. Even if it is built for you, there may be times when you may want to modify it. Since it is a simple XML file, you can modify it with any text editor. Its settings will be read the next time you launch your application from the Finder. An example property list for a Java application is shown in <span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BCIJABEF">Listing 3-1</a></span>.</p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_29" title="Listing 3-1Info.plist file for simple Java application"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP30000706-BCIJABEF" title="Listing 3-1Info.plist file for simple Java application"></a><strong>Listing 3-1&nbsp;&nbsp;</strong><code>Info.plist</code> file for simple Java application</p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_138"></a><div class="codesample"><table><tr><td scope="row"><pre>&lt;?xml version="1.0" encoding="UTF-8"?><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;plist version="1.0"><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFBundleDevelopmentRegion&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>English&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFBundleExecutable&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>SampleApp&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFBundleIconFile&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>SampleApp.icns&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFBundleInfoDictionaryVersion&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>6.0&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFBundlePackageType&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>APPL&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFBundleSignature&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>????&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>CFBundleVersion&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;string>0.1&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;key>Java&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>ClassPath&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>$JAVAROOT/SampleApp.jar&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>MainClass&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;string>SampleApp&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;key>Properties&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;dict><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>com.apple.macos.useScreenMenuBar&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>true&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;key>com.apple.mrj.application.apple.menu.about.name&lt;/key><span></span></pre></td></tr><tr><td scope="row"><pre>            &lt;string>SampleApp&lt;/string><span></span></pre></td></tr><tr><td scope="row"><pre>        &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>    &lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/dict><span></span></pre></td></tr><tr><td scope="row"><pre>&lt;/plist><span></span></pre></td></tr></table></div><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_139"></a>The property list is divided into hierarchical dictionaries. The top-level dictionary contains the information that the operating system needs to properly launch the application. The keys in this section are prefixed by CFBundle and are usually self explanatory. Where they are not, see the documentation in <em>Mac OS X Developer Release Notes: Information Property List</em> and <em>Inside Mac OS X: System Overview</em>. </p><p>At the end of the CFBundle keys, a <code>Java</code> key designates the beginning of a Java dictionary. The two top-level keys in the Java dictionary are required in the property list of a Java application bundle. They are defined as follows:</p><ul class="spaceabove"><li class="li"><p><code>MainClass</code>, corresponds to the <code>com.apple.mrj.application.main</code> system property. The string value for this key should specify the fully qualified class name for the class containing you application’s <code>main</code> method.</p></li><li class="li"><p><code>ClassPath</code>, corresponds to the <code>com.apple.mrj.application.classpath</code> system property. The string value for this key should specify the fully qualified path to the directories where your class files are or to your JAR files.</p></li></ul><p>Aside from those two required keys, there are some optional keys that you can add here. They are described in <span class="content_text"><a href="../system_properties/system_properties.html#//apple_ref/doc/uid/TP30000712-TPXREF101">“Mac OS X Application Properties.”</a></span></p><p>The <code>Properties</code> sub dictionary of the Java dictionary contains keys that you pass to your Java applications from the command line with the <code>-D</code> option. For example, if you want to run this same application from the command line, you pass in the two keys, <code>com.apple.macos.usescreenmenubar</code> and <code>com.apple.mrj.application.apple.menu.about.name</code> as follows:</p><p><code>java -Dcom.apple.macos.useScreenMenuBar=true -Dcom.apple.mrj.application.apple.menu.about.name=SampleApp SampleApp</code></p><p>The keys in the <code>Properties</code> dictionary include both Mac OS X–specific options as well as general Java options. Mac OS X–specific keys and values that you may add to this dictionary of the property list are specified in <span class="content_text"><a href="../system_properties/system_properties.html#//apple_ref/doc/uid/TP30000712-TPXREF101">“Mac OS X Application Properties.”</a></span></p><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_140"></a>If you examine an application built with MRJAppBuilder, you might notice that some of the keys seem to be missing from the <code>Properties</code> dictionary. MRJAppBuilder uses a legacy style non-XML property list named MRJApp.properties in the <code>Contents/Resources</code> folder of an application bundle. This property list contains the same flags and system properties that you would normally find in Properties sub-dictionary (of the Java dictionary) in an Info.plist. In general, this list behaves like the Info.plist with a few exceptions:</p><ul class="spaceabove"><li class="li"><p>Arguments to <code>main()</code> may not contain embedded spaces. You can work around this by passing in such arguments to the Info.plist, though.</p></li><li class="li"><p>The <code>APP_PACKAGE</code> property is not expanded when used in <code>com.apple.mrj.application</code> parameters.</p></li><li class="li"><p> Additional command-line arguments designated in <code>MRJApp.properties</code> are ignored if the application is launched from the command line.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_141"></a></p></li></ul><a name="//apple_ref/doc/uid/TP30000706-TPXREF105" title="Setting the Java Runtime Properties for an Application Bundle"></a><h3>Setting the Java Runtime Properties for an Application Bundle</h3><p>Having seen the structure of the Mac OS X information property list should help you to debug your application and modify existing applications, but how do you generate that list in the first place? You could build application bundles by hand in the Terminal, write the <code>Info.plist</code> file yourself in a text editor, and designate the file as an application with the <code>SetFile</code> command-line tool. There are two much simpler solutions: Project Builder and MRJAppBuilder.</p><p>If you build a Java AWT or Swing application from one of Project Builder’s templates, Project Builder automatically generates a default <code>Info.plist</code> file. You may either modify this by hand or directly from Project Builder as outlined in <span class="content_text"><a href="../PBTutotial/PBTutorial.html#//apple_ref/doc/uid/TP30000710-TPXREF108">“Modifying the Application Parameters.”</a></span> If you want to turn your preexisting Java application into a Mac OS X Java Application, MRJAppBuilder is the tool for you. It allows you to take existing <code>.class</code> or JAR files and wrap the information around them that Mac OS X expects to find when launching a native application, including setting up the runtime properties of your Java application. A simple tutorial for MRJAppBuilder is available in <span class="content_text"><a href="../MRJAppBuilderTutorial/MRJAppBuilderTutorial.html#//apple_ref/doc/uid/TP30000711-TPXREF101">“MRJAppBuilder Tutorial.”</a></span> <span class="content_text"><a href="../PBTutotial/PBTutorial.html#//apple_ref/doc/uid/TP30000710-TPXREF101">“Project Builder Tutorial”</a></span> provides a tutorial on using Project Builder to build a Mac OS X native application.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_142"></a></p><a name="//apple_ref/doc/uid/TP30000706-TPXREF106" title="Setting Runtime Properties in Project Builder"></a><h4>Setting Runtime Properties in Project Builder</h4><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_143"></a><p>When you begin a new Java Swing or Java AWT application project in Project Builder, the <code>ClassPath</code> and <code>MainClass</code> properties are generated automatically. The <code>ClassPath</code> property is updated as you add and remove <code>.class</code> and <code>.jar</code> files. If you change the name of your <code>main</code> class or want to append values for any of the other properties available in <span class="content_text"><a href="../system_properties/system_properties.html#//apple_ref/doc/uid/TP30000712-TP1">“Mac OS X Java System Properties,”</a></span> you may do so by editing the target settings. Choose Edit Active Target from the Project menu. In the resulting window (or pane depending your settings) you can modify the settings in a more user-friendly manner than by editing the property list by hand. Some of the most common properties are set with a checkbox. Other properties are set in the Additional Properties and Additional VM Options fields.</p><a name="//apple_ref/doc/uid/TP30000706-TPXREF107" title="Setting Runtime Properties in MRJAppBuilder"></a><h4>Setting Runtime Properties in MRJAppBuilder</h4><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_144"></a><p>The Java Properties pane of MRJAppBuilder allows you to set Java runtime properties. The main and classpath fields are not editable. These values are derived from your settings in the Application pane. A default set of properties is already provided but it is simple to add more:</p><ol class="ol"><li class="li"><p>Click the Add button.</p></li><li class="li"><p>In the property field, put the name of the system property as specified in <span class="content_text"><a href="../system_properties/system_properties.html#//apple_ref/doc/uid/TP30000712-TP1">“Mac OS X Java System Properties.”</a></span></p></li><li class="li"><p>Fill in the appropriate value for that property.</p></li><li class="li"><p>The Description field can be left blank; its information will not be saved.</p></li></ol><p>When you build your application, you will see the specified settings in the <code>Info.plist</code> and <code>MRJApp.properties</code> files. <a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_145"></a></p><a name="//apple_ref/doc/uid/TP30000706-TPXREF108" title="Java Web Start"></a><h2>Java Web Start</h2><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_146"></a><p>Java Web Start provides yet another way you can distribute your Java applications on Mac OS X. Although not a standard part of Java 1.3.1, Mac OS X does provide Java Web Start with the default installation of the operating system. This is an implementation of the Java Network Launching Protocol &amp; API (JNLP) Specification, v1.0.1.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_147"></a> This means that if you choose to build JNLP-aware applications, Mac OS X users do not need to do anything to take advantage of them. They have access to your applications through the Web browser and the Java Web Start application (installed in <code>/Applications/Utilities/Java</code>). </p><p>By default, if a user launches a Java Web Start application more than twice from the same URL, they are prompted to save the application as a standard Mac OS X application, as shown in <span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BCIICCJA">Figure 3-3</a></span>. They are also prompted on where they want to save your application. The application is still a Java Web Start application, with all the benefits that offer, but it now easier for users to run your application since they do not have to launch a Web browser or the Java Web Start application.</p><br/><div><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_30" title="Figure 3-3Java Web Start integration"></a><p><a name="//apple_ref/doc/uid/TP30000706-BCIICCJA" title="Figure 3-3Java Web Start integration"></a><strong>Figure 3-3&nbsp;&nbsp;</strong>Java Web Start integration</p><img src = "../art/jwsdesktopintegration.gif" alt = "Java Web Start integration" width="378" height="118"></div><br/><p>The desktop integration setting can be changed in the Preferences of the Java Web Start application.</p><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_148"></a><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_149"></a>There are only a few details to be aware of in how the Mac OS X implementation of Java Web Start differs from the Windows and Solaris versions:</p><ul class="ul"><li class="li"><p>It does not support downloading of additional Java Runtime Environments (JREs). Mac OS X includes J2SE 1.3.1, so if your application specifically requires JRE 1.2 or 1.4, it will not work. Specifications for versions numbers that can expand to include 1.3.1 will work though, for example <em>1.2+</em> or <em>1.3+</em>.</p></li><li class="li"><p>It is s not necessary to set up proxy information explicitly in the Web Start application. Java Web Start in Mac OS X automatically picks up your proxy settings from the Network preference pane.</p></li><li class="li"><p>Java Web Start caches its data in the user’s <code>/Library/Caches/Java Web Start</code> directory.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_150"></a><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_151"></a><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_152"></a></p></li></ul><a name="//apple_ref/doc/uid/TP30000706-TPXREF101" title="Applets"></a><h2>Applets</h2><p>Applets have always been one of the most common deployment methods for Java. Mac OS X provides a robust environment for applet development through the use of Sun’s Java Plug-in. Applets use the same 1.3.1 VM that Java applications use. Their behavior should be similar to the behavior of Sun’s Java Plug-in. Of course as with all applet deployment, the host platform’s support for Java is only part of the story. How Web browsers interpret your HTML code to launch the applet is also key. This section gives you some relevant information for deploying your applets in Mac OS X. </p><a name="//apple_ref/doc/uid/TP30000706-TPXREF110" title="Accessing Mac OS X&acirc;&#128;&#147;Specific Properties From Applets"></a><h3>Accessing Mac OS X–Specific Properties From Applets</h3><p>Mac OS X includes some specific system properties that you might want to take advantage of in your applets. Except for the<code> com.apple.macos.useScreenMenuBar</code>, unsigned applets cannot access these properties. If you want to use any of the properties discussed in <span class="content_text"><a href="../system_properties/system_properties.html#//apple_ref/doc/uid/TP30000712-TP1">“Mac OS X Java System Properties,”</a></span> you can grant permission to access them by adding a line to your system-wide <code>java.policy</code> file located at <code>/Library/Java/Home/lib/security/</code>.</p><p>The line should be of the form:</p><p><code>java.util.PropertyPermission</code><em> systemPropertyName</em>, <code>read</code>;</p><a name="//apple_ref/doc/uid/TP30000706-TPXREF111" title="Java Applet Plug-in"></a><h3>Java Applet Plug-in</h3><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_153"></a>In previous versions of Mac OS X, applications that displayed applets, such as Web browsers, used the Mac OS X Java Embedding framework to embed the Java applets in the native application. This framework uses Sun’s reference <code>appletviewer</code> class not Sun’s Java Plug-in architecture. When this framework is used to display an applet, users miss out on the additional features of Sun’s Java Plug-in. Additionally applet behavior is dependent on how the browser maker uses the Java Embedding framework. </p><p>In Mac OS X version 10.2, browser developers may easily display applets with the Java Applet Plug-in architecture (<code>Java Applet.plugin</code>) without writing browser–specific code to use the Java Embedding framework. Mac OS X’s Java Applet Plug-in takes full advantage of Sun’s Java Plug-in. What this means to you is that if you want to deploy your Java applets on Mac OS X is that you should modify your HTML code so that your applets are be run through the new Java Applet Plug-in architecture and not the Java Embedding framework. </p><a name="//apple_ref/doc/uid/TP30000706-BAJHBGDA" title="Taking Advantage of the Java Applet Plug-in with HTML"></a><h4>Taking Advantage of the Java Applet Plug-in with HTML</h4><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_154"></a><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_155"></a>Although Sun encourages the use of the <code>&lt;APPLET></code> tag for all applets, this does not always give you the recommended behavior. For example, in some browsers, <code>&lt;APPLET></code> does not give you the full functionality of Sun’s Java Plug-in, while the <code>&lt;OBJECT></code> tag, which is mapped to the mime type <code>application/x-java-applet</code>, does. This is illustrated in <span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BAJEBEDB">Figure 3-4</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_31" title="Figure 3-4Effect of HTML tags in Mac OS X 10.2"></a><p><a name="//apple_ref/doc/uid/TP30000706-BAJEBEDB" title="Figure 3-4Effect of HTML tags in Mac OS X 10.2"></a><strong>Figure 3-4&nbsp;&nbsp;</strong>Effect of HTML tags in Mac OS X 10.2</p><img src = "../art/javatags.gif" alt = "Effect of HTML tags in Mac OS X 10.2" width="380" height="239"></div><br/><p><span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BAJEBEDB">Figure 3-4</a></span> shows the effect of the <code>&lt;APPLET></code> tag in comparison to the <code>&lt;EMBED></code> tag. You can see that the suggested <code>&lt;APPLET></code> tag has the desired results only in Mozilla/Netscape. To work around the different interpretations of the <code>&lt;APPLET></code> tag, you have a few options. You can just use the tag listed in <span class="content_text"><a href="deploying.html#//apple_ref/doc/uid/TP30000706-BCIJABEF">Listing 3-1</a></span> that invokes the Java Plug-in or you can use Sun’s HTML converter to get HTML that works in any browser. The converter is available at <span class="content_text"><a href="http://java.sun.com/products/plugin/1.3/docs/htmlconv.html" target="_blank">http://java.sun.com/products/plugin/1.3/docs/htmlconv.html</a></span>. Without changing anything, you should see the same applet behavior that you saw in previous versions of Mac OS X.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_156"></a><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_157"></a><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_158"></a></p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_32" title="Table 3-1Interpretation of HTML tags in common Mac OS X browsers "></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP30000706-TPXREF113" title="Table 3-1Interpretation of HTML tags in common Mac OS X browsers "></a><strong>Table 3-1&nbsp;&nbsp;</strong>Interpretation of HTML tags in common Mac OS X browsers </caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Browser</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>&lt;APPLET></p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>&lt;OBJECT></p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>&lt;EMBED></p></th></tr><tr><td  scope="row"><p>Internet Explorer 5.2.x (default browser in Mac OS X 10.2)</p></td><td ><p>Java Embedding framework</p></td><td ><p></p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Netscape/Mozilla</p></td><td ><p>Treated as an <code>&lt;EMBED></code> tag, which by default maps to the <code>application/x-java-applet</code> mime type.</p></td><td ><p></p></td><td ><p>Java Plug-in</p></td></tr><tr><td  scope="row"><p>OmniWeb</p></td><td ><p></p></td><td ><p></p></td><td ><p>Java Plug-in</p></td></tr><tr><td  scope="row"><p>Opera</p></td><td ><p></p></td><td ><p>Java Plug-in</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Chimera</p></td><td ><p>Treated as an <code>&lt;EMBED></code> tag.</p></td><td ><p></p></td><td ><p>Java Plug-in</p></td></tr></table></div><a name="//apple_ref/doc/uid/TP30000706-TPXREF112" title="Benefits of Using the Java Applet Plug-in"></a><h4>Benefits of Using the Java Applet Plug-in</h4><p>Using the Java Applet Plug-in provides a better experience for people that use your applets. Changes have been made in the areas discussed below.</p><a name="//apple_ref/doc/uid/TP30000706-BAJEIHFF" title="JAR Caching"></a><h5>JAR Caching</h5><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_159"></a>You can now designate that you want to store certain JAR files for repeated use. If you developed for Mac OS 9, notice that this is similar to JAR caching on MRJ 2.2.x. The cache is stored in the users home folder in <code>Library/Caches/Java</code>. To take advantage of JAR file caching, you may need to modify your HTML with the following tags:</p><dl class="termdef">	<dt><code>&lt;PARAM NAME = "cache_option" VALUE="plugin"></code></dt><dd><p>Turns on caching.</p></dd><dt><code>&lt;PARAM NAME = "cache_archive" VALUE="</code><em>a</em><code>.jar</code>, <em>b</em><code>.jar</code>, <em>c</em><code>.jar</code><code>"></code></dt><dd><p>This is an optional tag used to specify the list of JAR files you want to cache.</p><p>JAR files in <code>cache_archive</code> are searched first, then the JAR files designated with the <code>ARCHIVE</code> tag are used</p></dd><dt><code>&lt;PARAM NAME = "cache_version" VALUE="</code><em>1.2.0.1</em>, <em>2.1.1.2</em>, <em>1.1.2.7</em><code>"></code></dt><dd><p>This is an optional tag used to specify the version number of the JAR files designated with <code>cache_archive</code>. Each value corresponds to the respective JAR files designated with <code>cache_archive</code>. If the version value is newer than what is cached, the JAR file in the cache is updated. If this tag is omitted, the plug-in checks the server to see if there is a newer version available and caches that version.</p></dd></dl><p>JAR file caching in Mac OS X conforms to the Java 1.3.1_03 standard. It does not conform to the Java 1.4 standard. This means that there are certain things you should keep in mind:</p><ul class="spaceabove"><li class="li"><p>JAR files specified with the <code>ARCHIVE</code> tag are not cached.</p></li><li class="li"><p>The <code>cache_version_ex</code> parameter is not supported.</p></li><li class="li"><p>There is no JAR file indexing support.</p></li><li class="li"><p>For better forward compatibility, it is suggested that you use the <code>cache_archive</code> and <code>cache_version</code> parameters.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_160"></a></p></li></ul><a name="//apple_ref/doc/uid/TP30000706-BAJJAGEJ" title="Signed JAR Files"></a><h5>Signed JAR Files</h5><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_161"></a>If a user decides to always trust your JAR file, a certificate is stored in the user’s home folder in <code>Library/Preferences/Java Plugin certificates 1.3.1.</code></p><p>Users can view their JAR file certificates in the Java Plugin Settings application.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_162"></a></p><a name="//apple_ref/doc/uid/TP30000706-BAJHIDDH" title="The Java Console"></a><h5>The Java Console</h5><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_163"></a><p>The Java Console provides a way to log and trace the behavior of your applet while it is running. It can give you interactive thread information and allow you to force garbage collection. The Java Console is the display medium for <code>System.out</code><code>System.err</code> for applets. The Java Console is visible if you select the option Show Java Console in the Java Plugin Settings utility<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_164"></a>.</p><a name="//apple_ref/doc/uid/TP30000706-BAJJFIBJ" title="Java Plugin Settings Application "></a><h5>Java Plugin Settings Application </h5><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_165"></a><p><a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_166"></a>The Java Plugin Settings application allows users to fine-tune how applets behave in Mac OS X. It behaves on Mac OS X as it does on other platforms. It is important to recognize that settings you make while testing may not be the settings that users have on their computers. These settings are stored per user in <code>~/Library/Preferences/com.apple.java.plugin.properties131</code>.<a name="//apple_ref/doc/uid/TP30000706-DontLinkElementID_167"></a></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../overview/overview.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../tools/tools.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2002-09-01<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Java/Conceptual/Java131Development/deploying/deploying.html%3Fid%3DTP40000885-2.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Java/Conceptual/Java131Development/deploying/deploying.html%3Fid%3DTP40000885-2.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Java/Conceptual/Java131Development/deploying/deploying.html%3Fid%3DTP40000885-2.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>