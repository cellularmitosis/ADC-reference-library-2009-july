<HTML>		<HEAD>        <title>BindingElements </title>		</HEAD>	<BODY bgcolor="#ffffff">		<!-- start of header -->		<!--#include virtual="/includes/framesetheader" -->		<!-- end of header --><!-- start of path --><table cellspacing=0 border=0 width=600 valign="left"><tr><td scope="row"><font face="Geneva,Helvetica,Arial" size="1"><b>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="../../../index.html">Documentation</a> <b>></b> <a href="../../webobjects.html" target="_top">WebObjects</a></font></td></tr></table><br><!-- end of path --><a href="Creating_th_e_s_Content.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Creating_th_on_s_Output.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<br><!-- apple_doc: pageHeadingStart --><a name = "TPXREF107"></a><h2><font face="Helvetica,Arial,Lucida Grande">BindingElements </font></h2><!-- apple_doc: pageHeadingEnd --><p><font face="Times">When a user enters information in form elements, your applicationneeds a way of accessing that information. This is done by <em>binding</em> theform elements to variables in your application. When the user submitsthe form, WebObjects puts the data into the variables you've specified. </font></p><p><font face="Times">Your application typically processes the data and returnsa new page (or the same page) displaying information that makessense based on the user's input. The information displayed isusually represented by other dynamic elements that are bound tovariables and methods in your code.</font></p><p><font face="Times">This process of receiving a request (triggered by actionssuch as submitting a form or clicking a hyperlink) and respondingby returning a page is known as the <em>request-response loop</em>.This loop is at the heart of WebObjects programming.</font></p><p><font face="Times">In this tutorial, you'll have WebObjects return the samepage, with the information you received from the user displayedin a slightly different format at the bottom.</font></p><a name = "TPXREF108"></a><h3><font face="Helvetica,Arial,Lucida Grande">CreatingVariables</font></h3><p><font face="Times">In this section, you'll declare individual variables inyour code file (<code>Main.java</code>)to hold the name, e-mail address, and comments entered by a singleguest. Later on, you'll structure this information differentlyin order to work with data from multiple users.</font></p><p><font face="Times">WebObjects Builder allows you to declare variables withouthaving to edit your source file directly. At the bottom of the panelthere is a pull-down menu titled Edit Source. It has five items:</font></p><ul><p><li><code>AddKey</code> allows you to add a <em>key</em> toyour source file. A key can be either an instance variable or amethod that returns a value. </li></p><p><li><code>Add Action</code> allowsyou to add the template for an <em>action method</em>,which is a method that takes no parameters and returns a component(the next page to be displayed).</li></p><p><li><code>Delete Key</code> allowsyou to delete a key from your source file by deleting the instance variableor the method that returns a value.</li></p><p><li><code>Rename Key</code> allowsyou to rename a key in your source file by renaming the instance variableor the method that returns a value.</li></p><p><li><code>View Source File</code> opensthe source file in a Project Builder window.</li></p></ul><ol><p><li>Choose AddKey from the pull-down menu.<p>The Add Variable/Method panelopens.</p><P><img src = "../Art/wobaddkey.gif" alt = "[image: ../Art/wobaddkey.gif]"></li></p><p><li>Type guestName in the Name field.</li></p><p><li>To specify the variable's type, select String from the combobox (or you can type String directly in the box). </li></p><p><li>Click Add.<p>You have just created a variable called <code>guestName</code> oftype String. It appears in the first column of the object browser.A declaration for <code>guestName</code> alsoappears in <code>Main.java</code>, whichyou'll edit later.</p></li></p><p><li>Create the variables <code>email</code> and <code>comments </code>inthe same way (they are also of type String).<br><table border = "0" BGCOLOR="#E6E6E6"><tr><td scope="row"><p><b>Note: </b>Youmay also add variables by editing the source file in Project Builder. Rememberto save the file after editing in Project Builder to update WebObjects Builder.</p></td></tr></table><br></li></p></ol><a name = "TPXREF109"></a><h3><font face="Helvetica,Arial,Lucida Grande">Bindingthe Input Elements</font></h3><p><font face="Times">Each dynamic element contains several <em>attributes</em>.These attributes determine what happens when the element is displayedor when a form element is submitted. When you bind an element, youactually bind one or more of its attributes.</font></p><p><font face="Times">For example, a WOText element (which represents a multi-linetext area) is defined as having two attributes: </font></p><ul><p><li><code>value</code> specifiesthe string the user enters in the text area.</li></p><p><li><code>name</code> specifiesa unique identifier for the text area.</li></p></ul><p><font face="Times">In this tutorial, the only attribute you are concerned withis <code>value</code>, which representsthe string entered by the user in the comments field. You'll bindthis to the <code>comments</code> variable. Youdon't need to bind the <code>name</code> attributein this application. In a later example, you'll bind more thanone attribute of an element.</font></p><ol><p><li>In the objectbrowser, make a connection by pressing on the <code>comments</code> variableand holding down the mouse button while dragging to the Commentstext area. Then release the mouse button.  <P><img src = "../Art/bindingcomments.gif" alt = "[image: ../Art/bindingcomments.gif]"><p>Amenu appears, displaying the attributes for the text area.</p></li></p><p><li>Choose value.<p>In the Dynamic Inspector,<code> comments</code> appearsin the Binding column next to the <code>value</code> attributeof the text area, indicating that the binding has been made. Also,the text comments appears in the text field to show that it hasbeen bound.</p></li></p><p><li>Next, you will bind the <code>guestName</code> variableusing another technique. Select the Name WOTextField element. Inthe Inspector, select the Dynamic Inspector.<p>The Inspectordisplays the <code>value</code> attributein red, indicating that this attribute must be bound; otherwise,WebObjects displays an error message when you try to run your application.</p></li></p><p><li>In the Inspector, double-click in the Binding column nextto <code>value</code>. Type g andpress Enter. The Inspector fills in the rest of the "guestName"key for you.</li></p><p><li>Bind the <code>email</code> variableto the corresponding text field using one of the methods above.</li></p><p><li>Save the Main component.</li></p></ol><a name = "TPXREF110"></a><h3><font face="Helvetica,Arial,Lucida Grande">Implementingan Action Method</font></h3><p><font face="Times">When the user clicks the Submit button, your application willrespond by redisplaying the page with the submitted informationshown at the bottom. To make this happen, you implement an <em>actionmethod </em>and bind that method to the <code>action</code> attributeof the WOSubmitButton. </font></p><ol><p><li>From theEdit Source menu at the bottom of the object browser, choose AddAction.<P><img src = "../Art/addaction.gif" alt = "[image: ../Art/addaction.gif]"></li></p><p><li>Enter submit as the name of your action method.</li></p><p><li>From the "Page returned" combo box, select <code>null</code>.<p>Thevalue returned by an action method represents the next page (component)to be displayed. When you return <code>null</code>,the current page is redrawn. In a later task, you'll see how toreturn a new component.</p></li></p><p><li>Click Add. <p>The <code>submit</code> actionappears below a horizontal line in the first column of the object browser.</p></li></p><p><li>Make a connection from the <code>submit</code> actionin the object browser to the Submit button (press the mouse buttondown on the action, drag to the button, and release the mouse button). <p>Amenu appears with the Submit button's attributes.</p></li></p><p><li>Choose action.<p>You just bound the <code>submit</code> methodyou created to the <code>action</code> attributeof the WOSubmitButton. You don't need to write any additionalcode, so your application is now ready to run. However, you maywant to look at your source file.</p></li></p><p><li>From the pull-down list at the bottom of the window, chooseView Source File.<p>Project Builder becomes active and displaysthe code for your component (in <code>Main.java</code>).You'll notice that this file contains declarations for the variablesyou created earlier, as well as a declaration for the <code>submit</code> actionmethod.</p><pre>    // Generated by the WebObjects Wizard ...    import com.webobjects.foundation.*;    import com.webobjects.appserver.*;    import com.webobjects.eocontrol.*;    import com.webobjects.eoaccess.*;    public class Main extends WOComponent {        protected String guestName;        protected String email;        protected String comments;        public Main(WOContext context) {            super(context);        }        public WOComponent submit() {            return null;        }    }</pre></li></p></ol>    <br><a href="Creating_th_e_s_Content.html" target="_right"><img src="../Images/previous.gif" border="0" alt="Previous"></a><a href="Creating_th_on_s_Output.html" target="_right"><img src="../Images/next.gif" border="0" alt="Next"></a>&nbsp;<p><font face="Geneva,Helvetica,Arial" size="1">&#169; 2001 Apple Computer, Inc.</font></p><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></html>