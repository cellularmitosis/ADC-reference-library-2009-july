<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime VR: Understanding Panoramic Resolution</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Understanding Panoramic Resolution"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000944-CH213" title="Understanding Panoramic Resolution"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../VirtualReality-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000589" target="_top">Virtual Reality</a> &gt; <a href="../0Preface/QTVR-preface.html#//apple_ref/doc/uid/TP40000944-CH204-DontLinkElementID_2">QuickTime VR</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Biblio/QTVR-biblio.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevHistory/QTVRrevision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000944-CH213-DontLinkElementID_143" title="Understanding Panoramic Resolution"></a><h1><a name="//apple_ref/doc/uid/TP40000944-CH213-BBCDGEHH" title="Understanding Panoramic Resolution"></a>Understanding Panoramic Resolution</h1><p>This appendix discusses one of the most frequently misunderstood concepts in QuickTime VR––panoramic resolution––and the issues and questions that typically arise in any discussion of the topic. </p><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF114" title="What Is Panoramic Resolution? "></a><h2>What Is Panoramic Resolution? </h2><p>Panoramic resolution may be one of the least well-understood concepts in QuickTime VR. A number of questions arise in any discussion of the topic:</p><ul class="ul"><li class="li"><p>If you want to  measure the resolution of a panorama, how do you go about doing so? </p></li><li class="li"><p>How do you compare the resolution of different <em>kinds</em> of panoramas?</p></li><li class="li"><p>How does the resolution of a source image relate to that of a resultant panorama after stitching? </p></li><li class="li"><p>How does the resolution of a fisheye image, for example, compare with that of a rectilinear image? </p></li></ul><p>These questions can be answered by comparing the <em>focal length</em> or, equivalently, the <em>angular pixel density</em> of a QuickTime VR panorama. </p><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF115" title="Defining Angular Pixel Density"></a><h3>Defining Angular Pixel Density</h3><p>Before going any further, it is important to define what is meant by <strong>angular pixel density</strong>. Typically, no image format is uniform in angular pixel density across the whole image.</p><p>Focal length is used as the basis of the definition. <em>The focal length is defined as the distance to the imaging surface at the center of projection.</em> This definition is consistent with that for perspective and fisheye lenses.</p><p>Focal length can be interpreted for various image formats in the following ways:</p><ul class="spaceabove"><li class="li"><p>For a perspective image, the distance to the imaging plane at the center.</p></li><li class="li"><p>For a cubic panorama, the distance to the center of one of the faces.</p></li><li class="li"><p>For a cylindircal panorama, the cylindrical radius (at the equator).</p></li><li class="li"><p>For an equirectangular spherical panorama, the radius of the imaging sphere.</p></li><li class="li"><p>For a fisheye image, the radius of the imaging sphere.</p></li></ul><p>The <em>pixel</em> is used as the unit of measurement for image resolution and focal length. In these units, the focal length is identical to the angular pixel density at the center of projection. It is preferable to use the focal length to define panorama resolution because it is a parameter that is central to the mathematics of projection, and is well-defined for any panoramic image format.</p><p>Panorama resolution defined in terms of the focal length happens to be the <em>minimum angular pixel density</em> for the panorama formats considered here, when “square” pixels are used. This is not necessarily true for other panorama formats, though, such as annular formats.</p><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF116" title="Panoramic Resolution in Pixels Per Degree"></a><h3>Panoramic Resolution in Pixels Per Degree</h3><p>The units for focal length, when interpreted as angular pixel density, are pixels per radian.</p><p>It is more convenient to think of angular pixel density in terms of pixels per degree instead of <em>pixels per radian</em>, for several reasons:</p><ul class="spaceabove"><li class="li"><p>Degrees are used almost exclusively to quantify the measurement of angle, outside of mathematics; and</p></li><li class="li"><p>The magnitude of currently published panoramas is of the order of a single decimal digit (1-7) when expressed in<em> pixels per degree</em>.</p></li></ul><p>Thus, the following definition:</p><p><em>Panoramic resolution is the angular pixel density expressed in units of pixels per degree as determined by the focal length.</em></p><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF117" title="Issues Involving Pixels and Focal Length"></a><h3>Issues Involving Pixels and Focal Length</h3><p>Still other issues arise: What do pixels, for example, have to do with focal length anyway? Focal length is traditionally measured in millimeters; however, on digital cameras, the focal length does not tell the whole story, because the digital camera specifications will say something like “it has a minimum 7 mm focal length, which is equivalent to a 35 mm focal length lens on a 35 mm camera”. The missing information is the target frame size, and using this information you can determine the field of view.</p><p>If you’re working typically with a camera that uses 35 mm film, you know that the frame size is 36 mm x 24 mm, as shown in the figure below.</p><br/><div><img src = "../art/iqtvr_35mmfilm.gif" alt = "image: ../art/iqtvr_35mmfilm.gif" width="388" height="143"></div><br/><p>Now if a 7 mm focal length on a digital camera is equivalent to a 35 mm focal length lens on a 35 mm camera, the CCD array in the camera must be 7.2 mm x 4.8 mm. The reason is that everything is in proportion.</p><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF118" title="Computing Focal Length in Pixels"></a><h3>Computing Focal Length in Pixels</h3><p>In a digital image, there are a given number of pixels. If you know the target frame size in millimeters, you can easily determine the number of pixels in a millimeter. If you also know the focal length of the lens used to make the picture, you can compute the focal length <em>in pixels</em>.</p><p>Now if you can figure out the focal length in pixels — what advantage does that offer you? As it happens, the focal length in pixels is the equivalent of the <em>angular pixel density</em> as expressed in pixels per radian. In this case, it is about 57 degrees (180/, to be exact). So if you convert from radians to degrees, you end up with an <em>angular pixel density</em> expressed in <em>pixels per degree</em>, and <em>that</em> unit of measurement means something. For example, a larger focal length means more pixels per panorama. And if you double the focal length, you double the number of pixels around the circumference.</p><p>In Table B-1, you can use the formulas in the last column of the table to compute the resolution in pixels per degree for some common panorama formats.</p><p>Table B-1 shows the formulas that you can use in order to compute the resolution in pixels per degree for some common panorama formats.</p><a name="//apple_ref/doc/uid/TP40000944-CH213-DontLinkElementID_144" title="Table B-1Resolution in Pixels per Degree for Common Panorama Formats"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF119" title="Table B-1Resolution in Pixels per Degree for Common Panorama Formats"></a><strong>Table B-1&nbsp;&nbsp;</strong>Resolution in Pixels per Degree for Common Panorama Formats</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p></p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Dimension</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Resolution (pixels/degree)</p></th></tr><tr><td  scope="row"><p>Perspective</p></td><td ><p>small dimension in pixels (s)focal length in mm (f)</p></td><td ><p><img src = "../art/iqtvr_pixel01.gif" alt = "image: ../art/iqtvr_pixel01.gif" width="58" height="47"></p></td></tr><tr><td  scope="row"><p>Cubic</p></td><td ><p>face dimension in pixels (w)</p></td><td ><p><img src = "../art/iqtvr_pixel02.gif" alt = "image: ../art/iqtvr_pixel02.gif" width="48" height="47"></p></td></tr><tr><td  scope="row"><p>Cylindrical</p></td><td ><p>circumference in pixels (c)</p></td><td ><p><img src = "../art/iqtvr_pixel03.gif" alt = "image: ../art/iqtvr_pixel03.gif" width="25" height="42"></p></td></tr><tr><td  scope="row"><p>Equirectangular Spherical</p></td><td ><p>circumference in pixels (c)</p></td><td ><p><img src = "../art/iqtvr_pixel03.gif" alt = "image: ../art/iqtvr_pixel03.gif" width="25" height="42"></p></td></tr><tr><td  scope="row"><p>Round 180 degrees Fisheye</p></td><td ><p>diameter in pixels (d)</p></td><td ><p><img src = "../art/iqtvr_pixel04.gif" alt = "image: ../art/iqtvr_pixel04.gif" width="28" height="47"></p></td></tr><tr><td  scope="row"><p>Full Frame 180 degrees Fisheye</p></td><td ><p>small dimension in pixels (s)</p></td><td ><p><img src = "../art/iqtvr_pixel05.gif" alt = "image: ../art/iqtvr_pixel05.gif" width="86" height="138"></p></td></tr></table></div><p>Because it may be difficult to get an exact feel for the pixel economies with these formulas, Table B-2 is populated with the dimensions of various panorama formats at a resolution of 5.57 pixels per degree. This odd value of resolution was chosen to be that delivered by a 15 mm lens on a 35 mm camera, when the resulting image is 768 x 512 pixels.</p><a name="//apple_ref/doc/uid/TP40000944-CH213-DontLinkElementID_145" title="Table B-2Dimensions of various panorama formats in pixels "></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF120" title="Table B-2Dimensions of various panorama formats in pixels "></a><strong>Table B-2&nbsp;&nbsp;</strong>Dimensions of various panorama formats in pixels </caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Panorama Image Format</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Linear Pixels</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Measure</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Total Area in Pixels</p></th></tr><tr><td  scope="row"><p>Perspective (12 mm)</p></td><td ><p>639</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Perspective (15 mm)</p></td><td ><p>512</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Perspective (18 mm)</p></td><td ><p>427</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Perspective (20 mm)</p></td><td ><p>384</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Perspective (24 mm)</p></td><td ><p>320</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Perspective (28 mm)</p></td><td ><p>275</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Perspective (35 mm)</p></td><td ><p>220</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Perspective (40 mm)</p></td><td ><p>192</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Cubic</p></td><td ><p>639</p></td><td ><p>face dimension</p></td><td ><p>2,449,926</p></td></tr><tr><td  scope="row"><p>Cylindrical</p></td><td ><p>2005</p></td><td ><p>circumference</p></td><td ><p>2,447,675 @124.8FOV1,279,614 @90FOV</p></td></tr><tr><td  scope="row"><p>Equirectangular Spherical</p></td><td ><p>2005</p></td><td ><p>circumference</p></td><td ><p>2,012,018</p></td></tr><tr><td  scope="row"><p>Single Round 180 Fisheye</p></td><td ><p>1004</p></td><td ><p>diameter</p></td><td ><p></p></td></tr><tr><td  scope="row"><p>Double Round 180 Fisheye</p></td><td ><p>1004</p></td><td ><p>diameter</p></td><td ><p>2,016,032 (1,583,388 without border)</p></td></tr><tr><td  scope="row"><p>Round 360 Fisheye</p></td><td ><p>2005</p></td><td ><p>diameter</p></td><td ><p>4,020,025(3,157,320 without border)</p></td></tr><tr><td  scope="row"><p>Full Frame 180 Diagonal Fisheye</p></td><td ><p>557</p></td><td ><p>small dimension</p></td><td ><p></p></td></tr></table></div><p>The total number of pixels in the last column of the table includes border pixels needed to make each image rectangular. Since these can be chosen to compress well––for example, a solid color––these should add little to the size of the image. In the case of round fisheye images, a factor of <img src = "../art/iqtvr_pixel06.gif" alt = "image: ../art/iqtvr_pixel06.gif" width="64" height="33"></p><p>can account for these. When determining pixel area, 180 vertical FOV is assumed for all except the cylindrical panoramas. For the perspective images, a 3:2 aspect ratio is assumed.</p><p>This allows you to compare efficiency of representation. Looking at memory usage, the equirectangular spherical format is the most efficient. Looking at compressed size, the double round 180 fisheye format is the most efficient, assuming that the black border compresses to nothing. The round 360 fisheye is the least efficient in either case, even when the border is removed.</p><p>It is common knowledge that the focal length in a perspective camera is the distance from the nodal point to the film or the CCD plane. Are there equivalent physical interpretations for the panorama formats? The answer is yes. For this, you need to use pixels per radian as the unit of measurement for the focal length. The physical interpretation of focal length is summarized in the Table B-3.</p><a name="//apple_ref/doc/uid/TP40000944-CH213-DontLinkElementID_146" title="Table B-3Physical interpretation of focal length"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><a name="//apple_ref/doc/uid/TP40000944-CH213-TPXREF121" title="Table B-3Physical interpretation of focal length"></a><strong>Table B-3&nbsp;&nbsp;</strong>Physical interpretation of focal length</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Type of Panorama</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Focal Length defined as</p></th></tr><tr><td  scope="row"><p>Perspective image</p></td><td ><p>Distance to imaging plane from nodal point</p></td></tr><tr><td  scope="row"><p>Cubic</p></td><td ><p>Distance to face from center</p></td></tr><tr><td  scope="row"><p>Cylindrical</p></td><td ><p>Radius of cylinder</p></td></tr><tr><td  scope="row"><p>Equirectangular</p></td><td ><p>Radius of sphere</p></td></tr><tr><td  scope="row"><p>Fisheye</p></td><td ><p>Radius of sphere</p></td></tr></table></div><p>Consider film or a CCD imaging array in shapes other than a plane: in particular, a cube, cylinder, or sphere, where the image is formed on the surface of the object. </p><p>Now consider some kind of optics that can focus and project the entire environment onto this surface, towards its center. The cube faces emerge directly from this construction. The cylindrical image comes from cutting the cylinder axially and flattening it out. The equirectangular and fisheye images come from the technique used to flatten the sphere. If the sphere is cut along the prime meridian, and the poles are stretched to have the same girth as the equator, then an equirectangular projection results. If a hole is made at the south pole and opened up wide enough to flatten it, then a fisheye projection results. </p><p></p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Biblio/QTVR-biblio.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../RevHistory/QTVRrevision_history.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-06-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/InsideQT_QTVR/AppB/appendix_b.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/InsideQT_QTVR/AppB/appendix_b.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/InsideQT_QTVR/AppB/appendix_b.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>