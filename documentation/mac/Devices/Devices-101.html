<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>SIntInstall(IM: D)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING101></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->




<!-- Main Body -->

<CENTER>
<P>
<A HREF="Devices-100.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-102.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Devices-2.html"><B>Devices</B></A> / <BR><DD><A HREF="Devices-53.html"><B>Chapter 2 - Slot Manager</B></A> / <A HREF="Devices-57.html"><B>Slot Manager Reference</B></A><BR><DL><DD><A HREF="Devices-65.html"><B>Slot Manager Routines</B></A> / <A HREF="Devices-100.html"><B>Managing the Slot Interrupt Queue</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING101-0></A>
<H3><A NAME=MARKER-9-407></A>SIntInstall</H3>
 <A NAME=MARKER-11-408></A><A NAME=MARKER-2-409></A>You use the <CODE>SIntInstall</CODE> function to install an interrupt handler in the slot interrupt queue for a designated slot.<P>
<PRE>
FUNCTION SIntInstall (sIntQElemPtr: SQElemPtr; 
                      theSlot: Integer) : OsErr;
</PRE>
<DL>
<DT><CODE>sIntQElemPtr</CODE>
<DD> <BR>A pointer to a slot interrupt queue element record, described on <A HREF=Devices-64.html#MARKER-9-259>page 2-28</A>.
<DT><CODE>theSlot</CODE>
<DD> The slot number.
</DL>
<A NAME=HEADING101-5></A>
<H5>DESCRIPTION</H5>
 The <CODE>SIntInstall</CODE> function adds a new element to the interrupt queue for a slot. You provide a pointer to a slot interrupt queue element in the <CODE>sIntQElemPtr</CODE> parameter and specify the slot number in <CODE>theSlot</CODE>.<P>
 The Slot Manager calls your interrupt handler using a <CODE>JSR</CODE> instruction. Your routine must preserve the contents of all registers except A1 and D0, and return to the Slot Manager with an <CODE>RTS</CODE> instruction. Register D0 should be set to 0 if your routine did not service the interrupt, or any other value if the interrupt was serviced. Your routine should not set the processor priority below 2, and must return with the processor priority equal to 2.<P>
<A NAME=HEADING101-8></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro for the <CODE>SIntInstall</CODE> function is <CODE>_SIntInstall</CODE> ($A075).<P>
 You must set up register D0 with the slot number and register A0 with the address of the slot queue element. When <CODE>_SIntInstall</CODE> returns, register D0 contains the result code.
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT colspan=2>Registers on entry<TR>
<TD>A0<TD>address of the slot queue element<TR>
<TD>D0<TD>slot number</TABLE>

<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT colspan=2>Registers on exit<TR>
<TD>D0<TD>Result code</TABLE>
<P>
<A NAME=HEADING101-11></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error</TABLE>
<A NAME=MARKER-2-410></A></H5>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Devices-100.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Devices-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Devices-328.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Devices-102.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Devices-3.html">&copy; Apple Computer, Inc.</A><br>3 JUL 1996</center></font><P>
<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->
</BODY>
</HTML>  
