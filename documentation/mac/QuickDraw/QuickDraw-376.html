<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>CCrsr (IM: Im)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING376></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!--end of header -->

<center>
<A HREF="QuickDraw-375.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-377.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="QuickDraw-2.html"><B>Imaging With QuickDraw</B></A> / <BR><DD><A HREF="QuickDraw-369.html"><B>Chapter 8 - Cursor Utilities</B></A> / <A HREF="QuickDraw-372.html"><B>Cursor Utilities Reference</B></A><BR><DL><DD><A HREF="QuickDraw-373.html"><B>Data Structures</B></A> / <A HREF="QuickDraw-367.html"><B></B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING376-0></A>
<H3><A NAME=MARKER-9-63></A>CCrsr</H3>
 <A NAME=MARKER-14-65></A><A NAME=MARKER-14-65></A><A NAME=MARKER-2-253></A><A NAME=MARKER-2-107></A><A NAME=MARKER-2-68></A>Your application typically does not create <CODE>CCrsr</CODE> records, which are data structures of type <CODE>CCrsr</CODE>. Although you can create a <CODE>CCrsr</CODE> record, it is usually easier to create a color cursor in a color cursor resource, which is described on <A HREF=QuickDraw-403.html#MARKER-9-229>page 8-32</A>.<P>
 A color cursor is a 256-pixel color image in a 16-by-16 pixel square usually defined in a color cursor (<CODE>'crsr'</CODE>) resource. When your application uses the <CODE>GetCCursor</CODE> function (described on <A HREF=QuickDraw-387.html#MARKER-9-136>page 8-24</A>) to get a color cursor from a <CODE>'crsr'</CODE> resource, <CODE>GetCCursor</CODE> uses the Resource Manager to load the resource into memory as a <CODE>CCrsr</CODE> record. Your application can then display the color cursor by using the <CODE>SetCCursor</CODE> procedure, which is described on <A HREF=QuickDraw-388.html#MARKER-9-143>page 8-24</A>.<P>
 The <CODE>CCrsr</CODE> record is substantially different from the <CODE>Cursor</CODE> record described in the preceding section; the fields <CODE>crsr1Data</CODE>, <CODE>crsrMask</CODE>, and <CODE>crsrHotSpot</CODE> in the <CODE>CCrsr</CODE> record are the only ones that have counterparts in the <CODE>Cursor</CODE> record. A <CODE>CCrsr</CODE> record is defined as follows:<P>
<PRE>
TYPE CCrsrHandle =   ^CCrsrPtr;
CCrsrPtr =           ^CCrsr;
CCrsr = 
   RECORD
      crsrType:      Integer;       {type of cursor}
      crsrMap:       PixMapHandle;  {the cursor's PixMap record}
      crsrData:      Handle;        {cursor's data}
      crsrXData:     Handle;        {expanded cursor data}
      crsrXValid:    Integer;       {depth of expanded data}
      crsrXHandle:   Handle;        {reserved for future use}
      crsr1Data:     Bits16;        {1-bit cursor}
      crsrMask:      Bits16;        {cursor's mask}
      crsrHotSpot:   Point;         {cursor's hot spot}
      crsrXTable:    LongInt;       {private}
      crsrID:        LongInt;       {ctSeed for expanded cursor}
   END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT><CODE>crsrType</CODE>
<DD> The type of cursor. Possible values are $8000 for a black-and-white cursor and $8001 for a color cursor.<A NAME=MARKER-2-205></A>
<DT><CODE>crsrMap</CODE>
<DD> A handle to the <CODE>PixMap</CODE> record defining the cursor's characteristics. <CODE>PixMap</CODE> records are described in the chapter "Color QuickDraw" in this book.<A NAME=MARKER-2-207></A>
<DT><CODE>crsrData</CODE>
<DD> A handle to the cursor's pixel data. <A NAME=MARKER-2-113></A>
<DT><CODE>crsrXData</CODE>
<DD> A handle to the expanded pixel image used internally by Color QuickDraw. <A NAME=MARKER-2-211></A>
<DT><CODE>crsrXValid</CODE>
<DD> The depth of the expanded cursor image. If you change the cursor's data or color table, you should set this field to 0 to cause the cursor to be re-expanded. You should never set it to any other values.<A NAME=MARKER-2-213></A>
<DT><CODE>crsrXHandle</CODE>
<DD> Reserved for future use.<A NAME=MARKER-2-121></A>
<DT><CODE>crsr1Data</CODE>
<DD> A 16-by-16 pixel image with a pixel depth of 1 to be displayed when the cursor is on screens with pixel depths of 1 or 2 bits.<A NAME=MARKER-2-122></A>
<DT><CODE>crsrMask</CODE>
<DD> The cursor's mask data. QuickDraw uses the mask to crop the cursor's outline into a background color or pattern. QuickDraw then draws the cursor into this shape. The same 1-bit mask is used with images specified by the <CODE>crsrData</CODE> and <CODE>crsr1Data</CODE> fields.<A NAME=MARKER-2-146></A>
<DT><CODE>crsrHotSpot</CODE>
<DD> The cursor's hot spot.<A NAME=MARKER-2-328></A><A NAME=MARKER-2-127></A>
<DT><CODE>crsrXTable</CODE>
<DD> Reserved for future use.<A NAME=MARKER-2-129></A>
<DT><CODE>crsrID</CODE>
<DD> The color table seed for the cursor.<A NAME=MARKER-2-134></A>
</DL>
 The first four fields of the <CODE>CCrsr</CODE> record are similar to the first four fields of the <CODE>PixPat</CODE> record, and are used in the same manner by Color QuickDraw. See the chapter "Color QuickDraw" in this book for information about <CODE>PixPat</CODE> records.<P>
 The display of a cursor involves a relationship between a mask, stored in the <CODE>crsrMask</CODE> field with the same format used for 1-bit cursor masks, and an image. There are two possible sources for a color cursor's image. When the cursor is on a screen whose depth is 1 or 2 bits per pixel, the image for the cursor is taken from the <CODE>crsr1Data</CODE> field, which contains bitmap cursor data (similar to the bitmap in a <CODE>'CURS'</CODE> resource). <P>
 When the screen depth is greater than 2 bits per pixel, the <CODE>crsrMap</CODE> field and the <CODE>crsrData</CODE> field define the image. The pixels within the mask replace the destination pixels. Color QuickDraw transfers the pixels outside the mask into the destination pixels using the XOR Boolean transfer mode. Therefore, if pixels outside the mask are white, the destination pixels aren't changed. If pixels outside the mask are all black, the destination pixels are inverted. All other values outside of the mask cause unpredictable results. See the discussion of Boolean transfer modes in the chapter "Color QuickDraw" in this book for more information about the XOR Boolean transfer mode.<P>
 To work properly, a color cursor's image should contain white pixels (R = G = B = $FFFF) for the transparent part of the image, and black pixels (R = G = B = $0000) for the part of the image to be inverted, in addition to the other colors in the cursor's image. Thus, to define a cursor that contains two colors, it's necessary to use a 2-bit cursor image (that is, a four-color image).<P>
 If your application changes the value of your color cursor data or its color table, it should set the <CODE>crsrXValid</CODE> field to 0 to indicate that the color cursor's data needs to be re-expanded, and it should assign a new unique value to the <CODE>crsrID</CODE> field (unique values can be obtained using the Color Manager function <CODE>GetCTSeed</CODE>, which is described in <I><A HREF="../ACI/ACI-2.html">Advanced Color Imaging on the Mac OS</A></I>. Then your application should call <CODE>SetCCursor</CODE> to display the changed color cursor.<A NAME=MARKER-2-81></A><A NAME=MARKER-2-110></A><A NAME=MARKER-9-399></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="QuickDraw-375.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="QuickDraw-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="QuickDraw-476.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="QuickDraw-377.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="QuickDraw-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
