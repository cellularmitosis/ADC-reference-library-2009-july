<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>

	<!-- BEGIN META TAG INFO -->
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="home" href="http://developer.apple.com/">
	<link rel="find" href="http://developer.apple.com/search/">
	<link rel="stylesheet" type="text/css" href="../../documentation/css/adcstyle.css" title="fonts">
	<script language="JavaScript" src="../../documentation/js/adc.js" type="text/javascript"></script>
	<!-- END META TAG INFO -->
	
	<!-- BEGIN TITLE -->
	<title>OffSample - /OffSample.h</title>
	<!-- END TITLE -->
<script language="JavaScript">
function JumpToNewPage() {
	window.location=document.scpopupmenu.gotop.value;
	return true;
}
</script>

</head>

<!-- BEGIN BODY OPEN -->
<body>
<!--END BODY OPEN -->

<!-- START CENTER OPEN -->
<center>
<!-- END CENTER OPEN -->

	<!-- BEGIN LOGO AND SEARCH -->
	<!--#include virtual="/includes/adcnavbar"-->
	<!-- END LOGO AND SEARCH -->
		
		
	<!-- START BREADCRUMB -->
	<div id="breadcrumb">
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td scope="row"><img width="340" height="10" src="images/1dot.gif" alt=""></td>
			<td><img width="340" height="10" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr valign="middle">
			<td align="left" colspan="2">
			<a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../samplecode/index.html">Sample Code</a> &gt; <a href="../../samplecode/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../samplecode/LegacyTechnologies/idxGraphicsImaging-date.html">Graphics & Imaging</a> &gt; <A HREF="javascript:location.replace('index.html');">OffSample</A> &gt; 
			</td>
		</tr>
		<tr>
			<td colspan="2" scope="row"><img width="680" height="35" src="images/1dot.gif" alt=""></td>
		</tr>
	</table>
	</div>
	<!-- END BREADCRUMB -->

	<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/GraphicsImaging/index.html" target="_blank">Reference Library > Graphics & Imaging</a></li>
	</ul>
</div>




</div></div></div>

	<!-- START MAIN CONTENT -->
	
	<!-- START TITLE GRAPHIC AND INTRO-->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td><h1><div id="pagehead">OffSample</div></h1></td>
		</tr>
	</table>
	<!-- END TITLE GRAPHIC AND INTRO -->
	<!-- START WIDE COLUMN -->
	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr align="left" valign="top">
			<td id="scdetails">
				<h2>/OffSample.h</h2>
				<form name="scpopupmenu" onSubmit="return false;" method=post>
				<p><strong>View Source Code:</strong> 
					<select name="gotop" onChange="JumpToNewPage();" style="width:340px"><option selected value="ingnore">Select File</option>
<option value="listing1.html">/OffSample.h</option>
<option value="listing2.html">/OffSample.p</option>
<option value="listing3.html">/OffSample.r</option>
<option value="listing4.html">/Offscreen.inc1.p</option>
<option value="listing5.html">/Offscreen.p</option>
<option value="listing6.html">/UFailure.a</option>
<option value="listing7.html">/UFailure.inc1.p</option>
<option value="listing8.html">/UFailure.p</option></select>
				</p>
				</form>
				<p><strong><a href="OffSample.zip">Download Sample</a></strong> (&#147;OffSample.zip&#148;, 56.6K)<BR>
<strong><a href="OffSample.dmg">Download Sample</a></strong> (&#147;OffSample.dmg&#148;, 118.6K)</p>
				<!--
				<p><strong><a href="#">Download Sample</a></strong> (&#147;filename.sit&#148;, 500K)</p>
				-->
			</td>
		</tr>
		<tr>
			<td scope="row"><img width="680" height="10" src="images/1dot.gif" alt=""><br>
			<img height="1" width="680" src="images/1dot_919699.gif" alt=""><br>
			<img width="680" height="20" src="images/1dot.gif" alt=""></td>
		</tr>
		<tr>
			<td scope="row">
	<!--googleon: index -->
<pre class="sourcecodebox">/*------------------------------------------------------------------------------##  Apple Macintosh Developer Technical Support##  Offscreen Buffer Sample Application##  OffSample##  POffSample.h  -  Rez Include Source##  Copyright &copy; 1989 Apple Computer, Inc.#  All rights reserved.##  Versions:  #        1.00        04/89#        1.01        06/92##  Components:#        OffSample.p      April 1, 1989#        OffSample.r      April 1, 1989#        OffSample.h      April 1, 1989#        OffSample.rsrc    April 1, 1989#        POffSample.make    April 1, 1989##  Requirements:#        Offscreen.p      April 1, 1989#        Offscreen.inc1.p  April 1, 1989#        UFailure.p      November 1, 1988#        UFailure.inc1.p    November 1, 1988#        UFailure.a      November 1, 1988##  OffSample demonstrates the usage of the Offscreen#  unit. It shows how to use offscreen pixmaps and#  bitmaps to produce flicker-free updating with a#  minimum of re-structuring of code. OffSample attempts#  to reduce the amount of 'knowledge' that it has of#  the offscreen structure so as to minimize its#  dependence on that unit.##  OffSample emphasizes using the Offscreen unit; it#  is not intended to be viewed as a complete application#  from which to base some larger effort. Instead, its#  method of using offscreen bitmaps and pixmaps should#  be studied and adapted to other applications that#  desire features such as flicker-free updating.#------------------------------------------------------------------------------*/#define kMinSize        75    /* application's minimum size (in K) */#define kPrefSize        245    /* application's preferred size (in K) */#define  rMenuBar        128    /* application's menu bar */#define  rAboutAlert        128    /* about alert */#define  rUserAlert        129    /* error user alert */#define  rWindow          128    /* application's window *//* kSysEnvironsVersion is passed to SysEnvirons to tell it which version of the   SysEnvRec we understand. */#define  kSysEnvironsVersion    1/* kOSEvent is the event number of the suspend/resume and mouse-moved events sent   by MultiFinder. Once we determine that an event is an osEvent, we look at the   high byte of the message sent to determine which kind it is. To differentiate   suspend and resume events we check the resumeMask bit. */#define  kOSEvent        app4Evt  /* event used by MultiFinder */#define  kSuspendResumeMessage  1    /* high byte of suspend/resume event message */#define  kResumeMask        1    /* bit of message field for resume vs. suspend */#define  kMouseMovedMessage    0xFA  /* high byte of mouse-moved event message */#define  sErrStrings        128#define  kNoBackBuff        128#define  kNoEditBuff        129#define  kTitle          130#define  kColorPrompt      131#define  kNoWantBack        132#define  kNoWantEdit        133/* The following constants are used to identify menus and their items. The menu IDs   have an &quot;m&quot; prefix and the item numbers within each menu have an &quot;i&quot; prefix. */#define  mApple          128    /* Apple menu */#define  iAbout          1#define  mFile          129    /* File menu */#define  iNew          1#define  iClose          4#define  iQuit          12#define  mEdit          130    /* Edit menu */#define  iUndo          1#define  iCut          3#define  iCopy          4#define  iPaste          5#define  iClear          6#define  mShape          131    /* Shape menu */#define mSpecial        132    /* Special menu */#define iUseBack        1#define iUseEdit        2#define iPickColor        4/*  kTopLeft - This is for positioning the Disk Initialization dialogs. */#define kDITop          0x0050#define kDILeft          0x0070/*  kMinHeap - This is the minimum result from the following equation:        ORD(GetApplLimit) - ORD(ApplicZone)      for the application to run. It will insure that enough memory will  be around for reasonable-sized scraps, FKEYs, etc. to exist with the  application, and still give the application some 'breathing room'.  To derive this number, we ran under a MultiFinder partition that was  our requested minimum size, as given in the 'SIZE' resource. */   #define kMinHeap        66 * 1024  /*  kMinSpace - This is the minimum result from PurgeSpace, when called  at initialization time, for the application to run. This number acts  as a double-check to insure that there really is enough memory for the  application to run, including what has been taken up already by  pre-loaded resources, the scrap, code, and other sundry memory blocks. */   #define kMinSpace        49 * 1024/* kExtremeNeg and kExtremePos are used to set up wide open rectangles and regions. */#define kExtremeNeg        -32768#define kExtremePos        32767 - 1 /* required to address an old region bug *//* these #defines are used to set enable/disable flags of a menu */#define AllItems  0b1111111111111111111111111111111  /* 31 flags */#define NoItems    0b0000000000000000000000000000000#define MenuItem1  0b0000000000000000000000000000001#define MenuItem2  0b0000000000000000000000000000010#define MenuItem3  0b0000000000000000000000000000100#define MenuItem4  0b0000000000000000000000000001000#define MenuItem5  0b0000000000000000000000000010000#define MenuItem6  0b0000000000000000000000000100000#define MenuItem7  0b0000000000000000000000001000000#define MenuItem8  0b0000000000000000000000010000000#define MenuItem9  0b0000000000000000000000100000000#define MenuItem10  0b0000000000000000000001000000000#define MenuItem11  0b0000000000000000000010000000000#define MenuItem12  0b0000000000000000000100000000000</pre>
	<!--googleoff: index -->
			</td>
		</tr>
	</table>
	<!-- END WIDE COLUMN -->

	<!-- END MAIN CONTENT -->
		<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/samplecode/OffSample/listing1.html%3Fid%3DDTS10000144-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/samplecode/OffSample/listing1.html%3Fid%3DDTS10000144-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/samplecode/OffSample/listing1.html%3Fid%3DDTS10000144-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

	<!-- START BOTTOM APPLE NAVIGATION -->
	<!--#include virtual="/includes/footer"-->
	<!-- END BOTTOM APPLE NAVIGATION -->

<!-- START CENTER CLOSE -->
</center>
<!-- END CENTER CLOSE -->

</body>
</html>