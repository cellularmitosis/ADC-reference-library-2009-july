<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<script language="JavaScript" src="frametest.js"></script>

<TITLE> Defining Your Own User Pane Functions 1</TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../../Resources/JavaScript/page.js"></script>
</head>
<body bgcolor="#ffffff">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<a name="top"></a>
<!-- start of banner -->			
<!--#include virtual="/includes/framesetheader" -->
<!-- end of banner -->

<!-- start of path -->
<table border="0" cellpadding="0" cellspacing="2" width="432">	
	<tr>
	<td scope="row"><font face="Geneva,Helvetica,Arial" size="1">
	<b>PATH<img src="../../../images/space.gif" width="6" height="12"></b><a href="../../../../index.html" target="_top">Documentation</a> <b>&gt;</b> <a href="../../../mac8.html" target="_top">Mac OS 8 and 9</a> 
	<b>&gt;</b> Human Interface Toolbox
	<b>&gt;</b> <a href="../controlmanager.html" target="_top">Control Manager</a> 
	<b>&gt;</b>
	</font></td>
	</tr>
	<tr><td align="left" scope="row"><br>
	<img src="../../../images/im_smblue.gif" width="116" height="8"><img src="../../../images/space.gif" width="6" height="11">
	<font face="Geneva,Helvetica,Arial">Mac OS 8 Control Manager Reference</font>
	</td></tr>
</table><br>
<!-- end of path -->


<!-- top navigation -->
<DIV>
<P><A HREF="ControlMgrRef.2.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="ControlMgrRef.c.html"><img src="images/previous.gif" border="0"></A> <A HREF="ControlMgrRef.e.html"><img src="images/next.gif" border="0"></A>

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a></div>
<!-- end top navigation -->

<hr>

<H1 CLASS="RH2.RoutineHd2">
<A NAME="pgfId=91293">
 </A>
<A NAME="24590">
 </A>
Defining Your Own <A NAME="marker=205025">
 </A>
User Pane Functions </H1>
<P CLASS="T1.Text1">
<A NAME="pgfId=127616">
 </A>
This section describes the application-defined user pane functions that provide you with the ability to create a custom Appearance-compliant control without writing your own control definition function. A <A NAME="marker=199699">
 </A>
<B CLASS="bold">
user pane</B>
 is a general purpose stub control; it can be used as the root control for a window, as well as providing a way to hook in application-defined functions such as those described below. When Appearance is available, user panes should be used in dialog boxes instead of user items.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=127593">
 </A>
Once you have provided a user pane application-defined function, pass the tag constant representing the user pane function you wish to get or set in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
. For a description of the tag constants, see <A HREF="ControlMgrRef.12.html#19583" CLASS="XRef">Control Data Tag Constants</A>
. For example, to set a user pane draw function, pass the constant <CODE>kControlUserPaneDrawProcTag</CODE>
 of type <CODE>ControlUserPaneDrawingUPP</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.The Control Manager then draws the control using a universal procedure pointer to your user pane draw function.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=240302">
 </A>
The following Control Manager functions for defining your own user pane functions are new with Appearance Manager 1.0:</P>
<UL>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240322">
 </A>
<A HREF="ControlMgrRef.d.html#17904" CLASS="XRef"><CODE>MyUserPaneDrawProc</A></CODE>
 draws the content of your user pane control in the rectangle of user pane control. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240331">
 </A>
<A HREF="ControlMgrRef.d.html#28528" CLASS="XRef"><CODE>MyUserPaneHitTestProc</A></CODE>
 returns the part code of the control that the point was in when the mouse-down event occurred. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240336">
 </A>
<A HREF="ControlMgrRef.d.html#32765" CLASS="XRef"><CODE>MyUserPaneTrackingProc</A></CODE>
 tracks a control while the user holds down the mouse button. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240341">
 </A>
<A HREF="ControlMgrRef.d.html#35931" CLASS="XRef"><CODE>MyUserPaneIdleProc</A></CODE>
 performs idle processing. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240346">
 </A>
<A HREF="ControlMgrRef.d.html#20052" CLASS="XRef"><CODE>MyUserPaneKeyDownProc</A></CODE>
 handles keyboard event processing. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240351">
 </A>
<A HREF="ControlMgrRef.d.html#23211" CLASS="XRef"><CODE>MyUserPaneActivateProc</A></CODE>
 handles activate and deactivate event processing. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240356">
 </A>
<A HREF="ControlMgrRef.d.html#19538" CLASS="XRef"><CODE>MyUserPaneFocusProc</A></CODE>
 handles keyboard focus. New with Appearance Manager 1.0.</LI>
<LI CLASS="B1.Bullet1">
<A NAME="pgfId=240306">
 </A>
<A HREF="ControlMgrRef.d.html#22330" CLASS="XRef"><CODE>MyUserPaneBackgroundProc</A></CODE>
 sets the background color or pattern for user panes that support embedding. New with Appearance Manager 1.0.</LI>
</UL>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63652">
 </A>
<A NAME="17904">
 </A>
MyUserPaneDrawProc</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=157012">
 </A>
Draws the content of your user pane control in the rectangle of user pane control.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=198080">
 </A>
The Control Manager declares the type for an application-defined user pane draw function as follows:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=260901">
 </A>
typedef pascal void (*ControlUserPaneDrawProc)(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 part);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157015">
 </A>
The Control Manager defines the data type <CODE>ControlUserPaneDrawUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=260907">
 </A>
typedef UniversalProcPtr ControlUserPaneDrawUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157018">
 </A>
You typically use the <CODE>NewControlUserPaneDrawProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157019">
 </A>
<CODE>ControlUserPaneDrawUPP</CODE>
 myControl<CODE>UserPaneDraw</CODE>
UPP; myControl<CODE>UserPaneDraw</CODE>
UPP = <CODE>NewControlUserPaneDrawProc</CODE>
(MyUserPaneDraw);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201444">
 </A>
You typically use the <CODE>CallControlUserPaneDrawProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201445">
 </A>
<CODE>CallControlUserPaneDrawProc</CODE>
(myControl<CODE>UserPaneDraw</CODE>
UPP, control, part);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=127034">
 </A>
Here's how to declare the function <CODE>MyUserPaneDrawProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=260916">
 </A>
pascal void MyUserPaneDrawProc (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 part);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=260920">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84155">
 </A>
A handle to the user pane control in which you wish drawing to occur.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=260930">
 </A>
<CODE>part</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=99651">
 </A>
The part code of the control you should draw. If 0, draw the entire control.</DD>
</DL COMPACT>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=124829">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=198070">
 </A>
Once you have created the function <CODE>MyUserPaneDrawProc</CODE>
, pass <CODE>kControlUserPaneDrawProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.The Control Manager will draw the user pane control with a universal procedure pointer to <CODE>MyUserPaneDrawProc</CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225836">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225837">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63660">
 </A>
<A NAME="28528">
 </A>
MyUserPaneHitTestProc</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=127997">
 </A>
Returns the part code of the control that the point was in when the mouse-down event occurred.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=225909">
 </A>
The Control Manager declares the type for an application-defined user pane hit test function as follows:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=260941">
 </A>
typedef pascal ControlPartCode (*ControlUserPaneHitTestProc) (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Point where);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=225912">
 </A>
The Control Manager defines the data type <CODE>ControlUserPaneHitTestUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=260947">
 </A>
typedef UniversalProcPtr ControlUserPaneHitTestUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157031">
 </A>
You typically use the <CODE>NewControlUserPaneHitTestProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157032">
 </A>
<CODE>ControlUserPaneHitTestUPP</CODE>
 myControl<CODE>UserPaneHitTest</CODE>
UPP; myControl<CODE>UserPaneHitTest</CODE>
UPP =<CODE> NewControlUserPaneHitTest</CODE>
Proc (MyUserPaneHitTest);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201460">
 </A>
You typically use the <CODE>CallControlUserPaneHitTestProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201461">
 </A>
<CODE>CallControlUserPaneHitTest</CODE>
Proc(myControl<CODE>UserPaneHitTest</CODE>
UPP, control, where);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=128001">
 </A>
Here's how to declare the function <CODE>MyUserPaneHitTestProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=260959">
 </A>
pascal ControlPartCode MyUserPaneHitTestProc (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Point where);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=260963">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84121">
 </A>
A handle to the control in which the mouse-down event occurred.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=260973">
 </A>
<CODE>where</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=63664">
 </A>
The point, in a window's local coordinates, where the mouse-down event occurred.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=260982">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100828">
 </A>
Returns the part code of the control where the mouse-down event occurred. If the point was not over a control, your function should return <CODE>kControlNoPart</CODE>
.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=124782">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=198103">
 </A>
Once you have created the function <CODE>MyUserPaneHitTestProc</CODE>
, pass <CODE>kControlUserPaneHitTestProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225842">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225843">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63668">
 </A>
<A NAME="32765">
 </A>
MyUserPaneTrackingProc</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=157040">
 </A>
Tracks a control while the user holds down the mouse button.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=198123">
 </A>
The Control Manager declares the type for an application-defined user pane tracking function as follows:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=260993">
 </A>
typedef pascal ControlPartCode (*ControlUserPaneTrackingProc)(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Point startPt,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlActionUPP actionProc);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157043">
 </A>
The Control Manager defines the data type <CODE>ControlUserPaneTrackingUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=260999">
 </A>
typedef UniversalProcPtr ControlUserPaneTrackingUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157046">
 </A>
You typically use the <CODE>NewControlUserPaneTrackingingProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157047">
 </A>
<CODE>ControlUserPaneTrackingUPP</CODE>
 myControl<CODE>UserPaneTracking</CODE>
UPP; myControl<CODE>UserPaneTracking</CODE>
UPP = <CODE>NewControlUserPaneTracking</CODE>
Proc (My<CODE>UserPaneTracking</CODE>
);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201478">
 </A>
You typically use the <CODE>CallControlUserPaneTrackingingProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201479">
 </A>
<CODE>CallControlUserPaneTracking</CODE>
Proc(myControl<CODE>UserPaneTracking</CODE>
UPP, control, startPt, actionProc);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=128024">
 </A>
Here's how to declare the function <CODE>MyUserPaneTrackingProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261011">
 </A>
pascal ControlPartCode MyUserPaneTrackingProc (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Point startPt,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlActionUPP actionProc);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261015">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=63672">
 </A>
A handle to the control in which the mouse-down event occurred.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261025">
 </A>
<CODE>startPt</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84115">
 </A>
The location of the cursor at the time the mouse button was first pressed, in local coordinates. Your application retrieves this point from the <CODE>where</CODE>
 field of the event structure.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261034">
 </A>
<CODE>actionProc</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=63673">
 </A>
A pointer to an action function defining what action your application takes while the user holds down the mouse button. The value of the <CODE>actionProc</CODE>
 parameter can be a valid <CODE>procPtr</CODE>
, <CODE>nil</CODE>
, or -1. A value of -1 indicates that the control should either perform auto tracking, or if it is incapable of doing so, do nothing (like <CODE>nil</CODE>
).</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261043">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100857">
 </A>
Returns the part code of the control part that was tracked. If tracking was unsuccessful, <CODE>kControlNoPartCode</CODE>
 is returned.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=124747">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=63675">
 </A>
Your <CODE>MyUserPaneTrackingProc</CODE>
 function should track the control by repeatedly calling the action function specified in the <CODE>actionProc</CODE>
 parameter until the mouse button is released. When the mouse button is released, your function should return the part code of the control part that was tracked.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=198113">
 </A>
This function will only get called if you've set the <CODE>kControlHandlesTracking </CODE>
feature bit on creation of the user pane control. Once you have created the function <CODE>MyUserPaneTrackingProc</CODE>
, pass <CODE>kControlUserPaneTrackingProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225848">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225849">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=91516">
 </A>
<A NAME="35931">
 </A>
MyUserPaneIdleProc</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=157055">
 </A>
Performs idle processing.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=198138">
 </A>
The Control Manager declares the type for an application-defined user pane idle function as follows:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261054">
 </A>
typedef pascal void (*ControlUserPaneIdleProc)(ControlHandle control);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157058">
 </A>
The Control Manager defines the data type <CODE>ControlUserPaneIdleUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261060">
 </A>
typedef UniversalProcPtr ControlUserPaneIdleUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157061">
 </A>
You typically use the <CODE>NewControlUserPaneIdleProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157062">
 </A>
<CODE>ControlUserPaneIdleUPP</CODE>
 myControl<CODE>UserPaneIdle</CODE>
UPP; myControl<CODE>UserPaneIdle</CODE>
UPP = NewControl<CODE>UserPaneIdleProc</CODE>
(My<CODE>UserPaneIdle</CODE>
);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201497">
 </A>
You typically use the <CODE>CallControlUserPaneIdleProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201498">
 </A>
<CODE>Call</CODE>
Control<CODE>UserPaneIdleProc</CODE>
(myControl<CODE>UserPaneIdle</CODE>
UPP, control);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=128047">
 </A>
Here's how to declare the function <CODE>MyUserPaneIdleProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261069">
 </A>
pascal void MyUserPaneIdleProc (ControlHandle control);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261073">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84148">
 </A>
A handle to the control for which you wish to perform idle processing.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=124736">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=198128">
 </A>
This function will only get called if you've set the <CODE>kControlWantsIdle</CODE>
 feature bit on creation of the user pane control. Once you have created the function <CODE>MyUserPaneIdleProc</CODE>
, pass <CODE>kControlUserPaneIdleProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225854">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225855">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63686">
 </A>
<A NAME="20052">
 </A>
MyUserPaneKeyDownProc </H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=128121">
 </A>
Handles keyboard event processing.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157070">
 </A>
The Control Manager declares the type for an application-defined user pane key down function as follows:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261085">
 </A>
typedef pascalControlPartCode(*ControlUserPaneKeyDownProc)(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 keyCode,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 charCode,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 modifiers);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157073">
 </A>
The Control Manager defines the data type <CODE>UserPaneKeyDownUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261091">
 </A>
typedef UniversalProcPtr ControlUserPaneKeyDownUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157076">
 </A>
You typically use the <CODE>NewControlUserPaneKeyDownProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157077">
 </A>
<CODE>ControlUserPaneKeyDownUPP</CODE>
 myControl<CODE>UserPaneKeyDown</CODE>
UPP; myControl<CODE>UserPaneKeyDown</CODE>
UPP = NewControl<CODE>UserPaneKeyDown</CODE>
Proc (My<CODE>UserPaneKeyDown</CODE>
);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201508">
 </A>
You typically use the <CODE>CallControlUserPaneKeyDownProc</CODE>
 macro like this:</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=201509">
 </A>
<CODE>Call</CODE>
Control<CODE>UserPaneKeyDown</CODE>
Proc(myControl<CODE>UserPaneKeyDown</CODE>
UPP, control, keyCode, charCode, modifiers);</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=128125">
 </A>
Here's how to declare the function <CODE>MyUserPaneKeyDownProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261103">
 </A>
pascal ControlPartCode MyUserPaneKeyDownProc (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 keyCode,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 charCode,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SInt16 modifiers);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261107">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84150">
 </A>
A handle to the control in which the keyboard event occurred.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261117">
 </A>
<CODE>keyCode</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=99677">
 </A>
The virtual key code derived from event structure. This value represents the key pressed or released by the user. It is always the same for a specific physical key on a particular keyboard regardless of which modifier keys were also pressed.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261126">
 </A>
<CODE>charCode</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=99679">
 </A>
A particular character derived from the event structure. This value depends on the virtual key code, the state of the modifier keys, and the current <CODE>'KCHR'</CODE>
 resource. </DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261135">
 </A>
<CODE>modifiers</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=99669">
 </A>
The constant in the <CODE>modifiers</CODE>
 field of the event structure specifying the state of the modifier keys and the mouse button at the time the event was posted. </DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261144">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100888">
 </A>
Returns the part code of the control where the keyboard event occurred. If the keyboard event did not occur in a control, your function should return <CODE>kControlNoPart</CODE>
.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=125002">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=125003">
 </A>
Your <CODE>MyUserPaneKeyDownProc</CODE>
 function should handle the key pressed or released by the user and return the part code of the control where the keyboard event occurred. This function will only get called if you've set the <CODE>kControlSupportsFocus</CODE>
 feature bit on creation of the user pane control. Once you have created the function <CODE>MyUserPaneKeyDownProc</CODE>
, pass <CODE>kControlUserPaneKeyDownProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225860">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225861">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63695">
 </A>
<A NAME="23211">
 </A>
MyUserPaneActivateProc</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=128148">
 </A>
Handles activate and deactivate event processing.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157085">
 </A>
The Control Manager declares the type for an application-defined user pane activate function as follows:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261155">
 </A>
typedef pascal void (*ControlUserPaneActivateProc)(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean activating);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157088">
 </A>
The Control Manager defines the data type <CODE>UserPaneActivateUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261161">
 </A>
typedef UniversalProcPtr ControlUserPaneActivateUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157091">
 </A>
You typically use the <CODE>NewControlUserPaneActivateProc</CODE>
 macro like this:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261167">
 </A>
ControlUserPaneActivateUPP myControlUserPaneActivateUPP;<BR>
myControlUserPaneActivateUPP = NewControlUserPaneActivateProc <BR>
(MyUserPaneActivate);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=201524">
 </A>
You typically use the <CODE>CallControlUserPaneActivateProc</CODE>
 macro like this:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261171">
 </A>
CallControlUserPaneActivateProc(myControlUserPaneActivateUPP, control, <BR>
activating);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=128152">
 </A>
Here's how to declare the function <CODE>MyUserPaneActivateProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261175">
 </A>
pascal void MyUserPaneActivateProc (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean activating);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261179">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84162">
 </A>
A handle to the control in which the activate event occurred.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261189">
 </A>
<CODE>activating</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=63699">
 </A>
A Boolean value indicating whether or not the control is being activated. If <CODE>true</CODE>
, the control is being activated. If <CODE>false</CODE>
, the control is being deactivated.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=125151">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=125152">
 </A>
Your <CODE>MyUserPaneActivateProc</CODE>
 function should perform any special processing before the user pane becomes activated or deactivated. For example, it should deactivate its <CODE>TEHandle</CODE>
 or <CODE>ListHandle</CODE>
 if the user pane is about to be deactivated.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=198174">
 </A>
This function will only get called if you've set the <CODE>kControlWantsActivate</CODE>
 feature bit on creation of the user pane control. Once you have created the function <CODE>MyUserPaneActivateProc</CODE>
, pass <CODE>kControlUserPaneActivateProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225866">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225867">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63703">
 </A>
<A NAME="19538">
 </A>
MyUserPaneFocusProc</H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=128167">
 </A>
Handles keyboard focus.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=225944">
 </A>
The Control Manager declares the type for an application-defined user pane focus function as follows:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261204">
 </A>
typedef pascal ControlPartCode (*ControlUserPaneFocusProc)(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlFocusPart action);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=225947">
 </A>
The Control Manager defines the data type <CODE>ControlUserPaneFocusUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261210">
 </A>
typedef UniversalProcPtr ControlUserPaneFocusUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157106">
 </A>
You typically use the <CODE>NewControlUserPaneFocusProc</CODE>
 macro like this:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261216">
 </A>
ControlUserPaneFocusUPP myControlUserPaneFocusUPP;<BR>
myControlUserPaneFocusUPP = NewControlUserPaneFocusProc <BR>
(MyUsePaneFocus);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=201533">
 </A>
You typically use the <CODE>CallControlUserPaneFocusProc</CODE>
 macro like this:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261220">
 </A>
CallControlUserPaneFocusProc(myControlUserPaneFocusUPP, control, action);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=128171">
 </A>
Here's how to declare the function <CODE>MyUserPaneFocusProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261224">
 </A>
pascal ControlPartCode MyUserPaneFocusProc (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlFocusPart action);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261228">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84166">
 </A>
A handle to the control that is to adjust its focus.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261238">
 </A>
<CODE>action</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=63707">
 </A>
The part code of the user pane to receive keyboard focus; see <A HREF="ControlMgrRef.a.html#32933" CLASS="XRef">Handling Keyboard Focus</A>
. </DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261247">
 </A>
<I CLASS="italics">
function result</I>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=100937">
 </A>
Returns the part of the user pane actually focused. <CODE>kControlFocusNoPart</CODE>
 is returned if the user pane has lost the focus or cannot be focused.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=125329">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=125330">
 </A>
Your <CODE>MyUserPaneFocusProc</CODE>
 function is called in response to a change in keyboard focus. It should respond by changing keyboard focus based on the part code passed in the <CODE>action</CODE>
 parameter.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=198188">
 </A>
This function will only get called if you've set the <CODE>kControlSupportsFocus</CODE>
 feature bit on creation of the user pane control. Once you have created the function <CODE>MyUserPaneFocusProc</CODE>
, pass <CODE>kControlUserPaneFocusProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225872">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225873">
 </A>
Available with Appearance Manager 1.0 and later.</P>
<BR><H3 CLASS="RoH.RoutineHeading">
<A NAME="pgfId=63712">
 </A>
<A NAME="22330">
 </A>
MyUserPaneBackgroundProc </H3>
<P CLASS="T1.Text1">
<A NAME="pgfId=128187">
 </A>
Sets the background color or pattern for user panes that support embedding.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=157115">
 </A>
The Control Manager declares the type for an application-defined user pane background color function as follows:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261258">
 </A>
typedef pascal (*ControlUserPaneBackgroundProcPtr)(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control,<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlBackgroundPtr info);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157118">
 </A>
The Control Manager defines the data type <CODE>ControlUserPaneBackgroundUPP</CODE>
 to identify the universal procedure pointer for this application-defined function:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261264">
 </A>
typedef UniversalProcPtr ControlUserPaneBackgroundUPP;</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=157121">
 </A>
You typically use the <CODE>NewControlUserPaneBackgroundProc</CODE>
 macro like this:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261270">
 </A>
ControlUserPaneBackgroundUPP myControlUserPaneBackgroundUPP;<BR>
myControlUserPaneBackgroundUPP = NewControlUserPaneBackgroundProc <BR>
(MyUsePaneBackground);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=201544">
 </A>
You typically use the <CODE>CallControlUserPaneBackgroundProc</CODE>
 macro like this:</P>
<CODE CLASS="Cv.Code">
<A NAME="pgfId=261274">
 </A>
CallControlUserPaneBackgroundProc(myControlUserPaneBackgroundUPP, control, <BR>
info);</CODE>
<P CLASS="T1.Text1">
<A NAME="pgfId=128191">
 </A>
Here's how to declare the function <CODE>MyUserPaneBackgroundProc</CODE>:</P>
<CODE CLASS="RD.RoutineDeclare">
<A NAME="pgfId=261278">
 </A>
pascal void MyUserPaneBackgroundProc (<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlHandle control<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ControlBackgroundPtr info);</CODE>
<DL COMPACT>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261282">
 </A>
<CODE>control</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84178">
 </A>
A handle to the control for which the background color or pattern is to be set.</DD>
<DT CLASS="DT.DefinitionTerm">
<A NAME="pgfId=261292">
 </A>
<CODE>info</CODE>
</DT>
<DD CLASS="DD.DefinitionDef">
<A NAME="pgfId=84176">
 </A>
A pointer to information such as the depth and type of the drawing device.</DD>
</DL COMPACT>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=125352">
 </A>
DISCUSSION</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=125350">
 </A>
Your <CODE>MyUserPaneBackgroundProc</CODE>
 function should set the user pane background color or pattern to whatever is appropriate given the bit depth and device type passed in. Your <CODE>MyUserPaneBackgroundProc</CODE>
 function is called to set up the background color. This ensures that when an embedded control calls <CODE>EraseRgn</CODE>
 or <CODE>EraseRect</CODE>
, the background is erased to the correct color or pattern.</P>
<P CLASS="T1.Text1">
<A NAME="pgfId=198200">
 </A>
This function will only get called if there is a control embedded in the user pane and if you've set the <CODE>kControlHasSpecialBackground</CODE>
 and <CODE>kControlSupportsEmbedding</CODE>
 feature bits on creation of the user pane control. Once you have created the function <CODE>MyUserPaneBackgroundProc</CODE>
, pass <CODE>kControlUserPaneBackgroundProcTag</CODE>
 in the <CODE>tagName</CODE>
 parameter of <A HREF="ControlMgrRef.9.html#18086" CLASS="XRef"><CODE>SetControlData</A></CODE>
.</P>
</DIV>
<DIV>
<BR><H4 CLASS="RSb.RoutineSbhd">
<A NAME="pgfId=225878">
 </A>
VERSION NOTES</H6>
<P CLASS="T1.Text1">
<A NAME="pgfId=225879">
 </A>
Available with Appearance Manager 1.0 and later.</P>
</DIV>
<HR>\xA9 1998 Apple Computer, Inc. &#150 (Last Updated 19 Nov 98)<P><A HREF="ControlMgrRef.2.html" border="0"><img src="images/up.gif" border="0"></A> <A HREF="ControlMgrRef.c.html"><img src="images/previous.gif" border="0"></A> <A HREF="ControlMgrRef.e.html"><img src="images/next.gif" border="0"></A> 

<!-- insert Show/Hide frames -->
<a href="javascript:testFrame()">
<script>
<!--
 document.write(frameLink);
//-->
</script><!-- end Show/Hide frames --></a>

<!-- start of footer -->
<!--#include virtual="/includes/framesetfooter" -->
<!-- end of footer -->

</body>
</HTML>
