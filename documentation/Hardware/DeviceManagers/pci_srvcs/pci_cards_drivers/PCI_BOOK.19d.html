<HTML><HEAD><META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter"><script language="JavaScript" src="frametest.js"></script><TITLE> SetInterruptTimer11</TITLE></HEAD><BODY BGCOLOR="#ffffff"><DIV><a name="top"></a><!-- start of banner --><!--#include virtual="/includes/framesetheader" --><!-- end of banner --><!-- start of path --><font face="Geneva,Helvetica,Arial" size="1"><b><br>PATH<spacer type="horizontal" size="5">&nbsp;</b><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Documentation</a> &gt; <!-- a href="" target="_top" -->Hardware<!-- /a -->  <b>&gt; </b><a href="../../devicemgrs.html" target="_top">Device Managers and Drivers</a> <b>&gt; </b><a href="../pci_srvcs.html" target="_top">PCI Card Services</a> <b>&gt; </b>Designing PCI Cards and Drivers for Power Macintosh Computers</font><br><br><!-- end of path --><A HREF="PCI_BOOK.19b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.19c.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.19e.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><HR></DIV><H1 CLASS="RoH.RoutineHeading"><A NAME="pgfId=4905"> </A><A NAME="21441"> </A>SetInterruptTimer</H1><CODE CLASS="RD.RoutineDeclare"><A NAME="pgfId=20041"> </A>OSStatus SetInterruptTimer (<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const AbsoluteTime *expirationTime,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SecondaryInterruptHandler2 handler,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void *p1,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TimerID *timer);</CODE><DL COMPACT><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20045"> </A><TT CLASS="cv">--&gt; expirationTime</TT><A NAME="31328"> </A></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4909"> </A> Time when the timer expires.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20056"> </A><TT CLASS="cv">--&gt; handler</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4910"> </A>Address of a secondary interrupt handler.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20065"> </A><TT CLASS="cv">--&gt; p1</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4911"> </A>First parameter to be passed to handler.</DD><DT CLASS="DT.DefinitionTerm"><A NAME="pgfId=20074"> </A><TT CLASS="cv">&lt;-- timer</TT></DT><DD CLASS="DD.DefinitionDef"><A NAME="pgfId=4912"> </A>Timer ID.</DD></DL COMPACT><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4913"> </A>DESCRIPTION</H5><P CLASS="T1.Text1"><A NAME="pgfId=4914"> </A>The parameter <TT CLASS="cv">expirationTime</TT> is the current time plus the amount of time delay before calling the interrupt handler, expressed in <TT CLASS="cv">AbsoluteTime</TT> units.<A NAME="marker=8200"> </A></P><P CLASS="T1.Text1"><A NAME="pgfId=4915"> </A>Parameter <TT CLASS="cv">handler</TT> is the address of a secondary interrupt handler that is to be run when the specified time is reached. </P><P CLASS="T1.Text1"><A NAME="pgfId=4916"> </A>Parameter <TT CLASS="cv">p1</TT> is the value that is passed as the first parameter to the secondary interrupt handler when the timer expires. The value of the second parameter passed to the secondary interrupt handler is set to the current program counter at the time the timer expired. </P><P CLASS="T1.Text1"><A NAME="pgfId=4917"> </A>Parameter <TT CLASS="cv">timer</TT> is updated with the ID of the timer that is created. This ID may be used in conjunction with <A HREF="PCI_BOOK.1a1.html#10870" CLASS="XRef"><TT CLASS="cv">CancelTimer</TT></A>.</P></DIV><DIV><blockquote><H4 CLASS="ImportantHead"><A NAME="pgfId=20083"> </A>IMPORTANT</H4><P CLASS="I.Important"><A NAME="pgfId=4921"> </A>If you use <TT CLASS="cv">SetInterruptTimer</TT> in your code, you must provide a copy of System Enabler version 1.0.1 to Power Macintosh 9500 users who have Enabler version 1.0. If Enabler version 1.0.1 or later is already installed, the installer should not replace it. Only the Power Macintosh 9500 has a problem with <TT CLASS="cv">SetInterruptTimer</TT>, and it occurs on only a few early units. Other Power Macintosh models are not affected. For further information, see the folder &quot;New 9500 Enabler&quot; in the PCI Device Driver Kit. </P></blockquote><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4925"> </A>EXECUTION CONTEXT</H5><P CLASS="T1.Text1"><A NAME="pgfId=4926"> </A><TT CLASS="cv">SetInterruptTimer</TT> may be called from task level, secondary interrupt level, or hardware interrupt level.</P></DIV><DIV><H5 CLASS="RSb.RoutineSbhd"><A NAME="pgfId=4934"> </A>RETURN CODE</H5><TABLE border=1 cellpadding=3><TR><TD ROWSPAN="1" COLSPAN="1"><CODE CLASS="TbCv.TblCode"><A NAME="pgfId=4929"> </A>noErr</CODE></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=4931"> </A>0</FONT></TD><TD ROWSPAN="1" COLSPAN="1"><FONT CLASS="TbT.TblText"><A NAME="pgfId=4933"> </A>No error</FONT></TD></TR></TABLE></DIV></DIV><HR>&#169 1999 Apple Computer, Inc. &#150 (Last Updated 26 March 99)<P><A HREF="PCI_BOOK.19b.html"><img src="images/up.gif" border="0" width="36" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.19c.html"><img src="images/previous.gif" border="0" width="66" height="16"></A><nobr>&nbsp;</nobr><A HREF="PCI_BOOK.19e.html"><img src="images/next.gif" border="0" width="49" height="16"></A><!-- insert Show/Hide frames --><a href="javascript:testFrame()"><script><!--document.write(frameLink);//--></script><!-- end Show/Hide frames --></A><!-- start of footer --><!--#include virtual="/includes/framesetfooter" --><!-- end of footer --></body></HTML>