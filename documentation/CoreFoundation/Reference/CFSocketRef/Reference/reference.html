<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>CFSocket Reference</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="CFSocket Reference"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20001445-DontLinkChapterID_1" title="CFSocket Reference"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/CoreFoundation/index.html#//apple_ref/doc/uid/TP30001281-TP30000421" target="_top">Core Foundation</a> &gt; <a href="../index.html" target="_top">CFSocket Reference</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFSocket.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/20001445-DontLinkChapterID_1-DontLinkElementID_6" title="CFSocket Reference"></a><h1>CFSocket Reference</h1><div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr><td scope="row"><strong><span class="noWrap">Derived from</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">
<span class="content_text"><a href="../../CFTypeRef/index.html#//apple_ref/doc/uid/20001203" target="_top">CFType</a></span></span></div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Framework</span></strong></td><td><div style="margin-bottom:1px"><a href="../../CoreFoundation_Collection/index.html#//apple_ref/doc/uid/TP40003849" target="_top">CoreFoundation</a>/CoreFoundation.h</div></td></tr><tr><td scope="row"><strong><span style="white-space: nowrap;">Declared in</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text">CFSocket.h</span><br/></div></td></tr><tr><td scope="row"><strong><span class="noWrap">Companion guides</span></strong></td><td><div style="margin-bottom:1px"><span class="content_text"><a href="../../../../Networking/Conceptual/CFNetwork/index.html#//apple_ref/doc/uid/TP30001132" target="_top">CFNetwork Programming Guide</a></span><br/><span class="content_text"><a href="../../../../Cocoa/Conceptual/Multithreading/index.html#//apple_ref/doc/uid/10000057i" target="_top">Threading Programming Guide</a></span><br/></div></td></tr></table></div><br/><a name="//apple_ref/doc/uid/20001445-CH201-DontLinkElementID_4" title="Overview"></a><h2>Overview</h2><p>A CFSocket is a communications channel implemented with a BSD socket.</p><p> CFSockets can be created from scratch (<code><a href="reference.html#//apple_ref/c/func/CFSocketCreate">CFSocketCreate</a></code> and <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithSocketSignature">CFSocketCreateWithSocketSignature</a></code>), from a pre-existing BSD socket (<code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithNative">CFSocketCreateWithNative</a></code>), or already connected to a remote socket (<code><a href="reference.html#//apple_ref/c/func/CFSocketCreateConnectedToSocketSignature">CFSocketCreateConnectedToSocketSignature</a></code>).</p><p>To listen for messages, you need to create a run loop source with <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateRunLoopSource">CFSocketCreateRunLoopSource</a></code> and add it to a run loop with <code><a href="../../CFRunLoopRef/Reference/reference.html#//apple_ref/c/func/CFRunLoopAddSource" target="_top">CFRunLoopAddSource</a></code>. You can select the types of socket activities, such as connection attempts or data arrivals, that cause the source to fire and invoke your CFSocketâ€™s callback function. To send data, you store the data in a CFData and call <code><a href="reference.html#//apple_ref/c/func/CFSocketSendData">CFSocketSendData</a></code>.</p><p>Unlike Mach and message ports, sockets support communication over a network.</p>

<a name="//apple_ref/doc/uid/20001445-DontLinkChapterID_1-DontLinkElementID_5" title="Functions by Task"></a><h2>Functions by Task</h2>
<a name="//apple_ref/doc/uid/20001445-CH1g-102211" title="Creating Sockets"></a>
    
    <h3 class="tasks">Creating Sockets</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketCreate">CFSocketCreate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a CFSocket object of a specified protocol and type.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateConnectedToSocketSignature">CFSocketCreateConnectedToSocketSignature</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a CFSocket object and opens a connection to a remote socket.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithNative">CFSocketCreateWithNative</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a CFSocket object for a pre-existing native socket.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithSocketSignature">CFSocketCreateWithSocketSignature</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a CFSocket object using information from a CFSocketSignature structure.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001445-CH1g-103258" title="Configuring Sockets"></a>
    
    <h3 class="tasks">Configuring Sockets</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketCopyAddress">CFSocketCopyAddress</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the local address of a CFSocket object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketCopyPeerAddress">CFSocketCopyPeerAddress</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the remote address to which a CFSocket object is connected.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketDisableCallBacks">CFSocketDisableCallBacks</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Disables the callback function of a CFSocket object for certain types of socket activity.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketEnableCallBacks">CFSocketEnableCallBacks</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Enables the callback function of a CFSocket object for certain types of socket activity.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketGetContext">CFSocketGetContext</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the context information for a CFSocket object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketGetNative">CFSocketGetNative</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the native socket associated with a CFSocket object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketGetSocketFlags">CFSocketGetSocketFlags</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns flags that control certain behaviors of a CFSocket object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketSetAddress">CFSocketSetAddress</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Binds a local address to a CFSocket object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sets flags that control certain behaviors of a CFSocket object.'/>
            </span></li>
    </ul>


<a name="//apple_ref/doc/uid/20001445-CH1g-93166" title="Using Sockets"></a><a name="//apple_ref/doc/uid/20001445-CH1g-CJBCJICJ" title="Using Sockets"></a>
    
    <h3 class="tasks">Using Sockets</h3>
        
    <ul class="tooltip">
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketConnectToAddress">CFSocketConnectToAddress</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Opens a connection to a remote socket.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateRunLoopSource">CFSocketCreateRunLoopSource</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Creates a CFRunLoopSource object for a CFSocket object.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketGetTypeID">CFSocketGetTypeID</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns the type identifier for the CFSocket opaque type.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketInvalidate">CFSocketInvalidate</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Invalidates a CFSocket object, stopping it from sending or receiving any more messages.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketIsValid">CFSocketIsValid</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Returns a Boolean value that indicates whether a CFSocket object is valid and able to send or receive messages.'/>
            </span></li>
            <li class="tooltip"><span onMouseOut="hidetip()" onMouseOver="showtip(this,event);">
                
                <code><a href="reference.html#//apple_ref/c/func/CFSocketSendData">CFSocketSendData</a></code>
                
					<img src="../../../../Resources/Images/info_icon.jpg" width="10" height="10" border="0" class="tooltipicon" abstract='Sends data over a CFSocket object.'/>
            </span></li>
    </ul>

<a name="//apple_ref/doc/uid/20001445-CH1g-85785" title="Functions"></a><a name="//apple_ref/doc/uid/20001445-CH1g-CJBJJICF" title="Functions"></a><h2>Functions</h2>






















<a name="//apple_ref/c/func/CFSocketConnectToAddress" title="CFSocketConnectToAddress"></a><a name="//apple_ref/doc/c_ref/CFSocketConnectToAddress" title="CFSocketConnectToAddress"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17749" title="CFSocketConnectToAddress"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_8"></a><h3 class="tight">CFSocketConnectToAddress</h3>
<p class="spaceabove">Opens a connection to a remote socket.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketError">CFSocketError</a> CFSocketConnectToAddress (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> address,
   <a href="../../CFTimeUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFTimeInterval" target="_top">CFTimeInterval</a> timeout
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object with which to connect to <em>address</em>. </p></dd>
<dt><em>address</em></dt>
<dd><p>A CFData object containing a <code>struct sockaddr</code> appropriate for the protocol family of <em>s</em>, indicating the remote address to which to connect. </p></dd>
<dt><em>timeout</em></dt>
<dd><p>The time to wait for a connection to succeed. If a negative value is used, this function does not wait for the connection and instead lets the connection attempt happen in the background. If <em>s</em> requested a <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketConnectCallBack">kCFSocketConnectCallBack</a></code>, you will receive a callback when the background connection succeeds or fails. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An error code indicating success or failure of the connection attempt. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketCopyAddress" title="CFSocketCopyAddress"></a><a name="//apple_ref/doc/c_ref/CFSocketCopyAddress" title="CFSocketCopyAddress"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17752" title="CFSocketCopyAddress"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_9"></a><h3 class="tight">CFSocketCopyAddress</h3>
<p class="spaceabove">Returns the local address of a CFSocket object.</p>
<p class="spaceabove"><pre>
<a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> CFSocketCopyAddress (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The local address, stored as a <code>struct sockaddr</code> in a CFData object, of <em>s</em>. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketCopyPeerAddress" title="CFSocketCopyPeerAddress"></a><a name="//apple_ref/doc/c_ref/CFSocketCopyPeerAddress" title="CFSocketCopyPeerAddress"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17753" title="CFSocketCopyPeerAddress"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_10"></a><h3 class="tight">CFSocketCopyPeerAddress</h3>
<p class="spaceabove">Returns the remote address to which a CFSocket object is connected.</p>
<p class="spaceabove"><pre>
<a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> CFSocketCopyPeerAddress (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The remote address, stored as a <code>struct sockaddr</code> in a CFData object, to which <em>s</em> is connected. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketCreate" title="CFSocketCreate"></a><a name="//apple_ref/doc/c_ref/CFSocketCreate" title="CFSocketCreate"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17744" title="CFSocketCreate"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_11"></a><h3 class="tight">CFSocketCreate</h3>
<p class="spaceabove">Creates a CFSocket object of a specified protocol and type.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> CFSocketCreate (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   SInt32 protocolFamily,
   SInt32 socketType,
   SInt32 protocol,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> callBackTypes,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBack">CFSocketCallBack</a> callout,
   const <a href="reference.html#//apple_ref/doc/c_ref/CFSocketContext">CFSocketContext</a> *context
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>protocolFamily</em></dt>
<dd><p>The protocol family for the socket. If negative or 0 is passed, the socket defaults to <code>PF_INET</code>.</p></dd>
<dt><em>socketType</em></dt>
<dd><p>The socket type to create. If <em>protocolFamily</em> is <code>PF_INET</code> and <em>socketType</em> is negative or 0, the socket type defaults to <code>SOCK_STREAM</code>.</p></dd>
<dt><em>protocol</em></dt>
<dd><p>The protocol for the socket. If <em>protocolFamily</em> is <code><!--a  -->PF_INET<!--/a--></code> and <em>protocol</em> is negative or 0, the socket protocol defaults to <code><!--a  -->IPPROTO_TCP<!--/a--></code> if <em>socketType</em> is <code><!--a  -->SOCK_STREAM<!--/a--></code> or <code><!--a  -->IPPROTO_UDP<!--/a--></code> if <em>socketType</em> is <code><!--a  -->SOCK_DGRAM<!--/a--></code>.</p></dd>
<dt><em>callBackTypes</em></dt>
<dd><p>A bitwise-OR combination of the types of socket activity that should cause <em>callout</em> to be called. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/CFSocketCallBackType">Callback Types</a></span> for the possible activity values. </p></dd>
<dt><em>callout</em></dt>
<dd><p>The function to call when one of the activities indicated by <em>callBackTypes</em> occurs. </p></dd>
<dt><em>context</em></dt>
<dd><p>A structure holding contextual information for the CFSocket object. The function copies the information out of the structure, so the memory pointed to by <em>context</em> does not need to persist beyond the function call. Can be <code><!--a  -->NULL<!--/a--></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFSocket object, or <code><!--a  -->NULL<!--/a--></code> if an error occurred. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaEcho/index.html#//apple_ref/doc/uid/DTS10003603" target="_top">CocoaEcho</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaHTTPServer/index.html#//apple_ref/doc/uid/DTS10003604" target="_top">CocoaHTTPServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaSOAP/index.html#//apple_ref/doc/uid/DTS10003715" target="_top">CocoaSOAP</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketCreateConnectedToSocketSignature" title="CFSocketCreateConnectedToSocketSignature"></a><a name="//apple_ref/doc/c_ref/CFSocketCreateConnectedToSocketSignature" title="CFSocketCreateConnectedToSocketSignature"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17747" title="CFSocketCreateConnectedToSocketSignature"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_12"></a><h3 class="tight">CFSocketCreateConnectedToSocketSignature</h3>
<p class="spaceabove">Creates a CFSocket object and opens a connection to a remote socket.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> CFSocketCreateConnectedToSocketSignature (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   const <a href="reference.html#//apple_ref/doc/c_ref/CFSocketSignature">CFSocketSignature</a> *signature,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> callBackTypes,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBack">CFSocketCallBack</a> callout,
   const <a href="reference.html#//apple_ref/doc/c_ref/CFSocketContext">CFSocketContext</a> *context,
   <a href="../../CFTimeUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFTimeInterval" target="_top">CFTimeInterval</a> timeout
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>signature</em></dt>
<dd><p>A <code><a href="reference.html#//apple_ref/c/tdef/CFSocketSignature">CFSocketSignature</a></code> identifying the communication protocol and address to which the CFSocket object should connect. </p></dd>
<dt><em>callBackTypes</em></dt>
<dd><p>A bitwise-OR combination of the types of socket activity that should cause <em>callout</em> to be called. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/CFSocketCallBackType">Callback Types</a></span> for the possible activity values. </p></dd>
<dt><em>callout</em></dt>
<dd><p>The function to call when one of the activities indicated by <em>callBackTypes</em> occurs. </p></dd>
<dt><em>context</em></dt>
<dd><p>A structure holding contextual information for the CFSocket object. The function copies the information out of the structure, so the memory pointed to by <em>context</em> does not need to persist beyond the function call. Can be <code><!--a  -->NULL<!--/a--></code>. </p></dd>
<dt><em>timeout</em></dt>
<dd><p>The time to wait for a connection to succeed. If a negative value is used, this function does not wait for the connection and instead lets the connection attempt happen in the background. If <em>callBackTypes</em> includes <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketConnectCallBack">kCFSocketConnectCallBack</a></code>, you will receive a callback when the background connection succeeds or fails. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFSocket object, or <code><!--a  -->NULL<!--/a--></code> if an error occurred. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketCreateRunLoopSource" title="CFSocketCreateRunLoopSource"></a><a name="//apple_ref/doc/c_ref/CFSocketCreateRunLoopSource" title="CFSocketCreateRunLoopSource"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17756" title="CFSocketCreateRunLoopSource"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_13"></a><h3 class="tight">CFSocketCreateRunLoopSource</h3>
<p class="spaceabove">Creates a CFRunLoopSource object for a CFSocket object.</p>
<p class="spaceabove"><pre>
<a href="../../CFRunLoopSourceRef/Reference/reference.html#//apple_ref/doc/c_ref/CFRunLoopSourceRef" target="_top">CFRunLoopSourceRef</a> CFSocketCreateRunLoopSource (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> order
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>s</em></dt>
<dd><p>The CFSocket object for which to create a run loop source. </p></dd>
<dt><em>order</em></dt>
<dd><p>A priority index indicating the order in which run loop sources are processed. When multiple run loop sources are firing in a single pass through the run loop, the sources are processed in increasing order of this parameter. If the run loop is set to process only one source per loop, only the highest priority source, the one with the lowest <em>order</em> value, is processed.</p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFRunLoopSource object for <em>s</em>. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Discussion</h5>
<p>The run loop source is not automatically added to a run loop. To add the source to a run loop, use <code><a href="../../CFRunLoopRef/Reference/reference.html#//apple_ref/c/func/CFRunLoopAddSource" target="_top">CFRunLoopAddSource</a></code>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFLocalServer/index.html#//apple_ref/doc/uid/DTS10003652" target="_top">CFLocalServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaEcho/index.html#//apple_ref/doc/uid/DTS10003603" target="_top">CocoaEcho</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaHTTPServer/index.html#//apple_ref/doc/uid/DTS10003604" target="_top">CocoaHTTPServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaSOAP/index.html#//apple_ref/doc/uid/DTS10003715" target="_top">CocoaSOAP</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DNSServiceMetaQuery/index.html#//apple_ref/doc/uid/DTS10003330" target="_top">DNSServiceMetaQuery</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketCreateWithNative" title="CFSocketCreateWithNative"></a><a name="//apple_ref/doc/c_ref/CFSocketCreateWithNative" title="CFSocketCreateWithNative"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17745" title="CFSocketCreateWithNative"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_14"></a><h3 class="tight">CFSocketCreateWithNative</h3>
<p class="spaceabove">Creates a CFSocket object for a pre-existing native socket.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> CFSocketCreateWithNative (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketNativeHandle">CFSocketNativeHandle</a> sock,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> callBackTypes,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBack">CFSocketCallBack</a> callout,
   const <a href="reference.html#//apple_ref/doc/c_ref/CFSocketContext">CFSocketContext</a> *context
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>sock</em></dt>
<dd><p>The native socket for which to create a CFSocket object. </p></dd>
<dt><em>callBackTypes</em></dt>
<dd><p>A bitwise-OR combination of the types of socket activity that should cause <em>callout</em> to be called. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/CFSocketCallBackType">Callback Types</a></span> for the possible activity values. </p></dd>
<dt><em>callout</em></dt>
<dd><p>The function to call when one of the activities indicated by <em>callBackTypes</em> occurs. </p></dd>
<dt><em>context</em></dt>
<dd><p>A structure holding contextual information for the CFSocket object. The function copies the information out of the structure, so the memory pointed to by <em>context</em> does not need to persist beyond the function call. Can be <code><!--a  -->NULL<!--/a--></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFSocket object, or <code><!--a  -->NULL<!--/a--></code> if an error occurred. If a CFSocket object already exists for <em>sock</em>, the function returns the pre-existing object instead of creating a new object; the <em>context</em>, <em>callout</em>, and <em>callBackTypes</em> parameters are ignored in this case. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFLocalServer/index.html#//apple_ref/doc/uid/DTS10003652" target="_top">CFLocalServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DNSServiceMetaQuery/index.html#//apple_ref/doc/uid/DTS10003330" target="_top">DNSServiceMetaQuery</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketCreateWithSocketSignature" title="CFSocketCreateWithSocketSignature"></a><a name="//apple_ref/doc/c_ref/CFSocketCreateWithSocketSignature" title="CFSocketCreateWithSocketSignature"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17746" title="CFSocketCreateWithSocketSignature"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_15"></a><h3 class="tight">CFSocketCreateWithSocketSignature</h3>
<p class="spaceabove">Creates a CFSocket object using information from a CFSocketSignature structure.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> CFSocketCreateWithSocketSignature (
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRef" target="_top">CFAllocatorRef</a> allocator,
   const <a href="reference.html#//apple_ref/doc/c_ref/CFSocketSignature">CFSocketSignature</a> *signature,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> callBackTypes,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBack">CFSocketCallBack</a> callout,
   const <a href="reference.html#//apple_ref/doc/c_ref/CFSocketContext">CFSocketContext</a> *context
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>allocator</em></dt>
<dd><p>The allocator to use to allocate memory for the new object. Pass <code><!--a  -->NULL<!--/a--></code> or <code><!--a target="_top" -->kCFAllocatorDefault<!--/a--></code> to use the current default allocator. </p></dd>
<dt><em>signature</em></dt>
<dd><p>A <code><a href="reference.html#//apple_ref/c/tdef/CFSocketSignature">CFSocketSignature</a></code> identifying the communication protocol and address with which to create the CFSocket object. </p></dd>
<dt><em>callBackTypes</em></dt>
<dd><p>A bitwise-OR combination of the types of socket activity that should cause <em>callout</em> to be called. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/CFSocketCallBackType">Callback Types</a></span> for the possible activity values. </p></dd>
<dt><em>callout</em></dt>
<dd><p>The function to call when one of the activities indicated by <em>callBackTypes</em> occurs. </p></dd>
<dt><em>context</em></dt>
<dd><p>A structure holding contextual information for the CFSocket object. The function copies the information out of the structure, so the memory pointed to by <em>context</em> does not need to persist beyond the function call. Can be <code><!--a  -->NULL<!--/a--></code>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The new CFSocket object, or <code><!--a  -->NULL<!--/a--></code> if an error occurred. Ownership follows the <span class="content_text"><a href="../../../Conceptual/CFMemoryMgmt/Concepts/Ownership.html#//apple_ref/doc/uid/20001148-103029" target="_top">Create Rule</a></span>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketDisableCallBacks" title="CFSocketDisableCallBacks"></a><a name="//apple_ref/doc/c_ref/CFSocketDisableCallBacks" title="CFSocketDisableCallBacks"></a><a name="//apple_ref/doc/uid/20001445-CH1g-CJBBBCFD" title="CFSocketDisableCallBacks"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_16"></a><h3 class="tight">CFSocketDisableCallBacks</h3>
<p class="spaceabove">Disables the callback function of a CFSocket object for certain types of socket activity.</p>
<p class="spaceabove"><pre>
void CFSocketDisableCallBacks (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> callBackTypes
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to modify. </p></dd>
<dt><em>callBackTypes</em></dt>
<dd><p>A bitwise-OR combination of CFSocket activity types that should not cause the callback function of <em>s</em> to be called. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/CFSocketCallBackType">Callback Types</a></span> for a list of callback types.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If you no longer want certain types of callbacks that you requested when creating <em>s</em>, you can use this function to temporarily disable the callback. Use <code><a href="reference.html#//apple_ref/c/func/CFSocketEnableCallBacks">CFSocketEnableCallBacks</a></code> to reenable a callback type.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.2 and later. </li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketEnableCallBacks" title="CFSocketEnableCallBacks"></a><a name="//apple_ref/doc/c_ref/CFSocketEnableCallBacks" title="CFSocketEnableCallBacks"></a><a name="//apple_ref/doc/uid/20001445-CH1g-CJBGBAJF" title="CFSocketEnableCallBacks"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_17"></a><h3 class="tight">CFSocketEnableCallBacks</h3>
<p class="spaceabove">Enables the callback function of a CFSocket object for certain types of socket activity.</p>
<p class="spaceabove"><pre>
void CFSocketEnableCallBacks (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> callBackTypes
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to modify. </p></dd>
<dt><em>callBackTypes</em></dt>
<dd><p>A bitwise-OR combination of CFSocket activity types that should cause the callback function of <em>s</em> to be called. See <span class="content_text"><a href="reference.html#//apple_ref/c/tdef/CFSocketCallBackType">Callback Types</a></span> for a list of callback types.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>If a callback type is not automatically reenabled, you can use this function to enable the callback. A callback type that is not automatically reenabled still does not get reenabled after enabling it with this function; use <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code> to have the callback type reenabled automatically.</p>
<p>Be sure to enable only callback types that your CFSocket object actually possesses and has requested when creating the CFSocket object; the result of enabling other callback types is undefined.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.2 and later. </li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFLocalServer/index.html#//apple_ref/doc/uid/DTS10003652" target="_top">CFLocalServer</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketGetContext" title="CFSocketGetContext"></a><a name="//apple_ref/doc/c_ref/CFSocketGetContext" title="CFSocketGetContext"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17754" title="CFSocketGetContext"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_18"></a><h3 class="tight">CFSocketGetContext</h3>
<p class="spaceabove">Returns the context information for a CFSocket object.</p>
<p class="spaceabove"><pre>
void CFSocketGetContext (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketContext">CFSocketContext</a> *context
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to examine.</p></dd>
<dt><em>context</em></dt>
<dd><p>A pointer to the structure into which the context information for <em>s</em> is to be copied. The information being returned is usually the same information you passed to <code><a href="reference.html#//apple_ref/c/func/CFSocketCreate">CFSocketCreate</a></code>, <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateConnectedToSocketSignature">CFSocketCreateConnectedToSocketSignature</a></code>, <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithNative">CFSocketCreateWithNative</a></code>, or <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithSocketSignature">CFSocketCreateWithSocketSignature</a></code> when creating the CFSocket object. However, if <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithNative">CFSocketCreateWithNative</a></code> returned a cached CFSocket object instead of creating a new object, <em>context</em> is filled with information from the original CFSocket object instead of the information you passed to the function.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The context version number for CFSocket is currently 0. Before calling this function, you need to initialize the <code>version</code> member of <em>context</em> to 0.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketGetNative" title="CFSocketGetNative"></a><a name="//apple_ref/doc/c_ref/CFSocketGetNative" title="CFSocketGetNative"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17743" title="CFSocketGetNative"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_19"></a><h3 class="tight">CFSocketGetNative</h3>
<p class="spaceabove">Returns the native socket associated with a CFSocket object.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketNativeHandle">CFSocketNativeHandle</a> CFSocketGetNative (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>The native socket associated with <em>s</em>. If <em>s</em> has been invalidated, returns <code>-1</code>, <code><!--a  -->INVALID_SOCKET<!--/a--></code>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFLocalServer/index.html#//apple_ref/doc/uid/DTS10003652" target="_top">CFLocalServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaEcho/index.html#//apple_ref/doc/uid/DTS10003603" target="_top">CocoaEcho</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaHTTPServer/index.html#//apple_ref/doc/uid/DTS10003604" target="_top">CocoaHTTPServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaSOAP/index.html#//apple_ref/doc/uid/DTS10003715" target="_top">CocoaSOAP</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketGetSocketFlags" title="CFSocketGetSocketFlags"></a><a name="//apple_ref/doc/c_ref/CFSocketGetSocketFlags" title="CFSocketGetSocketFlags"></a><a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_2" title="CFSocketGetSocketFlags"></a><a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_20"></a><h3 class="tight">CFSocketGetSocketFlags</h3>
<p class="spaceabove">Returns flags that control certain behaviors of a CFSocket object.</p>
<p class="spaceabove"><pre>
<a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> CFSocketGetSocketFlags (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>A bitwise-OR combination of flags controlling the behavior of <em>s</em>. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/CFSocket_Flags">CFSocket Flags</a></span> for the list of available flags.</p>
<h5 class="tight">Discussion</h5>
<p>See <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code> for details on what the flags of a CFSocket mean.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.2 and later. </li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DNSServiceMetaQuery/index.html#//apple_ref/doc/uid/DTS10003330" target="_top">DNSServiceMetaQuery</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketGetTypeID" title="CFSocketGetTypeID"></a><a name="//apple_ref/doc/c_ref/CFSocketGetTypeID" title="CFSocketGetTypeID"></a><a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_3" title="CFSocketGetTypeID"></a><a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_21"></a><h3 class="tight">CFSocketGetTypeID</h3>
<p class="spaceabove">Returns the type identifier for the CFSocket opaque type.</p>
<p class="spaceabove"><pre>
<a href="../../CFTypeRef/Reference/reference.html#//apple_ref/doc/c_ref/CFTypeID" target="_top">CFTypeID</a> CFSocketGetTypeID ();
</pre></p>
<h5 class="tight">Return Value</h5>
<p>The type identifier for the CFSocket opaque type.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketInvalidate" title="CFSocketInvalidate"></a><a name="//apple_ref/doc/c_ref/CFSocketInvalidate" title="CFSocketInvalidate"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17750" title="CFSocketInvalidate"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_22"></a><h3 class="tight">CFSocketInvalidate</h3>
<p class="spaceabove">Invalidates a CFSocket object, stopping it from sending or receiving any more messages.</p>
<p class="spaceabove"><pre>
void CFSocketInvalidate (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to invalidate. </p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>Invalidating a CFSocket object prevents the port from ever sending or receiving any more messages. The CFSocket object is not deallocated, though. The <code><a href="reference.html#//apple_ref/c/tdef/CFSocketContext">CFSocketContext</a></code> <code>info</code> information, which was provided when <em>s</em> was created, is released, if a release callback was specified in its context structure. Also, if a run loop source was created for <em>s</em>, the run loop source is invalidated, as well.</p>
<p>You should always invalidate a socket when you are done using it. If you have requested, using <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>, that the underlying socket not automatically close when invalidating the wrapping CFSocket object, you must invalidate the CFSocket object before closing the socket yourself.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CFLocalServer/index.html#//apple_ref/doc/uid/DTS10003652" target="_top">CFLocalServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaEcho/index.html#//apple_ref/doc/uid/DTS10003603" target="_top">CocoaEcho</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaHTTPServer/index.html#//apple_ref/doc/uid/DTS10003604" target="_top">CocoaHTTPServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaSOAP/index.html#//apple_ref/doc/uid/DTS10003715" target="_top">CocoaSOAP</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DNSServiceMetaQuery/index.html#//apple_ref/doc/uid/DTS10003330" target="_top">DNSServiceMetaQuery</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketIsValid" title="CFSocketIsValid"></a><a name="//apple_ref/doc/c_ref/CFSocketIsValid" title="CFSocketIsValid"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17751" title="CFSocketIsValid"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_23"></a><h3 class="tight">CFSocketIsValid</h3>
<p class="spaceabove">Returns a Boolean value that indicates whether a CFSocket object is valid and able to send or receive messages.</p>
<p class="spaceabove"><pre>
<!--a-->Boolean<!--/a--> CFSocketIsValid (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to examine. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p><code><!--a  -->true<!--/a--></code> if <em>s</em> can be used for communication, otherwise <code><!--a  -->false<!--/a--></code>. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketSendData" title="CFSocketSendData"></a><a name="//apple_ref/doc/c_ref/CFSocketSendData" title="CFSocketSendData"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17757" title="CFSocketSendData"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_24"></a><h3 class="tight">CFSocketSendData</h3>
<p class="spaceabove">Sends data over a CFSocket object.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketError">CFSocketError</a> CFSocketSendData (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> address,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> data,
   <a href="../../CFTimeUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFTimeInterval" target="_top">CFTimeInterval</a> timeout
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to use. </p></dd>
<dt><em>address</em></dt>
<dd><p>The address, stored as a <code>struct sockaddr</code> in a CFData object, to which to send the contents of <em>data</em>. If <code><!--a  -->NULL<!--/a--></code>, the data are sent to the address to which <em>s</em> is already connected. </p></dd>
<dt><em>data</em></dt>
<dd><p>The data to send. </p></dd>
<dt><em>timeout</em></dt>
<dd><p>The time to wait for the data to be sent. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An error code indicating success or failure. </p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketSetAddress" title="CFSocketSetAddress"></a><a name="//apple_ref/doc/c_ref/CFSocketSetAddress" title="CFSocketSetAddress"></a><a name="//apple_ref/doc/uid/20001445-CH1g-F17748" title="CFSocketSetAddress"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_25"></a><h3 class="tight">CFSocketSetAddress</h3>
<p class="spaceabove">Binds a local address to a CFSocket object.</p>
<p class="spaceabove"><pre>
<a href="reference.html#//apple_ref/doc/c_ref/CFSocketError">CFSocketError</a> CFSocketSetAddress (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> address
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to modify. </p></dd>
<dt><em>address</em></dt>
<dd><p>A CFData object containing a <code>struct sockaddr</code> appropriate for the protocol family of <em>s</em>. </p></dd></dl>
<h5 class="tight">Return Value</h5>
<p>An error code indicating success or failure. </p>
<h5 class="tight">Discussion</h5>
<p>Once <em>s</em> is bound to <em>address</em>, depending on the socketâ€™s protocol, other processes and computers can connect to <em>s</em>.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaEcho/index.html#//apple_ref/doc/uid/DTS10003603" target="_top">CocoaEcho</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaHTTPServer/index.html#//apple_ref/doc/uid/DTS10003604" target="_top">CocoaHTTPServer</a></span></li><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/CocoaSOAP/index.html#//apple_ref/doc/uid/DTS10003715" target="_top">CocoaSOAP</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/func/CFSocketSetSocketFlags" title="CFSocketSetSocketFlags"></a><a name="//apple_ref/doc/c_ref/CFSocketSetSocketFlags" title="CFSocketSetSocketFlags"></a><a name="//apple_ref/doc/uid/20001445-CH1g-CJBBHABC" title="CFSocketSetSocketFlags"></a>
<a name="//apple_ref/doc/uid/20001445-CH1g-DontLinkElementID_26"></a><h3 class="tight">CFSocketSetSocketFlags</h3>
<p class="spaceabove">Sets flags that control certain behaviors of a CFSocket object.</p>
<p class="spaceabove"><pre>
void CFSocketSetSocketFlags (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFOptionFlags" target="_top">CFOptionFlags</a> flags
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object to modify. </p></dd>
<dt><em>flags</em></dt>
<dd><p>A bitwise-OR combination of flags controlling the behavior of <em>s</em>. See <span class="content_text"><a href="reference.html#//apple_ref/doc/constant_group/CFSocket_Flags">CFSocket Flags</a></span> for the list of available flags.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The <em>flags</em> argument controls whether callbacks of a given type are automatically reenabled after they are triggered, and whether the underlying native socket is closed when <em>s</em> is invalidated.</p>
<p>By default <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketReadCallBack">kCFSocketReadCallBack</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAcceptCallBack">kCFSocketAcceptCallBack</a></code>, and <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketDataCallBack">kCFSocketDataCallBack</a></code> callbacks are automatically reenabled, whereas <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketWriteCallBack">kCFSocketWriteCallBack</a></code> callbacks are not; <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketConnectCallBack">kCFSocketConnectCallBack</a></code> callbacks can only occur once, so they cannot be reenabled. Be careful about automatically re-enabling read and write callbacks, because this implies that the callbacks will be sent repeatedly if the socket remains readable or writable respectively. Be sure to set these flags only for callback types that your CFSocket object actually possesses; the result of setting them for other callback types is undefined.</p>
<p>By default the underlying native socket will be closed when <em>s</em> is invalidated, but it will not be if the <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketCloseOnInvalidate">kCFSocketCloseOnInvalidate</a></code> flag is turned off. This can be useful when you want to destroy a CFSocket object but continue to use the underlying native socket. The CFSocket object must still be invalidated when it will no longer be used. Do not in either case close the underlying native socket without invalidating the CFSocket object.</p>
<h5 class="tight">Availability</h5><ul class="availability">
<li class="availability">Available in Mac OS X v10.2 and later. </li></ul><h5 class="tight">Related Sample Code</h5><ul class="availability"><li class="availability">  <span class="content_text"><a href="../../../../../samplecode/DNSServiceMetaQuery/index.html#//apple_ref/doc/uid/DTS10003330" target="_top">DNSServiceMetaQuery</a></span></li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/doc/uid/20001445-CH2g-96399" title="Callbacks"></a><a name="//apple_ref/doc/uid/20001445-CH2g-CJBBDDGA" title="Callbacks"></a><h2>Callbacks</h2>

<a name="//apple_ref/c/tdef/CFSocketCallBack" title="CFSocketCallBack"></a><a name="//apple_ref/doc/c_ref/CFSocketCallBack" title="CFSocketCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH2g-F17633" title="CFSocketCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH2g-DontLinkElementID_27"></a><h3 class="tight">CFSocketCallBack</h3>
<p class="spaceabove">Callback invoked when certain types of activity takes place on a CFSocket object.</p>
<p class="spaceabove"><pre>
typedef void (*CFSocketCallBack) (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBackType">CFSocketCallBackType</a> callbackType,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> address,
   const void *data,
   void *info
);
</pre></p>
<p>If you name your function <code>MyCallBack</code>, you would declare it like this:</p>
<p><pre>
void MyCallBack (
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketRef">CFSocketRef</a> s,
   <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBackType">CFSocketCallBackType</a> callbackType,
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> address,
   const void *data,
   void *info
);
</pre></p>
<h5 class="tight">Parameters</h5><dl class="termdef">
<dt><em>s</em></dt>
<dd><p>The CFSocket object that experienced some activity. </p></dd>
<dt><em>callbackType</em></dt>
<dd><p>The type of activity detected. </p></dd>
<dt><em>address</em></dt>
<dd><p>A CFData object holding the contents of a <code>struct sockaddr</code> appropriate for the protocol family of <em>s</em>, identifying the remote address to which <em>s</em> is connected. This value is <code><!--a  -->NULL<!--/a--></code> except for <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAcceptCallBack">kCFSocketAcceptCallBack</a></code> and <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketDataCallBack">kCFSocketDataCallBack</a></code> callbacks. </p></dd>
<dt><em>data</em></dt>
<dd><p>Data appropriate for the callback type. For a <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketConnectCallBack">kCFSocketConnectCallBack</a></code> that failed in the background, it is a pointer to an <code>SInt32</code> error code; for a <code><!--a  -->kCFSocketAcceptCallback<!--/a--></code>, it is a pointer to a <code><a href="reference.html#//apple_ref/c/tdef/CFSocketNativeHandle">CFSocketNativeHandle</a></code>; or for a <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketDataCallBack">kCFSocketDataCallBack</a></code>, it is a CFData object containing the incoming data. In all other cases, it is <code><!--a  -->NULL<!--/a--></code>.</p></dd>
<dt><em>info</em></dt>
<dd><p>The <code>info</code> member of the <code><a href="reference.html#//apple_ref/c/tdef/CFSocketContext">CFSocketContext</a></code> structure that was used when creating the CFSocket object.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>You specify this callback when you create the CFSocket object with <code><a href="reference.html#//apple_ref/c/func/CFSocketCreate">CFSocketCreate</a></code>, <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateConnectedToSocketSignature">CFSocketCreateConnectedToSocketSignature</a></code>, <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithNative">CFSocketCreateWithNative</a></code>, or <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateWithSocketSignature">CFSocketCreateWithSocketSignature</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/doc/uid/20001445-CH3g-98269" title="Data Types"></a><a name="//apple_ref/doc/uid/20001445-CH3g-CJBHAEDF" title="Data Types"></a><h2>Data Types</h2>






<a name="//apple_ref/c/tdef/CFSocketContext" title="CFSocketContext"></a><a name="//apple_ref/doc/c_ref/CFSocketContext" title="CFSocketContext"></a><a name="//apple_ref/doc/uid/20001445-CH3g-C017592" title="CFSocketContext"></a>
<a name="//apple_ref/doc/uid/20001445-CH3g-DontLinkElementID_28"></a><h3 class="tight">CFSocketContext</h3>
<p class="spaceabove">A structure that contains program-defined data and callbacks with which you can configure a CFSocket objectâ€™s behavior.</p>
<p class="spaceabove"><pre>
struct CFSocketContext {
   <a href="../../CFBaseUtils/Reference/reference.html#//apple_ref/doc/c_ref/CFIndex" target="_top">CFIndex</a> version;
   void *info;
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorRetainCallBack" target="_top">CFAllocatorRetainCallBack</a> retain;
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorReleaseCallBack" target="_top">CFAllocatorReleaseCallBack</a> release;
   <a href="../../CFAllocatorRef/Reference/reference.html#//apple_ref/doc/c_ref/CFAllocatorCopyDescriptionCallBack" target="_top">CFAllocatorCopyDescriptionCallBack</a> copyDescription;
};
typedef struct CFSocketContext CFSocketContext;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>version</code></dt>
<dd><p>Version number of the structure. Must be <code>0</code>.</p></dd>
<dt><code>info</code></dt>
<dd><p>An arbitrary pointer to program-defined data, which can be associated with the CFSocket object at creation time. This pointer is passed to all the callbacks defined in the context.</p></dd>
<dt><code>retain</code></dt>
<dd><p>A retain callback for your program-defined <code>info</code> pointer. Can be <code>NULL</code>. </p></dd>
<dt><code>release</code></dt>
<dd><p>A release callback for your program-defined <code>info</code> pointer. Can be <code>NULL</code>. </p></dd>
<dt><code>copyDescription</code></dt>
<dd><p>A copy description callback for your program-defined <code>info</code> pointer. Can be <code>NULL</code>. </p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/tdef/CFSocketNativeHandle" title="CFSocketNativeHandle"></a><a name="//apple_ref/doc/c_ref/CFSocketNativeHandle" title="CFSocketNativeHandle"></a><a name="//apple_ref/doc/uid/20001445-CH3g-C017585" title="CFSocketNativeHandle"></a><a name="//apple_ref/doc/uid/20001445-CH3g-DontLinkElementID_29"></a><h3 class="tight">CFSocketNativeHandle</h3>
<p class="spaceabove">Type for the platform-specific native socket handle.</p>
<p class="spaceabove"><pre>
typedef int CFSocketNativeHandle;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/tdef/CFSocketRef" title="CFSocketRef"></a><a name="//apple_ref/doc/c_ref/CFSocketRef" title="CFSocketRef"></a><a name="//apple_ref/doc/uid/20001445-CH3g-C017586" title="CFSocketRef"></a><a name="//apple_ref/doc/uid/20001445-CH3g-DontLinkElementID_30"></a><h3 class="tight">CFSocketRef</h3>
<p class="spaceabove">A reference to a CFSocket object.</p>
<p class="spaceabove"><pre>
typedef struct __CFSocket *CFSocketRef;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/c/tdef/CFSocketSignature" title="CFSocketSignature"></a><a name="//apple_ref/doc/c_ref/CFSocketSignature" title="CFSocketSignature"></a><a name="//apple_ref/doc/uid/20001445-CH3g-C017589" title="CFSocketSignature"></a>
<a name="//apple_ref/doc/uid/20001445-CH3g-DontLinkElementID_31"></a><h3 class="tight">CFSocketSignature</h3>
<p class="spaceabove">A structure that fully specifies the communication protocol and connection address of a CFSocket object.</p>
<p class="spaceabove"><pre>
struct CFSocketSignature {
   SInt32 protocolFamily;
   SInt32 socketType;
   SInt32 protocol;
   <a href="../../CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> address;
};
typedef struct CFSocketSignature CFSocketSignature;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>protocolFamily</code></dt>
<dd><p>The protocol family of the socket.</p></dd>
<dt><code>socketType</code></dt>
<dd><p>The socket type of the socket.</p></dd>
<dt><code>protocol</code></dt>
<dd><p>The protocol type of the socket.</p></dd>
<dt><code>address</code></dt>
<dd><p>A CFData object holding the contents of a <code>struct sockaddr</code> appropriate for the given protocol family, identifying the address of the socket. </p></dd></dl><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>CFSocket.h</code><a name="//apple_ref/doc/uid/20001445-CH4g-99539" title="Constants"></a><a name="//apple_ref/doc/uid/20001445-CH4g-CJBGHIAD" title="Constants"></a><h2>Constants</h2>



<a name="//apple_ref/c/tdef/CFSocketCallBackType" title="Callback Types" role="Enum"></a><a name="//apple_ref/doc/c_ref/CFSocketCallBackType" title="Callback Types" role="Enum"></a><a name="//apple_ref/doc/uid/20001445-CH4g-C017590" title="Callback Types" role="Enum"></a>
<a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_32"></a><h3 class="tight">Callback Types</h3>
<p class="spaceabove">Types of socket activity that can cause the callback function of a CFSocket object to be called.</p>
<p class="spaceabove"><pre>
enum <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBackType">CFSocketCallBackType</a> {
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketNoCallBack">kCFSocketNoCallBack</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketReadCallBack">kCFSocketReadCallBack</a> = 1,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAcceptCallBack">kCFSocketAcceptCallBack</a> = 2,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketDataCallBack">kCFSocketDataCallBack</a> = 3,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketConnectCallBack">kCFSocketConnectCallBack</a> = 4,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketWriteCallBack">kCFSocketWriteCallBack</a> = 8
};
typedef enum <a href="reference.html#//apple_ref/doc/c_ref/CFSocketCallBackType">CFSocketCallBackType</a> CFSocketCallBackType;
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kCFSocketNoCallBack" title="kCFSocketNoCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketNoCallBack" title="kCFSocketNoCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_33"></a><dt><code>kCFSocketNoCallBack</code></dt>
<dd><p>No callback should be made for any activity.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketReadCallBack" title="kCFSocketReadCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketReadCallBack" title="kCFSocketReadCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_34"></a><dt><code>kCFSocketReadCallBack</code></dt>
<dd><p>The callback is called when data is available to be read or a new connection is waiting to be accepted. The data is not automatically read; the callback must read the data itself.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketAcceptCallBack" title="kCFSocketAcceptCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketAcceptCallBack" title="kCFSocketAcceptCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_35"></a><dt><code>kCFSocketAcceptCallBack</code></dt>
<dd><p>New connections will be automatically accepted and the callback is called with the data argument being a pointer to a <code><a href="reference.html#//apple_ref/c/tdef/CFSocketNativeHandle">CFSocketNativeHandle</a></code> of the child socket. This callback is usable only with listening sockets.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketDataCallBack" title="kCFSocketDataCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketDataCallBack" title="kCFSocketDataCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_36"></a><dt><code>kCFSocketDataCallBack</code></dt>
<dd><p>Incoming data will be read in chunks in the background and the callback is called with the data argument being a CFData object containing the read data.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketConnectCallBack" title="kCFSocketConnectCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketConnectCallBack" title="kCFSocketConnectCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_37"></a><dt><code>kCFSocketConnectCallBack</code></dt>
<dd><p>If a connection attempt is made in the background by calling <code><a href="reference.html#//apple_ref/c/func/CFSocketConnectToAddress">CFSocketConnectToAddress</a></code> or <code><a href="reference.html#//apple_ref/c/func/CFSocketCreateConnectedToSocketSignature">CFSocketCreateConnectedToSocketSignature</a></code> with a negative timeout value, this callback type is made when the connect finishes. In this case the data argument is either <code>NULL</code> or a pointer to an <code>SInt32</code> error code, if the connect failed. This callback will never be sent more than once for a given socket.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketWriteCallBack" title="kCFSocketWriteCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketWriteCallBack" title="kCFSocketWriteCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_38"></a><dt><code>kCFSocketWriteCallBack</code></dt>
<dd><p>The callback is called when the socket is writable. This callback type may be useful when large amounts of data are being sent rapidly over the socket and you want a notification when there is space in the kernel buffers for more data.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The callback types for which a callback is made is determined when the CFSocket object is created, such as with <code><a href="reference.html#//apple_ref/c/func/CFSocketCreate">CFSocketCreate</a></code>, or later with <code><a href="reference.html#//apple_ref/c/func/CFSocketEnableCallBacks">CFSocketEnableCallBacks</a></code> and <code><a href="reference.html#//apple_ref/c/func/CFSocketDisableCallBacks">CFSocketDisableCallBacks</a></code>.</p>
<p>The <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketReadCallBack">kCFSocketReadCallBack</a></code>, <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAcceptCallBack">kCFSocketAcceptCallBack</a></code>, and <code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketDataCallBack">kCFSocketDataCallBack</a></code> callbacks are mutually exclusive.</p>
<h5 class="tight">Version Notes</h5>
<p><code><a href="reference.html#//apple_ref/doc/c_ref/kCFSocketWriteCallBack">kCFSocketWriteCallBack</a></code> is available in Mac OS X v10.2 and later.</p>
<a name="//apple_ref/doc/constant_group/CFSocket_Flags" title="CFSocket Flags" role="Enum"></a><a name="//apple_ref/doc/uid/20001445-CH4g-CJBHIGJG" title="CFSocket Flags" role="Enum"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_39"></a><h3 class="tight">CFSocket Flags</h3>
<p class="spaceabove">Flags that can be set on a CFSocket object to control its behavior.</p>
<p class="spaceabove"><pre>
enum {
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableReadCallBack">kCFSocketAutomaticallyReenableReadCallBack</a> = 1,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableAcceptCallBack">kCFSocketAutomaticallyReenableAcceptCallBack</a> = 2,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableDataCallBack">kCFSocketAutomaticallyReenableDataCallBack</a> = 3,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableWriteCallBack">kCFSocketAutomaticallyReenableWriteCallBack</a> = 8,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketCloseOnInvalidate">kCFSocketCloseOnInvalidate</a> = 128
};
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kCFSocketAutomaticallyReenableReadCallBack" title="kCFSocketAutomaticallyReenableReadCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableReadCallBack" title="kCFSocketAutomaticallyReenableReadCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_40"></a><dt><code>kCFSocketAutomaticallyReenableReadCallBack</code></dt>
<dd><p>When enabled using <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>, the read callback is called every time the sockets has data to be read. When disabled, the read callback is called only once the next time data are available. The read callback is automatically reenabled by default.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketAutomaticallyReenableAcceptCallBack" title="kCFSocketAutomaticallyReenableAcceptCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableAcceptCallBack" title="kCFSocketAutomaticallyReenableAcceptCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_41"></a><dt><code>kCFSocketAutomaticallyReenableAcceptCallBack</code></dt>
<dd><p>When enabled using <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>, the accept callback is called every time someone connects to your socket. When disabled, the accept callback is called only once the next time a new socket connection is accepted. The accept callback is automatically reenabled by default.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketAutomaticallyReenableDataCallBack" title="kCFSocketAutomaticallyReenableDataCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableDataCallBack" title="kCFSocketAutomaticallyReenableDataCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_42"></a><dt><code>kCFSocketAutomaticallyReenableDataCallBack</code></dt>
<dd><p>When enabled using <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>, the data callback is called every time the socket has read some data. When disabled, the data callback is called only once the next time data are read. The data callback is automatically reenabled by default.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketAutomaticallyReenableWriteCallBack" title="kCFSocketAutomaticallyReenableWriteCallBack"></a><a name="//apple_ref/doc/c_ref/kCFSocketAutomaticallyReenableWriteCallBack" title="kCFSocketAutomaticallyReenableWriteCallBack"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_43"></a><dt><code>kCFSocketAutomaticallyReenableWriteCallBack</code></dt>
<dd><p>When enabled using <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>, the write callback is called every time more data can be written to the socket. When disabled, the write callback is called only the next time data can be written. The write callback is not automatically reenabled by default.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketCloseOnInvalidate" title="kCFSocketCloseOnInvalidate"></a><a name="//apple_ref/doc/c_ref/kCFSocketCloseOnInvalidate" title="kCFSocketCloseOnInvalidate"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_44"></a><dt><code>kCFSocketCloseOnInvalidate</code></dt>
<dd><p>When enabled using <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>, the native socket associated with a CFSocket object is closed when the CFSocket object is invalidated. When disabled, the native socket remains open. This option is enabled by default.</p><p>Available in Mac OS X v10.2 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>The flags for a CFSocket object are set with <code><a href="reference.html#//apple_ref/c/func/CFSocketSetSocketFlags">CFSocketSetSocketFlags</a></code>. To immediately enable or disable a callback, use <code><a href="reference.html#//apple_ref/c/func/CFSocketEnableCallBacks">CFSocketEnableCallBacks</a></code> and <code><a href="reference.html#//apple_ref/c/func/CFSocketDisableCallBacks">CFSocketDisableCallBacks</a></code>.</p>
<a name="//apple_ref/c/tdef/CFSocketError" title="Error Codes" role="Enum"></a><a name="//apple_ref/doc/c_ref/CFSocketError" title="Error Codes" role="Enum"></a><a name="//apple_ref/doc/uid/20001445-CH4g-C017588" title="Error Codes" role="Enum"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_45"></a><h3 class="tight">Error Codes</h3>
<p class="spaceabove">Error codes for many CFSocket functions.</p>
<p class="spaceabove"><pre>
enum <a href="reference.html#//apple_ref/doc/c_ref/CFSocketError">CFSocketError</a> {
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketSuccess">kCFSocketSuccess</a> = 0,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketError">kCFSocketError</a> = -1,
   <a href="reference.html#//apple_ref/doc/c_ref/kCFSocketTimeout">kCFSocketTimeout</a> = -2
};
typedef enum <a href="reference.html#//apple_ref/doc/c_ref/CFSocketError">CFSocketError</a> CFSocketError;
</pre></p>
<h5 class="tight">Constants</h5><dl class="termdef">
<a name="//apple_ref/c/econst/kCFSocketSuccess" title="kCFSocketSuccess"></a><a name="//apple_ref/doc/c_ref/kCFSocketSuccess" title="kCFSocketSuccess"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_46"></a><dt><code>kCFSocketSuccess</code></dt>
<dd><p>The socket operation succeeded.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketError" title="kCFSocketError"></a><a name="//apple_ref/doc/c_ref/kCFSocketError" title="kCFSocketError"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_47"></a><dt><code>kCFSocketError</code></dt>
<dd><p>The socket operation failed.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd>
<a name="//apple_ref/c/econst/kCFSocketTimeout" title="kCFSocketTimeout"></a><a name="//apple_ref/doc/c_ref/kCFSocketTimeout" title="kCFSocketTimeout"></a><a name="//apple_ref/doc/uid/20001445-CH4g-DontLinkElementID_48"></a><dt><code>kCFSocketTimeout</code></dt>
<dd><p>The socket operation timed out.</p><p>Available in Mac OS X v10.0 and later.</p><p>Declared in <code>CFSocket.h</code>.</p></dd></dl>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <!-- Previous button --><span style="margin-left: 8px"><a href="../History/revisionCFSocket.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/CoreFoundation/Reference/CFSocketRef/Reference/reference.html%3Fid%3D20001445-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/CoreFoundation/Reference/CFSocketRef/Reference/reference.html%3Fid%3D20001445-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/CoreFoundation/Reference/CFSocketRef/Reference/reference.html%3Fid%3D20001445-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>