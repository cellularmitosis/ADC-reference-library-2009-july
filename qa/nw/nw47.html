<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A NW47: Changing the TCP Window Size</title><meta name="keywords" content="Mac OS 8 Open Transport changing TCP window Size XTI_SNDBUF"><meta name="Description" content="Technical Q&amp;A NW47: Q&amp;A describes how to change the TCP windowsize in Open Transport and explains what changing the XTI_SNDBUFsize will do."><meta name="categories" content="Networking"><meta name="week-posted" content="Mar 10, 1997 - Mar 14, 1997"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001459" title="Changing the TCP Window Size"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/Carbon/index.html">Carbon</a> &gt; <a href="../../technicalqas/Carbon/idxNetworking-date.html">Networking</a> &gt; </p><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A NW47</div>
<div id="pageheadsub">Changing the TCP Window Size</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <td align="left"><hr width=500 align=center><p id = p2>Q:I'm developing some TCP software for an unusual networking environment (cablemodem, satellite link, very fast network, etc) and I've been told that I mightget performance benefits by changing the "TCP window size." How do I do thisunder Open Transport?</p><p id=p4>A: Technically, the TCP window size is a dynamic value that is calculated on the flyby the TCP software; however, when most people talk about changing the TCP windowsize, they are referring to the upper bound of this value. Under OT, you canchange this upper bound using the <code>XTI</code> level option <code>XTI_RCVBUF</code>.</p><p id=p4>Note that TCP is a full duplex protocol, and therefore there are two windowsizes: one advertised by your machine for incoming data, and another advertised bythe remote machine for data that you send it.</P><p id=p4>You can only directly affect the window size for your receiving side of the TCPconnection. There is no way for you to influence the window size advertised bythe remote machine without the explicit cooperation of some process on thatmachine. Depending on your situation, you may need to change this option on theremote machine to achieve the effect you want.</P><p id=p4>Changing the <code>XTI_SNDBUF</code> size does not impact the TCP window size. Rather, itwill impact flow control. <code>XTI_SNDBUF</code> controls the number of bytes which youare allowed to queue at the sender. This includes both unsent bytes as well assent-but-unacknowledged bytes. If the <code>XTI_SNDBUF</code> limit is large, your endpointwill be allowed to queue more data before you get back an <code>kOTFlowErr</code>.</P><p id=p4><A HREF="nw28.html" target="_blank">Technical Q&amp;A NW 28</A> provides a code snippetthat shows how to set an option on a TCP endpoint. You can use similar code toset the <code>XTI_RCVBUF</code> option.</P><p id=p4>Note that changing these values can yield unexpected results; it's not always aquestion of "bigger is faster." In certain circumstances (like those given inthe question) it may be advantageous to change these values, but this isn't truefor all cases. I recommend that you test your application in a variety ofrealistic circumstances before deciding to ship code that changes the window size.</P></td></tr></table></center><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[Mar 14 1997]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/nw/nw47.html%3Fid%3DDTS10001459-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/nw/nw47.html%3Fid%3DDTS10001459-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/nw/nw47.html%3Fid%3DDTS10001459-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --><hr width=500 align=center> </BODY></HTML>