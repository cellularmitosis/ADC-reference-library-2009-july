<html><head><title>Mac OS X
 Manual Page For MPI_Type_create_subarray(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/MPI_Type_create_subarray" title="Mac OS X
 Manual Page for MPI_Type_create_subarray(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/MPI_Type_create_subarray"; name=MPI_Type_create_subarray(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
MPI_Type_create_subarray(3OpenMPI)                                        MPI_Type_create_subarray(3OpenMPI)



<b>NAME</b>
       <b>MPI_Type_create_subarray</b>  -  Creates  a data type describing an <u>n</u>-dimensional subarray of an <u>n</u>-dimen-<font color="#ffffff" class="whiteout">sional&nbsp;n-dimensional</font>
       sional array.


<b>SYNTAX</b>
<b>C</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       int MPI_Type_create_subarray(int <u>ndims</u>, int <u>array</u><b>_</b><u>of</u><b>_</b><u>sizes[]</u>, int <u>array</u><b>_</b><u>of</u><b>_</b><u>subsizes[]</u>, int <u>array</u><b>_</b><u>of</u><b>_</b><u>starts[]</u>, int <u>order</u>, MPI_Datatype <u>oldtype,</u> <u>MPI</u><b>_</b><u>Datatype</u> <u>*newtype)</u>


<b>Fortran</b> <b>Syntax</b>
       INCLUDE 'mpif.h'
       MPI_TYPE_CREATE_SUBARRAY(<u>NDIMS,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>SIZES,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>SUBSIZES,</u>
            <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>STARTS,</u> <u>ORDER,</u> <u>OLDTYPE,</u> <u>NEWTYPE,</u> <u>IERROR</u>)

            INTEGER   <u>NDIMS,</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>SIZES(*),</u> <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>SUBSIZES(*),</u>
            <u>ARRAY</u><b>_</b><u>OF</u><b>_</b><u>STARTS(*),</u> <u>ORDER,</u> <u>OLDTYPE,</u> <u>NEWTYPE,</u> <u>IERROR</u>


<b>C++</b> <b>Syntax</b>
       #include &lt;mpi.h&gt;
       MPI::Datatype MPI::Datatype::Create_subarray(int <u>ndims</u>,
            const int <u>array</u><b>_</b><u>of</u><b>_</b><u>sizes</u>[], const int <u>array</u><b>_</b><u>of</u><b>_</b><u>subsizes[]</u>,
            const int <u>array</u><b>_</b><u>of</u><b>_</b><u>starts[]</u>, int <u>order</u>) const


<b>INPUT</b> <b>PARAMETERS</b>
       ndims     Number of array dimensions (positive integer).

       array_of_sizes
                 Number of elements of type <u>oldtype</u> in each dimension of the full array (array  of  positive
                 integers).

       array_of_subsizes
                 Number  of  elements  of  type <u>oldtype</u> in each dimension of the subarray (array of positive
                 integers).

       array_of_starts
                 Starting coordinates of the subarray in each dimension (array of nonnegative integers).

       order     Array storage order flag (state).

       oldtype   Array element data type (handle).



<b>OUTPUT</b> <b>PARAMETERS</b>
       newtype   New data type (handle).

       IERROR    Fortran only: Error status (integer).


<b>DESCRIPTION</b>
       The subarray type constructor creates an MPI data type describing an <u>n</u>-dimensional subarray of an  <u>n</u>-<font color="#ffffff" class="whiteout">dimensional&nbsp;ndimensional</font>
       dimensional  array.  The  subarray  may be situated anywhere within the full array, and may be of any
       nonzero size up to the size of the larger array as long as it is confined  within  this  array.  This
       type  constructor  facilitates  creating file types to access arrays distributed in blocks among pro-<font color="#ffffff" class="whiteout">cesses&nbsp;processes</font>
       cesses to a single file that contains the global array.

       This type constructor can handle arrays with an arbitrary number of dimensions and works for both  C-<font color="#ffffff" class="whiteout">and&nbsp;Cand</font>
       and Fortran-ordered matrices (that is, row-major or column-major). Note that a C program may use For-<font color="#ffffff" class="whiteout">tran&nbsp;Fortran</font>
       tran order and a Fortran program may use C order.

       The <u>ndims</u> parameter specifies the number of dimensions in the full data array and gives the number of
       elements in <u>array</u><b>_</b><u>of</u><b>_</b><u>sizes</u>, <u>array</u><b>_</b><u>of</u><b>_</b><u>subsizes</u>, and <u>array</u><b>_</b><u>of</u><b>_</b><u>starts</u>.

       The number of elements of type <u>oldtype</u> in each dimension of the <u>n</u>-dimensional array and the requested
       subarray are specified by <u>array</u><b>_</b><u>of</u><b>_</b><u>sizes</u> and <u>array</u><b>_</b><u>of</u><b>_</b><u>subsizes</u>, respectively. For any dimension <u>i</u>, it
       is erroneous to specify <u>array</u><b>_</b><u>of</u><b>_</b><u>subsizes[i]</u> &lt; 1 or <u>array</u><b>_</b><u>of</u><b>_</b><u>subsizes[i]</u> &gt; <u>array</u> <u>of</u> <u>sizes[i]</u>.

       The  <u>array</u><b>_</b><u>of</u><b>_</b><u>starts</u>  contains the starting coordinates of each dimension of the subarray. Arrays are
       assumed to be indexed starting from zero. For any dimension <u>i</u>, it is erroneous to specify

       <u>array</u><b>_</b><u>of</u><b>_</b><u>starts[i]</u> &lt; 0

       or

       <u>array</u><b>_</b><u>of</u><b>_</b><u>starts[i]</u> &gt; (<u>array</u><b>_</b><u>of</u><b>_</b><u>sizes[i]</u> - <u>array</u><b>_</b><u>of</u><b>_</b><u>subsizes[i]</u>).

       The <u>order</u> argument specifies the storage order for the subarray as well as the full array. It must be
       set to one of the following:

       - MPI_ORDER_C: The ordering used by C arrays, (that is, row-major order)

       - MPI_ORDER_FORTRAN: The ordering used by Fortran arrays, (that is, column-major order)

       A  <u>ndims</u>-dimensional  subarray  (<u>newtype</u>) with no extra padding can be defined by the function Subar-<font color="#ffffff" class="whiteout">ray()&nbsp;Subarray()</font>
       ray() as follows:

          newtype = Subarray(ndims, {size , size ,..., size       },
                                         0      1           ndims-1
                    {subsize , subsize , ..., subsize       },
                            0         1               ndims-1
                    {start , start , ..., start       }, <u>oldtype</u>)
                          0       1             bduns-1

       Let the typemap of <u>oldtype</u> have the form:

          {(type , disp ), (type , disp ), ..., (type   , disp   )}
                0      0        1      1              n-1      n-1

       where type<u>i</u> is a predefined MPI data type, and let <u>ex</u> be the extent of <u>oldtype</u>.

       The Subarray() function is defined recursively in three equations on page 72 of the MPI-2 standard.

       For an example use of MPI_Type_create_subarray in the context of I/O, see Section 9.9.2 of the  MPI-2
       standard.



<b>NOTES</b>
       In  a Fortran program with arrays indexed starting from 1, if the starting coordinate of a particular
       dimension of the subarray is <u>n</u>, then the entry in array of starts for that dimension is <u>n</u>-1.


<b>ERRORS</b>
       Almost all MPI routines return an error value; C routines as the value of the  function  and  Fortran
       routines  in  the  last argument. C++ functions do not return errors. If the default error handler is
       set to MPI::ERRORS_THROW_EXCEPTIONS, then on error the C++ exception mechanism will be used to  throw
       an MPI:Exception object.

       Before  the  error value is returned, the current MPI error handler is called. By default, this error
       handler aborts the MPI job, except for I/O function errors. The error handler  may  be  changed  with
       MPI_Comm_set_errhandler;  the  predefined  error handler MPI_ERRORS_RETURN may be used to cause error
       values to be returned. Note that MPI does not guarantee that an MPI  program  can  continue  past  an
       error.





Open MPI 1.2                                   September 2006             MPI_Type_create_subarray(3OpenMPI)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Type_create_subarray.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Type_create_subarray.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/MPI_Type_create_subarray.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
