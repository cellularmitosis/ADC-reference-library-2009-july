<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=HTML">
<title>IOFireWireAVCLibUnitInterface</title>
<meta name="generator" content="HeaderDoc">
<style><!--
#tocMenu {
		display: block;
		position:fixed;
		top:0px;
		left:0px;
		width:210px;
		height:100%;
		background:transparent;
}
#bodyText {
		margin-left: 210px;
}
--></style>
<meta id="toc-file" name="toc-file" content="toc.html">
<script language="JavaScript" src="../../../../../../Resources/JavaScript/page.js" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="../../../../../../Resources/CSS/frameset_styles.css">
<style type="text/css"><!--.keyword {background:#ffffff; color:#761550;}.template {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.function {background:#ffffff; color:#000000;}.string {background: #ffffff; color:#891315;}.preprocessor {background:#ffffff; color:#236e25}.comment {background:#ffffff; color:#236e25}.char {background: #ffffff; color:#0000ff;}.var {background:#ffffff; color:#000000;}.type {background:#ffffff; color:#761550;}.param {background:#ffffff; color:#000000;}.graybox {         border-top: 1px solid #919699;         border-left: 1px solid #919699;         margin-bottom: 10px;         }  .graybox th {         padding: 4px 8px 4px 8px;         background: #E2E2E2;         font-size: 12px;         font-weight: bold;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  .graybox td {         padding: 8px;         font-size: 12px;         text-align: left;         vertical-align: top;         border-bottom: 1px solid #919699;         border-right: 1px solid #919699;         }  --></style>
</head>
<body bgcolor="#ffffff" onload="initialize_page();">
<noscript>
<div id="tocMenu">
<iframe id="toc_content" name="toc_content" src="toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
</div>
</noscript>
<div id="bodyText">
<!-- start of header -->

<!-- start of header -->
<!--#include virtual="/includes/framesetheader"-->
<!-- end of header -->

<table width="600"><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <a href="../../../../../../../reference/HardwareDrivers/index.html#//apple_ref/doc/uid/TP30001281-TP40003576" target="_top">Hardware & Drivers</a> <b>&gt;</b> <a href="../../../index.html#//apple_ref/doc/framework/iokit_fw" target="_top">I/O Kit Framework Reference</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header --><a name="top"></a>
<hr>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h1><a name="IOFireWireAVCLibUnitInterface">IOFireWireAVCLibUnitInterface</a></h1>
</td></tr></table>
<div class="spec_sheet_info_box"><table cellspacing="0" class="specbox"><tr>
<td scope="row"><b>Declared In:</b></td>
<td><div style="margin-bottom:1px"><div class="content_text"><a href="../../index.html" target="_top">IOFireWireAVCLib.h</a></div></div></td>
</tr></table></div>
<h2>Overview</h2>
<p><!-- begin abstract --></p>
<p>Initial interface discovered for all AV/C unit drivers. 
<!-- end abstract --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The IOFireWireAVCLibUnitInterface is the initial interface discovered by most drivers. It supplies the methods that control the operation of the AV/C unit as a whole.
Finally, the unit can supply a reference to the IOFireWireUnit.  This can be useful if a driver wishes to access the standard FireWire APIs.  
</p>
<p>In Mac OS X v10.4 and later, the IOFireWireAVCLibUnitInterface contains functions to create and send asynchronous AV/C commands and receive responses.
<!-- end discussion -->
</p>
<hr>
<br><h2>Functions</h2>
<a name="HeaderDoc_functions"></a>
<dl>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/addCallbackDispatcherToRunLoop" target="_top">addCallbackDispatcherToRunLoop</a></tt></dt>
<dd><p>Adds a dispatcher for kernel callbacks to the specified run loop.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandCancel" target="_top">AVCAsynchronousCommandCancel</a></tt></dt>
<dd><p>Cancels a submitted command.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandReinit" target="_top">AVCAsynchronousCommandReinit</a></tt></dt>
<dd><p>Reinitializes an existing IOFireWireAVCLibAsynchronousCommand object, preserving the existing command.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandReinitWithCommandBytes" target="_top">AVCAsynchronousCommandReinitWithCommandBytes</a></tt></dt>
<dd><p>Reinitializes an existing IOFireWireAVCLibAsynchronousCommand object, replacing the existing command with a new one.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandRelease" target="_top">AVCAsynchronousCommandRelease</a></tt></dt>
<dd><p>Releases an IOFireWireAVCLibAsynchronousCommand object.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandSubmit" target="_top">AVCAsynchronousCommandSubmit</a></tt></dt>
<dd><p>Issues the asynchronous command on the bus.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCCommand" target="_top">AVCCommand</a></tt></dt>
<dd><p>Sends an AV/C command to the device and returns the response.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCCommandInGeneration" target="_top">AVCCommandInGeneration</a></tt></dt>
<dd><p>Sends an AV/C command to the device and returns the response.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakLocalP2PInputConnection" target="_top">breakLocalP2PInputConnection</a></tt></dt>
<dd><p>Decrements the point-to-point connection count of a unit input plug.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakLocalP2POutputConnection" target="_top">breakLocalP2POutputConnection</a></tt></dt>
<dd><p>Decrements the point-to-point connection count of a unit output plug.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakP2PInputConnection" target="_top">breakP2PInputConnection</a></tt></dt>
<dd><p>Decrements the point-to-point connection count of a unit input plug.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakP2POutputConnection" target="_top">breakP2POutputConnection</a></tt></dt>
<dd><p>Decrements the point-to-point connection count of a unit output plug.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/close" target="_top">close</a></tt></dt>
<dd><p>Closes an exclusive access to the device.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand" target="_top">createAVCAsynchronousCommand</a></tt></dt>
<dd><p>Creates an IOFireWireAVCLibAsynchronousCommand object to use with the asynchronous AV/C command functions.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getAncestorInterface" target="_top">getAncestorInterface</a></tt></dt>
<dd><p>Creates a plug-in object for an ancestor (in the I/O Registry) of the AV/C unit and returns an interface to it.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getAsyncConnectionPlugCounts" target="_top">getAsyncConnectionPlugCounts</a></tt></dt>
<dd><p>Gets the number of plugs in the producer.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getProtocolInterface" target="_top">getProtocolInterface</a></tt></dt>
<dd><p>Creates a plug-in object for a protocol driver for the FireWire bus the AV/C unit
is connected to and returns an interface to it.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getSessionRef" target="_top">getSessionRef</a></tt></dt>
<dd><p>Opens a connection to a device that is not already open.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeLocalP2POutputConnection" target="_top">makeLocalP2POutputConnection</a></tt></dt>
<dd><p>Increments the point-to-point connection count of a unit output plug.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeP2PInputConnection" target="_top">makeP2PInputConnection</a></tt></dt>
<dd><p>Increments the point-to-point connection count of a unit input plug.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeP2POutputConnection" target="_top">makeP2POutputConnection</a></tt></dt>
<dd><p>Increments the point-to-point connection count of a unit output plug.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/open" target="_top">open</a></tt></dt>
<dd><p>Exclusively opens a connection to the in-kernel device.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/openWithSessionRef" target="_top">openWithSessionRef</a></tt></dt>
<dd><p>Opens a connection to a device that is not already open.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/removeCallbackDispatcherFromRunLoop" target="_top">removeCallbackDispatcherFromRunLoop</a></tt></dt>
<dd><p>Removes a dispatcher for kernel callbacks to the specified run loop.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/setMessageCallback" target="_top">setMessageCallback</a></tt></dt>
<dd><p>Sets callback for user space message routine.
</p></dd>
<dt><tt><a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/updateAVCCommandTimeout" target="_top">updateAVCCommandTimeout</a></tt></dt>
<dd><p>Updates an AVCCommand's timeout back to 10 seconds.
</p></dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/addCallbackDispatcherToRunLoop;  indexgroup=AVC ;   name=addCallbackDispatcherToRunLoop --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/addCallbackDispatcherToRunLoop"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="addCallbackDispatcherToRunLoop">addCallbackDispatcherToRunLoop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Adds a dispatcher for kernel callbacks to the specified run loop.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">addCallbackDispatcherToRunLoop</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <a href="../../../../../../CoreFoundation/Reference/CFRunLoopRef/Reference/reference.html#//apple_ref/c/tdef/CFRunLoopRef" target="_top" class="type"><span class="type">CFRunLoopRef</span></a> <span class="param">cfRunLoopRef</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>cfRunLoopRef</code></dt>
<dd><p>Reference to a run loop.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>The user space portions of the AV/C API communicate with the in-kernel services by 
messaging the kernel.  Similarly, the kernel messages the user space services in response.  
These responses need to be picked up by a piece of code.  This call adds that code to the specified
run loop.  Most drivers will call this method on the run loop that was created when your task was 
created.  To avoid deadlock you must avoid sleeping (or spin waiting) the run loop to wait for 
AV/C response.  If you do this the dispatcher will never get to run and you will wait forever.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandCancel;  indexgroup=AVC ;   name=AVCAsynchronousCommandCancel --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandCancel"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AVCAsynchronousCommandCancel">AVCAsynchronousCommandCancel</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Cancels a submitted command.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AVCAsynchronousCommandCancel</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">IOFireWireAVCLibAsynchronousCommand</span><!-- /a --> <span class="type">*</span><span class="param">pCommandObject</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>pCommandObject</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibAsynchronousCommand object passed back in <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand" target="_top">createAVCAsynchronousCommand</a>.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandReinit;  indexgroup=AVC ;   name=AVCAsynchronousCommandReinit --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandReinit"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AVCAsynchronousCommandReinit">AVCAsynchronousCommandReinit</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Reinitializes an existing IOFireWireAVCLibAsynchronousCommand object, preserving the existing command.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AVCAsynchronousCommandReinit</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">IOFireWireAVCLibAsynchronousCommand</span><!-- /a --> <span class="type">*</span><span class="param">pCommandObject</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>pCommandObject</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibAsynchronousCommand object passed back in <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand" target="_top">createAVCAsynchronousCommand</a>.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandReinitWithCommandBytes;  indexgroup=AVC ;   name=AVCAsynchronousCommandReinitWithCommandBytes --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandReinitWithCommandBytes"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AVCAsynchronousCommandReinitWithCommandBytes">AVCAsynchronousCommandReinitWithCommandBytes</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Reinitializes an existing IOFireWireAVCLibAsynchronousCommand object, replacing the existing command with a new one.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AVCAsynchronousCommandReinitWithCommandBytes</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>, 
    <!-- a --><span class="type">IOFireWireAVCLibAsynchronousCommand</span><!-- /a --> <span class="type">*</span><span class="param">pCommandObject</span>, 
    <span class="keyword">const</span> <!-- a --><span class="var">UInt8</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">command</span><!-- /a -->, 
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">cmdLen</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>pCommandObject</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibAsynchronousCommand object passed back in <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand" target="_top">createAVCAsynchronousCommand</a>.</p></dd>
<dt><code>command</code></dt>
<dd><p>Pointer to the command buffer.</p></dd>
<dt><code>cmdLen</code></dt>
<dd><p>Length of the command buffer.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandRelease;  indexgroup=AVC ;   name=AVCAsynchronousCommandRelease --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandRelease"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AVCAsynchronousCommandRelease">AVCAsynchronousCommandRelease</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Releases an IOFireWireAVCLibAsynchronousCommand object.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AVCAsynchronousCommandRelease</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">IOFireWireAVCLibAsynchronousCommand</span><!-- /a --> <span class="type">*</span><span class="param">pCommandObject</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>pCommandObject</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibAsynchronousCommand object passed back in <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand" target="_top">createAVCAsynchronousCommand</a>.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandSubmit;  indexgroup=AVC ;   name=AVCAsynchronousCommandSubmit --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCAsynchronousCommandSubmit"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AVCAsynchronousCommandSubmit">AVCAsynchronousCommandSubmit</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Issues the asynchronous command on the bus.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AVCAsynchronousCommandSubmit</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">IOFireWireAVCLibAsynchronousCommand</span><!-- /a --> <span class="type">*</span><span class="param">pCommandObject</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>pCommandObject</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibAsynchronousCommand object passed back in <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand" target="_top">createAVCAsynchronousCommand</a>.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCCommand;  indexgroup=AVC ;   name=AVCCommand --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCCommand"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AVCCommand">AVCCommand</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sends an AV/C command to the device and returns the response.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AVCCommand</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>, 
    <span class="keyword">const</span> <!-- a --><span class="var">UInt8</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">command</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">cmdLen</span><!-- /a -->,
    <!-- a --><span class="var">UInt8</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">response</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">responseLen</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>command</code></dt>
<dd><p>Pointer to command to send.</p></dd>
<dt><code>cmdLen</code></dt>
<dd><p>Length (in bytes) of command.</p></dd>
<dt><code>response</code></dt>
<dd><p>Pointer to place to store the response sent by the device.</p></dd>
<dt><code>responseLen</code></dt>
<dd><p>Pointer to place to store the length of the response. On entry, this parameter contains the size of the response buffer in bytes; on exit, it contains the number of valid bytes in the response buffer.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>This function will block until the device returns a response or the kernel driver times out. 
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCCommandInGeneration;  indexgroup=AVC ;   name=AVCCommandInGeneration --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/AVCCommandInGeneration"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="AVCCommandInGeneration">AVCCommandInGeneration</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sends an AV/C command to the device and returns the response.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">AVCCommandInGeneration</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">busGeneration</span>, 
    <span class="keyword">const</span> <!-- a --><span class="var">UInt8</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">command</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">cmdLen</span><!-- /a -->,
    <!-- a --><span class="var">UInt8</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">response</span><!-- /a -->,
    <!-- a --><span class="var">UInt32</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">responseLen</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>busGeneration</code></dt>
<dd><p>FireWire bus generation that the command is valid in.</p></dd>
<dt><code>command</code></dt>
<dd><p>Pointer to command to send.</p></dd>
<dt><code>cmdLen</code></dt>
<dd><p>Length (in bytes) of command.</p></dd>
<dt><code>response</code></dt>
<dd><p>Pointer to place to store the response sent by the device.</p></dd>
<dt><code>responseLen</code></dt>
<dd><p>Pointer to place to store the length of the response. On entry, this parameter contains the size of the response buffer in bytes; on exit, it contains the number of valid bytes in the response buffer.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sends an AV/C command to the device and returns the response.  The command must complete in the specified bus generation.  This function will block until the device returns a response or the kernel driver times out. 
<!-- end discussion -->
</p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 1 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakLocalP2PInputConnection;  indexgroup=AVC ;   name=breakLocalP2PInputConnection --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakLocalP2PInputConnection"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="breakLocalP2PInputConnection">breakLocalP2PInputConnection</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Decrements the point-to-point connection count of a unit input plug.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">breakP2PInputConnection</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">inputPlug</span>);  </pre>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 3 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakLocalP2POutputConnection;  indexgroup=AVC ;   name=breakLocalP2POutputConnection --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakLocalP2POutputConnection"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="breakLocalP2POutputConnection">breakLocalP2POutputConnection</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Decrements the point-to-point connection count of a unit output plug.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">breakP2POutputConnection</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">outputPlug</span>);  </pre>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 3 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakP2PInputConnection;  indexgroup=AVC ;   name=breakP2PInputConnection --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakP2PInputConnection"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="breakP2PInputConnection">breakP2PInputConnection</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Decrements the point-to-point connection count of a unit input plug.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">breakP2PInputConnection</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">inputPlug</span>);  </pre>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 3 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakP2POutputConnection;  indexgroup=AVC ;   name=breakP2POutputConnection --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/breakP2POutputConnection"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="breakP2POutputConnection">breakP2POutputConnection</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Decrements the point-to-point connection count of a unit output plug.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">breakP2POutputConnection</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">outputPlug</span>);  </pre>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 3 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/close;  indexgroup=AVC ;   name=close --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/close"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="close">close</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Closes an exclusive access to the device.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> ( <span class="type">*</span><!-- a --><span class="function">close</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Closes an exclusive access to the device.  When a device is closed it may be 
unloaded by the kernel.  If it is unloaded and then later reappears it will be represented 
by a different object.  You won't be able to use this user client on the new object.  The 
new object will have to be looked up in the I/O Registry and a new user client will have to 
be opened on it. 
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand;  indexgroup=AVC ;   name=createAVCAsynchronousCommand --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/createAVCAsynchronousCommand"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="createAVCAsynchronousCommand">createAVCAsynchronousCommand</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates an IOFireWireAVCLibAsynchronousCommand object to use with the asynchronous AV/C command functions.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">createAVCAsynchronousCommand</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>, 
    <span class="keyword">const</span> <!-- a --><span class="var">UInt8</span><!-- /a --> <span class="var">*</span> <!-- a --><span class="var">command</span><!-- /a -->, 
    <!-- a --><span class="var">UInt32</span><!-- /a --> <!-- a --><span class="var">cmdLen</span><!-- /a -->, 
    <!-- a --><span class="var">IOFireWireAVCLibAsynchronousCommandCallback</span><!-- /a --> <!-- a --><span class="var">completionCallback</span><!-- /a -->, 
    <!-- a --><span class="var">void</span><!-- /a --> <span class="var">*</span><!-- a --><span class="var">pRefCon</span><!-- /a -->, 
    <!-- a --><span class="var">IOFireWireAVCLibAsynchronousCommand</span><!-- /a --> <span class="var">*</span><span class="var">*</span><!-- a --><span class="var">ppCommandObject</span><!-- /a -->);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to an IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>command</code></dt>
<dd><p>Pointer to the command buffer.</p></dd>
<dt><code>cmdLen</code></dt>
<dd><p>The length of the command buffer.</p></dd>
<dt><code>completionCallback</code></dt>
<dd><p>The address of the completion routine.</p></dd>
<dt><code>pRefCon</code></dt>
<dd><p>Pointer to arbitrary data to be returned as the first argument of the callback routine.</p></dd>
<dt><code>ppCommandObject</code></dt>
<dd><p>Pointer to pointer to an IOFireWireAVCLibAsynchronousCommand object to be passed in other asynchronous AV/C command functions.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getAncestorInterface;  indexgroup=AVC ;   name=getAncestorInterface --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getAncestorInterface"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getAncestorInterface">getAncestorInterface</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates a plug-in object for an ancestor (in the I/O Registry) of the AV/C unit and returns an interface to it.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span> ( <span class="type">*</span><!-- a --><span class="function">getAncestorInterface</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">char</span><!-- /a --> <span class="type">*</span><span class="param">object_class</span>,
    <!-- a --><span class="type">REFIID</span><!-- /a --> <span class="param">pluginType</span>,
    <!-- a --><span class="type">REFIID</span><!-- /a --> <span class="param">iid</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>object_class</code></dt>
<dd><p>Class name of ancestor of the device to get an interface for.</p></dd>
<dt><code>pluginType</code></dt>
<dd><p>An ID number, of type <code>CFUUIDBytes</code> (see CFUUID.h), identifying the type of plug-in service to be returned for the ancestor.</p></dd>
<dt><code>iid</code></dt>
<dd><p>An ID number, of type <code>CFUUIDBytes</code> (see CFUUID.h), identifying the type of interface to be returned for the created plug-in object.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a COM-style interface pointer. Returns 0 upon failure.

<!-- end return value --></p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 1 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getAsyncConnectionPlugCounts;  indexgroup=AVC ;   name=getAsyncConnectionPlugCounts --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getAsyncConnectionPlugCounts"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getAsyncConnectionPlugCounts">getAsyncConnectionPlugCounts</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Gets the number of plugs in the producer.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">getAsyncConnectionPlugCounts</span><!-- /a -->) (
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">inputPlugCount</span>,
    <!-- a --><span class="type">UInt8</span><!-- /a --> <span class="type">*</span><span class="param">outputPlugCount</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>inputPlugCount</code></dt>
<dd><p>Pointer to the number of input plugs.</p></dd>
<dt><code>outputPlugCount</code></dt>
<dd><p>Pointer to the number of output plugs.</p></dd>
</dl>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getProtocolInterface;  indexgroup=AVC ;   name=getProtocolInterface --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getProtocolInterface"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getProtocolInterface">getProtocolInterface</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Creates a plug-in object for a protocol driver for the FireWire bus the AV/C unit
is connected to and returns an interface to it.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span> ( <span class="type">*</span><!-- a --><span class="function">getProtocolInterface</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">REFIID</span><!-- /a --> <span class="param">pluginType</span>,
    <!-- a --><span class="type">REFIID</span><!-- /a --> <span class="param">iid</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>pluginType</code></dt>
<dd><p>An ID number, of type <code>CFUUIDBytes</code> (see CFUUID.h), identifying the type of plug-in service to be returned for the created protocol object.</p></dd>
<dt><code>iid</code></dt>
<dd><p>An ID number, of type <code>CFUUIDBytes</code> (see CFUUID.h), identifying the type of interface to be returned for the created protocol device object.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns a COM-style interface pointer. Returns 0 upon failure.

<!-- end return value --></p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 1 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getSessionRef;  indexgroup=AVC ;   name=getSessionRef --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getSessionRef"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="getSessionRef">getSessionRef</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Opens a connection to a device that is not already open.
<!-- end abstract --></p>
<p></p>
<pre><!-- a --><span class="type">IOFireWireSessionRef</span><!-- /a --> ( <span class="type">*</span><!-- a --><span class="function">getSessionRef</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns an IOFireWireSessionRef on success.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sometimes it is desirable to open multiple user clients on a device.  In the case 
of FireWire sometimes we wish to have both the FireWire User Client and the AV/C User Client 
open at the same time.  The technique to arbitrate this is as follows:<br></p>
<ol>
<li>Open normally the device furthest from the root in the I/O Registry.
</li>
<li>Get its <code>sessionRef</code> with the <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getSessionRef" target="_top">getSessionRef</a> call.
</li>
<li>Open the device further up the chain by calling this method and passing the <code>sessionRef</code> returned from the call in step 2.
</li>
</ol>
<!-- end discussion --><p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeLocalP2POutputConnection;  indexgroup=AVC ;   name=makeLocalP2POutputConnection --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeLocalP2POutputConnection"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="makeLocalP2POutputConnection">makeLocalP2POutputConnection</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Increments the point-to-point connection count of a unit output plug.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">makeP2POutputConnection</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">outputPlug</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">chan</span>,
    <!-- a --><span class="type">IOFWSpeed</span><!-- /a --> <span class="param">speed</span>);  </pre>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 3 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeP2PInputConnection;  indexgroup=AVC ;   name=makeP2PInputConnection --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeP2PInputConnection"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="makeP2PInputConnection">makeP2PInputConnection</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Increments the point-to-point connection count of a unit input plug.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">makeP2PInputConnection</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">inputPlug</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">chan</span>);  </pre>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 3 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeP2POutputConnection;  indexgroup=AVC ;   name=makeP2POutputConnection --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/makeP2POutputConnection"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="makeP2POutputConnection">makeP2POutputConnection</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Increments the point-to-point connection count of a unit output plug.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">makeP2POutputConnection</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">outputPlug</span>,
    <!-- a --><span class="type">UInt32</span><!-- /a --> <span class="param">chan</span>,
    <!-- a --><span class="type">IOFWSpeed</span><!-- /a --> <span class="param">speed</span>);  </pre>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 3 or greater.
</dd>
</dl>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/open;  indexgroup=AVC ;   name=open --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/open"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="open">open</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Exclusively opens a connection to the in-kernel device.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">open</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Exclusively opens a connection to the in-kernel device.  As long as the in-kernel 
device object is open, no other drivers will be able to open a connection to the device. When 
open, the device on the bus may disappear, but the in-kernel object representing it will stay
instantiated and can begin communicating with the device again if it ever reappears. 
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/openWithSessionRef;  indexgroup=AVC ;   name=openWithSessionRef --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/openWithSessionRef"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="openWithSessionRef">openWithSessionRef</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Opens a connection to a device that is not already open.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">openWithSessionRef</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <!-- a --><span class="type">IOFireWireSessionRef</span><!-- /a --> <span class="param">sessionRef</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>sessionRef</code></dt>
<dd><p>SessionRef returned from <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getSessionRef" target="_top">getSessionRef</a> call.</p></dd>
</dl>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Return Value</font></h5>
<p><!-- begin return value -->Returns kIOReturnSuccess on success.

<!-- end return value --></p>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Sometimes it is desirable to open multiple user clients on a device.  In the case 
of FireWire sometimes we wish to have both the FireWire User Client and the AV/C User Client 
open at the same time.  The technique to arbitrate this is as follows:<br></p>
<ol>
<li>Open normally the device furthest from the root in the I/O Registry.
</li>
<li>Get its <code>sessionRef</code> with the <a href="index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/getSessionRef" target="_top">getSessionRef</a> call.
</li>
<li>Open the device further up the chain by calling this method and passing the <code>sessionRef</code> returned from the call in step 2.
</li>
</ol>
<!-- end discussion --><p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/removeCallbackDispatcherFromRunLoop;  indexgroup=AVC ;   name=removeCallbackDispatcherFromRunLoop --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/removeCallbackDispatcherFromRunLoop"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="removeCallbackDispatcherFromRunLoop">removeCallbackDispatcherFromRunLoop</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Removes a dispatcher for kernel callbacks to the specified run loop.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> ( <span class="type">*</span><!-- a --><span class="function">removeCallbackDispatcherFromRunLoop</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span> );  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>Undoes the work of <a href="../IOFireWireAVCLibProtocolInterface/index.html#//apple_ref/doc/com/intfm/IOFireWireAVCLibProtocolInterface/addCallbackDispatcherToRunLoop" target="_top">addCallbackDispatcherToRunLoop</a>.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/setMessageCallback;  indexgroup=AVC ;   name=setMessageCallback --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/setMessageCallback"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="setMessageCallback">setMessageCallback</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Sets callback for user space message routine.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> ( <span class="type">*</span><!-- a --><span class="function">setMessageCallback</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>,
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">refCon</span>,
    <!-- a --><span class="type">IOFWAVCMessageCallback</span><!-- /a --> <span class="param">callback</span>);  </pre>
<h5 class="tight"><font face="Lucida Grande,Helvetica,Arial">Parameters</font></h5>
<dl>
<dt><code>self</code></dt>
<dd><p>Pointer to IOFireWireAVCLibUnitInterface.</p></dd>
<dt><code>refCon</code></dt>
<dd><p>RefCon to be returned as first argument of completion routine.</p></dd>
<dt><code>callback</code></dt>
<dd><p>Address of completion routine.</p></dd>
</dl>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>In FireWire and AV/C, bus status messages are delivered via IOKit's message routine.  
This routine is emulated in user space for AV/C and FireWire messages via this callback.  You should
register here for bus reset and reconnect messages.
<!-- end discussion -->
</p>
<p></p>
<hr>
<!-- headerDoc=com;  uid=//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/updateAVCCommandTimeout;  indexgroup=AVC ;   name=updateAVCCommandTimeout --><a name="//apple_ref/doc/com/intfm/IOFireWireAVCLibUnitInterface/updateAVCCommandTimeout"></a>
<table border="0" cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row">
<h3><a name="updateAVCCommandTimeout">updateAVCCommandTimeout</a></h3>
</td></tr></table>
<hr>
<p><!-- begin abstract --></p>
<p>Updates an AVCCommand's timeout back to 10 seconds.
<!-- end abstract --></p>
<p></p>
<pre><a href="../../../IOReturn_h/index.html#//apple_ref/c/tdef/IOReturn" target="_top" class="type"><span class="type">IOReturn</span></a> ( <span class="type">*</span><!-- a --><span class="function">updateAVCCommandTimeout</span><!-- /a -->)(
    <a href="../../../../../../GraphicsImaging/Reference/ImageCaptureDeviceModulesReference/ICADevice/CompositePage.html#//apple_ref/c/tdef/void" target="_top" class="type"><span class="type">void</span></a> <span class="type">*</span><span class="param">self</span>);  </pre>
<h5 class="tight">
<font face="Lucida Grande,Helvetica,Arial">Discussion</font>
</h5>
<!-- begin discussion --><p>AVCCommands will time out after 10 seconds unless this function is called (from another thread) to update the command's timeout back to 10 seconds.
<!-- end discussion -->
</p>
<p></p>
<dl>
<dt><i>Availability</i></dt>
<dd>Interface version 2 or greater.
</dd>
</dl>
<p><!-- start of footer -->

<!-- start of footer --> 
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/IOKit/IOFireWireAVCLib_h/Classes/IOFireWireAVCLibUnitInterface/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/IOKit/IOFireWireAVCLib_h/Classes/IOFireWireAVCLibUnitInterface/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/IOKit/IOFireWireAVCLib_h/Classes/IOFireWireAVCLibUnitInterface/index.html%3Fid%3DTP30000815-5.4&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</p>
<p>&nbsp;</p>
<!--#include virtual="/footer"-->
<!-- end of footer -->


<!-- end of footer -->
Last Updated: 2009-02-23
</div>
<!-- headerDoc=cl; uid=//apple_ref/c/cl/IOFireWireAVCLibUnitInterface; indexgroup=AVC ; name=IOFireWireAVCLibUnitInterface--><a name="//apple_ref/c/cl/IOFireWireAVCLibUnitInterface"></a>
</body>
</html>
