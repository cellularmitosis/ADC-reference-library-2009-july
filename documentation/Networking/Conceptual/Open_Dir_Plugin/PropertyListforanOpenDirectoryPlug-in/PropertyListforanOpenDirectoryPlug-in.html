<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Open Directory Plug-in Programming Guide: Property List for an Open Directory Plug-in</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Property List for an Open Directory Plug-in"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000918-CH12" title="Property List for an Open Directory Plug-in"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000429" target="_top">Networking</a> &gt; <a href="../../../MacOSXServer-date.html#//apple_ref/doc/uid/TP30000440-TP30000429-TP30000542" target="_top">Mac OS X Server</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/TP40000918-CH1-SW1">Open Directory Plug-in Programming Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Authentication/Authentication.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../ConfiguringanOpenDirectoryPlug-in/ConfiguringanOpenDirectoryPlug-in.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000918-CH12-SW1" title="Property List for an Open Directory Plug-in"></a><h1>Property List for an Open Directory Plug-in</h1><p>An Open Directory plug-in is a standard Mac OS X bundle and follows the guidelines defined for Mac OS X packages.</p><p>Open Directory plug-ins are loaded from the following directories:</p><ul class="ul"><li class="li"><p><code>/System/Library/Frameworks/DirectoryService.framework/Resources/Plugins</code> (which may be read-only)</p></li><li class="li"><p><code>/Library/DirectoryServices/PlugIns </code>(which is always writable)</p></li></ul><p>or from other directories that may be defined later by Mac OS X.</p><p>Open Directory loads Open Directory plug-ins using the CFBundle load mechanism. </p><p>No special linker commands are required to build an Open Directory plug-in, but you should use the <code>-bundle_loader /usr/sbin/DirectoryService</code> option if you want to call APIs from the DirectoryService framework. Do no link to the DirectoryService framework, but use the DirectoryService framework to locate header files. The benefit of this approach is that calls can be directly dispatched without the overhead of a Mach message.</p><p>You must provide a property list file for your Open Directory plug-in. Here is the property list file for a plug-in named <code>SamplePlugin</code>:</p><a name="//apple_ref/doc/uid/TP40000918-CH12-14211" title="Listing 10-1Property list for a sample plug-in"></a><a name="//apple_ref/doc/uid/TP40000918-CH12-BBHBFEFG" title="Listing 10-1Property list for a sample plug-in"></a><p class="codesample"><strong>Listing 10-1&nbsp;&nbsp;</strong>Property list for a sample plug-in</p><div class="codesample"><table><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFBundleExecutable" = "SamplePlugin";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFBundleName" = "DirectoryServiceSamplePlugIn";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFBundleIdentifier" = "com.apple.DirectoryService.SamplePlugin";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFBundleVersion" = "1.0";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFBundleShortVersionString" = "1.0";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFBundlePackageType" = "dspi";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFBundlePackageSignature" = "adss";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFPlugInDynamicRegistration" = "NO";<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFPlugInFactories" = {<span></span></pre></td></tr><tr><td scope="row"><pre>        "D970D52E-D515-11D3-9FF9-000502C1C736" = "ModuleFactory";<span></span></pre></td></tr><tr><td scope="row"><pre>    };<span></span></pre></td></tr><tr><td scope="row"><pre>    "CFPlugInTypes" = {"697B5D6C-87A1-1226-89CA-000502C1C736"  =<span></span></pre></td></tr><tr><td scope="row"><pre>        ("D970D52E-D515-11D3-9FF9-000502C1C736");<span></span></pre></td></tr><tr><td scope="row"><pre>    };<span></span></pre></td></tr><tr><td scope="row"><pre>    "DSServerSignature" = "Samp";<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>In <span class="content_text"><a href="PropertyListforanOpenDirectoryPlug-in.html#//apple_ref/doc/uid/TP40000918-CH12-14211">Listing 10-1</a></span>, you are responsible for setting the following values:</p><ul class="ul"><li class="li"><p><code>CFBundleExecutable</code> — the name of the Open Directory plug-in</p></li></ul><ul class="ul"><li class="li"><p><code>CFBundleName</code> — the name of the bundle</p></li></ul><ul class="ul"><li class="li"><p><code>CFBundleIdentifier</code> — the bundle identifier</p></li></ul><ul class="ul"><li class="li"><p><code>CFBundleVersion</code> — the bundle’s version number</p></li></ul><ul class="ul"><li class="li"><p><code>CFBundleShortVersionString</code> — the bundle’s short version number</p></li></ul><ul class="ul"><li class="li"><p><code>CFPluginFactories</code> — a UNIX unique identifier (UUID) that is unique among all plug-ins generated by the <code>uuidgen</code> utility</p></li><li class="li"><p><code>CFPlugInTypes</code> — the first value must be <code>697B5D6C-87A1-1226-89CA-000502C1C736; </code>the second value must be your plug-in’s UUID</p></li><li class="li"><p><code>DSServerSignature </code>— your server signature</p></li></ul><p>The following values must be set as shown in <span class="content_text"><a href="PropertyListforanOpenDirectoryPlug-in.html#//apple_ref/doc/uid/TP40000918-CH12-14211">Listing 10-1</a></span>:</p><ul class="ul"><li class="li"><p><code>CFBundlePackageType </code>— must be <code>dspi</code></p></li></ul><ul class="ul"><li class="li"><p><code>CFBundlePackageSignature </code>— must be <code>adss</code></p></li></ul><ul class="ul"><li class="li"><p><code>CFPlugInDynamicRegistration </code>— must be <code>NO</code></p></li></ul><ul class="ul"><li class="li"><p><code>CFPlugInTypes </code>(first value) — must be <code>697B5D6C-87A1-1226-89CA-00502C1C736</code></p></li></ul><p>See the section <span class="content_text"><a href="../ConfiguringanOpenDirectoryPlug-in/ConfiguringanOpenDirectoryPlug-in.html#//apple_ref/doc/uid/TP40000918-CH13-18182">“Local Configuration”</a></span> for information about the <code>CFBundleConfigAvail</code> property, which is used to specify a configuration application for your Open Directory plug-in Mac OS X v10.1.</p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Authentication/Authentication.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../ConfiguringanOpenDirectoryPlug-in/ConfiguringanOpenDirectoryPlug-in.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-05-23<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Networking/Conceptual/Open_Dir_Plugin/PropertyListforanOpenDirectoryPlug-in/PropertyListforanOpenDirectoryPlug-in.html%3Fid%3DTP40000918-3.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Networking/Conceptual/Open_Dir_Plugin/PropertyListforanOpenDirectoryPlug-in/PropertyListforanOpenDirectoryPlug-in.html%3Fid%3DTP40000918-3.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Networking/Conceptual/Open_Dir_Plugin/PropertyListforanOpenDirectoryPlug-in/PropertyListforanOpenDirectoryPlug-in.html%3Fid%3DTP40000918-3.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>