<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>StdTxMeas(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING177></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-176.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-178.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-126.html"><B>Chapter 3 - QuickDraw Text</B></A> / <A HREF="Text-143.html"><B>QuickDraw Text Reference</B></A><BR><DL><DD><A HREF="Text-147.html"><B>Routines</B></A> / <A HREF="Text-175.html"><B>Low-Level QuickDraw Text Routines</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING177-0></A>
<H3><A NAME=MARKER-9-369></A>StdTxMeas</H3>
 The <CODE><A NAME=MARKER-2-828></A>StdTxMeas</CODE> function measures the width of scaled or unscaled text.<P>
<PRE>
FUNCTION StdTxMeas (byteCount: Integer; textAddr: Ptr;
                    VAR numer, denom: Point;
                    VAR info: FontInfo): Integer;
</PRE>
<DL>
<DT><CODE>byteCount</CODE>
<DD> The number of bytes to be counted.
<DT><CODE>textAddr</CODE>
<DD> A pointer to the beginning of the text in memory.
<DT><CODE>numer</CODE>
<DD> A point giving the numerator for the horizontal and vertical <BR>scaling factors.
<DT><CODE>denom</CODE>
<DD> A point giving the denominator for the horizontal and vertical <BR>scaling factors.
<DT><CODE>info</CODE>
<DD> A font information record that describes the current font.
</DL>
<A NAME=HEADING177-8></A>
<H5>DESCRIPTION</H5>
 The <CODE>StdTxMeas</CODE> function is a QuickDraw bottleneck routine that the QuickDraw text-measuring routines use extensively. The <CODE>StdTxMeas</CODE> function returns the width of the text stored in memory beginning with the first character at <CODE>textAddr</CODE> and continuing for <CODE>byteCount</CODE> bytes. You can call the <CODE>StdTxMeas</CODE> function directly, for example, to measure text that you want to explicitly scale, but not justify. You can also use <CODE>StdTxMeas</CODE> to get the font metrics for scaled text in order to determine the line height, instead of using <CODE>GetFontInfo</CODE>, which doesn't support scaling.<P>
 On input, you need to specify values for <CODE>numer</CODE> and <CODE>denom</CODE>, even if you are not scaling the text. You can specify 1,1 scaling factors, in this case, so that no scaling is applied. On return, <CODE>numer</CODE> and <CODE>denom</CODE> contain the additional scaling to be applied to the text. For more information about the input scaling factors, see <A HREF=Text-147.html#MARKER-9-256>"The numer and denom Parameters" on page 3-64</A>.<P>
 The <CODE>StdTxtMeas</CODE> function returns output scaling factors that you need to apply to the text to get the right measurement if the Font Manager was not able to fully satisfy the scaling request. You can use the Toolbox Utilities' <CODE>FixRound</CODE> and <CODE>FixRatio</CODE> functions to help with this process. For more information, see <A HREF=Text-139.html#MARKER-9-186>"Using Scaled Text" on page 3-43</A>.<P>
<A NAME=HEADING177-12></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 The <CODE>StdTxMeas</CODE> routine gives the correct results for all script systems. The <CODE>byteCount</CODE> parameter is the number of bytes of the text to be drawn, not characters. When specifying this value, consider that 2-byte script systems also include characters consisting of only one byte.<A NAME=MARKER-2-907></A><A NAME=MARKER-2-664></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-176.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-178.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
