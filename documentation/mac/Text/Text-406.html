<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>GetScriptQDPatchAddress(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING406></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-405.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-407.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-354.html"><B>Chapter 6 - Script Manager</B></A> / <A HREF="Text-365.html"><B>Script Manager Reference</B></A><BR><DL><DD><A HREF="Text-375.html"><B>Routines</B></A> / <A HREF="Text-403.html"><B>Replacing a Script System's Default Routines</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING406-0></A>
<H3>GetScriptQDPatchAddress</H3>
 <A NAME=MARKER-2-1016></A>The <CODE>GetScriptQDPatchAddress</CODE> function returns a pointer to the specified WorldScript I QuickDraw patch--or the built-in QuickDraw call--for the given <BR>script system.<P>
<PRE>
FUNCTION GetScriptQDPatchAddress (trapNum: Integer;
                                  before: Boolean;
                                  forPrinting: Boolean;
                                  script: ScriptCode): Ptr;
</PRE>
<DL>
<DT><CODE>trapNum</CODE>
<DD> A value that specifies the name of the QuickDraw routine whose <BR>address is needed.
<DT><CODE>before</CODE>
<DD> A Boolean that specifies which of two routines is needed. If <CODE>TRUE</CODE>, the address returned is that of the WorldScript I patch to the QuickDraw routine. If <CODE>FALSE</CODE>, the address returned is that of the original routine (usually the built-in QuickDraw routine).
<DT><CODE>forPrinting</CODE>
<DD> A Boolean that specifies whether the desired routine is for printing. If <CODE>TRUE</CODE>, the address returned is that of a QuickDraw patch that is specifically for printing; if <CODE>FALSE</CODE>, the address returned is that of a QuickDraw patch that is not specifically for printing.
<DT><CODE>script</CODE>
<DD> The numeric code that specifies the script system whose dispatch table contains the pointers to the QuickDraw routines. Constants for all defined script codes are listed on <A HREF=Text-367.html#MARKER-9-788>page 6-52</A>.
</DL>
<A NAME=HEADING406-7></A>
<H5>DESCRIPTION</H5>
 The <CODE>GetScriptQDPatchAddress</CODE> function examines the specified script's dispatch table and returns a pointer to the desired routine.<P>
 Because each element in the dispatch table consists of a pair of addresses, one for the WorldScript I patch to the QuickDraw routine, and another for the original QuickDraw version of the routine, you can get the address of either routine. Either routine can then be replaced, using the SetScriptQDPatchAddress call.<P>
 Some printers perform their own text layout on text that is passed to them. Therefore, each QuickDraw patch has two entry points: one for screen display and printing, and one for printing only. By specifying either <CODE>TRUE</CODE> or <CODE>FALSE</CODE> in the <CODE>forPrinting</CODE> parameter, the pointer you obtain is to either the "for printing only" or the "not for printing only" entry point. For example, some script systems might use the "for printing only" entry point to perform extra-fine justification of text on a PostScript printer.<P>
 Valid values for the <CODE>trapNum</CODE> parameter are listed on <A HREF=Text-403.html#MARKER-9-601>page 6-101</A>. <A NAME=MARKER-2-1017></A><P>
 If the specified script system is not enabled, <CODE>GetScriptQDPatchAddress</CODE> returns <BR>a <CODE>NIL</CODE> pointer.<P>
<A NAME=HEADING406-13></A>
<H5>SEE ALSO</H5>
 WorldScript I is described in the appendix "Built-in Script Support" in this book.<P>
 In order to handle contextual formatting appropriately for each script system, printer drivers should call the Script Manager's print action routine, described in <I><A HREF="../Devices/Devices-2.html">Inside Macintosh: Devices</A></I>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-405.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-407.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
