<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>PlotIconID (IM: MTb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING280></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MoreToolbox-279.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-281.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MoreToolbox-2.html"><B>More Macintosh Toolbox</B></A> / <BR><DD><A HREF="MoreToolbox-269.html"><B>Chapter 5 - Icon Utilities</B></A> / <A HREF="MoreToolbox-275.html"><B>Icon Utilities Reference</B></A><BR><DL><DD><A HREF="MoreToolbox-278.html"><B>Icon Utilities Routines</B></A> / <A HREF="MoreToolbox-279.html"><B>Drawing Icons From Resources</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING280-0></A>
<H3><A NAME=MARKER-11-153></A><A NAME=MARKER-9-196></A>PlotIconID<A NAME=MARKER-2-155></A></H3>
 You can use the <CODE>PlotIconID</CODE> function to draw the icon described by an icon family. From the icon family, <CODE>PlotIconID</CODE> selects the most appropriate icon resource for the current bit depth of the display device and the rectangle in which the icon is to be drawn.<P>
<PRE>
FUNCTION PlotIconID (theRect: Rect; align: IconAlignmentType;
                     transform: IconTransformType; 
                     theResID: Integer): OSErr;
</PRE>
<DL>
<DT><CODE>theRect</CODE>
<DD> The rectangle, specified in local coordinates of the current graphics port, in which to draw the icon. The <CODE>PlotIconID</CODE> function determines, from the size of the specified destination rectangle and the current bit depth <BR>of the display device, which icon of a given size to draw from an icon family. 
<DT><CODE>align</CODE>
<DD> A value that specifies how <CODE>PlotIconID</CODE> should align the icon within the rectangle. For example, you can specify that <CODE>PlotIconID</CODE> center the icon within the rectangle or align it at one side or the other. See the description that follows for a list of constants you can use in this parameter.
<DT><CODE>transform</CODE>
<DD> A value that specifies how <CODE>PlotIconID</CODE> should modify the appearance of the icon. See the description that follows for a list of constants you can use in this parameter. 
<DT><CODE>theResID</CODE>
<DD> The resource ID of the icon to draw. The icon resource must be of resource type <CODE>'ICN#'</CODE>, <CODE>'ics#'</CODE>, <CODE>'icl4'</CODE>, <CODE>'icl8'</CODE>, <CODE>'ics4'</CODE>, or <CODE>'ics8'</CODE>.
</DL>
<A NAME=HEADING280-7></A>
<H5><A NAME=MARKER-9-156></A>DESCRIPTION</H5>
 The <CODE>PlotIcon</CODE>ID function plots a single icon from the icon family specified by <CODE>theResID</CODE>. You cannot determine which icon from the family it will draw; <CODE>PlotIcon</CODE>ID bases this decision on the size of the specified destination rectangle and the current bit depth of the display device. For example, if the destination rectangle has the coordinates (100,100,116,116) and the display device is set to 4-bit color, the <CODE>PlotIcon</CODE>ID function draws the icon of type <CODE>'ics4'</CODE> if that icon is available in the icon family. <P>
 If the width or height of a destination rectangle is greater than or equal to 32, <CODE>PlotIcon</CODE>ID uses the 32-by-32 pixel icon with the appropriate bit depth for the display device. If the destination rectangle is less than 32 by 32 pixels and greater than 16 pixels wide or 12 pixels high, <CODE>PlotIcon</CODE>ID uses the 16-by-16 pixel icon with the appropriate bit depth. If the destination rectangle's height is less than or equal to 12 pixels or its width is less than or equal to 16 pixels, <CODE>PlotIcon</CODE>ID uses the 12-by-16 pixel icon with the appropriate bit depth. (Typically only the Finder and Standard File Package use 12-by-16 pixel icons.)<P>
 You can use these constants in the <CODE>align</CODE> parameter to specify the alignment of the icon within the rectangle specified by the <CODE>theRect</CODE> parameter:<P>
<PRE>
CONST
   atNone               = $0; {no special alignment}
   atVerticalCenter     = $1; {centered vertically}
   atTop                = $2; {top aligned}
   atBottom             = $3; {bottom aligned}
   atHorizontalCenter   = $4; {centered horizontally}
   atLeft               = $8; {left aligned}
   atRight              = $C; {right aligned}
   atAbsoluteCenter     = (atVerticalCenter + atHorizontalCenter);
   atCenterTop          = (atTop + atHorizontalCenter);
   atCenterBottom       = (atBottom + atHorizontalCenter);
   atCenterLeft         = (atVerticalCenter + atLeft);
   atTopLeft            = (atTop + atLeft);
   atBottomLeft         = (atBottom + atLeft);
   atCenterRight        = (atVerticalCenter + atRight);
   atTopRight           = (atTop + atRight);
   atBottomRight        = (atBottom + atRight);
</PRE>
 The destination rectangle passed in the <CODE>theRect</CODE> parameter of <CODE>PlotIcon</CODE>ID must be exactly 32 by 32 pixels, 16 by 16 pixels, or 12 by 16 pixels for <CODE>PlotIcon</CODE>ID to draw the icon without stretching it. If the destination rectangle is not one of these standard sizes, <CODE>PlotIconID</CODE> expands or shrinks the icon to fit. After stretching or shrinking the icon, the <CODE>PlotIcon</CODE>ID function aligns the icon according to the value specified in the <CODE>align</CODE> parameter, moving the icon so that the edges of its mask align with the specified side or direction.<P>
 You can pass constants in the <CODE>transform</CODE> parameter to specify how you want the icon modified, if at all, when plotted by <CODE>PlotIcon</CODE>ID. If you don't want to specify any transform constants, specify <CODE>ttNone</CODE> in the <CODE>transform</CODE> parameter.<P>
<PRE>
CONST ttNone         =    $0;
</PRE>
 You can use these constants in the <CODE>transform</CODE> parameter to transform the icon in a manner analogous to certain Finder states for icons:<P>
<PRE>
CONST
   ttDisabled           = $1;
   ttOffline            = $2;
   ttOpen               = $3;
   ttSelected           = $4000;
   ttSelectedDisabled   = (ttSelected + ttDisabled);
   ttSelectedOffline    = (ttSelected + ttOffline);
   ttSelectedOpen       = (ttSelected + ttOpen);
</PRE>
 You can use another group of constants to color the icon using the Finder label colors. To determine the appropriate label for a file's icon, you can check bits 1-3 of the <CODE>fdFlags</CODE> field in the file's file information record. These bits contain a number from 0 to 7 indicating the label setting (0 indicates no label). Simply add the corresponding constant from this list to the <CODE>transform</CODE> parameter when you call <CODE>PlotIcon</CODE>ID:<A NAME=MARKER-2-358></A><P>
<PRE>
CONST
   ttLabel1             = $0100;
   ttLabel2             = $0200;
   ttLabel3             = $0300;
   ttLabel4             = $0400;
   ttLabel5             = $0500;
   ttLabel6             = $0600;
   ttLabel7             = $0700;
</PRE>
<A NAME=HEADING280-19></A>
<H5>RESULT CODES
<TABLE BORDER="0" CELLPADDING=3><TD>noErr<TD>0<TD>No error<TR>
<TD>resNotFound<TD>-192<TD>Resource not found<TR>
<TD>noMaskFoundErr<TD>-1000<TD>No mask found</TABLE>
</H5>
<A NAME=HEADING280-20></A>
<H5>SEE ALSO</H5>
 For an example of the use of the <CODE>PlotIconID</CODE> function, see <A HREF=MoreToolbox-273.html#MARKER-9-92>Listing 5-1 on page 5-10</A>. <P>
 To restrict the icons from an icon family that are available for use by the Icon Utilities, see <A HREF=MoreToolbox-273.html#MARKER-9-101>"Drawing Specific Icons From an Icon Family" on page 5-12</A>.<P>
 For information about the file information record, see the chapter "Finder Interface" in <I><A HREF="../Toolbox/Toolbox-2.html">Inside Macintosh: Macintosh Toolbox Essentials</A></I>. <A NAME=MARKER-2-48></A> <P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="MoreToolbox-279.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MoreToolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MoreToolbox-513.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MoreToolbox-281.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MoreToolbox-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>   
