<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>StringToTime(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING337></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-336.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-338.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-279.html"><B>Chapter 5 - Text Utilities</B></A> / <A HREF="Text-292.html"><B>Text Utilities Reference</B></A><BR><DL><DD><A HREF="Text-299.html"><B>Routines</B></A> / <A HREF="Text-334.html"><B>Converting Date and Time Strings Into Numeric Representations</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING337-0></A>
<H3><A NAME=MARKER-2-402></A>StringToTime</H3>
 The <CODE>StringToTime</CODE> function parses a string for a time specification and converts the date information into values in a date-time record. At the beginning of the string, it expects a time specification in a format defined by the current script. It returns a status value that indicates the confidence level for the success of the conversion.<A NAME=MARKER-2-874></A><P>
<PRE>
FUNCTION StringToTime(textPtr: Ptr; textLen: LongInt;
                  theCache: DateCachePtr; VAR lengthUsed: LongInt; 
                  VAR dateTime: LongDateRec): StringToDateStatus;
</PRE>
<DL>
<DT><CODE>textPtr</CODE>
<DD> A pointer to the text string to be parsed.
<DT><CODE>textLen</CODE>
<DD> The number of bytes in the text string.
<DT><CODE>theCache</CODE>
<DD> A pointer to the date cache record initialized by the <CODE>InitDateCache</CODE> function with data that is used during the conversion process.
<DT><CODE>lengthUsed</CODE>
<DD> On output, contains the number of bytes of the string that were parsed for the time.
<DT><CODE>dateTime</CODE>
<DD> On output, this <CODE>LongDateRec</CODE> record contains the hour, minute, and second values that were parsed for the time.
</DL>
<A NAME=HEADING337-8></A>
<H5>DESCRIPTION</H5>
 <CODE>StringToTime</CODE> parses the string until it has finished finding all time information or until it has examined the number of bytes specified by <CODE>textLen</CODE>. It returns a status value that indicates the confidence level for the success of the conversion.<P>
 Note that <CODE>StringToTime</CODE> fills in only the hour, minute, and second; <CODE>StringToDate</CODE> fills in the year, month, day, and day of the week. You can use these two routines sequentially to fill in all of the values in a <CODE>LongDateRec</CODE> record.<P>
 <CODE>StringToTime</CODE> assigns to its <CODE>lengthUsed</CODE> parameter the number of bytes that it used to parse the date.<P>
 <CODE>StringToTime</CODE> returns the same status value indicator type as does <CODE>StringToDate</CODE>: a set of bit values that indicate confidence levels, with higher numbers indicating low confidence in how closely the input string matched what the routine expected. The possible values of this type are described in <A HREF=Text-290.html#MARKER-9-7>Table 5-5 on page 5-33</A>.<P>
<A NAME=HEADING337-13></A>
<H5>SPECIAL CONSIDERATIONS</H5>
 <CODE>StringToTime</CODE> may move memory; your application should not call this function at interrupt time.<P>
<A NAME=HEADING337-15></A>
<H5>ASSEMBLY-LANGUAGE INFORMATION</H5>
 The trap macro and routine selector for the <CODE>StringToTime</CODE> function are
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Trap macro<TH>Selector<TR>
<TD>_ScriptUtil<TD>$8214 FFF4<A NAME=MARKER-2-51></A></TABLE>
<A NAME=MARKER-2-395></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-336.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-338.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
