<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Core Audio (Legacy): Audio Toolbox</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Audio Toolbox"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	<meta name="ROBOTS" content="NOINDEX"/>
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP30001108-CH205" title="Audio Toolbox"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> &gt; <a href="../../../../../reference/LegacyTechnologies/index.html#//apple_ref/doc/uid/TP30001281-TP30000470" target="_top">Legacy Documents</a> &gt; <a href="../../../../../reference/LegacyTechnologies/idxMusicAudio-date.html#//apple_ref/doc/uid/TP30001281-TP30000470-TP30000452" target="_top">Audio</a> &gt; <a href="../book_intro/book_intro.html#//apple_ref/doc/uid/TP30001108-CH201-DontLinkElementID_85">Core Audio (Legacy)</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../audiocodec/audiocodec.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../audio_units/audio_units.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        <script type="text/javascript" language="JavaScript">placeWatermark()</script>
<div id="legacyOuterWrapper"><div align="center" id="watermark">
<div class="legacybox">
<h1>Legacy Document<span class="closebutton"><a href="javascript:closeWatermark()"><img src="../../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>
        <a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_80" title="Audio Toolbox"></a><h1><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF101" title="Audio Toolbox "></a>Audio Toolbox </h1><p>This chapter discusses the Audio Converter,
Audio File, Audio Format and AUGraph APIs, which are part of the
Audio Toolbox for Mac OS X, and the services provided by the Audio
Toolbox framework that applications may use for audio processing.
The section <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-135410">“Audio Toolbox Reference”</a></span> describes the constants, data types,
and functions of the Audio Toolbox framework.</p>


<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-BABGGAFA">Overview of the Audio Toolbox</a>
				
			<br/>
			
        
			
			
				<a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-114346">Using the Audio Toolbox</a>
				
			<br/>
			
        
			
			
				<a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-TPXREF120">Audio Toolbox Reference</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/TP30001108-CH205-114161" title="Overview of the Audio Toolbox"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABGGAFA" title="Overview of the Audio Toolbox"></a><h2>Overview of the
Audio Toolbox</h2>
<p>The Audio Toolbox framework provides a set of services that
applications can use for audio processing:</p>
<ul class="ul"><li class="li"><p><code>AudioConverter.h</code></p></li>
<li class="li"><p><code></code><code>AudioFormat.h</code></p></li>
<li class="li"><p><code>AudioFile.h</code></p></li>
<li class="li"><p><code>AUGraph.h</code></p></li></ul>
<p>In Java, these services are provided in the <code>com.apple.audio.toolbox</code> package.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114223" title="Audio Converter"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABHAFJB" title="Audio Converter"></a><h3>Audio Converter</h3>
<p>Audio Converter provides format conversion services. When
encoding or decoding audio data, Audio Converter should be utilized,
as it allows for sample rate conversions, interleaving and deinterleaving
of audio streams, floating-point-to-integer and integer-to-floating-point
conversions, and bit rate conversions. Also, the API handles channel
reordering, as well as converting between PCM and compressed formats.
When encoding or decoding an audio stream, use of Audio Converter
is strongly recommended over the direct use of an audio codec, since
optimizations are in place to provided for optimal conversions.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114237" title="Audio Format"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABJIAJC" title="Audio Format"></a><h3>Audio Format</h3>
<p>The Audio Format API is provided to help handle information
about different audio formats. It is able to inspect <code>AudioStreamBasicDescription</code> instances
and provide more information about a particular format&#8217;s parameters.
This API also can derive information from <code>AudioChannelLayout</code> instances,
including a description of the channels present in the instance,
and the ordering of the channels. Finally, Audio Format can provide
information about the encoders and decoders available on the system.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114259" title="Audio File"></a><h3>Audio
File</h3>
<p>Audio File is a system with which audio files may be created,
opened, modified, and saved. Besides these operations, it also allows
for discovery of global properties, including:</p>
<ul class="spaceabove"><li class="li"><p>File types that can be read.</p></li>
<li class="li"><p>File types that can be written.</p></li>
<li class="li"><p>A name for a file type.</p></li>
<li class="li"><p>Stream formats that can be read.</p></li>
<li class="li"><p>All file extensions that can be read.</p></li>
<li class="li"><p>File extensions for a file type.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114307" title="AUGraph "></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF102" title="AUGraph "></a><h3>AUGraph </h3>
<p>The AUGraph is a high-level representation of a set of Audio
Units, along with the connections between them. These APIs may be
used to construct arbitrary signal paths through which audio may
be processed, that is, a modular routing system. The APIs deal with
large numbers of Audio Units and their relationships to one another.</p>
<p>AUGraphs provide the following services:</p>
<ul class="spaceabove"><li class="li"><p>Real-time routing changes that allow for connections
to be created and broken while audio is being processed.</p></li>
<li class="li"><p>Maintaining representation even when Audio Units are not instantiated. </p></li></ul>
<p>The head of a graph is always an output unit, which may save
the processed audio stream to disk, into memory, or as sound out.
Starting a graph entails &#8220;pulling&#8221; on the head unit (provided
for by API), which will, in turn, pull on the next unit in the graph.
The contents of a graph may be saved output and saved for later
use.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-133085" title="Music Player and Music Sequence"></a><h3>Music
Player and Music Sequence</h3>
<p>The Music Player and Music Sequence APIs are used in tandem
to sequence various events. Events can range from the changing of
an audio unit's parameters to sending a MIDI endpoint a message.
Standard MIDI files are played back using the Music Player API,
particularly using the provided functions (see Reading in an SMF
section). Similarly, you can save incoming MIDI data to a music
sequence and then save the sequence as a standard MIDI file.There
are three pieces in the Music Player API: players, sequences, and
tracks.Players are assigned to a sequence, and trigger the sequence
to start and stop. The relation between a player and a sequence
is one-to-one, meaning that each player may only have one sequence
assigned to it, and vice versa. Players also keep track of the current
playback time in the sequence, and allow the playback time to be
set. Finally, a scalar can be applied to a player, which will alter
the tempo of the assigned sequence by that scalar.A sequence is
a collection of tracks. A track is collection of events targeted
at either a MIDI endpoint, an audio unit, or a callback. A sequence
may contain an arbitrary number of tracks, created as needed. Each
sequence also contains one special track, the tempo track. This
track measures out the playback rate, in beats-per-minute (bpm).
Adding tempo events to a tempo track will change the rate at which
events occur from that point on, or until the next tempo event occurs.</p>
<p>When recording MIDI events for saving to disk, the incoming
MIDI data needs to be parsed and placed into the sequence, which
then can be saved as a standard MIDI file, for later use.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114346" title="Using the Audio Toolbox"></a><h2>Using
the Audio Toolbox</h2>
<p>This usage section describes how to utilize the APIs that
comprise the Audio Toolbox framework available for Mac OS X.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114359" title="Using Audio Converter"></a><h3>Using
Audio Converter</h3>
<p>The Audio Converter API allows for the conversion between
various audio formats. These examples are provided to give the developer
a feel for using the Audio Converter tool.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114372" title="Creating a New Audio Converter"></a><h4>Creating
a New Audio Converter</h4>
<div class="codesample"><table><tr><td scope="row"><pre>AudioStreamBasicDescription in, out;<span></span></pre></td></tr><tr><td scope="row"><pre> /* ... Fill out stream descriptions ... */<span></span></pre></td></tr><tr><td scope="row"><pre>AudioConverterRef converter;<span></span></pre></td></tr><tr><td scope="row"><pre>OSStatus err = AudioConverterNew(&amp;in, &amp;out, &amp;converter);<span></span></pre></td></tr></table></div>
<p>These steps should be followed when creating a new converter:</p>
<ol class="ol"><li class="li"><p>Declare two <code>AudioStreamBasicDescription </code>instances,
one for the input, and one for the output.</p></li>
<li class="li"><p>Populate the two descriptions with the appropriate stream
information.</p></li>
<li class="li"><p>Declare a new converter instance.</p></li>
<li class="li"><p>Invoke the <code><!--a-->AudioConverterNew()<!--/a--></code> function,
providing the input, output, and converter as parameters. Note that
the parameters are passed by reference.</p></li></ol>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114446" title="Converting Audio Data"></a><h4>Converting
Audio Data</h4>
<div class="codesample"><table><tr><td scope="row"><pre>AudioConverterRef converter;<span></span></pre></td></tr><tr><td scope="row"><pre> /* ... Set up the converter .. */<span></span></pre></td></tr><tr><td scope="row"><pre>const UInt32 kRequestPackets = 8192;<span></span></pre></td></tr><tr><td scope="row"><pre>AudioBufferList bufferList;<span></span></pre></td></tr><tr><td scope="row"><pre> /* ... Allocate the output buffer ... */<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>while( /* ... While there is data left to be converted ... */ )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    UInt32 ioOutputDataPacketSize = kRequestPackets;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    OSStatus err = AudioConverterFillComplexBuffer(converter, inputProcPtr,<span></span></pre></td></tr><tr><td scope="row"><pre>                     userData, &amp;ioOutputDataPacketSize, &amp;bufferList, NULL);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<p>These steps should be followed when pulling data from a converter:</p>
<ol class="ol"><li class="li"><p>Allocate and set up a converter instance.</p></li>
<li class="li"><p><em>Optional:</em> Set up a constant for the amount
of data to be pulled.</p></li>
<li class="li"><p>Set up an <code><a href="../core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioBufferList">AudioBufferList</a></code> instance
to hold the converted data. If the data is interleaved, then only
one index is needed for the instance&#8217;s <code>mBuffers</code> array;
if the data consists of multiple mono channels, then allocate one
index in the <code>mBuffers</code> array
for each channel.</p></li>
<li class="li"><p>Enter into a loop which pulls data until the <code><!--a-->*AudioConverterComplexInputProc<!--/a--></code> signals
that no more data is left to be pulled, or until the desired amount
of data is pulled.</p></li>
<li class="li"><p>Inside of the loop, use <code><!--a-->AudioConverterFillComplexBuffer()<!--/a--></code>to
pull the data. The parameters passed in this example are:</p><ul class="ul">
<li class="li"><p><em>converter</em> - The converter to
be used.</p></li>
<li class="li"><p><em>inputProcPtr</em> - A callback which
provides the input data for conversion.</p></li>
<li class="li"><p><em>userData</em> - Any parameters or
constants needed by the <code>inputProcPtr</code> callback.</p></li>
<li class="li"><p><em>ioOutputDataPacketSize</em> - Upon
input, the requested amount of converted data; on output, the actual
amount of data converted.</p></li>
<li class="li"><p><em>bufferList</em> - The buffer for
the converted audio data.</p></li>
<li class="li"><p><em>NULL</em> - An <code>AudioStreamPacketDescription</code> instance
used to describe the size of the resulting packet; only needed when
receiving variable bit rate (VBR) data.</p></li></ul></li></ol>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114662" title="Supplying Data for AudioConverterFillComplexBuffer()"></a><h4>Supplying
Data for AudioConverterFillComplexBuffer()</h4>
<div class="codesample"><table><tr><td scope="row"><pre>OSStatus FromFloatInputProc (<span></span></pre></td></tr><tr><td scope="row"><pre>    AudioConverterRef inAudioConverter,<span></span></pre></td></tr><tr><td scope="row"><pre>    UInt32 *ioNumberDataPackets,<span></span></pre></td></tr><tr><td scope="row"><pre>    AudioBufferList *ioData,<span></span></pre></td></tr><tr><td scope="row"><pre>    AudioStreamPacketDescription **outDataPacketDescription,<span></span></pre></td></tr><tr><td scope="row"><pre>    void *inUserData )<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>MyUserData *data = static_cast&lt;MyUserData*&gt;(inUserData);<span></span></pre></td></tr><tr><td scope="row"><pre>AudioBufferList *bufferList = data-&gt;bufferList;<span></span></pre></td></tr><tr><td scope="row"><pre>for (UInt32 i=0; i &lt; bufferList-&gt;mNumberBuffers; ++i)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    ioData-&gt;mBuffers[i].mNumberChannels =<span></span></pre></td></tr><tr><td scope="row"><pre>        bufferList-&gt;mBuffers[i].mNumberChannels;<span></span></pre></td></tr><tr><td scope="row"><pre>    ioData-&gt;mBuffers[i].mData = bufferList-&gt;mBuffers[i].mData;<span></span></pre></td></tr><tr><td scope="row"><pre>    ioData-&gt;mBuffers[i].mDataByteSize =<span></span></pre></td></tr><tr><td scope="row"><pre>        bufferList-&gt;mBuffers[i].mDataByteSize;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>*ioNumberDataPackets = ioData-&gt;mBuffers[0].mDataByteSize /<span></span></pre></td></tr><tr><td scope="row"><pre>                                data-&gt;mInputASBD.mBytesPerPacket;<span></span></pre></td></tr><tr><td scope="row"><pre>return noErr;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<p>This example looks at creating an <code><!--a-->*AudioConverterComplexInputDataProc<!--/a--></code> for
use by <code><!--a-->AudioConverterFillComplexBuffer()<!--/a--></code>:</p>
<ol class="ol"><li class="li"><p>An <code><!--a-->*AudioConverterComplexInputDataProc<!--/a--></code> takes
in the following arguments:</p><ul class="ul"><li class="li"><p><em>inAudioConverter</em> -
The converter in use.</p></li>
<li class="li"><p><em>ioNumberPackets</em> - The number
of packets requested.</p></li>
<li class="li"><p><em>ioData</em> - The data to be returned
to <code><!--a-->AudioConverterFillComplexBuffer()<!--/a--></code> for
conversion.</p></li>
<li class="li"><p><em>outPacketDescription</em> - Provided
to give the details of the packet format passed back when decoding.
This should be an <code><a href="../core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioStreamPacketDescription">AudioStreamPacketDescription</a></code> array,
with each packet corresponding to a descrption.</p></li>
<li class="li"><p><em>inUserData</em> - Data needed by
the callback, for any purpose; in this case, it holds the location
of the input data.</p></li></ul></li>
<li class="li"><p>In a loop, fill each buffer in <code>ioData</code> with
the number of channels, requested amount of data, and data byte
size.</p></li>
<li class="li"><p>Calculate the number of provided packets, and place the value
in <em>ioNumberDataPackets</em>.</p></li></ol>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114886" title="Using Audio Format"></a><h3>Using
Audio Format</h3>
<p>The Audio Format API is provided to acquire information about
formats and channel layouts. This example is provided to give the
developer a feel for using the Audio Format API.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-114899" title="Getting Format ID Information"></a><h4>Getting
Format ID Information</h4>
<div class="codesample"><table><tr><td scope="row"><pre>UInt32 size;<span></span></pre></td></tr><tr><td scope="row"><pre>OSStatus err;<span></span></pre></td></tr><tr><td scope="row"><pre>OSType *formatIDs;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>err = AudioFormatGetPropertyInfo(<span></span></pre></td></tr><tr><td scope="row"><pre>                    kAudioFormatProperty_EncodeFormatIDs, 0, NULL, &amp;size);<span></span></pre></td></tr><tr><td scope="row"><pre>if (err) return err;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>formatIDs = (OSType*)malloc(size);<span></span></pre></td></tr><tr><td scope="row"><pre>UInt32 numFormats = size / sizeof(OSType);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>err = AudioFormatGetProperty(<span></span></pre></td></tr><tr><td scope="row"><pre>         kAudioFormatProperty_EncodeFormatIDs, 0, NULL, &amp;size, formatIDs);<span></span></pre></td></tr><tr><td scope="row"><pre>if (err) return err;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>for (UInt32 i=0; i&lt;numFormats; ++i)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    AudioStreamBasicDescription absd;<span></span></pre></td></tr><tr><td scope="row"><pre>    memset(&amp;absd, 0, sizeof(absd));<span></span></pre></td></tr><tr><td scope="row"><pre>    absd.mFormatID = formatIDs[i];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CFStringRef name;<span></span></pre></td></tr><tr><td scope="row"><pre>    size = sizeof(CFStringRef);<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AudioFormatGetProperty(<span></span></pre></td></tr><tr><td scope="row"><pre>        kAudioFormatProperty_FormatName, sizeof(absd), &amp;absd, &amp;size, &amp;name);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (err) return err;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CFShow(name);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<p>This example shows how to use the property management system
available in Audio Format to acquire information about the encoder
formats, and output their names:</p>
<ol class="ol"><li class="li"><p>Use the <code><!--a-->AudioFormatGetPropertyInfo()<!--/a--></code> function
to get the size of the data that will be returned by calling <code><!--a-->AudioFormatGetProperty()<!--/a--></code> for
that property. The arguments for <code><!--a-->AudioFormatGetPropertyInfo()<!--/a--></code> are:</p><ul class="ul">
<li class="li"><p><em>kAudioFormatProperty_EncodeFormatIDs</em> -
The property we are querying for.</p></li>
<li class="li"><p><em>0</em> - The size of the specifier;
in this case, <code>0</code>, since
this property does not require a specifier.</p></li>
<li class="li"><p><em>NULL</em> - The specifier; in this
case, <code>NULL</code>, since the
property does not require a specifier.</p></li>
<li class="li"><p><em>&amp;size</em> - The size of the
data that will be returned when <code><!--a-->AudioFormatGetProperty()<!--/a--></code> is
called for this property.</p></li></ul></li>
<li class="li"><p>Once the size is obtained, <code><!--a-->AudioFormatGetProperty()<!--/a--></code> may
be called. The same parameters are passed in as with <code><!--a-->AudioFormatGetPropertyInfo()<!--/a--></code>,
with the addition of a <code>void</code> pointer, in this
case <em>formatIDs</em>, to hold the returned
data in.</p></li>
<li class="li"><p>Now that an array of the format IDs have been attained, it
may be iterated over by following these steps:</p><ol class="ol"><li class="ol ol"><p>Create
an <code>AudioStreamBasicDescription</code> instance and
clear its contents.</p></li>
<li class="ol ol"><p>Set the format ID of the <code>AudioStreamBasicDescription</code> instance
to one of the format IDs returned when <code><!--a-->AudioFormatGetProperty()<!--/a--></code> was
called with the <code><!--a  -->kAudioFormatProperty_EncodeFormatIDs<!--/a--></code> property.</p></li>
<li class="ol ol"><p>Create a <code>CFStringRef</code> to hold the name
of the format, and obtain its size.</p></li>
<li class="ol ol"><p>To obtain the format&#8217;s name, call <code><!--a-->AudioFormatGetProperty()<!--/a--></code> with <code><!--a  -->kAudioFormatProperty_FormatName<!--/a--></code> as
the property, the <code>AudioStreamBasicDescription</code> instance
as the specifier, and the <code>CFString</code> as the <em>outPropertyData</em> value.</p></li>
<li class="ol ol"><p>Print out the name of the format, as stored in the <code>CFString</code>.</p></li></ol></li></ol>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115239" title="Using Audio File"></a><h3>Using
Audio File</h3>
<p>The Audio File API is used to discover global file format
information and to provide an interface for creating, opening, modifying,
and saving audio files. This example is provided to give the developer
a feel for using the Audio File API.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115252" title="Acquiring Global File Information"></a><h4>Acquiring
Global File Information</h4>
<div class="codesample"><table><tr><td scope="row"><pre>OSStatus err;<span></span></pre></td></tr><tr><td scope="row"><pre>UInt32 propertySize;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>err = AudioFileGetGlobalInfoSize(<span></span></pre></td></tr><tr><td scope="row"><pre>                kAudioFileGlobalInfo_WritableTypes, 0, NULL, &amp;propertySize);<span></span></pre></td></tr><tr><td scope="row"><pre>if (err) return err;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>OSType *types = (OSType*)malloc(propertySize);<span></span></pre></td></tr><tr><td scope="row"><pre>err = AudioFileGetGlobalInfo(<span></span></pre></td></tr><tr><td scope="row"><pre>         kAudioFileGlobalInfo_WritableTypes, 0, NULL, &amp;propertySize, types);<span></span></pre></td></tr><tr><td scope="row"><pre>if (err) return err;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>UInt32 numTypes = propertySize / sizeof(OSType);<span></span></pre></td></tr><tr><td scope="row"><pre>for (UInt32 i=0; i&lt;numTypes; ++i)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    CFStringRef name;<span></span></pre></td></tr><tr><td scope="row"><pre>    UInt32 outSize = sizeof(name);<span></span></pre></td></tr><tr><td scope="row"><pre>    err = AudioFileGetGlobalInfo(<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileGlobalInfo_FileTypeName, sizeof(OSType), types+i, &amp;outSize, &amp;name);<span></span></pre></td></tr><tr><td scope="row"><pre>    if (err) return err;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    CFShow(name);<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div>
<p>This example shows how to obtain an array of the writable
file types for the system and output their names:</p>
<ol class="ol"><li class="li"><p>Use the <code><!--a-->AudioFileGetGlobalInfoSize()<!--/a--></code> function
to get the size of the data that will be returned by calling <code><!--a-->AudioFileGetGlobalInfo()<!--/a--></code> for
that property. The arguments for <code><!--a-->AudioFileGetGlobalInfoSize()<!--/a--></code> are:</p><ul class="ul">
<li class="li"><p><em>kAudioFileGlobalInfo_WritableTypes</em> -
The property we are querying for.</p></li>
<li class="li"><p><code>0</code> - The specifier&#8217;s
size; in this case, <code>0</code>,
since there is now need for a specifier for this property.</p></li>
<li class="li"><p><code>NULL</code> - The specifier;
in this case, <code>NULL</code>, since
this property does not require a specifier.</p></li>
<li class="li"><p><code>&amp;propertySize</code> -
The size of the data that will be returned when <code><!--a-->AudioFileGetGlobalInfo()<!--/a--></code> is called
for this property.</p></li></ul></li>
<li class="li"><p>Once the size is obtained, it will be used by the <code><!--a-->AudioFileGetGlobalInfo()<!--/a--></code> function.
In addition to the four parameters used for <code><!--a-->AudioFileGetGlobalInfoSize()<!--/a--></code>,
a fifth is used to point to the actual property data returned by
this method. Note that the space for holding this returned data
is allocated beforehand, using the <em>propertySize</em> obtained
previously.</p></li>
<li class="li"><p>Once the types have been returned, a loop is used to cycle
through the types and query Audio File for the name of the type,
which is then printed:</p><ol class="ol"><li class="ol ol"><p>Create a <code>CFStringRef</code> to
hold the name of the type, and obtain its size.</p></li>
<li class="ol ol"><p>To obtain the type&#8217;s name, call <code><!--a-->AudioFileGetGlobalInfo()<!--/a--></code> with <code><a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/kAudioFileGlobalInfo_FileTypeName" target="_top">kAudioFileGlobalInfo_FileTypeName</a></code> as
the property, the type as the specifier, and the <code>CFString</code> as
the <em>outPropertyData</em> value.</p></li>
<li class="ol ol"><p>Print out the name of the format, as stored in the <code>CFString</code>.</p></li></ol></li></ol>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115528" title="Using AUGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF103" title="Using AUGraph"></a><h3>Using AUGraph</h3>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115536" title="Audio Unit Graph State"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF104" title="Audio Unit Graph State"></a><h4>Audio Unit Graph
State</h4>
<p>An audio unit graph maintains its representation using the <code>AUNode</code> type,
even when the Audio Unit components themselves are not instantiated. </p>
<p>The AUGraph states are defined as open, initialized, running,
and closed. These correspond directly with the Audio Unit states. </p>
<p>The AUGraph APIs are responsible for representing the description
of a set of Audio Unit components, as well as the audio connections
between their inputs and outputs. This representation may be saved
and restored persistently and instantiated by opening all of the
Audio Units (<code><!--a-->AUGraphOpen()<!--/a--></code>), and making
the physical connections between them stored in the representation
(<code><!--a-->AUGraphInitialize()<!--/a--></code>). Thus, the graph
is a description of the various Audio Units and their connections,
but also manage the actual instantiated Audio Units.</p>
<p>The AUGraph is a complete description of an audio signal processing
network.</p>
<p>The AUGraph may be introspected in order to get complete information
about all of the Audio Units in the graph. The various nodes (<code>AUNode</code>)
in the graph representing Audio Units may be added or removed, and
the connections between them modified.</p>
<p>An AUNode representing an Audio Unit component is created
by specifying a <code>ComponentDescription</code> record
(from the Component Manager), as well as optional &#8220;class&#8221; data, which
is passed to the Audio Unit when it is opened.</p>
<p>This class data is in an arbitrary format, and may differ
depending on the particular Audio Unit. In general, the data is
used by the Audio Unit to configure itself when it is opened (in object-oriented
terms, it corresponds to constructor arguments). In addition, certain AudioUnits
may provide their own class data when they are closed, allowing
their current state to be saved for the next time they are instantiated.
This provides a general mechanism for persistence.</p>
<p>An AUGraph's state can be manipulated in both the rendering
thread and in other threads. Consequently, any activities that effect
the state of the graph are guarded with locks.To avoid blocking
the render thread, many of the calls to AUGraph may return <code><!--a  -->kAUGraphErr_CannotDoInCurrentContext<!--/a--></code>.
This result is only generated when an graph modification is called
from within a render callback. It means that the lock that it required
was held at that time by another thread. If this result code is
returned, the action may be retried, typically on the next render
cycle (so in the mean time the lock can be cleared), or the action may
be delegated to another thread. As a general rule, the render thread
should not be allowed to spin.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115614" title="Setting up an Audio Unit Graph"></a><h4>Setting
up an Audio Unit Graph</h4>
<p>When using AUGraph, certain steps need to be followed in order
for the graph to function properly. These steps must be followed
in this order:</p>
<ul class="spaceabove"><li class="li"><p><em>Create the graph.</em> Call <code><a href="audio_toolbox.html#//apple_ref/c/func/NewAUGraph">NewAUGraph</a></code> on an <code><!--a-->AUGraph<!--/a--></code> instance.</p></li>
<li class="li"><p><em>Populate the graph</em>. Use <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphNewNode">AUGraphNewNode</a></code> and <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphNewNodeSubGraph">AUGraphNewNodeSubGraph</a></code> to populate the
graph.</p></li>
<li class="li"><p><em>Make connections between nodes</em>. <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphConnectNodeInput">AUGraphConnectNodeInput</a></code> sets
up connections between the nodes. Nodes may have multiple inputs
and outputs, though sharing an input or output is not allowed. This
is otherwise known as &#8220;fan in&#8221; and &#8220;fan out,&#8221; and is not allowed
in AUGraph.</p></li>
<li class="li"><p><em>Open the graph.</em> Up until this point,
each node was being used in the abstract <code>AUNode</code> representation.
Upon calling <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphOpen">AUGraphOpen</a></code>,
each node is instantiated. This allows for properties to be set
for each Audio Unit inside of the graph.</p></li>
<li class="li"><p><em>Set output sample rates and channel layouts.</em> A
common error is for sample rates and channel layouts to be mismatched
between nodes. If any format changes occur, it is imperative that
sample rates and channel number be set for all Audio Unit outputs prior
to initialization</p></li>
<li class="li"><p><em>Initialize the graph.</em> Once setup has
occurred, <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphInitialize">AUGraphInitialize</a></code> may
be called. This makes all the connections between the nodes, and
initializes all of the Audio Units that are part of a connection.
At the least, the output unit is initialized, even if no connections
lead to it.</p></li>
<li class="li"><p><em>Start the graph</em>. Calling <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphStart">AUGraphStart</a></code> begins
rendering, starting with the output unit and traversing through
the graph.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115731" title="Modifying an Audio Unit Graph"></a><h4>Modifying
an Audio Unit Graph</h4>
<p>Once a graph has been created, its contents may be modified
by adding and removing connections and nodes. These functions are
provided for performing these actions:</p>
<ul class="spaceabove"><li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphNewNode">AUGraphNewNode</a></code>.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphNewNodeSubGraph">AUGraphNewNodeSubGraph</a></code></p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphRemoveNode">AUGraphRemoveNode</a></code></p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphConnectNodeInput">AUGraphConnectNodeInput</a></code></p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphDisconnectNodeInput">AUGraphDisconnectNodeInput</a></code></p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphClearConnections">AUGraphClearConnections</a></code></p></li></ul>
<p>After the graph is initialized, any of these functions may
be called, and the changes will occur immediately, meaning that
the node will be initialized right way, and connections will be
made immediately as well.</p>
<p>When a graph is running, however, changes to not immediately
take effect. Calling any of these functions is allowed, but the
actions they perform are queued. To apply the actions to a running
graph, <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphUpdate">AUGraphUpdate</a></code> must
be called. </p>
<p>Calling an update signals to the render thread that an update
is ready to occur. When the render thread gets to a point in its
cycle where updates are allowed (usually before and after a render),
the update is actually performed. Before calling an update, check
the format, sample rates, and channel layouts of the connections
to avoid errors. If an error does occur, all updates are halted.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115822" title="Closing an Audio Unit Graph"></a><h4>Closing
an Audio Unit Graph</h4>
<p>When audio data rendering is no longer needed, the graph may
be stopped by calling <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphStop">AUGraphStop</a></code>.
This does not alter the graph in any way; it simply halts the pull
on the output node. However, AUGraph uses a reference counting scheme
to ensure that one process does not stop the graph while another
may still be accessing it. Each <code><!--a-->AUGraphStart()<!--/a--></code> invocation
adds one to the reference, while each <code><!--a-->AUGraphStop()<!--/a--></code> subtracts
one from the reference. When the reference becomes zero, it then
stops rendering. To determine if a graph is still running, use <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphIsRunning">AUGraphIsRunning</a></code>.</p>
<p>Uninitializing the graph is done by calling <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphUninitialize">AUGraphUninitialize</a></code>. First, doing so
will stop audio render, no matter what the reference count for the
graph is. Beyond that, it also calls the <code><!--a-->Uninitialize()<!--/a--></code> function
for each Audio Unit and subgraph.</p>
<p>If the graph is no longer needed, calling <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphClose">AUGraphClose</a></code> will close all the Audio
Unit components in the graph, leaving only a nodal representation
of the graph. As with uninitialization, if the graph is rendering
audio data, calling this function halts the render. </p>
<p>It is worth noting that the graph&#8217;s structure may be serialized
using the <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphGetNodeInfo">AUGraphGetNodeInfo</a></code> and <code><a href="audio_toolbox.html#//apple_ref/c/func/AUGraphGetNodeConnections">AUGraphGetNodeConnections</a></code> functions
at any time the graph exists.</p>
<p>When the AUGraph is no longer needed, use <code><a href="audio_toolbox.html#//apple_ref/c/func/DisposeAUGraph">DisposeAUGraph</a></code> to deallocate it.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-133128" title="Using Music Player and Music Sequence"></a><h3>Using
Music Player and Music Sequence</h3>
<a name="//apple_ref/doc/uid/TP30001108-CH205-136179" title="Setting Up a Music Sequence"></a><h4>Setting
Up a Music Sequence</h4>
<p>A music sequence is designed to hold various music tracks,
which are intended to be logical groupings of events. To use a music
sequence, these functions need to be called:</p>
<ul class="spaceabove"><li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/NewMusicSequence">NewMusicSequence</a></code> -
This creates a new music sequence. The sequence, as is, contains
only a tempo track.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceNewTrack">MusicSequenceNewTrack</a></code> -
Call this function for each new track that you want in the sequence.</p></li></ul>
<p>Also of note is the fact that you can reverse all the events
in all of the tracks of a sequence by calling <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceReverse">MusicSequenceReverse</a></code>.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-136380" title="Adding Events to Tracks"></a><h4>Adding
Events to Tracks</h4>
<p>Events trigger changes to the destination of a track. There
are eight different types of events:</p>
<ul class="spaceabove"><li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIChannelMessage">MIDIChannelMessage</a></code> -
For use with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMIDIChannelEvent">MusicTrackNewMIDIChannelEvent</a></code>.
These events will pass the assigned data on to the channel when
triggered.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDINoteMessage">MIDINoteMessage</a></code> - For
use with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMIDINoteEvent">MusicTrackNewMIDINoteEvent</a></code>.
These events will pass the information for a note to the targeted
endpoint when triggered.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIRawData">MIDIRawData</a></code> - For use
with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMIDIRawDataEvent">MusicTrackNewMIDIRawDataEvent</a></code>.
These events will pass raw MIDI data on to an endpoint when triggered.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIMetaEvent">MIDIMetaEvent</a></code> - For
use with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMetaEvent">MusicTrackNewMetaEvent</a></code>.
These events should be used when MIDI meta data needs to be passed
on to an endpoint.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MusicEventUserData">MusicEventUserData</a></code> -
For use with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewUserEvent">MusicTrackNewUserEvent</a></code>.
This event will call a <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceUserCallback">MusicSequenceUserCallback</a></code> callback,
passing in the structure&#8217;s user data to the callback. The callback
is registered via <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceSetUserCallback">MusicSequenceSetUserCallback</a></code>,
with each sequence allowing for one callback to be registered to
it.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedNoteOnEvent">ExtendedNoteOnEvent</a></code> -
For use with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewExtendedNoteEvent">MusicTrackNewExtendedNoteEvent</a></code>.
These events will send a note message to a music device audio unit
when triggered.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedControlEvent">ExtendedControlEvent</a></code> -
For use with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewExtendedControlEvent">MusicTrackNewExtendedControlEvent</a></code>.
These events will send a control message, changing the parameters
of a music device audio unit when triggered.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/ParameterEvent">ParameterEvent</a></code> - For
use with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewParameterEvent">MusicTrackNewParameterEvent</a></code>.
These events will issue a parameter change in an audio unit when
triggered.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-136397" title="Setting Destinations for Sequences and Tracks"></a><h4>Setting
Destinations for Sequences and Tracks</h4>
<p>A sequence or track must address either a MIDI endpoint or
an audio unit (when used inside of an audio unit graph). All of
the events belonging to a sequence or track will then be sent to
its assigned destination.</p>
<p>An entire sequence can be assigned to an endpoint or a graph
via:</p>
<ul class="spaceabove"><li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceSetMIDIEndpoint">MusicSequenceSetMIDIEndpoint</a></code></p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceSetAUGraph">MusicSequenceSetAUGraph</a></code></p></li></ul>
<p>When targeting a sequence to a specific graph, its tracks
need to be assigned to units within the track; this is done via <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackSetDestNode">MusicTrackSetDestNode</a></code>.
Within this context, endpoints can still be addressed by a track
using <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackSetDestMIDIEndpoint">MusicTrackSetDestMIDIEndpoint</a></code>.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-136363" title="Using the Tempo Track"></a><h4>Using
the Tempo Track</h4>
<p>Each sequence has a tempo track assigned to it, which can
not be removed. This track is designed to control the rate of playback
across the sequence&#8217;s tracks. The units of measurement used here
are beats-per-minute (bpm), which can be any floating point value.
An event in the tempo track will change the playback rate to the
new event&#8217;s specified rate.</p>
<p>All of the events for this track must be of type <code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedTempoEvent">ExtendedTempoEvent</a></code>;
no others are allowed in the tempo track, and this event type is
not allowed in event tracks. Each tempo track starts out with one
of these, specifying the initial playback rate. By default, this
rate is 120 bpm, but it can be modified to be any floating point
value.</p>
<p>To access the tempo track, call <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceGetTempoTrack">MusicSequenceGetTempoTrack</a></code>. Once you
acquire the tempo track, and tempo event can be added to it by calling <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackExtendedTempoEvent">MusicTrackExtendedTempoEvent</a></code> and
passing in a new event. The event should have the intended rate
in it. This means that, once the event is reached, the new rate
will be used from that point on, until playback stops, or the next tempo
event is reached. During that time, all events in all tracks within
the sequence will occur at the new rate. For example, if the initial
tempo was 120 bpm, and the next tempo event was set to occur at
the 90th beat, it will occur after 45 seconds. If that event changes the
tempo to 60 bpm, all of the events from that point on will happen
at half the rate of the previous tempo. So if the next tempo event
is set to occur at the 120th beat, will happen 75 seconds after
playback has begun.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-136335" title="Disposing of Sequences and Tracks"></a><h4>Disposing
of Sequences and Tracks</h4>
<p>When a sewuence is no longer needed, it may be disposed of.
This is done by calling <code><a href="audio_toolbox.html#//apple_ref/c/func/DisposeMusicSequence">DisposeMusicSequence</a></code>.</p>
<p>To delete a track and its accompanying events, call <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceDisposeTrack">MusicSequenceDisposeTrack</a></code>.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-136286" title="Getting Information about a Sequences and Tracks"></a><h4>Getting
Information about a Sequences and Tracks</h4>
<p>A number of functions are provided with the Music Sequence
API to get information about a sequence and its tracks:</p>
<ul class="spaceabove"><li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceGetTrackCount">MusicSequenceGetTrackCount</a></code> -
Returns the number of tracks in the current sequence.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceGetIndTrack">MusicSequenceGetIndTrack</a></code> -
Returns a pointer towards a track for a particular index.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceGetTrackIndex">MusicSequenceGetTrackIndex</a></code> -
Returns the index of a track.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceGetAUGraph">MusicSequenceGetAUGraph</a></code> -
Returns a pointer for the audio unit graph currently assigned to the
sequence. Returns NULL if there is no graph assigned.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackGetSequence">MusicTrackGetSequence</a></code> -
Returns a pointer to the sequence which contains the current track.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackGetDestNode">MusicTrackGetDestNode</a></code> -
Returns a pointer towards the node used by the selected track.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackGetDestMIDIEndpoint">MusicTrackGetDestMIDIEndpoint</a></code> -
Returns a pointer towards the MIDI endpoint used by the selected
track.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-137131" title="Using Music Track Properties"></a><h4>Using
Music Track Properties</h4>
<p>Properties are used to change the status of various tracks,
as described in <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-124209">“Music Track Properties.”</a></span> Use <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackGetProperty">MusicTrackGetProperty</a></code> to retrieve the
current value of any of the properties, and <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackSetProperty">MusicTrackSetProperty</a></code> to change the
value of the property.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-137149" title="Accessing Events within a Track"></a><h4>Accessing
Events within a Track</h4>
<p>To gain access to the events within a track, the track needs
to be iterated over. Iterating involves creating a new iterator,
and then moving forward or backward between the events within the
track. These functions are used when setting up an iterator and
iterating on a track:</p>
<ul class="spaceabove"><li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/NewMusicEventIterator">NewMusicEventIterator</a></code> -
Creates a new iterator.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/DisposeMusicEventIterator">DisposeMusicEventIterator</a></code> -
Disposes of the iterator.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorNextEvent">MusicEventIteratorNextEvent</a></code> -
Moves the iterator to the next event.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorPreviousEvent">MusicEventIteratorPreviousEvent</a></code> -
Moves the iterator to the previous event</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorGetEventInfo">MusicEventIteratorGetEventInfo</a></code> -
Retrieves information about the current event.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorSetEventInfo">MusicEventIteratorSetEventInfo</a></code> -
Sets information about the current event.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorDeleteEvent">MusicEventIteratorDeleteEvent</a></code> -
Removes the event from the track.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorSetEventTime">MusicEventIteratorSetEventTime</a></code> -
Moves the event to the new time.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorHasPreviousEvent">MusicEventIteratorHasPreviousEvent</a></code> -
Returns a boolean signifying if there is an event before the iterator.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorHasNextEvent">MusicEventIteratorHasNextEvent</a></code> -
Returns a boolean signifying if there is an event after the iterator.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorHasCurrentEvent">MusicEventIteratorHasCurrentEvent</a></code> -
Returns a boolean signifying if the iterator currently points towards
an event, or is at the end of the track.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-136960" title="Editing a Track"></a><h4>Editing
a Track</h4>
<p>Events within a track can be modified based on their placement
within a track. The idea is to be able to grab the events within
a certain amount period of time and then to move them elsewhere,
or delete them.</p>
<p>To move events within a track, use <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackMoveEvents">MusicTrackMoveEvents</a></code>. All you need to
do is to specify the range of events to move, and where to move
them to.</p>
<p>The <code><a href="audio_toolbox.html#//apple_ref/c/func/NewMusicTrackFrom">NewMusicTrackFrom</a></code> function
will take the specified range of events, and will create a new track
with the range in it.</p>
<p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackClear">MusicTrackClear</a></code> will
remove the events in the given range, while <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackCut">MusicTrackCut</a></code> will remove the given
range, and move the events after the range up to fill the space
left by the cut.</p>
<p>Use <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackCopyInsert">MusicTrackCopyInsert</a></code> to
copy a series of event from one track to another. Doing so with
this function move the events behind the insertion point back to
the end of the range in the destination track.</p>
<p>Finally, <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackMerge">MusicTrackMerge</a></code> will
take the source range and merge it with the events following the insertion
point in the destination.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-137477" title="Setting Up a Music Player"></a><h4>Setting
Up a Music Player</h4>
<p>A music player is associated with a music sequence, in a one-to-one
relationship. The player keeps track of the playhead for the sequence,
and allows for movement within the sequence. Activating and stopping
the sequence is done via a player.</p>
<ul class="spaceabove"><li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/NewMusicPlayer">NewMusicPlayer</a></code> -
Creates a new music player.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/DisposeMusicPlayer">DisposeMusicPlayer</a></code> -
Disposes of the music player. Note that this does not dispose of
the sequence attached to the player.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerSetSequence">MusicPlayerSetSequence</a></code> -
Sets the sequence controlled by the player.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerStart">MusicPlayerStart</a></code> -
Begins playback of the sequence.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerStop">MusicPlayerStop</a></code> - Halts
sequence playback.</p></li>
<li class="li"><p><code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerIsPlaying">MusicPlayerIsPlaying</a></code> -
Returns a boolean signifying if the player is in use.</p></li></ul>
<p>Of note is when the playhead is moved within the player. This
is done using <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerSetTime">MusicPlayerSetTime</a></code>,
which also prerolls the sequence for you. Prerolling is when the
sequence is prepared to begin in mid-sequence, with all parameters
and endpoints being adjusted to the points they should be at the
playhead. To determine what time the player is currently at, use <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerGetTime">MusicPlayerGetTime</a></code>.</p>
<p>If a new event is added to a sequence, it will need to be
manually prerolled using <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerPreroll">MusicPlayerPreroll</a></code>.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-137491" title="Reading in Standard MIDI Files or MIDI Data"></a><h4>Reading
in Standard MIDI Files or MIDI Data</h4>
<p>The Music Player API is used to read in MIDI files. To do
so, simply call <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMF">MusicSequenceLoadSMF</a></code>,
specifying the file from which the data is to be read in, or <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMFData">MusicSequenceLoadSMFData</a></code> when
the MIDI is to be read in from memory. When these functions are
used, the MIDI data is parsed and placed, as events, in a track
inside of a sequence.</p>
<p>Calling <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMFWithFlags">MusicSequenceLoadSMFWithFlags</a></code> and <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMFDataWithFlags">MusicSequenceLoadSMFDataWithFlags</a></code>,
with kMusicSequenceLoadSMF_ChannelsToTracks passed in as the flag
will result in each channel in the MIDI data being parsed into its
own track in the sequence. Beyond that, any meta data that is found
in the MIDI sequence in placed in the last track of the sequence.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-137524" title="Saving MIDI Data"></a><h4>Saving
MIDI Data</h4>
<p>When you want to save incoming MIDI data to disk, first you
need to capture the incoming MIDI data. The data then needs to be
parsed and placed into a sequence, specifically into a track. You
will need to use the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerGetBeatsForHostTime">MusicPlayerGetBeatsForHostTime</a></code> function
to determine how far into the sequence the new MIDI event will need
to be. This can only be done as the sequence in running, so that
calling this will return the current beat in the sequence when it
is invoked.</p>
<p>Once all of the incoming MIDI data has been captured and placed
into a sequence, it needs to be saved to disk. To do this, call
the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceSaveSMF">MusicSequenceSaveSMF</a></code> function,
if saving the data to disk, or, if saving it to memory, call <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceSaveSMFData">MusicSequenceSaveSMFData</a></code>.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-135410" title="Audio Toolbox Reference"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF120" title="Audio Toolbox Reference"></a><h2>Audio Toolbox
Reference</h2>
<p>This reference section describes the constants, data types
and functions that comprise the Audio Toolbox framework available
for Mac OS X.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115911" title="Audio Converter Reference"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF121" title="Audio Converter Reference"></a><h3>Audio Converter
Reference</h3>
<p>Audio converters are designed to meet a developer&#8217;s encoding
and decoding needs. It allows for conversions between most conceivable
combinations of input and output formats, assuming proper codecs
are available on the system. </p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115924" title="Audio Converter Types"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF122" title="Audio Converter Types"></a><h4>Audio Converter
Types</h4>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115932" title="Defined Data Types"></a><h5>Defined
Data Types</h5>
<p>Typedefs are used to simplify the declaration of converters
and the use of properties in the context of an audio converter.</p>
<ul class="spaceabove"><li class="li"><p>t<code>ypedef struct OpaqueAudioConverter*
AudioConverterRef</code></p></li>
<li class="li"><p><code>typedef UInt32 AudioConverterPropertyID</code></p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-115968" title="Data Structures"></a><h5>Data
Structures</h5>
<a name="//apple_ref/c/tdef/AudioConverterPrimeInfo" title="AudioConverterPrimeInfo"></a><a name="//apple_ref/doc/c_ref/AudioConverterPrimeInfo" title="AudioConverterPrimeInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABCFBIG" title="AudioConverterPrimeInfo"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_92"></a><h3 class="tight">AudioConverterPrimeInfo</h3>
<p class="spaceabove">Stores information regarding the number of frames used
in priming input for the current codec.</p>
<p class="spaceabove"><pre>
typedef struct AudioConverterPrimeInfo {
UInt32 leadingFrames;
UInt32 trailingFrames;
} AudioConverterPrimeInfo;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>An instance of this structure is input via the <code><!--a  -->kAudioConverterPrimeInfo<!--/a--></code> property.
The instance works in conjunction with the <code><!--a  -->kAudioConverterPrimeMethod<!--/a--></code> property,
which specifies the priming method used by the codec. When a priming
method is in use, the members of this structure are used to specify
the number of leading and trailing frames (when using <code><!--a  -->kConverterPrimeMethod_Pre<!--/a--></code>),
or just the number of trailing frames (when using <code><!--a  -->kConverterPrimeMethod_Normal<!--/a--></code>),
for all input packets.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-116049" title="Audio Converter Constants"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF123" title="Audio Converter Constants"></a><h4>Audio Converter
Constants</h4>
<p>Constants are provided for the developer&#8217;s convenience.
They provide a consistent set of values for various aspects of a
converter&#8217;s operations, and may be appended by the developer at
any time.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-116062" title="Converter Quality Settings"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABGHEED" title="Converter Quality Settings"></a><h5>Converter Quality
Settings</h5>
<p>Used by <code><!--a  -->kAudioConverterSampleRateConverterQuality<!--/a--></code> to
set the relative quality of the conversion.</p>
<div class="codesample"><table><tr><td scope="row"><pre>kAudioConverterQuality_Max = 0x7F<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterQuality_High = 0x60<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterQuality_Medium = 0x40<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterQuality_Low = 0x20<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterQuality_Min = 0<span></span></pre></td></tr></table></div>
<div class="notebox"><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_81" title="Note"></a><p><strong>Note:</strong>&nbsp;The relative
quality of a conversion is an arbitrary aspect of the codec used,
and may or may not alter the quality of the resulting conversion.</p></div>
<a name="//apple_ref/doc/uid/TP30001108-CH205-116121" title="Priming Method Selectors"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABBBIEG" title="Priming Method Selectors"></a><h5>Priming Method
Selectors</h5>
<p>Specifies the priming method currently in use, as referenced
in the <code><!--a  -->kAudioConverterPrimeMethod<!--/a--></code> property.</p>
<dl class="termdef">	<dt><code>kConverterPrimeMethod_Pre
= 0</code></dt>
<dd><p>When <code><!--a  -->kAudioConverterPrimeMethod<!--/a--></code> is
set to this value, the converter will expect that the packet be
primed with both leading and trailing frames.</p></dd>
<dt><code>kConverterPrimeMethod_Normal
= 1</code></dt>
<dd><p>Set <code><!--a  -->kAudioConverterPrimeMethod<!--/a--></code> to
this when the trailing frames are needed for the conversion; leading
frames are assumed to silent.</p></dd>
<dt><code>kConverterPrimeMethod_None
= 2</code></dt>
<dd><p>Used when the leading and trailing frames are assumed
to be silent and priming is not needed.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-116206" title="Audio Converter Properties"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF124" title="Audio Converter Properties"></a><h4>Audio Converter
Properties</h4>
<p>The properties are used to query a converter for its settings,
and sometimes, to modify those properties.</p>
<dl class="termdef">	<dt><code>kAudioConverterPropertyMinimumInputBufferSize
= 'mibs'</code></dt>
<dd><p>Returns a <code>UInt32</code> containing
the size of the smallest input buffer size, in bytes, that can be
supplied into the <code><!--a-->AudioConverterConvertBuffer()<!--/a--></code> function
or the <code><!--a-->*AudioConverterInputProc<!--/a--></code> callback.</p></dd>
<dt><code>kAudioConverterPropertyMinimumOutputBufferSize
= 'mobs'</code></dt>
<dd><p>Returns a <code>UInt32</code> containing
the size of the smallest buffer that will bereturned as a result
of <code><!--a-->AudioConverterConvertBuffer()<!--/a--></code> or <code><!--a-->AudioConverterFillBuffer()<!--/a--></code>.</p></dd>
<dt><code>kAudioConverterPropertyMaximumInputBufferSize
= 'xibs'</code></dt>
<dd><p>Returns a <code>UInt32</code> containing
the largest buffer size that will requested by <code><!--a-->*AudioConverterInputProc<!--/a--></code>;
returns <code>0xFFFFFFFF</code> if
the value depends on the size of the input.</p></dd>
<dt><code>kAudioConverterPropertyMaximumInputPacketSize
= 'xips'</code></dt>
<dd><p>Returns a <code>UInt32</code> containing
the size, in bytes, of the largest packet of data that may be input.</p></dd>
<dt><code>kAudioConverterPropertyMaximumOutputPacketSize
= 'xops'</code></dt>
<dd><p>Returns a <code>UInt32</code> containing
the size, in bytes, of the largest packet of data that will be output.</p></dd>
<dt><code>kAudioConverterPropertyCalculateInputBufferSize
= 'cibs'</code></dt>
<dd><p>On input, takes a <code>UInt32</code> with
the desired output size, in bytes; returns the number of bytes needed
as input to generate the requested output.</p></dd>
<dt><code>kAudioConverterPropertyCalculateOutputBufferSize
= 'cobs'</code></dt>
<dd><p>On input, takes a <code>UInt32</code> with
the desired input size, in bytes; returns the number of bytes returned
as output for the requested input.</p></dd>
<dt><code>kAudioConverterPropertyInputCodecParameters
= 'icdp'</code></dt>
<dd><p>Takes in a buffer of untyped data for private use relative
and specific to the format.</p></dd>
<dt><code>kAudioConverterPropertyOutputCodecParameters
= 'ocdp'</code></dt>
<dd><p>Takes in a buffer of untyped data for private use relative
and specific to the format.</p></dd>
<dt><code>kAudioConverterSampleRateConverterAlgorithm
= 'srci'</code></dt>
<dd><p><em>Deprecated.</em> Use <code><!--a  -->kAudioConverterSampleRateConverterQuality<!--/a--></code> instead.</p></dd>
<dt><code>kAudioConverterSampleRateConverterQuality
= 'srcq'</code></dt>
<dd><p>Specifies the quality of the sample rate conversion,
using the <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-116062">“Converter Quality Settings.”</a></span></p></dd>
<dt><code>kAudioConverterPrimeMethod
= 'prmm'</code></dt>
<dd><p>Specifies the priming method, using the <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-116121">“Priming Method Selectors.”</a></span></p></dd>
<dt><code>kAudioConverterPrimeInfo
= 'prim'</code></dt>
<dd><p>Returns in a pointer to an <code><a href="audio_toolbox.html#//apple_ref/c/tdef/AudioConverterPrimeInfo">AudioConverterPrimeInfo</a></code><code></code> instance.</p></dd>
<dt><code>kAudioConverterChannelMap
= 'chmp'</code></dt>
<dd><p>Takes an array of <code>SInt32</code> values
where the index represents an output channel and the value stored
at the index in the array is the connecting input channel; the size
of the array is the number of output channels.</p></dd>
<dt><code>kAudioConverterDecompressionMagicCookie
= 'dmgc'</code></dt>
<dd><p>Takes a <code>void</code> pointer
towards the magic cookie that may be required to decompress the
data.</p></dd>
<dt><code>kAudioConverterCompressionMagicCookie
= 'cmgc'</code></dt>
<dd><p>Returns a <code>void</code> pointer
towards the magic cookie used to compress the output data; may be
passed back via <code><!--a  -->kAudioConverterDecompressionMagicCookie<!--/a--></code> for decompressing
the data.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-116604" title="Audio Converter Functions"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF125" title="Audio Converter Functions"></a><h4>Audio Converter
Functions</h4>
<a name="//apple_ref/c/func/AudioConverterNew" title="AudioConverterNew"></a><a name="//apple_ref/doc/c_ref/AudioConverterNew" title="AudioConverterNew"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterNew()" title="AudioConverterNew"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_93"></a><h3 class="tight">AudioConverterNew</h3>
<p class="spaceabove">Creates a new audio converter.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterNew(
const <a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription">AudioStreamBasicDescription</a>* inSourceFormat,
const <a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription">AudioStreamBasicDescription</a>* inDestinationFormat, <!--a-->AudioConverterRef<!--/a-->* outAudioConverter
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function takes in two <code>AudioStreamBasicDescription</code> instances,
one for the source, and one for the destination, sets up all of
the internal links needed for the conversion, and returns a pointer
for the new converter. Note that if the setup fails, an error is
returned which specifies the error that was encountered.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/c/func/AudioConverterDispose" title="AudioConverterDispose"></a><a name="//apple_ref/doc/c_ref/AudioConverterDispose" title="AudioConverterDispose"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterDispose()" title="AudioConverterDispose"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_94"></a><h3 class="tight">AudioConverterDispose</h3>
<p class="spaceabove">Destroys an audio converter.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterDispose(<!--a-->AudioConverterRef<!--/a--> inAudioConverter);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function deallocates the memory used by <em>inAudioConverter</em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/c/func/AudioConverterReset" title="AudioConverterReset"></a><a name="//apple_ref/doc/c_ref/AudioConverterReset" title="AudioConverterReset"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterReset()" title="AudioConverterReset"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_95"></a><h3 class="tight">AudioConverterReset</h3>
<p class="spaceabove">Resets the audio converter to its post-initialization
state.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterReset(<!--a-->AudioConverterRef<!--/a--> inAudioConverter);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/c/func/AudioConverterGetPropertyInfo" title="AudioConverterGetPropertyInfo"></a><a name="//apple_ref/doc/c_ref/AudioConverterGetPropertyInfo" title="AudioConverterGetPropertyInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterGetPropertyInfo()" title="AudioConverterGetPropertyInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_96"></a><h3 class="tight">AudioConverterGetPropertyInfo</h3>
<p class="spaceabove">Retrieves the size and writable state of the data belonging
to the queried property.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterGetPropertyInfo(
<!--a-->AudioConverterRef<!--/a--> inAudioConverter,
<!--a-->AudioConverterPropertyID<!--/a--> inPropertyID,
UInt32* outSize,
<!--a-->Boolean<!--/a-->* outWritable
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>outSize</code> value
returned reflects the size, in bytes, of the data returned by calling <code><!--a-->AudioConverterGetProperty()<!--/a--></code> with
the respective property.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/c/func/AudioConverterGetProperty" title="AudioConverterGetProperty"></a><a name="//apple_ref/doc/c_ref/AudioConverterGetProperty" title="AudioConverterGetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterGetProperty()" title="AudioConverterGetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_97"></a><h3 class="tight">AudioConverterGetProperty</h3>
<p class="spaceabove">Returns the requested property data.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterGetProperty(
<!--a-->AudioConverterRef<!--/a--> inAudioConverter,
<!--a-->AudioConverterPropertyID<!--/a--> inPropertyID,
UInt32* ioPropertyDataSize,
void* outPropertyData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <em>ioPropertyDataSize</em> parameter
should be the value obtained from calling <code><!--a-->AudioConverterGetPropertyInfo()<!--/a--></code>;
the output value of <code>ioPropertyDataSize</code> will
be the actual data size of the returned data, for reference.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/c/func/AudioConverterSetProperty" title="AudioConverterSetProperty"></a><a name="//apple_ref/doc/c_ref/AudioConverterSetProperty" title="AudioConverterSetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterSetProperty()" title="AudioConverterSetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_98"></a><h3 class="tight">AudioConverterSetProperty</h3>
<p class="spaceabove">Sets the property data to <code>inPropertyData</code>.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterSetProperty(
<!--a-->AudioConverterRef<!--/a--> inAudioConverter,
<!--a-->AudioConverterPropertyID<!--/a--> inPropertyID,
UInt32 inPropertyDataSize,
const void* inPropertyData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <em>inPropertyDataSize</em> should
be the size of data being input, and <em>inPropertyData</em> should
point to the data to be set for <em>inPropertyID</em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/c/func/AudioConverterInputDataProc" title="AudioConverterInputDataProc"></a><a name="//apple_ref/doc/c_ref/AudioConverterInputDataProc" title="AudioConverterInputDataProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-*AudioConverterInputDataProc()" title="AudioConverterInputDataProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_99"></a><h3 class="tight">AudioConverterInputDataProc</h3>
<p class="spaceabove">Should provide data for <code>AudioConverterFillBuffer()</code>.</p>
<p class="spaceabove"><pre>
typedef OSStatus (*AudioConverterInputDataProc) (
<!--a-->AudioConverterRef<!--/a--> inAudioConverter,
UInt32* ioDataSize,
void** outData,
void* inUserData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p><em>Deprecated.</em> On input, <code>ioDataSize</code> will
be the amount of data the converter needs to fill its buffer; on
output, this value should reflect the amount of the data provided
(if there is no more input data available, <code>0</code> should
be returned). </p>
<a name="//apple_ref/c/func/AudioConverterFillBuffer" title="AudioConverterFillBuffer"></a><a name="//apple_ref/doc/c_ref/AudioConverterFillBuffer" title="AudioConverterFillBuffer"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterFillBuffer()" title="AudioConverterFillBuffer"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_100"></a><h3 class="tight">AudioConverterFillBuffer</h3>
<p class="spaceabove">Fills the provided buffer with converted data.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterFillBuffer(
<!--a-->AudioConverterRef<!--/a--> inAudioConverter,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioConverterInputDataProc">AudioConverterInputDataProc</a> inInputDataProc,
void* inInputDataProcUserData,
UInt32* ioOutputDataSize,
void* outOutputData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p><em>Deprecated.</em> Uses the provided <code>inInputDataProc</code> callback
to acquire data, converts it, and places the converted data in. <code>outOutputData</code>.
Deprecated since it can only work with a single buffer. Use <code>AudioConverterFillComplexBuffer()</code> instead.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/c/func/AudioConverterComplexInputDataProc" title="AudioConverterComplexInputDataProc"></a><a name="//apple_ref/doc/c_ref/AudioConverterComplexInputDataProc" title="AudioConverterComplexInputDataProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-*AudioConverterComplexInputDataProc()" title="AudioConverterComplexInputDataProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_101"></a><h3 class="tight">AudioConverterComplexInputDataProc</h3>
<p class="spaceabove">Should provide <code>AudioConverterFillComplexBuffer()</code> with
data for conversion.</p>
<p class="spaceabove"><pre>
typedef OSStatus (*AudioConverterComplexInputDataProc) (
<!--a-->AudioConverterRef<!--/a--> inAudioConverter,
UInt32* ioNumberDataPackets,
<a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioBufferList">AudioBufferList</a>* ioData,
<a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription">AudioStreamPacketDescription</a>** outDataPacketDescription,
void* inUserData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p><code>AudioConverterFillComplexBuffer()</code> will
use this callback to acquire data to convert. The returned data
will be an <code>AudioBufferList</code>,
meaning that the data should be in separate indices, one for each
channel. Use <code>inUserData</code> for
any data the callback may need passed to it. The caller will pass
the number of packets requested in <code>ioNumberDataPackets</code>,
and upon completion, the callback should return the number of packets
actually provided, or <code>0</code> if
there is no data left to provide. The resulting packet format is
specified in <code>outDataPacketDescription</code>.</p>
<a name="//apple_ref/c/func/AudioConverterFillComplexBuffer" title="AudioConverterFillComplexBuffer"></a><a name="//apple_ref/doc/c_ref/AudioConverterFillComplexBuffer" title="AudioConverterFillComplexBuffer"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioConverterFillCopmlexBuffer()" title="AudioConverterFillComplexBuffer"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_102"></a><h3 class="tight">AudioConverterFillComplexBuffer</h3>
<p class="spaceabove">Fills the <code>AudioBufferList</code> with
converted data.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioConverterFillComplexBuffer(
<!--a-->AudioConverterRef<!--/a--> inAudioConverter,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioConverterComplexInputDataProc">AudioConverterComplexInputDataProc</a> inInputDataProc,
void* inInputDataProcUserData,
UInt32* ioOutputDataPacketSize,
<a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioBufferList">AudioBufferList</a>* outOutputData,
<a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription">AudioStreamPacketDescription</a>* outPacketDescription
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Using the callback provided in <code>inInputDataProc</code>,
this function will convert input data using <code>inAudioConverter</code> and
will place the resulting converted data in <code>outOutputData</code>.
Any relevant data for the callback should be passed in via <code>inInputDataProcUserData</code>,
while <code>outPacketDescription</code> will contain
the format of the returned data. On input, <em>ioOutDataPacketSize</em> should
contain the number of packets requested, and as output, will contain
the number of packets returned.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioConverter.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117343" title="Audio Converter Result Codes"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF126" title="Audio Converter Result Codes"></a><h4>Audio Converter
Result Codes</h4>
<p>These values are returned when errors occur.</p>
<div class="codesample"><table><tr><td scope="row"><pre>kAudioConverterErr_FormatNotSupported = 'fmt?&#8217;<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterErr_OperationNotSupported = 0x6F703F3F<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterErr_PropertyNotSupported = 'prop'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterErr_InvalidInputSize = 'insz'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterErr_InvalidOutputSize = 'otsz'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterErr_UnspecifiedError = 'what'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterErr_BadPropertySizeError = '!siz'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioConverterErr_RequiresPacketDescriptionsError = '!pkd&#8217;<span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117406" title="Audio Format Reference"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF127" title="Audio Format Reference"></a><h3>Audio Format Reference</h3>
<p>The audio format system is provided to allow the developer
to get more information about certain aspects of <code>AudioStreamBasicDescription</code> and <code>AudioChannelLayout</code> instances,
and other important pieces of information.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117427" title="Audio Format Types"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF128" title="Audio Format Types"></a><h4>Audio Format Types</h4>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117435" title="Defined Data Types"></a><h5>Defined
Data Types</h5>
<p>The <code>AudioFormatPropertyID</code> typedef is
used to hold the property ID being queried using the audio format
functions.</p>
<ul class="spaceabove"><li class="li"><p><code>typedef UInt32 AudioFormatPropertyID</code></p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117466" title="Data Structures"></a><h5>Data
Structures</h5>
<a name="//apple_ref/c/tdef/AudioPanningInfo" title="AudioPanningInfo"></a><a name="//apple_ref/doc/c_ref/AudioPanningInfo" title="AudioPanningInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABBFBFA" title="AudioPanningInfo"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_103"></a><h3 class="tight">AudioPanningInfo</h3>
<p class="spaceabove">Stores information about the position of sound sources.</p>
<p class="spaceabove"><pre>
typedef struct AudioPanningInfo {
UInt32 mPanningMode;
UInt32 mCoordinateFlags;
<!--a-->Float32<!--/a--> mCoordinates[3];
<a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioChannelLayout">AudioChannelLayout</a>* mOutputChannelMap;
} AudioPanningInfo;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <em>mPanningMode</em> value is based
on the panning mode constants. The value of <em>mCoordinateFlags</em> will
be based on the Coordinate Flag constants. The precise coordinates
of the source is located in <em>mCoordinates</em>,
and the <em>mOutputChannelMap</em> points
to an instance of an <code><a href="../core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioChannelLayout">AudioChannelLayout</a></code> (specified
in <code>CoreAudioTypes.h</code>),
which tracks channel layouts in hardware and in files.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFormat.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117565" title="Audio Format Constants"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF129" title="Audio Format Constants"></a><h4>Audio Format Constants</h4>
<p>Constants are provided for the developer&#8217;s convenience.
They provide a consistent set of values for various aspects of a
converter&#8217;s operations.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117578" title="Panning Modes"></a><h5>Panning
Modes</h5>
<p>These constants define various panning algorithms that can
be specified in an <code><a href="audio_toolbox.html#//apple_ref/c/tdef/AudioPanningInfo">AudioPanningInfo</a></code> instance.</p>
<dl class="termdef">	<dt><code>kPanningMode_SoundField
= 3</code></dt>
<dd><p>An Ambisonic format.</p></dd>
<dt><code>kPanningMode_VectorBasedPanning
= 4</code></dt>
<dd><p>A format for panning between two speakers.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117636" title="Coordinate Flags"></a><h5>Coordinate
Flags</h5>
<p>Used by the <code>mCoordinateFlags</code> value
in the <code>AudioPanningInfo</code> structure; found in <code>CoreAudioTypes.h</code>.</p>
<dl class="termdef">	<dt><code>kAudioChannelFlags_RectangularCoordinates
= (1L&lt;&lt;0)</code></dt>
<dd><p>Use if cartesian coordinates are used for speaker positioning;
either this or spherical coordinates must be chosen.</p></dd>
<dt><code>kAudioChannelFlags_SphericalCoordinates
= (1L&lt;&lt;1)</code></dt>
<dd><p>Use if spherical coordinates are used for speaker positioning;
either this or cartesian coordinates must be chosen.</p></dd>
<dt><code>kAudioChannelFlags_Meters
= (1L&lt;&lt;2)</code></dt>
<dd><p>Use when units are in meters; if not set, then the units
are relative to the coordinate system chosen.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117721" title="Audio Format Properties"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF130" title="Audio Format Properties"></a><h4>Audio Format Properties</h4>
<p>The audio format tool uses the property system to get various
pieces of information about structures used in Core Audio.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117734" title="AudioStreamBasicDescription Properties"></a><h5>AudioStreamBasicDescription
Properties</h5>
<p>When the specifier parameter for <code><!--a-->AudioFormatGetPropertyInfo()<!--/a--></code> and <code><!--a-->AudioFormatGetProperty()<!--/a--></code> is
an <code>AudioStreamBasicDescription</code> instance,
these properties may be queried.</p>
<dl class="termdef">	<dt><code>kAudioFormatProperty_FormatInfo
= 'fmti'</code></dt>
<dd><p>Returns an <code>AudioStreamBasicDescription</code> whose
values contain information about the specifier&#8217;s format.</p></dd>
<dt><code>kAudioFormatProperty_FormatIsVBR
= 'fvbr'</code></dt>
<dd><p>Returns a <code>UInt32 </code>where
a non-zero value means that the format has a variable bit rate (VBR).</p></dd>
<dt><code>kAudioFormatProperty_FormatIsExternallyFramed
= 'fexf'</code></dt>
<dd><p>Returns a <code>UInt32</code>,
where a non-zero value indicates that the format is externally framed.</p></dd>
<dt><code>kAudioFormatProperty_FormatName
= 'fnam'</code></dt>
<dd><p>Returns a <code>CFStringRef</code> containing
the name of the specified format.</p></dd>
<dt><code>kAudioFormatProperty_AvailableEncodeChannelLayouts
= 'aecl'</code></dt>
<dd><p>Takes in an <code>AudioStreamBasicDescription</code> and
returns an <code>AudioChannelLayoutTag</code> array containing
Audio Channel Layout constants.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-117878" title="AudioChannelLayout Properties"></a><h5>AudioChannelLayout
Properties</h5>
<dl class="termdef">	<dt><code>kAudioFormatProperty_ChannelLayoutForTag
= 'cmpl	</code></dt>
<dd><p>Takes an <span class="content_text"><a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/uid/TP30001108-CH210-69543">“Channel Layout Tags”</a></span> value
(as specified in <code>CoreAudioTypes.h</code>)
as the specifier and returns an <code><a href="../core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioChannelLayout">AudioChannelLayout</a></code> with all
of its members filled with their respective versions of the input data.</p></dd>
<dt><code>kAudioFormatProperty_TagForChannelLayout
= 'cmpt'</code></dt>
<dd><p>Takes an <code>AudioChannelLayout</code> as
the specifier and returns an <code>AudioChannelLayoutTag</code> with
all of its members filled with their respective versions of the
input data.</p></dd>
<dt><code>kAudioFormatProperty_ChannelLayoutForBitmap
= 'cmpb'</code></dt>
<dd><p>Takes in a <code>UInt32</code> that
contains a layout bitmap and returns an <code>AudioChannelLayout</code> with
all of its members filled with their respective versions of the
input data.</p></dd>
<dt><code>kAudioFormatProperty_BitmapForLayoutTag
= 'bmtg'</code></dt>
<dd><p>Takes in a <span class="content_text"><a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/uid/TP30001108-CH210-69543">“Channel Layout Tags”</a></span> value
and returns a <code>UInt32</code> with the
bitmap of the channel layout.</p></dd>
<dt><code>kAudioFormatProperty_ChannelLayoutName
= 'lonm'</code></dt>
<dd><p>Takes in an <code>AudioChannelLayout</code> and
returns a <code>CFStringRef</code> with
the name of the channel.</p></dd>
<dt><code>kAudioFormatProperty_ChannelName
= 'cnam'</code></dt>
<dd><p>Takes in an <code>AudioChannelDescription</code> with
a populated <code>mChannelLabel</code> value,
and returns a <code>CFStringRef </code>with
the name of the channel.</p></dd>
<dt><code>kAudioFormatProperty_MatrixMixMap
= 'mmap'</code></dt>
<dd><p>Takes in an array of two <code>AudioChannelLayout</code> pointers,
the first to the input and the second to the output, and returns
a two dimensional <code>Float32</code> array,
with the input being the rows and the output being the columns,
where the value at a coordinate is the gain that needs to be applied
to the input to achieve the output at that channel.</p></dd>
<dt><code>kAudioFormatProperty_NumberOfChannelsForLayout
= 'nchm'</code></dt>
<dd><p>Takes in an <code>AudioChannelLayout</code> as
the specifier and returns a <code>UInt32</code> with
the number of channels represented in the layout.</p></dd>
<dt><code>kAudioFormatProperty_PanningMatrix
= 'panm'</code></dt>
<dd><p>Takes in an <code>AudioPanningInfo</code> instance
and returns a <code>Float32 </code>array
where each channel receives a volume level for each channel in the <code>AudioPanningInfo</code>&#8217;s <code>AudioChannelLayout</code> array.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118141" title="Other Properties"></a><h5>Other
Properties</h5>
<p>These are other properties that involve discovering encoding
and decoding formats and available sample and bit rates.</p>
<dl class="termdef">	<dt><code>kAudioFormatProperty_EncodeFormatIDs
= 'acif'</code></dt>
<dd><p>Does not take a specifier (set to <code>NULL</code>),
and returns a <code>UInt32</code> array
containing <span class="content_text"><a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/uid/TP30001108-CH210-68225">“Format IDs”</a></span> (specified
in <code>CoreAudioTypes.h</code>)
for valid input formats into a converter.</p></dd>
<dt><code>kAudioFormatProperty_DecodeFormatIDs
= 'acof'</code></dt>
<dd><p>Does not take a specifier (set to <code>NULL</code>),
and returns a <code>UInt32</code> array
containing Format ID constants for valid output formats into a converter. </p></dd>
<dt><code>kAudioFormatProperty_AvailableEncodeSampleRates
= 'aesr'</code></dt>
<dd><p>Takes in a Format ID constant and returns an <code><a href="../core_audio_types/core_audio_types.html#//apple_ref/c/tdef/AudioValueRange">AudioValueRange</a></code> with all
of the available sample rates.</p></dd>
<dt><code>kAudioFormatProperty_AvailableEncodeBitRates
= 'aebr'</code></dt>
<dd><p>Takes in a Format ID constant and returns an <code>AudioValueRange</code> with
all of the available bit rates.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118264" title="Audio Format Functions"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF131" title="Audio Format Functions"></a><h4>Audio Format Functions</h4>
<p>These functions comprise the Audio Format property management
system. These functions work by providing property ID, which notifies
them as to which action should be performed, and a specifier, which
is the data on which the operation is to be performed.</p>
<a name="//apple_ref/c/func/AudioFormatGetPropertyInfo" title="AudioFormatGetPropertyInfo"></a><a name="//apple_ref/doc/c_ref/AudioFormatGetPropertyInfo" title="AudioFormatGetPropertyInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioFormatGetPropertyInfo()" title="AudioFormatGetPropertyInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_104"></a><h3 class="tight">AudioFormatGetPropertyInfo</h3>
<p class="spaceabove">Retrieves the size of the data to be returned by the property.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFormatGetPropertyInfo(
<!--a-->AudioFormatPropertyID<!--/a--> inPropertyID,
UInt32 inSpecifierSize,
void* inSpecifier,
UInt32* outPropertyDataSize
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFormat.h</code>
<a name="//apple_ref/c/func/AudioFormatGetProperty" title="AudioFormatGetProperty"></a><a name="//apple_ref/doc/c_ref/AudioFormatGetProperty" title="AudioFormatGetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-AudioFormatGetProperty()" title="AudioFormatGetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_105"></a><h3 class="tight">AudioFormatGetProperty</h3>
<p class="spaceabove">Retrieves the property information for the given property
ID and selected specifier.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFormatGetProperty(
<!--a-->AudioFormatPropertyID<!--/a--> inPropertyID,
UInt32 inSpecifierSize,
void* inSpecifier,
UInt32* ioPropertyDataSize,
void* outPropertyData
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFormat.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118379" title="Audio Format Result Codes"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF132" title="Audio Format Result Codes"></a><h4>Audio Format Result
Codes</h4>
<p>These values are returned when errors occur.</p>
<div class="codesample"><table><tr><td scope="row"><pre>kAudioFormatUnspecifiedError = 'what'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFormatUnsupportedPropertyError = 'prop'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFormatBadPropertySizeError = '!siz'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFormatBadSpecifierSizeError = '!spc'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFormatUnsupportedDataFormatError = 'fmt?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFormatUnknownFormatError = '!fmt'<span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118432" title="Audio File Reference"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF133" title="Audio File Reference"></a><h3>Audio File Reference</h3>
<p>The Audio File API allows for opening and saving audio files
in various formats, for later use.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118445" title="Audio File Types"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF134" title="Audio File Types"></a><h4>Audio File Types</h4>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118453" title="Defined Data Types"></a><h5>Defined
Data Types</h5>
<p>Typedefs are used to simplify the declaration of converters
and the use of properties in the context of an audio file.</p>
<ul class="spaceabove"><li class="li"><p><code>typedef struct OpaqueAudioFileID *AudioFileID</code></p></li>
<li class="li"><p><code>typedef UInt32 AudioFilePropertyID</code></p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118489" title="Data Structures"></a><h5>Data
Structures</h5>
<a name="//apple_ref/c/tdef/AudioFileTypeAndFormat" title="AudioFileTypeAndFormatID"></a><a name="//apple_ref/doc/c_ref/AudioFileTypeAndFormat" title="AudioFileTypeAndFormatID"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_1" title="AudioFileTypeAndFormatID"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_106"></a><h3 class="tight">AudioFileTypeAndFormatID</h3>
<p class="spaceabove">Used by the <code>kAudioGlobalInfo_AvailableStreamDescriptionForFormat</code> property
to query for <code>AudioStreamBasicDescriptions</code> based
on format and file type.</p>
<p class="spaceabove"><pre>
typedef struct AudioFileTypeAndFormatID{
UInt32 mFileType;
UInt32 mFormatID;
} AudioFileTypeAndFormat;
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The value of <code>mFileType</code> is
a <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-118595">“File Types”</a></span> value,
while <code>mFormatID</code> is from
the <span class="content_text"><a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/uid/TP30001108-CH210-68225">“Format IDs”</a></span> in <code><!--a  -->CoreAudioTypes.h<!--/a--></code>.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118582" title="Constants"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF135" title="Constants"></a><h4>Constants</h4>
<p>Constants are provided for the developer&#8217;s convenience.
They provide a consistent set of values for various aspects of an
audio file.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118595" title="File Types"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABBJFFE" title="File Types"></a><h5>File Types</h5>
<p>These constants are used to specify file types when using
functions and structures related to audio files.</p>
<div class="codesample"><table><tr><td scope="row"><pre>kAudioFileAIFFType = 'AIFF'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileAIFCType = 'AIFC'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileWAVEType = 'WAVE'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileSoundDesigner2Type = 'Sd2f'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileNextType = 'NeXT'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileMP3Type = 'MPG3'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileAC3Type = 'ac-3'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileAAC_ADTSType = 'adts'<span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118658" title="Audio File Properties"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF136" title="Audio File Properties"></a><h4>Audio File Properties</h4>
<p>The Audio File API uses the property system to get and set
information about files and global settings.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118671" title="Audio File Properties"></a><h5>Audio
File Properties</h5>
<p>These properties are to be used when getting and setting information
about an particular audio file.</p>
<dl class="termdef">	<dt><code>kAudioFilePropertyFileFormat
= 'ffmt'</code></dt>
<dd><p>Passes a <code>UInt32</code> that
identifies the file&#8217;s format, based on the <span class="content_text"><a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/uid/TP30001108-CH210-68225">“Format IDs”</a></span> found
in <code>CoreAudioTypes.h</code>.</p></dd>
<dt><code>kAudioFilePropertyDataFormat
= 'dfmt'</code></dt>
<dd><p>Passes an <code>AudioStreamBasicDescription</code> that
describes the file&#8217;s format.</p></dd>
<dt><code>kAudioFilePropertyIsOptimized
= 'optm'</code></dt>
<dd><p>Returns a <code>UInt32</code> with
either a value of <code>0</code>,
meaning that the file is not optimized, and therefore, not ready
to be written to, or a value of <code>1</code>,
meaning that the file is currently optimized.</p></dd>
<dt><code>kAudioFilePropertyMagicCookieData
= 'mgic'</code></dt>
<dd><p>Passes a <code>void</code> pointer
towards memory set up for use as a magic cookie.</p></dd>
<dt><code>kAudioFilePropertyAudioDataByteCount
= 'bcnt'</code></dt>
<dd><p>Passes a <code>UInt64</code> that
contains the size of the audio data in the file, in bytes.</p></dd>
<dt><code>kAudioFilePropertyAudioDataPacketCount
= 'pcnt'</code></dt>
<dd><p>Passes a <code>UInt64</code> that
contains the size of the audio data in the file, in packets.</p></dd>
<dt><code>kAudioFilePropertyMaximumPacketSize
= 'psze'</code></dt>
<dd><p>Passes a <code>UInt32</code> that
contains the maximum packet size in the file.</p></dd>
<dt><code>kAudioFilePropertyDataOffset
= 'doff'</code></dt>
<dd><p>Passes an <code>SInt64</code> that
contains offset of where the audio data begins inside the file.</p></dd>
<dt><code>kAudioFilePropertyChannelLayout
= 'cmap</code>'</dt>
<dd><p>Passes an <code>AudioChannelLayout</code>,
specified in <code>CoreAudioTypes.h</code>,
used in the file.</p></dd>
<dt><code>kAudioFilePropertyDeferSizeUpdates
= 'dszu'</code></dt>
<dd><p>Passes a <code>UInt32</code> where
a value of <code>1</code> means that
the file size information in the file header is updated only when
the file is read, optimized, or closed; a value of <code>0</code> denotes
that the header is updated with every write.</p></dd>
<dt><code>kAudioFilePropertyDataFormatName
= 'fnme'</code></dt>
<dd><p>Deprecated in favor of the <code>kAudioFormatProperty_formatName </code>property,
available from Audio Format <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-117721">“Audio Format Properties.”</a></span></p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-118963" title="Audio File Global Info Properties"></a><h5>Audio
File Global Info Properties</h5>
<p>The Global Info Properties are used to retrieve general information
about the environment that is being used. Many of these properties
require a specifier for use, meaning that, in addition to passing
a property ID, a piece of information being queried upon is passed
in as a specifier.</p>
<dl class="termdef">	<dt><code>kAudioFileGlobalInfo_ReadableTypes
= 'afrf'</code></dt>
<dd><p>Takes <code>NULL</code> as
its specifier, and returns a <code>UInt32</code> array
containing the File Type constants which are readable.</p></dd>
<dt><code>kAudioFileGlobalInfo_WritableTypes
= 'afwf'</code></dt>
<dd><p>Takes <code>NULL</code> as
its specifier, and returns a <code>UInt32</code> array
containing the File Type constants which are writable.</p></dd>
<dt><code>kAudioFileGlobalInfo_FileTypeName
= 'ftnm'</code></dt>
<dd><p>Takes a <code>UInt32</code> containing
a File Type constant as its specifier and returns a <code>CFString</code> containing
the name of the file type.</p></dd>
<dt><code>kAudioFileGlobalInfo_ExtensionsForType
= 'fext'</code></dt>
<dd><p>Takes a <code>UInt32</code> containing
a File Type constant as its specifier and returns a <code>CFArray</code> of <code>CFString</code> values
containing the file extensions recognized for this file type.</p></dd>
<dt><code>kAudioFileGlobalInfo_AllExtensions
= 'alxt'</code></dt>
<dd><p>Takes <code>NULL</code> as
its specifier and returns a <code>CFArray</code> of <code>CFString</code> values
containing all of the recognizable file extensions.</p></dd>
<dt><code>kAudioFileGlobalInfo_AvailableFormatIDs
= 'fmid'</code></dt>
<dd><p>Takes a <code>UInt32</code> containing
a File Type constant as its specifier and returns a <code>UInt32</code> array
containing format ID constants for formats readable by audio file.</p></dd>
<dt><code>kAudioFileGlobalInfo_AvailableStreamDescriptionsForFormat
= 'sdid'</code></dt>
<dd><p>Takes an <code>AudioFileTypeAndFormatID</code> instance
as its specifier and returns an <code>AudioStreamBasicDescription</code> array
whose elements correspond with the elements in the specifier.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-119172" title="Audio File Functions"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF137" title="Audio File Functions"></a><h4>Audio File Functions</h4>
<p>These functions are provided to access the functionality of
the Audio File API.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-119185" title="Data Handling"></a><h5>Data
Handling</h5>
<a name="//apple_ref/c/func/AudioFileCreate" title="AudioFileCreate"></a><a name="//apple_ref/doc/c_ref/AudioFileCreate" title="AudioFileCreate"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_2" title="AudioFileCreate"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_107"></a><h3 class="tight">AudioFileCreate</h3>
<p class="spaceabove">Creates a new file using the descriptions provided.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileCreate(
const <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *inParentRef,
<a href="../../../../CoreFoundation/Reference/CFStringRef/Reference/reference.html#//apple_ref/doc/c_ref/CFStringRef" target="_top">CFStringRef</a> inFileName,
UInt32 inFileType,
const <a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription">AudioStreamBasicDescription</a> *inFormat,
UInt32 inFlags,
<a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *outNewFileRef,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> *outAudioFile
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The directory that the file to be place into is provided with <code>inParentRef</code>,
the name of the file is contained within <code>inFileName</code>,
a File Type constant must be provided with <code>inFileType</code>,
the format must be specified using <code>inFormat</code>, <code>inFlag</code> contains
flags for opening and creating the file (currently undefined; should
be set to <code>0</code>), and <code>outNewFileRef</code> is
provided for file system use, while <em>outAudioFile</em> is
for use with other audio file functions.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileInitialize" title="AudioFileInitialize"></a><a name="//apple_ref/doc/c_ref/AudioFileInitialize" title="AudioFileInitialize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_3" title="AudioFileInitialize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_108"></a><h3 class="tight">AudioFileInitialize</h3>
<p class="spaceabove">Wipes clean a existing file to prepare it for writing.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileInitialize(
const <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *inFileRef,
UInt32 inFileType,
const <a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription">AudioStreamBasicDescription</a> *inFormat,
UInt32 inFlags,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> *outAudioFile
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>inFileRef</code> is
the file to be initialized, with the <code>inFileType</code> being
a File Type constant value,<code> inFormat</code> being
an <code>AudioStreamBasicDescription</code> specifying
the format for the file, <code>inFlags</code> being relevant
creation and opening flags (currently undefined; should be set to <code>0</code>),
and <code>outAudioFile</code> being
an <code>AudioFileID</code> for use
with other audio file functions.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileOpen" title="AudioFileOpen"></a><a name="//apple_ref/doc/c_ref/AudioFileOpen" title="AudioFileOpen"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_4" title="AudioFileOpen"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_109"></a><h3 class="tight">AudioFileOpen</h3>
<p class="spaceabove">Opens a file while preserving its contents.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileOpen (
const <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *inFileRef,
SInt8 inPermissions,
UInt32 inFlags,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> *outAudioFile
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The <code>inFileRef</code> should
be a reference to an existing file, <code>inPermissions</code> being
the permissions for the file, as used by <code>FSOpenFork()</code>,
and <code>inFlags</code>, currently
undefined, should be set to <code>0</code>; <code>outAudioFile</code> is
a file instance that will be returned for use in other audio file
functions.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFile_ReadProc" title="AudioFile_ReadProc"></a><a name="//apple_ref/doc/c_ref/AudioFile_ReadProc" title="AudioFile_ReadProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_5" title="AudioFile_ReadProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_110"></a><h3 class="tight">AudioFile_ReadProc</h3>
<p class="spaceabove">Should read the contents of a file.</p>
<p class="spaceabove"><pre>
typedef OSStatus (*AudioFile_ReadProc)(
void * inRefCon,
<!--a-->SInt64<!--/a--> inPosition,
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> requestCount,
void *buffer,
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a>* actualCount
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This callback needs to be provided by the developer for the
purpose of reading the audio data for use with <code><!--a-->AudioFormatInitializeWithCallbacks()<!--/a--></code> and <code><!--a-->AudioFormatOpenWithCallbacks()<!--/a--></code>.
Constants for use by the callback are passed in via <code>inRefCon</code>,
the position to be read from will be passed in via <code>inPosition</code>,
the number of bytes requested is passed in via <code>requestCount</code>,
the processed data is passed in via <code>buffer</code>,
and <code>actualCount</code> returns
the number of bytes returned.</p>
<a name="//apple_ref/c/func/AudioFile_WriteProc" title="AudioFile_WriteProc"></a><a name="//apple_ref/doc/c_ref/AudioFile_WriteProc" title="AudioFile_WriteProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_6" title="AudioFile_WriteProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_111"></a><h3 class="tight">AudioFile_WriteProc</h3>
<p class="spaceabove">Should write the given buffer to the file.</p>
<p class="spaceabove"><pre>
typedef OSStatus (*AudioFile_WriteProc)(
void * inRefCon,
<!--a-->SInt64<!--/a--> inPosition,
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a> requestCount,
const void *buffer,
<a href="../../../../QuickTime/Reference/QTRef_DataTypes/Reference/reference.html#//apple_ref/doc/c_ref/ByteCount" target="_top">ByteCount</a>* actualCount
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This callback needs to be provided by the developer for the
purpose of writing to a file. Constants for use by the callback
are passed in via <code>inRefCon</code>,
the position to be read from will be passed in via <code>inPosition</code>,
the number of bytes requested is passed in via <code>requestCount</code>,
the data processed to is passed in via <code>buffer</code>,
and <code>actualCount</code> returns
the number of bytes written.</p>
<a name="//apple_ref/c/func/AudioFile_GetSizeProc" title="AudioFile_GetSizeProc"></a><a name="//apple_ref/doc/c_ref/AudioFile_GetSizeProc" title="AudioFile_GetSizeProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_7" title="AudioFile_GetSizeProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_112"></a><h3 class="tight">AudioFile_GetSizeProc</h3>
<p class="spaceabove">Should provide the size of the file to the caller.</p>
<p class="spaceabove"><pre>
typedef SInt64 (*AudioFile_GetSizeProc)(void * inRefCon);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This callback should return an <code>SInt32</code> with
the audio stream data size to the caller. If any constants need
to be passed to the callback, their values should be pointed to
by <code>inRefCon</code>.</p>
<a name="//apple_ref/c/func/AudioFile_SetSizeProc" title="AudioFile_SetSizeProc"></a><a name="//apple_ref/doc/c_ref/AudioFile_SetSizeProc" title="AudioFile_SetSizeProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_8" title="AudioFile_SetSizeProc"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_113"></a><h3 class="tight">AudioFile_SetSizeProc</h3>
<p class="spaceabove">Should set the file size to the passed value.</p>
<p class="spaceabove"><pre>
typedef OSStatus (*AudioFile_SetSizeProc)(
void * inRefCon,
<!--a-->SInt64<!--/a--> inSize
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This callback should set the size of the file to <code>inSize</code>,
while <code>inRefCon</code> is provided
to pass any needed arguments to the callback.</p>
<a name="//apple_ref/c/func/AudioFileInitializeWithCallbacks" title="AudioFileInitializeWithCallbacks"></a><a name="//apple_ref/doc/c_ref/AudioFileInitializeWithCallbacks" title="AudioFileInitializeWithCallbacks"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_9" title="AudioFileInitializeWithCallbacks"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_114"></a><h3 class="tight">AudioFileInitializeWithCallbacks</h3>
<p class="spaceabove">Initializes an audio file using the provided callbacks.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileInitializeWithCallbacks(
void * inRefCon,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_ReadProc">AudioFile_ReadProc</a> inReadFunc,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_WriteProc">AudioFile_WriteProc</a> inWriteFunc,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_GetSizeProc">AudioFile_GetSizeProc</a> inGetSizeFunc,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_SetSizeProc">AudioFile_SetSizeProc</a> inSetSizeFunc,
UInt32 inFileType,
const <a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamBasicDescription">AudioStreamBasicDescription</a> *inFormat,
UInt32 inFlags,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> *outAudioFile
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function will wipe the data target clean and set the
various attributes using <em>inFileType</em>, <em>inFormat,</em> and <em>inFlags</em>.
The callbacks need to be provided by the developer, according to
the callback specifications elsewhere in this reference. Upon completion, <em>outAudioFile</em> will contain
a reference to a file instance, for use with other audio file functions.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileOpenFileWithCallbacks" title="AudioFileOpenFileWithCallbacks"></a><a name="//apple_ref/doc/c_ref/AudioFileOpenFileWithCallbacks" title="AudioFileOpenFileWithCallbacks"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_10" title="AudioFileOpenFileWithCallbacks"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_115"></a><h3 class="tight">AudioFileOpenFileWithCallbacks</h3>
<p class="spaceabove">Opens the file an prepares it for use.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileOpenWithCallbacks(
void * inRefCon,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_ReadProc">AudioFile_ReadProc</a> inReadFunc,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_WriteProc">AudioFile_WriteProc</a> inWriteFunc,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_GetSizeProc">AudioFile_GetSizeProc</a> inGetSizeFunc,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioFile_SetSizeProc">AudioFile_SetSizeProc</a> inSetSizeFunc,
UInt32 inFlags,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> *outAudioFile
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Using this function will prepare the target data, while the
callbacks specified here will be used when reading, writing, and
modifying the data. This function is provided to allow for the use
of Audio File&#8217;s APIs with sources other than files.</p>
<a name="//apple_ref/c/func/AudioFileClose" title="AudioFileClose"></a><a name="//apple_ref/doc/c_ref/AudioFileClose" title="AudioFileClose"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_11" title="AudioFileClose"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_116"></a><h3 class="tight">AudioFileClose</h3>
<p class="spaceabove">Closes the file.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileClose(<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileOptimize" title="AudioFileOptimize"></a><a name="//apple_ref/doc/c_ref/AudioFileOptimize" title="AudioFileOptimize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_12" title="AudioFileOptimize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_117"></a><h3 class="tight">AudioFileOptimize</h3>
<p class="spaceabove">Optimizes the file.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileOptimize(<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Optimizing a file will prepare it for any data which may be
appended to the end of it. This is a costly operation and should
not be performed during a process-intensive routine. The <code>kAudioFilepropertyIsOptimized</code> flag
is available to determine whether or not the file is optimized.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileReadBytes" title="AudioFileReadBytes"></a><a name="//apple_ref/doc/c_ref/AudioFileReadBytes" title="AudioFileReadBytes"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_13" title="AudioFileReadBytes"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_118"></a><h3 class="tight">AudioFileReadBytes</h3>
<p class="spaceabove">Reads in a certain number of bytes from the file.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileReadBytes(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile,
<!--a-->Boolean<!--/a--> inUseCache,
<!--a-->SInt64<!--/a--> inStartingByte,
UInt32 *ioNumBytes,
void *outBuffer
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Here, <code>inAudioFile</code> is
the file being read from, <code>inStartingByte</code> is
the point from which to read from, <code>ioNumBytes</code> being
the amount to read, and <code>outBuffer</code> is
where the read data is stored. To cache the read, set <code>inUseCache</code> to
true.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileWriteBytes" title="AudioFileWriteBytes"></a><a name="//apple_ref/doc/c_ref/AudioFileWriteBytes" title="AudioFileWriteBytes"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_14" title="AudioFileWriteBytes"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_119"></a><h3 class="tight">AudioFileWriteBytes</h3>
<p class="spaceabove">Write the contents of the buffer to the file.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileWriteBytes(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile,
<!--a-->Boolean<!--/a--> inUseCache,
<!--a-->SInt64<!--/a--> inStartingByte,
UInt32 *ioNumBytes,
void *inBuffer
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Specify the file to be written to with <em>inAudioFile</em>,
where to write within the file by specifying <code>inStartingByte</code>,
how much is to be written using <code>ioNumBytes</code> (and
verifying how much was written at output, as well), and the data
to be written should be pointed to by <code>inBuffer</code>.
To cache the written data, set <code>inUseCache</code> to
true.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileReadPackets" title="AudioFileReadPackets"></a><a name="//apple_ref/doc/c_ref/AudioFileReadPackets" title="AudioFileReadPackets"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_15" title="AudioFileReadPackets"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_120"></a><h3 class="tight">AudioFileReadPackets</h3>
<p class="spaceabove">Reads in a certain number of packets from the input file.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileReadPackets(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile,
<!--a-->Boolean<!--/a--> inUseCache,
UInt32 *outNumBytes,
<a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription">AudioStreamPacketDescription</a> *outPacketDescriptions,
<!--a-->SInt64<!--/a--> inStartingPacket,
UInt32 *ioNumPackets,
void *outBuffer
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function reads in the contents of the file by packet,
starting at <code>inStartingPoint</code>.
The packets that have been read are described in <code>outPacketDescriptions</code>,
while the number of packets is specified in <code>ioNumPackets</code> (with
the actual number of packets read being the return value), and the
size, in bytes, of the read in packets returned in <code>outNumBytes</code>.
If the read should be cached, set <code>inUseCache</code> to
true.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileWritePackets" title="AudioFileWritePackets"></a><a name="//apple_ref/doc/c_ref/AudioFileWritePackets" title="AudioFileWritePackets"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_16" title="AudioFileWritePackets"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_121"></a><h3 class="tight">AudioFileWritePackets</h3>
<p class="spaceabove">Writes the buffer to the file, by packets.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileWritePackets(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile,
<!--a-->Boolean<!--/a--> inUseCache,
UInt32 inNumBytes,
<a href="../core_audio_types/core_audio_types.html#//apple_ref/doc/c_ref/AudioStreamPacketDescription">AudioStreamPacketDescription</a> *inPacketDescriptions,
<!--a-->SInt64<!--/a--> inStartingPacket,
UInt32 *ioNumPackets,
void *inBuffer
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>When writing to <code>inAudioFile</code>,
specify the starting index as <code>inStartingPacket</code>,
the format of the packet as defined in <code>inPacketDescrptions</code>,
the size of the write as <code>inNumBytes</code>,
and the number of packets to be written in <code>ioNumPackets</code>.
If the write should be cached, set <code>inUseCache</code> to
true.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-120433" title="Property Access"></a><h5>Property
Access</h5>
<a name="//apple_ref/c/func/AudioFileGetPropertyInfo" title="AudioFileGetPropertyInfo"></a><a name="//apple_ref/doc/c_ref/AudioFileGetPropertyInfo" title="AudioFileGetPropertyInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_17" title="AudioFileGetPropertyInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_122"></a><h3 class="tight">AudioFileGetPropertyInfo</h3>
<p class="spaceabove">Returns the size of the data that will be returned for
the property.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileGetPropertyInfo(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFilePropertyID" target="_top">AudioFilePropertyID</a> inPropertyID,
UInt32 *outDataSize,
UInt32 *isWritable
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The file being queried should be passed in as <code>inAudioFile</code>,
while the property being queried is passed in as <code>inPropertyID</code>.
The size of the resulting data is returned in <code>outDataSize</code>,
and <code>isWritable</code> will reflect
if the data is modifiable.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileGetProperty" title="AudioFileGetProperty"></a><a name="//apple_ref/doc/c_ref/AudioFileGetProperty" title="AudioFileGetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_18" title="AudioFileGetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_123"></a><h3 class="tight">AudioFileGetProperty</h3>
<p class="spaceabove">Returns the data for the specified property.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileGetProperty(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFilePropertyID" target="_top">AudioFilePropertyID</a> inPropertyID,
UInt32 *ioDataSize,
void *outPropertyData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The file and property being queried should be specified in <em>inAudioFile</em> and <em>inPropertyID</em>, respectively,
with the size retrieved with <code>AudioFileGetPropertyInfo()</code> passed
into <em>ioDataSize</em>, and the resulting
data being placed in <em>outPropertyData</em>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileSetProperty" title="AudioFileSetProperty"></a><a name="//apple_ref/doc/c_ref/AudioFileSetProperty" title="AudioFileSetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_19" title="AudioFileSetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_124"></a><h3 class="tight">AudioFileSetProperty</h3>
<p class="spaceabove">Sets the data for the respective property.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileSetProperty(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFileID" target="_top">AudioFileID</a> inAudioFile,
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFilePropertyID" target="_top">AudioFilePropertyID</a> inPropertyID,
UInt32 inDataSize,
const void *inPropertyData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The file and property being set should be specified in <code>inAudioFile</code> and <code>inPropertyID</code>,
respectively, with the size of the data being written passed into <code>ioDataSize</code>,
and the data being written coming from <code>inPropertyData</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-120689" title="Global Info Access"></a><h5>Global
Info Access</h5>
<a name="//apple_ref/c/func/AudioFileGetGlobalInfoSize" title="AudioFileGetGlobalInfoSize"></a><a name="//apple_ref/doc/c_ref/AudioFileGetGlobalInfoSize" title="AudioFileGetGlobalInfoSize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_20" title="AudioFileGetGlobalInfoSize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_125"></a><h3 class="tight">AudioFileGetGlobalInfoSize</h3>
<p class="spaceabove">Calculates the size of the data that will be returned
for the property.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileGetGlobalInfoSize(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFilePropertyID" target="_top">AudioFilePropertyID</a> inPropertyID,
UInt32 inSpecifierSize,
void *inSpecifier,
UInt32 *outDataSize
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Gets the size of the <code>inPropertyID</code> for
the <code>inSpecifier</code> and places
it in <code>outDataSize</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/c/func/AudioFileGetGlobalInfo" title="AudioFileGetGlobalInfo"></a><a name="//apple_ref/doc/c_ref/AudioFileGetGlobalInfo" title="AudioFileGetGlobalInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_21" title="AudioFileGetGlobalInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_126"></a><h3 class="tight">AudioFileGetGlobalInfo</h3>
<p class="spaceabove">Retrieves the data for the queried property and specifier.</p>
<p class="spaceabove"><pre>
extern OSStatus AudioFileGetGlobalInfo(
<a href="../../AudioFileConvertRef/Reference/reference.html#//apple_ref/doc/c_ref/AudioFilePropertyID" target="_top">AudioFilePropertyID</a> inPropertyID,
UInt32 inSpecifierSize,
void *inSpecifier,
UInt32 *ioDataSize,
void *outPropertyData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function takes <code>inPropertyID</code> and
returns <code>outPropertyData</code> based
on <code>inSpecifier</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AudioFile.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-120858" title="Audio File Result Codes"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-TPXREF138" title="Audio File Result Codes"></a><h4>Audio File Result
Codes</h4>
<p>These values are returned when errors occur.</p>
<div class="codesample"><table><tr><td scope="row"><pre>kAudioFileUnspecifiedError = 'wht?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileUnsupportedFileTypeError = 'typ?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileUnsupportedDataFormatError = 'fmt?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileUnsupportedPropertyError = 'pty?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileBadPropertySizeError = '!siz'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFilePermissionsError = 'prm?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileNotOptimizedError = 'optm'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileFormatNameUnavailableError = 'nme?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileInvalidChunkError = 'chk?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileDoesNotAllow64BitDataSizeError = 'off?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileInvalidPacketOffsetError = 'pck?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileInvalidFileError = 'dta?'<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioFileOperationNotSupportedError = 0x6F703F3F<span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/TP30001108-CH205-120946" title="AUGraph Reference"></a><h3>AUGraph
Reference</h3>
<p>The AUGraph API allows for creating graphs of Audio Units
for processing audio data.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-152801" title="AUGraph Types"></a><h4>AUGraph
Types</h4>
<a name="//apple_ref/doc/uid/TP30001108-CH205-152807" title="Defined Data Types"></a><h5>Defined
Data Types</h5>
<p>Typedefs are used to simplify the declaration of converters
and the use of properties in the context of a graph.</p>
<ul class="spaceabove"><li class="li"><p><code>typedef SInt32 AUNode</code></p></li>
<li class="li"><p><code>typedef struct OpaqueAUGraph *AUGraph</code></p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-121003" title="Data Structures"></a><h5>Data
Structures</h5>
<a name="//apple_ref/c/tdef/AudioUnitNodeConnection" title="AudioUnitNodeConnection"></a><a name="//apple_ref/doc/c_ref/AudioUnitNodeConnection" title="AudioUnitNodeConnection"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABHBGJD" title="AudioUnitNodeConnection"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_127"></a><h3 class="tight">AudioUnitNodeConnection</h3>
<p class="spaceabove">Used to symbolize the connection between two nodes.</p>
<p class="spaceabove"><pre>
typedef struct AudioUnitNodeConnection{
<!--a-->AUNode<!--/a--> sourceNode;
UInt32 sourceOutputNumber;
<!--a-->AUNode<!--/a--> destNode;
UInt32 destInputNumber;
} AudioUnitNodeConnection;
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-121061" title="AUGraph Functions"></a><h4>AUGraph
Functions</h4>
<p>These functions are provided to access the functionality of
the AUGraph API.</p>
<a name="//apple_ref/c/func/NewAUGraph" title="NewAUGraph"></a><a name="//apple_ref/doc/c_ref/NewAUGraph" title="NewAUGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABJGFDI" title="NewAUGraph"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_128"></a><h3 class="tight">NewAUGraph</h3>
<p class="spaceabove">Creates a new <code>AUGraph</code> instance.</p>
<p class="spaceabove"><pre>
extern OSStatus NewAUGraph(<!--a-->AUGraph<!--/a--> *outGraph);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/DisposeAUGraph" title="DisposeAUGraph"></a><a name="//apple_ref/doc/c_ref/DisposeAUGraph" title="DisposeAUGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABEFEDH" title="DisposeAUGraph"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_129"></a><h3 class="tight">DisposeAUGraph</h3>
<p class="spaceabove">Destroys an <code>AUGraph</code> instance.</p>
<p class="spaceabove"><pre>
extern OSStatus DisposeAUGraph(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphNewNode" title="AUGraphNewNode"></a><a name="//apple_ref/doc/c_ref/AUGraphNewNode" title="AUGraphNewNode"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABDCCAA" title="AUGraphNewNode"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_130"></a><h3 class="tight">AUGraphNewNode</h3>
<p class="spaceabove">Creates a new node inside of the specified graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphNewNode(
<!--a-->AUGraph<!--/a--> inGraph,
const <a href="../../../../Carbon/Reference/Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentDescription" target="_top">ComponentDescription</a> *inDescription,
UInt32 inClassDataSize,
const void *inClassData,
<!--a-->AUNode<!--/a--> *outNode
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The graph to which the new node is to be added is set in <em>inGraph</em>,
while the node to be added may be specified using either a <code>ComponentDescription</code>,
obtained from the Component Manager. The value of <em>inClassData</em> is
a <code>CFPropertyList</code> containing the serialized
data of a saved state. The function returns <em>outNode</em> for
future reference towards the newly-created node.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphNewNodeSubGraph" title="AUGraphNewNodeSubGraph"></a><a name="//apple_ref/doc/c_ref/AUGraphNewNodeSubGraph" title="AUGraphNewNodeSubGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABGAJIE" title="AUGraphNewNodeSubGraph"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_131"></a><h3 class="tight">AUGraphNewNodeSubGraph</h3>
<p class="spaceabove">Adds a new subgraph within the graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphNewNodeSubGraph(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AUNode<!--/a--> *outNode
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The subgraph node pointed to by <em>outNode</em> may
be populated as if it were a graph in itself. The entire graph becomes
active when the subgraph node is connected to the rest of the graph,
and it is deactivated when it is disconnected.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphRemoveNode" title="AUGraphRemoveNode"></a><a name="//apple_ref/doc/c_ref/AUGraphRemoveNode" title="AUGraphRemoveNode"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABHFAIB" title="AUGraphRemoveNode"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_132"></a><h3 class="tight">AUGraphRemoveNode</h3>
<p class="spaceabove">Removes the specified node from the graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphRemoveNode(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AUNode<!--/a--> inNode
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetNodeCount" title="AUGraphGetNodeCount"></a><a name="//apple_ref/doc/c_ref/AUGraphGetNodeCount" title="AUGraphGetNodeCount"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_22" title="AUGraphGetNodeCount"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_133"></a><h3 class="tight">AUGraphGetNodeCount</h3>
<p class="spaceabove">Returns the number of nodes in the current graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetNodeCount(
<!--a-->AUGraph<!--/a--> inGraph,
UInt32 *outNumberOfNodes
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetIndNode" title="AUGraphGetIndNode"></a><a name="//apple_ref/doc/c_ref/AUGraphGetIndNode" title="AUGraphGetIndNode"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_23" title="AUGraphGetIndNode"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_134"></a><h3 class="tight">AUGraphGetIndNode</h3>
<p class="spaceabove">Returns a pointer to the node at the specified index.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetIndNode(
<!--a-->AUGraph<!--/a--> inGraph,
UInt32 inIndex,
<!--a-->AUNode<!--/a--> *outNode
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The index for the node is arbitrarily assigned when the node
is added to the graph.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetNodeInfo" title="AUGraphGetNodeInfo"></a><a name="//apple_ref/doc/c_ref/AUGraphGetNodeInfo" title="AUGraphGetNodeInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABHECDE" title="AUGraphGetNodeInfo"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_135"></a><h3 class="tight">AUGraphGetNodeInfo</h3>
<p class="spaceabove">Returns information about a node.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetNodeInfo(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AUNode<!--/a--> inNode,
<a href="../../../../Carbon/Reference/Component_Manager/Reference/reference.html#//apple_ref/doc/c_ref/ComponentDescription" target="_top">ComponentDescription</a> *outDescription,
UInt32 *outClassDataSize,
void **outClassData,
<!--a-->AudioUnit<!--/a--> *outAudioUnit
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function retrieves various pieces of information about
a graph&#8217;s nodes, which may be saved and used to rebuild the graph
later using <code>AUGraphNewNode()</code>. The node
and graph containing the node in question are passed as <em>inGraph</em> and <em>inNode</em>,
respectively. Upon output, <em>outDescription</em> points
to a <code>ComponentDescription</code>,
provided by the Component Manager. Also, <em>outClassData</em> points
towards a <code>CFPropertyRef</code>, which may be saved
and used to rebuild the graph later on. The node&#8217;s Audio Unit
type is pointed to by <code>outAudioUnit</code>.
The <em>outClassDataSize</em> parameter is
currently not used, and will return <code>0</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetNodeInfoSubGraph" title="AUGraphGetNodeInfoSubGraph"></a><a name="//apple_ref/doc/c_ref/AUGraphGetNodeInfoSubGraph" title="AUGraphGetNodeInfoSubGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_24" title="AUGraphGetNodeInfoSubGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_136"></a><h3 class="tight">AUGraphGetNodeInfoSubGraph</h3>
<p class="spaceabove">Returns a pointer towards a subgraph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetNodeInfoSubGraph(
const <!--a-->AUGraph<!--/a--> inGraph,
const <!--a-->AUNode<!--/a--> inNode,
<!--a-->AUGraph<!--/a--> *outSubGraph
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphIsNodeSubGraph" title="AUGraphIsNodeSubGraph"></a><a name="//apple_ref/doc/c_ref/AUGraphIsNodeSubGraph" title="AUGraphIsNodeSubGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_25" title="AUGraphIsNodeSubGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_137"></a><h3 class="tight">AUGraphIsNodeSubGraph</h3>
<p class="spaceabove">Indicates if a node is a subgraph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphIsNodeSubGraph(
const <!--a-->AUGraph<!--/a--> inGraph,
const <!--a-->AUNode<!--/a--> inNode,
<!--a-->Boolean<!--/a-->* outFlag
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphConnectNodeInput" title="AUGraphConnectNodeInput"></a><a name="//apple_ref/doc/c_ref/AUGraphConnectNodeInput" title="AUGraphConnectNodeInput"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABBCIGJ" title="AUGraphConnectNodeInput"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_138"></a><h3 class="tight">AUGraphConnectNodeInput</h3>
<p class="spaceabove">Connects two graph nodes together and specifies the way
inputs are ordered.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphConnectNodeInput(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AUNode<!--/a--> inSourceNode,
UInt32 inSourceOutputNumber,
<!--a-->AUNode<!--/a--> inDestNode,
UInt32 inDestInputNumber
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>When connecting nodes together, the developer must specify
how the output of one node maps to the input of another. To prevent
fan out, all output-input connections are one-to-one, where each
node may have multiple inputs and outputs (indexed starting with <code>0</code>).</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphDisconnectNodeInput" title="AUGraphDisconnectNodeInput"></a><a name="//apple_ref/doc/c_ref/AUGraphDisconnectNodeInput" title="AUGraphDisconnectNodeInput"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABCHAGJ" title="AUGraphDisconnectNodeInput"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_139"></a><h3 class="tight">AUGraphDisconnectNodeInput</h3>
<p class="spaceabove">Disconnects the input from the graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphDisconnectNodeInput(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AUNode<!--/a--> inDestNode,
UInt32 inDestInputNumber
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphClearConnections" title="AUGraphClearConnections"></a><a name="//apple_ref/doc/c_ref/AUGraphClearConnections" title="AUGraphClearConnections"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABIICBG" title="AUGraphClearConnections"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_140"></a><h3 class="tight">AUGraphClearConnections</h3>
<p class="spaceabove">Clears all of the connections between all inputs and outputs.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphClearConnections(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetNumberOfConnections" title="AUGraphGetNumberOfConnections"></a><a name="//apple_ref/doc/c_ref/AUGraphGetNumberOfConnections" title="AUGraphGetNumberOfConnections"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_26" title="AUGraphGetNumberOfConnections"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_141"></a><h3 class="tight">AUGraphGetNumberOfConnections</h3>
<p class="spaceabove">Returns the number of connections present in the graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetNumberOfConnections(
<!--a-->AUGraph<!--/a--> inGraph,
UInt32 *outNumberOfConnections
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphCountNodeConnections" title="AUGraphCountNodeConnections"></a><a name="//apple_ref/doc/c_ref/AUGraphCountNodeConnections" title="AUGraphCountNodeConnections"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_27" title="AUGraphCountNodeConnections"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_142"></a><h3 class="tight">AUGraphCountNodeConnections</h3>
<p class="spaceabove">Returns the number of connections that involve the specified
node.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphCountNodeConnections(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AUNode<!--/a--> inNode,
UInt32 *outNumConnections
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetNodeConnections" title="AUGraphGetNodeConnections"></a><a name="//apple_ref/doc/c_ref/AUGraphGetNodeConnections" title="AUGraphGetNodeConnections"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABCGGFD" title="AUGraphGetNodeConnections"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_143"></a><h3 class="tight">AUGraphGetNodeConnections</h3>
<p class="spaceabove">Returns an array containing the number of connections
involving the specified node.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetNodeConnections(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AUNode<!--/a--> inNode,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/AudioUnitNodeConnection">AudioUnitNodeConnection</a> *outConnections,
UInt32 *ioNumConnections
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function returns an <span class="content_text"><a href="audio_toolbox.html#//apple_ref/c/tdef/AudioUnitNodeConnection">“AudioUnitNodeConnection”</a></span> array
containing information about all of the pairs of connections that
involve <em>inNode</em>. The size of the array
will be reflected in <em>ioNumConnections</em>,
while the value returned by <code><!--a-->AUGraphCountNodeConnections()<!--/a--></code> should be
passed to this parameter upon input.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetConnectionInfo" title="AUGraphGetConnectionInfo"></a><a name="//apple_ref/doc/c_ref/AUGraphGetConnectionInfo" title="AUGraphGetConnectionInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_28" title="AUGraphGetConnectionInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_144"></a><h3 class="tight">AUGraphGetConnectionInfo</h3>
<p class="spaceabove">Returns information about a particular connection.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetConnectionInfo(
<!--a-->AUGraph<!--/a--> inGraph,
UInt32 inConnectionIndex,
<!--a-->AUNode<!--/a--> *outSourceNode,
UInt32 *outSourceOutputNumber,
<!--a-->AUNode<!--/a--> *outDestNode,
UInt32 *outDestInputNumber
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Passing an index will return the information about it. The
indices are arbitrarily assigned when the connections are made,
and should follow the indices contained in the <em>outConnections</em> array
returned by <code><!--a-->AUGraphGetNodeConnections()<!--/a--></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphUpdate" title="AUGraphUpdate"></a><a name="//apple_ref/doc/c_ref/AUGraphUpdate" title="AUGraphUpdate"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABCBEJJ" title="AUGraphUpdate"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_145"></a><h3 class="tight">AUGraphUpdate</h3>
<p class="spaceabove">Updates all changes made to the graph while it is running.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphUpdate(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->Boolean<!--/a--> *outIsUpdated
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>When a graph is running, no changes actually occur to the
graph until <code><!--a-->AUGraphUpdate()<!--/a--></code> is called.
All node connect and disconnect requests are queued until this function
called. When the graph is not running, all connect and disconnect
requests are processed immediately, and therefore, <code><!--a-->AUGraphUpdate()<!--/a--></code> is
not necessary. If the value of <em>outIsUpdated</em> is <code>NULL</code>,
the update will block all rendering until it is finished; a non-<code>NULL</code> value
will allow <code><!--a-->AUGraphUpdate()<!--/a--></code> to return
immediately. A <code>true</code> value
for <em>outIsUpdated</em> will indicate that
all changes have occurred to the graph, whereas a <code>false</code> value
means that there are still changes that have not occurred.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphOpen" title="AUGraphOpen"></a><a name="//apple_ref/doc/c_ref/AUGraphOpen" title="AUGraphOpen"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABFJGDJ" title="AUGraphOpen"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_146"></a><h3 class="tight">AUGraphOpen</h3>
<p class="spaceabove">Instantiates every Audio Unit in the graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphOpen(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function should be called after the initial set of nodes
is added to the graph and connections have been made between them.
This will instantiate the nodes, meaning that their properties will
be ready for modification. Each node&#8217;s sample rate may also be
set after the graph is opened.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphClose" title="AUGraphClose"></a><a name="//apple_ref/doc/c_ref/AUGraphClose" title="AUGraphClose"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABCBHCI" title="AUGraphClose"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_147"></a><h3 class="tight">AUGraphClose</h3>
<p class="spaceabove">Closes the graph and deallocates its Audio Unit nodes.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphClose(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphInitialize" title="AUGraphInitialize"></a><a name="//apple_ref/doc/c_ref/AUGraphInitialize" title="AUGraphInitialize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABDGAID" title="AUGraphInitialize"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_148"></a><h3 class="tight">AUGraphInitialize</h3>
<p class="spaceabove">Initializes the graph and the connected Audio Units.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphInitialize(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Invoking this function will activate the connections between
nodes and will initialize all nodes that are part of a connection.
It is important to note that if format changes occur, sample rates
for output nodes must be set before this function is called.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphUninitialize" title="AUGraphUninitialize"></a><a name="//apple_ref/doc/c_ref/AUGraphUninitialize" title="AUGraphUninitialize"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABBBDJI" title="AUGraphUninitialize"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_149"></a><h3 class="tight">AUGraphUninitialize</h3>
<p class="spaceabove">Uninitializes the graph and all of the Audio Units.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphUninitialize(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphStart" title="AUGraphStart"></a><a name="//apple_ref/doc/c_ref/AUGraphStart" title="AUGraphStart"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABBBICF" title="AUGraphStart"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_150"></a><h3 class="tight">AUGraphStart</h3>
<p class="spaceabove">Begins audio rendering through the graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphStart(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function starts with the head node, always an output
unit, and works through the graph to get to the inputs, pulls the
data, and renders it through all of the Audio Units in the path
leading to the head.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphStop" title="AUGraphStop"></a><a name="//apple_ref/doc/c_ref/AUGraphStop" title="AUGraphStop"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABHHEBF" title="AUGraphStop"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_151"></a><h3 class="tight">AUGraphStop</h3>
<p class="spaceabove">Stops all rendering through the graph.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphStop(<!--a-->AUGraph<!--/a--> inGraph);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphIsOpen" title="AUGraphIsOpen"></a><a name="//apple_ref/doc/c_ref/AUGraphIsOpen" title="AUGraphIsOpen"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_29" title="AUGraphIsOpen"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_152"></a><h3 class="tight">AUGraphIsOpen</h3>
<p class="spaceabove">Returns a boolean value indicting whether or not the graph
is open.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphIsOpen(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->Boolean<!--/a--> *outIsOpen
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphIsInitialized" title="AUGraphIsInitialized"></a><a name="//apple_ref/doc/c_ref/AUGraphIsInitialized" title="AUGraphIsInitialized"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_30" title="AUGraphIsInitialized"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_153"></a><h3 class="tight">AUGraphIsInitialized</h3>
<p class="spaceabove">Returns a boolean value indicting whether or not the graph
is initialized.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphIsInitialized(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->Boolean<!--/a--> *outIsInitialized
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphIsRunning" title="AUGraphIsRunning"></a><a name="//apple_ref/doc/c_ref/AUGraphIsRunning" title="AUGraphIsRunning"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BABHGDIJ" title="AUGraphIsRunning"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_154"></a><h3 class="tight">AUGraphIsRunning</h3>
<p class="spaceabove">Returns a boolean value indicting whether or not the graph
is running.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphIsRunning(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->Boolean<!--/a--> *outIsRunning
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphGetCPULoad" title="AUGraphGetCPULoad"></a><a name="//apple_ref/doc/c_ref/AUGraphGetCPULoad" title="AUGraphGetCPULoad"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_31" title="AUGraphGetCPULoad"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_155"></a><h3 class="tight">AUGraphGetCPULoad</h3>
<p class="spaceabove">Returns the amount of load on the CPU.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphGetCPULoad(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->Float32<!--/a--> *outCPULoad
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphSetRenderNotification" title="AUGraphSetRenderNotification"></a><a name="//apple_ref/doc/c_ref/AUGraphSetRenderNotification" title="AUGraphSetRenderNotification"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_32" title="AUGraphSetRenderNotification"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_156"></a><h3 class="tight">AUGraphSetRenderNotification</h3>
<p class="spaceabove">Specifies a callback for the render process.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphSetRenderNotification(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AudioUnitRenderCallback<!--/a--> inCallback,
void *inRefCon
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function is intended for use when the graph has Audio
Units of type &#8216;<code>aunt</code>&#8217;.
The callback is specified in <em>inCallback</em>,
and is called before and after an audio render occurs. Passing <code>NULL</code> to <code>inCallback</code> removes
all callbacks from the notification. Multiple notifications are
allowed.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphRemoveRenderNotification" title="AUGraphRemoveRenderNotification"></a><a name="//apple_ref/doc/c_ref/AUGraphRemoveRenderNotification" title="AUGraphRemoveRenderNotification"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_33" title="AUGraphRemoveRenderNotification"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_157"></a><h3 class="tight">AUGraphRemoveRenderNotification</h3>
<p class="spaceabove">Removes the specified callback from the notification.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphRemoveRenderNotification(
<!--a-->AUGraph<!--/a--> inGraph,
<!--a-->AudioUnitRenderCallback<!--/a--> inCallback,
void *inRefCon
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function is intended for use when the graph has Audio
Units of type &#8216;<code>aunt</code>&#8217;.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li><li class="availability">Deprecated in Mac OS X v10.3.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphAddRenderNotify" title="AUGraphAddRenderNotify"></a><a name="//apple_ref/doc/c_ref/AUGraphAddRenderNotify" title="AUGraphAddRenderNotify"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_34" title="AUGraphAddRenderNotify"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_158"></a><h3 class="tight">AUGraphAddRenderNotify</h3>
<p class="spaceabove">Specifies a callback for the render process.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphAddRenderNotify(
<!--a-->AUGraph<!--/a--> inGraph,
<a href="../audio_units/audio_units.html#//apple_ref/doc/c_ref/AURenderCallback">AURenderCallback</a> inCallback,
void *inRefCon
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function is intended for use when the graph has Audio
Units of type &#8216;<code>auXX</code>&#8217;,
where <code>XX</code> is one of the
various version 2 Audio Unit types, as specified in <code>AudioUnit/AUComponent.h</code>.
The callback is specified in <em>inCallback</em>,
and is called before and after an audio render occurs. Passing <code>NULL</code> to <em>inCallback</em> removes
all callbacks from the notification. Multiple notifications are
allowed.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/c/func/AUGraphRemoveRenderNotify" title="AUGraphRemoveRenderNotify"></a><a name="//apple_ref/doc/c_ref/AUGraphRemoveRenderNotify" title="AUGraphRemoveRenderNotify"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_35" title="AUGraphRemoveRenderNotify"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_159"></a><h3 class="tight">AUGraphRemoveRenderNotify</h3>
<p class="spaceabove">Removes the specified callback from the notification.</p>
<p class="spaceabove"><pre>
extern OSStatus AUGraphRemoveRenderNotify(
<!--a-->AUGraph<!--/a--> inGraph,
<a href="../audio_units/audio_units.html#//apple_ref/doc/c_ref/AURenderCallback">AURenderCallback</a> inCallback,
void *inRefCon
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function is intended for use when the graph has Audio
Units of type &#8216;<code>auXX</code>&#8217;,
where <code>XX</code> is one of the
various version 2 Audio Unit types, as specified in <code>AudioUnit/AUComponent.h</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>AUGraph.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-122728" title="AUGraph Result Codes"></a><h4>AUGraph
Result Codes</h4>
<p>These values are returned when errors occur.</p>
<div class="codesample"><table><tr><td scope="row"><pre>kAUGraphErr_NodeNotFound = -10860<span></span></pre></td></tr><tr><td scope="row"><pre>kAUGraphErr_InvalidConnection = -10861<span></span></pre></td></tr><tr><td scope="row"><pre>kAUGraphErr_OutputNodeErr = -10862<span></span></pre></td></tr><tr><td scope="row"><pre>kAUGraphErr_CannotDoInCurrentContext = -10863<span></span></pre></td></tr><tr><td scope="row"><pre>kAUGraphErr_InvalidAudioUnit = -10864<span></span></pre></td></tr></table></div>
<a name="//apple_ref/doc/uid/TP30001108-CH205-122776" title="Music Player and Music Sequence Reference"></a><h3>Music
Player and Music Sequence Reference</h3>
<p>The Music Player and Music Sequence components allow for the
sequencing of MIDI endpoints and audio units. </p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-122789" title="Music Player and Music Sequence Types"></a><h4>Music
Player and Music Sequence Types</h4>
<a name="//apple_ref/doc/uid/TP30001108-CH205-122797" title="Defined Data Types"></a><h5>Defined
Data Types</h5>
<p>These typedefs are provided to support the different structures
and functions in Music Player.</p>
<ul class="spaceabove"><li class="li"><p><code>typedef UInt32 MusicSequenceLoadFlags</code></p></li>
<li class="li"><p><code>typedef UInt32 MusicEventType</code></p></li>
<li class="li"><p><code>typedef Float64 MusicTimeStamp</code></p></li>
<li class="li"><p><code>typedef struct OpaqueMusicPlayer *MusicPlayer</code></p></li>
<li class="li"><p><code>typedef struct OpaqueMusicSequence *MusicSequence</code></p></li>
<li class="li"><p><code>typedef struct OpaqueMusicTrack *MusicTrack</code></p></li>
<li class="li"><p><code>typedef struct OpaqueMusicEventIterator *MusicEventIterator</code></p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-122878" title="Data Structures"></a><h5>Data
Structures</h5>
<a name="//apple_ref/c/tdef/MIDINoteMessage" title="MIDINoteMessage"></a><a name="//apple_ref/doc/c_ref/MIDINoteMessage" title="MIDINoteMessage"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJFFIJ" title="MIDINoteMessage"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_160"></a><h3 class="tight">MIDINoteMessage</h3>
<p class="spaceabove">Stores information about a MIDI note event.</p>
<p class="spaceabove"><pre>
typedef struct MIDINoteMessage {
UInt8 channel;
UInt8 note;
UInt8 velocity;
UInt8 reserved;
<!--a-->Float32<!--/a--> duration;
} MIDINoteMessage;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>channel</code></dt>
<dd><p>The channel number to which the note is assigned.</p></dd>
<dt><code>note</code></dt>
<dd><p>The value of the note to be played.</p></dd>
<dt><code>velocity</code></dt>
<dd><p>The volume at which the note is to be played.</p></dd>
<dt><code>reserved</code></dt>
<dd><p></p></dd>
<dt><code>duration</code></dt>
<dd><p>The length of time that the note should be played,
in beats.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information needed to relay
the properties of a note. An instance of this structure is used
by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMIDINoteEvent">MusicTrackNewMIDINoteEvent</a></code> function.
The values of the structure are:</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/MIDIChannelMessage" title="MIDIChannelMessage"></a><a name="//apple_ref/doc/c_ref/MIDIChannelMessage" title="MIDIChannelMessage"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDCJHI" title="MIDIChannelMessage"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_161"></a><h3 class="tight">MIDIChannelMessage</h3>
<p class="spaceabove">Stores the data for a MIDI channel event.</p>
<p class="spaceabove"><pre>
typedef struct MIDIChannelMessage {
UInt8 status;
UInt8 data1;
UInt8 data2;
UInt8 reserved;
} MIDIChannelMessage;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>status</code></dt>
<dd><p>The message and the channel it is to be relayed
to.</p></dd>
<dt><code>data1</code></dt>
<dd><p>Data specific to the message.</p></dd>
<dt><code>data2</code></dt>
<dd><p>Data specific to the message.</p></dd>
<dt><code>reserved</code></dt>
<dd><p>???</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information needed for a channel
event to be used in a music track. An instance of this structure
is used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMIDIChannelEvent">MusicTrackNewMIDIChannelEvent</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/MIDIRawData" title="MIDIRawData"></a><a name="//apple_ref/doc/c_ref/MIDIRawData" title="MIDIRawData"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHGHFG" title="MIDIRawData"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_162"></a><h3 class="tight">MIDIRawData</h3>
<p class="spaceabove">Stores the information for any MIDI event.</p>
<p class="spaceabove"><pre>
typedef struct MIDIRawData {
UInt32 length;
UInt8 data[1];
} MIDIRawData;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>length</code></dt>
<dd><p>The size of the space allocated for <code>data</code>.</p></dd>
<dt><code>data</code></dt>
<dd><p>The raw MIDI data to be stored; allocate as much
space as needed for the data.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the data for an event where raw
MIDI data is sent to an endpoint. An instance of this structure
is used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMIDIRawDataEvent">MusicTrackNewMIDIRawDataEvent</a></code> function. The
values of the structure are:</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/MIDIMetaEvent" title="MIDIMetaEvent"></a><a name="//apple_ref/doc/c_ref/MIDIMetaEvent" title="MIDIMetaEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGJGEG" title="MIDIMetaEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_163"></a><h3 class="tight">MIDIMetaEvent</h3>
<p class="spaceabove"> Stores the data for a MIDI meta event.</p>
<p class="spaceabove"><pre>
typedef struct MIDIMetaEvent {
UInt8 metaEventType;
UInt8 unused1;
UInt8 unused2;
UInt8 unused3;
UInt32 dataLength;
UInt8 data[1];
} MIDIMetaEvent;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>metaEventType</code></dt>
<dd><p>Specifies the type of meta event this structure
encapsulates.</p></dd>
<dt><code>unused1</code></dt>
<dd><p>An unused value.</p></dd>
<dt><code>unused2</code></dt>
<dd><p>An unused value.</p></dd>
<dt><code>unused3</code></dt>
<dd><p>An unused value.</p></dd>
<dt><code>dataLength</code></dt>
<dd><p>The size of the space allocated for <code>data</code>.</p></dd>
<dt><code>data</code></dt>
<dd><p>The meta data for this event.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information needed to pass
MIDI meta data, as found in standard MIDI files, to MIDI endpoints.
An instance of this structure is used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewMetaEvent">MusicTrackNewMetaEvent</a></code> function. The
values of the structure are: </p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/MusicEventUserData" title="MusicEventUserData"></a><a name="//apple_ref/doc/c_ref/MusicEventUserData" title="MusicEventUserData"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJGECJ" title="MusicEventUserData"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_164"></a><h3 class="tight">MusicEventUserData</h3>
<p class="spaceabove">Stores data for a user event					.</p>
<p class="spaceabove"><pre>
typedef struct MusicEventUserData {
UInt32 length;
UInt8 data[1];
} MusicEventUserData;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>length</code></dt>
<dd><p>The size, in bytes, of the value stored in <code>data</code>.</p></dd>
<dt><code>data</code></dt>
<dd><p>The data stored for this event.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information used on a user
event. An instance of this structure is used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewUserEvent">MusicTrackNewUserEvent</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/ExtendedNoteOnEvent" title="ExtendedNoteOnEvent"></a><a name="//apple_ref/doc/c_ref/ExtendedNoteOnEvent" title="ExtendedNoteOnEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGGFJF" title="ExtendedNoteOnEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_165"></a><h3 class="tight">ExtendedNoteOnEvent</h3>
<p class="spaceabove">Stores the data for a playback note.</p>
<p class="spaceabove"><pre>
typedef struct ExtendedNoteOnEvent {
<!--a-->MusicDeviceInstrumentID<!--/a--> instrumentID;
<!--a-->MusicDeviceGroupID<!--/a--> groupID;
<!--a-->Float32<!--/a--> duration;
<!--a-->MusicDeviceNoteParams<!--/a--> extendedParams;
} ExtendedNoteOnEvent;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>instrumentID</code></dt>
<dd><p>The instrument to be used by the Music Device.</p></dd>
<dt><code>groupID</code></dt>
<dd><p>The channel of the Music Device.</p></dd>
<dt><code>duration</code></dt>
<dd><p>The length of the note.</p></dd>
<dt><code>extendedParams</code></dt>
<dd><p>Any additional parameters that need to be sent
to the Music Device.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information needed to playback
a note using a Music Device. An instance of this structure is used
by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewExtendedNoteEvent">MusicTrackNewExtendedNoteEvent</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/ExtendedControlEvent" title="ExtendedControlEvent"></a><a name="//apple_ref/doc/c_ref/ExtendedControlEvent" title="ExtendedControlEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDEGFF" title="ExtendedControlEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_166"></a><h3 class="tight">ExtendedControlEvent</h3>
<p class="spaceabove">Stores information regarding an event using a Music Device.</p>
<p class="spaceabove"><pre>
typedef struct ExtendedControlEvent {
<!--a-->MusicDeviceGroupID<!--/a--> groupID;
<!--a-->AudioUnitParameterID<!--/a--> controlID;
<!--a-->Float32<!--/a--> value;
} ExtendedControlEvent;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>groupID</code></dt>
<dd><p>The channel of the Music Device to be controlled.</p></dd>
<dt><code>controlID</code></dt>
<dd><p>The Music Device parameter to be controlled.</p></dd>
<dt><code>value</code></dt>
<dd><p>The value to which the parameter should be set.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information needed to control
a Music Device. An instance of this structure is used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewExtendedControlEvent">MusicTrackNewExtendedControlEvent</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/ParameterEvent" title="ParameterEvent"></a><a name="//apple_ref/doc/c_ref/ParameterEvent" title="ParameterEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFJGFH" title="ParameterEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_167"></a><h3 class="tight">ParameterEvent</h3>
<p class="spaceabove">Stores information for an even using Audio Units.</p>
<p class="spaceabove"><pre>
typedef struct ParameterEvent {
<!--a-->AudioUnitParameterID<!--/a--> parameterID;
<!--a-->AudioUnitScope<!--/a--> scope;
<!--a-->AudioUnitElement<!--/a--> element;
<!--a-->Float32<!--/a--> value;
} ParameterEvent;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>parameterID</code></dt>
<dd><p>The parameter to be adjusted.</p></dd>
<dt><code>scope</code></dt>
<dd><p>The scope for this event.</p></dd>
<dt><code>element			</code></dt>
<dd><p>The element to be controlled</p></dd>
<dt><code>value</code></dt>
<dd><p>The value to be passed into the parameter.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information needed to relay
the properties of a note. An instance of this structure is used
by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackNewParameterEvent">MusicTrackNewParameterEvent</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/tdef/ExtendedTempoEvent" title="ExtendedTempoEvent"></a><a name="//apple_ref/doc/c_ref/ExtendedTempoEvent" title="ExtendedTempoEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIEIJD" title="ExtendedTempoEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_168"></a><h3 class="tight">ExtendedTempoEvent</h3>
<p class="spaceabove">Specifies the tempo to be applied when this event occurs.</p>
<p class="spaceabove"><pre>
typedef struct ExtendedTempoEvent {
<!--a-->Float64<!--/a--> bpm;
} ExtendedTempoEvent;
</pre></p>
<h5 class="tight">Fields</h5><dl class="termdef">
<dt><code>pbm</code></dt>
<dd><p>The beats-per-minute to be used for the sequence
from this event forward.</p></dd></dl>
<h5 class="tight">Discussion</h5>
<p>This structure encapsulates the information needed to change
the tempo of the sequence at a certain point. An instance of this
structure is used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackExtendedTempoEvent">MusicTrackExtendedTempoEvent</a></code> function.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-124098" title="Music Player and Music Sequence Constants"></a><h4>Music
Player and Music Sequence Constants</h4>
<p>Constants are provided for the developer&#8217;s convenience.
They provide a consistent set of values for various aspects of an
audio file.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-124111" title="Music Events"></a><h5>Music
Events</h5>
<p>These constants are used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorGetEventInfo">MusicEventIteratorGetEventInfo</a></code> and <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicEventIteratorSetEventInfo">MusicEventIteratorSetEventInfo</a></code> functions
to determine the type of event currently being pointed to by the
iterator. Based on these values, the <code>outEventData</code> and <code>inEventData</code> pointers
in these functions should point to instances of these types:</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-130613" title="Table 4-1Music Event Constants "></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">
<caption class="tablecaption"><strong>Table 4-1&nbsp;&nbsp;</strong>Music Event Constants </caption>

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Constant</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Data Type</p></th>
</tr>


<tr>
<td  scope="row"><p>kMusicEventType_ExtendedNote</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedNoteOnEvent">ExtendedNoteOnEvent</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_ExtendedControl</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedControlEvent">ExtendedControlEvent</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_ExtendedTempo</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedTempoEvent">ExtendedTempoEvent</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_User</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MusicEventUserData">MusicEventUserData</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_Meta</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIMetaEvent">MIDIMetaEvent</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_MIDINoteMessage</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDINoteMessage">MIDINoteMessage</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_MIDIChannelMessage</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIChannelMessage">MIDIChannelMessage</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_MIDIRawData</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIRawData">MIDIRawData</a></code></p></td>
</tr>
<tr>
<td  scope="row"><p>kMusicEventType_Parameter</p></td>
<td ><p><code><a href="audio_toolbox.html#//apple_ref/c/tdef/ParameterEvent">ParameterEvent</a></code></p></td>
</tr>

</table></div>
<p>In addition to these types, two other values may be returned:</p>
<ul class="spaceabove"><li class="li"><p><code>kMusicEventType_NULL</code> -
Returned when a Music Track is empty.</p></li>
<li class="li"><p><code>kMusicEventType_Last</code> -
Returned when all of the events in a track have been iterated through.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-130848" title="Other Constants"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJHDIJ" title="Other Constants"></a><h5>Other Constants</h5>
<p>These additional constants have been provided as flags or
definitions of values for consistency.</p>
<ul class="spaceabove"><li class="li"><p><code>kMusicSequenceLoadSMF_ChannelsToTracks</code> -
Used by the <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMFWithFlags">MusicSequenceLoadSMFWithFlags</a></code> and <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMFDataWithFlags">MusicSequenceLoadSMFDataWithFlags</a></code> to
indicate that when a standard MIDI file is read in with this flag
assigned, the resulting sequence will have a track created for each
channel in the MIDI file, as well as another track for all of the
meta information.</p></li>
<li class="li"><p><code>kMusicTimeStamp_EndOfTrack</code> -
Used to provide an upper limit for the length of tracks; currently
set to 1,000,000,000.0 beats.</p></li></ul>
<a name="//apple_ref/doc/uid/TP30001108-CH205-124209" title="Music Track Properties"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFDGDH" title="Music Track Properties"></a><h4>Music Track Properties</h4>
<p>These properties are used by <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackSetProperty">MusicTrackSetProperty</a></code> and <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicTrackGetProperty">MusicTrackGetProperty</a></code> to
define the status and certain values unique to the track.</p>
<dl class="termdef">	<dt><code>kSequenceTrackProperty_LoopInfo
= 0</code></dt>
<dd><p>Uses a structure containing a <code>MusicTimeStamp</code> indicating
the length of the track and a <code>long</code> indicating
the number of times the track is to be looped. If the track is to
be loop infinitely, set this value equal to zero.</p></dd>
<dt><code>kSequenceTrackProperty_OffsetTime
= 1</code></dt>
<dd><p>Uses a <code>MusicTimeStamp</code> to
determine after how many beats into the sequence the track should
begin playing.</p></dd>
<dt><code>kSequenceTrackProperty_MuteStatus
= 2</code></dt>
<dd><p>Uses a <code>Boolean</code> to
mute the track.</p></dd>
<dt><code>kSequenceTrackProperty_SoloStatus
= 3</code></dt>
<dd><p>Uses a <code>Boolean</code> to
determine if the track is the only one to control an endpoint or
node.</p></dd>
<dt><code>kSequenceTrackProperty_AutomatedParameters
= 4</code></dt>
<dd><p>Uses a <code>UInt32</code> to
signify if the track modifys a node parameters.</p></dd>
<dt><code>kSequenceTrackProperty_TrackLength
= 5</code></dt>
<dd><p>Uses a <code>MusicTimeStamp</code> to
reflect the length of the track, in beats.</p></dd></dl>
<a name="//apple_ref/doc/uid/TP30001108-CH205-124359" title="Music Player, Music Sequence, and Music Track Functions"></a><h4>Music
Player, Music Sequence, and Music Track Functions</h4>
<p>These functions make up the functionality of the Music Player
API.</p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-124372" title="Music Player Functions"></a><h5>Music
Player Functions</h5>
<p>The functions work with a Music Player instances, which are
used to play back a Music Sequence instance. Each Music Player is
only allowed to be associated with one Music Sequence, and vice
versa.</p>
<a name="//apple_ref/c/func/NewMusicPlayer" title="NewMusicPlayer"></a><a name="//apple_ref/doc/c_ref/NewMusicPlayer" title="NewMusicPlayer"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGGHAB" title="NewMusicPlayer"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_169"></a><h3 class="tight">NewMusicPlayer</h3>
<p class="spaceabove">Creates a new Music Player instance.</p>
<p class="spaceabove"><pre>
extern OSStatus NewMusicPlayer(<!--a-->MusicPlayer<!--/a--> *outPlayer);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/DisposeMusicPlayer" title="DisposeMusicPlayer"></a><a name="//apple_ref/doc/c_ref/DisposeMusicPlayer" title="DisposeMusicPlayer"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICGAIB" title="DisposeMusicPlayer"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_170"></a><h3 class="tight">DisposeMusicPlayer</h3>
<p class="spaceabove">Disposes of a Music Player.</p>
<p class="spaceabove"><pre>
extern OSStatus DisposeMusicPlayer(<!--a-->MusicPlayer<!--/a--> inPlayer);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerSetSequence" title="MusicPlayerSetSequence"></a><a name="//apple_ref/doc/c_ref/MusicPlayerSetSequence" title="MusicPlayerSetSequence"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBBBHH" title="MusicPlayerSetSequence"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_171"></a><h3 class="tight">MusicPlayerSetSequence</h3>
<p class="spaceabove">Associates a Music Player with a Music Sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerSetSequence(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->MusicSequence<!--/a--> inSequence
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerSetTime" title="MusicPlayerSetTime"></a><a name="//apple_ref/doc/c_ref/MusicPlayerSetTime" title="MusicPlayerSetTime"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDEGJB" title="MusicPlayerSetTime"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_172"></a><h3 class="tight">MusicPlayerSetTime</h3>
<p class="spaceabove">Moves the Music Player&#8217;s playhead to the desired time,
in beats.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerSetTime(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->MusicTimeStamp<!--/a--> inTime
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>In addition to moving the playhead, <code><!--a-->MusicPlayerSetTime()<!--/a--></code> also
prerolls the track up to the playhead, setting Audio Unit parameters
and MIDI endpoints to where they should be at the playhead, based
on the sequence prior to the playhead.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerGetTime" title="MusicPlayerGetTime"></a><a name="//apple_ref/doc/c_ref/MusicPlayerGetTime" title="MusicPlayerGetTime"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBJEHG" title="MusicPlayerGetTime"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_173"></a><h3 class="tight">MusicPlayerGetTime</h3>
<p class="spaceabove">Returns the current placement of the playhead, in beats.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerGetTime(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->MusicTimeStamp<!--/a--> *outTime
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerGetHostTimeForBeats" title="MusicPlayerGetHostTimeForBeats"></a><a name="//apple_ref/doc/c_ref/MusicPlayerGetHostTimeForBeats" title="MusicPlayerGetHostTimeForBeats"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_36" title="MusicPlayerGetHostTimeForBeats"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_174"></a><h3 class="tight">MusicPlayerGetHostTimeForBeats</h3>
<p class="spaceabove">Returns the number of seconds equivalent to the number
beats provided.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerGetHostTimeForBeats(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->MusicTimeStamp<!--/a--> inBeats,
<!--a-->UInt64<!--/a-->* outHostTime
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function determines what value to return by analyzing
the tempo track in the sequence and determining the amount of time
has passed when <code>inBeats</code> number
of beats have occurred. Only valid when called while a Music Player
is playing.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerGetBeatsForHostTime" title="MusicPlayerGetBeatsForHostTime"></a><a name="//apple_ref/doc/c_ref/MusicPlayerGetBeatsForHostTime" title="MusicPlayerGetBeatsForHostTime"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICDGHH" title="MusicPlayerGetBeatsForHostTime"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_175"></a><h3 class="tight">MusicPlayerGetBeatsForHostTime</h3>
<p class="spaceabove">Returns the beat for a given time.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerGetBeatsForHostTime(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->UInt64<!--/a--> inHostTime,
<!--a-->MusicTimeStamp<!--/a--> *outBeats);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function determines what value to return by analyzing
the tempo track in the sequence and determining the number beats
that have passed at <code>inHostTime</code>.
Only valid when called while a Music Player is playing.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerPreroll" title="MusicPlayerPreroll"></a><a name="//apple_ref/doc/c_ref/MusicPlayerPreroll" title="MusicPlayerPreroll"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJGJBA" title="MusicPlayerPreroll"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_176"></a><h3 class="tight">MusicPlayerPreroll</h3>
<p class="spaceabove">Prepares a sequence to be played.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerPreroll(<!--a-->MusicPlayer<!--/a--> inPlayer);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Prerolling a player prepares the player&#8217;s sequence to be
played. Calling this function will synchronize all of the tracks
within the sequence, bringing MIDI endpoints to their correct state
with respect to the playhead, while adjusting Audio Unit parameters
as well. Adding an event prior to a playhead invalidates a preroll,
and so this function should only be called after all events have
been added, since this operation is rather costly.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerStart" title="MusicPlayerStart"></a><a name="//apple_ref/doc/c_ref/MusicPlayerStart" title="MusicPlayerStart"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICGCGB" title="MusicPlayerStart"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_177"></a><h3 class="tight">MusicPlayerStart</h3>
<p class="spaceabove">Begins playback of a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerStart(<!--a-->MusicPlayer<!--/a--> inPlayer);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerStop" title="MusicPlayerStop"></a><a name="//apple_ref/doc/c_ref/MusicPlayerStop" title="MusicPlayerStop"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFFCIF" title="MusicPlayerStop"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_178"></a><h3 class="tight">MusicPlayerStop</h3>
<p class="spaceabove">Halts the playback of a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerStop(<!--a-->MusicPlayer<!--/a--> inPlayer);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerIsPlaying" title="MusicPlayerIsPlaying"></a><a name="//apple_ref/doc/c_ref/MusicPlayerIsPlaying" title="MusicPlayerIsPlaying"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIDGBC" title="MusicPlayerIsPlaying"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_179"></a><h3 class="tight">MusicPlayerIsPlaying</h3>
<p class="spaceabove">Returns a <code>Boolean</code> reflecting
the current state of a player.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerIsPlaying(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->Boolean<!--/a-->* outIsPlaying
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerSetPlayRateScalar" title="MusicPlayerSetPlayRateScalar"></a><a name="//apple_ref/doc/c_ref/MusicPlayerSetPlayRateScalar" title="MusicPlayerSetPlayRateScalar"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_37" title="MusicPlayerSetPlayRateScalar"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_180"></a><h3 class="tight">MusicPlayerSetPlayRateScalar</h3>
<p class="spaceabove">Sets a tempo multiplier for a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerSetPlayRateScalar(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->Float64<!--/a--> inScaleRate
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The value of <code>inScaleRate</code> will
be applied to the tempo track of the sequence, adjusting the playback
tempo uniformly. For instance, if a tempo track is set up to be
entirely 60 bpm, and a value of two is set as the <code>inScaleRate</code>,
playback will occur at 120 bpm. The scale rate is not allowed to
be negative (reverse playback is not allowed), and must be greater
than zero (use <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerStop">MusicPlayerStop</a></code> to
stop playback instead).</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicPlayerGetPlayRateScalar" title="MusicPlayerGetPlayRateScalar"></a><a name="//apple_ref/doc/c_ref/MusicPlayerGetPlayRateScalar" title="MusicPlayerGetPlayRateScalar"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_38" title="MusicPlayerGetPlayRateScalar"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_181"></a><h3 class="tight">MusicPlayerGetPlayRateScalar</h3>
<p class="spaceabove">Returns the current tempo multiplier.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicPlayerGetPlayRateScalar(
<!--a-->MusicPlayer<!--/a--> inPlayer,
<!--a-->Float64<!--/a--> *outScaleRate
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The play rate scalar is a multiplier applied to every tempo
event in the tempo track of a sequence. At playback, every tempo
in the tempo track will multiplied by this value and the sequence
will them play at the resulting tempo.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-124810" title="Music Sequence Functions"></a><h5>Music
Sequence Functions</h5>
<p>The functions work with a Music Sequence instance, and are
used to create, modify, and dispose of sequences.</p>
<a name="//apple_ref/c/func/NewMusicSequence" title="NewMusicSequence"></a><a name="//apple_ref/doc/c_ref/NewMusicSequence" title="NewMusicSequence"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFBHJF" title="NewMusicSequence"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_182"></a><h3 class="tight">NewMusicSequence</h3>
<p class="spaceabove">Creates a new Music Sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus NewMusicSequence(<!--a-->MusicSequence<!--/a--> *outSequence);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>After creation, a Music Sequence contains one track: the Tempo
Track. This track determines the playback rate, in beats-per-minute
(bpm), determined by events placed along the track. Only events
of type <code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedTempoEvent">ExtendedTempoEvent</a></code> are
allowed in the tempo track. To get a pointer to the tempo track
(to add and remove tempo events), use <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceGetTempoTrack">MusicSequenceGetTempoTrack</a></code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/DisposeMusicSequence" title="DisposeMusicSequence"></a><a name="//apple_ref/doc/c_ref/DisposeMusicSequence" title="DisposeMusicSequence"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFJAFC" title="DisposeMusicSequence"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_183"></a><h3 class="tight">DisposeMusicSequence</h3>
<p class="spaceabove">Disposes of a Music Sequence.</p>
<p class="spaceabove"><pre>extern OSStatus DisposeMusicSequence(<!--a-->MusicSequence<!--/a-->
inSequence);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceNewTrack" title="MusicSequenceNewTrack"></a><a name="//apple_ref/doc/c_ref/MusicSequenceNewTrack" title="MusicSequenceNewTrack"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBFFHD" title="MusicSequenceNewTrack"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_184"></a><h3 class="tight">MusicSequenceNewTrack</h3>
<p class="spaceabove">Creates a new event track within a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceNewTrack(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->MusicTrack<!--/a--> *outTrack
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceDisposeTrack" title="MusicSequenceDisposeTrack"></a><a name="//apple_ref/doc/c_ref/MusicSequenceDisposeTrack" title="MusicSequenceDisposeTrack"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGCDBE" title="MusicSequenceDisposeTrack"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_185"></a><h3 class="tight">MusicSequenceDisposeTrack</h3>
<p class="spaceabove">Removes and disposes of a track from within a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceDisposeTrack(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->MusicTrack<!--/a--> inTrack
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceGetTrackCount" title="MusicSequenceGetTrackCount"></a><a name="//apple_ref/doc/c_ref/MusicSequenceGetTrackCount" title="MusicSequenceGetTrackCount"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIGCDJ" title="MusicSequenceGetTrackCount"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_186"></a><h3 class="tight">MusicSequenceGetTrackCount</h3>
<p class="spaceabove">Returns the number of tracks within a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceGetTrackCount(
<!--a-->MusicSequence<!--/a--> inSequence,
UInt32 *outNumberOfTracks
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceGetIndTrack" title="MusicSequenceGetIndTrack"></a><a name="//apple_ref/doc/c_ref/MusicSequenceGetIndTrack" title="MusicSequenceGetIndTrack"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDHDGA" title="MusicSequenceGetIndTrack"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_187"></a><h3 class="tight">MusicSequenceGetIndTrack</h3>
<p class="spaceabove">Returns a pointer to the track at an index.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceGetIndTrack(
<!--a-->MusicSequence<!--/a--> inSequence,
UInt32 inTrackIndex,
<!--a-->MusicTrack<!--/a--> *outTrack
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceGetTrackIndex" title="MusicSequenceGetTrackIndex"></a><a name="//apple_ref/doc/c_ref/MusicSequenceGetTrackIndex" title="MusicSequenceGetTrackIndex"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHDHAC" title="MusicSequenceGetTrackIndex"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_188"></a><h3 class="tight">MusicSequenceGetTrackIndex</h3>
<p class="spaceabove">Returns the index within the sequence for the given track.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceGetTrackIndex(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->MusicTrack<!--/a--> inTrack,
UInt32 *outTrackIndex
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceGetTempoTrack" title="MusicSequenceGetTempoTrack"></a><a name="//apple_ref/doc/c_ref/MusicSequenceGetTempoTrack" title="MusicSequenceGetTempoTrack"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIEAEFJ" title="MusicSequenceGetTempoTrack"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_189"></a><h3 class="tight">MusicSequenceGetTempoTrack</h3>
<p class="spaceabove">Returns a pointer to a sequence&#8217;s tempo track.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceGetTempoTrack(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->MusicTrack<!--/a--> *outTrack
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceSetAUGraph" title="MusicSequenceSetAUGraph"></a><a name="//apple_ref/doc/c_ref/MusicSequenceSetAUGraph" title="MusicSequenceSetAUGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIDFIE" title="MusicSequenceSetAUGraph"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_190"></a><h3 class="tight">MusicSequenceSetAUGraph</h3>
<p class="spaceabove">Sets the sequence to work with a particular AUGraph instance.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceSetAUGraph(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->AUGraph<!--/a--> inGraph
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceGetAUGraph" title="MusicSequenceGetAUGraph"></a><a name="//apple_ref/doc/c_ref/MusicSequenceGetAUGraph" title="MusicSequenceGetAUGraph"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDGHIH" title="MusicSequenceGetAUGraph"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_191"></a><h3 class="tight">MusicSequenceGetAUGraph</h3>
<p class="spaceabove">Returns a pointer to the AUGraph which is being used by
the given sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceGetAUGraph(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->AUGraph<!--/a--> *outGraph
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceSetMIDIEndpoint" title="MusicSequenceSetMIDIEndpoint"></a><a name="//apple_ref/doc/c_ref/MusicSequenceSetMIDIEndpoint" title="MusicSequenceSetMIDIEndpoint"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHDGDA" title="MusicSequenceSetMIDIEndpoint"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_192"></a><h3 class="tight">MusicSequenceSetMIDIEndpoint</h3>
<p class="spaceabove">Sets the MIDI device being used by the given sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceSetMIDIEndpoint(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->MIDIEndpointRef<!--/a--> inEndpoint
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceLoadSMF" title="MusicSequenceLoadSMF"></a><a name="//apple_ref/doc/c_ref/MusicSequenceLoadSMF" title="MusicSequenceLoadSMF"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHDADH" title="MusicSequenceLoadSMF"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_193"></a><h3 class="tight">MusicSequenceLoadSMF</h3>
<p class="spaceabove">Parses a standard MIDI file and places its contents into
a track within a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceLoadSMF(
<!--a-->MusicSequence<!--/a--> inSequence,
const <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *inFileSpec
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceLoadSMFData" title="MusicSequenceLoadSMFData"></a><a name="//apple_ref/doc/c_ref/MusicSequenceLoadSMFData" title="MusicSequenceLoadSMFData"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIEEABG" title="MusicSequenceLoadSMFData"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_194"></a><h3 class="tight">MusicSequenceLoadSMFData</h3>
<p class="spaceabove">Parses MIDI data out of memory and uses it to populate
a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceLoadSMFData(
<!--a-->MusicSequence<!--/a--> inSequence,
<a href="../../../../CoreFoundation/Reference/CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> inData
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceLoadSMFWithFlags" title="MusicSequenceLoadSMFWithFlags"></a><a name="//apple_ref/doc/c_ref/MusicSequenceLoadSMFWithFlags" title="MusicSequenceLoadSMFWithFlags"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIHBFB" title="MusicSequenceLoadSMFWithFlags"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_195"></a><h3 class="tight">MusicSequenceLoadSMFWithFlags</h3>
<p class="spaceabove">Parses a standard MIDI file and places its contents into
a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceLoadSMFWithFlags(
<!--a-->MusicSequence<!--/a--> inSequence,
<a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSRef" target="_top">FSRef</a> *inFileRef,
<!--a-->MusicSequenceLoadFlags<!--/a--> inFlags
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>Use <code>MusicSequenceLoadSMFWithFlags</code> to
load data from a standard MIDI file into a sequence. The use of
flags allows for the resulting data to be customized. Passing in
0 to <code>inFlags</code> makes this function
act like <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMF">MusicSequenceLoadSMF</a></code>.
The only other flag currently available for use is <code>kMusicSequenceLoadSMF_ChannelsToTracks</code>,
described in <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-130848">“Other Constants.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceLoadSMFDataWithFlags" title="MusicSequenceLoadSMFDataWithFlags"></a><a name="//apple_ref/doc/c_ref/MusicSequenceLoadSMFDataWithFlags" title="MusicSequenceLoadSMFDataWithFlags"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICAJJB" title="MusicSequenceLoadSMFDataWithFlags"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_196"></a><h3 class="tight">MusicSequenceLoadSMFDataWithFlags</h3>
<p class="spaceabove">Parses MIDI data out of memory and uses it to populate
a sequence.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceLoadSMFDataWithFlags(
<!--a-->MusicSequence<!--/a--> inSequence,
<a href="../../../../CoreFoundation/Reference/CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> inData,
<!--a-->MusicSequenceLoadFlags<!--/a--> inFlags
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>As with <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMFWithFlags">MusicSequenceLoadSMFWithFlags</a></code>,
passing a 0 to <code>inFlags</code> will
cause this function to behave like <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceLoadSMFData">MusicSequenceLoadSMFData</a></code>. Passing it <code>kMusicSequenceLoadSMF_ChannelsToTracks</code> will
cause the data to be formatted as described in <span class="content_text"><a href="audio_toolbox.html#//apple_ref/doc/uid/TP30001108-CH205-130848">“Other Constants.”</a></span></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceSaveSMF" title="MusicSequenceSaveSMF"></a><a name="//apple_ref/doc/c_ref/MusicSequenceSaveSMF" title="MusicSequenceSaveSMF"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGADGJ" title="MusicSequenceSaveSMF"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_197"></a><h3 class="tight">MusicSequenceSaveSMF</h3>
<p class="spaceabove">Saves the contents of a sequence to file, in standard
MIDI format.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceSaveSMF(
<!--a-->MusicSequence<!--/a--> inSequence,
const <a href="../../../../Carbon/Reference/File_Manager/Reference/reference.html#//apple_ref/doc/c_ref/FSSpec" target="_top">FSSpec</a> *inFileSpec,
UInt16 inResolution
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li><li class="availability">Deprecated in Mac OS X v10.4.</li><li class="availability">Not available to 64-bit applications.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceSaveSMFData" title="MusicSequenceSaveSMFData"></a><a name="//apple_ref/doc/c_ref/MusicSequenceSaveSMFData" title="MusicSequenceSaveSMFData"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHGHHA" title="MusicSequenceSaveSMFData"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_198"></a><h3 class="tight">MusicSequenceSaveSMFData</h3>
<p class="spaceabove">Saves the contents of a sequence to memory, in standard
MIDI format</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceSaveSMFData(
<!--a-->MusicSequence<!--/a--> inSequence,
<a href="../../../../CoreFoundation/Reference/CFDataRef/Reference/reference.html#//apple_ref/doc/c_ref/CFDataRef" target="_top">CFDataRef</a> *outData,
UInt16 inResolution
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li><li class="availability">Deprecated in Mac OS X v10.5.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceReverse" title="MusicSequenceReverse"></a><a name="//apple_ref/doc/c_ref/MusicSequenceReverse" title="MusicSequenceReverse"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHJIAH" title="MusicSequenceReverse"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_199"></a><h3 class="tight">MusicSequenceReverse</h3>
<p class="spaceabove">Revereses all of the events in a sequence.</p>
<p class="spaceabove"><pre>extern OSStatus MusicSequenceReverse(<!--a-->MusicSequence<!--/a-->
inSequence);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceGetSecondsForBeats" title="MusicSequenceGetSecondsForBeats"></a><a name="//apple_ref/doc/c_ref/MusicSequenceGetSecondsForBeats" title="MusicSequenceGetSecondsForBeats"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_39" title="MusicSequenceGetSecondsForBeats"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_200"></a><h3 class="tight">MusicSequenceGetSecondsForBeats</h3>
<p class="spaceabove">Returns the number of seconds elapsed for the given number
of beats in the sequence.</p>
<p class="spaceabove"><pre>extern OSStatus MusicSequenceGetSecondsForBeats(
<!--a-->MusicSequence<!--/a--> inSequence, 
<!--a-->MusicTimeStamp<!--/a--> inBeats, 
<!--a-->Float64<!--/a-->* outSeconds
); 
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function uses the tempo track of the sequence to determine
how much time passes until the provided number of beats has occurred.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceGetBeatsForSeconds" title="MusicSequenceGetBeatsForSeconds"></a><a name="//apple_ref/doc/c_ref/MusicSequenceGetBeatsForSeconds" title="MusicSequenceGetBeatsForSeconds"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_40" title="MusicSequenceGetBeatsForSeconds"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_201"></a><h3 class="tight">MusicSequenceGetBeatsForSeconds</h3>
<p class="spaceabove">Returns the number of beats that have elapsed after the
provided number of seconds.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceGetBeatsForSeconds(
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->Float64<!--/a--> inSeconds,
<!--a-->MusicTimeStamp<!--/a-->* outBeats
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This function uses the sequence&#8217;s tempo track to determine
the number of beats that occur after the provided number of seconds.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicSequenceSetUserCallback" title="MusicSequenceSetUserCallback"></a><a name="//apple_ref/doc/c_ref/MusicSequenceSetUserCallback" title="MusicSequenceSetUserCallback"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBFBGE" title="MusicSequenceSetUserCallback"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_202"></a><h3 class="tight">MusicSequenceSetUserCallback</h3>
<p class="spaceabove">Set the callback that is used whenever an event of type <code><a href="audio_toolbox.html#//apple_ref/c/tdef/MusicEventUserData">MusicEventUserData</a></code> occurs.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicSequenceSetUserCallback(
<!--a-->MusicSequence<!--/a--> inSequence,
<a href="audio_toolbox.html#//apple_ref/doc/c_ref/MusicSequenceUserCallback">MusicSequenceUserCallback</a> inCallback,
void* inClientData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>The callback registered suing this function is of type <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceUserCallback">MusicSequenceUserCallback</a></code>.
The pointer passed in via <code>inClientData</code> is
passed on to the callback when it is called. Passing <code>NULL</code> to <code>inCallback</code> removes
any callback previously registered. </p>
<p>Note that if <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicPlayerSetTime">MusicPlayerSetTime</a></code> is
called, this callback will be called for any events between the previous
playhead and the new playhead. See <code><a href="audio_toolbox.html#//apple_ref/c/func/MusicSequenceUserCallback">MusicSequenceUserCallback</a></code> for more information.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.3 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-125578" title="Music Track Setup Functions"></a><h5>Music
Track Setup Functions</h5>
<p>These functions are provided to create and set up a music
track.</p>
<a name="//apple_ref/c/func/MusicTrackGetSequence" title="MusicTrackGetSequence"></a><a name="//apple_ref/doc/c_ref/MusicTrackGetSequence" title="MusicTrackGetSequence"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFIJDD" title="MusicTrackGetSequence"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_203"></a><h3 class="tight">MusicTrackGetSequence</h3>
<p class="spaceabove">Returns the sequence to which the track belongs.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackGetSequence(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicSequence<!--/a--> *outSequence
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackSetDestNode" title="MusicTrackSetDestNode"></a><a name="//apple_ref/doc/c_ref/MusicTrackSetDestNode" title="MusicTrackSetDestNode"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGCBDB" title="MusicTrackSetDestNode"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_204"></a><h3 class="tight">MusicTrackSetDestNode</h3>
<p class="spaceabove">Sets the AUGraph node which the track controls.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackSetDestNode(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->AUNode<!--/a--> inNode
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackSetDestMIDIEndpoint" title="MusicTrackSetDestMIDIEndpoint"></a><a name="//apple_ref/doc/c_ref/MusicTrackSetDestMIDIEndpoint" title="MusicTrackSetDestMIDIEndpoint"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJAJDG" title="MusicTrackSetDestMIDIEndpoint"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_205"></a><h3 class="tight">MusicTrackSetDestMIDIEndpoint</h3>
<p class="spaceabove">Sets the track&#8217;s destination endpoint.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackSetDestMIDIEndpoint(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MIDIEndpointRef<!--/a--> inEndpoint
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackGetDestNode" title="MusicTrackGetDestNode"></a><a name="//apple_ref/doc/c_ref/MusicTrackGetDestNode" title="MusicTrackGetDestNode"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJHEHA" title="MusicTrackGetDestNode"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_206"></a><h3 class="tight">MusicTrackGetDestNode</h3>
<p class="spaceabove">Returns a pointer towards the node that the track points
to.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackGetDestNode(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->AUNode<!--/a--> *outNode
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackGetDestMIDIEndpoint" title="MusicTrackGetDestMIDIEndpoint"></a><a name="//apple_ref/doc/c_ref/MusicTrackGetDestMIDIEndpoint" title="MusicTrackGetDestMIDIEndpoint"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGDGBB" title="MusicTrackGetDestMIDIEndpoint"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_207"></a><h3 class="tight">MusicTrackGetDestMIDIEndpoint</h3>
<p class="spaceabove">Returns a pointer towards the endpoint that the track
points to.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackGetDestMIDIEndpoint(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MIDIEndpointRef<!--/a--> *outEndpoint
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.1 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-125782" title="Music Track Property Functions"></a><h5>Music
Track Property Functions</h5>
<p>The functions with a Music Track&#8217;s properties.</p>
<a name="//apple_ref/c/func/MusicTrackSetProperty" title="MusicTrackSetProperty"></a><a name="//apple_ref/doc/c_ref/MusicTrackSetProperty" title="MusicTrackSetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIEFHDI" title="MusicTrackSetProperty"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_208"></a><h3 class="tight">MusicTrackSetProperty</h3>
<p class="spaceabove">Sets the track&#8217;s value for the given property.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackSetProperty(
<!--a-->MusicTrack<!--/a--> inTrack,
UInt32 inPropertyID,
void *inData,
UInt32 inLength
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackGetProperty" title="MusicTrackGetProperty"></a><a name="//apple_ref/doc/c_ref/MusicTrackGetProperty" title="MusicTrackGetProperty"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFIHJJ" title="MusicTrackGetProperty"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_209"></a><h3 class="tight">MusicTrackGetProperty</h3>
<p class="spaceabove">Returns the track&#8217;s value for a given property.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackGetProperty(
<!--a-->MusicTrack<!--/a--> inTrack,
UInt32 inPropertyID,
void *outData,
UInt32 *ioLength
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-125892" title="Music Track Event Setup Functions"></a><h5>Music
Track Event Setup Functions</h5>
<p>These function place events on the various tracks within a
sequence.</p>
<a name="//apple_ref/c/func/MusicTrackNewMIDINoteEvent" title="MusicTrackNewMIDINoteEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewMIDINoteEvent" title="MusicTrackNewMIDINoteEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJGHGB" title="MusicTrackNewMIDINoteEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_210"></a><h3 class="tight">MusicTrackNewMIDINoteEvent</h3>
<p class="spaceabove">Creates a new MIDI note event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewMIDINoteEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/MIDINoteMessage">MIDINoteMessage</a> *inMessage
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDINoteMessage">MIDINoteMessage</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackNewMIDIChannelEvent" title="MusicTrackNewMIDIChannelEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewMIDIChannelEvent" title="MusicTrackNewMIDIChannelEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICHDAB" title="MusicTrackNewMIDIChannelEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_211"></a><h3 class="tight">MusicTrackNewMIDIChannelEvent</h3>
<p class="spaceabove">Creates a new MIDI channel event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewMIDIChannelEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/MIDIChannelMessage">MIDIChannelMessage</a> *inMessage
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIChannelMessage">MIDIChannelMessage</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackNewMIDIRawDataEvent" title="MusicTrackNewMIDIRawDataEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewMIDIRawDataEvent" title="MusicTrackNewMIDIRawDataEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJEEEG" title="MusicTrackNewMIDIRawDataEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_212"></a><h3 class="tight">MusicTrackNewMIDIRawDataEvent</h3>
<p class="spaceabove">Creates a new MIDI raw data event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewMIDIRawDataEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/MIDIRawData">MIDIRawData</a> *inRawData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIRawData">MIDIRawData</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackNewMetaEvent" title="MusicTrackNewMetaEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewMetaEvent" title="MusicTrackNewMetaEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHDJAG" title="MusicTrackNewMetaEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_213"></a><h3 class="tight">MusicTrackNewMetaEvent</h3>
<p class="spaceabove">Creates a new MIDI meta event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewMetaEvent(
<!--a-->MusicTrack<!--/a--> inTrack, M
<!--a-->usicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/MIDIMetaEvent">MIDIMetaEvent</a> *inMetaEvent
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/MIDIMetaEvent">MIDIMetaEvent</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackNewExtendedNoteEvent" title="MusicTrackNewExtendedNoteEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewExtendedNoteEvent" title="MusicTrackNewExtendedNoteEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDGJDI" title="MusicTrackNewExtendedNoteEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_214"></a><h3 class="tight">MusicTrackNewExtendedNoteEvent</h3>
<p class="spaceabove">Creates a new extended note event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewExtendedNoteEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/ExtendedNoteOnEvent">ExtendedNoteOnEvent</a> *inInfo);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedNoteOnEvent">ExtendedNoteOnEvent</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackNewExtendedControlEvent" title="MusicTrackNewExtendedControlEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewExtendedControlEvent" title="MusicTrackNewExtendedControlEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJEACI" title="MusicTrackNewExtendedControlEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_215"></a><h3 class="tight">MusicTrackNewExtendedControlEvent</h3>
<p class="spaceabove">Creates a new extended control event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewExtendedControlEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/ExtendedControlEvent">ExtendedControlEvent</a> *inInfo);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedControlEvent">ExtendedControlEvent</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackNewParameterEvent" title="MusicTrackNewParameterEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewParameterEvent" title="MusicTrackNewParameterEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBCDIC" title="MusicTrackNewParameterEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_216"></a><h3 class="tight">MusicTrackNewParameterEvent</h3>
<p class="spaceabove">Creates a new parameter event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewParameterEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/ParameterEvent">ParameterEvent</a> *inInfo
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/ParameterEvent">ParameterEvent</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackExtendedTempoEvent" title="MusicTrackExtendedTempoEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackExtendedTempoEvent" title="MusicTrackExtendedTempoEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBGCFG" title="MusicTrackExtendedTempoEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_217"></a><h3 class="tight">MusicTrackExtendedTempoEvent</h3>
<p class="spaceabove">Creates a new extended tempo event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewExtendedTempoEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
<!--a-->Float64<!--/a--> inBPM
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/ExtendedTempoEvent">ExtendedTempoEvent</a></code> instance
on <code>inTrack</code>, which is
to be played at <code>inTimeStamp</code>.</p>
<a name="//apple_ref/c/func/MusicTrackNewUserEvent" title="MusicTrackNewUserEvent"></a><a name="//apple_ref/doc/c_ref/MusicTrackNewUserEvent" title="MusicTrackNewUserEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIBBAC" title="MusicTrackNewUserEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_218"></a><h3 class="tight">MusicTrackNewUserEvent</h3>
<p class="spaceabove">Creates a new user event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackNewUserEvent(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp,
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/MusicEventUserData">MusicEventUserData</a>* inUserData
);
</pre></p>
<h5 class="tight">Discussion</h5>
<p>This places a <code><a href="audio_toolbox.html#//apple_ref/c/tdef/MusicEventUserData">MusicEventUserData</a></code> on <code>inTrack</code>,
which is to be played at <code>inTimeStamp</code>.</p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-126283" title="Music Track Event Editing"></a><h5>Music
Track Event Editing</h5>
<p>The functions allow you to arrange events within a track,
create new tracks from events, and edit groups of events.</p>
<a name="//apple_ref/c/func/MusicTrackMoveEvents" title="MusicTrackMoveEvents"></a><a name="//apple_ref/doc/c_ref/MusicTrackMoveEvents" title="MusicTrackMoveEvents"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJHJII" title="MusicTrackMoveEvents"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_219"></a><h3 class="tight">MusicTrackMoveEvents</h3>
<p class="spaceabove">Moves the events from the given range to a new place.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackMoveEvents(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inStartTime,
<!--a-->MusicTimeStamp<!--/a--> inEndTime,
<!--a-->MusicTimeStamp<!--/a--> inMoveTime
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/NewMusicTrackFrom" title="NewMusicTrackFrom"></a><a name="//apple_ref/doc/c_ref/NewMusicTrackFrom" title="NewMusicTrackFrom"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICBFJD" title="NewMusicTrackFrom"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_220"></a><h3 class="tight">NewMusicTrackFrom</h3>
<p class="spaceabove">Creates a new music track from the event in the given
range.</p>
<p class="spaceabove"><pre>
extern OSStatus NewMusicTrackFrom(
<!--a-->MusicTrack<!--/a--> inSourceTrack,
<!--a-->MusicTimeStamp<!--/a--> inSourceStartTime,
<!--a-->MusicTimeStamp<!--/a--> inSourceEndTime,
<!--a-->MusicTrack<!--/a--> *outNewTrack
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackClear" title="MusicTrackClear"></a><a name="//apple_ref/doc/c_ref/MusicTrackClear" title="MusicTrackClear"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICGDFE" title="MusicTrackClear"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_221"></a><h3 class="tight">MusicTrackClear</h3>
<p class="spaceabove">Removes the events in the given range.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackClear(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inStartTime,
<!--a-->MusicTimeStamp<!--/a--> inEndTime
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackCut" title="MusicTrackCut"></a><a name="//apple_ref/doc/c_ref/MusicTrackCut" title="MusicTrackCut"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIEHFB" title="MusicTrackCut"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_222"></a><h3 class="tight">MusicTrackCut</h3>
<p class="spaceabove">Removes the events in the given range, and moves those
behind the range up.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackCut(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicTimeStamp<!--/a--> inStartTime,
<!--a-->MusicTimeStamp<!--/a--> inEndTime
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackCopyInsert" title="MusicTrackCopyInsert"></a><a name="//apple_ref/doc/c_ref/MusicTrackCopyInsert" title="MusicTrackCopyInsert"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBGFDJ" title="MusicTrackCopyInsert"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_223"></a><h3 class="tight">MusicTrackCopyInsert</h3>
<p class="spaceabove">Inserts the selected range at the destination insertion
time, move all of events behind the insertion time back after the
range.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackCopyInsert(
<!--a-->MusicTrack<!--/a--> inSourceTrack,
<!--a-->MusicTimeStamp<!--/a--> inSourceStartTime,
<!--a-->MusicTimeStamp<!--/a--> inSourceEndTime,
<!--a-->MusicTrack<!--/a--> inDestTrack,
<!--a-->MusicTimeStamp<!--/a--> inDestInsertTime
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicTrackMerge" title="MusicTrackMerge"></a><a name="//apple_ref/doc/c_ref/MusicTrackMerge" title="MusicTrackMerge"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIEAIFF" title="MusicTrackMerge"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_224"></a><h3 class="tight">MusicTrackMerge</h3>
<p class="spaceabove">Merges the selected range of events with the existing
events in the track.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicTrackMerge(
<!--a-->MusicTrack<!--/a--> inSourceTrack,
<!--a-->MusicTimeStamp<!--/a--> inSourceStartTime,
<!--a-->MusicTimeStamp<!--/a--> inSourceEndTime,
<!--a-->MusicTrack<!--/a--> inDestTrack,
<!--a-->MusicTimeStamp<!--/a--> inDestInsertTime
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-126633" title="Music Track Event Iteration"></a><h5>Music
Track Event Iteration</h5>
<p>The functions work with a Music Track instances.</p>
<a name="//apple_ref/c/func/NewMusicEventIterator" title="NewMusicEventIterator"></a><a name="//apple_ref/doc/c_ref/NewMusicEventIterator" title="NewMusicEventIterator"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIHFECB" title="NewMusicEventIterator"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_225"></a><h3 class="tight">NewMusicEventIterator</h3>
<p class="spaceabove">Creates a new iterator for a track.</p>
<p class="spaceabove"><pre>
extern OSStatus NewMusicEventIterator(
<!--a-->MusicTrack<!--/a--> inTrack,
<!--a-->MusicEventIterator<!--/a--> *outIterator
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/DisposeMusicEventIterator" title="DisposeMusicEventIterator"></a><a name="//apple_ref/doc/c_ref/DisposeMusicEventIterator" title="DisposeMusicEventIterator"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIBHEC" title="DisposeMusicEventIterator"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_226"></a><h3 class="tight">DisposeMusicEventIterator</h3>
<p class="spaceabove">Destroys an iterator.</p>
<p class="spaceabove"><pre>
extern OSStatus DisposeMusicEventIterator(<!--a-->MusicEventIterator<!--/a--> inIterator);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorSeek" title="MusicEventIteratorSeek"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorSeek" title="MusicEventIteratorSeek"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_41" title="MusicEventIteratorSeek"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_227"></a><h3 class="tight">MusicEventIteratorSeek</h3>
<p class="spaceabove">Moves the iterator to the event closest to the supplied
time stamp.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorSeek(
<!--a-->MusicEventIterator<!--/a--> inIterator,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorNextEvent" title="MusicEventIteratorNextEvent"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorNextEvent" title="MusicEventIteratorNextEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDIIDG" title="MusicEventIteratorNextEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_228"></a><h3 class="tight">MusicEventIteratorNextEvent</h3>
<p class="spaceabove">Moves the iterator o the next event in the track.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorNextEvent(
<!--a-->MusicEventIterator<!--/a--> inIterator
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorPreviousEvent" title="MusicEventIteratorPreviousEvent"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorPreviousEvent" title="MusicEventIteratorPreviousEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJHFCG" title="MusicEventIteratorPreviousEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_229"></a><h3 class="tight">MusicEventIteratorPreviousEvent</h3>
<p class="spaceabove">Move the iterator to the previous event in the track.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorPreviousEvent(
<!--a-->MusicEventIterator<!--/a--> inIterator
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorGetEventInfo" title="MusicEventIteratorGetEventInfo"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorGetEventInfo" title="MusicEventIteratorGetEventInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIGIDDJ" title="MusicEventIteratorGetEventInfo"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_230"></a><h3 class="tight">MusicEventIteratorGetEventInfo</h3>
<p class="spaceabove">Returns information about the event currently iterated
upon.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorGetEventInfo(
<!--a-->MusicEventIterator<!--/a--> inIterator,
<!--a-->MusicTimeStamp<!--/a--> *outTimeStamp,
<!--a-->MusicEventType<!--/a--> *outEventType,
const void* *outEventData,
UInt32 *outEventDataSize
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorSetEventInfo" title="MusicEventIteratorSetEventInfo"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorSetEventInfo" title="MusicEventIteratorSetEventInfo"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIEEHDB" title="MusicEventIteratorSetEventInfo"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_231"></a><h3 class="tight">MusicEventIteratorSetEventInfo</h3>
<p class="spaceabove">Sets the type and data for an event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorSetEventInfo(
<!--a-->MusicEventIterator<!--/a--> inIterator,
<!--a-->MusicEventType<!--/a--> inEventType,
const void *inEventData
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorDeleteEvent" title="MusicEventIteratorDeleteEvent"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorDeleteEvent" title="MusicEventIteratorDeleteEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCICGCGG" title="MusicEventIteratorDeleteEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_232"></a><h3 class="tight">MusicEventIteratorDeleteEvent</h3>
<p class="spaceabove">Removes the event from the track.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorDeleteEvent(
<!--a-->MusicEventIterator<!--/a--> inIterator
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorSetEventTime" title="MusicEventIteratorSetEventTime"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorSetEventTime" title="MusicEventIteratorSetEventTime"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIDAHHE" title="MusicEventIteratorSetEventTime"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_233"></a><h3 class="tight">MusicEventIteratorSetEventTime</h3>
<p class="spaceabove">Sets the time that an event should occur at.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorSetEventTime(
<!--a-->MusicEventIterator<!--/a--> inIterator,
<!--a-->MusicTimeStamp<!--/a--> inTimeStamp
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorHasPreviousEvent" title="MusicEventIteratorHasPreviousEvent"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorHasPreviousEvent" title="MusicEventIteratorHasPreviousEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIIBCGD" title="MusicEventIteratorHasPreviousEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_234"></a><h3 class="tight">MusicEventIteratorHasPreviousEvent</h3>
<p class="spaceabove">Returns a boolean signifying if there is an event before
the currently iterated event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorHasPreviousEvent(
<!--a-->MusicEventIterator<!--/a--> inIterator,
<!--a-->Boolean<!--/a--> *outHasPreviousEvent
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorHasNextEvent" title="MusicEventIteratorHasNextEvent"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorHasNextEvent" title="MusicEventIteratorHasNextEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIFEABF" title="MusicEventIteratorHasNextEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_235"></a><h3 class="tight">MusicEventIteratorHasNextEvent</h3>
<p class="spaceabove">Returns a boolean signifying if there is an event after
the currently iterated event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorHasNextEvent(
<!--a-->MusicEventIterator<!--/a--> inIterator,
<!--a-->Boolean<!--/a--> *outHasNextEvent
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.0 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/c/func/MusicEventIteratorHasCurrentEvent" title="MusicEventIteratorHasCurrentEvent"></a><a name="//apple_ref/doc/c_ref/MusicEventIteratorHasCurrentEvent" title="MusicEventIteratorHasCurrentEvent"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIBADHF" title="MusicEventIteratorHasCurrentEvent"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_236"></a><h3 class="tight">MusicEventIteratorHasCurrentEvent</h3>
<p class="spaceabove">Returns a boolean which tells if the iterator points towards
an event.</p>
<p class="spaceabove"><pre>
extern OSStatus MusicEventIteratorHasCurrentEvent(
<!--a-->MusicEventIterator<!--/a--> inIterator,
<!--a-->Boolean<!--/a--> *outHasCurrentEvent
);
</pre></p><h5 class="tight">Availability</h5><ul class="availability"><li class="availability">Available in Mac OS X v10.2 and later.</li></ul><h5 class="tight">Declared In</h5><code>MusicPlayer.h</code>
<a name="//apple_ref/doc/uid/TP30001108-CH205-131905" title="Music Sequence Callbacks"></a><h4>Music
Sequence Callbacks</h4>
<a name="//apple_ref/c/func/MusicSequenceUserCallback" title="MusicSequenceUserCallback"></a><a name="//apple_ref/doc/c_ref/MusicSequenceUserCallback" title="MusicSequenceUserCallback"></a><a name="//apple_ref/doc/uid/TP30001108-CH205-BCIJJCCG" title="MusicSequenceUserCallback"></a>
<a name="//apple_ref/doc/uid/TP30001108-CH205-DontLinkElementID_237"></a><h3 class="tight">MusicSequenceUserCallback</h3>
<p class="spaceabove">The callback used whenever a user event occurs in an event
track.</p>
<p class="spaceabove"><pre>typedef CALLBACK_API_C(void,MusicSequenceUserCallback)(
void *inClientData,
<!--a-->MusicSequence<!--/a--> inSequence,
<!--a-->MusicTrack<!--/a--> inTrack, 
<!--a-->MusicTimeStamp<!--/a--> inEventTime, 
const <a href="audio_toolbox.html#//apple_ref/doc/c_ref/MusicEventUserData">MusicEventUserData</a> *inEventData, 
<!--a-->MusicTimeStamp<!--/a--> inStartSliceBeat, 
<!--a-->MusicTimeStamp<!--/a--> inEndSliceBeat
);
</pre></p>
<a name="//apple_ref/doc/uid/TP30001108-CH205-127094" title="Music Player and Music Sequence Result Codes"></a><h4>Music
Player and Music Sequence Result Codes</h4>
<p>These values are returned when errors occur.</p>
<div class="codesample"><table><tr><td scope="row"><pre>kAudioToolboxErr_TrackIndexError = -10859<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioToolboxErr_TrackNotFound = -10858<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioToolboxErr_EndOfTrack = -10857<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioToolboxErr_StartOfTrack = -10856<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioToolboxErr_IllegalTrackDestination = -10855<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioToolboxErr_NoSequence = -10854<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioToolboxErr_InvalidEventType = -10853<span></span></pre></td></tr><tr><td scope="row"><pre>kAudioToolboxErr_InvalidPlayerState = -10852<span></span></pre></td></tr></table></div>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../audiocodec/audiocodec.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../audio_units/audio_units.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2008 Apple Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2008-10-15<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/MusicAudio/Reference/CoreAudio/audio_toolbox/audio_toolbox.html%3Fid%3DTP30001108-1.1&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/MusicAudio/Reference/CoreAudio/audio_toolbox/audio_toolbox.html%3Fid%3DTP30001108-1.1&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/MusicAudio/Reference/CoreAudio/audio_toolbox/audio_toolbox.html%3Fid%3DTP30001108-1.1&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>