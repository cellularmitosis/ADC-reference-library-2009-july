<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>DragWindow(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING245></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-244.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-246.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-188.html"><B>Chapter 4 - Window Manager</B></A> / <A HREF="Toolbox-213.html"><B>Window Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-221.html"><B>Window Manager Routines</B></A> / <A HREF="Toolbox-244.html"><B>Moving Windows</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING245-0></A>
<H3><A NAME=MARKER-9-433></A>DragWindow</H3>
 <A NAME=MARKER-11-434></A><A NAME=MARKER-2-435></A>When the user drags a window by its title bar, use the <CODE>DragWindow</CODE> procedure to move the window on the screen.<P>
<PRE>
PROCEDURE DragWindow (theWindow: WindowPtr; 
                        startPt: Point; boundsRect: Rect);
</PRE>
<DL>
<DT>theWindow
<DD> A pointer to the window record of the window to be dragged. 
<DT>startPt
<DD> The location, in global coordinates, of the cursor at the time the user pressed the mouse button. Your application retrieves this point from the <CODE>where</CODE> field of the event record.
<DT><CODE>boundsRect</CODE>
<DD> A rectangle, in global coordinates, that limits the region to which a window can be dragged. If the mouse button is released when the <BR>cursor is outside the limits of <CODE>boundsRect</CODE>, <CODE>DragWindow</CODE> returns without moving the window (or, if it was inactive, without making <BR>it the active window).
<DT>
<DD> Because the user cannot ordinarily move the cursor off the desktop, <BR>you can safely set <CODE>boundsRect</CODE> to the largest available rectangle (the bounding box of the desktop region pointed to by the global variable <CODE>GrayRgn</CODE>) when you're using <CODE>DragWindow</CODE> to track mouse movements. Don't set the bounding rectangle to the size of the immediate screen (<CODE>screenBits.bounds</CODE>), because the user wouldn't be able to move <BR>the window to a different screen on a system equipped with <BR>multiple monitors.
</DL>
<A NAME=HEADING245-7></A>
<H5>DESCRIPTION</H5>
 The <CODE>DragWindow</CODE> procedure moves a dotted outline of the specified window around the screen, following the movement of the cursor until the user releases the mouse button. When the button is released, <CODE>DragWindow</CODE> calls <CODE>MoveWindow</CODE> to move the window to its new location. If the specified window isn't the active window (and the Command key wasn't down when the mouse button was pressed), <CODE>DragWindow</CODE> makes it the active window by setting the <CODE>front</CODE> parameter to <CODE>TRUE</CODE> when calling <CODE>MoveWindow</CODE>. If the Command key was down when the mouse button was pressed, <CODE>DragWindow</CODE> moves the window without making it active.<P>
<A NAME=HEADING245-9></A>
<H5>SEE ALSO</H5>
 The <CODE>DragWindow</CODE> procedure calls both <CODE>MoveWindow</CODE> and <CODE>DragGrayRgn</CODE>, which are described in this section.<P>
 See <A HREF=Toolbox-207.html#MARKER-9-200>Listing 4-9</A> on <A HREF=Toolbox-207.html#MARKER-9-200>page 4-44</A> for an example that calls <CODE>DragWindow</CODE> when the user presses the mouse button while the cursor is in the drag region.<A NAME=MARKER-2-437></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-244.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-246.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
