<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Window Resource(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING293></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-292.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-294.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-188.html"><B>Chapter 4 - Window Manager</B></A> / <A HREF="Toolbox-213.html"><B>Window Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-292.html"><B>Resources</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING293-0></A>
<H3><A NAME=MARKER-9-629></A>The Window Resource</H3>
 <A NAME=MARKER-16-630></A><A NAME=MARKER-2-631></A>You <A NAME=MARKER-2-476></A>typically <A NAME=MARKER-9-477></A>define a <A NAME=MARKER-2-615></A>window resource for each type of window that your application creates. <A HREF=#MARKER-9-635>Figure 4-24</A> illustrates a compiled <CODE>'WIND'</CODE> resource.<P>
<B>Figure 4-24  <A NAME=MARKER-9-635></A>Structure of a compiled window (<CODE>'WIND'</CODE>) resource</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/WM-L-19.jpg"><P>
 A compiled version of a window resource contains the vollowing elements:<P>
<UL>
<LI>The upper-left and lower-right corners, in global coordinates, of a rectangle <BR>that defines the initial size and placement of the window's content region. <BR>Your application can change this rectangle before displaying the window, <BR>either programmatically or through an optional positioning code described <BR>later in this section.
<LI>The window's definition ID, which incorporates both the resource ID of the window definition function that will handle the window and an optional<DFN> variation code</DFN>. Together, the window definition function resource ID and the variation code define a window type. Place the resource ID of the window definition function in the upper <BR>12 bits of the definition ID. Window definition functions with IDs 0 through 127 are reserved for use by Apple Computer, Inc. Place the optional variation code in the lower 4 bits of the definition ID.<A NAME=MARKER-9-481></A><P>
If you're using one of the standard window types (described in <A HREF=Toolbox-191.html#MARKER-9-26>"Types of Windows"</A> beginning on <A HREF=Toolbox-191.html#MARKER-9-26>page 4-8</A>), the definition ID is one of the window-type constants:<P>
</UL>
<PRE>
   CONST
   documentProc      = 0;  {movable, sizable window, }
                           { no zoom box}
   dBoxProc          = 1;  {alert box or modal dialog box}
   plainDBox         = 2;  {plain box}
   altDBoxProc       = 3;  {plain box with shadow}
   noGrowDocProc     = 4;  {movable window, no size box or }
                           { zoom box}
   movableDBoxProc   = 5;  {movable modal dialog box}
   zoomDocProc       = 8;  {standard document window}
   zoomNoGrow        = 12; {zoomable, nonresizable window}
   rDocProc          = 16; {rounded-corner window}
</PRE>
You can also add a zoom box to a movable modal dialog box by specifying the sum <BR>of  two constants: <CODE>movableDBoxProc + zoomDocProc</CODE>, but a zoom box is not recommended on any dialog box.<P>
You can control the angle of curvature on a rounded-corner window (window type <CODE>rDocProc</CODE>) by adding one of these integers:
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Window definition ID<TH>Diameters of curvature<TR>
<TD>rDocProc<TD>16, 16<TR>
<TD>rDocProc + 2<TD>4, 4<TR>
<TD>rDocProc + 4<TD>6, 6<TR>
<TD>rDocProc + 6<TD>10, 10</TABLE>
<P>
<UL>
<LI>A specification that determines whether the window is visible or invisible. This characteristic controls only whether the Window Manager displays the window, not necessarily whether the window can be seen on the screen. (A visible window entirely covered by other windows, for example, is "visible" even though the user cannot see it.) You typically create a new window in an invisible state, build the content area of the window, and then display the completed window.
<LI>A specification that determines whether or not the window has a close box. The Window Manager draws the close box when it draws the window frame. The window type specified in the second field determines whether a window can support a close box; this field determines whether the close box is present.
<LI>A reference constant, which your application can use for whatever data it needs to store. When it builds a new window record, the Window Manager stores, in the <CODE>refCon</CODE> field, whatever value you specify in the fifth element of the window resource. You can also put a placeholder here and then set the <CODE>refCon</CODE> field yourself with the <CODE>SetWRefCon</CODE> procedure.
<LI>A string that specifies the window title. The first byte of the string specifies the length of the string (that is, the number of characters in the title plus 1 byte for the length), <BR>in bytes.
<LI>An optional positioning specification that overrides the window position established by the rectangle in the first field. The positioning value can be one of the integers defined by the constants listed here. In these constant names, the terms have the following meanings:<CODE>
<TABLE BORDER="0" CELLPADDING=3><TD>center <TD>Centered both horizontally and vertically, relative either to a screen or to another window (if a window to be centered relative to another window is wider than the window that preceded it, it is pinned to the left edge; a narrower window <BR>is centered)<TR>
<TD>stagger<TD>Located 10 pixels to the right and 10 pixels below the upper-left corner of the last window (in the case of staggering relative to a screen, the first window is placed just below <BR>the menu bar at the left edge of the screen, and subsequent windows are placed on that screen relative to the <BR>first window) <TR>
<TD>alert <CODE>position</CODE><TD>Centered horizontally and placed in the "alert position" vertically, that is, with about one-fifth of the window or <BR>screen above the new window and the rest below<TR>
<TD><CODE>parent</CODE> <CODE>window</CODE><TD>The window in which the user was last working</TABLE>
</CODE><P>
The seventh element of the resource can contain one of the values specified by <BR>these constants:<P>
</UL>
<PRE>
   CONST noAutoCenter            = 0x0000;{use initial }
                                          { location}
         centerMainScreen        = 0x280A;{center on main }
                                          { screen}
         alertPositionMainScreen = 0x300A;{place in alert }
                                          { position on main }
                                          { screen}
         staggerMainScreen       = 0x380A;{stagger on main }
                                          { screen} 
         centerParentWindow      = 0xA80A;{center on parent }
                                          { window}

         alertPositionParentWindow  = 0xB00A;{place in alert }
                                             { position on }
                                             { parent window}
         staggerParentWindow        = 0xB80A;{stagger relative }
                                             { to parent window}
         centerParentWindowScreen   = 0x680A;{center on parent }
                                             { window screen}
         alertPositionParentWindowScreen
                                    = 0x700A;{place in alert }
                                             { position on }
                                             { parent window }
                                             { screen}
         staggerParentWindowScreen  = 0x780A;{stagger on parent }
                                             { window screen}
</PRE>
The positioning constants are convenient when the user is creating new documents or when you are handling your own dialog boxes and alert boxes. When you are creating a new window to display a previously saved document, however, you should display the new window in the same rectangle as the previous window (that is, the window the document occupied when it was last saved). For more information, see <A HREF=Toolbox-203.html#MARKER-9-156>"Positioning a Document Window on the Desktop" beginning on page 4-30</A>.<P>
 Use the <CODE>GetNewCWindow</CODE> or <CODE>GetNewWindow</CODE> function to read a <CODE>'WIND'</CODE> resource. Both functions create a new window record and fill it in according to the values<A NAME=MARKER-2-637></A> specified in a<A NAME=MARKER-2-638></A> <CODE>'WIND'</CODE> <A NAME=MARKER-2-639></A>resource.<A NAME=MARKER-16-604></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-292.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-294.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
