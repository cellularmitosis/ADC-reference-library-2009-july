<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Preference Panes: Anatomy of a Preference Pane Bundle</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Anatomy of a Preference Pane Bundle"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/20000705" title="Anatomy of a Preference Pane Bundle"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../../Cocoa/index.html#//apple_ref/doc/uid/TP30000440-TP30000416" target="_top">Cocoa</a> &gt; <a href="../../../../Cocoa/UserExperience-date.html#//apple_ref/doc/uid/TP30000440-TP30000416-TP30000465" target="_top">User Experience</a> &gt; <a href="../index.html" target="_top">Preference Panes</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="Running.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/Conflicts.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>
        
        
        <a name="//apple_ref/doc/uid/20000705-CJBCABAB" title="Anatomy of a Preference Pane Bundle"></a><hr /><H1>Anatomy of a Preference Pane Bundle</H1>

<p>A preference pane plug-in is packaged on disk as a bundle with the <code>.prefPane</code> extension. Like all bundle packages, a preference pane consists of an executable (in the Mac OS X native Mach-O format), an information property list (<code>Info.plist</code>), and localizable and global (nonlocalized) resources.</p>
<p>The structure of a sample preference pane bundle is shown in <span class="content_text"><a href="Anatomy.html#//apple_ref/doc/uid/20000705-102107">Figure 1</a></span>.</p>
<br/><div><a name="//apple_ref/doc/uid/20000705-102107" title="Figure 1Contents of a preference pane bundle"></a><a name="//apple_ref/doc/uid/20000705-CJBGIIAI" title="Figure 1Contents of a preference pane bundle"></a><p><strong>Figure 1&nbsp;&nbsp;</strong>Contents of a preference pane bundle</p>
<img src = "Art/bundle.gif" alt = "Contents of a preference pane bundle" width="175" height="216"></div><br/>
<p>When created within Project Builder, the basic structure and the files are created for you. <span class="content_text"><a href="../Tasks/Creation.html#//apple_ref/doc/uid/20000709-BABFCABJ">“Creating a Preference Pane Bundle”</a></span> describes the steps required to produce a working preference pane bundle. The following sections describe the individual elements of the bundle.</p>

<!-- This template is being used for both PDF and HTML. -->

    
    <!-- TopicBook.pm uses this template for its miniTOCs, but needs a different title. -->
    <h4>Contents:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Anatomy.html#//apple_ref/doc/uid/20000705-96935">Information Property Lists</a>
				
			<br/>
			
        
			
			
				<a href="Anatomy.html#//apple_ref/doc/uid/20000705-97002">Localizable Resources</a>
				
			<br/>
			
        
			
			
				<a href="Anatomy.html#//apple_ref/doc/uid/20000705-97036">Global Resources</a>
				
			<br/>
			
        
			
			
				<a href="Anatomy.html#//apple_ref/doc/uid/20000705-CJBIHAEA">Where Preference Panes Live</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/20000705-96935" title="Information Property Lists"></a><h2>Information Property Lists</h2>
<p>Every bundle contains a dictionary, the <code>Info.plist</code> file, that defines certain properties of the bundle, such as the names of important resources. Preference pane bundles should provide values for the following keys in the information property list:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Key</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code><!--a  -->CFBundleIdentifier<!--/a--></code>	</p></td>
<td ><p>The unique identifier string for the bundle. Every bundle should have a unique <code><!--a  -->CFBundleIdentifier<!--/a--></code> prefixed by the reverse domain name of the organization. For example, “<code>com.apple.preference.sound</code>”.</p></td>
</tr>
<tr>
<td  scope="row"><p><code><!--a  -->NSMainNibFile<!--/a--></code></p></td>
<td ><p>The name of the main nib file. If this key is omitted, the default preference pane implementation assumes a value of “Main”. The value must not include the <code>.nib</code> extension. For example, “<code>SoundPref</code>”.</p></td>
</tr>
<tr>
<td  scope="row"><p><code><!--a  -->NSPrefPaneIconFile<!--/a--></code></p></td>
<td ><p>The name of an image file resource used in the Show All view and favorites area of the System Preferences application to represent the preference pane. The icon should be 32 x 32 pixels in size. If this key is omitted, System Preferences looks for the <code><!--a  -->CFBundleIconFile<!--/a--></code> key. The value must include the extension. For example, “<code>Sound.tiff</code>”.</p></td>
</tr>
<tr>
<td  scope="row"><p><code><!--a  -->NSPrefPaneIconLabel<!--/a--></code>	</p></td>
<td ><p>The name of the preference pane displayed by System Preferences beneath the pane’s icon and in the Pane menu. You can include a newline character in the string (“<code>\n</code>”) to split a long name between two lines. If this key is omitted, System Preferences looks for the <code><!--a  -->CFBundleName<!--/a--></code> key. <code><!--a  -->NSPrefPaneIconLabel<!--/a--></code> should be localized via the <code>InfoPlist.strings</code> file. For example, “<code>Sound</code>” and “<code>Sonido</code>”.</p></td>
</tr>
<tr>
<td  scope="row"><p><code><!--a  -->NSPrincipalClass<!--/a--></code>	</p></td>
<td ><p>The name of the main controller class of the preference pane. This class must be defined in the Mach-O binary of the bundle and it must be a subclass of NSPreferencePane. To avoid symbol name collisions, the name of the class must be prefixed by a specially munged version of the bundle identifier (see <span class="content_text"><a href="../Tasks/Conflicts.html#//apple_ref/doc/uid/20000706-BAJIAGFD">“Preventing Name Conflicts”</a></span> for details). For example, “<code>ComApplePreferenceSoundPref</code>”.</p></td>
</tr>

</table></div>
<a name="//apple_ref/doc/uid/20000705-97002" title="Localizable Resources"></a><h2>Localizable Resources</h2>
<p>A bundle’s resources can be localized to different languages and regions. Generally, these are resources that present text to the user, such as menu names and labels in windows. The resource files are stored in separate subdirectories in the <code>Contents/Resources</code> directory of the bundle. The directories are named after the language, such as <code>English.lproj</code> or <code>Spanish.lproj</code>. When your preference pane accesses a localized resource, such as a nib file containing a window, the operating system selects the version according to the user’s language preferences.</p>
<p>The simplest way for a preference pane to define its user interface is through a main nib file. This nib file should be a localized resource. The name of the main nib file can be anything, but it must match the value of the <code><!--a  -->NSMainNibFile<!--/a--></code> key in the bundle’s property list.</p>
<p>Like application bundles, preference pane bundles should include a localized <code>InfoPlist.strings</code> resource. This file contains individual strings the user sees, but cannot be stored within the nib file. This file should contain an entry for the <code><!--a  -->NSPrefPaneIconLabel<!--/a--></code> property whose value is the localized display name of the preference pane.</p>
<a name="//apple_ref/doc/uid/20000705-97036" title="Global Resources"></a><h2>Global Resources</h2>
<p>Not all resources need to be localized. Images without textual content can be used for all languages. These global resources are stored in the <code>Contents/Resources</code> directory.</p>
<p>The preference pane icon file (usually an <code>.icns</code> or <code>.tiff</code> file) is the 32 x 32 pixel icon used in the System Preferences application to represent the preference pane in the Show All view and the favorites area. The name of the preference pane icon file is specified by the <code><!--a  -->NSPrefPaneIconFile<!--/a--></code> key in the bundle’s property list. Typically, this is a global (nonlocalized) resource. However, if the icon contains locale-specific information (such as text), it can be made localized.</p>
<a name="//apple_ref/doc/uid/20000705-97070" title="Where Preference Panes Live"></a><a name="//apple_ref/doc/uid/20000705-CJBIHAEA" title="Where Preference Panes Live"></a><h2>Where Preference Panes Live</h2>
<p>Preference pane bundles for System Preferences live in the <code>PreferencePanes</code> family of library directories. This family of directories consists of these directories:</p><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5">

<tr>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Directory</p></th>
<th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Description</p></th>
</tr>


<tr>
<td  scope="row"><p><code>/System/Library/PreferencePanes</code></p></td>
<td ><p>Mac OS X built-in preference panes</p></td>
</tr>
<tr>
<td  scope="row"><p><code>/Network/Library/PreferencePanes </code></p></td>
<td ><p>Third-party preference panes available to all users on the network</p></td>
</tr>
<tr>
<td  scope="row"><p><code>/Library/PreferencePanes</code></p></td>
<td ><p>Third-party preference panes available to all users on the computer</p></td>
</tr>
<tr>
<td  scope="row"><p></p><p><code>~/Library/PreferencePanes</code></p></td>
<td ><p>Third-party preference panes available only to the current user</p></td>
</tr>

</table></div>
<p>System Preferences searches these directories in the reverse order that they are listed here. If multiple preference panes are found with identical bundle identifiers (<code><!--a  -->CFBundleIdentifier<!--/a--></code> key value), only the first preference pane found is displayed.</p>
<p>When creating a custom preference application or if you use preference panes to implement the Preferences menu item of the target application, store the preference pane bundles inside the application’s bundle in the <code>Resources</code> directory. If the preference pane needs to be shared by a suite of applications, store the preference pane bundles in a subdirectory in <code>/Library/Application Support</code>.</p>

        <br/><br/> 

        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="Running.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Tasks/Conflicts.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2003, 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-10-03<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/UserExperience/Conceptual/PreferencePanes/Concepts/Anatomy.html%3Fid%3D10000110i-3.2&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/UserExperience/Conceptual/PreferencePanes/Concepts/Anatomy.html%3Fid%3D10000110i-3.2&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/UserExperience/Conceptual/PreferencePanes/Concepts/Anatomy.html%3Fid%3D10000110i-3.2&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>
