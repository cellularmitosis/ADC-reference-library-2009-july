<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Initialization Sequence(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING523></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-522.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-524.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-514.html"><B>Appendix A - Built-in Script Support</B></A> / <A HREF="Text-521.html"><B>WorldScript I</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING523-0></A>
<H2><A NAME=MARKER-9-114></A>Initialization Sequence</H2>
 <A NAME=MARKER-9-10></A>The startup code for enabling all available 1-byte complex script systems and script utility routines is in WorldScript I. WorldScript I is located in the Extensions folder; its file type is <CODE>'scri'</CODE> and its creator is <CODE>'univ'</CODE>.<P>
 At startup, WorldScript I does the following:<P>
<OL>
<LI>It checks for a valid machine configuration. WorldScript I works on Macintosh Plus models and later; it requires Script Manager version 2.0 or later and system software version 7.1 or later.
<LI>WorldScript I<DFN> gets the number of valid 1-byte script bundles in the System file. A valid script bundle consists of a set of international resources (<CODE>'itlb' </CODE></DFN>and <CODE>'itl5'</CODE> required, <CODE>'itl0'<DFN>,</DFN></CODE> <CODE>'itl1'<DFN>,</DFN></CODE> <CODE>'itl2'<DFN>,</DFN></CODE> and <CODE>'itl4'</CODE> o<DFN>ptional) and at least one font in the script system's ID range.</DFN> The <A NAME=MARKER-21-11></A><CODE>smsfSingByte<DFN> bit in the international bundle ('itlb') resource must also be set to indicate that the script is 1-byte.</DFN></CODE><P>
If no 1-byte script bundles are present, WorldScript I does not load any of its script utilities or QuickDraw patches. It exits without signaling an error.
<LI>If one or more valid script bundles are present, WorldScript I does the following for each script:<P>
<OL>
<LI>It checks for enough memory to load the script.
<LI>It checks the <A NAME=MARKER-2-117></A><CODE>smsfUnivExt</CODE> bit in the script's international bundle resource. If the flag is set, the script system is a universal script system, and WorldScript I proceeds. If the flag is clear, WorldScript I goes on to the next script.
<LI>It creates a script record and initializes the record with the script's values.
<LI>If this is the first universal 1-byte script allocated, WorldScript I loads its script utilities and QuickDraw patches into the system heap.
<LI>WorldScript I allocates the script's dispatch table and sets the table's elements to point to the WorldScript I script utilities and QuickDraw patches or to the original Roman script utilities and QuickDraw calls, as appropriate for the script.
<LI><A NAME=MARKER-2-118></A>WorldScript I makes default settings for the script system based on information from the configuration table in the script's encoding/rendering (<CODE>'itl5'</CODE>) resource. It then looks in the Preferences folder for a script preferences file. If one is found, and if the file contains a configuration resource (type <CODE>'CNFG'</CODE>) for this script system, WorldScript I uses that resource to reinitialize the script record's fields. <BR>If no preferences file is available, WorldScript I keeps the default settings loaded from the encoding/rendering resource.
<LI>WorldScript I initializes Script Manager data structures that point to this <BR>script record.<P>
</OL>
</OL>
 Any initialization errors that occur are reported to the user via the Notification Manager.<A NAME=MARKER-2-217></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-522.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-524.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
