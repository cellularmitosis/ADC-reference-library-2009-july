<!-- legacy work start -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<!-- legacy work end -->


<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)

LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Using the Sound Manager (IM: S)  (deprecated)</Title>

<!-- legacy work start -->
        <META NAME="Generator" CONTENT="manual">
        <META http-equiv="content-type" CONTENT="text/html;charset=utf-8">
        <META NAME = "Copyright" CONTENT="Copyright 2007 Apple Inc. All Rights Reserved.">
        <META NAME="IndexTitle" CONTENT="Inside Macintosh: Sound (Not Recommended)">
        <meta name="xcode-display" content="render">

        <LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css"> <!-- before submitting, globally replace ".." with "developer.apple.com" -->
        <script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
<!-- legacy work end -->

</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<A NAME=HEADING50></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Sound-49.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-51.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Sound-2.html"><B>Sound</B></A> / <BR><DD><A HREF="Sound-44.html"><B>Chapter 2 - Sound Manager</B></A></DL></FONT><P>
<HR>

<!-- legacy work start -->
<script type="text/javascript"> placeWatermark()</script>
<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
<i>Inside Macintosh: Sound</i> is deprecated as of Mac OS X v10.5. For new audio development in Mac OS X, use Core Audio. See the <a href="http://developer.apple.com/referencelibrary/MusicAudio/" target="_top">Audio</a> page in the ADC Reference Library.</p></div></div></div>
<!-- legacy work end -->


<BLOCKQUOTE>
<A NAME=HEADING50-0></A>
<H1><A NAME=MARKER-9-131></A>Using the Sound Manager</H1>
 The Sound Manager provides a wide variety of methods for creating sound and manipulating audio data on Macintosh computers. Usually, your application needs to use only a few of the many routines or sound commands that are available.<P>
 The Sound Manager routines can be divided into high-level routines and low-level routines. The high-level routines (like <CODE>SndPlay</CODE> and <CODE>SysBeep</CODE>) give you the ability to produce very complex audio output at very little programming expense. The majority of applications interact with the Sound Manager using these high-level routines, which allow you to play sounds without knowing anything about the structure of sound commands or sampled-sound data. You can let the high-level routines automatically allocate channels, or, for increased control, you can allocate your own sound channels.<P>
 <A NAME=MARKER-2-42></A><A NAME=MARKER-2-26></A>Applications that have more sophisticated sound capabilities use the low-level routines (like <CODE>SndDoCommand</CODE> and <CODE>SndDoImmediate</CODE>) to send sound commands to sound channels. For example, your application might send a sound command to alter the amplitude of a sound that is playing (or is about to play).<P>
 Finally, a few very specialized applications use the Sound Manager's low-level sound playback routines, which allow fine-tuning of the algorithms the Sound Manager uses to manage the double buffering of sound for its play-from-disk routines.<A NAME=MARKER-2-134></A> <A NAME=MARKER-2-135></A><P>
 In general, you should use the highest-level routines capable of producing the kind of sound you want. Many applications can simply play sounds stored in resources or files and do not need to customize the sounds or continue with other processing while those sounds are playing. In such cases, you can use the high-level Sound Manager routines, as illustrated in the chapter <A HREF=Sound-13.html#MARKER-9-6>"Introduction to Sound on the Macintosh"</A> in this book. If, however, you need to be able to exercise very fine control over sound output or to play sounds asynchronously, you must manage your own sound channels. See <A HREF=Sound-51.html#MARKER-9-136>"Managing Sound Channels" on page 2-19</A> to learn how you can use the Sound Manager to<P>
<UL>
<LI>allocate and dispose of sound channels manually by using the <CODE>SndNewChannel</CODE> and <CODE>SndDisposeChannel</CODE> functions
<LI>manipulate sound that is playing (for example, by sending the <CODE>ampCmd</CODE> command to a sound channel to change the amplitude of sound playing)
<LI>stop sounds and flush sound channels by using the <CODE>quietCmd</CODE> and <CODE>flushCmd</CODE> commands
<LI>pause and restart sound channels by using the <CODE>pauseCmd</CODE> and <CODE>resumeCmd</CODE> commands
<LI>synchronize sound channels by using the <CODE>syncCmd</CODE> command<P>
</UL>
 As you've learned, the capabilities of the Sound Manager vary greatly from one Macintosh computer to another, depending on which version of the Sound Manager is available on a particular computer and on what audio hardware is available. To create sounds effectively on all computers, you might need to obtain information about the available sound features. <A HREF=Sound-53.html#MARKER-9-218>"Obtaining Sound-Related Information" on page 2-32</A> explains how you can<P>
<UL>
<LI>use the <CODE>Gestalt</CODE> function to determine which basic sound features are available
<LI>find the version number of the available Sound Manager or of the MACE compression and expansion routines
<LI>determine whether your application can take advantage of multichannel sound and the play-from-disk routines
<LI>obtain information about a single sound channel<P>
</UL>
 Some applications need to be able to play computer-generated tones at different pitches. In addition, some applications need to play waveforms or sampled sounds at different pitches. For example, if you are writing an application that converts musical notes to sound, you might record the sound of a violin playing middle C and then replay the sound at a variety of pitches to simulate a violinist's playing a concerto. The Sound Manager allows you to do this by allocating a sound channel and sending sound commands to it. <A HREF=Sound-54.html#MARKER-9-261>"Playing Notes" on page 2-41</A> explains how you can<P>
<UL>
<LI>play simple sequences of notes by using the <CODE>freqCmd</CODE> and <CODE>freqDurationCmd</CODE> commands
<LI>install waveforms or sampled sounds into channels by using the <CODE>soundCmd</CODE> and <CODE>waveTableCmd</CODE> commands so that you can play them at different frequencies
<LI>set a sound resource's loop points so that the sound repeats if a <CODE>freqCmd</CODE> or <CODE>freqDurationCmd</CODE> command lasts longer than the sound<P>
</UL>
 Although some applications do not need to do other processing while sounds are playing, others do. If your application allocates sound channels itself, it can request that the Sound Manager play sounds asynchronously. By using callback procedures and completion routines, your application can arrange for a sound channel to be disposed when a sound finishes playing. <A HREF=Sound-55.html#MARKER-9-292>"Playing Sounds Asynchronously" on page 2-46</A> explains how you can<P>
<UL>
<LI>play a sound resource asynchronously by defining a callback procedure
<LI>use callback procedures to synchronize sounds you play asynchronously with other actions
<LI>play a sound file asynchronously and pause, restart, or stop such an asynchronous playback
<LI>manage multiple channels of sound to play more than one sound asynchronously at the same time<P>
</UL>
 The high-level Sound Manager routines automatically parse sound resources and sound files to determine the information the Sound Manager needs to play the sounds contained in the resources and files. However, you might need to obtain information about sound resources or sound files for some other reason. Or, you might need to locate a certain part of a sound resource or sound file. For example, to use the <CODE>bufferCmd</CODE> sound command to play a buffer of sampled sound, you must obtain a pointer to the sound header contained in that buffer. See the section <A HREF=Sound-56.html#MARKER-9-340>"Parsing Sound Resources and Sound Files" on page 2-56</A> for information on how to<P>
<UL>
<LI>parse sound resources containing sampled-sound data to obtain information from the sampled-sound data's sound header
<LI>use the <CODE>bufferCmd</CODE> command to play sampled-sound data stored within a sound resource
<LI>parse sound files to find a particular chunk and to extract the data from that chunk<P>
</UL>
 High-level Sound Manager routines automatically expand sound data in real time when playing compressed sounds. However, you might need to manually compress or expand sound data at a time when you are not playing sounds. <A HREF=Sound-57.html#MARKER-9-371>"Compressing and Expanding Sounds" on page 2-66</A> explains how you can use the Sound Manager's built-in sound compression and expansion routines to compress or expand sounds.<P>
 The Sound Manager's high-level play-from-disk routines use highly optimized algorithms to manage the double buffering of data so that the play from disk is continuous and without audible gaps. However, if you wish to bypass the high-level Sound Manager play-from-disk routines, you may define your own double-buffering routines. This might be useful if you need to change the sound data on disk before the Sound Manager can process it. The section <A HREF=Sound-58.html#MARKER-9-385>"Using Double Buffers" on page 2-68</A> explains how you can set up your own double buffers and use a doubleback procedure to bypass the normal play-from-disk routines.<P>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Sound-51.html#HEADING51-0">Managing Sound Channels</A>
<DD>
<DT><A HREF="Sound-52.html#HEADING52-0">Managing Sound Volumes</A>
<DD>
<DT><A HREF="Sound-53.html#HEADING53-0">Obtaining Sound-Related Information</A>
<DD>
<DT><A HREF="Sound-54.html#HEADING54-0">Playing Notes</A>
<DD>
<DT><A HREF="Sound-55.html#HEADING55-0">Playing Sounds Asynchronously </A>
<DD>
<DT><A HREF="Sound-56.html#HEADING56-0">Parsing Sound Resources and Sound Files</A>
<DD>
<DT><A HREF="Sound-57.html#HEADING57-0">Compressing and Expanding Sounds</A>
<DD>
<DT><A HREF="Sound-58.html#HEADING58-0">Using Double Buffers</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Sound-49.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Sound-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Sound-336.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Sound-51.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Sound-3.html">&copy; Apple Computer, Inc.</A><br>2 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
