<!-- Generated by Harlequin WebMaker 2.2.3 (30-Apr-1996)
Macintosh Common Lisp Version 3.0kp2p2 [AppGen 3.0b1kp2p2] -->
<HTML> <HEAD>
<TITLE>Creating and Initializing the Application Object (MacApp PG)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING37></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="MacAppProgGuide-36.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-38.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="MacAppProgGuide-2.html"><B>Programmer's Guide to MacApp</B></A> / <A HREF="MacAppProgGuide-21.html"><B>Part 1 - MacApp Theory and Architecture</B></A><BR><DD><A HREF="MacAppProgGuide-33.html"><B>Chapter 4 - Launching and Terminating  an Application</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING37-0></A>
<H1><A NAME=MARKER-9-56></A>Creating and Initializing the Application Object</H1>
 <A NAME=MARKER-2-57></A>The <CODE>main</CODE> routine's final task is to instantiate and initialize an application object. You define a subclass of one of MacApp's application classes to serve as the application object. The code for creating and initializing the application object looks something the following:<P>
<PRE>
TYourApplication* aYourApplication;
aYourApplication = new TYourApplication;
aYourApplication-&gt;IYourApplication();
</PRE>
 In the I<I>Your</I>Application method, you call <CODE>IApplication</CODE> with a line like the following:<P>
<PRE>
this-&gt;IApplication(kFileType, kSignature);
</PRE>
 The constants <CODE><A NAME=MARKER-2-58></A>kSignature</CODE> and <CODE><A NAME=MARKER-2-59></A>kFileType</CODE> specify an application signature and file type, used by the Macintosh Operating System to identify an application and the files that belong to it. Each application has just one signature but can have many file types, one for each type of file it supports.<P>
<DL>
<DT><B>IMPORTANT</B>
<DD>Apple's Developer Technical Services (DTS) manages a registry of application signatures and file types. You should register your values with DTS so they won't conflict with those used in other applications. You can register types at the World Wide Web location http://dev.info.apple.com/cftype/main.html.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/triangle.gif">
</DL>
 The <CODE>IApplication</CODE> method performs the following initialization tasks for the application:<P>
<UL>
<LI>It creates regions to keep track of the cursor and to determine when to show help.
<LI>It creates window and document lists.
<LI>It creates a list to serve as the command queue.
<LI>It creates a dependency space for tracking dependency relationships between application objects.
<LI>It installs a default tab behavior (see <A HREF=MacAppProgGuide-69.html#MARKER-9-301>"Tabbing Between Views," beginning on page 243</A>).
<LI>It creates an object to manage the application's menu bar.
<LI>It creates a global view server object, <CODE><A NAME=MARKER-2-60></A>gViewServer</CODE>, to manage the creation of view objects for the application (see <A HREF=MacAppProgGuide-101.html#MARKER-9-50>"The TViewServer Class," beginning on page 218</A>).
<LI>If MacApp's UScripting unit hasn't been initialized, it calls <CODE><A NAME=MARKER-2-61></A>InitUScripting</CODE> to initialize it.
<LI>It sets the application object to be the default target for the Apple event dispatcher object, which dispatches Apple events to objects in the application.<P>
</UL>
 After calling <CODE>IApplication</CODE>, the I<I>Your</I>Application method takes care of any initialization specific to your application. That may include using the <CODE>MA_REGISTER_CLASS</CODE> macro to register your view classes. (The <CODE>MA_REGISTER_CLASS</CODE> macro is described in <A HREF=MacAppProgGuide-63.html#MARKER-9-19>Chapter 8, "Displaying, Manipulating, and Printing Data."</A>)<P>
 The next section describes the final steps for initializing MacApp.<P>



</BLOCKQUOTE>
<HR>
<center>
<A HREF="MacAppProgGuide-36.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="MacAppProgGuide-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="MacAppProgGuide-158.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="MacAppProgGuide-38.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="MacAppProgGuide-3.html">&copy; Apple Computer, Inc.</A><br>25 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
