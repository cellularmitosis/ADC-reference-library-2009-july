<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Preparing to Use QuickDraw(IM: Tx)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING134></A>



<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Text-133.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-135.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Text-2.html"><B>Text</B></A> / <BR><DD><A HREF="Text-126.html"><B>Chapter 3 - QuickDraw Text</B></A> / <A HREF="Text-133.html"><B>Using QuickDraw Text</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING134-0></A>
<H2>Preparing to Use QuickDraw</H2>
 The QuickDraw text-handling routines rely on both QuickDraw and the Script Manager. Therefore, before you call any of these routines, you need to determine what versions of QuickDraw and the Script Manager are installed, and initialize QuickDraw. For more information about determining the version of the Script Manager, see the chapter "Script Manager" in this book.<P>
<A NAME=HEADING134-2></A>
<H3>Determining the Version and Initializing QuickDraw</H3>
 <A NAME=MARKER-2-947></A>To determine the current version of QuickDraw, you call the <CODE>Gestalt</CODE> function with the <CODE>gestaltQuickdrawVersion</CODE> selector. The <CODE>gestaltQuickdrawVersion</CODE> selector returns a 2-byte value indicating the version of QuickDraw currently present. The high-order byte of that number represents the major revision number, and the low-order byte <A NAME=MARKER-2-277></A>represents the minor revision number. These are the currently defined values for the QuickDraw selector.
<TABLE BORDER="0" CELLPADDING=3><TH ALIGN=LEFT>Constant<A NAME=MARKER-2-953></A><TH>Value<TR>
<TD>gestaltOriginalQD<TD>$000<TR>
<TD>gestaltOriginalQD1<TD>$001<TR>
<TD>gestalt8BitQD<TD>$100<TR>
<TD>gestalt32BitQD<TD>$200<TR>
<TD>gestalt32BitQD11<TD>$210<TR>
<TD>gestalt32BitQD12<TD>$220<TR>
<TD>gestalt32BitQD13<TD>$230</TABLE>
<P>
 Gestalt returns a 4-byte value in its response parameter; the low-order word contains QuickDraw version data. In that low-order word, the high-order byte gives the major revision number and the low-order byte the minor revision. Major revisions currently defined are the original QuickDraw, the original Color QuickDraw, and the current 32-Bit QuickDraw with direct-pixel capability.<P>
 Values having a major revision number of 1 or 2 indicate that Color QuickDraw is available in either the 8-bit or 32-bit version. These results do not, however, indicate whether a color monitor is attached to the system. You need to use high-level QuickDraw routines to obtain that information.<P>
 Many Macintosh applications don't care what version of QuickDraw is available on the user's system: they don't use color at all, use only the basic QuickDraw color model, or specify all their colors abstractly, in RGB form. If your application does depend on a specific version of QuickDraw, you can check the version at run time and adapt to make best use of the available hardware (or at least inform the user gracefully that your program's graphics needs aren't being met).<P>
 For more information about the <CODE>Gestalt</CODE> function, see the chapter "Gestalt Manager" in <I><A HREF="../OSUtilities/OSUtilities-2.html">Inside Macintosh: OSUtilities</A></I>.<P>
 <A NAME=MARKER-9-946></A>Initialize QuickDraw at the beginning of your program before any other parts of the Toolbox. To do so, call the <A NAME=MARKER-2-31></A><CODE>InitGraf</CODE> procedure. <A NAME=MARKER-2-76></A>For more information about the <CODE>InitGraf</CODE> procedure, see <I><A HREF="../QuickDraw/QuickDraw-2.html">Inside Macintosh: Imaging</A></I>.<P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Text-133.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Text-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Text-594.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Text-135.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Text-3.html">&copy; Apple Computer, Inc.</A><br>6 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
