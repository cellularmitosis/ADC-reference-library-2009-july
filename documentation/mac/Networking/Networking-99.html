<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>About ADSP(IM:N)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING99></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Networking-98.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-100.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Networking-2.html"><B>Networking</B></A> / <BR><DD><A HREF="Networking-98.html"><B>Chapter 5 - AppleTalk Data Stream Protocol (ADSP) </B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING99-0></A>
<H1>About ADSP</H1>
 ADSP includes both session and transport services, and it is the most commonly used of the AppleTalk transport protocols. The .DSP driver implements ADSP. ADSP allows you to establish and maintain a connection between two AppleTalk network entities and transfer data across this connection as a continuous stream. Because ADSP is a client <BR>of DDP, data that you transmit using ADSP is actually sent and received over the AppleTalk internet in packets. However, ADSP builds a <A NAME=MARKER-9-62></A>session connection on top of <BR>the packet transfer services that DDP provides so that applications using ADSP can exchange data as a continuous stream. <A HREF=#MARKER-9-78>Figure 5-1 on page 5-4</A> shows ADSP and the underlying protocols that it uses; ADSP is a client of DDP, just as your application is a client of ADSP. <P>
<B>Figure 5-1  ADSP and its underlying protocols<A NAME=MARKER-9-78></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/ADSP-L-01.jpg"><P>
 C<A NAME=MARKER-2-6></A>o<A NAME=MARKER-2-80></A>mmunication between two applications using ADSP occurs over a connection that is made between the two sockets that these network entities use; ADSP assigns a socket to be used when you initialize each end of the connection, and your application becomes <BR>a client of that socket. Because this connection exists for the duration of the exchange, ADSP is called a <I>c<A NAME=MARKER-2-101></A>onnection-oriented</I> protocol.<A NAME=MARKER-2-38></A> ADSP manages and controls the data flow between the two sockets throughout the session to ensure that <P>
<UL>
<LI>the data is delivered and received in the order in which it was sent
<LI>duplicate data is not sent
<LI>the application or process at the receiving end of the connection has the buffer capacity to accept the data<P>
</UL>
 In an ADSP session, both ends of the connection have equal control over the communica-<BR>tion in a <A NAME=MARKER-2-120></A><B>peer-to-peer</B> relationship. For the two ends of an ADSP connection to function properly, each must maintain information to control the connection and determine the connection state. To accommodate these requirements, the socket at either end of the connection has associated with it information that defines the state of the connection <BR>and information that the application and ADSP use to control the connection and communicate over it. The combination of a socket and the ADSP information maintained by the socket client is referred to as a <A NAME=MARKER-2-108></A><B>connection end.</B> To create a connection, two connection ends must be set up and initialized. Each connection end views itself as the local end and the other as the remote end. <P>
 Your application can use ADSP to<P>
<UL>
<LI>create a connection end
<LI>request a connection with a remote connection end
<LI>create a <A NAME=MARKER-9-101></A><B>connection listener</B> to wait passively for connection requests from remote connection ends (see <A HREF=Networking-101.html#MARKER-9-100>"Connection Listeners" on page 5-7</A> for more information)
<LI>read data from and write it to an open connection
<LI>close a connection without removing it
<LI>remove a connection end<P>
</UL>
 <A HREF=#MARKER-9-86>Figure 5-2</A> shows the order in which applications commonly call the ADSP routines to perform these functions for a connection end. (<A HREF=Networking-101.html#MARKER-9-104>Figure 5-4 on page 5-8</A> shows this for a connection listener.)<P>
<B>Figure 5-2  Steps for creating an ADSP connection end <A NAME=MARKER-9-86></A></B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/ADSP-L-02.jpg"><P>
 ADSP provides for a <A NAME=MARKER-2-114></A>full-duplex data stream between the two ends of the connection that allows for a full-duplex dialog; this means that either end of the connection can <BR>call routines to send data at any time. (However, full-duplex does not mean that both connection ends actually send electrical signals at the same time; ADSP controls this process.) See the chapter "Introduction to AppleTalk" in this book for more information on full-duplex communication. <P>
 In addition to the full-duplex data stream that an ADSP session maintains, ADSP allows either end of a connection to send an <A NAME=MARKER-2-126></A>attention message to the other end without interrupting the primary flow of data. <A NAME=MARKER-2-89></A><P>
 Among the features that ADSP provides are<P>
<UL>
<LI>an <A NAME=MARKER-2-166></A>end-of-message feature that lets you break streams of data into logical messages
<LI>an attention-message feature that lets you and your partner application signal to each other outside the normal exchange of data
<LI>a forward-reset feature that lets you cancel the delivery of any data that is in your connection end's send queue and any data that you have sent that is in transit and that the remote connection end has not received 
<LI>a <A NAME=MARKER-2-91></A>built-in flow control feature that ensures that your application sends data only if its remote partner has the buffer capacity to receive it<P>
</UL>
<HR>
<B>Subtopics</B>
<B><!-- TOC --><DL>
<DL>
<DT><A HREF="Networking-100.html#HEADING100-0">Connections, Connection Ends, and Connection States</A>
<DD>
<DT><A HREF="Networking-101.html#HEADING101-0">Connection Listeners</A>
<DD>
<DT><A HREF="Networking-102.html#HEADING102-0">Reliable Delivery of Data</A>
<DD>
<DT><A HREF="Networking-103.html#HEADING103-0">Unsolicited ADSP Events</A>
<DD>
</DL>
</DL>
</B>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Networking-98.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Networking-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Networking-304.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt= "Book Index"></A> <A HREF="Networking-100.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Networking-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
