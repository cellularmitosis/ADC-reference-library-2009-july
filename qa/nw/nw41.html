<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"			"http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><!--Template 06-20-02--><HEAD><LINK REL="stylesheet" HREF="../../adcstyle.css" TYPE="text/css"><LINK REL="stylesheet" HREF="../../style.css" TYPE="text/css"><title>Technical Q&amp;A NW41: Gestalt Selectors for Macintosh Networking</title>	<meta name="keywords" content="Mac OS 8 Open Transport MacTcp Appletalk Gestalt selctors networking"><meta name="Description" content="Technical Q&amp;A NW41: Q&amp;A gives the different Gestalt selectorsfor Macintosh networking."><meta name="categories" content="Networking"><meta name="week-posted" content="Jan 27, 1997 - Jan 31, 1997"><LINK REL="stylesheet" HREF="../../css/adcstyle.css" TYPE="text/css"><script language="JavaScript" type="text/javascript" src="../../js/adc.js"></script></HEAD><BODY BGCOLOR="#FFFFFF"><a name="//apple_ref/doc/uid/DTS10001453" title="Gestalt Selectors for Macintosh Networking"></a><!-- top_of_header_marker_comment --><!-- begin_header_information --><!--#include virtual="/adcnavbar" --><p><a href="http://developer.apple.com/">ADC Home</a> &gt; <a href="../../referencelibrary/index.html">Reference Library</a> &gt; <a href="../../technicalqas/index.html">Technical Q&As</a> &gt; <a href="../../technicalqas/LegacyTechnologies/index.html">Legacy Documents</a> &gt; <a href="../../technicalqas/LegacyTechnologies/idxNetworking-date.html">Networking</a> &gt; </p><div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;"><div class="legacybox"><h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../images/closebutton.png" width="14" height="14" border="0"  alt="close button"></a></span></h1>

<p><strong>Important: </strong>This document is part of the Legacy section of the ADC Reference Library. This information should not be used for new development.</p>

<div class="reflibtopic">
	<p>Current information on this Reference Library topic can be found here:</p>
	<ul>
				<li><a href="http://developer.apple.com/referencelibrary/Networking/index.html" target="_blank">Reference Library > Networking</a></li>
	</ul>
</div>




</div></div></div><!-- end_header_information --><!-- bottom_of_header_marker_comment --><!-- top_of_titles_marker_comment --><CENTER><table width="600" cellpadding="0" cellspacing="0" border="0">
<tr><td align="left" scope="row">
<h1>
<div id="pagehead">Technical Q&amp;A NW41</div>
<div id="pageheadsub">Gestalt Selectors for Macintosh Networking</div>
</h1>
</td></tr></table></CENTER><!-- bottom_of_titles_marker_comment -->						<!-- begin_content --> <CENTER><TABLE BORDER=0 CELLPADDING=0 WIDTH=600><TR> <td align="left"><hr width=500 align=center><p id = p2>Q:  What are the different Gestalt selectors for Macintosh networking?</p><p id=p4>A: Here is the breakdown:</p><H4>MacTCP</H4>The <code>Gestalt</code> selector for MacTCP is '<code>mtcp</code>'. <UL TYPE=DISC>	<LI>MacTCP versions 1.0 through 1.0.3 did not register this selector.</LI>	<LI>MacTCP version 1.1 returns a value of 1.</LI>	<LI>MacTCP version 1.1.1 returns a value of 2.</LI>	<LI>MacTCP version 2.0 returns a value of 3.</LI></UL><p id=p4>A value of 0 is returned if the driver is not opened.</P><H4>AppleTalk</H4><p id=p4>The <code>Gestalt</code> selectors for AppleTalk are '<code>atkv</code>' and '<code>atlk</code>'. </p><p id=p4>The '<code>atlk</code>' <code>Gestalt</code> selector was introduced in AppleTalk version 54 toprovide basic version information. Calling <code>Gestalt</code> with the '<code>atlk</code>' selector provides the majorrevision version in the low-order byte of the function result. For example, passing the '<code>atlk</code>'selector in a <code>Gestalt</code> call or through MacsBuG with a result of <code>0x0000003C</code> means thatAppleTalk version 60 is present. (Please note that the '<code>atlk</code>' selector is notavailable when AppleTalk is turned off in the Chooser.)</P><p id=p4>The '<code>atkv</code>' Gestalt selector was introduced as an alternative inAppleTalk version 56 to provide more complete version information via the '<code>vers</code>' resource. Forexample, passing the '<code>atkv</code>' selector to AppleTalk version 60 through a <code>Gestalt</code> call or MacsBuG yieldsthe following <code>LONGINT</code> result: <code>0x3C108000</code>.</P><H4>Open Transport</H4><p id=p4>The Gestalt selectors for Open Transport are '<code>otan</code>' and '<code>otvr</code>'. You cantest whether Open Transportand its various parts are available by using theGestalt function with the '<code>otan</code>' selector. The bits currently used aredefined by constants,defined in OpenTransport.h and shown below.</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>enum {        gestaltOpenTpt                   = 'otan',        gestaltOpenTptPresent           = 0x00000001,        gestaltOpenTptLoaded            = 0x00000002,        gestaltOpenTptAppleTalkPresent  = 0x00000004,        gestaltOpenTptAppleTalkLoaded   = 0x00000008,        gestaltOpenTptTCPPresent        = 0x00000010,        gestaltOpenTptTCPLoaded         = 0x00000020,        gestaltOpenTptNetwarePresent    = 0x00000040,        gestaltOpenTptNetwareLoaded     = 0x00000080};</pre></TD></TR></TABLE></CENTER><p id=p4>If <code>Gestalt</code> returns no error and responds with a non-zero value, OpenTransport is available. To find out whether OT, AppleTalk, TCP, or NetWare are present, you canexamine the response parameter bits as shown above. For example, passing the '<code>otan</code>' selector in a <code>Gestalt</code>call or through MacsBuG with a result of <code>0x0000001F</code> means that the Open Transport is present andloaded, AppleTalk driver is also present and loaded, and MacTCP is present but NOT loaded.</P><p id=p4>The '<code>otvr</code>' selector is used to determine the Open Transport Version in<code>NumVersion</code> format. For example, passing the '<code>otvr</code>' selector through a <code>Gestalt</code> call or MacsBuGto OT version 1.1.1b9 yields the following <code>LONGINT</code> result: <code>0x01116009</code>. (Note that OT versions 1.0through 1.0.8 did not register this selector.) For more information on Apple's VersionNumbering Scheme and <code>NumVersion</code> format, please see <a href="../../technotes/ov/ov_12.html" target="_blank">Technote OV12:Version Territory.</a></P><h4>Open Transport / PPP</h4><p id=p4>The <code>Gestalt</code> selectors for Open Transport / PPP are '<code>otra</code>' and '<code>otrv</code>'.You can test whether Open Transport / PPPand its various parts are available by using the<code>Gestalt</code> function with the '<code>otra</code>' selector. The bits currently used aredefined by constants,defined in OpenTptPPP.h check <Ahref="../../sdk/index.html" target="_blank">OT/PPP SDK</A>and shown below.</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>enum {        gestaltOpenTptRemoteAccess      = 'otra',        gestaltOpenTptRemoteAccessPresent       = 0x00000000,        gestaltOpenTptRemoteAccessLoaded        = 0x00000001,        gestaltOpenTptRemoteAccessClientOnly    = 0x00000002,        gestaltOpenTptRemoteAccessPServer       = 0x00000003,        gestaltOpenTptRemoteAccessMPServer      = 0x00000004,        gestaltOpenTptPPPPresent                = 0x00000005,        gestaltOpenTptARAPPresent               = 0x00000006 };</pre> </TD></TR></TABLE></CENTER><BR><CENTER><TABLE BORDER=0 WIDTH=550><TR><td bgcolor="#E6E6E6" align=left><P><B>Note:</B><BR>If you are writing an control strip or startup item thatuses OpenTransport / PPP you should be aware that it takes a few eventcycles for the remote access software to complete loading. Your softwareshould check the <code>gestaltOpenTptRemoteAccessPresent</code> bit of the'otra' gestalt to see if remote access software is present, thenperiodically check the <code>gestaltOpenTptRemoteAccessLoaded</code> todetermine if loading is completed.</P></TD></TR></TABLE></CENTER><BR><p id=p4>More information on accessing using the  Open Transport / PPP API isavailable in the <a href="http://developer.apple.com/documentation/mac/NetworkingOT/NetworkingWOT-2.html" target="_blank">Open Transport documentation.</a></P><h4>Open Transport / Modem</h4><p id=p4>The <code>Gestalt</code> selectors for Open Transport/Modem are '<code>otmo</code>' and '<code>otmv</code>'.You can test whether Open Transport/ Modemand its various parts are available by using theGestalt function with the '<code>otmo</code>' selector.</P><CENTER><TABLE BORDER=0 CELLPADDING=5 WIDTH=550><TR>	<td bgcolor="#E6E6E6" align=left><pre>enum {        gestaltOpenTptModem         = 'otmo',        gestaltOpenTptModemPresent      = 0x00000000 };</pre>	</TD></TR></TABLE></CENTER></td></tr></table></center><!-- end_content --><!-- begin_date --><H4 ALIGN=center>[Jan 31 1997]</H4><!-- end_date --><!-- begin_footer_information -->	<table width="680" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/qa/nw/nw41.html%3Fid%3DDTS10001453-1.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/qa/nw/nw41.html%3Fid%3DDTS10001453-1.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/qa/nw/nw41.html%3Fid%3DDTS10001453-1.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>
<!--#include virtual="/includes/footer"--><!-- end_footer_information --><hr width=500 align=center> </BODY></HTML>