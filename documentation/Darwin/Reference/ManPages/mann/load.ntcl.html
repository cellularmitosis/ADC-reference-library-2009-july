<html><head><title>Mac OS X
 Manual Page For load(ntcl)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/ntcl/load" title="Mac OS X
 Manual Page for load(ntcl)"><a name="//apple_ref/doc/man/n/load" title="Mac OS X
 Manual Page for load(ntcl)"><!-- headerDoc=man; indexgroup=Section ntcl; uid="//apple_ref/doc/man/ntcl/load"; name=load(ntcl) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
load(n)                                     Tcl Built-In Commands                                    load(n)



____________________________________________________________________________________________________________

<b>NAME</b>
       load - Load machine code and initialize new commands.

<b>SYNOPSIS</b>
       <b>load</b> <u>fileName</u>
       <b>load</b> <u>fileName</u> <u>packageName</u>
       <b>load</b> <u>fileName</u> <u>packageName</u> <u>interp</u>
____________________________________________________________________________________________________________


<b>DESCRIPTION</b>
       This command loads binary code from a file into the application's address space and calls an initial-<font color="#ffffff" class="whiteout">ization&nbsp;initialization</font>
       ization procedure in the package to incorporate it into an interpreter.  <u>fileName</u> is the name of  the
       file  containing  the  code;  its exact form varies from system to system but on most systems it is a
       shared library, such as a <b>.so</b> file under Solaris or a DLL under Windows.  <u>packageName</u> is the name  of
       the package, and is used to compute the name of an initialization procedure.  <u>interp</u> is the path name
       of the interpreter into which to load the package (see the  <b>interp</b>  manual  entry  for  details);  if
       <u>interp</u> is omitted, it defaults to the interpreter in which the <b>load</b> command was invoked.

       Once  the file has been loaded into the application's address space, one of two initialization proce-<font color="#ffffff" class="whiteout">dures&nbsp;procedures</font>
       dures will be invoked in the new code.  Typically the initialization procedure will add new  commands
       to  a  Tcl  interpreter.   The  name of the initialization procedure is determined by <u>packageName</u> and
       whether or not the target interpreter is a safe one.  For normal interpreters the name  of  the  ini-<font color="#ffffff" class="whiteout">tialization&nbsp;initialization</font>
       tialization  procedure  will have the form <u>pkg</u><b>_Init</b>, where <u>pkg</u> is the same as <u>packageName</u> except that
       the first letter is converted to upper case and all other letters are converted to lower  case.   For
       example, if <u>packageName</u> is <b>foo</b> or <b>FOo</b>, the initialization procedure's name will be <b>Foo_Init</b>.

       If  the  target interpreter is a safe interpreter, then the name of the initialization procedure will
       be <u>pkg</u><b>_SafeInit</b> instead of <u>pkg</u><b>_Init</b>.  The <u>pkg</u><b>_SafeInit</b> function should be written carefully, so  that
       it  initializes  the safe interpreter only with partial functionality provided by the package that is
       safe for use by untrusted code. For more information on Safe-Tcl, see the <b>safe</b> manual entry.

       The initialization procedure must match the following prototype:
              typedef int Tcl_PackageInitProc(Tcl_Interp *<u>interp</u>);
       The <u>interp</u> argument identifies the interpreter in which the package is to be loaded.  The initializa-<font color="#ffffff" class="whiteout">tion&nbsp;initialization</font>
       tion  procedure must return <b>TCL_OK</b> or <b>TCL_ERROR</b> to indicate whether or not it completed successfully;
       in the event of an error it should set the interpreter's result to point to an  error  message.   The
       result of the <b>load</b> command will be the result returned by the initialization procedure.

       The  actual loading of a file will only be done once for each <u>fileName</u> in an application.  If a given
       <u>fileName</u> is loaded into multiple interpreters, then the first <b>load</b> will load the code  and  call  the
       initialization  procedure;   subsequent  <b>load</b>s will call the initialization procedure without loading
       the code again.  It is not possible to unload or reload a package.

       The <b>load</b> command also supports packages that are statically linked with  the  application,  if  those
       packages  have  been  registered by calling the <b>Tcl_StaticPackage</b> procedure.  If <u>fileName</u> is an empty
       string, then <u>packageName</u> must be specified.

       If <u>packageName</u> is omitted or specified as an empty string, Tcl tries to guess the name of  the  pack-<font color="#ffffff" class="whiteout">age.&nbsp;package.</font>
       age.   This may be done differently on different platforms.  The default guess, which is used on most
       UNIX platforms, is to take the last element of <u>fileName</u>, strip off the first three characters if they
       are  <b>lib</b>, and use any following alphabetic and underline characters as the module name.  For example, |
       the command <b>load</b> <b>libxyz4.2.so</b> uses the module name <b>xyz</b> and the command <b>load</b> <b>bin/last.so</b> <b>{}</b>  uses  the
       module name <b>last</b>.

       If  <u>fileName</u> is an empty string, then <u>packageName</u> must be specified.  The <b>load</b> command first searches |
       for a statically loaded package (one that has been registered by calling the <b>Tcl_StaticPackage</b> proce- |
       dure)  by that name; if one is found, it is used.  Otherwise, the <b>load</b> command searches for a dynami- |
       cally loaded package by that name, and uses it if it is found.  If several different files have  been |
       <b>load</b>ed with different versions of the package, Tcl picks the file that was loaded first.


<b>PORTABILITY</b> <b>ISSUES</b>
       <b>Windows</b>
              When a load fails with "library not found" error, it is also possible that a dependent library
              was not found.  To see the dependent libraries, type ``dumpbin -imports &lt;dllname&gt;'' in  a  DOS
              console  to  see  what  the library must import.  When loading a DLL in the current directory,
              Windows will ignore ``./'' as a path specifier and use a search  heuristic  to  find  the  DLL
              instead.  To avoid this, load the DLL with
                  load [file join [pwd] mylib.DLL]


<b>BUGS</b>
       If the same file is <b>load</b>ed by different <u>fileName</u>s, it will be loaded into the process's address space
       multiple times.  The behavior of this varies from system to  system  (some  systems  may  detect  the
       redundant loads, others may not).


<b>SEE</b> <b>ALSO</b>
       info sharedlibextension, <a href="../man3/Tcl_StaticPackage.3tcl.html#//apple_ref/doc/man/3/Tcl_StaticPackage">Tcl_StaticPackage(3)</a>, <a href="safe.ntcl.html#//apple_ref/doc/man/n/safe">safe(n)</a>


<b>KEYWORDS</b>
       binary code, loading, safe interpreter, shared library



Tcl                                                  7.5                                             load(n)
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/mann/load.ntcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/mann/load.ntcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/mann/load.ntcl.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
