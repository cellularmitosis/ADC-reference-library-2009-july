<html><head><title>Mac OS X
 Manual Page For getsubopt(3)</title>
<style type="text/css"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { font-size: 1px; background: #ffffff; color: #ffffff; } --></style>
<style type="text/css" media="print, aural, braille, embossed, projection, tty"><!-- @import "../../../../adcstyle.css"; .char {background: #ffffff; color:#0000ff;}.comment {background:#ffffff; color:#236e25}.function {background:#ffffff; color:#000000;}.keyword {background:#ffffff; color:#761550;}.number {background: #ffffff; color:#0000ff;}.param {background:#ffffff; color:#000000;}.preprocessor {background:#ffffff; color:#236e25}.string {background: #ffffff; color:#891315;}.template {background:#ffffff; color:#761550;}.type {background:#ffffff; color:#761550;}.var {background:#ffffff; color:#000000;} pre.manpages {font-size: 10pt;} .graybox { border-top: 1px solid #919699; border-left: 1px solid #919699; margin-bottom: 10px; } .graybox th { padding: 4px 8px 4px 8px; background: #E2E2E2; font-size: 12px; font-weight: bold; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .graybox td { padding: 8px; font-size: 12px; text-align: left; vertical-align: top; border-bottom: 1px solid #919699; border-right: 1px solid #919699; } .whiteout { display: none; } --></style>
</head><body bgcolor="white">
<a name="//apple_ref/doc/man/3/getsubopt" title="Mac OS X
 Manual Page for getsubopt(3)"><!-- headerDoc=man; indexgroup=Section 3; uid="//apple_ref/doc/man/3/getsubopt"; name=getsubopt(3) --></a>
<!--#include virtual="/includes/framesetheader"-->
<table width=600><tr><td scope="row">
<!-- begin breadcrumb insert request --><font face="Geneva,Helvetica,Arial" size="1">
 <a target="_top" href="http://developer.apple.com">ADC Home</a> <b>&gt;</b> <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> <b>&gt;</b> <a href="../../../../../reference/index.html#//apple_ref/doc/uid/TP30001281" target="_top">Reference</a> <b>&gt;</b> <!-- a href="" target="_top" -->Mac OS X<!-- /a --> <b>&gt;</b> <a href="../index.html#//apple_ref/doc/framework/manpages" target="_top">Mac OS X Man Pages</a></font>
<!-- end breadcrumb insert request -->
<p>&nbsp;</p>
</td></tr></table>
<!-- end of header -->
<table border="0"  cellpadding="2" cellspacing="2" width="630pt"><tr><td valign="top" height="12" colspan="5" scope="row">
<p style='text-align:justify;'>This document is a Mac OS X manual page.  Manual pages are a command-line technology
for providing documentation.  You can view these manual pages locally using the
<a href="../man1/man.1.html#//apple_ref/doc/man/1/man">man(1)</a> command.
These manual pages come from many different sources, and thus, have a variety of writing
styles.</p>
<p style='text-align:justify;'>For more information about the manual page format, see the manual page for 
<a href="../man5/manpages.5.html#//apple_ref/doc/man/5/manpages">manpages(5)</a>.</p>
</td></tr></table>
<hr />
<table border="0"  cellpadding="2" cellspacing="2" width="300"><tr><td valign="top" height="12" colspan="5" scope="row"><pre class="manpages"><tt>
GETSUBOPT(3)             BSD Library Functions Manual             GETSUBOPT(3)

<b>NAME</b>
     <b>getsubopt</b> -- get sub options from an argument

<b>LIBRARY</b>
     Standard C Library (libc, -lc)

<b>SYNOPSIS</b>
     <b>#include</b> <b>&lt;stdlib.h&gt;</b>

     <u>extern</u> <u>char</u> <u>*suboptarg</u>;

     <u>int</u>
     <b>getsubopt</b>(<u>char</u> <u>**optionp</u>, <u>char</u> <u>*const</u> <u>*keylistp</u>, <u>char</u> <u>**valuep</u>);

<b>DESCRIPTION</b>
     The <b>getsubopt</b>() function parses a string containing tokens that are delimited by one or more tab,
     space, or comma (`,') characters.  It is intended for use in parsing groups of option arguments that
     are provided as part of a utility command line.

     The argument <u>optionp</u> is a pointer to a pointer to the string.  The argument <u>keylistp</u> is a pointer to a
     NULL-terminated array of pointers to strings.

     The <b>getsubopt</b>() function returns the zero-based offset of the pointer in the <u>keylistp</u> array, referenc-<font color="#ffffff" class="whiteout">ing&nbsp;referencing</font>
     ing a string which matches the first token in the string
      or -1 if the string contains no tokens or <u>keylistp</u> does not contain a matching string.

     If the token is of the form ``name=value'', the location referenced by <u>valuep</u> will be set to point to
     the start of the ``value'' portion of the token.

     On return from <b>getsubopt</b>(), <u>optionp</u> will be set to point to the start of the next token in the string,
     or the null at the end of the string if no more tokens are present.  The external variable <u>suboptarg</u>
     will be set to point to the start of the current token, or NULL if no tokens were present.  The argu-<font color="#ffffff" class="whiteout">ment&nbsp;argument</font>
     ment <u>valuep</u> will be set to point to the ``value'' portion of the token, or NULL if no ``value'' portion
     was present.

<b>EXAMPLES</b>
     char *keylistp[] = {
             #define ONE     0
                     "one",
             #define TWO     1
                     "two",
             NULL
     };

     ...

     extern char *optarg, *suboptarg;
     char *options, *value;

     while ((ch = getopt(argc, argv, "ab:")) != -1) {
             switch(ch) {
             case 'a':
                     /* process ``a'' option */
                     break;
             case 'b':
                     options = optarg;
                     while (*options) {
                             switch(getsubopt(&amp;options, keylistp, &amp;value)) {
                             case ONE:
                                     /* process ``one'' sub option */
                                     break;
                             case TWO:
                                     /* process ``two'' sub option */
                                     if (!value)
                                             error("no value for two");
                                     i = atoi(value);
                                     break;
                             case -1:
                                     if (suboptarg)
                                             error("illegal sub option %s",
                                               suboptarg);
                                     else
                                             error("missing sub option");
                                     break;
                     }
                     break;
             }

<b>SEE</b> <b>ALSO</b>
     <a href="getopt.3.html#//apple_ref/doc/man/3/getopt">getopt(3)</a>, <a href="strsep.3.html#//apple_ref/doc/man/3/strsep">strsep(3)</a>

<b>HISTORY</b>
     The <b>getsubopt</b>() function first appeared in 4.4BSD.

BSD                              June 9, 1993                              BSD
</tt></pre>
</td></tr></table>
	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/Darwin/Reference/ManPages/man3/getsubopt.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/Darwin/Reference/ManPages/man3/getsubopt.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/Darwin/Reference/ManPages/man3/getsubopt.3.html%3Fid%3DTP40000894-7.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

</body></html>
