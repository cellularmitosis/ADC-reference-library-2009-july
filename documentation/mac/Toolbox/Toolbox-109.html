<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>The Menu Record(IM:Tb)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING109></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="Toolbox-108.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-110.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="Toolbox-2.html"><B>Macintosh Toolbox Essentials</B></A> / <BR><DD><A HREF="Toolbox-89.html"><B>Chapter 3 - Menu Manager</B></A> / <A HREF="Toolbox-107.html"><B>Menu Manager Reference</B></A><BR><DL><DD><A HREF="Toolbox-108.html"><B>Data Structures</B></A></DL></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING109-0></A>
<H3><A NAME=MARKER-9-464></A>The Menu Record</H3>
 <A NAME=MARKER-9-222></A>A menu record contains information about a single menu. Your application should never manipulate or access the fields of a menu record; instead your application should use Menu Manager routines to create and manage the menus in your application. To refer to a menu, use a handle to the menu's menu record.<P>
 The <CODE>MenuInfo</CODE> data type defines the menu record. The <CODE>MenuHandle</CODE> data type is a handle to a menu record. <A NAME=MARKER-2-190></A><P>
<PRE>
TYPE  MenuPtr     = ^MenuInfo;   {pointer to a menu record}
      MenuHandle  = ^MenuPtr;    {handle to a menu record} 
</PRE>
 Here is the structure of a menu record: <P>
<PRE>
TYPE  MenuInfo =                 {menu record}
      RECORD
         menuID:     Integer;    {number that identifies the menu}
         menuWidth:  Integer;    {width (in pixels) of the menu}
         menuHeight: Integer;    {height (in pixels) of the menu}
         menuProc:   Handle;     {menu definition procedure}
         enableFlags: LongInt;   {indicates whether menu and }
                                 { menu items are enabled}
         menuData:   Str255;     {title of menu}
         {itemDefinitions}       {variable-length data that }
                                 { defines the menu items}
      END;
</PRE>
<DL>
<H5>Field Description</H5>
<DT>menuID
<DD> A number that identifies the menu. Each menu in your application must have a unique menu ID. Your application specifies the menu ID when you create the menu. Thereafter you can use the menu ID and the <CODE>GetMenuHandle</CODE> function to get a handle to the menu's menu record. 
<DT>
<DD> When you define hierarchical menus, you must use a number from 1 through 235 for the menu ID of a submenu of an application; use a number from 236 through 255 for the submenu of a desk accessory. 
<DT>menuWidth
<DD> The horizontal dimensions of the menu, in pixels.
<DT>menuHeight
<DD> The vertical dimensions of the menu, in pixels.
<DT>menuProc
<DD> A handle to the menu definition procedure of the menu. The Menu Manager uses this menu definition procedure to draw the menu.
<DT>enableFlags
<DD> A value that represents the enabled state of the menu title and <BR>the first 31 items in the menu. All menu items greater than 31 <BR>are enabled by default and can be disabled only by disabling the entire menu.
<DT>menuData
<DD> A string that defines the title of the menu. Although the <CODE>menuData</CODE> field is defined by the data type <CODE>Str255</CODE> in the <CODE>MenuInfo</CODE> data structure, the Menu Manager allocates only the storage necessary for the title: the number of characters in the title of the string plus 1.
<DT>itemDefinitions
<DD> <BR>Variable-length data that defines the characteristics of each menu item in the menu. If the menu uses the standard menu definition procedure, this data can be conceptually defined in this manner:
<DT><CODE></CODE>
<DD> itemData: ARRAY[1..X] OF<BR>                        itemString:  String; {text of menu item}<BR>   itemIcon:     Byte;   {icon number minus 256}
<DT><CODE></CODE>
<DD>    itemCmd:     Char;   {keyboard equivalent or }<BR>                        { value ($1B) indicating }<BR>                        { item has a submenu, or }<BR>                        { ($1C) if item has }<BR>                        { a script code, or }<BR>                        { ($1D) if item's 'ICON' }<BR>                        { should be reduced, or }<BR>                        { ($1E) if item has an }<BR>                        { 'SICN' icon}<BR>   itemMark:    Char;   {marking character or }<BR>                        { menu ID of submenu}<BR>   itemStyle:   Style;  {style of menu text}<BR>endMarker:       Byte;   {contains 0 if no }<BR>                        { more menu items}
<DT>
<DD> The menu definition procedure maintains the information about the menu items. You typically define your menu items in <CODE>'MENU'</CODE> resources, and the Menu Manager stores information describing your items in the menu's menu record.
</DL>
 Your application should not directly change the values of any fields in a menu record. Use Menu Manager routines to change the characteristics of menu items or to make other changes to a menu. <A NAME=MARKER-2-467></A><A NAME=MARKER-2-468></A><P>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="Toolbox-108.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="Toolbox-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="Toolbox-490.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="Toolbox-110.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="Toolbox-3.html">&copy; Apple Computer, Inc.</A><br>11 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
