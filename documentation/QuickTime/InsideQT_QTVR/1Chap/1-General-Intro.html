<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>QuickTime VR: QuickTime Interactivity</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="QuickTime Interactivity"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/TP40000944-CH205" title="QuickTime Interactivity"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../index.html#//apple_ref/doc/uid/TP30000440-TP30000433" target="_top">QuickTime</a> &gt; <a href="../../VirtualReality-date.html#//apple_ref/doc/uid/TP30000440-TP30000433-TP30000589" target="_top">Virtual Reality</a> &gt; <a href="../0Preface/QTVR-preface.html#//apple_ref/doc/uid/TP40000944-CH204-DontLinkElementID_2">QuickTime VR</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../0Preface/QTVR-preface.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../2Chap/2-QTVR-Authoring.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_6" title="QuickTime Interactivity"></a><h1><a name="//apple_ref/doc/uid/TP40000944-CH205-BABECEDE" title="QuickTime Interactivity"></a>QuickTime Interactivity</h1><p><em>“Interaction can be defined as a cyclic process  in which two actors alternately listen, think, and speak.” </em>––Chris Crawford, computer scientist</p><p>This chapter introduces you to some of the key concepts that define QuickTime interactivity. If you are already familiar with QuickTime and its core architecture, you may want to skip this chapter and move on to <span class="content_text"><a href="../2Chap/2-QTVR-Authoring.html#//apple_ref/doc/uid/TP40000944-CH206-BAJGAGFA">“Chapter 2, QuickTime VR Panoramas and Object Movies,”</a></span> which discusses the fundamentals of QuickTime VR, with conceptual diagrams and illustrations of how QuickTime VR movies work. However, if you are new to QuickTime or need to refresh your knowledge of QuickTime interactivity, you should read this chapter. </p><p>Interactivity is at the core of the user experience with QuickTime. Users see, hear, and control the content and play of QuickTime movies. The process is indeed <em>cyclic</em>––using Crawford’s metaphor––in that the user can become an “actor” responding alternately to the visual and aural content of a QuickTime movie. In so so doing, QuickTime enables content authors and developers to extend the storytelling possibilities of a movie for delivery on the Web, CD-ROM or DVD by making the user an active participant in the narrative structure. </p><p>From its inception, one of the goals of QuickTime has been to enhance the quality and depth of this user experience by extending the software architecture to support new media types, such as sprites and sprite animation, wired (interactive) movies and virtual reality. Interactive movies allow the user to do more than just play and pause a linear presentation, providing a variety of ways to directly manipulate the media. In particular, QuickTime VR makes it possible for viewers to interact with virtual worlds. </p><p>The depth and control of the interactive, user experience has been further enhanced in QuickTime on Mac OS X, Mac OS 9, and the Windows platform, with the introduction of <em>cubic panoramas</em> which enable users to navigate through multi-dimensional spaces simply by clicking and dragging the mouse across the screen. Using the controls available in QuickTime VR, for example, users can move a full 360 degrees––left, right, up, or down––as if they were actually positioned inside one of those spaces. The effect is rather astonishing, if not mind-bending. </p><p>There are a number of ways in which developers can take advantage of these interactive capabilities in their applications, as discussed in this and subsequent chapters. </p><p>The chapter is divided into the following major sections:</p><ul class="ul"><li class="li"><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABGIDGA">“QuickTime Basics”</a></span> discusses key concepts that developers who are new to QuickTime need to understand. These concepts include movies, media data structures, components, image compression, and time. </p></li><li class="li"><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABDHDBI">“The QuickTime Architecture”</a></span> discusses two managers that are part of the QuickTime architecture: the Movie Toolbox and the Image Compression Manager. QuickTime also relies on the Component Manager, as well as a set of predefined components. </p></li><li class="li"><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABBCGAJ">“QuickTime Player”</a></span> describes the three different interfaces of the QuickTime Player application that are currently available as of QuickTime 5: one for Mac OX that features the Aqua interface, another for Mac OS 9, and another version for Windows computers. </p></li><li class="li"><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABJJCBC">“Sprites and Sprite Animation”</a></span> describes sprites, a compact data structure that can contain a number of properties, including location on the desktop, rotation, scaling, and an image source. Sprites are ideal for animation. </p></li><li class="li"><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABBDFAD">“Wired Movies”</a></span> discusses wired sprites, which are sprites that perform various actions in response to events, such as mouse down or mouse up. By wiring together sprites, you can create a wired movie with a high degree of user interactivity. </p></li><li class="li"><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABFHHEE">“QuickTime Media Skins”</a></span> discusses how, in QuickTime 5, you can customize the appearance of the QuickTime Player application by adding a media skin to your movie.</p></li><li class="li"><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABBFFDI">“QuickTime VR”</a></span> describes QuickTime <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_149"></a>VR (QTVR), which simulates three-dimensional objects and places. The user can control QTVR panoramas and QTVR object movies by dragging various hot spots with the mouse.</p></li></ul><a name="//apple_ref/doc/uid/TP40000944-CH205-BABGIDGA" title="QuickTime Basics"></a><h2>QuickTime Basics</h2><p>To develop applications that take advantage of QuickTime’s interactive capabilities, you should understand some basic concepts underlying the QuickTime software architecture. These concepts include movies, media data structures, components, image compression, and time. </p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF101" title="Movies and Media Data Structures"></a><h3>Movies and Media Data Structures</h3><p>You can think of QuickTime as a set of functions and data structures that you can use in your application to control change-based data. In QuickTime, a set of dynamic media is referred to simply as a <strong>movie</strong>. </p><p>Originally, QuickTime was conceived as a way to bring movement to computer graphics and to let movies play on the desktop. But as QuickTime developed, it became clear that more than movies were involved. Elements that had been designed for static presentation could be organized along a time line, as dynamically changing information. </p><p>The concept of <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_150"></a><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_151"></a><strong>dynamic media</strong> includes not just movies but also animated drawings, music, sound sequences, virtual environments, and active data of all kinds. QuickTime became a generalized way to define time lines and organize information along them. Thus, the concept of the movie became a framework in which any sequence of media could be specified, displayed, and controlled. The movie-building process evolved into the five-layer model illustrated in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABIJECJ">Figure 1-1</a></span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_7" title="Figure 1-1Five layer model of the QuickTime movie-building process"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABIJECJ" title="Figure 1-1Five layer model of the QuickTime movie-building process"></a><strong>Figure 1-1&nbsp;&nbsp;</strong>Five layer model of the QuickTime movie-building process</p><img src = "../art/dqt_l_07.gif" alt = "Five layer model of the QuickTime movie-building process" width="396" height="541"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF102" title="Movies&acirc;&#128;&#147;&acirc;&#128;&#147;A Few Good Concepts"></a><h3>Movies––A Few Good Concepts</h3><p>A QuickTime movie may contain several tracks. Each track refers to a single media data structure that contains references to the movie data, which may be stored as images or sound on hard disks, compact discs, or other devices. </p><div class="notebox"><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_8" title="Note"></a><p><strong>Note:</strong>&nbsp; Your application never needs to work directly with the movie data, because Movie Toolbox functions allow you to manage movie content and characteristics. All the function calls in the Movie Toolbox are contained in the QuickTime API Reference, which is the definitive and most comprehensive reference source available of the API. </p></div><p>Using QuickTime, any collection of dynamic media (audible, visual, or both) can be organized as a movie. By calling QuickTime, your code can create, display, edit, copy, and compress movies and movie data in most of the same ways that it currently manipulates text, sounds, and still-image graphics. While the details may be complicated, the top-level ideas are few and fairly straightforward:</p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_152"></a><strong>Movies</strong> are essentially bookkeeping structures. They contain all the information necessary to organize data in time, but they don’t contain the data itself.</p></li><li class="li"><p>Movies are made up of <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_153"></a><strong>tracks</strong>. Each track references and organizes a sequence of data of the same type—images, sounds, or whatever—in a time-ordered way.</p></li><li class="li"><p>Media structures (or just <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_154"></a><strong>media</strong>) reference the actual data that are organized by tracks. Chunks of media data are called <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_155"></a><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_156"></a><strong>media samples</strong>.</p></li><li class="li"><p>A <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_157"></a><strong>movie file</strong> typically contains a movie and its media, bundled together so you can download or transport everything together. But a movie may also access media outside its file—for example, sounds or images from a Web site.</p></li></ul><p>The basic relations between movies, tracks, and media are diagrammed in  <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABJAAGJ">Figure 1-2</a></span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_9" title="Figure 1-2Movies, tracks, and media. Note that the material displayed by the tracks is contained in media structures that are located externally and organized by the movie."></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABJAAGJ" title="Figure 1-2Movies, tracks, and media. Note that the material displayed by the tracks is contained in media structures that are located externally and organized by the movie."></a><strong>Figure 1-2&nbsp;&nbsp;</strong>Movies, tracks, and media. Note that the material displayed by the tracks is contained in media structures that are located externally and organized by the movie.</p><img src = "../art/qtp_l_02.gif" alt = "Movies, tracks, and media. Note that the material displayed by the tracks is contained in media structures that are located externally and organized by the movie." width="440" height="236"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF103" title="Time Management"></a><h3>Time Management</h3><p>Time management in QuickTime is essential. You should understand time management in order to understand the QuickTime functions and data structures.</p><p>QuickTime movies organize media along the time dimension. To manage this dimension, QuickTime defines <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_158"></a><strong>time coordinate systems</strong> that anchor movies and their media data structures to a common temporal reality, the second. Each time coordinate system establishes a <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_159"></a><strong>time scale</strong> that provides the translation between real time and the apparent time in a movie. Time scales are marked in time units—so many per second. The time coordinate system also defines <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_160"></a><strong>duration</strong>, which specifies the length of a movie or a media structure in terms of time units. A particular point in a movie can then be identified by the number of time units elapsed to that point. Each track in a movie contains a <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_161"></a><strong>time offset</strong> and a duration, which determine when the track begins playing and for how long. Each media structure also has its own time scale, which determines the default time units for data samples of that media type.</p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABDHDBI" title="The QuickTime Architecture"></a><h2>The QuickTime Architecture</h2><p>The QuickTime architecture is made up of specific managers: the Movie Toolbox and the Image Compression Manager and Image Decompressor Manager, as well as the Component Manager, in addition to a set of predefined components. <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABBAFHI">Figure 1-3</a></span> shows the relationships of these managers and an application that is playing a movie.</p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_10" title="Figure 1-3QuickTime playing a movie"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABBAFHI" title="Figure 1-3QuickTime playing a movie"></a><strong>Figure 1-3&nbsp;&nbsp;</strong>QuickTime playing a movie</p><img src = "../art/iqt_im01.gif" alt = "QuickTime playing a movie" width="480" height="270"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF104" title="The Movie Toolbox"></a><h3>The Movie Toolbox</h3><p>An application gains access to the capabilities of QuickTime by calling functions in the Movie Toolbox. The Movie Toolbox allows you to store, retrieve, and manipulate time-based data that is stored in QuickTime movies. A single movie may contain several types of data. For example, a movie that contains video information might include both video data and the sound data that accompanies the video.</p><p>The Movie Toolbox also provides functions for editing movies. For example, there are editing functions for shortening a movie by removing portions of the video and sound tracks, and there are functions for extending it with the addition of new data from other QuickTime movies. </p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF105" title="The Image Compression Manager"></a><h3>The Image Compression Manager</h3><p> Image data requires a large amount of storage space. Storing a single 640-by-480  pixel image frame in 32-bit color can require as much as 1.2 MB. Similarly, sequences of images, like those that might be contained in a QuickTime movie, demand substantially more storage than single images. This is true even for sequences that consist of fairly small images, because the movie consists of a large number of those images. Consequently, minimizing the storage requirements for image data is an important consideration for any application that works with images or sequences of images.</p><p>The Image Compression Manager provides a device-independent and driver-independent means of compressing and decompressing images and sequences of images. It also contains a simple interface for implementing software and hardware image-compression algorithms. It provides system integration functions for storing compressed images as part of PICT files, and it offers the ability to automatically decompress compressed PICT files on any QuickTime-capable Macintosh or Windows computers.</p><p>In most cases, applications use the Image Compression Manager indirectly, by calling Movie Toolbox functions or by displaying a compressed picture. However, if your application compresses images or makes movies with compressed images, you call Image Compression Manager functions.</p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF106" title="QuickTime Components"></a><h3>QuickTime Components</h3><p>QuickTime provides components so that every application doesn’t need to know about all possible types of audio, visual, and storage devices. A <strong>component</strong> is a code resource that is registered by the Component Manager. The component’s code can be available as a system-wide resource or in a resource that is local to a particular application. </p><p>Each QuickTime component supports a defined set of features and presents a specified functional interface to its client applications. Thus, applications are isolated from the details of implementing and managing a given technology. For example, you could create a component that supports a certain data encryption algorithm. Applications could then use your algorithm by connecting to your component through the Component Manager, rather than by implementing the algorithm again.</p><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_162"></a>QuickTime provides a number of useful components for application developers. These components provide essential services to the application and to the managers that make up the QuickTime architecture. The following Apple-defined components are among those used by QuickTime:</p><ul class="spaceabove"><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_163"></a>movie controller components, which allow applications to play movies using a standard user interface</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_164"></a>standard image-compression dialog components, which allow the user to specify the parameters for a compression operation by supplying a dialog box or a similar mechanism</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_165"></a>image compressor components, which compress and decompress image data</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_166"></a>sequence grabber components, which allow applications to preview and record video and sound data as QuickTime movies</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_167"></a>video digitizer components, which allow applications to control video digitizing by an external device</p></li><li class="li"><p>media data-exchange components, which allow applications to move various types of data in and out of a QuickTime movie</p></li><li class="li"><p>derived media handler components, which allow QuickTime to support new types of data in QuickTime movies</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_168"></a>clock components, which provide timing services defined for QuickTime applications</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_169"></a>preview components, which are used by the Movie Toolbox’s standard file preview functions to display and create visual previews for files</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_170"></a>sequence grabber components, which allow applications to obtain digitized data from sources that are external to a Macintosh or Windows computer</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_171"></a>sequence grabber channel components, which manipulate captured data for a sequence grabber component</p></li><li class="li"><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_172"></a>sequence grabber panel components, which allow sequence grabber components to obtain configuration information from the user for a particular sequence grabber channel component</p></li></ul><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF107" title="The Component Manager"></a><h3>The Component Manager</h3><p>Applications gain access to components by calling the Component Manager. The Component Manager allows you to define and register types of components and communicate with components using a standard interface.</p><p>Once an application has connected to a component, it calls that component directly. If you create your own component class, you define the function-level interface for the component type that you have defined, and all components of that type must support the interface and adhere to those definitions. In this manner, an application can freely choose among components of a given type with absolute confidence that each will work.</p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF108" title="Atoms"></a><h3>Atoms</h3><p>QuickTime stores most of its data using specialized memory structures called <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_173"></a><strong>atoms</strong>. Movies and their tracks are organized as atoms. Media and data samples are also converted to atoms before being stored in a movie file. </p><p>There are two kinds of atoms: <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_174"></a><strong>classic atoms</strong>, which your code accesses by offsets, and <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_175"></a><strong>QT atoms</strong>, for which QuickTime provides a full set of access tools. Atoms that contain only data, and not other atoms, are called <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_176"></a><strong>leaf atoms</strong>. QT atoms can nest indefinitely, forming hierarchies that are easy to pass from one process to another. Also, QuickTime provides a powerful set of tools by which you can search and manipulate QT atoms. You can use these tools to search through QT atom hierarchies until you get to leaf atoms, then read the leaf atom’s data from its various fields.</p><p>Each atom has a type code that determines the kind of data stored in it. By storing data in typed atoms, QuickTime minimizes the number and complexity of the data structures that you need to deal with. It also helps your code ignore data that’s not of current interest when it interprets a data structure.</p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABBCGAJ" title="QuickTime Player "></a><h2>QuickTime Player </h2><p>All user interaction begins with the QuickTime Player application. QuickTime Player can play movies, audio, MP3 music files, as well as a number of other file types from a hard disk or CD, over a LAN, or off the Internet, and it can play live Internet streams and Web multicasts––all without using a browser. </p><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BBCGGGHH">Figure 1-4</a></span> shows an illustration of the QuickTime Player application with various controls for editing and displaying movies. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_11" title="Figure 1-4QuickTime Player with various controls"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BBCGGGHH" title="Figure 1-4QuickTime Player with various controls"></a><strong>Figure 1-4&nbsp;&nbsp;</strong>QuickTime Player with various controls</p><img src = "../art/qt_movie_player.gif" alt = "QuickTime Player with various controls" width="448" height="336"></div><br/><p>QuickTime Player also provides a set of video controls that enable users to adjust the color, tint, contrast, and brightness of video displayed, as shown in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BBCHIEJD">Figure 1-5</a></span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_12" title="Figure 1-5Video controls"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BBCHIEJD" title="Figure 1-5Video controls"></a><strong>Figure 1-5&nbsp;&nbsp;</strong>Video controls</p><img src = "../art/video_controls.gif" alt = "Video controls" width="375" height="213"></div><br/><p>Audio controls are also available in QuickTime Player, as shown in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BBCHACAD">Figure 1-6</a></span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_13" title="Figure 1-6Audio controls "></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BBCHACAD" title="Figure 1-6Audio controls "></a><strong>Figure 1-6&nbsp;&nbsp;</strong>Audio controls </p><img src = "../art/audio_controls.gif" alt = "Audio controls" width="424" height="167"></div><br/><p>The QuickTime Player interface varies slightly based on the platform:  QuickTime Player for Mac OS X features the Aqua interface (<span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABCIIBG">Figure 1-7</a></span>), the Mac OS  9 (<span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABJFBBJ">Figure 1-8</a></span>) version has a Platinum interface, and  QuickTime Player for Windows (<span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABGDDHJ">Figure 1-9</a></span>) shows the Windows menu bar attached to the Player window. Apart from these minor user interface differences, QuickTime Player behaves in a consistent manner with similar functionality across all platforms, however. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_14" title="Figure 1-7Mac OS X version of QuickTime Player with  Aqua user interface"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABCIIBG" title="Figure 1-7Mac OS X version of QuickTime Player with  Aqua user interface"></a><strong>Figure 1-7&nbsp;&nbsp;</strong>Mac OS X version of QuickTime Player with  Aqua user interface</p><img src = "../art/qt5_osx_player.gif" alt = "Mac OS X version of QuickTime Player with  Aqua user interface" width="310" height="304"></div><br/><p>The Mac OS 9 version features the Platinum interface, which is available in QuickTime.</p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_15" title="Figure 1-8Mac OS 9 version of QuickTime Player with the  Platinum user interface"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABJFBBJ" title="Figure 1-8Mac OS 9 version of QuickTime Player with the  Platinum user interface"></a><strong>Figure 1-8&nbsp;&nbsp;</strong>Mac OS 9 version of QuickTime Player with the  Platinum user interface</p><img src = "../art/qt5_os9_player.gif" alt = "Mac OS 9 version of QuickTime Player with the  Platinum user interface" width="295" height="293"></div><br/><p>The Windows version is similar in appearance to the Mac OS 9 version, with the notable exception that the Windows menu bar is attached to the Player window. The standard Windows control and placement are included.</p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_16" title="Figure 1-9The Windows version of QuickTime Player "></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABGDDHJ" title="Figure 1-9The Windows version of QuickTime Player "></a><strong>Figure 1-9&nbsp;&nbsp;</strong>The Windows version of QuickTime Player </p><img src = "../art/qt5_win_player.gif" alt = "The Windows version of QuickTime Player" width="304" height="318"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-BABJJCBC" title="Sprites and Sprite Animation"></a><h2>Sprites and Sprite Animation</h2><p>To allow for greater interactivity in QuickTime movies, and to provide the basis for video animation, sprites were introduced in QuickTime 2.5. Each software release of QuickTime has included enhancements and feature additions to the fundamental building blocks of the original sprite architecture. </p><p>A sprite animation differs from traditional video animation. Using the metaphor of a sprite animation as a theatrical play, <strong>sprite tracks</strong> are the boundaries of the stage, a <strong>sprite world</strong> is the stage itself, and <strong>sprites</strong> are actors performing on that stage. </p><p>Each sprite has properties that describe its location and appearance at a given time. During the course of an animation, the properties of a sprite can be modified, so that its appearance is changed and it can move around the set or stage. Each sprite has a corresponding image, which, during animation, can also be changed. For example, you can assign a series of images to a sprite in succession to perform cel-based animation. Sprites can be mixed with still-image graphics to produce a wide variety of effects while using relatively little memory.</p><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BBCFAGAF">Figure 1-10</a></span> shows an example of a QuickTime movie, <code><!--a  -->Kaleidoscope13.mov<!--/a--></code>, that takes advantage of sprites, enabling the user to drag and arrange a set of tiles (sprites) into a pattern in the movie. The user can also add a script to display the image data and description of the sprites, recording the position and coordinates of the sprites; buttons (also sprites) allow the user to scroll up and down through the script. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_17" title="Figure 1-10A QuickTime movie with sprites as draggable tiles"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BBCFAGAF" title="Figure 1-10A QuickTime movie with sprites as draggable tiles"></a><strong>Figure 1-10&nbsp;&nbsp;</strong>A QuickTime movie with sprites as draggable tiles</p><img src = "../art/kaleidoscope13.gif" alt = "A QuickTime movie with sprites as draggable tiles" width="439" height="268"></div><br/><p>Developers can use the sprite toolbox to add sprite-based animation to their application. The sprite toolbox, which is a set of data types and functions, handles all the tasks necessary to compose and modify sprites, their backgrounds and properties, in addition to transferring the results to the screen or to an alternate destination.</p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF117" title="Creating Desktop Sprites"></a><h3>Creating Desktop Sprites</h3><p>The process of creating sprites programmatically is straightforward, using the functions available in the sprite toolbox. After you have built a sprite world, you can create sprites within it. <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABIEDFE">Listing 1-1</a></span> is a code snippet that shows you how to accomplish this, and is included here as an example. The complete sample code is available at </p><p><span class="content_text"><a href="http://developer.apple.com/samplecode/Sample_Code/QuickTime.htm" target="_top">http://developer.apple.com/samplecode/Sample_Code/QuickTime.htm</a></span></p><p>In this code snippet, you obtain image descriptions and image data for your sprite, based on any image data that has been compressed using the Image Compression Manager. You then create sprites and add them to your sprite world using the <code>NewSprite</code> function.</p><p>All the function calls related to sprites and sprite animation are described in the <em>QuickTime API Reference</em> available at <span class="content_text"><a href="http://developer.apple.com/documentation/QuickTime/QuickTime.html" target="_top">http://developer.apple.com/documentation/QuickTime/QuickTime.html</a></span></p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_18" title="Listing 1-1Creating sprites"></a><p class="codesample"><a name="//apple_ref/doc/uid/TP40000944-CH205-BABIEDFE" title="Listing 1-1Creating sprites"></a><strong>Listing 1-1&nbsp;&nbsp;</strong>Creating sprites</p><div class="codesample"><table><tr><td scope="row"><pre>// constants<span></span></pre></td></tr><tr><td scope="row"><pre>#define kNumSprites                 4<span></span></pre></td></tr><tr><td scope="row"><pre>#define kNumSpaceShipImages         24<span></span></pre></td></tr><tr><td scope="row"><pre>#define kBackgroundPictID           158<span></span></pre></td></tr><tr><td scope="row"><pre>#define kFirstSpaceShipPictID       (kBackgroundPictID + 1)<span></span></pre></td></tr><tr><td scope="row"><pre>#define kSpaceShipWidth             106<span></span></pre></td></tr><tr><td scope="row"><pre>#define kSpaceShipHeight            80<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>// global variables<span></span></pre></td></tr><tr><td scope="row"><pre>SpriteWorld                 gSpriteWorld = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>Sprite                      gSprites[kNumSprites];<span></span></pre></td></tr><tr><td scope="row"><pre>Rect                        gDestRects[kNumSprites];<span></span></pre></td></tr><tr><td scope="row"><pre>Point                       gDeltas[kNumSprites];<span></span></pre></td></tr><tr><td scope="row"><pre>short                       gCurrentImages[kNumSprites];<span></span></pre></td></tr><tr><td scope="row"><pre>Handle                      gCompressedPictures[kNumSpaceShipImages];<span></span></pre></td></tr><tr><td scope="row"><pre>ImageDescriptionHandle      gImageDescriptions[kNumSpaceShipImages];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>void MyCreateSprites (void)<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    long            lIndex;<span></span></pre></td></tr><tr><td scope="row"><pre>    Handle          hCompressedData = NULL;<span></span></pre></td></tr><tr><td scope="row"><pre>    PicHandle       hpicImage;<span></span></pre></td></tr><tr><td scope="row"><pre>    CGrafPtr        pOldPort;<span></span></pre></td></tr><tr><td scope="row"><pre>    GDHandle        hghOldDevice;<span></span></pre></td></tr><tr><td scope="row"><pre>    OSErr           nErr;<span></span></pre></td></tr><tr><td scope="row"><pre>    RGBColor        rgbcKeyColor;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    SetRect(&amp;gDestRects[0], 132, 132, 132 + kSpaceShipWidth,<span></span></pre></td></tr><tr><td scope="row"><pre>        132 + kSpaceShipHeight);<span></span></pre></td></tr><tr><td scope="row"><pre>    SetRect(&amp;gDestRects[1], 50, 50, 50 + kSpaceShipWidth,<span></span></pre></td></tr><tr><td scope="row"><pre>        50 + kSpaceShipHeight);<span></span></pre></td></tr><tr><td scope="row"><pre>    SetRect(&amp;gDestRects[2], 100, 100, 100 + kSpaceShipWidth,<span></span></pre></td></tr><tr><td scope="row"><pre>        100 + kSpaceShipHeight);<span></span></pre></td></tr><tr><td scope="row"><pre>    SetRect(&amp;gDestRects[3], 130, 130, 130 + kSpaceShipWidth,<span></span></pre></td></tr><tr><td scope="row"><pre>        130 + kSpaceShipHeight);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[0].h = -3;<span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[0].v = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[1].h = -5;<span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[1].v = 3;<span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[2].h = 4;<span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[2].v = -6;<span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[3].h = 6;<span></span></pre></td></tr><tr><td scope="row"><pre>    gDeltas[3].v = 4;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    gCurrentImages[0] = 0;<span></span></pre></td></tr><tr><td scope="row"><pre>    gCurrentImages[1] = kNumSpaceShipImages / 4;<span></span></pre></td></tr><tr><td scope="row"><pre>    gCurrentImages[2] = kNumSpaceShipImages / 2;<span></span></pre></td></tr><tr><td scope="row"><pre>    gCurrentImages[3] = kNumSpaceShipImages * 4 / 3;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    rgbcKeyColor.red = rgbcKeyColor.green = rgbcKeyColor.blue = 0xFFFF;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // recompress PICT images to make them transparent<span></span></pre></td></tr><tr><td scope="row"><pre>    for (lIndex = 0; lIndex &lt; kNumSpaceShipImages; lIndex++)<span></span></pre></td></tr><tr><td scope="row"><pre>    {<span></span></pre></td></tr><tr><td scope="row"><pre>        hpicImage = (PicHandle)GetPicture(lIndex +<span></span></pre></td></tr><tr><td scope="row"><pre>                                            kFirstSpaceShipPictID);<span></span></pre></td></tr><tr><td scope="row"><pre>        DetachResource((Handle)hpicImage);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        MakePictTransparent(hpicImage, &amp;rgbcKeyColor);<span></span></pre></td></tr><tr><td scope="row"><pre>        ExtractCompressData(hpicImage, &amp;gCompressedPictures[lIndex],<span></span></pre></td></tr><tr><td scope="row"><pre>            &amp;gImageDescriptions[lIndex]);<span></span></pre></td></tr><tr><td scope="row"><pre>        HLock(gCompressedPictures[lIndex]);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        KillPicture(hpicImage);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // create the sprites for the sprite world<span></span></pre></td></tr><tr><td scope="row"><pre>    for (lIndex = 0; lIndex &lt; kNumSprites; lIndex++) {<span></span></pre></td></tr><tr><td scope="row"><pre>        MatrixRecord        matrix;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        SetIdentityMatrix(&amp;matrix);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        matrix.matrix[2][0] = ((long)gDestRects[lIndex].left &lt;&lt; 16);<span></span></pre></td></tr><tr><td scope="row"><pre>        matrix.matrix[2][1] = ((long)gDestRects[lIndex].top &lt;&lt; 16);<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        nErr = NewSprite(&amp;(gSprites[lIndex]), gSpriteWorld,<span></span></pre></td></tr><tr><td scope="row"><pre>            gImageDescriptions[lIndex],* gCompressedPictures[lIndex],<span></span></pre></td></tr><tr><td scope="row"><pre>            &amp;matrix, TRUE, lIndex);<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The code in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABIEDFE">Listing 1-1</a></span> enables you to create a set of sprites that populate a sprite world, and explicitly follows these steps:</p><ol class="ol"><li class="li"><p>It initializes some global arrays with position and image information for the sprites. </p></li><li class="li"><p><code>MyCreateSprites</code> iterates through all the sprite images, preparing each image for display. For each image, <code>MyCreateSprites</code> calls the sample code function <code>MakePictTransparent</code> function, which strips any surrounding background color from the image. <code>MakePictTransparent</code> does this by using the animation compressor to recompress the PICT images using a key color. </p></li><li class="li"><p>Then <code>MyCreateSprites</code> calls <code>ExtractCompressData</code>, which extracts the compressed data from the PICT image. </p></li><li class="li"><p>Once the images have been prepared, <code>MyCreateSprites</code> calls <code>NewSprite</code> to create each sprite in the sprite world. <code>MyCreateSprites</code> creates each sprite in a different layer.</p></li></ol><p>Sprites are a particularly useful media type because you can “wire” them to perform interactive or automated actions, discussed in the next section. </p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABBDFAD" title="Wired Movies "></a><h2>Wired Movies </h2><p>A sprite is a compact data structure that contains properties such as location on the screen, rotation, scale, and an image source. A <em>wired</em> sprite is a sprite that takes action in response to an event. By wiring sprites together, you can create a <strong>wired movie</strong> with a high degree of user interactivity––in other words, a movie that is responsive to user input. </p><p>When user input is translated into QuickTime events, <strong>actions</strong> may be performed in response to these events. Each action typically has a specific <strong>target</strong>, which is the element in a movie the action is performed on. Target types may include sprites, tracks, and even the movie itself. This is a powerful feature of QuickTime, in that you can have one movie play inside another, and control the actions of both movies. Actions have a set of parameters that help describe how the target element is changed.</p><p>Typical wired actions—such as jumping to a particular time in a movie or setting a sprite’s image index—enable a sprite to act as a button which users can click. In response to a mouse down event, for example, the wired sprite could change its own image index property, so that its button-pressed image is displayed. In response to a mouse up event, the sprite can change its image index property back to the button up image and, additionally, specify that the movie jump to a particular time.</p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF110" title="Adding Actions"></a><h3>Adding Actions</h3><p>When you wire a sprite track, you add actions to it. Wired sprite tracks may be the only tracks in a movie, but they are commonly used in concert with other types of tracks. Actions associated with sprites in a sprite track, for example, can control the audio volume and balance of an audio track, or the graphics mode of a video track. </p><p>Wired sprite tracks may also be used to implement a graphical user interface for an application. Applications can find out when actions are executed, and respond however they wish. For example, a CD audio controller application could use an action sprite track to handle its graphics and user interface.</p><p>These wired sprite actions are not only provided by sprite tracks. In principle, you can “wire” any QuickTime movie that contains actions, including QuickTime VR, text, and sprites. </p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF118" title="Wired Actions"></a><h3>Wired Actions</h3><p>There are currently over 100 wired actions and operands available in QuickTime. They include</p><ul class="spaceabove"><li class="li"><p>starting and stopping movies</p></li><li class="li"><p>jumping forward or backward to a point in the movie time line</p></li><li class="li"><p>enabling and disabling tracks</p></li><li class="li"><p>controlling movie characteristics such as playback speed and audio volume</p></li><li class="li"><p>controlling track characteristics such as graphics mode and audio balance</p></li><li class="li"><p>changing VR settings such as field of view and pan angle</p></li><li class="li"><p>changing the appearance or behavior of other sprites</p></li><li class="li"><p>triggering sounds</p></li><li class="li"><p>triggering animations</p></li><li class="li"><p>performing calculations</p></li><li class="li"><p>sending messages to a Web server</p></li><li class="li"><p>printing a message in the browser’s status window</p></li><li class="li"><p>loading a URL in the browser, the QuickTime plug-in, or QuickTime Player</p></li></ul><p>You can combine multiple actions to create complex behaviors that include IF-ELSE-THEN tests, loops, and branches.</p><p>For a complete description of all available wired actions, you should refer to the <em>QuickTime API Reference</em> available at </p><p><span class="content_text"><a href="http://developer.apple.com/documentation/QuickTime/QuickTime.html" target="_top">http://developer.apple.com/documentation/QuickTime/QuickTime.html</a></span></p><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF112" title="User Events"></a><h3>User Events</h3><p>When the user performs certain actions, QuickTime sends event messages to sprites and sprite tracks, using QuickTime’s atom architecture. You attach handlers to sprites and sprite tracks to respond to these messages:</p><ul class="spaceabove"><li class="li"><p><code>Mouse click</code> is sent to a sprite if the mouse button is pressed while the cursor is over the sprite. </p></li><li class="li"><p><code>Mouse click end</code> and <code>mouse click end trigger button</code> are both sent to the sprite that received the last mouse click event when the mouse button is released.</p></li><li class="li"><p><code>Mouse enter</code> is sent to a sprite when the cursor first moves into its image. </p></li><li class="li"><p><code>Mouse exit</code> is sent to the sprite that received the last mouse enter event when the cursor is either no longer over the sprite’s image or enters another image that is in front of it. </p></li><li class="li"><p><code>Idle</code> is sent repeatedly to each sprite in a sprite track at an interval that you can set in increments of 1/60 second. You can also tell QuickTime to send no idle events or to send them as often as possible.</p></li><li class="li"><p><code>Frame loaded</code><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_177"></a> is sent to the sprite track when the current sprite track frame is loaded and contains a handler for this event type. A typical response to the frame loaded event is to initialize the sprite track’s variables. </p></li></ul><p>The <code><!--a  -->Typewrite.mov<!--/a--></code>, shown in the illustration in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABDGGFB">Figure 1-11</a></span>, is one example of a wired movie. </p><p>The Typewrite movie is a QuickTime movie that includes an entire keyboard that is comprised of wired sprites. By clicking one of the keys, you can trigger an event that is sent to the text track and is displayed as an alphanumeric character in the movie. You can also enter text directly from the computer keyboard, which is then instantly displayed as if you were typing in the movie itself. The text track, handling both script and live entry, can also be scrolled by clicking the arrows in the right or lower portions of the movie. Each key, when pressed, has a particular sound associated with it, adding another level of user interactivity. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_19" title="Figure 1-11The Typewrite wired movie with sprites as keyboard characters"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABDGGFB" title="Figure 1-11The Typewrite wired movie with sprites as keyboard characters"></a><strong>Figure 1-11&nbsp;&nbsp;</strong>The Typewrite wired movie with sprites as keyboard characters</p><img src = "../art/typewrite.gif" alt = "The Typewrite wired movie with sprites as keyboard characters" width="284" height="322"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF119" title="Using Flash With QuickTime"></a><h3>Using Flash With QuickTime</h3><p>Flash is a vector-based graphics and animation technology designed specifically for the Internet. It lets content authors and developers create a wide range of interactive vector animations. The files exported by this tool are called SWF (pronounced “swiff”), or<code> .swf</code> files. SWF files are commonly played back using Macromedia’s ShockWave plug-in. </p><p>QuickTime 4 introduced the Flash media handler, which allows a Macromedia Flash SWF 3.0 or SWF 4.0 file to be treated as a track within a QuickTime movie. In doing so, QuickTime extended the SWF file format by enabling the execution of any of QuickTime’s library of wired actions.</p><p>A Flash track consists of a SWF file imported into a QuickTime movie. The Flash track runs in parallel to whatever QuickTime elements are available. Using a Flash track, you can hook up buttons and QuickTime wired actions to a movie. The Flash time line corresponds to the parallel time line of the movie in which it is playing.</p><p>Because a QuickTime movie may contain any number of tracks, multiple SWF tracks may be added to the same movie. The Flash media handler also provides support for an optimized case using the alpha channel graphics mode, which allows a Flash track to be composited cleanly over other tracks.</p><p>QuickTime 5 includes support for the interactive playback of SWF 4.0 files by extending the existing SWF importer and the Flash media handler. This support is compatible with SWF 3.0 files supported in QuickTime 4.x.</p><p>In QuickTime, you can also trigger actions in the Flash time line. A QuickTime wired action can make a button run its script in Flash. You can also get and set variables in the Flash movie (in Flash 4 these are text fields), as well as pass parameters. When you place Flash elements in front of QuickTime elements and set the Flash track to alpha, for example, all of Flash’s built-in alpha transparency is used to make overlaid, composited effects. </p><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BBCHCCGJ">Figure 1-12</a></span> shows an example of a QuickTime movie that uses Flash for enhanced user interactivity.</p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_20" title="Figure 1-12A QuickTime movie using Flash "></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BBCHCCGJ" title="Figure 1-12A QuickTime movie using Flash "></a><strong>Figure 1-12&nbsp;&nbsp;</strong>A QuickTime movie using Flash </p><img src = "../art/qt_flash_demo1.gif" alt = "A QuickTime movie using Flash" width="388" height="319"></div><br/><p><code>QTFlashDemo.mov</code> features a number of distinctive Flash interface elements, such as buttons that let the user control the kinds of actions displayed––for example, the longest jump. The movie itself is rich in content and functionality, and includes an introductory animated sequence, navigation linking to bookmarks in the movie, a semi-transparent control interface, and titles layered and composited over the movie.</p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABFHHEE" title="QuickTime Media Skins"></a><h2>QuickTime Media Skins</h2><p>Typically, QuickTime Player displays movies in a rectangular display area within a draggable window frame. As shown in the section <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABBCGAJ">“QuickTime Player,”</a></span> the frame has a brushed-metal appearance and rounded control buttons. The exact controls vary depending on the movie’s controller type, with most movies having the standard Movie Controller. </p><p>If the movie’s controller is set to the None Controller, QuickTime Player displays the movie in a very narrow frame with no control buttons. This allows you to display a movie without controls, or to create your own controls using a Flash track or wired sprites.</p><p>In QuickTime 5, however, you can customize the appearance of QuickTime Player for certain types of content by adding a media skin to the movie. A <strong>media skin</strong> is specific to the content and is <em>part</em> of the movie (just another track, essentially). It defines the size and shape of the window in which the movie is displayed. A media skin also defines which part of the window is draggable. The movie is not surrounded by a frame. No controls are displayed, except those that you may have embedded in the movie using Flash or wired sprites.</p><p>Taking an example, suppose you’ve created a movie with a curved frame and wired sprite controls, as shown in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABDFIIJ">Figure 1-13</a></span>.</p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_21" title="Figure 1-13A QuickTime movie with custom frame and wired sprite controls"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABDFIIJ" title="Figure 1-13A QuickTime movie with custom frame and wired sprite controls"></a><strong>Figure 1-13&nbsp;&nbsp;</strong>A QuickTime movie with custom frame and wired sprite controls</p><img src = "../art/qtskins_10.jpg" alt = "A QuickTime movie with custom frame and wired sprite controls" ></div><br/><p>Now suppose you want to add a media skin that specifies a window the size and shape of your curved frame, and a draggable area that corresponds to the frame itself.</p><p>If the movie is then played in QuickTime, your movie appears in a curved window, as shown in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABBJDGH">Figure 1-14</a></span>, with the areas that you have specified acting as a draggable frame, as if you had created a custom movie player application just for your specific content. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_22" title="Figure 1-14A skinned movie in QuickTime, which appears as if you had created a custom movie player application"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABBJDGH" title="Figure 1-14A skinned movie in QuickTime, which appears as if you had created a custom movie player application"></a><strong>Figure 1-14&nbsp;&nbsp;</strong>A skinned movie in QuickTime, which appears as if you had created a custom movie player application</p><img src = "../art/qtskins_11.gif" alt = "A skinned movie in QuickTime, which appears as if you had created a custom movie player application" width="426" height="310"></div><br/><p>You don’t need to assign the None Controller to a movie with a media skin (although you can). If the Movie Controller is assigned to your movie, the controller’s keyboard equivalents operate when your window is active, even though the controller is not displayed. The space bar starts and stops a linear movie, for example, while the shift key zooms in on a VR panorama. You can disable this feature by assigning the None Controller.</p><p>Media skins have no effect when a movie is played by the QuickTime browser plug-in or other QuickTime-aware applications, such as Adobe Acrobat. However, developers can modify their applications to recognize movies that contain media skins, and to retrieve the shape information. </p><p>The process of customizing the appearance of QuickTime Player by adding a media skin to a movie is diagrammed in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BBCGIFGH">Figure 1-15</a></span>. It involves these basic steps:</p><ol class="ol"><li class="li"><p>You add a media skin to your video movie by using the add-scaled command.</p></li><li class="li"><p>Create black-and-white images to define the window and drag areas (masks).</p></li><li class="li"><p>Create an XML text file containing references to your files.</p></li><li class="li"><p>Save the text file with a name ending in <code><!--a  -->.mov<!--/a--></code>.</p></li><li class="li"><p>Open the movie in QuickTime Player, then Save the movie as a <code><!--a  -->Self-contained.mov<!--/a--></code>. </p></li></ol><p>The key element in a media skin movie is the XML file. This file contains references pointing at three specific sources: the content (that is, any media that QuickTime “understands,” such as JPEG images, <code><!--a  -->.mov<!--/a--></code>, or <code>.swf</code> files), the Window mask and the Drag mask. The XML file is read by the XML importer in QuickTime, and the movie is then created on the fly from the assembly instructions in the XML file. When that occurs, you have a “skinned” movie that behaves in the same way that any other QuickTime movie behaves. The subsequent step shown in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BBCGIFGH">Figure 1-15</a></span>––Save the movie as a <code>Self-contained.mov</code>––takes all of the referred elements and puts them into a specific file. That step, however, is optional. </p><p>Note that the <code>Framed.mov</code> in the diagram can be a Flash movie, or any other QuickTime movie. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_23" title="Figure 1-15The process of adding a media skin to a  QuickTime movie in five easy steps"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BBCGIFGH" title="Figure 1-15The process of adding a media skin to a  QuickTime movie in five easy steps"></a><strong>Figure 1-15&nbsp;&nbsp;</strong>The process of adding a media skin to a  QuickTime movie in five easy steps</p><img src = "../art/skins_sequence.gif" alt = "The process of adding a media skin to a  QuickTime movie in five easy steps" width="563" height="149"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-BABBFFDI" title="QuickTime VR"></a><h2>QuickTime VR</h2><p>QuickTime <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_178"></a>VR (QTVR) extends QuickTime’s interactive capabilities by creating an immersive user experience that simulates three-dimensional objects and places. In QuickTime VR, user interactivity is enhanced because you can control QTVR panoramas and QTVR object movies by clicking and dragging various hot spots with the mouse.</p><p>A QTVR <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_179"></a><strong>panorama</strong> lets you stand in a virtual place and look around. It provides a full 360 degree panorama and in QuickTime, the ability to tilt up and down a full 180 degrees. The actual horizontal and vertical range, however, is determined by the panorama itself. To look left, right, up and down, you simply drag with the mouse across the panorama. </p><p>QTVR <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_180"></a><strong>object movies</strong>, by contrast, allow you to “handle” an object, so you can see it from every angle. You can rotate it, tilt it, and turn it over. </p><p>A <strong>QTVR scene</strong> can include multiple, linked panoramas and objects. </p><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABDDIDH">Figure 1-16</a></span> shows an illustration of a QuickTime VR panoramic movie in Mac OS X, with various controls to manipulate the panorama. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_24" title="Figure 1-16A QuickTime VR panoramic movie in Mac OS X"></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABDDIDH" title="Figure 1-16A QuickTime VR panoramic movie in Mac OS X"></a><strong>Figure 1-16&nbsp;&nbsp;</strong>A QuickTime VR panoramic movie in Mac OS X</p><img src = "../art/iqt_im02.gif" alt = "A QuickTime VR panoramic movie in Mac OS X" width="399" height="354"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF114" title="The QuickTime VR Media Type"></a><h3>The QuickTime VR Media Type</h3><p><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_181"></a>QuickTime VR is a media type that lets users examine and explore photorealistic, three-dimensional virtual worlds. The result is sometimes called <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_182"></a><strong>immersive imaging</strong>. Virtual reality information is typically stored as a <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_183"></a><strong>panorama</strong>, made by stitching many images together so they surround the user’s viewpoint or surround an object that the user wants to examine. The panorama then becomes the media structure for a QuickTime movie track.</p><p>There are hundreds of ways that VR movies can transform the QuickTime experience, creating effects that are truly spectacular, such as a view to the sky from a forest, as illustrated in the cubic panorama in <span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABJGGIG">Figure 1-17</a></span>. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_25" title="Figure 1-17A cubic panorama with a view of the sky in a forest "></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABJGGIG" title="Figure 1-17A cubic panorama with a view of the sky in a forest "></a><strong>Figure 1-17&nbsp;&nbsp;</strong>A cubic panorama with a view of the sky in a forest </p><img src = "../art/cubic_vr_plugin03.gif" alt = "A cubic panorama with a view of the sky in a forest" width="405" height="289"></div><br/><p><span class="content_text"><a href="1-General-Intro.html#//apple_ref/doc/uid/TP40000944-CH205-BABDGCHB">Figure 1-18</a></span> shows an illustration from a QuickTime VR panoramic movie, where you can look directly upward to the night sky from the ground level in Times Square in New York. </p><p>Using VR controls, you can move up and down 180 degrees and navigate freely around the surface edges of the nearby skyscrapers. </p><br/><div><a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_26" title="Figure 1-18A QuickTime VR panorama movie with a view upward into the  night sky at Times Square "></a><p><a name="//apple_ref/doc/uid/TP40000944-CH205-BABDGCHB" title="Figure 1-18A QuickTime VR panorama movie with a view upward into the  night sky at Times Square "></a><strong>Figure 1-18&nbsp;&nbsp;</strong>A QuickTime VR panorama movie with a view upward into the  night sky at Times Square </p><img src = "../art/cubic_vr_plugin01.gif" alt = "A QuickTime VR panorama movie with a view upward into the  night sky at Times Square" width="410" height="281"></div><br/><a name="//apple_ref/doc/uid/TP40000944-CH205-TPXREF115" title="Creating QTVR Movies Programmatically"></a><h3>Creating QTVR Movies Programmatically</h3><p>Users with very little experience can take advantage of applications such as <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_184"></a>QuickTime VR Authoring Studio to capture virtual reality panoramas from still or moving images and turn them into QuickTime VR movie tracks. </p><p>Alternatively, the software you write can make calls to the QuickTime <a name="//apple_ref/doc/uid/TP40000944-CH205-DontLinkElementID_185"></a><strong>VR Manager</strong> to create VR movies programmatically or to give your user virtual reality authoring capabilities. Once information is captured in the VR file format, your code can call QuickTime to</p><ul class="spaceabove"><li class="li"><p>display movies of panoramas and VR objects</p></li><li class="li"><p>perform basic orientation, positioning, and animation control</p></li><li class="li"><p>intercept and override QuickTime VR’s mouse-tracking and default hot spot behaviors</p></li><li class="li"><p>combine flat or perspective overlays (such as image movies or 3D models) with VR movies</p></li><li class="li"><p>specify transition effects</p></li><li class="li"><p>control QuickTime VR’s memory usage</p></li><li class="li"><p>intercept calls to some QuickTime VR Manager functions and modify their behavior</p></li></ul><p>The next chapters in this book discuss many of the ways that your code can take advantage of QuickTime VR, as well as the tools and techniques available to your application for enhanced user interactivity. </p>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../0Preface/QTVR-preface.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../2Chap/2-QTVR-Authoring.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2002, 2005 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2005-06-04<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/QuickTime/InsideQT_QTVR/1Chap/1-General-Intro.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/QuickTime/InsideQT_QTVR/1Chap/1-General-Intro.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/QuickTime/InsideQT_QTVR/1Chap/1-General-Intro.html%3Fid%3DTP40000944-2.3&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>