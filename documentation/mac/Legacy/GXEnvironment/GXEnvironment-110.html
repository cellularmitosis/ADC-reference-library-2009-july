<!-- Generated by Harlequin WebMaker 2.2.3 (23-Apr-1996)
LispWorks 3.2.2 -->
<HTML> <HEAD>
<TITLE>Obtaining Errors, Warnings, and Notices(IM: XU)</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../../../Resources/CSS/frameset_styles.css">
<script type="text/javascript" language="JavaScript" src="../../../Resources/JavaScript/page.js"></script>
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<div style="width:100%; position:fixed;"><div align="center" id="watermark" style="position: relative; margin-left:auto; margin-right:auto; z-index:20; width:500px;">
<div class="legacybox" style="position: relative;">
<h1>Legacy Document<span class=closebutton><a href="javascript:closeWatermark()"><img src="../../../Resources/Images/closebutton.png" width="14" height="14" border="0" align="top" alt="close button"></a></span></h1><p><b>Important:</b>
The information in this document is obsolete and should not be used for new development.</p></div></div></div>


<A NAME=HEADING110></A>


<!-- start of header -->

<!--#include virtual="/includes/framesetheader" -->

<!-- end of header -->


<!-- Main Body -->

<CENTER>
<P>
<A HREF="GXEnvironment-109.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-111.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<FONT SIZE=-1><DL><DT><a href="../../../macos8/mac8.html" onmouseover="window.status='Macintosh Documentation'; return true"><B>Inside Macintosh:</B></A> <A HREF="GXEnvironment-2.html"><B>QuickDraw GX Environment and Utilities</B></A> / <BR><DD><A HREF="GXEnvironment-105.html"><B>Chapter 3 - Errors, Warnings, and Notices</B></A> / <A HREF="GXEnvironment-109.html"><B>Using Errors, Warnings, and Notices</B></A></DL></FONT><P>
<HR>
<BLOCKQUOTE>
<A NAME=HEADING110-0></A>
<H2><A NAME=MARKER-9-98></A>Obtaining Errors, Warnings, and Notices</H2>
 You can use the <CODE>GXGetGraphicsError</CODE>, <CODE>GXGetGraphicsWarning</CODE>, and <CODE>GXGetGraphicsNotice</CODE> functions to obtain QuickDraw GX error, warning, and notice messages describing problems that occur during the execution of your application. These three functions return the last problem encountered during execution. If no problem has been posted, the function returns 0 until a problem message is posted. <P>
 The <CODE>stickyError</CODE>, <CODE>stickyWarning</CODE>, or <CODE>stickyNotice</CODE> parameters of the respective function, if not <CODE>nil</CODE>, are pointers to the first execution problem that QuickDraw GX encountered after the last time that the <CODE>GXGetGraphicsError</CODE>, <CODE>GXGetGraphicsWarning</CODE>, or <CODE>GXGetGraphicsNotice</CODE> function was called. These functions thereby allow you to determine both the original problem and the final problem that was detected by QuickDraw GX during execution of your application. <P>
<DL>
<DT><B>Note</B>
<DD>Notices are posted only in the debugging version of QuickDraw GX.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
 <A HREF=#MARKER-9-99>Figure 3-2</A> shows the use of these polling functions to obtain the errors, warnings, and notices of selected blocks of your code.<P>
<B>Figure 3-2  <A NAME=MARKER-9-99></A>Polling for errors, warnings, and notices</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/EU-L-56.jpg"><p>
 <A HREF=#MARKER-9-100>Figure 3-3</A> shows the use of the <CODE>GXGetGraphicsError</CODE> function to obtain the first and last errors posted when you test your QuickDraw GX application.<P>
<B>Figure 3-3  <A NAME=MARKER-9-100></A>Obtaining the first and last posted QuickDraw GX error</B><P>
<IMG ALIGN = BOTTOM SRC = "graphics/EU-L-12.gif"><p>
 <A HREF=#MARKER-9-101>Listing 3-1</A> shows the use of the <CODE>GXGetGraphicsError</CODE> function to obtain the first error posted after the execution of a block of code. <P>
<B>Listing 3-1  <A NAME=MARKER-9-101></A>Obtaining the first posted error</B><P>
<PRE>
static void ObtainOriginalError(void)
{

/* block of application code */

/* 
If an error occurred, then see if the orginal error was 
out_of_memory. Note that you need to look at the original error, 
not the last error returned, since if the NewLine fails, then 
the next two functions (DrawShape and DisposeShape) will 
generate a shape_is_nil error.
*/

   {  graphicsError myError, originalError;
      if( myError = GetGraphicsError(&amp;originalError) ) {
         if( originalError == out_of_memory ) {
            /* post out of memory dialog box */
         } else {
/* post generic error dialog box */
         }
      }
   }
}
</PRE>
 <A HREF=#MARKER-9-102>Listing 3-2</A> shows the use of the <CODE>GXGetGraphicsWarning</CODE> function to obtain the first and last warning posted after the execution of a block of code. <P>
<B>Listing 3-2  <A NAME=MARKER-9-102></A>Obtaining the first and last QuickDraw GX warning </B><P>
<PRE>
static void ObtainFirstLastWarning(void)
{

/* block of application code */

/* 
It might be valuable to look at both myWarning (last warning 
posted) and originalWarning (first warning posted), although the 
last warning is usually the most important warning posted. 
*/

   {  graphicsWarning myWarning, originalWarning;
      if( myWarning = GXGetGraphicsWarning(&amp;originalWarning) ) {
         DebugStr(&quot;\pa warning occurred&quot;);
      }
   }
}
</PRE>
 <A HREF=#MARKER-9-103>Listing 3-3</A> shows the use of the <CODE>GXGetGraphicsNotice</CODE> function to obtain the first and last notices posted after the execution of a block of code. <P>
<B>Listing 3-3  <A NAME=MARKER-9-103></A>Obtaining the first and last posted notices</B><P>
<PRE>
static void ObtainFirstLastNotice(void)
{

/* block of application code */

/* 
It might be useful to look at both myNotice (last notice 
posted)and originalNotice (first notice posted), although the last 
notice is usually the most important notice posted. 
*/
   {  graphicsNotice myNotice, originalNotice;
      if( myNotice = GXGetGraphicsNotice(&amp;originalNotice) ) {
         DebugStr(&quot;\pa notice occurred&quot;);
      }
   }
}
</PRE>
 The <CODE>GXGetGraphicsError</CODE> function is described on <A HREF=GXEnvironment-122.html#MARKER-9-153>page 3-54</A>. The QuickDraw GX errors that may be posted are listed in the section <A HREF=GXEnvironment-108.html#MARKER-9-84>"Errors" beginning on page 3-6</A>. QuickDraw GX allows you to ignore warnings and notices, but does not provide a function that will ignore errors.<P>
 The <CODE>GXGetGraphicsWarning</CODE> function is described on <A HREF=GXEnvironment-127.html#MARKER-9-167>page 3-58</A>. The QuickDraw GX warnings that may be posted are listed in the section <A HREF=GXEnvironment-108.html#MARKER-9-92>"Warnings" beginning on page 3-10</A>. QuickDraw GX allows you to ignore warnings that would otherwise be posted. How to ignore warnings is discussed in the section <A HREF=GXEnvironment-112.html#MARKER-9-114>"Ignoring Warnings and Notices" beginning on page 3-36</A>. The <CODE>GXIgnoreGraphicsWarning</CODE> function is discussed on <A HREF=GXEnvironment-131.html#MARKER-9-179>page 3-62</A>.<P>
 The <CODE>GXGetGraphicsNotice</CODE> function is described on <A HREF=GXEnvironment-134.html#MARKER-9-187>page 3-64</A>. The QuickDraw GX notices that may be posted are listed in the section <A HREF=GXEnvironment-108.html#MARKER-9-95>"Notices" beginning on page 3-27</A>. QuickDraw GX allows you to ignore notices that would otherwise be posted. How to ignore notices is discussed in the section <A HREF=GXEnvironment-112.html#MARKER-9-114>"Ignoring Warnings and Notices" beginning on page 3-36</A>. The <CODE>GXIgnoreGraphicsNotice</CODE> function is discussed on <A HREF=GXEnvironment-138.html#MARKER-9-199>page 3-68</A>.<P>
<DL>
<DT><B>Note</B>
<DD>An alternative or complementary approach to the use of the <CODE>GXGetGraphicsError</CODE>, <CODE>GXGetGraphicsWarning</CODE>, and <CODE>GXGetGraphicsNotice</CODE> functions is to include an application-defined error, warning, or notice handler. This topic is discussed in the section <A HREF=GXEnvironment-113.html#MARKER-9-127>"Installing an Error, Warning, or Notice Handler" beginning on page 3-38</A>.<EM></EM>  <IMG ALIGN = BOTTOM SRC = "graphics/diamond.gif">
</DL>
</BLOCKQUOTE>
<HR>
<center>
<A HREF="GXEnvironment-109.html"><IMG ALIGN = BOTTOM SRC = "prev.gif" border=none hspace=20 alt="Previous"></A> <A HREF="GXEnvironment-2.html"><IMG ALIGN = BOTTOM SRC = "content.gif" border=none hspace=20 alt="Book Contents"></A> <A HREF="GXEnvironment-445.html"><IMG ALIGN = BOTTOM SRC = "index.gif" border=none hspace=20 alt="Book Index"></A> <A HREF="GXEnvironment-111.html"><IMG ALIGN = BOTTOM SRC = "next.gif" border=none hspace=20 alt="Next"></A> </CENTER><P>
<center><font size=-1><A HREF="GXEnvironment-3.html">&copy; Apple Computer, Inc.</A><br>7 JUL 1996</center></font><P>

<!-- start of footer  -->

<!--#include virtual="/includes/framesetfooter" -->

<!-- end of footer -->


</BODY>
</HTML>  
