<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Software Delivery Guide: Managed Installs</title>
	<meta id="Generator" name="Generator" content="Gutenberg"/>
	<meta id="GeneratorVersion" name="GeneratorVersion" content="v132"/>
	<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
	<meta id="Copyright" name="Copyright" content="Copyright 2009 Apple Inc. All Rights Reserved."/>
	<meta id="IndexTitle" name="IndexTitle" content="Managed Installs"/>
	<meta id="xcode-display" name="xcode-display" content="render"/>
	<meta id="toc-file" name="toc-file" content="../toc.html"/>
	<meta id="RESOURCES" content="../../../../Resources" />
	
	<link rel="stylesheet" type="text/css" href="../../../../Resources/CSS/frameset_styles.css"/>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/prototype.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/lib/scriptaculous.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/page.js"></script>
	<script language="JavaScript" type="text/javascript" src="../../../../Resources/JavaScript/pedia.js"></script>
	<!--[if lte IE 6]>
		<style type="text/css">
			/*<![CDATA[*/ 
			html {overflow-x:auto; overflow-y:hidden;  }
			/*]]>*/
		</style>
	<![endif]-->
</head>    
<body bgcolor="#ffffff" onload="initialize_page();"><a name="//apple_ref/doc/uid/10000145i-CH6" title="Managed Installs"></a>
    <noscript>
    <div id="tocMenu">
        <iframe id="toc_content" name="toc_content" SRC="../toc.html" width="210" height="100%" align="left" frameborder="0">This document set is best viewed in a browser that supports iFrames.</iframe>
    </div>
    </noscript>
    <div id="bodyText">
        <a name="top"></a>
        <div class="hideOnPrint hideInXcode">
        <!-- start of header -->
        <!--#include virtual="/includes/framesetheader" -->
        <!-- end of header -->
        </div>
        
        <!-- start of path -->
<div class="breadcrumb hideOnPrint hideInXcode"><a href="http://developer.apple.com/" target="_top">ADC Home</a> &gt; <a href="../../../../../referencelibrary/index.html#//apple_ref/doc/uid/TP30000943" target="_top">Reference Library</a> &gt; <a href="../../../../index.html#//apple_ref/doc/uid/TP30000440" target="_top">Guides</a> &gt; <a href="../../../index.html#//apple_ref/doc/uid/TP30000440-TP30000436" target="_top">Tools</a> &gt; <a href="../../../FilesSoftwareInstallation-date.html#//apple_ref/doc/uid/TP30000440-TP30000436-TP30000524" target="_top">Files &amp; Software Installation</a> &gt; <a href="../Introduction/Introduction.html#//apple_ref/doc/uid/10000145i-CH1-DontLinkElementID_69">Software Delivery Guide</a> &gt; </div><br class="hideInXcode"/><!-- end of path -->
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Manual_Installs/Manual_Installs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Component_Packages/Component_Packages.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCUpperSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" hideText="Hide TOC" showText="Show TOC" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <hr />
        
        
        <a name="//apple_ref/doc/uid/10000145i-CH6-SW8" title="Managed Installs"></a><h1>Managed Installs</h1><p>As described in <span class="content_text"><a href="../Overview/Overview.html#//apple_ref/doc/uid/10000145i-CH3-SW3">“Overview of Software Delivery,”</a></span> <strong>managed installs</strong> give you more control over the installation process, which, among other things, allows you to fine-tune the user’s install experience. However, when your product is made up of a single component that doesn’t need to be placed at privileged locations in the file system, such as <code>/Applications</code> or <code>/Library</code>, you should provide users with a manual install for your product. Manual installs are faster and easier to perform for novice and expert users alike. See <span class="content_text"><a href="../Manual_Installs/Manual_Installs.html#//apple_ref/doc/uid/10000145i-CH5-SW2">“Manual Installs”</a></span> for details.</p><p>Multicomponent products benefit from managed installs because you can specify how each of a product’s components is installed. Also, remote installs—which allow you to install products remotely on several computers on a network—are based on managed installs. For more information on remote installs, see <span class="content_text"><a href="../Remote_Installs/Remote_Installs.html#//apple_ref/doc/uid/10000145i-CH8-SW3">“Performing Remote Installs.”</a></span></p><p>Managed installs provide these features:</p><ul class="ul"><li class="li"><p>An automated install experience for multicomponent products</p></li><li class="li"><p>Support for upgrading your product, which may require replacing only certain components</p></li><li class="li"><p>Support for custom installs, which allow users to decide what components to install and where to install them</p></li></ul><p>On a more detailed level, managed installs provide fine control over the installation process, including:</p><ul class="ul"><li class="li"><p>The ability to perform operations before installing, such as:</p><ul class="nested"><li class="nested li"><p>Making sure the target system meets specific criteria</p></li><li class="nested li"><p>Requiring administrative-user authentication before installing components at privileged locations</p></li><li class="nested li"><p>Performing install operations, such as quitting an application to be upgraded or launching daemons (faceless applications)</p></li></ul></li><li class="li"><p>Control over details such as whether an install:</p><ul class="nested"><li class="nested li"><p>Allows the user to specify an alternate installation destination</p></li><li class="nested li"><p>Recommends or requires restart, logout, or shutdown after completion</p></li><li class="nested li"><p>Uses the ownership and access permissions of the user installing the product or those specified in the installation package</p></li></ul></li></ul><p>There are three ways of defining a managed install:</p><ul class="ul"><li class="li"><p><strong>Distribution packages</strong> let you define the complete install experience of your product. They also provide you with a great deal of flexibility for defining the install choices users use to customize an install. Distribution packages offer you and the users of your product the best installation solution for Mac OS X–based products. Distribution packages, however, can be installed only on computers running Mac OS X v10.4 and later.</p></li><li class="li"><p><strong>Metapackages</strong> provide some of the features distribution packages provide but can be installed on computers running Mac OS X v10.2 and later.</p></li><li class="li"><p><strong>Component packages</strong> contain a single product component. They are usually included as part of a distribution package or metapackage but can also be installed individually in computers running Mac OS X v10.2 and later.</p></li></ul><p>The following sections describe the major elements of managed installs and some of their limitations.</p>
<!-- This template is being used for both PDF and HTML. -->

    
    <h4>In this section:</h4>
    
    
    <p class="blockquote">
    
        
			
			
				<a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_23">Packages</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW12">System and Volume Requirements</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW10">The Installation Process</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW1">The User Install Experience</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_28">Postinstallation Process Action</a>
				
			<br/>
			
        
			
			
				<a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_29">Limitations of Managed Installs</a>
				
			<br/>
			
        

    </p><br/>

<a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_23" title="Packages"></a><h2>Packages</h2><p>The central part of a managed install is the <strong>installation package</strong>, which contains your product and installation information. The following sections describe installation packages and the various types of packages you may need to create when developing a managed install for a product.</p><a name="//apple_ref/doc/uid/10000145i-CH6-SW9" title="What Is a Package?"></a><h3>What Is a Package?</h3><p>An <strong>installation package</strong> (also known as a package) is a file package (a directory that appears in the Finder as a single file) created using the PackageMaker application (<code>/Developer/Applications/Utilities</code>). Packages contain a product or product component—the package’s <strong>payload</strong>—to be installed on a computer, and install configuration information that determines where and how the product is installed.</p><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_77" title="Note"></a><p><strong>Note:</strong>&nbsp;Application executables are usually enclosed in a <strong>bundle</strong>: a structured directory hierarchy that contains resources needed by the application, such as images and localized strings. Because these bundles are normally file packages, the term <strong>application package</strong> refers to an application bundle that the Finder displays as a single file. However, in this document the term package refers to an <em>installation package</em>, not an application package. For detailed information on Mac OS X bundles, see <em><a href="../../../../CoreFoundation/Conceptual/CFBundles/index.html#//apple_ref/doc/uid/10000123i" target="_top">Bundle Programming Guide</a></em>.</p></div><p>Packages have the extension <code>.pkg</code> or <code>.mpkg</code>. When a user double-clicks a package in a Finder window, the Installer application opens the package and walks the user through the installation process.</p><p>A package can specify details about four aspects of the package itself and its payload:</p><ul class="spaceabove"><li class="li"><p><strong>Product information:</strong> </p><ul class="simple-spaceabove"><li><p>Title</p></li><li><p>Description</p></li><li><p>Welcome file</p></li><li><p>Read Me file</p></li><li><p>License file</p></li><li><p>Conclusion file</p></li></ul></li><li class="li"><p><strong>Package properties:</strong></p><ul class="simple-spaceabove"><li><p>Package identifier</p></li><li><p>Package version number</p></li><li><p>Resource fork processing</p></li></ul></li><li class="li"><p><strong>Installation properties:</strong></p><ul class="simple-spaceabove"><li><p>System requirements</p></li><li><p>Volume requirements</p></li><li><p>Authentication requirement</p></li><li><p>Allowance for choosing an installation volume other than the boot volume</p></li><li><p>Installation destination on the installation volume</p></li><li><p>Relocation consent (the ability user may have to change the installation destination)</p></li><li><p>Revert consent</p></li><li><p>Directory-permissions overwrite</p></li><li><p>Postinstallation process action</p></li></ul></li><li class="li"><p><strong>Install operations:</strong></p><ul class="simple-spaceabove"><li><p>Preflight</p></li><li><p>Preinstall/Preupgrade</p></li><li><p>Postinstall/Postupgrade</p></li><li><p>Postflight</p></li></ul></li></ul><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_24" title="Component Packages"></a><h3>Component Packages</h3><p>A complex product, such as the Levon product introduced in <span class="content_text"><a href="../Overview/Overview.html#//apple_ref/doc/uid/10000145i-CH3-SW3">“Overview of Software Delivery,”</a></span> is made up of distinct components. Except for single-component products, <strong>component packages</strong> are used in conjunction with metapackages or distribution packages (described later in this chapter) to create an install experience. Specifically, component packages:</p><ul class="spaceabove"><li class="li"><p>Are the basis for the mechanism that allows you to provide users a way to specify which components to install (for example, a user may not want to install a product’s tutorial files)</p></li><li class="li"><p>Let you identify required components (which must be installed) and specify the locations of components to be installed at specific locations on the installation volume</p></li><li class="li"><p>Allow you to specify system and volume requirements for the component using executable files (see <span class="content_text"><a href="../Legacy_Requirements/Legacy_Requirements.html#//apple_ref/doc/uid/10000145i-CH13-SW1">“Specifying System and Volume Requirements in Pre-Tiger Systems”</a></span>)</p></li></ul><p>Component packages have the extension <code>.pkg</code>. Each component package contains a single product component and specifies product information, package properties, installation properties, and install operations.</p><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_78" title="Note"></a><p><strong>Note:</strong>&nbsp;During an install of a metapackage (described in <span class="content_text"><a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW11">“Metapackages”</a></span>), the product information for the contained component packages is not used or shown to the user. The product information for a component package is used only when installing the component package by itself, with no enclosing metapackage. Therefore, product information on a component package is generally used only by someone creating a metapackage or a distribution package containing that component package as they define the product information for the containing package.</p></div><p>Component packages can be installed on their own or as part of the install of a multicomponent product. After the payload of a component package is installed, Installer places a receipt in the <code>/Library/Receipts</code> directory of the installation volume. An <strong>installation receipt</strong> is a token that Installer uses to determine whether a package has already been installed on a system. As long as the receipt is present, subsequent installs of packages using the same package filename on the same volume are processed as upgrades.</p><a name="//apple_ref/doc/uid/10000145i-CH6-SW11" title="Metapackages"></a><h3>Metapackages</h3><p>A <strong>metapackage</strong> is an installation package that contains other installation packages. The enclosed packages can be component packages or metapackages (but not distribution packages).</p><p>Metapackages allow you to define a simple install experience for a multicomponent product. When users open a metapackage with the Installer application, they can choose to install only the components they need. Each enclosed package becomes an <strong>install choice</strong>. For example, if a product includes a tutorial-files component that the user performing the install doesn’t need, they can choose not to install that component.</p><p>Metapackages have the extension <code>.mpkg</code>. <span class="content_text">Table 4-1</span> shows what aspects of a metapackage and the packages (component packages and other metapackages) it contains are used in the installation process.</p><a name="//apple_ref/doc/uid/10000145i-CH6-SW4" title="Table 4-1Installation process of a metapackage"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 4-1&nbsp;&nbsp;</strong>Installation process of a metapackage</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p></p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Product information</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Package properties</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Installation properties</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Install operations</p></th></tr><tr><td class="rowhead"  scope="row"><p>Metapackage</p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td><td ><p><img src = "../art/inactive_check.jpg" alt = "image: ../art/inactive_check.jpg" ></p></td><td ><p><img src = "../art/inactive_check.jpg" alt = "image: ../art/inactive_check.jpg" ></p></td><td ><p><img src = "../art/inactive_check.jpg" alt = "image: ../art/inactive_check.jpg" ></p></td></tr><tr><td class="rowhead"  scope="row"><p>Contained packages</p></td><td ><p><img src = "../art/inactive_check.jpg" alt = "image: ../art/inactive_check.jpg" ></p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td></tr></table></div><p><span class="content_text">Table 4-1</span> indicates that the containing metapackage specifies package properties, installation properties, and specify install operations. However, the only aspect of the metapackage used in the installation process is its product information. Conversely, for the packages the metapackage contains, all aspects except product information are used in the installation process.</p><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_79" title="Compatibility"></a><p><strong>Compatibility:</strong>&nbsp;Metapackages can be installed on computers running Mac OS X v10.2 (Jaguar) or later.</p></div><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_25" title="Distribution Packages"></a><h3>Distribution Packages</h3><p>A <strong>distribution package</strong> is a metapackage that specifies both product and installation information for a product. Distribution packages provide more sophisticated facilities to tailor the installation process. The major features distribution packages provide are:</p><ul class="spaceabove"><li class="li"><p>Definition of the entire install experience in one place instead of having it spread out through several component packages </p></li><li class="li"><p>Definition of system and volume requirements using a requirements editor instead of executables</p></li><li class="li"><p>Install choices can contain more than one component package</p></li><li class="li"><p>Users can choose an installation destination for each install choice instead of for the entire install</p></li><li class="li"><p>Installer loads a distribution package for a multicomponent product with many component packages (and presents the user with the install experience it specifies) faster than a metapackage containing the same product</p></li></ul><p>The central part of a distribution package is the <strong>distribution script</strong>. This is a JavaScript-based script file that contains all the information that defines an install experience. When you create a distribution package using PackageMaker, the package’s distribution script is created for you.</p><p>Distribution packages differ from metapackages in these areas:</p><ul class="spaceabove"><li class="li"><p>They can be installed only on computers running Mac OS X v10.4 (Tiger) and later.</p></li><li class="li"><p>They must contain only component packages, not metapackages or distribution packages.</p></li><li class="li"><p>Installer ignores installation properties specified in the contained component packages (installation properties are specified by the distribution script).</p></li></ul><p><span class="content_text">Table 4-2</span> shows what aspects of a distribution package and the component packages it contains are used in the installation process.</p><a name="//apple_ref/doc/uid/10000145i-CH6-SW5" title="Table 4-2Installation process of a distribution package"></a><div class="tableholder"><table class="graybox" border = "0" cellspacing="0" cellpadding="5"><caption class="tablecaption"><strong>Table 4-2&nbsp;&nbsp;</strong>Installation process of a distribution package</caption><tr><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p></p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Product information</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Package properties</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Installation properties</p></th><th scope="col" align="left" style="font-weight: bold" bgcolor="#CCCCCC"><p>Install operations</p></th></tr><tr><td class="rowhead"  scope="row"><p>Distribution package</p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td><td ><p></p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td><td ><p></p></td></tr><tr><td class="rowhead"  scope="row"><p>Contained packages</p></td><td ><p><img src = "../art/inactive_check.jpg" alt = "image: ../art/inactive_check.jpg" ></p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td><td ><p><img src = "../art/inactive_check.jpg" alt = "image: ../art/inactive_check.jpg" ></p></td><td ><p><img src = "../art/active_check.jpg" alt = "image: ../art/active_check.jpg" ></p></td></tr></table></div><p><span class="content_text">Table 4-2</span> indicates that a distribution package specifies only product information and installation properties, and both aspects are used in the installation process. The contained packages may specify all package aspects, but only their package properties and install operations contribute to the installation process.</p><div class="importantbox"><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_80" title="Important:"></a><p><strong>Important:</strong>&nbsp;The system and volume requirements for a distribution package must reflect all the system and volume requirements of each of the component packages the distribution package contains.</p><p></p></div><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_81" title="Compatibility"></a><p><strong>Compatibility:</strong>&nbsp;Distribution packages can be installed on computers running Mac OS X v10.4 or later.</p></div><a name="//apple_ref/doc/uid/10000145i-CH6-SW12" title="System and Volume Requirements"></a><h2>System and Volume Requirements</h2><p>Two of the installation properties you can specify in a package are system requirements and volume requirements. These two properties define criteria the installation host must meet in order for the installation process to proceed.</p><ul class="ul"><li class="li"><p><strong>System requirements</strong> specify criteria the computer or operating system must satisfy. There are two types of system requirements: recommended and required. If the host doesn’t meet a required system requirement, the installation process is canceled.</p></li><li class="li"><p><strong>Volume requirements</strong> specify criteria each of the host’s volumes must meet in order to be considered a valid installation volume.</p></li></ul><a name="//apple_ref/doc/uid/10000145i-CH6-SW10" title="The Installation Process"></a><h2>The Installation Process</h2><p>After the Installer application opens a package, it performs the installation process in several phases:</p><ul class="ul"><li class="li"><p><strong>Requirements Check</strong></p><p>Installer ensures that the installation host meets the system and volume requirements specified by the package.</p></li><li class="li"><p><strong>Preinstall</strong></p><p>Installer runs <code>preflight</code> and <code>preinstall</code>/<code>preupgrade</code> executables. If an executable returns anything other than <code>0</code>, the install is cancelled.</p></li><li class="li"><p><strong>Install</strong></p><p>Installer extracts the payload of component packages and copies it to the appropriate destinations.</p></li><li class="li"><p><strong>Save Receipt</strong></p><p>Installer copies the component package file (with its payload stripped) to the <code>Library/Receipts</code> directory in the installation volume.</p></li><li class="li"><p><strong>Postinstall</strong></p><p>Installer runs <code>postinstall</code>/<code>postupgrade</code> and <code>postflight</code> executables.</p></li></ul><p>The following sections detail the operations that the Installer application performs in the Requirements Check, Preinstall, and Postinstall phases of the installation process for the three types of installation package files. For details on the purpose of the executable files used to define installation requirements and install operations (<code>InstallationCheck</code>, <code>VolumeCheck</code>, <code>preflight</code>, <code>preinstall</code>, <code>preupgrade</code>, <code>postinstall</code>, <code>postupgrade</code>, and <code>postflight</code>), see <span class="content_text"><a href="../Install_Operations/Install_Operations.html#//apple_ref/doc/uid/10000145i-CH14-SW1">“Specifying Install Operations”</a></span> and <span class="content_text"><a href="../Legacy_Requirements/Legacy_Requirements.html#//apple_ref/doc/uid/10000145i-CH13-SW1">“Specifying System and Volume Requirements in Pre-Tiger Systems.”</a></span></p><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_26" title="Component Package Installation Process"></a><h3>Component Package Installation Process</h3><p>This is how Installer performs the Requirements Check, Preinstall, and Postinstall phases of a component package’s installation process:</p><ul class="spaceabove"><li class="li"><p><strong>Requirements Check</strong></p><p><code>InstallationCheck</code></p><p><code>VolumeCheck</code> on each available volume</p></li><li class="li"><p><strong>Preinstall</strong></p><p><code>preflight</code></p><p><code>preinstall</code> or <code>preupgrade</code></p></li><li class="li"><p><strong>Postinstall</strong></p><p><code>postinstall</code> or <code>postupgrade</code></p><p><code>postflight</code></p></li></ul><a name="//apple_ref/doc/uid/10000145i-CH6-SW13" title="Metapackage Installation Process"></a><h3>Metapackage Installation Process</h3><p>This is how the Installer application performs the Requirements Check, Preinstall, and Postinstall phases of a metapackage’s installation process:</p><ul class="spaceabove"><li class="li"><p><strong>Requirements Check</strong></p><p><code>InstallationCheck</code> for each package but not the top metapackage</p><p><code>VolumeCheck</code> on each available volume for each package but not the top metapackage</p></li><li class="li"><p><strong>Preinstall</strong></p><p><code>preflight</code> for top metapackage</p><p><code>preflight</code> for each package</p><p><code>preinstall</code> or <code>preupgrade</code> for top metapackage</p><p><code>preinstall</code> or <code>preupgrade</code> for each package</p></li><li class="li"><p><strong>Postinstall</strong></p><p><code>postinstall</code> or <code>postupgrade</code> for each package</p><p><code>postinstall</code> or <code>postupgrade</code> for top metapackage</p><p><code>postflight</code> for top metapackage</p><p><code>postflight</code> for each package</p></li></ul><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_27" title="Distribution Package Installation Process"></a><h3>Distribution Package Installation Process</h3><p>This is how the Installer application performs the Requirements Check, Preinstall, and Postinstall phases of a distribution package’s installation process:</p><ul class="spaceabove"><li class="li"><p><strong>Requirements Check</strong></p><p>Installation Check script</p><p>Volume Check script on each available volume</p></li><li class="li"><p><strong>Preinstall</strong></p><p><code>preflight</code> for each package</p><p><code>preinstall</code> or <code>preupgrade</code> for each package</p></li><li class="li"><p><strong>Postinstall</strong></p><p><code>postinstall</code> or <code>postupgrade</code> for each package</p><p><code>postflight</code> for each package</p></li></ul><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_82" title="Note"></a><p><strong>Note:</strong>&nbsp;Any executable-based install operations specified in the distribution package itself (not in the component packages it contains) are ignored by the Installer application when the distribution package is installed in computers running Mac OS X v10.4 and later. On earlier versions of the operating system, the Installer application invokes the executable-based install operations as was done for metapackages (see <span class="content_text"><a href="Managed_Installs.html#//apple_ref/doc/uid/10000145i-CH6-SW13">“Metapackage Installation Process”</a></span>). You can take advantage of this feature when creating a single managed install solution for Tiger and pre-Tiger systems. See <span class="content_text"><a href="../Managed_Install_Definition/Managed_Install_Definition.html#//apple_ref/doc/uid/10000145i-CH9-SW15">“Creating a Hybrid Metapackage”</a></span> for more information.</p></div><a name="//apple_ref/doc/uid/10000145i-CH6-SW1" title="The User Install Experience"></a><h2>The User Install Experience</h2><p>The install experience that the Installer application shows users after they open an installation package has the following phases:</p><ul class="ul"><li class="li"><p><strong>System Requirements</strong></p><p>The first task Installer performs after opening a package is to ensure that the installation host meets the package’s installation requirements. Unsatisfied nonfatal system requirements produce a warning in user-driven installs.</p></li><li class="li"><p><strong>Authentication</strong></p><p>When a package requires admin or <code>root</code> user authentication, Installer displays the Authentication dialog. Users must enter the user name and password of an administrative user on the system to perform the install.</p></li><li class="li"><p><strong>Welcome</strong></p><p>Installer always displays the Welcome page. To tailor the Welcome page, include a welcome file in the package.</p></li><li class="li"><p><strong>Read Me</strong></p><p>If the package includes a Read Me file, Installer displays it in the Read Me page. The user can save or print this file.</p></li><li class="li"><p><strong>License</strong></p><p>If the package includes a license agreement file, Installer displays it in the License page. The user must accept the license in order to continue the installation process.</p></li><li class="li"><p><strong>Volume Requirements</strong></p><p>Installer checks each available volume to determine whether it meets the package’s volume requirements. It uses the information gathered in this phase in the Volume Selection phase.</p></li><li class="li"><p><strong>Volume Selection</strong></p><p>Installer displays the Select Destination page if the package contains at least one package.</p></li><li class="li"><p><strong>Customization</strong></p><p>If the package allows both an easy install and a custom install, Installer displays the Installation Type page, which defaults to the easy install. The user can choose to perform the easy install or the custom install.</p><div class="notebox"><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_83" title="Note"></a><p><strong>Note:</strong>&nbsp;When installing a distribution package, Installer allows users to choose individual installation destinations for each relocatable choice. With a metapackage, the Custom Install pane doesn’t allow users to choose install destinations for individual choices. With metapackages, Installer allows only one customized installation destination for all relocatable packages.</p></div></li><li class="li"><p><strong>Install</strong></p><p>When the user clicks Install (and after admin or <code>root</code> user authentication, if needed), Installer shows the Install page and performs the install.</p></li><li class="li"><p><strong>Conclusion</strong></p><p>Installer shows the Conclusion page when the installation process ends. In distribution packages, you can include a conclusion file that Installer shows instead of the default conclusion message.</p></li></ul><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_28" title="Postinstallation Process Action"></a><h2>Postinstallation Process Action</h2><p>After an installation process is complete, the Installer application can recommend or mandate that the user log out of the system or restart or shut down the computer, depending on the most drastic postinstallation process action specified in the installation package. When specifying a package’s postinstallation process action, you must take into account the nature of your product and the way it interacts with Mac OS X and other executables in the system.</p><a name="//apple_ref/doc/uid/10000145i-CH6-DontLinkElementID_29" title="Limitations of Managed Installs"></a><h2>Limitations of Managed Installs</h2><p>There are some issues and limitations of managed installs:</p><ul class="ul"><li class="li"><p>The Installer application does not support uninstalling products.</p></li><li class="li"><p>Installer runs only on Mac OS X.</p></li><li class="li"><p>Without proper care when specifying the ownership and access permissions of component files, it is possible to render a system unusable. Make sure you test all installer packages before shipping them to customers.</p></li><li class="li"><p>Relocation does not work in installation hosts running Mac OS X v10.3.3 or earlier.</p></li></ul>

        <br /><br /> 
        
        <div class="mini_nav_text" align="left">
        <span class="navButtons">
        <a href="../Manual_Installs/Manual_Installs.html">&lt; Previous Page</a><span style="margin-left: 8px"><a href="../Component_Packages/Component_Packages.html">Next Page &gt;</a></span>
        </span>
        <span id="showHideTOCLowerSpan">
        <a href="#" onclick="showHideTOC();"><img src="../../../../Resources/Images/show_toc_icon.gif" width="15" height="14" border="0" style="margin-bottom: -2px;" alt="" /></a> <a href="#" onclick="showHideTOC();">Hide TOC</a>
        </span>
        </div>

        <br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> <!--#if expr="0=1" -->&#x00a9; 2006 Apple Computer, Inc. All Rights Reserved. &#40;<!--#endif -->Last updated: 2006-07-24<!--#if expr="0=1" -->&#041;<!--#endif --></p></div>

        
        <div class="hideOnPrint hideInXcode">
        <!-- start of footer -->
        	<table width="100%" border="0" cellpadding="0" cellspacing="0">
		<tr>
			<td><div style="width: 100%; height: 1px; background-color: #919699; margin-top: 5px; margin-bottom: 15px"></div></td>
		</tr>
		<tr>
			<td align="center"><br/>
				<table border="0" cellpadding="0" cellspacing="0" class="graybox">
					<tr>
						<th>Did this document help you?</th>
					</tr>
					<tr>
						<td>
						    <div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=1&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Managed_Installs/Managed_Installs.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>Yes</a>:  Tell us what works for you.</div>
							<div style="margin-bottom: 8px"><a href="http://developer.apple.com/feedback/?v=2&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Managed_Installs/Managed_Installs.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>It&#8217;s good, but:</a> Report typos, inaccuracies, and so forth.</div>
							<div><a href="http://developer.apple.com/feedback/?v=3&url=/documentation/DeveloperTools/Conceptual/SoftwareDistribution/Managed_Installs/Managed_Installs.html%3Fid%3D10000145i-5.0&media=dvd" target=_new>It wasn&#8217;t helpful</a>: Tell us what would have helped.</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</table>

        <!--#include virtual="/includes/framesetfooter" -->
        <!-- end of footer -->
        </div>
    </div>
</body>
</html>